<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>14.7. KerberosIV</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Manual de FreeBSD" /><link rel="up" href="security.html" title="Capítulo 14. Seguridad" /><link rel="prev" href="tcpwrappers.html" title="14.6. TCP Wrappers" /><link rel="next" href="kerberos5.html" title="14.8. Kerberos5" /><link rel="copyright" href="legalnotice.html" title="Aviso Legal" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">14.7. <span class="application">KerberosIV</span></th></tr><tr><td width="20%" align="left"><a accesskey="p" href="tcpwrappers.html">Anterior</a> </td><th width="60%" align="center">Capítulo 14. Seguridad</th><td width="20%" align="right"> <a accesskey="n" href="kerberos5.html">Siguiente</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="kerberosIV"></a>14.7. <span class="application">KerberosIV</span></h2></div><div><span class="authorgroup">Escrito por <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Mark</span> <span class="surname">Murray</span></span>. </span></div><div><span class="authorgroup">Basado en un texto de <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Mark</span> <span class="surname">Dapoz</span></span>. </span></div></div></div><p>Kerberos es un sistema/protocolo de red agregado que permite
      a los usuarios identificarse a través de los servicios de un
      servidor seguro.  Los servicios como login remoto, copia remota, copias
      de ficheros de un sistema a otro y otras tantas tareas arriesgadas
      pasan a ser considerablemente seguras y más controlables.</p><p>Las siguientes instrucciones pueden usarse como una guía
      para configurar Kerberos tal y como se distribuye con FreeBSD.  De todas
      maneras, debe consultar diversas páginas de manual para
      conocer todos los detalles.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp75530704"></a>14.7.1. Instalación de <span class="application">KerberosIV</span></h3></div></div></div><a id="idp75531600" class="indexterm"></a><a id="idp75532112" class="indexterm"></a><p>Kerberos es un componente opcional de FreeBSD.  La manera
        más fácil de instalar este software es
        seleccionando la distribución <code class="literal">krb4</code> o
        <code class="literal">krb5</code> en <span class="application">sysinstall</span>
        durante la instalación inicial de FreeBSD.  Desde ahí
        instalará la implementación de Kerberos
        <span class="quote">&#8220;<span class="quote">eBones</span>&#8221;</span> (KerberosIV) o
        <span class="quote">&#8220;<span class="quote">Heimdal</span>&#8221;</span> (Kerberos5).
        Estas implementaciones se incluyen porque a que han sido
        desarrolladas fuera de EEUU y Canadá, lo que las
	convertía en accesibles para administradores de sistemas
	del resto del mundo durante la época restrictiva de control
        control de exportaciones de código
        criptográfico desde EEUU.</p><p>También puede instalar la implementación de
        Kerberos del MIT desde la colección de ports
        (<a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/security/krb5/pkg-descr">security/krb5</a>).</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp75536592"></a>14.7.2. Creación de la base de datos inicial</h3></div></div></div><p>Esto solo debe hacerse en el servidor Kerberos.  Lo primero
        es asegurarse de que no tiene bases de datos de Kerberos
        anteriores.  Entre al directorio <code class="filename">/etc/kerberosIV</code>
        y asegúrese de que solo estén los siguientes
	ficheros:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cd /etc/kerberosIV</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>ls</code></strong>
README		krb.conf        krb.realms</pre><p>Si existe cualquier otro fichero (como
        <code class="filename">principal.*</code>
        o <code class="filename">master_key</code>) utilice
        <code class="command">kdb_destroy</code> para destruir la base
        de datos antigua de Kerberos.  Si Kerberos no está
        funcionando simplemente borre los ficheros sobrantes.</p><p>Edite <code class="filename">krb.conf</code>
        y <code class="filename">krb.realms</code> para definir su dominio
        Kerberos.  En nuestro ejemplo el dominio será
	<code class="literal">EJEMPLO.COM</code> y el servidor es
        <code class="systemitem">grunt.ejemplo.com</code>.
        Editamos o creamos <code class="filename">krb.conf</code>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cat krb.conf</code></strong>
EJEMPLO.COM
EJEMPLO.COM grunt.ejemplo.com admin server
CS.BERKELEY.EDU okeeffe.berkeley.edu
ATHENA.MIT.EDU kerberos.mit.edu
ATHENA.MIT.EDU kerberos-1.mit.edu
ATHENA.MIT.EDU kerberos-2.mit.edu
ATHENA.MIT.EDU kerberos-3.mit.edu
LCS.MIT.EDU kerberos.lcs.mit.edu
TELECOM.MIT.EDU bitsy.mit.edu
ARC.NASA.GOV trident.arc.nasa.gov</pre><p>Los demás dominios no deben estar forzosamente en la
        configuración.  Los hemos incluido como ejemplo de
	cómo puede hacerse que una máquina trabaje con
	múltiples dominios.  Si quiere mantener todo simple puede
	abstenerse de incluirlos.</p><p>La primera línea es el dominio en el que el
        sistema funcionará.  Las demás líneas
	contienen entradas dominio/equipo.  El primer componente de cada
        línea es un dominio y el segundo es un equipo de ese
        dominio, que actúa como
        <span class="quote">&#8220;<span class="quote">centro de distribución de llaves</span>&#8221;</span>.
        Las palabras <code class="literal">admin server</code> que siguen al
        nombre de equipo significan que ese equipo también
        ofrece un servidor de base da datos administrativo.
        Si quiere consultar una explicación más completa de
	estos términos consulte las páginas de manual de
        de Kerberos.</p><p>Ahora añadiremos
        <code class="systemitem">grunt.ejemplo.com</code> al dominio
        <code class="literal">EJEMPLO.COM</code> y también una entrada
        para poner todos los equipos en el dominio
        <code class="systemitem">.ejemplo.com</code> Kerberos
        <code class="literal">EJEMPLO.COM</code>.  Puede actualizar su
        <code class="filename">krb.realms</code> del siguiente modo:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cat krb.realms</code></strong>
grunt.ejemplo.com EJEMPLO.COM
.ejemplo.com EJEMPLO.COM
.berkeley.edu CS.BERKELEY.EDU
.MIT.EDU ATHENA.MIT.EDU
.mit.edu ATHENA.MIT.EDU</pre><p>Igual que en caso previo, no tiene por qué incluir
        los demás dominios.  Se han incluido para mostrar
	cómo puede usar una máquina en múltiples
	dominios.  Puede eliminarlos y simplificar la
	configuración.</p><p>La primera línea pone al sistema
        <span class="emphasis"><em>específico</em></span>
        en el dominio nombrado.  El resto de las líneas muestran
        cómo asignar por defecto sistemas de un subdominio
        a un dominio Kerberos.</p><p>Ya podemos crear la base de datos.  Solo se ejecuta en el
        servidor Kerberos (o centro de distribución de
        llaves).  Ejecute <code class="command">kdb_init</code>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>kdb_init</code></strong>
<code class="prompt">Realm name [default  ATHENA.MIT.EDU ]:</code> <strong class="userinput"><code>EJEMPLO.COM</code></strong>
You will be prompted for the database Master Password.
It is important that you NOT FORGET this password.

<code class="prompt">Enter Kerberos master key:</code> </pre><p>Ahora tendremos que guardar la llave para que los servidores en
         la máquina local puedan recogerla.  Utilice
         <code class="command">kstash</code>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>kstash</code></strong>

<code class="prompt">Enter Kerberos master key:</code>

Current Kerberos master key version is 1.

Master key entered. BEWARE!</pre><p>Esto guarda la contraseña cifrada
        maestra en <code class="filename">/etc/kerberosIV/master_key</code>.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp75602384"></a>14.7.3. Puesta en marcha del sistema</h3></div></div></div><a id="idp75603024" class="indexterm"></a><p>Tendrá que añadir a la base de datos dos
        entradas en concreto para <span class="emphasis"><em>cada</em></span> sistema
	que vaya a usar Kerberos: <code class="literal">kpasswd</code> y
        <code class="literal">rcmd</code>.  Se hacen para cada sistema individualmente
        cada sistema, y el campo <span class="quote">&#8220;<span class="quote">instance</span>&#8221;</span> es el nombre
	individual del sistema.</p><p>Estos dæmons <span class="application">kpasswd</span> y
        <span class="application">rcmd</span> permiten a otros sistemas
        cambiar contraseñas de Kerberos y ejecutar órdenes
        como <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=rcp&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">rcp</span>(1)</span></a>, <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=rlogin&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">rlogin</span>(1)</span></a> y <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=rsh&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">rsh</span>(1)</span></a>.</p><p>Ahora vamos a añadir estas entradas:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>kdb_edit</code></strong>
Opening database...

<code class="prompt">Enter Kerberos master key:</code>

Current Kerberos master key version is 1.

Master key entered.  BEWARE!
Previous or default values are in [brackets] ,
enter return to leave the same, or new value.

<code class="prompt">Principal name:</code> <strong class="userinput"><code>passwd</code></strong>
<code class="prompt">Instance:</code> <strong class="userinput"><code>grunt</code></strong>

&lt;Not found&gt;, <code class="prompt">Create [y] ?</code> <strong class="userinput"><code>y</code></strong>

Principal: passwd, Instance: grunt, kdc_key_ver: 1
<code class="prompt">New Password:</code>                    &lt;---- tecleo aleatorio
Verifying password

<code class="prompt">New Password:</code> &lt;---- tecleo aleatorio

<code class="prompt">Random password [y] ?</code> <strong class="userinput"><code>y</code></strong>

Principal's new key version = 1
<code class="prompt">Expiration date (enter yyyy-mm-dd) [ 2000-01-01 ] ?</code>
<code class="prompt">Max ticket lifetime (*5 minutes) [ 255 ] ?</code>
<code class="prompt">Attributes [ 0 ] ?</code>
Edit O.K.
<code class="prompt">Principal name:</code> <strong class="userinput"><code>rcmd</code></strong>
<code class="prompt">Instance:</code> <strong class="userinput"><code>grunt</code></strong>

&lt;Not found&gt;, <code class="prompt">Create [y] ?</code>

Principal: rcmd, Instance: grunt, kdc_key_ver: 1
<code class="prompt">New Password:</code>		&lt;---- tecleo aleatorio
Verifying password

<code class="prompt">New Password:</code>           &lt;---- tecleo aleatorio

<code class="prompt">Random password [y] ?</code>

Principal's new key version = 1
<code class="prompt">Expiration date (enter yyyy-mm-dd) [ 2000-01-01 ] ?</code>
<code class="prompt">Max ticket lifetime (*5 minutes) [ 255 ] ?</code>
<code class="prompt">Attributes [ 0 ] ?</code>
Edit O.K.
<code class="prompt">Principal name:</code>         &lt;---- si introduce datos nulos saldrá del programa</pre></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp75625680"></a>14.7.4. Creación del fichero del servidor</h3></div></div></div><p>Ahora tendremos que extraer todas las instancias que definen
        los servicios en cada máquina; para ello usaremos
        <code class="command">ext_srvtab</code>.  Esto creará un
        fichero que debe ser copiado o movido <span class="emphasis"><em>por medios
        seguros</em></span> al directorio
	<code class="filename">/etc/kerberosIV</code> de cada
	cliente Kerberos.  Este fichero debe existir en todos los
	servidores y clientes dada su importancia clave para el
	funcionamiento de Kerberos.</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ext_srvtab grunt</code></strong>
<code class="prompt">Enter Kerberos master key:</code>

Current Kerberos master key version is 1.

Master key entered. BEWARE!
Generating 'grunt-new-srvtab'....</pre><p>Esta orden solo genera un fichero temporal al que tendrá
        que cambiar el nombre a <code class="filename">srvtab</code> para que todos
        los servidores puedan recogerlo.  Utilice
        <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mv&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">mv</span>(1)</span></a> para moverlo al lugar correcto en el sistema
        original:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mv grunt-new-srvtab srvtab</code></strong></pre><p>Si el fichero es para un sistema cliente y la red no puede
        considerarse segura copie el
        <code class="filename">cliente-new-srvtab</code>
        en un medio extraíble y transpórtelo por medios
	físicos seguros.  Asegúrese de cambiar su nombre a
        <code class="filename">srvtab</code> en el directorio
        <code class="filename">/etc/kerberosIV</code> del cliente, y
        asegúrese también de que tiene modo 600:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mv grumble-new-srvtab srvtab</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>chmod 600 srvtab</code></strong></pre></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp75639248"></a>14.7.5. Añadir entradas a la base de datos</h3></div></div></div><p>Ahora tenemos que añadir entradas de usuarios a la
        base de datos.  Primero vamos a crear una entrada para el usuario
        <code class="systemitem">jane</code>.  Para ello usaremos
        <code class="command">kdb_edit</code>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>kdb_edit</code></strong>
Opening database...

<code class="prompt">Enter Kerberos master key:</code>

Current Kerberos master key version is 1.

Master key entered.  BEWARE!
Previous or default values are in [brackets] ,
enter return to leave the same, or new value.

<code class="prompt">Principal name:</code> <strong class="userinput"><code>jane</code></strong>
<code class="prompt">Instance:</code>

&lt;Not found&gt;, <code class="prompt">Create [y] ?</code> <strong class="userinput"><code>y</code></strong>

Principal: jane, Instance: , kdc_key_ver: 1
<code class="prompt">New Password:</code>                &lt;---- introduzca una constraseña segura
Verifying password

<code class="prompt">New Password:</code>                &lt;---- introduzca de nuevo la contraseña
Principal's new key version = 1
<code class="prompt">Expiration date (enter yyyy-mm-dd) [ 2000-01-01 ] ?</code>
<code class="prompt">Max ticket lifetime (*5 minutes) [ 255 ] ?</code>
<code class="prompt">Attributes [ 0 ] ?</code>
Edit O.K.
<code class="prompt">Principal name:</code>		   &lt;---- si introduce datos nulos saldrá del programa</pre></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp75651152"></a>14.7.6. Prueba del sistema</h3></div></div></div><p>Primero tenemos que iniciar los dæmons de Kerberos.
        Tenga en cuenta que si su <code class="filename">/etc/rc.conf</code>
	está configurado correctamente el inicio tendrá
	ligar cuando reinicie el sistema.  Esta prueba solo es necesaria
	en el servidor Kerberos; los clientes Kerberos tomarán
	lo que necesiten automáticamente desde el directorio
        <code class="filename">/etc/kerberosIV</code>.</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>kerberos &amp;</code></strong>
Kerberos server starting
Sleep forever on error
Log file is /var/log/kerberos.log
Current Kerberos master key version is 1.

Master key entered. BEWARE!

Current Kerberos master key version is 1
Local realm: EJEMPLO.COM
<code class="prompt">#</code> <strong class="userinput"><code>kadmind -n &amp;</code></strong>
KADM Server KADM0.0A initializing
Please do not use 'kill -9' to kill this job, use a
regular kill instead

Current Kerberos master key version is 1.

Master key entered.  BEWARE!</pre><p>Ahora podemos probar a usar <code class="command">kinit</code>
        para obtener un ticket para el ID <code class="systemitem">jane</code>
        que creamos antes:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>kinit jane</code></strong>
MIT Project Athena (grunt.ejemplo.com)
Kerberos Initialization for "jane"
<code class="prompt">Password:</code> </pre><p>Pruebe a listar los tokens con <code class="command">klist</code> para ver
        si realmente están:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>klist</code></strong>
Ticket file:    /tmp/tkt245
Principal:      jane@EJEMPLO.COM

  Issued           Expires          Principal
Apr 30 11:23:22  Apr 30 19:23:22  krbtgt.EJEMPLO.COM@EJEMPLO.COM</pre><p>Ahora trate de cambiar la contraseña usando
        <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=passwd&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">passwd</span>(1)</span></a> para comprobar si el dæmon
	<span class="application">kpasswd</span> está autorizado
        a acceder a la base de datos Kerberos:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>passwd</code></strong>
realm EJEMPLO.COM
<code class="prompt">Old password for jane:</code>
<code class="prompt">New Password for jane:</code>
Verifying password
<code class="prompt">New Password for jane:</code>
Password changed.</pre></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp75663184"></a>14.7.7. Añadir privilegios de <code class="command">su</code></h3></div></div></div><p>Kerberos nos permite dar a <span class="emphasis"><em>cada</em></span>
        usuario que necesite privilegios de <code class="systemitem">root</code>
        su <span class="emphasis"><em>propia</em></span> contraseña para <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=su&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">su</span>(1)</span></a>.
        Podemos agregar un ID que esté autorizado a ejecutar
        <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=su&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">su</span>(1)</span></a> <code class="systemitem">root</code>.  Esto se controla
        con una instancia de <code class="systemitem">root</code>
        asociada con un usuario.  Vamos a crear una entrada
	<code class="literal">jane.root</code> en la base de datos, para lo que
	recurrimos a <code class="command">kdb_edit</code>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>kdb_edit</code></strong>
Opening database...

<code class="prompt">Enter Kerberos master key:</code>

Current Kerberos master key version is 1.

Master key entered.  BEWARE!
Previous or default values are in [brackets] ,
enter return to leave the same, or new value.

<code class="prompt">Principal name:</code> <strong class="userinput"><code>jane</code></strong>
<code class="prompt">Instance:</code> <strong class="userinput"><code>root</code></strong>

&lt;Not found&gt;, Create [y] ? y

Principal: jane, Instance: root, kdc_key_ver: 1
<code class="prompt">New Password:</code>                    &lt;---- introduzca una contraseña SEGURA
Verifying password

<code class="prompt">New Password:</code>    	 	 &lt;---- introduzca otra vez la constraseña

Principal's new key version = 1
<code class="prompt">Expiration date (enter yyyy-mm-dd) [ 2000-01-01 ] ?</code>
<code class="prompt">Max ticket lifetime (*5 minutes) [ 255 ] ?</code> <strong class="userinput"><code>12</code></strong> &lt;--- Keep this short!
<code class="prompt">Attributes [ 0 ] ?</code>
Edit O.K.
<code class="prompt">Principal name:</code>		         &lt;---- si introduce datos nulos saldrá del programa</pre><p>Ahora trate de obtener los tokens para comprobar que
        todo funciona:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>kinit jane.root</code></strong>
MIT Project Athena (grunt.ejemplo.com)
Kerberos Initialization for "jane.root"
<code class="prompt">Password:</code></pre><p>Hemos de agregar al usuario al
        <code class="filename">.klogin</code> de <code class="systemitem">root</code>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cat /root/.klogin</code></strong>
jane.root@EJEMPLO.COM</pre><p>Ahora trate de hacer <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=su&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">su</span>(1)</span></a>:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>su</code></strong>
<code class="prompt">Password:</code></pre><p>y eche un vistazo a qué tokens tenemos:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>klist</code></strong>
Ticket file:	/tmp/tkt_root_245
Principal:      jane.root@EJEMPLO.COM

  Issued           Expires          Principal
May  2 20:43:12  May  3 04:43:12  krbtgt.EJEMPLO.COM@EJEMPLO.COM</pre></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp75695568"></a>14.7.8. Uso de otras órdenes</h3></div></div></div><p>En un ejemplo anterior creamos un usuario llamado
        <code class="literal">jane</code> con una instancia <code class="literal">root</code>.
	Nos basamos en un usuario con el mismo nombre del
	<span class="quote">&#8220;<span class="quote">principal</span>&#8221;</span> (<code class="literal">jane</code>),
	el procedimiento por defecto en Kerberos:
        <code class="literal">&lt;principal&gt;.&lt;instancia&gt;</code> con la
        estructura
	<code class="literal">&lt;nombre de usuario&gt;.</code><code class="systemitem">root</code>
        permitirá que <code class="literal">&lt;nombre de usuario&gt;</code>
        haga <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=su&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">su</span>(1)</span></a> a <code class="systemitem">root</code> si existen
	las entradas necesarias en el
        <code class="filename">.klogin</code> que hay en el directorio home de
        <code class="systemitem">root</code>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cat /root/.klogin</code></strong>
jane.root@EJEMPLO.COM</pre><p>De la misma manera, si un usuario tiene en su directorio home
        lo siguiente:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>cat ~/.klogin</code></strong>
jane@EJEMPLO.COM
jack@EJEMPLO.COM</pre><p>significa que cualquier usuario del dominio
        <code class="literal">EJEMPLO.COM</code> que se identifique como
        <code class="systemitem">jane</code> o como <code class="systemitem">jack</code>
        (vía <code class="command">kinit</code>, ver más arriba)
        podrá acceder a la cuenta de <code class="systemitem">jane</code> o
        a los ficheros de este sistema (<code class="systemitem">grunt</code>) vía
        <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=rlogin&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">rlogin</span>(1)</span></a>, <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=rsh&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">rsh</span>(1)</span></a> o
        <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=rcp&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">rcp</span>(1)</span></a>.</p><p>Veamos por ejemplo cómo <code class="systemitem">jane</code> se
        se identifica en otro sistema mediante Kerberos:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>kinit</code></strong>
MIT Project Athena (grunt.ejemplo.com)
<code class="prompt">Password:</code>
<code class="prompt">%</code> <strong class="userinput"><code>rlogin grunt</code></strong>
Last login: Mon May  1 21:14:47 from grumble
Copyright (c) 1980, 1983, 1986, 1988, 1990, 1991, 1993, 1994
        The Regents of the University of California.   All rights reserved.

FreeBSD BUILT-19950429 (GR386) #0: Sat Apr 29 17:50:09 SAT 1995</pre><p>Aquí <code class="systemitem">jack</code> se identifica con la
        cuenta de <code class="systemitem">jane</code> en la misma
        máquina (<code class="systemitem">jane</code> tiene configurado
        su fichero <code class="filename">.klogin</code> como se ha mostrado
        antes, y la persona encargada de la administración de
        Kerberos ha configurado un usuario principal
        <span class="emphasis"><em>jack</em></span> con una instancia nula):</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>kinit</code></strong>
<code class="prompt">%</code> <strong class="userinput"><code>rlogin grunt -l jane</code></strong>
MIT Project Athena (grunt.ejemplo.com)
<code class="prompt">Password:</code>
Last login: Mon May  1 21:16:55 from grumble
Copyright (c) 1980, 1983, 1986, 1988, 1990, 1991, 1993, 1994
        The Regents of the University of California.   All rights reserved.
FreeBSD BUILT-19950429 (GR386) #0: Sat Apr 29 17:50:09 SAT 1995</pre></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="tcpwrappers.html">Anterior</a> </td><td width="20%" align="center"><a accesskey="u" href="security.html">Subir</a></td><td width="40%" align="right"> <a accesskey="n" href="kerberos5.html">Siguiente</a></td></tr><tr><td width="40%" align="left" valign="top">14.6. TCP Wrappers </td><td width="20%" align="center"><a accesskey="h" href="index.html">Inicio</a></td><td width="40%" align="right" valign="top"> 14.8. <span class="application">Kerberos5</span></td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Puede descargar éste y muchos otros documentos desde
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Si tiene dudas sobre FreeBSD consulte la
    <a href="http://www.FreeBSD.org/docs.html">documentación</a> antes de escribir a la lista
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Envíe sus preguntas sobre la documentación a
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>