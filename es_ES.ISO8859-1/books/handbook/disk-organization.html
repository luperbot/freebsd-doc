<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>3.5. Organización de disco</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Manual de FreeBSD" /><link rel="up" href="basics.html" title="Capítulo 3. Conceptos básicos de Unix" /><link rel="prev" href="dirstructure.html" title="3.4. Estructura de directorios" /><link rel="next" href="mount-unmount.html" title="3.6. Montaje y desmontaje de sistemas de ficheros" /><link rel="copyright" href="legalnotice.html" title="Aviso Legal" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">3.5. Organización de disco</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="dirstructure.html">Anterior</a> </td><th width="60%" align="center">Capítulo 3. Conceptos básicos de Unix</th><td width="20%" align="right"> <a accesskey="n" href="mount-unmount.html">Siguiente</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="disk-organization"></a>3.5. Organización de disco</h2></div></div></div><p>La unidad más pequeña que FreeBSD utiliza para
        ubicar ficheros es el nombre de fichero.  Los nombres de fichero
        son sensibles a las mayúsculas, lo que significa que
        <code class="filename">readme.txt</code> y <code class="filename">README.TXT</code>
        son dos ficheros distintos. FreeBSD no utiliza la extensión
        (<code class="filename">.txt</code>) de un fichero para determinar si
        es un programa, o un documento o alguna otra forma de datos.</p><p>Los ficheros se almacenan en directorios. Un directorio puede
        estar vacío, o puede contener cientos de ficheros.  Un
        directorio también puede contener otros directorios,
        permitiéndole contruir una jerarquía de directorios
        dentro de otro.  Esto hace mucho más fácil la
        organización de sus datos.</p><p>Para referirse a ficheros o directorios se usa el nombre
        de archivo o de directorio, seguido por una barra,
        <code class="literal">/</code>, seguido por cualquier otro nombre de
        directorio que sea necesario. Si tiene un directorio
        <code class="filename">tal</code>, el cual contiene el directorio
        <code class="filename">cual</code>, el cual contiene el fichero
        <code class="filename">readme.txt</code>, entonces el nombre completo
        o <em class="firstterm">ruta</em> al fichero es
        <code class="filename">tal/cual/readme.txt</code>.</p><p>Los directorios y ficheros se almacenan en un sistema de ficheros.
        Cada sistema de ficheros contiene un sólo directorio en el nivel
        más elevado, que es el
        <em class="firstterm">directorio raíz</em>
        de ese sistema de ficheros.  Este directorio raíz puede
        contener otros directorios.</p><p>Lo visto hasta ahora probablemente sea similar a cualquier otro
        sistema operativo que pueda haber utilizado, pero hay unas cuantas
        diferencias; por ejemplo, <span class="trademark">MS-DOS</span>® utiliza <code class="literal">\</code> para
        separar nombres de fichero y directorio, mientras que <span class="trademark">Mac OS</span>® usa
        <code class="literal">:</code>.</p><p>FreeBSD no utiliza letras de unidades, u otro nombre de unidad
        en la ruta. Por tanto, no podrá escribir
        <code class="filename">c:/tal/cual/readme.txt</code>
        en FreeBSD.</p><p>En FreeBSD, en cambio, un sistema de ficheros recibe el nombre de
        <em class="firstterm">sistema de ficheros raíz</em>.  El
        directorio raíz del sistema de ficheros raíz se
        representa como <code class="literal">/</code>. Cualquier otro sistema
        de ficheros, por tanto, se <em class="firstterm">monta</em> bajo el
        sistema de ficheros raíz.  No importa cuántos discos
        tenga en su sistema FreeBSD, cada directorio parecerá ser parte del
        mismo disco.</p><p>Suponga que tiene tres sistemas de ficheros, denominados
        <code class="literal">A</code>,
        <code class="literal">B</code> y <code class="literal">C</code>. Cada sistema de
        ficheros tiene un directorio raíz, el cual contiene
        otros dos directorios, llamados
        <code class="literal">A1</code>, <code class="literal">A2</code> (y de la misma manera
        <code class="literal">B1</code>, <code class="literal">B2</code> y
	<code class="literal">C1</code>, <code class="literal">C2</code>).</p><p>Usaremos <code class="literal">A</code> como sistema de ficheros
        raíz.  Si usara <code class="command">ls</code> para ver el contenido de
        este directorio vería dos subdirectorios, <code class="literal">A1</code>
        y <code class="literal">A2</code>.  El árbol de directorios sería
        como este:</p><div class="mediaobject"><img src="install/example-dir1.png" /></div><p>Un sistema de ficheros debe montarse en un directorio
        de otro sistema de ficheros.  Ahora suponga que monta el
        sistema de ficheros <code class="literal">B</code> en el directorio
        <code class="literal">A1</code>.  El directorio raíz de
        <code class="literal">B</code> reemplaza a <code class="literal">A1</code>,
        y los directorios en <code class="literal">B</code> aparecen de
        esta manera:</p><div class="mediaobject"><img src="install/example-dir2.png" /></div><p>Cualquier fichero que esté en el directorio
        <code class="literal">B1</code> o <code class="literal">B2</code> puede
        encontrarse con la ruta <code class="filename">/A1/B1</code> o
        <code class="filename">/A1/B2</code> según sea necesario.
        Cualquier fichero que esté en <code class="filename">/A1</code>
        ha desaparecido temporalmente.  Aparecerán de nuevo
        si <code class="literal">B</code> se <em class="firstterm">desmonta</em>
        de A.</p><p>Si <code class="literal">B</code> se monta en <code class="literal">A2</code>
        entonces el diagrama se vería así:</p><div class="mediaobject"><img src="install/example-dir3.png" /></div><p>y las rutas serían <code class="filename">/A2/B1</code> y
        <code class="filename">/A2/B2</code> respectivamente.</p><p>Pueden montarse sistemas de ficheros uno sobre otro.  Continuando
        con el ejemplo anterior, el sistema de ficheros <code class="literal">C</code>
        podría montarse en el directorio <code class="literal">B1</code>
        en el sistema de ficheros <code class="literal">B</code>, lo que nos
        llevaría a esto:</p><div class="mediaobject"><img src="install/example-dir4.png" /></div><p>O <code class="literal">C</code> podría montarse directamente
        en el sistema de ficheros <code class="literal">A</code>, bajo el directorio
        <code class="literal">A1</code>:</p><div class="mediaobject"><img src="install/example-dir5.png" /></div><p>Si está familiarizado con <span class="trademark">MS-DOS</span>® esto es similar,
        aunque no idéntico, a utilizar <code class="command">join</code>.</p><p>Esto no es algo a lo deba usted dedicar tiempo de forma habitual.
        Normalmente creará sistemas de ficheros al instalar FreeBSD
        y decidirá dónde montarlos; lo más habitual es que
        no los cambie de sitio a menos que agregue un disco nuevo.</p><p>Es perfectamente posible tener un sistema de ficheros raíz
        extenso y no necesitar crear otros.  Este esquema tiene unos cuantos
        inconvenientes y una ventaja:
        </p><div class="itemizedlist"><div class="itemizedlist-title">Ventajas de disponer de múltiples sistemas de
         ficheros</div><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Si dispone de varios sistemas de ficheros puede optar por
            usar distintas <em class="firstterm">opciones de montaje</em>.
            Por ejemplo, gracias a una planificación cuidadosa, el
            sistema de ficheros raíz puede montarse como
            sólo-lectura, haciendo imposible borrar sin querer o
            editar un fichero crítico.  Al mantener separados
            sistemas de ficheros en los que los usuarios pueden escribir,
            como <code class="filename">/home</code>, de otros sistemas de ficheros
            también le permite montar con la opción
            <em class="firstterm">nosuid</em>; dicha opción previene
            que los bits <em class="firstterm">suid</em>/<em class="firstterm">guid</em>
            en los ejecutables almacenados en el sistema de ficheros
            tengan efecto, mejorando en cierto modo la seguridad.</p></li><li class="listitem"><p>FreeBSD optimiza automáticamente el esquema de ficheros
            en un sistema de ficheros, dependiendo de cómo el sistema
            de ficheros esté siendo utilizado.
            Uno que contenga muchos ficheros pequeños tendrá
            una optimización distinta de uno que contenga menos ficheros
	    y más grandes.  Si sólo tiene un gran sistema de
            ficheros no hay manera de aplicar esta optimización.</p></li><li class="listitem"><p>Los sistemas de ficheros de FreeBSD son muy robustos en caso
            de sufrir un caída eléctrica.  De todas maneras, un fallo
            eléctrico en un momento crítico puede
            dañar la estructura del sistema de ficheros.  Si reparte
            sus datos en múltiples sistemas de ficheros hará
            que sea más probable que el sistema arranque después
            de uno de esos fallos, haciéndole además
            más fácil la tarea de restaurarlo desde
            un respaldo si fuera necesario.</p></li></ul></div><div class="itemizedlist"><div class="itemizedlist-title">Ventajas de un sólo sistema de ficheros</div><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Los sistemas de ficheros son de un tamaño fijo. Si crea
            un sistema de ficheros cuando instala FreeBSD y le da un tamaño
            específico, tal vez descubra más tarde que necesita
            hacer la partición más grande.  Esto no es
            fácil de realizar sin hacer una copia de seguridad, crear
            de nuevo el sistema de ficheros con el nuevo
            tamaño y entonces restaurar los datos respaldados.</p><div xmlns="" class="important"><h3 class="admontitle">Importante: </h3><p xmlns="http://www.w3.org/1999/xhtml">FreeBSD dispone de <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=growfs&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">growfs</span>(8)</span></a>, que permite incrementar el
              tamanño de un sistema de ficheros «al vuelo»,
              eliminando esta limitación.</p></div></li></ul></div><p>Los sistemas de ficheros están alojados en particiones.
        Este es un detalle muy importante, puesto que el
        término <span class="emphasis"><em>partición</em></span> no significa
        aquí lo mismo que en otros entornos (por ejemplo, en <span class="trademark">MS-DOS</span>®)
        debido a la herencia <span class="trademark">UNIX</span>® de FreeBSD. Cada partición se
        identifica con una letra desde <code class="literal">a</code> hasta
        <code class="literal">h</code>.  Cada partición puede contener solamente
        un sistema de ficheros, lo que significa que los sistemas de
        ficheros suelen definirse mediante su punto de montaje en la
        jerarquía del sistema de ficheros o por la letra de la
        partición en la que están alojados.</p><p>FreeBSD también utiliza espacio de disco
        como <em class="firstterm">espacio de intercambio (swap)</em>.
        El espacio de intercambio le brinda a FreeBSD
        <em class="firstterm">memoria virtual</em>.  Esto permite al
        su sistema comportarse como si tuviera más memoria de
        la que realmente tiene.  Cuando a FreeBSD se le agota la memoria
        mueve algunos de los datos que no está utilizando en
        ese momento al espacio de intercambio, y los vuelve a poner
        donde estaban (desplazando alguna otra cosa) cuando
        los necesita.</p><p>Algunas particiones tienen ciertas convenciones heredadas.</p><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Partición</th><th>Representación</th></tr></thead><tbody valign="top"><tr><td valign="top"><code class="literal">a</code></td><td valign="top">Normalmente contiene el sistema de ficheros raíz</td></tr><tr><td valign="top"><code class="literal">b</code></td><td valign="top">Normalmente contiene el espacio de intercambio (swap)</td></tr><tr><td valign="top"><code class="literal">c</code></td><td valign="top">Suele tener el mismo tamaño de la
	        «slice» que la encierra.  Esto permite
                a las utilidades que necesitan trabajar en toda la
                «slice»  entera (por ejemplo durante una
                búsqueda de bloques dañados) trabajar en
                la partición <code class="literal">c</code>. Normalmente no
                debería usted crear un sistema de ficheros en esta
                partición.</td></tr><tr><td valign="top"><code class="literal">d</code></td><td valign="top">La partición <code class="literal">d</code> solía
                tuvo un significado especial asociado pero ya no lo
		tiene.</td></tr></tbody></table></div><p>Cada partición que contiene un sistema de ficheros
        se almacena en lo que FreeBSD llama una «slice».
        «slice» es en FreeBSD lo que en otros ámbitos se
	denomina partición; es un hecho que deriva de los orígenes
	de FreeBSD como ya sabemos basado en <span class="trademark">UNIX</span>®.</p><a id="idp69495120" class="indexterm"></a><a id="idp69495632" class="indexterm"></a><a id="idp69496144" class="indexterm"></a><p>Los números de «slice» muestran
        el nombre de dispositivo, al que precede una
        <code class="literal">s</code> y un número que puede ser un
	1 u otro número mayor.  Por lo tanto
        «da0<span class="emphasis"><em>s1</em></span>» es la
        primera slice en la primera unidad SCSI.  Sólo
        puede haber cuatro «slice» físicas en un
        disco, pero puede haber «slice» lógicas dentro
        «slice» físicas del tipo apropiado.  Estas
        «slice»extendidas se numeran a partir de 5,
        así que «ad0<span class="emphasis"><em>s5</em></span>»
        es la primera «slice» extendida en el primer
        disco IDE. Estos dispositivos se usan en sistemas de ficheros
        que se preve que ocupen una slice.</p><p>Tanto las «slice» y las unidades físicas
        «peligrosamente dedicadas», como otras unidades
        contienen <em class="firstterm">particiones</em>, que se designan
        mediante letras desde la <code class="literal">a</code>
        hasta <code class="literal">h</code>.  Esta letra se añade al nombre
        del dispositivo.  Se verá mucho mejor mediante ejemplos:
        «da0<span class="emphasis"><em>a</em></span>» es la partición
        a en la primera unidad da y es una de esas a las que llamamos
        «peligrosamente dedicada».
        «ad1s3<span class="emphasis"><em>e</em></span>» es la quinta
        partición en la tercera slice de la segunda
        unidad de disco IDE.</p><p>Para terminar, cada disco en el sistema tiene también
        su designación.
        El nombre de disco comienza por un código que indica
        el tipo de disco, luego un número, que indica qué disco
        es.  A diferencia de las «slice», la numeración de
        discos comienza desde 0.  Puede las numeraciones más comunes en
	el <a class="xref" href="disk-organization.html#basics-dev-codes" title="Tabla 3.1. Códigos de dispositivos de disco">Tabla 3.1, &#8220;Códigos de dispositivos de disco&#8221;</a>.</p><p>Cuando se hace referencia a una partición, FreeBSD
        necesita que también se nombre la «slice»
	y el disco que contiene la partició.  Esto se hace
        con el nombre de disco, <code class="literal">s</code>, el número
        «slice» y por último la letra de la
        partición.  Tiene varios casos en el
	<a class="xref" href="disk-organization.html#basics-disk-slice-part" title="Ejemplo 3.1. Ejemplo de nombres de disco, «slice» y partición">Ejemplo 3.1, &#8220;Ejemplo de nombres de disco, «slice» y partición&#8221;</a>.</p><p>En el <a class="xref" href="disk-organization.html#basics-concept-disk-model" title="Ejemplo 3.2. Modelo conceptual de un disco">Ejemplo 3.2, &#8220;Modelo conceptual de un disco&#8221;</a> muestra un modelo
        conceptual del esquema de un disco que debería ayudarle a
        aclarar las cosas.</p><p>Antes de instalar FreeBSD tendrá que configurar las
        «slice» de disco, después crear particiones
	dentro de las «slice» que vaya a usar en FreeBSD y luego
	crear un sistema de ficheros (o swap) en cada partición y
	luego decidir cuál va a ser el punto de montaje del sistema
	de ficheros.</p><div class="table"><a id="basics-dev-codes"></a><div class="table-title">Tabla 3.1. Códigos de dispositivos de disco</div><div class="table-contents"><table summary="Códigos de dispositivos de disco" width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Código</th><th>Significado</th></tr></thead><tbody><tr><td><code class="filename">ad</code></td><td>Disco ATAPI (IDE)</td></tr><tr><td><code class="filename">da</code></td><td>Disco de acceso directo SCSI</td></tr><tr><td><code class="filename">acd</code></td><td>CDROM ATAPI (IDE)</td></tr><tr><td><code class="filename">cd</code></td><td>CDROM SCSI</td></tr><tr><td><code class="filename">fd</code></td><td>Disquete (floppy)</td></tr></tbody></table></div></div><br class="table-break" /><div class="example"><a id="basics-disk-slice-part"></a><div class="example-title">Ejemplo 3.1. Ejemplo de nombres de disco, «slice» y partición</div><div class="example-contents"><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Nombre</th><th>Significado</th></tr></thead><tbody><tr><td><code class="literal">ad0s1a</code></td><td>La primera partición (<code class="literal">a</code>) en
                  la primera slice (<code class="literal">s1</code>) en el
                  primer disco IDE (<code class="literal">ad0</code>).</td></tr><tr><td><code class="literal">da1s2e</code></td><td>La quinta partición (<code class="literal">e</code>) en
                  la segunda slice (<code class="literal">s2</code>) en el
                  segundo disco SCSI (<code class="literal">da1</code>).</td></tr></tbody></table></div></div></div><br class="example-break" /><div class="example"><a id="basics-concept-disk-model"></a><div class="example-title">Ejemplo 3.2. Modelo conceptual de un disco</div><div class="example-contents"><p>Este diagrama muestra cómo ve FreeBSD el primer disco IDE
          en el sistema.  Se asume que el disco es de 4 GB,
          y contiene dos «slices» de 2 GB (particiones <span class="trademark">MS-DOS</span>®).
          La primera partición contiene un disco <span class="trademark">MS-DOS</span>®,
          <code class="filename">C:</code>,
          y la segunda partición contiene una instalación  de FreeBSD.
          Esta instalación de ejemplo tiene tres particiones, y una
          partición swap.</p><p>Cada una de las tres particiones tiene un sistema de ficheros.
          La partición <code class="literal">a</code> se utilizará
          para el sistema de ficheros raíz, <code class="literal">e</code>
          para la jerarquía del directorio <code class="filename">/var</code>,
          y <code class="literal">f</code> para la jerarquía del directorio
          <code class="filename">/usr</code>.</p><div class="mediaobject"><img src="install/disk-layout.png" /></div></div></div><br class="example-break" /></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="dirstructure.html">Anterior</a> </td><td width="20%" align="center"><a accesskey="u" href="basics.html">Subir</a></td><td width="40%" align="right"> <a accesskey="n" href="mount-unmount.html">Siguiente</a></td></tr><tr><td width="40%" align="left" valign="top">3.4. Estructura de directorios </td><td width="20%" align="center"><a accesskey="h" href="index.html">Inicio</a></td><td width="40%" align="right" valign="top"> 3.6. Montaje y desmontaje de sistemas de ficheros</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Puede descargar éste y muchos otros documentos desde
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Si tiene dudas sobre FreeBSD consulte la
    <a href="http://www.FreeBSD.org/docs.html">documentación</a> antes de escribir a la lista
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Envíe sus preguntas sobre la documentación a
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>