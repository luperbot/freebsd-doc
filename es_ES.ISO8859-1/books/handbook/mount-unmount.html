<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>3.6. Montaje y desmontaje de sistemas de ficheros</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Manual de FreeBSD" /><link rel="up" href="basics.html" title="Capítulo 3. Conceptos básicos de Unix" /><link rel="prev" href="disk-organization.html" title="3.5. Organización de disco" /><link rel="next" href="basics-processes.html" title="3.7. Procesos" /><link rel="copyright" href="legalnotice.html" title="Aviso Legal" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">3.6. Montaje y desmontaje de sistemas de ficheros</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="disk-organization.html">Anterior</a> </td><th width="60%" align="center">Capítulo 3. Conceptos básicos de Unix</th><td width="20%" align="right"> <a accesskey="n" href="basics-processes.html">Siguiente</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="mount-unmount"></a>3.6. Montaje y desmontaje de sistemas de ficheros</h2></div></div></div><p>El sistema de ficheros se visualiza mejor como un
      árbol enraizado, tal y como esá, en
      <code class="filename">/</code>.
      <code class="filename">/dev</code>, <code class="filename">/usr</code> y todos
      los demás directorios en el directorio raíz son
      raamas, las cuales pueden tener sus propias ramas, como
      <code class="filename">/usr/local</code> y así sucesivamente.</p><a id="idp69546832" class="indexterm"></a><p>Existen varias razones para albergar algunos de
      estos directorios en sistemas de ficheros separados.
      <code class="filename">/var</code> contiene los directorios
      <code class="filename">log/</code>, <code class="filename">spool/</code> y
      varios tipos de ficheros temporales y pueden llegar a desbordarse.
      Agotar el espacio del sistema de ficheros raíz
      no es nada bueno desde cualquier  punto de vista, así que
      separar <code class="filename">/var</code> de
      de <code class="filename">/</code> es algo que debería
      hacerse siempre que sea posible.</p><p>Otra razón para meter ciertos árboles
      de directorios en otros sistemas de ficheros es si van a estar
      albergados en discos físicos separados, o si son discos
      virtuales separados, como un montaje por
      <a class="link" href="network-nfs.html" title="29.6. NFS">NFS</a> en el caso de unidades
      de CDROM.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="disks-fstab"></a>3.6.1. El fichero <code class="filename">fstab</code></h3></div></div></div><a id="idp69551952" class="indexterm"></a><p>Durante el <a class="link" href="boot.html" title="Capítulo 12. El proceso de arranque en FreeBSD">proceso de arranque</a>
        los sistemas de ficheros listados en <code class="filename">/etc/fstab</code>
        se montan automáticamente (a menos que estén
        listados con la opción <code class="option">noauto</code>).</p><p><code class="filename">/etc/fstab</code> contiene una
        lista de líneas con el siguiente formato:</p><pre class="programlisting"><em class="replaceable"><code>dispositivo</code></em>       <em class="replaceable"><code>/punto-de-montaje</code></em> <em class="replaceable"><code>punto de montaje</code></em>     <em class="replaceable"><code>opciones</code></em>      <em class="replaceable"><code>dumpfreq</code></em>     <em class="replaceable"><code>passno</code></em></pre><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">dispositivo</code></span></dt><dd><p>Un nombre de dispositivo (<span class="emphasis"><em>debe existir</em></span>).</p></dd><dt><span class="term"><code class="literal">punto-de-montaje</code></span></dt><dd><p>Un directorio (que debe existir) en
              el que montar el sistema de ficheros.</p></dd><dt><span class="term"><code class="literal">tipo de sistema ficheros</code></span></dt><dd><p>El tipo de sistema de ficheros es un parámetro
                que interpretará <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mount&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mount</span>(8)</span></a>.  El sistema de
                ficheros por omisión de FreeBSD es
                <code class="literal">ufs</code>.</p></dd><dt><span class="term"><code class="literal">opciones</code></span></dt><dd><p>Ya sea <code class="option">rw</code> para sistemas
              de ficheros de lectura-escritura, o <code class="option">ro</code>
              para sistemas de ficheros de sólo lectura, seguido
              de cualquier otra opción que sea necesaria.
              Una opción muy habitual es <code class="option">noauto</code>,
              que se suele usar en sistemas de ficheros que no se deben
              montar durante la secuencia de arranque.  Tiene otras
              opciones en la página de manual de
              <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mount&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mount</span>(8)</span></a>.</p></dd><dt><span class="term"><code class="literal">dumpfreq</code></span></dt><dd><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dump&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">dump</span>(8)</span></a> la usa para determinar qué
             sistema de ficheros requieren volcado.  Si el campo no
             está declarado se asume un valor de cero.</p></dd><dt><span class="term"><code class="literal">passno</code></span></dt><dd><p>Determina el orden en el cual los sistemas de
             ficheros deben revisarse.  Los sistemas de ficheros
             que hayan de saltarse deben tener su <code class="literal">passno</code>
             a cero.  El sistema de ficheros raíz (que obviamente
             debe ser revisado antes que cualquier otro) debe tener
             su <code class="literal">passno</code> puesto a uno, y los demás
             sistemas de ficheros deben tener valores mayores que uno.
             Si más de un sistema de ficheros tiene el mismo
             <code class="literal">passno</code> <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=fsck&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">fsck</span>(8)</span></a> tratará
             de revisarlos en paralelo en caso de ser posible.
             </p></dd></dl></div><p>Consulte la página de manual de <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=fstab&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">fstab</span>(5)</span></a> para
        mayor información sobre el formato del fichero
        <code class="filename">/etc/fstab</code> y las opciones que contiene.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="disks-mount"></a>3.6.2. La orden <code class="command">mount</code></h3></div></div></div><a id="idp69580880" class="indexterm"></a><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mount&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mount</span>(8)</span></a> es al fin y al cabo quien monta los sistemas
        de ficheros.</p><p>En su forma más básica se usa lo siguiente:</p><div class="informalexample"><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mount dispositivo punto-de-montaje</code></strong></pre></div><p>Existe una gran cantidad de opciones (las encontrará
        todas en <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mount&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mount</span>(8)</span></a>) pero las más comunes son:</p><div class="variablelist"><div class="variablelist-title">Opciones de montaje</div><dl class="variablelist"><dt><span class="term"><code class="option">-a</code></span></dt><dd><p>Montar todos los sistemas de ficheros
              que aparezcan en <code class="filename">/etc/fstab</code>,
              excepto aquellos marcados como «noauto»,
              excluidos por el parámetro <code class="option">-t</code> o
              aquellos que ya estén montados.</p></dd><dt><span class="term"><code class="option">-d</code></span></dt><dd><p>Realizar todo excepto la llamada real de montaje del
              sistema.  Esta opción es muy útil en caso
	      de problemas si se combina con la  opción
              <code class="option">-v</code> para determinar qué es lo que
              <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mount&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mount</span>(8)</span></a> está haciendo realmente.</p></dd><dt><span class="term"><code class="option">-f</code></span></dt><dd><p>Forzar el montaje de un sistema de ficheros inestable
              (por ejemplo uno que da errores tras un reinicio súbito,
	      algo que es bastante <span class="emphasis"><em>peligroso</em></span>), o forzar
              la revocación de accesos de escritura cuando se cambia
              el estado de un sistema de ficheros de lectura-escritura
              a solo lectura.</p></dd><dt><span class="term"><code class="option">-r</code></span></dt><dd><p>Montar el sistema de ficheros como sólo lectura.
              Esto es idéntico a utilizar el argumento
              <code class="option">ro</code>
              (<code class="option">rdonly</code> para versiones anteriores a
              FreeBSD 5.2) en la opción <code class="option">-o</code>.</p></dd><dt><span class="term"><code class="option">-t</code>
	    <em class="replaceable"><code>tipo de sistema de ficheros</code></em></span></dt><dd><p>Montar un sistema de ficheros dado con el tipo de
              sistema de ficheros, o montar solamente sistemas
              de ficheros del tipo dado si se proporciona la
              opción <code class="option">-a</code>.</p><p>«ufs» es el sistema de ficheros
              por omisión.</p></dd><dt><span class="term"><code class="option">-u</code></span></dt><dd><p>Actualizar puntos de montaje en el sistema
              de ficheros.</p></dd><dt><span class="term"><code class="option">-v</code></span></dt><dd><p>Mostrar mayor información.</p></dd><dt><span class="term"><code class="option">-w</code></span></dt><dd><p>Montar el sistema de ficheros como lectura-escritura.</p></dd></dl></div><p>La opción <code class="option">-o</code> toma una lista las siguientes
        opciones separada por comas:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">nodev</span></dt><dd><p>No interpretar dispositivos especiales en el sistema
              ficheros.  Es una opción de seguridad que puede
              ser muy útil.</p></dd><dt><span class="term">noexec</span></dt><dd><p>No permitir la ejecución de binarios
                en este sistema de ficheros.  Esta también
                es una opción de seguridad útil.</p></dd><dt><span class="term">nosuid</span></dt><dd><p>No interpretar bits setuid o setgid en el
              sistema de ficheros.  Esta también es una
              opción de seguridad útil.</p></dd></dl></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="disks-umount"></a>3.6.3. La orden <code class="command">umount</code></h3></div></div></div><a id="idp69628240" class="indexterm"></a><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=umount&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">umount</span>(8)</span></a> toma como parámetro un
        punto de montaje, un nombre de dispositivo, o la opción
        <code class="option">-a</code> o <code class="option">-A</code>.</p><p>Todas las formas toman <code class="option">-f</code> para forzar
        el desmontaje y <code class="option">-v</code> para mostrar más
        información.  Tenga muy en cuenta que usar <code class="option">-f</code>
        no suele ser una forma recomendable de proceder.  Desmontar a la
        fuerza los sistemas de ficheros puede acarrear el congelar la
        máquina o dañar los datos en el sistema de
        ficheros.</p><p><code class="option">-a</code> y <code class="option">-A</code> se usan para
        desmontar todos los sistemas de ficheros montados,
        con la ventaja de poder elegir el tipo de sistema de ficheros
        que se use tras <code class="option">-t</code>.  De todas maneras
        <code class="option">-A</code> no trata de desmontar el sistema de
        ficheros raíz.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="disk-organization.html">Anterior</a> </td><td width="20%" align="center"><a accesskey="u" href="basics.html">Subir</a></td><td width="40%" align="right"> <a accesskey="n" href="basics-processes.html">Siguiente</a></td></tr><tr><td width="40%" align="left" valign="top">3.5. Organización de disco </td><td width="20%" align="center"><a accesskey="h" href="index.html">Inicio</a></td><td width="40%" align="right" valign="top"> 3.7. Procesos</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Puede descargar éste y muchos otros documentos desde
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Si tiene dudas sobre FreeBSD consulte la
    <a href="http://www.FreeBSD.org/docs.html">documentación</a> antes de escribir a la lista
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Envíe sus preguntas sobre la documentación a
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>