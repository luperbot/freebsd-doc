<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>2.11. Solución de problemas</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Manual de FreeBSD" /><link rel="up" href="install.html" title="Capítulo 2. Instalación de FreeBSD" /><link rel="prev" href="install-post.html" title="2.10. Después de la instalación" /><link rel="next" href="install-advanced.html" title="2.12. Guía avanzada de instalación" /><link rel="copyright" href="legalnotice.html" title="Aviso Legal" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">2.11. Solución de problemas</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="install-post.html">Anterior</a> </td><th width="60%" align="center">Capítulo 2. Instalación de FreeBSD</th><td width="20%" align="right"> <a accesskey="n" href="install-advanced.html">Siguiente</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="install-trouble"></a>2.11. Solución de problemas</h2></div></div></div><a id="idp68750288" class="indexterm"></a><p>Esta sección trata sobre la solución de problemas
      habituales durante la instalación que la comunidad de usuarios
      ha documentado.  Hay también unas cuantas preguntas y respuestas
      para quienes quieren poder elegir en el arranque entre FreeBSD y
      <span class="trademark">MS-DOS</span>®.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp68752336"></a>2.11.1. Qué hacer si algo va mal</h3></div></div></div><p>A causa de las diversas limitaciones de la arquitectura PC es
	imposible hacer que nada funcione con un 100% de probabilidades, pero
	al menos hay unas cuantas cosas que pueden hacerse si algo
	va mal.</p><p>Consulte la <a class="link" href="http://www.FreeBSD.org/releases/index.html" target="_top">lista de hardware
	soportado</a> de su versión de FreeBSD y asegúrese de
	que su hardware debería funcionar con ella.</p><p>Si su hardware está soportado y sigue experimentando
	«cuelgues» u otro tipo de problemas tendrá que
	<a class="link" href="kernelconfig.html" title="Capítulo 8. Configuración del kernel de FreeBSD">compilar un kernel personalizado</a>.
	Esto le permitirá disponer de soporte que no está
	incluido en el kernel <code class="filename">GENERIC</code>.  El kernel
	que se incluye en los discos de arranque está configurado
	asumiendo que la mayoría de los dispositivos
	van a funcionar con la configuración por omisión
	de fábrica (en términos de IRQ, direcciones IO y
	canales DMA).  Si su hardware ha sido reconfigurado quizás
	tendrá que usar el editor de configuración para
	decirle a FreeBSD dónde encontrar cada cosa.</p><p>Es posible también que la prueba de un dispositivo que
	no está en el sistema cause problemas más tarde al probar
	un dispositivo que sí está en la máquina.
	Si ese puede ser su caso desactive las pruebas de controladores
	conflictivos.</p><div xmlns="" class="note"><h3 class="admontitle">Nota: </h3><p xmlns="http://www.w3.org/1999/xhtml">Algunos problemas de instalación pueden evitarse o
	  al menos aliviarse actualizando el firmware de ciertos tipos de
	  hardware; esto es especialmente cierto en el caso de las placas
	  El firmware de las placas base se llama también
	  <acronym class="acronym">BIOS</acronym> y la mayoría de las placas base
	  y de los fabricantes de computadoras tienen un sitio web en el
	  que suelen encontrarse actualizaciones e información sobre
	  su uso.</p><p xmlns="http://www.w3.org/1999/xhtml">La mayoría de los fabricantes recomienda que no se
	  actualice la <acronym class="acronym">BIOS</acronym> de la placa base a menos que
	  tenga una buena razón para hacerlo, por ejemplo una
	  actualización crítica.  El proceso de
	  actualización <span class="emphasis"><em>podría</em></span> fallar,
          lo que puede acarrrear daños en el chip de la
	  <acronym class="acronym">BIOS</acronym>.</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp68762960"></a>2.11.2. Uso de sistemas de ficheros de <span class="trademark">MS-DOS</span>® y <span class="trademark">Windows</span>®</h3></div></div></div><p>No puede usar sistemas de ficheros comprimidos con
	<span class="application">Double Space&#8482;</span>.  Deberá por
	lo tanto descomprimir el sistema de ficheros antes de acceder a los
	datos desde FreeBSD.
	Ejecute el <span class="application">Agente de compresión</span>
	desde <span class="guimenuitem">Inicio</span>&gt;
	<span class="guimenuitem">Programas</span> &gt;
	<span class="guimenuitem">Herramientas del sistema</span>.</p><p>FreeBSD puede usar sistemas de ficheros <span class="trademark">MS-DOS</span>®.
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mount_msdos&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mount_msdos</span>(8)</span></a> inserta estos sistemas de ficheros en la
	jerarquía de directorios del sistema, haciendo posible
	el acceso a los datos.  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mount_msdos&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mount_msdos</span>(8)</span></a> no suele usarse
	directamente; el sistema lo utiliza debido a alguna entrada
	en <code class="filename">/etc/fstab</code> o porque <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mount&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mount</span>(8)</span></a> lo
	invoque debido a que se le hayan dado los parámetros
	adecuados para ello.</p><p>Veamos una de esas entradas en el fichero
      <code class="filename">/etc/fstab</code>:</p><pre class="programlisting">/dev/ad0sN  /dos  msdosfs rw  0	0</pre><p>El directorio <code class="filename">/dos</code> debe existir previamente
        o no funcionará.  Tiene todos los detalles del formato correcto
	de las entradas en <code class="filename">/etc/fstab</code> en
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=fstab&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">fstab</span>(5)</span></a>.</p><p>Veamos ahora un ejemplo de llamada de <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mount&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mount</span>(8)</span></a> a un sistema
        de ficheros <span class="trademark">MS-DOS</span>®:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mount_msdos /dev/ad0s1 /mnt</code></strong></pre><p>En el ejemplo el sistema de ficheros <span class="trademark">MS-DOS</span>® está en la
	primera partición del primer disco duro.
	La situación en su sistema puede ser diferente: compruebe la
	salida de <code class="command">dmesg</code> y <code class="command">mount</code>.
	Deberían darle suficiente información como para
	darle una idea completa de la estructura de particiones en la que
	está trabajando.</p><div xmlns="" class="note"><h3 class="admontitle">Nota: </h3><p xmlns="http://www.w3.org/1999/xhtml">FreeBSD suele numerar las las «slices» (que es como
        decir los sistemas de ficheros <span class="trademark">MS-DOS</span>®) de un modo distinto al de
        otros sistemas operativos.  Más concretamente, las particiones
	extendidas de <span class="trademark">MS-DOS</span>® suelen tener un número mayor de
	«slice» que las particiones primarias de <span class="trademark">MS-DOS</span>®.
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=fdisk&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">fdisk</span>(8)</span></a> le será de ayuda a la hora de determinar
	qué «slices» pertenecen a FreeBSD y cuáles
	a otros sistemas operativos.</p></div><p>Las particiones NTFS se montan de una forma muy similar gracias a
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mount_ntfs&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mount_ntfs</span>(8)</span></a>.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp68786128"></a>2.11.3. Preguntas y respuestas de la resolución de problemas</h3></div></div></div><div class="qandaset"><a id="idp68786768"></a><dl><dt>2.11.3.1. <a href="install-trouble.html#idp68787024">Mi sistema se «cuelga» durante el arranque,
	      o se comporta de modo extraño durante la instalación,
	      o no llega a comprobar el funcionamiento del lector de
	      disquetes.</a></dt><dt>2.11.3.2. <a href="install-trouble.html#idp68820176">Cuando voy a arrancar FreeBSD por primera vez después
	      de la instalación el kernel carga y prueba mi hardware,
	      pero se detiene y muestra mensajes como este:</a></dt><dt>2.11.3.3. <a href="install-trouble.html#idp68858832">Cuando voy a arrancar desde disco duro por primera
	      vez tras la instalación de FreeBSD el prompt del gestor
	      de arranque muestra F? en el menú
	      de arranque y no pasa de ahí.</a></dt><dt>2.11.3.4. <a href="install-trouble.html#idp68863312">El sistema encuentra mi tarjeta de red ed(4) pero
	      me dan errores de «timeout».</a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%" /><col /></colgroup><tbody><tr class="question"><td align="left" valign="top"><a id="idp68787024"></a><a id="idp68787280"></a><p><strong>2.11.3.1.</strong></p></td><td align="left" valign="top"><p>Mi sistema se «cuelga» durante el arranque,
	      o se comporta de modo extraño durante la instalación,
	      o no llega a comprobar el funcionamiento del lector de
	      disquetes.</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>FreeBSD utiliza profusamente el servicio ACPI del sistema en las
	      plataformas i386, amd64 e ia64 con el fin de ayudar en
	      la configuración del sistema durante la detección
	      de hardware durante el arranque.  Por desgracia todavía
	      hay errores tanto en el controlador ACPI como en algunas BIOS y
	      placas base.  Puede desactivar ACPI en la tercera fase del cargador
	      de arranque del sistema haciendo que
	      <code class="literal">hint.acpi.0.disabled</code> tenga el siguiente
	      valor:</p><pre class="screen"><strong class="userinput"><code>set hint.acpi.0.disabled="1"</code></strong></pre><p>Tenga en cuenta que tendría que volver a hacerlo cada vez que
	      el sistema arranque, así que añada
	      <code class="literal">hint.acpi.0.disabled="1"</code> al fichero
	      <code class="filename">/boot/loader.conf</code>.  Tiene más
	      información sobre el cargador de arranque en
	      <a class="xref" href="boot.html#boot-synopsis" title="12.1. Sinopsis">Sección 12.1, &#8220;Sinopsis&#8221;</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp68820176"></a><a id="idp68820432"></a><p><strong>2.11.3.2.</strong></p></td><td align="left" valign="top"><p>Cuando voy a arrancar FreeBSD por primera vez después
	      de la instalación el kernel carga y prueba mi hardware,
	      pero se detiene y muestra mensajes como este:</p><pre class="screen">changing root device to ad1s1a panic: cannot mount root</pre><p>?Cuál es el problema?</p><p>?Qué es lo que significa este mensaje de
	      <code class="literal">bios_drive:interface(unit,partition)kernel_name</code>
	      que aparece  en la ayuda del arranque?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Hay un problema que ya lleva tiempo con nosotros
	      cuando el disco desde el que se arranca no es el primero
	      en el sistema.  La BIOS utiliza un esquema de numeración
	      distinto al que usa FreeBSD y a veces saber qué
	      número es el que corresponde a qué resulta
	      un poco complicado.</p><p>Cuando el disco de arranque no sea el primer disco
	      del sistema FreeBSD necesitará un poco de ayuda para
	      poderlo encontrar.  Puede haber dos escenarios donde
	      suceda esto y en ambos hay que decirle a FreeBSD, dónde
	      encontrar el sistema de ficheros raíz.  Esto se
	      hace especificando el número de disco según
	      la BIOS, el tipo de disco y el número de disco
	      que FreeBSD le dará a ese disco.</p><p>El primer caso es cuando hay dos discos IDE, ambos
	      configurados como maestros de sus respectivos buses IDE
	      y quiere usted arrancar desde el segundo disco.  La BIOS
	      dice que son el disco 0 y el disco 1, mientras que FreeBSD
	      los ve como
	      <code class="filename">ad0</code> y
	      <code class="filename">ad2</code>.</p><p>FreeBSD está en el disco BIOS 1, de tipo
	      <code class="literal">ad</code> y el número de disco FreeBSD es
	      el 2, así que habrá que decir lo
	      siguiente:</p><pre class="screen"><strong class="userinput"><code>1:ad(2,a)kernel</code></strong></pre><p>Tenga en cuenta que si tiene un disco esclavo en
	      el bus primario esto no es necesario (de hecho es
	      un error hacerlo).</p><p>El segundo escenario es el arranque desde un disco
	      SCSI teniendo uno o más discos IDE en el sistema.
	      En este caso el número de disco FreeBSD es más
	      bajo que el número de disco BIOS.  Si tiene dos
	      discos IDE además del disco SCSI, el disco SCSI
	      es el disco 2 de BIOS, del tipo
	      <code class="literal">da</code> y para FreeBSD es el disco número
	      disk number 0, so
	      0, así que tendrá que usar</p><pre class="screen"><strong class="userinput"><code>2:da(0,a)kernel</code></strong></pre><p>para decirle a FreeBSD que quiere arrancar desde el
	      disco 2 de BIOS, que es el primer disco SCSI del sistema.
	      Si solamente tiene un disco IDE tendrá que poner
	      <code class="literal">1:</code>.</p><p>Una vez que sabe con exactitud los valores que debe
	      usar póngalos exactamente como los ha tecleado
	      en <code class="filename">/boot.config</code> utilizando el
	      editor de texto que prefiera.  Salvo que se le diga lo
	      contrario FreeBSD utilizará el contenido de este
	      fichero decidiráel comportamiento por omisión
	      del prompt de <code class="literal">boot:</code> prompt.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp68858832"></a><a id="idp68859088"></a><p><strong>2.11.3.3.</strong></p></td><td align="left" valign="top"><p>Cuando voy a arrancar desde disco duro por primera
	      vez tras la instalación de FreeBSD el prompt del gestor
	      de arranque muestra <code class="literal">F?</code> en el menú
	      de arranque y no pasa de ahí.</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>La geometría del disco duro se configuró
	      mal cuando se utilizó el editor de particiones
	      durante la instalación.  Ejecute el editor de
	      particiones e introduzca la geometría del disco
	      correctamente.  Tendrá que reinstalar FreeBSD
	      completamente dado que habrá cambiado la
	      geometría del disco.</p><p>Si no encuentra la manera de saber cuál es
	      la geometría correcta pruebe con esto:
	      Cree una pequeña partición DOS al principio
	      del disco e instale FreeBSD en el espacio de disco inmediatamente
	      contiguo.  El programa de instalación verá la
	      partición DOS e intentará deducir la
	      geometría correcta a partir de ahí; esto suele
	      funcionar.</p><p>Le mostramos otra sugerencia que, aunque no es recomendable
	      de seguir, se muestra para que sirva de referencia:</p><div class="blockquote"><blockquote class="blockquote"><p>Si lo que está instalando es un servidor
	        o máquina de escritorio dedicado a FreeBSD y
		no le preocupa que en el futuro cercano tenga que
		mantener la convivencia con DOS, Linux u otro
		sistema operativo siempre tiene la opción de
		utilizar el disco entero
		(la opción <span class="guimenuitem">A</span> en
		el editor de particiones).  Es una opción no
		estándar gracias a la cual  FreeBSD ocupa todo
		el disco, desde el primer sector al último.
		De este modo nos olvidamos de todos los problemas
		relacionados con la geometría de disco, pero
		le obliga a no poder instalar ningún otro
		sistema operativo aparte de FreeBSD en ese disco.</p></blockquote></div></td></tr><tr class="question"><td align="left" valign="top"><a id="idp68863312"></a><a id="idp68863568"></a><p><strong>2.11.3.4.</strong></p></td><td align="left" valign="top"><p>El sistema encuentra mi tarjeta de red <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ed&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">ed</span>(4)</span></a> pero
	      me dan errores de «timeout».</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Lo más probable es que su tarjeta esté
	      utilizando una IRQ distinta de la que debería
	      estar usando según lo que aparece en
	      <code class="filename">/boot/device.hints</code> .  El controlador
	      <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ed&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">ed</span>(4)</span></a> no utiliza configuración
	      does not use the «soft» por omisión
	      (es decir, valores que se le suministren mediante EZSETUP
	      bajo DOS) pero como casi todo en esta vida hay
	      solución.  En este caso, de hecho, hay dos.</p><p>Ponga el «jumper» de la tarjeta en
	      una configuración «dura» (es posible
	      que tenga que modificar la configuración del
	      kernel debido a esto) o modifique el valor de la IRQ
	      con el valor <code class="literal">-1</code> del siguiente modo:
	      by setting the hint <code class="literal">hint.ed.0.irq="-1"</code>.
	      Así le dirá al kernel que utilice la
	      configuración «suave».</p><p>Hay otra posibilidad, que es cuando su tarjeta
	      esté utilizando la IRQ 9, que suele compartir
	      funciones con la IRQ 2, circunstancia que es con
	      frecuencia causa de problemas (sobre todo cuando entra
	      en escena una tarjeta VGA que utiliza justamente la
	      IRQ 2).  Le recomendamos encarecidamente que haga todo
	      lo posible para no utilizar ni la IRQ 2 ni la IRQ 9.</p></td></tr></tbody></table></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="install-post.html">Anterior</a> </td><td width="20%" align="center"><a accesskey="u" href="install.html">Subir</a></td><td width="40%" align="right"> <a accesskey="n" href="install-advanced.html">Siguiente</a></td></tr><tr><td width="40%" align="left" valign="top">2.10. Después de la instalación </td><td width="20%" align="center"><a accesskey="h" href="index.html">Inicio</a></td><td width="40%" align="right" valign="top"> 2.12. Guía avanzada de instalación</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Puede descargar éste y muchos otros documentos desde
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Si tiene dudas sobre FreeBSD consulte la
    <a href="http://www.FreeBSD.org/docs.html">documentación</a> antes de escribir a la lista
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Envíe sus preguntas sobre la documentación a
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>