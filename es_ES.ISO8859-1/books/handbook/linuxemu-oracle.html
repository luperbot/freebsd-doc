<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>10.6. Instalación de Oracle®</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Manual de FreeBSD" /><link rel="up" href="linuxemu.html" title="Capítulo 10. Compatibilidad binaria con Linux" /><link rel="prev" href="linuxemu-matlab.html" title="10.5. Instalación de MATLAB®" /><link rel="next" href="sapr3.html" title="10.7. Instalación de SAP® R/3®" /><link rel="copyright" href="legalnotice.html" title="Aviso Legal" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">10.6. Instalación de <span class="trademark">Oracle</span>®</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="linuxemu-matlab.html">Anterior</a> </td><th width="60%" align="center">Capítulo 10. Compatibilidad binaria con Linux</th><td width="20%" align="right"> <a accesskey="n" href="sapr3.html">Siguiente</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="linuxemu-oracle"></a>10.6. Instalación de <span class="trademark">Oracle</span>®</h2></div><div><span class="authorgroup">Escrito por <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Marcel</span> <span class="surname">Moolenaar</span></span>. </span></div></div></div><a id="idp73253712" class="indexterm"></a><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp73254992"></a>10.6.1. Prefacio</h3></div></div></div><p>Este texto describe el proceso de instalación de
        <span class="application"><span class="trademark">Oracle</span>® 8.0.5</span>
        y <span class="application"><span class="trademark">Oracle</span>® 8.0.5.1 Enterprise Edition</span>
        para Linux en una
        máquina FreeBSD.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp73257808"></a>10.6.2. Instalación del entorno Linux</h3></div></div></div><p>Debe tener instalados los ports
        <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/emulators/linux_base/pkg-descr">emulators/linux_base</a>
        y <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/devel/linux_devtools/pkg-descr">devel/linux_devtools</a>.
        Si tiene dificultades con estos ports es posible que tenga que
        usar los paquetes o quizás versiones más antiguas
        de dichas aplicaciones que encontrará en la Colección
        de Ports.</p><p>Si quiere usar el agente inteligente también
        tendrá que instalar el paquete Tcl de Red Hat,
        <code class="filename">tcl-8.0.3-20.i386.rpm</code>.  La orden
        genérica para instalar paquetes con el port oficial
        de <span class="application">RPM</span>
        (<a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/archivers/rpm/pkg-descr">archivers/rpm</a>) es:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>rpm -i --ignoreos --root /compat/linux --dbpath /var/lib/rpm paquete</code></strong></pre><p>La instalación de dicho <em class="replaceable"><code>paquete</code></em> no debe generar ningún error.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp73263056"></a>10.6.3. Creación del entorno <span class="trademark">Oracle</span>®</h3></div></div></div><p>Antes de instalar <span class="application"><span class="trademark">Oracle</span>®</span>
        tendrá que configurar un entorno apropiado.  Este documento
        solamente explica lo que hay que hacer
        <span class="emphasis"><em>especialmente</em></span> para utilizar la versión
        de Linux para <span class="application"><span class="trademark">Oracle</span>®</span> FreeBSD, no
        lo que figura en la guía de instalación de
        <span class="application"><span class="trademark">Oracle</span>®</span>.</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="linuxemu-kernel-tuning"></a>10.6.3.1. Personalización del kernel</h4></div></div></div><a id="idp73267536" class="indexterm"></a><p>Tal y como consta en la guía de instalación de
          <span class="application"><span class="trademark">Oracle</span>®</span>, debe configurar
          la cantidad máxima de memoria compartida.
          No utilice <code class="literal">SHMMAX</code> en FreeBSD.
          <code class="literal">SHMMAX</code> se calcula a partir de
          <code class="literal">SHMMAXPGS</code> y <code class="literal">PGSIZE</code>,
          así que defina <code class="literal">SHMMAXPGS</code>.  Todas
          las demás opciones pueden usarse tal y como se describen
          en la guía.  Por ejemplo:</p><pre class="programlisting">options SHMMAXPGS=10000
options SHMMNI=100
options SHMSEG=10
options SEMMNS=200
options SEMMNI=70
options SEMMSL=61</pre><p>Configure estas opciones para que se ajusten al uso que
          pretenda darle a
          <span class="application"><span class="trademark">Oracle</span>®</span>.</p><p>Asegúrese también de que las siguientes
          opciones están en el fichero de configuración de
          su kernel:</p><pre class="programlisting">options SYSVSHM #SysV shared memory
options SYSVSEM #SysV semaphores
options SYSVMSG #SysV interprocess communication</pre></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="linuxemu-oracle-account"></a>10.6.3.2. Cuenta <span class="trademark">Oracle</span>®</h4></div></div></div><p>Crée una cuenta <code class="systemitem">oracle</code> según
          el procedimiento habitual de creación de usuarios.
          La cuenta <code class="systemitem">oracle</code>, empero, tiene algo
          especial puesto que debe teer una shell <span class="emphasis"><em>de</em></span>
          Linux. Añada
          <code class="literal">/compat/linux/bin/bash</code> a
          <code class="filename">/etc/shells</code> y asigne a la
          cuenta <code class="systemitem">oracle</code>
          <code class="filename">/compat/linux/bin/bash</code> como shell
          por omisión.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="linuxemu-environment"></a>10.6.3.3. Entorno</h4></div></div></div><p>Además de las variables normales para
          <span class="application"><span class="trademark">Oracle</span>®</span>,
          como <code class="envar">ORACLE_HOME</code> y <code class="envar">ORACLE_SID</code>, debe
          configurar las siguientes variables de entorno:</p><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Variable</th><th>Valor</th></tr></thead><tbody><tr><td><code class="envar">LD_LIBRARY_PATH</code></td><td><code class="literal">$ORACLE_HOME/lib</code></td></tr><tr><td><code class="envar">CLASSPATH</code></td><td><code class="literal">$ORACLE_HOME/jdbc/lib/classes111.zip</code></td></tr><tr><td><code class="envar">PATH</code></td><td><code class="literal">/compat/linux/bin
/compat/linux/sbin
/compat/linux/usr/bin
/compat/linux/usr/sbin
/bin
/sbin
/usr/bin
/usr/sbin
/usr/local/bin
$ORACLE_HOME/bin</code></td></tr></tbody></table></div><p>Le aconsejamos configurar todas las variables de entorno
          en <code class="filename">.profile</code>.  Veamos un ejemplo
	  completo:</p><pre class="programlisting">ORACLE_BASE=/oracle; export ORACLE_BASE
ORACLE_HOME=/oracle; export ORACLE_HOME
LD_LIBRARY_PATH=$ORACLE_HOME/lib
export LD_LIBRARY_PATH
ORACLE_SID=ORCL; export ORACLE_SID
ORACLE_TERM=386x; export ORACLE_TERM
CLASSPATH=$ORACLE_HOME/jdbc/lib/classes111.zip
export CLASSPATH
PATH=/compat/linux/bin:/compat/linux/sbin:/compat/linux/usr/bin
PATH=$PATH:/compat/linux/usr/sbin:/bin:/sbin:/usr/bin:/usr/sbin
PATH=$PATH:/usr/local/bin:$ORACLE_HOME/bin
export PATH</pre></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp73311312"></a>10.6.4. Instalación de <span class="trademark">Oracle</span>®</h3></div></div></div><p>Debido a una pequeña inconsistencia en el emulador
        Linux tendrá que crear un directorio llamado
        <code class="filename">.oracle</code>
        en <code class="filename">/var/tmp</code> antes de iniciar el instalador.
        Haga que sea propiedad del usuario <code class="systemitem">oracle</code>.
        Hecho esto deberí poder instalar
	<span class="application"><span class="trademark">Oracle</span>®</span>
        sin ningún problema.  Si no es así
        <span class="emphasis"><em>revise su distribución</em></span>
        <span class="application"><span class="trademark">Oracle</span>®</span> y su
        configuración.  Una vez finalizada la instalación de
        <span class="application"><span class="trademark">Oracle</span>®</span> aplique los parches
        que se detallan en las dos siguientes subsecciones.</p><p>Un problema que se da con una cierta frecuencia es que el
        adaptador del protocolo TCP
        no está correctamente instalado.  Como consecuencia no
        puede iniciarse ninguna escucha TCP, a las que también se
	les llama directamente «listeners».  Esto le
	ayudará a resolver el problema.:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cd $ORACLE_HOME/network/lib</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>make -f ins_network.mk ntcontab.o</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>cd $ORACLE_HOME/lib</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>ar r libnetwork.a ntcontab.o</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>cd $ORACLE_HOME/network/lib</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>make -f ins_network.mk install</code></strong></pre><p><span class="emphasis"><em>No se olvide de ejecutar <code class="filename">root.sh</code>
        de nuevo</em></span>.</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="linuxemu-patch-root"></a>10.6.4.1. Cómo parchear root.sh</h4></div></div></div><p>Durante la instalación de
          <span class="application"><span class="trademark">Oracle</span>®</span> algunas
          acciones que requieren ser ejecutadas como
          <code class="systemitem">root</code> deben almacenarse en un
          <span class="quote">&#8220;<span class="quote">script</span>&#8221;</span> de shell llamado
          <code class="filename">root.sh</code>.  Dicho <span class="quote">&#8220;<span class="quote">script</span>&#8221;</span>
          está en el directorio <code class="filename">orainst</code>.
          Aplique el siguiente parche a <code class="filename">root.sh</code> para
          que utilice la ruta correcta de <code class="command">chown</code> o
          ejecute el <span class="quote">&#8220;<span class="quote">script</span>&#8221;</span> bajo una shell nativa
          de Linux.</p><pre class="programlisting">*** orainst/root.sh.orig Tue Oct 6 21:57:33 1998
--- orainst/root.sh Mon Dec 28 15:58:53 1998
***************
*** 31,37 ****
# This is the default value for CHOWN
# It will redefined later in this script for those ports
# which have it conditionally defined in ss_install.h
! CHOWN=/bin/chown
#
# Define variables to be used in this script
--- 31,37 ----
# This is the default value for CHOWN
# It will redefined later in this script for those ports
# which have it conditionally defined in ss_install.h
! CHOWN=/usr/sbin/chown
#
# Define variables to be used in this script</pre><p>Si no está instalando
          <span class="application"><span class="trademark">Oracle</span>®</span> desde un CD puede parchear
          las fuentes de <code class="filename">root.sh</code>.  Se llama
          <code class="filename">rthd.sh</code> y está en el directorio
          <code class="filename">orainst</code> del árbol de fuentes.
          </p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="linuxemu-patch-tcl"></a>10.6.4.2. Cómo parchear genclntsh</h4></div></div></div><p>El <span class="quote">&#8220;<span class="quote">script</span>&#8221;</span> <code class="command">genclntsh</code> se usa
          para crear una biblioteca de cliente compartida y para
          construir los demos. Al aplicar el siguiente parche
          comentará la definición de <code class="envar">PATH</code>:</p><pre class="programlisting">*** bin/genclntsh.orig Wed Sep 30 07:37:19 1998
--- bin/genclntsh Tue Dec 22 15:36:49 1998
***************
*** 32,38 ****
#
# Explicit path to ensure that we're using the correct commands
#PATH=/usr/bin:/usr/ccs/bin export PATH
! PATH=/usr/local/bin:/bin:/usr/bin:/usr/X11R6/bin export PATH
#
# each product MUST provide a $PRODUCT/admin/shrept.lst
--- 32,38 ----
#
# Explicit path to ensure that we're using the correct commands
#PATH=/usr/bin:/usr/ccs/bin export PATH
! #PATH=/usr/local/bin:/bin:/usr/bin:/usr/X11R6/bin export PATH
#
# each product MUST provide a $PRODUCT/admin/shrept.lst</pre></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp73341648"></a>10.6.5. Ejecución de <span class="trademark">Oracle</span>®</h3></div></div></div><p>Una vez seguidas estas instrucciones podrá ejecutar
        <span class="application"><span class="trademark">Oracle</span>®</span> como si la hubiera instalado
        en Linux.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="linuxemu-matlab.html">Anterior</a> </td><td width="20%" align="center"><a accesskey="u" href="linuxemu.html">Subir</a></td><td width="40%" align="right"> <a accesskey="n" href="sapr3.html">Siguiente</a></td></tr><tr><td width="40%" align="left" valign="top">10.5. Instalación de <span class="trademark">MATLAB</span>® </td><td width="20%" align="center"><a accesskey="h" href="index.html">Inicio</a></td><td width="40%" align="right" valign="top"> 10.7. Instalación de <span class="trademark">SAP</span>® <span class="trademark">R/3</span>®</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Puede descargar éste y muchos otros documentos desde
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Si tiene dudas sobre FreeBSD consulte la
    <a href="http://www.FreeBSD.org/docs.html">documentación</a> antes de escribir a la lista
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Envíe sus preguntas sobre la documentación a
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>