<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>10.7. Instalación de SAP® R/3®</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Manual de FreeBSD" /><link rel="up" href="linuxemu.html" title="Capítulo 10. Compatibilidad binaria con Linux" /><link rel="prev" href="linuxemu-oracle.html" title="10.6. Instalación de Oracle®" /><link rel="next" href="linuxemu-advanced.html" title="10.8. Temas avanzados" /><link rel="copyright" href="legalnotice.html" title="Aviso Legal" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">10.7. Instalación de <span class="trademark">SAP</span>® <span class="trademark">R/3</span>®</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="linuxemu-oracle.html">Anterior</a> </td><th width="60%" align="center">Capítulo 10. Compatibilidad binaria con Linux</th><td width="20%" align="right"> <a accesskey="n" href="linuxemu-advanced.html">Siguiente</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="sapr3"></a>10.7. Instalación de <span class="trademark">SAP</span>® <span class="trademark">R/3</span>®</h2></div><div><span class="authorgroup">Escrito por <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Holger</span> <span class="surname">Kipp</span></span>. </span></div><div><span class="authorgroup">Versión original convertida a SGML por <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Valentino</span> <span class="surname">Vaschetto</span></span>. </span></div></div></div><a id="idp73353296" class="indexterm"></a><p>Las instalaciones de sistemas <span class="application"><span class="trademark">SAP</span>®</span>
      en FreeBSD no reciben soporte técnico de <span class="trademark">SAP</span>®.
      <span class="trademark">SAP</span>® solamente lo ofrece si se usan plataformas
      certificadas.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="preface"></a>10.7.1. Introducción</h3></div></div></div><p>Este texto expone una forma de instalar
        un <span class="application"><span class="trademark">SAP</span>® <span class="trademark">R/3</span>® System</span> con
        una <span class="application"><span class="trademark">Oracle</span>® Database</span>
        para Linux en una máquina FreeBSD, incluyendo la
        instalación de FreeBSD y <span class="application"><span class="trademark">Oracle</span>®</span>.
        Se muestran dos configuraciones diferentes:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><span class="application"><span class="trademark">SAP</span>® <span class="trademark">R/3</span>® 4.6B (IDES)</span> con
	  <span class="application"><span class="trademark">Oracle</span>® 8.0.5</span> en FreeBSD 4.3-STABLE</p></li><li class="listitem"><p><span class="application"><span class="trademark">SAP</span>® <span class="trademark">R/3</span>® 4.6C</span> con
	  <span class="application"><span class="trademark">Oracle</span>® 8.1.7</span> en FreeBSD 4.5-STABLE</p></li></ul></div><p>Aunque este documento trate de describir todos
        los pasos importantes con detalle no ha sido escrito como
        sustituto de las guías de instalación de
        <span class="application"><span class="trademark">Oracle</span>®</span> y
        <span class="application"><span class="trademark">SAP</span>® <span class="trademark">R/3</span>®</span>.</p><p>Por favor, consulte la documentación de
        <span class="application"><span class="trademark">SAP</span>® <span class="trademark">R/3</span>®</span>
        que se incluye en la edición para Linux de
        <span class="application"><span class="trademark">SAP</span>®</span>
        y las preguntas específicas sobre
        <span class="application"><span class="trademark">Oracle</span>®</span>,
        así como los recursos que estén a su disposición
        sobre  <span class="application"><span class="trademark">Oracle</span>®</span>
        y <span class="application"><span class="trademark">SAP</span>® OSS</span>.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="software"></a>10.7.2. Software</h3></div></div></div><p>Durante la instalación de <span class="application"><span class="trademark">SAP</span>®</span>
        se han utilizado los siguientes CD-ROM:</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="software-46b"></a>10.7.2.1. <span class="trademark">SAP</span>® <span class="trademark">R/3</span>® 4.6B, <span class="trademark">Oracle</span>® 8.0.5</h4></div></div></div><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /><col /></colgroup><thead><tr><th>Nombre</th><th>Número</th><th>Descripción</th></tr></thead><tbody><tr><td>KERNEL</td><td>51009113</td><td>SAP Kernel Oracle /
		Installation / AIX, Linux, Solaris</td></tr><tr><td>RDBMS</td><td>51007558</td><td>Oracle / RDBMS 8.0.5.X /
		Linux</td></tr><tr><td>EXPORT1</td><td>51010208</td><td>IDES / DB-Export /
		Disco 1 de 6</td></tr><tr><td>EXPORT2</td><td>51010209</td><td>IDES / DB-Export /
		Disco 2 de 6</td></tr><tr><td>EXPORT3</td><td>51010210</td><td>IDES / DB-Export /
		Disco 3 de 6</td></tr><tr><td>EXPORT4</td><td>51010211</td><td>IDES / DB-Export /
		Disco 4 de 6</td></tr><tr><td>EXPORT5</td><td>51010212</td><td>IDES / DB-Export /
		Disco 5 de 6</td></tr><tr><td>EXPORT6</td><td>51010213</td><td>IDES / DB-Export /
		Disco 6 de 6</td></tr></tbody></table></div><p>También  utilizamos el CD de <span class="application"><span class="trademark">Oracle</span>® 8
        Server</span> (versión pre-producción
        8.0.5 para Linux, versión de kernel 2.0.33), que
        no es realmente necesario y FreeBSD 4.3-STABLE (a unos cuantos
        días de la liberación de 4.3-RELEASE).</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="software-46c"></a>10.7.2.2. <span class="trademark">SAP</span>® <span class="trademark">R/3</span>® 4.6C SR2, <span class="trademark">Oracle</span>® 8.1.7</h4></div></div></div><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /><col /></colgroup><thead><tr><th>Nombre</th><th>Número</th><th>Descripción</th></tr></thead><tbody><tr><td>KERNEL</td><td>51014004</td><td>SAP Kernel Oracle /
		  SAP Kernel Version 4.6D / DEC, Linux</td></tr><tr><td>RDBMS</td><td>51012930</td><td>Oracle 8.1.7/ RDBMS /
		  Linux</td></tr><tr><td>EXPORT1</td><td>51013953</td><td>Release 4.6C SR2 / Export
		  / Disco 1 de 4</td></tr><tr><td>EXPORT1</td><td>51013953</td><td>Release 4.6C SR2 / Export
		  / Disco 2 de 4</td></tr><tr><td>EXPORT1</td><td>51013953</td><td>Release 4.6C SR2 / Export
		  / Disco 3 de 4</td></tr><tr><td>EXPORT1</td><td>51013953</td><td>Release 4.6C SR2 / Export
		  / Disco 4 de 4</td></tr><tr><td>LANG1</td><td>51013954</td><td>Release 4.6C SR2 /
		  Language / DE, EN, FR / Disco 1 de 3</td></tr></tbody></table></div><p>Según los idiomas que quiera usar es posible que
          necesite otros CD de idiomas.  Sólo hemos utilizado DE y
          EN, así que nos bastó con el primer CD.
          Para su información, los números de los cuatro CD
          EXPORT son idénticos.  Los tres CD de idiomas también
          tienen el mismo número, aunque esto es distinto en los CD de
          la versión 4.6B IDES.  Al escribir este texto
          (20.03.2002) ejecutamos la instalación en FreeBSD
          4.5-STABLE (20.03.2002).</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="sap-notes"></a>10.7.3. Notas <span class="trademark">SAP</span>®</h3></div></div></div><p>Las siguientes notas han resultado ser muy útiles
       durante la instalación, así que le recomendamos
       encarecidamente que las lea antes de instalar
        <span class="application"><span class="trademark">SAP</span>® <span class="trademark">R/3</span>®</span>:</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="sap-notes-46b"></a>10.7.3.1. <span class="trademark">SAP</span>® <span class="trademark">R/3</span>® 4.6B, <span class="trademark">Oracle</span>® 8.0.5</h4></div></div></div><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Número</th><th>Título</th></tr></thead><tbody><tr><td>0171356</td><td>SAP Software on Linux: Essential
		  Comments</td></tr><tr><td>0201147</td><td>INST: 4.6C R/3 Inst. on UNIX -
		  Oracle</td></tr><tr><td>0373203</td><td>Update / Migration Oracle 8.0.5 --&gt;
		  8.0.6/8.1.6 LINUX</td></tr><tr><td>0072984</td><td>Release of Digital UNIX 4.0B for
		  Oracle</td></tr><tr><td>0130581</td><td>R3SETUP step DIPGNTAB terminates</td></tr><tr><td>0144978</td><td>Your system has not been installed
		  correctly</td></tr><tr><td>0162266</td><td>Questions and tips for R3SETUP on Windows
		  NT / W2K</td></tr></tbody></table></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="sap-notes-46c"></a>10.7.3.2. <span class="trademark">SAP</span>® <span class="trademark">R/3</span>® 4.6C, <span class="trademark">Oracle</span>® 8.1.7</h4></div></div></div><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Número</th><th>Título</th></tr></thead><tbody><tr><td>0015023</td><td>Initializing table TCPDB (RSXP0004)
		  (EBCDIC)</td></tr><tr><td>0045619</td><td>R/3 with several languages or
		  typefaces</td></tr><tr><td>0171356</td><td>SAP Software on Linux: Essential
		  Comments</td></tr><tr><td>0195603</td><td>RedHat 6.1 Enterprise version:
		  Known problems</td></tr><tr><td>0212876</td><td>The new archiving tool SAPCAR</td></tr><tr><td>0300900</td><td>Linux: Released DELL Hardware</td></tr><tr><td>0377187</td><td>RedHat 6.2: important remarks</td></tr><tr><td>0387074</td><td>INST: R/3 4.6C SR2 Installation on
		  UNIX</td></tr><tr><td>0387077</td><td>INST: R/3 4.6C SR2 Inst. on UNIX -
		  Oracle</td></tr><tr><td>0387078</td><td>SAP Software on UNIX: OS Dependencies
		  4.6C SR2</td></tr></tbody></table></div></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="hardware-requirements"></a>10.7.4. Requisitos de hardware</h3></div></div></div><p>El siguiente equipo es suficiente para la instalación
        de un <span class="application">sistema <span class="trademark">SAP</span>® <span class="trademark">R/3</span>®</span>.  Si pretende
        darle uso productivo necesitará hacer un estudio
        detallado de sus necesidades:</p><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /><col /></colgroup><thead><tr><th>Componente</th><th>4.6B</th><th>4.6C</th></tr></thead><tbody><tr><td>Procesador</td><td><span class="trademark">Pentium</span>® III 800MHz x 2</td><td><span class="trademark">Pentium</span>® III 800MHz x 2</td></tr><tr><td>Memoria</td><td>1GB ECC</td><td>2GB ECC</td></tr><tr><td>Espacio en disco</td><td>50-60GB (IDES)</td><td>50-60GB (IDES)</td></tr></tbody></table></div><p>Para su uso en producción le recomendamos procesadores
        <span class="trademark">Xeon</span>&#8482; con una caché grande, discos de alta
        velocidad (SCSI, controlador de RAID por hardware), USV y
        ECC-RAM.  Un espacio en disco tan grande se debe al sistema
        IDES preconfigurado, que crea ficheros de bases de datos de
        27 GB durante la instalación.  Este espacio
        también es suficiente para sistemas de producción
        iniciales y datos de aplicación.</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="hardware-46b"></a>10.7.4.1. <span class="trademark">SAP</span>® <span class="trademark">R/3</span>® 4.6B, <span class="trademark">Oracle</span>® 8.0.5</h4></div></div></div><p>Este es el hardware que utilizamos al escribir este texto:
        placa base dual
        con 2 procesadores <span class="trademark">Pentium</span>® III a 800 MHz, adaptador
        SCSI <span class="trademark">Adaptec</span>® 29160 Ultra160 (para acceder a una unidad de cinta
        40/80 GB DLT y CDROM), <span class="trademark">Mylex</span>® <span class="trademark">AcceleRAID</span>&#8482; (2 canales,
        firmware 6.00-1-00 con 32 MB RAM). La controladora <span class="trademark">Mylex</span>® RAID
        tiene conectados dos discos duros de 17 GB
        (replicados) y cuatro discos duros de 36 GB (RAID nivel 5).</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="hardware-46c"></a>10.7.4.2. <span class="trademark">SAP</span>® <span class="trademark">R/3</span>® 4.6C, <span class="trademark">Oracle</span>® 8.1.7</h4></div></div></div><p>Para esta instalación se usó un <span class="trademark">Dell</span>&#8482; <span class="trademark">PowerEdge</span>&#8482;
        2500: placa base dual con 2 procesadores <span class="trademark">Pentium</span>® III
        a 1000 MHz (256 kB de Caché), 2 GB PC133 ECC
        SDRAM, controladora RAID PERC/3 DC PCI con 128 MB y una unidad
        EIDE DVD-ROM.  La controladora RAID tiene conectados dos discos
        duros 18 GB (replicados) y cuatro discos duros de
        36 GB (RAID nivel 5).</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="installation"></a>10.7.5. Instalación de FreeBSD</h3></div></div></div><p>Lo primero que tiene que hacer es instalar FreeBSD.  Hay muchas
       formas de hacerlo.  Nosotros instalamos FreeBSD 4.3 desde un FTP y
        FreeBSD 4.5 desde el CD de la distribución.  Si necesita
        más información sobre los medios de instalación
        de FreeBSD consulte la
        <a class="xref" href="install-diff-media.html" title="2.13. Cómo preparar su propio medio de instalación">Sección 2.13, &#8220;Cómo preparar su propio medio de instalación&#8221;</a>.</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="disk-layout"></a>10.7.5.1. Esquema de disco</h4></div></div></div><p>Quisimos hacer el proceso lo más simple posible,
          así que usamos el esquema de disco de
          <span class="application"><span class="trademark">SAP</span>® <span class="trademark">R/3</span>® 46B</span> y <span class="application"><span class="trademark">SAP</span>® <span class="trademark">R/3</span>® 46C
          SR2</span>.  Solo cambiamos los nombres
          de dispositivo debido a que las instalaciones tuvieron lugar en
          hardware diferente (<code class="filename">/dev/da</code> y
          <code class="filename">/dev/amr</code> respectivamente.  Si
          utiliza una AMI <span class="trademark">MegaRAID</span>® verá en pantalla
          <code class="filename">/dev/amr0s1a</code> en lugar de
          <code class="filename">/dev/da0s1a</code>):</p><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /><col /><col /></colgroup><thead><tr><th>Sistema de ficheros</th><th>Tamaño (bloques de 1k)</th><th>Tamaño (GB)</th><th>Montado en</th></tr></thead><tbody><tr><td><code class="filename">/dev/da0s1a</code></td><td>1.016.303</td><td>1</td><td><code class="filename">/</code></td></tr><tr><td><code class="filename">/dev/da0s1b</code></td><td> </td><td>6</td><td>swap</td></tr><tr><td><code class="filename">/dev/da0s1e</code></td><td>2.032.623</td><td>2</td><td><code class="filename">/var</code></td></tr><tr><td><code class="filename">/dev/da0s1f</code></td><td>8.205.339</td><td>8</td><td><code class="filename">/usr</code></td></tr><tr><td><code class="filename">/dev/da1s1e</code></td><td>45.734.361</td><td>45</td><td><code class="filename">/compat/linux/oracle</code></td></tr><tr><td><code class="filename">/dev/da1s1f</code></td><td>2.032.623</td><td>2</td><td><code class="filename">/compat/linux/sapmnt</code></td></tr><tr><td><code class="filename">/dev/da1s1g</code></td><td>2.032.623</td><td>2</td><td><code class="filename">/compat/linux/usr/sap</code></td></tr></tbody></table></div><p>Configure e inicialice antes que nada las dos unidades
          lógicas con el software <span class="trademark">Mylex</span>® o PERC/3 RAID.
          El software puede iniciarse durante la fase
          de arranque de <acronym class="acronym">BIOS</acronym>.</p><p>Por favor, tenga en cuenta que el esquema de disco que
          utilizamos difiere ligeramente de las recomendaciones de
          <span class="trademark">SAP</span>®, ya que <span class="trademark">SAP</span>® sugiere montar los subdirectorios
          <span class="application"><span class="trademark">Oracle</span>®</span>
          (y algunos otros) por separado.  Decidimos
          crearlos como subdirectorios reales para simplificar.
          </p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="makeworldandnewkernel"></a>10.7.5.2. <code class="command">make world</code> y un nuevo kernel</h4></div></div></div><p>Descargue las fuentes -STABLE más recientes.
          Ejecute <code class="command">make world</code> y compile su kernel
          personalizado.  Recuerde incluir en él tanto los
          <a class="link" href="sapr3.html#kerneltuning" title="10.7.7.6. Personalización del kernel">parámetros del kernel</a>
          requeridos por <span class="application"><span class="trademark">SAP</span>® <span class="trademark">R/3</span>®</span>
          como los que necesita
	  <span class="application"><span class="trademark">Oracle</span>®</span>.</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="installingthelinuxenviornment"></a>10.7.6. Instalación del entorno Linux</h3></div></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="installinglinuxbase-system"></a>10.7.6.1. Instalación del sistema base Linux</h4></div></div></div><p>Primero instale el port
          <a class="link" href="linuxemu-lbc-install.html#linuxemu-libs-port" title="10.2.1.1. Instalación usando el port linux_base">linux_base</a>
          (como <code class="systemitem">root</code>):</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cd /usr/ports/emulators/linux_base</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>make install distclean</code></strong></pre></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="installinglinuxdevelopment"></a>10.7.6.2. Instalación del entorno de desarrollo Linux</h4></div></div></div><p>El entorno de desarrollo Linux es imprescindible si quiere
          instalar
          <span class="application"><span class="trademark">Oracle</span>®</span> en FreeBSD según se
          explica en la <a class="xref" href="linuxemu-oracle.html" title="10.6. Instalación de Oracle®">Sección 10.6, &#8220;Instalación de <span class="trademark">Oracle</span>®&#8221;</a>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cd /usr/ports/devel/linux_devtools</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>make install distclean</code></strong></pre><p>El entorno de desarrollo Linux solo ha de
          instalarse si sigue el proceso para instalar
          <span class="application"><span class="trademark">SAP</span>® <span class="trademark">R/3</span>® 46B IDES</span>.
          No es necesario si <span class="application"><span class="trademark">Oracle</span>® DB</span>
          no está reenlazado («relinked») con el sistema
          FreeBSD.  Este sería su caso si está usa el fichero
          comprimido tar de <span class="application"><span class="trademark">Oracle</span>®</span> de un
	  sistema Linux.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="installingnecessaryrpms"></a>10.7.6.3. Instalación de los RPM necesarios</h4></div></div></div><a id="idp73571664" class="indexterm"></a><p>Necesitará soporte PAM para iniciar el programa
          <code class="command">R3SETUP</code>.
          Durante la primera instalación de
          <span class="application"><span class="trademark">SAP</span>®</span>
          en FreeBSD 4.3-STABLE intentamos instalar PAM con todas
          las dependencias y finalmente forzamos la
          instalación del paquete PAM, y  funcionó.
          En <span class="application"><span class="trademark">SAP</span>® <span class="trademark">R/3</span>® 4.6C SR2</span> forzamos
          la instalación del RPM PAM, que también
          funcionó, así que parece que las dependencias
          no lo son tanto:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>rpm -i --ignoreos --nodeps --root /compat/linux --dbpath /var/lib/rpm \
pam-0.68-7.i386.rpm</code></strong></pre><p>Para que <span class="application"><span class="trademark">Oracle</span>® 8.0.5</span> pueda
          lanzar el agente inteligente también tendremos que
          instalar el paquete Tcl de RedHat
          <code class="filename">tcl-8.0.5-30.i386.rpm</code> (si no,
          cuando lo reenlace durante la instalación de
          <span class="application"><span class="trademark">Oracle</span>®</span> no funcionará).
          Existen otros aspectos relacionados con el
          reenlazado de <span class="application"><span class="trademark">Oracle</span>®</span> a tener en
          cuenta durante la instalación, pero
          atañen a la versión para Linux de
          <span class="application"><span class="trademark">Oracle</span>®</span> y no son específicos
          de FreeBSD.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="linuxprocandfallbackelfbrand"></a>10.7.6.4. Sugerencias</h4></div></div></div><p>Le recomendamos añadir
          <code class="literal">linprocfs</code> a <code class="filename">/etc/fstab</code>.
          Consulte <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=linprocfs&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">linprocfs</span>(5)</span></a> para más información.
          Otro parámetro que debería configurar es
          <code class="literal">kern.fallback_elf_brand=3</code> en
          <code class="filename">/etc/sysctl.conf</code>.</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="creatingsapr3env"></a>10.7.7. Creación del entorno <span class="trademark">SAP</span>® <span class="trademark">R/3</span>®</h3></div></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="filesystemsandmountpoints"></a>10.7.7.1. Creación de los sistemas de ficheros y
	  puntos de montaje necesarios</h4></div></div></div><p>Para una instalación sencilla es suficiente con
          crear los siguientes sistemas de ficheros:</p><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>punto de montaje</th><th>tamaño en GB</th></tr></thead><tbody><tr><td><code class="filename">/compat/linux/oracle</code></td><td>45 GB</td></tr><tr><td><code class="filename">/compat/linux/sapmnt</code></td><td>2 GB</td></tr><tr><td><code class="filename">/compat/linux/usr/sap</code></td><td>2 GB</td></tr></tbody></table></div><p>También es necesario crear algunos enlaces.  Si no,
          el instalador <span class="application"><span class="trademark">SAP</span>®</span>
          tendrá problemas ya que buscará los siguientes
          enlaces:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ln -s /compat/linux/oracle /oracle</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>ln -s /compat/linux/sapmnt /sapmnt</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>ln -s /compat/linux/usr/sap /usr/sap</code></strong></pre><p>Veamos unos cuantos errores que se le pueden presentar
          durante la instalación (en este caso
          con el sistema <span class="emphasis"><em>PRD</em></span> y la instalación
          de <span class="application"><span class="trademark">SAP</span>® <span class="trademark">R/3</span>® 4.6C SR2</span>):</p><pre class="screen">INFO 2002-03-19 16:45:36 R3LINKS_IND_IND SyLinkCreate:200
    Checking existence of symbolic link /usr/sap/PRD/SYS/exe/dbg to
    /sapmnt/PRD/exe. Creating if it does not exist...

WARNING 2002-03-19 16:45:36 R3LINKS_IND_IND SyLinkCreate:400
    Link /usr/sap/PRD/SYS/exe/dbg exists but it points to file
    /compat/linux/sapmnt/PRD/exe instead of /sapmnt/PRD/exe. The
    program cannot go on as long as this link exists at this
    location. Move the link to another location.

ERROR 2002-03-19 16:45:36 R3LINKS_IND_IND Ins_SetupLinks:0
    can not setup link '/usr/sap/PRD/SYS/exe/dbg' with content
    '/sapmnt/PRD/exe'</pre></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="creatingusersanddirectories"></a>10.7.7.2. Creación de usuarios y directorios</h4></div></div></div><p><span class="application"><span class="trademark">SAP</span>® <span class="trademark">R/3</span>®</span> necesita dos usuarios
          y tres grupos.  Los nombres de usuario dependen del
          <span class="quote">&#8220;<span class="quote"><span class="application"><span class="trademark">SAP</span>®</span> system ID</span>&#8221;</span>
          (SID), y consisten en tres letras.
          Algunos de estos SID
          están reservados por <span class="application"><span class="trademark">SAP</span>®</span>
          (por ejemplo <code class="literal">SAP</code> y <code class="literal">NIX</code>.
          Tiene una lista completa de ellos en la documentación
          de <span class="application"><span class="trademark">SAP</span>®</span>).
          Para la instalación de IDES usamos <code class="literal">IDS</code>
          y para la instalación de 4.6C SR2 <code class="literal">PRD</code>,
          dado que ese sistema está pensado para un uso de
          producción.  Tenemos por lo tanto los siguientes
          grupos (Los ID de grupo pueden ser diferentes, estos son
          solamente los valores que utilizamos en nuestra
          instalación):</p><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /><col /></colgroup><thead><tr><th>ID de grupo</th><th>nombre de grupo</th><th>descripción</th></tr></thead><tbody><tr><td>100</td><td>dba</td><td>Administrador de base de datos</td></tr><tr><td>101</td><td>sapsys</td><td>Sistema <span class="trademark">SAP</span>®</td></tr><tr><td>102</td><td>oper</td><td>Operador de base de datos</td></tr></tbody></table></div><p>En una instalación por omisión de
          <span class="application"><span class="trademark">Oracle</span>®</span> solo se usa el
          grupo <code class="systemitem">dba</code>.
          Puede usar el grupo
          <code class="systemitem">oper</code> como grupo
          <code class="systemitem">dba</code> (consulte la
          documentación de
          <span class="application"><span class="trademark">Oracle</span>®</span> y
          <span class="application"><span class="trademark">SAP</span>®</span>
          para más información).</p><p>También necesitaremos los siguientes usuarios:</p><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /><col /><col /><col /><col /></colgroup><thead><tr><th>ID de usuario</th><th>nombre de usuario</th><th>nombre genérico</th><th>grupo</th><th>grupos adicionales</th><th>descripción</th></tr></thead><tbody><tr><td>1000</td><td>idsadm/prdadm</td><td><em class="replaceable"><code>sid</code></em>adm</td><td>sapsys</td><td>oper</td><td>Administrador <span class="trademark">SAP</span>®</td></tr><tr><td>1002</td><td>oraids/oraprd</td><td>ora<em class="replaceable"><code>sid</code></em></td><td>dba</td><td>oper</td><td>Administrador <span class="trademark">Oracle</span>®</td></tr></tbody></table></div><p>Al añadir dichos usuarios mediante
          <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=adduser&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">adduser</span>(8)</span></a> tenga en cuenta que debe incluir
          las siguientes entradas (observe la shell y el
          directorio home) al crear el
          <span class="quote">&#8220;<span class="quote">administrador <span class="trademark">SAP</span>®</span>&#8221;</span>:</p><pre class="programlisting">Name: <em class="replaceable"><code>sid</code></em>adm
Password: ******
Fullname: SAP Administrator <em class="replaceable"><code>SID</code></em>
Uid: 1000
Gid: 101 (sapsys)
Class:
Groups: sapsys dba
HOME: /home/<em class="replaceable"><code>sid</code></em>adm
Shell: bash  (/compat/linux/bin/bash)</pre><p>y para el <span class="quote">&#8220;<span class="quote">Administrador <span class="trademark">Oracle</span>®</span>&#8221;</span>:</p><pre class="programlisting">Name: ora<em class="replaceable"><code>sid</code></em>
Password: ******
Fullname: Oracle Administrator <em class="replaceable"><code>SID</code></em>
Uid: 1002
Gid: 100 (dba)
Class:
Groups: dba
HOME: /oracle/<em class="replaceable"><code>sid</code></em>
Shell: bash  (/compat/linux/bin/bash)</pre><p>Esto también incluye al grupo
          <code class="systemitem">oper</code> en caso de que esté
          usando el grupo <code class="systemitem">dba</code> y
          el grupo <code class="systemitem">oper</code>.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="creatingdirectories"></a>10.7.7.3. Creación de directorios</h4></div></div></div><p>Estos directorios se crean como sistemas de ficheros
          independientes.  Esto depende totalmente de sus necesidades.
          Nosotros decidimos crearlos como directorios ya que todos
          están en el mismo RAID 5:</p><p>Primero vamos a configurar los propietarios y los
          derechos de algunos directorios (como
          <code class="systemitem">root</code>):</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>chmod 775 /oracle</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>chmod 777 /sapmnt</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>chown root:dba /oracle</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>chown sidadm:sapsys /compat/linux/usr/sap</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>chmod 775 /compat/linux/usr/sap</code></strong></pre><p>Luego vamos a crear directorios como el
          usuario <code class="systemitem">ora<em class="replaceable"><code>sid</code></em></code>.
          Estos serán todos subdirectorios de
	  <code class="filename">/oracle/SID</code>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>su - orasid</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>cd /oracle/SID</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>mkdir mirrlogA mirrlogB origlogA origlogB</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>mkdir sapdata1 sapdata2 sapdata3 sapdata4 sapdata5 sapdata6</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>mkdir saparch sapreorg</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>exit</code></strong></pre><p>Para la instalación de
          <span class="application"><span class="trademark">Oracle</span>® 8.1.7</span>
          tendrá que crear unos cuantos directorios
	  más:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>su - orasid</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>cd /oracle</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>mkdir 805_32</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>mkdir client stage</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>mkdir client/80x_32</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>mkdir stage/817_32</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>cd /oracle/SID</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>mkdir 817_32</code></strong></pre><div xmlns="" class="note"><h3 class="admontitle">Nota: </h3><p xmlns="http://www.w3.org/1999/xhtml">El directorio <code class="filename">client/80x_32</code> tiene
          que tener exactamente este nombre.  No sustituya la
          <span class="emphasis"><em>x</em></span>
          por un número ni por ninguna otra
          cosa.</p></div><p>En el tercer paso creamos directorios como usuario
	  <code class="systemitem"><em class="replaceable"><code>sid</code></em>adm</code>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>su - sidadm</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>cd /usr/sap</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>mkdir SID</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>mkdir trans</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>exit</code></strong></pre></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="entriesinslashetcslashservices"></a>10.7.7.4. Entradas en <code class="filename">/etc/services</code></h4></div></div></div><p><span class="application"><span class="trademark">SAP</span>® <span class="trademark">R/3</span>®</span> requiere algunas entradas
          en <code class="filename">/etc/services</code> que es posible que
          no estén correctamente activadas durante
          la instalalación.  Añada
          las siguientes entradas (necesita al menos las entradas
          correspondientes al número de instancia, en
          este caso, <code class="literal">00</code>.  No hará ningún
          daño añadir todas las entradas de
          <code class="literal">00</code> hasta <code class="literal">99</code> para
          <code class="literal">dp</code>, <code class="literal">gw</code>, <code class="literal">sp</code>
          y <code class="literal">ms</code>).  Si va a utilizar un
          <span class="application">SAProuter</span>
          o necesita acceder a
          <span class="application"><span class="trademark">SAP</span>®</span> OSS, también
          necesitará <code class="literal">99</code>, ya que el puerto 3299
          se usa generalmente para el proceso
          <span class="application">SAProuter</span>
          en el sistema destino:</p><pre class="programlisting">
sapdp00    3200/tcp # SAP Dispatcher.      3200 + Instance-Number
sapgw00  3300/tcp # SAP Gateway.         3300 + Instance-Number
sapsp00  3400/tcp #                      3400 + Instance-Number
sapms00  3500/tcp #                      3500 + Instance-Number
sapms<em class="replaceable"><code>SID</code></em> 3600/tcp # SAP Message Server.  3600 + Instance-Number
sapgw00s   4800/tcp # SAP Secure Gateway   4800 + Instance-Number</pre></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="necessarylocales"></a>10.7.7.5. Locales necesarios</h4></div></div></div><a id="idp73752144" class="indexterm"></a><p><span class="application"><span class="trademark">SAP</span>®</span> requiere al menos dos locales
          que no forman parte de la instalación por defecto de
          RedHat.  <span class="trademark">SAP</span>® dispone de los paquetes RPMs que pueda necesitar;
          puede descargalos desde su FTP, aunque tenga en cuenta que
	  solo pueden acceder al mismo los clientes con acceso OSS).
          Consulte la nota
          0171356, que contiene una lista de los RPM que necesitará.
          </p><p>También puede crear enlaces
          (por ejemplo desde <span class="emphasis"><em>de_DE</em></span> y
          <span class="emphasis"><em>en_US</em></span> ), pero no se lo recomendamos si
          pretende configurar un sistema de producción (no obstante,
          hemos de reconocer que a nosotros nos ha funcionado con
          el sistema IDES sin ningún problema).  Necesitará
          al menos los siguientes locales:</p><pre class="programlisting">de_DE.ISO-8859-1
en_US.ISO-8859-1</pre><p>Haga los enlaces de esta manera:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cd /compat/linux/usr/share/locale</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>ln -s de_DE de_DE.ISO-8859-1</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>ln -s en_US en_US.ISO-8859-1</code></strong></pre><p>Si no están habrá algunos
          problemas durante la instalación.  Si se ignoran
          (es decir, si configura el <code class="literal">STATUS</code>
          de los pasos relacionados con esos locales a
          <code class="literal">OK</code> en el fichero
          <code class="filename">CENTRDB.R3S</code>) será imposible
          entrar al sistema <span class="application"><span class="trademark">SAP</span>®</span> sin
          tener que recurrir a ciertas triquiñuelas.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="kerneltuning"></a>10.7.7.6. Personalización del kernel</h4></div></div></div><a id="idp73798736" class="indexterm"></a><p>Los sistemas <span class="application"><span class="trademark">SAP</span>® <span class="trademark">R/3</span>®</span> necesitan muchos
          recursos, por eso hemos añadido los siguientes
          parámetros al fichero de configuración de su
          kernel:</p><pre class="programlisting"># Set these for memory pigs (SAP and Oracle):
options MAXDSIZ="(1024*1024*1024)"
options DFLDSIZ="(1024*1024*1024)"
# System V options needed.
options SYSVSHM #SYSV-style shared memory
options SHMMAXPGS=262144 #max amount of shared mem. pages
#options SHMMAXPGS=393216 #use this for the 46C inst.parameters
options SHMMNI=256 #max number of shared memory ident if.
options SHMSEG=100 #max shared mem.segs per process
options SYSVMSG #SYSV-style message queues
options MSGSEG=32767 #max num. of mes.segments in system
options MSGSSZ=32 #size of msg-seg. MUST be power of 2
options MSGMNB=65535 #max char. per message queue
options MSGTQL=2046 #max amount of msgs in system
options SYSVSEM #SYSV-style semaphores
options SEMMNU=256 #number of semaphore UNDO structures
options SEMMNS=1024 #number of semaphores in system
options SEMMNI=520 #number of semaphore identifiers
options SEMUME=100       #number of UNDO keys</pre><p>Puede consultar los valores mínimos en la
          documentación de <span class="trademark">SAP</span>®.  Como no hay detalles
          sobre Linux, consulte para mayor información
          la sección de HP-UX (32-bit).
          El sistema de instalación 4.6C SR2 tiene más
          memoria principal, asín que los segmentos compartidos
          pueden ser más extensos tanto para
          <span class="application"><span class="trademark">SAP</span>®</span> como para
          <span class="application"><span class="trademark">Oracle</span>®</span>; elija, por tanto,
          un número mayor de páginas
          de memoria compartida.</p><div xmlns="" class="note"><h3 class="admontitle">Nota: </h3><p xmlns="http://www.w3.org/1999/xhtml">En la instalación por omisión de
          FreeBSD 4.5 en <span class="trademark">i386</span>&#8482;, configure <code class="literal">MAXDSIZ</code>
          y <code class="literal">DFLDSIZ</code> como máximo a 1 GB.
          Si no lo hace podrían aparecer errores extraños
          como <span class="errorname">ORA-27102: out of memory</span>
          y <span class="errorname">Linux Error: 12: Cannot allocate memory</span>.</p></div></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="installingsapr3"></a>10.7.8. Instalación de <span class="trademark">SAP</span>® <span class="trademark">R/3</span>®</h3></div></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="preparingsapcdroms"></a>10.7.8.1. Preparación de los CDROM</h4></div></div></div><p>Hay que montar y desmontar muchos CD-ROM durante la
          instalación.  Si tiene suficientes unidades
          de CDROM, podría montarlos todos.  Nosotros decidimos
          copiar el contenido de los CD-ROM a los directorios
          correspondientes:</p><pre class="programlisting">/oracle/<em class="replaceable"><code>SID</code></em>/sapreorg/<em class="replaceable"><code>nombre-cd</code></em></pre><p>Donde <em class="replaceable"><code>nombre-cd</code></em> era <code class="filename">KERNEL</code>,
	  <code class="filename">RDBMS</code>, <code class="filename">EXPORT1</code>,
	  <code class="filename">EXPORT2</code>, <code class="filename">EXPORT3</code>,
	  <code class="filename">EXPORT4</code>, <code class="filename">EXPORT5</code> y
	  <code class="filename">EXPORT6</code> para la instalación 4.6B/IDES, y
	  <code class="filename">KERNEL</code>, <code class="filename">RDBMS</code>,
	  <code class="filename">DISK1</code>, <code class="filename">DISK2</code>,
	  <code class="filename">DISK3</code>, <code class="filename">DISK4</code> y
	  <code class="filename">LANG</code> para la instalación 4.6C SR2.
          Todos los nombres de fichero en los CDs montados deben estar
          en mayúsculas; si no es así use la opción
          <code class="option">-g</code> al montar.  Utilice lo siguiente:
          </p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mount_cd9660 -g /dev/cd0a /mnt</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>cp -R /mnt/* /oracle/SID/sapreorg/nombre-cd</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>umount /mnt</code></strong></pre></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="runningtheinstall-script"></a>10.7.8.2. Ejecución del <span class="quote">&#8220;<span class="quote">script</span>&#8221;</span> de
          instalación</h4></div></div></div><p>Primero tendrá que preparar un directorio
          <code class="filename">install</code>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cd /oracle/SID/sapreorg</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>mkdir install</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>cd install</code></strong></pre><p>Una vez arrancado el <span class="quote">&#8220;<span class="quote">script</span>&#8221;</span> de instalación
          copiará casi todos los ficheros relevantes en el directorio
          <code class="filename">install</code>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>/oracle/SID/sapreorg/KERNEL/UNIX/INSTTOOL.SH</code></strong></pre><p>La instalación IDES (4.6B) incluye un sistema de
          demostración <span class="trademark">SAP</span>® <span class="trademark">R/3</span>® totalmente personalizado, así
          que hay seis CD EXPORT en lugar de solo tres.
          La plantilla de instalación
          <code class="filename">CENTRDB.R3S</code> está pensada para
          una instancia central estándar
          (<span class="application"><span class="trademark">R/3</span>®</span> y
          base de datos), no la instancia central IDES, así que
          hay que copiar el <code class="filename">CENTRDB.R3S</code>
          correspondiente del directorio
          <code class="filename">EXPORT1</code>.
          Si no lo hace <code class="command">R3SETUP</code> solo pedirá
          tres CD EXPORT.</p><p>La nueva versión de
          <span class="application"><span class="trademark">SAP</span>® 4.6C SR2</span>
          incluye cuatro CDs EXPORT.  El fichero de parámetros
          que controla los pasos de la instalación es
          <code class="filename">CENTRAL.R3S</code>.  A diferencia de versiones
          versiones anteriores, no existen patrones de instalación
          por separado para una instancia central con o sin base de datos.
          <span class="application"><span class="trademark">SAP</span>®</span> utiliza un patrón separado
          para la instalación de la base
          de datos.  Para reiniciar la instalación después es
          suficiente reiniciarla con el fichero original.</p><p>Durante y después de la instalación,
          <span class="application"><span class="trademark">SAP</span>®</span>
          necesita que <code class="command">hostname</code> devuelva
          <span class="emphasis"><em>sólamente</em></span> el nombre del sistema,
          no el nombre cualificado de dominio.  Configure el nombre
          del equipo de ese modo, o active un alias mediante
          <code class="command">alias hostname='hostname -s'</code> para
          <code class="systemitem">ora<em class="replaceable"><code>sid</code></em></code>
          y para <code class="systemitem"><em class="replaceable"><code>sid</code></em>adm</code>
          (y para <code class="systemitem">root</code> al menos durante los
          pasos de la instalación realizados como
          <code class="systemitem">root</code>).  También puede configurar
          los ficheros <code class="filename">.profile</code> y
          <code class="filename">.login</code> de los usuarios que se crean durante
          la instalación <span class="application"><span class="trademark">SAP</span>®</span>.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="startr3setup-46B"></a>10.7.8.3. Inicio de <code class="command">R3SETUP</code> 4.6B</h4></div></div></div><p>Asegúrese de que <code class="envar">LD_LIBRARY_PATH</code>
          esté configurada correctamente:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>export LD_LIBRARY_PATH=/oracle/IDS/lib:/sapmnt/IDS/exe:/oracle/805_32/lib</code></strong></pre><p>Inicie <code class="command">R3SETUP</code> como <code class="systemitem">root</code>
          desde el directorio de instalación:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cd /oracle/IDS/sapreorg/install</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>./R3SETUP -f CENTRDB.R3S</code></strong></pre><p>El <span class="quote">&#8220;<span class="quote">script</span>&#8221;</span> le preguntará algunas cosas;
          le mostramos aquí entre corchetes la respuesta por
          defecto, y después la respuesta que nosotros
          introdujimos:</p><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /><col /></colgroup><thead><tr><th>Pregunta</th><th>Por omisión</th><th>Entrada</th></tr></thead><tbody><tr><td>Enter SAP System ID</td><td>[C11]</td><td>IDS<span class="keycap"><strong>Intro</strong></span></td></tr><tr><td>Enter SAP Instance Number</td><td>[00]</td><td><span class="keycap"><strong>Intro</strong></span></td></tr><tr><td>Enter SAPMOUNT Directory</td><td>[/sapmnt]</td><td><span class="keycap"><strong>Intro</strong></span></td></tr><tr><td>Enter name of SAP central host</td><td>[troubadix.domain.de]</td><td><span class="keycap"><strong>Intro</strong></span></td></tr><tr><td>Enter name of SAP db host</td><td>[troubadix]</td><td><span class="keycap"><strong>Intro</strong></span></td></tr><tr><td>Select character set</td><td>[1] (WE8DEC)</td><td><span class="keycap"><strong>Intro</strong></span></td></tr><tr><td>Enter Oracle server version (1) Oracle 8.0.5, (2) Oracle 8.0.6, (3) Oracle 8.1.5, (4) Oracle 8.1.6</td><td> </td><td>1<span class="keycap"><strong>Intro</strong></span></td></tr><tr><td>Extract Oracle Client archive</td><td>[1] (Yes, extract)</td><td><span class="keycap"><strong>Intro</strong></span></td></tr><tr><td>Enter path to KERNEL CD</td><td>[/sapcd]</td><td>/oracle/IDS/sapreorg/KERNEL</td></tr><tr><td>Enter path to RDBMS CD</td><td>[/sapcd]</td><td>/oracle/IDS/sapreorg/RDBMS</td></tr><tr><td>Enter path to EXPORT1 CD</td><td>[/sapcd]</td><td>/oracle/IDS/sapreorg/EXPORT1</td></tr><tr><td>Directory to copy EXPORT1 CD</td><td>[/oracle/IDS/sapreorg/CD4_DIR]</td><td><span class="keycap"><strong>Intro</strong></span></td></tr><tr><td>Enter path to EXPORT2 CD</td><td>[/sapcd]</td><td>/oracle/IDS/sapreorg/EXPORT2</td></tr><tr><td>Directory to copy EXPORT2 CD</td><td>[/oracle/IDS/sapreorg/CD5_DIR]</td><td><span class="keycap"><strong>Intro</strong></span></td></tr><tr><td>Enter path to EXPORT3 CD</td><td>[/sapcd]</td><td>/oracle/IDS/sapreorg/EXPORT3</td></tr><tr><td>Directory to copy EXPORT3 CD</td><td>[/oracle/IDS/sapreorg/CD6_DIR]</td><td><span class="keycap"><strong>Intro</strong></span></td></tr><tr><td>Enter path to EXPORT4 CD</td><td>[/sapcd]</td><td>/oracle/IDS/sapreorg/EXPORT4</td></tr><tr><td>Directory to copy EXPORT4 CD</td><td>[/oracle/IDS/sapreorg/CD7_DIR]</td><td><span class="keycap"><strong>Intro</strong></span></td></tr><tr><td>Enter path to EXPORT5 CD</td><td>[/sapcd]</td><td>/oracle/IDS/sapreorg/EXPORT5</td></tr><tr><td>Directory to copy EXPORT5 CD</td><td>[/oracle/IDS/sapreorg/CD8_DIR]</td><td><span class="keycap"><strong>Intro</strong></span></td></tr><tr><td>Enter path to EXPORT6 CD</td><td>[/sapcd]</td><td>/oracle/IDS/sapreorg/EXPORT6</td></tr><tr><td>Directory to copy EXPORT6 CD</td><td>[/oracle/IDS/sapreorg/CD9_DIR]</td><td><span class="keycap"><strong>Intro</strong></span></td></tr><tr><td>Enter amount of RAM for SAP + DB</td><td> </td><td>850<span class="keycap"><strong>Intro</strong></span> (en Megabytes)</td></tr><tr><td>Service Entry Message Server</td><td>[3600]</td><td><span class="keycap"><strong>Intro</strong></span></td></tr><tr><td>Enter Group-ID of sapsys</td><td>[101]</td><td><span class="keycap"><strong>Intro</strong></span></td></tr><tr><td>Enter Group-ID of oper</td><td>[102]</td><td><span class="keycap"><strong>Intro</strong></span></td></tr><tr><td>Enter Group-ID of dba</td><td>[100]</td><td><span class="keycap"><strong>Intro</strong></span></td></tr><tr><td>Enter User-ID of <em class="replaceable"><code>sid</code></em>adm</td><td>[1000]</td><td><span class="keycap"><strong>Intro</strong></span></td></tr><tr><td>Enter User-ID of ora<em class="replaceable"><code>sid</code></em></td><td>[1002]</td><td><span class="keycap"><strong>Intro</strong></span></td></tr><tr><td>Number of parallel procs</td><td>[2]</td><td><span class="keycap"><strong>Intro</strong></span></td></tr></tbody></table></div><p>Si no ha copiado los CD a su disco duro el instalador
          <span class="application"><span class="trademark">SAP</span>®</span> no podrá encontrar
          el CD que necesite (identifica los contenidos mediante
          fichero <code class="filename">LABEL.ASC</code> de cada CD) y por lo
          tanto le pedirá que introduzca y monte el CD, o que
          confirme o introduzca la ruta de montaje.</p><p><code class="filename">CENTRDB.R3S</code> puede contener algún
          error.  En nuestro caso, solicitó
          el CD EXPORT4 más de una vez, pero se le indicó
          la clave correcta (6_LOCATION, luego 7_LOCATION, etc),
          así que pudimos continuar introduciendo
          los valores correctos.</p><p>Aparte de algunos problemas que se detallan más
          adelante  deberíamos ir llegando a la instalación
          del software de base de datos <span class="trademark">Oracle</span>®.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="startr3setup-46C"></a>10.7.8.4. Iniciar <code class="command">R3SETUP</code> 4.6C SR2</h4></div></div></div><p>Asegúrese de que <code class="envar">LD_LIBRARY_PATH</code> esté
          correctamente configurada.  Tenga en cuenta de que es un valor
          diferente de la instalación 4.6B con
	  <span class="application"><span class="trademark">Oracle</span>® 8.0.5</span>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>export LD_LIBRARY_PATH=/sapmnt/PRD/exe:/oracle/PRD/817_32/lib</code></strong></pre><p>Arranque <code class="command">R3SETUP</code> como el usuario
          <code class="systemitem">root</code>
          desde el directorio de instalación:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cd /oracle/PRD/sapreorg/install</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>./R3SETUP -f CENTRAL.R3S</code></strong></pre><p>El <span class="quote">&#8220;<span class="quote">script</span>&#8221;</span> le preguntará algunas cosas.
          Le presentamos la respuesta por omisión entre corchetes
          y después la respuesta que dimos nosotros):</p><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /><col /></colgroup><thead><tr><th>Pregunta</th><th>Por omisión</th><th>Entrada</th></tr></thead><tbody><tr><td>Enter SAP System ID</td><td>[C11]</td><td>PRD<span class="keycap"><strong>Intro</strong></span></td></tr><tr><td>Enter SAP Instance Number</td><td>[00]</td><td><span class="keycap"><strong>Intro</strong></span></td></tr><tr><td>Enter SAPMOUNT Directory</td><td>[/sapmnt]</td><td><span class="keycap"><strong>Intro</strong></span></td></tr><tr><td>Enter name of SAP central host</td><td>[majestix]</td><td><span class="keycap"><strong>Intro</strong></span></td></tr><tr><td>Enter Database System ID</td><td>[PRD]</td><td>PRD<span class="keycap"><strong>Intro</strong></span></td></tr><tr><td>Enter name of SAP db host</td><td>[majestix]</td><td><span class="keycap"><strong>Intro</strong></span></td></tr><tr><td>Select character set</td><td>[1] (WE8DEC)</td><td><span class="keycap"><strong>Intro</strong></span></td></tr><tr><td>Enter Oracle server version (2) Oracle 8.1.7</td><td> </td><td>2<span class="keycap"><strong>Intro</strong></span></td></tr><tr><td>Extract Oracle Client archive</td><td>[1] (Yes, extract)</td><td><span class="keycap"><strong>Intro</strong></span></td></tr><tr><td>Enter path to KERNEL CD</td><td>[/sapcd]</td><td>/oracle/PRD/sapreorg/KERNEL</td></tr><tr><td>Enter amount of RAM for SAP + DB</td><td>2044</td><td>1800<span class="keycap"><strong>Intro</strong></span> (in Megabytes)</td></tr><tr><td>Service Entry Message Server</td><td>[3600]</td><td><span class="keycap"><strong>Intro</strong></span></td></tr><tr><td>Enter Group-ID of sapsys</td><td>[100]</td><td><span class="keycap"><strong>Intro</strong></span></td></tr><tr><td>Enter Group-ID of oper</td><td>[101]</td><td><span class="keycap"><strong>Intro</strong></span></td></tr><tr><td>Enter Group-ID of dba</td><td>[102]</td><td><span class="keycap"><strong>Intro</strong></span></td></tr><tr><td>Enter User-ID of <code class="systemitem">oraprd</code></td><td>[1002]</td><td><span class="keycap"><strong>Intro</strong></span></td></tr><tr><td>Enter User-ID of <code class="systemitem">prdadm</code></td><td>[1000]</td><td><span class="keycap"><strong>Intro</strong></span></td></tr><tr><td>LDAP support</td><td> </td><td>3<span class="keycap"><strong>Intro</strong></span> (no support)</td></tr><tr><td>Installation step completed</td><td>[1] (continue)</td><td><span class="keycap"><strong>Intro</strong></span></td></tr><tr><td>Choose installation service</td><td>[1] (DB inst,file)</td><td><span class="keycap"><strong>Intro</strong></span></td></tr></tbody></table></div><p>La creación de usuarios da un
          error durante la instalación en las fases
          OSUSERDBSID_IND_ORA (al crear al usuario
          <code class="systemitem">ora<em class="replaceable"><code>sid</code></em></code>) y
          OSUSERSIDADM_IND_ORA (al crear el usuario
	  <code class="systemitem"><em class="replaceable"><code>sid</code></em>adm</code>).</p><p>Más adelante hablaremos de cierto problemas
          que aún tenemos pendientes, pero ha llegado el
          momento de instalar el software
          de base de datos <span class="trademark">Oracle</span>®.</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="installingoracle805"></a>10.7.9. Instalación de <span class="trademark">Oracle</span>® 8.0.5</h3></div></div></div><p>Consulte los
        <code class="filename">Readme</code> de <span class="trademark">Oracle</span>® y las notas de
        de <span class="trademark">SAP</span>® sobre Linux y <span class="application"><span class="trademark">Oracle</span>® DB</span>
        por si hubiera algo que le pueda afectar.  La mayoría de los
        problemas, por no decir todos, tienen su origen en bibliotecas
        incompatibles.</p><p>Para mayor información sobre la instalación
        de <span class="application"><span class="trademark">Oracle</span>®</span> diríjase al
        <a class="link" href="linuxemu-oracle.html" title="10.6. Instalación de Oracle®">capítulo de
        instalación de <span class="trademark">Oracle</span>®.</a></p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="installingtheoracle805withorainst"></a>10.7.9.1. Instalación de <span class="trademark">Oracle</span>® 8.0.5 con <code class="command">orainst</code></h4></div></div></div><p>Si quiere instalar <span class="application"><span class="trademark">Oracle</span>® 8.0.5</span>
          necesitará unas cuantas bibliotecas para el enlazado,
          ya que <span class="application"><span class="trademark">Oracle</span>® 8.0.5</span>
          fué enlazado con una glibc antigua (la de RedHat 6.0),
          pero RedHat 6.1 usa una nueva glibc.  Tendrá que
          instalar los siguientes paquetes para
          asegurarse que el reenlazado funcione:</p><p><code class="filename">compat-libs-5.2-2.i386.rpm</code></p><p><code class="filename">compat-glibc-5.2-2.0.7.2.i386.rpm</code></p><p><code class="filename">compat-egcs-5.2-1.0.3a.1.i386.rpm</code></p><p><code class="filename">compat-egcs-c++-5.2-1.0.3a.1.i386.rpm</code></p><p><code class="filename">compat-binutils-5.2-2.9.1.0.23.1.i386.rpm</code></p><p>Para más información consulte las notas
          correspondientes de <span class="trademark">SAP</span>® o los <code class="filename">Readme</code>
          de <span class="trademark">Oracle</span>®.  Si no es posible (durante la instalación
          no tuvimos tiempo suficiente para ello), se
          podrían utilizar los binarios originales, o
          los binarios reenlazados de un sistema original RedHat.</p><p>Instale el paquete Tcl de RedHat para compilar el agente
          inteligente.  Si no puede conseguir
          <code class="filename">tcl-8.0.3-20.i386.rpm</code> debería
          funcionar una versión más reciente, por ejemplo
          <code class="filename">tcl-8.0.5-30.i386.rpm</code> para RedHat.</p><p>Aparte del reenlazado, la instalación
          es muy sencilla:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>su - oraids</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>export TERM=xterm</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>export ORACLE_TERM=xterm</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>export ORACLE_HOME=/oracle/IDS</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>cd $ORACLE_HOME/orainst_sap</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>./orainst</code></strong></pre><p>Confirme todas las pantallas con <span class="keycap"><strong>Intro</strong></span> hasta
          que el software esté instalado; todas excepto en la que
          debe quitar la marca de instalación al
	  <span class="emphasis"><em>visualizador de
          textos <span class="trademark">Oracle</span>® en línea</em></span>, ya que no
          existe para Linux.  <span class="application"><span class="trademark">Oracle</span>®</span>
          intentará, gracias a esto, reenlazar con
          <code class="command">i386-glibc20-linux-gcc</code>
          en lugar de <code class="command">gcc</code>,
          <code class="command">egcs</code> o
          <code class="command">i386-redhat-linux-gcc</code>.</p><p>Debido a la falta de tiempo decidimos usar los binarios
          de una versión
          <span class="application"><span class="trademark">Oracle</span>® 8.0.5 PreProduction</span>,
          después de que nuestro primer intento de que funcionara la
          versión del CD RDBMS fallara y viendo que encontrar y
          utilizar los RPM correctos hubiera sido una pesadilla.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="installingtheoracle805preproduction"></a>10.7.9.2. Instalación de <span class="trademark">Oracle</span>® 8.0.5 <span class="quote">&#8220;<span class="quote">Pre-production
          Release</span>&#8221;</span> para Linux (Kernel 2.0.33)</h4></div></div></div><p>La instalación es bastante fácil.
          Monte el CD e inicie el instalador.  Le preguntará
          por la ubicación del directorio home de <span class="trademark">Oracle</span>®,
          y copiará en él todos los binarios.  (Nosotros
          no eliminamos los restos de una instalación
          RDBMS anterior que no terminó de llegó a
	  terminar).</p><p>Tras esto la base de datos <span class="application"><span class="trademark">Oracle</span>®</span>
          puede arrancar.</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="installingoracle817"></a>10.7.10. Instalación desde el fichero comprimido de
        Linux <span class="trademark">Oracle</span>® 8.1.7</h3></div></div></div><p>Descomprima el fichero
        <code class="filename">oracle81732.tgz</code> (creado en el directorio
        de instalación en un sistema Linux) y descomprímalo en
        <code class="filename">/oracle/SID/817_32/</code>.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="continuewithsapr4installation"></a>10.7.11. Continúe con la instalación <span class="trademark">SAP</span>® <span class="trademark">R/3</span>®</h3></div></div></div><p>Revise las configuraciones del entorno de los usuarios
        <code class="systemitem">idsamd</code>
        (<em class="replaceable"><code>sid</code></em>adm) y
        <code class="systemitem">oraids</code> (ora<em class="replaceable"><code>sid</code></em>).
        Ambos deben tener los ficheros
        <code class="filename">.profile</code>, <code class="filename">.login</code> y
        <code class="filename">.cshrc</code> con
        <code class="command">hostname</code> correctamente configurado.  En caso
        que el nombre del sistema sea el nombre cualificado completo
        tendrá que cambiar <code class="command">hostname</code> a
        <code class="command">hostname -s</code> en los tres ficheros anteriormente
        citados.</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="databaseload"></a>10.7.11.1. Carga de la base de datos</h4></div></div></div><p>Hecho esto puede rearrancar <code class="command">R3SETUP</code>
          o volver a arrancar la instalación
          (dependiendo si eligió salir o no).
          <code class="command">R3SETUP</code>
          crea las tablas y carga los datos (en 46B IDES,
          desde EXPORT1 a EXPORT6, en 46C desde DISK1 a DISK4)
          mediante <code class="command">R3load</code>.</p><p>Cuando se termina la carga de la base de datos (que puede
          llevar un par de horas) se le pedirán algunas
          contraseñas.  En una instalación de prueba puede
          usar unas contraseñas de compromiso.
          (<span class="emphasis"><em>use una contraseña de verdad si le preocupa
          siquiera ligeramente la seguridad</em></span>):</p><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Pregunta</th><th>Entrada</th></tr></thead><tbody><tr><td>Enter Password for sapr3</td><td>sap<span class="keycap"><strong>Intro</strong></span></td></tr><tr><td>Confirum Password for sapr3</td><td>sap<span class="keycap"><strong>Intro</strong></span></td></tr><tr><td>Enter Password for sys</td><td>change_on_install<span class="keycap"><strong>Enter</strong></span></td></tr><tr><td>Confirm Password for sys</td><td>change_on_install<span class="keycap"><strong>Enter</strong></span></td></tr><tr><td>Enter Password for system</td><td>manager<span class="keycap"><strong>Intro</strong></span></td></tr><tr><td>Confirm Password for system</td><td>manager<span class="keycap"><strong>Intro</strong></span></td></tr></tbody></table></div><p>Aquí tuvimos problemas con
	  <code class="command">dipgntab</code> en la instalación de
          4.6B.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="listener"></a>10.7.11.2. Las escuchas</h4></div></div></div><p>Arranque las escuchas de <span class="application"><span class="trademark">Oracle</span>®</span>
          con el usuario <code class="systemitem">ora<em class="replaceable"><code>sid</code></em></code>
          de la siguiente manera:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>umask 0; lsnrctl start</code></strong></pre><p>Si no lo hace así verá un error
          <span class="errorcode">ORA-12546</span>,
          ya que los sockets no tendrán los permisos correctos.
          Consulte la nota 072984 de <span class="trademark">SAP</span>®.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="mnlstables"></a>10.7.11.3. Actualización de tablas MNLS</h4></div></div></div><p>Si tiene previsto importar idiomas que no sean Latin-1
          en <span class="application"><span class="trademark">SAP</span>®</span> tiene que actualizar
          las tablas <span class="quote">&#8220;<span class="quote">Multi National Language Support</span>&#8221;</span>.
          Tiene más información sobre esto en las notas de
          <span class="trademark">SAP</span>® OSS 15023 y 45619.  Si no es su caso puede saltarse
          esta parte de la instalación de
	  <span class="application"><span class="trademark">SAP</span>®</span>.</p><div xmlns="" class="note"><h3 class="admontitle">Nota: </h3><p xmlns="http://www.w3.org/1999/xhtml">Aunque no necesite soporte MNLS sigue siendo necesario
          que revise la tabla TCPDB y que la inicialice si no lo ha hecho ya.
          Consulte las notas 0015023 y 0045619 de <span class="trademark">SAP</span>® para más
          información.</p></div></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="postinstallationsteps"></a>10.7.12. Pasos para después de la instalación</h3></div></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="requestsapr3licensekey"></a>10.7.12.1. Solicitar una licencia <span class="trademark">SAP</span>® <span class="trademark">R/3</span>®</h4></div></div></div><p>Tiene que solicitar una licencia de
          <span class="application"><span class="trademark">SAP</span>® <span class="trademark">R/3</span>®</span>.  No tendrá más
          remedio, puesto que la licencia temporal que se usa durante la
          instalación tiene un límite de validez de
          cuatro semanas.  Necesitará la llave
          hardware.  Entre al sistema como usuario
          <code class="systemitem">idsadm</code>
          y ejecute <code class="command">saplicense</code>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>/sapmnt/IDS/exe/saplicense -get</code></strong></pre><p>Si ejecuta <code class="command">saplicense</code> sin parámetros
          verá una lista de opciones.  Una vez que tenga la licencia
          en su poder la podrá instalar del siguiente modo:
          </p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>/sapmnt/IDS/exe/saplicense -install</code></strong></pre><p>Se le solicitará que introduzca los siguientes
          valores:</p><pre class="programlisting">SAP SYSTEM ID   = <em class="replaceable"><code>SID, 3 caracteres</code></em>
CUSTOMER KEY    = <em class="replaceable"><code>llave hardware, 11 caracteres</code></em>
INSTALLATION NO = <em class="replaceable"><code>instalación, 10 caracteres</code></em>
EXPIRATION DATE = <em class="replaceable"><code>yyyymmdd, normalmente "99991231"</code></em>
LICENSE KEY     = <em class="replaceable"><code>licencia, 24 caracteres</code></em></pre></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="creatingusers"></a>10.7.12.2. Crear usuarios</h4></div></div></div><p>Cree un usuario dentro del cliente 000 (es necesario
          para algunas tareas que requieren hacerse dentro del cliente 000,
          pero con un usuario que no sea ni
          <code class="systemitem">sap*</code>
          ni <code class="systemitem">ddic</code>).  Nosotros solemos elegir
          para este usuario el nombre de <code class="systemitem">wartung</code>
          (o <code class="systemitem">service</code>, ambos
          <span class="quote">&#8220;<span class="quote">servicio</span>&#8221;</span> en castellano).
          Los perfiles son <code class="literal">sap_new</code> y
          <code class="literal">sap_all</code>.  Para mayor seguridad
          las contraseñas para usuarios por defecto dentro de
          todos los clientes deben cambiarse (incluidos los
          usuarios <code class="systemitem">sap*</code> y
          <code class="systemitem">ddic</code>).</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="configtranssysprofileopermodesetc"></a>10.7.12.3. Configurar sistema de transporte, perfil,
	  modos de operación, etc.</h4></div></div></div><p>Dentro del cliente 000 y con un usuario que no sea
          <code class="systemitem">ddic</code>
          ni <code class="systemitem">sap*</code>, haga al menos lo siguiente:</p><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Tarea</th><th>Transacción</th></tr></thead><tbody><tr><td>Configurar sistema de transporte, por ejemplo como
              <span class="emphasis"><em>Stand-Alone
              Transport Domain Entity</em></span></td><td>STMS</td></tr><tr><td>Crear / editar perfil para el sistema</td><td>RZ10</td></tr><tr><td>Mantener modos de operación e instancias</td><td>RZ04</td></tr></tbody></table></div><p>Todos estos (y muchos más) pasos para ejecutar
          después de la instalación se explican de forma
          detallada en las guías de instalación de
          <span class="application"><span class="trademark">SAP</span>®</span>.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="editintsidsap"></a>10.7.12.4. Editar <code class="filename">initsid.sap</code> (<code class="filename">initIDS.sap</code>)</h4></div></div></div><p>El fichero <code class="filename">/oracle/IDS/dbs/initIDS.sap</code>
          contiene la copia de seguridad del perfil de de
	  <span class="application"><span class="trademark">SAP</span>®</span>.
          Aquí es donde debe definir el tamaño de la cinta a
          utilizar, tipo de conpresión, etc. Las siguientes
          modificaciones nos permitirían ejecutar
          <code class="command">sapdba</code> /
          <code class="command">brbackup</code>:</p><pre class="programlisting">compress = hardware
archive_function = copy_delete_save
cpio_flags = "-ov --format=newc --block-size=128 --quiet"
cpio_in_flags = "-iuv --block-size=128 --quiet"
tape_size = 38000M
tape_address = /dev/nsa0
tape_address_rew = /dev/sa0</pre><p>Explicación:</p><p><code class="varname">compress</code>: La cinta que usamos es una
           HP DLT1 que tiene compresión por hardware.</p><p><code class="varname">archive_function</code>: Define el
          comportamiento por omisión del almacenaje de los
          logs de <span class="trademark">Oracle</span>®: los nuevos ficheros de log se guardan en cinta,
          los ficheros de log que ya han sido guardados
          se guardan de nuevo y luego se borran.  Así se
          evitan muchos problemas si necesita recuperar la base de datos
          y una de las cintas está dañada.</p><p><code class="varname">cpio_flags</code>: por omisión se usa
          <code class="option">-B</code>, que asigna un tamaño de bloque de
          5120 Bytes.  HP recomienda un tamaño de bloque de
          32 K como mínimo; usamos
          <code class="option">--block-size=128</code> para que sea de
          64 K.  Necesitaremos usar <code class="option">--format=newc</code>
          porque tenemos números de inodo mayores a 65535.  La
          última opción (<code class="option">--quiet</code>) se necesita
          ya que <code class="command">brbackup</code> se queja en cuanto
          <code class="command">cpio</code> imprime los números de bloque
          guardados.</p><p><code class="varname">cpio_in_flags</code>: Parámetros
          necesarios para cargar datos desde la cinta.  El formato
          es reconocido automáticamente.</p><p><code class="varname">tape_size</code>: La
          capacidad de almacenaje de la cinta.  Por razones
          de seguridad (nosotros usamos compresión por
          hardware) el valor es ligeramente menor que el valor
          real.</p><p><code class="varname">tape_address</code>: El dispositivo
          (que no permite el rebobinado) que se usará con
          <code class="command">cpio</code>.</p><p><code class="varname">tape_address_rew</code>: El dispositivo
          (que permite el rebobinado) que se usará con
          <code class="command">cpio</code>.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp74141008"></a>10.7.12.5. Aspectos de la configuración una vez
          concluida la instalación</h4></div></div></div><p>Los siguientes parámetros
	  <span class="application"><span class="trademark">SAP</span>®</span>
          deben personalizarse una vez concluída la
          instalación (los ejemplos son para IDES 46B,
          1 GB de memoria):</p><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Nombre</th><th>Valor</th></tr></thead><tbody><tr><td>ztta/roll_extension</td><td>250000000</td></tr><tr><td>abap/heap_area_dia</td><td>300000000</td></tr><tr><td>abap/heap_area_nondia</td><td>400000000</td></tr><tr><td>em/initial_size_MB</td><td>256</td></tr><tr><td>em/blocksize_kB</td><td>1024</td></tr><tr><td>ipc/shm_psize_40</td><td>70000000</td></tr></tbody></table></div><p><span class="trademark">SAP</span>® Note 0013026:</p><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Nombre</th><th>Valor</th></tr></thead><tbody><tr><td>ztta/dynpro_area</td><td>2500000</td></tr></tbody></table></div><p><span class="trademark">SAP</span>® Note 0157246:</p><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Nombre</th><th>Valor</th></tr></thead><tbody><tr><td>rdisp/ROLL_MAXFS</td><td>16000</td></tr><tr><td>rdisp/PG_MAXFS</td><td>30000</td></tr></tbody></table></div><div xmlns="" class="note"><h3 class="admontitle">Nota: </h3><p xmlns="http://www.w3.org/1999/xhtml">En un sistema con 1 GB de memoria y los parámetros
            arriba expuestos puede esperarse encontrar un consumo de
            memoria similar al siguiente:</p><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting">Mem: 547M Active, 305M Inact, 109M Wired, 40M Cache, 112M Buf, 3492K Free</pre></div></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="problemsduringinstallation"></a>10.7.13. Problemas durante la instalación</h3></div></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="restartr3setup"></a>10.7.13.1. Reiniciar <code class="command">R3SETUP</code> una vez arreglado
          el problema</h4></div></div></div><p><code class="command">R3SETUP</code> se detiene si encuentra un error.
          Si ha revisado los logs y ha corregido el error reinicie
          <code class="command">R3SETUP</code>; hágalo seleccionando
          la opción REPEAT en el paso donde
          <code class="command">R3SETUP</code> se detuvo.</p><p>Cuando quiera reiniciar <code class="command">R3SETUP</code>
          inícielo con el fichero <code class="filename">R3S</code>
          correspondiente:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>./R3SETUP -f CENTRDB.R3S</code></strong></pre><p>en el caso de 4.6B, o con</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>./R3SETUP -f CENTRAL.R3S</code></strong></pre><p>en 4.6C; no importa si el error ocurrió
            con <code class="filename">CENTRAL.R3S</code> o con
            <code class="filename">DATABASE.R3S</code>.</p><div xmlns="" class="note"><h3 class="admontitle">Nota: </h3><p xmlns="http://www.w3.org/1999/xhtml">En algunas etapas, <code class="command">R3SETUP</code> asume
            que la base de datos y los procesos
            <span class="application"><span class="trademark">SAP</span>®</span> están en marcha
            (como aquellos en los cuales se completaron los pasos).
            Si hay errores y por ejemplo la base de datos no se
            puede iniciar tendrá que arrancar la base de datos y
            <span class="application"><span class="trademark">SAP</span>®</span> manualmente una vez haya
            corregido los errores y antes de iniciar
            <code class="command">R3SETUP</code> nuevamente.</p><p xmlns="http://www.w3.org/1999/xhtml">No olvide iniciar también la escucha de
            <span class="application"><span class="trademark">Oracle</span>®</span>
            (como <code class="systemitem">ora<em class="replaceable"><code>sid</code></em></code> con
            <code class="command">umask 0; lsnrctl start</code>) si también
            tuvo que detenerlo (si por ejemplo hubo que reiniciar el
            sistema).</p></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="indoraduringduringr3setup"></a>10.7.13.2. OSUSERSIDADM_IND_ORA durante <code class="command">R3SETUP</code></h4></div></div></div><p>Si <code class="command">R3SETUP</code> se queja en este etapa edite
          la plantilla <code class="command">R3SETUP</code> que esté usando
          en ese momento (<code class="filename">CENTRDB.R3S</code> (en 4.6B) o
          <code class="filename">CENTRAL.R3S</code> o
          <code class="filename">DATABASE.R3S</code> (en 4.6C)).
          Ubique <code class="literal">[OSUSERSIDADM_IND_ORA]</code> o busque la
          única entrada <code class="literal">STATUS=ERROR</code> y
          edite los siguientes valores:</p><pre class="programlisting">HOME=/home/<em class="replaceable"><code>sid</code></em>adm (was empty)
STATUS=OK (had status ERROR)
        </pre><p>Hecho esto, reinicie <code class="command">R3SETUP</code>.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="indoraduringr3setup"></a>10.7.13.3. OSUSERDBSID_IND_ORA durante <code class="command">R3SETUP</code></h4></div></div></div><p>Es posible que <code class="command">R3SETUP</code> se queje
	  también en esta etapa.  El
          error aquí es similar al de la fase
          OSUSERSIDADM_IND_ORA.  Edite la plantilla
          <code class="command">R3SETUP</code> que esté usando
          (<code class="filename">CENTRDB.R3S</code> (en 4.6B) o
          <code class="filename">CENTRAL.R3S</code> o
          <code class="filename">DATABASE.R3S</code> (en 4.6C)).
          Ubique <code class="literal">[OSUSERDBSID_IND_ORA]</code> o busque la
          única entrada <code class="literal">STATUS=ERROR</code> y
          edite los siguientes valores en esa sección:</p><pre class="programlisting">STATUS=OK</pre><p>Hecho esto reinicie <code class="command">R3SETUP</code>.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="oraviewvrffilenotfound"></a>10.7.13.4. <span class="errorname">oraview.vrf FILE NOT FOUND</span> durante la instalación de <span class="trademark">Oracle</span>®</h4></div></div></div><p>No ha dejado sin seleccionar la opción de
          instalar el <span class="emphasis"><em>visualizador de texto en línea
          de <span class="trademark">Oracle</span>®</em></span> antes de iniciar la instalación.
          Está seleccionado para ser instalado, aunque la
          aplicación no existe para Linux.  Deje sin seleccionar
          el producto en el menú de instalación de
          <span class="application"><span class="trademark">Oracle</span>®</span> y reinicie la
          instalación.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="textenvincalid"></a>10.7.13.5. <span class="errorname">TEXTENV_INVALID</span> durante <code class="command">R3SETUP</code>, o inicio de RFC o SAPgui</h4></div></div></div><p>Si se encuentra con este error significa que falta el locale
          correcto.  La nota 0171356 de <span class="trademark">SAP</span>® contiene una lista de RPM que
          deben instalarse (p.ej. <code class="filename">saplocales-1.0-3</code>,
          <code class="filename">saposcheck-1.0-1</code> para RedHat 6.1).
          En caso de que ignore todos los errores relacionados y
          configure los <code class="literal">STATUS</code> correspondientes
          de <code class="literal">ERROR</code> a <code class="literal">OK</code>
          (en <code class="filename">CENTRDB.R3S</code>) cada vez que
          <code class="command">R3SETUP</code> se queje y simplemente reinicie
          <code class="command">R3SETUP</code>; el sistema
          <span class="application"><span class="trademark">SAP</span>®</span>
          no estará configurado correctamente y no podrá
          conectarse al sistema con <span class="application">SAPgui</span>,
          aunque el sistema pueda arrancar.  Si intenta conectar con el
          antiguo <span class="application">SAPgui</span> de Linux recibirá
          los siguientes mensajes:</p><pre class="programlisting">Sat May 5 14:23:14 2001
*** ERROR =&gt; no valid userarea given [trgmsgo. 0401]
Sat May 5 14:23:22 2001
*** ERROR =&gt; ERROR NR 24 occured [trgmsgi. 0410]
*** ERROR =&gt; Error when generating text environment. [trgmsgi. 0435]
*** ERROR =&gt; function failed [trgmsgi. 0447]
*** ERROR =&gt; no socket operation allowed [trxio.c 3363]
Speicherzugriffsfehler</pre><p>Este comportamiento se debe a que
          <span class="application"><span class="trademark">SAP</span>® <span class="trademark">R/3</span>®</span>
          es incapaz de asignar correctamente un locale y tampoco
          puede configurarse a sí mismo correctamente (faltan
          entradas en algunas tablas de la base de datos).
          Añada las siguientes entradas al fichero
          <code class="filename">DEFAULT.PFL</code> y podrá conectarse a
          <span class="application"><span class="trademark">SAP</span>®</span>
          (vea la nota 0043288):</p><pre class="programlisting">abap/set_etct_env_at_new_mode = 0
install/collate/active = 0
rscp/TCP0B = TCP0B</pre><p>Reinicie el sistema <span class="application"><span class="trademark">SAP</span>®</span>.
          Puede conectar al sistema, aunque la configuración
          de idioma o de país puede que no funcione como se
          espera de ella.  Una vez corregidas las configuraciones de
          país (y proporcionados los locales adecuados)
          puede eliminar estas entradas
          de <code class="filename">DEFAULT.PFL</code> y el sistema
          <span class="application"><span class="trademark">SAP</span>®</span> puede reiniciarse.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="ora-00001"></a>10.7.13.6. <span class="errorcode">ORA-00001</span></h4></div></div></div><p>Este error solo aparece con
          <span class="application"><span class="trademark">Oracle</span>® 8.1.7</span> en FreeBSD 4.5.
          Se debe a que la base de datos <span class="application"><span class="trademark">Oracle</span>®</span>
          no puede inicializarse correctamente y se viene abajo, dejando
          semáforos y memoria compartida en el sistema.  El
          siguiente intento de iniciar la base de datos produce
          el error <span class="errorcode">ORA-00001</span>.</p><p>Encuéntrelos con <code class="command">ipcs -a</code> y
          elimínelos
          con <code class="command">ipcrm</code>.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="ora-00445pmon"></a>10.7.13.7. <span class="errorcode">ORA-00445</span> (Brackground Process PMON
          Did Not Start)</h4></div></div></div><p>Este error tuvo lugar con
          <span class="application"><span class="trademark">Oracle</span>® 8.1.7</span>.  Aparece si
          se arranca la base de datos con el <span class="quote">&#8220;<span class="quote">script</span>&#8221;</span>
          <code class="command">startsap</code>
          (por ejemplo <code class="command">startsap_majestix_00</code>)
          con el usuario <code class="systemitem">prdadm</code>.</p><p>Una solución (entre otras) es iniciar la base de
          datos con el usuario <code class="systemitem">oraprd</code> en
          lugar de hacerlo con <code class="command">svrmgrl</code>:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>svrmgrl</code></strong>
SVRMGR&gt; <strong class="userinput"><code>connect internal;</code></strong>
SVRMGR&gt; <strong class="userinput"><code>startup</code></strong>;
SVRMGR&gt; <strong class="userinput"><code>exit</code></strong></pre></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="ora-12546"></a>10.7.13.8. <span class="errorcode">ORA-12546</span> (Start Listener with Correct
          Permissions)</h4></div></div></div><p>Inicie la escucha de <span class="application"><span class="trademark">Oracle</span>®</span> como
          usuario <code class="systemitem">oraids</code> con la siguiente
	  orden:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>umask 0; lsnrctl start</code></strong></pre><p>De no ser así puede encontrarse con el error
          <span class="errorcode">ORA-12546</span>, ya que los sockets no
          tendrán los permisos adecuados.  Consulte la nota
          de <span class="trademark">SAP</span>® 0072984.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="ora-27102"></a>10.7.13.9. <span class="errorcode">ORA-27102</span> (Out of Memory)</h4></div></div></div><p>Este error ocurre al tratar de usar valores mayores
          a 1 GB (1024x1024x1024) en <code class="literal">MAXDSIZ</code>
          y <code class="literal">DFLDSIZ</code>.  Recibiremos, además, este
          otro error:
          <span class="errorname">Linux Error 12: Cannot allocate memory</span>.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="dipgntabindind"></a>10.7.13.10. [DIPGNTAB_IND_IND] during <code class="command">R3SETUP</code></h4></div></div></div><p>Consulte la nota de <span class="trademark">SAP</span>® 0130581 de
          (<code class="command">R3SETUP</code> step
          (<code class="literal">DIPGNTAB</code> terminates).  Por alguna razón
          durante la instalación específica IDES el proceso
          de instalación no usaba el nombre de sistema correcto
          <span class="application"><span class="trademark">SAP</span>®</span>  <span class="quote">&#8220;<span class="quote">IDS</span>&#8221;</span>
          sino la cadena vacía <code class="literal">""</code>.
          Esto provocaba algunos errores menores en el acceso a directorios,
          ya que las rutas se generan dinámicamente en base a dicho
          <em class="replaceable"><code>SID</code></em> (en este caso IDS).
          En lugar de ejecutar los accesos del siguiente modo :</p><pre class="programlisting">/usr/sap/IDS/SYS/...
/usr/sap/IDS/DVMGS00</pre><p>se usaron las siguientes rutas:</p><pre class="programlisting">/usr/sap//SYS/...
/usr/sap/D00</pre><p>Para continuar con la instalación creamos un
          enlace y un directorio adicional:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>pwd</code></strong>
/compat/linux/usr/sap
<code class="prompt">#</code> <strong class="userinput"><code>ls -l</code></strong>
total 4
drwxr-xr-x 3  idsadm sapsys 512 May 5 11:20 D00
drwxr-x--x 5  idsadm sapsys 512 May 5 11:35 IDS
lrwxr-xr-x 1  root   sapsys 7 May 5 11:35 SYS -&gt; IDS/SYS
drwxrwxr-x 2  idsadm sapsys 512 May 5 13:00 tmp
drwxrwxr-x 11 idsadm sapsys 512 May 4 14:20 trans</pre><p>Encontramos una descripción de este comportamiento
          en las notas de <span class="trademark">SAP</span>®.  (0029227 y 0008401).
          En la instalación de
          <span class="application"><span class="trademark">SAP</span>® 4.6C</span> no tuvimos estos
          problemas.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="rfcrswboiniindind"></a>10.7.13.11. [RFCRSWBOINI_IND_IND] during <code class="command">R3SETUP</code></h4></div></div></div><p>Durante la instalación de
          <span class="application"><span class="trademark">SAP</span>® 4.6C</span> nos encontramos con
          este error, cuyo origen está en un error que tuvo lugar
          anteriormente durante la propia instalación.
          Busque en sus ficheros de log y corrija el problema.</p><p>Si despues de buscar en los logs el error resulta ser
          el correcto (revise las notas de <span class="trademark">SAP</span>®), puede poner el
          <code class="literal">STATUS</code> del paso donde se produce el error de
          <code class="literal">ERROR</code> a <code class="literal">OK</code>
          (en el fichero <code class="filename">CENTRDB.R3S</code>) y reiniciar
          <code class="command">R3SETUP</code>.  Una vez finalizada la instalación,
          tiene que ejecutar el informe <code class="literal">RSWBOINS</code>
          de la transacción SE38.  Consulte la nota <span class="trademark">SAP</span>® 0162266
          para más información sobre las fases
          <code class="literal">RFCRSWBOINI</code> y
	  <code class="literal">RFCRADDBDIF</code>.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="rfcraddbdifindind"></a>10.7.13.12. [RFCRADDBDIF_IND_IND] during <code class="command">R3SETUP</code></h4></div></div></div><p>Aquí sucede lo mismo de antes, asegúrese,
          revisando los logs, de que la causa de este error no esté
          en algún problema previo.</p><p>Si en la nota de <span class="trademark">SAP</span>® 0162266 está la solución
          ponga el <code class="literal">STATUS</code> del paso donde se
          produce el error de
          <code class="literal">ERROR</code> a <code class="literal">OK</code>
          (en el fichero <code class="filename">CENTRDB.R3S</code>) y reinicie
          <code class="command">R3SETUP</code>.  Una vez finalizada la
          instalación ejecute el informe
          <code class="literal">RADDBDIF</code> desde la transacción SE38.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="sigactionsig31"></a>10.7.13.13. <span class="errorcode">sigaction sig31: File size limit exceeded</span></h4></div></div></div><p>Este error ocurrió durante el inicio del proceso
          <span class="application"><span class="trademark">SAP</span>®</span>
          <span class="emphasis"><em>disp+work</em></span>.  Si inicia
          <span class="application"><span class="trademark">SAP</span>®</span>
          con el <span class="quote">&#8220;<span class="quote">script</span>&#8221;</span> <code class="command">startsap</code>
          se inician los subprocesos que se separan y hacen el
          <span class="quote">&#8220;<span class="quote">trabajo sucio</span>&#8221;</span> de iniciar el resto de procesos de
          <span class="application"><span class="trademark">SAP</span>®</span>, pero es importante saber que
          el propio <span class="quote">&#8220;<span class="quote">script</span>&#8221;</span> no notará si algo ha
          ido mal.</p><p>Puede revisar si los procesos <span class="application"><span class="trademark">SAP</span>®</span>
          se iniciaron correctamente con
          <code class="command">ps ax | grep SID</code>, que
          le proporcionará una lista de todos los procesos de
          <span class="application"><span class="trademark">Oracle</span>®</span> y de
          <span class="application"><span class="trademark">SAP</span>®</span>.
          Si parece que algunos procesos no están, o si no puede
          conectarse al sistema <span class="application"><span class="trademark">SAP</span>®</span> revise los
          logs que encontrará en
          <code class="filename">/usr/sap/SID/DVEBMGSnr/work/</code>.
          Los ficheros que debe revisar son <code class="filename">dev_ms</code> y
	  <code class="filename">dev_disp</code>.</p><p>La señal 31 aparece si la cantidad de memoria
          compartida asignada a
          <span class="application"><span class="trademark">Oracle</span>®</span> y
	  <span class="application"><span class="trademark">SAP</span>®</span>
          supera la definida dentro del fichero de configuración del
          kernel y puede resolverse usando un valor mayor:</p><pre class="programlisting"># larger value for 46C production systems:
options SHMMAXPGS=393216
# smaller value sufficient for 46B:
#options SHMMAXPGS=262144</pre></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="saposcolfails"></a>10.7.13.14. Start of <code class="command">saposcol</code> Failed</h4></div></div></div><p>Hay algunos problemas con el programa
          <code class="command">saposcol</code> (version 4.6D).
          El sistema <span class="application"><span class="trademark">SAP</span>®</span> utiliza
          <code class="command">saposcol</code> para recoger datos del
          rendimiento del sistema.  Este programa no es necesario para
          usar el sistema <span class="application"><span class="trademark">SAP</span>®</span>, así
          que el problema puede considerarse como poco importante.
          La versión más antigua (4.6B) funciona, pero
          no recoge todos los datos (muchas llamadas devolverán
          un 0, por ejemplo el uso de CPU).</p></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="linuxemu-oracle.html">Anterior</a> </td><td width="20%" align="center"><a accesskey="u" href="linuxemu.html">Subir</a></td><td width="40%" align="right"> <a accesskey="n" href="linuxemu-advanced.html">Siguiente</a></td></tr><tr><td width="40%" align="left" valign="top">10.6. Instalación de <span class="trademark">Oracle</span>® </td><td width="20%" align="center"><a accesskey="h" href="index.html">Inicio</a></td><td width="40%" align="right" valign="top"> 10.8. Temas avanzados</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Puede descargar éste y muchos otros documentos desde
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Si tiene dudas sobre FreeBSD consulte la
    <a href="http://www.FreeBSD.org/docs.html">documentación</a> antes de escribir a la lista
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Envíe sus preguntas sobre la documentación a
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>