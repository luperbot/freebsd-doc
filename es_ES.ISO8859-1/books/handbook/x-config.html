<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>5.4. Configuración de X11</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Manual de FreeBSD" /><link rel="up" href="x11.html" title="Capítulo 5. El sistema X Window" /><link rel="prev" href="x-install.html" title="5.3. Instalar X11" /><link rel="next" href="x-fonts.html" title="5.5. Uso de tipos en X11" /><link rel="copyright" href="legalnotice.html" title="Aviso Legal" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">5.4. Configuración de X11</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="x-install.html">Anterior</a> </td><th width="60%" align="center">Capítulo 5. El sistema X Window</th><td width="20%" align="right"> <a accesskey="n" href="x-fonts.html">Siguiente</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="x-config"></a>5.4. Configuración de X11</h2></div><div><span class="authorgroup">Escrito por <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Christopher</span> <span class="surname">Shumway</span></span>. </span></div></div></div><a id="idp70624720" class="indexterm"></a><a id="idp70625232" class="indexterm"></a><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp70625744"></a>5.4.1. Antes de empezar</h3></div></div></div><p>Antes de configurar X11 necesitará la siguiente
        información sobre el sistema:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Especificaciones del monitor</p></li><li class="listitem"><p>Chipset de la tarjeta de vídeo</p></li><li class="listitem"><p>Memoria de la tarjeta de vídeo</p></li></ul></div><a id="idp70629072" class="indexterm"></a><a id="idp70629584" class="indexterm"></a><p>X11 usa las especificaciones del monitor para determinar
        la resolución y la frecuencia de refresco a la que
        funcionará.  Estas especificaciones se pueden encontrar
        normalmente en la documentación que viene con el monitor o
        en la web del fabricante.  Se necesitan dos rangos de números: la
        frecuencia de refresco horizontal y la vertical.</p><p>El chipset de la tarjeta de vídeo define qué
        controlador utilizará X11 para comunicarse con el hardware
        gráfico.  Con la mayoría de chipsets es posible
	detectarlo automáticamente pero es útil saberlo en
        caso de que la detección automática no
        funcione.</p><p>La memoria de la tarjeta gráfica determina la
        resolución y la profundidad de color a la que el sistema
        funcionará.  Es importante saberlo para que el usuario
        conozca las limitaciones del sistema.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp70631376"></a>5.4.2. Configurar X11</h3></div></div></div><p>A partir de la versión 7.3
        <span class="application">Xorg</span> puede funcionar sin utilizar
	fichero de configuración; basta con teclear en el
	prompt:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>startx</code></strong></pre><p>Si no funciona, o si la configuración por
        omisión no es aceptable, hay que configurar X11
	a mano.</p><div xmlns="" class="note"><h3 class="admontitle">Nota: </h3><p xmlns="http://www.w3.org/1999/xhtml">Ciertos entornos de escritorio como
	  <span class="application">GNOME</span>,
	  <span class="application">KDE</span> o
	  <span class="application">XFce</span> tienen herramientas que permiten
	  al usuario configurar fácilmente parámetros
	  de la pantalla como la resolución.  Si la
	  configuración por omisión no sirve y tiene
	  idea de instalar un entorno de escritorio puede seguir
	  adelante tranquilamente con la instalación del entorno
	  de escritorio y utilice la herramienta que el software que
	  instale le facilite.</p></div><p>La configuración de X11 es un proceso que consta de
        múltiples pasos.  El primero es generar un fichero inicial
	de configuración.  Como superusuario teclee:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>Xorg -configure</code></strong></pre><p>Esto generará un fichero de configuración
        bastante esquemático pero completo en
        <code class="filename">/root</code> llamado
	<code class="filename">xorg.conf.new</code> (si ha utilizado <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=su&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">su</span>(1)</span></a> o
	ha entrado directamente como superusuario afectará al valor
	que tenga la variable de directorio
	<code class="envar">$HOME</code>).  X11 intentará probar el hardware
	gráfico del sistema y escribir un fichero de
	configuración en el que registrar los controladores de
	dispositivo adecuados para hacer funcionar el harware que haya
	detectado.</p><p>El siguiente paso es probar el fichero generado para
        verificar si <span class="application">Xorg</span>
        puede funcionar con el hardware gráfico del sistema.  Para
	ello teclee:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>Xorg -config xorg.conf.new</code></strong></pre><p>Si aparece una rejilla negra y gris junto con el cursor del
        ratón con forma de X es que la configuración ha
	tenido éxito.  Para salir de la prueba pulse
	simultáneamente
        <span class="keycap"><strong>Ctrl</strong></span>+<span class="keycap"><strong>Alt</strong></span>+<span class="keycap"><strong>Retroceso</strong></span>.</p><div xmlns="" class="note"><h3 class="admontitle">Nota: </h3><p xmlns="http://www.w3.org/1999/xhtml">Si el ratón no funciona tendrá que
	  configurarlo antes de continuar.  Consulte la
	  <a class="xref" href="install-post.html#mouse" title="2.10.10. Configuración del ratón">Sección 2.10.10, &#8220;Configuración del ratón&#8221;</a> en el capítulo de instalación
	  de FreeBSD.</p></div><a id="idp70677456" class="indexterm"></a><p>Después modifique el fichero <code class="filename">xorg.conf.new</code>
        a su gusto.  Abra el fichero con un editor de texto (como
        <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=emacs&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">emacs</span>(1)</span></a> o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ee&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ee</span>(1)</span></a>).  Primero añada las frecuencias
	del monitor.  Estas suelen estar expresadas en frecuencia de refresco
	horizontal y vertical.  Estos valores se añaden al fichero
        <code class="filename">xorg.conf.new</code> en la sección
        <code class="literal">"Monitor"</code>:</p><pre class="programlisting">Section "Monitor"
        Identifier   "Monitor0"
        VendorName   "Monitor Vendor"
        ModelName    "Monitor Model"
        HorizSync    30-107
        VertRefresh  48-120
EndSection</pre><p>Las palabras <code class="literal">HorizSync</code> y
        <code class="literal">VertRefresh</code>  podrían no existir en el
        fichero de configuración.  Si no existen es necesario
        añadirlas con la frecuencia horizontal correcta puesta
        después de la palabra <code class="literal">HorizSync</code> y la
        frecuencia vertical correcta después de la palabra
        <code class="literal">VertRefresh</code>.  En el ejemplo anterior se pusieron
        las frecuencias del monitor.</p><p>X permite usar las características DPMS (Energy Star)
        con los monitores que lo soportan.  El programa <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=xset&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">xset</span>(1)</span></a> controla
        el «timeout», y puede forzar los modos
        «standby», suspendido o apagado.  Si desea habilitar las
        características DPMS para su monitor tendrá que
        añadir la siguiente línea en la sección
        <code class="literal">monitor</code>:</p><pre class="programlisting">
        Option       "DPMS"</pre><a id="idp70685648" class="indexterm"></a><p>Agrege a su
        <code class="filename">xorg.conf.new</code>
        la resolución por omisión y la profundidad de
        color deseada.  Esto se define en la sección
        <code class="literal">"Screen"</code>:</p><pre class="programlisting">Section "Screen"
        Identifier "Screen0"
        Device     "Card0"
        Monitor    "Monitor0"
        DefaultDepth 24
        SubSection "Display"
                Viewport  0 0
                Depth     24
                Modes     "1024x768"
        EndSubSection
EndSection</pre><p>La palabra <code class="literal">DefaultDepth</code> describe la profundidad
        de color a la que arrancará por omisión.  Esto puede
        sobrescribirse con el argumento <code class="command">-bpp</code> de
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=Xorg&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">Xorg</span>(1)</span></a> (o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=XFree86&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">XFree86</span>(1)</span></a>).  La palabra <code class="literal">Modes</code>
	describe la resolución a la que funcionará para esa
	profundidad de color.  Observe que sólo los modos
	estándar VESA están soportados por el hardware
        gráfico.  En el ejemplo anterior la profundidad de color es
        24 bits por pixel.  En esta profundidad de color la resolución
        aceptada es 1024 por 768 pixels.</p><p>Para acabar guarde el fichero de configuración y
        pruébelo usando el modo de prueba descrito anteriormente
	</p><div xmlns="" class="note"><h3 class="admontitle">Nota: </h3><p xmlns="http://www.w3.org/1999/xhtml">Una de las herramientas disponibles para ayudarle con el
          proceso de solución de problemas es el fichero de
          «logs», que contiene información de cada
          dispositivo al que el servidor X11 se conecta.  Los
          «logs» (o bitácoras) de
          <span class="application">Xorg</span> se pueden encontrar en
          <code class="filename">/var/log/Xorg.0.log</code>
          El nombre exacto del fichero de «log» puede variar
          entre <code class="filename">Xorg.0.log</code> y
          <code class="filename">Xorg.8.log</code> y así
          sucesivamente.</p></div><p>Si todo ha ido bien ha llegado el momento de ubicar el
        fichero de configuración donde <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=Xorg&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">Xorg</span>(1)</span></a> pueda
	encontrarlo.  Puede dejarlo en
	<code class="filename">/etc/X11/xorg.conf</code> o
	<code class="filename">/usr/local/etc/X11/xorg.conf</code>.</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cp xorg.conf.new /etc/X11/xorg.conf</code></strong></pre><p>El proceso de configuración de X11 ha concluido.
	Arranque <span class="application">Xorg</span> mediante
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=startx&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">startx</span>(1)</span></a>.  Puede también arrancar el servidor X11
        utilizando <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=xdm&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">xdm</span>(1)</span></a>.</p><div xmlns="" class="note"><h3 class="admontitle">Nota: </h3><p xmlns="http://www.w3.org/1999/xhtml">Existe también una herramienta gráfica de
	configuración en X11, <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=xorgcfg&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">xorgcfg</span>(1)</span></a>.  Permite definir de
	forma interactiva su configuració mediante la elección
	de los controladores y las opciones adecuadas.  Este programa
	también puede usarse desde consola mediante la orden
	<code class="command">xorgcfg -textmode</code>.  Para más
	información consulte la página de manual de
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=xorgcfg&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">xorgcfg</span>(1)</span></a>.</p><p xmlns="http://www.w3.org/1999/xhtml">Puede usar también <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=xorgconfig&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">xorgconfig</span>(1)</span></a>.  Este programa es
        una herramienta orientada a consola que es bastante menos atractiva
	para el usuario, pero que puede funcionar en situaciones en las que
	otras herramientas no sirven.</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp70712528"></a>5.4.3. Configuración avanzada</h3></div></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp70713168"></a>5.4.3.1. Configuración de chipsets gráficos <span class="trademark">Intel</span>®
          i810</h4></div></div></div><a id="idp70714320" class="indexterm"></a><p>Para configurar los chipsets integrados <span class="trademark">Intel</span>® i810 es
          necesario el interfaz de programación AGP
          <code class="filename">agpart</code> para que
          X11 pueda usarla.  Consulte la página de manual de
          <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=agp&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">agp</span>(4)</span></a> para más información.</p><p>Hecho esto podrá configurar el hardware como cualquier
	  otra tarjeta gráfica.  Tenga en cuenta que si en un
	  sistema que no tenga el controlador <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=agp&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">agp</span>(4)</span></a> intenta cargar
	  el módulo del kernel con <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=kldload&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">kldload</span>(8)</span></a> no va a
	  funcionar.  El controlador tiene necesariamente que estar en el
	  kernel desde el mismo momento del arranque, cosa que puede
	  obtenerse bien compilando un nuevo kernel, bien utilizando
	  <code class="filename">/boot/loader.conf</code>.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp70731728"></a>5.4.3.2. Añadir una pantalla panorámica a nuestro sistema</h4></div></div></div><a id="idp70732368" class="indexterm"></a><p>A lo largo de esta sección se asumen unos mínimos
	  de soltura con ciertos aspectos de configuración avanzada.  Si
	  Si las herramientas estándar de configuración que se
	  han descrito previamente no le ayudan a tener una
	  configuración funcional busque en los ficheros de log,
	  ahí encontrará información suficiente para
	  lograrlo.  Tendrá que utilizar un editor de texto a lo
	  largo de estas instrucciones.</p><p>Los formatos actuales de pantalla panorámica,
	  (también conocidas como «Widescreen», WSXGA,
	  WSXGA+, WUXGA, WXGA, WXGA+, etc, soportan formatos de
	  16:10 y 10:9 o aspectos-tasa que pueden ser
	  problemáticos.  Veamos algunos ejemplos de resoluciones de
	  pantalla en formatos 16:10:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>2560x1600</p></li><li class="listitem"><p>1920x1200</p></li><li class="listitem"><p>1680x1050</p></li><li class="listitem"><p>1440x900</p></li><li class="listitem"><p>1280x800</p></li></ul></div><p>At some point, it will be as easy as adding one of these
	  resolutions as a possible <code class="literal">Mode</code> in the <code class="literal">Section
	  "Screen"</code> as such:</p><pre class="programlisting">Section "Screen"
Identifier "Screen0"
Device     "Card0"
Monitor    "Monitor0"
DefaultDepth 24
SubSection "Display"
	Viewport  0 0
	Depth     24
	Modes     "1680x1050"
EndSubSection
EndSection</pre><p><span class="application">Xorg</span> se basta y se sobra para
	  recabar la información de resolución de su pantalla
	  panorámica mediante la información
	  I2C/DDC, así que sabe qué frecuencias y
	  resoluciones puede manejar el monitor.</p><p>Si esas <code class="literal">ModeLines</code> no existen en los
	  controladores tendrá usted que ayudar un poco a
	  <span class="application">Xorg</span>.  Lea atentamente el contenido
	  de <code class="filename">/var/log/Xorg.0.log</code>; de él
	  podrá extraer suficiente información como para
	  crear un <code class="literal">ModeLine</code> que funcione.  Todo lo que
	  tiene que hacer es buscar información que se parezca
	  a esta:</p><pre class="programlisting">(II) MGA(0): Supported additional Video Mode:
(II) MGA(0): clock: 146.2 MHz   Image Size:  433 x 271 mm
(II) MGA(0): h_active: 1680  h_sync: 1784  h_sync_end 1960 h_blank_end 2240 h_border: 0
(II) MGA(0): v_active: 1050  v_sync: 1053  v_sync_end 1059 v_blanking: 1089 v_border: 0
(II) MGA(0): Ranges: V min: 48  V max: 85 Hz, H min: 30  H max: 94 kHz, PixClock max 170 MHz</pre><p>Esta información se llama información EDID.  Para
	  crear una <code class="literal">ModeLine</code> a partir de estos datos solamente
	  tiene que poner los números en el orden correcto:</p><pre class="programlisting">ModeLine &lt;name&gt; &lt;clock&gt; &lt;4 horiz. timings&gt; &lt;4 vert. timings&gt;</pre><p>Así que la <code class="literal">ModeLine</code>
	  en la <code class="literal">Section "Monitor"</code> del ejemplo
	  tendría este aspecto:</p><pre class="programlisting">Section "Monitor"
Identifier      "Monitor1"
VendorName      "Bigname"
ModelName       "BestModel"
ModeLine        "1680x1050" 146.2 1680 1784 1960 2240 1050 1053 1059 1089
Option          "DPMS"
EndSection</pre><p>Como ve, con un poco de edición hemos culminado la tarea
	  y X debería ya poder arrancar sin problemas en su nuevo
	  monitor panorámico.</p></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="x-install.html">Anterior</a> </td><td width="20%" align="center"><a accesskey="u" href="x11.html">Subir</a></td><td width="40%" align="right"> <a accesskey="n" href="x-fonts.html">Siguiente</a></td></tr><tr><td width="40%" align="left" valign="top">5.3. Instalar X11 </td><td width="20%" align="center"><a accesskey="h" href="index.html">Inicio</a></td><td width="40%" align="right" valign="top"> 5.5. Uso de tipos en X11</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Puede descargar éste y muchos otros documentos desde
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Si tiene dudas sobre FreeBSD consulte la
    <a href="http://www.FreeBSD.org/docs.html">documentación</a> antes de escribir a la lista
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Envíe sus preguntas sobre la documentación a
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>