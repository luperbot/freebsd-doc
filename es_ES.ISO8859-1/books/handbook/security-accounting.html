<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>14.15. Contabilidad de procesos</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Manual de FreeBSD" /><link rel="up" href="security.html" title="Capítulo 14. Seguridad" /><link rel="prev" href="security-advisories.html" title="14.14. FreeBSD Security Advisories" /><link rel="next" href="jails.html" title="Capítulo 15. Jaulas" /><link rel="copyright" href="legalnotice.html" title="Aviso Legal" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">14.15. Contabilidad de procesos</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="security-advisories.html">Anterior</a> </td><th width="60%" align="center">Capítulo 14. Seguridad</th><td width="20%" align="right"> <a accesskey="n" href="jails.html">Siguiente</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="security-accounting"></a>14.15. Contabilidad de procesos</h2></div><div><span class="authorgroup">Texto de <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Tom</span> <span class="surname">Rhodes</span></span>. </span></div></div></div><a id="idp76704336" class="indexterm"></a><p>La contabilidad de procesos es un método de
      seguridad en el cual un administrador puede mantener un
      seguimiento de los recursos del sistema utilizados,
      su distribución entre los usuarios, ofrecer
      monitorización del sistema y seguir la pista
      mínimamente a las órdenes de usuario.</p><p>Esto en realidad tiene sus puntos positivos y negativos.
      Uno de los positivos es que una intrusión puede
      minimizarse en el momento de producirse.  Uno negativo
      es la cantidad de logs generados por la contabilidad de
      procesos y el espacio de disco que requieren.  Esta
      sección guiará al administrador a
      través de los fundamentos de la contabilidad de
      procesos.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp76705872"></a>14.15.1. Cómo habilitar y utilizar la contabilidad
        de procesos</h3></div></div></div><p>Antes de poder usar la contabilidad de procesos
        tendrá que habilitarla.  Ejecute la
        siguiente orden:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>touch /var/account/acct</code></strong>

<code class="prompt">#</code> <strong class="userinput"><code>accton /var/account/acct</code></strong>

<code class="prompt">#</code> <strong class="userinput"><code>echo 'accounting_enable="YES"' &gt;&gt; /etc/rc.conf</code></strong></pre><p>Una vez habilitada, la contabilidad de procesos
        empezará a seguir el rastro de estadísticas
        de la <acronym class="acronym">CPU</acronym>, órdenes, etc.  Todos los logs
        de contabilidad están en un formato ilegible
        para humanos, pero accesibles para <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sa&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sa</span>(8)</span></a>.
        Si se ejecuta sin opciones, <code class="command">sa</code>
        imprimirá información sobre el número
        de llamadas por usuario, el tiempo total transcurrido expresado
        en minutos, el tiempo total de <acronym class="acronym">CPU</acronym> y de usuario
        en minutos, el número medio de operaciones de E/S,
        etc.</p><p>Para ver información acerca de las órdenes
        que se están ejecutados puede usar la
        <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lastcomm&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lastcomm</span>(1)</span></a>.  <code class="command">lastcomm</code> imprime
        órdenes ejecutadas por los usuarios en <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ttys&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">ttys</span>(5)</span></a>
        específicas.  Veamos un ejemplo:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>lastcomm ls
	trhodes ttyp1</code></strong></pre><p>Imprimiría todas las veces (conocidas) que
        el usuario <code class="systemitem">trhodes</code> ha usado
	<code class="command">ls</code> en la terminal
        ttyp1.</p><p>Hay muchas más opciones que pueden serle muy
        útiles.  Si quiere conocerlas consulte
        las páginas de manual <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lastcomm&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lastcomm</span>(1)</span></a>, <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=acct&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">acct</span>(5)</span></a>
        y <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sa&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sa</span>(8)</span></a>.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="security-advisories.html">Anterior</a> </td><td width="20%" align="center"><a accesskey="u" href="security.html">Subir</a></td><td width="40%" align="right"> <a accesskey="n" href="jails.html">Siguiente</a></td></tr><tr><td width="40%" align="left" valign="top">14.14. FreeBSD Security Advisories </td><td width="20%" align="center"><a accesskey="h" href="index.html">Inicio</a></td><td width="40%" align="right" valign="top"> Capítulo 15. Jaulas</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Puede descargar éste y muchos otros documentos desde
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Si tiene dudas sobre FreeBSD consulte la
    <a href="http://www.FreeBSD.org/docs.html">documentación</a> antes de escribir a la lista
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Envíe sus preguntas sobre la documentación a
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>