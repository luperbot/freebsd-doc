<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>2.13. Cómo preparar su propio medio de instalación</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Manual de FreeBSD" /><link rel="up" href="install.html" title="Capítulo 2. Instalación de FreeBSD" /><link rel="prev" href="install-advanced.html" title="2.12. Guía avanzada de instalación" /><link rel="next" href="basics.html" title="Capítulo 3. Conceptos básicos de Unix" /><link rel="copyright" href="legalnotice.html" title="Aviso Legal" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">2.13. Cómo preparar su propio medio de instalación</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="install-advanced.html">Anterior</a> </td><th width="60%" align="center">Capítulo 2. Instalación de FreeBSD</th><td width="20%" align="right"> <a accesskey="n" href="basics.html">Siguiente</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="install-diff-media"></a>2.13. Cómo preparar su propio medio de instalación</h2></div></div></div><div xmlns="" class="note"><h3 class="admontitle">Nota: </h3><p xmlns="http://www.w3.org/1999/xhtml"> Para evitar la repetición «disco FreeBSD»
	será en adelante un CDROM o un DVD de FreeBSD que haya
	comprado o hecho por sus propios medios.</p></div><p>Es posible que tengaque crear su propio
      medio de instalación de FreeBSD.  Puede tratarse de un medio
      físico como una cinta o una fuente para que
      <span class="application">sysinstall</span> pueda obtener los ficheros
      que vaya necesitando, como un sitio FTP local, o bien puede
      tratarse de una partición <span class="trademark">MS-DOS</span>®.</p><p>Por ejemplo:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Tiene muchas máquinas conectadas a una red local y
	  un sólo disco FreeBSD.  Quiere crear un sitio FTP local
	  con el contenido del disco FreeBSD y que desde él sus
	  máquinas obtengan los ficheros en lugar de tener que
	  conectarse a Internet.</p></li><li class="listitem"><p>Tiene un disco FreeBSD y FreeBSD no reconoce su unidad CD/DVD pero
	  <span class="trademark">MS-DOS</span>®/<span class="trademark">Windows</span>® sí.  Quiere copiar los ficheros de
	  instalación de FreeBSD a una partición DOS en
	  mismo sistema y luego instalar FreeBSD usando esos ficheros.</p></li><li class="listitem"><p>El sistema en el que quiere instalar FreeBSD no tiene
	  unidad CD/DVD ni tarjeta de red pero puede conectar un cable
	  paralelo o un cable serie «Laplink» a una computadora
	  que sí que tiene.</p></li><li class="listitem"><p>Quiere crear una cinta desde la que se pueda instalar
	  FreeBSD.</p></li></ul></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="install-cdrom"></a>2.13.1. Creación de un CDROM de instalación</h3></div></div></div><p>Con cada «release» el Proyecto FreeBSD libera dos
	imágenes de CDROM («imágenes ISO»).
	Dichas imágenes pueden copiarse a CD si dispone de una
	grabadora y usarse posteriormente para instalar FreeBSD.
	Si tiene una grabadora de CD y el ancho de banda no le supone un
	problema la forma más fácil de instalar FreeBSD es
	esta.</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p class="title"><strong>Descargar la imagen ISO correcta</strong></p><p>Puede descargar las imágenes ISO de cada
	   «release» desde
	   <code class="filename">ftp://ftp.FreeBSD.org/pub/FreeBSD/ISO-IMAGES-arquitectura/versión</code>
	    o desde la réplica más próxima.
	    Sustituya <em class="replaceable"><code>arquitectura</code></em> y
	    <em class="replaceable"><code>versión</code></em> por lo que
	    corresponda.</p><p>Ese directorio contendrá normalmente las siguientes
	    imágenes:</p><div class="table"><a id="idp68921424"></a><div class="table-title">Tabla 2.4. Nombres y funciones de las imágenes de FreeBSD 6.<em class="replaceable"><code>X</code></em> and 7.<em class="replaceable"><code>X</code></em></div><div class="table-contents"><table summary="Nombres y funciones de las imágenes de FreeBSD 6.X and 7.X" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Nombre</th><th>Contenido</th></tr></thead><tbody><tr><td><code class="filename">versión-RELEASE-arch-bootonly.iso</code></td><td>Todo lo necesario para arrancar un kernel
		    de FreeBSD y ejecutar la interfaz de instalación.
		    Los ficheros que vayan haciendo falta tendrán
		    que irse descargando por FTP o por algún
		    otro medio.</td></tr><tr><td><code class="filename">versión-RELEASE-arch-disc1.iso</code></td><td>Todo lo necesario para instalar AFreeBSD y un
		    «live filesystem», que le será
		    muy útil (conjuntamente con la aplicación
		    «Repair» de
		    <span class="application">sysinstall</span>.</td></tr><tr><td><code class="filename">versión-RELEASE-arch-disc2.iso</code></td><td>Todas las aplicaciones que puedan caber en un
		    disco.</td></tr><tr><td><code class="filename">versión-RELEASE-arch-docs.iso</code></td><td>La documentacióN de FreeBSD.</td></tr></tbody></table></div></div><br class="table-break" /><p>Descargue la imagen ISO  de arranque (si existe para su
	    plataforma) o la imagen del disco uno.
	    <span class="emphasis"><em>No</em></span> descargue ambas, puesto que el disco
	    uno contiene todo lo que hay en la imagen ISO de arranque.</p><p>Utilice la imagen ISO de arranque si su acceso a Internet es barato.
	    Con ella podrá instalar FreeBSD e instalar todo tipo de
	    software descargándolo como paquetes/ports (consulte
	    el <a class="xref" href="ports.html" title="Capítulo 4. Instalación de aplicaciones: «packages» y ports">Capítulo 4, <em>Instalación de aplicaciones: «packages» y ports</em></a>) cuando lo precise.</p><p>Utilice la imagen del disco uno si quiere disponer en el
	    propio disco de una selección bastante completa
	    de software.</p><p>Si tiene acceso de alta velocidad a Internet las demás
	    imágenes de disco son útiles pero no
	    esenciales.</p></li><li class="step"><p class="title"><strong>Escribir los CD</strong></p><p>Si va a grabar los CD en un sistema FreeBSD consulte la
	    <a class="xref" href="creating-cds.html" title="18.6. Creación y uso de medios ópticos (CD)">Sección 18.6, &#8220;Creación y uso de medios ópticos (CD)&#8221;</a> (en particular la
	    <a class="xref" href="creating-cds.html#burncd" title="18.6.3. burncd">Sección 18.6.3, &#8220;burncd&#8221;</a> y la
	    <a class="xref" href="creating-cds.html#cdrecord" title="18.6.4. cdrecord">Sección 18.6.4, &#8220;cdrecord&#8221;</a>).</p><p>Las imágenes se hacen en un formato ISO
	    estándar; si va a grabarlas en cualquier otra plataforma
	    no debería tener problemas para hacerlo cualquiera que sea
	    la aplicación que use para grabar CD.</p></li></ol></div><div xmlns="" class="note"><h3 class="admontitle">Nota: </h3><p xmlns="http://www.w3.org/1999/xhtml">Si lo que quiere hacer es crear una «release»
        personalizada de FreeBSD consulte el artículo <a class="link" href="../../../../doc/es_ES.ISO8859-1/articles/releng" target="_top">Release Engineering</a>.</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="install-ftp"></a>2.13.2. Creación de un sitio FTP local a partir de un disco de
        instalación de FreeBSD</h3></div></div></div><a id="idp68946512" class="indexterm"></a><p>Los discos de FreeBSD tienen la misma estructura que los sitios FTP.
	Esa circunstancia le facilitará mucho la tarea de crear un sitio
	FTP local para uso de otras máquinas de su red durante la
	instalación de FreeBSD.</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Monte el CDROM en el directorio <code class="filename">/cdrom</code>
	    del sistema que va a albergar el sitio FTP.</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mount /cdrom</code></strong></pre></li><li class="step"><p>Cree una cuenta apta para FTP anónimo en
	    <code class="filename">/etc/passwd</code> editando
	    <code class="filename">/etc/passwd</code> con <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=vipw&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">vipw</span>(8)</span></a>.
	    Añádale lo siguiente:</p><pre class="programlisting">ftp:*:99:99::0:0:FTP:/cdrom:/nonexistent</pre></li><li class="step"><p>Compruebe que el servicio FTP está activado en
	    <code class="filename">/etc/inetd.conf</code>.</p></li></ol></div><p>Ahora cualquier máquina capaz de conectarse a su
	sistema a través de una red puede elegir como medio de
	instalación «FTP» y escribir
	<strong class="userinput"><code>ftp://su máquina</code></strong>
	tras seleccionar «Other» en el menú de sitios
	FTP.</p><div xmlns="" class="warning"><h3 class="admontitle">Aviso: </h3><p xmlns="http://www.w3.org/1999/xhtml"> Acabamos de exponer una buena solución para usar
	  en un sistema de su propia red y que además está
	  protegido por un cortafuegos.  Si ofrece servicios FTP a
	  máquinas de Internet (y no de su red local) expone su
	  sistema a caer bajo la atención de «crackers»
	  y otras variedades de indeseable.  Le recomendamos encarecidamente
	  que siga a rajatabla políticas sensatas de seguridad.</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp68964944"></a>2.13.3. Creación de disquetes de instalación</h3></div></div></div><a id="idp68965584" class="indexterm"></a><p>Si quiere instalar FreeBSD desde disquetes (cosa que, de
	antemano, le sugerimos que <span class="emphasis"><em>no</em></span> haga) bien
	sea porque FreeBSD no soporta cierto componente necesario de su
	sistema o sencillamente porque insiste en querer hacer las cosas
	de la manera más difícil, tendrá que
	tener a mano unos cuantos disquetes.</p><p>Como mínimo necesitará tantos disquetes de
	  1.44 MB o 1.2 MB como hagan falta para dar cabida a todos
	  los ficheros que hay en <code class="filename">bin</code>.   Recuerde la
	  entrada «binary distribution» (distribución
	  binaria) durante la instalación.  Si está generando
	  los disquetes en DOS <span class="emphasis"><em>debe formatearlos</em></span> con
	  <code class="command">FORMAT</code> de <span class="trademark">MS-DOS</span>®.  Si está usando
	  <span class="trademark">Windows</span>® puede usar el Explorador para formatear disquetes:
	  botón derecho del ratón sobre la unidad
	  <code class="filename">A:</code> y elija «Formatear».</p><p> <span class="emphasis"><em>No</em></span> confíe en el preformateo
	  de fábrica de los disquetes.  Formatéelos usted de
	  nuevo, sólo para asegurarse.  La mayoría de los
	  problemas de los que se ha informado se han debido a formateos
	  defectuosos, téngalo en cuenta.</p><p>Si puede crear los disquetes en una máquina FreeBSD un
	  formateo sigue sin ser una mala idea, pero no necesitará
	  crear un sistema de ficheros DOS en cada floppy.  Use
	  <code class="command">disklabel</code> y <code class="command">newfs</code>
	  para crear un sistema de ficheros UFS en los disquetes tal y como
	  se muestra aquí (en un floppy de 1.44 MB y 3.5")
	  :</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>fdformat -f 1440 fd0.1440</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>disklabel -w -r fd0.1440 floppy3</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>newfs -t 2 -u 18 -l 1 -i 65536 /dev/fd0</code></strong></pre><div xmlns="" class="note"><h3 class="admontitle">Nota: </h3><p xmlns="http://www.w3.org/1999/xhtml"> Tendrá que usar <code class="literal">fd0.1200</code> y
	    <code class="literal">floppy5</code> si usa discos de 5.25" y
	    1.2 MB.</p></div><p>Ahora puede montarlos y escribir en ellos igual que en cualquier
	  otro sistema de ficheros del sistema.</p><p>Tras el formateo de los disquetes pasamos a llenarlos.  Los
	  ficheros necesarios para crear la distribución se dividen en
	  partes de tamaño regular de modo que cinco de ellas entren
	  en otros tantos disquetes de 1.44 MB.  Empaquete tantos ficheros
	  como pueda en cada uno hasta que tenga todas las distribuciones
	  que necesita listas para pasar a los disquetes.
	  Cada distribución
	  debería ir en un subdirectorio del floppy, por ejemplo
	  <code class="filename">a:\bin\bin.aa</code>,
	  <code class="filename">a:\bin\bin.ab</code>, etc.</p><p>Una vez en el menú de selección de medio de
	  instalación elija <span class="guimenuitem">Floppy</span> y
	  siga las instrucciones.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="install-msdos"></a>2.13.4. Instalación desde una partición <span class="trademark">MS-DOS</span>®</h3></div></div></div><a id="idp68980048" class="indexterm"></a><p>Copie los ficheros de la distribución en un directorio
	  llamado <code class="filename">freebsd</code> en el directorio raíz
	  de la partición, por ejemplo <code class="filename">c:\freebsd</code>.
	  La estructura de directorios del sitio FTP o el CDROM debe
	  reproducirse parcialmente en este directorio, así que le
	  sugerimos que use <code class="command">xcopy</code> si está
	  copiando los datos desde un CD.  En el siguiente ejemplo vamos a
	  preparar una instalación mínima de FreeBSD:</p><pre class="screen"><code class="prompt">C:\&gt;</code> <strong class="userinput"><code>md c:\freebsd</code></strong>
<code class="prompt">C:\&gt;</code> <strong class="userinput"><code>xcopy e:\bin c:\freebsd\bin\ /s</code></strong>
<code class="prompt">C:\&gt;</code> <strong class="userinput"><code>xcopy e:\manpages c:\freebsd\manpages\ /s</code></strong></pre><p>Se ha asumido que <code class="filename">C:</code> es donde tiene
	  espacio libre y <code class="filename">E:</code> es donde tiene montada
	  su unidad CDROM.</p><p>Si no tiene unidad CDROM puede descargar la distribución
	  desde <a class="link" href="ftp://ftp.FreeBSD.org/pub/FreeBSD/releases/i386/10.1-RELEASE/" target="_top">ftp.FreeBSD.org</a>.
	  Cada distribución dispone de su propio directorio; por
	  ejemplo, la distribución <span class="emphasis"><em>base</em></span> está
	  en el directorio<a class="link" href="ftp://ftp.FreeBSD.org/pub/FreeBSD/releases/i386/10.1-RELEASE/base/" target="_top">10.1/base/</a>.</p><p>La única distribución
	  <span class="emphasis"><em>imprescindible</em></span> es <code class="literal">BIN</code>.
	  Guarde esta y todas las distribuciones que quiera instalar desde
	  una partición <span class="trademark">MS-DOS</span>® bajo
	  <code class="filename">c:\freebsd</code>.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp68998864"></a>2.13.5. Creación de una cinta de instalación</h3></div></div></div><a id="idp68999504" class="indexterm"></a><p>La instalación desde cinta es probablemente el
	  método más fácil, casi tanto como una
	  instalación desde una réplica FTP o desde un
	  CDROM.  Lo único que el programa de instalación
	  necesita es que los  ficheros estén empaquetados con
	  <span class="application">tar</span> y en una cinta.  Veamos
	  un ejemplo:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cd /freebsd/distdir</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>tar cvf /dev/rwt0 dist1 ... dist2</code></strong></pre><p>Cuando esté preparando la instalación tenga
	  la precaución de dejar sitio suficiente en algún
	  directorio temporal (accesible en ese momento) para dejar
	  <span class="emphasis"><em>todos los ficheros</em></span> que hubiera en la
	  cinta de instalación.  A causa del acceso secuencial propio
	  del diseño de las cintas este método de
	  instalación requiere un poco de almacenamiento
	  temporal.</p><div xmlns="" class="note"><h3 class="admontitle">Nota: </h3><p xmlns="http://www.w3.org/1999/xhtml"> Recuerde que antes de arrancar desde el disquete de
	    arranque la cinta <span class="emphasis"><em>debe estar en la unidad</em></span>.
	    La prueba de hardware de la instalación no
	    encontraría la cinta.</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp69005136"></a>2.13.6. Before Installing over a Network</h3></div></div></div><a id="idp69010000" class="indexterm"></a><a id="idp69011536" class="indexterm"></a><a id="idp69013072" class="indexterm"></a><p>Hay tres tipos de instalación a través de
	  una red disponibles en FreeBSD: Puerto serie (SLIP o PPP), puerto
	  paralelo (PLIP (cable «laplink»)) y Ethernet.</p><p>El adaptador Ethernet es, debido a su velocidad de transferencia,
	  la mejor elección.
	  FreeBSD soporta la mayoría de los adaptadores Ethernet.  Tiene
	  una lista de dispositivos soportados en las notas de hardware de
	  cada «release» de FreeBSD.  Si disponde alguno de los
	  adaptadores Ethernet PCMCIA soportados por FreeBSD recuerde que debe
	  estar presente en el sistema <span class="emphasis"><em>antes</em></span> de que
	  el sistema arranque.  Por desgracia FreeBSD no soporta aún
	  la inserción en caliente de tarjetas PCMCIA durante la
	  instalación.</p><p>Tendrá que saber también la dirección
	  IP de la red, la máscara de red correcta para la clase de
	  su red y el nombre de su máquina.  Si va a instalar
	  mediante una conexión PPP y no tiene IP estática no
	  se preocupe, su ISP puede asignarle una IP temporal
	  dinámicamente.  Su administrador de sistemas seguramente
	  puede ayudarle con la configuración de su red.  Si va a
	  intentar conectarse con otras máquinas mediante sus
	  nombres en lugar de sus direcciones IP necesitará los
	  datos de un servidor de nombres y es posible que necesite
	  también la dirección de un «gateway»
	  (si usa PPP vale con la dirección IP de su proveedor).
	  Si va a instalar por FTP a través de un proxy HTTP
	  necesitará la dirección del proxy.
	  Si no sabe qué pueden significar todas (o la mayoría)
	  de estas preguntas hable con su administrador de sistemas o con su
	  ISP <span class="emphasis"><em>antes</em></span> de intentar instalar FreeBSD de esta
	  forma.</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp69016528"></a>2.13.6.1. Antes de instalar via NFS</h4></div></div></div><a id="idp69017168" class="indexterm"></a><p>La instalación por NFS es bastante sencilla.
	    Sólo tendrá que copiar los ficheros de la
	    distribución a un servidor NFS, seleccionar NFS como
	    medio de instalación y apuntar a los contenidos a donde
	    los haya copiado.</p><p>si el servidor sólo soporta
	    «puertos privilegiados» (que suele ser la
	    configuración por omisión en estaciones de trabajo
	    Sun) tendrá que seleccionar la opción
	    <code class="option">NFS Secure</code> en el menú
	    «Options» antes de comenzar con la
	    instalación.</p><p>Si usa tarjeta Ethernet de mala calidad y está
	    experimentando velocidades de transferencia muy bajas puede
	    probar con el parámetro <code class="option">NFS Slow</code>.</p><p>Para que la instalación via NFS funcione el servidor
	    debe permitir el montaje de subdirectorios.  Por ejemplo, si su
	    distribución  FreeBSD 10.1 está en
	    <code class="filename">ziggy:/usr/archive/stuff/FreeBSD</code> el servidor
	    <code class="systemitem">ziggy</code> tendrá que permitir que pueda
	    montarse <code class="filename">/usr/archive/stuff/FreeBSD</code>, no
	    simplemente como <code class="filename">/usr</code> o
	    <code class="filename">/usr/archive/stuff</code>.</p><p>En el fichero <code class="filename">/etc/exports</code> de FreeBSD
	    eso puede controlarse mediante la opción
	    <code class="option">-alldirs</code>.  Puede que otros servidores NFS
	    requieran de parámetros diferentes.  Si ve mensajes
	    de <span class="errorname">permission denied</span> seguramente no ha
	    activado esto correctamente.</p></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="install-advanced.html">Anterior</a> </td><td width="20%" align="center"><a accesskey="u" href="install.html">Subir</a></td><td width="40%" align="right"> <a accesskey="n" href="basics.html">Siguiente</a></td></tr><tr><td width="40%" align="left" valign="top">2.12. Guía avanzada de instalación </td><td width="20%" align="center"><a accesskey="h" href="index.html">Inicio</a></td><td width="40%" align="right" valign="top"> Capítulo 3. Conceptos básicos de Unix</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Puede descargar éste y muchos otros documentos desde
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Si tiene dudas sobre FreeBSD consulte la
    <a href="http://www.FreeBSD.org/docs.html">documentación</a> antes de escribir a la lista
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Envíe sus preguntas sobre la documentación a
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>