<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>Introducción a NanoBSD</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><meta name="description" content="Este documento trata sobre NanoBSD. NanoBSD es una herramienta que permite crear imágenes del sistema FreeBSD para su uso en aplicaciones empotradas y listas para cargarse en una tarjeta Compact Flash (u otro medio de almacenamiento masivo). Traducción de Germán Marcos gri.msg@gmail.com." /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div xml:lang="es" class="article" lang="es"><div xmlns="" class="titlepage"><div><div><h1 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp61131088"></a>Introducción a NanoBSD</h1></div><div><div xmlns="http://www.w3.org/1999/xhtml" class="authorgroup"><div class="author"><h3 class="author"><span class="firstname">Daniel</span> <span class="surname">Gerzo</span></h3></div></div></div><div>Revisión: <a href="https://svnweb.freebsd.org/changeset/doc/"><span class="svnref"></span></a></div><div><p xmlns="http://www.w3.org/1999/xhtml" class="copyright">Copyright © 2006 The FreeBSD Documentation Project</p></div><div><div xmlns="http://www.w3.org/1999/xhtml" class="legalnotice"><a id="trademarks"></a><p>FreeBSD is a registered trademark of
  the FreeBSD Foundation.</p><p>Many of the designations used by
  manufacturers and sellers to distinguish their products are claimed
  as trademarks.  Where those designations appear in this document,
  and the FreeBSD Project was aware of the trademark claim, the
  designations have been followed by the <span class="quote">&#8220;<span class="quote">&#8482;</span>&#8221;</span> or the
  <span class="quote">&#8220;<span class="quote">®</span>&#8221;</span> symbol.</p></div></div><div>   por .</div><div><div xmlns="http://www.w3.org/1999/xhtml" class="abstract"><div class="abstract-title">Resumen</div><p>Este documento trata sobre <span class="application">NanoBSD</span>.
	<span class="application">NanoBSD</span> es una herramienta que permite
        crear imágenes del sistema FreeBSD para su uso en
        aplicaciones empotradas y listas para cargarse en una
        tarjeta Compact Flash (u otro medio de almacenamiento
        masivo).</p><p><span class="emphasis"><em>Traducción de Germán Marcos <code class="email">&lt;<a xmlns="" class="email" href="mailto:gri.msg@gmail.com">gri.msg@gmail.com</a>&gt;</code>.</em></span></p></div></div></div><hr /></div><div class="toc"><div class="toc-title">Tabla de contenidos</div><dl class="toc"><dt><span class="sect1"><a href="#intro">1. Introducción a NanoBSD</a></span></dt><dt><span class="sect1"><a href="#howto">2. NanoBSD <span class="quote">&#8220;<span class="quote">Howto</span>&#8221;</span></a></span></dt><dt><span class="index"><a href="#idp61848272">Índice</a></span></dt></dl></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="intro"></a>1. Introducción a NanoBSD</h2></div></div></div><a id="idp61496400" class="indexterm"></a><p><span class="application">NanoBSD</span> es una herramienta
      actualmente desarrollada por Poul-Henning Kamp.  Crea una imagen del
      sistema FreeBSD para aplicaciones empotradas lista para su uso en
      una tarjeta Compact Flash (u otro medio de almacenamiento
      masivo).</p><p>Puede utilizarse para generar imágenes
      instalables especiales; está diseñado pensando en una
      instalación y mantenimiento fáciles en sistemas
      conocidos como <span class="quote">&#8220;<span class="quote">sistemas empotrados</span>&#8221;</span>.  Los
      sistemas empotrados tienen hardware y software
      integrado en el producto, lo que significa que todas las
      aplicaciones están preinstaladas.  Estos dispositivos
      pueden conectarse a una red dada y comenzar a trabajar
      (casi) inmediatamente.</p><p>Las características
      de <span class="application">NanoBSD</span> incluyen:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Los ports y paquetes funcionan como en FreeBSD:
	      Cualquier aplicación puede instalarse y usarse en
	      una imagen de <span class="application">NanoBSD</span> de la
	      misma forma que en FreeBSD.</p></li><li class="listitem"><p>No se pierde funcionalidad: Si es posible hacer
          algo en FreeBSD es posible hacer lo mismo
          en <span class="application">NanoBSD</span>, a menos que se haya
          eliminado explícitamente esa característica o
          características especiales al crear la imagen
          de <span class="application">NanoBSD</span>.</p></li><li class="listitem"><p>Todo está en modo de sólo lectura
	      durante el funcionamiento del sistema: Un apagado
	      brusco es totalmente seguro.  No es necesario ejecutar
	      <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=fsck&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">fsck</span>(8)</span></a> después de que el sistema sufra
	      un apagón.</p></li><li class="listitem"><p>Fácil de generar y personalizar: Usando
	      un solo script de shell y un fichero de configuración
	      pueden generarse imágenes reducidas y personalizadas
	      que satisfagan cualquier necesidad.</p></li></ul></div></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="howto"></a>2. NanoBSD <span class="quote">&#8220;<span class="quote">Howto</span>&#8221;</span></h2></div></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="design"></a>2.1. El diseño de NanoBSD</h3></div></div></div><p>Una vez que la imagen está en el medio puede
	    arrancar <span class="application">NanoBSD</span>.  El medio
	    de almacenamiento se divide por omisión en tres
	    partes:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Dos particiones de la imagen: <code class="literal">code#1</code>
	        y <code class="literal">code#2</code>.</p></li><li class="listitem"><p>La partición que contiene los ficheros de
	        configuración, que puede montarse bajo
	        <code class="filename">/cfg</code> durante el
	        funcionamiento del sistema.</p></li></ul></div><p>Estas particiones se montan normalmente en modo de
        sólo lectura.</p><p>Los directorios <code class="filename">/etc</code>
        y <code class="filename">/var</code> son discos
        <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=md&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">md</span>(4)</span></a> (malloc).</p><p>La partición de los ficheros de configuración
        permanece bajo el
        directorio <code class="filename">/cfg</code>.  Este
        directorio contiene ficheros que usa el
        directorio <code class="filename">/etc</code> y se
        monta en modo de sólo lectura inmediatamente
        después del arranque; por lo tanto, es necesario que
        los ficheros que se modifiquen
        en <code class="filename">/etc</code> se copien
        en <code class="filename">/cfg</code> si se desea que
        los cambios perduren después del reinicio del
        sistema.</p><div class="example"><a id="idp61566800"></a><div class="example-title">Ejemplo 1. Cómo hacer cambios persistentes
	      en <code class="filename">/etc/resolv.conf</code></div><div class="example-contents"><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>vi /etc/resolv.conf</code></strong>
[...]
<code class="prompt">#</code> <strong class="userinput"><code>mount /cfg</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>cp /etc/resolv.conf /cfg</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>umount /cfg</code></strong></pre></div></div><br class="example-break" /><div xmlns="" class="note"><h3 class="admontitle">Nota: </h3><p xmlns="http://www.w3.org/1999/xhtml">La partición que contiene el
	      directorio <code class="filename">/cfg</code>
	      debería montarse únicamente en el arranque y
	      mientras se sobreescriben los ficheros de
	      configuración.</p><p xmlns="http://www.w3.org/1999/xhtml">No es buena idea montar siempre el
          directorio <code class="filename">/cfg</code>,
          especialmente si el
          sistema <span class="application">NanoBSD</span> se ejecuta en un
          dispositivo de almacenamiento masivo que pueda verse
          afectado negativamente por un número elevado de
          escrituras en la partición (i.e. cuando el sistema de
          ficheros sincroniza los datos con el sistema de
          discos).</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp61590864"></a>2.2. Cómo generar una imagen de NanoBSD</h3></div></div></div><p>Una imagen de <span class="application">NanoBSD</span> se genera
	    usando el sencillo script de
	    shell <code class="filename">nanobsd.sh</code>, ubicado en el
	    directorio <code class="filename">/usr/src/tools/tools/nanobsd</code>.
	    El script crea una imagen que se deberá copiar al medio
	    de almacenamiento mediante la utilidad <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dd&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">dd</span>(1)</span></a>.</p><p>Los comandos necesarios para generar una imagen
      de <span class="application">NanoBSD</span> son:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cd /usr/src/tools/tools/nanobsd</code></strong> <a id="nbsd-cd"></a><span><img src="./imagelib/callouts/1.png" alt="1" border="0" /></span>
<code class="prompt">#</code> <strong class="userinput"><code>sh nanobsd.sh</code></strong> <a id="nbsd-sh"></a><span><img src="./imagelib/callouts/2.png" alt="2" border="0" /></span>
<code class="prompt">#</code> <strong class="userinput"><code>cd /usr/obj/nanobsd.full</code></strong> <a id="nbsd-cd2"></a><span><img src="./imagelib/callouts/3.png" alt="3" border="0" /></span>
<code class="prompt">#</code> <strong class="userinput"><code>dd if=_.disk.full of=/dev/da0 bs=64k</code></strong> <a id="nbsd-dd"></a><span><img src="./imagelib/callouts/4.png" alt="4" border="0" /></span></pre><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#nbsd-cd"><span><img src="./imagelib/callouts/1.png" alt="1" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Cambia el directorio actual por el directorio base del
	  script de generación
	  de <span class="application">NanoBSD</span>.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#nbsd-sh"><span><img src="./imagelib/callouts/2.png" alt="2" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Comienza el proceso de generación.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#nbsd-cd2"><span><img src="./imagelib/callouts/3.png" alt="3" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Cambia el directorio actual por el directorio donde se
        encuentra la imagen generada.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#nbsd-dd"><span><img src="./imagelib/callouts/4.png" alt="4" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Instala <span class="application">NanoBSD</span> dentro del
	    medio de almacenamiento.</p></td></tr></table></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp61643216"></a>2.3. Personalización de una imagen de NanoBSD</h3></div></div></div><p>Esta es probablemente la característica más
        importante y más interesante
        de <span class="application">NanoBSD</span>. Tambié es donde
        usted pasará la mayor parte del tiempo cuando esté
        desarrollando con <span class="application">NanoBSD</span>.</p><p>La invocación del siguiente comando forzará
        al script <code class="filename">nanobsd.sh</code> a leer su
        configuración desde el
        fichero <code class="filename">mi-configuracion.nano</code> ubicado en el
        directorio actual:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>sh nanobsd.sh -c mi-configuracion.nano</code></strong></pre><p>La personalización se hace de dos maneras:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Opciones de configuración</p></li><li class="listitem"><p>Funciones personalizadas</p></li></ul></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp61665872"></a>2.3.1. Opciones de configuración</h4></div></div></div><p>Por medio de ajustes de configuración es posible
      configurar las opciones que se pasan a las
      fases <code class="literal">buildworld</code>
      e <code class="literal">installworld</code> del proceso de
      generación de <span class="application">NanoBSD</span>.
      Mediante estas opciones puede reducirse el tamaño del
      sistema de manera que pueda incluso encajar en algo tan
      pequeño como un dispositivo de 64MB.  Es posible recortar FreeBSD
      incluso más, hasta que consista únicamente
      en el kernel y dos o tres ficheros de
      <span class="quote">&#8220;<span class="quote">userland</span>&#8221;</span>.</p><p>El fichero de configuración está compuesto por
	  opciones de configuración que sobreescriben los valores
	  por omisión.  Las directivas más importantes
	  son:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="literal">NANO_NAME</code> : Nombre de la
          generación que estamos ejecutando (se usa
	      para dar nombres a los directorios donde encontraremos el
          resultado del proceso).</p></li><li class="listitem"><p><code class="literal">NANO_SRC</code> : Ruta al código
	      fuente que se usará para generar la imagen.</p></li><li class="listitem"><p><code class="literal">NANO_KERNEL</code> : Nombre del fichero de
	      configuración del kernel que se usará para
	      generar el kernel.</p></li><li class="listitem"><p><code class="literal">CONF_BUILD</code> : Opciones que se pasan a
	      la fase <code class="literal">buildworld</code>.</p></li><li class="listitem"><p><code class="literal">CONF_INSTALL</code> : Opciones que se pasan a
	      la fase <code class="literal">installworld</code>.</p></li><li class="listitem"><p><code class="literal">CONF_WORLD</code> : Opciones que se pasan
	      tanto a <code class="literal">buildworld</code> como a
	      <code class="literal">installworld</code>.</p></li><li class="listitem"><p><code class="literal">FlashDevice</code> : Define el tipo de medio
	      de almacenamiento que se usará.  Para más
	      información consulte el
	      fichero <code class="filename">FlashDevice.sub</code>.</p></li></ul></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp61709264"></a>2.3.2. Funciones personalizadas</h4></div></div></div><p>Puede ajustar <span class="application">NanoBSD</span>
	  de forma muy precisa mediante el uso de funciones de
	  shell en el fichero de configuración.  En el siguiente
	  ejemplo vemos un modelo básico de función
	  personalizada.</p><pre class="programlisting">cust_foo () (
	echo "bar=topless" &gt; \
	  ${NANO_WORLDDIR}/etc/foo
)
customize_cmd cust_foo</pre><p>A continuación vemos un ejemplo más útil
      de función personalizada, que cambia el tamaño por
      omisión del directorio
      <code class="filename">/etc</code> de 5MB a 30MB:</p><pre class="programlisting">cust_etc_size () (
	cd ${NANO_WORLDDIR}/conf
	echo 30000 &gt; default/etc/md_size
)
customize_cmd cust_etc_size</pre><p>Hay unas pocas funciones de personalización
      predefinidas listas para su uso:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="literal">cust_comconsole</code> : Deshabilita
	      <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=getty&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">getty</span>(8)</span></a> en los dispositivos VGA (los nodos de
	      dispositivo <code class="filename">/dev/tty*</code>) y habilita el
	      uso del puerto serie COM1 para que sea la consola del
	      sistema.</p></li><li class="listitem"><p><code class="literal">cust_allow_ssh_root</code> : Permite a
	      <code class="systemitem">root</code> acceder a través de
	      <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sshd&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sshd</span>(8)</span></a>.</p></li><li class="listitem"><p><code class="literal">cust_install_files</code> : Instala ficheros
	      de configuración desde el
	      directorio <code class="filename">nanobsd/files</code>,
          que contiene scripts útiles para la
	      administración del sistema.</p></li></ul></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp61751632"></a>2.3.3. Cómo añadir paquetes</h4></div></div></div><p>Se pueden añadir paquetes a la imagen de
          <span class="application">NanoBSD</span> usando una función
          personalizada.  La siguiente función instalará
	  todos los paquetes que se encuentren en
          <code class="filename">/usr/src/tools/tools/nanobsd/packages</code>:
        </p><pre class="programlisting">install_packages () (
    mkdir -p ${NANO_WORLDDIR}/packages
    cp /usr/src/tools/tools/nanobsd/packages/* ${NANO_WORLDDIR}/packages
    chroot ${NANO_WORLDDIR} sh -c 'cd packages; pkg_add -v *;cd ..;'
    rm -rf ${NANO_WORLDDIR}/packages
)
customize_cmd install_packages</pre></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp61757520"></a>2.3.4. Ejemplo de fichero de configuración</h4></div></div></div><p>El siguiente es un ejemplo completo de fichero de
	  configuración para generar una imagen personalizada
	  de <span class="application">NanoBSD</span>:</p><pre class="programlisting">NANO_NAME=custom
NANO_SRC=/usr/src
NANO_KERNEL=MYKERNEL
NANO_IMAGES=2

CONF_BUILD='
NO_KLDLOAD=YES
NO_NETGRAPH=YES
NO_PAM=YES
'

CONF_INSTALL='
NO_ACPI=YES
NO_BLUETOOTH=YES
NO_CVS=YES
NO_FORTRAN=YES
NO_HTML=YES
NO_LPR=YES
NO_MAN=YES
NO_SENDMAIL=YES
NO_SHAREDOCS=YES
NO_EXAMPLES=YES
NO_INSTALLLIB=YES
NO_CALENDAR=YES
NO_MISC=YES
NO_SHARE=YES
'

CONF_WORLD='
NO_BIND=YES
NO_MODULES=YES
NO_KERBEROS=YES
NO_GAMES=YES
NO_RESCUE=YES
NO_LOCALES=YES
NO_SYSCONS=YES
NO_INFO=YES
'

FlashDevice SanDisk 1G

cust_nobeastie() (
	touch ${NANO_WORLDDIR}/boot/loader.conf
	echo "beastie_disable=\"YES\"" &gt;&gt; ${NANO_WORLDDIR}/boot/loader.conf
)

customize_cmd cust_comconsole
customize_cmd cust_install_files
customize_cmd cust_allow_ssh_root
customize_cmd cust_nobeastie</pre></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp61762640"></a>2.4. Cómo actualizar NanoBSD</h3></div></div></div><p>El proceso de actualización
        de <span class="application">NanoBSD</span> es relativamente
        simple:</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Generar una nueva imagen
	        de <span class="application">NanoBSD</span> de la forma
	        habitual.</p></li><li class="step"><p>Copiar la nueva imagen sobre la partición no
            	utilizada del sistema empotrado que está
            	usando <span class="application">NanoBSD</span>.</p><p>La diferencia más importante entre este paso y
                la instalación inicial
            	de <span class="application">NanoBSD</span> es que ahora en
            	lugar de usar el fichero <code class="filename">_.disk.full</code>
            	(que contiene una imagen de todo el disco) se instala
            	la imagen <code class="filename">_.disk.image</code> (que contiene
            	una imagen de una sola partición).</p></li><li class="step"><p>Reiniciar y arrancar el sistema desde la
            	partición que se acaba de instalar.</p></li><li class="step"><p>Si todo va bien la actualización ha
	        terminado.</p></li><li class="step"><p>Si algo va mal reinicie desde la partición
            	anterior (que contiene la imagen vieja, pero que
            	funciona) para recuperar el funcionamiento del
            	sistema lo antes posible.  Arregle los problemas
            	de la nueva generación y repita el proceso.</p></li></ol></div><p>Para facilitar la instalación de una imagen
	nueva en su sistema <span class="application">NanoBSD</span> en
	funcionamiento dispone de los scripts <code class="filename">updatep1</code>
        y <code class="filename">updatep2</code>, ubicados en el directorio
        <code class="filename">/root</code>.  La
        elección de uno u otro script depende de qué
        partición esté ejecutando el sistema,
        la primera o la segunda.</p><p>Dependiendo de los servicios disponibles en
        la máquina que va a servir la nueva imagen
        de <span class="application">NanoBSD</span> y del tipo de
        transferencia de datos que prefiera uno de estos tres
        métodos le resultará más o menos
	    interesante:</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp61803472"></a>2.4.1. Uso de <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ftp&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ftp</span>(1)</span></a></h4></div></div></div><p>Si la prioridad es la velocidad de la transferencia
              use usted este ejemplo:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ftp mi-maquina
get _.disk.image "| sh updatep1"</code></strong></pre></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp61819728"></a>2.4.2. Uso de <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ssh&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ssh</span>(1)</span></a></h4></div></div></div><p>Si la prioridad es la seguridad de la transferencia
          seguramente ejecutará algo muy parecido a lo
	  siguiente:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ssh mi-maquina cat _.disk.image.gz | zcat | sh updatep1</code></strong></pre></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp61826768"></a>2.4.3. Uso de <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=nc&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">nc</span>(1)</span></a></h4></div></div></div><p>Si la máquina remota no dispone de servicios de
	  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ftp&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ftp</span>(1)</span></a> ni de <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sshd&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sshd</span>(8)</span></a> puede recurrir al siguiente
	  ejemplo:</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Primero abra un puerto TCP de escucha en la
	      máquina que sirve la imagen y envíela
	      al cliente:</p><pre class="screen">mi-maquina<code class="prompt">#</code> <strong class="userinput"><code>nc -l 2222 &lt; _.disk.image</code></strong></pre><div xmlns="" class="note"><h3 class="admontitle">Nota: </h3><p xmlns="http://www.w3.org/1999/xhtml">Asegúrese de que el puerto elegido no tenga
                bloqueadas las conexiones entrantes desde la
                máquina <span class="application">NanoBSD</span> por
	        ningún cortafuegos.</p></div></li><li class="step"><p>Conéctese a la máquina que va servir la
	      nueva imagen y ejecute el script
          <code class="filename">updatep1</code>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>nc mi-maquina 2222 | sh updatep1</code></strong></pre></li></ol></div></div></div></div><div class="index"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp61848272"></a>Índice</h2></div></div></div><div class="index"><div class="indexdiv"><h3>N</h3><dl><dt>NanoBSD, <a class="indexterm" href="#intro">Introducción a NanoBSD</a></dt></dl></div></div></div></div></body></html>