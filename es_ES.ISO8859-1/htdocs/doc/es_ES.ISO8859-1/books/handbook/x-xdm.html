<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>5.6. El gestor de pantalla X</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Manual de FreeBSD" /><link rel="up" href="x11.html" title="Capítulo 5. El sistema X Window" /><link rel="prev" href="x-fonts.html" title="5.5. Uso de tipos en X11" /><link rel="next" href="x11-wm.html" title="5.7. Entornos de escritorio" /><link rel="copyright" href="legalnotice.html" title="Aviso Legal" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">5.6. El gestor de pantalla X</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="x-fonts.html">Anterior</a> </td><th width="60%" align="center">Capítulo 5. El sistema X Window</th><td width="20%" align="right"> <a accesskey="n" href="x11-wm.html">Siguiente</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="x-xdm"></a>5.6. El gestor de pantalla X</h2></div><div><span class="authorgroup">Escrito por <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Seth</span> <span class="surname">Kingsley</span></span>. </span></div></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp70865744"></a>5.6.1. Descripción</h3></div></div></div><a id="idp70866384" class="indexterm"></a><p>El gestor de pantalla X (<span class="application">XDM</span>) es una
        parte opcional del sistema X Window que se usa para la gestión de
        sesiones.  Esto es útil en diferentes situaciones, como
        «Terminales X» con escritorios mínimos y grandes
        servidores de red.  Como X Window System es independiente
        del protocolo y de la red hay muchas configuraciones posibles para
        ejecutar clientes y servidores X en diferentes equipos conectados a
        una red.  <span class="application">XDM</span> dispone de un interfaz
        gráfico para elegir a qué pantalla se quiere
        conectar y pedir la información de autentificación como
        el nombre de usuario y le contraseña.</p><p><span class="application">XDM</span> ac6túa como proveedor de la
        misma funcionalidad que <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=getty&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">getty</span>(8)</span></a> (consulte
        <a class="xref" href="term.html#term-config" title="24.3.2. Configuración">Sección 24.3.2, &#8220;Configuración&#8221;</a> para más detalles).  Esto quiere
        decir que se encarga de las entradas al sistema en la pantalla a la
        que está conectado y arranca el gestor de sesiones para que lo
        utilice el usuario (normalmente un gestor de ventanas
        X).  <span class="application">XDM</span> espera a que el
	programa termine, envía la señal de que el usuario ha
	terminado y que se le
        debería  desconectar de la pantalla.  En este punto
        <span class="application">XDM</span> puede mostrar las pantallas de entrada
        al sistema y de selección de pantalla para que el siguiente
        usuario intente acceder al sistema.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp70870864"></a>5.6.2. Uso de XDM</h3></div></div></div><p>El dæmon <span class="application">XDM</span> está en
        <code class="filename">/usr/local/bin/xdm</code>.  Este programa se puede
        arrancar en cualquier momento como <code class="systemitem">root</code> y
        empezará a gestionar la pantalla X en la máquina
        local.  Si se quiere que <span class="application">XDM</span> arranque cada
        vez que la máquina se encienda puede hacerlo añadiendo
        una entrada a <code class="filename">/etc/ttys</code>.  Para más
        información sobre el formato y uso de este fichero consulte la
	<a class="xref" href="term.html#term-etcttys" title="24.3.2.1. Agregando una entrada a /etc/ttys">Sección 24.3.2.1, &#8220;Agregando una entrada a <code class="filename">/etc/ttys</code>&#8221;</a>.  Por omisión hay una línea en
        <code class="filename">/etc/ttys</code> que permite arrancar el
	dæmon <span class="application">XDM</span> en una terminal virtual:
	</p><pre class="screen">ttyv8   "/usr/local/bin/xdm -nodaemon"  xterm   off secure</pre><p>Por omisión esta entrada está deshabilitada; para habilitarla
        cambie el campo 5 de <code class="literal">off</code> a <code class="literal">on</code> y
        reinicie <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=init&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">init</span>(8)</span></a> usando los pasos descritos en la <a class="xref" href="term.html#term-hup" title="24.3.2.2. Forzar init a que relea /etc/ttys">Sección 24.3.2.2, &#8220;Forzar <code class="command">init</code> a que relea
	  <code class="filename">/etc/ttys</code>&#8221;</a>.  El primer campo es el nombre de la terminal que
        que gestiona el programa, <code class="literal">ttyv8</code>.  Es decir,
        <span class="application">XDM</span> empezará a
        ejecutarse en la terminal virtual número 9.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp70878800"></a>5.6.3. Configuración de XDM</h3></div></div></div><p>El directorio de configuración de
        <span class="application">XDM</span> está en
        <code class="filename">/usr/local/lib/X11/xdm</code>.  En este directorio hay
        varios ficheros que se usan para intervenir en el comportamiento y la
        apariencia de <span class="application">XDM</span>.  Normalmente tendrá
        estos ficheros:</p><div class="informaltable"><table border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Fichero</th><th>Descripción</th></tr></thead><tbody><tr><td><code class="filename">Xaccess</code></td><td>Reglas de acceso para clientes.</td></tr><tr><td><code class="filename">Xresources</code></td><td>Recursos de X por omisión.</td></tr><tr><td><code class="filename">Xservers</code></td><td>Lista de pantallas locales y remotas a gestionar.</td></tr><tr><td><code class="filename">Xsession</code></td><td>«script» por omisión para el acceso al
                sistema.</td></tr><tr><td><code class="filename">Xsetup_</code>*</td><td>«script» para lanzar aplicaciones antes del
                acceso al sistema.</td></tr><tr><td><code class="filename">xdm-config</code></td><td>Configuración de todas las pantallas de
              este equipo.</td></tr><tr><td><code class="filename">xdm-errors</code></td><td>Errores generados por el programa servidor.</td></tr><tr><td><code class="filename">xdm-pid</code></td><td>El ID de proceso del XDM que está
                 funcionando.</td></tr></tbody></table></div><p>En este directorio también hay unos cuantos programas y
        «scripts» que se usan para arrancar el escritorio cuando
        <span class="application">XDM</span> se está ejecutando.
        El objetivo de cada uno de estos ficheros será descrito
        brevemente.  La sintaxis exacta y el uso de todos estos ficheros
        se describe en <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=xdm&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">xdm</span>(1)</span></a>.</p><p>La configuración por omisión es una simple ventana
        rectangular de acceso al sistema con el nombre de la máquina
        en la parte superior en un tipo de letra grande y unos campos para que
        introduzca«Login:» y «Password:» debajo.  Este es
        un buen punto de partida para aprender a cambiar el aspecto de las
        pantallas de <span class="application">XDM</span>.</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp70905296"></a>5.6.3.1. Xaccess</h4></div></div></div><p>El protocolo para conectar con las pantallas controladas por
          <span class="application">XDM</span> se llama «X Display Manager Connection
          Protocol» (XDMCP).  Este fichero es un conjunto de reglas para
          controlar las conexiones XDMCP desde otros equipos.  Por defecto
          permite a cualquier cliente conectar, pero eso no importa a menos
          que <code class="filename">xdm-config</code> se cambie para escuchar
          conexiones remotas.  La configuración básica no
	  permite conexiones desde ningún cliente.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp70911440"></a>5.6.3.2. Xresources</h4></div></div></div><p>Este es el fichero de opciones por defecto para el selector de
          pantalla y acceso al sistema.  Aquí es donde se puede
          modificar la apariencia del programa de «login».
          El formato es idéntico al fichero de opciones por defecto
          descrito en la documentación de X11.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp70912592"></a>5.6.3.3. Xservers</h4></div></div></div><p>Una lista de pantallas remotas entre las que elegir.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp70913744"></a>5.6.3.4. Xsession</h4></div></div></div><p>Este es el «script» de sesión que por
	  defecto <span class="application">XDM</span> arrancará
	  después de que el usuario acceda al sistema.  Normalmente
	  cada usuario tendrá una versión personalizada del
          «script» de sesión en
          <code class="filename">~/.xsession</code> que sobreescribe el
          «script» por defecto.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp70915664"></a>5.6.3.5. Xsetup_*</h4></div></div></div><p>Estos se arrancarán automáticamente antes de que
	  se muestre el interfaz de selección o de acceso al sistema.
          Hay un «script» por cada gestor de ventanas disponible
          llamados <code class="filename">Xsetup_</code> seguido por el número
	  de pantalla local (por ejemplo <code class="filename">Xsetup_0</code>).
	  Normalmente estos «scripts» arrancan uno o dos
	  programas en segundo plano, por ejemplo <code class="command">xconsole</code>.
	  </p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp70918096"></a>5.6.3.6. xdm-config</h4></div></div></div><p>Este fichero contiene las opciones por defecto aplicables a
          todas las pantallas que gestiona la instalación.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp70919376"></a>5.6.3.7. xdm-errors</h4></div></div></div><p>Este fichero contiene la salida de los servidores X que
          <span class="application">XDM</span> intente arrancar.  Si alguna pantalla
          que <span class="application">XDM</span> intente arrancar se cuelga por
          alguna razón este es un buen sitio para buscar los mensajes
          de error.  Estos mensajes también se escriben en el fichero
          <code class="filename">~/.xsession-errors</code> del usuario en cada
          sesión.</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp70921808"></a>5.6.4. Ejecutar un servidor de pantalla a través de la red
        </h3></div></div></div><p>Para que otros clientes puedan conectar al servidor de pantalla
        edite las reglas de acceso y habilite la escucha en la
        conexión.  Por omisión se aplican restricciones.  Si quiere
        que <span class="application">XDM</span> escuche conexiones
        comente la siguiente línea en el fichero
        <code class="filename">xdm-config</code>:</p><pre class="screen">! SECURITY: do not listen for XDMCP or Chooser requests
! Comment out this line if you want to manage X terminals with xdm
DisplayManager.requestPort:     0</pre><p>y después reinicie <span class="application">XDM</span>.
        Recuerde que los comentarios en los ficheros de opciones por defecto
        comienzan con el carácter«!» en
        vez del típico «#».  Puede aplicar controles
        más restrictivos.  Consulte las opciones de ejemplo en
        <code class="filename">Xaccess</code> y la página de manual de
        <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=xdm&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">xdm</span>(1)</span></a>.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp70926288"></a>5.6.5. Alternativas a XDM</h3></div></div></div><p>Hay algunas alternativas al programa por defecto
        <span class="application">XDM</span>.  Una de ellas,
        <span class="application">kdm</span> (que se incluye con
        <span class="application">KDE</span>) se describe más adelante en este
        capítulo.  <span class="application">kdm</span> ofrece muchas
	ventajas visuales y funcionalidad para permitir a los usuarios elegir
	su gestor de ventanas en el momento del acceso al sistema.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="x-fonts.html">Anterior</a> </td><td width="20%" align="center"><a accesskey="u" href="x11.html">Subir</a></td><td width="40%" align="right"> <a accesskey="n" href="x11-wm.html">Siguiente</a></td></tr><tr><td width="40%" align="left" valign="top">5.5. Uso de tipos en X11 </td><td width="20%" align="center"><a accesskey="h" href="index.html">Inicio</a></td><td width="40%" align="right" valign="top"> 5.7. Entornos de escritorio</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Puede descargar éste y muchos otros documentos desde
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Si tiene dudas sobre FreeBSD consulte la
    <a href="http://www.FreeBSD.org/docs.html">documentación</a> antes de escribir a la lista
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Envíe sus preguntas sobre la documentación a
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>