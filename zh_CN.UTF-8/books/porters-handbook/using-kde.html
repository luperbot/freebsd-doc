<?xml version="1.0" encoding="utf-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>6.10. 使用 KDE</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD Porter 手册" /><link rel="up" href="special.html" title="第 6 章 特殊情况" /><link rel="prev" href="using-qt.html" title="6.9. 使用 Qt" /><link rel="next" href="using-java.html" title="6.11. 使用 Java" /><link rel="copyright" href="trademarks.html" title="法律声明" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">6.10. 使用 KDE</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="using-qt.html">上一页</a> </td><th width="60%" align="center">第 6 章 特殊情况</th><td width="20%" align="right"> <a accesskey="n" href="using-java.html">下一页</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="using-kde"></a>6.10. 使用 KDE</h2></div></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="kde-variables"></a>6.10.1. 变量定义 (只用于 KDE 3.x)</h3></div></div></div><div class="table"><a id="idp68599120"></a><div class="table-title">表 6.12. 用于使用 KDE 3.x 的 port 的变量</div><div class="table-contents"><table summary="用于使用 KDE 3.x 的 port 的变量" border="0"><colgroup><col /><col /></colgroup><tbody><tr><td><code class="varname">USE_KDELIBS_VER</code></td><td>表示 port 用到了 KDE 库。
		  这个变量可以指定希望使用的 KDE 主版本号，
		  如果设置了这个变量， 则系统也会将
		  <code class="varname">USE_QT_VER</code> 设为适当的版本。
		  该变量目前唯一有效的值是
		  <code class="literal">3</code>。</td></tr><tr><td><code class="varname">USE_KDEBASE_VER</code></td><td>表示 port 用到了 KDE 的基本系统。
		  这个变量可以指定希望使用的 KDE 主版本号，
		  如果设置了这个变量， 则系统也会将
		  <code class="varname">USE_QT_VER</code> 设为适当的版本。
		  该变量目前唯一有效的值是 <code class="literal">3</code>。</td></tr></tbody></table></div></div><br class="table-break" /></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="kde4-variables"></a>6.10.2. 用于 KDE 4 的变量定义</h3></div></div></div><p>如果您的应用程序需要使用 KDE 4.x， 则应将 <code class="varname">USE_KDE4</code>
	  设为所需组件的列表。 下面列出一些最常用到的组件
	  (最新的组件列表位于 <code class="filename">/usr/ports/Mk/bsd.kde4.mk</code>
	  中的 <code class="varname">_USE_KDE4_ALL</code>)：</p><div class="table"><a id="idp68607568"></a><div class="table-title">表 6.13. 可用的 KDE4 组件</div><div class="table-contents"><table summary="可用的 KDE4 组件" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>名称</th><th>说明</th></tr></thead><tbody><tr><td><code class="literal">akonadi</code></td><td>个人信息管理 (PIM)存储服务</td></tr><tr><td><code class="literal">automoc4</code></td><td>令 port 使用 automoc4 联编工具集</td></tr><tr><td><code class="literal">kdebase</code></td><td>基本的 KDE 应用程序 (Konqueror、 Dolphin、 Konsole)</td></tr><tr><td><code class="literal">kdeexp</code></td><td>试验性的 KDE 库 (包含尚未完全确定不变的 API)</td></tr><tr><td><code class="literal">kdehier</code></td><td>常用的 KDE 目录层次结构</td></tr><tr><td><code class="literal">kdelibs</code></td><td>基本 KDE 库</td></tr><tr><td><code class="literal">kdeprefix</code></td><td>如果设置了这个选项， 则 port 将安装到
		  <code class="literal">${KDE4_PREFIX}</code>
		  而不是 <code class="literal">${LOCALBASE}</code></td></tr><tr><td><code class="literal">pimlibs</code></td><td>PIM 函数库</td></tr><tr><td><code class="literal">workspace</code></td><td>用于组成桌面的应用程序和函数库 (Plasma、 KWin)</td></tr></tbody></table></div></div><br class="table-break" /><p>KDE 4.x port 会安装到 <code class="literal">${KDE4_PREFIX}</code>，
	  目前是 <code class="filename">/usr/local/kde4</code>，
	  以避免与 KDE 3.x ports 冲突。 这是通过指定 <code class="literal">kdeprefix</code>
	  组件来实现的， 它表示替换默认的 <code class="varname">PREFIX</code>。 不过，
	  port 仍会遵循通过 <code class="envar">MAKEFLAGS</code> 环境变量设置的
	  <code class="varname">PREFIX</code> 以及其它 <span class="application">make</span> 参数。</p><p>KDE 4.x ports 有可能和 KDE 3.x ports 冲突， 因此如果启用了
	  <code class="literal">kdeprefix</code> 组件， 它们会安装到
	  <code class="literal">${KDE4_PREFIX}</code>。 目前
	  <code class="literal">KDE4_PREFIX</code> 的默认值是
	  <code class="filename">/usr/local/kde4</code>。 也可以将 KDE 4.x ports
	  安装到自定义的 <code class="literal">PREFIX</code>。 当
	  <code class="literal">PREFIX</code> 是通过 <code class="envar">MAKEFLAGS</code>
	  环境变量， 或直接在 <span class="application">make</span> 命令行指定时，
	  它会替换 <code class="literal">kdeprefix</code> 提供的配置。</p><div class="example"><a id="kde4-components-example"></a><div class="example-title">例 6.4. <code class="varname">USE_KDE4</code>  示例</div><div class="example-contents"><p>下面是一个简单的 KDE 4 port。 <code class="varname">USE_CMAKE</code>
	  指定 port 使用 <span class="application">CMake</span> ──
	  许多 KDE 4 项目所使用的配置工具。
	  <code class="varname">USE_KDE4</code> 则引入 KDE 函数库， 并令 port 在联编阶段使用
	  <span class="application">automoc4</span>。 需要的 KDE 组件，
	  以及其他依赖的组件可以从 configure 的日志中获知。
	  <code class="varname">USE_KDE4</code> 并不会自动设置 <code class="varname">USE_QT_VER</code>。
	  如果 port 需要使用某些 Qt4 组件， 则需要设置 <code class="varname">USE_QT_VER</code>
	  并指定所需要的组件。 </p><pre class="programlisting">USE_CMAKE=     yes
USE_KDE4=      automoc4 kdelibs kdeprefix
USE_QT_VER=    4
QT_COMPONENTS= qmake_build moc_build rcc_build uic_build</pre></div></div><br class="example-break" /></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="using-qt.html">上一页</a> </td><td width="20%" align="center"><a accesskey="u" href="special.html">上一级</a></td><td width="40%" align="right"> <a accesskey="n" href="using-java.html">下一页</a></td></tr><tr><td width="40%" align="left" valign="top">6.9. 使用 Qt </td><td width="20%" align="center"><a accesskey="h" href="index.html">起始页</a></td><td width="40%" align="right" valign="top"> 6.11. 使用 Java</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>本文档和其它文档可从这里下载：
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>.</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>如果对于FreeBSD有问题，请先阅读
    <a href="http://www.FreeBSD.org/docs.html">文档</a>，如不能解决再联系
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    关于本文档的问题请发信联系
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>