<?xml version="1.0" encoding="utf-8"?>
<!--
     The FreeBSD Documentation Project
     The FreeBSD Simplified Chinese Project

     Original Revision: r37884
     $FreeBSD$
-->
<book xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" xml:lang="zh_cn">
  <info><title xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD Porter 手册</title>
    

    <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
      <author xmlns:xlink="http://www.w3.org/1999/xlink"><orgname xmlns:xlink="http://www.w3.org/1999/xlink">The FreeBSD Documentation Project</orgname></author>
    </authorgroup>

    <pubdate xmlns:xlink="http://www.w3.org/1999/xlink">2000 年 4 月</pubdate>

    <copyright xmlns:xlink="http://www.w3.org/1999/xlink">
      <year xmlns:xlink="http://www.w3.org/1999/xlink">2000</year>
      <year xmlns:xlink="http://www.w3.org/1999/xlink">2001</year>
      <year xmlns:xlink="http://www.w3.org/1999/xlink">2002</year>
      <year xmlns:xlink="http://www.w3.org/1999/xlink">2003</year>
      <year xmlns:xlink="http://www.w3.org/1999/xlink">2004</year>
      <year xmlns:xlink="http://www.w3.org/1999/xlink">2005</year>
      <year xmlns:xlink="http://www.w3.org/1999/xlink">2006</year>
      <year xmlns:xlink="http://www.w3.org/1999/xlink">2007</year>
      <year xmlns:xlink="http://www.w3.org/1999/xlink">2008</year>
      <year xmlns:xlink="http://www.w3.org/1999/xlink">2009</year>
      <year xmlns:xlink="http://www.w3.org/1999/xlink">2010</year>
      <year xmlns:xlink="http://www.w3.org/1999/xlink">2011</year>
      <holder xmlns:xlink="http://www.w3.org/1999/xlink" role="mailto:doc@FreeBSD.org">The FreeBSD Documentation
	Project</holder>
    </copyright>


    <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
      <author xmlns:xlink="http://www.w3.org/1999/xlink"><orgname xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 中文计划</orgname></author>
    </authorgroup>

    <pubdate xmlns:xlink="http://www.w3.org/1999/xlink">2005 年 11 月</pubdate>

    <copyright xmlns:xlink="http://www.w3.org/1999/xlink">
      <year xmlns:xlink="http://www.w3.org/1999/xlink">2005</year>
      <year xmlns:xlink="http://www.w3.org/1999/xlink">2006</year>
      <year xmlns:xlink="http://www.w3.org/1999/xlink">2007</year>
      <year xmlns:xlink="http://www.w3.org/1999/xlink">2008</year>
      <year xmlns:xlink="http://www.w3.org/1999/xlink">2009</year>
      <year xmlns:xlink="http://www.w3.org/1999/xlink">2010</year>
      <year xmlns:xlink="http://www.w3.org/1999/xlink">2011</year>
      <holder xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 中文计划</holder>
    </copyright>

    
<legalnotice xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="trademarks" role="trademarks">
  <title xmlns:xlink="http://www.w3.org/1999/xlink">法律声明</title>

  <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 是 XFreeBSD 基金会的注册商标。</para>

  <para xmlns:xlink="http://www.w3.org/1999/xlink">UNIX 是 Open Group 在美国和其它国家的注册商标。</para>

  <para xmlns:xlink="http://www.w3.org/1999/xlink">Sun, Sun Microsystems, SunOS, Solaris,
    Java, JDK, 以及 OpenJDK 是 Sun Microsystems, Inc.
    在美国和其它国家的商标或注册商标。</para>

<!-- Product Trademarks -->

  <para xmlns:xlink="http://www.w3.org/1999/xlink">Apple and QuickTime是Apple Computer, Inc.的商标，
    在美国和其它国家注册。</para>

  <para xmlns:xlink="http://www.w3.org/1999/xlink">Macromedia and Flash是Macromedia, Inc.
    在美国和/或其它国家的商标或注册商标。</para>

  <para xmlns:xlink="http://www.w3.org/1999/xlink">Microsoft, Windows, and Windows Media是Microsoft Corporation
    在美国和/或其它国家的商标或注册商标。</para>

  <para xmlns:xlink="http://www.w3.org/1999/xlink">PartitionMagic是PowerQuest Corporation在美国和/或其它国家的注册商标。</para>

  <para xmlns:xlink="http://www.w3.org/1999/xlink">许多制造商和经销商使用一些称为商标的图案或文字设计来彰显自己的产品。
    本文档中出现的， 为 FreeBSD Project 所知晓的商标，后面将以 ™ 或
    ® 符号来标注。</para>

</legalnotice>


    
<legalnotice xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="legalnotice">
  <title xmlns:xlink="http://www.w3.org/1999/xlink">版权声明</title>

  <important xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">本文中许可证的非官方中文翻译仅供参考，
    不作为判定任何责任的依据。如与英文原文有出入，则以英文原文为准。</emphasis></para></important>

  <para xmlns:xlink="http://www.w3.org/1999/xlink">在满足下列许可条件的前提下， 允许再分发或以源代码 (SGML DocBook) 或 “编译”
    (XML、 HTML、 PDF、 PostScript、 RTF 等) 的经过修改或未修改的形式：</para>

  <orderedlist xmlns:xlink="http://www.w3.org/1999/xlink">
    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">再分发源代码 (XML DocBook) 必须不加修改的保留上述版权告示、
        本条件清单和下述弃权书作为该文件的最先若干行。</para>
    </listitem>

    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">再分发编译的形式 (转换为其它 DTD、 PDF、 PostScript、 RTF 或其它形式)，
        必须将上述版权告示、本条件清单和下述弃权书复制到与分发品一同提供的文件，
        以及其它材料中。</para>
    </listitem>
  </orderedlist>

  <important xmlns:xlink="http://www.w3.org/1999/xlink">
    <para xmlns:xlink="http://www.w3.org/1999/xlink">本文档由 FREEBSD DOCUMENTATION PROJECT “按现状条件” 提供，
      并在此明示不提供任何明示或暗示的保障， 包括但不限于对商业适销性、
      对特定目的的适用性的暗示保障。 任何情况下， FREEBSD DOCUMENTATION
      PROJECT 均不对任何直接、 间接、 偶然、 特殊、 惩罚性的， 或必然的损失
      (包括但不限于替代商品或服务的采购、 使用、 数据或利益的损失或营业中断)
      负责， 无论是如何导致的并以任何有责任逻辑的，
      无论是否是在本文档使用以外以任何方式产生的契约、
      严格责任或是民事侵权行为(包括疏忽或其它)中的， 即使已被告知发生该损失的可能性。</para>
  </important>

  <para xmlns:xlink="http://www.w3.org/1999/xlink">Redistribution and use in source (XML DocBook) and 'compiled'
    forms (XML, HTML, PDF, PostScript, RTF and so forth) with or without
    modification, are permitted provided that the following conditions are
    met:</para>

  <orderedlist xmlns:xlink="http://www.w3.org/1999/xlink">
    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">Redistributions of source code (XML DocBook) must retain the
        above copyright notice, this list of conditions and the following
        disclaimer as the first lines of this file unmodified.</para>
    </listitem>

    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">Redistributions in compiled form (transformed to other DTDs,
        converted to PDF, PostScript, RTF and other formats) must
        reproduce the above copyright notice, this list of conditions and
        the following disclaimer in the documentation and/or other
        materials provided with the distribution.</para>
    </listitem>
  </orderedlist>

  <important xmlns:xlink="http://www.w3.org/1999/xlink">
    <para xmlns:xlink="http://www.w3.org/1999/xlink">THIS DOCUMENTATION IS PROVIDED BY THE FREEBSD DOCUMENTATION
      PROJECT "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING,
      BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND
      FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL
      THE FREEBSD DOCUMENTATION PROJECT BE LIABLE FOR ANY DIRECT, INDIRECT,
      INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
      BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS
      OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
      ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR
      TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE
      USE OF THIS DOCUMENTATION, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH
      DAMAGE.</para>
  </important>

  <important xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">从 FreeBSD 和 FreeBSD 中文化项目官方网站获取的本文档
    PostScript® 和 PDF 格式文件中内嵌的中文字体，由文鼎科技开发股份有限公司按
    《文鼎公众授权书》授权提供。</emphasis></para></important>

<para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">文鼎公众授权书</para>
<para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"/>
<para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">版权所有(C) 1999 文鼎科技开发股份有限公司</para>
<para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">台湾110台北市永吉路168号11楼</para>
<para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">除以下规定外，保留所有权利。</para>
<para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"/>
<para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">任何人均可以复制及分发本授权书原始文件的复本，但禁止修改之。</para>
<para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"/>
<para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">前言</para>
<para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"/>
<para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">　　绝大多数软件的授权书是用来剥夺您共享和修改软件的自由。相反，
     如果您将我们所授与您的一切权利授与您的接受者，
     并且确保他们能得到本软件的修改物，
     文鼎公众授权书特别许可并鼓励您使用本软件。</para>
<para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"/>
<para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">法律性条款</para>
<para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"/>
<para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">0.　定义</para>
<para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">　　本授权书中，「字型」是指「文鼎PL细上海宋」、「文鼎PL中楷」（BIG-5码）
     和「文鼎PL简报宋」、「文鼎PL简中楷」（GB码）等TrueType字型，
     以及经修改而产生的该等字型的衍生物， 包括修改字型样式、 更动编码顺序、
     转换格式、 变更字型名称，
     或者在 glyph table 中增减一些文字。</para>
<para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"/>
<para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">　　「PL」是指「Public License」（公众授权）。</para>
<para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"/>
<para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">　　「版权人」是指在字型版权声明中被称为版权所有者之人。</para>
<para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"/>
<para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">　　「您」是指被授权者或复制、再散布、修改字型的人。</para>
<para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"/>
<para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">　　「自由使用」是指您在所接受的相同条件下， 有复制、
     修改字型及散布字型复制品的自由，
     而非指价格。 如果您愿意， 可以对此项服务收取费用。</para>
<para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"/>
<para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">1.　复制及分发</para>
<para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">　　如果在所有复制品维持本授权书文件（ARPHICPL.TXT）不变，
     您可以在任何媒体无限制复制及分发本字型之复制品。</para>
<para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"/>
<para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">2.　修改</para>
<para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">　　如果满足以下条件， 您可以用任何方式修改本字型的复制品， 包括修改字型样式、
     更换编码顺序、 转换格式、 变更字型名称， 或者在 glyph table 中增减一些文字，
     并且依据上述第一条的规定复制及分发该修改物。</para>
<para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"/>
<para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">　a)您必须在每个修改过的文件中插入明显的声明， 表示您如何及何时修改了该文件。</para>
<para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"/>
<para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">　b)您必须允许所有第三方在本授权书条款下， 得以「自由使用」该修改物的全部，
     例如通过提供指定地点的复制路径，或在通常作为软件交换的媒体上发布该修改物。</para>
<para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"/>
<para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">　c)如果修改过的字型在执行时以交谈方式读取命令，
     您必须使它在开始进入一般的交谈使用方式时打印或显示声明，
     包括适当的版权声明、 无担保声明 （或者其他您提供担保的声明），
     以及使用者可以依据这些条件再分发本字型的声明，
     并且告知使用者如何看到本授权书的复本。</para>
<para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"/>
<para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">　　这些要求适用于整个修改过的作品。 如果作品的可辨识部分并非衍生自本字型，
     且可以合理地认其为独立而个别的作品， 则当您将它当作个别作品分发时，
     本授权书及其条款将不适用于该部分。 因此，
     仅将非基于本字型之其他作品和本字型一起放入贮存或分发媒体的同一卷上，
     并不会使该其他作品纳入本授权书的适用范围。</para>
<para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"/>
<para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">3.　解除条件</para>
<para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">　　除非依照本授权书的规定， 否则您不能复制、 修改、 再授权或分发本字型。
     任何用其他方式复制、 修改、 再授权或分发本字型的意图，
     将使本授权书所授与您的权利自动失效。 不过，
     从您那依据本授权书取得复制品和权利的人，
     只要他们完全遵行条款，其权利将维持有效。</para>
<para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"/>
<para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">4.　同意</para>
<para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">　　因您未签订本授权书， 所以没必要遵行它。 然而，
     没有任何其他文件授与您复制、 修改、 再授权或分发本字型之权利，
     如果您不同意本授权书， 这些行为是法律所禁止的。
     因此一旦复制、 修改、 再授权或分发本字型，
     就表示您接受本授权书及其一切条款和条件。</para>
<para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"/>
<para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">5.　自动取得授权</para>
<para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">　　每当您再散布本字型时， 收受者便自动从原始授权者处取得依据这些条款和条件复制、
     分发或修改本字型的授权。 您不可对在此所授与收受者之权利实行强加其他限制，
     您也没有使第三方遵行本授权书的义务。</para>
<para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"/>
<para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">6.　抵触</para>
<para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">　　若因法院判决、 违反专利宣称或任何其他原因（不限于专利纠纷）的结果，
     使强加于您的条件（不论是法院命令、协议或其他）和授权书的条件有所冲突时，
     也不能让您违背授权书的条件。
     如果您不能同时满足本授权书所定的义务及其他相关义务来分发时，
     那麽您根本不可分发本字型。 例如，
     如果专利授权不许所有直接或间接从您那里取得复制品者，
     在免授权费的情况下再分发本字型时，
     唯一能同时满足双方要求的方法是完全避免分发本字型。</para>
<para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"/>
<para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">　　如果本条款之任何部分在特定情况下无效或无法实施， 条款的其他部分将继续适用，
     并作为整体适用于其他情况。</para>
<para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"/>
<para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">7.　无担保</para>
<para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">　　由于本字型是免费授权， 在法律允许的范围内， 本字型将不附带任何担保。
     除非另有书面说明， 版权人或其他提供本字型者「同样」不提供任何种类的担保，
     不论是明示还是暗示， 包括但不限于销售性和适于特定目的的暗示担保。
     有关本字型品质和执行的一切危险均由您承担。 如果本字型出现瑕疵，
     您应承担一切所需服务、修复和改正的费用。</para>
<para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"/>
<para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">8.　损害赔偿请求权的放弃</para>
<para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">　　除非法律规定或以书面形式同意， 在任何情况下，
     任何版权人或以上被允许得以复制、 修改或再分发本字型者，
     均不对您因使用或不能使用本字型（包括但不限于替代商品或服务的采购；
     使用、 数据或利益之损失； 或者营业妨碍） 所引致的任何直接、 间接、 必然、
     偶然、 特殊或惩罚性损失负责， 即使版权人或其他人已知该损失的可能性时亦不例外。</para>
</legalnotice>


    <releaseinfo xmlns:xlink="http://www.w3.org/1999/xlink">$FreeBSD$</releaseinfo>
  </info>

    <chapter xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="why-port">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">介绍</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">几乎每个人都是通过 FreeBSD Ports Collection
	在 FreeBSD 上面装应用程序 (“ports”)的。
	就像FreeBSD的其它部分一样， 它主要来自于志愿者的努力。
	所以在阅读这份文档的时候请务必记住这些。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">在 FreeBSD 的世界里， 任何人都能提交新的 port，
	或志愿地维护一个已有的 port， 如果那个 port 没人维护的话 ──
	不需要任何特殊的权限来做这件事情。</para>

    </chapter>

    <chapter xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="own-port">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">自行制作新 port</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">那么， 您有兴趣创建自己的 port 或升级现有的 port？
	太好了。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">下面的内容将会提供一些创建FreeBSD port的指导。
	如果想升级一个现有的 port， 那么您应该在看完这些内容并阅读
	<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="port-upgrading"/>。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">因为这份文档不是十分详细， 您还应该再参考一下
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/ports/Mk/bsd.port.mk</filename>， 所有 port
	的 Makefile 文件都会包含它。 即使不是每天都去摆弄 Makefile，
	您也会从那个文件里面获得很多知识， 里面的注释非常详细。
	还有要补充一下，如果您有其它的问题， 可以给<link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-ports">FreeBSD ports 邮件列表</link>
	这个 mailing list 发信。</para>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">在这份文档里提到的大部分的变量
	  (<varname xmlns:xlink="http://www.w3.org/1999/xlink"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">VAR</replaceable></varname>)
	  是不能修改的。 大多 (但不是全部) 都在
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/ports/Mk/bsd.port.mk</filename>
	  的开始部分进行了介绍； 其它一些也应该可以在那里找到。
	  注意这些文件使用了非标准的制表符：
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">Emacs</application> 和
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">Vim</application> 应该能在打开文件的时候自动识别它，
	  而 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">vi</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> 和 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ex</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> 则需要在打开文件的时候通过
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">:set tabstop=4</command> 来修正默认的设置。</para>
      </note>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">
        想练练手吗？ 请参阅我们的
        <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://wiki.freebsd.org/WantedPorts">希望移植的软件列表</link>
        来看看您是否有兴趣完成其中的任务。
      </para>
    </chapter>

    <chapter xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="quick-porting">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">简单的 port</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">这一章将介绍如何快速创建一个全新的 port。
	很多时候， 这点内容是不够的，
	您需要阅读这份文档中更深入的内容。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">首先， 需要取得包含源代码的 tar包， 并把它放到
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTDIR</varname>变量所指的地方。 默认的情况下， 这应该是
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/ports/distfiles</filename>。</para>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">下面的内容假定您不需要修改软件的源代码就能在 FreeBSD
	  上编译通过。 如果需要修改代码， 就需要参考下一章的内容了。</para>
      </note>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-makefile">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">编写 <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">最简单的 <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>
	  应该是这个样子的：</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink"># New ports collection makefile for:   oneko
# Date created:        5 December 1994
# Whom:                asami
#
# $FreeBSD$
#

PORTNAME=      oneko
PORTVERSION=   1.1b
CATEGORIES=    games
MASTER_SITES=  ftp://ftp.cs.columbia.edu/archives/X11R5/contrib/

MAINTAINER=    asami@FreeBSD.org
COMMENT=       A cat chasing a mouse all over the screen

MAN1=          oneko.1
MANCOMPRESSED= yes
USE_IMAKE=     yes

.include &lt;bsd.port.mk&gt;</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">看看您是否能够看懂。 不必担心
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">$FreeBSD$</literal>
	  那一行， 当这个 port 被导入到 ports 树里的时候，
	  CVS 会自动填写它。 您可以在 <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="porting-samplem">
	    示范的 Makefile</link>那章找到更多的细节。</para>
      </sect1>


      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-desc">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">创建描述文件</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">有 2 个描述文件对于任何一个 port 来说是必须的，
	  不论它是不是打算成为 package。 它们是
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-descr</filename> 和
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename>。 这两个文件使用 <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-</filename>
	  前缀以区别于其它文件。</para><!-- NOT GOOD -->

	<sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-descr</filename> (关于 port 的冗长描述文件)</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">这是 port 里一个较长的描述文件。
	    使用一段或几段文件文字来简明的描述这个 ports 是用来做什么的。</para>

	  <note xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">这 <emphasis xmlns:xlink="http://www.w3.org/1999/xlink"> 不是</emphasis> 手册或者对如何
	      深入使用/编译这个port的说明！ <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">要是您从
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">README</filename> 或者联机手册里面中复制文字的话，
		请务必小心</emphasis>； 通常， 它们不是对这个 port
	      简明扼要的描述， 或者用了难以使用的格式 (比如，
	      联机手册里有迫使两端对齐的空格)。
	      如果要移植的软件有官方的WWW网页， 您应该在这里列出来。
	      使用 <literal xmlns:xlink="http://www.w3.org/1999/xlink">WWW:</literal> 作为前缀来表示
	      <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">一个</emphasis>网站，
	      这样其它的自动工具就能正常工作了。</para>
	  </note>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">下面是一个简单的
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-descr</filename> 例子：</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">This is a port of oneko, in which a cat chases a poor mouse all over
the screen.
 :
(etc.)

WWW: http://www.oneko.org/</programlisting>
	</sect2>

	<sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename> (port 的装箱单)</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">这份文件列出了 port 所要安装的所有文件。 由于 package
	    也是据此进行打包， 因此它也被称作 <quote xmlns:xlink="http://www.w3.org/1999/xlink">装箱单(packing list)</quote>.
	    这个文件中， 路径是相对于安装的路径的 (通常是
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local</filename> 或
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/X11R6</filename>)。 如果您使用
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">MAN<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">n</replaceable></varname>
	    变量的话， 请不要在这里列出任何联机手册。 假如 port
	    在安装过程中会创建一些目录， 请务必增加对应的
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">@dirrm</literal> 行，
	    以便在 package 被卸载时予以自动删除。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">下面是一个简单的例子：</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">bin/oneko
lib/X11/app-defaults/Oneko
lib/X11/oneko/cat1.xpm
lib/X11/oneko/cat2.xpm
lib/X11/oneko/mouse.xpm
@dirrm lib/X11/oneko</programlisting>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">参考 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pkg_create</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> 的联机手册以获得更多有关装箱单的细节</para>

	  <note xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">建议您将这个文件里的所有的文件名按字母排序。
	      这样， 在升级这个port的时候就能够更方便地核实所做的修改。</para>
	  </note>

	  <note xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">手工创建这样一份列表可能是一件非常枯燥的事情。
	      如果您的 port 需要安装大量的文件， <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="plist-autoplist">自动创建装箱单</link>
	      会帮您省下不少时间。</para>
	  </note>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">只有一种情况可以不用 <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename>文件。
	    如果这个 port 只安装很少量的一些文件或目录的话，
	    这些文件和目录就可以分别列在 <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> 的
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">PLIST_FILES</varname>和<varname xmlns:xlink="http://www.w3.org/1999/xlink">PLIST_DIRS</varname>
	    变量里。 举个例子来说， 我们可以在上面那个
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">oneko</filename> port 里面不用
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename>， 而把下面的这几行加到
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> 里面：</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">PLIST_FILES=    bin/oneko \
                lib/X11/app-defaults/Oneko \
                lib/X11/oneko/cat1.xpm \
                lib/X11/oneko/cat2.xpm \
                lib/X11/oneko/mouse.xpm
PLIST_DIRS=     lib/X11/oneko</programlisting>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">当然， 如果一个 port 不需要给它自己创建目录的话，
	    就不用设置 <varname xmlns:xlink="http://www.w3.org/1999/xlink">PLIST_DIRS</varname> 变量了。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">不过， 如果用这种方式来列出 port 要安装的文件和目录的话，
	    也就无法利用在 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pkg_create</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> 里介绍的命令来制作 package 了。
	    因此， 这种方法只适用于那些简单的 port， 使它们更为简化。 同时，
	    这种做法也有助于减少 ports collection 中的文件数量。
	    在采用 <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename> 之前，
	    请考虑一下使用这种方法。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">稍后我们将看到 <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename>
	    以及 <varname xmlns:xlink="http://www.w3.org/1999/xlink">PLIST_FILES</varname> 如何处理
	    <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="plist">更复杂的任务</link>。</para>
	</sect2>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-checksum">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">创建校验和文件</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">只要键入 <command xmlns:xlink="http://www.w3.org/1999/xlink">make makesum</command>，
	  port 便会自动创建 <filename xmlns:xlink="http://www.w3.org/1999/xlink">distinfo</filename>文件。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">如果下载的文件的校验和经常变化，
	  而您又能确保它们的来源可靠 (比如， 来自于CD制造商，
	  或每天联编生成的文档文件)， 就应该在 <varname xmlns:xlink="http://www.w3.org/1999/xlink">IGNOREFILES</varname>
	  里面标明这些文件。 这样， 再运行
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">make makesum</command> 的时候便不会把这些标记
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">IGNORE</literal> 的文件计算在内了。</para>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-testing">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">测试 port</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">应当确定您的 port 确实做了您希望它们做的事情，
	  包括打包。下面是需要重点检查的一些重要的工作。</para>


	<itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename> 中没有包括任何不想安装的文件</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename> 包含了所有应该安装的文件</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">您的 port 能够使用 <buildtarget>reinstall</buildtarget>
	      多次安装。</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">您的 port 能在卸载 (deinstall) 时，
	      自动完成 <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="plist-cleaning">清理</link></para>
	  </listitem>
	</itemizedlist>

	<procedure xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">推荐的测试顺序</title>
	  <step xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">make install</command></para>
	  </step>

	  <step xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">make package</command></para>
	  </step>

	  <step xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">make deinstall</command></para>
	  </step>

	  <step xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">pkg_add package-name
	      </command></para>
	  </step>

	  <step xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">make deinstall</command></para>
	  </step>

	  <step xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">make reinstall</command></para>
	  </step>

	  <step xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">make package</command></para>
	  </step>
	</procedure>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">确信在 <buildtarget>package</buildtarget> 和
	  <buildtarget>deinstall</buildtarget> 阶段没有任何警告。
	  第三步以后， 检查是否所有新建的目录都被正确删除了。
	  在第四步以后， 试着运行一下所装的软件，
	  确保当它以 package 方式安装的时候也能正常工作。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">自动化这些步骤最简单的方法是通过 <application xmlns:xlink="http://www.w3.org/1999/xlink">ports tinderbox</application>
	  来进行测试。 它可以维护 <literal xmlns:xlink="http://www.w3.org/1999/xlink">jails</literal> 并在其中完成全部测试工作，
	  而不会破坏正在运行的系统的状态。 请参见
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">ports/ports-mgmt/tinderbox</filename>
	  以了解更多的信息。</para>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-portlint">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">用 <command xmlns:xlink="http://www.w3.org/1999/xlink">portlint</command> 来检查 port</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">请使用 <command xmlns:xlink="http://www.w3.org/1999/xlink">portlint</command> 命令来检查您的 port
	  是否符合我们的规范。 <package xmlns:xlink="http://www.w3.org/1999/xlink">ports-mgmt/portlint</package>
	  程序是 ports 套件的一部分。
	  这个程序的主要功能是帮助您检查
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="porting-samplem">Makefile</link> 的样式是否符合规范，
	  以及 <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="porting-pkgname">package</link> 的命名是否得体。</para>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-submitting">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">提交新 port</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">在提交新 port 之前， 应先阅读 <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="porting-dads"> 该做什么和不该做什么</link> 一节。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">既然已经对所制作的 port 相当满意了， 剩下的工作，
	  便是将它放进 FreeBSD 的主 ports 树， 以便让更多的人从中受益。
	  我们并不需要您的 <filename xmlns:xlink="http://www.w3.org/1999/xlink">work</filename>
	  目录以及 <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkgname.tgz</filename> 包， 因此现在可以删除它们了。
	  假定您的 port 的名字是 oneko， 接下来要做的是
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">cd</command> 到
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">oneko</literal> 所在的目录， 然后输入命令：
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">shar `find oneko` &gt; oneko.shar</command></para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">将这个 <literal xmlns:xlink="http://www.w3.org/1999/xlink">oneko.shar</literal> 文件作为附件，
	  使用 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">send-pr</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> 程序提交 (请参阅
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="../../../../doc/en_US.ISO8859-1/articles/contributing/contrib-how.html#CONTRIB-GENERAL">Bug
	    Reports and General Commentary</link> 以了解关于
	    <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">send-pr</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> 的进一步详情) 将其送出。 请务必将您的 bug 报告分类 (category) 为
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">ports</literal> 并把子分类 (class) 设置为
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">change-request</literal>  (不要把报告表及为机密的， 即
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">confidential</literal>！)。 此外， 在 PR
	  的描述 (<quote xmlns:xlink="http://www.w3.org/1999/xlink">Description</quote>) 一栏中的内容应该是 port 的简要介绍
	  (例如 <varname xmlns:xlink="http://www.w3.org/1999/xlink">COMMENT</varname> 内容的简化版本)，
	  而 shar 文件则应填入修正 (<quote xmlns:xlink="http://www.w3.org/1999/xlink">Fix</quote>)
	  栏中。</para>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">在问题报告里面使用了一段好的描述，
	    能使我们的工作变得更容易。 习惯上， 我们会使用类似：
	    <quote xmlns:xlink="http://www.w3.org/1999/xlink">New port: &lt;category&gt;/&lt;portname&gt;
	    &lt;short description of the port&gt;</quote>
	    这样的标题来说明这是新的 port。 如果您也使用这样的习惯，
	    那么我们将更容易更方便地阅读您的 PR，
	    从而加快处理速度。</para>
	</note>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">再次声明， <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">不要包含原始的distfile，
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">work</filename>目录， 或者您用
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">make package</command> 制作的包</emphasis>；
	    此外， 对于新的 port 请务必使用 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">shar</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>
	    而不是 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">diff</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">在您提交的您的 port 以后请耐心等待。
	  有时在一个 port 正式加入 FreeBSD 之前需要花费好几个月，
	  尽管也有可能是几天。 您可以查看
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.FreeBSD.org/cgi/query-pr-summary.cgi?category=ports">
	  正等待被 commit 到 FreeBSD 的 port PR</link>。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">一旦我们看过了您的报告， 有必要的话我们会联系您，
	  并把它放到 ports 树里。 您的名字也会出现在
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="../../../../doc/en_US.ISO8859-1/articles/contributors/contrib-additional.html">Additional FreeBSD Contributors</link>
	  和其它的文件。 不是很棒吗!? <!-- smiley -->
	  :-)</para>
      </sect1>
    </chapter>

    <chapter xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="slow">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">复杂的 Porting</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">好了， 也许工作没那么简单， port 需要做些修改才能够在
	FreeBSD 上跑起来。 在这一章里，
	我们将会一步步举例来介绍应该如何修改来使您的
	port 能在 FreeBSD 上面运行。</para>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="slow-work">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">整个系统是如何运转的?</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">首先， 这一系列的动作是由用户在您的
	  port 目录里敲入 <command xmlns:xlink="http://www.w3.org/1999/xlink">make</command> 后发生的。
	  您也许会发现在另外的一个窗口里阅读一下
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.mk</filename> 将会有助于您的理解。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">要是您不是非常明白 <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.mk</filename>
	  是做什么的话， 也不用太担心， 很多人都不知道的...
	  <!-- smiley --><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">:-&gt;</emphasis></para>

	<procedure xmlns:xlink="http://www.w3.org/1999/xlink">

	  <step xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><buildtarget>fetch</buildtarget> 会首先被执行。
	      <buildtarget>fetch</buildtarget> 将检查在本地的
	      <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTDIR</varname> 目录里是否存在
	      tar 包。 如果 <buildtarget>fetch</buildtarget>
	      没有找到就会查找 Makefile 中定义的
	      <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES</varname> URL， 还有我们的主
	      FTP 站点 <uri xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp.FreeBSD.org/pub/FreeBSD/ports/distfiles/">ftp://ftp.FreeBSD.org/pub/FreeBSD/ports/distfiles/</uri>，
	      在那里我们备份了所有被认可的 distfile。 假设那个
	      <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES</varname> 站点是直接连在 Internet 上的，
	      就会试着用 <varname xmlns:xlink="http://www.w3.org/1999/xlink">FETCH</varname> 指定的程序取回
	      distfile。 如果成功的话， 文件会被保存在<varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTDIR</varname>
	      所指定的目录以备稍后使用。</para>
	  </step>

	  <step xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">接下来会执行 <buildtarget>extract</buildtarget>。
	      它会在 <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTDIR</varname> 中寻找您的
	      tar 包 (通常是用 gzip 压缩的 tar 包)，然后解压缩到由
	      <varname xmlns:xlink="http://www.w3.org/1999/xlink">WRKDIR</varname> 所指定的临时目录里
	      (默认为<filename xmlns:xlink="http://www.w3.org/1999/xlink">work</filename>目录)。</para>
	  </step>

	  <step xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">下一步是执行 <buildtarget>patch</buildtarget>。
	      首先任何在 <varname xmlns:xlink="http://www.w3.org/1999/xlink">PATCHFILES</varname> 中定义的补丁都会被打上。
	      然后， 在由 <varname xmlns:xlink="http://www.w3.org/1999/xlink">PATCHDIR</varname> 指定的目录
	      (默认为 <filename xmlns:xlink="http://www.w3.org/1999/xlink">files</filename>目录)
	      中发现的<filename xmlns:xlink="http://www.w3.org/1999/xlink">patch-*</filename>，
	      它们将会以文件名的字母顺序被先后打上。</para>
	  </step>

	  <step xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><buildtarget>configure</buildtarget>会被执行。
	      这一步骤可能会有以下几种情形。</para>

	    <orderedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">如果存在 <filename xmlns:xlink="http://www.w3.org/1999/xlink">scripts/configure</filename>，
		  就会执行它</para>
	      </listitem>

	      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">如果定义了 <varname xmlns:xlink="http://www.w3.org/1999/xlink">HAS_CONFIGURE</varname>
		  或者 <varname xmlns:xlink="http://www.w3.org/1999/xlink">GNU_CONFIGURE</varname>， 就会执行
		  <filename xmlns:xlink="http://www.w3.org/1999/xlink">WRKSRC/configure</filename>。</para>
	      </listitem>

	      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">如果定义了<varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_IMAGE</varname>， 就会执行
		  <varname xmlns:xlink="http://www.w3.org/1999/xlink">XMKMF</varname> (默认为: <command xmlns:xlink="http://www.w3.org/1999/xlink">xmkmf
		    -a</command>)。</para>
	      </listitem>
	    </orderedlist>
	  </step>

	  <step xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><buildtarget>build</buildtarget>会被执行。
	      这一步将会进入ports的工作目录
	      (<varname xmlns:xlink="http://www.w3.org/1999/xlink">WRKSRC</varname>)
	      然后进行编译。如果定义了<varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_GMAKE</varname>，
	      就会使用 GNU <command xmlns:xlink="http://www.w3.org/1999/xlink">make</command>， 反之，
	      则会使用系统默认的 <command xmlns:xlink="http://www.w3.org/1999/xlink">make</command>。</para>
	  </step>
	</procedure>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">以上都是系统默认的步骤。 您也可以定义
	  <buildtarget>pre-<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">something</replaceable></buildtarget> 或者
	  <buildtarget>post-<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">something</replaceable></buildtarget>，
	  或者把以此命名的脚本放到
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">scripts</filename> 目录，
	  它们会在默认的动作之前或之后被执行。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">举个例子， 如果您在您的 <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>
	  里定义了<buildtarget>post-extract</buildtarget>， 并在
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">script</filename> 目录里放了一个
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">pre-build</filename> 脚本，
	  那么在 tar 包解开之后
	  <buildtarget>post-extract</buildtarget> 将被调用，
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">pre-build</filename> 脚本会在默认的编译之前被执行。
	  我们推荐您在 <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>
	  定义所有的动作， 如果不是十分复杂的话，
	  这样， 别人能更容易明白您的 port
	  需要执行哪些非默认的动作。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">默认的行为都是由 <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.mk</filename> 定义的
	  <buildtarget>do-<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">something</replaceable></buildtarget>
	  来表示的。 例如， port 中用来解压缩的命令是由
	  <buildtarget>do-extract</buildtarget> 来定义的。
	  如果您对默认的设置不满意， 可以通过在
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> 重新定义
	  <buildtarget>do-<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">someting</replaceable></buildtarget>
	  来做些改变。</para>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><quote xmlns:xlink="http://www.w3.org/1999/xlink">主</quote> 动作 (例如
	    <buildtarget>extract</buildtarget>、
	    <buildtarget>configure</buildtarget>， 等等)
	    仅仅是用来确定所有相应的阶段都完成了，
	    以及调用真实的动作或脚本， 它们不应被修改。
	    如果您想要修改解压缩这个动作，
	    可以修改 <buildtarget>do-extract</buildtarget>，
	    但永远都不要改变 <buildtarget>extract</buildtarget>
	    的操作！</para>
	</note>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">我们已经介绍了在用户敲入 <command xmlns:xlink="http://www.w3.org/1999/xlink">make</command>
	  之后会发生哪些事情了。 接下来我们将进行进一步的学习，
	  来看一看如何创建一个理想的 port。</para>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="slow-sources">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">获取源代码</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">获取源代码的 tar 包 (通常是
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">foo.tar.gz</filename> 或者
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">foo.tar.Z</filename>) 并把它们放进
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTDIR</varname>。 最好使用 <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">主流</emphasis> 的版本。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">您需要设置变量 <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES</varname>
	  来指向原始 tar 包的获取位置。 您可以在
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.sites.mk</filename>
	  里找到一些速度较快的主流站点。 请使用这些站点 ──
	  和相关的定义 ── 如果可能的话，
	  应尽量避免在同一个源代码树里出现大量重复的信息。
	  这些站点会随着时间而变化，
	  如果每个人都随意加入的话会使维护变得非常困难。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">如果您找不到一个有很好网络连接的
	  FTP/HTTP 站点， 或者它们使用了非标准的格式，
	  您也许就会想在您自己的 FTP 或 HTTP
	  服务器上放上一份副本。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">如果您找不到可靠的地方放置 distfiles，
	  我们也可以提供给您一些空间来保存它。
	  我们自己的 <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">ftp.FreeBSD.org</systemitem>；
	  然而这只是一个折衷的办法。 distfile 必须放进某人在
	  <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">freefall</systemitem> 上的
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">~/public_distfiles/</filename>
	  目录中。 可以要求帮助您 commit port 的人来放这个
	  distfile， 而这个人也需要把 <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES</varname>、
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_LOCAL</varname> 以及
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_SUBDIR</varname> 的设置，
	  改为在 <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">freefall</systemitem> 上的用户名。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">如果您的 port 的 distfile 一直在变化，
	  而作者拒绝改变其版本号， 您可以考虑把 distfiles
	  放在自己的主页， 并在 <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES</varname>
	  里把原作者的列为首选位置。 如果可能， 试着与 port
	  的作者沟通一下让他不要这么做， 这将有助于建立对源代码的控制。
	  在您的主页上放置您自己的 distfile 会避免用户得到
	  <errorname xmlns:xlink="http://www.w3.org/1999/xlink">checksum mismatch</errorname>
	  的错误， 而且能减轻我们 FTP 站点维护人员的工作量。
	  如果您的port只有一个主站点的话， 我们建议您在自己的网站上做一份备份，
	  并他列为 <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES</varname>的第2项。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">如果您的 port 需要来自网络上的一些补丁， 请把它们放到
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTDIR</varname>里。 不用担心它们跟源代码不是来自同一站点。
	  我们有办法处理 (参阅下面的
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="porting-patchfiles">补丁文件</link>)。</para>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="slow-modifying">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">修改 port</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">解开 tar 包， 对源代码做出合理的修改使得这个 port
	  能在最新版本的 FreeBSD 上面运行。
	  一定要 <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">仔细记录</emphasis> 您所做的每处改动，
	  包括删除、添加、修改的文件等等， 这些修改以后会在您的 port
	  中以脚本或补丁的方式出现， 并且能通过运行它们来自动完成您对
	  port 的改动要求。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">如果您的 port 要求用与用户交互/配置来完成编译或安装的话，
	  您可以看一下 Larry Wall 的经典的 <application xmlns:xlink="http://www.w3.org/1999/xlink">Configure</application>
	  脚本， 适当地模仿一下。 Port collection 的目的，
	  就是使每个 port 占用最少的空间，
	  并做到软件的 <quote xmlns:xlink="http://www.w3.org/1999/xlink">即插即用</quote>。</para>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">除非明确地声明， 否则您提交给
	    FreeBSD ports collection 的补丁，
	    脚本和其它的文件都将以标准的 BSD 版权发布。</para>
	</note>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="slow-patch">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">打补丁</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">在您准备制作 port 的过程中， 增加或修改的文件，
	  都可以通过 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">diff</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> 来做成补丁。 希望应用到源代码上的每个补丁，
	  都应保存为单独的文件， 并命名为
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">patch-*</filename>， 其中
	  <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">*</replaceable> 表示将要修改的文件的完整路径名，
	  例如 <filename xmlns:xlink="http://www.w3.org/1999/xlink">patch-Imakefile</filename> 或
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">patch-src-config.h</filename>。 这些文件，
	  都应保存在 <varname xmlns:xlink="http://www.w3.org/1999/xlink">PATCHDIR</varname>
	  (通常是 <filename xmlns:xlink="http://www.w3.org/1999/xlink">files/</filename>)， 这里的补丁都会自动应用到源代码上。
	  所有的补丁必须是相对于
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">WRKSRC</varname> 的 (一般而言， 您的 port 会将其
	  tarball 解压缩在那里， 并完成余下的工作)。 为了让修正和升级更容易，
	  您应避免使用多个 patch 去修改同一个文件 (例如，
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">patch-file</filename> 以及
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">patch-file2</filename> 都修改
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">WRKSRC/foobar.c</filename>) 这种情况。
	  需要注意的是， 如果修改的文件的路径中包含下划线
	  (<literal xmlns:xlink="http://www.w3.org/1999/xlink">_</literal>) 字符， 则在补丁文件名中应使用两个下划线来代替。
	  例如， 如果需要修改名为 <filename xmlns:xlink="http://www.w3.org/1999/xlink">src/freeglut_joystick.c</filename> 的文件，
	  补丁文件的名字应为
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">patch-src-freeglut__joystick.c</filename>。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">只有 <literal xmlns:xlink="http://www.w3.org/1999/xlink">[-+._a-zA-Z0-9]</literal> 这些字符，
	  可以出现在补丁的文件名中， 请务必不要使用除这些字符以外的其它字符。
	  不要把您的补丁命名成 <filename xmlns:xlink="http://www.w3.org/1999/xlink">patch-aa</filename>
	  或 <filename xmlns:xlink="http://www.w3.org/1999/xlink">patch-ab</filename> 等这样的名字，
	  最好能在补丁名中提到路径和文件名。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">不要把 RCS 字符串放进补丁。 我们把文件放进 ports
	  树的时候， CVS 会损坏它们， 当我们再 check out 出来的时候，
	  它们就会和原来的不一样， 从而导致打补丁失败。 RCS 字符串
	  是由美元符号 (<literal xmlns:xlink="http://www.w3.org/1999/xlink">$</literal>) 围绕的，
	  通常由 <literal xmlns:xlink="http://www.w3.org/1999/xlink">$Id</literal> 或
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">$RCS</literal> 开头。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">使用 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">diff</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> 的递归选项(<option xmlns:xlink="http://www.w3.org/1999/xlink">-r</option>)
	  很好， 但是请检查一下最后输出的 patch，
	  确保没有任何的垃圾信息。 特别地， 有 2 种文件不需要 diff，
	  并且应该删除： 一种是 <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>，
	  当您的port使用了<command xmlns:xlink="http://www.w3.org/1999/xlink">Imake</command>，
	  或者 GNU <command xmlns:xlink="http://www.w3.org/1999/xlink">configure</command> 等等的话。
	  如果您不得不编辑<filename xmlns:xlink="http://www.w3.org/1999/xlink">configure.in</filename>
	  以使 <command xmlns:xlink="http://www.w3.org/1999/xlink">autoconf</command> 去生成
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">configure</command>， 不要使用
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">configure</command> 来做 diff
	  (这常常会有好几千行长!)； 请定义
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">USE_AUTOTOOLS=autoconf:261</literal> 并对应
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">configure.in</filename> 来制作 diff。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">另外， 您还应尽量减少补丁中非功能性的空格及空白变动。
	  在开源世界中， 遵循不同的编码规范的项目共享大量代码是很常见的事情。
	  如果您从某个项目中提取一部分功能用来修正另一个程序中的问题时，
	  请务必小心： 补丁中很可能到处都是非功能性的变动行。 这不仅会导致 CVS
	  库的膨胀， 而且也会让导致问题的故障点， 以及您到底修改了什么变得不甚清晰。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">假如需要删除文件， 则应在
	  <buildtarget>post-extract</buildtarget> target，
	  而不是作为补丁的一部分来完成。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">除此之外， port 的
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> 还可以通过 in-place 模式的
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">sed</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> 来直接进行简单的替换操作。 如果补丁需要使用变量值，
	  这就非常有用了。 例如：</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">post-patch:
	@${REINPLACE_CMD} -e 's|for Linux|for FreeBSD|g' ${WRKSRC}/README
	@${REINPLACE_CMD} -e 's|-pthread|${PTHREAD_LIBS}|' ${WRKSRC}/configure</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">往往在移植某些软件的时候会遇到这样一种情况，
	  特别是这个软件是在 <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Windows</trademark> 上开发的时候，
	  大多数的源代码都需要进行CR/LF的转换。
	  这很可能会给以后打补丁带来问题， 还可能触发编译警告，
	  并给脚本的执行带来麻烦 (<command xmlns:xlink="http://www.w3.org/1999/xlink">/bin/sh^M</command> not found)，
	  等等。 要迅速将所有文件中的 CR/LF 改为只用 LF， 可以在 port 的
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> 中加入
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">USE_DOS2UNIX=yes</literal>。 除此之外，
	  还可以指定一个需要执行这种转换操作的文件列表：</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">USE_DOS2UNIX=    util.c util.h</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">如果希望转换一系列目录中的一组文件， 也可以使用
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">DOS2UNIX_REGEX</varname>。 它的参数是与
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">find</command> 兼容的正则表达式。
	  关于这种格式的说明， 请参阅 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">re_format</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">7</manvolnum></citerefentry>。
	  这个选项对转换所有指定扩展名的文件， 例如只转换源代码文件这样的应用非常有用：</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">USE_DOS2UNIX=    yes
DOS2UNIX_REGEX=  .*\.(c|cpp|h)</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">如果您希望基于现存的文件创建补丁， 可以把文件复制为带
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">.orig</filename> 扩展名的名字， 然后修改原文件。
	  然后使用 <buildtarget>makepatch</buildtarget>
	  目标根据修改在 port 的 <filename xmlns:xlink="http://www.w3.org/1999/xlink">files</filename> 目录中生成补丁文件。</para>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="slow-configure">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">配置</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">把任何附加的配置命令加进您的
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">configure</filename> 脚本并把它保存到
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">scripts</filename> 子目录。 如前面提到的那样，
	  您也能在 <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> 和/或
	  使用 <filename xmlns:xlink="http://www.w3.org/1999/xlink">pre-configure</filename> 或
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">post-configure</filename> 的脚本来做同样的事情。</para>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="slow-user-input">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">处理用户输入</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">如果您的 port 要求用户的输入以便配置编译、 或安装配置过程，
	  就必须在 <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> 里设置
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">IS_INTERACTIVE</varname> 变量。
	  如果用户设置了 <envar xmlns:xlink="http://www.w3.org/1999/xlink">BATCH</envar> 的话，
	  这将让用户能跳过您的 port 来完成
	  <quote xmlns:xlink="http://www.w3.org/1999/xlink">通宵编译</quote> (如果用户设置了
	  <envar xmlns:xlink="http://www.w3.org/1999/xlink">INTERACTIVE</envar>的话， 那么 <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">只有</emphasis>
	  那些要求互动的 port 才会被编译)
	  这将给那些不停编译 ports 的机器省下很多时间。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">通常我们还建议，
	  如果对于那些问题能有合理的缺省答案的话， 应检查一下
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PACKAGE_BUILDING</varname> 变量，
	  并根据其设置决定是否执行关闭交互脚本。
	  这将允许我们为 CDROM 和 FTP 来编译 package。</para>
      </sect1>
    </chapter>

    <chapter xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="makefile">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">配置 Makefile</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">配置 <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> 是相当简单的，
	我们在此建议您在开始之前看一下现有的例子。
	在这份手册里也有一个
	<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="porting-samplem">Makefile例子</link>，
	照着里面变量的顺序来写能使得您的 port
	更容易地被其它人看懂。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">现在， 当您开始编写您新的<filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>
	的时候， 可以依次思考一下以下的问题：</para>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="makefile-source">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">作者发布的代码</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">放在 <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTDIR</varname> 中的是不是标准的用 gzip 压缩的
	  tar 包， 例如 <filename xmlns:xlink="http://www.w3.org/1999/xlink">foozolix-1.2.tar.gz</filename>？
	  如果是， 可以先略过这一节。 如果不是，
	  您应当看看是不是要覆盖这些变量： <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTVERSION</varname>、
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTNAME</varname>、
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">EXTRACT_CMD</varname>、
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">EXTRACT_BEFORE_ARGS</varname>、
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">EXTRACT_AFTER_ARGS</varname>、
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">EXTRACT_SUFX</varname>，
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES</varname>，取决于您 port 的 distfile
	  格式有多么怪异。 (最常见的一个例子便是
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">EXTRACT_SUFX=.tar.Z</literal>， 一般这是因为 tar
	  包是用 <command xmlns:xlink="http://www.w3.org/1999/xlink">compress</command> 而不是
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">gzip</command> 压缩的时候。)</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">最糟的情况是， 您需要自己编写
	  <buildtarget>do-extract</buildtarget>
	  来覆盖默认的定义， 尽管这不常见，
	  但如果遇到了， 还是需要这么做。</para>
      </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="makefile-naming">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">命名</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Makefile 的第一部分便是 port
	的名字、 版本号， 以及它所属的分类。</para>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTNAME</varname> 和 <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTVERSION</varname></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">您应该把 <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTNAME</varname> 设置为您
	  port 的名字， <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTVERSION</varname>
	  则是 port 的版本号。</para>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="makefile-naming-revepoch">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTREVISION</varname> 和
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTEPOCH</varname></title>

	<sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTREVISION</varname> (port 的修订版本号)</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTEREVISION</varname>
	    变量是一个单调递增的值， 如果不为
	    0， 就会被加到包名的后面，
	    当 <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTVERSION</varname> 增加
	    的时候应被置 0 (也就是当官方有新版本发布的时候)。
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTREVISION</varname>
	    会被自动化工具 (比如 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pkg_version</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>)
	    用来检测是否存在可用的新版本。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">每当 port 发生变化并对生成的
	    package 的内容或结构有显著影响时，
	    都应增加 <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTREVISION</varname>
	    值。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">下面是一些应当修改 <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTREVISION</varname>
	    的情况：</para>

	  <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">有新的补丁用来修正安全漏洞、
		错误， 或给 port 添加了新的功能。</para>
	    </listitem>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">修改了 <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>
		里编译时开启或禁用的选项。</para>
	    </listitem>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">修改了要安装文件的列表或安装时的行为
		(例如， 修改了一个用来给 package
		初始化数据的脚本， 如 ssh host keys)。</para>
	    </listitem>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">一个port依赖的共享库版本改变
		(在这种情况下， 当安装了新版本的共享库，
		后再去安装较早的软件就会出错，
		因为它们要依赖老的 libfoo.x
		而不是libfoo.(x+1))。</para>
	    </listitem>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">原作者修改了 port distfile， 并且 distfile
		的新老版本之间用
		<command xmlns:xlink="http://www.w3.org/1999/xlink">diff -ru</command> 只能发现一些细微的变化，
		这时我们只需要对
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">distinfo</filename> 做相应的修正，
		而不需要修改
		<varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTVERSION</varname>。</para>
	    </listitem>
	  </itemizedlist>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">不需要修改
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTREVISION</varname> 的例子：</para>

	  <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">port 结构风格的改变，
		但对于打成的包没有功能的上的变化。</para>
	    </listitem>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES</varname>
		发生变化， 或进行了对 port 功能的修改，
		但不致影响最后打成的包。</para>
	    </listitem>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">对 distfiles 诸如修正拼写错误之类的补丁，
		对用户而言没有升级上的麻烦。</para>
	    </listitem>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">对一个原本编译失败的包的修改，
		使其可编译， 而没有加入新功能。 因为
		<varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTREVISION</varname>
		表示包的内容发生了变化，
		如果先前没有可编译的包， 也就不需要修改
		<varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTREVISION</varname>
		来表示变化。</para>
	    </listitem>
	  </itemizedlist>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">一个修改并提交 port 的原则是：
	    使得别人能从中受益 (改进、 修改已有错误，
	    或使新的 package 能够运行)，
	    您还要权衡一下这是否应让那些经常更新
	    ports 树的人升级，
	    如果回答是 <quote xmlns:xlink="http://www.w3.org/1999/xlink">是</quote> 的话，
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTREVISION</varname>
	    就应该修改了。</para>
	</sect3>

	<sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTEPOCH</varname> (port 的加权版本号)</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">有时软件商或 FreeBSD 的
	    porter 会使用比旧版的版本号小的数字做为新版本号的情况。
	    举例来说， 从
	    foo-20000801 到 foo-1.0 (从形式上来说这是不对的，
	    因为 20000801 在数值上比1大很多)。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">在这种情况下， <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTEPOCH</varname>
	    应当增加。 如果
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTEPOCH</varname> 非 0，
	    就应当加到包名字的后面。
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTEPOCH</varname>
	    永远不能被减少或清零，
	    因为那样会导致与前一时期的 package
	    比较版本时产生不正确的结果。
	    (就是说， 那个 package 就不会被检测到已经过时了。)
	    新的版本号 (比如前面在前面那个例子中的
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">1.0,1</literal>) 在数值上比前一个版本
	    (20000801) 小， 但多数自动化的工具会认为
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">,1</literal>
	    后缀意味着比前一个包的后缀 <literal xmlns:xlink="http://www.w3.org/1999/xlink">,0</literal> 大。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">错误的去除或重置
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTEPOCH</varname>
	    会导致很多不幸发生； 如果您还不明白前面的讨论，
	    请多阅读几次直至明白为止，
	    或到邮件列表上来提问。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">大多数 port 都不会用到
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTEPOCH</varname>，
	    并且如果某个软件的下一个版本改变了版本号结构的话，
	    用巧妙的方法来设定 <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTVERSION</varname>
	    也能避免使用 <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTEPOCH</varname>。 然而，
	    FreeBSD porter 也需要注意， 当有新版本的软件发布，
	    但并非正式版本时 ── 比如
	    <quote xmlns:xlink="http://www.w3.org/1999/xlink">snapshot</quote> 版本，
	    原作者可能会使用当时的日期来命名，
	    这在新的 <quote xmlns:xlink="http://www.w3.org/1999/xlink">官方</quote> 版本发布的时候，
	    就很容易引起前面提到的问题。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">举个例子， 如果 snapshot 版本的发布日期是
	    20000917， 这个软件的上一个版本是1.2，
	    那么这个版本的 <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTVERSIN</varname> 应该设为
	    1.2.20000917 或类似的样子， 而不是20000917，
	    这样在 1.3 发布以后，
	    新版本就可以在数值上大于旧的版本了。</para>
	</sect3>

	<sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">关于 <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTREVISION</varname> 和
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTEPOCH</varname> 的用例</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">gtkmumble</literal> port，版本号
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">0.10</literal>， 被提交到
	    ports collection:</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">PORTNAME=       gtkmumble
PORTVERSION=    0.10</programlisting>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGNAME</varname> 变成
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">gtkmumble-0.10</literal>。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">然后有人发现了一个安全漏洞，
	    需要用一个FreeBSD的补丁。 <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTREVISION</varname>
	    就要相应的增加。</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">PORTNAME=       gtkmumble
PORTVERSION=    0.10
PORTREVISION=   1</programlisting>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGNAME</varname>变成了
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">gtkmumble-0.10_1</literal></para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">软件的作者发布了新的版本， 版本为
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">0.2</literal> (作者本来的意思是，
	    用 <literal xmlns:xlink="http://www.w3.org/1999/xlink">0.10</literal> 表示
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">0.1.0</literal>，<quote xmlns:xlink="http://www.w3.org/1999/xlink">而不是指
	    0.9 之后的那个版本</quote> - 但是现在太迟了)。
	    因为现在的次版本号 <literal xmlns:xlink="http://www.w3.org/1999/xlink">2</literal>
	    在数值上比上一个版本 <literal xmlns:xlink="http://www.w3.org/1999/xlink">10</literal> 小，
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTEPOCH</varname> 必须增加，
	    以使新的 package 被认为是 <quote xmlns:xlink="http://www.w3.org/1999/xlink">更新的</quote>。
	    由于那是作者发布的一个新版本， 因此
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTREVISION</varname> 应被置0 (或者从
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> 里面删除它)。</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">PORTNAME=       gtkmumble
PORTVERSION=    0.2
PORTEPOCH=      1</programlisting>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGNAME</varname> 变成了
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">gtkmumble-0.2,1</literal></para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">下一个版本将会是 0.3。
	    由于 <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTEPOCH</varname> 从不减少，
	    那么就无须改动：</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">PORTNAME=       gtkmumble
PORTVERSION=    0.3
PORTEPOCH=      1</programlisting>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGNAME</varname> 变成
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">gtkmumble-0.3,1</literal></para>

	  <note xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">如果在这次升级中 <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTEPOCH</varname>
	      被置为了<literal xmlns:xlink="http://www.w3.org/1999/xlink">0</literal>， 那么在装了
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">gtkmumble-0.10_1</literal> 包的机器上就无法检测到
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">gtkmumble-0.3</literal> 包的更新，
	      因为 <literal xmlns:xlink="http://www.w3.org/1999/xlink">3</literal> 在数值上比
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">10</literal> 小。 记住， 这是
	      <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTEPOCH</varname> 最重要的地方。</para>
	  </note>
	</sect3>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGNAMEPREFIX</varname> 和 <varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGNAMESUFFIX</varname></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">2 个可选的变量， <varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGNAMEPREFIX</varname> 和
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGNAMESUFFIX</varname> 可以和
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTNAME</varname> 还有
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTVERSION</varname> 配合使用，
	  形成像这样的 <varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGNAME</varname>：
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">${PKGNAMEPREFIX}${PORTNAME}${PKGNAMESUFFIX}-${PORTVERSION}</literal>。
	  请确定符合我们的
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="porting-pkgname">包命名规则</link>。
	  当然， <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">不</emphasis> 允许在
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTVERSION</varname>
	  中使用连字符 (<literal xmlns:xlink="http://www.w3.org/1999/xlink">-</literal>)。 如果包名有
	  <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">language-</replaceable> 或
	  <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">-compiled.specifics</replaceable> 部分 (见下文)，
	  请分别用 <varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGNAMEPREFIX</varname> 和
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGNAMESUFFIX</varname>， 不要直接加到
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTNAME</varname> 中。</para>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">LATEST_LINK</varname></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">LATEST_LINK</varname> 在编译包的过程中用于确定可以为
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">pkg_add -r</command> 使用的缩短的名字。 举例来说，
	  在安装最新版本的 perl 的时候， 只需指定
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">pkg_add -r perl</command> 而无需知道具体的版本号。
	  这个名字应该是独一无二的， 并且对用户而言应该是显而易见的名字。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">有时， 在 ports 套件中可能会存在同一程序的多个版本。
	  索引和预编译包的联编系统都需要能够将它们视为不同的软件包， 尽管其
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTNAME</varname>、 <varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGNAMEPREFIX</varname>， 甚至
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGNAMESUFFIX</varname> 可能是一模一样的。 遇到这种情况时，
	  就需要将除了 <quote xmlns:xlink="http://www.w3.org/1999/xlink">主</quote> port 之外的其他 port
	  中的 <varname xmlns:xlink="http://www.w3.org/1999/xlink">LATEST_LINK</varname> 变量设为不同的值
	  ── 请参见 <filename xmlns:xlink="http://www.w3.org/1999/xlink">lang/gcc46</filename> 和
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">lang/gcc</filename> port， 以及
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">www/apache*</filename> 系列， 以了解它的用法。
	  如果设置了 <varname xmlns:xlink="http://www.w3.org/1999/xlink">NO_LATEST_LINK</varname>，
	  则系统便不会生成对应的连接， 对于非
	  <quote xmlns:xlink="http://www.w3.org/1999/xlink">主</quote> port 来说是一个可行的选择。
	  需要注意的是， 如何确定 <quote xmlns:xlink="http://www.w3.org/1999/xlink">主</quote> 版本 ──
	  <quote xmlns:xlink="http://www.w3.org/1999/xlink">最流行</quote>、 <quote xmlns:xlink="http://www.w3.org/1999/xlink">受支持最好</quote>，
	  <quote xmlns:xlink="http://www.w3.org/1999/xlink">变动最少</quote>， 等等 ── 已经超过了本书能够给出的建议范围；
	  这里只是向您介绍在选定了一个
	  <quote xmlns:xlink="http://www.w3.org/1999/xlink">主</quote> port 之后如何指定其他 port 的版本。</para>
      </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-pkgname">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">包命名规则</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">以下是您在命名您的包时应当遵守的规则。
	这将使得我们放包的目录更利于浏览，
	因为我们已经有数以万计的包了，
	如果用户觉得查看包名很困难的话，
	他们会很快走开的。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">一个包的名字应该看起来像这样：
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">language_region-name-compiled.specifics-version.numbers</filename>。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">要像这样来定义包的名字：
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">${PKGNAMEPREFIX}${PORTNAME}${PKGNAMESUFFIX}-${PORTVERSION}</literal>。
	确保所有的变量符合上面的格式。</para>

      <orderedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 会尽力去支持用户当地的语言。
	    如果这个 port 是某种语言专用的， 那么
	    <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">language-</replaceable> 部分应该是
	    由 ISO-639 定义的自然语言的 2 个字母缩写。 比如，
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">ja</literal>是表示日本， <literal xmlns:xlink="http://www.w3.org/1999/xlink">ru</literal>
	    是表示俄罗斯， <literal xmlns:xlink="http://www.w3.org/1999/xlink">vi</literal> 表示越南，
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">zh</literal> 表示中国， <literal xmlns:xlink="http://www.w3.org/1999/xlink">ko</literal>
	    表示韩国， <literal xmlns:xlink="http://www.w3.org/1999/xlink">de</literal> 表示德国。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">如果是针对某种语言的某一地区的话，
	    再要加上2个字母的国家代码。 例如，
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">en_US</literal> 表示美国英语，
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">fr_CH</literal> 表示瑞士法语。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">language-</replaceable> 部分应该在
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGNAMEPREFIX</varname> 变量里设置。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">name</filename> 部分的首字母应该
	    小写。 (余下的部分可以包含大写字母， 所以当您
	    要转换一个包含大写字母软件的名字时， 您需要
	    自己做出判断。) 对于 <literal xmlns:xlink="http://www.w3.org/1999/xlink">Perl 5</literal>
	    模块的命名， 有个传统的规则是， 在前面
	    加上 <literal xmlns:xlink="http://www.w3.org/1999/xlink">p5-</literal>
	    并把两个冒号的部分改为连字号， 如：
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">Data::Dumper</literal> 模块对应的名字， 就应该是
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">p5-Data-Dumper</literal>。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">确认 port 的名字和版本之间有清晰的分隔， 并放入 <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTNAME</varname> 和
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTVERSION</varname> 变量。 在
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTNAME</varname> 中包含版本部分的唯一理由是上游软件包真的采用这样的命名方式，
	    类似 <filename xmlns:xlink="http://www.w3.org/1999/xlink">textproc/libxml2</filename> 或
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">japanese/kinput2-freewnn</filename> port 这样。 否则，
	    在 <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTNAME</varname> 中就不应包含任何版本信息。
	    许多 port 采用同样的 <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTNAME</varname> 名字是很正常的，
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">www/apache*</filename> port 便是如此； 在这种情况下，
	    不同的版本 (以及不同的索引项) 是由 <varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGNAMEPREFIX</varname>、
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGNAMESUFFIX</varname>， 以及
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">LATEST_LINK</varname> 的值的不同而有所区别的。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">如果 port 可以使用不同的 <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="makefile-masterdir">硬编码默认配置</link>
	    进行联编 (通常是一系列 port 的一部分目录名)， 则
	    <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">-compiled.specifics</replaceable>
	    部分就应该明示编译进去的默认值 (此处连字号是可选的)。
	    通常的用例包括纸型和不同的字体尺寸。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">-compiled.specifics</replaceable>
	    部分应该通过 <varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGNAMESUFFIX</varname>
	    变量来设置。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">版本号应该紧随在连字号
	    (<literal xmlns:xlink="http://www.w3.org/1999/xlink">-</literal>) 后面并由数字和字母组成。
	    特别指出， 另外的连字号是不允许出现在版本号里的。
	    唯一例外的是字符串 <literal xmlns:xlink="http://www.w3.org/1999/xlink">pl</literal>
	    (表示 <quote xmlns:xlink="http://www.w3.org/1999/xlink">patchlevel</quote>)，
	    <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">只能</emphasis>
	    用在软件没有主版本号和次版本号的情况下。
	    如果软件的版本号里出现了像
	    <quote xmlns:xlink="http://www.w3.org/1999/xlink">alpha</quote>， <quote xmlns:xlink="http://www.w3.org/1999/xlink">beta</quote>，
	    <quote xmlns:xlink="http://www.w3.org/1999/xlink">rc</quote>， <quote xmlns:xlink="http://www.w3.org/1999/xlink">pre</quote>，
	    取第一个字母把它放在小数点的后面。
	    如果在版本号里一直出现那些名字，
	    那么在数字和字母之间不应有多余的小数点。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">这个方法是为了更容易得凭版本号来排序 port。
	    特别注意的是， 确保版本号之间的每部分都由小数点来分隔，
	    如果日期也是版本号的一部分， 就用这样的格式，
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">0.0.yyyy.mm.dd</literal>
	    这样的格式， 而非
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">dd.mm.yyyy</literal>
	    甚至
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">yy.mm.dd</literal>
	    这种不适合表示千年的格式。 在版本号上使用
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">0.0.</literal> 前缀十分重要， 因为当软件发行正式的版本时，
	    其版本号数字很可能会小于表示年份的
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">yyyy</literal> 数字。</para>
	</listitem>
      </orderedlist>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">这里是一些真实的例子，
	我们藉此说明如何把软件作者对软件的命名，
	转换为适合我们包的命名方式：</para>

      <informaltable xmlns:xlink="http://www.w3.org/1999/xlink" frame="none" pgwide="1">
	<tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="6">
	  <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">发行版的名字</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGNAMEPREFIX</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTNAME</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGNAMESUFFIX</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTVERSION</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">说明</entry>
	    </row>
	  </thead>

	  <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">mule-2.2.2</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">(空)</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">mule</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">(空)</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">2.2.2</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">没什么需要修改的</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">EmiClock-1.0.2</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">(空)</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">emiclock</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">(空)</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">1.0.2</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">程序的名字不能使用大写字母</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">rdist-1.3alpha</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">(空)</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">rdist</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">(空)</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">1.3.a</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">像 <literal xmlns:xlink="http://www.w3.org/1999/xlink">alpha</literal>
		这样的字符串是不允许出现的</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">es-0.9-beta1</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">(空)</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">es</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">(空)</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">0.9.b1</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">像 <literal xmlns:xlink="http://www.w3.org/1999/xlink">beta</literal>
		这样的字符串是不允许出现的</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">mailman-2.0rc3</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">(空)</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">mailman</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">(空)</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">2.0.r3</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">像 <literal xmlns:xlink="http://www.w3.org/1999/xlink">rc</literal>
		这样的字符串是不允许出现的</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">v3.3beta021.src</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">(空)</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">tiff</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">(空)</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">3.3</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">那个是啥鬼东西？</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">tvtwm</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">(空)</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">tvtwm</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">(空)</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">pl11</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">总需要有个版本号吧</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">piewm</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">(空)</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">piewm</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">(空)</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">1.0</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">总需要有个版本号吧</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">xvgr-2.10pl1</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">(空)</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">xvgr</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">(空)</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">2.10.1</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">pl</literal> 只允许在没有
		主/次 版本号的情况下才能出现</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">gawk-2.15.6</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">ja-</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">gawk</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">(空)</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">2.15.6</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">日文版</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">psutils-1.13</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">(空)</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">psutils</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">-letter</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">1.13</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">纸张大小已经在编译的时候被硬编码到程序里了</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">pkfonts</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">(空)</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">pkfonts</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">300</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">1.0</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">300dpi 字体的包</entry>
	    </row>
	  </tbody>
	</tgroup>
      </informaltable>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">如果在原始的代码里没有版本号，
	或者原作者并不打算开发另外的版本，
	就应把版本号设成 <literal xmlns:xlink="http://www.w3.org/1999/xlink">1.0</literal> (就像前面
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">piewm</literal> 的例子那样)。 否则，
	要求原始的作者加上版本号或使用日期
	(<literal xmlns:xlink="http://www.w3.org/1999/xlink">0.0.yyyy.mm.dd</literal>)
	来作为版本号。</para>
    </sect2>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="makefile-categories">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">分类</title>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">CATEGORIES</varname> (所属分类)</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">在包制作完成之后，
	  它会被放在 <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/ports/packages/All</filename>，
	  并建立一系列来自
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/ports/packages</filename>
	  下子目录的符号连接。 这些子目录的名称是由
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">CATEGORIES</varname>
	  指定的。 这将方便于那些用户在 FTP 站点或 CDROM
	  的一大堆包里面寻找自己想要的包。 请查看一下
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="porting-categories">目前的分类表</link>，
	  并找出一个适合您 port 的分类。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">此列表也会决定您的 port 在 port
	  目录中的位置。 如果您在这里设定了 1 个以上的分类，
	  则认为您 port 文件应放到以第一个分类命名的子目录中。 请参阅
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="choosing-categories">后面</link>
	  关于如何选择正确分类的更多讨论。</para>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-categories">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">目前的分类表</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">这是目前 port 中的分类。 那些用星号
	  (<literal xmlns:xlink="http://www.w3.org/1999/xlink">*</literal>) 标记的是
	  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">虚拟</emphasis>分类 ──
	  它们在ports树里没有相应的子目录，
	  因而只用来做为次要的分类， 用以方便搜索。</para>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">对于非虚拟的分类来说，
	    您会看到在相对应子目录中的 <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>
	    里有写在 <varname xmlns:xlink="http://www.w3.org/1999/xlink">COMMENT</varname> 里的单行描述。</para>
	</note>

	<informaltable xmlns:xlink="http://www.w3.org/1999/xlink" frame="none" pgwide="1">
	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="3">
	    <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">分类</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">描述</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">注意事项</entry>
	      </row>
	    </thead>

	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">accessibility</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">帮助残障人士的 port。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">afterstep*</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">对于
		  <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.afterstep.org">AfterStep</link>
		  窗口管理器的支持。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">arabic</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">阿拉伯语言支持。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">archivers</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">压缩与备份工具。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">astro</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">有关天文学的 port。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">audio</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">声音支持。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">benchmarks</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">测评程序。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">biology</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">生物学相关的软件。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">cad</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">计算机辅助设计工具。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">chinese</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">中文语言支持。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">comms</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">通讯软件。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">大部分是用于串口通讯的。</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">converters</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">字符编码转换。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">databases</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">数据库。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">deskutils</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">在发明计算机以前就已经在桌面上使用的东西。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">devel</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">程序开发工具。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">不要把开发库放在这里 ──
		  除非您再也找不到更合适的分类，
		  否则就不该放在这个分类里。</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">dns</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">DNS 相关的软件。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">docs*</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">有关 FreeBSD 文档的 Meta-ports。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">editors</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">通用编辑器。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">有特殊用途的编辑器应该被置于相应的分类中
		  (比如， 数学-方程式
		  编辑器应该放在 <filename xmlns:xlink="http://www.w3.org/1999/xlink">math</filename> 分类里。</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">elisp*</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Emacs-lisp相关的port。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">emulators</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">其它操作系统的模拟器。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">终端模拟器 <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">不应该</emphasis>
		  属于这个分类 ── 基于 X 的应该放在
		  <filename xmlns:xlink="http://www.w3.org/1999/xlink">x11</filename> 而基于文本模式的应该放到
		  <filename xmlns:xlink="http://www.w3.org/1999/xlink">comms</filename> 或 <filename xmlns:xlink="http://www.w3.org/1999/xlink">misc</filename>
		  中去， 取决于具体的功能。</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">finance</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">货币、 金融以及相关的应用程序。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">french</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">法语语言支持。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">ftp</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">FTP 客户端和服务器端的程序。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">如果您的 port 同时支持 FTP 和 HTTP 的话，
		  把它放进 <filename xmlns:xlink="http://www.w3.org/1999/xlink">ftp</filename> 并把
		  <filename xmlns:xlink="http://www.w3.org/1999/xlink">www</filename> 做为第二分类。</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">games</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">游戏。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">geography*</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">与地理学有关的软件。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">german</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">德语语言支持。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">gnome*</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">关于
		  <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.gnome.org">GNOME</link>
		  项目的支持。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">gnustep*</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">与 GNUstep 桌面环境有关的软件。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">graphics</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">图形图象程序。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">hamradio*</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">业余无线电爱好者使用的软件。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">haskell*</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">有关 Haskell 编程语言的软件。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">hebrew</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">希伯来语语言支持。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">hungarian</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">匈牙利语语言支持。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">ipv6*</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">IPv6 相关软件。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">irc</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">IRC 相关程序</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">japanese</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">日语语言支持。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">java</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">与 Java™ 编程语言有关的软件。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">java</filename> 分类对 port 而言不应是其唯一的分类。
		  除了直接与 Java 语言相关的 port 之外，
		  开发人员应尽量避免使用 <filename xmlns:xlink="http://www.w3.org/1999/xlink">java</filename> 作为
		  port 的主分类。</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">kde*</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.kde.org">K 桌面环境 (KDE)</link>
		  相关的软件。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">kld*</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">可加载内核模块。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">korean</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">韩语语言支持。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">lang</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">编程语言。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">linux*</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Linux 相关的应用程序。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">lisp*</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">和 Lisp 编程语言有关的软件。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">mail</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">电子邮件软件。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">math</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">数值计算和其它数学相关的软件。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">mbone*</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">MBone 应用程序。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">misc</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">各式各样的实用程序。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">通常不属于其它的任何分类，
		  如果可能的话， 尽量为您的 port 选择
		  <literal xmlns:xlink="http://www.w3.org/1999/xlink">misc</literal>
		  以外的分类， 因为在这里的
		  port 比较容易被人忽略。</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">multimedia</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">多媒体软件。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">net</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">各种网络相关的软件。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">net-im</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">即时消息软件。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">net-mgmt</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">网络管理软件。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">net-p2p</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">对等网 (Peer to peer network) 应用程序。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">news</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">USENET新闻组相关软件。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">palm</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.palm.com/">Palm™</link> 系列相关软件。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">parallel*</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">并行计算相关软件。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">pear*</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Pear PHP 架构相关软件。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">perl5*</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Perl</application>5 相关的软件。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">plan9*</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.cs.bell-labs.com/plan9dist/">Plan9</link> 相关程序。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">polish</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">波兰语语言语言支持。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">ports-mgmt</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">用于管理、 安装和开发 FreeBSD ports 和预编译包的 port。</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">portuguese</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">葡萄牙语语言支持。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">print</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">打印相关的软件。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">桌面出版工具 (打印预览工具等等)
		  也可以放在此分类里。</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">python*</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.pythong.org/">Python</link> 编程语言相关的软件。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">ruby*</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.ruby-lang.org/">Ruby</link> 编程语言相关的软件。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">rubygems*</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">移植版本的 <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.rubygems.org/">RubyGems</link> 软件包。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">russian</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">俄语语言支持。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">scheme*</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">与 Scheme 语言有关的 port。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">science</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">科学相关但不适合放在
		  <filename xmlns:xlink="http://www.w3.org/1999/xlink">astro</filename>、
		  <filename xmlns:xlink="http://www.w3.org/1999/xlink">biology</filename>， 以及
		  <filename xmlns:xlink="http://www.w3.org/1999/xlink">math</filename> 分类的 port。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">security</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">安全相关的实用程序。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">shells</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">命令行 shell。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">spanish*</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">西班牙语支持</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">sysutils</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">系统相关的实用程序。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">tcl*</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">依赖于 Tcl 运行的 port。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">textproc</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">文本处理的实用程序。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">这个分类并不适合于那些应该放到
		  <filename xmlns:xlink="http://www.w3.org/1999/xlink">print</filename> 的桌面出版工具。</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">tk*</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">依赖于 Tk 运行的 port。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">ukrainian</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">乌克兰语语言支持。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">vietnamese</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">越南语语言支持。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">windowmaker*</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">WindowMaker 窗口管理器的相关支持。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">www</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Word Wide Web的相关软件。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">HTML语言相关的支持也可以放在这个分类里。</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">x11</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">X Window System以及相关软件。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">这个分类是给那些直接支持X Window System
		  的软件的。 不要把常规的 X 应用程序也放进这里；
		  它们中的大多数都应被归类到
		  <filename xmlns:xlink="http://www.w3.org/1999/xlink">x11-*</filename> (参见下文)。
		  如果您的 port <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">是</emphasis>
		  X 应用程序， 应定义 <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_XLIB</varname>
		  (使用 <varname xmlns:xlink="http://www.w3.org/1999/xlink">USER_IMAKE</varname> 隐含包括它)，
		  然后把它放到合适的分类里。</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">x11-clocks</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">X11 下的时钟程序。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">x11-drivers</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">X11 驱动程序。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">x11-fm</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">X11 下的文件管理器。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">x11-fonts</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">X11 下的字体以及相关工具。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">x11-servers</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">X11 服务器。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">x11-themes</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">X11 主题。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">x11-toolkits</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">X11 工具包。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">x11-wm</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">X11 窗口管理器。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">xfce*</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">与
		  <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.xfce.org/">Xfce</link>
		  桌面环境有关的 port。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">zope*</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.zope.org/">Zope</link> 相关的支持。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>
	    </tbody>
	  </tgroup>
	</informaltable>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="choosing-categories">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">选择正确的分类</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">由于不少分类是重复的， 您通常在用哪个分类作为您
	  port 的主分类上做出选择。 下面有几条规则能帮您解决这个问题。
	  这是一个带优先级的表， 按优先级降序罗列：</para>

	<itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">第一个分类必须是个物理的分类 (参阅
	      <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="porting-categories">前面</link>)。
	      这对于制作包是必要的。
	      虚拟分类和物理分类可能在包制作完成后混合在一起。</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">对于特定语言的分类通常放在第一位。
	      例如， 如果您的 port 会安装一些 X11 的日文字体，
	      那么 <varname xmlns:xlink="http://www.w3.org/1999/xlink">CATEGORIES</varname>那行
	      就应该是 <filename xmlns:xlink="http://www.w3.org/1999/xlink">japanese x11-fonts</filename>。</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">有特定意义的分类应当被列在无特定意义的前面。
	      例如， HTML 编辑器应该是这样的 <filename xmlns:xlink="http://www.w3.org/1999/xlink">www
		 editors</filename>， 而不是其它的什么。 同样地，
	      您不应该列出 <filename xmlns:xlink="http://www.w3.org/1999/xlink">net</filename>， 如果 port 属于
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">irc</filename>、 <filename xmlns:xlink="http://www.w3.org/1999/xlink">mail</filename>、
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">news</filename>、
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">security</filename>， 或是 <filename xmlns:xlink="http://www.w3.org/1999/xlink">www</filename>，
	      因为 <filename xmlns:xlink="http://www.w3.org/1999/xlink">net</filename> 可以表示它们的超集。</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">只有当主要的分类是一门自然语言的时候，
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">x11</filename> 能被做为第二分类。
	      需要特别指出的是， 您不应把 X 的应用程序也归类为
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">x11</filename>。</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Emacs</application>
	      模式应当于相应的应用程序放在同一个分类里， 而不是
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">editors</filename> 分类。 举例来说，
	      一个用于编辑某种编程语言源代码的
	      <application xmlns:xlink="http://www.w3.org/1999/xlink">Emacs</application>
	      模式应该被归为
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">lang</filename> 一类。
	    </para>
	  </listitem>

          <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">需要安装可加载内核模块的 port 应在其 <varname xmlns:xlink="http://www.w3.org/1999/xlink">CATEGORIES</varname>
	      中归入虚拟分类 <filename xmlns:xlink="http://www.w3.org/1999/xlink">kld</filename>。
	    </para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">misc</filename>
	      分类的 port 不能有其它非虚拟的分类。
	      如果您在您的 <varname xmlns:xlink="http://www.w3.org/1999/xlink">CATEGORIES</varname>
	      里设了 <literal xmlns:xlink="http://www.w3.org/1999/xlink">misc</literal> 和另外的分类，
	      那意味着可以安全地删除 <literal xmlns:xlink="http://www.w3.org/1999/xlink">misc</literal>
	      并把 port 放到其它的子目录中了！</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">如果您的 port 确实不属于现有的分类，
	      才把它放到 <filename xmlns:xlink="http://www.w3.org/1999/xlink">misc</filename>。</para>
	  </listitem>
	</itemizedlist>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">如果您不能确定使用哪个分类， 请在您提交的
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">send-pr</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> 里加上一行注释，
	  这样我们就能在导入进 port 树之前讨论一下。
	  如果您是 committer， 发一份备忘到 <link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-ports">FreeBSD ports 邮件列表</link>
	  先讨论一下。 很多情况是新的 port 被加到错误的分类里，
	  然后又立即被移走。这会造成源代码库不必要和不良的膨胀。</para>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="proposing-categories">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">如何提议建立新的分类</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">由于 Ports Collection 在持续增长， 已经引入了许多新的分类。
	  新的分类既可以是 <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">虚拟的</emphasis> 分类 ──
	  这些分类在整个 ports 目录中没有属于自己的子目录 ──
	  或 <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">物理的</emphasis> 分类 ── 它们有自己的子目录。
	  接下来我们将讨论与建立新的物理分类有关的事项，
	  以便帮助您理解如何提议建立新的分类。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">我们目前的做法是避免建立新的物理分类， 除非有非常多的 port
	  应被归入这一分类， 或者 port 属于某一特定的小团体 (例如，
	  与某种人类语言相关)， 或两者皆是。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">这样做的原因是这类修改会让 committer 和用户都不得不进行 <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="../../../../doc/en_US.ISO8859-1/articles/committers-guide/#ports">许多工作</link>
	  来在 Ports Collection 进行或追踪修改。 此外，
	  提议新的分类通常都会引起争论。 (可能这是因为关于某个分类是否
	  <quote xmlns:xlink="http://www.w3.org/1999/xlink">太大</quote> 一直没有非常一致的意见的缘故，
	  另一方面， 分类是否能够能够有助于浏览 (以及多少个分类是合适的)，
	  等等， 也都是问题。)</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">下面是具体的步骤：</para>

	<procedure xmlns:xlink="http://www.w3.org/1999/xlink">
	  <step xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">在 <link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-ports">FreeBSD ports 邮件列表</link> 提议新的分类。 您应提供建立新分类的详细依据，
	      包括为什么认为现有的分类不够， 以及希望移动位置的一系列 port
	      的名字。 (如果有尚在
	      <application xmlns:xlink="http://www.w3.org/1999/xlink">GNATS</application> 而未 commit 的 port，
	      也应一一列出。)  如果您是相关 port 的监护人或提交者，
	      说明这一情况可能有助于您的提议得到通过。</para>
	  </step>

	  <step xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">参与讨论。</para>
	  </step>

	  <step xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">如果有人支持您的建议， 应及时提交一个 PR，
	      其中包括提议 PR 的理由， 以及需要移动的 port 的列表。
	      理想情况下， 这个 PR 也应包含针对下列文件的补丁：</para>

	    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">进行 repocopy 之后对 <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>
		  进行的修改</para>
	      </listitem>

	      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">新分类的 <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename></para>
	      </listitem>

	      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">旧分类的 <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename></para>
	      </listitem>

	      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">依赖于旧 port 的 port 的
		  <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename></para>
	      </listitem>

	      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">(此外， 作为一项加分因素，
		  您还可以按照 Committer 指南所介绍的流程，
		  提供一些其它需要修改的文件。)</para>
	      </listitem>
	    </itemizedlist>
	  </step>

	  <step xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">由于这是一项影响 ports 基础设施的变动，
	      它不仅涉及 repo-copy 的使用，
	      而且也可能会影响联编集群的回归测试操作，
	      因此这类 PR 应分派给 Ports 管理团队 <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">portmgr@FreeBSD.org</email>。</para>
	  </step>

	  <step xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">如果这一 PR 得到批准， 某个 committer 将按照在
	      <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="../../../../doc/en_US.ISO8859-1/articles/committers-guide/article.html#PORTS">
	      Committer 指南</link> 中所介绍的步骤来完成余下的工作。</para>
	  </step>
	</procedure>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">提议新的虚拟分类和上述过程类似， 但会容易许多，
	  因为不需要实际地移动任何 port。 这种情况下， PR 应附带的补丁，
	  就只需要修改影响到的 port 的 Makefile， 以便在其中的
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">CATEGORIES</varname> 中加入新的分类了。</para>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="proposing-reorg">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">如何提议对分类进行重新组织</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">有些时候会有一些人提议重新将分类组织为 2-层 或某种基于关键字的结构。
	  目前为止， 还没有进行任何相关的改变， 因为尽管这些修改比较容易完成，
	  但修改整个 Ports Collection 所需要进行的工作， 至少也是令人生畏的。
	  在发表您的观点之前， 请阅读在邮件列表存档中历史上所进行过的提议；
	  此外， 您也会被要求提供一个可用的原形。</para>
      </sect2>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="makefile-distfiles">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">源码包文件</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">在 <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> 中的第二部分是描述用于联编 port
	所必需下载的文件， 以及到什么地方去下载它们。</para>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTVERSION/DISTNAME</varname> (源码包版本号/名称)</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTNAME</varname> 是作者称呼您所 port 软件的名字。
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTNAME</varname> 的默认值是
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">${PORTNAME}-${PORTVERSION}</literal>，
	  因此只有在需要时才应手工指定。
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTNAME</varname> 只在两个地方用到。 第一处是源码包文件列表
	  (<varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES</varname>)， 其默认值是
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">${DISTNAME}</varname><varname xmlns:xlink="http://www.w3.org/1999/xlink">${EXTRACT_SUFX}</varname>。
	  第二处是源码包应被展开到的目录名，
	  即 <varname xmlns:xlink="http://www.w3.org/1999/xlink">WRKSRC</varname> 所指定的目录，
	  其默认值是 <filename xmlns:xlink="http://www.w3.org/1999/xlink">work/${DISTNAME}</filename>。</para>

        <para xmlns:xlink="http://www.w3.org/1999/xlink">某些软件作者发布源码包的时候并不采取
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">${PORTNAME}-${PORTVERSION}</literal> 这样的模式，
	  这可以通过设置 <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTVERSION</varname> 来自动处理。
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTVERSION</varname> 和 <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTNAME</varname>
	  会自动地展开， 当然， 也可以改掉它。 下表给出了一些例子：</para>

	<informaltable xmlns:xlink="http://www.w3.org/1999/xlink" frame="none" pgwide="1">
	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	    <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTVERSION</varname></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTVERSION</varname></entry>
	      </row>
	    </thead>

	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">0.7.1d</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">0.7.1.d</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">10Alpha3</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">10.a3</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">3Beta7-pre2</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">3.b7.p2</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">8:f_17</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">8f.17</entry>
	      </row>
	    </tbody>
	  </tgroup>
	</informaltable>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGNAMEPREFIX</varname> 和
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGNAMESUFFIX</varname> 并不影响
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTNAME</varname>。 此外还应注意
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">WRKSRC</varname> 等于
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">work/${PORTNAME}-${PORTVERSION}</filename>，
	    而源代码的压缩包则可能是
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">${PORTNAME}-${PORTVERSION}${EXTRACT_SUFX}</varname>
	    以外的其它名字。 一般情况下应该保持 <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTNAME</varname>
	    不变 ── 更好的方法是定义
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES</varname> 而不是同时设置
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTNAME</varname> 和 <varname xmlns:xlink="http://www.w3.org/1999/xlink">WRKSRC</varname>
	    (可能还有 <varname xmlns:xlink="http://www.w3.org/1999/xlink">EXTRACT_SUFX</varname>)。</para>
	</note>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES</varname> (主流下载站点)</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">记录 FTP/HTTP-URL 指向 <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES</varname>
	  中原始压缩档的目录部分。 不要忘了结尾的斜线
	  (<filename xmlns:xlink="http://www.w3.org/1999/xlink">/</filename>)！</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">make</command> 宏将尝试使用
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">FETCH</varname> 来抓取所指定的源码包文件，
	  如果无法在本地系统中找到这些文件的话。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">建议您指定多个镜像站点， 最好是在不同的大洲上的。
	  这样将有效地防止由于大范围网络问题所导致无法下载的问题。
	  我们甚至打算增加自动检测距离最近的站点并从那里下载的功能；
	  使用多个站点是这样做的重要一步。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">如果原始的源码包可以从比较流行的软件下载站点，
	  例如 SourceForge、 GNU 或是 Perl CPAN 等等来获得，
	  您可能会希望使用类似
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">*</replaceable></varname>
	  这样的缩写来表示它们
	  (例如 <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_SOURCEFORGE</varname>、
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_GNU</varname> 以及
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_PERL_CPAN</varname>)。 只需将
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES</varname> 设为这些变量， 并使用
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_SUBDIR</varname> 来指定路径就可以了。
	  下面是一个例子：</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES=         ${MASTER_SITE_GNU}
MASTER_SITE_SUBDIR=   make</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">此外， 您还可以用更为简略的格式：</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES=	GNU/make</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">这些变量是在
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/ports/Mk/bsd.sites.mk</filename> 中定义的。
	  新项目会随时增加， 因此在您提交 port 之前，
	  应先看一看这个文件的最新版本。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">针对常用软件下载站的许多 <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">暗黑魔法</emphasis> 宏，
	  还能够自动判断目录的结构。 对于这些站点，
	  只要使用与之对应的缩写， 系统便会自动为您生成相关的子目录配置。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES=	SF</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">如果系统猜测的路径不对， 则可以使用下面这样的配置来替换。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES=	SF/stardict/WyabdcRealPeopleTTS/${PORTVERSION}</programlisting>

	<table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">常用的魔术 <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES</varname> 宏</title>

	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	    <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">宏</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">自动猜测的子目录</entry>
	      </row>
	    </thead>

	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">APACHE_JAKARTA</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">/dist/jakarta/${PORTNAME:S,-,,/,}/source</varname></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">BERLIOS</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">/${PORTNAME:L}</varname></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">CHEESESHOP</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">/packages/source/source/${DISTNAME:C/(.).*/\1/}/${DISTNAME:C/(.*)-[0-9].*/\1/}</varname></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">DEBIAN</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">/debian/pool/main/${PORTNAME:C/^((lib)?.).*$/\1/}/${PORTNAME}</varname></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">GCC</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">/pub/gcc/releases/${DISTNAME}</varname></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">GNOME</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">/pub/GNOME/sources/${PORTNAME}/${PORTVERSION:C/^([0-9]+\.[0-9]+).*/\1/}</varname></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">GNU</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">/gnu/${PORTNAME}</varname></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">MOZDEV</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">/pub/mozdev/${PORTNAME:L}</varname></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PERL_CPAN</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">/pub/CPAN/modules/by-module/${PORTNAME:C/-.*//}</varname></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PYTHON</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">/ftp/python/${PYTHON_PORTVERSION:C/rc[0-9]//}</varname></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">RUBYFORGE</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">/${PORTNAME:L}</varname></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">SAVANNAH</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">/${PORTNAME:L}</varname></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">SF</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">/project/${PORTNAME:L}/${PORTNAME:L}/${PORTVERSION}</varname></entry>
	      </row>
	    </tbody>
	  </tgroup>
	</table>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">EXTRACT_SUFX</varname> (压缩包所用的扩展名)</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">如果您有一个源码包文件，
	  而它使用了某种怪异的扩展名来表达压缩方法， 应设置
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">EXTRACT_SUFX</varname>。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">例如， 如果源码包文件的名字是
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">foo.tgz</filename> 而非更为一般的
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">foo.tar.gz</filename>， 您应写上：</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">DISTNAME=      foo
EXTRACT_SUFX=  .tgz</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_BZIP2</varname> 和 <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_ZIP</varname>
	  变量会自动根据需要将 <varname xmlns:xlink="http://www.w3.org/1999/xlink">EXTRACT_SUFX</varname> 设置为
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">.tar.bz2</literal> 或 <literal xmlns:xlink="http://www.w3.org/1999/xlink">.zip</literal>。
	  如果这两个都没设置， 则 <varname xmlns:xlink="http://www.w3.org/1999/xlink">EXTRACT_SUFX</varname> 的
	  默认值将是 <literal xmlns:xlink="http://www.w3.org/1999/xlink">.tar.gz</literal>。</para>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">任何时候都不需要同时设置 <varname xmlns:xlink="http://www.w3.org/1999/xlink">EXTRACT_SUFX</varname> 和
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES</varname>.</para>
	</note>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES</varname> (全部源代码包)</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">有些时候所下载的文件名字和 port 的名字没有任何联系。
	  例如， 可能是 <filename xmlns:xlink="http://www.w3.org/1999/xlink">source.tar.gz</filename>，
	  或者与此类似的其它名字。 也有一些其它的应用软件，
	  它们的源代码可能被存放到了不同的压缩包中， 而且全都需要下载。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">如果遇到这种情况， 可以将 <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES</varname>
	  设置为以空格分隔的一组需要下载的文件列表。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES=     source1.tar.gz source2.tar.gz</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">如果没有予以明确的设置， <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES</varname> 的默认值将是
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">${DISTNAME}${EXTRACT_SUFX}</literal>。</para>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">EXTRACT_ONLY</varname> (只解压缩部分源文件)</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">如果只有一部分 <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES</varname> 需要解压缩
	  ── 例如， 其中的一个是源代码， 而其它则是未压缩的文档 ──
	  此时应把那些需要解压缩的文件加到
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">EXTRACT_ONLY</varname> 中。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES=     source.tar.gz manual.html
EXTRACT_ONLY=  source.tar.gz</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">如果 <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES</varname> 中 <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">没有</emphasis>
	  需要解压缩的文件， 则应将 <varname xmlns:xlink="http://www.w3.org/1999/xlink">EXTRACT_ONLY</varname> 设为空串。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">EXTRACT_ONLY=</programlisting>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-patchfiles">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PATCHFILES</varname> (通过下载得到的补丁文件)</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">如果您的 port 需要来自 FTP 或 HTTP 的一些额外的补丁，
	  应将 <varname xmlns:xlink="http://www.w3.org/1999/xlink">PATCHFILES</varname> 设置为这些文件的名字，
	  并将 <varname xmlns:xlink="http://www.w3.org/1999/xlink">PATCH_SITES</varname> 指向包含这些文件的目录的 URL
	  (格式与 <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES</varname> 相同)。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">如果这些补丁， 由于包含了其它的目录名，
	  而导致它们不是相对于源代码目录的顶级目录
	  (也就是 <varname xmlns:xlink="http://www.w3.org/1999/xlink">WRKSRC</varname>) 的话，
	  就需要相应地设置 <varname xmlns:xlink="http://www.w3.org/1999/xlink">PATCH_DIST_STRIP</varname> 了。
	  例如， 如果补丁中所有的目录名前面都有一个多余的
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">foozolix-1.0/</literal>， 就应设置
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">PATCH_DIST_STRIP=-p1</literal>。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">不需要担心补丁文件本身是否是压缩的； 如果文件名以
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">.gz</filename> or <filename xmlns:xlink="http://www.w3.org/1999/xlink">.Z</filename>
	  结尾， 系统会自动解压缩。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">如果补丁是同某些其它文件， 例如文档， 一同以 gzip 压缩的 tar
	  格式发布的， 就不能简单地使用
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PATCHFILES</varname> 了。 这种情况下，
	  您应将这些补丁包的文件和位置加入到
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES</varname> 和 <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES</varname>
	  中。 然后， 用 <varname xmlns:xlink="http://www.w3.org/1999/xlink">EXTRA_PATCHES</varname> 变量来指出这些文件，
	  这样 <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.mk</filename> 就会自动地为您应用这些补丁了。
	  需要特别注意的是， <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">不要</emphasis> 将补丁文件复制到
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PATCHDIR</varname> 目录中 ── 这个目录可能是不可写的。</para>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">压缩包会以同源代码一样的方式解压缩， 因此不需要自行完成解压缩操作，
	    并复制补丁文件。 如果您一定要这样做， 就要注意，
	    不要让解压缩出来的文件覆盖先前已经存在的文件。
	    此外， 这么做还需要手工增加命令，
	    以便在 <buildtarget>pre-clean</buildtarget> target
	    中删除这些复制出来的文件。</para>
	</note>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-master-sites-n">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">来自不同站点的多个源代码包或补丁文件
	  (<literal xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES:n</literal>)</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">(这一节在某种程度上应被视作 <quote xmlns:xlink="http://www.w3.org/1999/xlink">进阶话题</quote>；
	  刚开始阅读这份文档的读者可能会希望先跳过这一部分)。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">这一节提供了被称作 <literal xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES:n</literal> 和
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES_NN</literal> 的下载控制机制。
	  这里我们把它们称为 <literal xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES:n</literal>。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">首先给出一些背景。 OpenBSD 在其 <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES</varname> 和
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PATCHFILES</varname> 变量中提供了一个很棒的功能，
	  即， 允许这些文件和补丁拥有 <literal xmlns:xlink="http://www.w3.org/1999/xlink">:n</literal>
	  后缀， 其中 <literal xmlns:xlink="http://www.w3.org/1999/xlink">n</literal> 可以使用
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">[0-9]</literal>， 来表达组。 例如：</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES=      alpha:0 beta:1</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">在 OpenBSD 中， 源码包文件 <filename xmlns:xlink="http://www.w3.org/1999/xlink">alpha</filename>
	  应被关联到变量
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES0</varname> 而不是公共的
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES</varname> 变量上； 而
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">beta</filename> 则应关联到
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES1</varname> 上。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">这是一个很有意思的功能，
	  它可以避免无休止地搜索正确的下载站点的过程。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">想象 <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES</varname> 中指定了 2 个文件，
	  而 <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES</varname> 包含了 20 个站点的情形，
	  这其中许多站点慢如蜗牛， 而 <filename xmlns:xlink="http://www.w3.org/1999/xlink">beta</filename> 可以在
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES</varname> 的所有站点找到， 而
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">alpha</filename> 只能在第 20 个上面找到。
	  如果监护人了解这一点， 那么检查所有的站点无疑是在浪费时间，
	  不是吗？ 这显然不是开始一个愉快周末的好办法！</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">现在您有了一个感性的认识了， 想象一下
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES</varname> 和更多的
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES</varname>。 显然， 我们的
	  <quote xmlns:xlink="http://www.w3.org/1999/xlink">distfiles 调查员先生</quote>
	  会感谢您减少他浪费在等待下载上所耗费的时间。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">下一节中， 将按照 FreeBSD 对上述想法的实现来加以阐释。
	  我们对 OpenBSD 所提出的概念进行了一些改进。</para>

	<sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">简化信息</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">这一节将介绍如何迅速地对从不同的站点以及子目录下载多个源码包和补丁进行精确的控制。
	    这里， 我们将描述 <literal xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES:n</literal> 的一种简化用法。
	    对于多数情况而言这样做是足够的。 然而， 如果您需要更多信息，
	    还需要参考下面的几节。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">一些应用程序需要从多个站点下载不同的源码包。 例如，
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">Ghostscript</application> 包括了程序核心本身，
	    以及大量的驱动文件， 以及则取决于用户的打印机品牌和型号的驱动程序。
	    某些驱动文件已经随程序核心附带， 但也有很多需要从其它站点下载。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">为了适应这种需要， 每一个
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES</varname> 项应跟随一个冒号，
	    以及一个 <quote xmlns:xlink="http://www.w3.org/1999/xlink">标签名</quote>。 在
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES</varname> 的每个站点也应跟随冒号和标签名，
	    以便指定从哪个网站下载源码包文件。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">例如， 考虑一个将源代码包分为两部分，
	    即 <filename xmlns:xlink="http://www.w3.org/1999/xlink">source1.tar.gz</filename>
	    和 <filename xmlns:xlink="http://www.w3.org/1999/xlink">source2.tar.gz</filename> 的软件，
	    它必须从两个不同的站点下载。 port 的
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> 应包括类似
	    <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="ports-master-sites-n-example-simple-use-one-file-per-site"/>
	    的配置。</para>

	  <example xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ports-master-sites-n-example-simple-use-one-file-per-site">
	    <title xmlns:xlink="http://www.w3.org/1999/xlink">简化的 <literal xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES:n</literal>
	      用法， 每个文件来自一个站点</title>

	    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES=   ftp://ftp.example1.com/:source1 \
		ftp://ftp.example2.com/:source2
DISTFILES=      source1.tar.gz:source1 \
		source2.tar.gz:source2</programlisting>
	  </example>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">多个源码包可以使用同一个标签。 继续前面的例子，
	    假定增加了第三个源码包， <filename xmlns:xlink="http://www.w3.org/1999/xlink">source3.tar.gz</filename>，
	    应从 <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">ftp.example2.com</systemitem> 下载。
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> 的这部分应写成
	    <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="ports-master-sites-n-example-simple-use-more-than-one-file-per-site"/>
	    的样子。</para>

	  <example xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ports-master-sites-n-example-simple-use-more-than-one-file-per-site">
	    <title xmlns:xlink="http://www.w3.org/1999/xlink">简化的 <literal xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES:n</literal> 用法，
	      其中同一个站点上提供了不止一个文件</title>

	    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES=   ftp://ftp.example1.com/:source1 \
		ftp://ftp.example2.com/:source2
DISTFILES=      source1.tar.gz:source1 \
		source2.tar.gz:source2 \
		source3.tar.gz:source2</programlisting>
	  </example>
	</sect3>

	<sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">深入介绍</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">前面的例子无法满足您的需求？ 这一节，
	    我们将详细介绍 <literal xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES:n</literal>
	    的精细控制是如何工作的， 以及如何修改您的 port
	    来使用它们。</para>

	  <orderedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">元素可以包含
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">:n</literal> 这样的后缀， 其中
		<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">n</replaceable> 是
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">[^:,]+</literal>， 概念上即
		<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">n</replaceable> 可以取任意数字或字母，
		但我们目前将其限定为
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">[a-zA-Z_][0-9a-zA-Z_]+</literal>。</para>

	      <para xmlns:xlink="http://www.w3.org/1999/xlink">此外， 字符串匹配时对大小写是敏感的；
		换言之， <literal xmlns:xlink="http://www.w3.org/1999/xlink">n</literal> 与
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">N</literal> 不同。</para>

	      <para xmlns:xlink="http://www.w3.org/1999/xlink">但是， 由于表达特殊的意义， 下列单词不能用于后缀：
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">default</literal>、 <literal xmlns:xlink="http://www.w3.org/1999/xlink">all</literal> 和
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">ALL</literal> (它们会在 <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="porting-master-sites-n-what-changes-in-port-targets"/>
		中介绍的部分用到)。 此外， <literal xmlns:xlink="http://www.w3.org/1999/xlink">DEFAULT</literal>
		是一个有特殊用途的词 (请参见 <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="porting-master-sites-n-DEFAULT-group"/>)。</para>
	    </listitem>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">后缀为 <literal xmlns:xlink="http://www.w3.org/1999/xlink">:n</literal>
		的项目属于 <literal xmlns:xlink="http://www.w3.org/1999/xlink">n</literal> 组， 而
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">:m</literal> 属于
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">m</literal> 组， 依此类推。</para>
	    </listitem>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-master-sites-n-DEFAULT-group">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">没有后缀的元素是无组的， 也就是它们都属于那个特殊的
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">DEFAULT</literal> 组。 给元素加入
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">DEFAULT</literal> 后缀通常是多余的，
		除非您有同时属于 <literal xmlns:xlink="http://www.w3.org/1999/xlink">DEFAULT</literal> 和其它组的元素
		(参见 <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="porting-master-sites-n-comma-operator"/>)。</para>

	      <para xmlns:xlink="http://www.w3.org/1999/xlink">下面的例子是等价的， 但通常应适用第一个：</para>

	      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES=   alpha

MASTER_SITES=   alpha:DEFAULT</programlisting>
	    </listitem>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">组之间不是互斥的， 同一元素可以同时隶属于多个组，
		而组则可以为空或者有任意多个元素。 同一组中的重复元素，
		并不会被自动消去。</para>
	    </listitem>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-master-sites-n-comma-operator">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">如果希望同一元素同时属于多个组， 可以用逗号
		(<literal xmlns:xlink="http://www.w3.org/1999/xlink">,</literal>) 分开。</para>

	      <para xmlns:xlink="http://www.w3.org/1999/xlink">这种办法可以避免仅为指定不同的组而多次重复同一元素。 例如
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">:m,n,o</literal> 表示这个元素同时属于
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">m</literal>、 <literal xmlns:xlink="http://www.w3.org/1999/xlink">n</literal> 和 <literal xmlns:xlink="http://www.w3.org/1999/xlink">o</literal>
		这三组。</para>

	      <para xmlns:xlink="http://www.w3.org/1999/xlink">下面这些写法都是等价的， 但只推荐使用最后一种：</para>

	      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES=   alpha alpha:SOME_SITE

MASTER_SITES=   alpha:DEFAULT alpha:SOME_SITE

MASTER_SITES=   alpha:SOME_SITE,DEFAULT

MASTER_SITES=   alpha:DEFAULT,SOME_SITE</programlisting>
	    </listitem>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">同一组中的所有站点， 会根据
		<varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SORT_AWK</varname> 排序。
		在 <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES</varname> 和
		<varname xmlns:xlink="http://www.w3.org/1999/xlink">PATCH_SITES</varname> 中的组也会进行排序。</para>
	    </listitem>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-master-sites-n-group-semantics">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">在 <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES</varname>、
		<varname xmlns:xlink="http://www.w3.org/1999/xlink">PATCH_SITES</varname>、
		<varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_SUBDIR</varname>、
		<varname xmlns:xlink="http://www.w3.org/1999/xlink">PATCH_SITE_SUBDIR</varname>、
		<varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES</varname>， 以及
		<varname xmlns:xlink="http://www.w3.org/1999/xlink">PATCHFILES</varname> 中， 都可以使用组，
		其语法为：</para>

	      <orderedlist xmlns:xlink="http://www.w3.org/1999/xlink">
		<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		  <para xmlns:xlink="http://www.w3.org/1999/xlink">所有 <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES</varname>、
		    <varname xmlns:xlink="http://www.w3.org/1999/xlink">PATCH_SITES</varname>、
		    <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_SUBDIR</varname> 以及
		    <varname xmlns:xlink="http://www.w3.org/1999/xlink">PATCH_SITE_SUBDIR</varname> 的元素， 都必须以
		    <literal xmlns:xlink="http://www.w3.org/1999/xlink">/</literal> 字符结尾。 如果有元素属于某些组，
		    则组后缀
		    <literal xmlns:xlink="http://www.w3.org/1999/xlink">:n</literal>
		    必须出现在终结符
		    <literal xmlns:xlink="http://www.w3.org/1999/xlink">/</literal> 之后。
		    <literal xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES:n</literal> 机制依赖于
		    <literal xmlns:xlink="http://www.w3.org/1999/xlink">/</literal> 的存在， 以避免在 <literal xmlns:xlink="http://www.w3.org/1999/xlink">:n</literal>
		    是元素一部分， 而 <literal xmlns:xlink="http://www.w3.org/1999/xlink">:n</literal> 同时又表示组
		    <literal xmlns:xlink="http://www.w3.org/1999/xlink">n</literal> 时发生混淆。 为了兼容性的考虑，
		    因为之前 <literal xmlns:xlink="http://www.w3.org/1999/xlink">/</literal> 终结符在
		    <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_SUBDIR</varname> 和
		    <varname xmlns:xlink="http://www.w3.org/1999/xlink">PATCH_SITE_SUBDIR</varname> 元素中都不是必需的，
		    如果后缀所紧跟的字符不是 <literal xmlns:xlink="http://www.w3.org/1999/xlink">/</literal>，
		    则 <literal xmlns:xlink="http://www.w3.org/1999/xlink">:n</literal> 将被认为是元素的一部分，
		    而不被当作组后缀， 即使元素拥有 <literal xmlns:xlink="http://www.w3.org/1999/xlink">:n</literal>
		    后缀。 请参见 <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="ports-master-sites-n-example-detailed-use-master-site-subdir"/>
		    和 <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="ports-master-sites-n-example-detailed-use-complete-example-master-sites"/>
		    以了解进一步的细节。</para>

		  <example xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ports-master-sites-n-example-detailed-use-master-site-subdir">
		    <title xmlns:xlink="http://www.w3.org/1999/xlink">在 <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_SUBDIR</varname> 中
		      <literal xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES:n</literal> 的详细用法</title>

		    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_SUBDIR=     old:n new/:NEW</programlisting>

		    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
		      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			<para xmlns:xlink="http://www.w3.org/1999/xlink">组 <literal xmlns:xlink="http://www.w3.org/1999/xlink">DEFAULT</literal> 中的目录
			  -&gt; old:n</para>
		      </listitem>

		      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			<para xmlns:xlink="http://www.w3.org/1999/xlink">组 <literal xmlns:xlink="http://www.w3.org/1999/xlink">NEW</literal> 中的目录
			  -&gt; new</para>
		      </listitem>
		    </itemizedlist>
		  </example>

		  <example xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ports-master-sites-n-example-detailed-use-complete-example-master-sites">
		      <title xmlns:xlink="http://www.w3.org/1999/xlink">用到逗号分隔符、 多个文件， 多个站点和
			不同子目录的 <literal xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES:n</literal>
			详细用法</title>

		    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES=   http://site1/%SUBDIR%/ http://site2/:DEFAULT \
		http://site3/:group3 http://site4/:group4 \
		http://site5/:group5 http://site6/:group6 \
		http://site7/:DEFAULT,group6 \
		http://site8/%SUBDIR%/:group6,group7 \
		http://site9/:group8
DISTFILES=      file1 file2:DEFAULT file3:group3 \
		file4:group4,group5,group6 file5:grouping \
		file6:group7
MASTER_SITE_SUBDIR=     directory-trial:1 directory-n/:groupn \
			directory-one/:group6,DEFAULT \
			directory</programlisting>

		    <para xmlns:xlink="http://www.w3.org/1999/xlink">前述的例子的结果是下述的对于下载行为的精细控制。
		      站点的列表按照使用的顺序给出。</para>

		    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
		      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">file1</filename> 将从</para>

			<itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_OVERRIDE</varname></para>
			  </listitem>

			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink">http://site1/directory-trial:1/</para>
			  </listitem>

			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink">http://site1/directory-one/</para>
			  </listitem>

			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink">http://site1/directory/</para>
			  </listitem>

			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink">http://site2/</para>
			  </listitem>

			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink">http://site7/</para>
			  </listitem>

			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_BACKUP</varname></para>
			  </listitem>
			</itemizedlist>

			<para xmlns:xlink="http://www.w3.org/1999/xlink">下载。</para>
		      </listitem>

		      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">file2</filename> 将和
			  <filename xmlns:xlink="http://www.w3.org/1999/xlink">file1</filename> 以同样的方式下载，
			  因为它们属于同一组</para>

			<itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_OVERRIDE</varname></para>
			  </listitem>

			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink">http://site1/directory-trial:1/</para>
			  </listitem>

			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink">http://site1/directory-one/</para>
			  </listitem>

			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink">http://site1/directory/</para>
			  </listitem>

			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink">http://site2/</para>
			  </listitem>

			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink">http://site7/</para>
			  </listitem>

			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_BACKUP</varname></para>
			  </listitem>
			</itemizedlist>
		      </listitem>

		      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">file3</filename> 将从</para>

			<itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_OVERRIDE</varname></para>
			  </listitem>

			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink">http://site3/</para>
			  </listitem>

			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_BACKUP</varname></para>
			  </listitem>
			</itemizedlist>

			<para xmlns:xlink="http://www.w3.org/1999/xlink">下载。</para>
		      </listitem>

		      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">file4</filename> 将从</para>

			<itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_OVERRIDE</varname></para>
			  </listitem>

			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink">http://site4/</para>
			  </listitem>

			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink">http://site5/</para>
			  </listitem>

			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink">http://site6/</para>
			  </listitem>

			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink">http://site7/</para>
			  </listitem>

			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink">http://site8/directory-one/</para>
			  </listitem>

			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_BACKUP</varname></para>
			  </listitem>
			</itemizedlist>

			<para xmlns:xlink="http://www.w3.org/1999/xlink">下载。</para>
		      </listitem>

		      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">file5</filename> 将从</para>

			<itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_OVERRIDE</varname></para>
			  </listitem>

			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_BACKUP</varname></para>
			  </listitem>
			</itemizedlist>

			<para xmlns:xlink="http://www.w3.org/1999/xlink">下载。</para>
		      </listitem>

		      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">file6</filename> 将从</para>

			<itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_OVERRIDE</varname></para>
			  </listitem>

			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink">http://site8/</para>
			  </listitem>

			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_BACKUP</varname></para>
			  </listitem>
			</itemizedlist>

			<para xmlns:xlink="http://www.w3.org/1999/xlink">下载。</para>
		      </listitem>
		    </itemizedlist>
		  </example>
		</listitem>
	      </orderedlist>
	    </listitem>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">如何对来自
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.sites.mk</filename> 的特殊变量， 例如
		<varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_SOURCEFORGE</varname> 进行分组？</para>

	      <para xmlns:xlink="http://www.w3.org/1999/xlink">参见 <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="ports-master-sites-n-example-detailed-use-master-site-sourceforge"/>。</para>

	      <example xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ports-master-sites-n-example-detailed-use-master-site-sourceforge">
		<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_SOURCEFORGE</varname> 中
		  <literal xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES:n</literal> 的详细用法</title>

		<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES=   http://site1/ ${MASTER_SITE_SOURCEFORGE:S/$/:sourceforge,TEST/}
DISTFILES=      something.tar.gz:sourceforge</programlisting>
	      </example>

	      <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">something.tar.gz</filename> 将从所有
		<varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_SOURCEFORGE</varname> 中的站点下载。</para>
	    </listitem>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">如何与 <varname xmlns:xlink="http://www.w3.org/1999/xlink">PATCH*</varname> 变量连用？</para>

	      <para xmlns:xlink="http://www.w3.org/1999/xlink">前面的例子介绍的都是
		<varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER*</varname> 变量，
		但对于 <varname xmlns:xlink="http://www.w3.org/1999/xlink">PATCH*</varname> 也是完全一样的，
		它们在 <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="ports-master-sites-n-example-detailed-use-patch-sites"/>
		有所介绍。</para>

	      <example xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ports-master-sites-n-example-detailed-use-patch-sites">
		<title xmlns:xlink="http://www.w3.org/1999/xlink">简化的 <varname xmlns:xlink="http://www.w3.org/1999/xlink">PATCH_SITES</varname> 中的
		  <literal xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES:n</literal> 用法。</title>

		<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">PATCH_SITES=    http://site1/ http://site2/:test
PATCHFILES=     patch1:test</programlisting>
	      </example>
	    </listitem>
	  </orderedlist>
	</sect3>

	<sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">会改变 ports 的哪些行为？ 哪些不会？</title>

	  <orderedlist xmlns:xlink="http://www.w3.org/1999/xlink" numeration="lowerroman">
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">所有普通的 ports 的行为都会保持不变。
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES:n</literal> 功能的代码，
		只有在某些元素包含了前述， 特别是 <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="porting-master-sites-n-group-semantics"/>
		中所提及语法的
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">:n</literal> 后缀时，
		才会启用。</para>
	    </listitem>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-master-sites-n-what-changes-in-port-targets">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">不受影响的 port target：
		<buildtarget>checksum</buildtarget>、
		<buildtarget>makesum</buildtarget>、
		<buildtarget>patch</buildtarget>、
		<buildtarget>configure</buildtarget>、
		<buildtarget>build</buildtarget>， 等等。
		显然， <buildtarget>do-fetch</buildtarget>、
		<buildtarget>fetch-list</buildtarget>、
		<buildtarget>master-sites</buildtarget> 和
		<buildtarget>patch-sites</buildtarget> 的行为会发生变化。</para>

	      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
		<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		  <para xmlns:xlink="http://www.w3.org/1999/xlink"><buildtarget>do-fetch</buildtarget>： 会按照新的、
		    带有组后缀的
		    <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES</varname> 和
		    <varname xmlns:xlink="http://www.w3.org/1999/xlink">PATCHFILES</varname> 在
		    <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES</varname> 和
		    <varname xmlns:xlink="http://www.w3.org/1999/xlink">PATCH_SITES</varname> 所匹配的组元素， 以及
		    <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_SUBDIR</varname> 和
		    <varname xmlns:xlink="http://www.w3.org/1999/xlink">PATCH_SITE_SUBDIR</varname> 来进行。
		    请参见 <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="ports-master-sites-n-example-detailed-use-complete-example-master-sites"/>。</para>
		</listitem>

		<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		  <para xmlns:xlink="http://www.w3.org/1999/xlink"><buildtarget>fetch-list</buildtarget>： 和旧式的
		    <buildtarget>fetch-list</buildtarget> 类似， 但以同
		    <buildtarget>do-fetch</buildtarget> 相似的方式处理组。</para>
		</listitem>

		<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		  <para xmlns:xlink="http://www.w3.org/1999/xlink"><buildtarget>master-sites</buildtarget> 和
		    <buildtarget>patch-sites</buildtarget>：
		    (与旧版本不兼容) 仅返回组 <literal xmlns:xlink="http://www.w3.org/1999/xlink">DEFAULT</literal>
		    的元素； 事实上， 它们会执行
		    <buildtarget>master-sites-default</buildtarget> 和
		    <buildtarget>patch-sites-default</buildtarget>
		    这两个 target。</para>

		  <para xmlns:xlink="http://www.w3.org/1999/xlink">更进一步， 使用
		    <buildtarget>master-sites-all</buildtarget> 或
		    <buildtarget>patch-sites-all</buildtarget> 这两个
		    target 之一， 要比直接检查
		    <buildtarget>MASTER_SITES</buildtarget> 或
		    <buildtarget>PATCH_SITES</buildtarget> 更好。
		    此外， 未来版本可能不再保证直接检查能够正确工作。
		    请参见 <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="porting-master-sites-n-new-port-targets-master-sites-all"/>
		    以了解关于这些新 target 的更多技术细节。</para>
		</listitem>

	      </itemizedlist>
	    </listitem>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">port 中的新 target</para>

	      <orderedlist xmlns:xlink="http://www.w3.org/1999/xlink">
		<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		  <para xmlns:xlink="http://www.w3.org/1999/xlink">一系列
		    <buildtarget>master-sites-<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">n</replaceable></buildtarget>
		    和
		    <buildtarget>patch-sites-<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">n</replaceable></buildtarget>
		    target 可以分别用来列出 <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES</varname> 和
		    <varname xmlns:xlink="http://www.w3.org/1999/xlink">PATCH_SITES</varname> 中的 <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">n</replaceable>
		    组的内容。 例如，
		    <buildtarget>master-sites-DEFAULT</buildtarget> 和
		    <buildtarget>patch-sites-DEFAULT</buildtarget> 都会返回
		    <literal xmlns:xlink="http://www.w3.org/1999/xlink">DEFAULT</literal> 组的内容， 而
		    <buildtarget>master-sites-test</buildtarget> 和
		    <buildtarget>patch-sites-test</buildtarget> 则返回
		    <literal xmlns:xlink="http://www.w3.org/1999/xlink">test</literal> 组的内容， 等等。</para>
		</listitem>

		<listitem xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-master-sites-n-new-port-targets-master-sites-all">
		  <para xmlns:xlink="http://www.w3.org/1999/xlink">新增的
		    <buildtarget>master-sites-all</buildtarget> 和
		    <buildtarget>patch-sites-all</buildtarget> 这两个 target，
		    会完成先前
		    <buildtarget>master-sites</buildtarget> 和
		    <buildtarget>patch-sites</buildtarget> 所做的工作。
		    它们会返回所有组的元素， 就像这些元素都属于同一组一样，
		    并且会列出与
		    <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_BACKUP</varname> 或
		    <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_OVERRIDE</varname> 中在
		    <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES</varname> 或
		    <varname xmlns:xlink="http://www.w3.org/1999/xlink">PATCHFILES</varname> 中指定的同样多个； 分别对于
		    <buildtarget>master-sites-all</buildtarget> 和
		    <buildtarget>patch-sites-all</buildtarget>。</para>
		</listitem>
	      </orderedlist>
	    </listitem>
	  </orderedlist>
	</sect3>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">DIST_SUBDIR</varname> (独立的源码包子目录)</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">避免让您的 port 使
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/ports/distfiles</filename> 陷入混乱。
	  如果您的 port 需要下载很多文件， 或者需要下载可能与其它 port
	  的源文件名冲突的文件 (例如，
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>)， 则应将 <varname xmlns:xlink="http://www.w3.org/1999/xlink">DIST_SUBDIR</varname>
	  设置为 port 的名字 (通常可以用 <literal xmlns:xlink="http://www.w3.org/1999/xlink">${PORTNAME}</literal> 或
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">${PKGNAMEPREFIX}${PORTNAME}</literal>)。 这将把
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTDIR</varname> 从默认的
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/ports/distfiles</filename> 改为
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/ports/distfiles/DIST_SUBDIR</filename>，
	  并将与您的 port 有关的文件放到那个目录中。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">此外， 它也会在备份文件主服务器 <filename xmlns:xlink="http://www.w3.org/1999/xlink">ftp.FreeBSD.org</filename>
	  上查找同一子目录下的文件 (直接在您的
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</varname> 中设置 <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTDIR</varname>
	  则不会有这样的效果， 因此您应使用
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">DIST_SUBDIR</varname>。)</para>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">这一设置并不影响您在  <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>
	    中定义的 <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES</varname>。</para>
	</note>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">ALWAYS_KEEP_DISTFILES</varname> (一直保存源码包)</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">如果您的 port 采用的是预编译的包，
	  但却采用了某种要求源代码必须与预编译版本一同提供的授权，
	  例如 GPL， 则应使用 <varname xmlns:xlink="http://www.w3.org/1999/xlink">ALWAYS_KEEP_DISTFILES</varname>
	  来告诉 FreeBSD 联编集群保留一份在 <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES</varname>
	  中文件的副本。 一般来说这些 port 的用户并不需要这些文件，
	  因此， 只在定义了
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PACKAGE_BUILDING</varname> 符的时候，
	  才将源代码包文件加入 <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES</varname> 是个好主意。
	</para>

	<example xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ports-master-sites-n-example-always-keep-distfiles">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">如何使用 <varname xmlns:xlink="http://www.w3.org/1999/xlink">ALWAYS_KEEP_DISTFILES</varname>。</title>
	    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">.if defined(PACKAGE_BUILDING)
DISTFILES+=             <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">foo.tar.gz</replaceable>
ALWAYS_KEEP_DISTFILES=  yes
.endif</programlisting>
	</example>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">当您在 <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES</varname> 加入其它文件时，
	  请务必确保这些文件也出现在了 <filename xmlns:xlink="http://www.w3.org/1999/xlink">distinfo</filename> 中。
	  此外， 这些额外的文件通常也会展开到
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">WRKDIR</varname> 中， 对于某些 ports，
	  这可能导致一些不希望的副作用， 因而需要进行特别的处理。</para>
      </sect2>
    </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="makefile-maintainer">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">MAINTAINER</varname> (监护人)</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">请在此处写上您的电子邮件地址。  <!-- smiley
	  --><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">:-)</emphasis></para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">需要注意一点， <varname xmlns:xlink="http://www.w3.org/1999/xlink">MAINTAINER</varname>
	  变量的值只能是一个不包括注释部分的电子邮件地址，
	  其格式应为 <literal xmlns:xlink="http://www.w3.org/1999/xlink">user@hostname.domain</literal>。
	  请不要在此处写任何说明性的文字， 例如您的真实姓名 ── 这会给
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.mk</filename> 带来麻烦。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">监护人有责任保持 port 随时更新， 并确保其能够正确地运行。
	  详细的 port 监护人职责说明， 请参见 <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="../../../../doc/en_US.ISO8859-1/articles/contributing-ports/maintain-port.html">
	  port 监护人面临的挑战</link> 一节。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">对于 port 的修改， 应被发给 port 的监护人进行复审，
	  且在 commit 之前需要获得其监护人的同意。
	  假如某一 port 的监护人没有在两周之内 (不包括主要的公共假日)
	  响应来自用户的更新请求， 则可视为监护人超时，
	  在这种情况下可以在没有监护人明确同意的情形下进行更新。
	  如果监护人在多达三个月的时间内没有进行任何响应，
	  则可以认为该监护人不辞而别， 允许对出现此类问题的 port 进行监护人变更。
	  尽管如此， 监护人为 Ports 管理团队 <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">portmgr@FreeBSD.org</email> 或者 Security Officer 团队 <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">security-officer@FreeBSD.org</email> 的 port
	  不受此限。 对监护人为这些小组的 port 进行未经许可的 commit 是不允许的。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">我们保留对监护人所提交修正案进行改动的权力， 以便使其更符合现行的 Ports
	  Collection 规范， 而无需提交补丁的人明确批准。 此外， 大规模的基础性修改，
	  也可能使 port 在没有得到监护人同意的情形下进行修改。
	  但这类修改都不应影响 port 本身的功能。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Ports 管理团队 <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">portmgr@FreeBSD.org</email> 保留以任何原因收回或绕过任何人监护权的权力，
	  而 Security Officer 团队 <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">security-officer@FreeBSD.org</email> 则保留以安全原因收回或绕过监护权的权力。</para>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="makefile-comment">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">COMMENT</varname> (一句话说明)</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">这一变量用于指定 port 的一句话说明。
	  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">请</emphasis> 勿将 package 的名字 (或软件的版本)
	  放在说明中。 这一说明的第一个字母应大写， 结尾不用句点。
	  下面是一个例子：</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">COMMENT=       A cat chasing a mouse all over the screen</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> 中的 COMMENT 变量应该紧接着 MAINTAINER
	  变量出现。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">请务必将 COMMENT 这行限制在不超过 70 个字符之内，
	  因为这行内容会成为 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pkg_info</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>
	  呈现给用户的 port 的一句话简介。</para>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="makefile-depend">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">依赖关系</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">许多 ports 会依赖其它 port。 这是包括 FreeBSD
	  在内的多数 类-Unix 系统的很方便的功能。
	  这项功能， 可以避免在每个 port 或预编译包中都带上重复的依赖的代码，
	  而可以以依赖关系的方式去共享它们。
	  有七个变量用于帮助您确保所需的文件都存在于用户的机器上。
	  此外， 也提供了用于支持常见情形的依赖关系变量，
	  以及对依赖关系行为的更多控制。</para>

	<sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">LIB_DEPENDS</varname> (依赖的函数库/共享库)</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">这个变量用于指定 port 所依赖的共享库。 其内容是由一系列
	    <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">lib</replaceable>:<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">dir</replaceable><optional xmlns:xlink="http://www.w3.org/1999/xlink">:target</optional>
	    元组构成的表， 其中 <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">lib</replaceable> 是共享库的名字，
	    而 <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">dir</replaceable> 则是在找不到时应该从哪里联编和安装，
	    最后， <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">target</replaceable> 用于指定在那个目录中调用的
	    target。 例如，
	    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">LIB_DEPENDS=   jpeg.9:${PORTSDIR}/graphics/jpeg</programlisting>
	    会检测主版本号为 9 的 jpeg 共享库， 如果它不存在，
	    则会进入到您的 ports 目录中的 <filename xmlns:xlink="http://www.w3.org/1999/xlink">graphics/jpeg</filename>
	    子目录， 并联编和安装它。 如果您指定的 <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">target</replaceable>
	    就是 <varname xmlns:xlink="http://www.w3.org/1999/xlink">DEPENDS_TARGET</varname> (默认是
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">install</literal>)， 则可以略去不写。</para>

	  <note xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">lib</replaceable> 部分是一个正则表达式， 用于在
	      <command xmlns:xlink="http://www.w3.org/1999/xlink">ldconfig -r</command> 的输出中进行查找。 可以使用类似
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">intl.[5-7]</literal> 和 <literal xmlns:xlink="http://www.w3.org/1999/xlink">intl</literal> 这样的值。
	      前一种模式， 即
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">intl.[5-7]</literal>， 能够匹配
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">intl.5</literal>、 <literal xmlns:xlink="http://www.w3.org/1999/xlink">intl.6</literal> 和
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">intl.7</literal> 中的任意一个。 第二种模式， 即
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">intl</literal> 则可以匹配任意版本的
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">intl</literal> 库。</para>
	  </note>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">依赖关系会被检测两次， 一次是在
	    <buildtarget>extract</buildtarget> target 中， 而另一次则是在
	    <buildtarget>install</buildtarget> target。 另外，
	    依赖关系的名字会放到 package 中， 以便让
	    <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pkg_add</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> 能够自动地在用户系统上安装所需的未安装的其它
	    package。</para>
	</sect2>

	<sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">RUN_DEPENDS</varname> (依赖的运行环境)</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">这个变量可以用来指定 port 在运行时所需要的可执行文件，
	    以及资源文件。 它是一系列
	    <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">path</replaceable>:<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">dir</replaceable><optional xmlns:xlink="http://www.w3.org/1999/xlink">:target</optional>
	    元组的列表， 这里， <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">path</replaceable> 时所需的可执行，
	    或者资源文件的名字， <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">dir</replaceable> 是在无法找到这些文件或目录时，
	    去什么地方完成联编和安装以便获得这些文件； 而
	    <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">target</replaceable> 则用来指定在这个目录中所调用的
	    target 的名字。 假如 <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">path</replaceable> 以斜线
	    (<literal xmlns:xlink="http://www.w3.org/1999/xlink">/</literal>) 开始， 则会当作普通文件，
	    使用 <command xmlns:xlink="http://www.w3.org/1999/xlink">test -e</command> 来测试； 反之，
	    则系统会假定这是一个可执行文件， 并且用 <command xmlns:xlink="http://www.w3.org/1999/xlink">which -s</command>
	    来检测程序是否存在于搜索路径中。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">例如，</para>

	    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">RUN_DEPENDS=   ${LOCALBASE}/etc/innd:${PORTSDIR}/news/inn \
	       xmlcatmgr:${PORTSDIR}/textproc/xmlcatmgr</programlisting>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">将检查文件， 或者目录
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/etc/innd</filename> 是否存在，
	    如果找不到， 则将从 port 目录的
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">news/inn</filename> 子目录加以安装。
	    系统也会检查是否能够在搜索路径中找到名为 <command xmlns:xlink="http://www.w3.org/1999/xlink">xmlcatmgr</command>
	    的文件， 如果找不到的话， 则会进入 ports 目录中的
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">textproc/xmlcatmgr</filename> 子目录，
	    并进行联编和安装的操作。</para>

	  <note xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">这种情况下， <command xmlns:xlink="http://www.w3.org/1999/xlink">innd</command> 实际上是一个可执行文件；
	      如果可执行文件不会出现在搜索路径中， 您就需要指定完整路径了。</para>
	  </note>

	  <note xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">ports 联编集群上官方的搜索 <envar xmlns:xlink="http://www.w3.org/1999/xlink">PATH</envar> 是</para>

	    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">/sbin:/bin:/usr/sbin:/usr/bin:/usr/local/sbin:/usr/local/bin:/usr/X11R6/bin</programlisting>
	  </note>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">这个依赖关系会在
	    <buildtarget>install</buildtarget> target 的过程中进行检查。
	    此外， 依赖关系的名字会被放到 package 中， 以便
	    <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pkg_add</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> 能够在用户的系统中尚未安装相关软件时自动地安装那些 package。
	    如果您希望指定一个的 <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">target</replaceable>
	    和默认的 <varname xmlns:xlink="http://www.w3.org/1999/xlink">DEPENDS_TARGET</varname> 相同，
	    则可以略去不写。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">一种比较常见的情形是
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">RUN_DEPENDS</varname> 和
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">BUILD_DEPENDS</varname> 完全一样，
	    这种情况在移植的软件是采用脚本语言书写，
	    或联编环境与运行环境需求相同时尤其普遍。
	    这种情况可以用下面简单明了的方式直接将其中一个变量赋值给另一个变量：</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">RUN_DEPENDS= ${BUILD_DEPENDS}</programlisting>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">不过， 这种赋值有可能会令运行环境被某些没有在
	    port 原本的 <varname xmlns:xlink="http://www.w3.org/1999/xlink">BUILD_DEPENDS</varname> 明确定义的依赖关系污染。
	    导致这种情况的原因是 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">make</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> 计算变量赋值时默认采用的是延后计算 (lazy evaluation)。
	    例如， 如果在 <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> 中使用了
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">*</replaceable></varname> 变量，
	    这些变量就会由 <filename xmlns:xlink="http://www.w3.org/1999/xlink">ports/Mk/bsd.*.mk</filename> 处理，
	    并填写与之对应的联编依赖关系。 例如， <literal xmlns:xlink="http://www.w3.org/1999/xlink">USE_GMAKE=yes</literal>
	    会把 <package xmlns:xlink="http://www.w3.org/1999/xlink">devel/gmake</package> 加入到
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">BUILD_DEPENDS</varname>。
	    如果希望避免这些附加的依赖关系污染 <varname xmlns:xlink="http://www.w3.org/1999/xlink">RUN_DEPENDS</varname>，
	    在使用赋值的时候就需要小心考虑这类扩展的情况，
	    例如， 可以在赋值展开之前复制变量的值：</para>

	    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">RUN_DEPENDS:=  ${BUILD_DEPENDS}</programlisting>
	</sect2>

	<sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">BUILD_DEPENDS</varname> (依赖的联编环境)</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">此变量用于指定用来联编 port 的可执行文件或资源文件。
	    与 <varname xmlns:xlink="http://www.w3.org/1999/xlink">RUN_DEPENDS</varname> 类似， 它是一个
	    <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">path</replaceable>:<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">dir</replaceable><optional xmlns:xlink="http://www.w3.org/1999/xlink">:target</optional>
	    元组的列表。 例如， <programlisting xmlns:xlink="http://www.w3.org/1999/xlink"> BUILD_DEPENDS=
	      unzip:${PORTSDIR}/archivers/unzip</programlisting> 将检测名为
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">unzip</command> 的可执行文件是否存在， 如果不存在，
	    则会进入到您的 ports 目录中的 <filename xmlns:xlink="http://www.w3.org/1999/xlink">archivers/unzip</filename>
	    并完成联编和安装工作。</para>

	  <note xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">这里的 <quote xmlns:xlink="http://www.w3.org/1999/xlink">build</quote> 表示从解压缩到编译的全部过程。
	      依赖关系是在 <buildtarget>extract</buildtarget> target 的过程中检测的。
	      假如您要指定的  <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">target</replaceable> 和
	      <varname xmlns:xlink="http://www.w3.org/1999/xlink">DEPENDS_TARGET</varname> 相同， 则可以略去不写。</para>
	  </note>
	</sect2>

	<sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">FETCH_DEPENDS</varname> (依赖的下载环境)</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">这一变量用于指定 port 在下载时所需的可执行文件或资源文件。
	    和前两个类似， 它是一组
	    <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">path</replaceable>:<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">dir</replaceable><optional xmlns:xlink="http://www.w3.org/1999/xlink">:target</optional>
	    元组。 例如， <programlisting xmlns:xlink="http://www.w3.org/1999/xlink"> FETCH_DEPENDS=
	      ncftp2:${PORTSDIR}/net/ncftp2</programlisting>
	    将检测名为 <command xmlns:xlink="http://www.w3.org/1999/xlink">ncftp2</command> 的可执行文件是否存在，
	    如果找不到， 则将进入到您 ports 目录中的
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">net/ncftp2</filename> 子目录并加以联编和安装。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">这个依赖关系是在
	    <buildtarget>fetch</buildtarget> target 过程中检查的。
	    如果与 <varname xmlns:xlink="http://www.w3.org/1999/xlink">DEPENDS_TARGET</varname> 相同，
	    则可以省略 <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">target</replaceable> 部分。</para>
	</sect2>

	<sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">EXTRACT_DEPENDS</varname> (依赖的解压缩环境)</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">此变量用于指定 port 在解压缩时所需的可执行文件或其它资源文件。
	    和前一个变量类似， 它是一系列
	    <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">path</replaceable>:<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">dir</replaceable><optional xmlns:xlink="http://www.w3.org/1999/xlink">:target</optional>
	    元组的列表。 例如， <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">EXTRACT_DEPENDS=
	      unzip:${PORTSDIR}/archivers/unzip</programlisting> 将检查名为
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">unzip</command> 的可执行文件是否存在， 如果不存在，
	    则会进入到您的 ports 目录中的 <filename xmlns:xlink="http://www.w3.org/1999/xlink">archivers/unzip</filename>
	    子目录， 予以联编和安装。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">这个依赖关系是在
	    <buildtarget>extract</buildtarget> target 的过程中检查的。 如果与
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">DEPENDS_TARGET</varname> 相同，
	    则可以略去 <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">target</replaceable> 部分。</para>

	  <note xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">只有在其它方式都不可用 (默认是 <command xmlns:xlink="http://www.w3.org/1999/xlink">gzip</command>)
	      而且无法通过 <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="use-vars"/> 所介绍的 <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_ZIP</varname> 或
	      <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_BZIP2</varname> 都不能达到需要时，
	      才应使用这个变量。</para>
	  </note>
	</sect2>

	<sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PATCH_DEPENDS</varname> (依赖的打补丁环境)</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">这个变量用于指定 port 在进行 patch
	    操作时所需的可执行文件或其它资源文件。 和前一个变量类似， 它是一组
	    <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">path</replaceable>:<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">dir</replaceable><optional xmlns:xlink="http://www.w3.org/1999/xlink">:target</optional>
	    元组的表。 例如， <programlisting xmlns:xlink="http://www.w3.org/1999/xlink"> PATCH_DEPENDS=
	      ${NONEXISTENT}:${PORTSDIR}/java/jfc:extract
		</programlisting> 表示进入到您的 ports 目录中的
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">java/jfc</filename> 子目录， 并将其解压缩。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">这个依赖关系是在
	    <buildtarget>patch</buildtarget> target 的过程中检查的。
	    <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">target</replaceable> 部分如果和
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">DEPENDS_TARGET</varname> 相同， 就可略去不写。</para>
	</sect2>

	<sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="use-vars">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">*</replaceable></varname></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">提供了一系列变量， 用以封装大量 port 都用到的依赖关系。
	  虽然使用这些变量是可选的， 但它们能显著减少 port 的
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> 复杂性。 这些变量的共同特征在于，
	  它们的名字都是 <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">*</replaceable></varname>
	  这样的形式。 这些变量的使用， 应严格限制于 port 的
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> 以及
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">ports/Mk/bsd.*.mk</filename>，
	  而绝不应用于表达用户能够设置的选项 ── 这种情况下应采用
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">WITH_<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">*</replaceable></varname> 和
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">WITHOUT_<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">*</replaceable></varname>
	  这样的变量。</para>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">在 <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">任何</emphasis> 情况下，
	    都不应在 <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/make.conf</filename> 中配置任何
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">*</replaceable></varname>。
	    例如， 设置 <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">USE_GCC=3.4</programlisting>
	    将导致每个 port 都依赖 gcc34， 甚至包括
	    gcc34 本身！</para>
	</note>

	<table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">常用的 <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">*</replaceable></varname>
	    变量</title>

	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	    <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">变量</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">含义</entry>
	      </row>
	    </thead>

	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_BZIP2</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">此 port 的源码包是使用
		  <command xmlns:xlink="http://www.w3.org/1999/xlink">bzip2</command> 压缩的。</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_ZIP</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">此 port 的源码包是用
		  <command xmlns:xlink="http://www.w3.org/1999/xlink">zip</command> 压缩的。</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_BISON</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">此 port 在联编时使用 <command xmlns:xlink="http://www.w3.org/1999/xlink">bison</command>。</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_CDRTOOLS</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">此 port 需要使用 <application xmlns:xlink="http://www.w3.org/1999/xlink">cdrecord</application>，
		  根据用户的喜好， 可能是 <package xmlns:xlink="http://www.w3.org/1999/xlink">sysutils/cdrtools</package> 或 <package xmlns:xlink="http://www.w3.org/1999/xlink">sysutils/cdrtools-cjk</package>。</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_GCC</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">此 port 需要使用某一特定版本的
		  <command xmlns:xlink="http://www.w3.org/1999/xlink">gcc</command> 才能完成编译。
		  可以使用类似 <literal xmlns:xlink="http://www.w3.org/1999/xlink">3.4</literal> 这样的值来精确指定版本。
		  如果希望使用不低于某一版本的编译器， 则可以用
		  <literal xmlns:xlink="http://www.w3.org/1999/xlink">3.4+</literal> 这样的形式。 如果与所希望的版本吻合，
		  则将使用基本系统中所提供的 <command xmlns:xlink="http://www.w3.org/1999/xlink">gcc</command>， 反之，
		  系统会从 ports 中安装所希望版本的 <command xmlns:xlink="http://www.w3.org/1999/xlink">gcc</command>，
		  并调整 <varname xmlns:xlink="http://www.w3.org/1999/xlink">CC</varname> 以及
		  <varname xmlns:xlink="http://www.w3.org/1999/xlink">CXX</varname> 变量的设置。</entry>
	      </row>

	    </tbody>
	  </tgroup>
	</table>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">与 <application xmlns:xlink="http://www.w3.org/1999/xlink">gmake</application>
	    和 <filename xmlns:xlink="http://www.w3.org/1999/xlink">configure</filename> 脚本有关的变量在
	    <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="building"/> 中进行了介绍， 而
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">autoconf</application>、
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">automake</application> 以及
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">libtool</application> 的介绍则可以在
	    <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="using-autotools"/> 找到。 <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="using-perl"/>
	    介绍了与 <application xmlns:xlink="http://www.w3.org/1999/xlink">Perl</application> 有关的的变量。
	    <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="using-x11"/> 中列出了关于 X11 的变量。 关于 GNOME 的变量在 <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="using-gnome"/>， 而关于 KDE 的则在 <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="using-kde"/>。 <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="using-java"/> 讲述了和 Java 有关的变量， 而 <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="using-php"/> 则包含了关于
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">Apache</application>、 <application xmlns:xlink="http://www.w3.org/1999/xlink">PHP</application>
	    以及 PEAR 的介绍性信息。 关于 <application xmlns:xlink="http://www.w3.org/1999/xlink">Python</application>，
	    在 <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="using-python"/> 进行了讨论， 而关于
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">Ruby</application> 的介绍，
	    则可以在 <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="using-ruby"/> 中找到。
	    <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="using-sdl"/> 提供了用于
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">SDL</application> 应用程序的变量介绍， 最后，
	    <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="using-xfce"/> 包含了关于
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">Xfce</application> 的信息。</para>

	</sect2>

	<sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">在依赖关系中指定最低版本</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">在依赖某个其他 port 时， 可以采用下面的句法， 通过除
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">LIB_DEPENDS</varname> 之外的
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">*_DEPENDS</varname> 变量来指定最低版本：</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">p5-Spiffy&gt;=0.26:${PORTSDIR}/devel/p5-Spiffy</programlisting>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">第一个字段指明了所依赖 package 的名字，
	    用以与 package 数据库中的某项匹配， 然后是比较算符，
	    以及 package 的版本号。 前面的例子中，
	    如果系统中安装了 p5-Spiffy-0.26 则认为满足了依赖条件。</para>
	</sect2>

	<sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">关于依赖关系的补充说明</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">如前面所提到的那样， 在需要某一依赖的 port 时，
	    将调用 <buildtarget>DEPENDS_TARGET</buildtarget> 所指定的 target。
	    这一变量的默认值是 <literal xmlns:xlink="http://www.w3.org/1999/xlink">install</literal>。 这不是一个用户变量，
	    它不应在 port 的
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> 中予以定义。 如果您的 port 需要使用特殊的
	    target 来处理依赖关系， 应使用 <varname xmlns:xlink="http://www.w3.org/1999/xlink">*_DEPENDS</varname> 的
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">:target</literal> 部分， 而不是重定义
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">DEPENDS_TARGET</varname> 来完成。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">当您输入 <command xmlns:xlink="http://www.w3.org/1999/xlink">make clean</command> 时， 其依赖的 port
	    也会自动进行清理。 如果您不希望如此， 应定义环境变量
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">NOCLEANDEPENDS</varname>。 如果 port
	    依赖一些重新联编需要花费很长时间的 port 时， 例如 KDE， GNOME
	    或 Mozilla 时， 这一方法会非常有用。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">要无条件地依赖某个 port， 可以使用 <varname xmlns:xlink="http://www.w3.org/1999/xlink">${NONEXISTENT}</varname>
	    作为 <varname xmlns:xlink="http://www.w3.org/1999/xlink">BUILD_DEPENDS</varname> 或
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">RUN_DEPENDS</varname> 的第一部分。 只有在您需要使用其它
	    port 提供的源代码时才应这样做。 通常也可以通过这样指定来缩短编译所需的时间。
	    例如

	    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">BUILD_DEPENDS=   ${NONEXISTENT}:${PORTSDIR}/graphics/jpeg:extract</programlisting>

	    表示依赖 <literal xmlns:xlink="http://www.w3.org/1999/xlink">jpeg</literal> port 并将其解压缩。</para>
	</sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">循环的依赖关系是致命的</title>

	<important xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">不要在 ports tree 中引入任何循环依赖关系!</para>
	</important>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">ports 联编技术不能够容忍循环依赖关系。 如果您引入了这样的关系，
	  就一定会有人安装的 FreeBSD 会因此而损坏， 而且这种现象会越来越多。
	  这些情形很难检测； 如果有疑虑， 在进行这样的修改之前， 务必执行：
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/ports; make index</command>。 这个过程在旧的机器上会很慢，
	  但能够让大量的用户 ── 也包括您自己 ──
	  拯救于由这种问题所造成的困惑之中。</para>
      </sect2>

      </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="makefile-masterdir">
      <title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTERDIR</varname> (主 port 所在的目录)</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">如果 port 需要依某些变量的设置 (举例来说， 分辨率或纸型)
	来联编略有不同的预编译包， 则可以为每一个这样的包建立不同的目录，
	这样可以让用户更容易地看到他们想要安装的版本， 但又能在这些 port
	之间共用尽可能多的文件。 一般情况下， 如果运用得当， 除主目录之外都只需要很短的
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>。 这些 <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> 中，
	可以用 <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTERDIR</varname> 来指定其它文件所在的目录。
	另外， 还应使用一个变量作为
	<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="porting-pkgname"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGNAMESUFFIX</varname></link>
	的一部分， 以便为不同的包给出不同的命名。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">用例子来阐述这些会更为明晰。 以下是
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">japanese/xdvi300/Makefile</filename> 的部分代码：</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">PORTNAME=       xdvi
PORTVERSION=    17
PKGNAMEPREFIX=  ja-
PKGNAMESUFFIX=  ${RESOLUTION}
 :
# default
RESOLUTION?=   300
.if ${RESOLUTION} != 118 &amp;&amp; ${RESOLUTION} != 240 &amp;&amp; \
       ${RESOLUTION} != 300 &amp;&amp; ${RESOLUTION} != 400
       @${ECHO_MSG} "Error: invalid value for RESOLUTION: \"${RESOLUTION}\""
       @${ECHO_MSG} "Possible values are: 118, 240, 300 (default) and 400."
       @${FALSE}
.endif</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><package xmlns:xlink="http://www.w3.org/1999/xlink">japanese/xdvi300</package> 也提供了全部常规的补丁，
	以及打包用到的文件等等内容。 如果您在那里输入 <command xmlns:xlink="http://www.w3.org/1999/xlink">make</command>，
	它将使用默认的分辨率值 (300) 并正常地联编 port。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">对于其它分辨率而言， 以下是 <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">完整的</emphasis>
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">xdvi118/Makefile</filename>：</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">RESOLUTION=     118
MASTERDIR=      ${.CURDIR}/../xdvi300

.include "${MASTERDIR}/Makefile"</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">(<filename xmlns:xlink="http://www.w3.org/1999/xlink">xdvi240/Makefile</filename> 和
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">xdvi400/Makefile</filename> 是相似的)。
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTERDIR</varname> 定义会告诉
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.mk</filename> 常规的目录，
	例如 <varname xmlns:xlink="http://www.w3.org/1999/xlink">FILESDIR</varname> 以及
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">SCRIPTDIR</varname> 应在
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">xdvi300</filename> 中查找。 <literal xmlns:xlink="http://www.w3.org/1999/xlink">RESOLUTION=118</literal>
	这行将覆盖在 <filename xmlns:xlink="http://www.w3.org/1999/xlink">xdvi300/Makefile</filename> 中所作的
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">RESOLUTION=300</literal> 设置， 从而 port
	将以分辨率为 118 的设置来联编。</para>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="makefile-manpages">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">联机手册</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">MAN[1-9LN]</varname> 这些变量，
	会自动地将联机手册加到 <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename> (这也意味着
	<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">不能</emphasis> 在
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename> 中列出联机手册 ── 参见 <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="plist-sub">PLIST 的生成</link> 来了解更多细节)。 此外，
	这也会让安装阶段自动地根据在 <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/make.conf</filename>
	中所作的 <varname xmlns:xlink="http://www.w3.org/1999/xlink">NO_MANCOMPRESS</varname>
	设置来自动对联机手册文件执行压缩或解压缩操作。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">如果 port 尝试通过使用符号连接或硬连接将联机手册安装为多个名字，
	就必须使用 <varname xmlns:xlink="http://www.w3.org/1999/xlink">MLINKS</varname> 变量来予以明示。
	由 port 创建的连接， 将由 <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.mk</filename>
	删除和重建， 以确认它们指向了正确的文件。 任何在 MLINKS 中列出的文件都不应在
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename> 中再出现。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">要指定是否在安装时对联机手册进行压缩，
	可以使用 <varname xmlns:xlink="http://www.w3.org/1999/xlink">MANCOMPRESSED</varname> 变量。
	这一变量可以取三种值， <literal xmlns:xlink="http://www.w3.org/1999/xlink">yes</literal>、 <literal xmlns:xlink="http://www.w3.org/1999/xlink">no</literal> 和
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">maybe</literal> 之一。 <literal xmlns:xlink="http://www.w3.org/1999/xlink">yes</literal>
	表示联机手册已经以压缩的形式安装， <literal xmlns:xlink="http://www.w3.org/1999/xlink">no</literal> 表示还没有，
	而 <literal xmlns:xlink="http://www.w3.org/1999/xlink">maybe</literal> 则表示所安装的软件会尊重
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">NO_MANCOMPRESS</varname> 的设置值， 因此
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.mk</filename> 不需要特别做什么事情。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">如果设置了 <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_IMAKE</varname> 而未定义
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">NO_INSTALL_MANPAGES</varname>，
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">MANCOMPRESSED</varname> 会自动设为
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">yes</literal>， 反之则是
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">no</literal>。 除非默认值不合适，
	否则就不需要在 port 中明确地加以改变。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">如果 port 将联机手册放到了
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX</varname> 之外的其它目录， 则应使用
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">MANPREFIX</varname> 来加以设置。 此外，
	如果只有某些部分的联机手册会安装到不标准的位置， 例如某些 <literal xmlns:xlink="http://www.w3.org/1999/xlink">perl</literal>
	模块的 port， 还可以使用
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">MAN<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">sect</replaceable>PREFIX</varname> (此处
	<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">sect</replaceable> 是 <literal xmlns:xlink="http://www.w3.org/1999/xlink">1-9</literal>、
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">L</literal> 或 <literal xmlns:xlink="http://www.w3.org/1999/xlink">N</literal> 之一) 来指定。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">如果您的联机手册需要装入专用于某一语言专用的子目录，
	需要将 <varname xmlns:xlink="http://www.w3.org/1999/xlink">MANLANG</varname> 设为那种语言的名字。
	此变量的默认值是 <literal xmlns:xlink="http://www.w3.org/1999/xlink">""</literal> (也就是只有英语)。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">下面是一个综合的例子。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">MAN1=          foo.1
MAN3=          bar.3
MAN4=          baz.4
MLINKS=        foo.1 alt-name.8
MANLANG=       "" ja
MAN3PREFIX=    ${PREFIX}/share/foobar
MANCOMPRESSED= yes</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">这表示 port 会安装六个文件；</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">${MANPREFIX}/man/man1/foo.1.gz
${MANPREFIX}/man/ja/man1/foo.1.gz
${PREFIX}/share/foobar/man/man3/bar.3.gz
${PREFIX}/share/foobar/man/ja/man3/bar.3.gz
${MANPREFIX}/man/man4/baz.4.gz
${MANPREFIX}/man/ja/man4/baz.4.gz</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">此外， <filename xmlns:xlink="http://www.w3.org/1999/xlink">${MANPREFIX}/man/man8/alt-name.8.gz</filename>
	可能会通过您的 port 安装， 也可能不会。 无论如何，
	都会创建一个符号连接， 把 foo(1) 和
	alt-name(8) 联机手册连起来。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">假如只有部分联机手册是翻译过的，
	则可以使用一些根据 <varname xmlns:xlink="http://www.w3.org/1999/xlink">MANLANG</varname> 内容动态生成的变量：</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">MANLANG=       "" de ja
MAN1=          foo.1
MAN1_EN=       bar.1
MAN3_DE=       baz.3</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">这相当于下列文件：</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">${MANPREFIX}/man/man1/foo.1.gz
${MANPREFIX}/man/de/man1/foo.1.gz
${MANPREFIX}/man/ja/man1/foo.1.gz
${MANPREFIX}/man/man1/bar.1.gz
${MANPREFIX}/man/de/man3/baz.3.gz</programlisting>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="makefile-info">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Info 文件</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">如果软件包需要安装 GNU info 文件，
	则需要在 <varname xmlns:xlink="http://www.w3.org/1999/xlink">INFO</varname> 变量中一一列出 (不需要指定
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">.info</literal> 后缀)。 系统假定这些文件均会安装到
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX/INFO_PATH</filename> 目录中。
	如果软件包有需要， 也可以通过修改 <varname xmlns:xlink="http://www.w3.org/1999/xlink">INFO_PATH</varname> 来指定不同的位置。
	不过， 并不推荐这样做。 所有列出的项目均是相对于
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX/INFO_PATH</filename> 的文件路径。
	例如， <package xmlns:xlink="http://www.w3.org/1999/xlink">lang/gcc34</package> 表示将
	info 文件安装到
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX/INFO_PATH/gcc34</filename>，
	因此 <varname xmlns:xlink="http://www.w3.org/1999/xlink">INFO</varname> 应写成类似这样：
	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">INFO= gcc34/cpp gcc34/cppinternals gcc34/g77 ...
</programlisting>
	 这样安装/卸载代码就会自动地在注册包之前将它们加入到临时的
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename> 中了。</para>
    </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="makefile-options">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Makefile 选项</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">某些大型应用程序可以在联编时使用一系列配置选项，
	用以在系统中已经安装了某些库或应用程序时增加一些功能。
	例如， 选择某种自然 (人类的) 语言， GUI 或命令行界面，
	由于并不是所有的用户都希望使用这些库或者应用程序， port
	系统提供了一组方便的机制， 来让 port 的作者控制联编时的配置。
	支持这些特性可以让用户体验更好， 并达到事半功倍的效果。</para>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
          <title xmlns:xlink="http://www.w3.org/1999/xlink">开关 (Knobs)</title>

	<sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">WITH_<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">*</replaceable></varname> 和
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">WITHOUT_<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">*</replaceable></varname></title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">这些变量是为系统管理员准备的。 许多这样的变量被标准化并置于
	    <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.freebsd.org/cgi/cvsweb.cgi/ports/KNOBS?rev=HEAD&amp;content-type=text/x-cvsweb-markup"><filename xmlns:xlink="http://www.w3.org/1999/xlink">ports/KNOBS</filename></link>
	    文件。</para>

          <para xmlns:xlink="http://www.w3.org/1999/xlink">在创建一个 port 的时候，不要使用某个应用程序专有的 knob
            名称，比如对于 Avahi 这个 port，应该用
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">WITHOUT_MDNS</varname> 而不是
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">WITHOUT_AVAHI_MDNS</varname>。</para>

	  <note xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">您不应假定每一个
	      <varname xmlns:xlink="http://www.w3.org/1999/xlink">WITH_<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">*</replaceable></varname>
	      都会有对应的
	      <varname xmlns:xlink="http://www.w3.org/1999/xlink">WITHOUT_<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">*</replaceable></varname>
	      变量， 反之亦然。 一般而言， 会使用默认值。</para>
	  </note>

	  <note xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">除非另有说明， 这些变量都是测试是否定义，
	      而不是它们设置了 <literal xmlns:xlink="http://www.w3.org/1999/xlink">YES</literal> 或
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">NO</literal>。</para>
	  </note>

	  <table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	    <title xmlns:xlink="http://www.w3.org/1999/xlink">常见的 <varname xmlns:xlink="http://www.w3.org/1999/xlink">WITH_<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">*</replaceable></varname>
	      和 <varname xmlns:xlink="http://www.w3.org/1999/xlink">WITHOUT_<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">*</replaceable></varname>
	      变量</title>

	    <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	      <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	        <row xmlns:xlink="http://www.w3.org/1999/xlink">
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">变量</entry>

		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">意义</entry>
	        </row>
	      </thead>

	      <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	        <row xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="knobs-without-nls">
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">WITHOUT_NLS</varname></entry>

		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">表示不需要国际化支持， 这可以节省编译所消耗的时间。
		    默认情况下， 会启用国际化支持。</entry>
	        </row>

	        <row xmlns:xlink="http://www.w3.org/1999/xlink">
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">WITH_OPENSSL_BASE</varname></entry>

		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">使用基本系统中的 OpenSSL 版本。</entry>
	        </row>

	        <row xmlns:xlink="http://www.w3.org/1999/xlink">
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">WITH_OPENSSL_PORT</varname></entry>

                  <entry xmlns:xlink="http://www.w3.org/1999/xlink">从 <package xmlns:xlink="http://www.w3.org/1999/xlink">security/openssl</package>
                    安装 OpenSSL，即使基本系统中的版本是最新的。</entry>
	        </row>

	        <row xmlns:xlink="http://www.w3.org/1999/xlink">
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">WITHOUT_X11</varname></entry>

		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">如果 port 能够在是否包含
		    X 支持的情况下分别联编， 则一般情况应该默认以包含
		    X 支持的配置来联编。 如果定义了这一变量，
		    则应联编不包含 X 支持的版本。</entry>
	        </row>
	      </tbody>
	    </tgroup>
	  </table>

	</sect3>

	<sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">开关 (knob) 的命名</title>
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">我们建议 port 的开发人员使用相似的开关， 以便最终用户使用，
	      并减少开关名称的总数。 最为常用的开关名字可以在
	      <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.freebsd.org/cgi/cvsweb.cgi/ports/KNOBS?rev=HEAD&amp;content-type=text/x-cvsweb-markup">KNOBS</link>
	      文件中找到。</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">开关的名字应反映其功能。 如果 port 的 <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTNAME</varname>
	      包括 lib- 前缀， 则开关名中应删去 lib- 前缀。</para>

	</sect3>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">OPTIONS</varname> (菜单式可选项)</title>

	<sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">背景</title>
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">OPTIONS</varname> 将为正在安装 port
	      的用户提供一个包含可用选项的对话框，
	      并将用户的选择保存到 <filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/db/ports/portname/options</filename> 中。
	      下次重新联编 port 时， 这些选项将被再次使用。
	      这样一来， 就不需要劳神去记忆您之前联编 port 时的那几十个
	      <varname xmlns:xlink="http://www.w3.org/1999/xlink">WITH_<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">*</replaceable></varname> 和
	      <varname xmlns:xlink="http://www.w3.org/1999/xlink">WITHOUT_<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">*</replaceable></varname>选项了！</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">当用户运行 <command xmlns:xlink="http://www.w3.org/1999/xlink">make config</command> (或首次运行
	      <command xmlns:xlink="http://www.w3.org/1999/xlink">make build</command>) 时， 框架会首先检查
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/db/ports/portname/options</filename>。
	      如果这个文件不存在， 则它会使用
	      <varname xmlns:xlink="http://www.w3.org/1999/xlink">OPTIONS</varname> 的值来生成一个可以启用或禁用各个选项的对话框。
	      随后， 用户的选择将保存到
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">options</filename> 文件中，
	      并被用于联编 port。</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">如果新版本的 port 新增了
	      <varname xmlns:xlink="http://www.w3.org/1999/xlink">OPTIONS</varname>， 则系统会再次给出对话框，
	      并根据先前的 <varname xmlns:xlink="http://www.w3.org/1999/xlink">OPTIONS</varname>
	      配置预设先前存在的配置。</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">使用 <command xmlns:xlink="http://www.w3.org/1999/xlink">make showconfig</command> 可以查看保存的配置。
	      此外， <command xmlns:xlink="http://www.w3.org/1999/xlink">make rmconfig</command> 可以删除已经保存的配置。</para>
	</sect3>

	<sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">语法</title>
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">OPTIONS</varname> 变量的语法是：

<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">OPTIONS=	OPTION	"说明性文字" 默认值 ...
</programlisting>

	      默认值必须是 <literal xmlns:xlink="http://www.w3.org/1999/xlink">ON</literal> 和
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">OFF</literal> 之一。 这种三元组可以使用多次。</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">定义 <varname xmlns:xlink="http://www.w3.org/1999/xlink">OPTIONS</varname> 变量的值，
	      必须在引入 <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.options.mk</filename> 之前进行。
	      而 <varname xmlns:xlink="http://www.w3.org/1999/xlink">WITH_*</varname> 和 <varname xmlns:xlink="http://www.w3.org/1999/xlink">WITHOUT_*</varname>
	      变量则只能在引入了
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.options.mk</filename> 之后才可以进行检测。 使用
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.pre.mk</filename> 也可以达到同样的目的，
	      在系统开始提供 <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.options.mk</filename> 之前的许多
	      port 都在使用这种用法。 不过， 请注意
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.pre.mk</filename> 会要求某些变量已经进行过定义， 如
	      <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_*</varname> 等。</para>

	  <example xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ports-options-simple-use">
	    <title xmlns:xlink="http://www.w3.org/1999/xlink">简单的 <varname xmlns:xlink="http://www.w3.org/1999/xlink">OPTIONS</varname> 用法</title>
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><programlisting xmlns:xlink="http://www.w3.org/1999/xlink">OPTIONS=      FOO "启用 foo 选项" On \
              BAR "支持 bar 功能" Off

.include &lt;bsd.port.options.mk&gt;

.if defined(WITHOUT_FOO)
CONFIGURE_ARGS+=	--without-foo
.else
CONFIGURE_ARGS+=	--with-foo
.endif

.if defined(WITH_BAR)
RUN_DEPENDS+=	bar:${PORTSDIR}/bar/bar
.endif

.include &lt;bsd.port.mk&gt;</programlisting></para>
	  </example>

	  <example xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ports-options-old-style-use">
	    <title xmlns:xlink="http://www.w3.org/1999/xlink">Old style use of <varname xmlns:xlink="http://www.w3.org/1999/xlink">OPTIONS</varname></title>
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><programlisting xmlns:xlink="http://www.w3.org/1999/xlink">OPTIONS=      FOO "Enable option foo" On

.include &lt;bsd.port.pre.mk&gt;

.if defined(WITHOUT_FOO)
CONFIGURE_ARGS+=	--without-foo
.else
CONFIGURE_ARGS+=	--with-foo
.endif

.include &lt;bsd.port.post.mk&gt;</programlisting></para>
	  </example>
	</sect3>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">自动激活的特性</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">在使用 GNU configure 脚本时， 一定要小心有些特性会由其自动检测而激活。
	  您应通过明确地指定相应的
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">--without-xxx</literal> 或 <literal xmlns:xlink="http://www.w3.org/1999/xlink">--disable-xxx</literal>
	  参数到 <varname xmlns:xlink="http://www.w3.org/1999/xlink">CONFIGURE_ARGS</varname> 来禁用不希望的特性。</para>

	<example xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">处理选项时的错误做法</title>
	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">.if defined(WITH_FOO)
LIB_DEPENDS+=		foo.0:${PORTSDIR}/devel/foo
CONFIGURE_ARGS+=	--enable-foo
.endif</programlisting>
	</example>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">在前面的例子中， 假设系统中已经安装了 libfoo 库。 用户可能并不希望应用程序使用 libfoo，
	  因此他在 <literal xmlns:xlink="http://www.w3.org/1999/xlink">make config</literal> 对话框中关掉了这个选项。
	  但是， 应用程序的 configure 脚本检测到了系统中存在这个库，
	  并将其加入到了最终可执行文件支持的功能中。 现在， 如果用户决定从系统中卸载 libfoo 时，
	  ports 系统就无法保护这个应用程序免遭破坏了 (因为没有记录 libfoo 的依赖关系)。</para>

	<example xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">处理选项时的正确做法</title>
	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">.if defined(WITH_FOO)
LIB_DEPENDS+=		foo.0:${PORTSDIR}/devel/foo
CONFIGURE_ARGS+=	--enable-foo
.else
CONFIGURE_ARGS+=	--disable-foo
.endif</programlisting>
	</example>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">在第二个例子中， libfoo 库被明确禁用。 即使系统中已经安装了这个库，
	  configure 脚本也不会启用相应的功能了。</para>
      </sect2>

    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="makefile-wrkdir">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">指定工作临时目录</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">每个 port 都会被解压缩到一个工作临时目录中， 这个目录必须是可写的。
	ports 系统默认情况下会将
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES</varname> 解压缩到一个叫做
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">${DISTNAME}</literal> 的目录中。 换言之， 如果设了：</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">PORTNAME=      foo
PORTVERSION=   1.0</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">则 port 的源码包文件的顶级目录将是
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">foo-1.0</filename>。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">如果这不是所希望的情形， 您可以修改一系列变量的设置。</para>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">WRKSRC</varname> (开始联编操作的目录名)</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">这个变量给出了在应用程序的源代码包解压缩之后所生成的目录的名字。
	  如果我们之前的例子解压缩生成一个叫做 <filename xmlns:xlink="http://www.w3.org/1999/xlink">foo</filename> (而不是
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">foo-1.0</filename>) 的目录， 您应：</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">WRKSRC=      ${WRKDIR}/foo</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">或者， 也可能是</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">WRKSRC=      ${WRKDIR}/${PORTNAME}</programlisting>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">NO_WRKSUBDIR</varname> (不需要临时的联编目录)</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">如果 port 完全不需要写入到某个子目录中，
	  您应设置 <varname xmlns:xlink="http://www.w3.org/1999/xlink">NO_WRKSUBDIR</varname> 以明示这一点。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">NO_WRKSUBDIR= yes</programlisting>
      </sect2>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="conflicts">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">处理冲突</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">针对不同的 package 或 port 之间的冲突情形，
	系统提供了不同的变量来协助开发人员进行表达： <varname xmlns:xlink="http://www.w3.org/1999/xlink">CONFLICTS</varname>、
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">CONFLICTS_INSTALL</varname> 和
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">CONFLICTS_BUILD</varname>。</para>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">这些用于描述冲突的变量会自动地设置
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">IGNORE</varname>， 后者的完整介绍，
	  可以在 <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="dads-noinstall"/> 找到。</para>
      </note>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">在删去相互冲突的 port 时， 建议将 <varname xmlns:xlink="http://www.w3.org/1999/xlink">CONFLICTS</varname>
	保留几个月， 以便让那些不经常更新系统的用户能够看到。</para>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">CONFLICTS_INSTALL</varname></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">如果您的软件包不能与某些软件包同时安装
	  (例如由于安装同样的文件到相同的位置、 运行时不兼容等等)，
	  则应把其它软件包的名字列在
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">CONFLICTS_INSTALL</varname> 变量中。 此处可以使用 shell
	  通配符， 如 <literal xmlns:xlink="http://www.w3.org/1999/xlink">*</literal> 和 <literal xmlns:xlink="http://www.w3.org/1999/xlink">?</literal>。
	  列出其它软件包的名字时需要遵循它们在
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/db/pkg</filename> 中出现的样子。 请确保
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">CONFLICTS_INSTALL</varname> 不会匹配到您正制作的这个预编译包的名字，
	  否则， 使用
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">FORCE_PKG_REGISTER</varname> 来强制安装就没有办法进行了。
	  对于 CONFLICTS_INSTALL 的检查是在联编过程之后、
	  安装开始之前进行的。</para>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">CONFLICTS_BUILD</varname></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">如果您的软件包在系统中存在某些其它软件包时不能完成联编，
	  则应把其它软件包的名字列在
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">CONFLICTS_BUILD</varname> 变量中。 此处可以使用 shell
	  通配符， 如 <literal xmlns:xlink="http://www.w3.org/1999/xlink">*</literal> 和 <literal xmlns:xlink="http://www.w3.org/1999/xlink">?</literal>。
	  列出其它软件包的名字时需要遵循它们在
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/db/pkg</filename> 中出现的样子。
	  对于 CONFLICTS_BUILD 的检查是在联编过程开始之前进行的。
	  联编时的冲突不会在编译好的包中予以记录。</para>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">CONFLICTS</varname></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">如果您的 port 在某些其它 port 已经存在的情况下既不能联编，
	  也不能安装， 则应把其它软件包的名字列在
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">CONFLICTS</varname> 变量中。 此处可以使用 shell
	  通配符， 如 <literal xmlns:xlink="http://www.w3.org/1999/xlink">*</literal> 和 <literal xmlns:xlink="http://www.w3.org/1999/xlink">?</literal>。
	  列出其它软件包的名字时需要遵循它们在
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/db/pkg</filename> 中出现的样子。 请确保
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">CONFLICTS</varname> 不会匹配到您正制作的这个预编译包的名字，
	  否则， 使用
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">FORCE_PKG_REGISTER</varname> 来强制安装就没有办法进行了。
	  对于 CONFLICTS 的检查是在联编过程之后、
	  安装开始之前进行的。</para>
      </sect2>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="install">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">安装文件</title>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="install-macros">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">INSTALL_* 宏</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">一定要使用由 <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.mk</filename>
	  提供的宏， 以确保在您自己的
	  <buildtarget>*-install</buildtarget> target 中能够以正确的属主和权限模式安装文件。</para>

	<itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">INSTALL_PROGRAM</varname> 是安装可执行二进制文件的命令。</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">INSTALL_SCRIPT</varname> 是安装可执行脚本文件的命令。</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">INSTALL_LIB</varname> 是安装动态连接库的命令。</para>
          </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">INSTALL_KLD</varname> 是用于安装可加载式内核模块的命令。
	      在某些平台上， 当对内核模块进行 strip 之后会导致一些问题，
	      因此您应使用这个宏而不是 <varname xmlns:xlink="http://www.w3.org/1999/xlink">INSTALL_PROGRAM</varname> 来安装内核模块。</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">INSTALL_DATA</varname> 是安装可共享数据的命令。</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">INSTALL_MAN</varname> 是安装联机手册和其他文档的命令
	      (注意它并不会执行压缩操作)。</para>
	  </listitem>
	</itemizedlist>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">这些宏展开后基本上都是包含适当参数的 <command xmlns:xlink="http://www.w3.org/1999/xlink">install</command> 命令。</para>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="install-strip">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">对可执行文件和动态连接库做脱模 (strip) 操作</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">除非不得不进行， 否则不要手工对可执行文件作脱模操作。
	  所有文件在安装时都应脱模， 但 <varname xmlns:xlink="http://www.w3.org/1999/xlink">INSTALL_PROGRAM</varname>
	  宏会在安装的同时对其进行脱模 (参见下一节的内容)。
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">INSTALL_LIB</varname> 宏</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">如果您需要对某一文件进行脱模， 但不希望使用
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">INSTALL_PROGRAM</varname> 及 <varname xmlns:xlink="http://www.w3.org/1999/xlink">INSTALL_LIB</varname> 宏，
	  则应使用 <varname xmlns:xlink="http://www.w3.org/1999/xlink">${STRIP_CMD}</varname> 来处理程序。
	  一般而言这应该在
	  <buildtarget>post-install</buildtarget> target 中进行。 例如：</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">post-install:
	${STRIP_CMD} ${PREFIX}/bin/xdl</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">可以使用 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">file</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> 命令来检查所安装的可执行文件是否进行过脱模。
	  如果它没有给出 <literal xmlns:xlink="http://www.w3.org/1999/xlink">not stripped</literal> 的提示，
	  则表示已经做过脱模了。 另外，
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">strip</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> 不会对已经脱模过的文件重新脱模， 它会直接退出的。</para>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="install-copytree">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">安装一个目录下的全部文件</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">有时， 会有需要安装大量的文件， 并保持其层次结构， 例如，
	  将整个目录结构从 <varname xmlns:xlink="http://www.w3.org/1999/xlink">WRKSRC</varname> 复制到 <varname xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX</varname> 的目标目录。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">针对这种情况， 系统提供了两个宏。 使用这些宏，
	  而不是直接使用 <command xmlns:xlink="http://www.w3.org/1999/xlink">cp</command> 的优势是它们能够确保目标文件的属主和权限正确。 第一个宏，
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">COPYTREE_BIN</varname> 将所有安装的文件视为可执行文件， 因而适合安装文件到
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX/bin</filename>。
	  第二个宏， <varname xmlns:xlink="http://www.w3.org/1999/xlink">COPYTREE_SHARE</varname>， 则不会设置可执行权限，
	  因此适合于将文件安装到 <filename xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX/share</filename>
	  下。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">post-install:
	${MKDIR} ${EXAMPLESDIR}
	(cd ${WRKSRC}/examples/ &amp;&amp; ${COPYTREE_SHARE} \* ${EXAMPLESDIR})</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">这个例子将原作者提供的整个
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">examples</filename> 目录复制到您 port 指定的安装示范文件的位置。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">post-install:
	${MKDIR} ${DATADIR}/summer
	(cd ${WRKSRC}/temperatures/ &amp;&amp; ${COPYTREE_SHARE} "June July August" ${DATADIR}/summer/)</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">这个例子将把夏季的三个月的数据， 复制到
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">DATADIR</filename> 中的
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">summer</filename> 子目录。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">经由设置 <varname xmlns:xlink="http://www.w3.org/1999/xlink">COPYTREE_*</varname> 宏的第三个参数，
	  您还可以为 <command xmlns:xlink="http://www.w3.org/1999/xlink">find</command> 指定额外的参数。
	  例如， 如果希望安装除了 Makefile 之外的其他所有文件，
	  可以使用下述命令。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">post-install:
	${MKDIR} ${EXAMPLESDIR}
	(cd ${WRKSRC}/examples/ &amp;&amp; \
		${COPYTREE_SHARE} \* ${EXAMPLESDIR} "! -name Makefile")</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">需要注意的是， 这些宏并不能自动将所安装的文件加到
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename> 中， 您还是需要自行列出它们。</para>

      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="install-documentation">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">安装附加的文档</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">如果您的软件包含了标准的联机手册和 info 手册以外的文档，
	  而且您认为它们对用户会有用， 请把这些文档安装到
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX/share/doc</filename> 下。
	  和前面类似， 这也可以在
	  <buildtarget>post-install</buildtarget> target 中完成。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">为您的 port 建立一个新的目录。
	  这个目录的名字应该反映它是属于哪个 port 的。 通常建议使用
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTNAME</varname>。 不过， 如果您认为不同版本的 port
	  可能会同时安装， 也可以用完整的
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGNAME</varname>。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">另外， 应该让是否安装取决于变量
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">NOPORTDOCS</varname> 的设置， 这样用户就能够在
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/make.conf</filename> 中禁止安装它。 例如：</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">post-install:
.if !defined(NOPORTDOCS)
	${MKDIR} ${DOCSDIR}
	${INSTALL_MAN} ${WRKSRC}/docs/xvdocs.ps ${DOCSDIR}
.endif</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">这里是一些便于使用的变量， 以及它们在
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> 中默认的展开方式：</para>

	<itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">DATADIR</varname> 会展开成
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX/share/PORTNAME</filename>。</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">DATADIR_REL</varname> 会展开成
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">share/PORTNAME</filename>。</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">DOCSDIR</varname> 会展开成
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX/share/doc/PORTNAME</filename>。</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">DOCSDIR_REL</varname> 会展开成
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">share/doc/PORTNAME</filename>。</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">EXAMPLESDIR</varname> 会展开成
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX/share/examples/PORTNAME</filename>。</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">EXAMPLESDIR_REL</varname> 会展开成
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">share/examples/PORTNAME</filename>。</para>
	  </listitem>
	</itemizedlist>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">NOPORTDOCS</varname> 只控制将要安装到 <varname xmlns:xlink="http://www.w3.org/1999/xlink">DOCSDIR</varname>
	    的那些文档， 而不应影响标准的联机手册以及 info 手册的安装。 安装到
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">DATADIR</varname> 和 <varname xmlns:xlink="http://www.w3.org/1999/xlink">EXAMPLESDIR</varname>
	    的文件则相应地受 <varname xmlns:xlink="http://www.w3.org/1999/xlink">NOPORTDATA</varname> 和
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">NOPORTEXAMPLES</varname> 控制。</para>
	</note>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">这些变量也会被导出到 <varname xmlns:xlink="http://www.w3.org/1999/xlink">PLIST_SUB</varname> 中。
	  只要可能， 它们的值就将在那里以相对于
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX</filename> 的路径形式出现。
	  也就是说， <filename xmlns:xlink="http://www.w3.org/1999/xlink">share/doc/PORTNAME</filename>
	  在装箱单中默认情况下会替换掉 <literal xmlns:xlink="http://www.w3.org/1999/xlink">%%DOCSDIR%%</literal>， 等等。
	  (更多的 <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename> 代换可以在
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="plist-sub">这里</link> 找到。)</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">所有非无条件安装的文档文件和目录，
	  都应在 <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename> 出现， 并且使用
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">%%PORTDOCS%%</literal> 前缀， 例如：</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">%%PORTDOCS%%%%DOCSDIR%%/AUTHORS
%%PORTDOCS%%%%DOCSDIR%%/CONTACT
%%PORTDOCS%%@dirrm %%DOCSDIR%%</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">如果不希望在 <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename> 中逐个列举文档文件， port
	  也可以将 <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTDOCS</varname> 设置为一组文件及其 shell glob
	  模式， 通过这种方式来加入到最终的装箱单中。
	  这些名字应是相对于 <varname xmlns:xlink="http://www.w3.org/1999/xlink">DOCSDIR</varname> 的。
	  因此， 使用了 <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTDOCS</varname>，
	  并将文档安装到非标准位置的 port， 应相应地设置
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">DOCSDIR</varname>。
	  如果有在 <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTDOCS</varname> 中列出目录，
	  或者这一变量中的 glob 模式匹配到了目录， 则整个子树中的文件和目录，
	  都将被注册到最终的装箱单中。 如果定义了 <varname xmlns:xlink="http://www.w3.org/1999/xlink">NOPORTDOCS</varname>， 则
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTDOCS</varname> 中定义的文件和目录将不被安装或加入装箱单。
	  是否安装文档到前面所说的 <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTDOCS</varname> 仍取决于 port 本身。
	  下面是一个典型的使用 <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTDOCS</varname> 的例子：</para>

        <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">PORTDOCS=       README.* ChangeLog docs/*</programlisting>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">与 <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTDOCS</varname> 类似，
	  对应于 <varname xmlns:xlink="http://www.w3.org/1999/xlink">DATADIR</varname> 和
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">EXAMPLESDIR</varname> 的变量分别是 <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTDATA</varname>
	  和 <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTEXAMPLES</varname>。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">您也可以使用 <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-message</filename> 这个文件，
	    来在安装时显示一些信息。 参见 <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="porting-message">关于使用
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-message</filename> 的这一节</link> 以了解进一步的详情。
	    需要说明的是， 并不需要把 <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-message</filename> 加到
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename> 中。</para>
	</note>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="install-subdirs">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">子目录</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">尽可能让 port 将它创建的文件， 放置到
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX</varname> 中正确的位置。 一些 port
	  会把各式各样的东西混在一起， 并放到一个同名的目录中， 这是不对的。
	  另外， 许多 port 会把除了可执行文件、 头文件和联机手册之外的所有文件，
	  全都一股脑地放到 <filename xmlns:xlink="http://www.w3.org/1999/xlink">lib</filename> 中， 这在和 BSD
	  配合使用时会有问题。 多数文件，
	  应被放到下列位置之一： <filename xmlns:xlink="http://www.w3.org/1999/xlink">etc</filename>
	  (安装/配置文件)、 <filename xmlns:xlink="http://www.w3.org/1999/xlink">libexec</filename>
	  (由系统内部调用的可执行文件)、 <filename xmlns:xlink="http://www.w3.org/1999/xlink">sbin</filename>
	  (为超级用户/管理员提供的可执行文件)、 <filename xmlns:xlink="http://www.w3.org/1999/xlink">info</filename>
	  (用于 info 浏览器的文档) 或  <filename xmlns:xlink="http://www.w3.org/1999/xlink">share</filename>
	  (平台无关的其它文件)。 请参见 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">hier</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">7</manvolnum></citerefentry> 以了解进一步的详情； 针对
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr</filename> 的那些规则， 同样也适用于
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local</filename>。 例外情况是那些需要和 USENET
	  <quote xmlns:xlink="http://www.w3.org/1999/xlink">news</quote> 打交道的 port， 它们可以选择采用
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX/news</filename>
	  作为文件的目的地。</para>
      </sect2>

    </sect1>

    </chapter>

    <chapter xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="special">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">特殊情况</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">有一些您在创建port时的特殊情况，我们在这里提一下。</para>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-shlibs">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">共享库</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">如果您的port安装了一个或多个共享库,那么请定义一个
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_LDCONFIG</varname> make 变量，
	  在<buildtarget>post-install</buildtarget>标记把它注册进共享库
	  缓冲时会调用<filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.mk</filename>去运行
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">${LDCONFIG} -m</literal>来指向新库的安装目录。
	  (通常是 <filename xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX/lib</filename>)
	  同样，您也可以适当的在您的
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">pke-plist</filename>文件
	  中定义一组<literal xmlns:xlink="http://www.w3.org/1999/xlink">@exec /sbin/ldconfig -m</literal>
	  和<literal xmlns:xlink="http://www.w3.org/1999/xlink">@unexec /sbin/ldconfig -R，</literal>
	  那么用户可以在安装后马上
	  就能使用，并且在卸载软件包后系统也不会认为这些共享库仍然存在。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">USE_LDCONFIG= yes</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">如果您需要把共享库安装在缺省的位置之外，
	  可以通过定义 make 变量 <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_LDCONFIG</varname>
	  来改变默认的安装路径， 它包含安装共享库的目录列表
	  例如： 如果您的共享库安装到
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX/lib/foo</filename> 和
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX/lib/bar</filename>
	  directories目录，您可以在您的
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>中这样设置:</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">USE_LDCONFIG= ${PREFIX}/lib/foo ${PREFIX}/lib/bar</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">请务必仔细检查， 通常这是完全不必要的，
	  或者可以通过 <literal xmlns:xlink="http://www.w3.org/1999/xlink">-rpath</literal> 或在连接时设置 <envar xmlns:xlink="http://www.w3.org/1999/xlink">LD_RUN_PATH</envar>
	  来避免 (参见 <package xmlns:xlink="http://www.w3.org/1999/xlink">lang/moscow_ml</package>
	  给出的例子)， 或者用一个 shell 封装程序来在执行可执行文件之前设置
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">LD_LIBRARY_PATH</varname>， 类似
	  <package xmlns:xlink="http://www.w3.org/1999/xlink">www/seamonkey</package> 那样。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">当在 64-位系统上安装 32-位 的函数库时， 请使用
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_LDCONFIG32</varname>。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">尽量将共享库版本号保持为
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">libfoo.so.0</filename> 这样的格式。
	  我们的运行环境连接器只会检查主 (第一个) 版本数字。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">如果在更新 port 时升级了其库的主版本号，
	  则其它所有连接了受影响的库的 port 的 <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTREVISION</varname> 都应递增，
	  以强制它们采用新版本的库重新编译。</para>

      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-restrictions">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Ports 的发行限制</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">众多协议，并且其中的一些致力于
	  限制怎样的应用程序能被打包，
	  是否能用于销售赢利等等。</para>

	<important xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">
	    做为一名porter您有义务去阅读软件的协议
	    并且确保FreeBSD 项目不必为通过FTP/HTTP
	    或CD-ROM重新发布源码或编译的二进制而解释
	    什么。如果有任何疑问，
	    请联系 <link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-ports">FreeBSD ports 邮件列表</link>。</para>
	</important>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">处于这种情况，就可以设置以下描述
	  的变量。</para>

	<sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">NO_PACKAGE</varname> (禁止编译结果打包)</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">这个变量表示我们可能不能生成这个应用
	    程序的二进制文件。例如，他的协议不允许
	    二进制文件的再次发行，或者他可能禁止从
	    补丁过的源代码打包的发行。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">不管怎么样，port的 <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES</varname> 可以
	    随意的镜像到FTP/HTTP。除非<varname xmlns:xlink="http://www.w3.org/1999/xlink">NO_CDROM</varname>
	    变量也被设置，软件包也可以发行在一张CD-ROM
	    （或类似的媒介上）。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">NO_PACKAGE</varname>也能用在当二进制包
	    不是非常有用，并且这个应用软件经常要
	    从源代码编译。例如：当这个应用软件在
	    编译的时候要在配置信息中指定特定的硬件
	    代码时，可以设置<varname xmlns:xlink="http://www.w3.org/1999/xlink">NO_PACKAGE</varname>。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">NO_PACKAGE</varname>应该设置成字符串
	    来描述为什么这个软件
	    不能打包。</para>
	</sect2>

	<sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">NO_CDROM</varname> (禁止以 CDROM 发行预编译包)</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">这个变量仅仅指出虽然我们允许
	    生成二进制包，但也许我们既不能把这个
	    软件包也不能把port的<varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES</varname>
	    放在光盘（或类似的媒介）上销售。但不管怎么样，
	    二进制包和port的<varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES</varname>
	    可以从FTP/HTTP上获得。</para>


	  <para xmlns:xlink="http://www.w3.org/1999/xlink">如果这个变量和
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">NO_PACKAGE</varname>一起被设置，
	    那么这个port的<varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTFIELS</varname>
	    将只能从FTP/HTTP上获得。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">NO_CDROM</varname> 应该被设置成一个字符串
	    来描述为什么这个port不能重新发布在CD-ROM上。
	    例如：如果这个port的协议仅仅是用于<quote xmlns:xlink="http://www.w3.org/1999/xlink">非商业活动</quote>
	    ,那么这个变量就能设置了。</para>
	</sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">NOFETCHFILES</varname> (不自动抓取指定的文件)</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">在 <varname xmlns:xlink="http://www.w3.org/1999/xlink">NOFETCHFILES</varname> 变量中定义的文件，
	  不会自动从
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES</varname> 抓取。 一种典型的用例是，
	  使用来自某个软件供应商提供的 CD-ROM 上的文件。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">用于检查在 <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES</varname> 上是否包含了所需文件的工具，
	  应忽略这些文件， 而不是报告它们不存在。</para>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">RESTRICTED</varname> (禁止任何形式的再分发)</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">如果应用程序既不允许镜像其 <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES</varname>，
	  也不允许发布其预编译版本的包， 设置它就可以了。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">NO_CDROM</varname> 或 <varname xmlns:xlink="http://www.w3.org/1999/xlink">NO_PACKAGE</varname>
	  不应与 <varname xmlns:xlink="http://www.w3.org/1999/xlink">RESTRICTED</varname> 同时设置，
	  因为它包含了这些情形。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">RESTRICTED</varname> 应设置为一个说明 port 为何不能发布的串。
	  典型情况可能是由于 port 包含了专有的软件， 因而用户需要自行下载
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES</varname>， 可能是注册或者同意某一
	  <acronym xmlns:xlink="http://www.w3.org/1999/xlink">EULA</acronym> 的条款。</para>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">RESTRICTED_FILES</varname> (禁止某些文件的再分发)</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">当设置了 <varname xmlns:xlink="http://www.w3.org/1999/xlink">RESTRICTED</varname> 或 <varname xmlns:xlink="http://www.w3.org/1999/xlink">NO_CDROM</varname>
	  时， 这个变量会默认设置为 <literal xmlns:xlink="http://www.w3.org/1999/xlink">${DISTFILES}
	  ${PATCHFILES}</literal>， 否则它会为空。 如果只有某些源码包文件是受限的，
	  则可以用这个变量来指明它们。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">注意， port committer 应该在
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/ports/LEGAL</filename> 中为每一个源码包文件撰写对应的项目，
	  并介绍这些限制的原因。</para>
      </sect2>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="building">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">联编机制</title>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="parallel-builds">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Ports 的并行联编</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD ports 框架支持使用多个 <command xmlns:xlink="http://www.w3.org/1999/xlink">make</command> 子进程来进行并行编译，
	  在 <acronym xmlns:xlink="http://www.w3.org/1999/xlink">SMP</acronym> 上这可以全面地利用系统的
	  <acronym xmlns:xlink="http://www.w3.org/1999/xlink">CPU</acronym> 计算能力， 令 port 的联编过程更快、 更有效率。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">目前这是通过向原作者的代码传递
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">make</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> 参数 <varname xmlns:xlink="http://www.w3.org/1999/xlink">-jX</varname> 来实现的。
	  遗憾的是， 并不是所有的 port 都能够很好地处理这个选项。
	  因此， 必须通过明确地在 <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> 中指定
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">MAKE_JOBS_SAFE=yes</literal> 来启用这一功能。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">从 port 监护人的角度还有一个控制的方法是设置
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">MAKE_JOBS_UNSAFE=yes</varname> 变量。
	  这个变量主要是用于已知不能与 <varname xmlns:xlink="http://www.w3.org/1999/xlink">-jX</varname>
	  配合使用的 port， 即使用户在 <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/make.conf</filename> 中定义了
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">FORCE_MAKE_JOBS=yes</literal> 变量， 系统也不会使用并行编译。</para>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="using-make">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">make</command>、 <command xmlns:xlink="http://www.w3.org/1999/xlink">gmake</command>， 以及
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">imake</command></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">如果 port 用到了 <application xmlns:xlink="http://www.w3.org/1999/xlink">GNU make</application>， 应设置
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">USE_GMAKE=yes</literal>。</para>

	  <table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	    <title xmlns:xlink="http://www.w3.org/1999/xlink">与 <application xmlns:xlink="http://www.w3.org/1999/xlink">gmake</application> 有关的 port 变量</title>

	    <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	      <thead xmlns:xlink="http://www.w3.org/1999/xlink">
		<row xmlns:xlink="http://www.w3.org/1999/xlink">
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">变量</entry>

		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">意义</entry>
		</row>
	      </thead>

	      <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
		<row xmlns:xlink="http://www.w3.org/1999/xlink">
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_GMAKE</varname></entry>

		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">此 port 需要使用 <command xmlns:xlink="http://www.w3.org/1999/xlink">gmake</command>
		    来完成联编过程。</entry>
		</row>

		<row xmlns:xlink="http://www.w3.org/1999/xlink">
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">GMAKE</varname></entry>

		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">不在 <envar xmlns:xlink="http://www.w3.org/1999/xlink">PATH</envar> 中时， <command xmlns:xlink="http://www.w3.org/1999/xlink">gmake</command>
		    的完整路径。</entry>
		</row>
	      </tbody>
	    </tgroup>
	  </table>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">对于 X 应用程序的 port， 如果它使用
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">imake</application> 根据
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">Imakefile</filename> 文件来生成
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>， 则应设置
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">USE_IMAKE=yes</literal>。 这会使联编过程中的配置
	    (configure) 阶段自动执行 <command xmlns:xlink="http://www.w3.org/1999/xlink">xmkmf -a</command>。
	    如果 <option xmlns:xlink="http://www.w3.org/1999/xlink">-a</option> 标志会给您的 port 带来麻烦， 则需设置
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">XMKMF=xmkmf</literal>。 如果 port 用到了
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">imake</application> 但并不使用
	    <buildtarget>install.man</buildtarget> target， 则应设置
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">NO_INSTALL_MANPAGES=yes</literal>。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">如果 port 源文件的 <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> 的主联编
	    target 是 <buildtarget>all</buildtarget> 以外的名字，
	    应对应地设置 <varname xmlns:xlink="http://www.w3.org/1999/xlink">ALL_TARGET</varname>。
	    对于 <buildtarget>install</buildtarget> 而言， 对应的变量是
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">INSTALL_TARGET</varname>。</para>

	</sect2>

	<sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="using-configure">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">configure</command> 脚本</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">假如 port 使用 <command xmlns:xlink="http://www.w3.org/1999/xlink">configure</command> 脚本来从
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile.in</filename>
	  生成 <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> 文件， 需要设置
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">GNU_CONFIGURE=yes</literal>。
	  如果希望传额外的参数给 <command xmlns:xlink="http://www.w3.org/1999/xlink">configure</command> 脚本
	  (默认参数为 <literal xmlns:xlink="http://www.w3.org/1999/xlink">--prefix=${PREFIX}
	  --infodir=${PREFIX}/${INFO_PATH}
	  --mandir=${MANPREFIX}/man
	  --build=${CONFIGURE_TARGET}</literal>)，
	  应通过 <varname xmlns:xlink="http://www.w3.org/1999/xlink">CONFIGURE_ARGS</varname> 来指定这些参数。
	  类似地， 可以通过
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">CONFIGURE_ENV</varname> 变量来传递一些环境变量。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">如果您的软件包使用 GNU <command xmlns:xlink="http://www.w3.org/1999/xlink">configure</command>，
	  而生成的可执行文件命名方式 <quote xmlns:xlink="http://www.w3.org/1999/xlink">怪异</quote> 如
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">i386-portbld-freebsd4.7-</filename><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">应用程序名</replaceable>，
	  则需要更进一步地通过改变
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">CONFIGURE_TARGET</varname> 变量来按照较新版本的
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">autoconf</command> 生成的脚本所希望的方式指定 target。
	  其方法是， 紧随 <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>
	  中 <literal xmlns:xlink="http://www.w3.org/1999/xlink">GNU_CONFIGURE=yes</literal> 一行之后加入：</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">CONFIGURE_TARGET=--build=${MACHINE_ARCH}-portbld-freebsd${OSREL}</literal>
	  </para>

	  <table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	    <title xmlns:xlink="http://www.w3.org/1999/xlink">用于用到了 <command xmlns:xlink="http://www.w3.org/1999/xlink">configure</command> 脚本的 port 的变量</title>

	    <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	      <thead xmlns:xlink="http://www.w3.org/1999/xlink">
		<row xmlns:xlink="http://www.w3.org/1999/xlink">
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">变量</entry>

		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">意义</entry>
		</row>
	      </thead>

	      <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
		<row xmlns:xlink="http://www.w3.org/1999/xlink">
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">GNU_CONFIGURE</varname></entry>

		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">此 port 需要用 <command xmlns:xlink="http://www.w3.org/1999/xlink">configure</command> 脚本来准备联编。</entry>
		</row>

		<row xmlns:xlink="http://www.w3.org/1999/xlink">
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">HAS_CONFIGURE</varname></entry>

		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">与 <varname xmlns:xlink="http://www.w3.org/1999/xlink">GNU_CONFIGURE</varname> 类似，
		    但默认的 configure target 并不加入
		    <varname xmlns:xlink="http://www.w3.org/1999/xlink">CONFIGURE_ARGS</varname>。</entry>
		</row>

		<row xmlns:xlink="http://www.w3.org/1999/xlink">
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">CONFIGURE_ARGS</varname></entry>

		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">希望传给
		    <command xmlns:xlink="http://www.w3.org/1999/xlink">configure</command> 脚本的额外参数。</entry>
		</row>

		<row xmlns:xlink="http://www.w3.org/1999/xlink">
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">CONFIGURE_ENV</varname></entry>

		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">希望在执行 <command xmlns:xlink="http://www.w3.org/1999/xlink">configure</command>
		    脚本时设置的环境变量。</entry>
		</row>

		<row xmlns:xlink="http://www.w3.org/1999/xlink">
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">CONFIGURE_TARGET</varname></entry>

		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">替换默认的 configure target。 其默认值是
		    <literal xmlns:xlink="http://www.w3.org/1999/xlink">${MACHINE_ARCH}-portbld-freebsd${OSREL}</literal>。</entry>
		</row>
	      </tbody>
	    </tgroup>
	  </table>
	</sect2>

	<sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="using-scons">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">使用 <command xmlns:xlink="http://www.w3.org/1999/xlink">scons</command></title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">如果您的 port 使用 <application xmlns:xlink="http://www.w3.org/1999/xlink">SCons</application>， 就需要定义
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">USE_SCONS=yes</literal> 了。</para>

	  <table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	    <title xmlns:xlink="http://www.w3.org/1999/xlink">使用 <command xmlns:xlink="http://www.w3.org/1999/xlink">scons</command> 的 port 会用到的变量</title>

	    <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	      <thead xmlns:xlink="http://www.w3.org/1999/xlink">
		<row xmlns:xlink="http://www.w3.org/1999/xlink">
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">变量</entry>

		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">含义</entry>
		</row>
	      </thead>

	      <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
		<row xmlns:xlink="http://www.w3.org/1999/xlink">
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">SCONS_ARGS</varname></entry>

		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">当前 port 希望传给 SCons
		    环境的参数。</entry>
		</row>

		<row xmlns:xlink="http://www.w3.org/1999/xlink">
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">SCONS_BUILDENV</varname></entry>

		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">希望在系统环境中设置的变量。</entry>
		</row>

		<row xmlns:xlink="http://www.w3.org/1999/xlink">
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">SCONS_ENV</varname></entry>

		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">希望在 SCons 环境中设置的变量。</entry>
		</row>

		<row xmlns:xlink="http://www.w3.org/1999/xlink">
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">SCONS_TARGET</varname></entry>

		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">传递给 SCons 的最后一个参数， 类似于
		    <varname xmlns:xlink="http://www.w3.org/1999/xlink">MAKE_TARGET</varname>。</entry>
		</row>
	      </tbody>
	    </tgroup>
	  </table>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">如果希望让第三方的 <filename xmlns:xlink="http://www.w3.org/1999/xlink">SConstruct</filename> 尊重通过 <varname xmlns:xlink="http://www.w3.org/1999/xlink">SCONS_ENV</varname>
	    (其中最重要的是
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">CC/CXX/CFLAGS/CXXFLAGS</varname> 配置) 传给 Scons 的配置， 则需要对
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">SConstruct</filename> 进行修改， 使联编的
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">Environment</literal> 按下列方式建立：</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">env = Environment(**ARGUMENTS)</programlisting>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">其后， 可以通过 <literal xmlns:xlink="http://www.w3.org/1999/xlink">env.Append</literal> 和
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">env.Replace</literal> 来对它进行修改。</para>
	</sect2>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="using-autotools">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">利用 GNU autotools</title>

	<sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="using-autotools-introduction">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">入门</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">众多 GNU autotools 提供了一种在多重操作系统和机器架构之上联编软件的抽象机制。
	    在 Ports Collection 中， port 可以通过简单的方法来使用这些工具：</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">USE_AUTOTOOLS= <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">工具</replaceable>:<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">版本</replaceable>[:<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">操作</replaceable>] ...</programlisting>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">撰写本书时， <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">工具</replaceable> 可以设置为
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">libtool</literal>、 <literal xmlns:xlink="http://www.w3.org/1999/xlink">libltdl</literal>、
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">autoconf</literal>、 <literal xmlns:xlink="http://www.w3.org/1999/xlink">autoheader</literal>、
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">automake</literal> 或 <literal xmlns:xlink="http://www.w3.org/1999/xlink">aclocal</literal> 之一。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">版本</replaceable> 用来指定希望使用的工具的特定版本 (参见
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">devel/{automake,autoconf,libtool}[0-9]+</literal>
	    以了解有效的版本号)。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">操作</replaceable> 是一个可选的扩展选项，
	    用于修改如何使用工具。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">可以同时指定多个不同的工具， 可以在一行中指定， 也可以用
	    Makefile 的 <literal xmlns:xlink="http://www.w3.org/1999/xlink">+=</literal> 结构。</para>

          <para xmlns:xlink="http://www.w3.org/1999/xlink">最后， 可以使用一个特殊的名为
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">autotools</literal> 的工具，
	    它会安装全部可用的 autotools 版本，
	    以适应跨平台开发的需要。 您可以通过安装 <literal xmlns:xlink="http://www.w3.org/1999/xlink">devel/autotools</literal> port 来达到这一目的。</para>

	</sect2>

	<sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="using-libtool">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">libtool</command></title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">使用 GNU 联编框架的共享库通常会使用
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">libtool</command> 来调整共享库的编译和安装，
	    以便与所运行的操作系统相匹配。 通常的做法是使用应用程序所附带的
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">libtool</command> 副本。
	    如果需要使用外部的 <command xmlns:xlink="http://www.w3.org/1999/xlink">libtool</command>，
	    则可以使用 Ports 套件提供的版本：</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">USE_AUTOTOOLS= libtool:<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">版本</replaceable>[:env]</programlisting>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">如果不使用额外的操作符，
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">libtool:版本</literal>
	    表示希望联编框架使用 configure 脚本来对系统所安装的 <command xmlns:xlink="http://www.w3.org/1999/xlink">libtool</command>
	    进行修补。 这会暗含地定义 <varname xmlns:xlink="http://www.w3.org/1999/xlink">GNU_CONFIGURE</varname>。
	    更进一步， 联编框架还会设置一系列 make 和 shell
	    变量用于 port 后续的操作。 请参见
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.autotools.mk</filename> 了解进一步的详情。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">如果指定了 <literal xmlns:xlink="http://www.w3.org/1999/xlink">:env</literal> 操作符， 则表示只设置环境，
	    而跳过其他的操作。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">最后， <varname xmlns:xlink="http://www.w3.org/1999/xlink">LIBTOOLFLAGS</varname> 和
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">LIBTOOLFILES</varname> 可以用来替换最常修改的参数， 以及将被
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">libtool</command> 修补的文件。 多数 port 不需要这样做。
	    请参见 <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.autotools.mk</filename> 以了解进一步的细节。</para>

	</sect2>

	<sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="using-libltdl">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">libltdl</command></title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">一些 ports 会使用 <command xmlns:xlink="http://www.w3.org/1999/xlink">libltdl</command> 库，
	    后者是 <command xmlns:xlink="http://www.w3.org/1999/xlink">libtool</command> 软件包的一部分。
	    使用这个库并不意味着必须使用
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">libtool</command> 本身， 因此提供了另一组结构。</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">USE_AUTOTOOLS= libltdl:<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">版本</replaceable></programlisting>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">目前， 这一设置所做的全部工作是将
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">LIB_DEPENDS</varname> 设置为适当的
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">libltdl</command> port， 并作为一项方便的功能，
	    协助开发人员消除在 <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_AUTOTOOLS</varname> 框架以外的，
	    对于 autotools port 的依赖。 这个工具并不提供其它的操作符。</para>

	</sect2>

	<sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="using-autoconf">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">autoconf</command> 和
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">autoheader</command></title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">某些 port 并没有直接提供 configure 脚本， 但包含了作为
	    autoconf 模板的 <filename xmlns:xlink="http://www.w3.org/1999/xlink">configure.ac</filename> 文件。
	    可以用下列设置来要求
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">autoconf</command> 创建 configure 脚本，
	    并使用 <command xmlns:xlink="http://www.w3.org/1999/xlink">autoheader</command> 来为 configure
	    脚本创建模板头文件。</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">USE_AUTOTOOLS=	autoconf:<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">版本</replaceable>[:env]</programlisting>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">以及</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">USE_AUTOTOOLS=	autoheader:<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">版本</replaceable></programlisting>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">上述设置会暗含使用
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">autoconf:版本</literal>。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">对于 <command xmlns:xlink="http://www.w3.org/1999/xlink">libtool</command>， 设置与前面类似。
	    如果指定可选的 <literal xmlns:xlink="http://www.w3.org/1999/xlink">:env</literal> 操作符，
	    则表示只设置用于后续工作的环境。 如果不指定，
	    则会对 port 进行相应的修补和重新配置。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">其它的可选变量， 如
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">AUTOCONF_ARGS</varname> 和
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">AUTOHEADER_ARGS</varname> 可以通过 port 的
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> 来显式地指定替换。
	    类似 <command xmlns:xlink="http://www.w3.org/1999/xlink">libtool</command>， 多数 port 并不需要这样做。</para>

	</sect2>

	<sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="using-automake">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">automake</command> 和
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">aclocal</command></title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">某些软件包只提供了 <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile.am</filename>
	    文件。 这些文件必须首先用
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">automake</command> 转换为
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile.in</filename> 并使用
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">configure</command> 来生成实际的
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">类似地， 偶尔会有一些软件包不提供联编所需的
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">aclocal.m4</filename> 文件。
	    这些文件可以通过使用 <command xmlns:xlink="http://www.w3.org/1999/xlink">aclocal</command>
	    来扫描 <filename xmlns:xlink="http://www.w3.org/1999/xlink">configure.ac</filename> 或
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">configure.in</filename> 自动生成。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">aclocal</command> 与
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">automake</command> 有和 <command xmlns:xlink="http://www.w3.org/1999/xlink">autoheader</command>
	    与 <command xmlns:xlink="http://www.w3.org/1999/xlink">autoconf</command> 在前面一节中所介绍的相类似的关系。
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">aclocal</command> 会暗含使用
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">automake</command>， 因此：</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">USE_AUTOTOOLS=	automake:<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">版本</replaceable>[:<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">env</replaceable>]</programlisting>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">和</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">USE_AUTOTOOLS=	aclocal:<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">版本</replaceable></programlisting>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">也自动暗含使用
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">automake:版本</literal>。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">与 <command xmlns:xlink="http://www.w3.org/1999/xlink">libtool</command> 类似，
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">autoconf</command> 如果使用了可选的
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">:env</literal> 操作符表示仅仅设置用于后续使用的环境，
	    如果不设置， 则会对 port 进行重新配置。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">对于
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">autoconf</command> 和 <command xmlns:xlink="http://www.w3.org/1999/xlink">autoheader</command> 而言，
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">automake</command> 和 <command xmlns:xlink="http://www.w3.org/1999/xlink">aclocal</command>
	    提供了对应的可选参数变量 <varname xmlns:xlink="http://www.w3.org/1999/xlink">AUTOMAKE_ARGS</varname> 和
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">ACLOCAL_ARGS</varname>， 如果需要的话，
	    可以在 port 的 <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> 中指定。</para>

	</sect2>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="using-gettext">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">使用 GNU <literal xmlns:xlink="http://www.w3.org/1999/xlink">gettext</literal></title>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">基本用法</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">如果您的 port 需要使用 <literal xmlns:xlink="http://www.w3.org/1999/xlink">gettext</literal>，
	  只要将 <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_GETTEXT</varname> 设置为 <literal xmlns:xlink="http://www.w3.org/1999/xlink">yes</literal>，
	  您的 port 就会增加对 <package xmlns:xlink="http://www.w3.org/1999/xlink">devel/gettext</package> 的依赖。
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_GETTEXT</varname> 也可以指定为所需的
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">libintl</literal> 库的版本，
	  它是 <literal xmlns:xlink="http://www.w3.org/1999/xlink">gettext</literal> 的基本组成部分，
	  尽管如此， <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">强烈建议您不要</emphasis> 使用这个功能：
	  您的 port 应能与目前版本的
	  <package xmlns:xlink="http://www.w3.org/1999/xlink">devel/gettext</package> 配合工作。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">在 port 中相当常见的情况下， 会需要同时使用
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">gettext</literal> 和 <command xmlns:xlink="http://www.w3.org/1999/xlink">configure</command>。
	  一般而言， GNU <command xmlns:xlink="http://www.w3.org/1999/xlink">configure</command> 能够自动定位到 <literal xmlns:xlink="http://www.w3.org/1999/xlink">gettext</literal>。
	  如果它没有成功地完成这项工作， 则可以通过类似下面这样的
	  <envar xmlns:xlink="http://www.w3.org/1999/xlink">CPPFLAGS</envar> 和 <envar xmlns:xlink="http://www.w3.org/1999/xlink">LDFLAGS</envar> 将
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">gettext</literal> 的位置告诉它：</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">USE_GETTEXT=    yes
CPPFLAGS+=      -I${LOCALBASE}/include
LDFLAGS+=       -L${LOCALBASE}/lib

GNU_CONFIGURE=  yes
CONFIGURE_ENV=  CPPFLAGS="${CPPFLAGS}" \
                LDFLAGS="${LDFLAGS}"</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">当然， 不需要传参数给 <command xmlns:xlink="http://www.w3.org/1999/xlink">configure</command> 时， 代码可以更为简练：</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">USE_GETTEXT=    yes
GNU_CONFIGURE=  yes
CONFIGURE_ENV=  CPPFLAGS="-I${LOCALBASE}/include" \
                LDFLAGS="-L${LOCALBASE}/lib"</programlisting>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">可选用法</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">一些软件产品提供了禁用 NLS 的能力，
	  例如， 在 <command xmlns:xlink="http://www.w3.org/1999/xlink">configure</command> 时， 指定
	  <option xmlns:xlink="http://www.w3.org/1999/xlink">--disable-nls</option> 参数。 如果您 port
	  的软件支持这种配置， 则应根据 <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="knobs-without-nls"><varname xmlns:xlink="http://www.w3.org/1999/xlink">WITHOUT_NLS</varname></link>
	  的设置来有条件地使用 <literal xmlns:xlink="http://www.w3.org/1999/xlink">gettext</literal>。
	  对于比较简单和不太复杂的 port， 您可以使用下列结构：</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">GNU_CONFIGURE=          yes

.if !defined(WITHOUT_NLS)
USE_GETTEXT=            yes
PLIST_SUB+=             NLS=""
.else
CONFIGURE_ARGS+=        --disable-nls
PLIST_SUB+=             NLS="@comment "
.endif</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">您要做的下一件事是合理地安排装箱单文件，
	  使其根据用户配置来决定是否将消息编录 (message catalog)
	  文件放入最终的装箱单。 前面已经介绍了在 <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>
	  中所需的写法， 这种做法在 <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="plist-sub">高级
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename> 用法</link> 这节中进行了介绍。
	  简单地说， 在 <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename>
	  中出现的 <literal xmlns:xlink="http://www.w3.org/1999/xlink">%%NLS%%</literal> 均会在禁用 NLS 时自动替换为
	  <quote xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">@comment </literal></quote>，
	  反之则替换为空串。 这样， 在最终的装箱单中带 <literal xmlns:xlink="http://www.w3.org/1999/xlink">%%NLS%%</literal> 的行，
	  在 NLS 关闭的情况下就会变为注释， 反之， 这些前缀就会自动删掉。
	  现在需要做的事情就是把 <literal xmlns:xlink="http://www.w3.org/1999/xlink">%%NLS%%</literal> 插到 <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename>
	  中的消息编录文件的那些行开头， 例如：</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">%%NLS%%share/locale/fr/LC_MESSAGES/foobar.mo
%%NLS%%share/locale/no/LC_MESSAGES/foobar.mo</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">在比较复杂的情形中， 您可能需要使用更高级的技术， 例如 <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="plist-dynamic">动态生成装箱单</link> 等。</para>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">处理消息编录目录</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">在安装消息编录文件时还有一个需要注意的地方。 这些文件会放到
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">LOCALBASE/share/locale</filename>
	  下与语言对应的目录中， 这些目录一般您的 port 不需要创建和删除。
	  最常用的语言的目录已经在 <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/mtree/BSD.local.dist</filename>
	  中列出； 也就是说， 它们是基本系统的一部分。 其他一些语言的目录， 则由 <package xmlns:xlink="http://www.w3.org/1999/xlink">devel/gettext</package> 控制。
	  您最好查看一下 <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename>，
	  以确定是否正在安装某种不常用语言的文件。</para>
      </sect2>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="using-perl">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">使用 <literal xmlns:xlink="http://www.w3.org/1999/xlink">perl</literal></title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">如果 <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES</varname> 设为
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_PERL_CPAN</varname>， 则应尽量把
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_SUBDIR</varname> 设置为顶级目录的名字。
	例如， 对 <literal xmlns:xlink="http://www.w3.org/1999/xlink">p5-Module-Name</literal>
	而言推荐的名字是 <literal xmlns:xlink="http://www.w3.org/1999/xlink">Module</literal>。
	您可以在 <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://cpan.org/modules/by-module/">cpan.org</link>
	找到顶级目录的名字。 这可以确保在模块的作者发生变化时，
	保持 port 继续可用。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">以上规则有一个例外， 即对应目录不存在或源码包不在那个目录中时， 允许使用作者的 id 作为
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_SUBDIR</varname>。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">所有这些选项均同时接受 <literal xmlns:xlink="http://www.w3.org/1999/xlink">YES</literal>
	和版本串， 类似 <literal xmlns:xlink="http://www.w3.org/1999/xlink">5.8.0+</literal> 这样的写法。 使用
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">YES</literal> 表示 port 能够配合所有受支持的 <application xmlns:xlink="http://www.w3.org/1999/xlink">Perl</application> 版本来使用。
	如果 port 只能配合特定版本的 <application xmlns:xlink="http://www.w3.org/1999/xlink">Perl</application> 来使用，
	则可以用版本串来表示， 例如最低版本
	(如 <literal xmlns:xlink="http://www.w3.org/1999/xlink">5.7.3+</literal>)、 最高版本 (如
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">5.8.0-</literal>) 或某个具体的版本 (如
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">5.8.3</literal>)。</para>

      <table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">用于用到 <literal xmlns:xlink="http://www.w3.org/1999/xlink">perl</literal> 的 port 的变量</title>

	<tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	  <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">变量</entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">意义</entry>
	    </row>
	  </thead>

	  <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_PERL5</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">表示 port 将 <literal xmlns:xlink="http://www.w3.org/1999/xlink">perl 5</literal> 用于联编和运行。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_PERL5_BUILD</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">表示 port 将 <literal xmlns:xlink="http://www.w3.org/1999/xlink">perl 5</literal> 用于联编。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_PERL5_RUN</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">表示 port 将 <literal xmlns:xlink="http://www.w3.org/1999/xlink">perl 5</literal> 用于运行。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PERL</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">perl 5</literal> 的完整路径， 可能是系统自带的，
		或者从 port 安装， 但没有版本号。 如果您需要在脚本中替换
		<quote xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">#!</literal></quote> 行， 则应使用这个变量。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PERL_CONFIGURE</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">采用 Perl 的 MakeMaker 进行配置。 这一变量隐含设置
		<varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_PERL5</varname>。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PERL_MODBUILD</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">使用 Module::Build 进行配置、 联编并安装。
		这一变量隐含设置 <varname xmlns:xlink="http://www.w3.org/1999/xlink">PERL_CONFIGURE</varname>。</entry>
	    </row>
	  </tbody>
	</tgroup>

	<tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	  <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">只读变量</entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">意义</entry>
	    </row>
	  </thead>

	  <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PERL_VERSION</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">系统中安装的 <literal xmlns:xlink="http://www.w3.org/1999/xlink">perl</literal> 的完整版本 (例如，
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">5.8.9</literal>)。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PERL_LEVEL</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">系统中安装的 <literal xmlns:xlink="http://www.w3.org/1999/xlink">perl</literal> 的版本整数值，
		其形式为 <literal xmlns:xlink="http://www.w3.org/1999/xlink">MNNNPP</literal>
		(例如， <literal xmlns:xlink="http://www.w3.org/1999/xlink">500809</literal>)。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PERL_ARCH</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">perl</literal> 保存某平台专用的库的位置。
		默认值为 <literal xmlns:xlink="http://www.w3.org/1999/xlink">${ARCH}-freebsd</literal>。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PERL_PORT</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">系统中所安装的 <literal xmlns:xlink="http://www.w3.org/1999/xlink">perl</literal> port 的名字
		(例如， <literal xmlns:xlink="http://www.w3.org/1999/xlink">perl5</literal>)。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">SITE_PERL</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">站点专用的
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">perl</literal> package 安装路径。
		其值会自动加入到 PLIST_SUB 中。</entry>
	    </row>
	  </tbody>
	</tgroup>
      </table>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">Perl 模块通常并没有官方网站， 这些 port
	  应将 <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">cpan.org</systemitem> 作为其
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-descr</filename> WWW 行的内容。 推荐的 URL 格式为
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">http://search.cpan.org/dist/Module-Name/</literal>
	  (保留最后的斜线)。</para>
      </note>

    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="using-x11">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">使用 X11</title>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="x11-variables">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">X.Org 组件</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">在 Ports 套件中提供的 X11 实现是 X.Org。
	  如果您的应用程序用到了 X 组件， 则应将
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_XORG</varname> 设为所需要的那些组件。
	  目前可用的组件包括：</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">bigreqsproto compositeproto damageproto dmx dmxproto
	  evieproto fixesproto fontcacheproto fontenc fontsproto fontutil
	  glproto ice inputproto kbproto libfs oldx printproto randrproto
	  recordproto renderproto resourceproto scrnsaverproto sm trapproto
	  videoproto x11 xau xaw xaw6 xaw7 xaw8 xbitmaps xcmiscproto xcomposite
	  xcursor xdamage xdmcp xevie xext xextproto xf86bigfontproto
	  xf86dgaproto xf86driproto xf86miscproto xf86rushproto
	  xf86vidmodeproto xfixes xfont xfontcache xft xi xinerama
	  xineramaproto xkbfile xkbui xmu xmuu xorg-server xp xpm xprintapputil
	  xprintutil xpr oto xproxymngproto xrandr xrender xres xscrnsaver xt
	  xtrans xtrap xtst xv xvmc xxf86dga xxf86misc xxf86vm</literal>.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">最新的列表， 可以在
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/ports/Mk/bsd.xorg.mk</filename> 中找到。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">The Mesa Project 是一个致力于自由的 OpenGL
	  实现的计划。 您可以使用 <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_GL</varname> 变量来让 port 依赖其不同的组件。
	  可用的选项包括： <literal xmlns:xlink="http://www.w3.org/1999/xlink">glut, glu, glw, glew, gl</literal> 和
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">linux</literal>。 为了实现向前兼容，
	  当使用 <literal xmlns:xlink="http://www.w3.org/1999/xlink">yes</literal> 时系统会自动将其映射为 <literal xmlns:xlink="http://www.w3.org/1999/xlink">glu</literal>。</para>

	<example xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="use-xorg-example">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">使用 USE_XORG 的例子</title>
	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">USE_XORG=   xrender xft xkbfile xt xaw
USE_GL=     glu</programlisting>
	</example>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">许多 ports 会定义 <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_XLIB</varname>，
	  这会导致 port 依赖 50 多个动态连接库。 由于它出现于 X.org
	  模块化之前， 因此这个变量仅为向前兼容的原因提供，
	  新的 port 不应再使用它。</para>

      <table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">用到 X 的 port 可以使用的变量</title>

	<tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	  <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_XLIB</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">此 port 用到了 X 库。 已过时 - 您应使用 <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_XORG</varname> 变量列出用到的
		X.Org 组件， 而不是使用这个变量。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_IMAKE</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">此 port 用到了 <command xmlns:xlink="http://www.w3.org/1999/xlink">imake</command>。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_X_PREFIX</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">已过时。 目前其作用与
		<varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_XLIB</varname> 相同， 并可以直接用后者替换。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">XMKMF</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">设置为 <command xmlns:xlink="http://www.w3.org/1999/xlink">xmkmf</command> 的完整路径名， 如果它不在
		<envar xmlns:xlink="http://www.w3.org/1999/xlink">PATH</envar> 中的话。 默认值是 <literal xmlns:xlink="http://www.w3.org/1999/xlink">xmkmf
		  -a</literal>。</entry>
	    </row>
	  </tbody>
	</tgroup>
      </table>

      <table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">用于表示对 X11 某些组件的依赖关系的变量</title>

	<tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	  <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">X_IMAKE_PORT</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">用以提供 <command xmlns:xlink="http://www.w3.org/1999/xlink">imake</command> 以及许多其它用于联编
		X11 的工具的 port。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">X_LIBRARIES_PORT</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">用以提供 X11 库的 port。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">X_CLIENTS_PORT</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">用以提供 X 客户的 port。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">X_SERVER_PORT</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">用以提供 X 服务的 port。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">X_FONTSERVER_PORT</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">用以提供字体服务的 port。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">X_PRINTSERVER_PORT</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">用以提供打印服务的 port。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">X_VFBSERVER_PORT</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">用以提供在虚拟帧缓存服务(virtual framebuffer server) 的 port。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">X_NESTSERVER_PORT</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">用以提供嵌套 X 服务的 port。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">X_FONTS_ENCODINGS_PORT</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">用以为字体提供编码的 port。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">X_FONTS_MISC_PORT</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">用以提供多种位图字体的 port。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">X_FONTS_100DPI_PORT</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">用以提供 100dpi 位图字体的 port。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">X_FONTS_75DPI_PORT</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">用以提供 75dpi 位图字体的 port。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">X_FONTS_CYRILLIC_PORT</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">用以提供西里尔位图字体的 port。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">X_FONTS_TTF_PORT</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">用以提供 <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">TrueType</trademark> 字体的 port。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">X_FONTS_TYPE1_PORT</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">用以提供 Type1 字体的 port。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">X_MANUALS_PORT</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">用以提供面向开发人员的联机手册的 port。</entry>
	    </row>
	  </tbody>
	</tgroup>
      </table>

      <example xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="using-x11-vars">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">在变量中使用与 X11 有关的变量</title>
	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink"># 使用某些 X11 库并依赖字体服务和西里尔字体。
RUN_DEPENDS=   ${LOCALBASE}/bin/xfs:${X_FONTSERVER_PORT} \
               ${LOCALASE}/lib/X11/fonts/cyrillic/crox1c.pcf.gz:${X_FONTS_CYRILLIC_PORT}

USE_XORG=      x11 xpm</programlisting>
      </example>

      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="x11-motif">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">需要使用 Motif 的 port</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">如果您的 port 需要 Motif 库， 则应在
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> 中定义 <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_MOTIF</varname>。
	  默认的 Motif 实现是
	  <package xmlns:xlink="http://www.w3.org/1999/xlink">x11-toolkits/open-motif</package>。
	  用户可以通过设置 <varname xmlns:xlink="http://www.w3.org/1999/xlink">WANT_LESSTIF</varname> 变量来选择
	  <package xmlns:xlink="http://www.w3.org/1999/xlink">x11-toolkits/lesstif</package> 代替它。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.mk</filename> 会将 <varname xmlns:xlink="http://www.w3.org/1999/xlink">MOTIFLIB</varname>
	  变量设置为到合适的 Motif 库的引用。 请使用补丁将您 port 中
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> 或
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">Imakefile</filename> 提到 Motif
	  库的地方改为 <literal xmlns:xlink="http://www.w3.org/1999/xlink">${MOTIFLIB}</literal>。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">有两种比较常见的情况：</para>

	<itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">如果 port 中将 Motif 在其 <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> 或
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">Imakefile</filename> 表达为
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">-lXm</literal>， 则简单地将其替换为
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">${MOTIFLIB}</literal>。</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">如果 port 在其 <filename xmlns:xlink="http://www.w3.org/1999/xlink">Imakefile</filename>
	      中使用 <literal xmlns:xlink="http://www.w3.org/1999/xlink">XmClientLibs</literal>， 则将其改为
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">${MOTIFLIB} ${XTOOLLIB}
		${XLIB}</literal>.</para>
	  </listitem>

	</itemizedlist>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">注意 <varname xmlns:xlink="http://www.w3.org/1999/xlink">MOTIFLIB</varname> (通常) 会展开为
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">-L/usr/X11R6/lib -lXm</literal> 或
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">/usr/X11R6/lib/libXm.a</literal>， 所以不需要在其前加入
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">-L</literal> 或 <literal xmlns:xlink="http://www.w3.org/1999/xlink">-l</literal>。</para>

      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">X11 字体</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">如果 port 将为 X Window 系统安装字体， 将这些字体放到
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">LOCALBASE/lib/X11/fonts/local</filename>。</para>

      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">通过 Xvfb 来获得虚拟的 <envar xmlns:xlink="http://www.w3.org/1999/xlink">DISPLAY</envar></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">某些应用程序必须在有可用的 X11 显示的时候才能成功编译。
	  当编译的机器没有控制台时， 这会带来问题。 为了解决这个问题，
	  如果定义了适当的变量， 联编基础设施会启动采用虚拟帧缓存的
	  X server。 此时， 编译过程中将会传出可用的 <envar xmlns:xlink="http://www.w3.org/1999/xlink">DISPLAY</envar>。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">USE_DISPLAY=  yes</programlisting>

      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="desktop-entries">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">桌面项</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">通过利用
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">DESKTOP_ENTRIES</varname> 变量，
	  可以很容易地在您的 port 中创建桌面项 (<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://standards.freedesktop.org/desktop-entry-spec/latest/">Freedesktop
	  标准</link>)。 这些项会在类似 GNOME 或 KDE
	  这样的符合这一标准的桌面环境中显示在应用程序菜单中。
	  这样做会自动创建、 安装 <filename xmlns:xlink="http://www.w3.org/1999/xlink">.desktop</filename> 文件， 并将其加入
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename>。 其语法为：</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">DESKTOP_ENTRIES=  "NAME" "COMMENT" "ICON" "COMMAND" "CATEGORY" StartupNotify</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">您可以在 <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://standards.freedesktop.org/menu-spec/latest/apa.html">
	  Freedesktop 网站上</link> 找到可用的分类名称。 <varname xmlns:xlink="http://www.w3.org/1999/xlink">StartupNotify</varname>
	  表示应用程序在支持启动通知的环境中清除状态信息。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">例子：</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">DESKTOP_ENTRIES=  "ToME" "Roguelike game based on JRR Tolkien's work" \
                  "${DATADIR}/xtra/graf/tome-128.png" \
                  "tome -v -g" "Application;Game;RolePlaying;" \
                  false</programlisting>

      </sect2>

    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="using-gnome">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">使用 GNOME</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD/GNOME 项目组使用一组自己的变量来定义 port
	所使用的 GNOME 组件。
	<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.FreeBSD.org/gnome/docs/porting.html">这些变量的详细列表</link>
	 可以在 FreeBSD/GNOME 项目的主页找到。</para>

    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="using-qt">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">使用 Qt</title>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="qt-common">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">在 port 中使用 Qt</title>

	<table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">用于使用 Qt 的 port 的变量</title>

	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_QT_VER</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">表示 port 用到了 Qt 工具套件。
		  可用的值包括 <literal xmlns:xlink="http://www.w3.org/1999/xlink">3</literal> 和 <literal xmlns:xlink="http://www.w3.org/1999/xlink">4</literal>；
		  用于指定使用的 Qt 的主版本。 此外， 系统会自动为 <command xmlns:xlink="http://www.w3.org/1999/xlink">configure</command>
		  脚本和 <command xmlns:xlink="http://www.w3.org/1999/xlink">make</command> 命令提供必要的参数。</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">QT_PREFIX</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">这个变量会自动设为 Qt 的安装路径 (只读变量)。</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">MOC</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">这个变量会自动设为 <command xmlns:xlink="http://www.w3.org/1999/xlink">moc</command> 的路径
		  (只读变量)。 默认值与
		  <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_QT_VER</varname> 变量的值有关。</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">QTCPPFLAGS</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">通过
		  <varname xmlns:xlink="http://www.w3.org/1999/xlink">CONFIGURE_ENV</varname> 传给 Qt 工具套件的编译参数。
		  默认配置与
		  <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_QT_VER</varname> 有关。</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">QTCFGLIBS</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">通过
		  <varname xmlns:xlink="http://www.w3.org/1999/xlink">CONFIGURE_ENV</varname> 传给 Qt 工具套件的连接库。
		  默认配置与
		  <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_QT_VER</varname> 有关。</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">QTNONSTANDARD</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">禁止系统自动修改
		  <varname xmlns:xlink="http://www.w3.org/1999/xlink">CONFIGURE_ENV</varname>、
		  <varname xmlns:xlink="http://www.w3.org/1999/xlink">CONFIGURE_ARGS</varname> 和
		  <varname xmlns:xlink="http://www.w3.org/1999/xlink">MAKE_ENV</varname>。</entry>
	      </row>

	    </tbody>
	  </tgroup>
	</table>

	<table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">其他用于使用 Qt 4.x 的变量</title>

	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">QT_COMPONENTS</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">用于指定 Qt4 工具和函数库的依赖。
		  详情见后。</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">UIC</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">这个变量会自动设为 <command xmlns:xlink="http://www.w3.org/1999/xlink">uic</command> 的路径 (只读变量)。
		  默认值与
		  <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_QT_VER</varname> 有关。</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">QMAKE</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">这个变量会自动设为 <command xmlns:xlink="http://www.w3.org/1999/xlink">qmake</command> 的路径
		  (只读变量)。 其默认值与
		  <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_QT_VER</varname> 有关。</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">QMAKESPEC</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">这个变量会自动设为
		  <command xmlns:xlink="http://www.w3.org/1999/xlink">qmake</command> 配置文件的路径 (只读变量)。
		  其默认值与 <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_QT_VER</varname>
		  有关。</entry>
	      </row>

	    </tbody>
	  </tgroup>
	</table>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">当设置了 <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_QT_VER</varname> 时，
	  系统自动会给 <command xmlns:xlink="http://www.w3.org/1999/xlink">configure</command> 脚本传一系列有用的参数：</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">CONFIGURE_ARGS+= --with-qt-includes=${QT_PREFIX}/include \
                 --with-qt-libraries=${QT_PREFIX}/lib \
                 --with-extra-libs=${LOCALBASE}/lib \
                 --with-extra-includes=${LOCALBASE}/include
CONFIGURE_ENV+=  MOC="${MOC}" CPPFLAGS="${CPPFLAGS} ${QTCPPFLAGS}" LIBS="${QTCFGLIBS}" \
                 QTDIR="${QT_PREFIX}" KDEDIR="${KDE_PREFIX}"</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">如果将 <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_QT_VER</varname> 设为 <literal xmlns:xlink="http://www.w3.org/1999/xlink">4</literal>，
	  则还会进行下列配置：</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">CONFIGURE_ENV+= UIC="${UIC}" QMAKE="${QMAKE}" QMAKESPEC="${QMAKESPEC}"
MAKE_ENV+=      QMAKESPEC="${QMAKESPEC}"</programlisting>

      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="qt4-components">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">组件的选择 (仅限 Qt 4.x)</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">当把 <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_QT_VER</varname> 设为 4 时， 就可以通过
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">QT_COMPONENTS</varname> 变量来指定对
	  Qt4 工具和函数库的依赖了。 通过在组件的名称后面添加 <literal xmlns:xlink="http://www.w3.org/1999/xlink">_build</literal> 或 <literal xmlns:xlink="http://www.w3.org/1999/xlink">_run</literal>
	  这样的后缀， 则可相应地将这依赖关系限于联编或运行时刻。
	  在没有指定后缀时， 系统默认在联编和运行时刻均依赖该组件。
	  通常情况下在指明函数库一类的组件时应不使用后缀，
	  联编工具类组件应使用 <literal xmlns:xlink="http://www.w3.org/1999/xlink">_build</literal> 后缀，
	  而插件类组件， 则应使用 <literal xmlns:xlink="http://www.w3.org/1999/xlink">_run</literal> 后缀。
	  下表中列出了一些最常用的组件 (全部可用的组件， 则在
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/ports/Mk/bsd.qt.mk</filename>
	  中的 <varname xmlns:xlink="http://www.w3.org/1999/xlink">_QT_COMPONENTS_ALL</varname> 列出)：</para>

	<table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">可用的 Qt4 函数库组件</title>

	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	    <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">名字</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">描述</entry>
	      </row>
	    </thead>

	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">corelib</literal></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">核心库 (在 port 只使用 <literal xmlns:xlink="http://www.w3.org/1999/xlink">corelib</literal> 而没有用到其他库时可以省略)</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">gui</literal></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">图形用户界面库</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">network</literal></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">网络函数库</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">opengl</literal></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">OpenGL 函数库</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">qt3support</literal></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Qt3 兼容支持函数库</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">qtestlib</literal></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">单元测试函数库</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">script</literal></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">脚本函数库</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">sql</literal></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">SQL 函数库</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">xml</literal></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">XML 函数库</entry>
	      </row>

	    </tbody>
	  </tgroup>
	</table>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">您可以通过在成功编译之后， 通过在主可执行文件上运行
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">ldd</command> 来确定所需的库。</para>

	<table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">可用的 Qt4 工具组件</title>

	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	    <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">名字</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">描述</entry>
	      </row>
	    </thead>

	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">moc</literal></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">元对象编译器 (几乎所有的 Qt 应用程序在联编过程中都需要它)</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">qmake</literal></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Makefile 生成器 / 联编工具</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">rcc</literal></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">资源编译器 (如果应用程序中包含
		  <filename xmlns:xlink="http://www.w3.org/1999/xlink">*.rc</filename> 或 <filename xmlns:xlink="http://www.w3.org/1999/xlink">*.qrc</filename>
		  文件， 就需要它)</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">uic</literal></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">用户界面编译器 (如果应用程序中包含使用 Qt Designer
		  创建的 <filename xmlns:xlink="http://www.w3.org/1999/xlink">*.ui</filename> 文件时就需要它
		  - 一般说来 Qt 应用程序都会使用 GUI 的)</entry>
	      </row>

	    </tbody>
	  </tgroup>
	</table>

	<table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">可用的 Qt4 插件组件</title>

	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	    <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">名字</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">描述</entry>
	      </row>
	    </thead>

	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">iconengines</literal></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">SVG 图标引擎插件 (如果应用程序使用 SVG 图标)</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">imageformats</literal></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">用于 GIF、 JPEG、 MNG 和
		  SVG 的 imageformat 插件 (如果应用程序使用图片文件)</entry>
	      </row>

	    </tbody>
	  </tgroup>
	</table>

	<example xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="qt4-components-example">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">选择 Qt4 组件</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">在这个例子中， 我们将要移植的应用程序用到了
	    Qt4 图形用户界面函数库、 Qt4 核心 (core) 函数库、
	    所有 Qt4 代码生成工具以及 Qt4 的
	    Makefile 生成器。 由于 gui 函数库会自动附带对核心函数库的依赖，
	    因此并不需要明确指出需要 corelib 的依赖关系。 Qt4 代码生成工具 moc、
	    uic 和 rcc 以及 Makefile 生成器
	    qmake 只在联编过程中才会用到，
	    因此可以指定 <literal xmlns:xlink="http://www.w3.org/1999/xlink">_build</literal> 后缀：</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">USE_QT_VER=    4
QT_COMPONENTS= gui moc_build qmake_build rcc_build uic_build</programlisting>
	</example>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="qt-additional">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">其他考虑</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">如果应用程序没有提供
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">configure</filename> 文件， 而是给了一个 <filename xmlns:xlink="http://www.w3.org/1999/xlink">.pro</filename>
	  文件， 则应这样：</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">HAS_CONFIGURE=	yes

do-configure:
        @cd ${WRKSRC} &amp;&amp; ${SETENV} ${CONFIGURE_ENV} \
                ${QMAKE} -unix PREFIX=${PREFIX} texmaker.pro</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">请注意， 这与系统提供的 <filename xmlns:xlink="http://www.w3.org/1999/xlink">BUILD.sh</filename>
	  中的 <command xmlns:xlink="http://www.w3.org/1999/xlink">qmake</command> 类似。 传递
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">CONFIGURE_ENV</varname> 能够确保 <command xmlns:xlink="http://www.w3.org/1999/xlink">qmake</command>
	  可以看到 <varname xmlns:xlink="http://www.w3.org/1999/xlink">QMAKESPEC</varname> 变量，
	  否则它可能无法正常工作。 <command xmlns:xlink="http://www.w3.org/1999/xlink">qmake</command> 会生成标准的
	  Makefile， 因此无需自行编写
	  <buildtarget>build</buildtarget> target。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Qt 应用程序通常会编写为能够跨平台使用， 通常 X11/Unix 并不是开发它的平台，
	  有时这会导致一些边边角角的问题， 例如：</para>

	<itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">缺少必要的 includepaths。</emphasis>
	      许多应用程序会使用托盘图标支持， 但忽略了这些头或库文件需要在 X11
	      目录中查找。 您可以通过命令行告诉 <command xmlns:xlink="http://www.w3.org/1999/xlink">qmake</command>
	      将这些头文件和函数库加入到搜索路径中， 例如：</para>

	    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">${QMAKE} -unix PREFIX=${PREFIX} INCLUDEPATH+=${LOCALBASE}/include \
	LIBS+=-L${LOCALBASE}/lib sillyapp.pro</programlisting>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">有问题的安装路径。</emphasis>
	      有时， 类似图标或 .desktop 文件这样的一些数据， 默认情况下没有安装到
	      XDG-兼容的程序会扫描的路径中。 <package xmlns:xlink="http://www.w3.org/1999/xlink">editors/texmaker</package>
	      就是一个这样的例子 - 请参考这个 port 的 <filename xmlns:xlink="http://www.w3.org/1999/xlink">files</filename>
	      目录中的 <filename xmlns:xlink="http://www.w3.org/1999/xlink">patch-texmaker.pro</filename>，
	      以了解如何在 Qmake 工程文件中修正这个问题。</para>
	  </listitem>
	</itemizedlist>

      </sect2>

    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="using-kde">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">使用 KDE</title>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="kde-variables">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">变量定义 (只用于 KDE 3.x)</title>

	<table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">用于使用 KDE 3.x 的 port 的变量</title>

	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_KDELIBS_VER</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">表示 port 用到了 KDE 库。
		  这个变量可以指定希望使用的 KDE 主版本号，
		  如果设置了这个变量， 则系统也会将
		  <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_QT_VER</varname> 设为适当的版本。
		  该变量目前唯一有效的值是
		  <literal xmlns:xlink="http://www.w3.org/1999/xlink">3</literal>。</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_KDEBASE_VER</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">表示 port 用到了 KDE 的基本系统。
		  这个变量可以指定希望使用的 KDE 主版本号，
		  如果设置了这个变量， 则系统也会将
		  <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_QT_VER</varname> 设为适当的版本。
		  该变量目前唯一有效的值是 <literal xmlns:xlink="http://www.w3.org/1999/xlink">3</literal>。</entry>
	      </row>
	    </tbody>
	  </tgroup>
	</table>

      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="kde4-variables">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">用于 KDE 4 的变量定义</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">如果您的应用程序需要使用 KDE 4.x， 则应将 <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_KDE4</varname>
	  设为所需组件的列表。 下面列出一些最常用到的组件
	  (最新的组件列表位于 <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/ports/Mk/bsd.kde4.mk</filename>
	  中的 <varname xmlns:xlink="http://www.w3.org/1999/xlink">_USE_KDE4_ALL</varname>)：</para>

	<table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">可用的 KDE4 组件</title>

	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	    <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">名称</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">说明</entry>
	      </row>
	    </thead>

	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">akonadi</literal></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">个人信息管理 (PIM)存储服务</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">automoc4</literal></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">令 port 使用 automoc4 联编工具集</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">kdebase</literal></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">基本的 KDE 应用程序 (Konqueror、 Dolphin、 Konsole)</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">kdeexp</literal></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">试验性的 KDE 库 (包含尚未完全确定不变的 API)</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">kdehier</literal></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">常用的 KDE 目录层次结构</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">kdelibs</literal></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">基本 KDE 库</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">kdeprefix</literal></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">如果设置了这个选项， 则 port 将安装到
		  <literal xmlns:xlink="http://www.w3.org/1999/xlink">${KDE4_PREFIX}</literal>
		  而不是 <literal xmlns:xlink="http://www.w3.org/1999/xlink">${LOCALBASE}</literal></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">pimlibs</literal></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">PIM 函数库</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">workspace</literal></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">用于组成桌面的应用程序和函数库 (Plasma、 KWin)</entry>
	      </row>

	    </tbody>
	  </tgroup>
	</table>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">KDE 4.x port 会安装到 <literal xmlns:xlink="http://www.w3.org/1999/xlink">${KDE4_PREFIX}</literal>，
	  目前是 <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/kde4</filename>，
	  以避免与 KDE 3.x ports 冲突。 这是通过指定 <literal xmlns:xlink="http://www.w3.org/1999/xlink">kdeprefix</literal>
	  组件来实现的， 它表示替换默认的 <varname xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX</varname>。 不过，
	  port 仍会遵循通过 <envar xmlns:xlink="http://www.w3.org/1999/xlink">MAKEFLAGS</envar> 环境变量设置的
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX</varname> 以及其它 <application xmlns:xlink="http://www.w3.org/1999/xlink">make</application> 参数。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">KDE 4.x ports 有可能和 KDE 3.x ports 冲突， 因此如果启用了
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">kdeprefix</literal> 组件， 它们会安装到
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">${KDE4_PREFIX}</literal>。 目前
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">KDE4_PREFIX</literal> 的默认值是
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/kde4</filename>。 也可以将 KDE 4.x ports
	  安装到自定义的 <literal xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX</literal>。 当
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX</literal> 是通过 <envar xmlns:xlink="http://www.w3.org/1999/xlink">MAKEFLAGS</envar>
	  环境变量， 或直接在 <application xmlns:xlink="http://www.w3.org/1999/xlink">make</application> 命令行指定时，
	  它会替换 <literal xmlns:xlink="http://www.w3.org/1999/xlink">kdeprefix</literal> 提供的配置。</para>

	<example xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="kde4-components-example">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_KDE4</varname>  示例</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">下面是一个简单的 KDE 4 port。 <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_CMAKE</varname>
	  指定 port 使用 <application xmlns:xlink="http://www.w3.org/1999/xlink">CMake</application> ──
	  许多 KDE 4 项目所使用的配置工具。
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_KDE4</varname> 则引入 KDE 函数库， 并令 port 在联编阶段使用
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">automoc4</application>。 需要的 KDE 组件，
	  以及其他依赖的组件可以从 configure 的日志中获知。
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_KDE4</varname> 并不会自动设置 <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_QT_VER</varname>。
	  如果 port 需要使用某些 Qt4 组件， 则需要设置 <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_QT_VER</varname>
	  并指定所需要的组件。 </para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">USE_CMAKE=     yes
USE_KDE4=      automoc4 kdelibs kdeprefix
USE_QT_VER=    4
QT_COMPONENTS= qmake_build moc_build rcc_build uic_build</programlisting>
	</example>
      </sect2>

    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="using-java">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">使用 Java</title>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="java-variables">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">变量定义</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">如果您的 port 需要 Java™ 开发包 (JDK™) 来完成联编、
	支持运行， 甚至完成解开源代码包这样的工作，
	就应该定义 <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_JAVA</varname>。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">在 Ports Collection 中有许多不同的 JDK， 它们的版本各不相同，
	或是来自不同的供应商。 如果您的 port 必须使用其中的某个特定的版本，
	也可以予以定义。 最新的稳定版本是
	<package xmlns:xlink="http://www.w3.org/1999/xlink">java/jdk16</package>。</para>

      <table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">用到 Java 的 port 可以使用的变量</title>

	<tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	  <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">变量</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">意义</entry>
	    </row>
	  </thead>
	  <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_JAVA</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">只有定义它才能使其它变量生效。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">JAVA_VERSION</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">用空格分开的适合 port 使用的 Java 版本。
		可选的 <literal xmlns:xlink="http://www.w3.org/1999/xlink">"+"</literal> 可以用于指定某个范围的版本 (可以用：
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">1.5[+] 1.6[+] 1.7[+]
		</literal>)。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">JAVA_OS</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">用空格分开的适应 port 的 JDK port 操作系统类型 (可以用： <literal xmlns:xlink="http://www.w3.org/1999/xlink">native
		linux</literal>)。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">JAVA_VENDOR</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">用空格分开的适应 port 的 JDK port 供应商
		(可以用： <literal xmlns:xlink="http://www.w3.org/1999/xlink">freebsd bsdjava sun
		openjdk</literal>)。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">JAVA_BUILD</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">设置这个变量表示所选的 JDK port 应被列入 port 的联编依赖关系。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">JAVA_RUN</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">设置这个变量表示所选的 JDK port 应被列入 port 的运行环境依赖关系。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">JAVA_EXTRACT</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">设置这个变量表示所选的 JDK port 应被列入 port 的解压缩支持依赖关系。</entry>
	    </row>
	  </tbody>
	</tgroup>
      </table>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">下面是在设置了 <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_JAVA</varname> 之后，
	port 能够从系统中获得的配置：</para>

      <table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">向使用了 Java 的 port 提供的变量</title>

	<tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	  <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">变量</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">值</entry>
	    </row>
	  </thead>
	  <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">JAVA_PORT</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">JDK port 的名字 (例如
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">'java/diablo-jdk16'</literal>)。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">JAVA_PORT_VERSION</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">JDK port 的完整版本 (例如
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">'1.6.0'</literal>)。 如果您只需要版本号的前两位， 则可用
		<varname xmlns:xlink="http://www.w3.org/1999/xlink">${JAVA_PORT_VERSION:C/^([0-9])\.([0-9])(.*)$/\1.\2/}</varname>。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">JAVA_PORT_OS</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">所用 JDK port 的操作系统 (例如
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">'native'</literal>)。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">JAVA_PORT_VENDOR</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">所用 JDK port 的供应商 (例如
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">'freebsd'</literal>)。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">JAVA_PORT_OS_DESCRIPTION</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">所用 JDK port 操作系统的描述
		(例如 <literal xmlns:xlink="http://www.w3.org/1999/xlink">'Native'</literal>)。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">JAVA_PORT_VENDOR_DESCRIPTION</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">所用 JDK port 供应商的描述 (例如
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">'FreeBSD Foundation'</literal>)。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">JAVA_HOME</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">JDK 的安装目录 (例如
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">'/usr/local/diablo-jdk1.6.0'</filename>)。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">JAVAC</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">所用 Java 编译器的完整路径 (例如
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">'/usr/local/diablo-jdk1.6.0/bin/javac'</filename>)。
		</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">JAR</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">所用 <command xmlns:xlink="http://www.w3.org/1999/xlink">jar</command> 工具的完整路径 (例如
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">'/usr/local/diablo-jdk1.6.0/bin/jar'</filename> 或
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">'/usr/local/bin/fastjar'</filename>)。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">APPLETVIEWER</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">所用 <command xmlns:xlink="http://www.w3.org/1999/xlink">appletviewer</command> 工具的完整路径 (例如
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">'/usr/local/diablo-jdk1.6.0/bin/appletviewer'</filename>)。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">JAVA</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">所用 <command xmlns:xlink="http://www.w3.org/1999/xlink">java</command> 执行文件的完整路径。
		您应使用它来执行 Java 程序 (例如
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">'/usr/local/diablo-jdk1.6.0/bin/java'</filename>)。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">JAVADOC</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">所用 <command xmlns:xlink="http://www.w3.org/1999/xlink">javadoc</command> 工具的完整路径。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">JAVAH</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">所用 <command xmlns:xlink="http://www.w3.org/1999/xlink">javah</command> 程序的完整路径。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">JAVAP</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">所用 <command xmlns:xlink="http://www.w3.org/1999/xlink">javap</command> 程序的完整路径。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">JAVA_KEYTOOL</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">所用 <command xmlns:xlink="http://www.w3.org/1999/xlink">keytool</command> 工具的完整路径。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">JAVA_N2A</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">所用 <command xmlns:xlink="http://www.w3.org/1999/xlink">native2ascii</command> 工具的完整路径。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">JAVA_POLICYTOOL</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">所用 <command xmlns:xlink="http://www.w3.org/1999/xlink">policytool</command> 程序的完整路径。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">JAVA_SERIALVER</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">所用 <command xmlns:xlink="http://www.w3.org/1999/xlink">serialver</command> 程序的完整路径。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">RMIC</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">所用 RMI 桩/架 生成器，
		<command xmlns:xlink="http://www.w3.org/1999/xlink">rmic</command> 的完整路径。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">RMIREGISTRY</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">所用 RMI 注册表程序，
		<command xmlns:xlink="http://www.w3.org/1999/xlink">rmiregistry</command> 的完整路径。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">RMID</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">所用 RMI 服务程序 <command xmlns:xlink="http://www.w3.org/1999/xlink">rmid</command> 的完整路径。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">JAVA_CLASSES</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">所用 JDK 类文件目录的完整路径。
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">${JAVA_HOME}/jre/lib/rt.jar</filename>。</entry>
	    </row>
	  </tbody>
	</tgroup>
      </table>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">您可以使用 <literal xmlns:xlink="http://www.w3.org/1999/xlink">java-debug</literal> make target
	以获取用于调试 port 的信息。 大多数前述变量的值皆会予以呈现。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">此外， 还会定义下述常量， 以确保所有的
	Java port 均以一致之方式安装：</para>

      <table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">为使用 Java 的 port 定义的常量</title>

	<tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	  <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">常量</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">值</entry>
	    </row>
	  </thead>
	  <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">JAVASHAREDIR</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">所有 Java 相关资料的安装根目录。
		默认值： <filename xmlns:xlink="http://www.w3.org/1999/xlink">${PREFIX}/share/java</filename>.
	      </entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">JAVAJARDIR</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">用以安装 JAR 文件的目录。 默认值：
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">${JAVASHAREDIR}/classes</filename>。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">JAVALIBDIR</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">其它 port 安装的 JAR 文件所在的目录。 默认值：
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">${LOCALBASE}/share/java/classes</filename>。</entry>
	    </row>
	  </tbody>
	</tgroup>
      </table>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">相关的项也会定义在
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">PLIST_SUB</varname> (在
	<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="plist-sub"/> 中进行介绍) 和
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">SUB_LIST</varname> 中。</para>

      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="java-building-with-ant">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">采用 Ant 进行联编</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">如果 port 采用 Apache Ant 进行联编，
	  则需要定义 <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_ANT</varname>。 如是， 则 Ant
	  将作为 子-make 命令来使用。 如果 port 未定义 <literal xmlns:xlink="http://www.w3.org/1999/xlink">do-build</literal>
	  target， 则将默认依 <varname xmlns:xlink="http://www.w3.org/1999/xlink">MAKE_ENV</varname>、
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">MAKE_ARGS</varname> 和 <varname xmlns:xlink="http://www.w3.org/1999/xlink">ALL_TARGET</varname>。
	  的设置执行 Ant。 这类似于 <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="building"/> 中介绍的关于
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_GMAKE</varname> 的机制。</para>

      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="java-best-practices">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">最佳实践</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">如果您正移植某个 Java 库， 您的 port 应把
	  JAR 文件安装到 <filename xmlns:xlink="http://www.w3.org/1999/xlink">${JAVAJARDIR}</filename>， 而其它文件则应放在
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">${JAVASHAREDIR}/${PORTNAME}</filename> 下
	  (除了文档， 参见下文)。 要减少打包文件的尺寸，
	  您可以直接在 <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> 中引用这些 JAR 文件，
	  具体做法是使用下面的语句 (此处的 <filename xmlns:xlink="http://www.w3.org/1999/xlink">myport.jar</filename>
	  是作为 port 一部分安装的 JAR 文件的名字)：</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">PLIST_FILES+= %%JAVAJARDIR%%/myport.jar</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">移植 Java 应用程序时， port 通常会希望将所有文件安装到同一目录
	  (包括其依赖的 JAR)。 这时强烈建议使用
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">${JAVASHAREDIR}/${PORTNAME}</filename>。
	  移植软件的开发人员， 可以自行决定是否将所依赖的其它 JAR 安装到此目录，
	  或直接使用已经装好的那些
	  (来自 <filename xmlns:xlink="http://www.w3.org/1999/xlink">${JAVAJARDIR}</filename>)。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">无论您正制作哪一类的 port (库或者应用程序)，
	  附加的文档都应安装到和其它 port
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="install-documentation">同样的位置</link>。
	  已经知道， JavaDoc 会根据 JDK 版本的不同而产生不同的文件。
	  对于那些不打算强制使用某一特定版本 JDK 的 port 而言，
	  这无疑提高了制作装箱单
	  (<filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename>) 的难度。 这是为什么强烈建议使用
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTDOCS</varname> 宏的原因。 更进一步， 即使您能够预测
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">javadoc</command> 将要生成的文件， 所需的
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename> 的尺寸， 也是鼓吹使用
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTDOCS</varname> 的一大理由。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">DATADIR</varname> 的默认值是
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">${PREFIX}/share/${PORTNAME}</filename>。
	  对 Java port 而言将 <varname xmlns:xlink="http://www.w3.org/1999/xlink">DATADIR</varname> 改为
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">${JAVASHAREDIR}/${PORTNAME}</filename> 是一个好主意。
	  当然， <varname xmlns:xlink="http://www.w3.org/1999/xlink">DATADIR</varname> 会自动加到
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PLIST_SUB</varname> 中 (在 <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="plist-sub"/> 有所介绍) 因此您可以在
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename> 中直接使用
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">%%DATADIR%%</literal>。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">撰写本文时， 对是应该从源代码联编， 还是直接安装预编译的
	  Java ports 安装包并没有明确的规定。 尽管如此， <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.freebsd.org/java/">FreeBSD Java Project</link>
	  的开发人员仍鼓励移植软件的开发者在不麻烦的情况下尽可能从源代码完成联编。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">本节中所介绍的全部特性， 均是在 <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.java.mk</filename>
	  中实现的。 如果您感觉自己的 port 需要更为复杂的 Java 支持，
	  请首先参阅 <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.freebsd.org/cgi/cvsweb.cgi/ports/Mk/bsd.java.mk">
	  bsd.java.mk CVS 日志</link>， 因为通常撰文介绍最新特性需要一些时间。
	  此外， 如果您认为所缺少的支持对许多其它 Java port 亦属有益，
	  请在 <link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-java">FreeBSD Java 语言邮件列表</link> 对其进行讨论。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">在 PR 中的 <literal xmlns:xlink="http://www.w3.org/1999/xlink">java</literal> 类别，
	  主要是用于 FreeBSD Java project 移植 JDK 本身之用。
	  因而， 提交您的 Java port 时， 应归入
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">ports</literal> 类别， 除非您正尝试解决的问题是 JDK
	  实现本身或 <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.java.mk</filename> 的。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">类似地， 您应参考 <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="makefile-categories"/> 中所详述的关于
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">CATEGORIES</varname> 在 Java port 中的使用规则。</para>

      </sect2>

    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="using-php">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Web 应用， Apache 和 PHP</title>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="using-apache">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Apache</title>

	<table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">用到 Apache 的 port 可以使用的变量</title>

	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_APACHE</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">此 port 需要 Apache。 可用的值：
		  <literal xmlns:xlink="http://www.w3.org/1999/xlink">yes</literal> (任意可用版本)、
		  <literal xmlns:xlink="http://www.w3.org/1999/xlink">1.3</literal>、 <literal xmlns:xlink="http://www.w3.org/1999/xlink">2.0</literal>、
		  <literal xmlns:xlink="http://www.w3.org/1999/xlink">2.2</literal>、 <literal xmlns:xlink="http://www.w3.org/1999/xlink">2.0+</literal>、
		  等等。 默认依赖的版本是
		  <literal xmlns:xlink="http://www.w3.org/1999/xlink">1.3</literal>。</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">WITH_APACHE2</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">此 port 需要 Apache 2.0。 如果没有这个变量，
		  则 port 将依赖 Apache 1.3。 这一变量目前已经过时，
		  因而不应继续使用。</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">APXS</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">到 <command xmlns:xlink="http://www.w3.org/1999/xlink">apxs</command> 可执行文件的完整路径。
		  您可以在 port 中替代该值。</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">HTTPD</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">到 <command xmlns:xlink="http://www.w3.org/1999/xlink">httpd</command> 可执行文件的完整路径。
		  您可以在 port 中替代该值。</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">APACHE_VERSION</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">目前系统中安装的 Apache 版本 (只读变量)。
		  这一变量只有在引用了 <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.pre.mk</filename>
		  之后才能使用， 其可能的值为：
		  <literal xmlns:xlink="http://www.w3.org/1999/xlink">13</literal>、 <literal xmlns:xlink="http://www.w3.org/1999/xlink">20</literal>、
		  <literal xmlns:xlink="http://www.w3.org/1999/xlink">22</literal>。</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">APACHEMODDIR</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Apache 模块所在的文件夹。 在 pkg-plist 中，
		  这一变量会自动展开。</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">APACHEINCLUDEDIR</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Apache 头文件所在的文件夹。 在 pkg-plist 中，
		  这一变量会自动展开。</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">APACHEETCDIR</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Apache 配置文件所在的文件夹。 在 pkg-plist 中，
		  这一变量会自动展开。</entry>
	      </row>

	    </tbody>
	  </tgroup>
	</table>

	<table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">在移植 Apache 模块时比较有用的变量</title>

	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">MODULENAME</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">模块的名称。 默认值为
		  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTNAME</varname>。 例如：
		  <literal xmlns:xlink="http://www.w3.org/1999/xlink">mod_hello</literal></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">SHORTMODNAME</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">模块的简略名字。 默认情况下会自动根据
		  <varname xmlns:xlink="http://www.w3.org/1999/xlink">MODULENAME</varname> 计算， 但您也可以自行设置值来替代它。
		  例如： <literal xmlns:xlink="http://www.w3.org/1999/xlink">hello</literal></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">AP_FAST_BUILD</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">使用 <command xmlns:xlink="http://www.w3.org/1999/xlink">apxs</command> 来编译和安装模块。</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">AP_GENPLIST</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">同时自动创建
		  <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename>。</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">AP_INC</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">在编译过程中， 将指定的目录加入到搜索头文件的目录中。</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">AP_LIB</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">在编译过程中， 将指定的目录加入到搜索函数库的目录中。</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">AP_EXTRAS</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">传递给
		  <command xmlns:xlink="http://www.w3.org/1999/xlink">apxs</command> 的额外参数。</entry>
	      </row>

	    </tbody>
	  </tgroup>
	</table>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="web-apps">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Web 应用</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Web 应用程序应安装到
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX/www/应用程序的名字</filename>。
	  为方便起见， 这个路径在
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> 和 <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename>
	  均以 <varname xmlns:xlink="http://www.w3.org/1999/xlink">WWWDIR</varname> 变量的形式提供。 在
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> 中可以使用
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">WWWDIR_REL</varname> 来表示包含了
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX</varname> 的该变量值。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">web 服务器进程所用的用户和用户组， 分别以
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">WWWOWN</varname> 和 <varname xmlns:xlink="http://www.w3.org/1999/xlink">WWWGRP</varname> 变量的形式提供，
	  如果您需要修改某些文件的属主的话。 这两个变量的默认值均为 <literal xmlns:xlink="http://www.w3.org/1999/xlink">www</literal>。
	  如果您的 port 希望使用其他值， 请使用 <literal xmlns:xlink="http://www.w3.org/1999/xlink">WWWOWN?= myuser</literal> 这种写法，
	  以便让用户能够更容易地修改它。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">除非您的 port 必需使用 Apache， 否则不要将其写入依赖关系。
	  请尊重运行您的应用程序的用户选择 Apache 以外的其他 web 服务器的需求。</para>

      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="php-variables">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">PHP</title>

	<table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">用到 PHP 的 port 中可以使用的变量</title>

	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_PHP</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">此 port 需要 PHP。 取值为 <literal xmlns:xlink="http://www.w3.org/1999/xlink">yes</literal>
		  将把 PHP 加入依赖关系。 此外， 还可以在此指定将所需要的 PHP
		  扩展模块。 例如： <literal xmlns:xlink="http://www.w3.org/1999/xlink">pcre xml
		  gettext</literal></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">DEFAULT_PHP_VER</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">选择在没有安装 PHP 时自动安装的 PHP 主版本。 默认是
		  <literal xmlns:xlink="http://www.w3.org/1999/xlink">4</literal>。 可选 <literal xmlns:xlink="http://www.w3.org/1999/xlink">4</literal>、
		  <literal xmlns:xlink="http://www.w3.org/1999/xlink">5</literal> 之一。</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">IGNORE_WITH_PHP</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">此 port 无法与给定版本的 PHP 一同工作。
		  可选值为 <literal xmlns:xlink="http://www.w3.org/1999/xlink">4</literal>、
		  <literal xmlns:xlink="http://www.w3.org/1999/xlink">5</literal> 之一。</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_PHPIZE</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">此 port 将作为 PHP 扩展模块进行联编。</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_PHPEXT</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">此 port 将作为 PHP 扩展，
		  且需要作为扩展模块注册。</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_PHP_BUILD</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">联编依赖于 PHP。</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">WANT_PHP_CLI</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">希望使用 CLI (命令行) 版本的 PHP。</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">WANT_PHP_CGI</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">希望使用 CGI 版本的 PHP。</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">WANT_PHP_MOD</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">希望使用 Apache 模块版本的 PHP。</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">WANT_PHP_SCR</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">希望使用 CLI 或 CGI 版本的 PHP。</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">WANT_PHP_WEB</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">希望使用 Apache 模块或 CGI 版本的 PHP。</entry>
	      </row>
	    </tbody>
	  </tgroup>
	</table>

      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">PEAR 模块</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">移植 PEAR 模块的过程非常简单。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">使用 <varname xmlns:xlink="http://www.w3.org/1999/xlink">FILES</varname>、
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">TESTS</varname>、 <varname xmlns:xlink="http://www.w3.org/1999/xlink">DATA</varname>、
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">SQLS</varname>、 <varname xmlns:xlink="http://www.w3.org/1999/xlink">SCRIPTFILES</varname>、
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">DOCS</varname> 以及 <varname xmlns:xlink="http://www.w3.org/1999/xlink">EXAMPLES</varname>
	  这些变量来指明您希望安装的文件。
	  所有这里列出的文件都会自动安装到合适的位置， 并加入
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename>。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">在 <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> 文件的最后一行引入
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">${PORTSDIR}/devel/pear/bsd.pear.mk</filename>。</para>

	<example xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="pear-makefile">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">用于 PEAR 类的 Makefile 例子</title>
	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">PORTNAME=       Date
PORTVERSION=    1.4.3
CATEGORIES=     devel www pear

MAINTAINER=     example@domain.com
COMMENT=        PEAR Date and Time Zone Classes

BUILD_DEPENDS=  ${PEARDIR}/PEAR.php:${PORTSDIR}/devel/pear-PEAR
RUN_DEPENDS=    ${BUILD_DEPENDS}

FILES=          Date.php Date/Calc.php Date/Human.php Date/Span.php     \
                Date/TimeZone.php
TESTS=          test_calc.php test_date_methods_span.php testunit.php   \
                testunit_date.php testunit_date_span.php wknotest.txt   \
                bug674.php bug727_1.php bug727_2.php bug727_3.php       \
                bug727_4.php bug967.php weeksinmonth_4_monday.txt       \
                weeksinmonth_4_sunday.txt weeksinmonth_rdm_monday.txt   \
                weeksinmonth_rdm_sunday.txt
DOCS=           TODO
_DOCSDIR=       .

.include &lt;bsd.port.pre.mk&gt;
.include "${PORTSDIR}/devel/pear/bsd.pear.mk"
.include &lt;bsd.port.post.mk&gt;</programlisting>

	</example>

      </sect2>

    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="using-python">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">使用 Python</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Ports 套件支持同时并行安装多个不同的
	Python 版本。 Ports 应确保能够根据用户配置的
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">PYTHON_VERSION</varname> 变量使用正确的
	<command xmlns:xlink="http://www.w3.org/1999/xlink">python</command> 解释器。 一般说来，
	这是通过将脚本中的 <command xmlns:xlink="http://www.w3.org/1999/xlink">python</command> 路径名替换为
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">PYTHON_CMD</varname> 变量的值来实现的。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">在 <varname xmlns:xlink="http://www.w3.org/1999/xlink">PYTHON_SITELIBDIR</varname>
	下安装文件的 ports 应在包名上使用 <literal xmlns:xlink="http://www.w3.org/1999/xlink">pyXY-</literal> 前缀，
	以便明示它们将会配合哪个 Python 版本使用。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">PKGNAMEPREFIX= ${PYTHON_PKGNAMEPREFIX}</programlisting>

      <table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">对用到 Python 的 port 最有用的一些变量</title>

	<tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	  <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_PYTHON</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">此 port 需要 Python。 可以用
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">2.3+</literal> 这样的形式来指定所希望的版本。
		除此之外， 也可以用横线来分隔两个版本号，
		以表示某个范围的版本， 例如： <literal xmlns:xlink="http://www.w3.org/1999/xlink">2.1-2.3</literal></entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_PYDISTUTILS</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">使用 Python distutils 来完成配置、 编译和安装。 对包含
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">setup.py</filename> 的 port 而言这是必需的。
		它会自动覆盖默认的
		<buildtarget>do-build</buildtarget> 以及
		<buildtarget>do-install</buildtarget> 这两个 target。 如未定义
		<varname xmlns:xlink="http://www.w3.org/1999/xlink">GNU_CONFIGURE</varname>，
		它还会改变 <buildtarget>do-configure</buildtarget>。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PYTHON_PKGNAMEPREFIX</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">作为 <varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGNAMEPREFIX</varname> 来区分不同 Python
		版本的 package。 例如： <literal xmlns:xlink="http://www.w3.org/1999/xlink">py24-</literal></entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PYTHON_SITELIBDIR</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">全站 package 所在的目录， 它包括了 Python
		的安装目录 (通常是 <varname xmlns:xlink="http://www.w3.org/1999/xlink">LOCALBASE</varname>)。
		在安装 Python 模块时， <varname xmlns:xlink="http://www.w3.org/1999/xlink">PYTHON_SITELIBDIR</varname>
		变量会非常有用。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PYTHONPREFIX_SITELIBDIR</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">去掉了 PREFIX 部分的 PYTHON_SITELIBDIR。 应尽可能在
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename> 中使用
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">%%PYTHON_SITELIBDIR%%</literal>。
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">%%PYTHON_SITELIBDIR%%</literal> 的默认值是
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">lib/python%%PYTHON_VERSION%%/site-packages</literal></entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PYTHON_CMD</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Python 解释器的命令行， 包括版本号。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PYNUMERIC</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">将数值处理扩展模块加入依赖关系。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PYNUMPY</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">对新增的数值计算扩展, numpy的依赖。
	      (PYNUMERIC 目前已被作者淘汰)。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PYXML</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">将 XML 扩展模块加入依赖关系。 (对于
	      Python 2.0 和更高版本不再需要， 因为它已经成为了标准组件)。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_TWISTED</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">将 twistedCore 加入依赖关系。
		也可以用这个变量指定所需的组件，
		例如： <literal xmlns:xlink="http://www.w3.org/1999/xlink">web lore pair
		flow</literal></entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_ZOPE</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">加入对 Zope， 一种 web 应用平台的依赖。
		这会把 Python 依赖改为 Python 2.3。 此外
		<varname xmlns:xlink="http://www.w3.org/1999/xlink">ZOPEBASEDIR</varname> 也会自动设为
		Zope 安装目录的位置。</entry>
	    </row>

	  </tbody>
	</tgroup>
      </table>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">完整的可用变量列表， 可以在
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/ports/Mk/bsd.python.mk</filename>
	中找到。</para>

    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="using-tcl">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">使用 <application xmlns:xlink="http://www.w3.org/1999/xlink">Tcl/Tk</application></title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Ports 套件支持同时安装多个 <application xmlns:xlink="http://www.w3.org/1999/xlink">Tcl/Tk</application> 版本。 Ports
	应至少支持默认的
	<application xmlns:xlink="http://www.w3.org/1999/xlink">Tcl/Tk</application> 版本， 以及通过
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_TCL</varname> 和 <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_TK</varname>
	变量指定的更高版本。 希望使用的
	<command xmlns:xlink="http://www.w3.org/1999/xlink">tcl</command> 版本， 则可以通过 <varname xmlns:xlink="http://www.w3.org/1999/xlink">WITH_TCL_VER</varname>
	变量来使用。</para>

      <table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">用到
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">Tcl/Tk</application> 的 port 可以使用的变量</title>

	<tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	  <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_TCL</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">表示 port 依赖于
		<application xmlns:xlink="http://www.w3.org/1999/xlink">Tcl</application> 函数库 (不是 shell)。
		可以指定需要的最低版本， 例如 84+。 不支持的版本，
		可以在 <varname xmlns:xlink="http://www.w3.org/1999/xlink">INVALID_TCL_VER</varname>
		变量中逐个指定。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_TCL_BUILD</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">表示 port 在联编过程中需要使用 <application xmlns:xlink="http://www.w3.org/1999/xlink">Tcl</application>。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_TCL_WRAPPER</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">需要使用
		<application xmlns:xlink="http://www.w3.org/1999/xlink">Tcl</application> shell 而不需要特定版本的
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">tclsh</literal> 的 port 可以使用这个新变量。
		系统中会安装 <literal xmlns:xlink="http://www.w3.org/1999/xlink">tclsh</literal> wrapper，
		用户则可以指定所希望的 <command xmlns:xlink="http://www.w3.org/1999/xlink">tcl</command> shell。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">WITH_TCL_VER</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">由用户定义的、 希望使用的
		<application xmlns:xlink="http://www.w3.org/1999/xlink">Tcl</application> 版本。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">UNIQUENAME</replaceable>_WITH_TCL_VER</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">和 <varname xmlns:xlink="http://www.w3.org/1999/xlink">WITH_TCL_VER</varname> 类似，
		但是针对 port 指定的。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_TCL_THREADS</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">需要包含线程支持的
		<application xmlns:xlink="http://www.w3.org/1999/xlink">Tcl/Tk</application>。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_TK</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">表示 port 依赖于
		<application xmlns:xlink="http://www.w3.org/1999/xlink">Tk</application> 库 (不是 wish
		shell)。 它同时会隐含将 <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_TCL</varname> 设置为相同的值。
		更多的描述， 请参考
		<varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_TCL</varname> 变量。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_TK_BUILD</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">与 <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_TCL_BUILD</varname>
		变量表达类似的含义。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_TK_WRAPPER</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">与 <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_TCL_WRAPPER</varname>
		变量表达类似的含义。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">WITH_TK_VER</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">表达与 <varname xmlns:xlink="http://www.w3.org/1999/xlink">WITH_TCL_VER</varname>
		变量类似的含义， 它同时会隐含将 <varname xmlns:xlink="http://www.w3.org/1999/xlink">WITH_TCL_VER</varname>
		设置为相同的值。</entry>
	    </row>
	  </tbody>
	</tgroup>
      </table>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">可用的变量的完整列表， 可以在
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/ports/Mk/bsd.tcl.mk</filename> 中找到。</para>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="using-emacs">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">使用 Emacs</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">本节尚有待撰写。</para>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="using-ruby">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">使用 Ruby</title>

      <table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">使用 Ruby 的 port 可以使用的变量</title>

	<tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	  <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">变量</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">说明</entry>
	    </row>
	  </thead>
	  <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_RUBY</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">此 port 需要 Ruby。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_RUBY_EXTCONF</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">此 port 使用 <filename xmlns:xlink="http://www.w3.org/1999/xlink">extconf.rb</filename>
		来完成配置。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_RUBY_SETUP</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">此 port 使用 <filename xmlns:xlink="http://www.w3.org/1999/xlink">setup.rb</filename>
		来完成配置。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">RUBY_SETUP</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">将此变量名设置为所用的
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">setup.rb</filename> 的文件名。 通常会是
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">install.rb</filename>。</entry>
	    </row>

	  </tbody>
	</tgroup>
      </table>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">下表展示了 ports 系统提供给 port 作者的一些变量。
	您应使用这些变量， 以便把文件装到合适的位置。 请尽可能多地在
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename> 中使用它们。 这些变量不应在 port
	中重新定义。</para>

      <table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">使用 Ruby 的 port 中的一些可用的只读变量</title>

	<tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="3">
	  <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">变量</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">说明</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">示范值</entry>
	    </row>
	  </thead>
	  <tbody xmlns:xlink="http://www.w3.org/1999/xlink">

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">RUBY_PKGNAMEPREFIX</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">作为 <varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGNAMEPREFIX</varname> 以区分用于不同
		Ruby 版本的 package。</entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">ruby18-</literal></entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">RUBY_VERSION</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">x.y.z</literal> 形式的完整 ruby 版本。</entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">1.8.2</literal></entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">RUBY_SITELIBDIR</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">平台无关库的安装路径。</entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/lib/ruby/site_ruby/1.8</literal></entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">RUBY_SITEARCHLIBDIR</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">平台相关的库的安装路径。</entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/lib/ruby/site_ruby/1.8/amd64-freebsd6</literal></entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">RUBY_MODDOCDIR</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">模块文档的安装路径。</entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/share/doc/ruby18/patsy</literal></entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">RUBY_MODEXAMPLESDIR</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">模块用例的安装路径。</entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/share/examples/ruby18/patsy</literal></entry>
	    </row>

	  </tbody>
	</tgroup>
      </table>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">可用变量的完整列表， 可以在
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/ports/Mk/bsd.ruby.mk</filename> 中找到。</para>

    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="using-sdl">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">使用 SDL</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">变量 <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_SDL</varname> 可以用于自动配置 port
	的依赖关系， 以适应使用类似
	<package xmlns:xlink="http://www.w3.org/1999/xlink">devel/sdl12</package> 和
	<package xmlns:xlink="http://www.w3.org/1999/xlink">x11-toolkits/sdl_gui</package>
	这些依赖 SDL 的库的情形。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">目前系统能够识别下列 SDL 库：</para>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">sdl: <package xmlns:xlink="http://www.w3.org/1999/xlink">devel/sdl12</package></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">gfx: <package xmlns:xlink="http://www.w3.org/1999/xlink">graphics/sdl_gfx</package></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">gui: <package xmlns:xlink="http://www.w3.org/1999/xlink">x11-toolkits/sdl_gui</package></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">image: <package xmlns:xlink="http://www.w3.org/1999/xlink">graphics/sdl_image</package></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">ldbad: <package xmlns:xlink="http://www.w3.org/1999/xlink">devel/sdl_ldbad</package></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">mixer: <package xmlns:xlink="http://www.w3.org/1999/xlink">audio/sdl_mixer</package></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">mm: <package xmlns:xlink="http://www.w3.org/1999/xlink">devel/sdlmm</package></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">net: <package xmlns:xlink="http://www.w3.org/1999/xlink">net/sdl_net</package></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">sound: <package xmlns:xlink="http://www.w3.org/1999/xlink">audio/sdl_sound</package></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">ttf: <package xmlns:xlink="http://www.w3.org/1999/xlink">graphics/sdl_ttf</package></para>
	</listitem>
      </itemizedlist>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">因此， 如果 port 需要依赖
	<package xmlns:xlink="http://www.w3.org/1999/xlink">net/sdl_net</package> 和
	<package xmlns:xlink="http://www.w3.org/1999/xlink">audio/sdl_mixer</package>，
	则对应的写法将是：</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">USE_SDL=        net mixer</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">同时， <package xmlns:xlink="http://www.w3.org/1999/xlink">net/sdl_net</package> 和
	<package xmlns:xlink="http://www.w3.org/1999/xlink">audio/sdl_mixer</package> 所依赖的
	<package xmlns:xlink="http://www.w3.org/1999/xlink">devel/sdl12</package> 也会被自动地加入。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">加入您使用 <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_SDL</varname>， 它将自动地：</para>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">将对于 <application xmlns:xlink="http://www.w3.org/1999/xlink">sdl12-config</application> 的依赖关系加入到
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">BUILD_DEPENDS</varname></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">将变量 <varname xmlns:xlink="http://www.w3.org/1999/xlink">SDL_CONFIG</varname> 加入到
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">CONFIGURE_ENV</varname></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">将对所选的库的依赖， 加入到
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">LIB_DEPENDS</varname></para>
	</listitem>
      </itemizedlist>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">要检查某个特定的 SDL 库是否可用，
	可以通过 <varname xmlns:xlink="http://www.w3.org/1999/xlink">WANT_SDL</varname> 变量来达到目的：</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">WANT_SDL=yes

.include &lt;bsd.port.pre.mk&gt;

.if ${HAVE_SDL:Mmixer}!=""
USE_SDL+=   mixer
.endif

.include &lt;bsd.port.post.mk&gt;</programlisting>

    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="using-wx">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">使用 <application xmlns:xlink="http://www.w3.org/1999/xlink">wxWidgets</application></title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">这一节介绍了在 ports tree 中的
	<application xmlns:xlink="http://www.w3.org/1999/xlink">wxWidgets</application> 库的现状，
	以及它与 ports 系统的集成。</para>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="wx-introduction">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">介绍</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">许多不同版本的
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">wxWidgets</application> 库之间是存在相互冲突的 (它们会安装同名的文件)
	  在 ports 系统中， 这一问题是通过将不同的版本以包含版本号后缀的名字安装来解决的。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">这样做的一个最明显的缺点是， 应用程序必须进行修改， 才能找到所希望的版本。
	  幸运的是， 多数应用程序会调用 <command xmlns:xlink="http://www.w3.org/1999/xlink">wx-config</command> 脚本来确定需要的编译器和连接器选项。
	  这个脚本会随可用的版本不同而有不同的名字。 主要的应用程序都会尊重环境变量的配置，
	  或提供一个 configure 参数， 用以指定调用哪个 <command xmlns:xlink="http://www.w3.org/1999/xlink">wx-config</command>。
	  如果不是这样的话， 就需要对应用程序打补丁了。</para>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="wx-version">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">版本的选择</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">为了让您的 port 使用指定版本的
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">wxWidgets</application>， 可以定义两个变量 (如果只定义了一个，
	  则另一个会取默认值)：</para>

	<table xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="wx-ver-sel-table" frame="none">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">用于选择 <application xmlns:xlink="http://www.w3.org/1999/xlink">wxWidgets</application>
	    版本的变量</title>

	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="3">
	    <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">变量</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">说明</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">默认值</entry>
	      </row>
	    </thead>

	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_WX</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">列出这个 port 能使用的版本</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">全部版本</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_WX_NOT</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">列出这个 port 不能使用的版本</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">无</entry>
	      </row>
	    </tbody>
	  </tgroup>
	</table>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">下面是可用的
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">wxWidgets</application> 版本， 以及对应的
	  ports：</para>

	<table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">可用的 <application xmlns:xlink="http://www.w3.org/1999/xlink">wxWidgets</application>
	    versions</title>

	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	    <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">版本</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Port</entry>
	      </row>
	    </thead>

	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">2.4</literal></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><package xmlns:xlink="http://www.w3.org/1999/xlink">x11-toolkits/wxgtk24</package></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">2.6</literal></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><package xmlns:xlink="http://www.w3.org/1999/xlink">x11-toolkits/wxgtk26</package></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">2.8</literal></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><package xmlns:xlink="http://www.w3.org/1999/xlink">x11-toolkits/wxgtk28</package></entry>
	      </row>
	    </tbody>
	  </tgroup>
	</table>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">从 <literal xmlns:xlink="http://www.w3.org/1999/xlink">2.5</literal> 版开始， 也提供了对应的
	    Unicode 版本， 这种版本可以通过 slave port 安装，
	    与普通版本相比， 它会多一个 <literal xmlns:xlink="http://www.w3.org/1999/xlink">-unicode</literal> 后缀，
	    不过这可以通过使用变量来处理 (请参见 <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="wx-unicode"/>)。</para>
	</note>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">在 <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="wx-ver-sel-table"/> 中的变量，
	  可以设为下列值或由空格分隔的组合：</para>

	<table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">wxWidgets</application> 版本</title>

	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	    <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">说明</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">例子</entry>
	      </row>
	    </thead>

	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">单个版本</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">2.4</literal></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">某版本以上版本</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">2.4+</literal></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">某版本以下版本</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">2.6-</literal></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">某段版本 (版本号较小的必须在前)</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">2.4-2.6</literal></entry>
	      </row>
	    </tbody>
	  </tgroup>
	</table>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">除此之外， 还有一些用以从可用的本那本中选择所希望的版本的变量。
	  这种变量也可以设为一组版本， 而靠前的版本的优先级更高。</para>

	<table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">用于选择希望的版本的
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">wxWidgets</application> versions</title>

	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	    <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">变量名</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">用于</entry>
	      </row>
	    </thead>

	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">WANT_WX_VER</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">port</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">WITH_WX_VER</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">用户</entry>
	      </row>
	    </tbody>
	  </tgroup>
	</table>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="wx-components">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">选择组件</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">也有一些其他应用， 尽管它们本身并不是
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">wxWidgets</application> 库， 但却与之相关。
	  这些应用程序可以在
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">WX_COMPS</varname> 变量中使用， 以下是可用的组件：</para>

	<table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">可用的 <application xmlns:xlink="http://www.w3.org/1999/xlink">wxWidgets</application>
	    组件</title>

	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="3">
	    <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">名称</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">说明</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">版本限制</entry>
	      </row>
	    </thead>

	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">wx</literal></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">主库</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">无</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">contrib</literal></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">第三方库</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">无</literal></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">python</literal></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">wxPython</application>
		  (<application xmlns:xlink="http://www.w3.org/1999/xlink">Python</application> 绑定)</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">2.4-2.6</literal></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">mozilla</literal></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">wxMozilla</application></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">2.4</literal></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">svg</literal></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">wxSVG</application></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">2.6</literal></entry>
	      </row>
	    </tbody>
	  </tgroup>
	</table>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">您可以为每个依赖的组件， 通过冒号分隔的后缀指定其类型。
	  如果没有指定， 则会使用默认的依赖类型 (参见 <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="wx-def-dep-types"/>)。
	  下面是可用的类型：</para>

	<table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">可用的 <application xmlns:xlink="http://www.w3.org/1999/xlink">wxWidgets</application> 依赖类型</title>

	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	    <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">名称</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">说明</entry>
	      </row>
	    </thead>

	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">build</literal></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">联编时需要该组件， 相当于
		  <varname xmlns:xlink="http://www.w3.org/1999/xlink">BUILD_DEPENDS</varname></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">run</literal></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">运行时需要该组件， 相当于
		  <varname xmlns:xlink="http://www.w3.org/1999/xlink">RUN_DEPENDS</varname></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">lib</literal></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">联编和运行时均需要该组件，
		  相当于 <varname xmlns:xlink="http://www.w3.org/1999/xlink">LIB_DEPENDS</varname></entry>
	      </row>
	    </tbody>
	  </tgroup>
	</table>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">组件的默认依赖关系类型， 如下表所示：</para>

	<table xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="wx-def-dep-types" frame="none">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">默认的 <application xmlns:xlink="http://www.w3.org/1999/xlink">wxWidgets</application> 依赖关系类型</title>

	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	    <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">组件</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">依赖关系类型</entry>
	      </row>
	    </thead>

	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">wx</literal></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">lib</literal></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">contrib</literal></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">lib</literal></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">python</literal></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">run</literal></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">mozilla</literal></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">lib</literal></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">svg</literal></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">lib</literal></entry>
	      </row>
	    </tbody>
	  </tgroup>
	</table>

	<example xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="wx-components-example">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">选择 <application xmlns:xlink="http://www.w3.org/1999/xlink">wxWidgets</application>
	    组件</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">下面的片段展示了使用
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">wxWidgets</application> 版本
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">2.4</literal> 及第三方库的方法。</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">USE_WX=       2.4
WX_COMPS=     wx contrib</programlisting>
	</example>
      </sect2>
      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="wx-unicode">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Unicode</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">wxWidgets</application> 库从其 <literal xmlns:xlink="http://www.w3.org/1999/xlink">2.5</literal>
	  版开始支持 Unicode 了。 在 ports 系统中， 这两种版本均有提供，
	  并可以通过下列变量来选择：</para>

	<table xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="wx-unicode-var-table" frame="none">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">用以在 Unicode 版本的
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">wxWidgets</application>
	    的变量</title>

	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="3">
	    <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">变量</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">说明</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">作用</entry>
	      </row>
	    </thead>

	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">WX_UNICODE</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">该 port <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">只能</emphasis> 配合
		  Unicode 版本使用</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">port</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">WANT_UNICODE</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">port 能够与两种版本配合使用， 但希望使用
		  Unicode 版本</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">port</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">WITH_UNICODE</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">令 port 使用 Unicode 版本</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">用户</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">WITHOUT_UNICODE</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">令 port 使用普通版本，
		  如果支持的话 (即未定义 <varname xmlns:xlink="http://www.w3.org/1999/xlink">WX_UNICODE</varname>)</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">用户</entry>
	      </row>
	    </tbody>
	  </tgroup>
	</table>

	<warning xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">如果 port 同时支持 Unicode 和普通版本，
	    请不要使用 <varname xmlns:xlink="http://www.w3.org/1999/xlink">WX_UNICODE</varname>。 如果希望默认启用
	    Unicode， 应定义 <varname xmlns:xlink="http://www.w3.org/1999/xlink">WANT_UNICODE</varname>。</para>
	</warning>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="wx-version-detection">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">检测已安装的版本</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">要检测系统中安装的版本， 就需要定义
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">WANT_WX</varname>。 如果没有将其设置为特定的版本，
	  则组件将包含版本后缀。
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">HAVE_WX</varname> 变量在检测完成后会自动填入内容。</para>

	<example xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="wx-ver-det-example">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">检测已安装的 <application xmlns:xlink="http://www.w3.org/1999/xlink">wxWidgets</application>
	    版本和组件</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">下面的片段可以在安装
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">wxWidgets</application> 的系统中令 port 使用它，
	    反之则作为一项选项提供。</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">WANT_WX=        yes

.include &lt;bsd.port.pre.mk&gt;

.if defined(WITH_WX) || ${HAVE_WX:Mwx-2.4} != ""
USE_WX=         2.4
CONFIGURE_ARGS+=--enable-wx
.endif</programlisting>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">下面的片段在系统中有安装过时启用
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">wxPython</application> 支持，
	    或在没有安装时作为选项提供； 对
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">wxWidgets</application> 也是如此办理， 版本皆为
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">2.6</literal>。</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">USE_WX=         2.6
WX_COMPS=       wx
WANT_WX=        2.6

.include &lt;bsd.port.pre.mk&gt;

.if defined(WITH_WXPYTHON) || ${HAVE_WX:Mpython} != ""
WX_COMPS+=      python
CONFIGURE_ARGS+=--enable-wxpython
.endif</programlisting>
	</example>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="wx-defined-variables">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">定义的变量</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">以下是一些可以在 port 中使用的变量
	  (这之前需要定义 <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="wx-ver-sel-table"/> 中的至少一个变量)。</para>

	<table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">为使用
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">wxWidgets</application> 的 port 定义的变量</title>

	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	    <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">变量名</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">说明</entry>
	      </row>
	    </thead>

	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">WX_CONFIG</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">到 <application xmlns:xlink="http://www.w3.org/1999/xlink">wxWidgets</application>
		  <command xmlns:xlink="http://www.w3.org/1999/xlink">wx-config</command> 脚本的路径 (名字会随版本不同而不同)</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">WXRC_CMD</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">到 <application xmlns:xlink="http://www.w3.org/1999/xlink">wxWidgets</application>
		  <command xmlns:xlink="http://www.w3.org/1999/xlink">wxrc</command> 程序的路径 (名字会随版本不同而不同)</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">WX_VERSION</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">将要用到的 <application xmlns:xlink="http://www.w3.org/1999/xlink">wxWidgets</application> 版本
		  (例如， <literal xmlns:xlink="http://www.w3.org/1999/xlink">2.6</literal>)</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">WX_UNICODE</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">如果没有定义， 而将会使用 Unicode 时， 系统将自动定义此变量。</entry>
	      </row>
	    </tbody>
	  </tgroup>
	</table>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="wx-premk">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">在 <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.pre.mk</filename> 中进行处理</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">如果您需要在引用了 <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.pre.mk</filename> 之后立即对一些变量进行处理，
	  则需要定义 <varname xmlns:xlink="http://www.w3.org/1999/xlink">WX_PREMK</varname>。</para>

	<important xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">如果定义了 <varname xmlns:xlink="http://www.w3.org/1999/xlink">WX_PREMK</varname>， 则在此
	    <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">之后</emphasis> 定义的依赖关系、 组件和变量将不会生效，
	    您在引用 <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.pre.mk</filename>
	    之前的 <application xmlns:xlink="http://www.w3.org/1999/xlink">wxWidgets</application> port 变量将直接起作用。</para>
	</important>

	<example xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="wx-premk-example">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">在命令中使用 <application xmlns:xlink="http://www.w3.org/1999/xlink">wxWidgets</application> 变量</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">下面的片段以执行
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">wx-config</command> 脚本来得到完整的版本号，
	    将其赋值到变量中， 并传递给一个程序举例说明了
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">WX_PREMK</varname> 的用法。</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">USE_WX=         2.4
WX_PREMK=       yes

.include &lt;bsd.port.pre.mk&gt;

.if exists(${WX_CONFIG})
VER_STR!=       ${WX_CONFIG} --release

PLIST_SUB+=     VERSION="${VER_STR}"
.endif</programlisting>
	</example>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">在 target 中的 <application xmlns:xlink="http://www.w3.org/1999/xlink">wxWidgets</application> 变量可以直接使用，
	    而无需 <varname xmlns:xlink="http://www.w3.org/1999/xlink">WX_PREMK</varname> 的参与。</para>
	</note>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="wx-additional-config-args">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">额外的 <command xmlns:xlink="http://www.w3.org/1999/xlink">configure</command> 参数</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">某些 GNU <command xmlns:xlink="http://www.w3.org/1999/xlink">configure</command> 脚本在只设置了
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">WX_CONFIG</literal> 环境变量时， 无法自动找到
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">wxWidgets</application>， 而需要使用额外的参数来加以指定。
	  您可以使用 <varname xmlns:xlink="http://www.w3.org/1999/xlink">WX_CONF_ARGS</varname> 变量来给出这些参数。</para>

	<table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">可用于 <varname xmlns:xlink="http://www.w3.org/1999/xlink">WX_CONF_ARGS</varname> 的值</title>

	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	    <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">可用值</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">结果</entry>
	      </row>
	    </thead>

	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">absolute</literal></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">--with-wx-config=${WX_CONFIG}</literal></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">relative</literal></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">--with-wx=${LOCALBASE}
		    --with-wx-config=${WX_CONFIG:T}</literal></entry>
	      </row>
	    </tbody>
	  </tgroup>
	</table>
      </sect2>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="using-lua">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">使用 <application xmlns:xlink="http://www.w3.org/1999/xlink">Lua</application></title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">这一节描述了在 ports 系统中的
	<application xmlns:xlink="http://www.w3.org/1999/xlink">Lua</application> 库的现状， 以及它与 ports 系统的集成。</para>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="lua-introduction">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">介绍</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">许多不同版本的 <application xmlns:xlink="http://www.w3.org/1999/xlink">Lua</application>
	  库和相关的解释器之间是相互冲突的 (它们会安装同名的文件)。
	  在 ports 系统中， 这一问题是通过将不同版本的文件以不同的版本号作为后缀名解决的。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">这样做最大的一个问题是， 每个程序都需要进行修改才能找到它所需要的版本。
	  不过， 通过将适当的参数传给编译器和连接器很容易解决这个问题。</para>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="lua-version">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">选择版本</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">要让您的 port 使用指定版本的
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">Lua</application>，
	  可以定义两个变量的值 (如果只定义了其中的一个， 则另一个会使用默认值)：</para>

	<table xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="lua-ver-sel-table" frame="none">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">用于选择 <application xmlns:xlink="http://www.w3.org/1999/xlink">Lua</application>
	    版本的变量</title>

	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="3">
	    <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">变量</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">说明</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">默认值</entry>
	      </row>
	    </thead>

	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_LUA</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">port 能够使用的 Lua 版本列表</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">全部可用版本</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_LUA_NOT</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">与 port 不兼容的版本列表</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">无</entry>
	      </row>
	    </tbody>
	  </tgroup>
	</table>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">下面是目前 ports 系统提供的可用
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">Lua</application> 版本和对应的目录：</para>

	<table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">可用的 <application xmlns:xlink="http://www.w3.org/1999/xlink">Lua</application> 版本</title>

	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	    <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">版本</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Port</entry>
	      </row>
	    </thead>

	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">4.0</literal></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><package xmlns:xlink="http://www.w3.org/1999/xlink">lang/lua4</package></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">5.0</literal></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><package xmlns:xlink="http://www.w3.org/1999/xlink">lang/lua50</package></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">5.1</literal></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><package xmlns:xlink="http://www.w3.org/1999/xlink">lang/lua</package></entry>
	      </row>
	    </tbody>
	  </tgroup>
	</table>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">在 <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="lua-ver-sel-table"/> 中的变量，
	  可以设置为下面的版本之一， 或用空格分隔的若干版本：</para>

	<table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">指定 <application xmlns:xlink="http://www.w3.org/1999/xlink">Lua</application> 版本</title>

	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	    <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">说明</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">例子</entry>
	      </row>
	    </thead>

	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">一个版本</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">4.0</literal></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">某个版本或更高版本</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">5.0+</literal></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">不高于某个版本</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">5.0-</literal></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">版本范围 (低版本必须在前)</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">5.0-5.1</literal></entry>
	      </row>
	    </tbody>
	  </tgroup>
	</table>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">除此之外， 也有一些用来从可用版本中选择推荐版本的其它变量。 这些变量也可以设置为一组版本，
	  而前面的版本优先级较高。</para>

	<table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">用于选择推荐 <application xmlns:xlink="http://www.w3.org/1999/xlink">Lua</application>
	    版本的变量</title>

	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	    <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">变量名</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">用于</entry>
	      </row>
	    </thead>

	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">WANT_LUA_VER</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">port</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">WITH_LUA_VER</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">用户</entry>
	      </row>
	    </tbody>
	  </tgroup>
	</table>

	<example xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="lua-version-example">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">选择 <application xmlns:xlink="http://www.w3.org/1999/xlink">Lua</application> 版本</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">下面是一个用到
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">Lua</application> 版本 <literal xmlns:xlink="http://www.w3.org/1999/xlink">5.0</literal> 或
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">5.1</literal>， 并默认使用 <literal xmlns:xlink="http://www.w3.org/1999/xlink">5.0</literal>
	    的 port 的片段。 这个默认值可以通过
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">WITH_LUA_VER</varname> 来另外指定。</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">USE_LUA=      5.0-5.1
WANT_LUA_VER= 5.0</programlisting>
	</example>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="lua-components">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">组件的选择</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">也有一些其它的应用， 尽管本身并不是
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">Lua</application> 库， 但却与它们相关。
	  这些应用可以通过 <varname xmlns:xlink="http://www.w3.org/1999/xlink">LUA_COMPS</varname>
	  变量来指定。 可用的组件如下：</para>

	<table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">可用的 <application xmlns:xlink="http://www.w3.org/1999/xlink">Lua</application> 组件</title>

	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="3">
	    <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">名字</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">说明</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">版本限制</entry>
	      </row>
	    </thead>

	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">lua</literal></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">主库</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">无</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">tolua</literal></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">用于访问 C/C++ 代码的库</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">4.0-5.0</literal></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">ruby</literal></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Ruby 绑定</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">4.0-5.0</literal></entry>
	      </row>
	    </tbody>
	  </tgroup>
	</table>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">还有一些其它的组件， 但这些组件是由解释器，
	    而不是由应用程序使用的 (也就是不被其它模块使用)。</para>
	</note>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">每个组件的依赖关系类型可以通过手工添加分隔符为冒号的后缀来指定。
	  如果不指定， 则会采用默认类型 (请参见 <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="lua-def-dep-types"/>)。
	  以下是可用的依赖关系类型：</para>

	<table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">可用的 <application xmlns:xlink="http://www.w3.org/1999/xlink">Lua</application> 依赖关系类型</title>

	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	    <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">名字</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">说明</entry>
	      </row>
	    </thead>

	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">build</literal></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">这个组件是联编过程所必需的， 相当于
		  <varname xmlns:xlink="http://www.w3.org/1999/xlink">BUILD_DEPENDS</varname></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">run</literal></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">在运行时需要这个组件， 相当于
		  <varname xmlns:xlink="http://www.w3.org/1999/xlink">RUN_DEPENDS</varname></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">lib</literal></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">这个组件在联编和运行时都需要，
		  相当于 <varname xmlns:xlink="http://www.w3.org/1999/xlink">LIB_DEPENDS</varname></entry>
	      </row>
	    </tbody>
	  </tgroup>
	</table>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">组件的默认依赖关系类型如下：</para>

	<table xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="lua-def-dep-types" frame="none">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">默认的 <application xmlns:xlink="http://www.w3.org/1999/xlink">Lua</application> 依赖关系类型</title>

	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	    <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">组件</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">依赖关系类型</entry>
	      </row>
	    </thead>

	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">lua</literal></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">对于 <literal xmlns:xlink="http://www.w3.org/1999/xlink">4.0-5.0</literal> 是 <literal xmlns:xlink="http://www.w3.org/1999/xlink">lib</literal>
		  (动态连接) 而对于 <literal xmlns:xlink="http://www.w3.org/1999/xlink">5.1</literal> 则是
		  <literal xmlns:xlink="http://www.w3.org/1999/xlink">build</literal> (静态连接)</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">tolua</literal></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">build</literal> (静态连接)</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">ruby</literal></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">lib</literal> (动态连接)</entry>
	      </row>
	    </tbody>
	  </tgroup>
	</table>

	<example xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="lua-components-example">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">选择 <application xmlns:xlink="http://www.w3.org/1999/xlink">Lua</application> 组件</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">下面是一个使用了
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">Lua</application> 版本 <literal xmlns:xlink="http://www.w3.org/1999/xlink">4.0</literal>
	    及其 <application xmlns:xlink="http://www.w3.org/1999/xlink">Ruby</application> 绑定的 port 片段。</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">USE_LUA=      4.0
LUA_COMPS=    lua ruby</programlisting>
	</example>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="lua-version-detection">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">检测系统中已安装的版本</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">要检测系统中已安装的版本， 您必须定义
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">WANT_LUA</varname>。 如果没有将其设定为具体的版本，
	  则组件会包含版本后缀。 在检测之后，
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">HAVE_LUA</varname> 变量将设为检测到的版本。</para>

	<example xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="lua-ver-det-example">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">检测已安装的 <application xmlns:xlink="http://www.w3.org/1999/xlink">Lua</application> 版本和组件</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">下面是一个如果系统中有安装
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">Lua</application> 或选择了选项时使用它的 port 片段。</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">WANT_LUA=       yes

.include &lt;bsd.port.pre.mk&gt;

.if defined(WITH_LUA5) || ${HAVE_LUA:Mlua-5.[01]} != ""
USE_LUA=        5.0-5.1
CONFIGURE_ARGS+=--enable-lua5
.endif</programlisting>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">下面的这段 port 在系统中已经有安装， 或用户选择了
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">tolua</application> 和
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">Lua</application> 支持时加以安装， 版本均选择
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">4.0</literal>。</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">USE_LUA=        4.0
LUA_COMPS=      lua
WANT_LUA=       4.0

.include &lt;bsd.port.pre.mk&gt;

.if defined(WITH_TOLUA) || ${HAVE_LUA:Mtolua} != ""
LUA_COMPS+=     tolua
CONFIGURE_ARGS+=--enable-tolua
.endif</programlisting>
	</example>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="lua-defined-variables">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">定义的变量</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">在 port 中可以使用下列变量 (在定义了
	  <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="lua-ver-sel-table"/> 中至少一个变量之后)。</para>

	<table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">为用到
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">Lua</application> 的 port 定义的变量</title>

	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	    <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">变量名</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">说明</entry>
	      </row>
	    </thead>

	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">LUA_VER</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">将要使用的 <application xmlns:xlink="http://www.w3.org/1999/xlink">Lua</application> 版本。
		  (例如， <literal xmlns:xlink="http://www.w3.org/1999/xlink">5.1</literal>)</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">LUA_VER_SH</varname></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Lua</application> 动态连接库的主版本
		  (例如， <literal xmlns:xlink="http://www.w3.org/1999/xlink">1</literal>)</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">LUA_VER_STR</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">不带点的 <application xmlns:xlink="http://www.w3.org/1999/xlink">Lua</application> 版本
		  (例如， <literal xmlns:xlink="http://www.w3.org/1999/xlink">51</literal>)</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">LUA_PREFIX</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">安装 <application xmlns:xlink="http://www.w3.org/1999/xlink">Lua</application> (及其组件) 使用的后缀</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">LUA_SUBDIR</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">在 <filename xmlns:xlink="http://www.w3.org/1999/xlink">${PREFIX}/bin</filename>、
		  <filename xmlns:xlink="http://www.w3.org/1999/xlink">${PREFIX}/share</filename> 和
		  <filename xmlns:xlink="http://www.w3.org/1999/xlink">${PREFIX}/lib</filename> 中用于安装
		  <application xmlns:xlink="http://www.w3.org/1999/xlink">Lua</application> 的子目录</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">LUA_INCDIR</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">用以安装 <application xmlns:xlink="http://www.w3.org/1999/xlink">Lua</application> 和
		  <application xmlns:xlink="http://www.w3.org/1999/xlink">tolua</application> 头文件的目录</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">LUA_LIBDIR</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">用以安装 <application xmlns:xlink="http://www.w3.org/1999/xlink">Lua</application> 和
		  <application xmlns:xlink="http://www.w3.org/1999/xlink">tolua</application> 库文件的目录</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">LUA_MODLIBDIR</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">用以安装 <application xmlns:xlink="http://www.w3.org/1999/xlink">Lua</application>
		  模块动态连接库 (<filename xmlns:xlink="http://www.w3.org/1999/xlink">.so</filename>) 的目录</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">LUA_MODSHAREDIR</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">用以安装 <application xmlns:xlink="http://www.w3.org/1999/xlink">Lua</application>
		  模块 (<filename xmlns:xlink="http://www.w3.org/1999/xlink">.lua</filename>) 的目录</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">LUA_PKGNAMEPREFIX</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Lua</application> 模块包的后缀名</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">LUA_CMD</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">到 <application xmlns:xlink="http://www.w3.org/1999/xlink">Lua</application>
		  解释器的路径</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">LUAC_CMD</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">到 <application xmlns:xlink="http://www.w3.org/1999/xlink">Lua</application>
		  编译器的路径</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">TOLUA_CMD</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">到 <application xmlns:xlink="http://www.w3.org/1999/xlink">tolua</application>
		  程序的路径</entry>
	      </row>
	    </tbody>
	  </tgroup>
	</table>

	<example xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="lua-variables-example">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">告诉 port 到什么地方去找
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">Lua</application></title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">下面的 port 片段展示了如何告诉使用的
	    configure 脚本去什么地方查找 <application xmlns:xlink="http://www.w3.org/1999/xlink">Lua</application>
	    的头文件和库文件。</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">
USE_LUA=        4.0
GNU_CONFIGURE=  yes
CONFIGURE_ENV=  CPPFLAGS="-I${LUA_INCDIR}" LDFLAGS="-L${LUA_LIBDIR}"</programlisting>
	</example>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="lua-premk">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">在 <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.pre.mk</filename> 时进行处理</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">如果您需要在使用引用 <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.pre.mk</filename> 之后就得到变量，
	  以便将其用于执行一些命令， 需要定义 <varname xmlns:xlink="http://www.w3.org/1999/xlink">LUA_PREMK</varname>。</para>

	<important xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">如果您定义了 <varname xmlns:xlink="http://www.w3.org/1999/xlink">LUA_PREMK</varname>， 则在您引用
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.pre.mk</filename> <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">之后</emphasis>，
	    即使修改了 <application xmlns:xlink="http://www.w3.org/1999/xlink">Lua</application> port 变量，
	    版本和依赖关系也都不会随之发生变化了。</para>
	</important>

	<example xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="lua-premk-example">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">在命令中使用 <application xmlns:xlink="http://www.w3.org/1999/xlink">Lua</application> 变量</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">下面的片段展示了如何利用
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">LUA_PREMK</varname>， 并运行
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">Lua</application> 解释器得到完整的版本串，
	    将其赋值给一个变量， 并传递给程序。</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">USE_LUA=        5.0
LUA_PREMK=      yes

.include &lt;bsd.port.pre.mk&gt;

.if exists(${LUA_CMD})
VER_STR!=       ${LUA_CMD} -v

CFLAGS+=        -DLUA_VERSION_STRING="${VER_STR}"
.endif</programlisting>
	</example>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">在 target 中的 <application xmlns:xlink="http://www.w3.org/1999/xlink">Lua</application> 变量可以在命令中安全的使用，
	    而无需使用
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">LUA_PREMK</varname>。</para>
	</note>
      </sect2>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="using-xfce">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">使用 Xfce</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_XFCE</varname> 变量可以用来自动配置使用基于 Xfce 库或应用程序， 如
	<package xmlns:xlink="http://www.w3.org/1999/xlink">x11-toolkits/libxfce4gui</package> 和
	<package xmlns:xlink="http://www.w3.org/1999/xlink">x11-wm/xfce4-panel</package> 的 port 的依赖关系。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">目前， 系统能够识别下列 Xfce 库和应用程序：</para>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">libexo：<package xmlns:xlink="http://www.w3.org/1999/xlink">x11/libexo</package></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">libgui：<package xmlns:xlink="http://www.w3.org/1999/xlink">x11-toolkits/libxfce4gui</package></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">libutil：<package xmlns:xlink="http://www.w3.org/1999/xlink">x11/libxfce4util</package></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">libmcs：<package xmlns:xlink="http://www.w3.org/1999/xlink">x11/libxfce4mcs</package></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">mcsmanager：<package xmlns:xlink="http://www.w3.org/1999/xlink">sysutils/xfce4-mcs-manager</package></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">panel：<package xmlns:xlink="http://www.w3.org/1999/xlink">x11-wm/xfce4-panel</package></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">thunar：<package xmlns:xlink="http://www.w3.org/1999/xlink">x11-fm/thunar</package></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">wm：<package xmlns:xlink="http://www.w3.org/1999/xlink">x11-wm/xfce4-wm</package></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">xfdev：<package xmlns:xlink="http://www.w3.org/1999/xlink">dev/xfce4-dev-tools</package></para>
	</listitem>

      </itemizedlist>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">除此之外， 还能够使用下列参数：</para>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">configenv： 如果您的 port 需要使用特殊的
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">CONFIGURE_ENV</varname> 来查找所需的库。
	    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">-I${LOCALBASE}/include -L${LOCALBASE}/lib</programlisting>
	    会加到 <varname xmlns:xlink="http://www.w3.org/1999/xlink">CONFIGURE_ENV</varname> 的 CPPFLAGS。</para>
	</listitem>

      </itemizedlist>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">因此， 如果 port 有到
	<package xmlns:xlink="http://www.w3.org/1999/xlink">sysutils/xfce4-mcs-manager</package> 的依赖关系，
	并需要在 configure 的环境中指定特殊的饿 CPPFLAGS， 则所用的语法为：</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">USE_XFCE=        mcsmanager configenv</programlisting>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="using-mozilla">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">使用 Mozilla</title>

	<table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">用到 Mozilla 的 port 使用的变量</title>

	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_GECKO</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">port 支持的 Gecko 后端。 可选值：
		  <literal xmlns:xlink="http://www.w3.org/1999/xlink">libxul</literal> (<filename xmlns:xlink="http://www.w3.org/1999/xlink">libxul.so</filename>)、
		  <literal xmlns:xlink="http://www.w3.org/1999/xlink">seamonkey</literal> (<filename xmlns:xlink="http://www.w3.org/1999/xlink">libgtkembedmoz.so</filename>，
		  过时， 新 port 应避免使用)。</entry>
	      </row>
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_FIREFOX</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">port 需要使用 Firefox 作为运行环境依赖。
		  可选值：
		  <literal xmlns:xlink="http://www.w3.org/1999/xlink">yes</literal> (使用默认版本)、
		  <literal xmlns:xlink="http://www.w3.org/1999/xlink">40</literal>、 <literal xmlns:xlink="http://www.w3.org/1999/xlink">36</literal>、
		  <literal xmlns:xlink="http://www.w3.org/1999/xlink">35</literal>。
		  默认的依赖采用的是版本
		  <literal xmlns:xlink="http://www.w3.org/1999/xlink">40</literal>。</entry>
	      </row>
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_FIREFOX_BUILD</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">port 需要使用 Firefox 作为联编环境依赖。
		  可选值： 参见 USE_FIREFOX。
		  这个变量会自动设置 USE_FIREFOX 使用相同的值。</entry>
	      </row>
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_SEAMONKEY</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">port 需要使用 SeaMonkey 作为运行环境依赖。
		  可选值：
		  <literal xmlns:xlink="http://www.w3.org/1999/xlink">yes</literal> (使用默认版本)、
		  <literal xmlns:xlink="http://www.w3.org/1999/xlink">20</literal>、 <literal xmlns:xlink="http://www.w3.org/1999/xlink">11</literal>
		  (过时， 新 port 应避免使用)。
		  默认的依赖采用的是版本
		  <literal xmlns:xlink="http://www.w3.org/1999/xlink">20</literal>。</entry>
	      </row>
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_SEAMONKEY_BUILD</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">port 需要使用 SeaMonkey 作为联编环境依赖。
		  可选值： 参见 USE_SEAMONKEY。
		  这个变量会自动设置 USE_SEAMONKEY 使用相同的值。</entry>
	      </row>
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_THUNDERBIRD</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">port 需要使用 Thunderbird 作为运行环境依赖。
		  可选值：
		  <literal xmlns:xlink="http://www.w3.org/1999/xlink">yes</literal> (使用默认版本)、
		  <literal xmlns:xlink="http://www.w3.org/1999/xlink">31</literal>、 <literal xmlns:xlink="http://www.w3.org/1999/xlink">30</literal>
		  (过时， 新 port 应避免使用)。
		  默认的依赖采用的是版本
		  <literal xmlns:xlink="http://www.w3.org/1999/xlink">31</literal>。</entry>
	      </row>
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_THUNDERBIRD_BUILD</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">port 需要使用 Thunderbird 作为联编环境依赖。
		  可选值： 参见 USE_THUNDERBIRD。
		  这个变量会自动设置 USE_THUNDERBIRD 使用相同的值。</entry>
	      </row>

	    </tbody>
	  </tgroup>
	</table>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">可用变量的完整列表， 请参阅
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/ports/Mk/bsd.gecko.mk</filename>。</para>
    </sect1>


    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="using-databases">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">使用数据库</title>

	<table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
          <title xmlns:xlink="http://www.w3.org/1999/xlink">ports 中有关数据库的变量</title>

	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	    <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Variable</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Means</entry>
	      </row>
	    </thead>

	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_BDB</varname></entry>

                <entry xmlns:xlink="http://www.w3.org/1999/xlink">如果这个变量为 <literal xmlns:xlink="http://www.w3.org/1999/xlink">yes</literal>，
                  则把 <package xmlns:xlink="http://www.w3.org/1999/xlink">databases/db41</package>
                  列为依赖关系。 这个变量还可以被设置成的值有： 40，41，
		  42、 43、 44、 46、 47、 48 或 51。 您可以声明可接受值的范围，
                  <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_BDB</varname>=42+ 将寻找已安装的最高版本，
                  如果没有找到则退回到 42。</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_MYSQL</varname></entry>

                <entry xmlns:xlink="http://www.w3.org/1999/xlink">如果这个变量为 <literal xmlns:xlink="http://www.w3.org/1999/xlink">yes</literal>，
                  则把 <package xmlns:xlink="http://www.w3.org/1999/xlink">databases/mysql55-server</package>
                  列为依赖关系。还有一个相关的变量，<varname xmlns:xlink="http://www.w3.org/1999/xlink">WANT_MYSQL_VER</varname>,
                  可以设置的值有 323，40，41，50，51， 52， 55 或者 60。</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_PGSQL</varname></entry>

                <entry xmlns:xlink="http://www.w3.org/1999/xlink">如果设置成 <literal xmlns:xlink="http://www.w3.org/1999/xlink">yes</literal>，则把
                  <package xmlns:xlink="http://www.w3.org/1999/xlink">databases/postgresql82</package>
                  列为依赖关系。还有一个相关的变量，<varname xmlns:xlink="http://www.w3.org/1999/xlink">WANT_PGSQL_VER</varname>，
                  可以设置的值有 73，74，80，81，82， 83 或 90。</entry>
	      </row>

	    </tbody>
	  </tgroup>
	</table>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">更多详情请参阅
	<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.freebsd.org/cgi/cvsweb.cgi/ports/Mk/bsd.database.mk">
	bsd.database.mk</link>。</para>

    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="rc-scripts">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">启动和停止服务 (rc 脚本)</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">rc.d</filename> 脚本在系统启动时用于启动服务，
	并为管理员提供停止、 启动和重新启动某个服务的标准方法。 Ports
	安装的脚本会集成到系统的 <filename xmlns:xlink="http://www.w3.org/1999/xlink">rc.d</filename> 框架中。
	关于如何使用它的说明， 可以在
	<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="../../../../doc/en_US.ISO8859-1/books/handbook/configtuning-rcd.html">使用手册的 rc.d
	章节</link> 找到。 关于可用命令的详细解释， 则可以在
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">rc</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> 和 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">rc.subr</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> 找到。 最后， 您可以参阅
	<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="../../../../doc/en_US.ISO8859-1/articles/rc-scripting">这篇文章</link>
	了解撰写 <filename xmlns:xlink="http://www.w3.org/1999/xlink">rc.d</filename> 脚本的最佳实践。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">可以安装一或多个 <filename xmlns:xlink="http://www.w3.org/1999/xlink">rc.d</filename> 脚本：</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">USE_RC_SUBR=	doormand</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">这些脚本必须放到 <filename xmlns:xlink="http://www.w3.org/1999/xlink">files</filename>
	目录， 并附加 <literal xmlns:xlink="http://www.w3.org/1999/xlink">.in</literal>。
	这个文件中可以使用标准的
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">SUB_LIST</varname> 替换展开。 除此之外，
	我们还强烈推荐使用 <literal xmlns:xlink="http://www.w3.org/1999/xlink">%%PREFIX%%</literal> 和
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">%%LOCALBASE%%</literal> 替换展开。 关于
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">SUB_LIST</varname> 的介绍可以在 <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="using-sub-files">本书的相关章节</link> 找到。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">在 FreeBSD 6.1-RELEASE 之前， 与 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">rcorder</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> 的集成是通过
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_RCORDER</varname> 而不是
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_RC_SUBR</varname> 来完成的。 不过，
	除非 port 需要提供安装进基本系统这样的选项，
	或者服务需要在 <filename xmlns:xlink="http://www.w3.org/1999/xlink">rc.d</filename> 脚本
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">FILESYSTEMS</filename> 之前运行这类特殊情况，
	一般来说是不需要使用这个功能的。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">从 FreeBSD 6.1-RELEASE 开始， 本地安装的 <filename xmlns:xlink="http://www.w3.org/1999/xlink">rc.d</filename>
	脚本 (包括由 port 安装的脚本) 会纳入基本系统的 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">rcorder</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">以下是一个简单的 <filename xmlns:xlink="http://www.w3.org/1999/xlink">rc.d</filename> 脚本：</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">#!/bin/sh

# $FreeBSD$
#
# PROVIDE: doormand
# REQUIRE: LOGIN
# KEYWORD: shutdown
#
# 在 /etc/rc.conf.local 或 /etc/rc.conf 中增加下述设置可以启用这一服务：
#
# doormand_enable (bool):	默认设为 NO。
#				设为 YES 可以启用 doormand。
# doormand_config (path):	默认设为 %%PREFIX%%/etc/doormand/doormand.cf。
#

. /etc/rc.subr

name="doormand"
rcvar=${name}_enable

command=%%PREFIX%%/sbin/${name}
pidfile=/var/run/${name}.pid

load_rc_config $name

: ${doormand_enable="NO"}
: ${doormand_config="%%PREFIX%%/etc/doormand/doormand.cf"}

command_args="-p $pidfile -f $doormand_config"

run_rc_command "$1"</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">除非有很站得住脚的理由提前启动服务，所有的 ports 脚本应使用
	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">REQUIRE: LOGIN</programlisting>。
	如果服务需要以特定用户 (除 root 之外) 身份启动， 则必须这样做。
	在前面的例子中， 我们还使用了
	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">KEYWORD: shutdown</programlisting>
	以便让 mythical port 在系统停机的过程中以正常的方式终止，
	因为它需要在系统引导过程中启动服务。 如果脚本没有启动任何服务，
	则并不需要这样做。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">这里， 对变量的默认赋值方法应采用 "="，
	而非 ":=" 这样的形式。 这是因为，
	前一种赋值方法只有在变量未被设置时才设置默认值，
	而后一种方法则会在变量没有设置，
	<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">或者</emphasis> 其值为空时都设置默认值。
	用户非常可能在其
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">rc.conf.local</filename> 中使用类似
	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">doormand_flags=""</programlisting> 这样的设置，
	而采用 ":=" 来进行赋值，
	则会在不经意间覆盖用户所希望的设置。</para>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">新增的脚本均不应使用 <filename xmlns:xlink="http://www.w3.org/1999/xlink">.sh</filename>
	  后缀。 未来， 仍然包含这一后缀的脚本将被批量改名。</para>
      </note>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">卸载时停止服务</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">可以在卸载的过程中自动地停止服务。 我们建议只有在绝对必要，
	  例如必须在删除文件之前停止服务这类的情况下才使用这一功能。
	  通常来说， 决定是否在卸载时停止服务是系统管理员需要考虑的事情。
	  另外要注意， 这个功能也会影响升级过程。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">需要时可以在 <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename> 中加入：</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">@stopdaemon doormand</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">这里的参数必须与
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_RC_SUBR</varname> 变量的内容匹配。</para>
      </sect2>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="users-and-groups">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">添加用户和用户组</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">一些 port 需要在安装的系统中创建特定的用户或用户组。
	如果有这种情况， 请从 50 到 999 之间选择一个尚未使用的 UID， 并在
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">ports/UIDs</filename> (针对用户) 或
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">ports/GIDs</filename> (针对组) 中予以记录。
	请务必确保您没有使用系统中已经在其他 ports 中使用的 UID。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">如果您的 port 需要创建新用户或用户组，
	请在提交补丁的时候一并提交这两个文件的补丁。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">接下来， 可以在您的 <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> 中使用
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">USERS</varname> 和 <varname xmlns:xlink="http://www.w3.org/1999/xlink">GROUPS</varname>
	这两个变量， 系统会在安装时自动创建用户或组。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">USERS=	pulse
GROUPS=	pulse pulse-access pulse-rt</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">现有的保留 UID 和 GID 列表，
	可以在 <filename xmlns:xlink="http://www.w3.org/1999/xlink">ports/UIDs</filename> 和
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">ports/GIDs</filename> 找到。</para>

    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">依赖内核源代码的 Ports</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">某些 ports (例如可加载式内核模块) 需要内核的源文件才能编译。
	下面是检测用户是否安装了源代码的例子：</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">.if !exists(${SRC_BASE}/sys/Makefile)
IGNORE=         requires kernel sources to be installed
.endif</programlisting>
    </sect1>

  </chapter>

    <chapter xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="plist">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">高级 <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename> 用法</title>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="plist-sub">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">根据 make 变量对 <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename> 进行修改</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">某些 port， 特别是 <literal xmlns:xlink="http://www.w3.org/1999/xlink">p5-</literal> port，
	  会需要根据配置选项 (或对于 <literal xmlns:xlink="http://www.w3.org/1999/xlink">p5-</literal> port 而言，
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">perl</literal> 的版本) 来修改它们的 <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename>。
	  为简化这一工作， 在
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename> 中的 <literal xmlns:xlink="http://www.w3.org/1999/xlink">%%OSREL%%</literal>、
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">%%PERL_VER%%</literal>， 以及
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">%%PERL_VERSION%%</literal> 将自动进行相应的替换。
	  其中， <literal xmlns:xlink="http://www.w3.org/1999/xlink">%%OSREL%%</literal> 的值是操作系统以数值表示的版本 (例如
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">4.9</literal>)。 <literal xmlns:xlink="http://www.w3.org/1999/xlink">%%PERL_VERSION%%</literal> 和
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">%%PERL_VER%%</literal> 是 <command xmlns:xlink="http://www.w3.org/1999/xlink">perl</command> 的完整版本号 (例如
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">5.8.9</literal>)。许多其它与 port 文档文件有关的
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">%%变量%%</literal> 在 <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="install-documentation">相应章节</link> 中进行了介绍。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">如果您还需要进行其它的替换， 可以通过将
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PLIST_SUB</varname> 变量设置为一组
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">变量=值</literal>
	  对来实现。 其中， <literal xmlns:xlink="http://www.w3.org/1999/xlink">%%VAR%%</literal>
	  表示在 <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename> 中将被
	  <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">值</replaceable> 替换的那些文字。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">举例来说， 如果 port 需要把很多文件放到和版本有关的目录中，
	  可以在 <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> 中按照类似下面的例子：</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">OCTAVE_VERSION= 2.0.13
PLIST_SUB=      OCTAVE_VERSION=${OCTAVE_VERSION}</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">并在 <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename> 中将具体的版本替换为
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">%%OCTAVE_VERSION%%</literal>。 这样， 在升级 port 时，
	  就不需要再到 <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename> 中修改那几十 (或者，
	  有时甚至是上百) 行的内容了。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">如果您的 port 需要根据一定的配置来有条件地安装一些文件，
	  通常的做法是在 <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename> 中列出这些文件时，
	  在对应行的开头加上 <literal xmlns:xlink="http://www.w3.org/1999/xlink">%%TAG%%</literal>，
	  并将 <literal xmlns:xlink="http://www.w3.org/1999/xlink">TAG</literal> 写到 <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>
	  中的 <varname xmlns:xlink="http://www.w3.org/1999/xlink">PLIST_SUB</varname> 变量中， 根据需要替换掉， 或替换为
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">@comment</literal>， 后者表示让打包工具忽略这行：</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">.if defined(WITH_X11)
PLIST_SUB+=	X11=""
.else
PLIST_SUB+=	X11="@comment "
.endif</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">与之对应， 在 <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename> 中：</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">%%X11%%bin/foo-gui</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">这一替换过程 (以及加入 <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="makefile-manpages">联机手册</link> 的过程)，
	  会在 <buildtarget>pre-install</buildtarget> 和
	  <buildtarget>do-install</buildtarget> 两个 target 之间， 通过读取
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">PLIST</filename> 并写入
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">TMPPLIST</filename>
	  (默认情况下， 是：
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">WRKDIR/.PLIST.mktmp</filename>) 来完成。
	  因此， 如果您的 port 动态生成 <filename xmlns:xlink="http://www.w3.org/1999/xlink">PLIST</filename>，
	  就需要在 <buildtarget>pre-install</buildtarget> 之前完成。
	  另外， 如果您的 port 需要编辑所生成的文件， 则需要在
	  <buildtarget>post-install</buildtarget> 中操作名为
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">TMPPLIST</filename> 的那个文件。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">另一种可行的修改装箱单的方法，
	  则是根据 <varname xmlns:xlink="http://www.w3.org/1999/xlink">PLIST_FILES</varname> 和
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PLIST_DIRS</varname> 这两个变量的设置来进行。
	  它们的值会作为目录名连同 <filename xmlns:xlink="http://www.w3.org/1999/xlink">PLIST</filename>
	  的内容一起写入 <filename xmlns:xlink="http://www.w3.org/1999/xlink">TMPPLIST</filename>。
	  在 <varname xmlns:xlink="http://www.w3.org/1999/xlink">PLIST_FILES</varname>
	  和 <varname xmlns:xlink="http://www.w3.org/1999/xlink">PLIST_DIRS</varname> 中列出的名字， 会经历前面所介绍的
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">%%变量%%</literal>
	  替换过程。 除此之外， 在 <varname xmlns:xlink="http://www.w3.org/1999/xlink">PLIST_FILES</varname>
	  中列出的文件， 会不加任何修改第出现在最终的装箱单中，
	  而 <literal xmlns:xlink="http://www.w3.org/1999/xlink">@dirrm</literal> 将作为前缀加到 <varname xmlns:xlink="http://www.w3.org/1999/xlink">PLIST_DIRS</varname>
	  所列的名字之前。 为了达到目的， <varname xmlns:xlink="http://www.w3.org/1999/xlink">PLIST_FILES</varname> 和
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PLIST_DIRS</varname> 必须在写
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">TMPPLIST</filename> 之前，
	  也就是在 <buildtarget>pre-install</buildtarget> 或更早的阶段进行设置。</para>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="plist-cleaning">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">空目录</title>

	<sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="plist-dir-cleaning">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">清理空目录</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">一定要让 port 在卸载时进行清理空目录。
	  通常， 可以通过为所有由 port 创建的目录增加对应的
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">@dirrm</literal> 行来实现。 在删除父目录之前，
	  需要首先删除它的子目录。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink"> :
lib/X11/oneko/pixmaps/cat.xpm
lib/X11/oneko/sounds/cat.au
 :
@dirrm lib/X11/oneko/pixmaps
@dirrm lib/X11/oneko/sounds
@dirrm lib/X11/oneko</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">然而， 有时 <literal xmlns:xlink="http://www.w3.org/1999/xlink">@dirrm</literal> 会由于其它 port
	  使用了同一个目录而发生错误。
	  利用 <literal xmlns:xlink="http://www.w3.org/1999/xlink">@dirrmtry</literal> 可以只删除那些空目录，
	  而避免给出警告。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">@dirrmtry share/doc/gimp</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">按照上面的写法， 将不会显示任何错误信息， 而且，即使在
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">${PREFIX}/share/doc/gimp</filename>
	  由于其它 port 在其中安装了一些别的文件的时候， 也不会导致
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pkg_delete</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> 异常退出。</para>
	</sect2>

	<sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="plist-dir-empty">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">如何建立空目录</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">在 port 安装过程中创建的空目录需要特别留意。 安装 package
	    时并不会自动创建这些目录， 这是因为 package 只保存文件。
	    要确保安装 package 时会自动创建这些空目录， 需要在
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename> 中加入与
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">@dirrm</literal> 对应的行：</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">@exec mkdir -p %D/share/foo/templates</programlisting>
	</sect2>

      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="plist-config">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">配置文件</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">如果 port 需要把一些文件放到
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX/etc</filename>，
	  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">不要</emphasis> 简单地安装它们， 并将其列入
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename>， 因为这样会导致
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pkg_delete</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> 删除用户精心编辑的文件，
	  而新安装时则又会把这些文件覆盖。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">因此， 您应把配置文件的例子按其它的后缀来安装
	  (例如 <filename xmlns:xlink="http://www.w3.org/1999/xlink">filename.sample</filename>
	  就是一个不错的选择) 并显示一条 <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="porting-message">消息</link>
	    告诉用户如何复制并编辑这个配置文件， 以便让软件能够正确工作。</para>
	<para xmlns:xlink="http://www.w3.org/1999/xlink">因此， 应按其它的后缀来安装配置文件的例子
	  (<filename xmlns:xlink="http://www.w3.org/1999/xlink">filename.sample</filename>
	  就是一个不错的选择)。 如果实际的配置文件不存在，
	  则将其复制为实际文件的名字。 卸载时， 如果发现用户没有修改配置文件，
	  则将其删除。 您需要在 port 的 <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>，
	  以及 <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename> (对于从 package
	  安装的情形) 进行处理。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">示例的 <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> 部分：</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">post-install:
	@if [ ! -f ${PREFIX}/etc/orbit.conf ]; then \
		${CP} -p ${PREFIX}/etc/orbit.conf.sample ${PREFIX}/etc/orbit.conf ; \
	fi</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">示例的 <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename> 部分：</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">@unexec if cmp -s %D/etc/orbit.conf.sample %D/etc/orbit.conf; then rm -f %D/etc/orbit.conf; fi
etc/orbit.conf.sample
@exec if [ ! -f %D/etc/orbit.conf ] ; then cp -p %D/%F %B/orbit.conf; fi</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">另外， 还应显示一条 <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="porting-message">消息</link> 指出用户应在何处复制并编辑这个文件，
	  以便让软件能开始正常工作。</para>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="plist-dynamic">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">动态装箱单与静态装箱单的对比</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">静态装箱单</emphasis> 是指在 Ports Collection 中以
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename> 文件 (可能包含变量替换)，
	  或以 <varname xmlns:xlink="http://www.w3.org/1999/xlink">PLIST_FILES</varname> 和 <varname xmlns:xlink="http://www.w3.org/1999/xlink">PLIST_DIRS</varname>
	  的形式嵌入到 <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> 出现的装箱单。
	  即使它是由工具或 Makefile 中的某个 target 在经由 committer 加入到
	  Ports Collection <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">之前</emphasis> 自动生成的也是如此，
	  因为可以在不下载或编译源代码包的前提下对其进行检视。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">动态装箱单</emphasis> 是指在 port
	  编译并安装时生成的装箱单。 在下载并编译您所移植的应用程序的源代码之前，
	  或在执行了 <literal xmlns:xlink="http://www.w3.org/1999/xlink">make
	  clean</literal> 之后， 就无法查看其内容了。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">尽管使用动态装箱单并不被禁止， 但监护人应尽可能使用静态装箱单，
	  因为它能够让用户使用 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">grep</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>来发现所需的 ports，
	  例如， 它是否会安装某个特定文件。 动态列表主要应用于复杂的，
	  其装箱单随所选功能会发生巨变 (因而使得维护静态装箱单不再可行)，
	  或那些随版本而改变装箱单内容的 port (例如， 使用
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">Javadoc</application> 来生成文档的那些 ports)。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">我们鼓励那些选择使用动态装箱单的监护人提供一个能够生成
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename> 的 target， 以便于用户检视其内容。</para>

      </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="plist-autoplist">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">装箱单 (package list) 的自动化制作</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">首先， 请确认已经基本上完成了 port 的工作， 仅缺
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename>。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">接下来， 建立一个用于安装您的 port 的临时目录，
	并在其中安装它所依赖的所有其他软件包：</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mkdir /var/tmp/`make -V PORTNAME`</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mtree -U -f `make -V MTREE_FILE` -d -e -p /var/tmp/`make -V PORTNAME`</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make depends PREFIX=/var/tmp/`make -V PORTNAME`</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">将目录结构保存到一新文件中。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">(cd /var/tmp/`make -V PORTNAME` &amp;&amp; find -d * -type d) | sort &gt; OLD-DIRS</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">建立一空白 <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename> 文件：</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">:&gt;pkg-plist</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">如果您的 port 遵循 <varname xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX</varname> (应该如此)
	则接下来应安装该 port 并创建装箱单。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make install PREFIX=/var/tmp/`make -V PORTNAME`</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">(cd /var/tmp/`make -V PORTNAME` &amp;&amp; find -d * \! -type d) | sort &gt; pkg-plist</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">此外还应把新建立的目录加入装箱单。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">(cd /var/tmp/`make -V PORTNAME` &amp;&amp; find -d * -type d) | sort | comm -13 OLD-DIRS - | sort -r | sed -e 's#^#@dirrm #' &gt;&gt; pkg-plist</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">最后需要手工整理 packing list； 这一过程不是
	<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">完全</emphasis> 自动的。 联机手册应列入 port
	的 <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> 中的
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">MAN<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">n</replaceable></varname>， 而不是装箱单。
	用户配置文件应被删除， 或以
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">filename.sample</filename>
	这样的名字来安装。 <filename xmlns:xlink="http://www.w3.org/1999/xlink">info/dir</filename> 文件，
	也不应列入， 同时应按照 <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="makefile-info">info
	文件</link> 的说明来增加一些 <filename xmlns:xlink="http://www.w3.org/1999/xlink">install-info</filename> 行。
	所有由 port 安装的库， 应按照
	<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="porting-shlibs">动态连接库</link>
	小节中介绍的方法处理。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">另外， 也可以使用
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/ports/Tools/scripts/</filename> 中的
	<command xmlns:xlink="http://www.w3.org/1999/xlink">plist</command> 脚本来自动创建
	package list。 <filename xmlns:xlink="http://www.w3.org/1999/xlink">plist</filename>
	脚本是一个 <application xmlns:xlink="http://www.w3.org/1999/xlink">Ruby</application> 脚本，
	它能够将前面介绍的手工操作自动化。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">开始的步骤和上面的前三行一样， 也就是
	<command xmlns:xlink="http://www.w3.org/1999/xlink">mkdir</command>， <command xmlns:xlink="http://www.w3.org/1999/xlink">mtree</command> 并
	<command xmlns:xlink="http://www.w3.org/1999/xlink">make depends</command>。 然后联编和安装
	port：</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make install PREFIX=/var/tmp/`make -V PORTNAME`</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">然后让 <command xmlns:xlink="http://www.w3.org/1999/xlink">plist</command> 生成
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename> 文件：</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">/usr/ports/Tools/scripts/plist -Md -m `make -V MTREE_FILE` /var/tmp/`make -V PORTNAME` &gt; pkg-plist</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">与前面类似， 如此生成的装箱单也需要手工进行一些清理工作。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">另一个可以用来创建最初的
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename> 的工具是 <package xmlns:xlink="http://www.w3.org/1999/xlink">ports-mgmt/genplist</package>。
	和其他自动化工具类似， 您应对它生成的 <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename>
	应手工检查并根据需要进行修改。</para>
    </sect1>

    </chapter>

    <chapter xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="pkg-files">
      <title xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-*</filename> 文件</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">前面有一些没有提及的关于
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-*</filename> 文件的技巧，
	它们可以方便地完成许多任务。</para>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-message">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-message</filename> (安装预编译包时显示的消息文件)</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">如果您需要在安装时显示一条消息给用户，
	  可以把这消息放在 <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-message</filename> 中。
	  这一特性通常可以用于在 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pkg_add</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> 之后显示一些附加的安装步骤，
	  或显示关于授权的信息。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">当需要显示一些编译开关或警告时，
	  请使用 <varname xmlns:xlink="http://www.w3.org/1999/xlink">ECHO_MSG</varname>。
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-message</filename> 文件只是为显示安装后的执行操作指导使用的。
	  类似地， 还需要留意
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">ECHO_MSG</varname> 和 <varname xmlns:xlink="http://www.w3.org/1999/xlink">ECHO_CMD</varname>
	  之间的区别。 前一个是在屏幕上显示消息性的文字， 而后一个则用于在执行命令时使用管道。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">下面是用到了这两个宏的例子
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">shells/bash2/Makefile</filename>：</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">update-etc-shells:
	@${ECHO_MSG} "updating /etc/shells"
	@${CP} /etc/shells /etc/shells.bak
	@( ${GREP} -v ${PREFIX}/bin/bash /etc/shells.bak; \
		${ECHO_CMD} ${PREFIX}/bin/bash) &gt;/etc/shells
	@${RM} /etc/shells.bak</programlisting>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-message</filename> 文件，
	    并不需要明确地加到 <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename> 中。
	    此外， 在用户使用 port 而不是 package 来安装软件时，
	    它并不会被显示出来。 因此如果需要的话， 您应该在
	    <buildtarget>post-install</buildtarget> target 中指定显示它。</para>
	</note>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="pkg-install">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-install</filename> (安装预编译包时执行的脚本文件)</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">如果您的 port 需要在预编译的安装包通过 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pkg_add</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>
	  安装时执行一些命令， 则应通过
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-install</filename> 脚本来完成。
	  这个脚本会自动地加入 package， 并被
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pkg_add</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> 执行两次： 第一次是
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">${SH} pkg-install ${PKGNAME}
	  PRE-INSTALL</literal> 而第二次是
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">${SH} pkg-install ${PKGNAME} POST-INSTALL</literal>。
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">$2</literal> 可被用来检测脚本运行的模式。
	  环境变量 <envar xmlns:xlink="http://www.w3.org/1999/xlink">PKG_PREFIX</envar> 将设置为 package 的安装目录。
	  请参见 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pkg_add</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> 以了解更进一步的细节。</para>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">在使用 <command xmlns:xlink="http://www.w3.org/1999/xlink">make install</command> 时这个脚本不会被自动运行。
	    如果需要运行它， 则必须在您的 port 中的
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> 里明确地予以调用， 其方法是加入类似
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">PKG_PREFIX=${PREFIX} ${SH} ${PKGINSTALL}
	    ${PKGNAME} PRE-INSTALL</literal> 这样的命令。</para>
	</note>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="pkg-deinstall">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-deinstall</filename> (卸载时执行的脚本文件)</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">这一脚本将在 package 被卸载时执行。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">此脚本会被 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pkg_delete</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> 执行两次。
	  第一次是 <literal xmlns:xlink="http://www.w3.org/1999/xlink">${SH} pkg-deinstall ${PKGNAME}
	  DEINSTALL</literal> 而第二次则是
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">${SH} pkg-deinstall ${PKGNAME} POST-DEINSTALL</literal>。
	</para>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="pkg-req">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-req</filename> (安装预编译包时检测是否应执行操作的脚本文件)</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">如果您的 port 需要确定它是否应被安装，
	  可以创建 <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-req</filename> <quote xmlns:xlink="http://www.w3.org/1999/xlink">requirements</quote>
	  脚本。 它会在安装/卸载时自动运行， 以决定操作是否应被实施。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">这个脚本会在使用 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pkg_add</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> 安装时以
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">pkg-req ${PKGNAME} INSTALL</literal> 的命令行执行。
	  卸载时， 它将由 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pkg_delete</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> 以
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">pkg-req ${PKGNAME} DEINSTALL</literal> 的命令行执行。</para>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="pkg-names">
	<title xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-pkgfiles">改变
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-*</filename> 文件的名字</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">所有 <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-*</filename> 文件的名字，
	  皆系采用变量予以定义， 因此在需要时可以在您的
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> 中加以改变。 当您需要在多个 port
	  之间共享某些 <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-*</filename> 文件，
	  或需要写入某些文件时就非常有用了。 (参见 在
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="porting-wrkdir">
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">WRKDIR</varname></link> 以外的地方写文件，
	  以了解为什么直接将变更写入 <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-*</filename>
	  子目录是个糟糕的主意)</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">下面是一组变量以及它们的默认值 (<varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGDIR</varname> 默认情况下是
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">${MASTERDIR}</varname>。)</para>

	<informaltable xmlns:xlink="http://www.w3.org/1999/xlink" frame="none" pgwide="1">
	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	    <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">变量</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">默认值</entry>
	      </row>
	    </thead>

	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">DESCR</varname></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">${PKGDIR}/pkg-descr</literal></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PLIST</varname></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">${PKGDIR}/pkg-plist</literal></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGINSTALL</varname></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">${PKGDIR}/pkg-install</literal></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGDEINSTALL</varname></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">${PKGDIR}/pkg-deinstall</literal></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGREQ</varname></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">${PKGDIR}/pkg-req</literal></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGMESSAGE</varname></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">${PKGDIR}/pkg-message</literal></entry>
	      </row>
	    </tbody>
	  </tgroup>
	</informaltable>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">请修改这些变量， 而不是直接覆盖
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PKG_ARGS</varname> 的值。 如果您改变了
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PKG_ARGS</varname>， 这些文件将无法在安装 port
	  时正确地复制到 <filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/db/pkg</filename> 目录。</para>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="using-sub-files">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">使用 <varname xmlns:xlink="http://www.w3.org/1999/xlink">SUB_FILES</varname> 和
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">SUB_LIST</varname></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">SUB_FILES</varname> 和 <varname xmlns:xlink="http://www.w3.org/1999/xlink">SUB_LIST</varname>
	  这两个变量可以用来在 port 文件中使用某些动态的值， 例如
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-message</filename> 中的
	  installation <varname xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX</varname>。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">用 <varname xmlns:xlink="http://www.w3.org/1999/xlink">SUB_FILES</varname> 变量，
	  可以指定需要自动进行修改的文件列表。 在
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">SUB_FILES</varname> 中的每一个
	  <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">文件</replaceable>，
	  在 <varname xmlns:xlink="http://www.w3.org/1999/xlink">FILESDIR</varname> 目录中都必须有一个对应的
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">文件.in</filename>。
	  修改后的版本将保存在 <varname xmlns:xlink="http://www.w3.org/1999/xlink">WRKDIR</varname>。
	  在 <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_RC_SUBR</varname> (或已经过时的
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_RCORDER</varname>) 中定义的文件会自动加入到
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">SUB_FILES</varname> 中。 对于
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-message</filename>、
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-install</filename>、 <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-deinstall</filename>
	  and <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-req</filename>， 对应的 Makefile 变量会被自动设置，
	  以指向处理过的版本。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">SUB_LIST</varname> 这个变量的内容是一系列
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">VAR=VALUE</literal> 对。 <varname xmlns:xlink="http://www.w3.org/1999/xlink">SUB_FILES</varname>
	  所列出的文件中所有的
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">%%VAR%%</literal> 都将被替换为
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">VALUE</literal>。 系统自动定义了一些常用的替换对，
	  包括： <varname xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX</varname>、
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">LOCALBASE</varname>、
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">DATADIR</varname>、 <varname xmlns:xlink="http://www.w3.org/1999/xlink">DOCSDIR</varname>， 以及
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">EXAMPLESDIR</varname>。 替换结果中所有以
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">@comment</literal> 开头的行，
	  都将在变量替换之后被删去。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">下面的例子中， 将把 <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-message</filename>
	  中的 <literal xmlns:xlink="http://www.w3.org/1999/xlink">%%ARCH%%</literal> 替换为系统所运行的架构名称：</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">SUB_FILES=     pkg-message
SUB_LIST=      ARCH=${ARCH}</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">注意， 在上述例子中， <varname xmlns:xlink="http://www.w3.org/1999/xlink">FILESDIR</varname>
	  里必须有 <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-message.in</filename> 这个文件。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">下面是一个正确的 <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-message.in</filename> 例子：</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">Now it is time to configure this package.
Copy %%PREFIX%%/share/examples/putsy/%%ARCH%%.conf into your home directory
as .putsy.conf and edit it.</programlisting>

      </sect1>
    </chapter>

  <chapter xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="testing">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">测试您的 port</title>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="make-describe">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">运行 <command xmlns:xlink="http://www.w3.org/1999/xlink">make describe</command></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">许多 FreeBSD port 维护工具， 例如
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" vendor="ports"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">portupgrade</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>， 会依赖于一个名为
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/ports/INDEX</filename> 的数据库的正确性，
	  它提供了关于 port 的相关信息， 例如依赖关系等等。
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">INDEX</filename> 是由顶级的
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">ports/Makefile</filename> 通过
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">make index</command> 来建立的， 这个命令会进入每一个 port
	  的子目录， 并在那里执行 <command xmlns:xlink="http://www.w3.org/1999/xlink">make describe</command>。
	  因此， 如果某个 port 的 <command xmlns:xlink="http://www.w3.org/1999/xlink">make describe</command> 失败，
	  就没有人能生成 <filename xmlns:xlink="http://www.w3.org/1999/xlink">INDEX</filename>，
	  人们很快会变得不高兴。</para>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">无论在 <filename xmlns:xlink="http://www.w3.org/1999/xlink">make.conf</filename> 中设置了什么选项，
	  这个文件都应能够正确地生成。 因此，
	  应避免在 (例如) 某个依赖关系无法满足时使用 <literal xmlns:xlink="http://www.w3.org/1999/xlink">.error</literal>。
	  (参见 <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="dads-dot-error"/>。)</para>
	</note>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">如果 <command xmlns:xlink="http://www.w3.org/1999/xlink">make describe</command> 只是产生一个字符串，
	  而不是错误信息， 可能就没什么问题。 请参见
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.mk</filename> 以了解所生成的串的意义。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">最后要说明的是， 新版本的
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">portlint</command> (在下一节中将进行介绍)
	  将会自动地运行 <command xmlns:xlink="http://www.w3.org/1999/xlink">make describe</command>。</para>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="testing-portlint">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Portlint</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">在提交或 commit 之前， 应使用 <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="porting-portlint"><command xmlns:xlink="http://www.w3.org/1999/xlink">portlint</command></link>
	  来进行检查。 <command xmlns:xlink="http://www.w3.org/1999/xlink">portlint</command> 会对常见的、
	  包括功能上的和格式上的错误给出警告。 对于新的 (或在 repocopy 代码库中复制的)
	  port， <command xmlns:xlink="http://www.w3.org/1999/xlink">portlint -A</command> 可以完成全面检查；
	  对于暨存的 port， <command xmlns:xlink="http://www.w3.org/1999/xlink">portlint -C</command> 一般就足够了。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">由于 <command xmlns:xlink="http://www.w3.org/1999/xlink">portlint</command> 采用启发式方法来检查错误，
	  有时它会产生误警。 另外， 有时由于 port
	  框架的限制可能没有办法修正它指出的问题。 如果您有疑虑，
	  请写信询问 <link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-ports">FreeBSD ports 邮件列表</link>。</para>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="testing-porttools">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">使用 Port Tools 来完成测试</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">在 Ports 套件中， 提供了一个 <package xmlns:xlink="http://www.w3.org/1999/xlink">ports-mgmt/porttools</package>
          程序。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">port</command> 是一个能够帮助您简化测试工具的前端脚本。
	  如果希望对新增的 port 或更新 port 时进行测试， 可以用
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">port test</command> 来完成这些测试工作， 这也包含了
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="testing-portlint"><command xmlns:xlink="http://www.w3.org/1999/xlink">portlint</command></link>
	  检查。 这个命令会检测并列出没有在 <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename> 中列出的文件。
	  具体用法请参见下面的例子：</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">port test /usr/ports/net/csup</userinput></screen>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-prefix">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX</varname> (安装时的顶级目录名) 和 <varname xmlns:xlink="http://www.w3.org/1999/xlink">DESTDIR</varname></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX</varname> 能够决定 port 安装时的目的位置。
	  一般情况下这个位置是 <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local</filename>
	  或 <filename xmlns:xlink="http://www.w3.org/1999/xlink">/opt</filename>， 但也可以设为其它的任意值。
	  您的 port 则必须遵循这个变量。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">除此之外， 如果用户配置了 <varname xmlns:xlink="http://www.w3.org/1999/xlink">DESTDIR</varname>，
	  则表示希望将 port 安装到另一个环境， 通常是 jail
	  或在 <filename xmlns:xlink="http://www.w3.org/1999/xlink">/</filename> 以外的其他位置挂接的系统中。
	  实际上， port 会安装到
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">DESTDIR</varname>/<varname xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX</varname>，
	  并注册到位于 <varname xmlns:xlink="http://www.w3.org/1999/xlink">DESTDIR</varname>/var/db/pkg
	  的预编译包数据库中。 由于 <varname xmlns:xlink="http://www.w3.org/1999/xlink">DESTDIR</varname> 是由
	  ports 框架藉由 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">chroot</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> 来实现的， 您在撰写符合
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">DESTDIR</varname> 规范的 ports 时并不需要什么额外的工作。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">一般而言 <varname xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX</varname> 会设为
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">LOCALBASE_REL</varname> (默认是
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local</filename>)。 如果设置了
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_LINUX_PREFIX</varname>， 则 <varname xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX</varname>
	  会设为 <varname xmlns:xlink="http://www.w3.org/1999/xlink">LINUXBASE_REL</varname> (默认是
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/compat/linux</filename>)。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">避免将 <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local</filename> 或
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/X11R6</filename> 硬编码到源代码中，
	  能够大大提高 port 的灵活性， 并适应不同环境的需要。
	  对于使用 <command xmlns:xlink="http://www.w3.org/1999/xlink">imake</command> 的 X port，
	  这一工作是自动完成的； 其他情况下， 通常可以简单地将 port
	  所用到的 <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> 脚本中出现的
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local</filename> (或对于没有使用 imake 的 X port 而言，
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/X11R6</filename>) 替换为读取
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">${PREFIX}</varname> 变量就能达到目的了，
	  因为这个变量在联编和安装的过程中， 会自动向下传递。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">一定要避免让您的 port 在
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local</filename> 而不是正确的 <varname xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX</varname>
	中安装文件。 简单的测试方法是：</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make clean; make package PREFIX=/var/tmp/`make -V PORTNAME`</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">如果有文件安装到了 <varname xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX</varname> 以外的地方，
	打包过程将抱怨找不到这些文件。</para>

	<!-- XXX This paragraph is confusing and poorly indented. -->
	<para xmlns:xlink="http://www.w3.org/1999/xlink">这一步骤并不能帮助发现内部引用， 或纠正在引用其它 port
	中的文件时使用的 <varname xmlns:xlink="http://www.w3.org/1999/xlink">LOCALBASE</varname>。 您需要在
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/tmp/`make -V PORTNAME`</filename>
	中测试安装好的软件， 才能够达到这样的目的。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">您可以在自己的 <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> 中改变
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX</varname> 变量的值， 也可以通过用户环境变量来影响它。
	  然而， 一般情况下决不应该在 <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>
	  中明确设置它的值。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">此外， 引用其它 port 中的文件时， 应使用前面介绍的变量，
	  而不要直接指定它们的路径名。 例如， 如果您的 port
	  需要使用 <literal xmlns:xlink="http://www.w3.org/1999/xlink">PAGER</literal> 这个宏来指明
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">less</command> 的完整路径， 应使用下面的编译选项：

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">-DPAGER=\"${LOCALBASE}/bin/less\"</programlisting>

	  而非
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">-DPAGER=\"/usr/local/bin/less\"</literal>。
	  这种方法能够增加在系统管理员把整个 <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local</filename>
	  目录挪到其它位置时安装成功的机会。</para>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="testing-tinderbox">
        <title xmlns:xlink="http://www.w3.org/1999/xlink">Tinderbox</title>

        <para xmlns:xlink="http://www.w3.org/1999/xlink">如果您是非常热心的 ports 参与者， 则可以看看 <application xmlns:xlink="http://www.w3.org/1999/xlink">Tinderbox</application>。
          这是一个强大的用于联编和测试 ports 的系统， 它基于
          <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="build-cluster">Pointyhat</link> 的脚本。 您可以使用
          <package xmlns:xlink="http://www.w3.org/1999/xlink">ports-mgmt/tinderbox</package> port 来安装
          <application xmlns:xlink="http://www.w3.org/1999/xlink">Tinderbox</application>。 请一定仔细阅读随它安装的文档，
          因为配置并不简单。</para>

        <para xmlns:xlink="http://www.w3.org/1999/xlink">请访问 <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://tinderbox.marcuscom.com/">Tinderbox 网站</link>
          以了解进一步的细节。</para>

      </sect1>
  </chapter>

    <chapter xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="port-upgrading">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">升级一个 port</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">如果您发现某个 port 相对原作者所发布的版本已经过时，
	则首先需要确认的是您的 port 是最新的。 您可以在 FreeBSD FTP 镜像的
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">ports/ports-current</filename> 目录中找到它们。
	但是， 如果您正在使用较多的 port， 则可能使用
	<application xmlns:xlink="http://www.w3.org/1999/xlink">CVSup</application> 来保持 Ports Collection 最新更为简单， 这在
	<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="../../../../doc/en_US.ISO8859-1/books/handbook/synching.html#CVSUP-CONFIG">使用手册</link>
	中进行了介绍。 此外， 这样做也有助于保持 port 依赖关系的正确性。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">下一步是检查是否已经有在等待的更新。 要完成这项工作，
	可以采用下列两种方法之一。 有一个用于搜索
	<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.FreeBSD.org/cgi/query-pr-summary.cgi?query">
	FreeBSD 问题报告 (PR) 数据库</link> (也被称作
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">GNATS</literal>)。 在下拉框中选择 <literal xmlns:xlink="http://www.w3.org/1999/xlink">ports</literal>，
	然后输入 port 的名字。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">但是， 有些时候人们会忘记将避免混淆的 port 的名字放到 Synopsis 字段中。
	这种时候， 您可以试试看 <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="portsmon">
	FreeBSD Ports 监视系统</link> (也被叫做
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">portsmon</literal>)。 这个系统会尝试按照 port 的名字来进行分类。
	要搜索和某个特定 port 有关的 PR， 可以使用 <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://portsmon.FreeBSD.org/portoverview.py">
	port概览</link>。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">如果没有候审的 PR， 下一步是给 port 的维护者写信， 这可以通过执行
	<command xmlns:xlink="http://www.w3.org/1999/xlink">make maintainer</command> 看到。 这个人可能正在进行升级工作，
	或者由于某种理由暂时没有升级 (例如， 新版本有稳定性问题)；
	一般您不希望重复他们的工作。 注意没有维护者的 port 的维护者会显示为
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">ports@FreeBSD.org</literal>， 这是一般性 port 问题的邮件列表，
	因此发邮件给它一般没什么意义。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">如果维护者要求您去完成升级， 或者没有维护者，
	您就有机会通过自行完成升级来帮助 FreeBSD 了！ 请使用基本系统提供的
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">diff</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> 命令来完成相关的工作。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">如果只修改一个文件， 可以直接使用 <command xmlns:xlink="http://www.w3.org/1999/xlink">diff</command>
	来生成补丁， 将需要修改的文件复制成 <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">something.orig</replaceable>，
	并将改动放进 <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">something</replaceable>，
	接着生成补丁：</para>

      <informalexample xmlns:xlink="http://www.w3.org/1999/xlink">
	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">/usr/bin/diff something.orig something &gt; something.diff</userinput></screen>
      </informalexample>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">如果不是这样的话， 则您应使用 <command xmlns:xlink="http://www.w3.org/1999/xlink">cvs diff</command>
	的方法 (<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="cvs-diff"/>)， 或将目录整个复制到另一个目录，
	并使用 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">diff</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> 比较两个目录时在目录中递归产生的输出结果
	(例如， 如果您修改后的 port 目录的名字是
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">superedit</filename> 而原始文件的目录是
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">superedit.bak</filename>， 则应保存
	<command xmlns:xlink="http://www.w3.org/1999/xlink">diff -ruN superedit.bak superedit</command> 的结果)。
	一致式 (unified) 或 上下文式 (context) diff 都是可以的，
	但一般来说 port committer 会更喜欢一致式 diff。
	请注意这里使用的选项 <literal xmlns:xlink="http://www.w3.org/1999/xlink">-N</literal>， 它的目的是强制 diff
	正确地处理出现新文件， 或老文件被删除的情形。 在把 diff 发给我们之前，
	请再次检查输出， 以便确认每一个修改都是有意义的。 (特别注意，
	在对比目录之前要用 <command xmlns:xlink="http://www.w3.org/1999/xlink">make clean</command> 清理一下)。</para>

     <para xmlns:xlink="http://www.w3.org/1999/xlink">为了简化常用的补丁文件操作， 您可以使用
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/ports/Tools/scripts/patchtool.py</filename>。
	使用之前， 请首先阅读
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/ports/Tools/scripts/README.patchtool</filename>。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">如果 port 目前还无人维护， 而且您自己经常使用它，
	请考虑自荐为它的维护者。 FreeBSD 有超过 4000 个没有维护者的 port，
	而这正是最需要志愿人员的领域。
	(要了解关于维护者的任务描述， 请参见
	<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="../../../../doc/en_US.ISO8859-1/books/developers-handbook/policies.html#POLICIES-MAINTAINER">
	开发手册中的相关部分</link>。)</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">将 diff 发送给我们的最佳方式是通过 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">send-pr</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> (category 一栏写
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">ports</literal>)。 如果您正维护那个 port，
	请务必在 synopsis 的开头写上 <literal xmlns:xlink="http://www.w3.org/1999/xlink">[maintainer update]</literal>，
	并将您的 PR 的 <quote xmlns:xlink="http://www.w3.org/1999/xlink">Class</quote> 设置为 <literal xmlns:xlink="http://www.w3.org/1999/xlink">maintainer-update</literal>。
	反之， 您的 PR 的 <quote xmlns:xlink="http://www.w3.org/1999/xlink">Class</quote> 就应该是
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">change-request</literal>。 请在信中逐个提及每一个删除或增加的文件，
	因为这些都必须明确地在使用 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">cvs</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> 进行 commit 时明确地指定。
	如果 diff 超过了 20K， 请考虑压缩并对其进行 uuencode；
	否则， 简单地将其原样加入 PR 即可。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">在您 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">send-pr</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> 之前， 请再次阅读 Problem
	Reports 一文中的
	<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="../../../../doc/en_US.ISO8859-1/articles/problem-reports/pr-writing.html">
	如何撰写问题报告</link> 小节；
	它给出了丰富的关于如何撰写更好的问题报告的介绍。</para>

      <important xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">如果您的更新是由于安全考虑， 或修复已经 commit 的 port
	  中的严重问题， 请通知 Ports 管理团队 <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">portmgr@FreeBSD.org</email> 来申请立即重建和分发您的 port
	  的 package。 否则， 不愿怀疑的使用 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pkg_add</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> 的用户，
	  可能会在未来数周之内继续通过使用 <command xmlns:xlink="http://www.w3.org/1999/xlink">pkg_add -r</command>
	  安装旧版本。</para>
      </important>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">再次强调， 请使用 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">diff</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> 而非 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">shar</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> 来发送现有
	  port 的更新！ 这可以帮助 ports committer 理解需要修改的内容。</para>
      </note>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">现在您已经了解了所需的所有操作， 您可能会像要阅读在
	<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="keeping-up"/> 中关于如何保持最新的描述。</para>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="cvs-diff">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">使用 CVS 制作补丁</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">如果可能的话， 请提交<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">cvs</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> diff；
	  这种情形要比直接比较 <quote xmlns:xlink="http://www.w3.org/1999/xlink">新、旧</quote> 目录要容易处理。
	  此外， 这种方法也让您更容易看出到底改了什么，
	  并在其他人更新了 Ports Collection 时容易合并这些改动，
	  在提交之前， 这可以减少维护补丁所需的工作。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd ~/my_wrkdir</userinput> <co xml:id="my-wrkdir"/>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cvs -d R_CVSROOT co pdnsd</userinput> <co xml:id="R-CVSROOT"/> <co xml:id="module-name"/>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd ~/my_wrkdir/pdnsd</userinput></screen>

	<calloutlist xmlns:xlink="http://www.w3.org/1999/xlink">
	  <callout arearefs="my-wrkdir">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">当然， 这可以是您指定的任意目录；
	      联编 port 并不局限于
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/ports/</filename>
	      的子目录。</para>
	  </callout>

	  <callout arearefs="R-CVSROOT">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">R_CVSROOT 是任何一个公共的 cvs 镜像服务器， 您可以在 <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="../../../../doc/en_US.ISO8859-1/books/handbook/cvsup.html">FreeBSD 使用手册</link>
	      中挑选一个。</para>
	  </callout>

	  <callout arearefs="module-name">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">pdnsd 是 port 的模块名字； 通常说来它和 port 的名字一样，
	      不过也有些例外， 特别是那些本地化类别 (<package xmlns:xlink="http://www.w3.org/1999/xlink">german/selfhtml</package>
	      对应的模块名字是 de-selfhtml)； 您可以通过 <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="../../../../cgi/cvsweb.cgi/ports">cvsweb 界面</link>
	      查询， 或者也可以指定完整路径， 例如在我们这个例子中是
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">ports/dns/pdnsd</filename>。</para>
	  </callout>
	</calloutlist>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">在工作目录中， 您可以像往常一样进行任何更改。
	  如果您添加或删除了文件， 则需要告诉
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">cvs</command> 来追踪这些改动：</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cvs add new_file</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cvs remove deleted_file</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">请反复检查 <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="porting-testing"/> 列出的事项并使用
	  <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="porting-portlint"/> 进行检查。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cvs status</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cvs update</userinput> <co xml:id="cvs-update"/></screen>

	<calloutlist xmlns:xlink="http://www.w3.org/1999/xlink">
	  <callout arearefs="cvs-update">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">这会合并 CVS 中其他人做的改动和您的补丁；
	      在这个过程中， 您需要仔细观察输出。
	      文件名前面的那个字母会显示做了什么， 请参阅
	      <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="table-cvs-up"/> 中给出的说明。</para>
	  </callout>
	</calloutlist>

	<table xmlns:xlink="http://www.w3.org/1999/xlink" pgwide="1" frame="none" xml:id="table-cvs-up">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">cvs update 文件名前字母前缀的含义</title>

	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">U</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">文件更新无误。</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">P</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">文件更新无误 (通常只有在使用远程代码库时才会看到)。</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">M</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">文件有本地修改， 并合并成功而未产生任何冲突。</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">C</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">文件有本地修改， 进行了合并并产生了冲突。</entry>
	      </row>
	    </tbody>
	  </tgroup>
	</table>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">如果您在执行
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">cvs update</literal> 时某些文件出现了 <literal xmlns:xlink="http://www.w3.org/1999/xlink">C</literal>，
	  则说明有其他人在 CVS 中做了修改， 而 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">cvs</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> 无法将这些改动与您本地的改动进行合并。
	  不过， 无论如何， 最好都检查一下合并的结果，
	  因为 <command xmlns:xlink="http://www.w3.org/1999/xlink">cvs</command> 并不知道 port 应该是什么样子，
	  因此它所做的合并无论是否产生了冲突，
	  都有可能 (并且并不罕见) 产生没有意义的结果。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">最后一步是以 CVS 中的文件为基础生成 unified <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">diff</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>：</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cvs diff -uN &gt; ../`basename ${PWD}`.diff</userinput></screen>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">指定 <option xmlns:xlink="http://www.w3.org/1999/xlink">-N</option> 十分重要，
	    因为它确保了添加或删除的文件也出现在补丁中。
	    补丁将包含删除的文件， 在打上补丁时，
	    这些文件会被清空， 所以最好在 PR 中提醒 committer
	    删除它们。</para>
	</note>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">根据 <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="port-upgrading"/> 的指导提交您的补丁。</para>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="moved-and-updating-files">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">UPDATING 和 MOVED 文件</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">如果在升级 port 时需要类似修改配置文件或运行特定的程序这样的特别步骤，
	  则应在
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/ports/UPDATING</filename> 文件中予以说明。
	  这个文件中的项目格式如下：</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">YYYYMMDD:
  AFFECTS: users of port类别/port名字
  AUTHOR: 您的名字 &lt;您的电子邮件地址&gt;

  所需执行的特别步骤</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">如果您需要在内文中加入具体的 portmaster 或 portupgrade
	  的说明， 请确保所用的 shell 命令使用了正确的转义字符。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">如果 port 被删除或改名，则应在
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/ports/MOVED</filename> 中添加相应的说明项目。
	  这个文件中的项目格式如下：</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">原来的名字|新名字 (如果删除则应留空)|删除或改名的日期|原因</programlisting>
      </sect1>
    </chapter>

    <chapter xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="security">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Ports 的安全</title>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="security-intro">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">安全为何如此重要</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">软件中偶尔会引入 bug。 毋庸置疑， 安全漏洞是最为危险的。
	  从技术角度看， 这些漏洞可以通过消除导致它们的 bug 来修复。
	  然而， 处理一般的 bug 和安全漏洞的策略是截然不同的。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">典型的小 bug 通常只影响那些启用了某些能够触发它的选项组合的用户。
	  开发人员最终会在发布没有那个问题的新版之后给出一个补丁来修正它，
	  而用户中的主体并不会立即升级， 因为他们并没有因存在问题而感到苦恼。
	  严重的 bug 可能会导致数据丢失和其它问题， 无论如何，
	  谨慎的用户知道， 除了软件 bug 之外还有很多其它事故可能会导致数据丢失，
	  因此他们会备份重要数据； 此外， 严重的 bug 通常会被很快发现。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">安全漏洞则完全不同。 第一， 它们可能存在数年而不被发现，
	  因为它们可能并不导致软件无法正常工作。 第二， 通过利用漏洞，
	  恶意的一方可能会得到未获授权的访问权限，
	  并利用这些权限毁掉或修改敏感数据；
	  而更糟糕的情况则是用户可能根本注意不到损害已经发生。 第三，
	  暴露出安全漏洞的系统， 往往能够帮助攻击者闯入其它之前不可能进入的系统。
	  因此， 只是修正安全漏洞是不够的： 必须以清晰和全面的方式通知公众，
	  这样他们就能够评估风险， 并采取适当的措施。</para>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="security-fix">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">修复安全漏洞</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">当说起 port 或 package 时， 安全漏洞往往是出现在原作者的发行包，
	  或移植过程中加入的文件里。 对于前一种情况，
	  软件的原作者通常会立刻发布一个补丁甚至新版，
	  您只需要按照原作者的修正去更新 port 就可以了。
	  如果由于某种原因修正被延误， 则要么 <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="dads-noinstall">将
	  port 标记为 <varname xmlns:xlink="http://www.w3.org/1999/xlink">FORBIDDEN</varname></link>， 要么在 port
	  中加入一个自己的补丁。 如果有存在漏洞的 port， 尽可能尽快修复其漏洞就是。
	  无论是哪种情况， 您还是需要按照 <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="port-upgrading">标准的提交流程</link> 提交，
	  除非您有直接在 ports tree 上 commit 的权限。</para>

	<important xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">作为 ports committer 并不能够随便 commit 所有 port。
	    请注意通常 port 都有维护者， 而他们应得到您的尊重。</para>
	</important>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">在漏洞被修正之后， 一定要同时增加 port 的修订版本号。
	  这样， 规律性地升级安装的 package 的用户就能够看到他们需要进行升级。
	  另外， 还应联编预编译的安装包， 并通过 FTP 和 WWW 镜像发布，
	  以取代有漏洞的版本。 注意要增加
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTREVISION</varname> 数字， 除非在修正问题时
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTVERSION</varname> 发生了变化。 一般来说，
	  如果在 port 中增加了补丁文件， 就应该增加 <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTREVISION</varname>，
	  但例外的例子是您已经将软件升级到了最新版，
	  因为这时已经改掉 <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTVERSION</varname> 了。 请参见
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="makefile-naming-revepoch">相关小节</link>
	  以了解进一步的信息。</para>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="security-notify">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">通知整个用户群体</title>

	<sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="security-notify-vuxml-db">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">VuXML 数据库</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">当发现了安全漏洞时的一项重要而紧迫的步骤，
	    就是让使用 port 的用户群了解其危险。 这类通知有两重目的。
	    首先， 如果危害真的很严重， 可能理性的办法就是立即应用一项缓解措施，
	    例如， 停止受到影响的服务， 甚至完全删除 port， 直到问题被修正为止。
	    其次， 许多用户只是偶尔升级所安装的软件包， 通过通知，
	    他们能够知道已经到了 <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">必须</emphasis> 更新软件的时候，
	    因为已经有了修正这些问题的版本了。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">由于现有的 port 数量极其庞大， 为每一个问题都发布安全公告，
	    毫无疑问地会发表和狼来了一样多的安全公告，
	    并增大受众在真的发生严重的问题时忽略问题的可能。
	    因此， 在 port 中发现的安全漏洞， 会在 <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://vuxml.freebsd.org/">FreeBSD VuXML
	    数据库</link> 中记录。 安全官团队成员会持续地追踪这个数据库的修改，
	    以了解需要他们注意的内容。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">如果您是 committer， 则可以自行更新 VuXML 数据库。
	    这样， 您就能够同时帮助安全官团队，
	    并尽早将至关重要的信息传达给用户群体。 然而， 如果您不是 committer，
	    或者您相信自己发现了一个异常严重的漏洞，
	    请不要犹豫， 按照 <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.freebsd.org/zh_CN/security/#how">FreeBSD
	    安全信息</link> 页面上的方法联系安全官团队。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">正如其名称所暗示的那样， VuXML
	    数据库是一个 XML 文档。 其源文件 <filename xmlns:xlink="http://www.w3.org/1999/xlink">vuln.xml</filename>
	    被保存在 <package xmlns:xlink="http://www.w3.org/1999/xlink">security/vuxml</package> port 的目录中。
	    所以， 它的全名是
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">PORTSDIR/security/vuxml/vuln.xml</filename>。
	    每当您发现 port 中的安全漏洞时， 请把新的纪录加入到那个文件中。
	    在熟悉 VuXML 之前， 您最好先看看是否有类似的您发现的问题的其它记录，
	    并复制它作为模板。</para>
	</sect2>

	<sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="security-notify-vuxml-intro">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">VuXML 简介</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">XML 是一个复杂的语言， 它远远超越了这本书的范围。
	    不过， 只需了解标记的命名规则， 就能 VuXML 记录的结构有一个大体的了解了。
	    XML 标记的名字应出现在一对尖括号之间。 每一个
	    &lt;tag&gt; 必须有一个对应的 &lt;/tag&gt;。 标记可以嵌套，
	    如果嵌套的话， 内层的标记必须在外层标记之前结束。
	    这就形成了一个标记的层次结构， 也就是关于它们之间如何嵌套的规则。
	    听起来很像 HTML， 是不是？ 最主要的区别在于， XML
	    是可扩展的 (e<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">X</emphasis>tensible)，
	    例如通过定义新的标记等等。 由于其结构的内在性质，
	    XML 能够赋予无组织的数据新的形态。 VuXML 是专门为描述安全漏洞设计的语言。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">现在让我们来观察一个实际的 VuXML 记录：</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">&lt;vuln vid="f4bc80f4-da62-11d8-90ea-0004ac98a7b9"&gt; <co xml:id="co-vx-vid"/>
  &lt;topic&gt;Several vulnerabilities found in Foo&lt;/topic&gt; <co xml:id="co-vx-top"/>
  &lt;affects&gt;
    &lt;package&gt;
      &lt;name&gt;foo&lt;/name&gt; <co xml:id="co-vx-nam"/>
      &lt;name&gt;foo-devel&lt;/name&gt;
      &lt;name&gt;ja-foo&lt;/name&gt;
      &lt;range&gt;&lt;ge&gt;1.6&lt;/ge&gt;&lt;lt&gt;1.9&lt;/lt&gt;&lt;/range&gt; <co xml:id="co-vx-rng"/>
      &lt;range&gt;&lt;ge&gt;2.*&lt;/ge&gt;&lt;lt&gt;2.4_1&lt;/lt&gt;&lt;/range&gt;
      &lt;range&gt;&lt;eq&gt;3.0b1&lt;/eq&gt;&lt;/range&gt;
    &lt;/package&gt;
    &lt;package&gt;
      &lt;name&gt;openfoo&lt;/name&gt; <co xml:id="co-vx-nm2"/>
      &lt;range&gt;&lt;lt&gt;1.10_7&lt;/lt&gt;&lt;/range&gt; <co xml:id="co-vx-epo"/>
      &lt;range&gt;&lt;ge&gt;1.2,1&lt;/ge&gt;&lt;lt&gt;1.3_1,1&lt;/lt&gt;&lt;/range&gt;
    &lt;/package&gt;
  &lt;/affects&gt;
  &lt;description&gt;
    &lt;body xmlns="http://www.w3.org/1999/xhtml"&gt;
      &lt;p&gt;J. Random Hacker reports:&lt;/p&gt; <co xml:id="co-vx-bdy"/>
      &lt;blockquote
        cite="http://j.r.hacker.com/advisories/1"&gt;
        &lt;p&gt;Several issues in the Foo software may be exploited
          via carefully crafted QUUX requests.  These requests will
          permit the injection of Bar code, mumble theft, and the
          readability of the Foo administrator account.&lt;/p&gt;
      &lt;/blockquote&gt;
    &lt;/body&gt;
  &lt;/description&gt;
  &lt;references&gt; <co xml:id="co-vx-ref"/>
    &lt;freebsdsa&gt;SA-10:75.foo&lt;/freebsdsa&gt; <co xml:id="co-vx-fsa"/>
    &lt;freebsdpr&gt;ports/987654&lt;/freebsdpr&gt; <co xml:id="co-vx-fpr"/>
    &lt;cvename&gt;CAN-2010-0201&lt;/cvename&gt; <co xml:id="co-vx-cve"/>
    &lt;cvename&gt;CAN-2010-0466&lt;/cvename&gt;
    &lt;bid&gt;96298&lt;/bid&gt; <co xml:id="co-vx-bid"/>
    &lt;certsa&gt;CA-2010-99&lt;/certsa&gt; <co xml:id="co-vx-cts"/>
    &lt;certvu&gt;740169&lt;/certvu&gt; <co xml:id="co-vx-ctv"/>
    &lt;uscertsa&gt;SA10-99A&lt;/uscertsa&gt; <co xml:id="co-vx-ucs"/>
    &lt;uscertta&gt;SA10-99A&lt;/uscertta&gt; <co xml:id="co-vx-uct"/>
    &lt;mlist msgid="201075606@hacker.com"&gt;http://marc.theaimsgroup.com/?l=bugtraq&amp;amp;m=203886607825605&lt;/mlist&gt; <co xml:id="co-vx-mls"/>
    &lt;url&gt;http://j.r.hacker.com/advisories/1&lt;/url&gt; <co xml:id="co-vx-url"/>
  &lt;/references&gt;
  &lt;dates&gt;
    &lt;discovery&gt;2010-05-25&lt;/discovery&gt; <co xml:id="co-vx-dsc"/>
    &lt;entry&gt;2010-07-13&lt;/entry&gt; <co xml:id="co-vx-ent"/>
    &lt;modified&gt;2010-09-17&lt;/modified&gt; <co xml:id="co-vx-mod"/>
  &lt;/dates&gt;
&lt;/vuln&gt;</programlisting>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">标记的名字都是简单明了的， 下面我们来介绍一下需要由您填写的字段：</para>

	  <calloutlist xmlns:xlink="http://www.w3.org/1999/xlink">
	    <callout arearefs="co-vx-vid">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">这是 VuXML 记录的顶级 tag。
		它有一个强制性的字段， <literal xmlns:xlink="http://www.w3.org/1999/xlink">vid</literal>，
		用于为此记录 (它包含的部分) 指定一个全局唯一标识符 (UUID)。
		您应为每一个新的 vuXML 生成新的 UUID (而且别忘了要把模板中的
		UUID 换成新的， 如果您不是从头开始的话)。 您可以使用 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">uuidgen</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>
		来生成 VuXML UUID。</para>
	    </callout>

	    <callout arearefs="co-vx-top">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">关于问题的一句话描述。</para>
	    </callout>

	    <callout arearefs="co-vx-nam">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">此处给出受到影响的 package 的名字。 可以给出多个名字，
		因为可能有多个软件包基于同一个 master port 或软件产品。
		这可能包括稳定和开发分支、 本地化版本，
		以及提供了不同的编译时选项的 slave port。</para>

	      <important xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">撰写 VuXML 记录时， 您有责任找到所有相关的包。 很多时候
		  <literal xmlns:xlink="http://www.w3.org/1999/xlink">make search name=foo</literal> 是您的朋友。
		  需要留意的通常包括：</para>

		<itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
		  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		    <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">foo</filename> port 的
		      <filename xmlns:xlink="http://www.w3.org/1999/xlink">foo-devel</filename> 变体；</para>
		  </listitem>

		  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		    <para xmlns:xlink="http://www.w3.org/1999/xlink">包含不同后缀的其它变体， 例如
		      <literal xmlns:xlink="http://www.w3.org/1999/xlink">-a4</literal> (对于和打印有关的软件包)，
		      <literal xmlns:xlink="http://www.w3.org/1999/xlink">-without-gui</literal> (提供但禁用了 X
		      支持的软件包)， 以及类似的其它情况；</para>
		  </listitem>

		  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		    <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">jp-</literal>， <literal xmlns:xlink="http://www.w3.org/1999/xlink">ru-</literal>、
		      <literal xmlns:xlink="http://www.w3.org/1999/xlink">zh-</literal>， 以及其它可能的本地化变体，
		      它们通常可以在 Ports Collection 中相应的国家分类中找到。</para>
		  </listitem>
		</itemizedlist>
	      </important>
	    </callout>

	    <callout arearefs="co-vx-rng">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">受影响的 package 版本， 可以使用
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">&lt;lt&gt;</literal>, <literal xmlns:xlink="http://www.w3.org/1999/xlink">&lt;le&gt;</literal>,
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">&lt;eq&gt;</literal>, <literal xmlns:xlink="http://www.w3.org/1999/xlink">&lt;ge&gt;</literal>,
		和 <literal xmlns:xlink="http://www.w3.org/1999/xlink">&lt;gt&gt;</literal> 表达成一个或多个版本及其范围。
		注意给出的版本范围不应存在重叠。</para>

	      <para xmlns:xlink="http://www.w3.org/1999/xlink">在描述范围的时候， <literal xmlns:xlink="http://www.w3.org/1999/xlink">*</literal> (星号)
		表达最小的版本。 更具体地说，
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">2.*</literal> 小于 <literal xmlns:xlink="http://www.w3.org/1999/xlink">2.a</literal>。
		因此， 星号可以用来匹配所有可能的
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">alpha</literal>、 <literal xmlns:xlink="http://www.w3.org/1999/xlink">beta</literal>，
		以及 <literal xmlns:xlink="http://www.w3.org/1999/xlink">RC</literal> 版本。 例如，
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">&lt;ge&gt;2.*&lt;/ge&gt;&lt;lt&gt;3.*&lt;/lt&gt;</literal>
		可以选择性地匹配每一个 <literal xmlns:xlink="http://www.w3.org/1999/xlink">2.x</literal> 的版本， 而
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">&lt;ge&gt;2.0&lt;/ge&gt;&lt;lt&gt;3.0&lt;/lt&gt;</literal>
		显然不能， 因为它会漏掉
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">2.r3</literal> 而匹配
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">3.b</literal>。</para>

	      <para xmlns:xlink="http://www.w3.org/1999/xlink">上面的例子指定了受影响的版本， 是包括 <literal xmlns:xlink="http://www.w3.org/1999/xlink">1.6</literal>
		到 <literal xmlns:xlink="http://www.w3.org/1999/xlink">1.9</literal> 上下界的所有版本， 以及
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">2.x</literal> 在 <literal xmlns:xlink="http://www.w3.org/1999/xlink">2.4_1</literal> 之前的版本，
		和 <literal xmlns:xlink="http://www.w3.org/1999/xlink">3.0b1</literal> 版。</para>
	    </callout>

	    <callout arearefs="co-vx-nm2">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">受到影响的一组 package (本质上是 ports)
		可以列在 <literal xmlns:xlink="http://www.w3.org/1999/xlink">&lt;affected&gt;</literal> 小节中。
		如果多个软件产品都采用了同样的基础代码，
		(比如说 FooBar、 FreeBar 和 OpenBar) 而且包含同样的 bug
		或漏洞。 请注意列出多个名字时， 应该在一个
		&lt;package&gt; 小节中完成。</para>
	    </callout>

	    <callout arearefs="co-vx-epo">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">如果可能， 版本的范围应包括
		<varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTEPOCH</varname> 和
		<varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTREVISION</varname>。
		务必注意， 根据加权规则， 带有非零 <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTEPOCH</varname>
		的版本， 系统会认为比没有
		<varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTEPOCH</varname> 的版本高， 例如 <literal xmlns:xlink="http://www.w3.org/1999/xlink">3.0,1</literal>
		高于 <literal xmlns:xlink="http://www.w3.org/1999/xlink">3.1</literal> 甚至
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">8.9</literal>。</para>
	    </callout>

	    <callout arearefs="co-vx-bdy">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">关于问题的摘要性信息。 此处使用
		XHTML。 务必要成对使用
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">&lt;p&gt;</literal> 和 <literal xmlns:xlink="http://www.w3.org/1999/xlink">&lt;/p&gt;</literal>。
		可以使用较为复杂的标记， 但仅限于有助于让信息更准确和明了的修饰：
		请不要过分地美化。</para>
	    </callout>

	    <callout arearefs="co-vx-ref">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">这部分包含了相关的可供参考的文档。
		请尽可能多提供参考文献。</para>
	    </callout>

	    <callout arearefs="co-vx-fsa">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">指定
		<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.freebsd.org/security/#adv">FreeBSD
		安全公告</link>。</para>
	    </callout>

	    <callout arearefs="co-vx-fpr">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">指定
		<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.freebsd.org/support.html#gnats">FreeBSD
		问题报告</link>。</para>
	    </callout>

	    <callout arearefs="co-vx-cve">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">指定 <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.cve.mitre.org/">Mitre
		CVE</link> ID。</para>
	    </callout>

	    <callout arearefs="co-vx-bid">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">指定
		<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.securityfocus.com/bid">SecurityFocus
		Bug ID</link>。</para>
	    </callout>

	    <callout arearefs="co-vx-cts">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">指定
		<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.cert.org/">US-CERT</link>
		安全公告。</para>
	    </callout>

	    <callout arearefs="co-vx-ctv">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">指定
		<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.cert.org/">US-CERT</link>
		漏洞说明。</para>
	    </callout>

	    <callout arearefs="co-vx-ucs">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">指定
		<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.cert.org/">US-CERT</link>
		计算机安全警报。</para>
	    </callout>

	    <callout arearefs="co-vx-uct">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">指定
		<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.cert.org/">US-CERT</link>
		技术性计算机安全警报。</para>
	    </callout>

	    <callout arearefs="co-vx-mls">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">指向邮件列表存档的 URL。
		属性 <literal xmlns:xlink="http://www.w3.org/1999/xlink">msgid</literal> 是可选项，
		用以指定某一封信的 message ID。</para>
	    </callout>

	    <callout arearefs="co-vx-url">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">一般的 URL。 只有在没有其它更适合的参考文献时，
		才应使用它。</para>
	    </callout>

	    <callout arearefs="co-vx-dsc">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">问题被全面披露的日期
		(<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">YYYY-MM-DD</replaceable>)。</para>
	    </callout>

	    <callout arearefs="co-vx-ent">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">记录加入到数据库中的日期
		(<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">YYYY-MM-DD</replaceable>)。</para>
	    </callout>

	    <callout arearefs="co-vx-mod">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">记录最后一次被修改的日期
		(<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">YYYY-MM-DD</replaceable>)。 新记录不应包括这个字段。
		只有在修改记录时才应加入它。</para>
	    </callout>
	  </calloutlist>
	</sect2>

	<sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="security-notify-vuxml-testing">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">测试您对 VuXML 数据库所作的修改</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">假定您打算撰写， 或已经写好了一个关于
	    package <literal xmlns:xlink="http://www.w3.org/1999/xlink">clamav</literal> 的问题描述， 并且，
	    已经知道 <literal xmlns:xlink="http://www.w3.org/1999/xlink">0.65_7</literal> 版本修正了这个问题。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">您需要做的准备工作， 是 <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">安装</emphasis> 一个新版本的
	    ports <package xmlns:xlink="http://www.w3.org/1999/xlink">ports-mgmt/portaudit</package> 程序、
	    <package xmlns:xlink="http://www.w3.org/1999/xlink">ports-mgmt/portaudit-db</package>， 以及
	    <package xmlns:xlink="http://www.w3.org/1999/xlink">security/vuxml</package>。</para>

	  <note xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">要运行 <command xmlns:xlink="http://www.w3.org/1999/xlink">packaudit</command>，
	      您必须拥有其
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">DATABASEDIR</filename>，
	      通常是 <filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/db/portaudit</filename>
	      的写入权限。</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">您可以通过
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">DATABASEDIR</filename>
	      环境变量来指定一个不同的位置。</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">如果您的工作目录是
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">${PORTSDIR}/security/vuxml</filename>
	      以外的其它地方， 则应使用环境变量
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">VUXMLDIR</filename>
	      来指明
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">vuln.xml</filename> 的位置。</para>
	  </note>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">首先， 检查一下是否已经有了关于这个漏洞的描述。
	    如果已经有过这样的记录， 那么它将匹配较早版本的 package，
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">0.65_6</literal>：</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">packaudit</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">portaudit clamav-0.65_6</userinput></screen>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">如果什么都没有发现， 您就可以考虑写一个新的记录来描述这个漏洞了。
	    现在可以生成一个新的 UUID (假设它是
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">74a9541d-5d6c-11d8-80e3-0020ed76ef5a</literal>)，
	    然后将您的新记录加入到 VuXML 数据库中。 接下来，
	    用下面的命令来检查它是否符合语法：</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd ${PORTSDIR}/security/vuxml &amp;&amp; make validate</userinput></screen>

	  <note xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">您需要安装下列 package 中的至少一个：
	      <package xmlns:xlink="http://www.w3.org/1999/xlink">textproc/libxml2</package>、
	      <package xmlns:xlink="http://www.w3.org/1999/xlink">textproc/jade</package>。</para>
	  </note>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">接下来从 VuXML 文件重构 <command xmlns:xlink="http://www.w3.org/1999/xlink">portaudit</command> 数据库：</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">packaudit</userinput></screen>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">要验证您新加入的项的 <literal xmlns:xlink="http://www.w3.org/1999/xlink">&lt;affected&gt;</literal>
	    小节能够正确地匹配希望的 package， 可以使用下面的命令：</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">portaudit -f /usr/ports/INDEX -r 74a9541d-5d6c-11d8-80e3-0020ed76ef5a</userinput></screen>

	  <note xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">请参见 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" vendor="ports"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">portaudit</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> 以了解关于这个命令语法的更多细节。</para>
	  </note>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">请确信新添加的记录不会在输出中匹配不应匹配的项。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">现在检查您添加的记录所匹配的版本是否正确：</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">portaudit clamav-0.65_6 clamav-0.65_7</userinput>
Affected package: clamav-0.65_6 (matched by clamav&lt;0.65_7)
Type of problem: clamav remote denial-of-service.
Reference: &lt;http://www.freebsd.org/ports/portaudit/74a9541d-5d6c-11d8-80e3-0020ed76ef5a.html&gt;

1 problem(s) found.</screen>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">显然， 前一个版本会匹配， 而后一个不会。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">最后， 验证您从
	    VuXML 数据库中能够正确地得到预期的网页效果：</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mkdir -p ~/public_html/portaudit</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">packaudit</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">lynx ~/public_html/portaudit/74a9541d-5d6c-11d8-80e3-0020ed76ef5a.html</userinput></screen>
	</sect2>
      </sect1>
    </chapter>

    <chapter xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-dads">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">该做什么和不该做什么</title>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="dads-intro">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">介绍</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">这里是一些在移植软件时可能会遇到的常见问题。
	您应按照这个列表检查自己的 port， 同样地，
	您也可以帮助检查 <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.FreeBSD.org/cgi/query-pr-summary.cgi?query">PR 数据库</link>
	中由其它人提交的 port。 请按照在
	<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="../../../../doc/en_US.ISO8859-1/articles/contributing/contrib-how.html#CONTRIB-GENERAL">问题报告和一般性注释</link> 中介绍的方法提交您的看法。
	帮助检查 PR 数据库中的 ports 即能够帮助我们更快地 commit 它们，
	也能证明您清楚地了解如何完成这些工作。</para>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-wrkdir">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">WRKDIR</varname> (联编时使用的临时目录)</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">任何时候都不要在
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">WRKDIR</varname> 以外的位置写文件。 <varname xmlns:xlink="http://www.w3.org/1999/xlink">WRKDIR</varname>
	  是在 port 联编过程中唯一的一处一定可写的地方 (参见
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="../../../../doc/en_US.ISO8859-1/books/handbook/ports-using.html#PORTS-CD">如何从
	  CDROM 安装 port</link> 以了解从只读的目录中联编和安装 port 的例子)。
	  如果您需要改变 <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-*</filename>
	  文件， 请按照 <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="porting-pkgfiles">重新定义某个变量</link> 介绍的方法，
	  而不是覆盖它们来实现。</para>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-wrkdirprefix">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">WRKDIRPREFIX</varname> (用于联编的临时目录的父目录名)</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">一定要确保您的 port 尊重 <varname xmlns:xlink="http://www.w3.org/1999/xlink">WRKDIRPREFIX</varname> 的设置。
	  绝大多数 port 并不需要担心这个。 具体说来，
	  当引用其它 port 的 <varname xmlns:xlink="http://www.w3.org/1999/xlink">WRKDIR</varname> 时，
	  需要注意正确的位置应该是
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">WRKDIRPREFIXPORTSDIR/subdir/name/work</filename>
	  而不是 <filename xmlns:xlink="http://www.w3.org/1999/xlink">PORTSDIR/subdir/name/work</filename> 或 <filename xmlns:xlink="http://www.w3.org/1999/xlink">.CURDIR/../../subdir/name/work</filename>，
	  或别的什么。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">另外， 如果您自行定义了 <varname xmlns:xlink="http://www.w3.org/1999/xlink">WRKDIR</varname>， 也要把
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">${WRKDIRPREFIX}${.CURDIR}</literal> 放到前面。</para>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-versions">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">区分不同的操作系统， 以及 OS 的版本</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">在不同版本的 Unix 下可能需要对代码进行一些修改或增加少许编译选项，
	  才能够正确地编译和运行。 如果您需要根据一些条件来对代码进行修改，
	  请尽可能让这些修改通用， 这样， 我们就能够将这些代码移植回更早的 FreeBSD
	  系统， 并交叉移植到其它 BSD 系统， 例如来自 CSRG 的 4.4BSD，
	  BSD/386， 386BSD， NetBSD 和 OpenBSD。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">推荐的获得 4.3BSD/Reno (1990) 以及更新版本 BSD 代码版本号的方式， 是使用
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://cvsweb.freebsd.org/src/sys/sys/param.h">sys/param.h</link>
	  中所定义的 <literal xmlns:xlink="http://www.w3.org/1999/xlink">BSD</literal> 宏的值。 一般来说这个文件已经被引用了；
	  如果没有的话， 增加下述代码：</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">#if (defined(__unix__) || defined(unix)) &amp;&amp; !defined(USG)
#include &lt;sys/param.h&gt;
#endif</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">到 <filename xmlns:xlink="http://www.w3.org/1999/xlink">.c</filename> 文件中合适的地方。
	  我们相信所有定义了这两个符号的系统中， 都提供了
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">sys/param.h</filename>。 如果您发现有不这样做的系统，
	  请通过致信 <link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-ports">FreeBSD ports 邮件列表</link> 让我们了解这一情况。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">另一种方法是使用 GNU Autoconf 风格的方式：</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">#ifdef HAVE_SYS_PARAM_H
#include &lt;sys/param.h&gt;
#endif</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">采用这种方法时， 不要忘了把 <literal xmlns:xlink="http://www.w3.org/1999/xlink">-DHAVE_SYS_PARAM_H</literal> 加到
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> 中的 <varname xmlns:xlink="http://www.w3.org/1999/xlink">CFLAGS</varname> 里。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">一旦引用了 <filename xmlns:xlink="http://www.w3.org/1999/xlink">sys/param.h</filename>， 您就可以使用：</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">#if (defined(BSD) &amp;&amp; (BSD &gt;= 199103))</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">来检测代码是否正在 4.3 Net2 代码基础，
	  或更新的系统上编译 (例如 FreeBSD 1.x， 4.3/Reno， NetBSD 0.9， 386BSD，
	  BSD/386 1.1 以及更高版本)。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">使用：</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">#if (defined(BSD) &amp;&amp; (BSD &gt;= 199306))</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">来检测代码是否正在 4.4 或更新的系统 (例如 FreeBSD 2.x， 4.4，
	  NetBSD 1.0、 BSD/386 2.0 或更高版本)。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">对于 4.4BSD-Lite2 代码系来说， <literal xmlns:xlink="http://www.w3.org/1999/xlink">BSD</literal> 宏的值应该是
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">199506</literal>。 这里只是作为信息提供，
	  您不应使用它来区分基于 4.4-Lite 的 FreeBSD 和基于 4.4-Lite2 的版本。
	  这些情况下， 您应使用
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">__FreeBSD__</literal> 宏。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">保守地使用：</para>

	<itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">__FreeBSD__</literal> 在所有版本的
	      FreeBSD 中皆有定义。 如果您正进行的修改
	      <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">只</emphasis> 影响 FreeBSD， 则应使用这个宏。
	      类似 <literal xmlns:xlink="http://www.w3.org/1999/xlink">sys_errlist[]</literal> 之于
	      <function xmlns:xlink="http://www.w3.org/1999/xlink">strerror()</function> 这样的移植问题是伯克利代码系公用的，
	      而并非 FreeBSD 所专有。</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">在 FreeBSD 2.x 中， <literal xmlns:xlink="http://www.w3.org/1999/xlink">__FreeBSD__</literal>
	      定义为 <literal xmlns:xlink="http://www.w3.org/1999/xlink">2</literal>。 更早版本中， 它曾经是
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">1</literal>。 新的版本都会在主要的版本号变化时变更它。</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">如果您需要区分 FreeBSD 1.x 系统和 FreeBSD 2.x 及更高版本的区别，
	      通常应使用前述的 <literal xmlns:xlink="http://www.w3.org/1999/xlink">BSD</literal> 宏来进行。
	      如果事实上需要一个 FreeBSD 专有的修改 (例如，
	      在使用 <command xmlns:xlink="http://www.w3.org/1999/xlink">ld</command> 时需要特殊的共享库选项)，
	      则可以用 <literal xmlns:xlink="http://www.w3.org/1999/xlink">__FreeBSD__</literal> 和 <literal xmlns:xlink="http://www.w3.org/1999/xlink">#if
		__FreeBSD__ &gt; 1</literal> 来检测 FreeBSD 2.x 和新系统上的变化。
	      如果需要更细粒度地检测 FreeBSD 2.0-RELEASE 之后版本的变化，
	      则可以使用：</para>

	    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">#if __FreeBSD__ &gt;= 2
#include &lt;osreldate.h&gt;
#    if __FreeBSD_version &gt;= 199504
	 /* 适用于 2.0.5+ 版本的代码 */
#    endif
#endif</programlisting>
	  </listitem>
	</itemizedlist>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">在已有的数百个 port 中， 只有一两个应该使用 <literal xmlns:xlink="http://www.w3.org/1999/xlink">__FreeBSD__</literal>。
	  早期的 port 在不适当的地方使用了它并引发问题，
	  并不意味着您也必定如此。</para>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="freebsd-versions">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">__FreeBSD_version 值</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">下面是在 <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://cvsweb.freebsd.org/src/sys/sys/param.h">sys/param.h</link>
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">__FreeBSD_version</literal> 中定义的值及其意义的列表，
	    这里给出以方便您查阅：</para>

		<table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
		  <title xmlns:xlink="http://www.w3.org/1999/xlink">__FreeBSD_version 值</title>
		<tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="3">
		<thead xmlns:xlink="http://www.w3.org/1999/xlink">
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
                    <entry xmlns:xlink="http://www.w3.org/1999/xlink">值</entry>
                    <entry xmlns:xlink="http://www.w3.org/1999/xlink">日期</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">版本</entry>
		  </row>
		</thead>

		<tbody xmlns:xlink="http://www.w3.org/1999/xlink">
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">119411</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">2.0-RELEASE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">199501, 199503</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">March 19, 1995</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">2.1-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">199504</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">April 9, 1995</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">2.0.5-RELEASE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">199508</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">August 26, 1995</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">2.1 之前的 2.2-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">199511</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">November 10, 1995</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">2.1.0-RELEASE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">199512</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">November 10, 1995</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">2.1.5 之前的 2.2-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">199607</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">July 10, 1996</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">2.1.5-RELEASE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">199608</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">July 12, 1996</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">2.1.6 之前的 2.2-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">199612</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">November 15, 1996</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">2.1.6-RELEASE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">199612</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">2.1.7-RELEASE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">220000</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">February 19, 1997</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">2.2-RELEASE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">(not changed)</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">2.2.1-RELEASE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">(无变化)</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">在 2.2.1-RELEASE 之后的 2.2-STABLE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">221001</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">April 15, 1997</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">texinfo-3.9 之后的 2.2-STABLE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">221002</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">April 30, 1997</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">top 之后的 2.2-STABLE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">222000</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">May 16, 1997</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">2.2.2-RELEASE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">222001</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">May 19, 1997</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">2.2.2-RELEASE 之后的 2.2-STABLE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">225000</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">October 2, 1997</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">2.2.5-RELEASE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">225001</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">November 20, 1997</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">2.2.5-RELEASE 之后的 2.2-STABLE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">225002</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">December 27, 1997</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">合并 ldconfig -R 之后的 2.2-STABLE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">226000</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">March 24, 1998</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">2.2.6-RELEASE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">227000</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">July 21, 1998</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">2.2.7-RELEASE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">227001</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">July 21, 1998</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">2.2.7-RELEASE 之后的 2.2-STABLE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">227002</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">September 19, 1998</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">semctl</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">2</manvolnum></citerefentry> 修改之后的 2.2-STABLE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">228000</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">November 29, 1998</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">2.2.8-RELEASE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">228001</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">November 29, 1998</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">2.2.8-RELEASE 之后的 2.2-STABLE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">300000</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">February 19, 1996</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">mount</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">2</manvolnum></citerefentry> 修改之前的 3.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">300001</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">September 24, 1997</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">mount</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">2</manvolnum></citerefentry> 修改之后的 3.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">300002</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">June 2, 1998</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">semctl</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">2</manvolnum></citerefentry> 修改之后的 3.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">300003</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">June 7, 1998</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">ioctl 参数变化之后的 3.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">300004</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">September 3, 1998</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">ELF 变换之后的 3.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">300005</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">October 16, 1998</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">3.0-RELEASE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">300006</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">October 16, 1998</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">3.0-RELEASE 之后的 3.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">300007</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">January 22, 1999</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">3/4切分之后的 3.0-STABLE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">310000</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">February 9, 1999</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">3.1-RELEASE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">310001</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">March 27, 1999</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">3.1-RELEASE 之后的 3.1-STABLE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">310002</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">April 14, 1999</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">C++ 构建/析构函数顺序变化之后的 3.1-STABLE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">320000</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">3.2-RELEASE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">320001</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">May 8, 1999</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">3.2-STABLE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">320002</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">August 29, 1999</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">二进制不兼容的 IPFW 和 socket 变化之后的 3.2-STABLE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">330000</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">September 2, 1999</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">3.3-RELEASE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">330001</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">September 16, 1999</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">3.3-STABLE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">330002</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">November 24, 1999</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">libc 中加入 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">mkstemp</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">3</manvolnum></citerefentry> 之后的 3.3-STABLE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">340000</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">December 5, 1999</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">3.4-RELEASE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">340001</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">December 17, 1999</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">3.4-STABLE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">350000</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">June 20, 2000</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">3.5-RELEASE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">350001</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">July 12, 2000</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">3.5-STABLE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">400000</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">January 22, 1999</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">3/4切分之后的 4.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">400001</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">February 20, 1999</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">修改动态连接器处理方式之后的 4.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">400002</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">March 13, 1999</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">C++ 构建/析构函数顺序变化之后的</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">400003</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">March 27, 1999</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">提供 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">dladdr</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">3</manvolnum></citerefentry> 之后的 4.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">400004</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">April 5, 1999</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">修正了 __deregister_frame_info 的 4.0-CURRENT
		      (也表示在 EGCS 1.1.2
		      集成之后的 4.0-CURRENT)
		    </entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">400005</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">April 27, 1999</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">suser</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">9</manvolnum></citerefentry> API 变化之后的 4.0-CURRENT
		      (也表示 newbus 之后的 4.0-CURRENT)</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">400006</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">May 31, 1999</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">cdevsw 注册机制改变之后的 4.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">400007</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">June 17, 1999</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">加入了 socket 级凭据的 so_cred 之后的 4.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">400008</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">June 20, 1999</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">在 libc_r 中加入 poll 系统调用接口之后的 4.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">400009</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">July 20, 1999</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">将内核中
		      <literal xmlns:xlink="http://www.w3.org/1999/xlink">dev_t</literal> 类型改为 <literal xmlns:xlink="http://www.w3.org/1999/xlink">struct
		      specinfo</literal> 指针之后的 4.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">400010</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">September 25, 1999</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">修正了一处 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">jail</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">2</manvolnum></citerefentry> 漏洞之后的 4.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">400011</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">September 29, 1999</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">sigset_t</literal> 数据类型改变之后的 4.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">400012</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">November 15, 1999</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">切换到 GCC 2.95.2 编译器之后的 4.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">400013</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">December 4, 1999</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">加入了可插的 linux模式 ioctl 处理程序后的 4.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">400014</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">January 18, 2000</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">引入 OpenSSL 之后的 4.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">400015</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">January 27, 2000</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">GCC 2.95.2 中 ABI 默认值从 -fvtable-thunks 改为
		      -fno-vtable-thunks 之后的 4.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">400016</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">February 27, 2000</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">引入 OpenSSH 之后的 4.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">400017</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">March 13, 2000</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.0-RELEASE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">400018</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">March 17, 2000</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.0-RELEASE 之后的 4.0-STABLE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">400019</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">May 5, 2000</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">引入延迟校验和之后的 4.0-STABLE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">400020</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">June 4, 2000</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">将 libxpg4 的代码并入 libc 之后的 4.0-STABLE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">400021</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">July 8, 2000</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">Binutils 升级到 2.10.0 之后的 4.0-STABLE， ELF
		      标志变化， 以及将 tcsh 引入基本系统</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">410000</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">July 14, 2000</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.1-RELEASE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">410001</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">July 29, 2000</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.1-RELEASE 之后的 4.1-STABLE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">410002</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">September 16, 2000</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">setproctitle</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">3</manvolnum></citerefentry> 从 libutil 移入 libc
		      之后的 4.1-STABLE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">411000</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">September 25, 2000</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.1.1-RELEASE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">411001</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.1.1-RELEASE 之后的 4.1.1-STABLE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">420000</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">October 31, 2000</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.2-RELEASE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">420001</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">January 10, 2001</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">合并 libgcc.a 和 libgcc_r.a，
		      并修改了相关的 GCC 连接方式之后的 4.2-STABLE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">430000</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">March 6, 2001</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.3-RELEASE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">430001</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">May 18, 2001</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">引入 wint_t 之后的 4.3-STABLE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">430002</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">July 22, 2001</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">PCI 电源状态 API 合并之后的 4.3-STABLE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">440000</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">August 1, 2001</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.4-RELEASE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">440001</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">October 23, 2001</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">引入 d_thread_t 之后的 4.4-STABLE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">440002</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">November 4, 2001</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">mount 结构改变之后的 4.4-STABLE (影响文件系统 kld)</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">440003</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">December 18, 2001</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">用户态部分的 smbfs 被引入之后的 4.4-STABLE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">450000</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">December 20, 2001</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.5-RELEASE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">450001</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">February 24, 2002</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">usb 结构元素改名之后的 4.5-STABLE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">450004</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">April 16, 2002</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">在 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">rc.conf</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry> 变量
		      <literal xmlns:xlink="http://www.w3.org/1999/xlink">sendmail_enable</literal> 默认值改为
		      <literal xmlns:xlink="http://www.w3.org/1999/xlink">NONE</literal> 之后的 4.5-STABLE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">450005</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">April 27, 2002</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">默认将 XFree86 4 用于预编译包联编之后的 4.5-STABLE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">450006</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">May 1, 2002</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">accept 过滤器修正了安全问题并且不再会轻易被 DoS
		      之后的 4.5-STABLE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">460000</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">June 21, 2002</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.6-RELEASE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">460001</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">June 21, 2002</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">修正了 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">sendfile</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">2</manvolnum></citerefentry> 以吻合文档，
		      而不再根据发出的头计算发出数据量之后的 4.6-STABLE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">460002</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">July 19, 2002</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.6.2-RELEASE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">460100</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">June 26, 2002</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.6-STABLE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">460101</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">June 26, 2002</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">MFC `sed -i' 之后的 4.6-STABLE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">460102</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">September 1, 2002</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">MFC 许多 pkg_install 新特性之后的 4.6-STABLE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">470000</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">October 8, 2002</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.7-RELEASE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">470100</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">October 9, 2002</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.7-STABLE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">470101</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">November 10, 2002</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">开始生成 __std{in,out,err}p 引用， 而不是 __sF。
		      这将 std{in,out,err} 从编译时表达式变成了运行时值。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">470102</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">January 23, 2003</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">MFC mbuf 相关的将 m_aux mbuf 改为 m_tag
		       的修改之后的 4.7-STABLE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">470103</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">February 14, 2003</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">OpenSSL 升级到 0.9.7 之后的 4.7-STABLE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">480000</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">March 30, 2003</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.8-RELEASE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">480100</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">April 5, 2003</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.8-STABLE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">480101</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">May 22, 2003</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">realpath</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">3</manvolnum></citerefentry> 变为线程安全的之后的 4.8-STABLE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">480102</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">August 10, 2003</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">对 twe 的 3ware API 修改之后的 4.8-STABLE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">490000</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">October 27, 2003</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.9-RELEASE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">490100</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">October 27, 2003</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.9-STABLE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">490101</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">January 8, 2004</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">kinfo_eproc 中加入 e_sid 之后的 4.9-STABLE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">490102</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">February 4, 2004</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">MFC rtld 的 libmap 功能之后的 4.9-STABLE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">491000</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">May 25, 2004</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.10-RELEASE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">491100</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">June 1, 2004</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.10-STABLE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">491101</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">August 11, 2004</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">MFC 20040629 版本的包维护工具之后的 4.10-STABLE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">491102</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">November 16, 2004</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">修正了 VM 当解除 wire 不存在页面时的问题之后的
		      4.10-STABLE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">492000</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">December 17, 2004</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.11-RELEASE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">492100</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">December 17, 2004</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.11-STABLE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">492101</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">April 18, 2006</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">将 libdata/ldconfig 目录加入 mtree 文件之后的
		      4.11-STABLE。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500000</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">March 13, 2000</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500001</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">April 18, 2000</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">加入 ELF 头字段， 并改变我们的 ELF 执行文件标记方式之后的
		      5.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500002</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">May 2, 2000</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">kld 元数据修改之后的 5.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500003</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">May 18, 2000</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">buf/bio 修改之后的 5.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500004</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">May 26, 2000</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">binutils 升级后的 5.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500005</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">June 3, 2000</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">将 libxpg4 并入 libc，
		      以及引入 TASKQ 之后的 5.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500006</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">June 10, 2000</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">加入 AGP 接口之后的 5.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500007</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">June 29, 2000</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">Perl 升级到 5.6.0 之后的 5.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500008</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">July 7, 2000</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">KAME 代码升级到 2000/07 之后的 5.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500009</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">July 14, 2000</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">ether_ifattach() 和 ether_detach()
		      修改之后的 5.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500010</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">July 16, 2000</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">将 mtree 改为原先的默认值，
		      并使用 -L 来跟随符号连接之后的 5.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500011</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">July 18, 2000</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">kqueue API 修改之后的 5.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500012</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">September 2, 2000</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">setproctitle</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">3</manvolnum></citerefentry> 从 libutil 挪到 libc 之后的
		      5.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500013</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">September 10, 2000</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">首个 SMPng commit 之后的 5.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500014</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">January 4, 2001</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">&lt;sys/select.h&gt; 改为 &lt;sys/selinfo.h&gt;
		      之后的 5.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500015</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">January 10, 2001</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">libgcc.a 和 libgcc_r.a 以及 GCC
		      连接方式变动之后的 5.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500016</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">January 24, 2001</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">修改以允许 libc 和 libc_r 连接到一起，
		      不再鼓励使用 -pthread 之后的 5.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500017</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">February 18, 2001</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">从 struct ucred 切换到 struct xucred
		      以便使内核为 mountd 等程序导出的 API 稳定下来之后的
		      5.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500018</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">February 24, 2001</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">加入 CPUTYPE 用于 CPU 专用的优化的
		      make 变量之后的 5.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500019</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">June 9, 2001</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">machine/ioctl_fd.h 改为 sys/fdcio.h 之后的
		      5.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500020</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">June 15, 2001</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">locale 名称改变之后的 5.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500021</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">June 22, 2001</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">引入 bzip2 之后的 5.0-CURRENT，
		    同时也代表删去了 S/Key</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500022</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">July 12, 2001</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">加入 SSE 支持之后的 5.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500023</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">September 14, 2001</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">KSE 第2个里程碑之后的 5.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500024</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">October 1, 2001</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">d_thread_t 之后的 5.0-CURRENT，
		      同时 UUCP 被移入 ports</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500025</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">October 4, 2001</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">64-位平台上的描述符和 creds API 变化之后的
		      5.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500026</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">October 9, 2001</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">采用 XFree86 4 作为默认的预编译包，
		      以及加入 strnstr() libc 函数之后的 5.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500027</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">October 10, 2001</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">加入 strcasestr() libc 函数之后的 5.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500028</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">December 14, 2001</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">引入了用户态的 smbfs 组件之后的 5.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">(未予增加)</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">加入了新的 C99 指定位宽整形变量之后的 5.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500029</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">January 29, 2002</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">修改了 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">sendfile</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">2</manvolnum></citerefentry> 的返回值之后的 5.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500030</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">February 15, 2002</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">引入适合表达文件标志的 <literal xmlns:xlink="http://www.w3.org/1999/xlink">fflags_t</literal>
		      类型之后的 5.0-</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500031</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">February 24, 2002</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">usb 结构元素改名之后的 5.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500032</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">March 16, 2002</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">引入 Perl 5.6.1 之后的 5.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500033</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">April 3, 2002</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">rc.conf</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry> 变量
		      <literal xmlns:xlink="http://www.w3.org/1999/xlink">sendmail_enable</literal> 默认值改为
		      <literal xmlns:xlink="http://www.w3.org/1999/xlink">NONE</literal> 之后的 5.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500034</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">April 30, 2002</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">mtx_init() 增加了第三个参数之后的 5.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500035</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">May 13, 2002</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">包含 Gcc 3.1 的 5.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500036</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">May 17, 2002</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">在 /usr/src 中删去了 Perl 的 5.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500037</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">May 29, 2002</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">加入 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">dlfunc</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">3</manvolnum></citerefentry> 之后的 5.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500038</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">July 24, 2002</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">一些 struct sockbuf 的成员变为结构，
		      并重新排列顺序之后的 5.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500039</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">September 1, 2002</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">引入 GCC 3.2.1 之后的 5.0-CURRENT。 头文件也不再使用
		      _BSD_FOO_T_ 而开始使用 _FOO_T_DECLARED。
		      这个值还可以用于作为一个包含使用 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">bzip2</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>
		      的预编译包支持的预期点。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500040</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">September 20, 2002</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">以去掉对 disklabel 结构内容的依赖的名义，
		      对磁盘相关的函数进行了许多修改之后的 5.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500041</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">October 1, 2002</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">libc 中加入 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">getopt_long</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">3</manvolnum></citerefentry> 之后的 5.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500042</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">October 15, 2002</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">Binutils 2.13 升级， 包含了新的 FreeBSD 模拟，
		      vec 以及输出格式之后的 5.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500043</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">November 1, 2002</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">libc 中加入了弱 pthread_XXX 符号之后的 5.0-CURRENT，
		      从而淘汰了 libXThrStub.so。 5.0-RELEASE。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500100</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">January 17, 2003</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">创建 RELENG_5_0 分支之后的 5.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500101</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">February 19, 2003</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">&lt;sys/dkstat.h&gt; 变成了一个空文件， 不应再被引用</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500102</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">February 25, 2003</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">修改 d_mmap_t 接口之后的 5.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500103</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">February 26, 2003</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">taskqueue_swi 以无全局锁的方式运行之后的 5.0-CURRENT，
		      同时还加入了使用全局锁的 taskqueue_swi_giant</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500104</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">February 27, 2003</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">去掉了 cdevsw_add() 和 cdevsw_remove()
		      出现 MAJOR_AUTO 分配机制</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500105</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">March 4, 2003</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">采用新的 cdevsw 初始化方法之后的 5.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500106</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">March 8, 2003</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">devstat_add_entry() 被
		      devstat_new_entry() 取代</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500107</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">March 15, 2003</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">修改 devstat 接口； 请参见 sys/sys/param.h 1.149</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500108</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">March 15, 2003</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">改变了 Token-Ring 接口</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500109</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">March 25, 2003</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">加入 vm_paddr_t</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500110</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">March 28, 2003</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">将 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">realpath</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">3</manvolnum></citerefentry> 改为线程安全之后的
		      5.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500111</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">April 9, 2003</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">usbhid</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">3</manvolnum></citerefentry> 与 NetBSD 同步之后的 5.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500112</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">April 17, 2003</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">加入新的 NSS 实现， 以及 POSIX.1 getpw*_r, getgr*_r
		      函数之后的 5.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500113</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">May 2, 2003</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">删去旧式 rc 系统之后的 5.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">501000</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">June 4, 2003</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.1-RELEASE.</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">501100</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">June 2, 2003</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">创建 RELENG_5_1 分支之后的 5.1-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">501101</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">June 29, 2003</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">改正 sigtimedwait(2) 和 sigwaitinfo(2)
		      语义之后的 5.1-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">501102</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">July 3, 2003</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">在 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">bus_dma_tag_create</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">9</manvolnum></citerefentry> 中加入了 lockfunc
		      和 lockfuncarg 字段之后的 5.1-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">501103</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">July 31, 2003</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">集成了 GCC 3.3.1-pre 20030711 之后的
		      5.1-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">501104</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">August 5, 2003</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">twe 中 3ware API 变化之后的 5.1-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">501105</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">August 17, 2003</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">允许动态连接 /bin 和 /sbin，
		      以及将某些库移动到 /lib 之后的 5.1-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">501106</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">September 8, 2003</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">增加内核级 Coda 6.x 支持之后的 5.1-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">501107</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">September 17, 2003</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">将 16550 UART 常量从
		      <filename xmlns:xlink="http://www.w3.org/1999/xlink">&lt;dev/sio/sioreg.h&gt;</filename> 挪到
		      <filename xmlns:xlink="http://www.w3.org/1999/xlink">&lt;dev/ic/ns16550.h&gt;</filename> 之后的
		      5.1-CURRENT。 此外， rtld 也从此无条件支持 libmap 功能</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">501108</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">September 23, 2003</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">更新 PFIL_HOOKS API 之后的 5.1-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">501109</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">September 27, 2003</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">增加 kiconv(3) 之后的 5.1-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">501110</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">September 28, 2003</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">默认的 cdevsw open 和 close 操作变化之后的 5.1-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">501111</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">October 16, 2003</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">cdevsw 的布局变化之后的 5.1-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">501112</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">October 16, 2003</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">增加 kobj 多继承之后的 5.1-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">501113</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">October 31, 2003</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">修改 struct ifnet 中的 if_xname 之后的 5.1-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">501114</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">November 16, 2003</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">将 /bin 和 /sbin 改为动态连接之后的 5.1-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">502000</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">December 7, 2003</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.2-RELEASE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">502010</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">February 23, 2004</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.2.1-RELEASE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">502100</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">December 7, 2003</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">创建 RELENG_5_2 分支之后的 5.2-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">502101</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">December 19, 2003</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">libc 中加入了 __cxa_atexit/__cxa_finalize
			两个函数之后的 5.2-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">502102</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">January 30, 2004</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">默认线程库从 libc_r 改为 libpthread 之后的
			5.2-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">502103</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">February 21, 2004</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">设备驱动 API 大规模翻修之后的 5.2-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">502104</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">February 25, 2004</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">增加 getopt_long_only() 之后的 5.2-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">502105</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">March 5, 2004</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">C 的 NULL 定义改为 ((void *)0) 之后的 5.2-CURRENT，
			这会产生更多的编译警告</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">502106</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">March 8, 2004</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">pf 连入联编和安装过程之后的 5.2-CURRENT
		    </entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">502107</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">March 10, 2004</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">在 sparc64 上将 time_t 改为 64-位 值之后的 5.2-CURRENT
		    </entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">502108</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">March 12, 2004</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">在一些头文件修改以支持 Intel C/C++ 编译器，
			以及让 execve(2) 更严格地符合 POSIX 之后的
			5.2-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">502109</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">March 22, 2004</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">引入 bus_alloc_resource_any API 之后的 5.2-CURRENT
		    </entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">502110</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">March 27, 2004</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">加入 UTF-8 locale 之后的 5.2-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">502111</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">April 11, 2004</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">删去 getvfsent(3) API 之后的 5.2-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">502112</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">April 13, 2004</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">为 make(1) 增加 .warning 语句之后的 5.2-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">502113</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">June 4, 2004</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">所有串口设备都强制使用 ttyioctl() 之后的 5.2-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">502114</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">June 13, 2004</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">引入 ALTQ 框架之后的 5.2-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">502115</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">June 14, 2004</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">修改 sema_timedwait(9) 使其成功时返回 0，
		      失败时返回非 0 的错误代码之后的 5.2-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">502116</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">June 16, 2004</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">将内核 dev_t 改为指向 struct cdev * 的指针之后的
		      5.2-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">502117</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">June 17, 2004</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">将内核 udev_t 改为 dev_t 之后的 5.2-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">502118</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">June 17, 2004</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">为 clock_gettime(2) 和 clock_getres(2) 增加
		      CLOCK_VIRTUAL 和 CLOCK_PROF 支持之后的 5.2-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">502119</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">June 22, 2004</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">对网络接口复制进行全面修改之后的 5.2-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">502120</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">July 2, 2004</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">package 工具升级为 20040629 之后的 5.2-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">502121</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">July 9, 2004</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">不再将蓝牙代码标记为 i386 专用之后的 5.2-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">502122</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">July 11, 2004</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">引入 KDB 调试器框架之后的 5.2-CURRENT。
		      同时还引入了 DDB 作为后台， 以及 GDB 后台。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">502123</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">July 12, 2004</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">修改 VFS_ROOT 和 vflush 使其使用一个 struct
		      thread 参数之后的 5.2-CURRENT。 struct kinfo_proc
		      增加了一个用户数据指针。 同时， 默认的 X 实现切换为
		      <literal xmlns:xlink="http://www.w3.org/1999/xlink">xorg</literal></entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">502124</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">July 24, 2004</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">将使用 rc.d 和传统脚本的 port 分别启动之后的
		      5.2-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">502125</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">July 28, 2004</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">取消前一修改之后的 5.2-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">502126</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">July 31, 2004</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">删除 kmem_alloc_pageable() 并引入 gcc 3.4.2 的
		      5.2-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">502127</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">August 2, 2004</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">修改 UMA 内核 API 允许构建函数和初始化失败之后的
		      5.2-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">502128</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">August 8, 2004</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">vfs_mount 签名和全局替换 suser(9) API 的
		      PRISON_ROOT 为 SUSER_ALLOWJAIL 之后的 5.2-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">503000</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">August 23, 2004</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">pfil API 修改之前的 5.3-BETA/RC</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">503001</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">September 22, 2004</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.3-RELEASE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">503100</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">October 16, 2004</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">创建 RELENG_5_3 分支之后的 5.3-STABLE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">503101</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">December 3, 2004</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">加入了 glibc 风格的
		      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">strftime</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">3</manvolnum></citerefentry> 填充选项的 5.3-STABLE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">503102</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">February 13, 2005</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">MFC OpenBSD 的 nc(1) 之后的 5.3-STABLE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">503103</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">February 27, 2005</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">在 MFC 了
			<filename xmlns:xlink="http://www.w3.org/1999/xlink">&lt;src/include/stdbool.h&gt;</filename> 和
			<filename xmlns:xlink="http://www.w3.org/1999/xlink">&lt;src/sys/i386/include/_types.h&gt;</filename>
			用于兼容 GCC 和 Intel C/C++ 编译器的修正之后的 5.4-PRERELEASE</entry>
 		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">503104</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">February 28, 2005</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">MFC 了将 ifi_epoch 由 wall 时钟时间改为 uptime
		       之后的 5.4-PRERELEASE</entry>
 		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">503105</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">March 2, 2005</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">MFC 了 vswprintf(3) 中的 EOVERFLOW 检查的 5.4-PRERELEASE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">504000</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">April 3, 2005</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.4-RELEASE.</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">504100</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">April 3, 2005</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">创建 RELENG_5_4 分支之后的 5.4-STABLE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">504101</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">May 11, 2005</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">加大默认线程堆栈尺寸之后的 5.4-STABLE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">504102</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">June 24, 2005</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">加入 sha256 之后的 5.4-STABLE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">504103</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">October 3, 2005</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">MFC if_bridge 之后的 5.4-STABLE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">504104</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">November 13, 2005</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">bsdiff 和 portsnap MFC 之后的 5.4-STABLE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">504105</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">January 17, 2006</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">在 MFC 了 ldconfig_local_dirs
		      修改之后的 5.4-STABLE。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">505000</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">May 12, 2006</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.5-RELEASE.</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">505100</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">May 12, 2006</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">在创建 RELENG_5_5 分支之后的 5.5-STABLE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600000</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">August 18, 2004</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">6.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600001</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">August 27, 2004</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">内核中永久性启用 PFIL_HOOKS 之后的 6.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600002</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">August 30, 2004</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">最初将 ifi_epoch 加入 if_data 结构之后的 6.0-CURRENT。
		      此后不久即被撤销。 请不要使用这个值。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600003</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">September 8, 2004</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">if_data 中再次加入 ifi_epoch 成员之后的 6.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600004</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">September 29, 2004</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">将 struct inpcb 参数加入 pfil API 之后的 6.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600005</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">October 5, 2004</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">newsyslog 加入了 "-d
		      DESTDIR" 参数之后的 6.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600006</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">November 4, 2004</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">加入了 glibc 风格的
		      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">strftime</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">3</manvolnum></citerefentry> 填充选项之后的 6.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600007</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">December 12, 2004</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">加入了 802.11 框架更新之后的 6.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600008</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">January 25, 2005</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">修改 VOP_*VOBJECT() 并为无全局锁的文件系统引入
		      MNTK_MPSAFE 标志之后的 6.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600009</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">February 4, 2005</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">加入 cpufreq 框架和驱动之后的 6.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600010</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">February 6, 2005</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">引入 OpenBSD 的 nc(1) 之后的 6.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600011</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">February 12, 2005</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">删去并不存在的 SVID2
			<literal xmlns:xlink="http://www.w3.org/1999/xlink">matherr()</literal> 支持之后的 6.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600012</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">February 15, 2005</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">增大默认线程堆栈尺寸之后的 6.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600013</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">February 19, 2005</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">增加了针对
			<filename xmlns:xlink="http://www.w3.org/1999/xlink">&lt;src/include/stdbool.h&gt;</filename> 和
			<filename xmlns:xlink="http://www.w3.org/1999/xlink">&lt;src/sys/i386/include/_types.h&gt;</filename>
			的用于 Intel C/C++ 编译器的 GCC-兼容性修正。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600014</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">February 21, 2005</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">修正了 vswprintf(3) 的 EOVERFLOW 检查之后的 6.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600015</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">February 25, 2005</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">将 struct if_data 成员 ifi_epoch 从 wall 时钟时间改为 uptime
		       之后的 6.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600016</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">February 26, 2005</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">修改 LC_CTYPE 磁盘格式之后的 6.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600017</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">February 27, 2005</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">修改 NLS 编录磁盘格式之后的 6.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600018</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">February 27, 2005</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">修改 LC_COLLATE 磁盘格式之后的 6.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600019</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">February 28, 2005</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">将 acpica 头文件安装到 /usr/include</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600020</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">March 9, 2005</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">为 send(2) API 加入了 MSG_NOSIGNAL</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600021</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">March 17, 2005</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">在 cdevsw 上增加了一些字段</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600022</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">March 21, 2005</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">基本系统中删去了 gtar</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600023</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">April 13, 2005</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">unix(4) 中加入了 LOCAL_CREDS, LOCAL_CONNWAIT 两个 socket 选项</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600024</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">April 19, 2005</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">加入了 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">hwpmc</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry> 及其相关工具之后的 6.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600025</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">April 26, 2005</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">加入 struct icmphdr 之后的 6.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600026</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">May 3, 2005</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">pf 更新到了 3.7</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600027</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">May 6, 2005</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">引入了内核 libalias 和 ng_nat</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600028</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">May 13, 2005</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">将 ttyname_r(3) 接口改为符合 POSIX 标准，
			并通过 unistd.h 和 libc</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600029</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">May 29, 2005</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">将 libpcap 升级为 v0.9.1 alpha 096 之后的 6.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600030</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">June 5, 2005</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">引入 NetBSD 的 if_bridge(4) 之后的 6.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600031</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">June 10, 2005</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">将 struct ifnet 从驱动的 softc 中拆出之后的 6.0-CURRENT。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600032</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">July 11, 2005</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">引入了 libpcap v0.9.1 之后的 6.0-CURRENT。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600033</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">July 25, 2005</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">所有自 RELENG_5 以来没有修改过的共享库的版本递增之后的
		      6.0-STABLE。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600034</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">August 13, 2005</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">为 dev_clone 事件处理函数增加身份信息参数之后的
		      6.0-STABLE。 6.0-RELEASE。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600100</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">November 1, 2005</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">6.0-RELEASE 之后的 6.0-STABLE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600101</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">December 21, 2005</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">将 local_startup 目录中的脚本集成到基本系统的 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">rcorder</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
		      之后的 6.0-STABLE。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600102</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">December 30, 2005</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">更新 ELF 类型和常量之后的 6.0-STABLE。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600103</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">January 15, 2006</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">MFC 了 pidfile(3) API 之后的 6.0-STABLE。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600104</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">January 17, 2006</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">在 MFC 了 ldconfig_local_dirs
		      修改之后的 6.0-STABLE。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600105</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">February 26, 2006</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">在 csh(1) 中加入了 NLS 目录支持之后的 6.0-STABLE。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">601000</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">May 6, 2006</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">6.1-RELEASE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">601100</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">May 6, 2006</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">6.1-RELEASE 之后的 6.1-STABLE。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">601101</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">June 22, 2006</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">引入 csup 之后的 6.1-STABLE。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">601102</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">July 11, 2006</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">更新了 iwi(4) 之后的 6.1-STABLE。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">601103</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">July 17, 2006</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">将域名解析函数更新至
		      BIND9， 并导出了可重入版本的
		      netdb 函数之后的 6.1-STABLE。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">601104</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">August 8, 2006</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">在 OpenSSL 中启用了 DSO (动态共享库)
		      支持之后的 6.1-STABLE。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">601105</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">September 2, 2006</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">由于 802.11 修正变动了 IEEE80211_IOC_STA_INFO ioctl API
		      之后的 6.1-STABLE。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">602000</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">November 15, 2006</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">6.2-RELEASE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">602100</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">September 15, 2006</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">6.2-RELEASE 之后的 6.2-STABLE。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">602101</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">December 12, 2006</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">加入 Wi-Spy
		      quirk 之后的 6.2-STABLE。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">602102</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">December 28, 2006</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">增加 pci_find_extcap() 之后的 6.2-STABLE。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">602103</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">January 16, 2007</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">MFC 了对 dlsym 进行修改， 使其在指定 dso 及其暗指的依赖中查找符号之后的
		      6.2-STABLE。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">602104</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">January 28, 2007</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">MFC 了 netgraph 节点 ng_deflate(4) 和
		      ng_pred1(4) 以及用于 ng_ppp(4)
		      节点的新压缩及加密模式之后的 6.2-STABLE。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">602105</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">February 20, 2007</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">MFC 了从 NetBSD 移植的 BSD 授权的 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">gzip</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> 之后的 6.2-STABLE。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">602106</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">March 31, 2007</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">MFC 了 PCI MSI 和 MSI-X 支持之后的 6.2-STABLE。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">602107</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">April 6, 2007</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">MFC 了包含宽字符支持的 ncurses 5.6 之后的 6.2-STABLE。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">602108</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">April 11, 2007</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">MFC 了实现 Linux SCSI SG 直通设备 API 子集的 CAM 'SG'
			设备之后的 6.2-STABLE。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">602109</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">April 17, 2007</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">MFC 了 readline 5.2 patchset 002 之后的 6.2-STABLE。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">602110</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">May 2, 2007</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">MFC 了用于 amd64 和 i386 的 pmap_invalidate_cache()、
		      pmap_change_attr()、 pmap_mapbios()、 pmap_mapdev_attr()、
		      and pmap_unmapbios() 之后的 6.2-STABLE。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">602111</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">June 11, 2007</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">由于 MFC 了 BOP_BDFLUSH 导致文件系统模块 KBI
		      变化之后的 6.2-STABLE。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">602112</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">September 21, 2007</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">一系列 libutil(3) MFC 之后的 6.2-STABLE。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">602113</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">October 25, 2007</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">MFC 了宽字符和单字节 ctype 函数分拆之后的 6.2-STABLE。
		      新编译的引用了 ctype.h 的可执行文件，
		      可能会需要一个在旧系统上不存在的新增符号 __mb_sb_limit。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">602114</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">October 30, 2007</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">恢复了 ctype ABI 向前兼容性之后的 6.2-STABLE。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">602115</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">November 21, 2007</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">回退了宽字符和单字节 ctype 分拆之后的 6.2-STABLE。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">603000</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">November 25, 2007</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">6.3-RELEASE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">603100</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">November 25, 2007</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">在 6.3-RELEASE 之后的 6.3-STABLE。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">603101</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">December 7, 2007</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">修正了 bit macro 的多字节支持之后的 6.3-STABLE。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">603102</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">April 24, 2008</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">为 flock 结构加入 l_sysid 之后的
		      6.3-STABLE。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">603103</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">May 27, 2008</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">MFC 了
		      <function xmlns:xlink="http://www.w3.org/1999/xlink">memrchr</function> 函数之后的 6.3-STABLE。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">603104</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">June 15, 2008</entry>
                    <entry xmlns:xlink="http://www.w3.org/1999/xlink">为 make(1) MFC <literal xmlns:xlink="http://www.w3.org/1999/xlink">:u</literal>
                      变量修饰符之后的 6.3-STABLE。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">604000</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">October 4, 2008</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">6.4-RELEASE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">604100</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">October 4, 2008</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">6.4-RELEASE 之后的 6.4-STABLE。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700000</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">July 11, 2005</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.0-CURRENT。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700001</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">July 23, 2005</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">所有自 RELENG_5 以来没有修改过的共享库的版本递增之后的
		      7.0-CURRENT。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700002</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">August 13, 2005</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">为 dev_clone 事件处理函数中增加身份信息参数之后的
		      7.0-CURRENT。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700003</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">August 25, 2005</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">将 memmem(3) 加入 libc 之后的 7.0-CURRENT。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700004</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">October 30, 2005</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">将 solisten(9) 改为接受一 backlog 参数之后的
		      7.0-CURRENT。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700005</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">November 11, 2005</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">将 IFP2ENADDR() 改为返回一 IF_LLADDR() 指针之后的
		      7.0-CURRENT。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700006</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">November 11, 2005</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">在 <literal xmlns:xlink="http://www.w3.org/1999/xlink">struct ifnet</literal> 中增加 <literal xmlns:xlink="http://www.w3.org/1999/xlink">if_addr</literal>
		      成员， 并删除 IFP2ENADDR() 之后的 7.0-CURRENT。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700007</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">December 2, 2005</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">将 local_startup 目录中的脚本集成到基本系统的 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">rcorder</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
		      之后的 7.0-CURRENT。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700008</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">December 5, 2005</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">去掉 MNT_NODEV 挂接选项之后的 7.0-CURRENT。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700009</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">December 19, 2005</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">对 ELF-64 类型和符号版本进行变更之后的
		      7.0-CURRENT。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700010</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">December 20, 2005</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">增加 hostb 和 vgapci 驱动、 pci_find_extcap()，
		      并将 AGP 驱动改为不再影射 aperature
		      之后的 7.0-CURRENT。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700011</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">December 31, 2005</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">除 Alpha 之外的所有平台上 tv_sec 改为 time_t
		      之后的 7.0-CURRENT。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700012</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">January 8, 2006</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">修改 ldconfig_local_dirs 之后的 7.0-CURRENT。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700013</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">January 12, 2006</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">在修改了
		      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.d/abi</filename> 以支持
		      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/compat/linux/etc/ld.so.cache</filename>
		      以某只读文件系统上的符号连接形式存在之后的 7.0-CURRENT。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700014</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">January 26, 2006</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">引入 pts 之后的 7.0-CURRENT。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700015</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">March 26, 2006</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">在引入 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">hwpmc</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry> 的第 2 版 ABI
		      之后的 7.0-CURRENT。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700016</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">April 22, 2006</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">在 libc 中加入了 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">fcloseall</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">3</manvolnum></citerefentry> 之后的
		      7.0-CURRENT。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700017</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">May 13, 2006</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">删去 ip6fw 之后的 7.0-CURRENT。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700018</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">July 15, 2006</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">引入了 snd_emu10kx 之后的 7.0-CURRENT。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700019</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">July 29, 2006</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">引入了 OpenSSL 0.9.8b 之后的 7.0-CURRENT。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700020</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">September 3, 2006</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">增加了 bus_dma_get_tag 函数之后的 7.0-CURRENT。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
                    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700021</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">September 4, 2006</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">在引入了 libpcap 0.9.4 和
                      tcpdump 3.9.4 之后的 7.0-CURRENT。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
                    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700022</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">September 9, 2006</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">在对 dlsym 进行修改， 使其在指定 dso 及其暗指的依赖中查找符号之后的
                      7.0-CURRENT。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700023</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">September 23, 2006</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">为 OSSv4 混音器 API 加入新的声音
                      IOCTL 之后的 7.0-CURRENT。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700024</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">September 28, 2006</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">汇入 OpenSSL 0.9.8d 之后的 7.0-CURRENT。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700025</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">November 11, 2006</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">加入了 libelf 之后的 7.0-CURRENT。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700026</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">November 26, 2006</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">对音效相关的 sysctl 进行大幅调整之后的 7.0-CURRENT。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700027</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">November 30, 2006</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">加入 Wi-Spy
		      quirk 之后的 7.0-CURRENT。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700028</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">December 15, 2006</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">在 libc 中加入 sctp 调用之后的 7.0-CURRENT。
		    </entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700029</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">January 26, 2007</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">将 GNU <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">gzip</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> 实现替换为从 NetBSD 移植的采用 BSD 授权版本之后的
		      7.0-CURRENT。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700030</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">February 7, 2007</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">在 IPv4 多播转发代码中删去了 IPIP 隧道封装 (VIFF_TUNNEL) 之后的
		      7.0-CURRENT。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700031</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">February 23, 2007</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">修改了 bus_setup_intr() (newbus) 之后的 7.0-CURRENT。
		    </entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700032</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">March 2, 2007</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">引入了 ipw(4) 和 iwi(4) 固件之后的 7.0-CURRENT。
		    </entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700033</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">March 9, 2007</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">在 ncurses 中引入了宽字符支持之后的 7.0-CURRENT。
		    </entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700034</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">March 19, 2007</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">修改了 insmntque()、
		      getnewvnode() 以及 vfs_hash_insert() 工作方式之后的 7.0-CURRENT。
		    </entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700035</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">March 26, 2007</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">增加 CPU 频率变动通知机制之后的 7.0-CURRENT。
		    </entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700036</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">April 6, 2007</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">引入了 ZFS 文件系统之后的 7.0-CURRENT。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700037</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">April 8, 2007</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">新增了实现 Linux SCSI SG 直通设备 API 子集的 CAM 'SG'
		      设备之后的 7.0-CURRENT。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700038</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">April 30, 2007</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">将 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">getenv</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">3</manvolnum></citerefentry>、 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">putenv</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">3</manvolnum></citerefentry>、
		      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">setenv</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">3</manvolnum></citerefentry> 和 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">unsetenv</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">3</manvolnum></citerefentry> 改为符合 POSIX
		      之后的 7.0-CURRENT。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700039</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">May 1, 2007</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">回退了 700038 中的变动之后的 7.0-CURRENT。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700040</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">May 10, 2007</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">在 libutil 中增加了 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">flopen</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">3</manvolnum></citerefentry> 之后的 7.0-CURRENT。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700041</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">May 13, 2007</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">启用了符号版本， 并将 libthr 改为默认线程库之后的 7.0-CURRENT。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700042</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">May 19, 2007</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">引入了 gcc 4.2.0 之后的 7.0-CURRENT。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700043</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">May 21, 2007</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">将 RELENG_6 之后未修改过版本的共享库版本增加之后的 7.0-CURRENT。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700044</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">June 7, 2007</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">将 vn_open()/VOP_OPEN() 的参数由文件描述符数组下标改为
		      struct file * 之后的 7.0-CURRENT。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700045</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">June 10, 2007</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">修改 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pam_nologin</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> 使其向 PAM
		      框架提供帐号管理功能而非身份验证功能之后的 7.0-CURRENT。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700046</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">June 11, 2007</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">更新 802.11 无线支持之后的 7.0-CURRENT。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700047</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">June 11, 2007</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">增加 TCP LRO 网络接口能力之后的 7.0-CURRENT。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700048</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">June 12, 2007</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">在 IPv4 协议栈中加入了 RFC 3678 API 支持之后的 7.0-CURRENT。
		      先前 IP_MULTICAST_IF ioctl 的 RFC 1724 行为被删去；
		      0.0.0.0/8 不再能够用于指定接口索引下标， 而应使用
		      struct ipmreqn 代替。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700049</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">July 3, 2007</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">引入 OpenBSD
		      4.1 的 pf 之后的 7.0-CURRENT。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">(not changed)</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">为
		      FAST_IPSEC 增加 IPv6 支持， 删去 KAME IPSEC， 并将
		      FAST_IPSEC 更名为 IPSEC 之后的 7.0-CURRENT。
		      (未变动)</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700050</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">July 4, 2007</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">将 setenv/putenv/等等调用，
		      从传统 BSD 改为 POSIX 标准之后的 7.0-CURRENT。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700051</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">July 4, 2007</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">增加新的 mmap/lseek/等等这些系统调用之后的 7.0-CURRENT。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700052</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">July 6, 2007</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">将 I4B 头文件移动到
		      include/i4b 之后的 7.0-CURRENT。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700053</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">September 30, 2007</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">增加了 PCI domain 支持之后的 7.0-CURRENT。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700054</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">October 25, 2007</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">MFC 了宽字符和单字节字符 ctype 分拆之后的 7.0-CURRENT。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700055</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">October 28, 2007</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.0-RELEASE， 以及 MFC 了恢复对 FreeBSD 4/5/6 版本的 PCIOCGETCONF、
		      PCIOCREAD 和 PCIOCWRITE IOCTL ABI 向下兼容之后的 7.0-CURRENT，
		      这一变动导致 PCIOCGETCONF IOCTL 的 ABI 再次发生变化。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700100</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">December 22, 2007</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.0-RELEASE 之后的 7.0-STABLE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700101</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">February 8, 2008</entry>
                    <entry xmlns:xlink="http://www.w3.org/1999/xlink">MFC m_collapse() 之后的 7.0-STABLE。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700102</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">March 30, 2008</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">MFC kdb_enter_why() 之后的 7.0-STABLE。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700103</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">April 10, 2008</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">为 flock 结构加入 l_sysid 之后的 7.0-STABLE。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700104</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">April 11, 2008</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">在 procstat(1) MFC 之后的 7.0-STABLE。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700105</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">April 11, 2008</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">在 MFC umtx 特性之后的 7.0-STABLE。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700106</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">April 15, 2008</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">为 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">psm</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry> MFC <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">write</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">2</manvolnum></citerefentry> 支持之后的
		      7.0-STABLE。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700107</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">April 20, 2008</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">为 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">fcntl</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">2</manvolnum></citerefentry> MFC F_DUP2FD 之后的
		      7.0-STABLE。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700108</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">May 5, 2008</entry>
                    <entry xmlns:xlink="http://www.w3.org/1999/xlink">对 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lockmgr</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">9</manvolnum></citerefentry> 做了一些修改之后的 7.0-STABLE，
                      在使用 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lockmgr</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">9</manvolnum></citerefentry> 时必需包含
                      <filename xmlns:xlink="http://www.w3.org/1999/xlink">sys/lock.h</filename>。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700109</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">May 27, 2008</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">MFC 了
		      <function xmlns:xlink="http://www.w3.org/1999/xlink">memrchr</function> 函数之后的 7.0-STABLE。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700110</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">August 5, 2008</entry>
                    <entry xmlns:xlink="http://www.w3.org/1999/xlink">MFC 了内核 NFS locked 客户端之后的
                      7.0-STABLE。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700111</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">August 20, 2008</entry>
                    <entry xmlns:xlink="http://www.w3.org/1999/xlink">加入了对物理连续巨帧支持之后的 7.0-STABLE。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700112</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">August 27, 2008</entry>
                    <entry xmlns:xlink="http://www.w3.org/1999/xlink">在 MFC 内核 DTrace 支持之后的 7.0-STABLE。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">701000</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">November 25, 2008</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.1-RELEASE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">701100</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">November 25, 2008</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.1-RELEASE 之后的 7.1-STABLE。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">701101</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">January 10, 2009</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">合并了 <function xmlns:xlink="http://www.w3.org/1999/xlink">strndup</function>
			之后的 7.1-STABLE。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">701102</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">January 17, 2009</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">加入了 cpuctl(4) 支持之后的 7.1-STABLE。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">701103</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">February 7, 2009</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">合并了 多/无-IPv4/v6 jail 之后的 7.1-STABLE。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">701104</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">February 14, 2009</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">在 struct mount 中保存了挂起属主， 以及在 struct vfsops
		      中引入了 vfs_susp_clean
		      方法之后的 7.1-STABLE。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">701105</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">March 12, 2009</entry>
                    <entry xmlns:xlink="http://www.w3.org/1999/xlink">对 kern.ipc.shmsegs sysctl 变量不兼容的修改，
                      以允许在 64bit 构架上分配更多的 SysV 共享内存段之后的
                      7.1-STABLE。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">701106</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">March 14, 2009</entry>
                    <entry xmlns:xlink="http://www.w3.org/1999/xlink">合并了一个对 POSIX semaphore 等待操作修正之后的
                      7.1-STABLE。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">702000</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">April 15, 2009</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.2-RELEASE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">702100</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">April 15, 2009</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.2-RELEASE 之后的 7.2-STABLE。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">702101</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">May 15, 2009</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">ichsmb(4) 改为使用左邻接辅编址来保持与其它
		      SMBus 控制器驱动一致性之后的 7.2-STABLE。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">702102</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">May 28, 2009</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">MFC 了
		      <function xmlns:xlink="http://www.w3.org/1999/xlink">fdopendir</function> 函数之后的 7.2-STABLE。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">702103</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">June 06, 2009</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">MFC 了 PmcTools 之后的 7.2-STABLE。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">702104</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">July 14, 2009</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">MFC 了
		      <function xmlns:xlink="http://www.w3.org/1999/xlink">closefrom</function> 系统调用之后的 7.2-STABLE。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">702105</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">July 31, 2009</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">MFC 了 SYSVIPC ABI
		      改动之后的 7.2-STABLE。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">702106</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">September 14, 2009</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">MFC 了 x86 PAT
		      增强， 并新增了 d_mmap_single() 以及
		      scatter/gather 型 VM 对象类型之后的 7.2-STABLE。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">703000</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">February 9, 2010</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.3-RELEASE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">703100</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">February 9, 2010</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.3-RELEASE 之后的 7.3-STABLE。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">704000</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">December 22, 2010</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.4-RELEASE</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">704100</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">December 22, 2010</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.4-RELEASE 之后的 7.4-STABLE。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800000</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">October 11, 2007</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">8.0-CURRENT。 分拆了宽字符和单字节字符
		      ctype。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800001</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">October 16, 2007</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">引入了 libpcap 0.9.8 和 tcpdump 3.9.8 之后的 8.0-CURRENT。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800002</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">October 21, 2007</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">将 kthread_create() 系列函数改名为 kproc_create() 之后的 8.0-CURRENT。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800003</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">October 24, 2007</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">恢复了对 FreeBSD 4/5/6 版本的 PCIOCGETCONF、
		      PCIOCREAD 和 PCIOCWRITE IOCTL ABI 向下兼容之后的 8.0-CURRENT，
		      这一变动导致 PCIOCGETCONF IOCTL 的 ABI 再次发生变化。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800004</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">November 12, 2007</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">将 agp(4) 驱动从
		      src/sys/pci 挪到 src/sys/dev/agp 之后的 8.0-CURRENT。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800005</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">December 4, 2007</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.freebsd.org/cgi/cvsweb.cgi/src/sys/kern/kern_mbuf.c#rev1.35">修改了
		      jumbo frame 分配器之后的</link> 8.0-CURRENT。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800006</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">December 7, 2007</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">在给 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">hwpmc</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry> 加入了 callgraph 捕捉功能后的
		      8.0-CURRENT</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800007</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">December 25, 2007</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">kdb_enter() 增加 "why" 参数之后的 8.0-CURRENT。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800008</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">December 28, 2007</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">在去除 LK_EXCLUPGRADE 选项后的 8.0-CURRENT。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800009</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">January 9, 2008</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">引入
		      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lockmgr_disown</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">9</manvolnum></citerefentry> 之后的 8.0-CURRENT。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800010</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">January 10, 2008</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">修改 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">vn_lock</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">9</manvolnum></citerefentry> 原型之后的 8.0-CURRENT。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800011</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">January 13, 2008</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">修改 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">VOP_LOCK</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">9</manvolnum></citerefentry> 和
		      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">VOP_UNLOCK</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">9</manvolnum></citerefentry> 原型之后的 8.0-CURRENT。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800012</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">January 19, 2008</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">引入
		      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lockmgr_recursed</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">9</manvolnum></citerefentry>、 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">BUF_RECURSED</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">9</manvolnum></citerefentry> 和
		      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">BUF_ISLOCKED</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">9</manvolnum></citerefentry> 并删除了
		      <function xmlns:xlink="http://www.w3.org/1999/xlink">BUF_REFCNT()</function> 之后的 8.0-CURRENT。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800013</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">January 23, 2008</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">引入
		      <quote xmlns:xlink="http://www.w3.org/1999/xlink">ASCII</quote> 编码之后的 8.0-CURRENT。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800014</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">January 24, 2008</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">修改 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lockmgr</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">9</manvolnum></citerefentry> 并删除了
		      <function xmlns:xlink="http://www.w3.org/1999/xlink">lockcount()</function> 和
		      <function xmlns:xlink="http://www.w3.org/1999/xlink">LOCKMGR_ASSERT()</function> 之后的 8.0-CURRENT。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800015</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">January 26, 2008</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">扩展了 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">fts</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">3</manvolnum></citerefentry> 数据结构之后的 8.0-CURRENT。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800016</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">February 1, 2008</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">为 MEXTADD(9) 增加了一个参数之后的 8.0-CURRENT。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800017</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">February 6, 2008</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">为 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lockmgr</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">9</manvolnum></citerefentry> 引入 LK_NODUP 和
		      LK_NOWITNESS 选项后的 8.0-CURRENT。</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800018</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">February 8, 2008</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">引入 m_collapse 之后的 8.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800019</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">February 9, 2008</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">为 sysctl 变量 kern.proc.filedesc 加入
		      当前工作目录，root 目录和 jail 目录支持之后的
		      8.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800020</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">February 13, 2008</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">引入 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lockmgr_assert</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">9</manvolnum></citerefentry> 之后的
		      8.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800021</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">February 15, 2008</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">引入 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lockmgr_args</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">9</manvolnum></citerefentry> 和移除
		      LK_INTERNAL 标志之后的 8.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800022</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">(backed out)</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">把 BSD <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ar</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> 作为系统默认的 ar 之后的
		      8.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800023</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">February 25, 2008</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">修改了 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lockstatus</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">9</manvolnum></citerefentry> 和 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">VOP_ISLOCKED</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">9</manvolnum></citerefentry>
		      原型，特别时去掉 <literal xmlns:xlink="http://www.w3.org/1999/xlink">struct thread</literal>
		      参数之后的 8.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800024</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">March 1, 2008</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">砍掉了 <function xmlns:xlink="http://www.w3.org/1999/xlink">lockwaiters</function> 和
		      <function xmlns:xlink="http://www.w3.org/1999/xlink">BUF_LOCKWAITERS</function> 函数，
		      <function xmlns:xlink="http://www.w3.org/1999/xlink">brelvp</function> 的返回值从 void
		      修改成 int，并引入 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lockinit</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">9</manvolnum></citerefentry> 新标志之后的
		      8.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800025</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">March 8, 2008</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">为 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">fcntl</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">2</manvolnum></citerefentry> 引入 F_DUP2FD 之后的
		      8.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800026</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">March 12, 2008</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">修改了 cv_broadcastpri 优先权参数之后的
		      8.0-CURRENT，比如 0 表示无优先权。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800027</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">March 24, 2008</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">修改了 bpf 监测 ABI, 加入了 zerocopy bpf buffer
		      之后的 8.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800028</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">March 26, 2008</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">为 flock 结构增加了 l_sysid 之后的
		      8.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800029</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">March 28, 2008</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">重新整合了 <function xmlns:xlink="http://www.w3.org/1999/xlink">BUF_LOCKWAITERS</function>
		      函数并加入 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lockmgr_waiters</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">9</manvolnum></citerefentry> 之后的
		      8.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800030</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">April 1, 2008</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">引入 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">rw_try_rlock</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">9</manvolnum></citerefentry> 和 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">rw_try_wlock</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">9</manvolnum></citerefentry>
		      之后的 8.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800031</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">April 6, 2008</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">引入 <function xmlns:xlink="http://www.w3.org/1999/xlink">lockmgr_rw</function> 和
		      <function xmlns:xlink="http://www.w3.org/1999/xlink">lockmgr_args_rw</function>
		      函数之后的 8.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800032</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">April 8, 2008</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">实现了 openat 和相关的系统调用，为 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">open</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">2</manvolnum></citerefentry>
		      引入了 O_EXEC 标志，和提供了相应的 linux
		      兼容的系统调用之后的 8.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800033</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">April 8, 2008</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">为 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">psm</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry> 增加了原生的 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">write</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">2</manvolnum></citerefentry>
		      支持之后的 8.0-CURRENT。 现在任意命令可写入
		      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/psm%d</filename>
		      并读出状态。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800034</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">April 10, 2008</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">引入 <function xmlns:xlink="http://www.w3.org/1999/xlink">memrchr</function>
		      函数之后的 8.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800035</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">April 16, 2008</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">引入 <function xmlns:xlink="http://www.w3.org/1999/xlink">fdopendir</function>
		      函数之后的 8.0-CURRENT</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800036</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">April 20, 2008</entry>
                    <entry xmlns:xlink="http://www.w3.org/1999/xlink">无线部分转向 multi-bss (也叫做 vaps)
                      支持之后的 8.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800037</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">May 9, 2008</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">加入多路由表支持 (也就是 setfib(1)、 stfib(2)） 后的 8.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800038</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">May 26, 2008</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">删去了 netatm 和
		      ISDN4BSD 后的 8.0-CURRENT。 这个版本也表示增加了
		      Compact C Type (CTF) 工具。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800039</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">June 14, 2008</entry>
                    <entry xmlns:xlink="http://www.w3.org/1999/xlink">移除 sgtty 之后的 8.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800040</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">June 26, 2008</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">增加了内核级 NFS lockd 客户端的 8.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800041</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">July 22, 2008</entry>
                    <entry xmlns:xlink="http://www.w3.org/1999/xlink">增加了 arc4random_buf(3) 和 arc4random_uniform(3)
                      之后的 8.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800042</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">August 8, 2008</entry>
                    <entry xmlns:xlink="http://www.w3.org/1999/xlink">增加了 cpuctl(4) 之后的 8.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800043</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">August 13, 2008</entry>
                    <entry xmlns:xlink="http://www.w3.org/1999/xlink">修改 bpf(4) 使用单一的设备节点而不是克隆之后的 8.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800044</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">August 17, 2008</entry>
                    <entry xmlns:xlink="http://www.w3.org/1999/xlink">在提交了 vimage 项目第一步之后的
                      8.0-CURRENT。把全局变量重命名为虚拟化带
                      V_ 前缀并用宏映射到原来的全局名称。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800045</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">August 20, 2008</entry>
                    <entry xmlns:xlink="http://www.w3.org/1999/xlink">引入 MPSAFE TTY 层之后的 8.0-CURRENT，
                      包括对相关驱动和工具的修改。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800046</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">September 8, 2008</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">将 amd64 架构上 GDT 拆分到不同 CPU 之后的 8.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800047</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">September 10, 2008</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">删去了 VSVTX、 VSGID 和 VSUID 之后的 8.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800048</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">September 16, 2008</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">将内核中 NFS 挂接部分的代码改为能够通过
	                   nmount() iovec， 而不再是大的
	                   nfs_args 结构体作为参数之后的 8.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800049</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">September 17, 2008</entry>
                    <entry xmlns:xlink="http://www.w3.org/1999/xlink">删去了 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">suser</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">9</manvolnum></citerefentry> 和 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">suser_cred</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">9</manvolnum></citerefentry>
                      之后的 8.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800050</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">October 20, 2008</entry>
                    <entry xmlns:xlink="http://www.w3.org/1999/xlink">修改了缓冲存储器 API 之后的 8.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800051</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">October 23, 2008</entry>
                    <entry xmlns:xlink="http://www.w3.org/1999/xlink">删去了 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">MALLOC</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">9</manvolnum></citerefentry> 和 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">FREE</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">9</manvolnum></citerefentry>
                      宏之后的 8.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800052</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">October 28, 2008</entry>
                    <entry xmlns:xlink="http://www.w3.org/1999/xlink">引入了 accmode_t 和重新命名
                      VOP_ACCES 'a_mode' 为 a_accmode
                      之后的 8.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800053</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">November 2, 2008</entry>
                    <entry xmlns:xlink="http://www.w3.org/1999/xlink">修改了 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">vfs_busy</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">9</manvolnum></citerefentry> 原型并引入了
                      MBF_NOWAIT 和 MBF_MNTLSTLOCK 标志之后的
                      8.0-CURRENT。</entry>
	          </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800054</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">November 22, 2008</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">增加了 buf_ring、
		      内存栅以及 ifnet 函数， 以方便撰写支持多硬件传输队列的驱动，
		      以及无锁环形缓冲实现的驱动程序， 并更高效地管理包队列功能之后的
		      8.0-CURRENT。</entry>
	          </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800055</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">November 27, 2008</entry>
                    <entry xmlns:xlink="http://www.w3.org/1999/xlink">引入了 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">hwpmc</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry> 对于 Intel™
                      Core，Core2 和 Atom 的支持之后的 8.0-CURRENT。</entry>
	          </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800056</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">November 29, 2008</entry>
                    <entry xmlns:xlink="http://www.w3.org/1999/xlink">引入了 multi-/no-IPv4/v6 jail
                      之后的 8.0-CURRENT。</entry>
	          </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800057</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">December 1, 2008</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">将 ath hal 改为使用源代码之后的 8.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800058</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">December 12, 2008</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">引入了 VOP_VPTOCNP 操作之后的 8.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800059</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">December 15, 2008</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">引入了新的 arp-v2 重写之后的 8.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800060</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">December 19, 2008</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">引入了 makefs 之后的 8.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800061</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">January 15, 2009</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">引入了 TCP Appropriate Byte Counting 之后的 8.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800062</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">January 28, 2009</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">删去了 minor()、 minor2unit()、 unit2minor() 等之后的 8.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800063</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">February 18, 2009</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">在 GENERIC 配置中改为使用 USB2 栈之后的 8.0-CURRENT； 这个数值同时也标志新增了 fdevname(3)。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800064</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">February 23, 2009</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">将 USB2 栈移动并替换 dev/usb 之后的 8.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800065</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">February 26, 2009</entry>
                    <entry xmlns:xlink="http://www.w3.org/1999/xlink">在对 libmp(3) 中所有函数更名之后的 8.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800066</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">February 27, 2009</entry>
                    <entry xmlns:xlink="http://www.w3.org/1999/xlink">更改了 USB devfs 管理和布局之后的 8.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800067</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">February 28, 2009</entry>
                    <entry xmlns:xlink="http://www.w3.org/1999/xlink">加入了 getdelim()， getline()， stpncpy()， strnlen()，
                      wcsnlen()， wcscasecmp()， 和 wcsncasecmp() 之后的 8.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800068</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">March 2, 2009</entry>
                    <entry xmlns:xlink="http://www.w3.org/1999/xlink">在 usbhub devclass 更名为 uhub 之后的 8.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800069</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">March 9, 2009</entry>
                    <entry xmlns:xlink="http://www.w3.org/1999/xlink">重命名 libusb20.so.1 为 libusb.so.1 之后的 8.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800070</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">March 9, 2009</entry>
                    <entry xmlns:xlink="http://www.w3.org/1999/xlink">合并 IGMPv3 和 Source-Specific Multicast (SSM) 入 IPv4 栈之后的
                      8.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800071</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">March 14, 2009</entry>
                    <entry xmlns:xlink="http://www.w3.org/1999/xlink">为 gcc 打上了在 c99 和 gnu99 模式中使用 C99 inline 语义补丁之后的
                      8.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800072</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">March 15, 2009</entry>
                    <entry xmlns:xlink="http://www.w3.org/1999/xlink">移除了 IFF_NEEDSGIANT 标志; 不再支持非线程安全的网络设备驱动之后的
                      8.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800073</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">March 18, 2009</entry>
                    <entry xmlns:xlink="http://www.w3.org/1999/xlink">实现了 rpath 动态字符替换之后的 8.0-CURRENT.</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800074</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">March 24, 2009</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">引入了 tcpdump 4.0.0 和
		      libpcap 1.0.0 之后的 8.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800075</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">April 6, 2009</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">修改了 structs vnet_net、
		      vnet_inet 和 vnet_ipfw 结构布局之后的 8.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800076</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">April 9, 2009</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">为 dummynet 新增了延迟评估工具之后的 8.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800077</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">April 14, 2009</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">删去了 VOP_LEASE() 和
		      vop_vector.vop_lease 之后的 8.0-CURRENT</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800078</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">April 15, 2009</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">在 struct rt_metrics 和 struct
		      rt_metrics_lite 中添加了 rt_weight 字段，
		      导致其结构发生变化之后的 8.0-CURRENT。
		      此后 RTM_VERSION 增加， 但又回退了。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800079</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">April 15, 2009</entry>
		     <entry xmlns:xlink="http://www.w3.org/1999/xlink">在 struct route 和 struct_in6 中添加了
		       struct llentry 指针之后的 8.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800080</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">April 15, 2009</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">改变了 struct inpcb 布局之后的 8.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800081</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">April 19, 2009</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">改变了 malloc_type 布局之后的 8.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800082</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">April 21, 2009</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">改变了 struct ifnet 布局， 并增加了 if_ref()
		      和 if_rele() 引用计数维护功能之后的 8.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800083</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">April 22, 2009</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">实现了底层蓝牙 HCI API 之后的 8.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800084</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">April 29, 2009</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">修改了 IPv6 SSM 和 MLDv2
		      之后的 8.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800085</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">April 30, 2009</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">启用了包括一个活跃映像的 VIMAGE 内核支持之后的
		      8.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800086</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">May 8, 2009</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">为 patch(1) 增加任意长输入行支持之后的 8.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800087</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">May 11, 2009</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">修改了一些 VFS KPI 之后的 8.0-CURRENT。
		      VFS 的 FSD 部分中删去了线程参数。
		      <function xmlns:xlink="http://www.w3.org/1999/xlink">VFS_*</function> 函数并不需要这些上下文信息，
		      因为它总是与
		      <varname xmlns:xlink="http://www.w3.org/1999/xlink">curthread</varname> 相关。
		      在某些特殊情况中， 则保留了原先的行为。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800088</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">May 20, 2009</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">对 net80211 监视模式进行调整之后的 8.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800089</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">May 23, 2009</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">增加了 UDP 控制块支持之后的 8.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800090</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">May 23, 2009</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">将网络接口克隆虚拟化之后的 8.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800091</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">May 27, 2009</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">增加了层次式 jail 并取消全局 securelevel
		      之后的 8.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800092</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">May 29, 2009</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">修改了
		      <function xmlns:xlink="http://www.w3.org/1999/xlink">sx_init_flags()</function> KPI 之后的 8.0-CURRENT。
		      <constant xmlns:xlink="http://www.w3.org/1999/xlink">SX_ADAPTIVESPIN</constant> 退役，
		      而新增的 <constant xmlns:xlink="http://www.w3.org/1999/xlink">SX_NOADAPTIVE</constant> 标志则表达相反语义。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800093</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">May 29, 2009</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">为 struct mount 增加 mnt_xflag 之后的 8.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800094</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">May 30, 2009</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">新增了
		      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">VOP_ACCESSX</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">9</manvolnum></citerefentry> 之后的 8.0-CURRENT。</entry>
		  </row>
                  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800095</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">May 30, 2009</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">调整轮询 KPI (polling KPI) 之后的 8.0-CURRENT。
		      轮询处理程序会返回处理过的包的数量。 新增的
		      <constant xmlns:xlink="http://www.w3.org/1999/xlink">IFCAP_POLLING_NOCOUNT</constant>
		      则表示返回值不重要， 并跳过计数。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800096</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">June 1, 2009</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">对新的 netisr 进行了改进， 并调整了保存和存取 FIB
		      方式之后的 8.0-CURRENT。</entry>
		    <!--
			Had been 96 and 97 but were folded because we are
			running out of numbers.
		    -->
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800097</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">June 8, 2009</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">引入了 vnet 析构挂钩和相关基础设施之后的 8.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800097</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">June 11, 2009</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">引入了 netgraph 输出到输入路径调用检测和排队机制，
		      并调整了 struct thread 布局之后的 8.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800098</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">June 14, 2009</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">引入了 OpenSSL 0.9.8k 之后的 8.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800099</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">June 22, 2009</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">更新了 NGROUPS 并将路由虚拟化挪到它自己的
		      VImage 模块之后的 8.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800100</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">June 24, 2009</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">修改了 SYSVIPC ABI 之后的 8.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800101</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">June 29, 2009</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">删去了与网络接口一一对应的
		      /dev/net/* 字符设备之后的 8.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800102</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">July 12, 2009</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">在 struct sackhint、 struct tcpcb 以及 struct
		      tcpstat 上增加占位元素之后的 8.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800103</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">July 13, 2009</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">将 TOE 驱动接口中的 struct tcpopt
		      替换为 TCP syncache 中的 struct toeopt 之后的 8.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800104</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">July 14, 2009</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">新增了基于 linker-set 的 per-vnet
		      分配器之后的 8.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800105</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">July 19, 2009</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">递增了所有未使用符号版本的动态连接库版本之后的
		      8.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800106</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">July 24, 2009</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">引入 VM 对象类型 OBJT_SG 之后的 8.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800107</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">August 2, 2009</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">通过加入 newbus sxlock 使 newbus 子系统不再使用
		      Giant， 以及 8.0-RELEASE。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800108</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">November 21, 2009</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">实现了 EVFILT_USER kevent 过滤器之后的 8.0-STABLE。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800500</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">January 7, 2010</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">令 <command xmlns:xlink="http://www.w3.org/1999/xlink">pkg_add -r</command>
			使用 packages-8-stable 的 <literal xmlns:xlink="http://www.w3.org/1999/xlink">__FreeBSD_version</literal>
			版本变化的 8.0-STABLE。</entry>
                  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800501</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">January 24, 2010</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">调整了
		      <function xmlns:xlink="http://www.w3.org/1999/xlink">scandir(3)</function> 和
			<function xmlns:xlink="http://www.w3.org/1999/xlink">alphasort(3)</function> 函数原型，
			使其符合 SUSv4 之后的 8.0-STABLE。</entry>
                  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800502</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">January 31, 2010</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">新增了
		      <function xmlns:xlink="http://www.w3.org/1999/xlink">sigpause(3)</function> 之后的 8.0-STABLE。</entry>
                  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800503</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">February 25, 2010</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">新增了用于管理网络接口说明的 SIOCGIFDESCR
		      和 SIOCSIFDESCR ioctl 之后的 8.0-STABLE。
		      这组接口受到了 OpenBSD 的启发。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800504</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">March 1, 2010</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">MFC 了 x86emu， 来自 OpenBSD 的 x86 CPU
		      实模式模拟器之后的 8.0-STABLE。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800505</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">May 18, 2010</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">MFC 了添加 liblzma, xz, xzdec
		      以及 lzmainfo 之后的 8.0-STABLE。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">801000</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">June 14, 2010</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">8.1-RELEASE</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">801500</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">June 14, 2010</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">8.1-RELEASE 之后的 8.1-STABLE。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">801501</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">November 3, 2010</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">用于 PL_FLAG_SCE/SCX/EXEC/SI 的 struct sysentvec 的 KBI 以及
		      用于 ptrace(PT_LWPINFO) 的 pl_siginfo 的 KBI
		      改变之后的 8.1-STABLE。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">802000</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">December 22, 2010</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">8.2-RELEASE</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">802500</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">December 22, 2010</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">8.2-RELEASE 之后的 8.2-STABLE。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">802501</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">February 28, 2011</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">合并了 DTrace 变动， 包含用户态跟踪支持之后的 8.2-STABLE。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">802502</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">March 6, 2011</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">在 libm 中合并了 log2 和 log2f 之后的 8.2-STABLE。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">802503</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">May 1, 2011</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">将 gcc 升级至 FSF gcc-4_2-branch 最后一个
		      GPLv2 版本之后的 8.2-STABLE。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">802504</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">May 28, 2011</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">引入模块化拥塞控制支持基础设施和 KPI 之后的 8.2-STABLE。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">802505</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">May 28, 2011</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">引入了 Hhook 和 Khelp KPI 之后的 8.2-STABLE。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">802506</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">May 28, 2011</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">在 tcpcb 结构中增加 OSD 之后的 8.2-STABLE。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">802507</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">June 6, 2011</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">引入 ZFS v28 之后的 8.2-STABLE。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">802508</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">June 8, 2011</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">删去了 sv_schedtail struct sysvec 方法之后的 8.2-STABLE。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">802509</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">July 14, 2011</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">在 binutils 中合并了 SSE3 支持之后的 8.2-STABLE。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">802510</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">July 19, 2011</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">为 <function xmlns:xlink="http://www.w3.org/1999/xlink">rfork(2)</function> 添加了 RFTSIGZMB 标志之后的 8.2-STABLE。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">900000</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">August 22, 2009</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">9.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">900001</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">September 8, 2009</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">引入了 x86emu， 来自 OpenBSD 的 x86 CPU
		      实模式模拟器之后的 9.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">900002</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">September 23, 2009</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">实现了 EVFILT_USER kevent 过滤器之后的 9.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">900003</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">December 2, 2009</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">新增了
		      <function xmlns:xlink="http://www.w3.org/1999/xlink">sigpause(3)</function> 以及 csu 的 PIE
		      支持之后的 9.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">900004</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">December 6, 2009</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">新增了 libulog 及其 libutempter 兼容接口之后的 9.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">900005</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">December 12, 2009</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">新增了用于查询指定休眠队列上等待者数量的
		      <function xmlns:xlink="http://www.w3.org/1999/xlink">sleepq_sleepcnt()</function> 函数之后的 9.0-CURRENT。</entry>
                  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">900006</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">January 4, 2010</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">调整了
		      <function xmlns:xlink="http://www.w3.org/1999/xlink">scandir(3)</function> 和
			<function xmlns:xlink="http://www.w3.org/1999/xlink">alphasort(3)</function> 函数原型，
			使其符合 SUSv4 之后的 9.0-CURRENT。</entry>
                  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">900007</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">January 13, 2010</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">删去了 utmp(5) 并增加了 utmpx (参阅
		      <function xmlns:xlink="http://www.w3.org/1999/xlink">getutxent(3)</function>)
		      以改善用户登录日志和系统事件支持之后的 9.0-CURRENT。</entry>
                  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">900008</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">January 20, 2010</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">9.0-CURRENT 引入了 BSD 授权的 bc/dc
		      并将 GNU bc/dc 标注为过时之后的 9.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">900009</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">January 26, 2010</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">新增了用于管理网络接口说明的 SIOCGIFDESCR
		      和 SIOCSIFDESCR ioctl 之后的 9.0-CURRENT。
		      这组接口受到了 OpenBSD 的启发。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">900010</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">March 22, 2010</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">引入了 zlib 1.2.4 之后的 9.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">900011</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">April 24, 2010</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">添加了 soft-updates 日志功能之后的 9.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">900012</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">May 10, 2010</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">添加了 liblzma, xz, xzdec 以及 lzmainfo 之后的 9.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">900013</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">May 24, 2010</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">添加了针对 linux(4) 的 USB 修正之后的 9.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">900014</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">Jun 10, 2010</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">添加了 Clang 之后的 9.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">900015</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">July 22, 2010</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">引入了 BSD grep 之后的 9.0-CURRENT。</entry>
		  </row>
 		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">900016</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">July 28, 2010</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">在 struct malloc_type_internal 中加入了 mti_zone
		       之后的 9.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">900017</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">August 23, 2010</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">默认 grep 改回使用
		      GNU grep 并增加 WITH_BSD_GREP 开关之后的 9.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">900018</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">August 24, 2010</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">将 <function xmlns:xlink="http://www.w3.org/1999/xlink">pthread_kill(3)</function>
		      产生的信号在 si_code 中改为使用 SI_LWP 标记之后的
		      9.0-CURRENT。 之前， si_code 对应的标志为 SI_USER。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">900019</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">August 28, 2010</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">为 <function xmlns:xlink="http://www.w3.org/1999/xlink">mmap(2)</function> 新增了
		      MAP_PREFAULT_READ 标志之后的 9.0-CURRENT。</entry>
		  </row>
 		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">900020</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">September 9, 2010</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">为 sbuf 增加了 drain 功能并改变了
		      struct sbuf 布局之后的 9.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">900021</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">September 13, 2010</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">DTrace 增加用户态跟踪支持之后的 9.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">900022</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">October 2, 2010</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">新增了 BSDL man 工具， 并淘汰 GNU/GPL man 工具之后的
		      9.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">900023</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">October 11, 2010</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">引入 20101010 git 快照版本 xz 之后的 9.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">900024</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">November 11, 2010</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">将 libgcc.a 替换为 libcompiler_rt.a 之后的 9.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">900025</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">November 12, 2010</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">引入了模块化拥塞控制之后的 9.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">900026</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">November 30, 2010</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">引入串行管理协议 (SMP) 直通， 以及与之对应的 CAM CCB
		      XPT_SMP_IO 和 XPT_GDEV_ADVINFO 之后的 9.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">900027</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">December 5, 2010</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">在 libm 中增加 log2 之后的 9.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">900028</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">December 21, 2010</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">添加了 Hhook (Helper
		      Hook)、 Khelp (Kernel Helpers) 和 Object Specific Data
		      (OSD) KPI 之后的 9.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">900029</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">December 28, 2010</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">修改 TCP 协议栈使其允许 Khelp 模块通过 helper hook 指针，
		      与 TCP 控制块交互并保存连接数据之后的 9.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">900030</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">January 12, 2011</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">将 libdialog 更新至版本 20100428 之后的 9.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">900031</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">February 7, 2011</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">添加了 <function xmlns:xlink="http://www.w3.org/1999/xlink">pthread_getthreadid_np(3)</function> 之后的 9.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">900032</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">February 8, 2011</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">删除了 uio_yield 函数原型和符号之后的 9.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">900033</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">February 18, 2011</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">将 binutils 更新至 2.17.50 之后的 9.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">900034</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">March 8, 2011</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">修改了 struct sysvec (sv_schedtail) 之后的 9.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">900035</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">March 29, 2011</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">将基本系统中 gcc 和
		      libstdc++ 升级至最后的 GPLv2 授权版本之后的 9.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">900036</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">April 18, 2011</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">在基本系统中删去了 libobjc 和 Objective-C 支持之后的 9.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">900037</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">May 13, 2011</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">在基本系统中引入了 libprocstat(3)
		      函数库以及 fuser(1) 工具之后的 9.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">900038</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">May 22, 2011</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">为 VFS_FHTOVP(9) 添加锁标志参数之后的 9.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">900039</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">June 28, 2011</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">引入了来自 OpenBSD 4.5 的 pf 之后的 9.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">900040</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">July 19, 2011</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">将 amd64 和 ia64 平台上的 MAXCPU 提高到 64，
		      并把 XLP (mips) 上的值提高到 128 之后的 9.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">900041</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">August 13, 2011</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">实现了 Capsicum
		      capabilities 之后的 9.0-CURRENT。 fget(9) 新增了权限参数。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">900042</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">August 28, 2011</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">提高修改过 ABI 的动态连接库版本号之后的 9.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">900043</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">September 2, 2011</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">增加了对不支持 SCSI 快取缓存同步功能的 USB
		      大容量存储设备自动检测功能之后的 9.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">900044</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">September 10, 2011</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">重构了 auto-quirk 之后的 9.0-CURRENT。</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">900045</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">Oct 13, 2011</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">将非兼容性系统调用入口点全部增加 sys_ 前缀之后的 9.0-CURRENT。</entry>
		  </row>
		</tbody>
	      </tgroup>
	    </table>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">请注意， 2.2.5-RELEASE 之后有一段时间的 2.2-STABLE 会声称自己是
	    <quote xmlns:xlink="http://www.w3.org/1999/xlink">2.2.5-STABLE</quote>。 这种模式的版本号表示的是年月。
	    但随后， 我们决定， 从 2.2 开始， 将它改为更为简洁的 主/次
	    版本号的形式来命名版本。 这是因为并行地在多个分支上进行开发，
	    使得通过实际的发布日期来区分不同的版本变得不再现实。
	    如果您正在做新的 port， 应该不需要担心较早的 -CURRENT；
	    在此列出仅供参考。</para>
	</note>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="dads-after-port-mk">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">在 <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.mk</filename> 之后写一些内容</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">不要在 <literal xmlns:xlink="http://www.w3.org/1999/xlink">.include
	    &lt;bsd.port.mk&gt;</literal> 这行之后增加任何内容。
	  这通常可以通过在您的 <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>
	  中间的某处引用 <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.pre.mk</filename>，
	  并在结尾的地方引用
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.post.mk</filename> 来避免。</para>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">只能够采用
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.pre.mk</filename>/<filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.post.mk</filename> 或
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.mk</filename> 两种写法之一；
	    任何时候都不要同时使用两种写法。</para>
	</note>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.pre.mk</filename> 只定义了很少的变量，
	  它们可以在 <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>
	  中用于进行一些测试， 而 <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.post.mk</filename>
	  则定义了所有其它的变量。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">下面是一些由 <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.pre.mk</filename>
	  定义的比较重要的变量 (这并不是一份完整的列表，
	  您可以阅读 <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.mk</filename> 以获得全部变量的名字)。</para>

	<informaltable xmlns:xlink="http://www.w3.org/1999/xlink" frame="none" pgwide="1">
	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	    <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">变量</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">描述</entry>
	      </row>
	    </thead>

	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">ARCH</varname></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">由 <command xmlns:xlink="http://www.w3.org/1999/xlink">uname
		    -m</command> 输出得到的硬件架构的名字
		  (例如， <literal xmlns:xlink="http://www.w3.org/1999/xlink">i386</literal>)</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">OPSYS</varname></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">由 <command xmlns:xlink="http://www.w3.org/1999/xlink">uname -s</command> 返回的操作系统类型 (例如，
		  <literal xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD</literal>)</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">OSREL</varname></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">操作系统的版本号 (例如
		  <literal xmlns:xlink="http://www.w3.org/1999/xlink">2.1.5</literal> 或
		  <literal xmlns:xlink="http://www.w3.org/1999/xlink">2.2.7</literal>)</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">OSVERSION</varname></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">操作系统的版本号的数值形式； 它等于
		  <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="freebsd-versions"><literal xmlns:xlink="http://www.w3.org/1999/xlink">__FreeBSD_version</literal></link>。</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTOBJFORMAT</varname></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">系统默认的执行文件格式
		  (<literal xmlns:xlink="http://www.w3.org/1999/xlink">elf</literal> 或 <literal xmlns:xlink="http://www.w3.org/1999/xlink">aout</literal>；
		  请注意， <quote xmlns:xlink="http://www.w3.org/1999/xlink">现代的</quote> FreeBSD 版本中，
		  <literal xmlns:xlink="http://www.w3.org/1999/xlink">aout</literal> 已在淘汰之列。)</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">LOCALBASE</varname></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><quote xmlns:xlink="http://www.w3.org/1999/xlink">local</quote> 目录的根 (例如，
		  <literal xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/</literal>)</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX</varname></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">port 应被安装到哪里 (参见 <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="porting-prefix">关于
		    <varname xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX</varname> 的更多说明</link>)。</entry>
	      </row>
	    </tbody>
	  </tgroup>
	</informaltable>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">如果您需要定义
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_IMAKE</varname>， <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_X_PREFIX</varname>， 或
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTERDIR</varname> 这些变量， 则应在引用
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.pre.mk</filename> 之前完成。</para>
	</note>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">下面是一些在引用
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.pre.mk</filename> 之后可以进行的判断：</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink"># 如果 perl5 已经在系统中提供， 则不必编译 lang/perl5
.if ${OSVERSION} &gt; 300003
BROKEN= perl is in system
.endif

# ELF 只使用一个 shlib 版本
.if ${PORTOBJFORMAT} == "elf"
TCL_LIB_FILE=  ${TCL_LIB}.${SHLIB_MAJOR}
.else
TCL_LIB_FILE=  ${TCL_LIB}.${SHLIB_MAJOR}.${SHLIB_MINOR}
.endif

# 软件会自动为 ELF 创建符号链接， 但 a.out 则需要另行创建
post-install:
.if ${PORTOBJFORMAT} == "aout"
       ${LN} -sf liblinpack.so.1.0 ${PREFIX}/lib/liblinpack.so
.endif</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">您还记得应该在
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">BROKEN=</literal> 和
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">TCL_LIB_FILE=</literal> 后面使用制表符，
	  而不是空格， 对吧？ <!-- smiley -->:-)</para>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="dads-sh-exec">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">在 wrapper 脚本中使用 <function xmlns:xlink="http://www.w3.org/1999/xlink">exec</function> 语句</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">如果 port 安装了用以启动其他程序的脚本，
	  并且运行其他程序是这些脚本的最后一项操作，
	  请务必使用 <function xmlns:xlink="http://www.w3.org/1999/xlink">exec</function> 语句来运行这些程序， 例如：</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">#!/bin/sh
exec %%LOCALBASE%%/bin/java -jar %%DATADIR%%/foo.jar "$@"</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">使用 <function xmlns:xlink="http://www.w3.org/1999/xlink">exec</function> 语句表示执行指定的程序来取代 shell
	  进程。 如果省略了 <function xmlns:xlink="http://www.w3.org/1999/xlink">exec</function>，
	  则 shell 进程会一直在内存中， 从而不必要地消耗了额外的系统资源。</para>

      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="dads-rational">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">理性行事</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">任何 <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> 都应该简单并理性地行事。
	  如果您能让其中的条目更为简单和易读， 一定要这样做。
	  例如， 使用 make 提供的
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">.if</literal> 结构， 而不要使用 shell 的
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">if</literal>， 只要能重定义
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">EXTRACT*</varname> 就不要重载
	  <buildtarget>do-extract</buildtarget>， 尽量使用
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">GNU_CONFIGURE</varname> 而不是 <literal xmlns:xlink="http://www.w3.org/1999/xlink">CONFIGURE_ARGS
	    += --prefix=${PREFIX}</literal>。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">如果您在尝试做什么事情的时候发现不得不写大量的代码，
	  请回过头来复审一下
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.mk</filename>， 看看是否有您正打算做的事情的现成实现。
	  尽管读起来可能很费劲， 但有很多貌似很难的问题，
	  在 <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.mk</filename> 中都给出了十分简便的解决方案。</para>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="dads-cc">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">遵循 <varname xmlns:xlink="http://www.w3.org/1999/xlink">CC</varname> 和
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">CXX</varname> 设置</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">port 应遵循 <varname xmlns:xlink="http://www.w3.org/1999/xlink">CC</varname>
	  和 <varname xmlns:xlink="http://www.w3.org/1999/xlink">CXX</varname> 变量的设置。
	  这也就是说， port 不应使用绝对的方式来设置这个变量的值，
	  而罔顾已经存在的设置； 与此相反， 它应该在其值后加入需要的其它值。
	  这样， 就可以设置全局的联编选项， 令其影响所有的 port 联编过程了。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">如果实在无法这样做， 请在 <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>
	  中加入 <literal xmlns:xlink="http://www.w3.org/1999/xlink">NO_PACKAGE=ignores
	    cflags</literal>。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">下面的 <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>
	  实例给出了如何遵循 <varname xmlns:xlink="http://www.w3.org/1999/xlink">CC</varname> 和 <varname xmlns:xlink="http://www.w3.org/1999/xlink">CXX</varname>
	  变量的设置。 注意这里用到的 <varname xmlns:xlink="http://www.w3.org/1999/xlink">?=</varname>：</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">CC?= gcc</programlisting>
	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">CXX?= g++</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">下面则是没有遵循
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">CC</varname> 和 <varname xmlns:xlink="http://www.w3.org/1999/xlink">CXX</varname>
	  的例子：</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">CC= gcc</programlisting>
	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">CXX= g++</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">在 FreeBSD 系统中，
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">CC</varname> 和 <varname xmlns:xlink="http://www.w3.org/1999/xlink">CXX</varname>
	  这两个变量都可以在
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/make.conf</filename> 中自行定义。
	  第一个例子只有在
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/make.conf</filename> 中没有定义时才对这两个变量进行定义，
	  从而保持了系统范围的配置。 而第二个例子则会覆盖任何现有的配置。</para>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="dads-cflags">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">遵循 <varname xmlns:xlink="http://www.w3.org/1999/xlink">CFLAGS</varname></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">您的 port 应遵循 <varname xmlns:xlink="http://www.w3.org/1999/xlink">CFLAGS</varname> 变量的设置。
	  这也就是说， port 不应使用绝对的方式来设置这个变量的值，
	  而罔顾已经存在的设置； 与此相反， 它应该在其值后加入需要的其它值，
	  这样， 就可以设置全局的联编选项， 令其影响所有的 port 联编过程了。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">如果实在无法这样做， 请在 <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>
	  中加入 <literal xmlns:xlink="http://www.w3.org/1999/xlink">NO_PACKAGE=ignores
	    cflags</literal>。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">下面的 <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> 例子，
	  可以帮助我们理解如何遵循 <varname xmlns:xlink="http://www.w3.org/1999/xlink">CFLAGS</varname> 的设置。 注意所用的
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">+=</varname>：</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">CFLAGS+= -Wall -Werror</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">下面是一个未能遵循
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">CFLAGS</varname> 设置的例子：</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">CFLAGS= -Wall -Werror</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">一般来说， <varname xmlns:xlink="http://www.w3.org/1999/xlink">CFLAGS</varname> 在
	  FreeBSD 系统中是在 <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/make.conf</filename> 里配置的。
	  第一个例子在
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">CFLAGS</varname> 变量中增加了一些参数，
	  并保持了所有系统预定义的标志。 而第二个例子，
	  则会覆盖掉任何先前定义的参数。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">您应从第三方软件的
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> 中去掉特殊的优化设置。
	  系统的 <varname xmlns:xlink="http://www.w3.org/1999/xlink">CFLAGS</varname> 给出了全系统范围内的优化设置参数。
	  下面是一个未经修改的 <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>
	  实例：</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">CFLAGS= -O3 -funroll-loops -DHAVE_SOUND</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">如果使用系统的优化参数， 则
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> 中的设置应该类似下面这样：</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">CFLAGS+= -DHAVE_SOUND</programlisting>

      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="dads-pthread">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">线程库</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">在 FreeBSD 上， 线程库必须通过特殊的连接器参数
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">-pthread</literal> 连接到可执行文件。 如果 port 一定要直接连接
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">-lpthread</literal> 或 <literal xmlns:xlink="http://www.w3.org/1999/xlink">-lc_r</literal>，
	  则应将其改为使用由 ports 框架提供的 <varname xmlns:xlink="http://www.w3.org/1999/xlink">PTHREAD_LIBS</varname>。
	  这个变量的值通常是 <literal xmlns:xlink="http://www.w3.org/1999/xlink">-pthread</literal>，
	  但在某些特定平台上的 FreeBSD 版本中， 它可能是其它值， 因此， 不要将
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">-pthread</literal> 硬编码到您的补丁中， 而应使用
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PTHREAD_LIBS</varname> 变量。</para>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">如果设置了 <varname xmlns:xlink="http://www.w3.org/1999/xlink">PTHREAD_LIBS</varname>，
	    而在联编时出现 <literal xmlns:xlink="http://www.w3.org/1999/xlink">unrecognized
	    option '-pthread'</literal> 这样的错误， 可能需要通过将
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">CONFIGURE_ENV</varname> 设为 <literal xmlns:xlink="http://www.w3.org/1999/xlink">LD=${CC}</literal>
	    来使用
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">gcc</command> 作为连接器。
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">-pthread</literal> 这一选项并不为
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">ld</command> 所直接支持。</para>
	  </note>

      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="dads-freedback">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">反馈</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">如果进行了一些很好的修改和补丁， 一定要把它们发回给原作者，
	  或维护者， 以便在下一版本的代码中包含它们。
	  这会让您在软件发布新版本的时候变得轻松一些。</para>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="dads-readme">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">README.html</filename></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">不要包含 <filename xmlns:xlink="http://www.w3.org/1999/xlink">README.html</filename> 文件。
	  这个文件并非 CVS 代码库中的一部分， 它是由
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">make readme</command> 命令生成的。
	</para>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="dads-noinstall">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">使用 <varname xmlns:xlink="http://www.w3.org/1999/xlink">BROKEN</varname>、
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">FORBIDDEN</varname> 或 <varname xmlns:xlink="http://www.w3.org/1999/xlink">IGNORE</varname>
	  阻止用户安装 port</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">某些时候会需要阻止用户安装某个 port。
	  想要告诉用户某个 port 不应被安装， 有许多可以在 port 的
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> 中使用的
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">make</command> 变量。 下列
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">make</command> 的值， 将是在用户试图安装时得到的提示信息。
	  务请使用正确的 <command xmlns:xlink="http://www.w3.org/1999/xlink">make</command> 变量，
	  因为每一个都表达了截然不同的意义， 而且许多自动化系统， 例如
	<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="build-cluster">port 联编集群</link>、
	<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="freshports">FreshPorts</link>， 以及
	<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="portsmon">portsmon</link>， 都依赖于
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> 的正确性。</para>

	<sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="dads-noinstall-variables">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">变量</title>

	<itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">BROKEN</varname> 专门用于表达目前无法正确编译、
	      安装或卸载这类问题。 如果是临时性的问题， 则可以使用它。</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">如果进行了相关的配置， 则联编集群仍将尝试联编它，
	      以确认导致问题的深层问题是否已被解决。 (不过， 一般情况下，
	      联编集群并不会这样做。)</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">举例来说， 当 port 发生下述情况时， 应使用
	      <varname xmlns:xlink="http://www.w3.org/1999/xlink">BROKEN</varname>：</para>

	    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">无法编译 (does not compile)</para>
	      </listitem>

	      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">无法正确进行配置或安装操作</para>
	      </listitem>

	      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">在
		  <filename xmlns:xlink="http://www.w3.org/1999/xlink">${LOCALBASE}</filename> 以外的地方安装文件</para>
	      </listitem>

	      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">卸载时无法删除所安装的全部文件 (不过，
		  留下用户改过的文件可接受的， 因为可能希望这样作)</para>
	      </listitem>
	    </itemizedlist>

	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">FORBIDDEN</varname> 用于表示 ports 中包含安全漏洞，
	      或者可能会给安装了这个 port 的 FreeBSD
	      系统带来严重的安全隐患 (例如： 一个很不安全的程序，
	      或包含了能够被轻易攻陷的服务的软件)。 如果发现了安全漏洞，
	      而其作者没有发布升级版本， 则应立即把那个
	      port 标记为 <varname xmlns:xlink="http://www.w3.org/1999/xlink">FORBIDDEN</varname>。
	      理想情况下， 包含安全漏洞的 port 应被尽快升级，
	      以便减少包含漏洞的 FreeBSD 主机的数量
	      (我们希望保持良好的安全记录)， 然而，
	      有时在安全漏洞的披露和软件更新之间可能会有一个间隔，
	      此时应予以说明。 除了安全之外， 请不要以任何其它理由将 port 标记为
	      <varname xmlns:xlink="http://www.w3.org/1999/xlink">FORBIDDEN</varname>。</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">IGNORE</varname> 用来表示 port
	      由于某些其它原因不应予以联编。 如果认为发生了结构性的问题，
	      则应使用它。 任何情况下，
	      联编集群都不会联编标记为
	      <varname xmlns:xlink="http://www.w3.org/1999/xlink">IGNORE</varname> 的 port。 以下是使用
	      <varname xmlns:xlink="http://www.w3.org/1999/xlink">IGNORE</varname> 的一些例子：</para>

	    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">能够编译但无法正常运行</para>
	      </listitem>

	      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">无法与运行的 FreeBSD 版本一同工作</para>
	      </listitem>

	      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">联编时需要 FreeBSD 内核的源代码，
		  但用户没有安装它们</para>
	      </listitem>

	      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">由于授权原因， 必须手工下载 distfile</para>
	      </listitem>

	      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">无法与的某个已安装的 port 一同工作 (例如， port 依赖于
		  <package xmlns:xlink="http://www.w3.org/1999/xlink">www/apache21</package> 而安装的则是
		  <package xmlns:xlink="http://www.w3.org/1999/xlink">www/apache13</package>)</para>
	      </listitem>
	    </itemizedlist>

	    <note xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">如果 port 与某个已经安装的
		port 冲突 (例如， 它们在同一位置安装同名但功能不同的文件)，
		则应 <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="conflicts">使用
		<varname xmlns:xlink="http://www.w3.org/1999/xlink">CONFLICTS</varname> 来标记它</link>。
		<varname xmlns:xlink="http://www.w3.org/1999/xlink">CONFLICTS</varname> 将自动地设置
		<varname xmlns:xlink="http://www.w3.org/1999/xlink">IGNORE</varname>。</para>
	    </note>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">如果 port 只应在某些平台上标记为 <varname xmlns:xlink="http://www.w3.org/1999/xlink">IGNORE</varname>，
	      还有另外两个方便使用的
	      <varname xmlns:xlink="http://www.w3.org/1999/xlink">IGNORE</varname> 变量可供选择：
	      <varname xmlns:xlink="http://www.w3.org/1999/xlink">ONLY_FOR_ARCHS</varname> 和
	      <varname xmlns:xlink="http://www.w3.org/1999/xlink">NOT_FOR_ARCHS</varname>。 例如：</para>

	    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">ONLY_FOR_ARCHS= i386 amd64</programlisting>

	    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">NOT_FOR_ARCHS= alpha ia64 sparc64</programlisting>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">可以使用 <varname xmlns:xlink="http://www.w3.org/1999/xlink">ONLY_FOR_ARCHS_REASON</varname> 和
	      <varname xmlns:xlink="http://www.w3.org/1999/xlink">NOT_FOR_ARCHS_REASON</varname> 来配置定制的
	      <varname xmlns:xlink="http://www.w3.org/1999/xlink">IGNORE</varname> 消息。 此外， 还可以使用
	      <varname xmlns:xlink="http://www.w3.org/1999/xlink">ONLY_FOR_ARCHS_REASON_<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">ARCH</replaceable></varname>
	      和
	      <varname xmlns:xlink="http://www.w3.org/1999/xlink">NOT_FOR_ARCHS_REASON_<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">ARCH</replaceable></varname>
	      来分别指定与具体平台有关的信息。</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">如果 port 会下载并安装用于 i386 的预编译二进制文件， 则应设置
	      <varname xmlns:xlink="http://www.w3.org/1999/xlink">IA32_BINARY_PORT</varname>。 如果设置了这个变量，
	      则系统会检查是否已经在
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/lib32</filename> 目录中安装了
	      IA32 版本的函数库， 以及内核是否提供了 IA32 兼容支持。
	      如果这些依赖条件不满足， 则会自动设置
	      <varname xmlns:xlink="http://www.w3.org/1999/xlink">IGNORE</varname>。</para>
	  </listitem>

	</itemizedlist>

	</sect2>
	<sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="dads-noinstall-notes">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">实现说明</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">这些字串不应使用引号括起来。 此外， 由于显示给用户的方式不同，
	    这些字串的措辞也应有所不同。 例如：</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">BROKEN= this port is unsupported on FreeBSD 5.x</programlisting>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">IGNORE= is unsupported on FreeBSD 5.x</programlisting>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">它们分别会在
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">make describe</command> 时产生下面的输出：</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">===&gt;  foobar-0.1 is marked as broken: this port is unsupported on FreeBSD 5.x.</programlisting>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">===&gt;  foobar-0.1 is unsupported on FreeBSD 5.x.</programlisting>
	</sect2>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="dads-deprecated">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">使用 <varname xmlns:xlink="http://www.w3.org/1999/xlink">DEPRECATED</varname>
	  或 <varname xmlns:xlink="http://www.w3.org/1999/xlink">EXPIRATION_DATE</varname> 表示某个 port 将被删除</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">一定要记得 <varname xmlns:xlink="http://www.w3.org/1999/xlink">BROKEN</varname> 和
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">FORBIDDEN</varname> 只应作为当某个 port
	  无法正常工作时的临时解决方案。 永久性地坏掉了的 port 应被从 ports tree
	  中完全删除。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">需要时还可以使用 <varname xmlns:xlink="http://www.w3.org/1999/xlink">DEPRECATED</varname>
	  和 <varname xmlns:xlink="http://www.w3.org/1999/xlink">EXPIRATION_DATE</varname> 来通知用户某个 port
	  不应被使用， 并即将被删除。 前一个变量用来表达为什么计划删除 port；
	  而后一个是则是一个 ISO 8601 格式的日期 (YYYY-MM-DD)。
	  两者都会向用户呈现。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">也可以设置 <varname xmlns:xlink="http://www.w3.org/1999/xlink">DEPRECATED</varname>
	  而不给出 <varname xmlns:xlink="http://www.w3.org/1999/xlink">EXPIRATION_DATE</varname> (例如，
	  建议使用某个新版本的 port)， 但反之则没有意义。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">目前还没有确切的关于需要给出多少通知的政策。
	  当前的实践是， 对于与安全有关的问题为一个月，
	  而与联编有关的问题则为两个月。 这也让有兴趣的 committer
	  能够有一点时间来修正问题。</para>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="dads-dot-error">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">避免使用 <literal xmlns:xlink="http://www.w3.org/1999/xlink">.error</literal> 结构</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">在 <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> 中给出信号，
	  表示由于某种外界因素 (例如， 用户指定了无效的联编选项)
	  而无法安装的方法是将变量
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">IGNORE</varname> 设为一非空值。 这个值将被格式化，
	  并在用户执行 <command xmlns:xlink="http://www.w3.org/1999/xlink">make install</command> 是给出提示。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">用 <literal xmlns:xlink="http://www.w3.org/1999/xlink">.error</literal> 实现这一目的是一种常见的误用。
	  这样做的问题是， 许多在 ports 树上运行的自动化工具会因此而失败。
	  最常见的情况见于联编 <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/ports/INDEX</filename> 的过程
	  (参见 <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="make-describe"/>)。 然而， 即使十分普通的命令，
	  例如 <command xmlns:xlink="http://www.w3.org/1999/xlink">make maintainer</command>，
	  在这种情况下也会失败。 这是不可接受的。</para>

	<example xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="dot-error-breaks-index">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">怎样避免使用 <literal xmlns:xlink="http://www.w3.org/1999/xlink">.error</literal></title>
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">考虑有人在 <filename xmlns:xlink="http://www.w3.org/1999/xlink">make.conf</filename> 中设置了
	    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">USE_POINTYHAT=yes</programlisting>
	    的情形。 接下来的例子中， 第一个 <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>
	    中的问题将导致 <command xmlns:xlink="http://www.w3.org/1999/xlink">make index</command> 失败，
	    而第二个则不会：</para>
	    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">.if USE_POINTYHAT
.error "POINTYHAT is not supported"
.endif</programlisting>
	    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">.if USE_POINTYHAT
IGNORE=POINTYHAT is not supported
.endif</programlisting>
	</example>

      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="dads-sysctl">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">对于 <filename xmlns:xlink="http://www.w3.org/1999/xlink">sysctl</filename> 的使用</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">除了在 target 中之外， 是不鼓励使用 <filename xmlns:xlink="http://www.w3.org/1999/xlink">sysctl</filename>
	  的。 这是因为计算
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">makevar</literal>， 例如在
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">make index</command> 中所进行的那种，
	  都不得不运行一条命令， 这会使这一操作变得更慢。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">在使用 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">sysctl</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> 时，
	  务必通过 <varname xmlns:xlink="http://www.w3.org/1999/xlink">SYSCTL</varname> 变量来进行，
	  因为此变量将展开成命令的完整路径， 并且用户可以根据需要另行指定。</para>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="dads-rerolling-distfiles">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">重新发布的 distfiles</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">有时， 一些软件的作者会修改业已发布的 distfile 的内容，
	  而并不修改文件名。 这种情况下， 您需要验证这些变动是来自软件作者的官方改动。
	  在过去， 曾经发生过下载服务器上的 distfile 被悄悄换成注入过恶意代码的版本，
	  并给用户安全造成威胁或损害的事情。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">您应保留一份旧的 distfile， 并下载一份新的， 分别展开，
	  用 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">diff</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> 来对比其内容。 如果没有发现可疑的变动，
	  就可以更新 <filename xmlns:xlink="http://www.w3.org/1999/xlink">distinfo</filename> 了。
	  请务必在您的 PR 或 commit log 中对这些差异进行描述，
	  以便让别人了解您已经仔细对比过差异， 并确认没有问题了。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">除此之外， 也可以联系软件的作者， 以确认这些修改是否是他们做的。</para>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="dads-misc">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">杂记</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">需要仔细地反复检查
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-descr</filename> 和 <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename>
	  这两个文件。 如果您正在复审一个 port，
	  并认为这两个文件应该改进， 请一定要这样做。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">请不要在系统中复制多份 GNU General Public License。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">一定要非常小心地处理法律问题！
	  不要让我们发布没有得到合法授权的软件！</para>
      </sect1>

    </chapter>

    <chapter xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-samplem">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">示范的 <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename></title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">这里是一个您可以在建立新 port 时参考的
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>。 请务必删除不需要的那些注释
	(方括号中间的文字)！</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">建议您按照下面这样的格式 (变量顺序， 小节之间的空行等) 来编写。
	这个格式的作用是便于查找重要的信息。 我们建议您使用 <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="porting-portlint">portlint</link> 来检查
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">[头部... 主要是让我们更容易地分辨不同的 port。]
# New ports collection makefile for:   xdvi
[版本这行， 只有在 PORTVERSION 变量不足以描述 port 时才需要]
# Date created:                26 May 1995
[这是最初将软件移植到 FreeBSD 上的日期， 一般来说是建立这份 Makefile 的日期。
请注意不要在之后再次修改这个日期。]
# Whom:                        Satoshi Asami &lt;asami@FreeBSD.org&gt;
#
# $FreeBSD$
[ ^^^^^^^^^ 这是 CVS 在文件 commit 到我们的代码库时， 自动进行替换的 RCS ID。
如果您正在升级 port， 不要把它改回 "$FreeBSD$"。
CVS 会自动进行处理。]
#

[这个小节描述 port 本身以及主要下载站点 - PORTNAME 和 PORTVERSION
 应放在最前面， 随后是 CATEGORIES， 然后是 MASTER_SITES， 接下来是
 MASTER_SITE_SUBDIR。 如果需要的话， 接下来应指定
 PKGNAMEPREFIX 和 PKGNAMESUFFIX。 随后是 DISTNAME， EXTRACT_SUFX，
 以及 DISTFILES， EXTRACT_ONLY， 如果需要的话。]
PORTNAME=      xdvi
PORTVERSION=   18.2
CATEGORIES=    print
[如果不想使用 MASTER_SITE_* 宏， 一定不要忘记结尾的斜线 ("/")！]
MASTER_SITES=  ${MASTER_SITE_XCONTRIB}
MASTER_SITE_SUBDIR= applications
PKGNAMEPREFIX= ja-
DISTNAME=      xdvi-pl18
[如果源代码包不是标准的 ".tar.gz" 形式， 就需要设置这个]
EXTRACT_SUFX=  .tar.Z

[分散的补丁 -- 可以为空]
PATCH_SITES=   ftp://ftp.sra.co.jp/pub/X11/japanese/
PATCHFILES=    xdvi-18.patch1.gz xdvi-18.patch2.gz

[监护人(maintainer); *必须有*!  这是某个资源处理 port 更新、 联编失败，
 以及回答用户直接提问或汇报 bug 的人。 为了保证 Ports Collection
 有尽可能高的品质， 我们不再接受指定给 "ports@FreeBSD.org" 的新 port。]
MAINTAINER=    asami@FreeBSD.org
COMMENT=       A DVI Previewer for the X Window System

[依赖的其它软件包 -- 可以为空]
RUN_DEPENDS=   gs:${PORTSDIR}/print/ghostscript
LIB_DEPENDS=   Xpm.5:${PORTSDIR}/graphics/xpm

[这节是其它不适合上几节的标准 bsd.port.mk 变量]
[如果需要在 configure、 build 或 install 过程中提问...]
IS_INTERACTIVE=        yes
[如果解压缩到 ${DISTNAME} 以外的目录...]
WRKSRC=                ${WRKDIR}/xdvi-new
[如果作者发布的补丁不是相对于 ${WRKSRC} 的， 可能需要调整这个]
PATCH_DIST_STRIP=      -p1
[如果需要运行由 GNU autoconf 生成的 "configure" 脚本]
GNU_CONFIGURE= yes
[如果需要使用 GNU make， 而不是 /usr/bin/make 来完成联编...]
USE_GMAKE=     yes
[如果是一个 X 应用程序， 并使用 "xmkmf -a" 来运行...]
USE_IMAKE=     yes
[et cetera.]

[将在接下来的部分使用的非标准的变量]
MY_FAVORITE_RESPONSE=  "yeah, right"

[接下来是特殊规则， 按调用顺序排列]
pre-fetch:
	i go fetch something, yeah

post-patch:
	i need to do something after patch, great

pre-install:
	and then some more stuff before installing, wow

[结语]
.include &lt;bsd.port.mk&gt;</programlisting>
    </chapter>

    <chapter xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="keeping-up">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">保持同步</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 的 Ports Collection 在持续地进行修改。
	这里提供了一些关于如何保持同步的信息。</para>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="freshports">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">FreshPorts</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">最简单的了解已经被 commit 到 ports 中的更新的方法， 是订阅
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.FreshPorts.org/">FreshPorts</link>。
	  您可以选择多个 ports 并对其进行监视。 强烈建议维护人员订阅它，
	  这样就不仅能接收到他们自己所做的修改， 而且能看到其它 FreeBSD
	  committer 所做的改动。 (保持与所依赖的
	  ports 框架同步是必要的──虽然一般来说您会在这样的 commit
	  之前收到一个礼貌性的通知， 但有时可能会有人没有注意到需要这样做，
	  或者这样做很困难。 另外， 有些时候通知的修改也可能是微不足道的。
	  我们希望每一个人能够正确地进行判断。)</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">如果想使用 FreshPorts， 之需要建立一个账号。 如果您注册的邮件地址是
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">@FreeBSD.org</literal>， 您会看到 web 页面右侧的 opt-in
	  连接。 如果您已经注册了 FreshPorts 账号，
	  但没有使用 <literal xmlns:xlink="http://www.w3.org/1999/xlink">@FreeBSD.org</literal> 邮件地址，
	  则只需把邮件地址改为 <literal xmlns:xlink="http://www.w3.org/1999/xlink">@FreeBSD.org</literal>， 重新订阅，
	  并将其改回。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreshPorts 也会对每一个 FreeBSD ports tree 上的 commit
	  进行自动的合法性检查。 如果您订阅了这项服务， 则如果发现了错误，
	  就会收到来自 FreshPorts 的检测报告。</para>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="cvsweb">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">代码库的 Web 访问界面</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">可以通过 web 界面来浏览源代码库中的文件。
	  影响整个 ports 系统的修改， 现在都会在
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://cvsweb.FreeBSD.org/ports/CHANGES">
	  CHANGES</link> 文件中说明。 影响某一个 port 的变动， 则在
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://cvsweb.FreeBSD.org/ports/UPDATING">
	  UPDATING</link> 文件中说明。 尽管如此， 所有问题最为权威的答案，
	  毫无疑问应该是 <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://cvsweb.FreeBSD.org/ports/Mk/bsd.port.mk">
	  bsd.port.mk</link> 的源代码， 以及相关的文件。</para>

      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ports-mailling-list">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD Ports 邮件列表</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">如果您维护了某个或某一些 ports， 则应该考虑订阅
	  <link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-ports">FreeBSD ports 邮件列表</link>。 对于 ports 工作方式的重要修改都会在此宣示，
	  并提交到 <filename xmlns:xlink="http://www.w3.org/1999/xlink">CHANGES</filename>。</para>

      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="build-cluster">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">位于 <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">pointyhat.FreeBSD.org</systemitem>
	   的 FreeBSD Port 联编集群</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 的一个最不为人所知的强项是，
	    它拥有一个专用于持续联编 Ports Collection 的集群，
	    这个集群会联编所有主要的 OS 版本在每一个 Tier-1 架构上的 package。
	    您可以在
	    <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://pointyhat.FreeBSD.org/">package
	    联编和错误日志</link> 找到其结果。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">每一个 port 都会被联编，
	    除非标记为 <varname xmlns:xlink="http://www.w3.org/1999/xlink">IGNORE</varname>。
	    标记了 <varname xmlns:xlink="http://www.w3.org/1999/xlink">BROKEN</varname> 的 port 仍然会被继续尝试，
	    以了解是否某些依赖关系的变动解决了其问题
	    (这是通过给 port 的 <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> 传
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">TRYBROKEN</varname> 参数来完成的)。</para>

      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="distfile-survey">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 的 Ports Distfile 扫描器</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">联编集群是一组专门用于联编所有 port 最新版本的机器，
	    其上已经下载了所有的 distfiles。 然而， 由于 Internet 在持续地发生变化，
	    distfile 可能很快就消失了。 <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.portscout.org">FreeBSD
	    Ports distfile 扫描器</link> 试图查询每一个 port 的所有下载站点，
	    以期找出这些文件是否依然存在。 维护者应规律性地检查这些报告，
	    这不仅会提高用户联编的速度， 同时也避免了浪费那些镜像了全部
	    distfile 的志愿者的带宽。</para>

      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="portsmon">

	<title xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 的 Ports 追踪系统</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">另一个非常方便的资源， 就是
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://portsmon.FreeBSD.org">
	  FreeBSD Ports 追踪系统</link> (也被称作
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">portsmon</literal>)。
	  这个系统包含了一个处理若干信息来源的数据库，
	  并提供了一个可以通过 web 方式浏览的界面。 目前，
	  它利用到了和 ports 有关的问题报告 (PR)、 来自联编集群的错误日志，
	  以及来自 Ports Collection 的文件所提供的信息。
	  未来， 还会对它进行进一步的扩展， 从而提供包括 distfile 普查，
	  以及其它来源在内的更多信息。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">要使用这个工具， 可以从查看关于某一个 port 的全部资料的
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://portsmon.FreeBSD.org/portoverview.py">
	  Port 的纵览</link> 开始。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">本文撰写时, 这是唯一一个能够将 GNATS PR 项，
	  同对应的 port 名字映射起来的资源。 (提交 PR 的用户，
	  有时并不在 Synopsis (概要) 中指明 port 的名字，
	  尽管我们希望他们这样做)。 因此， <literal xmlns:xlink="http://www.w3.org/1999/xlink">portsmon</literal>
	  在您想要查找是否有人提交某个现存的 port 的 PR，
	  以及它的联编是否出现了错误； 或在您创建新的 port
	  之前想要查找一下是否已经有人提交过时， 就非常有用了。</para>
      </sect1>

    </chapter>
</book>
