<?xml version="1.0" encoding="utf-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>25.5. 追踪开发分支</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD 使用手册" /><link rel="up" href="updating-upgrading.html" title="第 25 章 更新与升级 FreeBSD" /><link rel="prev" href="updating-upgrading-documentation.html" title="25.4. 更新系统附带的文档" /><link rel="next" href="synching.html" title="25.6. 同步您的源码" /><link rel="copyright" href="legalnotice.html" title="版权声明" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">25.5. 追踪开发分支</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="updating-upgrading-documentation.html">上一页</a> </td><th width="60%" align="center">第 25 章 更新与升级 FreeBSD</th><td width="20%" align="right"> <a accesskey="n" href="synching.html">下一页</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="current-stable"></a>25.5. 追踪开发分支</h2></div></div></div><a id="idp82931280" class="indexterm"></a><a id="idp82931792" class="indexterm"></a><p>FreeBSD 有两个开发分支： FreeBSD-CURRENT 和 FreeBSD-STABLE。
      这一章节将对每个分支作相应介绍与如何保持你的系统更新。
      我们将先介绍 FreeBSD-CURRENT 然后是 FreeBSD-STABLE。</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="current"></a>25.5.1. 使用最新的 FreeBSD CURRENT</h3></div></div></div><p>这里再次强调， FreeBSD-CURRENT 是 FreeBSD
	开发的 <span class="quote">“<span class="quote">最前沿</span>”</span>。 FreeBSD-CURRENT
	用户要有较高的技术能力， 并且应该有能力自已解决困难的系统问题。
	如果您是个 FreeBSD 新手， 那么在安装之前最好三思。</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp82934352"></a>25.5.1.1. FreeBSD-CURRENT 是什么？</h4></div></div></div><a id="idp82934992" class="indexterm"></a><p>FreeBSD-CURRENT 是 FreeBSD 的发展前沿。
	  包括了在下一个官方发行的软件中可能存在，
	  也可能不存在的发展、 试验性改动、 以及过渡性的机制。 尽管许多
	  FreeBSD 开发者每天都会编译 FreeBSD-CURRENT 源代码，
	  但有时这些代码仍然会是不能编译的。 虽然这些问题会很快解决，
	  但 FreeBSD-CURRENT 是带来破坏还是您正希望的功能性改善，
	  很可能完全取决于您获取源代码的的时机！</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp82936016"></a>25.5.1.2. 谁需要 FreeBSD-CURRENT？</h4></div></div></div><p>FreeBSD-CURRENT 适合下边三种主要兴趣团体：</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>FreeBSD 社区的成员：
	      积极工作在源码树的某部分的人和为保持 <span class="quote">“<span class="quote">最新</span>”</span>
	      为绝对需求的人。</p></li><li class="listitem"><p>FreeBSD 社区的成员： 为促使 FreeBSD-CURRENT
	      保持尽可能的健全而愿花时间去解决问题的积极的测试者；
	      以及那些愿意提出关于 FreeBSD
	      变化和总体方向的建设性建议并且提供补丁实现它们的人们。</p></li><li class="listitem"><p>那些只是想关注或为了参考目的使用当前 (current) 源码的人们
	      (如，为了<span class="emphasis"><em>阅读</em></span>，而不是执行)。
	      这些人也偶尔做做注释或贡献代码。</p></li></ol></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp82940752"></a>25.5.1.3. FreeBSD-CURRENT <span class="emphasis"><em>不是</em></span>什么？</h4></div></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>追求最新功能， 您听说里面有一些很酷的新功能，
	      并希望成为您周围的人中第一个尝试它们的人。
	      尽管您能够因此首先了解到最新的功能，
	      但这也意味着在出现新的 bug 时您也首当其冲。</p></li><li class="listitem"><p>修复错漏的快捷方式。任何 FreeBSD-CURRENT
	      的既定版本在修复已知错漏的同时又可能会产生新的错漏。</p></li><li class="listitem"><p>无所不在的<span class="quote">“<span class="quote">官方支持</span>”</span>。
	      我们尽最大努力在3个<span class="quote">“<span class="quote">合法的</span>”</span>
	      FreeBSD-CURRENT 组之一真诚给人们提供帮助，但是我们
	      <span class="emphasis"><em>没有时间</em></span>提供技术支持。
	      这并不是因为我们是那种不喜欢帮助人解困的无耻之徒
	      (如果我们是的话，就不会制作 FreeBSD 了)。
	      我们不能每天简单地回复上百的消息，<span class="emphasis"><em>而且</em></span>
	      我们继续发展 FreeBSD！ 在改善 FreeBSD
	      和回复大量关于实验代码的问题之间如果要做个选择的话，
	      开发人员会选择前者。</p></li></ol></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp82946128"></a>25.5.1.4. 使用 FreeBSD-CURRENT</h4></div></div></div><a id="idp82946768" class="indexterm"></a><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>加入 <a class="link" href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-current" target="_top">freebsd-current</a> 和 <a class="link" href="http://lists.FreeBSD.org/mailman/listinfo/svn-src-head" target="_top">svn-src-head</a> 列表。
	      这个不仅仅是个好主意，而且很 <span class="emphasis"><em>重要</em></span>。如果您不去
	      <span class="emphasis"><em><a class="link" href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-current" target="_top">freebsd-current</a></em></span>，
	      您就不会看到人们所做的关于系统当前状态的说明，
	      这样您就有可能在别人已经发现并解决了的一大堆问题面前难倒。
	      更重要的是您会错过一些重要的公告---对于您的系统安全可能是至关重要的。</p><p><a class="link" href="http://lists.FreeBSD.org/mailman/listinfo/svn-src-head" target="_top">svn-src-head</a> 列表允许您看到每个变化的提交记录，
	      因为这些记录与其它相关信息是同步的。</p><p>要加入这些列表，或其它可能的列表，请访问
	      <a class="link" href="http://lists.FreeBSD.org/mailman/listinfo" target="_top">http://lists.FreeBSD.org/mailman/listinfo</a> ，并且点击您想订阅的列项。
	      关于其它步骤的说明那里有提供。
              如果你有兴趣追踪整个原代码树的变更记录，
              我们建议你订阅 <a class="link" href="http://lists.FreeBSD.org/mailman/listinfo/svn-src-all" target="_top">svn-src-all</a>
              邮件列表。</p></li><li class="listitem"><p>从FreeBSD <a class="link" href="mirrors.html" title="附录 A. 获取 FreeBSD">镜像站点</a> 获取源码。 您有两种方式选择：</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><a id="idp82959184" class="indexterm"></a><a id="idp82960080" class="indexterm"></a><a id="idp82965200" class="indexterm"></a><p>与称作 <code class="filename">standard-supfile</code> 的
		  <code class="filename">supfile</code> 一起使用 <a class="link" href="cvsup.html" title="A.6. 使用 CVSup">cvsup</a>，这个可以从
		  <code class="filename">/usr/share/examples/cvsup</code>得到。
		  这是最被推荐的方式，因为它允许您一次获取整个集合，
		  以后就只取更改过的部分。许多人从 <code class="command">cron</code>
		  运行 <code class="command">cvsup</code>，以保持他们的源码自动更新。
		  您须要定制上边的 <code class="filename">supfile</code> 样本，并且配置 <a class="link" href="cvsup.html" title="A.6. 使用 CVSup">cvsup</a> 以适应您的环境。</p><div xmlns="" class="note"><h3 class="admontitle">注意: </h3><p xmlns="http://www.w3.org/1999/xhtml"><code class="filename">standard-supfile</code>
                    例子是为追踪指定的 FreeBSD 安全分支而指定的，
                    而不是 FreeBSD-CURRENT。
                    你需要编辑这个文件并把如下这行：</p><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting">*default release=cvs tag=RELENG_<em class="replaceable"><code>X</code></em>_<em class="replaceable"><code>Y</code></em></pre><p xmlns="http://www.w3.org/1999/xhtml">替换为：</p><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting">*default release=cvs tag=.</pre><p xmlns="http://www.w3.org/1999/xhtml">可以参阅手册中的
                    <a class="link" href="cvs-tags.html" title="A.7. CVS 标签">CVS Tags</a>
                    章节获得更多可用 tag 的详细说明。</p></div></li><li class="listitem"><a id="idp82974672" class="indexterm"></a><p>使用工具 <span class="application">CTM</span>。
		  如果您的连接性能不太好(高价连接或只能通过电子邮件存取)，
		  <span class="application">CTM</span> 是个选择。
		  但这也颇有争议并且常常得到到坏文件。因此很少使用它，
		  这也注定了不能长期用它来工作。对于使用 9600 bps
		  或更快连接的人，我们推荐使用 <span class="application">CVSup</span>。
		</p></li></ol></div></li><li class="listitem"><p>如果您获取源码是用于运行，而不只是看看，那么就获取
	      <span class="emphasis"><em>整个</em></span> FreeBSD-CURRENT，不要选部分。
	      这样做的原因是源码的大部分都依赖于其他部分，
	      要是您试着只编译其中一部分的话，保证您会陷入麻烦。</p><a id="idp82978768" class="indexterm"></a><p>在编译 FreeBSD-CURRENT 之前，请仔细阅读
	      <code class="filename">/usr/src</code> 里的
	      <code class="filename">Makefile</code> 文件。
	      尽管是部分的升级过程，您至少也要首先<a class="link" href="makeworld.html" title="25.7. 重新编译 “world”">安装新的内核和重建系统</a>。阅读
	      <a class="link" href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-current" target="_top">FreeBSD-CURRENT 邮件列表</a> 邮件列表和 <code class="filename">/usr/src/UPDATING</code>，
	      会让您在其它循序渐进的过程中保持最新，
	      这对于我们向下一个发行版转移是很有必要的。</p></li><li class="listitem"><p>热心一点！如果您正运行 FreeBSD-CURRENT，
	      我们很想知道您关于它的一些想法，
	      尤其是关于错漏修复或增进的建议。
	      非常欢迎带有代码的建议！</p></li></ol></div></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="stable"></a>25.5.2. 使用最新的 FreeBSD STABLE</h3></div></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp82992848"></a>25.5.2.1. FreeBSD-STABLE 是什么?</h4></div></div></div><a id="idp82993488" class="indexterm"></a><p>FreeBSD-STABLE 是我们的发展分支，我们的主要发行版就由此而来。
	  这个分支会以不同速度变化，并且假定这些是第一次进入
	  FreeBSD-CURRENT 进行测试。然而，这 <span class="emphasis"><em>仍然</em></span>
	  是个发展中的分支，这意味着在一定的时候，FreeBSD-STABLE
	  源码可能或不可能满足一些特殊的要求。
	  它只不过是另一个工程发展途径，并不是终端用户的资源。</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp82994896"></a>25.5.2.2. 谁需要 FreeBSD-STABLE？</h4></div></div></div><p>如果您有兴趣追随 FreeBSD 的开发过程或为其做点贡献，
          尤其是和下一个
	  <span class="quote">“<span class="quote">非计划</span>”</span> 的 FreeBSD 发行版有关时，
	  您应该考虑采用 FreeBSD-STABLE。</p><p>尽管安全更新也会进入
	  FreeBSD-STABLE 分支，但您并不 <span class="emphasis"><em>必须</em></span> 使用
	  FreeBSD-STABLE 来达到这样的目的。 每一个
	  FreeBSD 的安全公告都会解释如何修复受到影响的发行版中的问题
	  <a href="#ftn.idp82996944" class="footnote" id="idp82996944"><sup class="footnote">[12]</sup></a>，而因为安全原因而去采用一个开发分支显然可能会同时引入一些不希望的修改。</p><p>尽管我们尽力确保 FreeBSD-STABLE 分支在任何时候都能够正确编译和运行，
	  但没有人能够担保它在任何时候都总可以。
	  此外， 尽管代码在进入 FreeBSD-STABLE 之前都是在 FreeBSD-CURRENT 上完成开发，
	  但使用 FreeBSD-STABLE 的人要比使用 FreeBSD-CURRENT 的更多。
	  有证据显示， 犄角旮旯里的各种问题有些时候仍然会由于在 FreeBSD-CURRENT 不那么明显
	  而在 FreeBSD-STABLE 暴露出来。</p><p>基于这些原因， <span class="emphasis"><em>不</em></span> 推荐您盲目地追随
	  FreeBSD-STABLE， 并且， 在粗略地测试过代码之前不要更新任何生产服务器到
	  FreeBSD-STABLE 也非常重要。</p><p>如果您没有用于完成这些工作的资源， 我们推荐您使用最新的 FreeBSD
	  发行版， 并使用发行版提供的二进制更新机制来在发行版之间完成迁移。</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp83000016"></a>25.5.2.3. 使用FreeBSD-STABLE</h4></div></div></div><a id="idp83000656" class="indexterm"></a><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>加入 <a class="link" href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-stable" target="_top">freebsd-stable</a> 列表。让您随时了解可能出现在
	      FreeBSD-STABLE 里的<span class="quote">“<span class="quote">build 依赖性</span>”</span>或其它需要特别注意的问题。
	      当开发员正在考虑某些有争议的修复或更新时，
	      他们就会在这个邮件列表里发表声明，给用户机会回应，
	      看他们对于提出的变化是否还有什么问题。</p><p>加入相关的 <span class="application">SVN</span>
              列表来追踪你所关心的分支。比如，如果你在追踪 7-STABLE
              分支，加入 <a class="link" href="http://lists.FreeBSD.org/mailman/listinfo/svn-src-stable-7" target="_top">svn-src-stable-7</a> 列表。
              这样每次这个分支上有改动的时候就能让你看到提交记录,
              还包括了修改可能引起的副作用之类的相关信息。</p><p>要加入这些列表或其他可用的，访问 <a class="link" href="http://lists.FreeBSD.org/mailman/listinfo" target="_top">http://lists.FreeBSD.org/mailman/listinfo</a>
	      并点击您希望订阅的列表。关于其它步骤的说明可以在那里看到。
              如果你有兴趣追踪整个原代码树的变更记录，
              我们建议你订阅 <a class="link" href="http://lists.FreeBSD.org/mailman/listinfo/svn-src-all" target="_top">svn-src-all</a>
              邮件列表。</p></li><li class="listitem"><p>如果您正安装一个新系统， 并希望它运行每月从 FreeBSD-STABLE 编译的快照，
	      请察看 <a class="link" href="../../../../snapshots/" target="_top">
		Snapshots</a> 网页以了解更多信息。
	      另外， 也可以从
	      <a class="link" href="mirrors.html" title="附录 A. 获取 FreeBSD">镜像站点</a> 安装最新的 FreeBSD-STABLE 发行版，
	      并按照其中的说明将系统更新到最新的 FreeBSD-STABLE 源代码。</p><p>如果您已经在运行较早的 FreeBSD 版本， 并希望通过源代码方式升级，
	      则可以通过 FreeBSD <a class="link" href="mirrors.html" title="附录 A. 获取 FreeBSD">镜像站点</a> 来完成。
	      这可以通过两种方式来进行：</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><a id="idp83014096" class="indexterm"></a><a id="idp83014992" class="indexterm"></a><a id="idp83015888" class="indexterm"></a><p>与称作 <code class="filename">stable-supfile</code> 的
		  <code class="filename">supfile</code> 一起使用 <a class="link" href="cvsup.html" title="A.6. 使用 CVSup">cvsup</a>，这个可以从
		  <code class="filename">/usr/share/examples/cvsup</code> 得到。
		  这是最被推荐的方式，因为它允许您一次获取整个集合，
		  以后就只取更改过的部分。许多人从 <code class="command">cron</code>
		  运行 <code class="command">cvsup</code>，以保持他们的源码自动更新。
		  您须要定制上边的 <code class="filename">supfile</code> 样本，并且配置 <a class="link" href="cvsup.html" title="A.6. 使用 CVSup">cvsup</a> 以适应您的环境。</p></li><li class="listitem"><a id="idp83021648" class="indexterm"></a><p>使用工具 <span class="application">CTM</span>。
		  如果您的连接性能不太好(高价连接或只能通过电子邮件存取)，
		  <span class="application">CTM</span> 是个选择。
		  但这也颇有争议并且常常得到到坏文件。因此很少使用它，
		  这也注定了不能长期用它来工作。对于使用 9600 bps
		  或更快连接的人，我们推荐使用 <span class="application">CVSup</span>。
		</p></li></ol></div></li><li class="listitem"><p>本质上说，如果您需要快速存取源码并且不计较通信宽带的话，可以使用
	      <code class="command">cvsup</code> 或 <code class="command">ftp</code>。否则，就使用
	      <span class="application">CTM</span>。</p></li><li class="listitem"><a id="idp83031120" class="indexterm"></a><p>在编译 FreeBSD-STABLE 之前，请仔细阅读
	      <code class="filename">/usr/src</code> 里的 <code class="filename">Makefile</code>。
	      您至少应该<a class="link" href="makeworld.html" title="25.7. 重新编译 “world”">安装一个新的内核并重建系统</a>，
	      首先做为升级过程的一部分。阅读 <a class="link" href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-stable" target="_top">FreeBSD-STABLE 邮件列表</a> 邮件列表和
	      <code class="filename">/usr/src/UPDATING</code>，
	      可能让您在其它循序渐进的过程中保持更新，
	      这在我们向下一发行版转移时是很有必要的。</p></li></ol></div></div></div><div class="footnotes"><br /><hr class="footnote-hr" /><div id="ftn.idp82996944" class="footnote"><p><a href="#idp82996944" class="para"><sup class="para">[12] </sup></a>这也不总是正确。我们不可能永远支持
  	    FreeBSD 的旧发行版， 尽管我们会在发布之后支持他们数年之久。
  	    关于 FreeBSD 目前对于旧发行版的支持政策的完整描述， 请参见
  	    <a class="link" href="../../../../security/" target="_top">http://www.FreeBSD.org/security/</a>。</p></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="updating-upgrading-documentation.html">上一页</a> </td><td width="20%" align="center"><a accesskey="u" href="updating-upgrading.html">上一级</a></td><td width="40%" align="right"> <a accesskey="n" href="synching.html">下一页</a></td></tr><tr><td width="40%" align="left" valign="top">25.4. 更新系统附带的文档 </td><td width="20%" align="center"><a accesskey="h" href="index.html">起始页</a></td><td width="40%" align="right" valign="top"> 25.6. 同步您的源码</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>本文档和其它文档可从这里下载：
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>.</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>如果对于FreeBSD有问题，请先阅读
    <a href="http://www.FreeBSD.org/docs.html">文档</a>，如不能解决再联系
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    关于本文档的问题请发信联系
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>