<?xml version="1.0" encoding="iso-8859-7"?>
<!--
  Ελληνική μετάφραση του: Introduction to NanoBSD

  The FreeBSD Greek Documentation Project

  %SOURCE%	en_US.ISO8859-1/articles/nanobsd/article.xml
  %SRCID%	1.5

-->
<article xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" xml:lang="el">
  <info><title xmlns:xlink="http://www.w3.org/1999/xlink">Εισαγωγή στο NanoBSD</title>
    

    <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
      <author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Daniel</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Gerzo</surname></personname></author>
      <author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Κυριάκος</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Κεντρωτής</surname></personname></author>
    </authorgroup>

    <copyright xmlns:xlink="http://www.w3.org/1999/xlink">
      <year xmlns:xlink="http://www.w3.org/1999/xlink">2006, 2009</year>
      <holder xmlns:xlink="http://www.w3.org/1999/xlink">Η Ομάδα Τεκμηρίωσης του FreeBSD</holder>
    </copyright>

    <legalnotice xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="trademarks" role="trademarks">
      <para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">Το FreeBSD είναι ένα κατοχυρωμένο εμπορικό
  σύμβολο του FreeBSD Foundation.</para>
      <para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">Πολλές από τις λέξεις ή φράσεις οι οποίες
  χρησιμοποιούνται από τους κατασκευαστές ή τους πωλητές τους για να
  διακρίνουν τα προϊόντα τους θεωρούνται εμπορικά σύμβολα.  Όπου αυτές
  εμφανίζονται σε αυτό το κείμενο και για όσες από αυτές γνωρίζει η Ομάδα
  Ανάπτυξης του FreeBSD ότι είναι πιθανόν να είναι εμπορικά σύμβολα, θα δείτε
  ένα από τα σύμβολα: <quote xmlns:xlink="http://www.w3.org/1999/xlink">TM</quote> ή <quote xmlns:xlink="http://www.w3.org/1999/xlink">(R)</quote>.</para>
    </legalnotice>

    <pubdate xmlns:xlink="http://www.w3.org/1999/xlink">$FreeBSD$</pubdate>

    <releaseinfo xmlns:xlink="http://www.w3.org/1999/xlink">$FreeBSD$</releaseinfo>

    <abstract xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">Το έγγραφο αυτό παρέχει πληροφορίες για τα εργαλεία
	του <application xmlns:xlink="http://www.w3.org/1999/xlink">NanoBSD</application>, τα οποία μπορούν να
	χρησιμοποιηθούν προκειμένου να δημιουργηθούν είδωλα του συστήματος
	FreeBSD για embedded εφαρμογές, κατάλληλες για χρήση από κάρτα Compact
	Flash (ή άλλο μέσο αποθήκευσης).</para>
    </abstract>
  </info>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="intro">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">Εισαγωγή στο NanoBSD</title>

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">NanoBSD</primary></indexterm>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">Το <application xmlns:xlink="http://www.w3.org/1999/xlink">NanoBSD</application> είναι ένα εργαλείο το οποίο
      αναπτύσσεται ενεργά από τον Poul-Henning Kamp.  Δημιουργεί ένα εικονικό είδωλο του
      συστήματος FreeBSD για embedded εφαρμογές, ιδανικό για κάρτες Compact Flash
      (ή άλλο μέσο αποθήκευσης).</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">Μπορεί να χρησιμοποιηθεί για να φτιαχτούν εξειδικευμένες εικόνες,
      σχεδιασμένες για εύκολη εγκατάσταση και συντήρηση συστημάτων
      τύπου <quote xmlns:xlink="http://www.w3.org/1999/xlink">computer appliance</quote>.  Τα συστήματα τέτοιου είδους
      έχουν το υλικό και λογισμικό τους ενοποιημένα μέσα στο προϊόν.  Αυτό
      σημαίνει πως συχνά είναι προεγκατεστημένα όλα τα απαραίτητα προγράμματα.
      Η συσκευή συνδέεται σε ένα υπάρχον δίκτυο και μπορεί να λειτουργήσει
      (σχεδόν) αμέσως.</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">Τα βασικά χαρακτηριστικά του <application xmlns:xlink="http://www.w3.org/1999/xlink">NanoBSD</application>
      είναι:</para>

    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">Τα ports και τα πακέτα λειτουργούν όπως στο FreeBSD -
	  οποιοδήποτε πρόγραμμα μπορεί να εγκατασταθεί και να χρησιμοποιηθεί
	  στο FreeBSD μπορεί να ενσωματωθεί και σε ένα
	  είδωλο <application xmlns:xlink="http://www.w3.org/1999/xlink">NanoBSD</application> και να λειτουργήσει με τον
	  ίδιο τρόπο.</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">Δε υστερεί σε λειτουργικότητα - Αν είναι εφικτό να
	  γίνει κάτι με το FreeBSD, τότε είναι εφικτό να γίνει το ίδιο πράμα και
	  με το <application xmlns:xlink="http://www.w3.org/1999/xlink">NanoBSD</application>, εκτός αν το συγκεκριμένο
	  χαρακτηριστικό έχει σκόπιμα αφαιρεθεί από το είδωλο
	  του <application xmlns:xlink="http://www.w3.org/1999/xlink">NanoBSD</application>.</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">Το <application xmlns:xlink="http://www.w3.org/1999/xlink">NanoBSD</application> τρέχει με το σύστημα σε
	  κατάσταση προστασίας από εγγραφή.  Μπορείτε ακόμα και να το
	  αποσυνδέσετε από το ρεύμα την ώρα που λειτουργεί.  Δεν είναι
	  αναγκαίο να εκτελεστεί το <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">fsck</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> μετά από μια άγαρμπη διακοπή
	  λειτουργίας του συστήματος.</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">Είναι εύκολο να δημιουργηθεί και να προσαρμοστεί ένα
	  είδωλο <application xmlns:xlink="http://www.w3.org/1999/xlink">NanoBSD</application>.  Με τη χρήση ενός μόνο
	  σεναρίου φλοιού και ενός αρχείου διαμόρφωσης είναι εφικτή η δόμηση
	  προσαρμοσμένων ειδώλων που ικανοποιούν οποιαδήποτε ανάγκη.</para>
      </listitem>
    </itemizedlist>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="howto">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">Ρύθμιση του NanoBSD</title>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="design">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Η Σχεδίαση του NanoBSD</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Αφού γραφτεί ένα είδωλο του <application xmlns:xlink="http://www.w3.org/1999/xlink">NanoBSD</application> σε
	κάποιο αποθηκευτικό μέσο, μπορεί να χρησιμοποιηθεί για να ξεκινήσει
	ένα σύστημα FreeBSD.  Η προκαθορισμένη διαμόρφωση του μέσου εκκίνησης
	αποτελείται από τρία μέρη:</para>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Δύο διαμερίσματα εκκίνησης: <literal xmlns:xlink="http://www.w3.org/1999/xlink">code#1</literal>
	    και <literal xmlns:xlink="http://www.w3.org/1999/xlink">code#2</literal>.</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Το διαμέρισμα ρυθμίσεων, Αυτό μπορεί να προσαρτηθεί στον
	    κατάλογο <filename xmlns:xlink="http://www.w3.org/1999/xlink">/cfg</filename> την ώρα
	    λειτουργίας του <application xmlns:xlink="http://www.w3.org/1999/xlink">NanoBSD</application>.</para>
	</listitem>
      </itemizedlist>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Αυτά τα τρία διαμερίσματα κανονικά είναι προσαρτημένα μόνο για
	ανάγνωση.</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Οι κατάλογοι <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc</filename>
	και <filename xmlns:xlink="http://www.w3.org/1999/xlink">/var</filename> είναι εικονικοί δίσκοι
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">md</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry> (malloc).</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Το διαμέρισμα ρυθμίσεων μπορεί να προσαρτηθεί στον
	κατάλογο <filename xmlns:xlink="http://www.w3.org/1999/xlink">/cfg</filename>.  Περιέχει αρχεία
	τα οποία αντιγράφονται στον
	κατάλογο <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc</filename>.  Κατά την
	εκκίνηση του συστήματος το διαμέρισμα ρυθμίσεων προσαρτάται προσωρινά
	μόνο για ανάγνωση και αντιγράφονται τα αρχεία του στον
	κατάλογο <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc</filename>.  Οπότε για να
	είναι κάποια αλλαγή ρυθμίσεων πιο <quote xmlns:xlink="http://www.w3.org/1999/xlink">μόνιμη</quote> και να ισχύει
	ακόμα και μετά από επανεκκίνηση του συστήματος, πρέπει να αντιγράφεται
	από τον κατάλογο <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc</filename> στο
	διαμέρισμα ρυθμίσεων, αφού αυτό προσαρτηθεί για γράψιμο στον
	κατάλογο <filename xmlns:xlink="http://www.w3.org/1999/xlink">/cfg</filename>.</para>

      <example xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Κάνοντας μόνιμες αλλαγές στο <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/resolv.conf</filename></title>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">vi /etc/resolv.conf</userinput>
[...]
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mount /cfg</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cp /etc/resolv.conf /cfg</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">umount /cfg</userinput></screen>
      </example>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">Το διαμέρισμα το οποίο περιέχει τον
	  κατάλογο <filename xmlns:xlink="http://www.w3.org/1999/xlink">/cfg</filename> πρέπει να
	  προσαρτάται μόνο κατά την εκκίνηση και όταν έχουν προτεραιότητα τα
	  αρχεία ρυθμίσεων
	  του <filename xmlns:xlink="http://www.w3.org/1999/xlink">/cfg</filename>.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Δεν είναι καλή ιδέα να μένει μόνιμα προσαρτημένο το
	  διαμέρισμα <filename xmlns:xlink="http://www.w3.org/1999/xlink">/cfg</filename>.  Αν ένα
	  διαμέρισμα είναι προσαρτημένο για γράψιμο και το αποθηκευτικό μέσο
	  του <application xmlns:xlink="http://www.w3.org/1999/xlink">NanoBSD</application> επιτρέπει περιορισμένο αριθμό
	  κύκλων εγγραφής (όπως π.χ. μερικές κάρτες CF), μπορεί να επηρεαστεί
	  αρνητικά το αποθηκευτιμό μέσο επειδή ο πυρήνας γράφει κάθε λίγο
	  στους δίσκους του συστήματος (syncer).</para>
      </note>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Δημιουργία Ενός Προσαρμοσμένου Συστήματος NanoBSD</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Το είδωλο του <application xmlns:xlink="http://www.w3.org/1999/xlink">NanoBSD</application> δημιουργείται από
	ένα απλό σενάριο κονσόλας, το <filename xmlns:xlink="http://www.w3.org/1999/xlink">nanobsd.sh</filename>, το
	οποίο μπορεί να βρεθεί στον
	κατάλογο <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/src/tools/nanobsd</filename>.
	Αυτό το σενάριο δημιουργεί ένα είδωλο δίσκου, το οποίο μπορεί να
	αντιγραφεί απευθείας σε κάποιο αποθηκευτικό μεσο χρησιμοποιώντας το
	πρόγραμμα <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">dd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>.</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Οι απαραίτητες εντολές προκειμένου να δημιουργηθεί ένα είδωλο
	του <application xmlns:xlink="http://www.w3.org/1999/xlink">NanoBSD</application> είναι οι εξής:</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/src/tools/tools/nanobsd</userinput> <co xml:id="nbsd-cd"/>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">sh nanobsd.sh</userinput> <co xml:id="nbsd-sh"/>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/obj/nanobsd.full</userinput> <co xml:id="nbsd-cd2"/>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">dd if=_.disk.full of=/dev/da0 bs=64k</userinput> <co xml:id="nbsd-dd"/></screen>

      <calloutlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<callout arearefs="nbsd-cd">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Αλλαγή από τον τρέχοντα κατάλογο στον βασικό κατάλογο του
	    σεναρίου δημιουργίας
	    του <application xmlns:xlink="http://www.w3.org/1999/xlink">NanoBSD</application>.</para>
	</callout>

	<callout arearefs="nbsd-sh">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Εκκίνηση της δημιουργίας του ειδώλου.</para>
	</callout>

	<callout arearefs="nbsd-cd2">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Αλλαγή από τον τρέχοντα κατάλογο στον κατάλογο που περιέχει το
	    είδωλο του <application xmlns:xlink="http://www.w3.org/1999/xlink">NanoBSD</application>.</para>
	</callout>

	<callout arearefs="nbsd-dd">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Αντιγραφή του <application xmlns:xlink="http://www.w3.org/1999/xlink">NanoBSD</application> σε ένα μέσο
	    αποθήκευσης.</para>
	</callout>
      </calloutlist>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Προσαρμόζοντας το είδωλο του NanoBSD</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Αυτό είναι πιθανότατα το πιο σημαντικό και πιο ενδιαφέρον
	χαρακτηριστικό του <application xmlns:xlink="http://www.w3.org/1999/xlink">NanoBSD</application>.  Αυτό είναι και
	το μέρος της διαδικασίας ανάπτυξης του
	ειδώλου <application xmlns:xlink="http://www.w3.org/1999/xlink">NanoBSD</application> για το οποίο θα ξοδέψετε
	ένα μεγάλο ποσοστό του χρόνου προετοιμασίας του ειδώλου.</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Η ακόλουθη εντολή θα κάνει το <filename xmlns:xlink="http://www.w3.org/1999/xlink">nanobsd.sh</filename> να
	διαβάσει τις ρυθμίσεις του από το
	αρχείο <filename xmlns:xlink="http://www.w3.org/1999/xlink">myconf.nano</filename> που βρίσκεται στο τρέχοντα
	κατάλογο:</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">sh nanobsd.sh -c myconf.nano</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Η προσαρμογή και παραμετροποίηση
	του <application xmlns:xlink="http://www.w3.org/1999/xlink">NanoBSD</application> γίνεται συνήθως με δύο
	τρόπους:</para>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Επιλογές διαμόρφωσης</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Προσαρμοσμένες συναρτήσεις</para>
	</listitem>
      </itemizedlist>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Επιλογές διαμόρφωσης</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Οι ρυθμίσεις του <application xmlns:xlink="http://www.w3.org/1999/xlink">NanoBSD</application> μπορούν να
	  χρησιμοποιηθούν για να οριστούν προσαρμοσμένες επιλογές
	  μεταγλώττισης και εγκατάστασης του FreeBSD.  Αυτές οι επιλογές
	  επηρεάζουν τα στάδια <buildtarget>buildworld</buildtarget>
	  και <buildtarget>installworld</buildtarget>
	  του <application xmlns:xlink="http://www.w3.org/1999/xlink">NanoBSD</application>, καθώς και άλλες επιλογές της
	  δημιουργίας του τελικού ειδώλου.  Με τις κατάλληλες ρυθμίσεις
	  το <application xmlns:xlink="http://www.w3.org/1999/xlink">NanoBSD</application> μπορεί να μικρύνει αρκετά σε
	  μέγεθος· μπορεί να χωρέσει ένα πολύ μικρό υποσύνολο του βασικού FreeBSD
	  σε χώρο μικρότερο από 64MB.  Μπορείτε επίσης να χρησιμοποιήσετε τις
	  επιλογές του <application xmlns:xlink="http://www.w3.org/1999/xlink">NanoBSD</application> για να δημιουργήσετε
	  ένα είδωλο που έχει μόνο τον πυρήνα και δυο-τρία αρχεία στο βασικό
	  σύστημα.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Το αρχείο ρυθμίσεων του <application xmlns:xlink="http://www.w3.org/1999/xlink">NanoBSD</application>
	  περιέχει εντολές οι οποίες ορίζουν νέες τιμές για κάποια
	  προκαθορισμένη μεταβλητή ή επεκτείνουν τις υπάρχουσες ρυθμίσεις.  Οι
	  πιο σημαντικές μεταβλητές είναι οι εξής:</para>

	<itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">NANO_NAME</literal> - Το όνομα του
	      ειδώλου <application xmlns:xlink="http://www.w3.org/1999/xlink">NanoBSD</application> που θα δημιουργηθεί
	      (χρησιμοποιείται για να φτιάξει τα ονόματα των κατάλογων
	      εργασίας).</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">NANO_SRC</literal> - Η διαδρομή του δέντρου
	      πηγαίου κώδικα το οποίο θα χρησιμοποιηθεί για να μετγλωττιστεί
	      το είδωλο.</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">NANO_KERNEL</literal> - Το όνομα του αρχείου
	      ρυθμίσεων πυρήνα το οποίο θα χρησιμοποιηθεί για να χτιστεί ο
	      πυρήνας του ειδώλου.</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">CONF_BUILD</literal> - Επιλογές που περνούν
	      στο στάδιο <buildtarget>buildworld</buildtarget> της μεταγλώττισης του
	      FreeBSD.</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">CONF_INSTALL</literal> - Επιλογές που περνούν
	      στο στάδιο <buildtarget>installworld</buildtarget> της προετοιμασίας του
	      ειδώλου.</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">CONF_WORLD</literal> - Επιλογές που περνούν
	      και στα δύο στάδια της προετοιμασίας του ειδώλου, και
	      στο <buildtarget>buildworld</buildtarget> και
	      στο <buildtarget>installworld</buildtarget>.</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">FlashDevice</literal> - Ορίζει τον τύπο
	      του μέσου αποθήκευσης που θα χρησιμοποιηθεί.  Για περισσότερες
	      λεπτομέρειες δείτε το
	      αρχείο <filename xmlns:xlink="http://www.w3.org/1999/xlink">FlashDevise.sub</filename>.</para>
	  </listitem>
	</itemizedlist>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Προσαρμοσμένες Συναρτήσεις</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Στο αρχείο ρύθμισης του <application xmlns:xlink="http://www.w3.org/1999/xlink">NanoBSD</application>
	  μπορεί να ρυθμιστεί σχεδόν κάθε λεπτομέρεια της προετοιμασίας του
	  ειδώλου και του τελικού ειδώλου το οποίο θα δημιουργηθεί.
	  Χρησιμοποιώντας μικρές συναρτήσεις φλοιού, μπορούμε να ρυθμίσουμε τα
	  πάντα.  Για παράδειγμα, μπορούμε να τρέξουμε δικές μας εντολές οι
	  οποίες παραμετροποιούν το τελικό είδωλο ως εξής:</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">cust_foo () (
	echo "bar=topless" &gt; \
		${NANO_WORLDDIR}/etc/foo
)
customize_cmd cust_foo</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Ένα πιο χρήσιμο παράδειγμα συνάρτησης φλοιού, η οποία ρυθμίζει
	  κάποια παράμετρο του τελικού ειδώλου, είναι αυτό που ακολουθεί.  Η
	  συνάρτηση <literal xmlns:xlink="http://www.w3.org/1999/xlink">cust_etc_size</literal> αλλάζει την προεπιλεγμένη
	  τιμή μεγέθους του
	  καταλόγου <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc</filename> από 5MB σε
	  30MB:</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">cust_etc_size () (
	cd ${NANO_WORLDDIR}/conf
	echo 30000 &gt; default/etc/md_size
)
customize_cmd cust_etc_size</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Το σενάριο φλοιού που δημιουργεί
	  το <application xmlns:xlink="http://www.w3.org/1999/xlink">NanoBSD</application> έχει μερικές έτοιμες
	  συναρτήσεις φλοιού οι οποίες εκτελούν τέτοιες επιπλέον
	  ρυθμίσεις:</para>

	<itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">cust_comconsole</literal> - Απενεργοποιεί το
	      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">getty</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> στις κονσόλες VGA (οι
	      συσκευές <filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/ttyv*</filename>) και ενεργοποιεί την
	      χρήση της σειριακής θύρας COM1 ως κονσόλα συστήματος.</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">cust_allow_ssh_root</literal> - Επιτρέπει την
	      είσοδο του χρήστη <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem> μέσω του
	      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">sshd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>.</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">cust_install_files</literal> - Εγκαθιστά
	      αρχεία από τον
	      κατάλογο <filename xmlns:xlink="http://www.w3.org/1999/xlink">nanobsd/Files</filename>.
	      Σε αυτό τον κατάλογο βρίσκονται μερικά χρήσιμα σενάρια φλοιού
	      για τη διαχείριση
	      ενός συστήματος <application xmlns:xlink="http://www.w3.org/1999/xlink">NanoBSD</application>.</para>
	  </listitem>
	</itemizedlist>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Προσθέτοντας Πακέτα</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Σε ένα είδωλο <application xmlns:xlink="http://www.w3.org/1999/xlink">NanoBSD</application> μπορούν να
	  προστεθούν και έτοιμα πακέτα, που έχουν φτιαχτεί από πριν
	  χρησιμοποιώντας τη Συλλογή των Ports.  Μια συνάρτηση φλοιού μπορεί
	  να εγκαταστήσει έξτρα πακέτα την ώρα που προετοιμάζεται το είδωλο.
	  Για παράδειγμα, η παρακάτω συνάρτηση θα εγκαταστήσει στο είδωλο όλα
	  τα πακέτα που βρίσκονται στον
	  κατάλογο <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/src/tools/tools/nanobsd/packages</filename>:</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">install_packages () (
mkdir -p ${NANO_WORLDDIR}/packages
cp /usr/src/tools/tools/nanobsd/packages/* ${NANO_WORLDDIR}/packages
chroot ${NANO_WORLDDIR} sh -c 'cd packages; pkg_add -v *;cd ..;'
rm -rf ${NANO_WORLDDIR}/packages
)

customize_cmd install_packages</programlisting>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Παράδειγμα Αρχείου Ρυθμίσεων του NanoBSD</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Ένα πλήρες παράδειγμα αρχείου ρυθμίσεων για
	  το <application xmlns:xlink="http://www.w3.org/1999/xlink">NanoBSD</application>, με διάφορες ρυθμίσεις για τη
	  μεταγλώττιση του FreeBSD και την προετοιμασία του τελικού ειδώλου,
	  μπορεί να μοιάζει κάπως έτσι:</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">NANO_NAME=custom
NANO_SRC=/usr/src
NANO_KERNEL=MYKERNEL
NANO_IMAGES=2

CONF_BUILD='
NO_KLDLOAD=YES
NO_NETGRAPH=YES
NO_PAM=YES
'

CONF_INSTALL='
NO_ACPI=YES
NO_BLUETOOTH=YES
NO_CVS=YES
NO_FORTRAN=YES
NO_HTML=YES
NO_LPR=YES
NO_MAN=YES
NO_SENDMAIL=YES
NO_SHAREDOCS=YES
NO_EXAMPLES=YES
NO_INSTALLLIB=YES
NO_CALENDAR=YES
NO_MISC=YES
NO_SHARE=YES
'

CONF_WORLD='
NO_BIND=YES
NO_MODULES=YES
NO_KERBEROS=YES
NO_GAMES=YES
NO_RESCUE=YES
NO_LOCALES=YES
NO_SYSCONS=YES
NO_INFO=YES
'

FlashDevice SanDisk 1G

cust_nobeastie() (
	touch ${NANO_WORLDDIR}/boot/loader.conf
	echo "beastie_disable=\"YES\"" &gt;&gt; ${NANO_WORLDDIR}/boot/loader.conf
)

customize_cmd cust_comconsole
customize_cmd cust_install_files
customize_cmd cust_allow_ssh_root
customize_cmd cust_nobeastie</programlisting>
      </sect3>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Ενημερώνοντας το NanoBSD</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Η διαδικασία ενημέρωσης του <application xmlns:xlink="http://www.w3.org/1999/xlink">NanoBSD</application>
	είναι σχετικά απλή:</para>

      <procedure xmlns:xlink="http://www.w3.org/1999/xlink">
	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Δημιουργία ενός νέου
	    ειδώλου <application xmlns:xlink="http://www.w3.org/1999/xlink">NanoBSD</application>, με το συνηθισμένο
	    τρόπο.</para>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Ανέβασμα του νέου ειδώλου σε μια αχρησιμοποίητη κατάτμηση μιας
	    συσκευής που τρέχει <application xmlns:xlink="http://www.w3.org/1999/xlink">NanoBSD</application>.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Η πιο σημαντική διαφορά αυτού του σημείου από την αρχική
	    εγκατάσταση του <application xmlns:xlink="http://www.w3.org/1999/xlink">NanoBSD</application> είναι ότι τώρα
	    αντί του αρχείου <filename xmlns:xlink="http://www.w3.org/1999/xlink">_.disk.full</filename> (το οποίο
	    περιέχει το είδωλο ενός ολόκληρου δίσκου), εγκαταστάθηκε το αρχείο
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">_.disk.image</filename> (το οποίο περιέχει το είδωλο
	    μιας μόνο κατάτμησης του δίσκου).</para>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Κλείσιμο και επανεκκίνηση του συστήματος από την νέα
	    εγκατεστημένη κατάτμηση.</para>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Αν όλα πάνε καλά, η αναβάθμιση τελείωσε.</para>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Αν οτιδήποτε πάει στραβά, επανεκκινήστε τη συσκευή από την
	    προηγούμενη κατάτμηση (η οποία περιέχει το παλιό είδωλο, που
	    λειτουργεί σωστά).  Έτσι μπορείτε να επαναφέρετε άμεσα το σύστημα
	    σε λειτουργική κατάσταση.  Διορθώστε οποιαδήποτε προβλήματα έχει
	    το νέο είδωλο, και επαναλάβετε την διαδικασία.</para>
	</step>
      </procedure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Για να εγκατασταθεί το νέο είδωλο σε ένα
	σύστημα <application xmlns:xlink="http://www.w3.org/1999/xlink">NanoBSD</application>, το οποίο ήδη βρίσκεται σε
	λειτουργία, μπορεί να χρησιμοποιηθεί είτε το
	σενάριο <filename xmlns:xlink="http://www.w3.org/1999/xlink">updatep1</filename> είτε
	το <filename xmlns:xlink="http://www.w3.org/1999/xlink">updatep2</filename>.  Αυτά τα δύο σενάρια φλοιού
	βρίσκονται στον
	κατάλογο <filename xmlns:xlink="http://www.w3.org/1999/xlink">/root</filename>.</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Ανάλογα με τις υπηρεσίες του συστήματος στο οποίο δημιουργείται
	ένα είδωλο <application xmlns:xlink="http://www.w3.org/1999/xlink">NanoBSD</application>, μπορεί να μεταφερθεί
	ένα νέο είδωλο στο τελικό σύστημα με διάφορους τρόπους:</para>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Χρησιμοποιώντας το <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ftp</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Αν σας ενδιαφέρει η καλή ταχύτητα μεταφοράς, χρησιμοποιήστε
	  το <acronym xmlns:xlink="http://www.w3.org/1999/xlink">FTP</acronym> για τη μεταφορά του ειδώλου:</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ftp myhost
get _.disk.image "| sh updatep1"</userinput></screen>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Χρησιμοποιώντας το <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ssh</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Αν σας ενδιαφέρει η μεταφορά του ειδώλου να γίνει με ασφαλή
	  τρόπο και δεν έχετε αφαιρέσει από το αρχικό είδωλο το <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ssh</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>,
	  προτιμήστε τη μεταφορά μέσω <acronym xmlns:xlink="http://www.w3.org/1999/xlink">SSH</acronym>:</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ssh myhost cat _.disk.image.gz | zcat | sh updatep1</userinput></screen>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Χρησιμοποιώντας το <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">nc</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Αν το σύστημα στο οποίο έχει δημιουργηθεί το νέο είδωλο
	  του <application xmlns:xlink="http://www.w3.org/1999/xlink">NanoBSD</application> δεν τρέχει ούτε <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ftpd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	  ούτε <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">sshd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>, μπορείτε να χρησιμοποιήσετε άλλα εργαλεία για τη
	  μεταφορά, όπως το <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">nc</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>:</para>

	<procedure xmlns:xlink="http://www.w3.org/1999/xlink">
	  <step xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">Πρώτα ανοίξτε ένα εξυπηρετητή <acronym xmlns:xlink="http://www.w3.org/1999/xlink">TCP</acronym> στο
	      σύστημα το οποίο θα παρέχει το νέο είδωλο, και ορίστε το νέο
	      είδωλο ως είσοδο για τη μεταφορά που θα γίνει αργότερα:</para>

	    <screen xmlns:xlink="http://www.w3.org/1999/xlink">myhost<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">nc -l 2222 &lt; _.disk.image</userinput></screen>

	    <note xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">Πριν από αυτό βεβαιωθείτε ότι η θύρα που χρησιμοποιείτε
		για τον εξυπηρετητή μπορεί να δεχθεί εισερχόμενες συνδέσεις
		από το σύστημα <application xmlns:xlink="http://www.w3.org/1999/xlink">NanoBSD</application> προς το
		σύστημα του εξυπηρετητή, και δεν εμποδίζεται, για παράδειγμα,
		από κάποιο τείχος προστασίας (<quote xmlns:xlink="http://www.w3.org/1999/xlink">firewall</quote>).</para>
	    </note>
	  </step>

	  <step xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">Συνδεθείτε από το <application xmlns:xlink="http://www.w3.org/1999/xlink">NanoBSD</application> στον
	      εξυπηρετητή, ο οποίος είναι ήδη έτοιμος να παρέχει το νέο
	      είδωλο, και τροφοδοτείστε το σενάριο
	      φλοιού <filename xmlns:xlink="http://www.w3.org/1999/xlink">updatep1</filename> με την έξοδο του εργαλείου
	      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">nc</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>:</para>

	    <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">nc myhost 2222 | sh updatep1</userinput></screen>
	  </step>
	</procedure>
      </sect3>
    </sect2>
  </sect1>

  <index xmlns:xlink="http://www.w3.org/1999/xlink"/>
</article>
