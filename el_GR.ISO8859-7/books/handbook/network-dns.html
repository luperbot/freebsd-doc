<?xml version="1.0" encoding="iso-8859-7" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-7" /><title>29.6. Domain Name System (DNS)</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Εγχειρίδιο του FreeBSD" /><link rel="up" href="network-servers.html" title="Κεφάλαιο 29. Εξυπηρετητές Δικτύου" /><link rel="prev" href="network-dhcp.html" title="29.5. Automatic Network Configuration (DHCP)" /><link rel="next" href="network-apache.html" title="29.7. Ο εξυπηρετητής HTTP Apache" /><link rel="copyright" href="legalnotice.html" title="Νομική Σημείωση" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">29.6. Domain Name System (<acronym class="acronym">DNS</acronym>)</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="network-dhcp.html">Προηγ</a> </td><th width="60%" align="center">Κεφάλαιο 29. Εξυπηρετητές Δικτύου</th><td width="20%" align="right"> <a accesskey="n" href="network-apache.html">Επόμενο</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="network-dns"></a>29.6. Domain Name System (<acronym class="acronym">DNS</acronym>)</h2></div><div><span class="authorgroup">Contributed by <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Chern</span> <span class="surname">Lee</span></span>, <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Tom</span> <span class="surname">Rhodes</span></span> και <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Daniel</span> <span class="surname">Gerzo</span></span>. </span></div></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp98138320"></a>29.6.1. Overview</h3></div></div></div><a id="idp98138960" class="indexterm"></a><p>FreeBSD utilizes, by default, a version of BIND (Berkeley
	Internet Name Domain), which is the most common implementation
	of the <acronym class="acronym">DNS</acronym> protocol. <acronym class="acronym">DNS</acronym>
	is the protocol through which names are mapped to
	<acronym class="acronym">IP</acronym> addresses, and vice versa.  For example, a
	query for <code class="systemitem">www.FreeBSD.org</code> will
	receive a reply with the <acronym class="acronym">IP</acronym> address of The
	FreeBSD Project's web server, whereas, a query for <code class="systemitem">ftp.FreeBSD.org</code> will return the
	<acronym class="acronym">IP</acronym> address of the corresponding
	<acronym class="acronym">FTP</acronym> machine.  Likewise, the opposite can
	happen.  A query for an <acronym class="acronym">IP</acronym> address can
	resolve its hostname.  It is not necessary to run a name server
	to perform <acronym class="acronym">DNS</acronym> lookups on a system.</p><p>FreeBSD currently comes with <acronym class="acronym">BIND</acronym>9
	<acronym class="acronym">DNS</acronym> server software by default.  Our
	installation provides enhanced security features, a new file
	system layout and automated <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chroot&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">chroot</span>(8)</span></a> configuration.</p><a id="idp98146128" class="indexterm"></a><p><acronym class="acronym">DNS</acronym> is coordinated across the Internet
	through a somewhat complex system of authoritative root, Top
	Level Domain (<acronym class="acronym">TLD</acronym>), and other smaller-scale
	name servers which host and cache individual domain
	information.</p><p>Currently, BIND is maintained by the
	Internet Software Consortium
	<code class="uri"><a class="uri" href="http://www.isc.org/" target="_top">http://www.isc.org/</a></code>.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp98148816"></a>29.6.2. Terminology</h3></div></div></div><p>To understand this document, some terms related to
	<acronym class="acronym">DNS</acronym> must be understood.</p><a id="idp98150224" class="indexterm"></a><a id="idp98150736" class="indexterm"></a><a id="idp98151248" class="indexterm"></a><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Term</th><th>Definition</th></tr></thead><tbody><tr><td>Forward <acronym class="acronym">DNS</acronym></td><td>Mapping of hostnames to IP addresses.</td></tr><tr><td>Origin</td><td>Refers to the domain covered in a particular zone
		file.</td></tr><tr><td><span class="application">named</span>, BIND, name server</td><td>Common names for the BIND name server package within
		FreeBSD.</td></tr><tr><td>Resolver</td><td>A system process through which a
		machine queries a name server for zone information.</td></tr><tr><td>Reverse <acronym class="acronym">DNS</acronym></td><td>The opposite of forward <acronym class="acronym">DNS</acronym>;
		mapping of <acronym class="acronym">IP</acronym> addresses to
		hostnames.</td></tr><tr><td>Root zone</td><td>The beginning of the Internet zone hierarchy.
		All zones fall under the root zone, similar to how
		all files in a file system fall under the root
		directory.</td></tr><tr><td>Zone</td><td>An individual domain, subdomain, or portion of the
		<acronym class="acronym">DNS</acronym> administered by the same
		authority.</td></tr></tbody></table></div><a id="idp98169936" class="indexterm"></a><p>Examples of zones:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="systemitem">.</code> is the root zone.</p></li><li class="listitem"><p><code class="systemitem">org.</code> is a Top Level Domain
	    (<acronym class="acronym">TLD</acronym>) under the root zone.</p></li><li class="listitem"><p><code class="systemitem">example.org.</code> is a
	    zone under the <code class="systemitem">org.</code>
	    <acronym class="acronym">TLD</acronym>.</p></li><li class="listitem"><p><code class="systemitem">1.168.192.in-addr.arpa</code> is a zone
	    referencing all <acronym class="acronym">IP</acronym> addresses which fall
	    under the <code class="systemitem">192.168.1.*</code>
	    <acronym class="acronym">IP</acronym> space.</p></li></ul></div><p>As one can see, the more specific part of a hostname appears
	to its left.  For example, <code class="systemitem">example.org.</code> is more specific than
	<code class="systemitem">org.</code>, as <code class="systemitem">org.</code> is more specific
	than the root zone.  The layout of each part of a hostname is
	much like a file system: the
	<code class="filename">/dev</code> directory falls
	within the root, and so on.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp98180944"></a>29.6.3. Reasons to Run a Name Server</h3></div></div></div><p>Name servers usually come in two forms: an authoritative
	name server, and a caching name server.</p><p>An authoritative name server is needed when:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>One wants to serve <acronym class="acronym">DNS</acronym> information to
	    the world, replying authoritatively to queries.</p></li><li class="listitem"><p>A domain, such as <code class="systemitem">example.org</code>, is registered and
	    <acronym class="acronym">IP</acronym> addresses need to be assigned to
	    hostnames under it.</p></li><li class="listitem"><p>An <acronym class="acronym">IP</acronym> address block requires reverse
	    <acronym class="acronym">DNS</acronym> entries (<acronym class="acronym">IP</acronym> to
	    hostname).</p></li><li class="listitem"><p>A backup or second name server, called a slave, will
	    reply to queries.</p></li></ul></div><p>A caching name server is needed when:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>A local <acronym class="acronym">DNS</acronym> server may cache and
	    respond more quickly than querying an outside name
	    server.</p></li></ul></div><p>When one queries for <code class="systemitem">www.FreeBSD.org</code>, the resolver usually
	queries the uplink <acronym class="acronym">ISP</acronym>'s name server, and
	retrieves the reply.  With a local, caching
	<acronym class="acronym">DNS</acronym> server, the query only has to be made
	once to the outside world by the caching <acronym class="acronym">DNS</acronym>
	server.  Every additional query will not have to look to the
	outside of the local network, since the information is cached
	locally.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp98225360"></a>29.6.4. How It Works</h3></div></div></div><p>In FreeBSD, the BIND daemon is called
	<span class="application">named</span> for obvious reasons.</p><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>File</th><th>Description</th></tr></thead><tbody><tr><td><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=named&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">named</span>(8)</span></a></td><td>The BIND daemon.</td></tr><tr><td><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=rndc&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">rndc</span>(8)</span></a></td><td>Name server control utility.</td></tr><tr><td><code class="filename">/etc/namedb</code></td><td>Directory where BIND zone information resides.</td></tr><tr><td><code class="filename">/etc/namedb/named.conf</code></td><td>Configuration file of the daemon.</td></tr></tbody></table></div><p>Depending on how a given zone is configured on the server,
	the files related to that zone can be found in the <code class="filename">master</code>, <code class="filename">slave</code>, or <code class="filename">dynamic</code> subdirectories of the
	<code class="filename">/etc/namedb</code> directory.
	These files contain the <acronym class="acronym">DNS</acronym> information that
	will be given out by the name server in response to queries.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp98238288"></a>29.6.5. Starting BIND</h3></div></div></div><a id="idp98239056" class="indexterm"></a><p>Since BIND is installed by default, configuring it all is
	relatively simple.</p><p>The default <span class="application">named</span> configuration
	is that of a basic resolving name server, ran in a
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chroot&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">chroot</span>(8)</span></a> environment.  To start the server one time with
	this configuration, use the following command:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>/etc/rc.d/named forcestart</code></strong></pre><p>To ensure the <span class="application">named</span> daemon is
         started at boot each time, put the following line into the
         <code class="filename">/etc/rc.conf</code>:</p><pre class="programlisting">named_enable="YES"</pre><p>There are obviously many configuration options for
	<code class="filename">/etc/namedb/named.conf</code> that are beyond the
	scope of this document.  However, if you are interested in the
	startup options for <span class="application">named</span> on FreeBSD,
	take a look at the
	<code class="literal">named_*</code> flags in
	<code class="filename">/etc/defaults/rc.conf</code> and consult the
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=rc.conf&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">rc.conf</span>(5)</span></a> manual page.  The
	<a class="xref" href="configtuning-rcd.html" title="12.7. Χρησιμοποιώντας Το Σύστημα rc Στο FreeBSD">Τμήμα 12.7, «Χρησιμοποιώντας Το Σύστημα rc Στο FreeBSD»</a> section is also a good read.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp98256080"></a>29.6.6. Configuration Files</h3></div></div></div><a id="idp98256720" class="indexterm"></a><p>Configuration files for <span class="application">named</span>
	currently reside in
	<code class="filename">/etc/namedb</code> directory and
	will need modification before use, unless all that is needed is
	a simple resolver.  This is where most of the configuration will
	be performed.</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp98259024"></a>29.6.6.1. Using <code class="command">make-localhost</code></h4></div></div></div><p>To configure a master zone for the localhost visit the
	  <code class="filename">/etc/namedb</code> directory
	  and run the following command:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>sh make-localhost</code></strong></pre><p>If all went well, a new file should exist in the
	  <code class="filename">master</code> subdirectory.
	  The filenames should be <code class="filename">localhost.rev</code> for
	  the local domain name and <code class="filename">localhost-v6.rev</code>
	  for <acronym class="acronym">IPv6</acronym> configurations.  As the default
	  configuration file, required information will
	  be present in the <code class="filename">named.conf</code> file.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp98268240"></a>29.6.6.2. <code class="filename">/etc/namedb/named.conf</code></h4></div></div></div><pre class="programlisting">// $FreeBSD$
//
// Refer to the named.conf(5) and named(8) man pages, and the documentation
// in /usr/share/doc/bind9 for more details.
//
// If you are going to set up an authoritative server, make sure you
// understand the hairy details of how DNS works.  Even with
// simple mistakes, you can break connectivity for affected parties,
// or cause huge amounts of useless Internet traffic.

options {
	directory	"/etc/namedb";
	pid-file	"/var/run/named/pid";
	dump-file	"/var/dump/named_dump.db";
	statistics-file	"/var/stats/named.stats";

// If named is being used only as a local resolver, this is a safe default.
// For named to be accessible to the network, comment this option, specify
// the proper IP address, or delete this option.
	listen-on	{ 127.0.0.1; };

// If you have IPv6 enabled on this system, uncomment this option for
// use as a local resolver.  To give access to the network, specify
// an IPv6 address, or the keyword "any".
//	listen-on-v6	{ ::1; };

// In addition to the "forwarders" clause, you can force your name
// server to never initiate queries of its own, but always ask its
// forwarders only, by enabling the following line:
//
//	forward only;

// If you've got a DNS server around at your upstream provider, enter
// its IP address here, and enable the line below.  This will make you
// benefit from its cache, thus reduce overall DNS traffic in the Internet.
/*
	forwarders {
		127.0.0.1;
	};
*/</pre><p>Just as the comment says, to benefit from an uplink's
	  cache, <code class="literal">forwarders</code> can be enabled here.
	  Under normal circumstances, a name server will recursively
	  query the Internet looking at certain name servers until it
	  finds the answer it is looking for.  Having this enabled will
	  have it query the uplink's name server (or name server
	  provided) first, taking advantage of its cache.  If the uplink
	  name server in question is a heavily trafficked, fast name
	  server, enabling this may be worthwhile.</p><div xmlns="" class="warning"><h3 class="admontitle">Προειδοποίηση: </h3><p xmlns="http://www.w3.org/1999/xhtml"><code class="systemitem">127.0.0.1</code> will
	    <span class="emphasis"><em>not</em></span> work here.  Change this
	    <acronym class="acronym">IP</acronym> address to a name server at your
	    uplink.</p></div><pre class="programlisting">	/*
	 * If there is a firewall between you and nameservers you want
	 * to talk to, you might need to uncomment the query-source
	 * directive below.  Previous versions of BIND always asked
	 * questions using port 53, but BIND versions 8 and later
	 * use a pseudo-random unprivileged UDP port by default.
	 */
	 // query-source address * port 53;
};

// If you enable a local name server, don't forget to enter 127.0.0.1
// first in your /etc/resolv.conf so this server will be queried.
// Also, make sure to enable it in /etc/rc.conf.

zone "." {
	type hint;
	file "named.root";
};

zone "0.0.127.IN-ADDR.ARPA" {
	type master;
	file "master/localhost.rev";
};

// RFC 3152
zone "1.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.IP6.ARPA" {
	type master;
	file "master/localhost-v6.rev";
};

// NB: Do not use the IP addresses below, they are faked, and only
// serve demonstration/documentation purposes!
//
// Example slave zone config entries.  It can be convenient to become
// a slave at least for the zone your own domain is in.  Ask
// your network administrator for the IP address of the responsible
// primary.
//
// Never forget to include the reverse lookup (IN-ADDR.ARPA) zone!
// (This is named after the first bytes of the IP address, in reverse
// order, with ".IN-ADDR.ARPA" appended.)
//
// Before starting to set up a primary zone, make sure you fully
// understand how DNS and BIND works.  There are sometimes
// non-obvious pitfalls.  Setting up a slave zone is simpler.
//
// NB: Don't blindly enable the examples below. :-)  Use actual names
// and addresses instead.

/* An example master zone
zone "example.net" {
	type master;
	file "master/example.net";
};
*/

/* An example dynamic zone
key "exampleorgkey" {
	algorithm hmac-md5;
	secret "sf87HJqjkqh8ac87a02lla==";
};
zone "example.org" {
	type master;
	allow-update {
		key "exampleorgkey";
	};
	file "dynamic/example.org";
};
*/

/* Examples of forward and reverse slave zones
zone "example.com" {
	type slave;
	file "slave/example.com";
	masters {
		192.168.1.1;
	};
};
zone "1.168.192.in-addr.arpa" {
	type slave;
	file "slave/1.168.192.in-addr.arpa";
	masters {
		192.168.1.1;
	};
};
*/</pre><p>In <code class="filename">named.conf</code>, these are examples of
	  slave entries for a forward and reverse zone.</p><p>For each new zone served, a new zone entry must be added
	  to <code class="filename">named.conf</code>.</p><p>For example, the simplest zone entry for
	  <code class="systemitem">example.org</code> can look
	  like:</p><pre class="programlisting">zone "example.org" {
	type master;
	file "master/example.org";
};</pre><p>The zone is a master, as indicated by the
	  <code class="option">type</code> statement, holding its zone information
	  in <code class="filename">/etc/namedb/master/example.org</code>
	  indicated by the <code class="option">file</code> statement.</p><pre class="programlisting">zone "example.org" {
	type slave;
	file "slave/example.org";
};</pre><p>In the slave case, the zone information is transferred
	  from the master name server for the particular zone, and saved
	  in the file specified.  If and when the master server dies or
	  is unreachable, the slave name server will have the
	  transferred zone information and will be able to serve
	  it.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp98277840"></a>29.6.6.3. Zone Files</h4></div></div></div><a id="idp98278480" class="indexterm"></a><p>An example master zone file for <code class="systemitem">example.org</code> (existing within
	  <code class="filename">/etc/namedb/master/example.org</code>) is as
	  follows:</p><pre class="programlisting">$TTL 3600        ; 1 hour
example.org.    IN      SOA      ns1.example.org. admin.example.org. (
                                2006051501      ; Serial
                                10800           ; Refresh
                                3600            ; Retry
                                604800          ; Expire
                                86400           ; Minimum TTL
                        )

; DNS Servers
                IN      NS      ns1.example.org.
                IN      NS      ns2.example.org.

; MX Records
                IN      MX 10   mx.example.org.
                IN      MX 20   mail.example.org.

                IN      A       192.168.1.1

; Machine Names
localhost       IN      A       127.0.0.1
ns1             IN      A       192.168.1.2
ns2             IN      A       192.168.1.3
mx              IN      A       192.168.1.4
mail            IN      A       192.168.1.5

; Aliases
www             IN      CNAME   @</pre><p>
          Note that every hostname ending in a <span class="quote">«<span class="quote">.</span>»</span> is an
          exact hostname, whereas everything without a trailing
          <span class="quote">«<span class="quote">.</span>»</span> is referenced to the origin.  For example,
          <code class="literal">www</code> is translated into
          <code class="literal">www.origin</code>.
          In our fictitious zone file, our origin is
          <code class="systemitem">example.org.</code>, so <code class="literal">www</code>
          would translate to <code class="systemitem">www.example.org.</code>
        </p><p>
          The format of a zone file follows:
        </p><pre class="programlisting">recordname      IN recordtype   value</pre><a id="idp98285264" class="indexterm"></a><p>
          The most commonly used DNS records:
        </p><div class="variablelist"><dl class="variablelist"><dt><span class="term">SOA</span></dt><dd><p>start of zone authority</p></dd><dt><span class="term">NS</span></dt><dd><p>an authoritative name server</p></dd><dt><span class="term">A</span></dt><dd><p>a host address</p></dd><dt><span class="term">CNAME</span></dt><dd><p>the canonical name for an alias</p></dd><dt><span class="term">MX</span></dt><dd><p>mail exchanger</p></dd><dt><span class="term">PTR</span></dt><dd><p>a domain name pointer (used in reverse DNS)
	      </p></dd></dl></div><pre class="programlisting">
example.org. IN SOA ns1.example.org. admin.example.org. (
                        2006051501      ; Serial
                        10800           ; Refresh after 3 hours
                        3600            ; Retry after 1 hour
                        604800          ; Expire after 1 week
                        86400 )         ; Minimum TTL of 1 day</pre><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="systemitem">example.org.</code></span></dt><dd><p>the domain name, also the origin for this
		zone file.</p></dd><dt><span class="term"><code class="systemitem">ns1.example.org.</code></span></dt><dd><p>the primary/authoritative name server for this
		zone.</p></dd><dt><span class="term"><code class="literal">admin.example.org.</code></span></dt><dd><p>the responsible person for this zone,
		email address with <span class="quote">«<span class="quote">@</span>»</span>
          replaced.  (<code class="email">&lt;<a xmlns="" class="email" href="mailto:admin@example.org">admin@example.org</a>&gt;</code> becomes
		<code class="literal">admin.example.org</code>)</p></dd><dt><span class="term"><code class="literal">2006051501</code></span></dt><dd><p>the serial number of the file.  This
		  must be incremented each time the zone file is
		  modified.  Nowadays, many admins prefer a
		  <code class="literal">yyyymmddrr</code> format for the serial
		  number.  <code class="literal">2006051501</code> would mean
		  last modified 05/15/2006, the latter
		  <code class="literal">01</code> being the first time the zone
		  file has been modified this day.  The serial number
		  is important as it alerts slave name servers for a
		  zone when it is updated.</p></dd></dl></div><pre class="programlisting">
       IN NS           ns1.example.org.</pre><p>
          This is an NS entry.  Every name server that is going to reply
          authoritatively for the zone must have one of these entries.
        </p><pre class="programlisting">
localhost       IN      A       127.0.0.1
ns1             IN      A       192.168.1.2
ns2             IN      A       192.168.1.3
mx              IN      A       192.168.1.4
mail            IN      A       192.168.1.5</pre><p>
          The A record indicates machine names.  As seen above,
          <code class="systemitem">ns1.example.org</code> would resolve
          to <code class="systemitem">192.168.1.2</code>.
        </p><pre class="programlisting">
                IN      A       192.168.1.1</pre><p>This line assigns IP address
	  <code class="systemitem">192.168.1.1</code> to the current origin,
	  in this case <code class="systemitem">example.org</code>.</p><pre class="programlisting">
www             IN CNAME        @</pre><p>
          The canonical name record is usually used for giving aliases
          to a machine.  In the example, <code class="systemitem">www</code> is
          aliased to the <span class="quote">«<span class="quote">master</span>»</span> machine which name equals
          to domain name <code class="systemitem">example.org</code>
          (<code class="systemitem">192.168.1.1</code>).
          CNAMEs can be used to provide alias
          hostnames, or round robin one hostname among multiple
          machines.
        </p><a id="idp98315600" class="indexterm"></a><pre class="programlisting">
               IN MX   10      mail.example.org.</pre><p>
          The MX record indicates which mail
          servers are responsible for handling incoming mail for the
          zone.  <code class="systemitem">mail.example.org</code> is the
          hostname of the mail server, and 10 being the priority of
          that mail server.
        </p><p>
          One can have several mail servers, with priorities of 10,
          20 and so on.  A mail server attempting to deliver to <code class="systemitem">example.org</code> would first try the
          highest priority MX (the record with the lowest priority
	  number), then the second highest, etc, until the mail can be
	  properly delivered.
        </p><p>
          For in-addr.arpa zone files (reverse DNS), the same format is
          used, except with PTR entries instead of
	  A or CNAME.
        </p><pre class="programlisting">$TTL 3600

1.168.192.in-addr.arpa. IN SOA ns1.example.org. admin.example.org. (
                        2006051501      ; Serial
                        10800           ; Refresh
                        3600            ; Retry
                        604800          ; Expire
                        3600 )          ; Minimum

        IN      NS      ns1.example.org.
        IN      NS      ns2.example.org.

1       IN      PTR     example.org.
2       IN      PTR     ns1.example.org.
3       IN      PTR     ns2.example.org.
4       IN      PTR     mx.example.org.
5       IN      PTR     mail.example.org.</pre><p>This file gives the proper IP address to hostname
          mappings of our above fictitious domain.</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp98320080"></a>29.6.7. Caching Name Server</h3></div></div></div><a id="idp98320720" class="indexterm"></a><p>A caching name server is a name server that is not
        authoritative for any zones.  It simply asks queries of its
        own, and remembers them for later use.  To set one up, just
        configure the name server as usual, omitting any inclusions of
        zones.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp98326608"></a>29.6.8. Security</h3></div></div></div><p>Although BIND is the most common implementation of DNS,
        there is always the issue of security.  Possible and
        exploitable security holes are sometimes found.
      </p><p>While FreeBSD automatically drops
	<span class="application">named</span> into a <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chroot&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">chroot</span>(8)</span></a>
	environment; there are several other security mechanisms in
	place which could help to lure off possible
	<acronym class="acronym">DNS</acronym> service attacks.</p><p>It is always good idea to read <a class="link" href="http://www.cert.org/" target="_top">CERT</a>'s security advisories
	and to subscribe to the <a class="link" href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-security-notifications" target="_top">ηλεκτρονική λίστα Ανακοινώσεων για Θέματα Ασφάλειας του FreeBSD</a> to stay up to
	date with the current Internet and FreeBSD security issues.</p><div xmlns="" class="tip"><h3 class="admontitle">Υπόδειξη: </h3><p xmlns="http://www.w3.org/1999/xhtml">If a problem arises, keeping sources up to date and
	  having a fresh build of <span class="application">named</span> would
	  not hurt.</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp98332368"></a>29.6.9. Further Reading</h3></div></div></div><p>BIND/<span class="application">named</span> manual pages:
      <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=rndc&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">rndc</span>(8)</span></a> <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=named&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">named</span>(8)</span></a> <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=named.conf&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">named.conf</span>(5)</span></a></p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="link" href="http://www.isc.org/products/BIND/" target="_top">Official ISC BIND
	      Page</a></p></li><li class="listitem"><p><a class="link" href="http://www.isc.org/sw/guild/bf/" target="_top">Official ISC BIND
	      Forum</a></p></li><li class="listitem"><p><a class="link" href="http://www.nominum.com/getOpenSourceResource.php?id=6" target="_top">
	      BIND FAQ</a></p></li><li class="listitem"><p><a class="link" href="http://www.oreilly.com/catalog/dns5/" target="_top">O'Reilly
	      DNS and BIND 5th Edition</a></p></li><li class="listitem"><p><a class="link" href="ftp://ftp.isi.edu/in-notes/rfc1034.txt" target="_top">RFC1034
	      - Domain Names - Concepts and Facilities</a></p></li><li class="listitem"><p><a class="link" href="ftp://ftp.isi.edu/in-notes/rfc1035.txt" target="_top">RFC1035
	      - Domain Names - Implementation and Specification</a></p></li></ul></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="network-dhcp.html">Προηγ</a> </td><td width="20%" align="center"><a accesskey="u" href="network-servers.html">Πάνω</a></td><td width="40%" align="right"> <a accesskey="n" href="network-apache.html">Επόμενο</a></td></tr><tr><td width="40%" align="left" valign="top">29.5. Automatic Network Configuration (DHCP) </td><td width="20%" align="center"><a accesskey="h" href="index.html">Αρχή</a></td><td width="40%" align="right" valign="top"> 29.7. Ο εξυπηρετητής HTTP Apache</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Αυτό το κείμενο, και άλλα κείμενα, μπορεί να βρεθεί στο
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Για ερωτήσεις σχετικά με το FreeBSD, διαβάστε την
    <a href="http://www.FreeBSD.org/docs.html">τεκμηρίωση</a> πριν να επικοινωνήσετε με την
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Για ερωτήσεις σχετικά με αυτή την τεκμηρίωση, στείλτε e-mail στην
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>