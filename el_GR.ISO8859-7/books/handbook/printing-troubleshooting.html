<?xml version="1.0" encoding="iso-8859-7" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-7" /><title>10.7. Εντοπισμός Βλαβών</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Εγχειρίδιο του FreeBSD" /><link rel="up" href="printing.html" title="Κεφάλαιο 10. Εκτυπώσεις" /><link rel="prev" href="printing-lpd-alternatives.html" title="10.6. Εναλλακτικές Λύσεις για τον Στάνταρ Spooler" /><link rel="next" href="linuxemu.html" title="Κεφάλαιο 11. Συμβατότητα με Εκτελέσιμα του Linux" /><link rel="copyright" href="legalnotice.html" title="Νομική Σημείωση" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">10.7. Εντοπισμός Βλαβών</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="printing-lpd-alternatives.html">Προηγ</a> </td><th width="60%" align="center">Κεφάλαιο 10. Εκτυπώσεις</th><td width="20%" align="right"> <a accesskey="n" href="linuxemu.html">Επόμενο</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="printing-troubleshooting"></a>10.7. Εντοπισμός Βλαβών</h2></div></div></div><p>Μετά την εκτέλεση του απλού τεστ με το <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lptest&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lptest</span>(1)</span></a>, αντί της
      κανονικής εκτύπωσης, μπορεί να έχετε λάβει ως αποτέλεσμα μία από τις
      ακόλουθες καταστάσεις:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Ο εκτυπωτής καθυστέρησε να ξεκινήσει ή δεν εκτύπωσε ολόκληρη τη
	  σελίδα.</span></dt><dd><p>Ο εκτυπωτής τύπωσε το τεστ, αλλά δεν ξεκίνησε αμέσως.  Ίσως
	    χρειάστηκε να πιέσετε το πλήκτρο PRINT REMAINING ή το FORM FEED
	    του εκτυπωτή σας για να εμφανιστεί το επιθυμητό αποτέλεσμα.</p><p>Εάν είναι όντως αυτή η περίπτωση σας, ο εκτυπωτής πιθανώς
	    να ήταν σε αναμονή για να εξακριβώσει αν υπήρχαν πρόσθετα δεδομένα
	    στην εργασία εκτύπωσης πριν ξεκινήσει να εκτυπώνει οτιδήποτε.  Για
	    να διορθώσετε το πρόβλημα, μπορείτε να θέσετε το φίλτρο κειμένου
	    να στέλνει ένα χαρακτήρα FORM FEED (ή άλλο κατάλληλο) στον
	    εκτυπωτή.  Αυτό συνήθως είναι αρκετό για να μπορείτε να εκτυπώνετε
	    κατευθείαν οποιοδήποτε κείμενο απομένει σε αναμονή στην εσωτερική
	    μνήμη (buffer) του εκτυπωτή.  Είναι επίσης χρήσιμο να ρυθμίζετε
	    τις εκτυπώσεις σας ώστε να τελειώνουν με γεμάτη την τελευταία
	    σελίδα, ώστε η επόμενη εργασία να μην αρχίζει από τα μισά του
	    προηγούμενου φύλλου.</p><p>Η ακόλουθη τροποποίηση στο shell script
	    <code class="filename">/usr/local/libexec/if-simple</code> εκτυπώνει ένα
	    form feed μετά την αποστολή της εργασίας στον εκτυπωτή:</p><pre class="programlisting">#!/bin/sh
#
# if-simple - Simple text input filter for lpd
# Installed in /usr/local/libexec/if-simple
#
# Simply copies stdin to stdout.  Ignores all filter arguments.
# Writes a form feed character (\f) after printing job.

/bin/cat &amp;&amp; printf "\f" &amp;&amp; exit 0
exit 2</pre></dd><dt><span class="term">Η εκτύπωση παρουσιάζει <span class="quote">«<span class="quote">φαινόμενο σκάλας (staircase
	  effect).</span>»</span></span></dt><dd><p>Στην εκτύπωση σας φαίνεται το ακόλουθο:</p><pre class="screen">!"#$%&amp;'()*+,-./01234
                "#$%&amp;'()*+,-./012345
                                 #$%&amp;'()*+,-./0123456</pre><a id="idp84642640" class="indexterm"></a><a id="idp84643152" class="indexterm"></a><a id="idp84643664" class="indexterm"></a><p>Γίνατε ένα ακόμα θύμα του
	    <span class="emphasis"><em>φαινομένου σκάλας</em></span>, που προκλήθηκε από
	    αντιφατικές ερμηνείες των χαρακτήρων με τους οποίους δηλώνεται η
	    τροφοδοσία νέας γραμμής.  Τα λειτουργικά συστήματα τύπου <span class="trademark">UNIX</span>(R)
	    χρησιμοποιούν έναν μόνο χαρακτήρα ASCII με κωδικό 10, τον line
	    feed (τροφοδοσία γραμμής, LF).  Το <span class="trademark">MS-DOS</span>(R), το <span class="trademark">OS/2</span>(R), και διάφορα
	    άλλα, χρησιμοποιούν ένα ζεύγος χαρακτήρων ASCII κωδικού 10
	    <span class="emphasis"><em>και</em></span> ASCII κωδικού 13 (τον carriage return ή
	    αλλιώς CR).  Πολλοί εκτυπωτές χρησιμοποιούν την σύμβαση του
	    <span class="trademark">MS-DOS</span>(R) για την αλλαγή γραμμής.</p><p>Όταν εκτυπώνετε με το FreeBSD, το κείμενο σας απλά χρησιμοποιεί
	    τον χαρακτήρα τροφοδοσίας γραμμής (line feed).  Ο εκτυπωτής, μόλις
	    αντιληφθεί τον χαρακτήρα line feed, προωθεί το χαρτί κατά μία
	    γραμμή, αλλά κρατάει την ίδια θέση οριζόντια καθώς καλείται να
	    εκτυπώσει τον επόμενο χαρακτήρα.  Σε αυτό το σημείο
	    χρησιμοποιείται το CR (carriage return): μετακινεί δηλαδή την
	    θέση εργασίας για τον επόμενο χαρακτήρα που πρόκειται να
	    εκτυπωθεί στο αριστερό άκρο του χαρτιού.</p><p>Το FreeBSD επιθυμεί ο εκτυπωτής να μπορεί να ενεργεί ως
	    εξής:</p><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /></colgroup><tbody><tr><td>Όταν ο εκτυπωτής λαμβάνει CR</td><td>Να εκτυπώνει CR</td></tr><tr><td>Όταν ο εκτυπωτής λαμβάνει LF</td><td>Να εκτυπώνει CR + LF</td></tr></tbody></table></div><p>Υπάρχουν διάφοροι τρόποι για να επιτευχθεί αυτό:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Χρησιμοποιήστε τα πλήκτρα ρύθμισης του εκτυπωτή ή
		τον πίνακα ελέγχου για να αλλάξετε τον τρόπο με τον οποίο
		ερμηνεύει αυτούς τους χαρακτήρες ο εκτυπωτής σας.
		Συμβουλευτείτε το εγχειρίδιο χρήσης του για να δείτε πως
		μπορεί να γίνει αυτό.</p><div xmlns="" class="note"><h3 class="admontitle">Σημείωση: </h3><p xmlns="http://www.w3.org/1999/xhtml">Αν έχετε και άλλα λειτουργικά στο σύστημα σας εκτός από
		  το FreeBSD, πιθανόν να χρειαστεί, όταν τα χρησιμοποιείτε, να
		  <span class="emphasis"><em>επαναρυθμίσετε</em></span> τον εκτυπωτή σας ώστε
		  να ερμηνεύει διαφορετικά τους χαρακτήρες CR και LF.
		  Στην περίπτωση αυτή, ίσως είναι καλύτερο να προτιμήσετε
		  κάποια από τις λύσεις που ακολουθούν.</p></div></li><li class="listitem"><p>Ο οδηγός (driver) της σειριακής γραμμής του FreeBSD μπορεί να
		μετατρέπει αυτόματα από LF σε CR+LF.  Φυσικά, αυτό δουλεύει
		<span class="emphasis"><em>μόνο</em></span> σε σειριακές θύρες.
		Για να ενεργοποιήσετε αυτή την λειτουργία, χρησιμοποιήστε την
		ικανότητα <code class="literal">ms#</code> και ορίστε την κατάσταση
		λειτουργίας <code class="literal">onlcr</code> στο αρχείο
		<code class="filename">/etc/printcap</code> για τον εκτυπωτή.</p></li><li class="listitem"><p>Στείλτε ένα
		<span class="emphasis"><em>κωδικό διαφυγής (escape code)</em></span> στον
		εκτυπωτή ώστε να χειρίζεται προσωρινά τους χαρακτήρες LF με
		διαφορετικό τρόπο.  Συμβουλευτείτε το εγχειρίδιο χρήσης του
		εκτυπωτή σας για τους κώδικες διαφυγής που υποστηρίζονται.
		Όταν ανακαλύψετε τον κατάλληλο, μετατρέψτε το φίλτρο κειμένου
		ώστε να στέλνει πρώτα τον κωδικό, και έπειτα την εργασία στον
		εκτυπωτή.</p><a id="idp84658128" class="indexterm"></a><p>Εδώ είναι ένα παράδειγμα φίλτρου κειμένου για εκτυπωτές
		που καταλαβαίνουν τους κωδικούς διαφυγής PCL της
		Hewlett-Packard.  Αυτό το φίλτρο κάνει τον εκτυπωτή να
		χειρίζεται τους χαρακτήρες LF ως LF και CR.  Έπειτα αποστέλλει
		την εργασία, στέλνοντας στο τέλος της ένα χαρακτήρα αλλαγής
		σελίδας (form feed) ώστε να γίνει σωστή εξαγωγή της τελευταίας
		σελίδας.  Το φίλτρο αυτό θα πρέπει να δουλεύει με σχεδόν
		όλους τους εκτυπωτές της Hewlett Packard.</p><pre class="programlisting">#!/bin/sh
#
# hpif - Simple text input filter for lpd for HP-PCL based printers
# Installed in /usr/local/libexec/hpif
#
# Simply copies stdin to stdout.  Ignores all filter arguments.
# Tells printer to treat LF as CR+LF.  Ejects the page when done.

printf "\033&amp;k2G" &amp;&amp; cat &amp;&amp; printf "\033&amp;l0H" &amp;&amp; exit 0
exit 2</pre><p>Εδώ είναι ένα παράδειγμα για το
		<code class="filename">/etc/printcap</code> ενός υπολογιστή με όνομα
		<code class="systemitem">orchid</code>.  Έχει ένα μόνο εκτυπωτή στην πρώτη
		παράλληλη θύρα του, ένα Hewlett Packard LaserJet 3Si με όνομα
		<code class="literal">teak</code>.  Χρησιμοποιεί το παραπάνω script ως
		φίλτρο κειμένου:</p><pre class="programlisting">#
#  /etc/printcap for host orchid
#
teak|hp|laserjet|Hewlett Packard LaserJet 3Si:\
        :lp=<code class="filename">/dev/lpt0</code>:sh:sd=<code class="filename">/var/spool/lpd/teak</code>:mx#0:\
        :if=<code class="filename">/usr/local/libexec/hpif</code>:</pre></li></ul></div></dd><dt><span class="term">Εκτυπώνεται η μία γραμμή πάνω στην άλλη.</span></dt><dd><p>Ο εκτυπωτής δεν προωθεί καθόλου το χαρτί και όλες οι γραμμές
	    κειμένου τυπώνονται η μία πάνω από την άλλη, σε μία γραμμή.</p><p>Αυτό το πρόβλημα είναι το <span class="quote">«<span class="quote">αντίστροφο</span>»</span> του
	    φαινόμενου σκάλας, που περιγράψαμε προηγουμένως, και είναι πολύ
	    σπάνιο.  Σε κάποιο σημείο, οι χαρακτήρες LF που χρησιμοποιεί το
	    FreeBSD για να τερματίσει την γραμμή, ερμηνεύονται ως χαρακτήρες CR
	    οι οποίοι επιστρέφουν την κεφαλή στο αριστερό άκρο του χαρτιού,
	    αλλά δίχως να προωθήσουν το χαρτί μία γραμμή προς τα κάτω.</p><p>Χρησιμοποιήστε τους διακόπτες ρυθμίσεων του εκτυπωτή ή τον
	    πίνακα ελέγχου για να θέσετε τις ακόλουθες επιλογές για τα LF και
	    CR characters:</p><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Ο εκτυπωτής λαμβάνει</th><th>Ο εκτυπωτής τυπώνει</th></tr></thead><tbody><tr><td>CR</td><td>CR</td></tr><tr><td>LF</td><td>CR + LF</td></tr></tbody></table></div></dd><dt><span class="term">Ο εκτυπωτής δεν εκτυπώνει (χάνει) κάποιους χαρακτήρες.</span></dt><dd><p>Ο εκτυπωτής, ενώ είναι σε λειτουργία εκτύπωσης, δεν εκτυπώνει
	    κάποιους χαρακτήρες σε όλες τις γραμμές.  Το πρόβλημα πιθανώς να
	    γίνεται εντονότερο καθώς η εκτύπωση εξελίσσεται, χάνοντας ακόμη
	    περισσότερους χαρακτήρες.</p><p>Το πρόβλημα είναι πως ο εκτυπωτής, καθώς εκτυπώνει, δεν
	    προλαβαίνει να ακολουθήσει την ταχύτητα με την οποία ο
	    υπολογιστής στέλνει δεδομένα μέσω της σειριακής διασύνδεσης (αυτό
	    το πρόβλημα δεν πρέπει κανονικά να συμβαίνει σε εκτυπωτές
	    συνδεμένους σε παράλληλες θύρες).  Υπάρχουν δύο τρόποι για να
	    ξεπεραστεί αυτό το πρόβλημα:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Εάν ο εκτυπωτής υποστηρίζει έλεγχο ροής XON/XOFF, ρυθμίστε
		το FreeBSD να τον χρησιμοποιήσει ορίζοντας την κατάσταση
		λειτουργίας <code class="literal">ixon</code> με την ικανότητα
		<code class="literal">ms#</code>.</p></li><li class="listitem"><p>Εάν ο εκτυπωτής υποστηρίζει έλεγχο ροής τύπου Request to
		Send / Clear to Send (hardware handshake, γνωστό και με την
		ονομασία <code class="literal">RTS/CTS</code>), πρέπει να οριστεί η
		κατάσταση λειτουργίας <code class="literal">crtscts</code> στην
		ικανότητα <code class="literal">ms#</code>.  Βεβαιωθείτε πως το καλώδιο
		που συνδέει τον εκτυπωτή με τον υπολογιστή είναι σωστά
		φτιαγμένο για χρήση αυτού του ελέγχου ροής.</p></li></ul></div></dd><dt><span class="term">Ο εκτυπωτής τυπώνει σκουπίδια.</span></dt><dd><p>Ο εκτυπωτής τύπωσε κάτι που αποκαλούμε τυχαία σκουπίδια,
	    εννοώντας οτιδήποτε εκτός του επιθυμητού κειμένου.</p><p>Αυτό είναι συνήθως ένα ακόμα σύμπτωμα λανθασμένων παραμέτρων
	    σειριακής επικοινωνίας με τον εκτυπωτή.  Ελέγξτε ξανά την τιμή bps
	    rate στην ικανότητα <code class="literal">br</code>, και την ρύθμιση parity
	    στην ικανότητα <code class="literal">ms#</code>.  Βεβαιωθείτε πως ο
	    εκτυπωτής χρησιμοποιεί τις ίδιες ρυθμίσεις που έχουν καθοριστεί
	    στο αρχείο <code class="filename">/etc/printcap</code>.</p></dd><dt><span class="term">Δεν συνέβη τίποτε, ο εκτυπωτής δεν ξεκίνησε καν.</span></dt><dd><p>Αν δεν συνέβη τίποτε, το πρόβλημα πιθανόν να οφείλεται
	    στο FreeBSD και όχι στο hardware.  Προσθέστε την ικανότητα αρχείου
	    καταγραφής (log file, <code class="literal">lf</code>) στο αρχείο
	    <code class="filename">/etc/printcap</code>, στην καταχώριση του εκτυπωτή
	    που έχει το πρόβλημα.  Για παράδειγμα, εδώ είναι η καταχώριση για
	    τον <code class="literal">rattan</code>, με την ικανότητα
	    <code class="literal">lf</code>:</p><pre class="programlisting">rattan|line|diablo|lp|Diablo 630 Line Printer:\
        :sh:sd=<code class="filename">/var/spool/lpd/rattan</code>:\
        :lp=<code class="filename">/dev/lpt0</code>:\
        :if=<code class="filename">/usr/local/libexec/if-simple</code>:\
        :lf=<code class="filename">/var/log/rattan.log</code></pre><p>Έπειτα, προσπαθήστε να ξαναεκτυπώσετε.  Ελέγξτε το αρχείο
	    καταγραφής (log) (στο παράδειγμα μας,
	    <code class="filename">/var/log/rattan.log</code>) για να βρείτε πιθανές
	    αναφορές σφαλμάτων.  Με βάση τα μηνύματα που βλέπετε, προσπαθήστε
	    να διορθώσετε το πρόβλημα.</p><p>Αν δεν καθορίσετε την ικανότητα <code class="literal">lf</code>, το
	    <span class="application">LPD</span> χρησιμοποιεί από προεπιλογή το
	    <code class="filename">/dev/console</code>.</p></dd></dl></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="printing-lpd-alternatives.html">Προηγ</a> </td><td width="20%" align="center"><a accesskey="u" href="printing.html">Πάνω</a></td><td width="40%" align="right"> <a accesskey="n" href="linuxemu.html">Επόμενο</a></td></tr><tr><td width="40%" align="left" valign="top">10.6. Εναλλακτικές Λύσεις για τον Στάνταρ Spooler </td><td width="20%" align="center"><a accesskey="h" href="index.html">Αρχή</a></td><td width="40%" align="right" valign="top"> Κεφάλαιο 11. Συμβατότητα με Εκτελέσιμα του Linux</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Αυτό το κείμενο, και άλλα κείμενα, μπορεί να βρεθεί στο
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Για ερωτήσεις σχετικά με το FreeBSD, διαβάστε την
    <a href="http://www.FreeBSD.org/docs.html">τεκμηρίωση</a> πριν να επικοινωνήσετε με την
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Για ερωτήσεις σχετικά με αυτή την τεκμηρίωση, στείλτε e-mail στην
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>