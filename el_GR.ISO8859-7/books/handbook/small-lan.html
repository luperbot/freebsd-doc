<?xml version="1.0" encoding="iso-8859-7" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-7" /><title>24.9. Διαδικασία για Πολλαπλά Μηχανήματα</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Εγχειρίδιο του FreeBSD" /><link rel="up" href="updating-upgrading.html" title="Κεφάλαιο 24. Ενημέρωση και Αναβάθμιση του FreeBSD" /><link rel="prev" href="make-delete-old.html" title="24.8. Διαγραφή Παρωχημένων Αρχείων, Καταλόγων και Βιβλιοθηκών" /><link rel="next" href="dtrace.html" title="Κεφάλαιο 25. DTrace" /><link rel="copyright" href="legalnotice.html" title="Νομική Σημείωση" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">24.9. Διαδικασία για Πολλαπλά Μηχανήματα</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="make-delete-old.html">Προηγ</a> </td><th width="60%" align="center">Κεφάλαιο 24. Ενημέρωση και Αναβάθμιση του FreeBSD</th><td width="20%" align="right"> <a accesskey="n" href="dtrace.html">Επόμενο</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="small-lan"></a>24.9. Διαδικασία για Πολλαπλά Μηχανήματα</h2></div><div><span class="authorgroup">Συνεισφορά του <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Mike</span> <span class="surname">Meyer</span></span>. </span></div></div></div><a id="idp94142032" class="indexterm"></a><p>Αν έχετε πολλαπλά μηχανήματα στα οποία πρόκειται να χρησιμοποιήσετε
      το ίδιο δέντρο πηγαίου κώδικα, είναι σπατάλη πόρων (δίσκου, δικτύου και
      επεξεργαστή) να επαναλαμβάνετε σε όλα τη διαδικασία ανάκτησης και
      μεταγλώττισης.  Η λύση είναι να ορίσετε ένα μηχάνημα να εκτελεί το
      μεγαλύτερο μέρος της εργασίας, ενώ τα υπόλοιπα θα μπορούν να την
      ανακτούν μέσω NFS.  Στην ενότητα αυτή θα παρουσιάσουμε ένα τρόπο με
      τον οποίο μπορεί να γίνει αυτό.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="small-lan-preliminaries"></a>24.9.1. Προκαταρκτικά</h3></div></div></div><p>Πρώτα από όλα, αναγνωρίστε το σετ των μηχανημάτων στα οποία
	σκοπεύετε να χρησιμοποιήσετε τα ίδια εκτελέσιμα.  Θα ονομάσουμε αυτή
	την ομάδα <span class="emphasis"><em>σετ μεταγλώττισης</em></span>.  Κάθε μηχάνημα
	μπορεί να έχει δικό του προσαρμοσμένο πυρήνα, αλλά θα έχουν όλα τα
	ίδια εκτελέσιμα userland.  Από το σετ αυτό, επιλέξτε ένα μηχάνημα το
	οποίο θα γίνει το <span class="emphasis"><em>μηχάνημα μεταγλώττισης</em></span>.
	Θα είναι το μηχάνημα στο οποίο θα μεταγλωττίζεται το βασικό σύστημα
	και ο πυρήνας.  Το ιδανικό είναι να επιλέξετε ένα γρήγορο μηχάνημα,
	στο οποίο να υπάρχει αρκετός ελεύθερος χρόνος στον επεξεργαστή για να
	εκτελεί τα <code class="command">make buildworld</code> και
	<code class="command">make buildkernel</code>.  Θα πρέπει επίσης να επιλέξετε
	ένα <span class="emphasis"><em>μηχάνημα δοκιμών</em></span> στο οποίο θα δοκιμάζετε τις
	ενημερώσεις λογισμικού πριν τις μεταφέρετε στην παραγωγή.  Μπορεί να
	είναι και το ίδιο το μηχάνημα μεταγλώττισης, αλλά αυτό δεν είναι
	απαραίτητο.</p><p>Όλα τα μηχανήματα στο σετ μεταγλώττισης χρειάζεται να
	προσαρτήσουν το <code class="filename">/usr/obj</code> και το
	<code class="filename">/usr/src</code> από το ίδιο μηχάνημα, και στο ίδιο
	σημείο προσάρτησης.  Το ιδανικό είναι αυτά τα δύο συστήματα αρχείων
	να βρίσκονται σε διαφορετικό φυσικό δίσκο στο μηχάνημα μεταγλώττισης,
	αλλά μπορείτε να τα προσαρτήσετε μέσω NFS ακόμα και σε αυτό το
	μηχάνημα.  Αν έχετε πολλαπλά σετ μεταγλώττισης, το
	<code class="filename">/usr/src</code> θα πρέπει να βρίσκεται σε ένα από τα
	μηχανήματα μεταγλώττισης, και να προσαρτάται στα υπόλοιπα μέσω
	NFS.</p><p>Τέλος, βεβαιωθείτε ότι τα αρχεία
	<code class="filename">/etc/make.conf</code> και
	<code class="filename">/etc/src.conf</code> σε όλα τα μηχανήματα του σετ
	μεταγλώττισης, είναι ίδια με τα αντίστοιχα στο μηχάνημα μεταγλώττισης.
	Αυτό σημαίνει ότι το μηχάνημα μεταγλώττισης θα πρέπει να
	μεταγλωττίζει όλα τα τμήματα του βασικού συστήματος τα οποία θα
	εγκατασταθούν σε κάθε μηχάνημα του σετ.  Επίσης, σε κάθε μηχάνημα
	στο σετ μεταγλώττισης θα πρέπει να οριστεί το όνομα του δικού του
	προσαρμοσμένου πυρήνα μέσω της μεταβλητής
	<code class="varname">KERNCONF</code> στο <code class="filename">/etc/make.conf</code>,
	ενώ και το μηχάνημα μεταγλώττισης θα πρέπει να έχει μια λίστα όλων
	των άλλων στο <code class="varname">KERNCONF</code>, ξεκινώντας από το δικό
	του.  Το μηχάνημα μεταγλώττισης, θα πρέπει να έχει τα αρχεία ρύθμισης
	του πυρήνα όλων των άλλων μηχανημάτων στον κατάλογο
	<code class="filename">/usr/src/sys/arch/conf</code>
	αν πρόκειται να μεταγλωττίζει τους πυρήνες τους.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="small-lan-base-system"></a>24.9.2. Το Βασικό Σύστημα</h3></div></div></div><p>Έχοντας πραγματοποιήσει όλα τα παραπάνω, είστε έτοιμος να
	μεταγλωττίσετε τα πάντα.  Μεταγλωττίστε τον πυρήνα και το βασικό
	σύστημα όπως περιγράψαμε στο <a class="xref" href="makeworld.html#make-buildworld" title="24.7.7.2. Μεταγλωττίστε το Βασικό Σύστημα">Τμήμα 24.7.7.2, «Μεταγλωττίστε το Βασικό Σύστημα»</a>
	χρησιμοποιώντας το μηχάνημα μεταγλώττισης, αλλά μην εγκαταστήσετε
	τίποτα.  Μετά το τέλος της μεταγλώττισης, χρησιμοποιήστε το μηχάνημα
	δοκιμών και εγκαταστήστε τον πυρήνα που μόλις δημιουργήσατε.  Αν το
	μηχάνημα αυτό προσαρτά το <code class="filename">/usr/src</code> και το
	<code class="filename">/usr/obj</code> μέσω NFS, όταν το επανεκκινήσετε σε
	κατάσταση ενός χρήστη, θα χρειαστεί να ενεργοποιήσετε το δίκτυο και
	να τα προσαρτήσετε.  Ο ευκολότερος τρόπος για αυτό, είναι να
	εκκινήσετε σε κατάσταση πολλαπλών χρηστών και έπειτα να εκτελέσετε
	<code class="command">shutdown now</code> για να μεταβείτε σε κατάσταση ενός
	χρήστη.  Μόλις γίνει αυτό, μπορείτε να εγκαταστήσετε τον νέο πυρήνα
	και το βασικό σύστημα, και να εκτελέσετε το
	<code class="command">mergemaster</code> όπως θα κάνατε συνήθως.  Όταν
	τελειώσετε, επανεκκινήστε αυτό το μηχάνημα στην κανονική λειτουργία
	πολλαπλών χρηστών.</p><p>Όταν βεβαιωθείτε ότι όλα λειτουργούν σωστά στο μηχάνημα δοκιμών,
	χρησιμοποιήστε την ίδια διαδικασία για να εγκαταστήσετε το νέο
	λογισμικό σε κάθε ένα από τα υπόλοιπα μηχανήματα του σετ
	μεταγλώττισης.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="small-lan-ports"></a>24.9.3. Ports</h3></div></div></div><p>Μπορείτε να χρησιμοποιήσετε τις ίδιες ιδέες και για το δέντρο
	των ports.  Το πρώτο κρίσιμο βήμα είναι να προσαρτήσετε το
	<code class="filename">/usr/ports</code> από το ίδιο μηχάνημα, σε όλα τα
	μηχανήματα του σετ μεταγλώττισης.  Μπορείτε έπειτα να ρυθμίσετε το
	<code class="filename">/etc/make.conf</code> ώστε να διαμοιράζονται τα
	distfiles.  Θα πρέπει να θέσετε το <code class="varname">DISTDIR</code> σε ένα
	κοινόχρηστο κατάλογο, στον οποίο θα δώσετε δικαιώματα εγγραφής σε
	οποιοδήποτε χρήστη έχετε δηλώσει ως <code class="systemitem">root</code> στο
	NFS.  Σε κάθε μηχάνημα θα πρέπει επίσης να οριστεί η μεταβλητή
	<code class="varname">WRKDIRPREFIX</code> ώστε να δείχνει σε ένα τοπικό
	κατάλογο.  Τέλος, αν σκοπεύετε να μεταγλωττίζετε και να διανέμετε
	έτοιμα πακέτα, θα πρέπει να θέσετε την μεταβλητή
	<code class="varname">PACKAGES</code> σε ένα κατάλογο, όπως κάνατε και με την
	<code class="varname">DISTDIR</code>.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="make-delete-old.html">Προηγ</a> </td><td width="20%" align="center"><a accesskey="u" href="updating-upgrading.html">Πάνω</a></td><td width="40%" align="right"> <a accesskey="n" href="dtrace.html">Επόμενο</a></td></tr><tr><td width="40%" align="left" valign="top">24.8. Διαγραφή Παρωχημένων Αρχείων, Καταλόγων και Βιβλιοθηκών </td><td width="20%" align="center"><a accesskey="h" href="index.html">Αρχή</a></td><td width="40%" align="right" valign="top"> Κεφάλαιο 25. DTrace</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Αυτό το κείμενο, και άλλα κείμενα, μπορεί να βρεθεί στο
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Για ερωτήσεις σχετικά με το FreeBSD, διαβάστε την
    <a href="http://www.FreeBSD.org/docs.html">τεκμηρίωση</a> πριν να επικοινωνήσετε με την
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Για ερωτήσεις σχετικά με αυτή την τεκμηρίωση, στείλτε e-mail στην
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>