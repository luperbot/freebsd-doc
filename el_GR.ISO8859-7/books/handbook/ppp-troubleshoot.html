<?xml version="1.0" encoding="iso-8859-7" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-7" /><title>27.4. Αντιμετώπιση Προβλημάτων σε Συνδέσεις PPP</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Εγχειρίδιο του FreeBSD" /><link rel="up" href="ppp-and-slip.html" title="Κεφάλαιο 27. PPP και SLIP" /><link rel="prev" href="ppp.html" title="27.3. Χρησιμοποιώντας το PPP του Πυρήνα" /><link rel="next" href="pppoe.html" title="27.5. Χρησιμοποιώντας PPP μέσω Ethernet (PPPoE)" /><link rel="copyright" href="legalnotice.html" title="Νομική Σημείωση" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">27.4. Αντιμετώπιση Προβλημάτων σε Συνδέσεις
      <acronym class="acronym">PPP</acronym></th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ppp.html">Προηγ</a> </td><th width="60%" align="center">Κεφάλαιο 27. PPP και SLIP</th><td width="20%" align="right"> <a accesskey="n" href="pppoe.html">Επόμενο</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="ppp-troubleshoot"></a>27.4. Αντιμετώπιση Προβλημάτων σε Συνδέσεις
      <acronym class="acronym">PPP</acronym></h2></div><div><span class="authorgroup">Συνεισφορά του <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Tom</span> <span class="surname">Rhodes</span></span>. </span></div></div></div><a id="idp95817936" class="indexterm"></a><div xmlns="" class="warning"><h3 class="admontitle">Προειδοποίηση: </h3><p xmlns="http://www.w3.org/1999/xhtml">Από το FreeBSD 8.0 και μετά, το πρόγραμμα οδήγησης <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sio&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">sio</span>(4)</span></a>
	αντικαταστάθηκε από το <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=uart&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">uart</span>(4)</span></a>.  Τα ονόματα συσκευών των
	σειριακών θυρών έχουν αλλάξει από
	<code class="filename">/dev/cuadN</code> σε
	<code class="filename">/dev/cuauN</code> και από
	<code class="filename">/dev/ttydN</code> σε
	<code class="filename">/dev/ttyuN</code>.
	Οι χρήστες του FreeBSD 7.X θα πρέπει να προσαρμόσουν τις παρακάτω
	οδηγίες σύμφωνα με αυτές τις αλλαγές.</p></div><p>Η ενότητα αυτή καλύπτει μερικά από τα προβλήματα που μπορεί να
      παρουσιαστούν όταν γίνεται χρήση του PPP μέσω σύνδεσης modem.  Για
      παράδειγμα, θα πρέπει να ξέρετε με ακρίβεια τα μηνύματα εισόδου που θα
      εμφανίσει το σύστημα το οποίο καλείτε.  Μερικοί <acronym class="acronym">ISP</acronym>
      δίνουν την προτροπή <code class="literal">ssword</code>, ενώ άλλοι δίνουν την
      <code class="literal">password</code>.  Αν δεν έχετε γράψει σωστά το script για
      το <code class="command">ppp</code>, η απόπειρα εισόδου θα αποτύχει.  Ο πιο
      συνηθισμένος τρόπος να εκσφαλματώσετε μια σύνδεση
      <code class="command">ppp</code>, είναι να συνδεθείτε χειροκίνητα.  Οι πληροφορίες
      που εμφανίζονται παρακάτω, θα σας οδηγήσουν βήμα προς βήμα στη
      χειροκίνητη αποκατάσταση της σύνδεσης.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp95829456"></a>27.4.1. Ελέγξτε τα Αρχεία Συσκευών</h3></div></div></div><p>Αν χρησιμοποιείτε προσαρμοσμένο πυρήνα, βεβαιωθείτε ότι έχετε
	περιλάβει την παρακάτω γραμμή στο αρχείο ρυθμίσεων του πυρήνα
	σας:</p><pre class="programlisting">device   uart</pre><p>Αν χρησιμοποιείτε τον πυρήνα <code class="literal">GENERIC</code>, δεν
	χρειάζεται να κάνετε κάποια αλλαγή, καθώς η συσκεύη
	<code class="filename">uart</code> περιλαμβάνεται ήδη σε αυτόν.
	Απλώς ελέγξτε τα μηνύματα της <code class="command">dmesg</code> για την
	συσκευή modem, χρησιμοποιώντας την παρακάτω εντολή:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>dmesg | grep uart</code></strong></pre><p>Θα πρέπει να δείτε κάποια έξοδο σχετική με τις συσκευές
	<code class="filename">uart</code>.  Πρόκειται για τις θύρες COM που
	χρειαζόμαστε.  Αν το modem σας λειτουργεί ως τυποποιημένη σειριακή
	θύρα, θα πρέπει να το δείτε να αναφέρεται ως
	<code class="filename">uart1</code>, ή <code class="filename">COM2</code>.  Αν
	συμβαίνει αυτό, δεν χρειάζεται να επαναμεταγλωττίσετε τον πυρήνα
	σας.  Αν η σειριακή θύρα που αντιστοιχεί στο modem σας είναι η
	<code class="filename">uart1</code> ή <code class="filename">COM2</code> στο
	DOS, η αντίστοιχη συσκευή modem θα είναι η
	<code class="filename">/dev/cuau1</code>.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp95844432"></a>27.4.2. Χειροκίνητη Σύνδεση</h3></div></div></div><p>Η χειροκίνητη σύνδεση στο Internet με χρήση της
	<code class="command">ppp</code>, είναι ένας γρήγορος και εύκολος τρόπος να
	εντοπίσετε τυχόν προβλήματα σύνδεσης, ή απλώς να πάρετε πληροφορίες
	σχετικά με το πως ο <acronym class="acronym">ISP</acronym> σας αντιμετωπίζει τις
	συνδέσεις πελατών <code class="command">ppp</code>.  Θα ξεκινήσουμε την
	εφαρμογή <span class="application">PPP</span> από την γραμμή εντολών.
	Σημειώστε ότι σε όλα μας τα παραδείγματα, θα χρησιμοποιούμε το
	<span class="emphasis"><em>example</em></span> ως το όνομα του υπολογιστή που εκτελεί
	το <span class="application">PPP</span>.  Μπορείτε να ξεκινήσετε το
	<code class="command">ppp</code>, γράφοντας απλώς <code class="command">ppp</code>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ppp</code></strong></pre><p>Έχουμε τώρα ξεκινήσει το <code class="command">ppp</code>.</p><pre class="screen">ppp ON example&gt; <strong class="userinput"><code>set device /dev/cuau1</code></strong></pre><p>Θέτουμε τη συσκευή modem.  Στο παράδειγμα μας, είναι η
	<code class="filename">cuau1</code>.</p><pre class="screen">ppp ON example&gt; <strong class="userinput"><code>set speed 115200</code></strong></pre><p>Θέτουμε την ταχύτητα σύνδεσης, σε αυτή την περίπτωση
	χρησιμοποιούμε 115,200 <acronym class="acronym">kbps</acronym>.</p><pre class="screen">ppp ON example&gt; <strong class="userinput"><code>enable dns</code></strong></pre><p>Λέμε στο <code class="command">ppp</code> να ρυθμίσει τον
	resolver και προσθέτουμε τις κατάλληλες γραμμές για το διακομιστή
	ονομάτων στο <code class="filename">/etc/resolv.conf</code>.  Αν το
	<code class="command">ppp</code> δεν μπορεί να καθορίσει το όνομα του
	διακομιστή, μπορούμε να το καθορίσουμε με χειροκίνητο τρόπο
	αργότερα.</p><pre class="screen">ppp ON example&gt; <strong class="userinput"><code>term</code></strong></pre><p>Αλλάζουμε σε κατάσταση <span class="quote">«<span class="quote">terminal</span>»</span> ώστε να μπορούμε
	να ελέγξουμε το modem χειροκίνητα.</p><pre class="programlisting">deflink: Entering terminal mode on <code class="filename">/dev/cuau1</code>
type '~h' for help</pre><pre class="screen"><strong class="userinput"><code>at</code></strong>
OK
<strong class="userinput"><code>atdt123456789</code></strong></pre><p>Χρησιμοποιούμε το <code class="command">at</code> για να αρχικοποιήσουμε το
	modem, και έπειτα χρησιμοποιούμε το <code class="command">atdt</code> και τον
	αριθμό του <acronym class="acronym">ISP</acronym> για να ξεκινήσουμε τη διαδικασία
	της κλήσης.</p><pre class="screen">CONNECT</pre><p>Εδώ έχουμε επιβεβαίωση της σύνδεσης.  Αν έχουμε προβλήματα
	σύνδεσης τα οποία δεν σχετίζονται με το υλικό μας, εδώ είναι το σημείο
	που πρέπει να προσπαθήσουμε να τα επιλύσουμε.</p><pre class="screen">ISP Login:<strong class="userinput"><code>myusername</code></strong></pre><p>Η προτροπή αυτή είναι για να δώσουμε το όνομα χρήστη.
	Χρησιμοποιήστε το όνομα χρήστη που σας έχει δοθεί από τον
	<acronym class="acronym">ISP</acronym> σας.</p><pre class="screen">ISP Pass:<strong class="userinput"><code>mypassword</code></strong></pre><p>Η προτροπή αυτή είναι για τον κωδικό πρόσβασης.  Απαντήστε με τον
	κωδικό που σας έχει δοθεί από τον <acronym class="acronym">ISP</acronym> σας.
	Ο κωδικός αυτός δεν θα εμφανιστεί στην οθόνη σας, όπως ακριβώς
	συμβαίνει και με τον κωδικό σας όταν τον γράφετε στην προτροπή εισόδου
	του FreeBSD συστήματος σας.</p><pre class="screen">Shell or PPP:<strong class="userinput"><code>ppp</code></strong></pre><p>Ανάλογα με τον <acronym class="acronym">ISP</acronym> σας, μπορεί να μην δείτε και
	καθόλου την παραπάνω προτροπή.  Στην παραπάνω περίπτωση μας ρωτάει
	αν επιθυμούμε να εκτελέσουμε κάποιο κέλυφος (shell) στο μηχάνημα του
	παροχέα, ή αν θέλουμε να εκκινήσουμε το <code class="command">ppp</code>.
	Στο παράδειγμα μας επιλέξαμε να χρησιμοποιήσουμε
	<code class="command">ppp</code> καθώς θέλουμε να συνδεθούμε στο
	Internet.</p><pre class="screen">Ppp ON example&gt;</pre><p>Παρατηρήστε ότι στο παράδειγμα το πρώτο <code class="option">p</code>
	είναι κεφαλαίο.  Αυτό δείχνει ότι έχουμε συνδεθεί επιτυχώς με τον
	<acronym class="acronym">ISP</acronym>.</p><pre class="screen">PPp ON example&gt;</pre><p>Έχουμε πιστοποιηθεί με επιτυχία από τον <acronym class="acronym">ISP</acronym>
	μας, και περιμένουμε να μας αποδοθεί διεύθυνση
	<acronym class="acronym">IP</acronym>.</p><pre class="screen">PPP ON example&gt;</pre><p>Έχει πλέον καθοριστεί διεύθυνση <acronym class="acronym">IP</acronym>, και έχουμε
	ολοκληρώσει τη σύνδεση με επιτυχία.</p><pre class="screen">PPP ON example&gt;<strong class="userinput"><code>add default HISADDR</code></strong></pre><p>Εδώ προσθέτουμε την προεπιλεγμένη διαδρομή (default route).
	Το βήμα αυτό είναι απαραίτητο πριν μπορέσουμε να επικοινωνήσουμε με
	τον έξω κόσμο, καθώς τη δεδομένη στιγμή η μόνη σύνδεση που έχουμε
	είναι με ένα υπολογιστή από την άλλη μεριά της γραμμής.  Αν το
	παραπάνω αποτύχει επειδή υπάρχουν ήδη καθορισμένες διαδρομές,
	μπορείτε να βάλετε ένα θαυμαστικό <code class="literal">!</code> μπροστά από το
	<code class="option">add</code>.  Εναλλακτικά, μπορείτε να κάνετε αυτή τη
	ρύθμιση πριν επιχειρήσετε τη σύνδεση, και θα γίνει αυτόματα
	διαπραγμάτευση της νέας διαδρομής.</p><p>Αν όλα πήγαν καλά, θα πρέπει τώρα να έχετε ενεργή σύνδεση με το
	Internet, την οποία μπορείτε να μετακινήσετε στο παρασκήνιο
	χρησιμοποιώντας το συνδυασμό πλήκτρων
	<span class="keycap"><strong>CTRL</strong></span>+<span class="keycap"><strong>z</strong></span>.  Αν παρατηρήσετε το
	<code class="command">PPP</code> να γίνεται ξανά <code class="command">ppp</code>,
	η σύνδεση έχει διακοπεί.  Με τον τρόπο αυτό μπορείτε να παρακολουθείτε
	την κατάσταση της σύνδεση σας.  Τα κεφαλαία P δείχνουν ότι υπάρχει
	σύνδεση με τον <acronym class="acronym">ISP</acronym> ενώ τα μικρά p δείχνουν ότι
	για κάποιο λόγο η σύνδεση έχει χαθεί.  Το <code class="command">ppp</code> έχει
	μόνο αυτές τις δύο καταστάσεις.</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp95879120"></a>27.4.2.1. Αντιμετώπιση Προβλημάτων</h4></div></div></div><p>Αν έχετε απευθείας γραμμή και δεν φαίνεται να μπορείτε να
	  αποκαταστήσετε τη σύνδεση, απενεργοποιήστε τον έλεγχο ροής μέσω
	  υλικού (<acronym class="acronym">CTS/RTS</acronym>) χρησιμοποιώντας την επιλογή
	  <code class="option">set ctsrts off</code>.  Το παραπάνω συμβαίνει συνήθως αν
	  είστε συνδεμένος σε κάποιο εξυπηρετητή τερματικών με δυνατότητα
	  <span class="application">PPP</span>, όπου το
	  <span class="application">PPP</span> σταματάει να αποκρίνεται όταν
	  προσπαθεί να γράψει δεδομένα στη σύνδεση σας.  Στην περίπτωση αυτή,
	  συνήθως περιμένει για κάποιο σήμα <acronym class="acronym">CTS</acronym> (Clear
	  To Send) το οποίο δεν έρχεται ποτέ.  Αν ωστόσο χρησιμοποιήσετε αυτή
	  την επιλογή, θα πρέπει επίσης να χρησιμοποιήσετε και την επιλογή
	  <code class="option">set accmap</code> η οποία ενδεχομένως απαιτείται για να
	  απομονωθεί το υλικό που εξαρτάται από τη μετάδοση συγκεκριμένων
	  χαρακτήρων από τη μια άκρη στην άλλη, συνήθως μέσω του XON/XOFF.
	  Δείτε τη σελίδα manual του <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> για περισσότερες πληροφορίες
	  σχετικά με αυτή την επιλογή και πως μπορείτε να την
	  χρησιμοποιήσετε.</p><p>Αν διαθέτετε ένα παλαιότερο modem, ίσως χρειαστεί να
	  χρησιμοποιήσετε την επιλογή <code class="option">set parity even</code>.
	  Η προεπιλεγμένη ρύθμιση είναι να μην υπάρχει ισοτιμία (parity
	  none), αλλά σε παλιά modems (και σε κάποιους
	  <acronym class="acronym">ISP</acronym>) χρησιμοποιείται για έλεγχο λαθών
	  (η χρήση της προκαλεί ωστόσο μεγάλη αύξηση στη μετακίνηση
	  δεδομένων).  Ίσως χρειαστείτε αυτή την επιλογή, αν ο
	  <acronym class="acronym">ISP</acronym> σας είναι η Compuserve.</p><p>Το <span class="application">PPP</span> ίσως να μην επανέλθει στην
	  κατάσταση εντολών, το οποίο είναι συνήθως σφάλμα διαπραγμάτευσης,
	  καθώς ο <acronym class="acronym">ISP</acronym> περιμένει από τη δική σας μεριά να
	  ξεκινήσει τη διαπραγμάτευση.  Στο σημείο αυτό, η χρήση της εντολής
	  <code class="command">~p</code> θα εξαναγκάσει το ppp να αρχίσει να στέλνει
	  τις πληροφορίες σχετικά με τη ρύθμιση.</p><p>Αν δεν πάρετε ποτέ προτροπή εισόδου, το πιθανότερο είναι να
	  πρέπει να χρησιμοποιήσετε πιστοποίηση <acronym class="acronym">PAP</acronym> ή
	  <acronym class="acronym">CHAP</acronym> αντί για την τύπου <span class="trademark">UNIX</span>(R) πιστοποίηση που
	  περιγράψαμε στο παραπάνω παράδειγμα.  Για να χρησιμοποιήσετε
	  <acronym class="acronym">PAP</acronym> ή <acronym class="acronym">CHAP</acronym> απλώς προσθέστε τις
	  παρακάτω επιλογές στην εφαρμογή <span class="application">PPP</span>
	  πριν βρεθείτε σε κατάσταση τερματικού:</p><pre class="screen">ppp ON example&gt; <strong class="userinput"><code>set authname myusername</code></strong></pre><p>Θα πρέπει να αντικαταστήσετε το
	  <em class="replaceable"><code>myusername</code></em> με το όνομα χρήστη που σας
	  έχει δοθεί από τον <acronym class="acronym">ISP</acronym> σας.</p><pre class="screen">ppp ON example&gt; <strong class="userinput"><code>set authkey mypassword</code></strong></pre><p>Θα πρέπει να αντικαταστήσετε το
	  <em class="replaceable"><code>mypassword</code></em> με τον κωδικό χρήστη που σας
	  έχει δοθεί από τον <acronym class="acronym">ISP</acronym> σας.</p><p>Αν συνδέεστε κανονικά, αλλά δεν φαίνεται να μπορείτε να
	  επικοινωνήσετε με καμιά διεύθυνση, προσπαθήστε να χρησιμοποιήσετε
	  την εντολή <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ping&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ping</span>(8)</span></a> με μια διεύθυνση <acronym class="acronym">IP</acronym> για
	  να δείτε αν θα λάβετε απάντηση.  Αν βλέπετε απώλεια πακέτων 100%,
	  το πιο πιθανό είναι ότι δεν έχετε καθορίσει κάποια προεπιλεγμένη
	  διαδρομή.  Ελέγξτε ξανά ότι έχετε ρυθμίσει την επιλογή
	  <code class="option">add default HISADDR</code> κατά τη διάρκεια της σύνδεσης.
	  Αν μπορείτε να επικοινωνήσετε με μια απομακρυσμένη διεύθυνση
	  <acronym class="acronym">IP</acronym>, το πιθανότερο είναι ότι δεν έχετε βάλει
	  τη διεύθυνση κάποιου διακομιστή ονομάτων στο αρχείο
	  <code class="filename">/etc/resolv.conf</code>.  Το αρχείο αυτό θα πρέπει να
	  μοιάζει με το παρακάτω:</p><pre class="programlisting">domain <em class="replaceable"><code>example.com</code></em>
nameserver <em class="replaceable"><code>x.x.x.x</code></em>
nameserver <em class="replaceable"><code>y.y.y.y</code></em></pre><p>Όπου τα <em class="replaceable"><code>x.x.x.x</code></em> και
	  <em class="replaceable"><code>y.y.y.y</code></em> θα πρέπει να αντικατασταθούν με
	  τις διευθύνσεις <acronym class="acronym">IP</acronym> των διακομιστών DNS του
	  <acronym class="acronym">ISP</acronym> σας.  Ενδεχομένως οι πληροφορίες αυτές να
	  σας έχουν δοθεί κατά την εγγραφή σας στην υπηρεσία.  Αν όχι, θα
	  μπορέσετε να τις βρείτε εύκολα με ένα τηλεφώνημα στον
	  <acronym class="acronym">ISP</acronym> σας.</p><p>Μπορείτε επίσης να ενεργοποιήσετε την καταγραφή συμβάντων για
	  την <span class="application">PPP</span> σύνδεση σας, μέσω του
	  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=syslog&amp;sektion=3"><span class="citerefentry"><span class="refentrytitle">syslog</span>(3)</span></a>.  Απλώς προσθέστε:</p><pre class="programlisting">!ppp
*.*     /var/log/ppp.log</pre><p>στο <code class="filename">/etc/syslog.conf</code>.  Τις περισσότερες
	  φορές, αυτή η λειτουργία υπάρχει ήδη.</p></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ppp.html">Προηγ</a> </td><td width="20%" align="center"><a accesskey="u" href="ppp-and-slip.html">Πάνω</a></td><td width="40%" align="right"> <a accesskey="n" href="pppoe.html">Επόμενο</a></td></tr><tr><td width="40%" align="left" valign="top">27.3. Χρησιμοποιώντας το PPP του Πυρήνα </td><td width="20%" align="center"><a accesskey="h" href="index.html">Αρχή</a></td><td width="40%" align="right" valign="top"> 27.5. Χρησιμοποιώντας PPP μέσω Ethernet (PPPoE)</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Αυτό το κείμενο, και άλλα κείμενα, μπορεί να βρεθεί στο
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Για ερωτήσεις σχετικά με το FreeBSD, διαβάστε την
    <a href="http://www.FreeBSD.org/docs.html">τεκμηρίωση</a> πριν να επικοινωνήσετε με την
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Για ερωτήσεις σχετικά με αυτή την τεκμηρίωση, στείλτε e-mail στην
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>