<?xml version="1.0" encoding="iso-8859-7" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-7" /><title>12.7. Χρησιμοποιώντας Το Σύστημα rc Στο FreeBSD</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Εγχειρίδιο του FreeBSD" /><link rel="up" href="config-tuning.html" title="Κεφάλαιο 12. Ρύθμιση και Βελτιστοποίηση" /><link rel="prev" href="configtuning-cron.html" title="12.6. Ρυθμίζοντας Το Πρόγραμμα cron" /><link rel="next" href="config-network-setup.html" title="12.8. Ρυθμίζοντας Τις Κάρτες Δικτύου" /><link rel="copyright" href="legalnotice.html" title="Νομική Σημείωση" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">12.7. Χρησιμοποιώντας Το Σύστημα rc Στο FreeBSD</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="configtuning-cron.html">Προηγ</a> </td><th width="60%" align="center">Κεφάλαιο 12. Ρύθμιση και Βελτιστοποίηση</th><td width="20%" align="right"> <a accesskey="n" href="config-network-setup.html">Επόμενο</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="configtuning-rcd"></a>12.7. Χρησιμοποιώντας Το Σύστημα rc Στο FreeBSD</h2></div><div><span class="authorgroup">Contributed by <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Tom</span> <span class="surname">Rhodes</span></span>. </span></div></div></div><p>Το 2002 το FreeBSD ενσωμάτωσε το σύστημα <code class="filename">rc.d</code> του
      NetBSD για την εκκίνηση του συστήματος.  Οι χρήστες θα πρέπει να έχουν
      αντιληφθεί τα αρχεία που βρίσκονται στον
      κατάλογο <code class="filename">/etc/rc.d</code>.  Πολλά απο αυτά τα αρχεία είναι
      για τις βασικές υπηρεσίες και μπορούν να ελεγθούν με τις
      επιλογές <code class="option">start</code>, <code class="option">stop</code>,
      και <code class="option">restart</code>.  Για παράδειγμα, το <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sshd&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sshd</span>(8)</span></a> μπορεί να
      ελεγθεί χρησιμοποιώντας την εξής εντολή:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>/etc/rc.d/sshd restart</code></strong></pre><p>Η διαδικασία αυτή είναι παρόμοια και για τις υπόλοιπες υπηρεσίες.
      Φυσικά, οι υπηρεσίες αυτές είναι συνήθως αυτόματα εκκινήσιμες κατα την
      εκκίνηση του συστήματος όπως και καθορίζεται στο <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=rc.conf&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">rc.conf</span>(5)</span></a>.  Για
      παράδειγμα, ενεργοποιώντας τον δαίμονα Network Address Translation στην
      εκκίνηση είναι τόσο απλό όσο κάνοντας προσθήκη της ακόλουθης γραμμής
      στο <code class="filename">/etc/rc.conf</code>:</p><pre class="programlisting">natd_enable="YES"</pre><p>Αν η επιλογή <code class="option">natd_enable="NO"</code> είναι ήδη παρούσα,
       τότε απλά αλλάζετε την επιλογή <code class="option">NO</code>
       σε <code class="option">YES</code>.  Τα σενάρια rc θα φορτώσουν αυτόματα
       οποιαδήποτε εξαρτώμενη υπηρεσία κατά την διάρκεια της επόμενης
       εκκίνησης, όπως και περιγράφεται παρακάτω.</p><p>Μιας και το σύστημα <code class="filename">rc.d</code> είναι κυρίως για την
      εκκίνηση και τον τερματισμό υπηρεσιών κατα την εκκίνηση και τον
      τερματισμό του συστήματος αντίστοιχα, οι προκαθορισμένες
      επιλογές <code class="option">start</code>, <code class="option">stop</code>
      και <code class="option">restart</code> θα πραγματοποιήσουν τις αντίστοιχες
      ενέργειες αν η κατάλληλες μεταβλητές είναι καθορισμένες
      στο <code class="filename">/etc/rc.conf</code>.  Για παράδειγμα η παραπάνω
      εντολή <code class="command">sshd restart</code> θα δουλέψει μόνο αν η
      μεταβλητή <code class="varname">sshd_enable</code> έχει τεθεί σε
      <code class="option">YES</code> μέσα στο <code class="filename">/etc/rc.conf</code>.  Για να
      εκτελέσετε τις επιλογές <code class="option">start</code>, <code class="option">stop</code>
      ή <code class="option">restart</code> μιας υπηρεσίας ανεξάρτητα απο τις ρυθμίσεις
      της στο <code class="filename">/etc/rc.conf</code>, η εντολή πρέπει να έχει
      χαρακτηριστεί με <span class="quote">«<span class="quote">one</span>»</span>.  Για παράδειγμα για την
      επανεκκίνηση του <code class="command">sshd</code> ανεξάρτητα απο τις τρέχουσες
      ρυθμίσεις στο <code class="filename">/etc/rc.conf</code>, εκτελείτε την ακόλουθη
      εντολή:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>/etc/rc.d/sshd onerestart</code></strong></pre><p>Είναι εύκολο να ελέγξετε αν η υπηρεσία είναι ενεργοποιημένη
      στο <code class="filename">/etc/rc.conf</code> τρέχοντας το κατάλληλο
      σενάριο <code class="filename">rc.d</code> με την
      παράμετρο <code class="option">rcvar</code>.  Κατά συνέπεια, ένας διαχειριστής
      μπορεί να ελέγξει αν το <code class="command">sshd</code> είναι όντως
      ενεργοποιημένο στο <code class="filename">/etc/rc.conf</code> εκτελώντας:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>/etc/rc.d/sshd rcvar</code></strong>
# sshd
$sshd_enable=YES</pre><div xmlns="" class="note"><h3 class="admontitle">Σημείωση: </h3><p xmlns="http://www.w3.org/1999/xhtml">Η δεύτερη γραμμή (<code class="literal"># sshd</code>) είναι η έξοδος της
        εντολής <code class="command">sshd</code>, και όχι η κονσολά του
        χρήστη <code class="systemitem">root</code>.</p></div><p>Για να ελέγξετε αν μια υπηρεσία τρέχει, η
      επιλογή <code class="option">status</code> είναι διαθέσιμη.  Για παράδειγμα για να
      επιβεβαιώστε ότι η υπηρεσία <code class="command">sshd</code> τρέχει:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>/etc/rc.d/sshd status</code></strong> sshd is
      running as pid 433.</pre><p>Σε πολλές περιπτώσεις είναι δυνατόν το <code class="option">reload</code> μίας
      υπηρεσίας.  Αυτό θα στείλει ένα σήμα στην υπηρεσία, επιβάλλοντας της να
      ξαναφορτώσει τα αρχεία ρυθμίσεων της.  Στην πραγματικότητα αυτό σημαίνει
      ότι θα στείλει ένα σήμα <code class="literal">SIGHUP</code> στην υπηρεσία.  Η
      υποστήριξη για αυτό το χαρακτηριστικό δεν παρέχεται σε κάθε
      υπηρεσία.</p><p>Το σύστημα <code class="filename">rc.d</code> δεν χρησιμοποιείτε μόνο για τις
      υπηρεσίες δικτύου, αλλά επίσης συμβάλει και κατα την εκκίνηση του
      συστήματος.  Για παράδειγμα, σκεφτείτε το
      αρχείο <code class="filename">bgfsck</code>.  Όταν ένα σενάριο εκτελείτε, θα
      εκτυπώνει το ακόλουθο μήνυμα:</p><pre class="screen">Starting background file system checks in 60 seconds.</pre><p>Επομένος το αρχείο αυτό χρησιμοποιείτε στο παρασκήνιο για τον έλεγχο
      του συστήματος αρχείων, ο οποίος και συμβαίνει κατα στην εκκίνηση του
      συστήματος.</p><p>Πολλές υπηρεσίες εξαρτώνται από άλλες υπηρεσίες για να τα καταφέρουν
      να λειτουργήσουν σωστά.  Για παράδειγμα, η υπηρεσία NIS και άλλες
      βασισμένες στο RPC υπηρεσίες θα αποτύχουν να εκκινηθούν αν η
      υπηρεσία <code class="command">rpcbind</code> (portmapper) δεν έχει ήδη εκκινηθεί.
      Για να λύθει το πρόβλημα αυτό, υπάρχουν πληροφορίες για τις εξαρτήσεις
      και άλλα μετα-δεδομένα μέσα στα σχόλια στην αρχή κάθε σεναρίου.  Το
      πρόγραμμα <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=rcorder&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">rcorder</span>(8)</span></a> χρησιμοποιείτε για την ανάλυση των σχολίων
      αυτών κατά την εκκίνηση του συστήματος για να καθορίστει με ποιά σειρά
      θα πρέπει να εκκινηθούν οι υπηρεσίες ώστε να εκπληρωθούν οι εξαρτήσεις.
      Οι επόμενες προτάσεις μπορούν να περιληφθούν μέσα σε κάθε αρχείο
      εκκίνησης:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="literal">PROVIDE</code>: Καθόριζει την υπηρεσία που παρέχει
	  το αρχείο αυτό.</p></li><li class="listitem"><p><code class="literal">REQUIRE</code>: Απαριθμεί τις υπηρεσίες που
	  απαιτούνται για την την υπηρεσία αυτή.  Το αρχείο αυτό θα
	  εκτελεστεί <span class="emphasis"><em>μετά</em></span> απο την καθορισμένη
	  υπηρεσία.</p></li><li class="listitem"><p><code class="literal">BEFORE</code>: Απαριθμεί τις υπηρεσίες οι οποίες
	  εξαρτώνται απο την υπηρεσία αυτή.  Το αρχείο αυτό θα
	  εκτελεστεί <span class="emphasis"><em>πρίν</em></span> τις καθορισμένες
	  υπηρεσίες.</p></li></ul></div><p>Χρησιμοποιώντας την μέθοδο αυτή, οι διαχειριστές μπορούν εύκολα να
      ελέγξουν τις υπηρεσίες του συστήματος χωρίς τα
      δυσνόητα <span class="quote">«<span class="quote">runlevels</span>»</span> όπως σε μερικά άλλα λειτουργικά
      συστήματα <span class="trademark">UNIX</span>(R).</p><p>Επιπλέον πληροφορίες για το σύστημα <code class="filename">rc.d</code>
      μπορούν να βρεθούν στις σελίδες βοηθείας <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=rc&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">rc</span>(8)</span></a> και <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=rc.subr&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">rc.subr</span>(8)</span></a>.
      Αν ενδιαφέρεστε για την εγγραφή δικών σας
      σεναρίων <code class="filename">rc.d</code> ή για την βελτίωση των ήδη
      υπάρχοντων, θα βρείτε <a class="link" href="../../../../doc/el_GR.ISO8859-7/articles/rc-scripting" target="_top">τον
      σύνδεσμο αυτόν</a> αρκετά χρήσιμο.</p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="configtuning-cron.html">Προηγ</a> </td><td width="20%" align="center"><a accesskey="u" href="config-tuning.html">Πάνω</a></td><td width="40%" align="right"> <a accesskey="n" href="config-network-setup.html">Επόμενο</a></td></tr><tr><td width="40%" align="left" valign="top">12.6. Ρυθμίζοντας Το Πρόγραμμα <code class="command">cron</code> </td><td width="20%" align="center"><a accesskey="h" href="index.html">Αρχή</a></td><td width="40%" align="right" valign="top"> 12.8. Ρυθμίζοντας Τις Κάρτες Δικτύου</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Αυτό το κείμενο, και άλλα κείμενα, μπορεί να βρεθεί στο
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Για ερωτήσεις σχετικά με το FreeBSD, διαβάστε την
    <a href="http://www.FreeBSD.org/docs.html">τεκμηρίωση</a> πριν να επικοινωνήσετε με την
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Για ερωτήσεις σχετικά με αυτή την τεκμηρίωση, στείλτε e-mail στην
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>