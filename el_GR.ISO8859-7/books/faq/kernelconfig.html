<?xml version="1.0" encoding="iso-8859-7" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-7" /><title>Κεφάλαιο 8. Ρύθμιση Πυρήνα</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Συχνές Ερωτήσεις για το FreeBSD 6.X και 7.X" /><link rel="up" href="index.html" title="Συχνές Ερωτήσεις για το FreeBSD 6.X και 7.X" /><link rel="prev" href="applications.html" title="Κεφάλαιο 7. Εφαρμογές Τελικού Χρήστη" /><link rel="next" href="disks.html" title="Κεφάλαιο 9. Δίσκοι, Συστήματα Αρχείων και Φορτωτές Εκκίνησης" /><link rel="copyright" href="legalnotice.html" title="Νομική Σημείωση" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Κεφάλαιο 8. Ρύθμιση Πυρήνα</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="applications.html">Προηγ</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="disks.html">Επόμενο</a></td></tr></table><hr /></div><div class="chapter"><div xmlns="" class="titlepage"><div><div><h1 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="kernelconfig"></a>Κεφάλαιο 8. Ρύθμιση Πυρήνα</h1></div></div></div><div class="qandaset"><a id="idp76909136"></a><dl><dt>8.1. <a href="kernelconfig.html#idp76909392">I would like to customize my kernel. Is it difficult?</a></dt><dt>8.2. <a href="kernelconfig.html#idp76918992">My kernel compiles fail because
            _hw_float is missing.  How do I solve
            this problem?</a></dt><dt>8.3. <a href="kernelconfig.html#idp76928848">Why is my kernel so big (over 10MB)?</a></dt><dt>8.4. <a href="kernelconfig.html#idp76935504">Why do I get interrupt conflicts with multi-port serial
            code?</a></dt><dt>8.5. <a href="kernelconfig.html#idp76938448">Why does every kernel I try to build fail to compile, even
            GENERIC?</a></dt><dt>8.6. <a href="kernelconfig.html#idp76947792">How can I verify which scheduler is in use on a
            running system?</a></dt><dt>8.7. <a href="kernelconfig.html#idp76959824">What is kern.quantum?</a></dt><dt>8.8. <a href="kernelconfig.html#idp76963280">What is kern.sched.quantum?</a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%" /><col /></colgroup><tbody><tr class="question"><td align="left" valign="top"><a id="idp76909392"></a><a id="make-kernel"></a><p><strong>8.1.</strong></p></td><td align="left" valign="top"><p>I would like to customize my kernel. Is it difficult?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Not at all! Check out the <a class="link" href="../../../../doc/el_GR.ISO8859-7/books/handbook/kernelconfig.html" target="_top">
            kernel config section of the Handbook</a>.</p><div xmlns="" class="note"><h3 class="admontitle">Σημείωση: </h3><p xmlns="http://www.w3.org/1999/xhtml">We recommend that you make a dated snapshot of
	        your new <code class="filename">/kernel</code> called
	        <code class="filename">/kernel.YYMMDD</code> after you get it
	        working properly.  Also back up your new
	        <code class="filename">/modules</code> directory to
	        <code class="filename">/modules.YYMMDD</code>.  That way, if
	        you make a mistake the next time you play with your
	        configuration you can boot the backup kernel instead
	        of having to fall back to
	        <code class="filename">kernel.GENERIC</code>. This is
	        particularly important if you are now booting from a
	        controller that GENERIC does not support.</p></div></td></tr><tr class="question"><td align="left" valign="top"><a id="idp76918992"></a><a id="missing-hw-float"></a><p><strong>8.2.</strong></p></td><td align="left" valign="top"><p>My kernel compiles fail because
            <code class="literal">_hw_float</code> is missing.  How do I solve
            this problem?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>You probably removed <code class="filename">npx0</code>
            (see <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=npx&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">npx</span>(4)</span></a>) from your kernel configuration file
            because you do not have a math co-processor.  The
            <code class="filename">npx0</code> device is
            <span class="emphasis"><em>MANDATORY</em></span>.  Somewhere inside your
            hardware lies a device that provides hardware
            floating-point support, even if it is no longer a separate
            device as used in the good old 386 days.  You
            <span class="emphasis"><em>must</em></span> include the
            <code class="filename">npx0</code> device.  Even if you manage
            to build a kernel without <code class="filename">npx0</code>
            support, it will not boot anyway. </p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp76928848"></a><a id="why-kernel-big"></a><p><strong>8.3.</strong></p></td><td align="left" valign="top"><p>Why is my kernel so big (over 10MB)?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Chances are, you compiled your kernel in
            <span class="emphasis"><em>debug mode</em></span>.  Kernels built in debug
            mode contain many symbols that are used for debugging,
            thus greatly increasing the size of the kernel.  Note that
            there will be little or no performance decrease from
            running a debug kernel, and it is useful to keep one
            around in case of a system panic.</p><p>However, if you are running low on disk space, or
            you simply do not want to run a debug kernel, make sure
            that both of the following are true:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>You do not have a line in your kernel
                configuration file that reads:</p><pre class="programlisting">makeoptions DEBUG=-g</pre></li><li class="listitem"><p>You are not running <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=config&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">config</span>(8)</span></a> with
                the <code class="option">-g</code> option.</p></li></ul></div><p>Either of the above settings will cause your kernel to
            be built in debug mode.  As long as you make sure you
            follow the steps above, you can build your kernel
            normally, and you should notice a fairly large size
            decrease; most kernels tend to be around 1.5MB to
            2MB.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp76935504"></a><a id="multiport-serial-interrupts"></a><p><strong>8.4.</strong></p></td><td align="left" valign="top"><p>Why do I get interrupt conflicts with multi-port serial
            code?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>When I compile a kernel
            with multi-port serial code, it tells me that only the first
            port is probed and the rest skipped due to interrupt conflicts.
            How do I fix this?</p><p>The problem here is that
            FreeBSD has code built-in to keep the kernel from getting
            trashed due to hardware or software conflicts. The way to fix
            this is to leave out the IRQ settings on all but one port. Here
            is an example:</p><pre class="programlisting">#
# Multiport high-speed serial line - 16550 UARTS
#
device sio2 at isa? port 0x2a0 tty irq 5 flags 0x501 vector siointr
device sio3 at isa? port 0x2a8 tty flags 0x501 vector siointr
device sio4 at isa? port 0x2b0 tty flags 0x501 vector siointr
device sio5 at isa? port 0x2b8 tty flags 0x501 vector siointr</pre></td></tr><tr class="question"><td align="left" valign="top"><a id="idp76938448"></a><a id="generic-kernel-build-failure"></a><p><strong>8.5.</strong></p></td><td align="left" valign="top"><p>Why does every kernel I try to build fail to compile, even
            GENERIC?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>There are a number of possible causes for this problem.
            They are, in no particular order:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>You are not using the new <code class="command">make
                buildkernel</code> and <code class="command">make
                installkernel</code> targets, and your source tree is
                different from the one used to build the currently running
                system (e.g., you are compiling 4.3-RELEASE on a 4.0-RELEASE
                system).  If you are attempting an upgrade, please read the
                <code class="filename">/usr/src/UPDATING</code> file, paying
                particular attention to the <span class="quote">«<span class="quote">COMMON ITEMS</span>»</span>
                section at the end.</p></li><li class="listitem"><p>You are using the new <code class="command">make
                buildkernel</code> and <code class="command">make
                installkernel</code> targets, but you failed to assert
                the completion of the <code class="command">make buildworld</code>
                target.  The <code class="command">make buildkernel</code> target
                relies on files generated by the <code class="command">make
                buildworld</code> target to complete its job
                correctly.</p></li><li class="listitem"><p>Even if you are trying to build <a class="link" href="introduction.html#stable" title="1.9.">FreeBSD-STABLE</a>, it is possible that
                you fetched the source tree at a time when it was either
                being modified, or broken for other reasons; only releases
                are absolutely guaranteed to be buildable, although <a class="link" href="introduction.html#stable" title="1.9.">FreeBSD-STABLE</a> builds fine the
                majority of the time.  If you have not already done so, try
                re-fetching the source tree and see if the problem goes
                away.  Try using a different server in case the one you are
                using is having problems.</p></li></ul></div></td></tr><tr class="question"><td align="left" valign="top"><a id="idp76947792"></a><a id="scheduler-in-use"></a><p><strong>8.6.</strong></p></td><td align="left" valign="top"><p>How can I verify which scheduler is in use on a
            running system?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>If you are running FreeBSD version 5.2.1 or earlier, check for
	    the existence of the <code class="literal">kern.quantum</code> sysctl.
	    If you have it, you should see something like this:</p><pre class="screen"><code class="prompt">%</code> sysctl <em class="replaceable"><code>kern.quantum</code></em>
kern.sched.quantum: 99960</pre><p>If the <code class="literal">kern.quantum</code> sysctl exists, you are
	    using the 4BSD scheduler.  If not, you will get an error printed
	    by <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sysctl&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sysctl</span>(8)</span></a> (which you can safely ignore):</p><pre class="screen"><code class="prompt">%</code> sysctl <em class="replaceable"><code>kern.sched.quantum</code></em>
sysctl: unknown oid 'kern.sched.quantum'</pre><p>In FreeBSD version 5.3-RELEASE and later, the name of the
	    scheduler currently being used is directly available as the value
	    of the <code class="literal">kern.sched.name</code> sysctl:</p><pre class="screen"><code class="prompt">%</code> sysctl <em class="replaceable"><code>kern.sched.name</code></em>
kern.sched.name: 4BSD</pre></td></tr><tr class="question"><td align="left" valign="top"><a id="idp76959824"></a><a id="scheduler-kern-quantum"></a><p><strong>8.7.</strong></p></td><td align="left" valign="top"><p>What is <code class="literal">kern.quantum</code>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><code class="literal">kern.quantum</code> is the maximum number of
            ticks a process can run without being preempted.  It is
            specific to the 4BSD scheduler, so you can use its
            presence or absence to determine which scheduler is in
            use.  In FreeBSD 5.X or later <code class="literal">kern.quantum</code> has
	    been renamed to <code class="literal">kern.sched.quantum</code>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp76963280"></a><a id="scheduler-kern-sched-quantum"></a><p><strong>8.8.</strong></p></td><td align="left" valign="top"><p>What is <code class="literal">kern.sched.quantum</code>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>See <a class="xref" href="kernelconfig.html#scheduler-kern-quantum" title="8.7.">Ε: 8.7</a></p></td></tr></tbody></table></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="applications.html">Προηγ</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="disks.html">Επόμενο</a></td></tr><tr><td width="40%" align="left" valign="top">Κεφάλαιο 7. Εφαρμογές Τελικού Χρήστη </td><td width="20%" align="center"><a accesskey="h" href="index.html">Αρχή</a></td><td width="40%" align="right" valign="top"> Κεφάλαιο 9. Δίσκοι, Συστήματα Αρχείων και Φορτωτές Εκκίνησης</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Αυτό το κείμενο, και άλλα κείμενα, μπορεί να βρεθεί στο
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Για ερωτήσεις σχετικά με το FreeBSD, διαβάστε την
    <a href="http://www.FreeBSD.org/docs.html">τεκμηρίωση</a> πριν να επικοινωνήσετε με την
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Για ερωτήσεις σχετικά με αυτή την τεκμηρίωση, στείλτε e-mail στην
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>