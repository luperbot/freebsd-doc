<?xml version="1.0" encoding="iso-8859-7" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-7" /><title>Κεφάλαιο 15. Σειριακές Επικοινωνίες</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Συχνές Ερωτήσεις για το FreeBSD 6.X και 7.X" /><link rel="up" href="index.html" title="Συχνές Ερωτήσεις για το FreeBSD 6.X και 7.X" /><link rel="prev" href="ppp.html" title="Κεφάλαιο 14. PPP" /><link rel="next" href="misc.html" title="Κεφάλαιο 16. Διάφορες Ερωτήσεις" /><link rel="copyright" href="legalnotice.html" title="Νομική Σημείωση" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Κεφάλαιο 15. Σειριακές Επικοινωνίες</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ppp.html">Προηγ</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="misc.html">Επόμενο</a></td></tr></table><hr /></div><div class="chapter"><div xmlns="" class="titlepage"><div><div><h1 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="serial"></a>Κεφάλαιο 15. Σειριακές Επικοινωνίες</h1></div></div></div><p>This section answers common questions about serial
      communications with FreeBSD.  PPP and SLIP are covered in the
      <a class="link" href="networking.html" title="Κεφάλαιο 12. Δικτύωση">Networking</a> section.</p><div class="qandaset"><a id="idp78581840"></a><dl><dt>15.1. <a href="serial.html#idp78582096">How do I tell if FreeBSD found my serial ports?</a></dt><dt>15.2. <a href="serial.html#idp78589264">How do I tell if FreeBSD found my modem cards?</a></dt><dt>15.3. <a href="serial.html#idp78595536">How do I access the serial ports on FreeBSD?</a></dt><dt>15.4. <a href="serial.html#idp78607568">How do I enable support for a multiport serial
            card?</a></dt><dt>15.5. <a href="serial.html#idp78613072">Can FreeBSD handle multiport serial cards sharing
            irqs?</a></dt><dt>15.6. <a href="serial.html#idp78615248">Can I set the default serial parameters for a
            port?</a></dt><dt>15.7. <a href="serial.html#idp78631632">How can I enable dialup logins on my modem?</a></dt><dt>15.8. <a href="serial.html#idp78670288">How can I connect a dumb terminal to my FreeBSD
            box?</a></dt><dt>15.9. <a href="serial.html#idp78677584">Why can I not run tip or
            cu?</a></dt><dt>15.10. <a href="serial.html#idp75476048">My stock Hayes modem is not supported---what
            can I do?</a></dt><dt>15.11. <a href="serial.html#idp75492688">How am I expected to enter these AT commands?</a></dt><dt>15.12. <a href="serial.html#idp78851792">Why does the &lt;@&gt; sign for the pn
            capability not work?</a></dt><dt>15.13. <a href="serial.html#idp78855888">How can I dial a phone number on the command
            line?</a></dt><dt>15.14. <a href="serial.html#idp78867408">Do I have to type in the bps rate every time I do
            that?</a></dt><dt>15.15. <a href="serial.html#idp78871376">How can I more easily access a number of hosts through a
            terminal server?</a></dt><dt>15.16. <a href="serial.html#idp78878160">Can tip try more than one line for each site?</a></dt><dt>15.17. <a href="serial.html#idp78895056">Why do I have to hit CTRL+P
            twice to send CTRL+P
            once?</a></dt><dt>15.18. <a href="serial.html#idp78908112">Why is everything I type suddenly in UPPER CASE?</a></dt><dt>15.19. <a href="serial.html#idp78921680">How can I do file transfers with
            tip?</a></dt><dt>15.20. <a href="serial.html#idp78927824">How can I run zmodem with
            tip?</a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%" /><col /></colgroup><tbody><tr class="question"><td align="left" valign="top"><a id="idp78582096"></a><a id="found-serial"></a><p><strong>15.1.</strong></p></td><td align="left" valign="top"><p>How do I tell if FreeBSD found my serial ports?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>As the FreeBSD kernel boots, it will probe for the serial
            ports in your system for which the kernel was configured.
            You can either watch your system closely for the messages it
            prints or run the command</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>dmesg | grep sio</code></strong></pre><p>after your system is up and running.</p><p>Here is some example output from the above command:</p><pre class="programlisting">sio0 at 0x3f8-0x3ff irq 4 on isa
sio0: type 16550A
sio1 at 0x2f8-0x2ff irq 3 on isa
sio1: type 16550A</pre><p>This shows two serial ports.  The first is on irq 4, is
            using port address <code class="literal">0x3f8</code>, and has a
            16550A-type UART chip.  The second uses the same kind of chip
            but is on irq 3 and is at port address <code class="literal">0x2f8</code>.
            Internal modem cards are treated just like serial ports---except
            that they always have a modem <span class="quote">«<span class="quote">attached</span>»</span> to the
            port.</p><p>The <code class="filename">GENERIC</code> kernel includes support
            for two serial ports using the same irq and port address
            settings in the above example.  If these settings are not
            right for your system, or if you have added modem cards or have
            more serial ports than your kernel is configured for, just
            reconfigure your kernel.  See section
            <a class="link" href="kernelconfig.html#make-kernel" title="8.1.">about building a kernel</a> for
            more details.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp78589264"></a><a id="found-modem"></a><p><strong>15.2.</strong></p></td><td align="left" valign="top"><p>How do I tell if FreeBSD found my modem cards?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Refer to the answer to the previous question.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp78595536"></a><a id="access-serial-ports"></a><p><strong>15.3.</strong></p></td><td align="left" valign="top"><p>How do I access the serial ports on FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>The third serial port, <code class="filename">sio2</code>
            (see <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sio&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">sio</span>(4)</span></a>, known as <code class="filename">COM3</code> in DOS), is on
            <code class="filename">/dev/cuaa2</code> for dial-out devices,
            and on <code class="filename">/dev/ttyd2</code> for dial-in
            devices.  What is the difference between these two classes
            of devices?</p><p>You use
            <code class="filename">ttydX</code>
            for dial-ins.  When opening
            <code class="filename">/dev/ttydX</code>
            in blocking mode, a process will wait for the
            corresponding
            <code class="filename">cuaaX</code>
            device to become inactive, and then wait for the carrier
            detect line to go active.  When you open the
            <code class="filename">cuaaX</code>
            device, it makes sure the serial port is not already in
            use by the
            <code class="filename">ttydX</code>
            device. If the port is available, it <span class="quote">«<span class="quote">steals</span>»</span>
            it from the
            <code class="filename">ttydX</code>
            device. Also, the
            <code class="filename">cuaaX</code>
            device does not care about carrier detect. With this
            scheme and an auto-answer modem, you can have remote users
            log in and you can still dial out with the same modem and
            the system will take care of all the conflicts.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp78607568"></a><a id="enable-multiport-serial"></a><p><strong>15.4.</strong></p></td><td align="left" valign="top"><p>How do I enable support for a multiport serial
            card?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Again, the section on kernel configuration provides
            information about configuring your kernel. For a multiport
            serial card, place an <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sio&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">sio</span>(4)</span></a> line for each serial
            port on the card in the kernel configuration file. But
            place the irq and vector specifiers on only one of the
            entries. All of the ports on the card should share one
            irq.  For consistency, use the last serial port to specify
            the irq.  Also, specify the
            <code class="literal">COM_MULTIPORT</code> option.</p><p>The following example is for an AST 4-port serial card on
            irq 7:</p><pre class="programlisting">options "COM_MULTIPORT"
device sio4 at isa? port 0x2a0 tty flags 0x781
device sio5 at isa? port 0x2a8 tty flags 0x781
device sio6 at isa? port 0x2b0 tty flags 0x781
device sio7 at isa? port 0x2b8 tty flags 0x781 irq 7 vector siointr</pre><p>The flags indicate that the master port has minor number 7
            (<code class="literal">0x700</code>), diagnostics enabled during probe
            (<code class="literal">0x080</code>), and all the ports share an irq
            (<code class="literal">0x001</code>).</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp78613072"></a><a id="multiport-serial-share-irq"></a><p><strong>15.5.</strong></p></td><td align="left" valign="top"><p>Can FreeBSD handle multiport serial cards sharing
            irqs?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Not yet. You will have to use a different irq for each
            card.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp78615248"></a><a id="default-serial-params"></a><p><strong>15.6.</strong></p></td><td align="left" valign="top"><p>Can I set the default serial parameters for a
            port?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>The
            <code class="filename">ttydX</code>
            (or
            <code class="filename">cuaaX</code>)
            device is the regular device you will want to open for
            your applications.  When a process opens the device, it
            will have a default set of terminal I/O settings. You can
            see these settings with the command</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>stty -a -f /dev/ttyd1</code></strong></pre><p>When you change the settings to this device, the settings
            are in effect until the device is closed.  When it is reopened,
            it goes back to the default set.  To make changes to the
            default set, you can open and adjust the settings of the
            <span class="quote">«<span class="quote">initial state</span>»</span> device. For example, to turn on
            <acronym class="acronym">CLOCAL</acronym> mode, 8 bits, and
            <acronym class="acronym">XON/XOFF</acronym> flow control by default for
            ttyd5, do:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>stty -f /dev/ttyid5 clocal cs8 ixon ixoff</code></strong></pre><p>A good place to do this is in
            <code class="filename">/etc/rc.serial</code>. Now, an application
            will have these settings by default when it opens
            <code class="filename">ttyd5</code>.  It can still change these
            settings to its liking, though.</p><p>You can also prevent certain settings from being
            changed by an application by making adjustments to the
            <span class="quote">«<span class="quote">lock state</span>»</span> device.  For example, to lock
            the speed of <code class="filename">ttyd5</code> to 57600 bps,
            do</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>stty -f /dev/ttyld5 57600</code></strong></pre><p>Now, an application that opens
            <code class="filename">ttyd5</code> and tries to change the
            speed of the port will be stuck with 57600 bps.</p><p>Naturally, you should make the initial state and lock
            state devices writable only by
            <code class="systemitem">root</code>. The <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=MAKEDEV&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">MAKEDEV</span>(8)</span></a> script does
            <span class="emphasis"><em>NOT</em></span> do this when it creates the
            device entries.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp78631632"></a><a id="enable-dialup"></a><p><strong>15.7.</strong></p></td><td align="left" valign="top"><p>How can I enable dialup logins on my modem?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>So you want to become an Internet service provider, eh?
            First, you will need one or more modems that can auto-answer.
            Your modem will need to assert carrier-detect when it detects a
            carrier and not assert it all the time. It will need to hang up
            the phone and reset itself when the data terminal ready
            (<acronym class="acronym">DTR</acronym>) line goes from on to off. It should
            probably use <code class="filename">RTS/CTS</code> flow control or no
            local flow control at all. Finally, it must use a constant
            speed between the computer and itself, but (to be nice to your
            callers) it should negotiate a speed between itself and the
            remote modem.</p><p>For many Hayes command-set--compatible modems, this
            command will make these settings and store them in
            nonvolatile memory:</p><pre class="programlisting">AT &amp;C1 &amp;D3 &amp;K3 &amp;Q6 S0=1 &amp;W</pre><p>See the section <a class="link" href="serial.html#direct-at" title="15.11.">on sending AT
            commands</a> below for information on how to make these
            settings without resorting to an <span class="trademark">MS-DOS</span>(R) terminal program.</p><p>Next, make an entry in <code class="filename">/etc/ttys</code>
            (see <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ttys&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">ttys</span>(5)</span></a>) for the modem.  This file lists all the
            ports on which the operating system will await logins.
            Add a line that looks something like this:</p><pre class="programlisting">ttyd1 "/usr/libexec/getty std.57600" dialup on insecure</pre><p>This line indicates that the second serial port
            (<code class="filename">/dev/ttyd1</code>) has a modem
            connected running at 57600 bps and no parity
            (<code class="literal">std.57600</code>, which comes from the file
            <code class="filename">/etc/gettytab</code>, see <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=gettytab&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">gettytab</span>(5)</span></a>).
            The terminal type for this port is
            <code class="literal">dialup</code>.  The port is
            <code class="literal">on</code> and is
            <code class="literal">insecure</code>---meaning
            <code class="systemitem">root</code> logins on the port are not
            allowed. For dialin ports like this one, use the
            <code class="filename">ttydX</code>
            entry.</p><p>It is common practice to use <code class="literal">dialup</code>
            as the terminal type. Many users set up in their
            <code class="filename">.profile</code> or
            <code class="filename">.login</code> files a prompt for the actual
            terminal type if the starting type is dialup. The example
            shows the port as insecure. To become
            <code class="systemitem">root</code> on this port, you have to login
            as a regular user, then <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=su&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">su</span>(1)</span></a> to become
            <code class="systemitem">root</code>. If you use
            <code class="literal">secure</code> then <code class="systemitem">root</code>
            can login in directly.</p><p>After making modifications to
            <code class="filename">/etc/ttys</code>, you need to send a hangup
            or <acronym class="acronym">HUP</acronym> signal to the <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=init&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">init</span>(8)</span></a>
            process:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>kill -HUP 1</code></strong></pre><p>This forces the <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=init&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">init</span>(8)</span></a> process to reread
            <code class="filename">/etc/ttys</code>.  The init process will
            then start getty processes on all <code class="literal">on</code>
            ports.  You can find out if logins are available for your
            port by typing</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>ps -ax | grep '[t]tyd1'</code></strong></pre><p>You should see something like:</p><pre class="programlisting">747 ??  I      0:00.04 /usr/libexec/getty std.57600 ttyd1</pre></td></tr><tr class="question"><td align="left" valign="top"><a id="idp78670288"></a><a id="dumb-terminal"></a><p><strong>15.8.</strong></p></td><td align="left" valign="top"><p>How can I connect a dumb terminal to my FreeBSD
            box?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>If you are using another computer as a terminal into your
            FreeBSD system, get a null-modem cable to go between the two
            serial ports.  If you are using an actual terminal, see its
            accompanying instructions.</p><p>Then, modify <code class="filename">/etc/ttys</code> (see
            <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ttys&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">ttys</span>(5)</span></a>), like above.  For example, if you are
            hooking up a WYSE-50 terminal to the fifth serial port,
            use an entry like this:</p><pre class="programlisting">ttyd4 "/usr/libexec/getty std.38400" wyse50 on secure</pre><p>This example shows that the port on
            <code class="filename">/dev/ttyd4</code> has a wyse50 terminal
            connected at 38400 bps with no parity
            (<code class="literal">std.38400</code> from
            <code class="filename">/etc/gettytab</code>, see <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=gettytab&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">gettytab</span>(5)</span></a>)
            and <code class="systemitem">root</code> logins are allowed
            (<code class="literal">secure</code>).</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp78677584"></a><a id="cannot-tip"></a><p><strong>15.9.</strong></p></td><td align="left" valign="top"><p>Why can I not run <code class="command">tip</code> or
            <code class="command">cu</code>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>On your system, the programs <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=tip&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">tip</span>(1)</span></a> and
            <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=cu&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">cu</span>(1)</span></a> are probably executable only by
            <code class="systemitem">uucp</code> and group
            <code class="systemitem">dialer</code>.  You can use the group
            <code class="systemitem">dialer</code> to control who has access to
            your modem or remote systems.  Just add yourself to group
            dialer.</p><p>Alternatively, you can let everyone on your system run
            <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=tip&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">tip</span>(1)</span></a> and <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=cu&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">cu</span>(1)</span></a> by typing:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>chmod 4511 /usr/bin/cu</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>chmod 4511 /usr/bin/tip</code></strong></pre></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75476048"></a><a id="hayes-unsupported"></a><p><strong>15.10.</strong></p></td><td align="left" valign="top"><p>My stock Hayes modem is not supported---what
            can I do?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Actually, the manual page for <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=tip&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">tip</span>(1)</span></a> is out of
            date.  There is a generic Hayes dialer already built in.
            Just use <code class="literal">at=hayes</code> in your
            <code class="filename">/etc/remote</code> (see <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=remote&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">remote</span>(5)</span></a>)
            file.</p><p>The Hayes driver is not smart enough to recognize some of
            the advanced features of newer modems---messages like
            <code class="literal">BUSY</code>, <code class="literal">NO DIALTONE</code>, or
            <code class="literal">CONNECT 115200</code> will just confuse it. You
            should turn those messages off when you use <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=tip&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">tip</span>(1)</span></a>
            (using <code class="literal">ATX0&amp;W</code>).</p><p>Also, the dial timeout for <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=tip&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">tip</span>(1)</span></a> is 60
            seconds.  Your modem should use something less, or else tip
            will think there is a communication problem.  Try
            <code class="literal">ATS7=45&amp;W</code>.</p><p>Actually, as shipped <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=tip&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">tip</span>(1)</span></a> does not yet
            support it fully. The solution is to edit the file
            <code class="filename">tipconf.h</code> in the directory
            <code class="filename">/usr/src/usr.bin/tip/tip</code>.  Obviously you
            need the source distribution to do this.</p><p>Edit the line <code class="literal">#define HAYES 0</code>
            to <code class="literal">#define HAYES 1</code>. Then
            <code class="command">make</code> and <code class="command">make install</code>.
            Everything works nicely after that.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75492688"></a><a id="direct-at"></a><p><strong>15.11.</strong></p></td><td align="left" valign="top"><p>How am I expected to enter these AT commands?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Make what is called a <span class="quote">«<span class="quote">direct</span>»</span> entry in
            your <code class="filename">/etc/remote</code> file (see
            <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=remote&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">remote</span>(5)</span></a>).  For example, if your modem is hooked up
            to the first serial port,
            <code class="filename">/dev/cuaa0</code>, then put in the
            following line:</p><pre class="programlisting">cuaa0:dv=/dev/cuaa0:br#19200:pa=none</pre><p>Use the highest bps rate your modem supports in the br
            capability.  Then, type <code class="command">tip
            cuaa0</code> (see <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=tip&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">tip</span>(1)</span></a>)
            and you will be connected to your modem.</p><p>If there is no <code class="filename">/dev/cuaa0</code> on your
            system, do this:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cd /dev</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>sh MAKEDEV cuaa0</code></strong></pre><p>Or use cu as <code class="systemitem">root</code> with the
            following command:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cu -lline -sspeed</code></strong></pre><p>with <em class="replaceable"><code>line</code></em> being the serial
            port (e.g.  <code class="filename">/dev/cuaa0</code>) and
            <em class="replaceable"><code>speed</code></em> being the speed
            (e.g.<code class="literal">57600</code>).  When you are done
            entering the AT commands hit <code class="literal">~.</code> to
            exit.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp78851792"></a><a id="gt-failure"></a><p><strong>15.12.</strong></p></td><td align="left" valign="top"><p>Why does the <code class="literal">&lt;@&gt;</code> sign for the pn
            capability not work?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>The <code class="literal">&lt;@&gt;</code> sign in the phone
            number capability tells tip to look in
            <code class="filename">/etc/phones</code> for a phone number.  But
            the <code class="literal">&lt;@&gt;</code> sign is also a special
            character in capability files like
            <code class="filename">/etc/remote</code>.  Escape it with a
            backslash:</p><pre class="programlisting">pn=\@</pre></td></tr><tr class="question"><td align="left" valign="top"><a id="idp78855888"></a><a id="dial-command-line"></a><p><strong>15.13.</strong></p></td><td align="left" valign="top"><p>How can I dial a phone number on the command
            line?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Put what is called a <span class="quote">«<span class="quote">generic</span>»</span> entry in
            your <code class="filename">/etc/remote</code> file (see
            <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=remote&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">remote</span>(5)</span></a>).  For example:</p><pre class="programlisting">tip115200|Dial any phone number at 115200 bps:\
        :dv=/dev/cuaa0:br#115200:at=hayes:pa=none:du:
tip57600|Dial any phone number at 57600 bps:\
        :dv=/dev/cuaa0:br#57600:at=hayes:pa=none:du:</pre><p>Then you can do something like <code class="command">tip -115200
            5551234</code>.  If you prefer <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=cu&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">cu</span>(1)</span></a> over
            <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=tip&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">tip</span>(1)</span></a>, use a generic cu entry:</p><pre class="programlisting">cu115200|Use cu to dial any number at 115200bps:\
        :dv=/dev/cuaa1:br#57600:at=hayes:pa=none:du:</pre><p>and type <code class="command">cu 5551234 -s 115200</code>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp78867408"></a><a id="set-bps"></a><p><strong>15.14.</strong></p></td><td align="left" valign="top"><p>Do I have to type in the bps rate every time I do
            that?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Put in an entry for <code class="literal">tip1200</code> or
            <code class="literal">cu1200</code>, but go ahead and use whatever
            bps rate is appropriate with the br capability.
            <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=tip&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">tip</span>(1)</span></a> thinks a good default is 1200 bps which is why
            it looks for a <code class="literal">tip1200</code> entry. You do
            not have to use 1200 bps, though.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp78871376"></a><a id="terminal-server"></a><p><strong>15.15.</strong></p></td><td align="left" valign="top"><p>How can I more easily access a number of hosts through a
            terminal server?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Rather than waiting until you are connected and typing
            <code class="literal">CONNECT host</code>
            each time, use tip's <code class="literal">cm</code> capability. For
            example, these entries in
            <code class="filename">/etc/remote</code> (see <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=remote&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">remote</span>(5)</span></a>):</p><pre class="programlisting">pain|pain.deep13.com|Forrester's machine:\
        :cm=CONNECT pain\n:tc=deep13:
muffin|muffin.deep13.com|Frank's machine:\
        :cm=CONNECT muffin\n:tc=deep13:
deep13:Gizmonics Institute terminal server:\
        :dv=/dev/cuaa2:br#38400:at=hayes:du:pa=none:pn=5551234:</pre><p>will let you type <code class="command">tip pain</code> or
            <code class="command">tip muffin</code> to connect to the hosts
            <code class="systemitem">pain</code> or <code class="systemitem">muffin</code>; and
            <code class="command">tip deep13</code> to get to the terminal
            server.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp78878160"></a><a id="tip-multiline"></a><p><strong>15.16.</strong></p></td><td align="left" valign="top"><p>Can tip try more than one line for each site?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>This is often a problem where a university has several
            modem lines and several thousand students trying to use
            them...</p><p>Make an entry for your university in
            <code class="filename">/etc/remote</code> (see <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=remote&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">remote</span>(5)</span></a>) and
            use <code class="literal">&lt;\@&gt;</code> for the
            <code class="literal">pn</code> capability:</p><pre class="programlisting">big-university:\
        :pn=\@:tc=dialout
dialout:\
        :dv=/dev/cuaa3:br#9600:at=courier:du:pa=none:</pre><p>Then, list the phone numbers for the university in
            <code class="filename">/etc/phones</code> (see <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=phones&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">phones</span>(5)</span></a>):</p><pre class="programlisting">big-university 5551111
big-university 5551112
big-university 5551113
big-university 5551114</pre><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=tip&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">tip</span>(1)</span></a>
            will try each one in the listed order, then give
            up.  If you want to keep retrying, run <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=tip&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">tip</span>(1)</span></a>
            in a while loop.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp78895056"></a><a id="multi-controlp"></a><p><strong>15.17.</strong></p></td><td align="left" valign="top"><p>Why do I have to hit <span class="keycap"><strong>CTRL</strong></span>+<span class="keycap"><strong>P</strong></span>
            twice to send <span class="keycap"><strong>CTRL</strong></span>+<span class="keycap"><strong>P</strong></span>
            once?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><span class="keycap"><strong>CTRL</strong></span>+<span class="keycap"><strong>P</strong></span>
            is the default <span class="quote">«<span class="quote">force</span>»</span> character, used to
            tell <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=tip&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">tip</span>(1)</span></a> that the next character is literal data.
            You can set the force character to any other character
            with the <code class="literal">~s</code> escape, which means
            <span class="quote">«<span class="quote">set a variable</span>»</span>.</p><p>Type <code class="literal">~sforce=single-char
            </code> followed by a newline.
            <em class="replaceable"><code>single-char</code></em> is any single
            character.  If you leave out
            <em class="replaceable"><code>single-char</code></em>, then the force
            character is the nul character, which you can get by
            typing <span class="keycap"><strong>CTRL</strong></span>+<span class="keycap"><strong>2</strong></span>
            or <span class="keycap"><strong>CTRL</strong></span>+<span class="keycap"><strong>SPACE</strong></span>.
            A pretty good value for
            <em class="replaceable"><code>single-char</code></em> is <span class="keycap"><strong>SHIFT</strong></span>+<span class="keycap"><strong>CTRL</strong></span>+<span class="keycap"><strong>6</strong></span>,
            which I have seen only used on some terminal
            servers.</p><p>You can have the force character be whatever you want
            by specifying the following in your
            <code class="filename">$HOME/.tiprc</code> file:</p><pre class="programlisting">force=<em class="replaceable"><code>single-char</code></em></pre></td></tr><tr class="question"><td align="left" valign="top"><a id="idp78908112"></a><a id="uppercase"></a><p><strong>15.18.</strong></p></td><td align="left" valign="top"><p>Why is everything I type suddenly in UPPER CASE?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>You must have pressed <span class="keycap"><strong>CTRL</strong></span>+<span class="keycap"><strong>A</strong></span>,
            <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=tip&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">tip</span>(1)</span></a> <span class="quote">«<span class="quote">raise character</span>»</span>, specially
            designed for people with broken <span class="keycap"><strong>Caps Lock</strong></span>
            keys. Use <code class="literal">~s</code> as above and set the
            variable <span class="quote">«<span class="quote">raisechar</span>»</span> to something reasonable.
            In fact, you can set it to the same as the force
            character, if you never expect to use either of these
            features.</p><p>Here is a sample .tiprc file perfect for Emacs users
            who need to type <span class="keycap"><strong>CTRL</strong></span>+<span class="keycap"><strong>2</strong></span>
            and <span class="keycap"><strong>CTRL</strong></span>+<span class="keycap"><strong>A</strong></span>
            a lot:</p><pre class="programlisting">force=^^
raisechar=^^</pre><p>The ^^ is <span class="keycap"><strong>SHIFT</strong></span>+<span class="keycap"><strong>CTRL</strong></span>+<span class="keycap"><strong>6</strong></span>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp78921680"></a><a id="tip-filetransfer"></a><p><strong>15.19.</strong></p></td><td align="left" valign="top"><p>How can I do file transfers with
            <code class="command">tip</code>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>If you are talking to another <span class="trademark">UNIX</span>(R) system, you can
            send and receive files with <code class="literal">~p</code> (put)
            and <code class="literal">~t</code> (take).  These commands run
            <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=cat&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">cat</span>(1)</span></a> and <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=echo&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">echo</span>(1)</span></a> on the remote system to
            accept and send files.  The syntax is:</p><pre class="programlisting">~p &lt;local-file&gt; [&lt;remote-file&gt;]
~t &lt;remote-file&gt; [&lt;local-file&gt;]</pre><p>There is no error checking, so you probably should use
            another protocol, like zmodem.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp78927824"></a><a id="zmodem-tip"></a><p><strong>15.20.</strong></p></td><td align="left" valign="top"><p>How can I run zmodem with
            <span class="application">tip</span>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>First, install one of the zmodem programs from the
            ports collection (such as one of the two from the comms
            category, <span class="application">lrzsz</span> or
            <span class="application">rzsz</span>.</p><p>To receive files, start the sending program on the
            remote end.  Then, press enter and type <code class="literal">~C
            rz</code> (or <code class="literal">~C lrz</code> if you
            installed <span class="application">lrzsz</span>) to begin
            receiving them locally.</p><p>To send files, start the receiving program on the
            remote end.  Then, press enter and type <code class="literal">~C sz
            files</code> (or <code class="literal">~C
            lsz files</code>) to send
            them to the remote system.</p></td></tr></tbody></table></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ppp.html">Προηγ</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="misc.html">Επόμενο</a></td></tr><tr><td width="40%" align="left" valign="top">Κεφάλαιο 14. PPP </td><td width="20%" align="center"><a accesskey="h" href="index.html">Αρχή</a></td><td width="40%" align="right" valign="top"> Κεφάλαιο 16. Διάφορες Ερωτήσεις</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Αυτό το κείμενο, και άλλα κείμενα, μπορεί να βρεθεί στο
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Για ερωτήσεις σχετικά με το FreeBSD, διαβάστε την
    <a href="http://www.FreeBSD.org/docs.html">τεκμηρίωση</a> πριν να επικοινωνήσετε με την
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Για ερωτήσεις σχετικά με αυτή την τεκμηρίωση, στείλτε e-mail στην
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>