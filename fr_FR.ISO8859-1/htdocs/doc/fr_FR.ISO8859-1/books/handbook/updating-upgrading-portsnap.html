<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>24.3. Portsnap: un outil de mise à jour du catalogue des logiciels portés</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Manuel FreeBSD" /><link rel="up" href="updating-upgrading.html" title="Chapitre 24. Mise à jour de FreeBSD" /><link rel="prev" href="updating-upgrading-freebsdupdate.html" title="24.2. Mise à jour de FreeBSD" /><link rel="next" href="current-stable.html" title="24.4. Suivre une branche de développement" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">24.3. Portsnap: un outil de mise à jour du catalogue des
      logiciels portés</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="updating-upgrading-freebsdupdate.html">Précédent</a> </td><th width="60%" align="center">Chapitre 24. Mise à jour de FreeBSD</th><td width="20%" align="right"> <a accesskey="n" href="current-stable.html">Suivant</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="updating-upgrading-portsnap"></a>24.3. Portsnap: un outil de mise à jour du catalogue des
      logiciels portés</h2></div><div><span class="authorgroup">Ecrit par <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Tom</span> <span class="surname">Rhodes</span></span>. </span></div><div><span class="authorgroup">Basé sur les notes de <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Colin</span> <span class="surname">Percival</span></span>. </span></div></div></div><a id="idp82485584" class="indexterm"></a><a id="idp82486096" class="indexterm"></a><p>Le système de base de FreeBSD dispose également
      d'un utilitaire pour la mise à jour du catalogue des
      logiciels portés: <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=portsnap&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">portsnap</span>(8)</span></a>.  Lors de son
      exécution, il se connectera sur un site distant,
      contrôlera la clé de sécurité et
      téléchargera une nouvelle copie du catalogue des
      logiciels portés.  La clé est utilisée pour
      vérifier l'intégrité de tous les fichiers
      téléchargés, s'assurant qu'ils n'ont pas
      été modifiés au vol.  Pour
      récupérer les tout derniers fichiers du catalogue
      des logiciels portés, utiliser la commande
      suivante:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>portsnap fetch</code></strong>
Looking up portsnap.FreeBSD.org mirrors... 3 mirrors found.
Fetching snapshot tag from portsnap1.FreeBSD.org... done.
Fetching snapshot metadata... done.
Updating from Wed Aug  6 18:00:22 EDT 2008 to Sat Aug 30 20:24:11 EDT 2008.
Fetching 3 metadata patches.. done.
Applying metadata patches... done.
Fetching 3 metadata files... done.
Fetching 90 patches.....10....20....30....40....50....60....70....80....90. done.
Applying patches... done.
Fetching 133 new ports or files... done.</pre><p>Cet exemple nous montre que <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=portsnap&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">portsnap</span>(8)</span></a> a trouvé
      et contrôlé plusieurs mises à jour pour les
      données actuelles du catalogue.  Est également
      indiqué si l'utilitaire a été
      précédemment exécuté, si cela avait
      été une première exécution, le
      catalogue aurait été tout simplement
      téléchargé.</p><p>Lorsque <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=portsnap&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">portsnap</span>(8)</span></a> termine avec succès une
      opération de récupération
      (<code class="command">fetch</code>), le catalogue des logiciels
      portés et ses mises à jour sont présents
      sur le système.  A la première exécution de
      <code class="command">portsnap</code> vous devez utiliser la commande
      <code class="literal">extract</code> pour installer les fichiers
      téléchargés:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>portsnap extract</code></strong>
/usr/ports/.cvsignore
/usr/ports/CHANGES
/usr/ports/COPYRIGHT
/usr/ports/GIDs
/usr/ports/KNOBS
/usr/ports/LEGAL
/usr/ports/MOVED
/usr/ports/Makefile
/usr/ports/Mk/bsd.apache.mk
/usr/ports/Mk/bsd.autotools.mk
/usr/ports/Mk/bsd.cmake.mk
<em class="replaceable"><code>...</code></em></pre><p>Pour mettre à jour un catalogue des logiciels
      portés déjà installé utilisez la
      commande <code class="command">portsnap update</code>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>portsnap update</code></strong></pre><p>Le processus est maintenant terminé et les
      applications peuvent être installées ou mises
      à jour à l'aide du catalogue à jour.</p><p>Les opérations <code class="literal">fetch</code> et
      <code class="literal">extract</code> ou <code class="literal">update</code> peuvent
      être exécutées à la suite comme
      montré dans l'exemple suivant:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>portsnap fetch update</code></strong></pre><p>Cette commande téléchargera la dernière
      version du catalogue des logiciels portés et mettra
      à jour votre version locale située dans <code class="filename">/usr/ports</code>.</p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="updating-upgrading-freebsdupdate.html">Précédent</a> </td><td width="20%" align="center"><a accesskey="u" href="updating-upgrading.html">Niveau supérieur</a></td><td width="40%" align="right"> <a accesskey="n" href="current-stable.html">Suivant</a></td></tr><tr><td width="40%" align="left" valign="top">24.2. Mise à jour de FreeBSD </td><td width="20%" align="center"><a accesskey="h" href="index.html">Sommaire</a></td><td width="40%" align="right" valign="top"> 24.4. Suivre une branche de développement</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Ce document, ainsi que d'autres peut être téléchargé sur
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Pour toutes questions à propos de FreeBSD, lisez la
    <a href="http://www.FreeBSD.org/docs.html">documentation</a> avant de contacter
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Pour les questions sur cette documentation, contactez
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>