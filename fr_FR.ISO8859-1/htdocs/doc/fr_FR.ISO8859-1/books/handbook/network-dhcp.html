<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>29.5. Configuration réseau automatique (DHCP)</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Manuel FreeBSD" /><link rel="up" href="network-servers.html" title="Chapitre 29. Serveurs réseau" /><link rel="prev" href="network-nis.html" title="29.4. Services d'information réseau (NIS/YP)" /><link rel="next" href="network-dns.html" title="29.6. Serveurs de noms (DNS)" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">29.5. Configuration réseau automatique (DHCP)</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="network-nis.html">Précédent</a> </td><th width="60%" align="center">Chapitre 29. Serveurs réseau</th><td width="20%" align="right"> <a accesskey="n" href="network-dns.html">Suivant</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="network-dhcp"></a>29.5. Configuration réseau automatique (DHCP)</h2></div><div><span class="authorgroup">Ecrit par <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Greg</span> <span class="surname">Sutter</span></span>. </span></div></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp85391952"></a>29.5.1. Qu'est-ce que DHCP?</h3></div></div></div><a id="idp85392592" class="indexterm"></a><a id="idp85393744" class="indexterm"></a><p>DHCP, le protocole d'attribution dynamique des adresses
	(&#8220;Dynamic Host Configuration Protocol&#8221;),
	décrit les moyens par lesquels un système peut
	se connecter à un réseau et obtenir les
	informations nécessaires pour dialoguer sur ce
	réseau.  Les versions de FreeBSD antérieures
	à la version 6.0 utilisent l'implémentation du
	client DHCP (<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dhclient&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">dhclient</span>(8)</span></a>) de l'ISC (Internet Software
	Consortium).  Les versions suivantes utilisent le programme
	<code class="command">dhclient</code> d'OpenBSD issu d'OpenBSD 3.7.
	Toutes les informations données ici au sujet de
	<code class="command">dhclient</code> sont valables aussi bien pour le
	client DHCP d'ISC que pour celui d'OpenBSD.  Le serveur DHCP
	est celui distribué par le consortium ISC.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp85396560"></a>29.5.2. Ce que traite cette section</h3></div></div></div><p>Cette section décrit les composants
	côté client des clients DHCP d'ISC et d' OpenBSD et côté serveur du
	système DHCP ISC.  Le programme client,
	<code class="command">dhclient</code>, est intégré
	à FreeBSD, la partie serveur est disponible à
	partir du logiciel porté <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/net/isc-dhcp3-server/pkg-descr">net/isc-dhcp3-server</a>.  Les pages de
	manuel <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dhclient&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">dhclient</span>(8)</span></a>, <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dhcp-options&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">dhcp-options</span>(5)</span></a>, et
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dhclient.conf&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">dhclient.conf</span>(5)</span></a>, en plus des références
	données plus bas, sont des ressources utiles.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp85400912"></a>29.5.3. Comment cela fonctionne-t-il?</h3></div></div></div><a id="idp85401552" class="indexterm"></a><p>Quand <code class="command">dhclient</code>, le client DHCP, est
	exécuté sur la machine cliente, il commence
	à diffuser des requêtes de demandes d'information
	de configuration.  Par défaut, ces requêtes sont
	effectuées sur le port UDP 68.  Le serveur
	répond sur le port UDP 67, fournissant au client une
	adresse IP et d'autres informations réseau importantes
	comme le masque de sous-réseau, les routeurs, et les
	serveurs DNS.  Toutes ces informations viennent sous la forme
	d'un &#8220;bail&#8221; DHCP qui est uniquement valide pendant
	un certain temps (configuré par l'administrateur du
	serveur DHCP).  De cette façon, les adresses IP
	expirées pour les clients qui ne sont plus
	connectés peuvent être automatiquement
	récupérées.</p><p>Les clients DHCP peuvent obtenir une grande
	quantité d'informations à partir du serveur.
	Une liste exhaustive est donnée dans la page de manuel
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dhcp-options&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">dhcp-options</span>(5)</span></a>.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp85404112"></a>29.5.4. Intégration dans FreeBSD</h3></div></div></div><p>Le client DHCP ISC ou OpenBSD (en fonction de la version de FreeBSD que vous utilisez), <code class="command">dhclient</code>, est
	complètement intégré à FreeBSD.  Le
	support du client DHCP est fourni avec l'installeur et le
	système de base, rendant évident le besoin d'une
	connaissance détaillée des configurations
	réseaux pour n'importe quel réseau utilisant un
	serveur DHCP.  <code class="command">dhclient</code> fait partie de
	toutes les versions de FreeBSD depuis la version 3.2.</p><a id="idp85405904" class="indexterm"></a><p>DHCP est supporté par
	<span class="application">sysinstall</span>.  Quand on configure une
	interface réseau sous
	<span class="application">sysinstall</span>, la deuxième
	question posée est: &#8220;Voulez-vous tenter la
	configuration DHCP de l'interface?&#8221;.
	Répondre par l'affirmative à cette question
	lancera <code class="command">dhclient</code>, et en cas de
	succès, complétera automatiquement les
	informations de configuration réseau.</p><p>Vous devez faire deux choses pour que votre système
	utilise DHCP au démarrage:</p><a id="idp85412944" class="indexterm"></a><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Assurez-vous que le périphérique
	    <code class="filename">bpf</code> est compilé dans votre
	    noyau.  Pour cela, vous devez ajouter la ligne
	    <code class="literal">device bpf</code> à votre fichier
	    de configuration du noyau, et recompiler le noyau.  Pour
	    plus d'informations sur la compilation de noyaux,
	    consultez le <a class="xref" href="kernelconfig.html" title="Chapitre 9. Configurer le noyau de FreeBSD">Chapitre 9, <em>Configurer le noyau de FreeBSD</em></a>.</p><p>Le périphérique
	    <code class="filename">bpf</code> est déjà
	    présent dans le noyau <code class="filename">GENERIC</code>
	    qui est fourni avec FreeBSD, vous ne devez donc pas
	    créer de noyau spécifique pour faire
	    fonctionner DHCP.</p><div xmlns="" class="note"><h3 class="admontitle">Note: </h3><p xmlns="http://www.w3.org/1999/xhtml">Ceux qui sont particulièrement conscients de
	      l'aspect sécurité devraient noter que
	      <code class="filename">bpf</code> est également le
	      périphérique qui permet le fonctionnement de
	      &#8220;renifleurs&#8221; de paquets (de tels programmes
	      doivent être lancés sous l'utilisateur
	      <code class="systemitem">root</code>).  <code class="filename">bpf</code>
	      <span class="emphasis"><em>est</em></span> nécessaire pour utiliser
	      DHCP, mais si vous êtes très sensible
	      à la sécurité, vous ne devriez
	      probablement pas ajouter <code class="filename">bpf</code>
	      à votre noyau parce que vous projetez d'utiliser
	      DHCP dans le futur.</p></div></li><li class="listitem"><p>Editez votre fichier <code class="filename">/etc/rc.conf</code>
	    pour y ajouter ce qui suit:</p><pre class="programlisting">ifconfig_fxp0="DHCP"</pre><div xmlns="" class="note"><h3 class="admontitle">Note: </h3><p xmlns="http://www.w3.org/1999/xhtml">Assurez-vous de bien remplacer
	      <code class="literal">fxp0</code> par l'interface que vous voulez
	      configurer de façon dynamique comme décrit
	      dans la <a class="xref" href="config-network-setup.html" title="12.8. Configuration des cartes réseaux">Section 12.8, « Configuration des cartes réseaux »</a>.</p></div><p>Si vous utilisez un emplacement différent pour
	    <code class="command">dhclient</code>, ou si vous désirez
	    passer des arguments supplémentaires à
	    <code class="command">dhclient</code>, ajoutez ce qui suit (en
	    effectuant des modifications si nécessaire):</p><pre class="programlisting">dhcp_program="/sbin/dhclient"
dhcp_flags=""</pre></li></ul></div><a id="idp85433296" class="indexterm"></a><p>Le serveur DHCP, <span class="application">dhcpd</span>, fait
	partie du logiciel porté <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/net/isc-dhcp3-server/pkg-descr">net/isc-dhcp3-server</a> disponible dans
	le catalogue des logiciels portés.  Ce logiciel
	porté contient le serveur DHCP ISC et sa
	documentation.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp85439952"></a>29.5.5. Fichiers</h3></div></div></div><a id="idp85440592" class="indexterm"></a><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="filename">/etc/dhclient.conf</code></p><p><code class="command">dhclient</code> nécessite un
	    fichier de configuration,
	    <code class="filename">/etc/dhclient.conf</code>.
	    Généralement le fichier ne contient que des
	    commentaires, les valeurs par défaut étant
	    suffisantes.  Ce fichier de configuration est décrit
	    par la page de manuel <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dhclient.conf&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">dhclient.conf</span>(5)</span></a>.</p></li><li class="listitem"><p><code class="filename">/sbin/dhclient</code></p><p><code class="command">dhclient</code> est lié
	    statiquement et réside dans le répertoire
	    <code class="filename">/sbin</code>.  La page de
	    manuel <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dhclient&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">dhclient</span>(8)</span></a> donne beaucoup plus d'informations
	    au sujet de <code class="command">dhclient</code>.</p></li><li class="listitem"><p><code class="filename">/sbin/dhclient-script</code></p><p><code class="command">dhclient-script</code> est la
	    procédure de configuration du client DHCP
	    spécifique à FreeBSD.  Elle est décrite
	    dans la page de manuel <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dhclient-script&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">dhclient-script</span>(8)</span></a>, mais ne
	    devrait pas demander de modification de la part de
	    l'utilisateur pour fonctionner correctement.</p></li><li class="listitem"><p><code class="filename">/var/db/dhclient.leases</code></p><p>Le client DHCP conserve une base de données des
	    baux valides, qui est écrite comme un fichier
	    journal.  La page de manuel <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dhclient.leases&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">dhclient.leases</span>(5)</span></a> en donne
	    une description légèrement plus longue.</p></li></ul></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp85456336"></a>29.5.6. Lecture supplémentaire</h3></div></div></div><p>Le protocole DHCP est intégralement décrit
	dans la <a class="link" href="http://www.freesoft.org/CIE/RFC/2131/" target="_top">RFC
	2131</a>.  Des informations sont également
	disponibles à l'adresse <code class="uri"><a class="uri" href="http://www.dhcp.org/" target="_top">http://www.dhcp.org/</a></code>.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="network-dhcp-server"></a>29.5.7. Installer et configurer un serveur DHCP</h3></div></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp85463632"></a>29.5.7.1. Ce que traite cette section</h4></div></div></div><p>Cette section fournit les informations
	    nécessaires à la configuration d'un
	    système FreeBSD comme serveur DHCP en utilisant
	    l'implémentation ISC (Internet Software Consortium)
	    du serveur DHCP.</p><p>Le serveur n'est pas fourni dans le
	    système de base de FreeBSD, et vous devrez installer
	    le logiciel porté <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/net/isc-dhcp3-server/pkg-descr">net/isc-dhcp3-server</a> pour
	    bénéficier de ce service.  Lisez le <a class="xref" href="ports.html" title="Chapitre 5. Installer des applications: les logiciels pré-compilés et les logiciels portés">Chapitre 5, <em>Installer des applications: les logiciels pré-compilés
    et les logiciels portés</em></a> pour plus d'information sur l'utilisation
	    du catalogue des logiciels portés.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp85465936"></a>29.5.7.2. Installation d'un serveur DHCP</h4></div></div></div><a id="idp85466576" class="indexterm"></a><p>Afin de configurer votre système FreeBSD en
	    serveur DHCP, vous devrez vous assurer que le support du
	    périphérique <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=bpf&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">bpf</span>(4)</span></a> est compilé
	    dans votre noyau.  Pour cela ajouter la ligne
	    <code class="literal">device bpf</code> dans votre fichier de
	    configuration du noyau.  Pour plus d'information sur la
	    compilation de noyaux, consultez le <a class="xref" href="kernelconfig.html" title="Chapitre 9. Configurer le noyau de FreeBSD">Chapitre 9, <em>Configurer le noyau de FreeBSD</em></a>.</p><p>Le périphérique
	    <code class="filename">bpf</code> est déjà
	    présent dans le noyau <code class="filename">GENERIC</code>
	    qui est fourni avec FreeBSD, vous ne devez donc pas
	    créer de noyau spécifique pour faire
	    fonctionner DHCP.</p><div xmlns="" class="note"><h3 class="admontitle">Note: </h3><p xmlns="http://www.w3.org/1999/xhtml">Ceux qui sont particulièrement conscients de
	      l'aspect sécurité devraient noter que
	      <code class="filename">bpf</code> est également le
	      périphérique qui permet le fonctionnement de
	      &#8220;renifleurs&#8221; de paquets (de tels programmes
	      nécessitent également un accès avec
	      privilèges).  <code class="filename">bpf</code>
	      <span class="emphasis"><em>est</em></span> nécessaire pour utiliser
	      DHCP, mais si vous êtes très sensible
	      à la sécurité, vous ne devriez
	      probablement pas ajouter <code class="filename">bpf</code>
	      à votre noyau parce que vous projetez d'utiliser
	      DHCP dans le futur.</p></div><p>Il vous reste ensuite à éditer le
	    fichier <code class="filename">dhcpd.conf</code> d'exemple qui a
	    été installé par le logiciel
	    porté <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/net/isc-dhcp3-server/pkg-descr">net/isc-dhcp3-server</a>.  Par
	    défaut, cela sera
	    <code class="filename">/usr/local/etc/dhcpd.conf.sample</code>, et
	    vous devriez le copier vers
	    <code class="filename">/usr/local/etc/dhcpd.conf</code> avant de
	    commencer vos modifications.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp85479504"></a>29.5.7.3. Configuration du serveur DHCP</h4></div></div></div><a id="idp85480144" class="indexterm"></a><p><code class="filename">dhcpd.conf</code> est composé de
	    déclarations concernant les masques de
	    sous-réseaux et les machines, il est
	    peut-être plus facile à expliquer à
	    l'aide d'un exemple:</p><pre class="programlisting">option domain-name "example.com";<a id="domain-name"></a><span><img src="./imagelib/callouts/1.png" alt="1" border="0" /></span>
option domain-name-servers 192.168.4.100;<a id="domain-name-servers"></a><span><img src="./imagelib/callouts/2.png" alt="2" border="0" /></span>
option subnet-mask 255.255.255.0;<a id="subnet-mask"></a><span><img src="./imagelib/callouts/3.png" alt="3" border="0" /></span>

default-lease-time 3600;<a id="default-lease-time"></a><span><img src="./imagelib/callouts/4.png" alt="4" border="0" /></span>
max-lease-time 86400;<a id="max-lease-time"></a><span><img src="./imagelib/callouts/5.png" alt="5" border="0" /></span>
ddns-update-style none;<a id="ddns-update-style"></a><span><img src="./imagelib/callouts/6.png" alt="6" border="0" /></span>

subnet 192.168.4.0 netmask 255.255.255.0 {
  range 192.168.4.129 192.168.4.254;<a id="range"></a><span><img src="./imagelib/callouts/7.png" alt="7" border="0" /></span>
  option routers 192.168.4.1;<a id="routers"></a><span><img src="./imagelib/callouts/8.png" alt="8" border="0" /></span>
}

host mailhost {
  hardware ethernet 02:03:04:05:06:07;<a id="hardware"></a><span><img src="./imagelib/callouts/9.png" alt="9" border="0" /></span>
  fixed-address mailhost.example.com;<a id="fixed-address"></a><span><img src="./imagelib/callouts/10.png" alt="10" border="0" /></span>
}</pre><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#domain-name"><span><img src="./imagelib/callouts/1.png" alt="1" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Cette option spécifie le domaine qui sera
		donné aux clients comme domaine par
		défaut.  Consultez la page de manuel de
		<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=resolv.conf&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">resolv.conf</span>(5)</span></a> pour plus d'information sur sa
		signification.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#domain-name-servers"><span><img src="./imagelib/callouts/2.png" alt="2" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Cette option donne une liste,
		séparée par des virgules, de serveurs DNS
		que le client devrait utiliser.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#subnet-mask"><span><img src="./imagelib/callouts/3.png" alt="3" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Le masque de sous-réseau qui sera fourni
		aux clients.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#default-lease-time"><span><img src="./imagelib/callouts/4.png" alt="4" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Un client peut demander un bail d'une durée
		bien précise.  Sinon par défaut le serveur
		alloue un bail avec cette durée avant expiration
		(en secondes).</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#max-lease-time"><span><img src="./imagelib/callouts/5.png" alt="5" border="0" /></span></a> </p></td><td valign="top" align="left"><p>C'est la durée maximale d'allocation
		autorisée par le serveur.  Si un client demande
		un bail plus long, le bail sera accordé mais il
		ne sera valide que durant
		<code class="literal">max-lease-time</code> secondes.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#ddns-update-style"><span><img src="./imagelib/callouts/6.png" alt="6" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Cette option indique si le serveur DHCP doit
		tenter de mettre à jour le DNS quand un bail
		est accepté ou révoqué.  Dans
		l'implémentation ISC, cette option est
		<span class="emphasis"><em>obligatoire</em></span>.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#range"><span><img src="./imagelib/callouts/7.png" alt="7" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Ceci indique quelles adresses IP devraient
		être utilisées dans l'ensemble des adresses
		réservées aux clients.  Les adresses
		comprises dans l'intervalle spécifiée sont
		allouées aux clients.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#routers"><span><img src="./imagelib/callouts/8.png" alt="8" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Définit la passerelle par défaut
		fournie aux clients.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#hardware"><span><img src="./imagelib/callouts/9.png" alt="9" border="0" /></span></a> </p></td><td valign="top" align="left"><p>L'adresse matérielle MAC d'une machine (de
		manière à ce que le serveur DHCP puisse
		reconnaître une machine quand elle envoie une
		requête).</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#fixed-address"><span><img src="./imagelib/callouts/10.png" alt="10" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Indique que la machine devrait se voir attribuer
		toujours la même adresse IP.  Notez que
		l'utilisation d'un nom de machine ici est correct,
		puisque le serveur DHCP effectuera une
		résolution de nom sur le nom de la machine
		avant de renvoyer l'information sur le bail.</p></td></tr></table></div><p>Une fois l'écriture de votre fichier
	    <code class="filename">dhcpd.conf</code> terminée, vous
	    devez activer le serveur DHCP dans le fichier
	    <code class="filename">/etc/rc.conf</code>, en ajoutant:</p><pre class="programlisting">dhcpd_enable="YES"
dhcpd_ifaces="dc0"</pre><p>Remplacez le nom de l'interface <code class="literal">dc0</code>
	    avec celui de l'interface (ou des interfaces,
	    séparées par un espace) sur laquelle votre
	    serveur DHCP attendra les requêtes des clients
	    DHCP.</p><p>Ensuite, vous
	    pouvez lancer le serveur en tapant la commande
	    suivante:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>/usr/local/etc/rc.d/isc-dhcpd.sh start</code></strong></pre><p>Si vous devez, dans le futur, effectuer des
	    changements dans la configuration de votre serveur, il est
	    important de savoir que l'envoi d'un signal
	    <code class="literal">SIGHUP</code> à
	    <span class="application">dhcpd</span> ne provoque
	    <span class="emphasis"><em>pas</em></span> le rechargement de la
	    configuration, contrairement à la plupart des
	    &#8220;daemons&#8221;.  Vous devrez envoyer un signal
	    <code class="literal">SIGTERM</code> pour arrêter le
	    processus, puis le relancer en utilisant la commande
	    ci-dessus.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp85511504"></a>29.5.7.4. Fichiers</h4></div></div></div><a id="idp85512144" class="indexterm"></a><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="filename">/usr/local/sbin/dhcpd</code></p><p><span class="application">dhcpd</span> est lié
		statiquement et réside dans le répertoire
		<code class="filename">/usr/local/sbin</code>.
		La page de manuel <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dhcpd&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">dhcpd</span>(8)</span></a> installée avec le
		logiciel porté donne beaucoup plus d'informations
		au sujet de <span class="application">dhcpd</span>.</p></li><li class="listitem"><p><code class="filename">/usr/local/etc/dhcpd.conf</code></p><p><span class="application">dhcpd</span> nécessite
		un fichier de configuration,
		<code class="filename">/usr/local/etc/dhcpd.conf</code> avant de
		pouvoir commencer à offrir ses services aux
		client.  Ce fichier doit contenir toutes les
		informations à fournir aux clients qui seront
		traités, en plus des informations concernant le
		fonctionnement du serveur.  Ce fichier de configuration
		est décrit par la page de manuel
		<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dhcpd.conf&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">dhcpd.conf</span>(5)</span></a> installée par le logiciel
		porté.</p></li><li class="listitem"><p><code class="filename">/var/db/dhcpd.leases</code></p><p>Le serveur DHCP conserve une base de
		données des baux qu'il a délivré,
		qui est écrite comme un fichier journal.  La page
		de manuel <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dhcpd.leases&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">dhcpd.leases</span>(5)</span></a> installée par le
		logiciel porté en donne une description
		légèrement plus longue.</p></li><li class="listitem"><p><code class="filename">/usr/local/sbin/dhcrelay</code></p><p><span class="application">dhcrelay</span> est
		utilisé dans les environnements avancés
		où un serveur DHCP fait suivre la requête
		d'un client vers un autre serveur DHCP sur un
		réseau séparé.  Si vous avez besoin
		de cette fonctionnalité, installez alors le
		logiciel porté <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/net/isc-dhcp3-server/pkg-descr">net/isc-dhcp3-server</a>.  La page
		de manuel <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dhcrelay&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">dhcrelay</span>(8)</span></a> fournie avec le logiciel
		porté contient plus de détails.</p></li></ul></div></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="network-nis.html">Précédent</a> </td><td width="20%" align="center"><a accesskey="u" href="network-servers.html">Niveau supérieur</a></td><td width="40%" align="right"> <a accesskey="n" href="network-dns.html">Suivant</a></td></tr><tr><td width="40%" align="left" valign="top">29.4. Services d'information réseau (NIS/YP) </td><td width="20%" align="center"><a accesskey="h" href="index.html">Sommaire</a></td><td width="40%" align="right" valign="top"> 29.6. Serveurs de noms (<acronym class="acronym">DNS</acronym>)</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Ce document, ainsi que d'autres peut être téléchargé sur
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Pour toutes questions à propos de FreeBSD, lisez la
    <a href="http://www.FreeBSD.org/docs.html">documentation</a> avant de contacter
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Pour les questions sur cette documentation, contactez
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>