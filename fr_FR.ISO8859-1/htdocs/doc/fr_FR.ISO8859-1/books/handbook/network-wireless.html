<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>31.3. Réseau sans fil</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Manuel FreeBSD" /><link rel="up" href="advanced-networking.html" title="Chapitre 31. Administration réseau avancée" /><link rel="prev" href="network-routing.html" title="31.2. Passerelles et routes" /><link rel="next" href="network-bluetooth.html" title="31.4. Bluetooth" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">31.3. Réseau sans fil</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="network-routing.html">Précédent</a> </td><th width="60%" align="center">Chapitre 31. Administration réseau avancée</th><td width="20%" align="right"> <a accesskey="n" href="network-bluetooth.html">Suivant</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="network-wireless"></a>31.3. Réseau sans fil</h2></div><div><span class="authorgroup">Ecrit par <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Eric</span> <span class="surname">Anderson</span></span>. </span></div></div></div><a id="idp86458576" class="indexterm"></a><a id="idp86459088" class="indexterm"></a><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp86460240"></a>31.3.1. Introduction</h3></div></div></div><p>Il peut être très utile de pouvoir utiliser
	un micro-ordinateur sans le désagrément
	d'être constamment relié à un câble
	réseau.  FreeBSD peut être utilisé comme
	client sans fil, et même comme &#8220;point
	d'accès&#8221; sans fil.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp86461392"></a>31.3.2. Modes de fonctionnement des systèmes sans
	fils</h3></div></div></div><p>Il existe deux manières différentes de
	configurer les périphériques sans fil 802.11:
	les modes BSS et IBSS.</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp86462416"></a>31.3.2.1. Mode BSS</h4></div></div></div><p>Le mode BSS est le mode généralement
	  utilisé.  Le mode BSS est également
	  appelé mode infrastructure.  Dans ce mode, plusieurs
	  points d'accès sans fils sont connectés
	  à un réseau câblé.  Chaque
	  réseau sans fil possède son propre nom.  Ce
	  nom est ce que l'on appelle le &#8220;SSID&#8221; du
	  réseau.</p><p>Les clients sans fils se connectent à ces points
	  d'accès sans fils.  La norme IEEE 802.11
	  définie le protocole que les réseaux sans fils
	  utilisent pour les connexions.  Un client sans fil peut
	  être attaché à un réseau
	  particulier quand un SSID est fixé.  Un client peut
	  s'attacher à n'importe quel réseau en ne
	  définissant pas explicitement de SSID.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp86464080"></a>31.3.2.2. Mode IBSS</h4></div></div></div><p>Le mode IBSS, également appelé mode
	  &#8220;ad-hoc&#8221;, est conçu pour les connexions
	  point à point.  Il existe en fait deux types de mode
	  ad-hoc.  Le premier est le mode IBSS, également
	  appelé mode ad-hoc ou IEEE ad-hoc.  Ce mode est
	  défini par les normes IEEE 802.11.  Le
	  deuxième mode est appelé ad-hoc démo ou
	  encore mode ad-hoc Lucent (et parfois, ce qui prête
	  à confusion, mode ad-hoc).  C'est l'ancien mode
	  ad-hoc pré-standard 802.11 et ne devrait être
	  utilisé qu'avec d'anciennes installations.  Nous ne
	  parlerons pas des modes ad-hoc dans ce qui suit.</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp86465360"></a>31.3.3. Mode infrastructure</h3></div></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp86466000"></a>31.3.3.1. Points d'accès</h4></div></div></div><p>Un point d'accès est un
	  périphérique sans fil qui permet à un
	  ou plusieurs clients sans fils d'utiliser ce
	  périphérique comme un hub.  Quand ils
	  utilisent un point d'accès, tous les clients
	  communiquent par l'intermédiaire de ce point
	  d'accès.  Plusieurs points d'accès sont
	  souvent utilisés pour couvrir
	  l'intégralité d'une zone géographique
	  comme une maison, une entreprise, ou un parc avec un
	  réseau sans fil.</p><p>Les points d'accès ont généralement
	  plusieurs connexions réseaux: la carte réseaux
	  sans fil, et une ou plusieurs cartes réseaux Ethernet
	  pour les connexions avec le reste du réseau.</p><p>Les points d'accès peuvent être
	  achetés tout fait, ou vous pouvez construire le votre
	  avec FreeBSD et une carte réseau sans fil
	  supportée.  De nombreux constructeurs proposent des
	  points d'accès et des cartes réseaux sans fils
	  avec diverses fonctionnalités.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp86467920"></a>31.3.3.2. Construire un point d'accès avec FreeBSD</h4></div></div></div><a id="idp86468560" class="indexterm"></a><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp86469712"></a>31.3.3.2.1. Pré-requis</h5></div></div></div><p>En vue de mettre en place un point d'accès sans
	    fil sous FreeBSD, vous avez besoin d'une carte réseau
	    sans fil compatible.  Actuellement seule les cartes
	    basées sur le circuit Prism sont supportées.
	    Vous aurez également besoin d'une carte
	    réseau câblée supportée par
	    FreeBSD (cela ne devrait pas être difficile à
	    trouver, FreeBSD supporte de nombreuses cartes).  Dans le
	    cadre de cette section, nous supposerons que le trafic
	    passera par un pont entre la carte sans fil et le
	    réseau relié à la carte réseau
	    classique.</p><p>Le mode point d'accès implémenté
	    par FreeBSD fonctionne mieux avec certaines versions de
	    firmware.  Les cartes utilisant un circuit Prism 2
	    devraient utiliser un firmware 1.3.4 ou plus
	    récent.  Les cartes Prism 2.5 et Prism 3 devraient
	    utiliser la version 1.4.9.  Des versions de firmware plus
	    anciennes pourront ne pas fonctionner correctement.
	    Actuellement, la seule manière de mettre à
	    jour vos cartes est d'utiliser les outils de mise à
	    jour du firmware pour <span class="trademark">Windows</span>® disponibles auprès
	    du constructeur de votre carte.</p></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp86480208"></a>31.3.3.2.2. Configuration</h5></div></div></div><p>Assurez-vous tout d'abord que votre système
	    voit la carte réseau sans fil:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ifconfig -a</code></strong>
wi0: flags=8843&lt;UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST&gt; mtu 1500
	inet6 fe80::202:2dff:fe2d:c938%wi0 prefixlen 64 scopeid 0x7
	inet 0.0.0.0 netmask 0xff000000 broadcast 255.255.255.255
	ether 00:09:2d:2d:c9:50
	media: IEEE 802.11 Wireless Ethernet autoselect (DS/2Mbps)
	status: no carrier
	ssid ""
	stationname "FreeBSD Wireless node"
	channel 10 authmode OPEN powersavemode OFF powersavesleep 100
	wepmode OFF weptxkey 1</pre><p>Ne vous préoccupez pas des détails,
	    verifiez juste que s'affiche quelque chose qui vous
	    indique qu'une carte réseau sans fil est
	    installée.  Si vous avez des problèmes
	    à voir l'interface réseau sans fil
	    correspondante, et que vous utilisez une carte de type PC
	    Card, vous devriez consultez les pages de manuel
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pccardc&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">pccardc</span>(8)</span></a> et <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pccardd&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">pccardd</span>(8)</span></a> pour plus
	    d'information.</p><p>Ensuite, vous devrez charger un module afin de mettre
	    en place la partie de FreeBSD faisant office de pont pour le
	    point d'accès.  Pour charger le module
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=bridge&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">bridge</span>(4)</span></a>, exécutez la commande
	    suivante:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>kldload bridge</code></strong></pre><p>Vous ne devriez pas voir apparaître de message
	    d'erreur lors du chargement du module.  Si ce n'est pas le
	    cas, vous devrez peut-être compiler le support
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=bridge&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">bridge</span>(4)</span></a> dans votre noyau.  La section sur le <a class="link" href="network-bridging.html" title="31.5. Bridging">Bridging</a> de ce manuel
	    devrait pouvoir vous aider dans cette tâche.</p><p>Maintenant que cette partie est assurée, nous
	    devons dire à FreeBSD entre quelles interface le pont
	    doit être installé.  Nous effectuons cette
	    configuration en utilisant <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sysctl&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sysctl</span>(8)</span></a>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>sysctl net.link.ether.bridge.enable=1</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>sysctl net.link.ether.bridge.config="wi0 xl0"</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>sysctl net.inet.ip.forwarding=1</code></strong></pre><p>Sous les versions antérieures à la 5.2,
	    vous devez utiliser à la place les options
	    suivantes:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>sysctl net.link.ether.bridge=1</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>sysctl net.link.ether.bridge_cfg="wi0,xl0"</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>sysctl net.inet.ip.forwarding=1</code></strong></pre><p>Il est maintenant possible de configurer la carte.  La
	    commande suivante positionnera la carte en mode point
	    d'accès:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ifconfig wi0 ssid my_net channel 11 media DS/11Mbps mediaopt hostap up stationname "FreeBSD AP"</code></strong></pre><p>La ligne <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ifconfig&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ifconfig</span>(8)</span></a> active l'interface
	    <code class="filename">wi0</code>, fixe son paramètre
	    SSID à la valeur <em class="replaceable"><code>my_net</code></em>,
	    et fixe le nom de station à <em class="replaceable"><code>FreeBSD
	    AP</code></em>.  L'option <code class="option">media
	    DS/11Mbps</code> positionne la carte dans le mode 11Mbps
	    et est nécessaire pour que le paramètre
	    <code class="option">mediaopt</code> soit pris en compte.  L'option
	    <code class="option">mediaopt hostap</code> place l'interface dans le
	    mode point d'accès.  L'option <code class="option">channel
	    11</code> fixe le canal 802.11b à employer.  La
	    page de manuel <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=wicontrol&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">wicontrol</span>(8)</span></a> donne les options de
	    canaux valides en fonction de votre zone
	    géographique.</p><p>Vous devez maintenant disposer d'un point
	    d'accès opérationnel et en fonctionnement.
	    Vous êtes encouragés à lire les pages
	    de manuel <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=wicontrol&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">wicontrol</span>(8)</span></a>, <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ifconfig&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ifconfig</span>(8)</span></a>, et
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=wi&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">wi</span>(4)</span></a> pour plus d'amples informations.</p><p>Il est également conseillé de lire la
	    section qui suit sur le chiffrage.</p></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp86512208"></a>31.3.3.2.3. Information d'état</h5></div></div></div><p>Une fois que le point d'accès est
	    configuré et opérationnel, les
	    opérateurs voudront voir quels clients sont
	    associés avec le point d'accès.  A n'importe
	    quel instant, l'opérateur pourra taper:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>wicontrol -l</code></strong>
1 station:
00:09:b7:7b:9d:16  asid=04c0, flags=3&lt;ASSOC,AUTH&gt;, caps=1&lt;ESS&gt;, rates=f&lt;1M,2M,5.5M,11M&gt;, sig=38/15</pre><p>Ceci nous montre qu'une station est associée,
	    ainsi que son paramétrage.  Les informations
	    indiquées concernant le signal devraient être
	    utilisées uniquement comme une indication relative
	    sur sa puissance.  Sa conversion en dBm ou tout autre
	    unité varie en fonction des différentes
	    versions de firmware.</p></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp86514896"></a>31.3.3.3. Clients</h4></div></div></div><p>Un client sans fil est un système qui se connecte
	  à un point d'accès ou un autre client
	  directement.</p><p>Typiquement, les clients sans fils disposent d'une seule
	  interface réseau, la carte réseau sans
	  fil.</p><p>Il existe quelques manières différentes de
	  configurer un client sans fil.  Elles sont basées sur
	  les différents modes sans fils,
	  généralement les modes BSS (mode
	  infrastructure, qui nécessite un point
	  d'accès), et IBSS (mode ad-hoc, ou mode point
	  à point).  Dans notre exemple, nous utiliserons le
	  plus populaire des deux, le mode BSS, pour discuter avec un
	  point d'accès.</p><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp86516688"></a>31.3.3.3.1. Pré-requis</h5></div></div></div><p>Il n'y a qu'un seul pré-requis pour configurer
	    FreeBSD comme client sans fil.  Vous aurez besoin d'une carte
	    sans fil supportée par FreeBSD.</p></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp86517840"></a>31.3.3.3.2. Configurer un client sans fil FreeBSD</h5></div></div></div><p>Avant de commencer, vous aurez besoin de
	    connaître certaines choses concernant le
	    réseau sans fil auquel vous désirez vous
	    connecter.  Dans cet exemple, nous rejoignons un
	    réseau ayant pour nom
	    <em class="replaceable"><code>my_net</code></em>, et avec le chiffrage
	    des liaisons désactivé.</p><div xmlns="" class="note"><h3 class="admontitle">Note: </h3><p xmlns="http://www.w3.org/1999/xhtml">Dans cet exemple, nous n'utilisons pas le chiffrage
	      des liaisons, ce qui est une situation dangereuse.  Dans
	      la section suivante, nous verrons comment activer le
	      chiffrage, pourquoi il est important de le faire, et
	      pourquoi certaines technologies de chiffrage ne vous
	      protégerons pas complètement.</p></div><p>Assurez-vous que votre carte est reconnue par
	    FreeBSD:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ifconfig -a</code></strong>
wi0: flags=8843&lt;UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST&gt; mtu 1500
	inet6 fe80::202:2dff:fe2d:c938%wi0 prefixlen 64 scopeid 0x7
	inet 0.0.0.0 netmask 0xff000000 broadcast 255.255.255.255
	ether 00:09:2d:2d:c9:50
	media: IEEE 802.11 Wireless Ethernet autoselect (DS/2Mbps)
	status: no carrier
	ssid ""
	stationname "FreeBSD Wireless node"
	channel 10 authmode OPEN powersavemode OFF powersavesleep 100
	wepmode OFF weptxkey 1</pre><p>Maintenant, nous pouvons configurer la carte suivant
	    les paramètres de notre réseau:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ifconfig wi0 inet 192.168.0.20 netmask 255.255.255.0 ssid my_net</code></strong></pre><p>Remplacez <code class="systemitem">192.168.0.20</code>
	    et <code class="systemitem">255.255.255.0</code> avec une
	    adresse IP ainsi qu'un masque de sous-réseau
	    valides de votre réseau câblé.
	    Rappelez-vous, notre point d'accès joue le
	    rôle de pont entre le réseau sans fil et le
	    réseau câblé, il apparaîtra aux
	    autres cartes sur votre réseau que vous êtes
	    sur le même réseau câblé.</p><p>Une fois cela effectué, vous devriez être
	    en mesure d'utiliser <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ping&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ping</span>(8)</span></a> pour atteindre les
	    machines sur le réseau câblé de la
	    même façon que si vous étiez
	    connecté en utilisant un câble réseau
	    standard.</p><p>Si vous rencontrez des problèmes avec votre
	    connexion sans fil, vérifiez que vous êtes
	    associé&#8212;&#8220;associated&#8221;
	    (connecté) avec le point d'accès:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ifconfig wi0</code></strong></pre><p>devrait retourner un certain nombre d'information; et
	    vous devriez voir s'afficher:</p><pre class="screen">status: associated</pre><p>Si <code class="literal">associated</code> n'est pas
	    affiché, alors il se peut que vous soyez hors de
	    portée du point d'accès, que vous ayez le
	    chiffrage activé, ou peut-être que vous ayez
	    un problème de configuration.</p></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp86532688"></a>31.3.3.4. Chiffrement</h4></div></div></div><a id="idp86533328" class="indexterm"></a><p>L'utilisation du chiffrement sur un réseau sans
	  fil est important parce que vous n'avez plus la
	  possibilité de conserver le réseau dans une
	  zone protégée.  Vos données sans fil
	  seront diffusées dans tout le voisinage, et toute
	  personne désirant y accéder pourra le faire.
	  C'est ici que le chiffrement entre en jeu.  En chiffrant les
	  données qui sont envoyées par les ondes, vous
	  rendez plus difficile l'interception de celles-ci par
	  quiconque d'intéressé.</p><p>Les deux méthodes les plus courantes de chiffrage
	  des données entre un client et un point
	  d'accès sont le protocol WEP et <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ipsec&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">ipsec</span>(4)</span></a>.</p><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp86536016"></a>31.3.3.4.1. WEP</h5></div></div></div><a id="idp86536656" class="indexterm"></a><p>WEP est l'abbrévation de &#8220;Wired
	    Equivalency Protocol&#8220;.  Le protocole de chiffrage
	    WEP est une tentative de rendre les réseaux sans fils
	    aussi sûrs et sécurisés qu'un
	    réseau filaire.  Malheureusement, il a
	    été craqué, et est relativement
	    simple à déjouer.  Cela signifie que l'on ne
	    doit pas lui faire confiance quand il est
	    nécessaire de chiffrer des données
	    sensibles.</p><p>Cela reste mieux que rien du tout, utilisez ce qui
	    suit pour activer WEP sur votre nouveau point
	    d'accès FreeBSD:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ifconfig wi0 inet up ssid my_net wepmode on wepkey 0x1234567890 media DS/11Mbps mediaopt hostap</code></strong></pre><p>Et vous pouvez activer WEP sur un client avec la
	    commande:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ifconfig wi0 inet 192.168.0.20 netmask 255.255.255.0 ssid my_net wepmode on wepkey 0x1234567890</code></strong></pre><p>Notez que vous devriez remplacer
	    <em class="replaceable"><code>0x1234567890</code></em> par une clé
	    plus personnelle.</p></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp86545232"></a>31.3.3.4.2. IPsec</h5></div></div></div><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ipsec&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">ipsec</span>(4)</span></a> est un outil bien plus puissant et
	    robuste pour chiffrer des données sur un
	    réseau.  C'est la méthode à
	    préférer pour chiffrer les données sur un
	    réseau sans fil.  Vous pouvez obtenir plus de
	    détails concernant <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ipsec&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">ipsec</span>(4)</span></a> et comment
	    l'implémenter dans la section <a class="link" href="ipsec.html" title="15.10. IPsec">IPsec</a> de ce manuel.</p></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp86548432"></a>31.3.3.5. Outils</h4></div></div></div><p>Il existe un petit nombre d'outils disponibles pour le
	  débogage et la configuration d'un réseau sans
	  fil, et nous tenterons ici d'en décrire certains
	  ainsi que leurs fonctionnalités.</p><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp86549456"></a>31.3.3.5.1. La suite
	    <span class="application">bsd-airtools</span></h5></div></div></div><p>La suite <span class="application">bsd-airtools</span> est
	    une trousse à outils complète qui comprend
	    des outils d'audit sans fil pour le craquage du
	    système WEP, la détection de points
	    d'accès, etc.</p><p>Les utilitaires
	    <span class="application">bsd-airtools</span> peuvent être
	    installés à partir du logiciel porté
	    <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/net-mgmt/bsd-airtools/pkg-descr">net-mgmt/bsd-airtools</a>.  Des
	    instructions sur l'installation des logiciels
	    portés peuvent être trouvées dans le
	    <a class="xref" href="ports.html" title="Chapitre 5. Installer des applications: les logiciels pré-compilés et les logiciels portés">Chapitre 5, <em>Installer des applications: les logiciels pré-compilés
    et les logiciels portés</em></a> de ce manuel.</p><p>Le programme <code class="command">dstumbler</code> est l'outil
	    qui permet la recherche de points d'accès et la
	    mesure du rapport signal sur bruit.  Si vous avez des
	    difficultés à mettre en place et à
	    faire fonctionner votre point d'accès,
	    <code class="command">dstumbler</code> pourra vous aider dans ce
	    sens.</p><p>Pour tester la sécurité de votre
	    réseau sans fil, vous pouvez choisir d'employer les
	    outils &#8220;dweputils&#8221;
	    (<code class="command">dwepcrack</code>, <code class="command">dwepdump</code>
	    et <code class="command">dwepkeygen</code>) pour vous aider à
	    déterminer si WEP répond à vos
	    besoins en matière de sécurité au
	    niveau de votre réseau sans fil.</p></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp86555600"></a>31.3.3.5.2. Les utilitaires <code class="command">wicontrol</code>,
	    <code class="command">ancontrol</code> et
	    <code class="command">raycontrol</code></h5></div></div></div><p>Il existe des outils que vous pouvez utiliser pour
	    contrôler le comportement de votre carte
	    réseau sans fil sur le réseau sans fil.
	    Dans les exemples précédents, nous avons
	    choisi d'employer <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=wicontrol&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">wicontrol</span>(8)</span></a> puisque notre carte
	    sans fil utilise l'interface <code class="filename">wi0</code>.
	    Si vous avez une carte sans fil Cisco, elle
	    apparaîtrait comme <code class="filename">an0</code>, et
	    vous utiliseriez alors le programme
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ancontrol&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ancontrol</span>(8)</span></a>.</p></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp86560080"></a>31.3.3.5.3. La commande <code class="command">ifconfig</code></h5></div></div></div><a id="idp86560976" class="indexterm"></a><p>La commande <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ifconfig&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ifconfig</span>(8)</span></a> propose plusieurs options
	    identiques à celles de <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=wicontrol&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">wicontrol</span>(8)</span></a>, cependant
	    il manque quelques options.  Consultez la page de manuel
	    d'<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ifconfig&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ifconfig</span>(8)</span></a> pour les différents
	    paramètres et options en ligne de commande.</p></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp86568784"></a>31.3.3.6. Cartes supportées</h4></div></div></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp86569424"></a>31.3.3.6.1. Points d'accès</h5></div></div></div><p>Les seules cartes actuellement supportées pour
	    le mode BSS (points d'accès) sont celles
	    basées sur les circuits Prism 2, 2.5, ou 3.  Pour
	    une liste complète, consultez la page de manuel de
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=wi&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">wi</span>(4)</span></a>.</p></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp86571344"></a>31.3.3.6.2. Clients 802.11b</h5></div></div></div><p>Presque toutes les cartes réseaux sans fil
	    802.11b sont supportées sous FreeBSD.  La plupart des
	    cartes basées sur les circuits Prism, Spectrum24,
	    Hermes, Aironet, et Raylink fonctionneront dans le mode
	    IBSS (ad-hoc, point à point, et BSS).</p></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp86572496"></a>31.3.3.6.3. Clients 802.11a &amp; 802.11g</h5></div></div></div><p>Le pilote de périphérique <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ath&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">ath</span>(4)</span></a>
	    supporte les normes 802.11a et 802.11g.  Si votre carte
	    est basée sur un circuit Atheros, vous devriez
	    être en mesure d'utiliser ce pilote.</p><p>Malheureusement il y a toujours de nombreux fabricants
	    qui ne fournissent pas à la communauté des
	    logiciels libres les informations concernant les pilotes
	    pour leurs cartes considérant de telles
	    informations comme des secrets industriels.  Par
	    conséquent, il ne reste aux développeurs de
	    FreeBSD et d'autres systèmes d'exploitation libres que
	    deux choix: développer les pilotes en passant par
	    un long et pénible processus de <span class="quote">« <span class="quote">reverse
	    engineering</span> »</span> ou utiliser les pilotes binaires
	    existants disponibles pour la plateforme
	    <span class="trademark">Microsoft</span>® <span class="trademark">Windows</span>®.  La plupart des développeurs,
	    y compris ceux impliqués dans FreeBSD, ont choisi
	    cette dernière approche.</p><p>Grâce aux contributions de Bill Paul (wpaul),
	    depuis FreeBSD 5.3-RELEASE, il existe un support
	    <span class="quote">« <span class="quote">natif</span> »</span> pour la spécification
	    d'interface des pilotes de périphérique
	    réseau (Network Driver Interface
	    Specification&#8212;NDIS).  Le NDISulator FreeBSD (connu
	    également sous le nom de Project Evil) prend un
	    pilote binaire réseau <span class="trademark">Windows</span>® et lui fait penser
	    qu'il est en train de tourner sous <span class="trademark">Windows</span>®.  Cette
	    fonctionnalité est relativement nouvelle, mais
	    semble fonctionner correctement dans la plupart des
	    tests.</p><a id="idp86582096" class="indexterm"></a><a id="idp86582608" class="indexterm"></a><a id="idp86583120" class="indexterm"></a><a id="idp86584016" class="indexterm"></a><a id="idp86584528" class="indexterm"></a><a id="idp86585424" class="indexterm"></a><p>Pour utiliser le NDISulator, vous avez besoin de trois
	    choses:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>les sources du noyau;</p></li><li class="listitem"><p>le pilote binaire <span class="trademark">Windows</span>® XP
		(extension <code class="filename">.SYS</code>);</p></li><li class="listitem"><p>le fichier de configuration du pilote <span class="trademark">Windows</span>® XP
		(extension <code class="filename">.INF</code>).</p></li></ol></div><p>Vous aurez besoin de compiler le module d'interface du
	    mini-pilote <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ndis&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">ndis</span>(4)</span></a>.  En tant que
	    <code class="systemitem">root</code>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cd /usr/src/sys/modules/ndis</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>make &amp;&amp; make install</code></strong></pre><p>Recherchez les fichiers spécifiques à
	    votre carte.  Généralement, ils peuvent
	    être trouvés sur les CDs livrés avec
	    la carte ou sur le site du fabricant.  Dans les exemples
	    qui suivent nous utiliseront les fichiers
	    <code class="filename">W32DRIVER.SYS</code> et
	    <code class="filename">W32DRIVER.INF</code>.</p><p>L'étape suivante est de compiler le pilote
	    binaire dans un module chargeable du noyau.  Pour
	    effectuer cela, en tant que <code class="systemitem">root</code>,
	    rendez vous dans le répertoire du module
	    <code class="filename">if_ndis</code> et copiez-y les fichiers du
	    pilote <span class="trademark">Windows</span>®:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cd /usr/src/sys/modules/if_ndis</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>cp /path/to/driver/W32DRIVER.SYS ./</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>cp /path/to/driver/W32DRIVER.INF ./</code></strong></pre><p>Nous utiliserons maintenant l'utilitaire
	    <code class="command">ndiscvt</code> pour générer le
	    fichier d'entête
	    <code class="filename">ndis_driver_data.h</code> du pilote pour la
	    compilation du module:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ndiscvt -i W32DRIVER.INF -s W32DRIVER.SYS -o ndis_driver_data.h</code></strong></pre><p>Les options <code class="option">-i</code> et <code class="option">-s</code>
	    précisent respectivement le fichier de
	    configuration et le fichier binaire.  Nous utilisons
	    l'option <code class="option">-o ndis_driver_data.h</code> car le
	    <code class="filename">Makefile</code> recherchera ce fichier lors
	    de la compilation du module.</p><div xmlns="" class="note"><h3 class="admontitle">Note: </h3><p xmlns="http://www.w3.org/1999/xhtml">Certains pilotes <span class="trademark">Windows</span>® nécessitent des
	      fichiers supplémentaires pour fonctionner.  Vous
	      pouvez les ajouter avec <code class="command">ndiscvt</code> en
	      utilisant l'option <code class="option">-f</code>.  Consultez la page
	      de manuel <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ndiscvt&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ndiscvt</span>(8)</span></a> pour plus d'information.</p></div><p>Nous pouvons enfin compiler et installer le module du
	    pilote:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>make &amp;&amp; make install</code></strong></pre><p>Pour utiliser le pilote, vous devez charger les
	    modules appropriés:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>kldload ndis</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>kldload if_ndis</code></strong></pre><p>La première commande charge le pilote
	    d'interface NDIS, la seconde charge l'interface
	    réseau.  Contrôlez la sortie de <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dmesg&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">dmesg</span>(8)</span></a>
	    à la recherche d'une quelconque erreur au
	    chargement.  Si tout s'est bien passé, vous devriez
	    obtenir une sortie ressemblant à ce qui
	    suit:</p><pre class="screen">ndis0: &lt;Wireless-G PCI Adapter&gt; mem 0xf4100000-0xf4101fff irq 3 at device 8.0 on pci1
      ndis0: NDIS API version: 5.0
      ndis0: Ethernet address: 0a:b1:2c:d3:4e:f5
      ndis0: 11b rates: 1Mbps 2Mbps 5.5Mbps 11Mbps
      ndis0: 11g rates: 6Mbps 9Mbps 12Mbps 18Mbps 36Mbps 48Mbps 54Mbps</pre><p>A partir de là, vous pouvez traiter le
	    périphérique <code class="filename">ndis0</code>
	    comme n'importe quel périphérique sans fil
	    (e.g. <code class="filename">wi0</code>) et consulter les
	    premières sections de ce chapitre.</p></div></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="network-routing.html">Précédent</a> </td><td width="20%" align="center"><a accesskey="u" href="advanced-networking.html">Niveau supérieur</a></td><td width="40%" align="right"> <a accesskey="n" href="network-bluetooth.html">Suivant</a></td></tr><tr><td width="40%" align="left" valign="top">31.2. Passerelles et routes </td><td width="20%" align="center"><a accesskey="h" href="index.html">Sommaire</a></td><td width="40%" align="right" valign="top"> 31.4. Bluetooth</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Ce document, ainsi que d'autres peut être téléchargé sur
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Pour toutes questions à propos de FreeBSD, lisez la
    <a href="http://www.FreeBSD.org/docs.html">documentation</a> avant de contacter
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Pour les questions sur cette documentation, contactez
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>