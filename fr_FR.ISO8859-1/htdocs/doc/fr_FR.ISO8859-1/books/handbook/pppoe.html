<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>27.4. Utiliser PPP sur Ethernet (PPPoE)</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Manuel FreeBSD" /><link rel="up" href="ppp-and-slip.html" title="Chapitre 27. PPP et SLIP" /><link rel="prev" href="ppp.html" title="27.3. Utiliser PPP intégré au noyau" /><link rel="next" href="pppoa.html" title="27.5. Utiliser PPP sur ATM (PPPoA)" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">27.4. Utiliser PPP sur Ethernet (PPPoE)</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ppp.html">Précédent</a> </td><th width="60%" align="center">Chapitre 27. PPP et SLIP</th><td width="20%" align="right"> <a accesskey="n" href="pppoa.html">Suivant</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="pppoe"></a>27.4. Utiliser PPP sur Ethernet (PPPoE)</h2></div><div><span class="authorgroup">Contribution de (d'après
	    http://node.to/freebsd/how-tos/how-to-freebsd-pppoe.html)<span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Jim</span> <span class="surname">Mock</span></span>. </span></div></div></div><a id="idp83504976" class="indexterm"></a><a id="idp83509968" class="indexterm"></a><p>Cette section décrit comment configurer PPP sur Ethernet
      (<acronym class="acronym">PPPoE</acronym>).</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp83511888"></a>27.4.1. Configuration du noyau</h3></div></div></div><p>Il n'est plus du tout nécessaire de configurer le
	noyau pour utiliser PPPoE.  Si le support netgraph
	nécessaire n'est pas compilé dans le noyau, il
	sera chargé dynamiquement par
	<span class="application">ppp</span>.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp83513424"></a>27.4.2. Renseigner <code class="filename">ppp.conf</code></h3></div></div></div><p>Voici un exemple de fichier <code class="filename">ppp.conf</code>
	opérationnel:</p><pre class="programlisting">default:
  set log Phase tun command # vous pouvez détailler plus les traces si vous le désirez
  set ifaddr 10.0.0.1/0 10.0.0.2/0

nom_du_fournisseur_d'accès:
  set device PPPoE:<em class="replaceable"><code>xl1</code></em> # remplacez xl1 par votre périphérique Ethernet
  set authname VOTRENOMDUTILISATEUR
  set authkey VOTREMOTDEPASSE
  set dial
  set login
  add default HISADDR</pre></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp83515984"></a>27.4.3. Exécuter <span class="application">ppp</span></h3></div></div></div><p>En tant que <code class="systemitem">root</code>, vous pouvez
	lancer:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ppp -ddial nom_du_fournisseur_d'accès</code></strong></pre></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp83527120"></a>27.4.4. Lancer <span class="application">ppp</span> au
	démarrage</h3></div></div></div><p>Ajoutez ce qui suit à votre fichier
	<code class="filename">/etc/rc.conf</code>:</p><pre class="programlisting">ppp_enable="YES"
ppp_mode="ddial"
ppp_nat="YES"	# si vous voulez activer NAT pour votre réseau local, sinon NO
ppp_profile="nom_du_fournisseur_d'accès"</pre></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp83529424"></a>27.4.5. Utilisation d'une étiquette de service PPPoE</h3></div></div></div><p>Parfois il sera nécessaire d'utiliser une
	étiquette de service pour établir votre
	connexion.  Les étiquettes de service sont
	employées pour faire la distinction entre
	différents serveurs PPPoE attachés à un
	réseau donné.</p><p>Vous devez avoir l'information concernant
	l'étiquette de service dans la documentation fournie
	par votre fournisseur d'accès.  Si vous ne pouvez la
	trouver, contactez le support technique de votre fournisseur
	d'accès Internet.</p><p>En dernier ressort, vous pourrez essayer la méthode
	suggérée par le programme <a class="link" href="http://www.roaringpenguin.com/pppoe/" target="_top">Roaring Penguin
	PPPoE</a> qui peut-être trouvé dans le <a class="link" href="ports.html" title="Chapitre 5. Installer des applications: les logiciels pré-compilés et les logiciels portés">catalogue des logiciels portés</a>.
	Gardez cependant à l'esprit, que cela peut
	déprogrammer votre modem et le rendre inutilisable,
	aussi réfléchissez à deux fois avant de
	le faire.  Installez simplement le logiciel fourni avec le
	modem par votre fournisseur d'accès.  Ensuite
	accédez au menu <span class="guimenu">Système</span> du
	programme.  Le nom de votre profil devrait y figurer.  C'est
	habituellement le nom du <span class="emphasis"><em>FAI</em></span>.</p><p>Le nom du profil (étiquette de service) sera
	utilisé dans l'entrée de configuration PPPoE
	dans le fichier <code class="filename">ppp.conf</code> dans la partie
	fournisseur d'accès de la commande <code class="command">set
	device</code> (voir la page de manuel <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> pour plus
	de détails).  Cela devrait ressembler à
	ceci:</p><pre class="programlisting">set device PPPoE:<em class="replaceable"><code>xl1</code></em>:<em class="replaceable"><code>FAI</code></em></pre><p>N'oubliez pas de changer <em class="replaceable"><code>xl1</code></em>
	pour le périphérique correct correspondant
	à votre carte Ethernet.</p><p>N'oubliez pas de changer <em class="replaceable"><code>FAI</code></em>
	par le profil que vous avez déterminé
	ci-dessus.</p><p>Pour une information supplémentaire,
	consultez:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="link" href="http://renaud.waldura.com/doc/freebsd/pppoe/" target="_top">Cheaper
	    Broadband with FreeBSD on DSL</a> par Renaud
	    Waldura.</p></li><li class="listitem"><p><a class="link" href="http://www.ruhr.de/home/nathan/FreeBSD/tdsl-freebsd.html" target="_top">
	    Nutzung von T-DSL und T-Online mit FreeBSD</a>
	    par Udo Erdelhoff (en allemand).</p></li></ul></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="ppp-3com"></a>27.4.6. PPPoE avec un modem ADSL <span class="trademark">3Com</span>® <span class="trademark">HomeConnect</span>® Dual Link</h3></div></div></div><p>Ce modem ne respecte pas la <a class="link" href="http://www.faqs.org/rfcs/rfc2516.html" target="_top">RFC 2516</a>
	(<span class="emphasis"><em>A Method for transmitting PPP over Ethernet
	(PPPoE)</em></span>, rédigée par L. Mamakos, K.
	Lidl, J. Evarts, D. Carrel, D. Simone, et R. Wheeler).  Au
	lieu de cela des codes différents pour les types de
	paquets sont utilisés pour les frames Ethernet.
	Veuillez vous plaindre auprès de <a class="link" href="http://www.3com.com/" target="_top">3Com</a> si vous pensez que le
	modem devrait respecter la spécification PPPoE.</p><p>Afin de permettre à FreeBSD de communiquer avec ce
	périphérique, un paramètre sysctl doit
	être configuré.  Cela peut être
	effectué de manière automatique au
	démarrage en renseignant le fichier
	<code class="filename">/etc/sysctl.conf</code>:</p><pre class="programlisting">net.graph.nonstandard_pppoe=1</pre><p>ou peut être paramétré pour prendre
	immédiatement effet avec la commande:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>sysctl net.graph.nonstandard_pppoe=1</code></strong></pre><p>Malheureusement, parce que c'est un paramétrage
	concernant l'intégralité du système, il
	n'est pas possible de communiquer en même temps avec un
	client ou un serveur PPPoE normal et un modem ADSL <span class="trademark">3Com</span>®
	<span class="trademark">HomeConnect</span>®.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ppp.html">Précédent</a> </td><td width="20%" align="center"><a accesskey="u" href="ppp-and-slip.html">Niveau supérieur</a></td><td width="40%" align="right"> <a accesskey="n" href="pppoa.html">Suivant</a></td></tr><tr><td width="40%" align="left" valign="top">27.3. Utiliser PPP intégré au noyau </td><td width="20%" align="center"><a accesskey="h" href="index.html">Sommaire</a></td><td width="40%" align="right" valign="top"> 27.5. Utiliser <span class="application">PPP</span> sur ATM (PPPoA)</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Ce document, ainsi que d'autres peut être téléchargé sur
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Pour toutes questions à propos de FreeBSD, lisez la
    <a href="http://www.FreeBSD.org/docs.html">documentation</a> avant de contacter
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Pour les questions sur cette documentation, contactez
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>