<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>2. Termes et conventions</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Pluggable Authentication Modules" /><link rel="up" href="index.html" title="Pluggable Authentication Modules" /><link rel="prev" href="index.html" title="Pluggable Authentication Modules" /><link rel="next" href="pam-essentials.html" title="3. Les bases de PAM" /><link rel="copyright" href="pam-legalnotice.html" title="Note légale" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">2. Termes et conventions</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="index.html">Précédent</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="pam-essentials.html">Suivant</a></td></tr></table><hr /></div><div class="section"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="pam-terms"></a>2. Termes et conventions</h2></div></div></div><div class="section"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="pam-definitions"></a>2.1. Définitions</h3></div></div></div><p>La  terminologie   de  PAM  est  plutôt   confuse.  Ni  la
		publication originale  de Samar et Lai, ni  la spécification XSSO
		n'ont essayé de définir formellement des termes pour les acteurs
		et  les  entités intervenant  dans  PAM, les termes  qu'ils
		utilisent (mais  ne définissent  pas) sont parfois  trompeurs et
		ambigus.   Le   premier   essai  d'établir   une   terminologie
		consistante  et  non ambiguë  fut  un  papier  écrit par  Andrew
		G. Morgan (l'auteur de Linux-PAM) en 1999. Bien que les choix de
		Morgan furent  un énorme  pas en avant,  ils ne sont  pas parfait
		d'après  l'auteur de  ce  document.  Ce qui  suit,
		largement  inspiré par  Morgan, est un  essai de  définir précisément  et sans
		ambiguïté des termes pour  chaque acteur ou entité utilisé dans
		PAM.</p><div class="glosslist"><dl><dt><span class="glossterm">compte</span></dt><dd class="glossdef"><p>L'ensemble  de  permissions  que  le demandeur  demande  a
	 	l'arbitre.</p></dd><dt><span class="glossterm">demandeur</span></dt><dd class="glossdef"><p>L'utilisateur         ou        l'entité        demandant
	    authentification.</p></dd><dt><span class="glossterm">arbitre</span></dt><dd class="glossdef"><p>L'utilisateur ou l'entité possédant les privilèges nécessaires
	    pour   vérifier  la  requête   du  demandeur   ainsi que  l'autorité
	    d'accorder ou de rejeter la requête.</p></dd><dt><span class="glossterm">chaîne</span></dt><dd class="glossdef"><p>Une séquence de modules qui sera invoquée pour répondre à
	    une requête  PAM. La chaîne comprend  les informations concernant
	    l'ordre dans lequel invoquer  les modules, les arguments à leur
	    passer et la façon d'interpréter les résultats.</p></dd><dt><span class="glossterm">client</span></dt><dd class="glossdef"><p>L'application      responsable     de      la     requête
	    d'authentification   au   nom   du   demandeur   et   de recueillir
	    l'information d'authentification nécessaire.</p></dd><dt><span class="glossterm">mécanisme</span></dt><dd class="glossdef"><p>Il  s'agit  de  l'un  des  quatre  groupes  basiques  de
	    fonctionnalités  fournit par PAM  : authentification,  gestion de
	    compte,   gestion   de   session   et   mise à jour   du   jeton
	    d'authentification.</p></dd><dt><span class="glossterm">module</span></dt><dd class="glossdef"><p>Une collection d'une ou plusieurs fonctions implémentant
	    un  service  d'authentification  particulier,  rassemblées  dans  un
	    fichier binaire (normalement chargeable dynamiquement)
	    et identifié par un nom unique.</p></dd><dt><span class="glossterm">règles</span></dt><dd class="glossdef"><p>Le  jeu  complet  de  configuration  des règles  décrivant
	    comment   traiter   les    requêtes   PAM   pour   un   service
	    particulier. Une règle consiste normalement en quatre chaînes,
	    une   pour  chaque   mécanisme,  bien   que   quelques  services
	    n'utilisent pas les quatre mécanismes.</p></dd><dt><span class="glossterm">serveur</span></dt><dd class="glossdef"><p>L'application agissant au nom de l'arbitre pour converser
	    avec le client,  récupérer les informations d'authentification,
	    vérifier les droits du demandeur et autoriser ou rejeter
	    la requête.</p></dd><dt><span class="glossterm">service</span></dt><dd class="glossdef"><p>Un  ensemble de  serveurs  fournissant des  fonctionnalités
	    similaires  ou   liées  et  nécessitant   une  authentification
	    similaire. Les règles  de PAM sont définies sur  un le principe
	    de par-service;  ainsi tous les serveurs qui  demandent le même
	    nom de service seront soumis aux mêmes règles.</p></dd><dt><span class="glossterm">session</span></dt><dd class="glossdef"><p>Le  contexte  dans  lequel  le  service  est  délivré  au
	    demandeur par le serveur. L'un  des quatre mécanismes de PAM, la
	    gestion  de   session,  s'en occupe   exclusivement  par  la
	    mise en place  et le relâchement  de ce contexte.</p></dd><dt><span class="glossterm">jeton</span></dt><dd class="glossdef"><p>Un morceau d'information associé avec un compte tel qu'un
	    mot de passe  ou une passphrase que le  demandeur doit fournir
	    pour prouver son identité.</p></dd><dt><span class="glossterm">transaction</span></dt><dd class="glossdef"><p>Une séquence de requêtes depuis le même demandeur vers la
	    même    instance    du    même   serveur,    commençant    avec
	    l'authentification  et la  mise en  place de  la session  et se
	    terminant avec le démontage de la session.</p></dd></dl></div></div><div class="section"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="pam-usage-examples"></a>2.2.  Exemples d'utilisation</h3></div></div></div><p>Cette section  a pour but d'illustrer
      quelques-uns des termes  définis précédemment  à l'aide
      d'exemples basiques.</p><div class="section"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp63753040"></a>2.2.1. Client et serveurs ne font qu'un</h4></div></div></div><p>Cet exemple  simple montre <code class="literal">alice</code> utilisant
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=su&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">su</span>(1)</span></a> pour devenir <code class="literal">root</code>.</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>whoami</code></strong>
alice
<code class="prompt">%</code> <strong class="userinput"><code>ls -l `which su`</code></strong>
-r-sr-xr-x  1 root  wheel  10744 Dec  6 19:06 /usr/bin/su
<code class="prompt">%</code> <strong class="userinput"><code>su -</code></strong>
Password: <strong class="userinput"><code>xi3kiune</code></strong>
<code class="prompt">#</code> whoami
root
</pre><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Le demandeur est <code class="literal">alice</code>.</p></li><li class="listitem"><p>Le compte est <code class="literal">root</code>.</p></li><li class="listitem"><p>Le processus  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=su&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">su</span>(1)</span></a> est à la fois client et serveur.</p></li><li class="listitem"><p>Le jeton d'authentification est
	    <code class="literal">xi3kiune</code>.</p></li><li class="listitem"><p>L'arbitre  est <code class="literal">root</code>,  ce  qui explique
		   pourquoi            <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=su&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">su</span>(1)</span></a>           est           setuid
		   <code class="literal">root</code>.</p></li></ul></div></div><div class="section"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp63801936"></a>2.2.2. Client et serveur sont distincts.</h4></div></div></div><p>L'exemple  suivant   montre  <code class="literal">eve</code>  essayant
	d'initier        une       connexion        <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ssh&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ssh</span>(1)</span></a>       vers
	<code class="literal">login.exemple.com</code>, en demandant  à se logguer en
	tant que <code class="literal">bob</code>. La connexion réussit. Bob aurait du choisir
	un meilleur mot de passe !</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>whoami</code></strong>
eve
<code class="prompt">%</code> <strong class="userinput"><code>ssh bob@login.example.com</code></strong>
bob@login.example.com's password: <strong class="userinput"><code>god</code></strong>
Last login: Thu Oct 11 09:52:57 2001 from 192.168.0.1
Copyright (c) 1980, 1983, 1986, 1988, 1990, 1991, 1993, 1994
	The Regents of the University of California.  All rights reserved.
FreeBSD 4.4-STABLE (LOGIN) #4: Tue Nov 27 18:10:34 PST 2001

Welcome to FreeBSD!
<code class="prompt">%</code></pre><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Le demandeur est  <code class="literal">eve</code>.</p></li><li class="listitem"><p>Le client d'<code class="literal">eve</code> est représenté par les processus <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ssh&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ssh</span>(1)</span></a> </p></li><li class="listitem"><p>Le serveur est le processus <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sshd&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sshd</span>(8)</span></a> sur
	      <code class="literal">login.example.com</code></p></li><li class="listitem"><p>Le compte est <code class="literal">bob</code>.</p></li><li class="listitem"><p>Le jeton d'identification est
	    <code class="literal">god</code>.</p></li><li class="listitem"><p>Bien  que  cela ne  soit  pas  montré  dans cet  exemple,
	     l'arbitre est <code class="literal">root</code>.</p></li></ul></div></div><div class="section"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp63844944"></a>2.2.3. Exemple de règles</h4></div></div></div><p>Les  lignes  qui  suivent  sont  les  règles  par  défaut  de
	  <code class="literal">sshd</code>:</p><pre class="programlisting">
sshd	auth		required	pam_nologin.so	no_warn
sshd	auth		required	pam_unix.so	no_warn try_first_pass
sshd	account		required	pam_login_access.so
sshd	account		required	pam_unix.so
sshd	session		required	pam_lastlog.so	no_fail
sshd	password	required	pam_permit.so</pre><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Cette      politique      s'applique      au      service
	  	 <code class="literal">sshd</code> (qui n'est pas nécessairement restreint
	  	 au serveur <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sshd&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sshd</span>(8)</span></a>)</p></li><li class="listitem"><p><code class="literal">auth</code>, <code class="literal">account</code>,
	      <code class="literal">session</code> et
	      <code class="literal">password</code> sont des mécanismes.</p></li><li class="listitem"><p><code class="filename">pam_nologin.so</code>,
	      <code class="filename">pam_unix.so</code>,
	      <code class="filename">pam_login_access.so</code>,
	      <code class="filename">pam_lastlog.so</code>                         et
	      <code class="filename">pam_permit.so</code> sont  des modules.  Il est
	      clair  dans cet exemple  que <code class="filename">pam_unix.so</code>
	      fournit  au  moins  deux  mécanismes (  authentification  et
	      gestion de compte).</p></li></ul></div></div></div><div class="section"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="pam-conventions"></a>2.3. Conventions</h3></div></div></div><p>Cette section n'a pas encore été écrite.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="index.html">Précédent</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="pam-essentials.html">Suivant</a></td></tr><tr><td width="40%" align="left" valign="top">Pluggable Authentication Modules </td><td width="20%" align="center"><a accesskey="h" href="index.html">Sommaire</a></td><td width="40%" align="right" valign="top"> 3. Les bases de PAM</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Ce document, ainsi que d'autres peut être téléchargé sur
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Pour toutes questions à propos de FreeBSD, lisez la
    <a href="http://www.FreeBSD.org/docs.html">documentation</a> avant de contacter
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Pour les questions sur cette documentation, contactez
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>