<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>5. X11 et les polices &#8220;Type 1&#8221;</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD et les polices de caractères" /><link rel="up" href="index.html" title="FreeBSD et les polices de caractères" /><link rel="prev" href="ar01s04.html" title="4. Configurer une console virtuelle en mode 80x60 lignes" /><link rel="next" href="ar01s06.html" title="6. Utiliser les polices &#8220;Type 1&#8221; avec GhostScript" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">5. X11 et les polices &#8220;Type 1&#8221;</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ar01s04.html">Précédent</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="ar01s06.html">Suivant</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="idp63913040"></a>5. X11 et les polices &#8220;Type 1&#8221;</h2></div></div></div><p>X11 peut employer les formats de police de caractères
      <code class="filename">.pfa</code> et <code class="filename">.pfb</code>. Il y a une
      référence croisée de chaque fichier sur son nom X11 par l'intermédiaire du
      fichier <code class="filename">fonts.dir</code> de chaque répertoire.</p><p>Il y a déjà un répertoire appelé <code class="filename">Type1</code>. La façon
      la plus immédiate d'ajouter une police de caractères est de la mettre dans
      ce répertoire. Une meilleure manière de procéder est de mettre toutes les
      nouvelle polices dans un répertoire distinct et d'utiliser un lien
      symbolique sur ces nouvelles polices. Il est alors plus facile de
      distinguer ses propres polices de celles qui sont fournies d'origine. Par
      exemple:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><span class="emphasis"><em>Créer un repertoire pour les fichiers de police de
          caractères.</em></span></p><div class="informalexample"><pre class="screen"><code class="prompt">bash$</code> <strong class="userinput"><code>mkdir -p /usr/local/share/fonts/type1</code></strong>
<code class="prompt">bash$</code> <strong class="userinput"><code>cd /usr/local/share/fonts/type1</code></strong></pre></div></li><li class="listitem"><p><span class="emphasis"><em>Y mettre les fichiers <code class="filename">.pfa</code>,
          <code class="filename">.pfb</code> et <code class="filename">.afm</code>. On peut aussi
          vouloir y conserver les fichiers <code class="filename">README</code> et autres
          documentations concernant les polices de caractères.</em></span></p><div class="informalexample"><pre class="screen"><code class="prompt">bash$</code> <strong class="userinput"><code>cp /cdrom/fonts/atm/showboat/showboat.pfb .</code></strong>
<code class="prompt">bash$</code> <strong class="userinput"><code>cp /cdrom/fonts/atm/showboat/showboat.afm .</code></strong></pre></div></li><li class="listitem"><p><span class="emphasis"><em>Tenir à jour un index pour créer les références croisées
          sur les polices.</em></span></p><div class="informalexample"><pre class="screen"><code class="prompt">bash$</code> <strong class="userinput"><code>echo showboat - InfoMagic CICA, Dec 1994, /fonts/atm/showboat &gt;&gt;INDEX</code></strong></pre></div></li></ul></div><p>Pour pouvoir maintenant utiliser une nouvelle police de caractères, il
      faut mettre le fichier à disposition, et mettre à jour le fichier des
      noms de polices. Les noms de police X11 se présentent comme suit:</p><pre class="programlisting">
-bitstream-charter-medium-r-normal-xxx-0-0-0-0-p-0-iso8859-1
     |        |      |    |   |     |  | | | | | |    \    \
     |        |      |    |   |     \  \ \ \ \ \ \     +----+- jeu de caractères
     |        |      |    |   \      \  \ \ \ \ \ +- largeur moyenne
     |        |      |    |    \      \  \ \ \ \ +- espacement
     |        |      |    \     \      \  \ \ \ +- résolution verticale
     |        |      |     \     \      \  \ \ +- résolution horizontale
     |        |      |      \     \      \  \ +- points
     |        |      |       \  largeur   \  +- pixels
     |        |      |        \            \
   casse   famille graisse inclinaison style supplémentaire
    </pre><p>Il faut créer un nouveau nom pour chaque nouvelle police. Si la
      documentation qui l'accompagne vous donne quelques informations, elle
      peut servir de base pour définir ce nom. Si vous n'avez aucune
      information, vous pouvez utiliser la commande
      <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=strings&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">strings</span>(1)</span></a> sur le fichier de police. Par
      exemple:</p><div class="informalexample"><pre class="screen"><code class="prompt">bash$</code> <strong class="userinput"><code>strings showboat.pfb | more</code></strong></pre></div><pre class="programlisting">
%!FontType1-1.0: Showboat 001.001
%%CreationDate: 1/15/91 5:16:03 PM
%%VMusage: 1024 45747
% Generated by Fontographer 3.1
% Showboat
 1991 by David Rakowski.  Alle Rechte Vorbehalten.
FontDirectory/Showboat known{/Showboat findfont dup/UniqueID known{dup
/UniqueID get 4962377 eq exch/FontType get 1 eq and}{pop false}ifelse
{save true}{false}ifelse}{false}ifelse
12 dict begin
/FontInfo 9 dict dup begin
 /version (001.001) readonly def
 /FullName (Showboat) readonly def
 /FamilyName (Showboat) readonly def
 /Weight (Medium) readonly def
 /ItalicAngle 0 def
 /isFixedPitch false def
 /UnderlinePosition -106 def
 /UnderlineThickness 16 def
 /Notice (Showboat
 1991 by David Rakowski.  Alle Rechte Vorbehalten.) readonly def
end readonly def
/FontName /Showboat def
--stdin--
    </pre><p>A partir de ces informations, le nom pourrait être:</p><pre class="programlisting">
-type1-Showboat-medium-r-normal-decorative-0-0-0-0-p-0-iso8859-1
    </pre><p>Les composantes de ce nom sont:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Casse</span></dt><dd><p>Appelons simplement toutes nos nouvelles polices
            <code class="literal">type1</code>.</p></dd><dt><span class="term">Famille</span></dt><dd><p>Le nom de la police.</p></dd><dt><span class="term">Graisse</span></dt><dd><p>Normal, gras, médium, semi-gras, etc. D'après les résultats
            de <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=strings&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">strings</span>(1)</span></a> ci-dessus, la police a une
            graisse <span class="emphasis"><em>médium</em></span>.</p></dd><dt><span class="term">Inclinaison</span></dt><dd><p><span class="emphasis"><em>r</em></span>oman, <span class="emphasis"><em>i</em></span>talique ou
            <span class="emphasis"><em>o</em></span>blique. Comme
            <span class="emphasis"><em>ItaliqueAngle</em></span> vaut 0, nous utiliserons
            <span class="emphasis"><em>roman</em></span>.</p></dd><dt><span class="term">Largeur</span></dt><dd><p>Normale, large, condensée, étendue, etc. Jusqu'à ce que nous la
            déterminions à l'usage, nous supposerons qu'elle est
            <span class="emphasis"><em>normale</em></span>.</p></dd><dt><span class="term">Style supplémentaire</span></dt><dd><p>Habituellement non renseigné, mais nous nous en servons pour
            indiquer que la police contient des majuscules décoratives.</p></dd><dt><span class="term">Espacement</span></dt><dd><p>Proportionnel ou fixe. Comme <span class="emphasis"><em>isFixedPitch</em></span>
            est faux, nous utilisons <span class="emphasis"><em>Proportionnel</em></span>.</p></dd></dl></div><p> Tous ces noms sont arbitraires, mais il faut essayer de rester
      compatible avec les conventions existantes. Une police est connue d'une
      application X11 sous un nom qui peut éventuellement comporter des
      caractères de substitution, il faut donc choisir un nom significatif. On
      peut commencer en utilisant simplement:</p><pre class="programlisting">
...-normal-r-normal-...-p-...
    </pre><p>comme nom, puis se servir de
      <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=xfontsel&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">xfontsel</span>(1)</span></a> pour visualiser la police et
      affiner son nom en fonction de ce à quoi elle ressemble.</p><p>Donc, pour compléter notre exemple:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><span class="emphasis"><em>Rendre la police accessible à X11</em></span></p><div class="informalexample"><pre class="screen"><code class="prompt">bash$</code> <strong class="userinput"><code>cd /usr/X11R6/lib/X11/fonts/Type1</code></strong>
<code class="prompt">bash$</code> <strong class="userinput"><code>ln -s /usr/local/share/fonts/type1/showboat.pfb .</code></strong></pre></div></li><li class="listitem"><p><span class="emphasis"><em>Editer <code class="filename">fonts.scale</code> et
          <code class="filename">fonts.dir</code> pour y ajouter une ligne décrivant la
          nouvelle police et incrémenter le nombre de polices qui est défini en
          première ligne</em></span></p><div class="informalexample"><pre class="screen"><code class="prompt">bash$</code> <strong class="userinput"><code>ex fonts.dir</code></strong>
<strong class="userinput"><code>:1p</code></strong>
<strong class="userinput"><code>25</code></strong>
<strong class="userinput"><code>:1c</code></strong>
<strong class="userinput"><code>26</code></strong>
<strong class="userinput"><code>.</code></strong>
<strong class="userinput"><code>:$a</code></strong>
<strong class="userinput"><code>showboat.pfb -type1-showboat-medium-r-normal-decorative-0-0-0-0-p-0-iso8859-1</code></strong>
<strong class="userinput"><code>.</code></strong>
<strong class="userinput"><code>:wq</code></strong></pre></div></li><li class="listitem"><p><span class="emphasis"><em><code class="filename">fonts.scale</code> et
          <code class="filename">fonts.dir</code> sont apparemment
          identiques</em></span></p><div class="informalexample"><pre class="screen"><code class="prompt">bash$</code> <strong class="userinput"><code>cp fonts.dir fonts.scale</code></strong></pre></div></li><li class="listitem"><p><span class="emphasis"><em>Informer X11 des modifications</em></span></p><div class="informalexample"><pre class="screen"><code class="prompt">bash$</code> <strong class="userinput"><code>xset fp rehash</code></strong></pre></div></li><li class="listitem"><p><span class="emphasis"><em>Visualiser la nouvelle police</em></span></p><div class="informalexample"><pre class="screen"><code class="prompt">bash$</code> <strong class="userinput"><code>xfontsel -pattern -type1-*</code></strong></pre></div></li></ul></div><p>Références: <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=xfontsel&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">xfontsel</span>(1)</span></a>,
      <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=xset&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">xset</span>(1)</span></a>, <span class="emphasis"><em>The X Window System
      in a Nutshell</em></span>, <a class="link" href="http://www.ora.com" target="_top">O'Reilly &amp;
      Associates</a>.</p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ar01s04.html">Précédent</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="ar01s06.html">Suivant</a></td></tr><tr><td width="40%" align="left" valign="top">4. Configurer une console virtuelle en mode 80x60 lignes </td><td width="20%" align="center"><a accesskey="h" href="index.html">Sommaire</a></td><td width="40%" align="right" valign="top"> 6. Utiliser les polices &#8220;Type 1&#8221; avec GhostScript</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Ce document, ainsi que d'autres peut être téléchargé sur
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Pour toutes questions à propos de FreeBSD, lisez la
    <a href="http://www.FreeBSD.org/docs.html">documentation</a> avant de contacter
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Pour les questions sur cette documentation, contactez
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>