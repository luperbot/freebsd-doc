<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>4.7. Processus</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Manuel FreeBSD" /><link rel="up" href="basics.html" title="Chapitre 4. Quelques bases d'UNIX" /><link rel="prev" href="mount-unmount.html" title="4.6. Monter et démonter des systèmes de fichiers" /><link rel="next" href="basics-daemons.html" title="4.8. Daemons, signaux, et comment tuer un processus" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">4.7. Processus</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="mount-unmount.html">Précédent</a> </td><th width="60%" align="center">Chapitre 4. Quelques bases d'UNIX</th><td width="20%" align="right"> <a accesskey="n" href="basics-daemons.html">Suivant</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="basics-processes"></a>4.7. Processus</h2></div></div></div><p>FreeBSD est un système d'exploitation multi-tâches.
      Cela veut dire qu'il semble qu'il y ait plus d'un programme
      fonctionnant à
      la fois.  Tout programme fonctionnant à un moment donné est
      appelé un <em class="firstterm">processus</em>.  Chaque commande que
      vous utiliserez lancera au moins un nouveau processus, et il y a
      de nombreux processus système qui tournent constamment, maintenant
      ainsi les fonctionnalités du système.</p><p>Chaque processus est identifié de façon unique par
      un nombre appelé <em class="firstterm">process ID</em> (identifiant de
      processus), ou <em class="firstterm">PID</em>, et, comme pour les fichiers,
      chaque processus possède également un propriétaire
      et un groupe.  Les informations sur le propriétaire et le groupe
      sont utilisées pour déterminer quels fichiers et
      périphériques sont accessibles au processus, en utilisant le
      principe de permissions de fichiers abordé plus tôt.
      La plupart
      des processus ont également un processus parent.  Le processus
      parent est le processus qui les a lancés.  Par exemple, si vous
      tapez des commandes sous un interpréteur de commandes, alors
      l'interpréteur de commandes est un processus, et toute commande
      que vous lancez est aussi un processus.  Chaque processus que vous
      lancez de cette manière aura votre interpréteur de
      commandes comme processus parent.
      Une exception à cela est le processus spécial
      appelé <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=init&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">init</span>(8)</span></a>.  <code class="command">init</code> est
      toujours le premier processus, donc son PID est toujours 1.
      <code class="command">init</code> est lancé automatiquement par le noyau au
      démarrage de FreeBSD.</p><p>Deux commandes sont particulièrement utiles pour voir les
      processus sur le système, <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ps&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ps</span>(1)</span></a> et <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=top&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">top</span>(1)</span></a>.  La
      commande <code class="command">ps</code> est utilisée pour afficher une liste statique
      des processus tournant actuellement, et peut donner leur PID, la
      quantité de mémoire qu'ils utilisent, la ligne de
      commande par l'intermédiaire de laquelle ils ont
      été lancés, et ainsi de suite.
      La commande <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=top&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">top</span>(1)</span></a> affiche tous les processus, et actualise
      l'affichage régulièrement, de sorte que vous puissiez voir
      de façon intéractive ce que fait l'ordinateur.</p><p>Par défaut, <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ps&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ps</span>(1)</span></a> n'affiche que les commandes que vous
      faites tourner et dont vous êtes le propriétaire.  Par
      exemple:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>ps</code></strong>
  PID  TT  STAT      TIME COMMAND
  298  p0  Ss     0:01.10 tcsh
 7078  p0  S      2:40.88 xemacs mdoc.xsl (xemacs-21.1.14)
37393  p0  I      0:03.11 xemacs freebsd.dsl (xemacs-21.1.14)
48630  p0  S      2:50.89 /usr/local/lib/netscape-linux/navigator-linux-4.77.bi
48730  p0  IW     0:00.00 (dns helper) (navigator-linux-)
72210  p0  R+     0:00.00 ps
  390  p1  Is     0:01.14 tcsh
 7059  p2  Is+    1:36.18 /usr/local/bin/mutt -y
 6688  p3  IWs    0:00.00 tcsh
10735  p4  IWs    0:00.00 tcsh
20256  p5  IWs    0:00.00 tcsh
  262  v0  IWs    0:00.00 -tcsh (tcsh)
  270  v0  IW+    0:00.00 /bin/sh /usr/X11R6/bin/startx -- -bpp 16
  280  v0  IW+    0:00.00 xinit /home/nik/.xinitrc -- -bpp 16
  284  v0  IW     0:00.00 /bin/sh /home/nik/.xinitrc
  285  v0  S      0:38.45 /usr/X11R6/bin/sawfish</pre><p>Comme vous pouvez le voir dans cet exemple, la sortie de
      <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ps&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ps</span>(1)</span></a> est organisée en un certain nombre de colonnes.
      <code class="literal">PID</code> est l'identifiant de processus discuté plus
      tôt.  Les PIDs sont assignés à partir de 1, et
      vont jusqu'à 99999,
      et puis repassent à 1 quand le maximum est atteint
      (un PID n'est pas réassigné s'il est
      déjà utilisé).
      La colonne <code class="literal">TT</code> donne le terminal sur lequel tourne le
      programme, et peut être pour le moment ignoré sans risque.
      <code class="literal">STAT</code> affiche l'état du programme, peut
      être également ignoré.
      <code class="literal">TIME</code> est la durée d'utilisation du CPU&#8212;ce
      n'est généralement pas le temps écoulé depuis
      que vous avez lancé le programme, comme la plupart des programmes passent
      beaucoup de temps à attendre que certaines choses se produisent
      avant qu'ils n'aient besoin de dépenser du temps CPU.
      Et enfin, <code class="literal">COMMAND</code> est la ligne de commande qui a
      été utilisée lors du lancement du programme.</p><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ps&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ps</span>(1)</span></a> supporte un certain nombre d'options différentes
      pour modifier les informations affichées.  Un des ensembles
      d'options les plus utiles est <code class="literal">auxww</code>.
      <code class="option">a</code> affiche l'information au sujet de tous les
      processus tournant, et pas seulement les vôtres.
      <code class="option">u</code> donne le nom de l'utilisateur du propriétaire
      du processus, ainsi que l'utilisation de la mémoire.
      <code class="option">x</code> affiche des informations sur les processus
      &#8220;daemon&#8221;, et <code class="option">ww</code> oblige <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ps&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ps</span>(1)</span></a> à
      afficher la ligne de commande complète pour chaque processus, plutôt que de la
      tronquer quand elle est trop longue pour tenir à
      l'écran.</p><p>La sortie de <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=top&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">top</span>(1)</span></a> est semblable.  Un extrait de session
      ressemble à ceci:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>top</code></strong>
last pid: 72257;  load averages:  0.13,  0.09,  0.03    up 0+13:38:33  22:39:10
47 processes:  1 running, 46 sleeping
CPU states: 12.6% user,  0.0% nice,  7.8% system,  0.0% interrupt, 79.7% idle
Mem: 36M Active, 5256K Inact, 13M Wired, 6312K Cache, 15M Buf, 408K Free
Swap: 256M Total, 38M Used, 217M Free, 15% Inuse

  PID USERNAME PRI NICE  SIZE    RES STATE    TIME   WCPU    CPU COMMAND
72257 nik       28   0  1960K  1044K RUN      0:00 14.86%  1.42% top
 7078 nik        2   0 15280K 10960K select   2:54  0.88%  0.88% xemacs-21.1.14
  281 nik        2   0 18636K  7112K select   5:36  0.73%  0.73% XF86_SVGA
  296 nik        2   0  3240K  1644K select   0:12  0.05%  0.05% xterm
48630 nik        2   0 29816K  9148K select   3:18  0.00%  0.00% navigator-linu
  175 root       2   0   924K   252K select   1:41  0.00%  0.00% syslogd
 7059 nik        2   0  7260K  4644K poll     1:38  0.00%  0.00% mutt
...</pre><p>La sortie est divisée en deux sections.
      L'entête (les cinq premières lignes) donne le PID du
      dernier processus lancé, la charge système moyenne
      (qui est une mesure de l'occupation du système), la durée
      de fonctionnement du système (le temps écoulé
      depuis le dernier redémarrage), et l'heure actuelle.  Les autres
      éléments de l'entête concernent le nombre de
      processus en fonctionnement (47 dans notre cas), combien d'espace
      mémoire et d'espace de pagination sont occupés, et
      combien de temps le système passe dans les différents
      états du CPU.</p><p>En dessous il y a une série de colonnes contenant des
      informations semblables à celles données par <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ps&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ps</span>(1)</span></a>.
      Comme précédemment vous pouvez lire le PID, le nom
      d'utilisateur, la quantité de temps CPU consommée, et
      la commande qui a été lancée.  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=top&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">top</span>(1)</span></a> vous
      affiche par défaut la quantité d'espace mémoire
      utilisée par chaque processus.  Cela est divisé en deux
      colonnes, une pour la quantité totale, et une autre pour la
      quantité résidente&#8212;la quantité totale
      représente l'espace mémoire dont a eu besoin l'application,
      et la quantité résidente représente
      l'espace qui est en fait utilisé actuellement.  Dans cet exemple
      vous pouvez voir que <span class="application"><span class="trademark">Netscape</span>®</span> a
      exigé presque 30 Mo de RAM, mais
      utilise actuellement seulement 9Mo.</p><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=top&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">top</span>(1)</span></a> actualise l'affichage toutes les deux secondes;
      cela peut être modifié avec l'option
      <code class="option">s</code>.</p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="mount-unmount.html">Précédent</a> </td><td width="20%" align="center"><a accesskey="u" href="basics.html">Niveau supérieur</a></td><td width="40%" align="right"> <a accesskey="n" href="basics-daemons.html">Suivant</a></td></tr><tr><td width="40%" align="left" valign="top">4.6. Monter et démonter des systèmes de fichiers </td><td width="20%" align="center"><a accesskey="h" href="index.html">Sommaire</a></td><td width="40%" align="right" valign="top"> 4.8. Daemons, signaux, et comment tuer un processus</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Ce document, ainsi que d'autres peut être téléchargé sur
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Pour toutes questions à propos de FreeBSD, lisez la
    <a href="http://www.FreeBSD.org/docs.html">documentation</a> avant de contacter
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Pour les questions sur cette documentation, contactez
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>