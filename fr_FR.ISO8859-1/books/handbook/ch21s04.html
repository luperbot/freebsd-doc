<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>21.4. Intégrité des données</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Manuel FreeBSD" /><link rel="up" href="vinum-vinum.html" title="Chapitre 21. Le gestionnaire de volume Vinum" /><link rel="prev" href="ch21s03.html" title="21.3. Les goulots d'étranglement d'accès aux données" /><link rel="next" href="vinum-objects.html" title="21.5. Objets Vinum" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">21.4. Intégrité des données</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch21s03.html">Précédent</a> </td><th width="60%" align="center">Chapitre 21. Le gestionnaire de volume Vinum</th><td width="20%" align="right"> <a accesskey="n" href="vinum-objects.html">Suivant</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="idp81525712"></a>21.4. Intégrité des données</h2></div></div></div><p>Le dernier problème avec les disques actuels est qu'ils ne
	sont pas fiables.  Bien que la fiabilité des disques s'est
	énormément améliorée depuis quelques
	années, ils sont toujours
	le composant principal d'un serveur le plus susceptible de
	tomber en panne.  Et quand cela arrive, les résultats peuvent
	être catastrophiques: remplacer un disque en panne et
	restaurer les données peut prendre plusieurs jours.</p><a id="idp81526736" class="indexterm"></a><a id="idp81527888" class="indexterm"></a><a id="idp81529040" class="indexterm"></a><a id="idp81530192" class="indexterm"></a><p>La méthode originelle d'approche de ce problème
	fut le mode <span class="emphasis"><em>miroir</em></span>, en conservant deux
	copies des données sur un matériel différent.
	Depuis l'avènement de la technologie <acronym class="acronym">RAID</acronym>,
	cette technique est également nommée <acronym class="acronym">RAID niveau
	1</acronym> ou <acronym class="acronym">RAID-1</acronym>.  Toute opération
	d'écriture sur le volume écrit sur les deux
	unités; une lecture peut être acquittée par
	l'une ou l'autre, aussi si l'un des disque tombe en panne, les
	données sont toujours accessibles sur l'autre disque.</p><p>Le mode miroir présente deux problèmes:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Le prix.  Il demande au moins deux fois autant
	      d'espace disque qu'une solution non-redondante.</p></li><li class="listitem"><p>L'impact sur la performance.  Les écritures doivent
	      être effectuées sur les deux disques, elles prennent
	      donc deux fois plus de bande passante que sur un volume
	      sans miroir.  Les lectures de souffrent pas de baisse de
	      performance: elles semblent même plus rapides.</p></li></ul></div><p><a id="idp81535568" class="indexterm"></a>
	Une alternative est l'utilisation de la
	<span class="emphasis"><em>parité</em></span>, implémentée sous
	les niveaux <acronym class="acronym">RAID</acronym> 2, 3, 4 et 5.  De ces niveaux
	<acronym class="acronym">RAID-5</acronym> est le plus intéressant.  Comme
	implémenté dans Vinum, c'est une variante de
	l'organisation segmentée qui dédie un bloc de chaque
	segment à la parité des autres blocs.  Comme
	implémenté dans Vinum, un volume
	<acronym class="acronym">RAID-5</acronym> est identique à un volume
	segmenté, sauf qu'il implémente
	<acronym class="acronym">RAID-5</acronym> en incluant un bloc de parité dans
	chaque unité.  Comme l'exige <acronym class="acronym">RAID-5</acronym>,
	l'emplacement de ce bloc de parité varie d'une unité
	à l'autre.  Le nombre de blocs de données indique le
	nombre relatif de blocs.</p><p>
	</p><div class="figure"><a id="vinum-raid5-org"></a><div class="figure-title">Figure 21.3. Organisation RAID-5</div><div class="figure-contents"><div class="mediaobject"><img src="vinum/vinum-raid5-org.png" alt="Organisation RAID-5" /></div></div></div><p><br class="figure-break" />
      </p><p>Comparé au mode miroir, <acronym class="acronym">RAID-5</acronym> a pour
	avantage de demander un espace de stockage significativement
	plus faible.  L'accès en lecture est semblable à celui de
	l'organisation segmentée, mais l'accès en écriture
	est bien plus lent, approximativement 25% des performances en lecture.
	Si un disque tombe en panne, l'ensemble peut continuer à
	fonctionner dans un mode dégradé: une lecture sur un
	disque restant accessible se poursuit normalement, mais une lecture
	du disque perdu est recalculée à partir du bloc
	correspondant sur l'ensemble des disques restants.</p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch21s03.html">Précédent</a> </td><td width="20%" align="center"><a accesskey="u" href="vinum-vinum.html">Niveau supérieur</a></td><td width="40%" align="right"> <a accesskey="n" href="vinum-objects.html">Suivant</a></td></tr><tr><td width="40%" align="left" valign="top">21.3. Les goulots d'étranglement d'accès aux
      données </td><td width="20%" align="center"><a accesskey="h" href="index.html">Sommaire</a></td><td width="40%" align="right" valign="top"> 21.5. Objets Vinum</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Ce document, ainsi que d'autres peut être téléchargé sur
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Pour toutes questions à propos de FreeBSD, lisez la
    <a href="http://www.FreeBSD.org/docs.html">documentation</a> avant de contacter
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Pour les questions sur cette documentation, contactez
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>