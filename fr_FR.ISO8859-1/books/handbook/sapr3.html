<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>11.7. Installer SAP® R/3®</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Manuel FreeBSD" /><link rel="up" href="linuxemu.html" title="Chapitre 11. Compatibilité binaire avec Linux" /><link rel="prev" href="linuxemu-oracle.html" title="11.6. Installer Oracle®" /><link rel="next" href="linuxemu-advanced.html" title="11.8. Sujets avancés" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">11.7. Installer <span class="trademark">SAP</span>® <span class="trademark">R/3</span>®</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="linuxemu-oracle.html">Précédent</a> </td><th width="60%" align="center">Chapitre 11. Compatibilité binaire avec Linux</th><td width="20%" align="right"> <a accesskey="n" href="linuxemu-advanced.html">Suivant</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="sapr3"></a>11.7. Installer <span class="trademark">SAP</span>® <span class="trademark">R/3</span>®</h2></div><div><span class="authorgroup">Contribution de <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Holger</span> <span class="surname">Kipp</span></span>. </span></div><div><span class="authorgroup">Conversion en SGML par <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Valentino</span> <span class="surname">Vaschetto</span></span>. </span></div></div></div><a id="idp75423056" class="indexterm"></a><p>Les installations de systèmes
      <span class="application"><span class="trademark">SAP</span>®</span> sous FreeBSD ne
      seront pas supportées par l'équipe de support de SAP
      &#8212; ils n'assurent que le support pour des plateformes
      ceritifiées.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="preface"></a>11.7.1. Préface</h3></div></div></div><p>Ce document décrit une façon d'installer un
	système <span class="application"><span class="trademark">SAP</span>® <span class="trademark">R/3</span>®</span>
	avec la base de données <span class="application"><span class="trademark">Oracle</span>®</span>
	pour Linux sur une machine FreeBSD, comprenant l'installation
	de FreeBSD et d'<span class="application"><span class="trademark">Oracle</span>®</span>.  Deux
	configurations différentes seront décrites:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><span class="application"><span class="trademark">SAP</span>® <span class="trademark">R/3</span>® 4.6B (IDES)</span> avec
	  <span class="application"><span class="trademark">Oracle</span>® 8.0.5</span> sous
	  FreeBSD 4.3-STABLE</p></li><li class="listitem"><p><span class="application"><span class="trademark">SAP</span>® <span class="trademark">R/3</span>® 4.6C</span> avec
	  <span class="application"><span class="trademark">Oracle</span>® 8.1.7</span> sous
	  FreeBSD 4.5-STABLE</p></li></ul></div><p>Même si ce document tente de décrire toutes les
	étapes importantes de façon détaillée,
	il n'est pas destiné à remplacer les guides
	d'installation d'<span class="application"><span class="trademark">Oracle</span>®</span> et
	<span class="application"><span class="trademark">SAP</span>® <span class="trademark">R/3</span>®</span>.</p><p>Veuillez consulter la documentation fournie avec
	la version Linux de <span class="application"><span class="trademark">SAP</span>® <span class="trademark">R/3</span>®</span>
	et les questions spécifiques à
	<span class="application"><span class="trademark">Oracle</span>®</span>, ainsi que les
	ressources d'<span class="application"><span class="trademark">Oracle</span>®</span> et de
	<span class="application"><span class="trademark">SAP</span>® OSS</span>.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="software"></a>11.7.2. Logiciels</h3></div></div></div><p>Les CD-ROMs suivants ont été utilisés pour
	les installations de <span class="application"><span class="trademark">SAP</span>®</span>:</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="software-46b"></a>11.7.2.1. <span class="trademark">SAP</span>® <span class="trademark">R/3</span>® 4.6B, <span class="trademark">Oracle</span>® 8.0.5</h4></div></div></div><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /><col /></colgroup><thead><tr><th>Nom</th><th>Numéro</th><th>Description</th></tr></thead><tbody><tr><td>KERNEL</td><td>51009113</td><td>Noyau SAP Oracle /
		Installation / AIX, Linux, Solaris</td></tr><tr><td>RDBMS</td><td>51007558</td><td>Oracle / RDBMS 8.0.5.X /
		Linux</td></tr><tr><td>EXPORT1</td><td>51010208</td><td>IDES / DB-Export /
	Disque 1 sur 6</td></tr><tr><td>EXPORT2</td><td>51010209</td><td>IDES / DB-Export /
		Disque 2 sur 6</td></tr><tr><td>EXPORT3</td><td>51010210</td><td>IDES / DB-Export /
		Disque 3 sur 6</td></tr><tr><td>EXPORT4</td><td>51010211</td><td>IDES / DB-Export /
		Disque 4 sur 6</td></tr><tr><td>EXPORT5</td><td>51010212</td><td>IDES / DB-Export /
		Disque 5 sur 6</td></tr><tr><td>EXPORT6</td><td>51010213</td><td>IDES / DB-Export /
		Disque 6 sur 6</td></tr></tbody></table></div><p>De plus, nous avons utilisé le CD d'<span class="application"><span class="trademark">Oracle</span>® 8
	Serveur</span> (version 8.0.5 de
	pré-production pour Linux, noyau 2.0.33) qui n'est pas
	vraiment nécessaire, et FreeBSD 4.3-STABLE (une version
	plus vieille de quelques jours que la 4.3-RELEASE).</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="software-46c"></a>11.7.2.2. <span class="trademark">SAP</span>® <span class="trademark">R/3</span>® 4.6C SR2, <span class="trademark">Oracle</span>® 8.1.7</h4></div></div></div><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /><col /></colgroup><thead><tr><th>Nom</th><th>Numéro</th><th>Description</th></tr></thead><tbody><tr><td>KERNEL</td><td>51014004</td><td>Noyau SAP Oracle /
		  Noyau SAP Version 4.6D / DEC, Linux</td></tr><tr><td>RDBMS</td><td>51012930</td><td>Oracle 8.1.7/ RDBMS /
		  Linux</td></tr><tr><td>EXPORT1</td><td>51013953</td><td>Version 4.6C SR2 / Export
		  / Disque 1 sur 4</td></tr><tr><td>EXPORT1</td><td>51013953</td><td>Version 4.6C SR2 / Export
		  / Disque 2 sur 4</td></tr><tr><td>EXPORT1</td><td>51013953</td><td>Version 4.6C SR2 / Export
		  / Disque 3 sur 4</td></tr><tr><td>EXPORT1</td><td>51013953</td><td>Version 4.6C SR2 / Export
		  / Disque 4 sur 4</td></tr><tr><td>LANG1</td><td>51013954</td><td>Version 4.6C SR2 /
		  Langue / DE, EN, FR / Disque 1 sur 3</td></tr></tbody></table></div><p>En fonction des langues que vous désirez
	  installer, des CDs propres à ces langues pourront être
	  nécessaires.  Ici nous utilisons juste l'allemand (DE) et
	  l'anglais (EN), donc seul le premier CD propre aux langues
	  sera nécessaire.  Notez que le numéro des quatre
	  CDs EXPORT est identique (c'est différent du
	  numérotage des CDs 4.6B IDES).  Au moment
	  de l'écriture de ces lignes, cette installation utilise
	  FreeBSD 4.5-STABLE (du 20 mars 2002).</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="sap-notes"></a>11.7.3. Notes concernant <span class="trademark">SAP</span>®</h3></div></div></div><p>Les notes suivantes devraient être lues
	avant d'installer <span class="application"><span class="trademark">SAP</span>® <span class="trademark">R/3</span>®</span>
	et ont prouvé leur utilité durant
	l'installation:</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="sap-notes-46b"></a>11.7.3.1. <span class="trademark">SAP</span>® <span class="trademark">R/3</span>® 4.6B, <span class="trademark">Oracle</span>® 8.0.5</h4></div></div></div><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Numéro</th><th>Titre</th></tr></thead><tbody><tr><td>0171356</td><td>SAP sous Linux:
		  Remarques importantes</td></tr><tr><td>0201147</td><td>INST: 4.6C R/3 Inst. sur
		  UNIX - Oracle</td></tr><tr><td>0373203</td><td>Mise à jour / Migration
		  Oracle 8.0.5 --&gt;
		  8.0.6/8.1.6 LINUX</td></tr><tr><td>0072984</td><td>Digital UNIX 4.0B pour
		  Oracle</td></tr><tr><td>0130581</td><td>Fin de l'étape
		  DIPGNTAB de R3SETUP</td></tr><tr><td>0144978</td><td>Votre système n'a pas
		  été installé correctement</td></tr><tr><td>0162266</td><td>Questions et conseils pour
		  R3SETUP sous Windows NT / W2K</td></tr></tbody></table></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="sap-notes-46c"></a>11.7.3.2. <span class="trademark">SAP</span>® <span class="trademark">R/3</span>® 4.6C, <span class="trademark">Oracle</span>® 8.1.7</h4></div></div></div><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Numéro</th><th>Titre</th></tr></thead><tbody><tr><td>0015023</td><td>Initialisation de la
		  table TCPDB (RSXP0004) (EBCDIC)</td></tr><tr><td>0045619</td><td>R/3 avec plusieurs langues
		  ou
		  languages or
		  typefaces</td></tr><tr><td>0171356</td><td>SAP sous Linux: Remarques
		  importantes</td></tr><tr><td>0195603</td><td>RedHat 6.1 version
		  entreprise: problèmes connus</td></tr><tr><td>0212876</td><td>Le nouvel outil d'archivage
		  SAPCAR</td></tr><tr><td>0300900</td><td>Linux: matériel DELL</td></tr><tr><td>0377187</td><td>RedHat 6.2: remarques
		  importantes</td></tr><tr><td>0387074</td><td>INST: R/3 4.6C SR2
		  Installation sous UNIX</td></tr><tr><td>0387077</td><td>INST: R/3 4.6C SR2 Inst. sous
		  UNIX - Oracle</td></tr><tr><td>0387078</td><td>SAP sous UNIX: Dépendances
		  4.6C SR2</td></tr></tbody></table></div></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="hardware-requirements"></a>11.7.4. Matériel nécessaire</h3></div></div></div><p>L'équipement suivant est suffisant
	pour l'installation d'un système
	<span class="application"><span class="trademark">SAP</span>® <span class="trademark">R/3</span>®</span>.  Bien sûr
	pour une utilisation en production, un choix
	plus pointu du matériel est nécessaire:</p><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /><col /></colgroup><thead><tr><th>Composant</th><th>4.6B</th><th>4.6C</th></tr></thead><tbody><tr><td>Processeur</td><td>2 x 800MHz <span class="trademark">Pentium</span>® III</td><td>2 x 800MHz <span class="trademark">Pentium</span>® III</td></tr><tr><td>Mémoire</td><td>1Go ECC</td><td>2Go ECC</td></tr><tr><td>Espace disque</td><td>50-60Go (IDES)</td><td>50-60Go (IDES)</td></tr></tbody></table></div><p>Pour une utilisation en production, des processeurs <span class="trademark">Xeon</span>&#8482;
	avec un cache important, un accès disque rapide (SCSI,
	contrôleur RAID matériel) et de la mémoire
	ECC.  L'espace disque nécessaire est important en
	raison du système IDES pré-configuré, qui
	créé une base de données de 27 Go
	durant l'installation.  Cet espace est également
	suffisant pour démarrer des systèmes
	destinés à la production.</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="hardware-46b"></a>11.7.4.1. <span class="trademark">SAP</span>® <span class="trademark">R/3</span>® 4.6B, <span class="trademark">Oracle</span>® 8.0.5</h4></div></div></div><p>Le matériel suivant fut utilisé: une carte
	mère bi-processeurs avec 2 processeurs <span class="trademark">Pentium</span>® III
	800 MHz, une carte SCSI <span class="trademark">Adaptec</span>® 29160 Ultra160
	(pour utiliser un lecteur de bande 40/80 Go DLT et un
	lecteur de CDROM), une carte <span class="trademark">Mylex</span>® <span class="trademark">AcceleRAID</span>&#8482; (2 canaux,
	firmware 6.00-1-00 avec 32 Mo de RAM).  Au contrôleur
	RAID <span class="trademark">Mylex</span>® sont reliés deux disques durs de 17 Go
	(miroirs) et quatre disques de 36 Go (RAID niveau
	5).</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="hardware-46c"></a>11.7.4.2. <span class="trademark">SAP</span>® <span class="trademark">R/3</span>® 4.6C, <span class="trademark">Oracle</span>® 8.1.7</h4></div></div></div><p>Pour cette installation un <span class="trademark">Dell</span>&#8482; <span class="trademark">PowerEdge</span>&#8482; 2500 a
	été utilisé: une carte mère
	bi-processeurs avec deux processeurs <span class="trademark">Pentium</span>® III
	1000 MHz (256 Ko de cache), 2 Go PC133 ECC
	SDRAM, un contrôleur PERC/3 DC PCI RAID avec
	128 Mo, et un lecteur DVD-ROM EIDE.  Au contrôleur
	RAID sont reliés deux disques durs 18 Go (miroirs)
	et quatre disques de 36 Go (RAID niveau 5).</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="installation"></a>11.7.5. Installation de FreeBSD</h3></div></div></div><p>Tout d'abord vous devez installer FreeBSD.  Il existe de
	nombreuses manière d'installer FreeBSD, pour plus d'informations
	consultez la <a class="xref" href="install-diff-media.html" title="2.13. Préparer votre propre support d'installation">Section 2.13, « Préparer votre propre support d'installation »</a>.</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="disk-layout"></a>11.7.5.1. Organisation des disques</h4></div></div></div><p>Pour rester simple, la même organisation des
	  disques a été utilisée pour les
	  installations de <span class="application"><span class="trademark">SAP</span>® <span class="trademark">R/3</span>® 46B</span> et
	  <span class="application"><span class="trademark">SAP</span>® <span class="trademark">R/3</span>® 46C SR2</span>.  Seuls les noms
	  de périphériques ont changé, comme les
	  installations ont été effectuées sur du
	  matériel différent
	  (<code class="filename">/dev/da</code> et
	  <code class="filename">/dev/amr</code> respectivement, aussi si
	  l'on utilise un contrôleur AMI MegaRAID, on verra
	  <code class="filename">/dev/amr0s1a</code> à la place de
	  <code class="filename">/dev/da0s1a</code>):</p><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /><col /><col /></colgroup><thead><tr><th>Système de fichiers</th><th>Taille (blocs de 1k)</th><th>Taille (Go)</th><th>Monté sous</th></tr></thead><tbody><tr><td><code class="filename">/dev/da0s1a</code></td><td>1.016.303</td><td>1</td><td><code class="filename">/</code></td></tr><tr><td><code class="filename">/dev/da0s1b</code></td><td> </td><td>6</td><td>swap</td></tr><tr><td><code class="filename">/dev/da0s1e</code></td><td>2.032.623</td><td>2</td><td><code class="filename">/var</code></td></tr><tr><td><code class="filename">/dev/da0s1f</code></td><td>8.205.339</td><td>8</td><td><code class="filename">/usr</code></td></tr><tr><td><code class="filename">/dev/da1s1e</code></td><td>45.734.361</td><td>45</td><td><code class="filename">/compat/linux/oracle</code></td></tr><tr><td><code class="filename">/dev/da1s1f</code></td><td>2.032.623</td><td>2</td><td><code class="filename">/compat/linux/sapmnt</code></td></tr><tr><td><code class="filename">/dev/da1s1g</code></td><td>2.032.623</td><td>2</td><td><code class="filename">/compat/linux/usr/sap</code></td></tr></tbody></table></div><p>Configurez et initialisez les deux disques logiques
	  à l'avance avec les logiciels <span class="trademark">Mylex</span>® ou PERC/3 RAID.
	  Ces logiciels peuvent être lancés lors
	  de la phase de démarrage du
	  <acronym class="acronym">BIOS</acronym>.</p><p>Notez que l'organisation du disque diffère
	  légèrement des recommandations de SAP, comme
	  SAP suggère de monter séparément
	  les sous-répertoires d'<span class="application"><span class="trademark">Oracle</span>®</span>
	  (et d'autres) &#8212; nous avons décidé de
	  simplement créer de véritables sous-répertoires
	  directement.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="makeworldandnewkernel"></a>11.7.5.2. Utiliser <code class="command">make world</code> et compiler
	  un nouveau noyau</h4></div></div></div><p>Téléchargez les sources -STABLE les plus
	  récentes.  Recompilez l'intégralité du
	  système et votre noyau personnalisé
	  après avoir configuré votre fichier de
	  configuration du noyau.  Là, vous devriez
	  également ajouter les <a class="link" href="sapr3.html#kerneltuning" title="11.7.7.6. Optimisation du noyau">paramètres du noyau</a>
	  requis par <span class="application"><span class="trademark">SAP</span>® <span class="trademark">R/3</span>®</span> et
	  <span class="application"><span class="trademark">Oracle</span>®</span>.</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="installingthelinuxenviornment"></a>11.7.6. Installer l'environnement Linux</h3></div></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="installinglinuxbase-system"></a>11.7.6.1. Installer le système de base Linux</h4></div></div></div><p>Tout d'abord le logiciel porté
	  <a class="link" href="linuxemu-lbc-install.html#linuxemu-libs-port" title="11.2.1.1. Installation à l'aide du logiciel porté linux_base">linux_base</a> doit
	  être installé (en tant que super-utilisateur):</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cd /usr/ports/emulators/linux_base</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>make install distclean</code></strong></pre></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="installinglinuxdevelopment"></a>11.7.6.2. Installer l'environnement de développement
	  Linux</h4></div></div></div><p>L'environnement de développement Linux est
	  nécessaire, si vous désirez installer
	  <span class="application"><span class="trademark">Oracle</span>®</span> sous FreeBSD comme cela est
	  décrit dans la <a class="xref" href="linuxemu-oracle.html" title="11.6. Installer Oracle®">Section 11.6, « Installer <span class="trademark">Oracle</span>® »</a>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cd /usr/ports/devel/linux_devtools</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>make install distclean</code></strong></pre><p>L'environnement de développement Linux a
	  été installé en vue de l'installation
	  de <span class="application"><span class="trademark">SAP</span>® <span class="trademark">R/3</span>® 46B IDES</span>.  Ce n'est
	  pas nécessaire si <span class="application"><span class="trademark">Oracle</span>®
	  DB</span> n'est pas liée sur un système
	  FreeBSD.  C'est le cas si vous utilisez l'archive
	  <span class="application">tar</span>
	  <span class="application"><span class="trademark">Oracle</span>®</span> en provenance d'un
	  système Linux.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="installingnecessaryrpms"></a>11.7.6.3. Installer les RPMs nécessaires</h4></div></div></div><a id="idp75651152" class="indexterm"></a><p>Pour lancer le programme
	  <code class="command">R3SETUP</code>, le support PAM est
	  nécessaire.  Lors de la première installation de
	  <span class="application"><span class="trademark">SAP</span>®</span> sous FreeBSD 4.3-STABLE,
	  nous avons tenté d'installer PAM avec tous les
	  &#8220;packages&#8221; nécessaires, et nous avons
	  finalement forcé l'installation du &#8220;package&#8221;
	  PAM, ce qui a fonctionné.  Pour
	  <span class="application"><span class="trademark">SAP</span>® <span class="trademark">R/3</span>® 4.6C SR2</span>, nous avons
	  directement forcé l'installation du
	  RPM PAM, ce qui fonctionne également, il semble donc
	  que les RPMs de dépendance ne sont pas
	  nécessaires:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>rpm -i --ignoreos --nodeps --root /compat/linux --dbpath /var/lib/rpm \
pam-0.68-7.i386.rpm</code></strong></pre><p>Pour utiliser l'agent intelligent
	  d'<span class="application"><span class="trademark">Oracle</span>® 8.0.5</span>, nous devons
	  également installer la version RedHat de Tcl
	  <code class="filename">tcl-8.0.5-30.i386.rpm</code> (sinon l'édition
	  de liens durant l'installation
	  d'<span class="application"><span class="trademark">Oracle</span>®</span> ne fonctionnera pas).
	  Il existe d'autres problèmes à ce niveau, mais ils
	  concernent directement la version Linux
	  d'<span class="application"><span class="trademark">Oracle</span>®</span>, et ne sont donc pas
	  spécifiquent à FreeBSD.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="linuxprocandfallbackelfbrand"></a>11.7.6.4. Quelques conseils supplémentaires</h4></div></div></div><p>Cela peut être une bonne idée d'ajouter
	  <code class="literal">linprocfs</code> au fichier
	  <code class="filename">/etc/fstab</code>, pour plus d'informations
	  consultez la page de manuel <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=linprocfs&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">linprocfs</span>(5)</span></a>.  Un autre
	  paramètre à positionner est
	  <code class="literal">kern.fallback_elf_brand=3</code>, ce qui
	  doit être fait dans le fichier
	  <code class="filename">/etc/sysctl.conf</code>.</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="creatingsapr3env"></a>11.7.7. Créer l'environnement SAP/R3</h3></div></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="filesystemsandmountpoints"></a>11.7.7.1. Créer les systèmes de fichiers et points de
	  montage nécessaires</h4></div></div></div><p>Pour une simple installation, il est suffisant de
	  créer les systèmes de fichiers suivants:</p><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>point de montage</th><th>taille en Go</th></tr></thead><tbody><tr><td><code class="filename">/compat/linux/oracle</code></td><td>45 Go</td></tr><tr><td><code class="filename">/compat/linux/sapmnt</code></td><td>2 Go</td></tr><tr><td><code class="filename">/compat/linux/usr/sap</code></td><td>2 Go</td></tr></tbody></table></div><p>Il est également nécessaire de créer
	  certains liens.  Sinon l'intalleur
	  <span class="application"><span class="trademark">SAP</span>®</span> se plaindra, lors du
	  contrôle des liens créés:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ln -s /compat/linux/oracle /oracle</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>ln -s /compat/linux/sapmnt /sapmnt</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>ln -s /compat/linux/usr/sap /usr/sap</code></strong></pre><p>Un message d'erreur possible durant l'installation
	  (ici avec un système <span class="emphasis"><em>PRD</em></span>
	  l'installation de
	  <span class="application"><span class="trademark">SAP</span>® <span class="trademark">R/3</span>® 4.6C SR2</span>):</p><pre class="screen">INFO 2002-03-19 16:45:36 R3LINKS_IND_IND SyLinkCreate:200
    Checking existence of symbolic link /usr/sap/PRD/SYS/exe/dbg to
    /sapmnt/PRD/exe. Creating if it does not exist...

WARNING 2002-03-19 16:45:36 R3LINKS_IND_IND SyLinkCreate:400
    Link /usr/sap/PRD/SYS/exe/dbg exists but it points to file
    /compat/linux/sapmnt/PRD/exe instead of /sapmnt/PRD/exe. The
    program cannot go on as long as this link exists at this
    location. Move the link to another location.

ERROR 2002-03-19 16:45:36 R3LINKS_IND_IND Ins_SetupLinks:0
    can not setup link '/usr/sap/PRD/SYS/exe/dbg' with content
    '/sapmnt/PRD/exe'</pre></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="creatingusersanddirectories"></a>11.7.7.2. Création des utilisateurs et des
	  répertoires</h4></div></div></div><p><span class="application"><span class="trademark">SAP</span>® <span class="trademark">R/3</span>®</span> a besoin de deux
	  utilisateurs et de trois groupes.  Les noms d'utilisateurs
	  dépendent du système d'ID de
	  <span class="application"><span class="trademark">SAP</span>®</span> (SID) qui est composé
	  de trois lettres.  Certains de ces SIDs sont
	  réservés par <span class="application"><span class="trademark">SAP</span>®</span>
	  (par exemple <code class="literal">SAP</code> et
	  <code class="literal">NIX</code>.  Pour une liste complète
	  consultez la documentation de
	  <span class="application"><span class="trademark">SAP</span>®</span>).  Pour l'installation IDES,
	  nous avons utilisé <code class="literal">IDS</code>, pour
	  l'installation 4.6C SR2 <code class="literal">PRD</code>, comme ce
	  système était destiné à la
	  production.  Nous avons cependant les groupes suivants (les
	  identifiants de groupe peuvent être différents,
	  ce sont seulement les valeurs que nous avons utilisés
	  dans notre installation):</p><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /><col /></colgroup><thead><tr><th>groupe ID</th><th>nom du groupe</th><th>description</th></tr></thead><tbody><tr><td>100</td><td>dba</td><td>Administrateur de la base de données</td></tr><tr><td>101</td><td>sapsys</td><td>Système <span class="trademark">SAP</span>®</td></tr><tr><td>102</td><td>oper</td><td>Opérateur de la base de données</td></tr></tbody></table></div><p>Pour une installation
	  d'<span class="application"><span class="trademark">Oracle</span>®</span> par défaut, seul le
	  groupe <code class="systemitem">dba</code> est utilisé.
	  Tout comme le groupe <code class="systemitem">oper</code>, certains
	  utilisent également le groupe <code class="systemitem">dba</code>
	  (Voir les documentations d'<span class="application"><span class="trademark">Oracle</span>®</span>
	  et de <span class="application"><span class="trademark">SAP</span>®</span> pour plus
	  d'information).</p><p>Nous avons également besoin des utilisateurs
	  suivants:</p><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /><col /><col /><col /><col /></colgroup><thead><tr><th>ID utilisateur</th><th>nom d'utilisateur</th><th>nom générique</th><th>groupe</th><th>groupes supplémentaires</th><th>description</th></tr></thead><tbody><tr><td>1000</td><td>idsadm/prdadm</td><td><em class="replaceable"><code>sid</code></em>adm</td><td>sapsys</td><td>oper</td><td>Administrateur <span class="trademark">SAP</span>®</td></tr><tr><td>1002</td><td>oraids/oraprd</td><td>ora<em class="replaceable"><code>sid</code></em></td><td>dba</td><td>oper</td><td>Administrateur de la base de données <span class="trademark">Oracle</span>®</td></tr></tbody></table></div><p>L'ajout des utilisateurs avec la commande
	  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=adduser&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">adduser</span>(8)</span></a> nécessite les entrées
	  suivantes (notez l'interpréteur de commandes et le
	  répertoire utilisateur) pour l'&#8220;Administrateur
	  <span class="trademark">SAP</span>®&#8221;:</p><pre class="programlisting">Name: <em class="replaceable"><code>sid</code></em>adm
Password: ******
Fullname: SAP Administrator <em class="replaceable"><code>SID</code></em>
Uid: 1000
Gid: 101 (sapsys)
Class:
Groups: sapsys dba
HOME: /home/<em class="replaceable"><code>sid</code></em>adm
Shell: bash  (/compat/linux/bin/bash)</pre><p>et pour l'&#8220;Administrateur de la base de
	  données <span class="trademark">Oracle</span>®&#8221;:</p><pre class="programlisting">Name: ora<em class="replaceable"><code>sid</code></em>
Password: ******
Fullname: Oracle Administrator <em class="replaceable"><code>SID</code></em>
Uid: 1002
Gid: 100 (dba)
Class:
Groups: dba
HOME: /oracle/<em class="replaceable"><code>sid</code></em>
Shell: bash  (/compat/linux/bin/bash)</pre><p>Ceci devrait également inclure le groupe
	  <code class="systemitem">oper</code> au cas où vous utiliseriez
	  les deux groupes <code class="systemitem">dba</code> et
	  <code class="systemitem">oper</code>.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="creatingdirectories"></a>11.7.7.3. Création des répertoires</h4></div></div></div><p>Ces répertoires sont généralement
	  créés sous forme de systèmes de
	  fichiers séparés.  Cela dépend
	  entièrement de vous besoins.  Nous avons choisi de
	  créer de simple répertoires, comme ils sont
	  placés sur le même système RAID
	  5:</p><p>Nous positionnerons tout d'abord les propriétaires
	  et les droits de certains répertoires (en tant que
	  <code class="systemitem">root</code>):</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>chmod 775 /oracle</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>chmod 777 /sapmnt</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>chown root:dba /oracle</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>chown sidadm:sapsys /compat/linux/usr/sap</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>chmod 775 /compat/linux/usr/sap</code></strong></pre><p>Ensuite nous crérons les répertoires en tant
	  qu'utilisateur
	  <code class="systemitem">ora<em class="replaceable"><code>sid</code></em></code>.  Ce
	  seront tous les répertoires du type
	  <code class="filename">/oracle/SID</code>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>su - orasid</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>cd /oracle/SID</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>mkdir mirrlogA mirrlogB origlogA origlogB</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>mkdir sapdata1 sapdata2 sapdata3 sapdata4 sapdata5 sapdata6</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>mkdir saparch sapreorg</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>exit</code></strong></pre><p>Pour l'installation d'<span class="application"><span class="trademark">Oracle</span>® 8.1.7</span>
	  des répertoires supplémentaires sont
	  nécessaires:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>su - orasid</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>cd /oracle</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>mkdir 805_32</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>mkdir client stage</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>mkdir client/80x_32</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>mkdir stage/817_32</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>cd /oracle/SID</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>mkdir 817_32</code></strong></pre><div xmlns="" class="note"><h3 class="admontitle">Note: </h3><p xmlns="http://www.w3.org/1999/xhtml">Le répertoire <code class="filename">client/80x_32</code> est
	  créé tel quel.  Ne remplacez pas le
	  <span class="emphasis"><em>x</em></span> par quelque chose
	  d'autre.</p></div><p>La dernière étape consiste à
	  créer les répertoires en tant qu'utilisateur
	  <code class="systemitem"><em class="replaceable"><code>sid</code></em>adm</code>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>su - sidadm</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>cd /usr/sap</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>mkdir SID</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>mkdir trans</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>exit</code></strong></pre></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="entriesinslashetcslashservices"></a>11.7.7.4. Entrées dans <code class="filename">/etc/services</code></h4></div></div></div><p><span class="application"><span class="trademark">SAP</span>® <span class="trademark">R/3</span>®</span> a besoin de certaines
	  entrées dans le fichier
	  <code class="filename">/etc/services</code>, qui ne seront pas
	  créées durant son installation sous FreeBSD.
	  Veuillez ajouter les entrées suivantes (vous avez
	  besoin au moins des entrées correspondant au
	  numéro d'instance &#8212; dans notre cas,
	  <code class="literal">00</code>.  Cela ne posera pas de
	  problème d'ajouter toutes les entrées de
	  <code class="literal">00</code> à <code class="literal">99</code> pour
	  <code class="literal">dp</code>, <code class="literal">gw</code>,
	  <code class="literal">sp</code> et <code class="literal">ms</code>).  Si vous
	  allez utiliser <span class="application">SAProuter</span> ou vous
	  devez accéder au <span class="application"><span class="trademark">SAP</span>®</span> OSS,
	  vous avez également besoin de l'entrée
	  <code class="literal">99</code>, comme le port 3299 est
	  généralement utilisé par le processus
	  <span class="application">SAProuter</span> sur le système
	  cible:</p><pre class="programlisting">
sapdp00    3200/tcp # SAP Dispatcher.      3200 + Instance-Number
sapgw00  3300/tcp # SAP Gateway.         3300 + Instance-Number
sapsp00  3400/tcp #                      3400 + Instance-Number
sapms00  3500/tcp #                      3500 + Instance-Number
sapms<em class="replaceable"><code>SID</code></em> 3600/tcp # SAP Message Server.  3600 + Instance-Number
sapgw00s   4800/tcp # SAP Secure Gateway   4800 + Instance-Number</pre></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="necessarylocales"></a>11.7.7.5. &#8220;Locales&#8221; nécessaires</h4></div></div></div><a id="idp75788240" class="indexterm"></a><p><span class="application"><span class="trademark">SAP</span>®</span> nécessite au moins
	  deux &#8220;locales&#8221; qui ne font pas partie de
	  l'installation RedHat par défaut.  SAP propose les
	  RPMs nécessaires en téléchargement
	  à partir de leur serveur FTP (qui est uniquement
	  accessible si vous êtes un client avec un accès
	  OSS).  Consultez la note 0171356 pour la liste des RPMs dont
	  vous avez besoin.</p><p>Il est également possible de créer just
	  les appropriés (par exemple à partir de
	  <span class="emphasis"><em>de_DE</em></span> et <span class="emphasis"><em>en_US</em></span>),
	  mais nous ne recommandons pas cela pour un système
	  destiné à la production (bien que cela a
	  fonctionné sans problème avec le
	  système IDES).  Les &#8220;locales&#8221; suivantes
	  sont nécessaires:</p><pre class="programlisting">de_DE.ISO-8859-1
en_US.ISO-8859-1</pre><p>Créez les liens comme suit:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cd /compat/linux/usr/share/locale</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>ln -s de_DE de_DE.ISO-8859-1</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>ln -s en_US en_US.ISO-8859-1</code></strong></pre><p>S'ils n'existent pas, des problèmes apparaîtrons
	  lors de l'installation.  Si ces problèmes sont
	  intentionnellement ignorés (en fixant la valeur
	  de la variable <code class="literal">STATUS</code>
	  des étapes pour lesquelles les problèmes sont
	  apparus à la valeur <code class="literal">OK</code> dans le
	  fichier <code class="filename">CENTRDB.R3S</code>), il sera
	  impossible d'ouvrir une session sur le système
	  <span class="application"><span class="trademark">SAP</span>®</span> sans effort
	  supplémentaire.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="kerneltuning"></a>11.7.7.6. Optimisation du noyau</h4></div></div></div><a id="idp75801296" class="indexterm"></a><p>Les systèmes <span class="application"><span class="trademark">SAP</span>® <span class="trademark">R/3</span>®</span>
	demandent beaucoup de ressources.  Nous avons donc
	ajouté les paramètres suivants au fichier de
	configuration du noyau:</p><pre class="programlisting"># Set these for memory pigs (SAP and Oracle):
options MAXDSIZ="(1024*1024*1024)"
options DFLDSIZ="(1024*1024*1024)"
# System V options needed.
options SYSVSHM #SYSV-style shared memory
options SHMMAXPGS=262144 #max amount of shared mem. pages
#options SHMMAXPGS=393216 #use this for the 46C inst.parameters
options SHMMNI=256 #max number of shared memory ident if.
options SHMSEG=100 #max shared mem.segs per process
options SYSVMSG #SYSV-style message queues
options MSGSEG=32767 #max num. of mes.segments in system
options MSGSSZ=32 #size of msg-seg. MUST be power of 2
options MSGMNB=65535 #max char. per message queue
options MSGTQL=2046 #max amount of msgs in system
options SYSVSEM #SYSV-style semaphores
options SEMMNU=256 #number of semaphore UNDO structures
options SEMMNS=1024 #number of semaphores in system
options SEMMNI=520 #number of semaphore identifiers
options SEMUME=100       #number of UNDO keys</pre><p>Les valeurs minimales sont précisées dans
	  la documentation en provenance de SAP.  Comme il n'y a pas
	  d'éléments concernant Linux, consultez la section
	  sur HP-UX (32bits) pour plus d'information.  Comme le
	  système utilisé pour l'installation de la
	  version 4.6C SR2 dispose de plus de mémoire principale,
	  les segments de mémoire partagée (&#8220;shared
	  segments&#8221;) peuvent être plus larges pour
	  <span class="application"><span class="trademark">SAP</span>®</span> et
	  <span class="application"><span class="trademark">Oracle</span>®</span>, cependant choisissez un
	  nombre plus important de page de mémoire
	  partagée.</p><div xmlns="" class="note"><h3 class="admontitle">Note: </h3><p xmlns="http://www.w3.org/1999/xhtml">Avec l'installation par défaut de FreeBSD
	  sur l'architecture <span class="trademark">i386</span>&#8482;, laissez <code class="literal">MAXDSIZ</code>
	  et <code class="literal">DFLDSIZ</code> à une valeur de
	  1 Go maximum.  Sinon, des erreurs étranges comme
	  <span class="errorname">ORA-27102: out of memory</span> et
	  <span class="errorname">Linux Error: 12: Cannot allocate memory</span>
	  risquent d'apparaître.</p></div></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="installingsapr3"></a>11.7.8. Installer <span class="trademark">SAP</span>® <span class="trademark">R/3</span>®</h3></div></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="preparingsapcdroms"></a>11.7.8.1. Préparer les CDROMs <span class="trademark">SAP</span>®</h4></div></div></div><p>Il y a de nombreux CDROMs à monter et
	  démonter lors de l'installation.  Si vous disposez de
	  suffisamment de lecteurs de CDROMs, vous pouvez tout
	  simplement les monter tous.  Nous avons décidé
	  de copier le contenu des CDROMs dans les répertoires
	  correspondant:</p><pre class="programlisting">/oracle/<em class="replaceable"><code>SID</code></em>/sapreorg/<em class="replaceable"><code>nom-du-cd</code></em></pre><p>où <em class="replaceable"><code>nom-du-cd</code></em> est un nom
	  parmi <code class="filename">KERNEL</code>,
	  <code class="filename">RDBMS</code>, <code class="filename">EXPORT1</code>,
	  <code class="filename">EXPORT2</code>, <code class="filename">EXPORT3</code>,
	  <code class="filename">EXPORT4</code>, <code class="filename">EXPORT5</code> et
	  <code class="filename">EXPORT6</code> pour l'installation de la version
	  4.6B/IDES, et <code class="filename">KERNEL</code>,
	  <code class="filename">RDBMS</code>, <code class="filename">DISK1</code>,
	  <code class="filename">DISK2</code>, <code class="filename">DISK3</code>,
	  <code class="filename">DISK4</code> et <code class="filename">LANG</code> pour
	  l'installation de la version 4.6C SR2.  Tous les noms
	  de fichiers sur les CDs montés devraient être en
	  majuscules, sinon utilisez l'option <code class="option">-g</code>
	  pour le montage.  Utilisez donc les commandes
	  suivantes:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mount_cd9660 -g /dev/cd0a /mnt</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>cp -R /mnt/* /oracle/SID/sapreorg/nom-du-cd</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>umount /mnt</code></strong></pre></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="runningtheinstall-script"></a>11.7.8.2. Exécuter la procédure d'installation</h4></div></div></div><p>Tout d'abord, vous devez préparer un répertoire
	  <code class="filename">install</code>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cd /oracle/SID/sapreorg</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>mkdir install</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>cd install</code></strong></pre><p>Ensuite la procédure d'installation est
	  lancée, qui copiera tous fichiers correspondant dans
	  le répertoire <code class="filename">install</code>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>/oracle/SID/sapreorg/KERNEL/UNIX/INSTTOOL.SH</code></strong></pre><p>L'installation IDES (4.6B) est fournie avec un
	  système <span class="application"><span class="trademark">SAP</span>® <span class="trademark">R/3</span>®</span> de
	  démonstration complètement configuré,
	  il y a donc six CDs EXPORT au lieu de juste trois CDs
	  EXPORT.  A ce point la configuration par défaut
	  d'installation <code class="filename">CENTRDB.R3S</code> est
	  destiné à l'installation d'une instance
	  centrale standard (<span class="application"><span class="trademark">R/3</span>®</span> et base de
	  données), et non pas l'instance centrale standard
	  IDES, on doit donc copier le fichier
	  <code class="filename">CENTRDB.R3S</code> correspondant du
	  répertoire <code class="filename">EXPORT1</code>, sinon
	  <code class="command">R3SETUP</code> ne demandera que trois CDs
	  EXPORT.</p><p>La nouvelle version <span class="application"><span class="trademark">SAP</span>® 4.6C
	  SR2</span> est fournie avec quatre CDs EXPORT.  Le
	  fichier de paramètres qui contrôle les
	  étapes de l'installation est le fichier
	  <code class="filename">CENTRAL.R3S</code>.  Contrairement aux
	  versions précédentes, il n'y a pas de
	  modèle de configuration d'installation
	  séparé pour une instance centrale avec ou sans
	  base de données.  <span class="application"><span class="trademark">SAP</span>®</span>
	  utilise un modèle de configuration
	  séparé pour l'installation de base de
	  données.  Pour relancer l'installation
	  postérieurement, il suffit de la relancer avec le
	  fichier d'origine.</p><p>Pendant et après l'installation,
	  <span class="application"><span class="trademark">SAP</span>®</span> a besoin que la commande
	  <code class="command">hostname</code> renvoie uniquement le nom de la
	  machine et non pas le nom complet de la machine.  Fixez donc
	  le nom de la machine en fonction, ou créez un alias
	  avec <code class="command">alias hostname='hostname -s'</code> pour
	  les utilisateurs
	  <code class="systemitem">ora<em class="replaceable"><code>sid</code></em></code> et
	  <code class="systemitem"><em class="replaceable"><code>sid</code></em>adm</code> (et
	  pour le super-utilisateur <code class="systemitem">root</code> au moins
	  durant les étapes de l'installation effectuées
	  en tant que <code class="systemitem">root</code>).  Il est
	  également possible d'ajuster les fichiers
	  <code class="filename">.profile</code> et <code class="filename">.login</code>
	  des deux utilisateurs qui sont installés lors de
	  l'installation de <span class="application"><span class="trademark">SAP</span>®</span>.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="startr3setup-46B"></a>11.7.8.3. Exécuter <code class="command">R3SETUP</code> 4.6B</h4></div></div></div><p>Assurez-vous que la variable <code class="envar">LD_LIBRARY_PATH</code>
	  est correctement positionnée:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>export LD_LIBRARY_PATH=/oracle/IDS/lib:/sapmnt/IDS/exe:/oracle/805_32/lib</code></strong></pre><p>Lancez <code class="command">R3SETUP</code> en tant que
	  <code class="systemitem">root</code> à partir du répertoire
	  d'installation:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cd /oracle/IDS/sapreorg/install</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>./R3SETUP -f CENTRDB.R3S</code></strong></pre><p>La procédure pose ensuite un certain nombre de
	  questions (les valeurs par défaut sont entre crochets,
	  suivies par les entrées clavier):</p><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /><col /></colgroup><thead><tr><th>Question</th><th>Défaut</th><th>Entrée(s) clavier</th></tr></thead><tbody><tr><td>Enter SAP System ID</td><td>[C11]</td><td>IDS<span class="keycap"><strong>Entrée</strong></span></td></tr><tr><td>Enter SAP Instance Number</td><td>[00]</td><td><span class="keycap"><strong>Entrée</strong></span></td></tr><tr><td>Enter SAPMOUNT Directory</td><td>[/sapmnt]</td><td><span class="keycap"><strong>Entrée</strong></span></td></tr><tr><td>Enter name of SAP central host</td><td>[troubadix.domain.de]</td><td><span class="keycap"><strong>Entrée</strong></span></td></tr><tr><td>Enter name of SAP db host</td><td>[troubadix]</td><td><span class="keycap"><strong>Entrée</strong></span></td></tr><tr><td>Select character set</td><td>[1] (WE8DEC)</td><td><span class="keycap"><strong>Entrée</strong></span></td></tr><tr><td>Enter Oracle server version (1) Oracle 8.0.5, (2) Oracle 8.0.6, (3) Oracle 8.1.5, (4) Oracle 8.1.6</td><td> </td><td>1<span class="keycap"><strong>Entrée</strong></span></td></tr><tr><td>Extract Oracle Client archive</td><td>[1] (Yes, extract)</td><td><span class="keycap"><strong>Entrée</strong></span></td></tr><tr><td>Enter path to KERNEL CD</td><td>[/sapcd]</td><td>/oracle/IDS/sapreorg/KERNEL</td></tr><tr><td>Enter path to RDBMS CD</td><td>[/sapcd]</td><td>/oracle/IDS/sapreorg/RDBMS</td></tr><tr><td>Enter path to EXPORT1 CD</td><td>[/sapcd]</td><td>/oracle/IDS/sapreorg/EXPORT1</td></tr><tr><td>Directory to copy EXPORT1 CD</td><td>[/oracle/IDS/sapreorg/CD4_DIR]</td><td><span class="keycap"><strong>Entrée</strong></span></td></tr><tr><td>Enter path to EXPORT2 CD</td><td>[/sapcd]</td><td>/oracle/IDS/sapreorg/EXPORT2</td></tr><tr><td>Directory to copy EXPORT2 CD</td><td>[/oracle/IDS/sapreorg/CD5_DIR]</td><td><span class="keycap"><strong>Entrée</strong></span></td></tr><tr><td>Enter path to EXPORT3 CD</td><td>[/sapcd]</td><td>/oracle/IDS/sapreorg/EXPORT3</td></tr><tr><td>Directory to copy EXPORT3 CD</td><td>[/oracle/IDS/sapreorg/CD6_DIR]</td><td><span class="keycap"><strong>Entrée</strong></span></td></tr><tr><td>Enter path to EXPORT4 CD</td><td>[/sapcd]</td><td>/oracle/IDS/sapreorg/EXPORT4</td></tr><tr><td>Directory to copy EXPORT4 CD</td><td>[/oracle/IDS/sapreorg/CD7_DIR]</td><td><span class="keycap"><strong>Entrée</strong></span></td></tr><tr><td>Enter path to EXPORT5 CD</td><td>[/sapcd]</td><td>/oracle/IDS/sapreorg/EXPORT5</td></tr><tr><td>Directory to copy EXPORT5 CD</td><td>[/oracle/IDS/sapreorg/CD8_DIR]</td><td><span class="keycap"><strong>Entrée</strong></span></td></tr><tr><td>Enter path to EXPORT6 CD</td><td>[/sapcd]</td><td>/oracle/IDS/sapreorg/EXPORT6</td></tr><tr><td>Directory to copy EXPORT6 CD</td><td>[/oracle/IDS/sapreorg/CD9_DIR]</td><td><span class="keycap"><strong>Entrée</strong></span></td></tr><tr><td>Enter amount of RAM for SAP + DB</td><td> </td><td>850<span class="keycap"><strong>Entrée</strong></span> (en mégaoctets)</td></tr><tr><td>Service Entry Message Server</td><td>[3600]</td><td><span class="keycap"><strong>Entrée</strong></span></td></tr><tr><td>Enter Group-ID of sapsys</td><td>[101]</td><td><span class="keycap"><strong>Entrée</strong></span></td></tr><tr><td>Enter Group-ID of oper</td><td>[102]</td><td><span class="keycap"><strong>Entrée</strong></span></td></tr><tr><td>Enter Group-ID of dba</td><td>[100]</td><td><span class="keycap"><strong>Entrée</strong></span></td></tr><tr><td>Enter User-ID of <em class="replaceable"><code>sid</code></em>adm</td><td>[1000]</td><td><span class="keycap"><strong>Entrée</strong></span></td></tr><tr><td>Enter User-ID of ora<em class="replaceable"><code>sid</code></em></td><td>[1002]</td><td><span class="keycap"><strong>Entrée</strong></span></td></tr><tr><td>Number of parallel procs</td><td>[2]</td><td><span class="keycap"><strong>Entrée</strong></span></td></tr></tbody></table></div><p>Si vous n'avez pas copié les CDs en différent
	  endroits, alors l'installeur <span class="application"><span class="trademark">SAP</span>®</span>
	  ne peut trouver le CD nécessaire (identifié par le
	  fichier <code class="filename">LABEL.ASC</code> sur le CD) et vous
	  demandera alors d'insérer, de monter le CD et de
	  confirmer ou d'entrer le chemin du point de montage.</p><p>Le fichier <code class="filename">CENTRDB.R3S</code> peut ne pas
	  être exempt de problème.  Dans notre cas, il demanda
	  à nouveau le CD EXPORT4 mais indiqua la clé
	  correcte (6_LOCATION, puis 7_LOCATION, etc.), on peut donc
	  juste continuer à saisir les bonnes valeurs.</p><p>En dehors des problèmes mentionnés plus
	  bas, tout devrait être assez direct jusqu'au moment
	  où la base de données
	  <span class="application"><span class="trademark">Oracle</span>®</span> doit être
	  installée.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="startr3setup-46C"></a>11.7.8.4. Exécuter <code class="command">R3SETUP</code> 4.6C SR2</h4></div></div></div><p>Assurez-vous que la variable <code class="envar">LD_LIBRARY_PATH</code>
	  est correctement positionnée.  La valeur est
	  différente de l'installation 4.6B avec
	  <span class="application"><span class="trademark">Oracle</span>® 8.0.5</span>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>export LD_LIBRARY_PATH=/sapmnt/PRD/exe:/oracle/PRD/817_32/lib</code></strong></pre><p>Lancez <code class="command">R3SETUP</code> en tant que
	  <code class="systemitem">root</code> à partir du répertoire
	  d'installation:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cd /oracle/PRD/sapreorg/install</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>./R3SETUP -f CENTRAL.R3S</code></strong></pre><p>La procédure pose ensuite un certain nombre de
	  questions (les valeurs par défaut sont entre crochets,
	  suivies par les entrées clavier):</p><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /><col /></colgroup><thead><tr><th>Question</th><th>Défaut</th><th>Entrée(s) clavier</th></tr></thead><tbody><tr><td>Enter SAP System ID</td><td>[C11]</td><td>PRD<span class="keycap"><strong>Entrée</strong></span></td></tr><tr><td>Enter SAP Instance Number</td><td>[00]</td><td><span class="keycap"><strong>Entrée</strong></span></td></tr><tr><td>Enter SAPMOUNT Directory</td><td>[/sapmnt]</td><td><span class="keycap"><strong>Entrée</strong></span></td></tr><tr><td>Enter name of SAP central host</td><td>[majestix]</td><td><span class="keycap"><strong>Entrée</strong></span></td></tr><tr><td>Enter Database System ID</td><td>[PRD]</td><td>PRD<span class="keycap"><strong>Entrée</strong></span></td></tr><tr><td>Enter name of SAP db host</td><td>[majestix]</td><td><span class="keycap"><strong>Entrée</strong></span></td></tr><tr><td>Select character set</td><td>[1] (WE8DEC)</td><td><span class="keycap"><strong>Entrée</strong></span></td></tr><tr><td>Enter Oracle server version (2) Oracle 8.1.7</td><td> </td><td>2<span class="keycap"><strong>Entrée</strong></span></td></tr><tr><td>Extract Oracle Client archive</td><td>[1] (Yes, extract)</td><td><span class="keycap"><strong>Entrée</strong></span></td></tr><tr><td>Enter path to KERNEL CD</td><td>[/sapcd]</td><td>/oracle/PRD/sapreorg/KERNEL</td></tr><tr><td>Enter amount of RAM for SAP + DB</td><td>2044</td><td>1800<span class="keycap"><strong>Entrée</strong></span> (en mégaoctets)</td></tr><tr><td>Service Entry Message Server</td><td>[3600]</td><td><span class="keycap"><strong>Entrée</strong></span></td></tr><tr><td>Enter Group-ID of sapsys</td><td>[100]</td><td><span class="keycap"><strong>Entrée</strong></span></td></tr><tr><td>Enter Group-ID of oper</td><td>[101]</td><td><span class="keycap"><strong>Entrée</strong></span></td></tr><tr><td>Enter Group-ID of dba</td><td>[102]</td><td><span class="keycap"><strong>Entrée</strong></span></td></tr><tr><td>Enter User-ID of <code class="systemitem">oraprd</code></td><td>[1002]</td><td><span class="keycap"><strong>Entrée</strong></span></td></tr><tr><td>Enter User-ID of <code class="systemitem">prdadm</code></td><td>[1000]</td><td><span class="keycap"><strong>Entrée</strong></span></td></tr><tr><td>LDAP support</td><td> </td><td>3<span class="keycap"><strong>Entrée</strong></span> (pas de support)</td></tr><tr><td>Installation step completed</td><td>[1] (continue)</td><td><span class="keycap"><strong>Entrée</strong></span></td></tr><tr><td>Choose installation service</td><td>[1] (DB inst,file)</td><td><span class="keycap"><strong>Entrée</strong></span></td></tr></tbody></table></div><p>Jusqu'ici, la création d'utilisateurs donne une
	  erreur durant l'installation lors des phases
	  OSUSERDBSID_IND_ORA (pour la création de
	  l'utilisateur
	  <code class="systemitem">ora<em class="replaceable"><code>sid</code></em></code>) et
	  OSUSERSIDADM_IND_ORA (création de l'utilisateur
	  <code class="systemitem"><em class="replaceable"><code>sid</code></em>adm</code>).</p><p>En dehors des problèmes mentionnés plus
	  bas, tout devrait être assez direct jusqu'au moment
	  où la base de données
	  <span class="application"><span class="trademark">Oracle</span>®</span> doit être
	  installée.</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="installingoracle805"></a>11.7.9. Installer <span class="trademark">Oracle</span>® 8.0.5</h3></div></div></div><p>Consultez les notes <span class="trademark">SAP</span>® et les
	<code class="filename">Readme</code>s d'<span class="trademark">Oracle</span>® concernant Linux et la
	base de données <span class="application"><span class="trademark">Oracle</span>®</span> pour
	de possibles problèmes.  La plupart, si ce n'est pas
	tous, de ces problèmes proviennent de
	bibliothèques incompatibles.</p><p>Pour plus d'informations au sujet de l'installation
	d'<span class="application"><span class="trademark">Oracle</span>®</span>,
	référez-vous au chapitre sur l'<a class="link" href="linuxemu-oracle.html" title="11.6. Installer Oracle®">installation d'<span class="trademark">Oracle</span>®.</a></p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="installingtheoracle805withorainst"></a>11.7.9.1. Installer <span class="trademark">Oracle</span>® 8.0.5 avec <code class="command">orainst</code></h4></div></div></div><p>Si <span class="application"><span class="trademark">Oracle</span>® 8.0.5</span> doit
	  être utilisée, des bibliothèques
	  supplémentaires sont nécessaires pour une
	  édition de liens couronnée de succès,
	  comme <span class="application"><span class="trademark">Oracle</span>® 8.0.5</span> est
	  liée avec une ancienne bibliothèque glibc
	  (RedHat 6.0), cependant RedHat 6.1 utilise
	  déjà une nouvelle version de la
	  bibliothèque glibc.  Vous devez donc installer les
	  &#8220;packages&#8221; suivants pour s'assurer que
	  l'édition de liens fonctionnera:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="filename">compat-libs-5.2-2.i386.rpm</code></p></li><li class="listitem"><p><code class="filename">compat-glibc-5.2-2.0.7.2.i386.rpm</code></p></li><li class="listitem"><p><code class="filename">compat-egcs-5.2-1.0.3a.1.i386.rpm</code></p></li><li class="listitem"><p><code class="filename">compat-egcs-c++-5.2-1.0.3a.1.i386.rpm</code></p></li><li class="listitem"><p><code class="filename">compat-binutils-5.2-2.9.1.0.23.1.i386.rpm</code></p></li></ul></div><p>Consultez les notes <span class="trademark">SAP</span>® et les
	  <code class="filename">Readme</code>s d'<span class="trademark">Oracle</span>® pour plus
	  d'informations.  On pourra utiliser les binaires d'origine
	  (au moment de l'installation, nous n'avons pas eu le temps
	  de contrôler cela), ou utiliser directement les binaires
	  fraichement liés d'un système RedHat.</p><p>Pour la compilation de l'agent intelligent, la
	  version RedHat de Tcl doit être installée.
	  Si vous ne pouvez vous procurer
	  <code class="filename">tcl-8.0.3-20.i386.rpm</code>, un fichier plus
	  récent comme <code class="filename">tcl-8.0.5-30.i386.rpm</code> pour
	  RedHat 6.1 fera l'affaire.</p><p>En dehors de ce problème de liens, l'installation est
	  relativement directe:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>su - oraids</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>export TERM=xterm</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>export ORACLE_TERM=xterm</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>export ORACLE_HOME=/oracle/IDS</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>cd $ORACLE_HOME/orainst_sap</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>./orainst</code></strong></pre><p>Confirmez tous les écrans en appuyant sur
	  <span class="keycap"><strong>Entrée</strong></span> jusqu'à l'installation
	  complète du logiciel, à l'exception de celui
	  qui permet de déselectionner la &#8220;visionneuse de
	  texte <span class="trademark">Oracle</span>®&#8221; (<span class="emphasis"><em><span class="trademark">Oracle</span>® On-Line Text
	  Viewer</em></span>), comme cette dernière n'est pas
	  disponible pour Linux.  Ensuite
	  <span class="application"><span class="trademark">Oracle</span>®</span> veut faire
	  l'édition de liens avec
	  <code class="command">i386-glibc20-linux-gcc</code> à la place
	  des <code class="command">gcc</code>, <code class="command">egcs</code> ou
	  <code class="command">i386-redhat-linux-gcc</code> disponibles.</p><p>En raison d'un manque de temps, nous avons
	  décidé d'utiliser les binaires d'une version
	  <span class="application"><span class="trademark">Oracle</span>® 8.0.5 PreProduction</span>,
	  après que la première tentative d'obtenir
	  à partir du CD RDBMS une version fonctionnant eut
	  échoué, et que nous avons trouvé
	  qu'accéder aux bons RPMs était alors un
	  véritable cauchemar.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="installingtheoracle805preproduction"></a>11.7.9.2. Installer la version <span class="trademark">Oracle</span>® 8.0.5 Pre-production pour
	  Linux (noyau 2.0.33)</h4></div></div></div><p>Cette installation est simple.  Montez le CD, lancez
	  l'installeur.  Il vous demandera l'emplacement du
	  répertoire utilisateur
	  <span class="application"><span class="trademark">Oracle</span>®</span>, et y copiera tous les
	  binaires.  Nous n'avions, cependant, pas effacé les
	  restes de nos précédentes tentatives
	  d'installation RDBMS.</p><p>Après cela, la base de données
	  <span class="application"><span class="trademark">Oracle</span>®</span> put être
	  installée sans encombres.</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="installingoracle817"></a>11.7.10. Installer l'archive tar d'<span class="trademark">Oracle</span>® 8.1.7 pour Linux</h3></div></div></div><p>Prennez l'archive <span class="application">tar</span> que vous
	avez produite à partir du répertoire
	d'installation sur un système Linux, et
	désarchivez-la dans le répertoire <code class="filename">/oracle/SID/817_32/</code>.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="continuewithsapr4installation"></a>11.7.11. Poursuivre l'installation de <span class="trademark">SAP</span>® <span class="trademark">R/3</span>®</h3></div></div></div><p>Tout d'abord vérifiez le paramétrage des
	environnements des utilisateurs <code class="systemitem">idsamd</code>
	(<em class="replaceable"><code>sid</code></em>adm) et
	<code class="systemitem">oraids</code>
	(ora<em class="replaceable"><code>sid</code></em>).  Ils devraient avoir,
	tous les deux, des fichiers <code class="filename">.profile</code>,
	<code class="filename">.login</code> et <code class="filename">.cshrc</code> qui
	utilisent la directement la commande
	<code class="command">hostname</code>.  Si le nom de machine du
	système est un nom complet d'hôte, vous devez
	modifier <code class="command">hostname</code> pour <code class="command">hostname
	-s</code> dans ces trois fichiers.</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="databaseload"></a>11.7.11.1. Chargement de la base de données</h4></div></div></div><p>Ensuite, <code class="command">R3SETUP</code> peut être soit
	  relancé ou poursuivi (tout dépend si le
	  programme a été quitté ou non).
	  <code class="command">R3SETUP</code> créé ensuite les
	  tables pour les données et charge ces données
	  (pour 46B IDES, à partir des disques EXPORT1 à
	  EXPORT6, pour 46C à partir des disques DISK1 à
	  DISK4) avec <code class="command">R3load</code> dans la base de
	  données.</p><p>Quand le chargement de la base de données
	  est achevé (cela peut prendre plusieurs heures), des
	  mots de passe sont demandés.  Pour les installations
	  de tests, on peut utiliser les mots de passe
	  par défauts connus (utilisez-en des différents
	  si la sécurité est importante):</p><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Question</th><th>Entrée(s) clavier</th></tr></thead><tbody><tr><td>Enter Password for sapr3</td><td>sap<span class="keycap"><strong>Entrée</strong></span></td></tr><tr><td>Confirum Password for sapr3</td><td>sap<span class="keycap"><strong>Entrée</strong></span></td></tr><tr><td>Enter Password for sys</td><td>change_on_install<span class="keycap"><strong>Entrée</strong></span></td></tr><tr><td>Confirm Password for sys</td><td>change_on_install<span class="keycap"><strong>Entrée</strong></span></td></tr><tr><td>Enter Password for system</td><td>manager<span class="keycap"><strong>Entrée</strong></span></td></tr><tr><td>Confirm Password for system</td><td>manager<span class="keycap"><strong>Entrée</strong></span></td></tr></tbody></table></div><p>A ce point, nous avons eut quelques problèmes
	  avec <code class="command">dipgntab</code> durant l'installation de la
	  version 4.6B.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="listener"></a>11.7.11.2. Programme d'écoute</h4></div></div></div><p>Démarrer le programme d'écoute
	  (&#8220;listener&#8221;) d'<span class="application"><span class="trademark">Oracle</span>®</span>
	  sous l'utilisateur
	  <code class="systemitem">ora<em class="replaceable"><code>sid</code></em></code> comme
	  suit:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>umask 0; lsnrctl start</code></strong></pre><p>Sinon vous risquez d'obtenir l'erreur
	  <span class="errorcode">ORA-12546</span> comme les
	  &#8220;sockets&#8221; n'auront pas les bonnes permissions.
	  Consultez la note <span class="trademark">SAP</span>® 072984.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="mnlstables"></a>11.7.11.3. Mettre à jour les tables MNLS</h4></div></div></div><p>Si vous projetez d'importer des données utilisant
	  des langues non latin-1 dans le système
	  <span class="application"><span class="trademark">SAP</span>®</span>, vous devez mettre à
	  jour les tables de support des langues internationales
	  (&#8220;Multi National Language Support&#8221; &#8212;
	  MNLS).  Ceci est décrit dans les notes <span class="trademark">SAP</span>® OSS 15023
	  et 45619.  Sinon, vous pouvez ignorer cette question lors de
	  l'installation de <span class="application"><span class="trademark">SAP</span>®</span>.</p><div xmlns="" class="note"><h3 class="admontitle">Note: </h3><p xmlns="http://www.w3.org/1999/xhtml">Si vous n'avez pas besoin des tables MNLS, il est
	  toujours nécessaire de contrôler la table TCPDB
	  et l'initialiser si cela n'a pas déjà
	  été fait.  Consultez les notes 0015023 et
	  0045619 pour plus d'information.</p></div></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="postinstallationsteps"></a>11.7.12. Etapes de post-installation</h3></div></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="requestsapr3licensekey"></a>11.7.12.1. Demander une clé licence pour <span class="trademark">SAP</span>® <span class="trademark">R/3</span>®</h4></div></div></div><p>Vous devez demander votre clé
	  <span class="application"><span class="trademark">SAP</span>® <span class="trademark">R/3</span>®</span>.  Cette clé est indispensable
	  étant donné que la licence temporaire qui a
	  été installée lors de l'installation
	  n'est valide que pendant quatre semaines.  Tout d'abord
	  récupérez la clé matérielle.
	  Ouvrez une session sous l'utilisateur
	  <code class="systemitem">idsadm</code> et lancez la commande
	  <code class="command">saplicense</code>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>/sapmnt/IDS/exe/saplicense
	-get</code></strong></pre><p>Appeler <code class="command">saplicense</code> sans
	  paramètres affiche la liste des options disponibles.
	  Après la réception de la clé, elle peut
	  être installée en utilisant:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>/sapmnt/IDS/exe/saplicense -install</code></strong></pre><p>Vous devez ensuite entrer les valeurs suivantes:</p><pre class="programlisting">SAP SYSTEM ID   = <em class="replaceable"><code>SID, 3 chars</code></em>
CUSTOMER KEY    = <em class="replaceable"><code>hardware key, 11 chars</code></em>
INSTALLATION NO = <em class="replaceable"><code>installation, 10 digits</code></em>
EXPIRATION DATE = <em class="replaceable"><code>yyyymmdd, usually "99991231"</code></em>
LICENSE KEY     = <em class="replaceable"><code>license key, 24 chars</code></em></pre></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="creatingusers"></a>11.7.12.2. Créer les utilisateurs</h4></div></div></div><p>Créez un utilisateur sous le client 000
	  (certaines tâches doivent être effectuées
	  sous le client 000, mais avec un utilisateur
	  différent de <code class="systemitem">sap*</code> et
	  <code class="systemitem">ddic</code>).  Comme nom d'utilisateur, nous
	  choisissons généralement
	  <code class="systemitem">wartung</code> (ou
	  <code class="systemitem">service</code> en français).  Les
	  profiles nécessaires sont <code class="literal">sap_new</code>
	  et <code class="literal">sap_all</code>.  Pour plus de
	  sécurité les mots de passe des utilisateurs
	  par défaut à l'intérieur de tous les
	  clients devraient être modifiés (cela inclut
	  les utilisateurs <code class="systemitem">sap*</code> et
	  <code class="systemitem">ddic</code>).</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="configtranssysprofileopermodesetc"></a>11.7.12.3. Configurer le système de transport, les profils,
	  les modes d'opération, etc.</h4></div></div></div><p>Dans le client 000, avec un utilisateur autre que
	  <code class="systemitem">ddic</code> et <code class="systemitem">sap*</code>,
	  faire, au moins, ce qui suit:</p><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Tâche</th><th>Transaction</th></tr></thead><tbody><tr><td>Configurez le système de transport, par
		exemple <span class="emphasis"><em>entité autonome de domaine
		de transport</em></span> (<span class="emphasis"><em>Stand-Alone
		Transport Domain Entity</em></span>)</td><td>STMS</td></tr><tr><td>Créez / Editez le profil système</td><td>RZ10</td></tr><tr><td>Maintenez les modes d'opération et les
		instances</td><td>RZ04</td></tr></tbody></table></div><p>Cela et toutes les autres étapes de
	  post-installation sont intégralement décrites
	  dans les guides d'installation
	  <span class="application"><span class="trademark">SAP</span>®</span>.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="editintsidsap"></a>11.7.12.4. Editer
	  <code class="filename">initsid.sap</code>
	  (<code class="filename">initIDS.sap</code>)</h4></div></div></div><p>Le fichier
	  <code class="filename">/oracle/IDS/dbs/initIDS.sap</code> contient le
	  profil de sauvegarde <span class="application"><span class="trademark">SAP</span>®</span>.  Ici la
	  taille de la bande à utiliser, le type de compression
	  et ainsi de suite doivent être définis.  Pour
	  garantir un fonctionnement avec les commandes
	  <code class="command">sapdba</code>/<code class="command">brbackup</code>, nous
	  avons modifié les valeurs suivantes:</p><pre class="programlisting">compress = hardware
archive_function = copy_delete_save
cpio_flags = "-ov --format=newc --block-size=128 --quiet"
cpio_in_flags = "-iuv --block-size=128 --quiet"
tape_size = 38000M
tape_address = /dev/nsa0
tape_address_rew = /dev/sa0</pre><p>Explications:</p><p><code class="varname">compress</code>: la bande que nous utilisons
	  est une HP DLT1 qui fournie une compression
	  matérielle.</p><p><code class="varname">archive_function</code>: définie le
	  comportement par défaut en ce qui concerne
	  l'archivage des fichiers journaux
	  d'<span class="application"><span class="trademark">Oracle</span>®</span>: les nouveaux journaux
	  sont sauvegardés sur la bande, ceux
	  déjà sauvegardés le sont à
	  nouveau et sont ensuite effacés.  Cela évite
	  de nombreux problèmes si vous devez rétablir
	  la base de données, et qu'une des bandes de
	  sauvegarde est endommagée.</p><p><code class="varname">cpio_flags</code>: l'indicateur par
	  défaut est <code class="option">-B</code> qui fixe la taille
	  d'un bloc à 5120 octets.  Pour les bande DLT, HP
	  recommande une taille de bloc d'au moins 32Ko, aussi nous
	  avons utilisé <code class="option">--block-size=128</code> pour
	  64Ko.  L'option <code class="option">--format=newc</code> est
	  nécessaire car nous avons un nombre d'inodes
	  supérieur à 65535.  La dernière option,
	  <code class="option">--quiet</code>, est nécessaire sinon
	  <code class="command">brbackup</code> se plaint dès que
	  <code class="command">cpio</code> donne le nombre de blocs
	  sauvés.</p><p><code class="varname">cpio_in_flags</code>: indicateurs
	  nécessaires pour charger les données à
	  partir de bandes.  Le format est reconnu
	  automatiquement.</p><p><code class="varname">tape_size</code>: cette variable donne la
	  capacité brute de la bande.  Pour des raisons de
	  sécurité (nous utilisons une compression
	  matérielle), la valeur est légèrement
	  inférieure à la valeur réelle.</p><p><code class="varname">tape_address</code>: le
	  périphérique non rembobinable devant
	  être utilisé avec
	  <code class="command">cpio</code>.</p><p><code class="varname">tape_address_rew</code>: le
	  périphérique rembobinable à utiliser
	  avec <code class="command">cpio</code>.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp76151376"></a>11.7.12.5. Problèmes de configuration après
	  l'installation</h4></div></div></div><p>Les paramètres <span class="application"><span class="trademark">SAP</span>®</span>
	  suivants devraient être optimisés après
	  l'installation (exemples pour IDES 46B, 1 Go de
	  mémoire):</p><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Nom</th><th>Valeur</th></tr></thead><tbody><tr><td>ztta/roll_extension</td><td>250000000</td></tr><tr><td>abap/heap_area_dia</td><td>300000000</td></tr><tr><td>abap/heap_area_nondia</td><td>400000000</td></tr><tr><td>em/initial_size_MB</td><td>256</td></tr><tr><td>em/blocksize_kB</td><td>1024</td></tr><tr><td>ipc/shm_psize_40</td><td>70000000</td></tr></tbody></table></div><p>Note <span class="trademark">SAP</span>® 0013026:</p><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Nom</th><th>Valeur</th></tr></thead><tbody><tr><td>ztta/dynpro_area</td><td>2500000</td></tr></tbody></table></div><p>Note <span class="trademark">SAP</span>® 0157246:</p><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Nom</th><th>Valeur</th></tr></thead><tbody><tr><td>rdisp/ROLL_MAXFS</td><td>16000</td></tr><tr><td>rdisp/PG_MAXFS</td><td>30000</td></tr></tbody></table></div><div xmlns="" class="note"><h3 class="admontitle">Note: </h3><p xmlns="http://www.w3.org/1999/xhtml">Avec les paramètres donnés ci-dessus,
	  sur un système avec 1Go de mémoire, on pourra
	  avoir une utilisation de la mémoire similaire
	  à:</p><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting">Mem: 547M Active, 305M Inact, 109M Wired, 40M Cache, 112M Buf, 3492K Free</pre></div></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="problemsduringinstallation"></a>11.7.13. Problèmes lors de l'installation</h3></div></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="restartr3setup"></a>11.7.13.1. Relancer <code class="command">R3SETUP</code> après la correction
	  d'un problème</h4></div></div></div><p><code class="command">R3SETUP</code> s'arrête s'il rencontre
	  une erreur.  Si vous avez examiné les fichiers
	  journaux correspondants et corrigé l'erreur, vous
	  devez relancer <code class="command">R3SETUP</code> à nouveau,
	  habituellement en sélectionnant
	  <code class="option">REPEAT</code> comme option de la dernière
	  étape pour laquelle <code class="command">R3SETUP</code> avait
	  rencontré un problème.</p><p>Pour relancer <code class="command">R3SETUP</code>,
	  exécutez-le avec le fichier <code class="filename">R3S</code>
	  correspondant:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>./R3SETUP -f CENTRDB.R3S</code></strong></pre><p>pour la version 4.6B, ou avec</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>./R3SETUP -f CENTRAL.R3S</code></strong></pre><p>pour la version 4.6C, peu importe si l'erreur est
	  apparue avec <code class="filename">CENTRAL.R3S</code> ou
	  <code class="filename">DATABASE.R3S</code>.</p><div xmlns="" class="note"><h3 class="admontitle">Note: </h3><p xmlns="http://www.w3.org/1999/xhtml">A certains points, <code class="command">R3SETUP</code> suppose
	    que la base de données et le processus
	    <span class="application"><span class="trademark">SAP</span>®</span> sont en fonctionnement (comme
	    s'il avait déjà complété ces
	    étapes).  Au cas où les erreurs se
	    produiraient et que par exemple la base de données ne
	    peut être lancée, vous devez lancer la base de
	    données et <span class="application"><span class="trademark">SAP</span>®</span> à la
	    main après avoir corrigé les erreurs et avant
	    d'exécuter à nouveau
	    <code class="command">R3SETUP</code>.</p><p xmlns="http://www.w3.org/1999/xhtml">N'oubliez pas également de démarrer le
	    programme d'écoute
	    d'<span class="application"><span class="trademark">Oracle</span>®</span> à nouveau (en
	    tant que
	    <code class="systemitem">ora<em class="replaceable"><code>sid</code></em></code>
	    avec <code class="command">umask 0; lsnrctl start</code>) s'il a
	    également été stoppé (par
	    exemple en raison d'un redémarrage du
	    système).</p></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="indoraduringduringr3setup"></a>11.7.13.2. Etape OSUSERSIDADM_IND_ORA lors de l'utilisation de
	  <code class="command">R3SETUP</code></h4></div></div></div><p>Si <code class="command">R3SETUP</code> se plaint à ce stade,
	  éditez le fichier modèle utilisé par
	  <code class="command">R3SETUP</code> à ce moment
	  (<code class="filename">CENTRDB.R3S</code> (4.6B) ou
	  <code class="filename">CENTRAL.R3S</code> ou
	  <code class="filename">DATABASE.R3S</code> (4.6C)).  Localisez la
	  ligne <code class="literal">[OSUSERSIDADM_IND_ORA]</code> ou cherchez
	  l'unique entrée <code class="literal">STATUS=ERROR</code> et
	  éditez les valeurs suivantes:</p><pre class="programlisting">HOME=/home/<em class="replaceable"><code>sid</code></em>adm (was empty)
STATUS=OK (had status ERROR)</pre><p>Vous pouvez ensuite relancer
	  <code class="command">R3SETUP</code>.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="indoraduringr3setup"></a>11.7.13.3. Etape OSUSERDBSID_IND_ORA lors de l'utilisation de
	  <code class="command">R3SETUP</code></h4></div></div></div><p>Il est possible que <code class="command">R3SETUP</code> se
	  plaigne également à ce stade.  L'erreur ici
	  est similaire à celle durant la phase
	  OSUSERSIDADM_IND_ORA.  Editez juste le fichier modèle
	  utilisé par <code class="command">R3SETUP</code> à ce
	  moment (<code class="filename">CENTRDB.R3S</code> (4.6B) ou
	  <code class="filename">CENTRAL.R3S</code> ou
	  <code class="filename">DATABASE.R3S</code> (4.6C)).  Localisez la
	  ligne <code class="literal">[OSUSERDBSID_IND_ORA]</code> ou cherchez
	  l'unique entrée <code class="literal">STATUS=ERROR</code> et
	  éditez la valeur suivante dans la section:</p><pre class="programlisting">STATUS=OK</pre><p>Puis relancez <code class="command">R3SETUP</code>.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="oraviewvrffilenotfound"></a>11.7.13.4. Erreur <span class="errorname">oraview.vrf FILE NOT FOUND</span>
	  lors de l'installation d'<span class="trademark">Oracle</span>®</h4></div></div></div><p>Vous n'avez pas désélectionné la
	  <span class="emphasis"><em>visionneuse de texte en ligne d'<span class="trademark">Oracle</span>®</em></span>
	  avant de débuter l'installation.  Elle est
	  sélectionnée par défaut même si
	  cette option n'est actuellement pas disponible pour Linux.
	  Désélectionnez cet élément dans
	  le menu d'installation d'<span class="application"><span class="trademark">Oracle</span>®</span>
	  et relancez l'installation.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="textenvincalid"></a>11.7.13.5. Erreur <span class="errorname">TEXTENV_INVALID</span> lors du
	  lancement de <code class="command">R3SETUP</code>, RFC ou SAPgui</h4></div></div></div><p>Si cette erreur apparaît, la &#8220;locale&#8221;
	  correcte n'est pas présente.  La note <span class="trademark">SAP</span>® 0171356
	  liste les RPMs nécessaires (e.g.
	  <code class="filename">saplocales-1.0-3</code>,
	  <code class="filename">saposcheck-1.0-1</code> pour RedHat 6.1).
	  Dans le cas où vous avez ignoré toutes les
	  erreurs en rapport et modifié la valeur du
	  <code class="literal">STATUS</code> correspondant de la valeur
	  <code class="literal">ERROR</code> vers la valeur
	  <code class="literal">OK</code> (dans
	  <code class="filename">CENTRDB.R3S</code>) à chaque fois que
	  <code class="command">R3SETUP</code> s'est plaint et que vous avez
	  relancé <code class="command">R3SETUP</code>, le système
	  <span class="application"><span class="trademark">SAP</span>®</span> ne sera pas correctement
	  configuré et vous ne serez pas en mesure de vous
	  connecter au système avec
	  <span class="application">SAPgui</span>, même si le
	  système peut être lancé.  Tenter de se
	  connecter avec l'ancien <span class="application">SAPgui</span>
	  Linux donna les messages suivants:</p><pre class="programlisting">Sat May 5 14:23:14 2001
*** ERROR =&gt; no valid userarea given [trgmsgo. 0401]
Sat May 5 14:23:22 2001
*** ERROR =&gt; ERROR NR 24 occured [trgmsgi. 0410]
*** ERROR =&gt; Error when generating text environment. [trgmsgi. 0435]
*** ERROR =&gt; function failed [trgmsgi. 0447]
*** ERROR =&gt; no socket operation allowed [trxio.c 3363]
Speicherzugriffsfehler</pre><p>Ce comportement est dû au fait que
	  <span class="application"><span class="trademark">SAP</span>® <span class="trademark">R/3</span>®</span> est incapable d'assigner
	  correctement une &#8220;locale&#8221; et n'est
	  lui-même pas correctement configuré
	  (entrées manquantes dans certaines tables de la base
	  de données).  Pour être en mesure de se
	  connecter à <span class="application"><span class="trademark">SAP</span>®</span>, ajoutez
	  les entrées suivantes au fichier
	  <code class="filename">DEFAULT.PFL</code> (voir la note
	  0043288):</p><pre class="programlisting">abap/set_etct_env_at_new_mode = 0
install/collate/active = 0
rscp/TCP0B = TCP0B</pre><p>Redémarrer le système
	  <span class="application"><span class="trademark">SAP</span>®</span>.  Vous pouvez maintenant vous
	  connecter au système, même si les
	  paramétrages spécifiques à certaines
	  langues peuvent ne pas fonctionner comme attendu.
	  Après la correction des paramétrages de langue
	  (et après avoir fourni les &#8220;locales&#8221;
	  correctes), ces entrées peuvent être
	  supprimées du fichier
	  <code class="filename">DEFAULT.PFL</code> et le système
	  <span class="application"><span class="trademark">SAP</span>®</span> peut être
	  relancé.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="ora-00001"></a>11.7.13.6. Erreur <span class="errorcode">ORA-00001</span></h4></div></div></div><p>Cette erreur s'est produite uniquement avec
	  <span class="application"><span class="trademark">Oracle</span>® 8.1.7</span> sous FreeBSD.
	  La raison était que la base de données
	  <span class="application"><span class="trademark">Oracle</span>®</span> ne pouvait pas
	  s'initialiser correctement et plantait, laissant des
	  sémaphores et de la mémoire partagée
	  sur le système.  La tentative suivante de
	  démarrer la base de données retourna alors
	  l'erreur <span class="errorcode">ORA-00001</span>.</p><p>Retrouvez-les avec la commande <code class="command">ipcs
	  -a</code> et détruisez-les avec
	  <code class="command">ipcrm</code>.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="ora-00445pmon"></a>11.7.13.7. Erreur <span class="errorcode">ORA-00445</span>
	  (le processus en tâche de fond PMON n'a pas
	  démarré &#8212; &#8220;Background Process PMON Did Not
	  Start&#8221;)</h4></div></div></div><p>Cette erreur s'est produite avec <span class="application"><span class="trademark">Oracle</span>®
	  8.1.7</span>.  Cette erreur est rapportée si
	  la base de données est démarrée avec la
	  procédure <code class="command">startsap</code> habituelle (par
	  exemple <code class="command">startsap_majestix_00</code>) en tant
	  qu'utilisateur <code class="systemitem">prdadm</code>.</p><p>Une solution possible est de démarrer la base de
	  données sous l'utilisateur
	  <code class="systemitem">oraprd</code> avec la commande
	  <code class="command">svrmgrl</code>:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>svrmgrl</code></strong>
SVRMGR&gt; <strong class="userinput"><code>connect internal;</code></strong>
SVRMGR&gt; <strong class="userinput"><code>startup</code></strong>;
SVRMGR&gt; <strong class="userinput"><code>exit</code></strong></pre></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="ora-12546"></a>11.7.13.8. Erreur <span class="errorcode">ORA-12546</span> (Lancez le
	  programme d'écoute avec les droits corrects &#8212;
	  &#8220;Start Listener with Correct
	  Permissions&#8221;)</h4></div></div></div><p>Démarrez le programme d'écoute
	  (&#8220;listener&#8221;) d'<span class="application"><span class="trademark">Oracle</span>®</span>
	  sous l'utilisateur <code class="systemitem">oraids</code> avec les
	  commandes suivantes:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>umask 0; lsnrctl start</code></strong></pre><p>Sinon vous pourrez obtenir l'erreur
	  <span class="errorcode">ORA-12546</span> étant donné que les
	  &#8220;sockets&#8221; n'auront pas les bonnes permissions.
	  Consultez la note <span class="trademark">SAP</span>® 0072984.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="ora-27102"></a>11.7.13.9. Erreur <span class="errorcode">ORA-27102</span> (Mémoire
	  épuisée &#8212; &#8220;Out of Memory&#8221;)</h4></div></div></div><p>Cette erreur s'est produite quand nous avons essayé
	  des valeurs pour <code class="literal">MAXDSIZ</code> et
	  <code class="literal">DFLDSIZ</code> supérieures à 1 Go
	  (1024x1024x1024).  De plus, nous avons eu l'erreur
	  <span class="errorname">Linux Error 12: Cannot allocate
	  memory</span>.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="dipgntabindind"></a>11.7.13.10. Erreur [DIPGNTAB_IND_IND] lors de l'utilisation de
	  <code class="command">R3SETUP</code></h4></div></div></div><p>En général, vous devez consulter la note <span class="trademark">SAP</span>®
	  0130581 (&#8220;<code class="command">R3SETUP</code> step
	  <code class="literal">DIPGNTAB</code> terminates&#8221;).  Lors de
	  l'installation d'IDES, pour certaines raisons le processus
	  d'installation n'a pas utilisé le nom correct pour le
	  système <span class="application"><span class="trademark">SAP</span>®</span> &#8220;IDS&#8221;,
	  mais la chaîne de caractère <code class="literal">""</code>
	  à la place.  Cela conduit à des problèmes
	  mineurs d'accès aux répertoires, comme les chemins
	  sont générés dynamiquement en utilisant
	  l'identifiant système
	  <em class="replaceable"><code>SID</code></em> (dans ce cas IDS).  Aussi
	  au lieu d'accéder par:</p><pre class="programlisting">/usr/sap/IDS/SYS/...
/usr/sap/IDS/DVMGS00</pre><p>les chemins suivants ont été
	  utilisé:</p><pre class="programlisting">/usr/sap//SYS/...
/usr/sap/D00</pre><p>Afin de poursuivre l'installation, nous avons
	  créé un lien et un répertoire
	  supplémentaire:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>pwd</code></strong>
/compat/linux/usr/sap
<code class="prompt">#</code> <strong class="userinput"><code>ls -l</code></strong>
total 4
drwxr-xr-x 3  idsadm sapsys 512 May 5 11:20 D00
drwxr-x--x 5  idsadm sapsys 512 May 5 11:35 IDS
lrwxr-xr-x 1  root   sapsys 7 May 5 11:35 SYS -&gt; IDS/SYS
drwxrwxr-x 2  idsadm sapsys 512 May 5 13:00 tmp
drwxrwxr-x 11 idsadm sapsys 512 May 4 14:20 trans</pre><p>Nous avons également trouvé des notes <span class="trademark">SAP</span>®
	  (0029227 et 0008401) décrivant ce comportement.  Nous
	  n'avons pas rencontré un seul de ces problèmes
	  lors de l'installation de <span class="application">SAP
	  4.6C</span>.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="rfcrswboiniindind"></a>11.7.13.11. Erreur [RFCRSWBOINI_IND_IND] lors de l'utilisation de
	  <code class="command">R3SETUP</code></h4></div></div></div><p>Lors de l'installation de
	  <span class="application">SAP 4.6C</span>, cette erreur est juste
	  une conséquence d'une autre erreur survenant plus
	  tôt dans l'installation.  Dans ce cas, vous devez
	  consulter les fichiers journaux correspondant et corriger
	  le véritable problème.</p><p>Si après avoir cherché dans les fichiers
	  journaux cette erreur est confirmée (consultez les
	  notes <span class="trademark">SAP</span>®), vous pouvez modifier la valeur du
	  <code class="literal">STATUS</code> de l'étape posant
	  problème de la valeur <code class="literal">ERROR</code>
	  à la valeur <code class="literal">OK</code>.  Après
	  l'installation, vous devez exécuter le report
	  <code class="literal">RSWBOINS</code> à partir de la
	  transaction SE38.  Lire la note <span class="trademark">SAP</span>® 0162266 pour des
	  informations supplémentaires au sujet des phases
	  <code class="literal">RFCRSWBOINI</code> et
	  <code class="literal">RFCRADDBDIF</code>.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="rfcraddbdifindind"></a>11.7.13.12. Erreur [RFCRADDBDIF_IND_IND] lors de l'utilisation de
	  <code class="command">R3SETUP</code></h4></div></div></div><p>Ici les même restrictions s'appliquent:
	  assurez-vous en consultant les fichiers journaux, que cette
	  erreur n'est pas causée par d'autres problèmes
	  apparus précédemment.</p><p>Si vous avez confirmation que la note <span class="trademark">SAP</span>® 0162266
	  s'applique, modifiez juste la valeur du
	  <code class="literal">STATUS</code> de l'étape posant
	  problème de la valeur <code class="literal">ERROR</code>
	  à la valeur <code class="literal">OK</code> (fichier
	  <code class="filename">CENTRDB.R3S</code>) et relancez
	  <code class="command">R3SETUP</code>.  Après l'installation,
	  vous devez exécuter le report
	  <code class="literal">RADDBDIF</code> à partir de la
	  transaction SE38.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="sigactionsig31"></a>11.7.13.13. Erreur <span class="errorcode">sigaction sig31: File size limit
	  exceeded</span></h4></div></div></div><p>Cette erreur s'est produite lors du lancement des
	  processus <span class="application"><span class="trademark">SAP</span>®</span>
	  <span class="emphasis"><em>disp+work</em></span>.  Si
	  <span class="application"><span class="trademark">SAP</span>®</span> est démarré
	  avec la procédure <code class="command">startsap</code>, les
	  sous-processus sont alors lancés, et lancent les
	  autres processus <span class="application"><span class="trademark">SAP</span>®</span>.  Cela a
	  pour résultat le fait que la procédure ne
	  remarquera pas si quelque chose se passe mal.</p><p>Pour contrôler si les processus
	  <span class="application"><span class="trademark">SAP</span>®</span> ont démarré
	  correctement, consultez l'état des processus avec la
	  commande <code class="command">ps ax | grep
	  SID</code>, qui vous donnera
	  une liste de tous les processus
	  <span class="application"><span class="trademark">Oracle</span>®</span> et
	  <span class="application"><span class="trademark">SAP</span>®</span>.  S'il semble que certains
	  processus sont manquant ou que vous ne pouvez pas vous
	  connecter au système <span class="application"><span class="trademark">SAP</span>®</span>,
	  consultez les fichiers journaux correspondants qui peuvent
	  être trouvés dans le répertoire
	  <code class="filename">/usr/sap/SID/DVEBMGSnr/work/</code>.
	  Les fichiers à consulter sont
	  <code class="filename">dev_ms</code> et
	  <code class="filename">dev_disp</code>.</p><p>Le signal 31 se produit ici si la quantité de
	  mémoire partagée utilisée par
	  <span class="application"><span class="trademark">Oracle</span>®</span> et
	  <span class="application"><span class="trademark">SAP</span>®</span> dépasse celle
	  définie dans le fichier de configuration du noyau et
	  ce problème peut être résolu en
	  utilisant une valeur plus grande:</p><pre class="programlisting"># larger value for 46C production systems:
options SHMMAXPGS=393216
# smaller value sufficient for 46B:
#options SHMMAXPGS=262144</pre></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="saposcolfails"></a>11.7.13.14. Le lancement de <code class="command">saposcol</code>
	  échoue</h4></div></div></div><p>Il y a quelques problèmes avec le programme
	  <code class="command">saposcol</code> (version 4.6D).  Le
	  système <span class="trademark">SAP</span>® utilise <code class="command">saposcol</code> pour
	  collecter les données concernant les performances du
	  système.  Ce programme n'est pas nécessaire
	  pour utiliser le système <span class="trademark">SAP</span>®, aussi ce
	  problème peut être considéré
	  comme mineur.  Les anciennes versions (4.6B) fonctionnent,
	  mais ne récupèrent pas toutes les
	  données (nombreux sont les appels qui retournent
	  juste 0, par exemple pour l'utilisation du CPU).</p></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="linuxemu-oracle.html">Précédent</a> </td><td width="20%" align="center"><a accesskey="u" href="linuxemu.html">Niveau supérieur</a></td><td width="40%" align="right"> <a accesskey="n" href="linuxemu-advanced.html">Suivant</a></td></tr><tr><td width="40%" align="left" valign="top">11.6. Installer <span class="trademark">Oracle</span>® </td><td width="20%" align="center"><a accesskey="h" href="index.html">Sommaire</a></td><td width="40%" align="right" valign="top"> 11.8. Sujets avancés</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Ce document, ainsi que d'autres peut être téléchargé sur
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Pour toutes questions à propos de FreeBSD, lisez la
    <a href="http://www.FreeBSD.org/docs.html">documentation</a> avant de contacter
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Pour les questions sur cette documentation, contactez
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>