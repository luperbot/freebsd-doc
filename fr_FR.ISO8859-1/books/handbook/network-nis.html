<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>29.4. Services d'information réseau (NIS/YP)</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Manuel FreeBSD" /><link rel="up" href="network-servers.html" title="Chapitre 29. Serveurs réseau" /><link rel="prev" href="network-nfs.html" title="29.3. Système de fichiers réseau (NFS)" /><link rel="next" href="network-dhcp.html" title="29.5. Configuration réseau automatique (DHCP)" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">29.4. Services d'information réseau (NIS/YP)</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="network-nfs.html">Précédent</a> </td><th width="60%" align="center">Chapitre 29. Serveurs réseau</th><td width="20%" align="right"> <a accesskey="n" href="network-dhcp.html">Suivant</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="network-nis"></a>29.4. Services d'information réseau (NIS/YP)</h2></div><div><span class="authorgroup">Ecrit par <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Bill</span> <span class="surname">Swingle</span></span>. </span></div><div><span class="authorgroup">Augmenté par <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Eric</span> <span class="surname">Ogren</span></span> et <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Udo</span> <span class="surname">Erdelhoff</span></span>. </span></div></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp85047632"></a>29.4.1. Qu'est-ce que c'est?</h3></div></div></div><a id="idp85048272" class="indexterm"></a><a id="idp85048784" class="indexterm"></a><a id="idp85049296" class="indexterm"></a><a id="idp85049808" class="indexterm"></a><a id="idp85050320" class="indexterm"></a><a id="idp85050832" class="indexterm"></a><a id="idp85051344" class="indexterm"></a><p>NIS, qui signifie &#8220;Network Information
	Services&#8221; (services d'information réseau), fut
	développé par Sun Microsystems pour centraliser
	l'administration de systèmes <span class="trademark">UNIX</span>® (à l'origine
	<span class="trademark">SunOS</span>&#8482;).  C'est devenu aujourd'hui un standard industriel; tous
	les systèmes importants de type <span class="trademark">UNIX</span>® (<span class="trademark">Solaris</span>&#8482;, HP-UX,
	<span class="trademark">AIX</span>®, Linux, NetBSD, OpenBSD, FreeBSD, etc.) supportent
	NIS.</p><a id="idp85054672" class="indexterm"></a><p>NIS était appelé au départ
	&#8220;Yellow Pages&#8221; (page jaunes), mais étant
	donné que c'était marque déposée,
	Sun changea le nom.  L'ancienne appelation (et yp) est toujours
	rencontrée et utilisée.</p><a id="idp85055824" class="indexterm"></a><p>C'est un système client/serveur basé sur les
	RPCs qui permet à un groupe de machines d'un domaine NIS
	de partager un ensemble de fichiers de configuration communs.
	Cela permet à un administrateur système de mettre
	en place des clients NIS avec un minimum de configuration et
	d'ajouter, modifier ou supprimer les informations de
	configuration à partir d'un unique emplacement.</p><a id="idp85057360" class="indexterm"></a><p>C'est similaire au système de domaine <span class="trademark">Windows NT</span>®;
	bien que l'implémentation interne des deux n'est pas du
	tout identique, les fonctionnalités de base sont
	comparables.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp85058896"></a>29.4.2. Termes/processus à connaître</h3></div></div></div><p>Il existe plusieurs termes et processus utilisateurs que
	vous rencontrerez lors de la configuration de NIS sous FreeBSD,
	que vous vouliez mettre en place un serveur NIS ou un client
	NIS:</p><a id="idp85059920" class="indexterm"></a><a id="idp85060816" class="indexterm"></a><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Terme</th><th>Description</th></tr></thead><tbody><tr><td>Nom de domaine NIS</td><td>Un serveur maître NIS et tous ses clients
		(y compris ses serveurs esclaves) ont un domaine NIS.
		Similaire au nom de domaine <span class="trademark">Windows NT</span>®, le nom de
		domaine NIS n'a rien à voir avec le
		système DNS.</td></tr><tr><td><span class="application">rpcbind</span></td><td>Doit tourner afin d'activer les RPC (Remote
		Procedure Call, appel de procédures distantes, un
		protocole réseau utilisé par NIS).  Si
		<span class="application">rpcbind</span> ne tourne pas, il
		sera impossible de faire fonctionner un serveur NIS, ou
		jouer le rôle d'un client NIS.</td></tr><tr><td><span class="application">ypbind</span></td><td>Fait pointer un client NIS vers son serveur NIS.
		Il récupérera le nom de domaine NIS
		auprès du système, et en utilisant les
		RPC, se connectera au serveur.
		<span class="application">ypbind</span> est le coeur de la
		communication client-serveur dans un environnement NIS;
		si <span class="application">ypbind</span> meurt sur une
		machine cliente, elle ne sera pas en mesure
		d'accéder au serveur NIS.</td></tr><tr><td><span class="application">ypserv</span></td><td>Ne devrait tourner que sur les serveurs NIS,
		c'est le processus serveur en lui-même.  Si
		<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ypserv&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ypserv</span>(8)</span></a> meurt, alors le serveur ne pourra plus
		répondre aux requêtes NIS (avec un peu de
		chance, un serveur esclave prendra la relève).
		Il existe des implémentations de NIS (mais ce
		n'est pas le cas de celle de FreeBSD), qui n'essayent pas
		de se reconnecter à un autre serveur si le
		serveur utilisé précédemment meurt.
		Souvent, la seule solution dans ce cas est de relancer
		le processus serveur (ou même redémarrer le
		serveur) ou le processus
		<span class="application">ypbind</span> sur le client.</td></tr><tr><td><span class="application">rpc.yppasswdd</span></td><td>Un autre processus qui ne devrait tourner que sur
		les serveurs maître NIS; c'est un
		&#8220;daemon&#8221; qui permettra aux clients de
		modifier leur mot de passe NIS.  Si ce
		&#8220;daemon&#8221; ne tourne pas, les utilisateurs
		devront ouvrir une session sur le serveur maître
		NIS et y changer à cet endroit leur mot de
		passe.</td></tr></tbody></table></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp85083472"></a>29.4.3. Comment cela fonctionne-t-il?</h3></div></div></div><p>Dans un environnement NIS il y a trois types de machines:
	les serveurs maîtres, les serveurs esclaves et les
	clients.  Les serveurs centralisent les informations de
	configuration des machines.  Les serveurs maîtres
	détiennent l'exemplaire de référence de
	ces informations, tandis que les serveurs esclaves en ont un
	double pour assurer la redondance.  Les clients attendent des
	serveurs qu'ils leur fournissent ces informations.</p><p>Le contenu de nombreux fichiers peut être
	partagé de cette manière.  Les fichiers
	<code class="filename">master.passwd</code>,
	<code class="filename">group</code>, et <code class="filename">hosts</code> sont
	fréquemment partagés par l'intermédiaire
	de NIS.  A chaque fois qu'un processus d'une machine cliente a
	besoin d'une information qu'il trouverait normalement
	localement dans un de ces fichiers, il émet une
	requête au serveur NIS auquel il est rattaché
	pour obtenir cette information.</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp85086032"></a>29.4.3.1. Type de machine</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a id="idp85087312" class="indexterm"></a><p>Un <span class="emphasis"><em>serveur NIS maître</em></span>.
	      Ce serveur, analogue à un contrôleur de
	      domaine <span class="trademark">Windows NT</span>® primaire, gère les fichiers
	      utilisés par tous les clients NIS.  Les fichiers
	      <code class="filename">passwd</code>, <code class="filename">group</code>,
	      et les autres fichiers utilisés par les clients NIS
	      résident sur le serveur maître.</p><div xmlns="" class="note"><h3 class="admontitle">Note: </h3><p xmlns="http://www.w3.org/1999/xhtml">Il est possible pour une machine d'être
		un serveur NIS maître pour plus qu'un domaine NIS.
		Cependant, ce cas ne sera pas abordé dans cette
		introduction, qui suppose un environnement NIS
		relativement petit.</p></div></li><li class="listitem"><a id="idp85091664" class="indexterm"></a><p><span class="emphasis"><em>Serveurs NIS esclaves</em></span>.
	      Similaire aux contrôleurs de domaine <span class="trademark">Windows NT</span>® de
	      secours, les serveurs NIS esclaves possèdent une
	      copie des fichiers du serveur NIS maître.  Les
	      serveurs NIS esclaves fournissent la redondance
	      nécessaire dans les environnements importants.  Ils
	      aident également à à la
	      répartition de la charge du serveur maître:
	      les clients NIS s'attachent toujours au serveur NIS dont
	      ils reçoivent la réponse en premier, y
	      compris si c'est la réponse d'un serveur
	      esclave.</p></li><li class="listitem"><a id="idp85094352" class="indexterm"></a><p><span class="emphasis"><em>Clients NIS</em></span>.
	      Les clients NIS, comme la plupart des stations de
	      travail <span class="trademark">Windows NT</span>®, s'identifient auprès du
	      serveur NIS (ou le contrôleur de domaine
	      <span class="trademark">Windows NT</span>® dans le cas de stations de travail
	      <span class="trademark">Windows NT</span>®) pour l'ouverture de sessions.</p></li></ul></div></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp85102416"></a>29.4.4. Utiliser NIS/YP</h3></div></div></div><p>Cette section traitera de la configuration d'un
	exemple d'environnement NIS.</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp85103440"></a>29.4.4.1. Planification</h4></div></div></div><p>Supposons que vous êtes l'administrateur d'un
	  petit laboratoire universitaire.  Ce laboratoire dispose de
	  15 machines FreeBSD, et ne possède pas actuellement de
	  point central d'administration; chaque machine a ses propres
	  fichiers <code class="filename">/etc/passwd</code> et
	  <code class="filename">/etc/master.passwd</code>.  Ces fichiers sont
	  maintenus à jour entre eux grâce à des
	  interventions manuelles; actuellement quand vous ajoutez un
	  utilisateur pour le laboratoire, vous devez exécuter
	  <code class="command">adduser</code> sur les 15 machines.  Cela doit
	  changer, vous avez donc décidé de convertir le
	  laboratoire à l'utilisation de NIS en utilisant deux
	  machines comme serveurs.</p><p>La configuration du laboratoire ressemble à
	  quelque chose comme:</p><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /><col /></colgroup><thead><tr><th>Nom de machine</th><th>Adresse IP</th><th>Rôle de la machine</th></tr></thead><tbody><tr><td><code class="systemitem">ellington</code></td><td><code class="systemitem">10.0.0.2</code></td><td>Maître NIS</td></tr><tr><td><code class="systemitem">coltrane</code></td><td><code class="systemitem">10.0.0.3</code></td><td>Esclave NIS</td></tr><tr><td><code class="systemitem">basie</code></td><td><code class="systemitem">10.0.0.4</code></td><td>Station de travail</td></tr><tr><td><code class="systemitem">bird</code></td><td><code class="systemitem">10.0.0.5</code></td><td>Machine cliente</td></tr><tr><td><code class="systemitem">cli[1-11]</code></td><td><code class="systemitem">10.0.0.[6-17]</code></td><td>Autres machines clientes</td></tr></tbody></table></div><p>Si vous mettez en place un système NIS pour la
	  première fois, c'est une bonne idée de penser
	  à ce que vous voulez en faire.  Peu importe la taille
	  de votre réseau, il y a quelques décisions
	  à prendre.</p><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp85123792"></a>29.4.4.1.1. Choisir un nom de domaine NIS</h5></div></div></div><a id="idp85124432" class="indexterm"></a><p>Ce n'est pas le &#8220;nom de domaine&#8221; dont vous
	    avez l'habitude.  Il est plus exactement appelé
	    &#8220;nom de domaine NIS&#8221;.  Quand un client diffuse
	    des requêtes pour obtenir des informations, il y
	    inclut le nom de domaine NIS auquel il appartient.  C'est
	    ainsi que plusieurs serveurs d'un même réseau
	    peuvent savoir lequel d'entre eux doit répondre aux
	    différentes requêtes.  Pensez au nom de domaine
	    NIS comme le nom d'un groupe de machines qui sont
	    reliées entre elles.</p><p>Certains choisissent d'utiliser leur nom de domaine
	    Internet pour nom de domaine NIS.  Ce n'est pas
	    conseillé parce que c'est une source de confusion
	    quand il faut résoudre un problème
	    réseau.  Le nom de domaine NIS devrait être
	    unique sur votre réseau et est utile s'il
	    décrit le groupe de machines qu'il
	    représente.  Par exemple, le département
	    artistique de Acme Inc. pourrait avoir
	    &#8220;acme-art&#8221; comme nom de domaine NIS.  Pour
	    notre exemple, nous supposerons que vous avez choisi le
	    nom <span class="emphasis"><em>test-domain</em></span>.</p><a id="idp85126736" class="indexterm"></a><p>Cependant, certains systèmes d'exploitation
	    (notamment <span class="trademark">SunOS</span>&#8482;) utilisent leur nom de domaine NIS pour
	    nom de domaine Internet.  Si une ou plusieurs machines sur
	    votre réseau présentent cette restriction,
	    vous <span class="emphasis"><em>devez</em></span> utiliser votre nom de
	    domaine Internet pour nom de domaine NIS.</p></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp85128784"></a>29.4.4.1.2. Contraintes au niveau du serveur</h5></div></div></div><p>Il y a plusieurs choses à garder à
	    l'esprit quand on choisit une machine destinée
	    à être un serveur NIS.  Un des
	    problèmes du NIS est le degré de
	    dépendance des clients vis à vis du serveur.
	    Si un client ne peut contacter le serveur de son domaine
	    NIS, la plupart du temps la machine n'est plus utilisable.
	    L'absence d'information sur les utilisateurs et les
	    groupes bloque la plupart des systèmes.  Vous devez
	    donc vous assurer de choisir une machine qui ne sera pas
	    redémarré fréquemment, ni
	    utilisée pour du développement.
	    Idéalement, le serveur NIS devrait être une
	    machine dont l'unique utilisation serait d'être un
	    serveur NIS.  Si vous avez un réseau qui n'est pas
	    très chargé, il peut être
	    envisagé de mettre le serveur NIS sur une machine
	    fournissant d'autres services, gardez juste à
	    l'esprit que si le serveur NIS n'est pas disponible
	    à un instant donné, cela affectera
	    <span class="emphasis"><em>tous</em></span> vos clients NIS.</p></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp85130448"></a>29.4.4.2. Serveurs NIS</h4></div></div></div><p>La copie de référence de toutes les
	  informations NIS est stockée sur une seule machine
	  appelée serveur NIS maître.  Les bases de
	  données utilisées pour le stockage de ces
	  informations sont appelées tables NIS (&#8220;NIS
	  maps&#8221;).  Sous FreeBSD ces tables se trouvent dans
	  <code class="filename">/var/yp/[domainname]</code> où
	  <code class="filename">[domainname]</code> est le nom du domaine NIS
	  concerné.  Un seul serveur NIS peut gérer
	  plusieurs domaines à la fois, il peut donc y avoir
	  plusieurs de ces répertoires, un pour chaque domaine.
	  Chaque domaine aura son propre jeu de tables.</p><p>Les serveurs NIS maîtres et esclaves traitent
	  toutes les requêtes NIS à l'aide du
	  &#8220;daemon&#8221; <span class="application">ypserv</span>.
	  <span class="application">ypserv</span> reçoit les
	  requêtes des clients NIS, traduit le nom de domaine et
	  le nom de table demandés en chemin d'accès
	  à la base de données correspondante et
	  transmet l'information de la base de données au
	  client.</p><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp85133392"></a>29.4.4.2.1. Configurer un serveur NIS maître</h5></div></div></div><a id="idp85134032" class="indexterm"></a><p>Selon vos besoins, la configuration d'un serveur NIS
	    maître peut être relativement simple.  FreeBSD
	    offre par défaut un support direct du NIS.  Tout ce
	    dont vous avez besoin est d'ajouter les lignes qui suivent
	    au fichier <code class="filename">/etc/rc.conf</code>, et FreeBSD
	    s'occupera du reste pour vous.</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><pre class="programlisting">nisdomainname="test-domain"</pre><p>
		Cette ligne définie le nom de domaine NIS,
		<code class="literal">test-domain</code>, à la
		configuration du réseau (e.g. au
		démarrage).</p></li><li class="step"><pre class="programlisting">nis_server_enable="YES"</pre><p>
		Demandera à FreeBSD de lancer les processus du
		serveur NIS dès que le réseau est en
		fonctionnement.</p></li><li class="step"><pre class="programlisting">nis_yppasswdd_enable="YES"</pre><p>
		Ceci activera le &#8220;daemon&#8221;
		<span class="application">rpc.yppasswdd</span>, qui, comme
		mentionné précedement, permettra aux
		utilisateurs de modifier leur mot de passe à
		partir d'une machine cliente.</p></li></ol></div><div xmlns="" class="note"><h3 class="admontitle">Note: </h3><p xmlns="http://www.w3.org/1999/xhtml">Selon votre configuration NIS, vous aurez
	      peut-être à ajouter des entrées
	      supplémentaires.  Consultez la <a class="link" href="network-nis.html#network-nis-server-is-client" title="29.4.10. Serveurs NIS qui sont aussi des clients NIS">section sur les
	      serveurs NIS qui sont également des clients
	      NIS</a>, plus bas, pour plus de détails.</p></div><p>Maintenant, tout ce que vous devez faire est
	    d'exécuter la commande
	    <code class="command">/etc/netstart</code> en tant que
	    super-utilisateur.  Elle configurera tout en utilisant les
	    valeurs que vous avez définies dans
	    <code class="filename">/etc/rc.conf</code>.</p></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp85147088"></a>29.4.4.2.2. Initialisation des tables NIS</h5></div></div></div><a id="idp85147728" class="indexterm"></a><p>Les <span class="emphasis"><em>tables NIS</em></span> sont des fichiers
	    de base de données, qui sont conservés dans le
	    répertoire <code class="filename">/var/yp</code>.  Elles sont
	    générées à partir des fichiers
	    de configuration du répertoire <code class="filename">/etc</code> du serveur NIS
	    maître, avec une exception: le fichier
	    <code class="filename">/etc/master.passwd</code>.  Et cela pour une
	    bonne raison, vous ne voulez pas divulguer les mots de passe
	    pour l'utilisateur <code class="systemitem">root</code> et autres
	    comptes d'administration aux autres serveurs du domaine NIS.
	    Par conséquent, avant d'initialiser les tables NIS,
	    vous devrez faire:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cp /etc/master.passwd /var/yp/master.passwd</code></strong>
  <code class="prompt">#</code> <strong class="userinput"><code>cd /var/yp</code></strong>
  <code class="prompt">#</code> <strong class="userinput"><code>vi master.passwd</code></strong></pre><p>Vous devrez effacer toutes les entrées
	    concernant les comptes système
	    (<code class="systemitem">bin</code>, <code class="systemitem">tty</code>,
	    <code class="systemitem">kmem</code>, <code class="systemitem">games</code>,
	    etc.), tout comme les comptes que vous ne désirez
	    pas propager aux clients NIS (par exemple
	    <code class="systemitem">root</code> et tout autre compte avec un UID
	    0 (super-utilisateur)).</p><div xmlns="" class="note"><h3 class="admontitle">Note: </h3><p xmlns="http://www.w3.org/1999/xhtml">Assurez-vous que le fichier
	    <code class="filename">/var/yp/master.passwd</code> n'est pas
	    lisible par son groupe ou le reste du monde (mode 600)!
	    Utilisez la commande <code class="command">chmod</code> si
	    nécessaire.</p></div><a id="idp85162320" class="indexterm"></a><p>Cela achevé, il est temps d'initialiser les
	    tables NIS!  FreeBSD dispose d'une procédure
	    appelée <code class="command">ypinit</code> pour le faire
	    à votre place (consultez sa page de manuel pour plus
	    d'informations).  Notez que cette procédure est
	    disponible sur la plupart des systèmes d'exploitation
	    du type <span class="trademark">UNIX</span>®, mais pas tous.  Sur Digital UNIX/Compaq
	    Tru64 UNIX, elle est appelée
	    <code class="command">ypsetup</code>.  Comme nous voulons
	    générer les tables pour un maître NIS,
	    nous passons l'option <code class="option">-m</code> à
	    <code class="command">ypinit</code>.  Pour générer les
	    tables NIS, en supposant que vous avez effectué les
	    étapes précédentes, lancez:</p><pre class="screen">ellington<code class="prompt">#</code> <strong class="userinput"><code>ypinit -m test-domain</code></strong>
Server Type: MASTER Domain: test-domain
Creating an YP server will require that you answer a few questions.
Questions will all be asked at the beginning of the procedure.
Do you want this procedure to quit on non-fatal errors? [y/n: n] <strong class="userinput"><code>n</code></strong>
Ok, please remember to go back and redo manually whatever fails.
If you don't, something might not work.
At this point, we have to construct a list of this domains YP servers.
rod.darktech.org is already known as master server.
Please continue to add any slave servers, one per line. When you are
done with the list, type a &lt;control D&gt;.
master server   :  ellington
next host to add:  <strong class="userinput"><code>coltrane</code></strong>
next host to add:  <strong class="userinput"><code>^D</code></strong>
The current list of NIS servers looks like this:
ellington
coltrane
Is this correct?  [y/n: y] <strong class="userinput"><code>y</code></strong>

[..output from map generation..]

NIS Map update completed.
ellington has been setup as an YP master server without any errors.</pre><p><code class="command">ypinit</code> devrait avoir
	    créé <code class="filename">/var/yp/Makefile</code>
	    à partir de
	    <code class="filename">/var/yp/Makefile.dist</code>.  Une fois
	    créé, ce fichier suppose que vous être
	    dans un environnement composé uniquement de
	    machines FreeBSD et avec un seul serveur.  Comme
	    <code class="literal">test-domain</code> dispose également
	    d'un serveur esclave, vous devez éditer
	    <code class="filename">/var/yp/Makefile</code>:</p><pre class="screen">ellington<code class="prompt">#</code> <strong class="userinput"><code>vi /var/yp/Makefile</code></strong></pre><p>Vous devez commenter la ligne</p><pre class="programlisting">NOPUSH = "True"</pre><p>(si elle n'est pas déjà
	    commentée).</p></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp85176656"></a>29.4.4.2.3. Configurer un serveur NIS esclave</h5></div></div></div><a id="idp85177296" class="indexterm"></a><p>Configurer un serveur NIS esclave est encore plus
	    simple que de configurer un serveur maître.  Ouvrez
	    une session sur le serveur esclave et éditez le
	    fichier <code class="filename">/etc/rc.conf</code> comme
	    précédemment.  La seule différence est
	    que nous devons maintenant utiliser l'option
	    <code class="option">-s</code> avec <code class="command">ypinit</code>.
	    L'option <code class="option">-s</code> a besoin du nom du serveur NIS
	    maître, donc notre ligne de commande ressemblera
	    à:</p><pre class="screen">coltrane<code class="prompt">#</code> <strong class="userinput"><code>ypinit -s ellington test-domain</code></strong>

Server Type: SLAVE Domain: test-domain Master: ellington

Creating an YP server will require that you answer a few questions.
Questions will all be asked at the beginning of the procedure.

Do you want this procedure to quit on non-fatal errors? [y/n: n]  <strong class="userinput"><code>n</code></strong>

Ok, please remember to go back and redo manually whatever fails.
If you don't, something might not work.
There will be no further questions. The remainder of the procedure
should take a few minutes, to copy the databases from ellington.
Transferring netgroup...
ypxfr: Exiting: Map successfully transferred
Transferring netgroup.byuser...
ypxfr: Exiting: Map successfully transferred
Transferring netgroup.byhost...
ypxfr: Exiting: Map successfully transferred
Transferring master.passwd.byuid...
ypxfr: Exiting: Map successfully transferred
Transferring passwd.byuid...
ypxfr: Exiting: Map successfully transferred
Transferring passwd.byname...
ypxfr: Exiting: Map successfully transferred
Transferring group.bygid...
ypxfr: Exiting: Map successfully transferred
Transferring group.byname...
ypxfr: Exiting: Map successfully transferred
Transferring services.byname...
ypxfr: Exiting: Map successfully transferred
Transferring rpc.bynumber...
ypxfr: Exiting: Map successfully transferred
Transferring rpc.byname...
ypxfr: Exiting: Map successfully transferred
Transferring protocols.byname...
ypxfr: Exiting: Map successfully transferred
Transferring master.passwd.byname...
ypxfr: Exiting: Map successfully transferred
Transferring networks.byname...
ypxfr: Exiting: Map successfully transferred
Transferring networks.byaddr...
ypxfr: Exiting: Map successfully transferred
Transferring netid.byname...
ypxfr: Exiting: Map successfully transferred
Transferring hosts.byaddr...
ypxfr: Exiting: Map successfully transferred
Transferring protocols.bynumber...
ypxfr: Exiting: Map successfully transferred
Transferring ypservers...
ypxfr: Exiting: Map successfully transferred
Transferring hosts.byname...
ypxfr: Exiting: Map successfully transferred

coltrane has been setup as an YP slave server without any errors.
Don't forget to update map ypservers on ellington.</pre><p>Vous devriez avoir un répertoire appelé
	    <code class="filename">/var/yp/test-domain</code>.  Des copies des
	    tables du serveur NIS maître devraient se trouver
	    dans ce répertoire.  Vous devrez vous assurer que
	    ces tables restent à jour.  Les entrées
	    suivantes dans <code class="filename">/etc/crontab</code> sur vos
	    serveurs esclaves s'en chargeront:</p><pre class="programlisting">20      *       *       *       *       root   /usr/libexec/ypxfr passwd.byname
21      *       *       *       *       root   /usr/libexec/ypxfr passwd.byuid</pre><p>Ces deux lignes obligent le serveur esclave à
	    synchroniser ses tables avec celles du serveur
	    maître.  Bien que ces entrées ne soient pas
	    indispensables puisque le serveur maître essaye de
	    s'assurer que toute modification de ses tables NIS soit
	    répercutée à ses serveurs esclaves et
	    comme l'information sur les mots de passe est vitale pour
	    les systèmes qui dépendent du serveur, il
	    est bon de forcer les mises à jour.  C'est d'autant
	    plus important sur les réseaux chargés
	    où il n'est pas certain que les mises à jour
	    soient intégrales.</p><p>Maintenant, exécutez la commande
	    <code class="command">/etc/netstart</code> sur le serveur esclave,
	    ce qui lancera le serveur NIS.</p></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp85193168"></a>29.4.4.3. Clients NIS</h4></div></div></div><p>Un client NIS établit une connexion avec un
	  serveur NIS donné par l'intermédiaire du
	  &#8220;daemon&#8221; <span class="application">ypbind</span>.
	  <span class="application">ypbind</span> consulte le nom de domaine
	  par défaut du système (défini par la
	  commande <code class="command">domainname</code>), et commence
	  à diffuser des requêtes RPC sur le
	  réseau local.  Ces requêtes précisent le
	  nom de domaine auquel <span class="application">ypbind</span>
	  essaye de se rattacher.  Si un serveur configuré pour
	  ce domaine reçoit une des requêtes
	  diffusées, il répond à
	  <span class="application">ypbind</span>, qui enregistrera
	  l'adresse du serveur.  S'il y a plusieurs serveurs
	  disponibles (un maître et plusieurs esclaves par
	  example), <span class="application">ypbind</span> utilisera
	  l'adresse du premier à répondre.  Dès
	  lors, le système client dirigera toutes ses
	  requêtes NIS vers ce serveur.
	  <span class="application">ypbind</span> enverra de temps en temps
	  des requêtes &#8220;ping&#8221; au serveur pour
	  s'assurer qu'il fonctionne toujours.  S'il ne reçoit
	  pas de réponse dans un laps de temps raisonnable,
	  <span class="application">ypbind</span> considérera ne plus
	  être attaché au domaine et recommencera
	  à diffuser des requêtes dans l'espoir de
	  trouver un autre serveur.</p><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp85197392"></a>29.4.4.3.1. Configurer un client NIS</h5></div></div></div><a id="idp85198032" class="indexterm"></a><p>Configurer une machine FreeBSD en client NIS est assez
	    simple.</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Editez le fichier
		<code class="filename">/etc/rc.conf</code> et ajoutez les lignes
		suivantes afin de définir le nom de domaine NIS
		et lancez <span class="application">ypbind</span> au
		démarrage du réseau:</p><pre class="programlisting">nisdomainname="test-domain"
nis_client_enable="YES"</pre></li><li class="step"><p>Pour importer tous les mots de passe disponibles
		du serveur NIS, effacez tous les comptes utilisateur de
		votre fichier <code class="filename">/etc/master.passwd</code> et
		utilisez <code class="command">vipw</code> pour ajouter la ligne
		suivante à la fin du fichier:</p><pre class="programlisting">+:::::::::</pre><div xmlns="" class="note"><h3 class="admontitle">Note: </h3><p xmlns="http://www.w3.org/1999/xhtml">Cette ligne permet à chaque utilisateur
		  ayant un compte valide dans les tables de mots de
		  passe du serveur d'avoir un compte sur le client.  Il
		  y a plusieurs façons de configurer votre client
		  NIS en modifiant cette ligne.  Consultez la section
		  <a class="link" href="network-nis.html#network-netgroups" title="29.4.7. Utiliser les groupes réseau (&#8220;netgroups&#8221;)">groupes
		  réseau</a> plus bas pour plus
		  d'informations.  Pour en savoir plus, reportez-vous
		  à l'ouvrage <code class="literal">Managing NFS and
		  NIS</code> de chez O'Reilly.</p></div><div xmlns="" class="note"><h3 class="admontitle">Note: </h3><p xmlns="http://www.w3.org/1999/xhtml">Vous devriez conservez au moins un compte local
		  (i.e. non-importé via NIS) dans votre fichier
		  <code class="filename">/etc/master.passwd</code> et ce compte
		  devrait également être membre du groupe
		  <code class="systemitem">wheel</code>.  Si quelque chose se
		  passe mal avec NIS, ce compte peut être
		  utilisé pour ouvrir une session à
		  distance, devenir <code class="systemitem">root</code>, et
		  effectuer les corrections nécessaires.</p></div></li><li class="step"><p>Pour importer tous les groupes disponibles du
		serveur NIS, ajoutez cette ligne à votre fichier
		<code class="filename">/etc/group</code>:</p><pre class="programlisting">+:*::</pre></li></ol></div><p>Une fois que c'est fait, vous devriez être en
	    mesure d'exécuter <code class="command">ypcat passwd</code>
	    et voir la table des mots de passe du serveur NIS.</p></div></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp85210576"></a>29.4.5. Sécurité du NIS</h3></div></div></div><p>De façon générale, n'importe quel
	utilisateur distant peut émettre une requête RPC
	à destination de <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ypserv&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ypserv</span>(8)</span></a> et
	récupérer le contenu de vos tables NIS, en
	supposant que l'utilisateur distant connaisse votre nom de
	domaine.  Pour éviter ces transactions non
	autorisées, <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ypserv&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ypserv</span>(8)</span></a> dispose d'une
	fonctionnalité appelée &#8220;securenets&#8221;
	qui peut être utilisée pour restreindre
	l'accès à un ensemble donné de machines.
	Au démarrage, <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ypserv&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ypserv</span>(8)</span></a> tentera de charger les
	informations sur les &#8220;securenets&#8221; à partir
	d'un fichier nommé
	<code class="filename">/var/yp/securenets</code>.</p><div xmlns="" class="note"><h3 class="admontitle">Note: </h3><p xmlns="http://www.w3.org/1999/xhtml">Ce chemin d'accès peut varier en fonction du
	  chemin d'accès défini par l'option
	  <code class="option">-p</code>.  Ce fichier contient des entrées
	  sous la forme de définitions de réseau et d'un
	  masque de sous-réseau séparé par une
	  espace.  Les lignes commençant par un &#8220;#&#8221;
	  sont considérées comme des commentaires.  Un
	  exemple de fichier <code class="filename">securenets</code> peut
	  ressembler à ceci:</p></div><pre class="programlisting"># autorise les connexions depuis la machine locale -- obligatoire
127.0.0.1     255.255.255.255
# autorise les connexions de n'importe quelle machine
# du réseau 192.168.128.0
192.168.128.0 255.255.255.0
# autorise les connexions de n'importe quelle machine
# entre 10.0.0.0 et 10.0.15.255
# y compris les machines du laboratoire de test
10.0.0.0      255.255.240.0</pre><p>Si <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ypserv&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ypserv</span>(8)</span></a> reçoit une requête d'une
	adresse qui satisfait à ces règles, il la traite
	normalement.  Si une adresse ne correspond pas aux
	règles, la requête sera ignorée et un
	message d'avertissement sera enregistré.  Si le fichier
	<code class="filename">/var/yp/securenets</code> n'existe pas,
	<code class="command">ypserv</code> autorisera les connexions à
	partir de n'importe quelle machine.</p><p>Le programme <code class="command">ypserv</code> supporte
	également l'outil <span class="application">TCP Wrapper</span>
	de Wietse Venema.  Cela permet à l'administrateur
	d'utiliser les fichiers de configuration de
	<span class="application">TCP Wrapper</span> pour contrôler les
	accès à la place de
	<code class="filename">/var/yp/securenets</code>.</p><div xmlns="" class="note"><h3 class="admontitle">Note: </h3><p xmlns="http://www.w3.org/1999/xhtml">Bien que ces deux mécanismes de contrôle
	  d'accès offrent une certaine sécurité, il
	  sont, de même que le test du port
	  privilégié, vulnérables aux attaques par
	  &#8220;usurpation&#8221; d'adresses.  Tout le trafic relatif
	  à NIS devrait être bloqué par votre
	  coupe-feu.</p><p xmlns="http://www.w3.org/1999/xhtml">Les serveurs utilisant
	  <code class="filename">/var/yp/securenets</code> pourront
	  échouer à traiter les requêtes de
	  clients NIS légitimes avec des implémentation
	  TCP/IP archaïques.  Certaines de ces
	  implémentations positionnent à zéro les
	  bits de la partie machine de l'adresse IP lors de diffusions
	  et/ou sont incapables respecter le masque de
	  sous-réseau lors du calcul de l'adresse de diffusion.
	  Alors que certains de ces problèmes peuvent
	  être corrigés en modifiant la configuration du
	  client, d'autres problèmes peuvent forcer le retrait
	  des systèmes clients fautifs ou l'abandon de
	  <code class="filename">/var/yp/securenets</code>.</p><p xmlns="http://www.w3.org/1999/xhtml">Utiliser <code class="filename">/var/yp/securenets</code> sur un
	  serveur avec une implémentation TCP/IP archaïque
	  est une mauvaise idée et sera à l'origine de
	  pertes de la fonctionnalité NIS pour une grande
	  partie de votre réseau.</p><a xmlns="http://www.w3.org/1999/xhtml" id="idp85235152" class="indexterm"></a><p xmlns="http://www.w3.org/1999/xhtml">L'utilisation du système
	  <span class="application">TCP Wrapper</span> augmente les temps de
	  latence de votre serveur NIS.  Le délai
	  supplémentaire peut être suffisamment long pour
	  dépasser le délai d'attente des programmes
	  clients, tout particulièrement sur des réseaux
	  chargés ou avec des serveurs NIS lents.  Si un ou
	  plusieurs de vos systèmes clients souffrent de ces
	  symptômes, vous devrez convertir les systèmes
	  clients en question en serveurs esclaves NIS et les forcer
	  à se rattacher à eux-mêmes.</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp85236688"></a>29.4.6. Interdire l'accès à certains
	utilisateurs</h3></div></div></div><p>Dans notre laboratoire, il y a une machine
	<code class="systemitem">basie</code> qui est supposée être une
	station de travail de la faculté.  Nous ne voulons pas
	retirer cette machine du domaine NIS, le fichier
	<code class="filename">passwd</code> sur le serveur maître NIS
	contient les comptes pour la faculté et les
	étudiants.  Que pouvons-nous faire?</p><p>Il existe une méthode pour interdire à
	certains utilisateurs d'ouvrir une session sur une machine,
	même s'ils sont présents dans la base de
	données NIS.  Pour cela, tout ce dont vous avez besoin
	de faire est d'ajouter
	<span class="emphasis"><em>-<em class="replaceable"><code>nom_utilisateur</code></em></em></span>
	à la fin du fichier
	<code class="filename">/etc/master.passwd</code> sur la machine
	cliente, où <em class="replaceable"><code>nom_utilisateur</code></em>
	est le nom de l'utilisateur auquel vous désirez refuser
	l'accès.  Ceci doit être fait de
	préférence avec <code class="command">vipw</code>, puisque
	<code class="command">vipw</code> contrôlera vos changements au
	fichier <code class="filename">/etc/master.passwd</code>, et
	régénérera automatiquement la base de
	données à la fin de l'édition.  Par
	exemple, si nous voulions interdire l'ouverture de session
	à l'utilisateur <code class="systemitem">bill</code> sur la
	machine <code class="systemitem">basie</code> nous ferions:</p><pre class="screen">basie<code class="prompt">#</code> <strong class="userinput"><code>vipw</code></strong>
<strong class="userinput"><code>[add -bill to the end, exit]</code></strong>
vipw: rebuilding the database...
vipw: done

basie<code class="prompt">#</code> <strong class="userinput"><code>cat /etc/master.passwd</code></strong>

root:[password]:0:0::0:0:The super-user:/root:/bin/csh
toor:[password]:0:0::0:0:The other super-user:/root:/bin/sh
daemon:*:1:1::0:0:Owner of many system processes:/root:/sbin/nologin
operator:*:2:5::0:0:System &amp;:/:/sbin/nologin
bin:*:3:7::0:0:Binaries Commands and Source,,,:/:/sbin/nologin
tty:*:4:65533::0:0:Tty Sandbox:/:/sbin/nologin
kmem:*:5:65533::0:0:KMem Sandbox:/:/sbin/nologin
games:*:7:13::0:0:Games pseudo-user:/usr/games:/sbin/nologin
news:*:8:8::0:0:News Subsystem:/:/sbin/nologin
man:*:9:9::0:0:Mister Man Pages:/usr/share/man:/sbin/nologin
bind:*:53:53::0:0:Bind Sandbox:/:/sbin/nologin
uucp:*:66:66::0:0:UUCP pseudo-user:/var/spool/uucppublic:/usr/libexec/uucp/uucico
xten:*:67:67::0:0:X-10 daemon:/usr/local/xten:/sbin/nologin
pop:*:68:6::0:0:Post Office Owner:/nonexistent:/sbin/nologin
nobody:*:65534:65534::0:0:Unprivileged user:/nonexistent:/sbin/nologin
+:::::::::
-bill

basie<code class="prompt">#</code></pre></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="network-netgroups"></a>29.4.7. Utiliser les groupes réseau
	(&#8220;netgroups&#8221;)</h3></div><div><span class="authorgroup">Contribution de <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Udo</span> <span class="surname">Erdelhoff</span></span>. </span></div></div></div><a id="idp85247696" class="indexterm"></a><p>La méthode présentée dans la section
	précédente fonctionne relativement bien si vous
	avez besoin de règles spécifiques pour un petit
	nombre d'utilisateurs et/ou de machines.  Sur les
	réseaux plus important, vous
	<span class="emphasis"><em>oublierez</em></span> d'interdire l'accès aux
	machines sensibles à certains utilisateurs, ou vous
	devrez même modifier chaque machine
	séparément, perdant par là même les
	avantages du NIS: l'administration
	<span class="emphasis"><em>centralisée</em></span>.</p><p>La solution des développeurs du NIS pour ce
	problème est appelé <span class="emphasis"><em>groupes
	réseau</em></span> (&#8220;netgroups&#8221;).  Leur
	objet et définition peuvent être comparés
	aux groupes utilisés par les systèmes <span class="trademark">UNIX</span>®.
	La principale différence étant l'absence
	d'identifiants (ID) numériques et la capacité de
	définir un groupe réseau à l'aide de
	comptes utilisateur et d'autres groupes réseau.</p><p>Les groupes réseau furent développés
	pour gérer des réseaux importants et complexes
	avec des centaines de machines et d'utilisateurs.  C'est une
	bonne option si vous êtes forcés de faire avec
	une telle situation.  Cependant leur complexité rend
	impossible une explication avec des exemples simples.
	L'exemple utilisé dans le reste de cette section met en
	évidence ce problème.</p><p>Supposons que l'introduction avec succès de NIS
	dans votre laboratoire a retenu l'attention de vos
	supérieurs.  Votre mission suivante est
	d'étendre la couverture de votre domaine NIS à
	d'autres machines sur le campus.  Les deux tables contiennent
	les noms des nouveaux utilisateurs et des nouvelles machines
	ainsi qu'une courte description de chacun.</p><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Nom(s) d'utilisateurs</th><th>Description</th></tr></thead><tbody><tr><td><code class="systemitem">alpha</code>,
		<code class="systemitem">beta</code></td><td>Les employés du département IT
		(&#8220;Information Technology&#8220;)</td></tr><tr><td><code class="systemitem">charlie</code>,
		<code class="systemitem">delta</code></td><td>Les nouveaux apprentis du département
		IT</td></tr><tr><td><code class="systemitem">echo</code>,
		<code class="systemitem">foxtrott</code>,
		<code class="systemitem">golf</code>, ...</td><td>Les employés ordinaires</td></tr><tr><td><code class="systemitem">able</code>,
		<code class="systemitem">baker</code>, ...</td><td>Les internes actuels</td></tr></tbody></table></div><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Nom(s) de machines</th><th>Description</th></tr></thead><tbody><tr><td><code class="systemitem">war</code>, <code class="systemitem">death</code>,
		<code class="systemitem">famine</code>,
		<code class="systemitem">pollution</code></td><td>Vos serveurs les plus importants.  Seuls les
		employés du département IT sont
		autorisés à ouvrir des sessions sur ces
		machines.</td></tr><tr><td><code class="systemitem">pride</code>, <code class="systemitem">greed</code>,
		<code class="systemitem">envy</code>, <code class="systemitem">wrath</code>,
		<code class="systemitem">lust</code>, <code class="systemitem">sloth</code></td><td>Serveurs moins importants.  Tous les membres du
		laboratoire IT sont autorisés à ouvrir des
		sessions sur ces machines.</td></tr><tr><td><code class="systemitem">one</code>, <code class="systemitem">two</code>,
		<code class="systemitem">three</code>, <code class="systemitem">four</code>,
		...</td><td>Stations de travail ordinaires.  Seuls les
		employés <span class="emphasis"><em>réels</em></span> sont
		autorisés à utiliser ces machines.</td></tr><tr><td><code class="systemitem">trashcan</code></td><td>Une très vielle machine sans
		données sensibles.  Même les internes
		peuvent utiliser cette machine.</td></tr></tbody></table></div><p>Si vous avez essayé d'implémenter ces
	restrictions en bloquant séparément chaque
	utilisateur, vous avez dû ajouter une ligne
	<code class="literal">-utilisateur</code>
	à chaque fichier <code class="filename">passwd</code> de chaque
	système pour chaque utilisateur non-autorisé
	à ouvrir une session sur le système.  Si vous
	omettez ne serait-ce qu'une entrée, vous aurez des
	problèmes.  Il doit être possible de faire cela
	lors de la configuration initiale, cependant vous
	<span class="emphasis"><em>finirez</em></span> par oublier d'ajouter les lignes
	pour de nouveaux utilisateurs lors d'opérations
	quotidiennes.  Après tout, Murphy était
	quelqu'un d'optimiste.</p><p>Traiter cette situation avec les groupes réseau
	présente plusieurs avantages.  Chaque utilisateur n'a
	pas besoin d'être traité
	séparément; vous assignez un utilisateur
	à un ou plusieurs groupes réseau et autorisez ou
	refusez l'ouverture de session à tous les membres du
	groupe réseau.  Si vous ajoutez une nouvelle machine,
	vous n'aurez à définir les restrictions
	d'ouverture de session que pour les groupes réseau.
	Ces modifications sont indépendantes les unes des
	autres, plus de &#8220;pour chaque combinaison d'utilisateur
	et de machine faire...&#8221;  Si votre configuration NIS est
	réfléchie, vous n'aurez à modifier qu'une
	configuration centrale pour autoriser ou refuser
	l'accès aux machines.</p><p>La première étape est l'initialisation de la
	table NIS du groupe réseau.  La version FreeBSD
	d'<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ypinit&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ypinit</span>(8)</span></a> ne crée pas de table par
	défaut, mais son implémentation NIS la
	supportera une fois créée.  Pour créer
	une table vide, tapez simplement</p><pre class="screen">ellington<code class="prompt">#</code> <strong class="userinput"><code>vi /var/yp/netgroup</code></strong></pre><p>et commencez à ajouter du contenu.  Pour notre
	exemple, nous avons besoin de quatre groupes réseau:
	les employées du département IT, les apprentis
	du département IT, les employés normaux et les
	internes.</p><pre class="programlisting">IT_EMP  (,alpha,test-domain)    (,beta,test-domain)
IT_APP  (,charlie,test-domain)  (,delta,test-domain)
USERS   (,echo,test-domain)     (,foxtrott,test-domain) \
        (,golf,test-domain)
INTERNS (,able,test-domain)     (,baker,test-domain)</pre><p><code class="literal">IT_EMP</code>, <code class="literal">IT_APP</code> etc.
	sont les noms des groupes réseau.  Chaque groupement
	entre parenthèses ajoute un ou plusieurs comptes
	utilisateurs aux groupes.  Les trois champs dans un groupement
	sont:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Le nom de la/les machine(s) où les
	    éléments suivants sont valides.  Si vous ne
	    précisez pas un nom de machine, l'entrée est
	    valide sur toutes les machines.  Si vous précisez un
	    nom de machine, vous pénétrerez dans un
	    royaume obscure, d'horreur et de confusion totale.</p></li><li class="listitem"><p>Le nom du compte qui appartient au groupe
	    réseau.</p></li><li class="listitem"><p>Le domaine NIS pour le compte.  Vous pouvez importer
	    les comptes d'autres domaines NIS dans votre groupe
	    réseau si vous êtes une de ces personnes
	    malchanceuses avec plus d'un domaine NIS.</p></li></ol></div><p>Chacun de ces champs peut contenir des jokers.  Consultez
	la page de manuel <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=netgroup&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">netgroup</span>(5)</span></a> pour plus de
	détails.</p><div xmlns="" class="note"><h3 class="admontitle">Note: </h3><a xmlns="http://www.w3.org/1999/xhtml" id="idp85299280" class="indexterm"></a><p xmlns="http://www.w3.org/1999/xhtml">Les noms de groupes réseau plus long que 8
	  caractères ne devraient pas être utilisés,
	  tout particulièrement si vous avez des machines
	  utilisant d'autres systèmes d'exploitation dans votre
	  domaine NIS.  Les noms sont sensibles à la casse des
	  caractères; utiliser des majuscules pour vos noms de
	  groupes réseau est une méthode simple pour
	  distinguer les utilisateurs, les machines et les noms de
	  groupes réseau.</p><p xmlns="http://www.w3.org/1999/xhtml">Certains clients NIS (autres que FreeBSD) ne peuvent
	  gérer les groupes réseau avec un grand nombre
	  d'entrées.  Par exemple, certaines anciennes versions
	  de <span class="trademark">SunOS</span>&#8482; commencent à causer des problèmes
	  si un groupe réseau contient plus de 15
	  <span class="emphasis"><em>entrées</em></span>.  Vous pouvez contourner
	  cette limite en créant plusieurs sous-groupes
	  réseau avec 15 utilisateurs ou moins et un
	  véritable groupe réseau constitué des
	  sous-groupes réseau:</p><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting">BIGGRP1  (,joe1,domain)  (,joe2,domain)  (,joe3,domain) [...]
BIGGRP2  (,joe16,domain)  (,joe17,domain) [...]
BIGGRP3  (,joe31,domain)  (,joe32,domain)
BIGGROUP  BIGGRP1 BIGGRP2 BIGGRP3</pre><p xmlns="http://www.w3.org/1999/xhtml">Vous pouvez répéter ce processus si vous
	  avez besoin de plus de 255 utilisateurs dans un seul groupe
	  réseau.</p></div><p>Activer et propager votre nouvelle table NIS est
	simple:</p><pre class="screen">ellington<code class="prompt">#</code> <strong class="userinput"><code>cd /var/yp</code></strong>
ellington<code class="prompt">#</code> <strong class="userinput"><code>make</code></strong></pre><p>Ceci générera les trois tables NIS
	<code class="filename">netgroup</code>,
	<code class="filename">netgroup.byhost</code> et
	<code class="filename">netgroup.byuser</code>.  Utilisez <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ypcat&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ypcat</span>(1)</span></a>
	pour contrôler si vos nouvelles tables NIs sont
	disponibles:</p><pre class="screen">ellington<code class="prompt">%</code> <strong class="userinput"><code>ypcat -k netgroup</code></strong>
ellington<code class="prompt">%</code> <strong class="userinput"><code>ypcat -k netgroup.byhost</code></strong>
ellington<code class="prompt">%</code> <strong class="userinput"><code>ypcat -k netgroup.byuser</code></strong></pre><p>La sortie devrait être semblable au contenu de
	<code class="filename">/var/yp/netgroup</code>.  La deuxième
	commande ne produira pas de sortie si vous n'avez pas
	précisé les groupes réseau
	spécifiques à une machine.  La troisième
	commande peut être utilisée pour obtenir les
	listes des groupes réseau pour un utilisateur.</p><p>La configuration du client est plutôt simple.  Pour
	configurer le serveur <code class="systemitem">war</code>, vous devez lancer
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=vipw&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">vipw</span>(8)</span></a> et remplacer la ligne</p><pre class="programlisting">+:::::::::</pre><p>par</p><pre class="programlisting">+@IT_EMP:::::::::</pre><p>Maintenant, seules les données pour les
	utilisateurs définis dans le groupe réseau
	<code class="literal">IT_EMP</code> sont importées dans la base
	de données de mots de passe de <code class="systemitem">war</code> et
	seuls ces utilisateurs sont autorisés à ouvrir
	une session.</p><p>Malheureusement, cette limitation s'applique
	également à la fonction <code class="literal">~</code> de
	l'interpréteur de commandes et toutes les routines de
	conversion entre nom d'utilisateur et identifiant
	numérique d'utilisateur.  En d'autres termes,
	<code class="command">cd ~utilisateur</code>
	ne fonctionnera pas, et <code class="command">ls -l</code> affichera
	l'ID numérique à la place du nom d'utilisateur
	et <code class="command">find . -user joe -print</code> échouera
	avec le message d'erreur <span class="errorname">No such user</span>.
	Pour corriger cela, vous devrez importer toutes les
	entrées d'utilisateurs <span class="emphasis"><em>sans leur autoriser
	l'ouverture de session sur vos serveurs</em></span>.</p><p>Cela peut être fait en ajoutant une autre ligne au
	fichier <code class="filename">/etc/master.passwd</code>.  Cette ligne
	devrait contenir:</p><p><code class="literal">+:::::::::/sbin/nologin</code>, signifiant
	&#8220;Importer toutes les entrées mais remplacer
	l'interpréteur de commandes avec
	<code class="filename">/sbin/nologin</code> dans les entrées
	importées&#8221;.  Vous pouvez remplacer n'importe quel
	champ dans l'entrée <code class="literal">passwd</code> en
	plaçant une valeur par défaut dans votre fichier
	<code class="filename">/etc/master.passwd</code>.</p><div xmlns="" class="warning"><h3 class="admontitle">Avertissement: </h3><p xmlns="http://www.w3.org/1999/xhtml">Assurez-vous que
	  <code class="literal">+:::::::::/sbin/nologin</code> est placée
	  après <code class="literal">+@IT_EMP:::::::::</code>.  Sinon,
	  tous les comptes utilisateur importés du NIS auront
	  <code class="filename">/sbin/nologin</code> comme interpréteur
	  de commandes.</p></div><p>Après cette modification, vous ne devrez uniquement
	que modifier une des tables NIS si un nouvel employé
	rejoint le département IT.  Vous pourrez utiliser une
	approche similaire pour les serveurs moins importants en
	remplaçant l'ancienne ligne
	<code class="literal">+:::::::::</code> dans leur version locale de
	<code class="filename">/etc/master.passwd</code> avec quelque chose de
	semblable à ceci:</p><pre class="programlisting">+@IT_EMP:::::::::
+@IT_APP:::::::::
+:::::::::/sbin/nologin</pre><p>Les lignes correspondantes pour les stations de travail
	normales seraient:</p><pre class="programlisting">+@IT_EMP:::::::::
+@USERS:::::::::
+:::::::::/sbin/nologin</pre><p>Tout était parfait jusqu'au changement de politique
	quelques semaines plus tard:  le département IT
	commença à engager des internes.  Les internes
	du département IT sont autorisés à
	utiliser les stations de travail normales et les serveurs les
	moins importants; les apprentis du département IT sont
	autorisés à ouvrir des sessions sur les serveurs
	principaux.  Vous ajoutez alors un nouveau groupe
	réseau <code class="literal">IT_INTERN</code>, ajoutez les
	nouveaux internes IT à ce groupe réseau et
	commencez à modifier la configuration sur chaque
	machine...  Comme disait l'ancien: &#8220;Erreurs dans la
	planification centralisée mènent à un
	désordre général&#8221;.</p><p>La capacité de NIS à créer des
	groupes réseau à partir d'autres groupes
	réseau peut être utilisée pour
	éviter de telles situations.  Une possibilité
	est la création de groupes réseau basés
	sur le rôle du groupe.  Par exemple vous pourriez
	créer un groupe réseau appelé
	<code class="literal">BIGSRV</code> pour définir les restrictions
	d'ouverture de session pour les serveurs importants, un autre
	groupe réseau appelé <code class="literal">SMALLSRV</code>
	pour les serveurs moins importants et un troisième
	groupe réseau nommé <code class="literal">USERBOX</code>
	pour les stations de travail normales.  Chacun de ces groupes
	réseau contient les groupes réseau
	autorisés à ouvrir des sessions sur ces
	machines.  Les nouvelles entrées pour la table NIS de
	groupes réseau devrait ressembler à ceci:</p><pre class="programlisting">BIGSRV    IT_EMP  IT_APP
SMALLSRV  IT_EMP  IT_APP  ITINTERN
USERBOX   IT_EMP  ITINTERN USERS</pre><p>Cette méthode qui consiste à définir
	des restrictions d'ouverture de session fonctionne
	relativement bien si vous pouvez définir des groupes de
	machines avec des restrictions identiques.  Malheureusement,
	ceci est une exception et pas une
	généralité.  La plupart du temps, vous
	aurez besoin de définir des restrictions d'ouverture de
	session par machine.</p><p>La définition de groupes réseau
	spécifiques aux machines est une autre
	possibilité pour traiter la modification de politique
	soulignée précédemment.  Dans ce
	scénario, le fichier
	<code class="filename">/etc/master.passwd</code> de chaque machine
	contient deux lignes débutant par &#8220;+&#8221;.  La
	première ajoute un groupe réseau avec les
	comptes autorisés à ouvrir une session sur cette
	machine, la seconde ajoute tous les comptes avec
	l'interpréteur de commandes
	<code class="filename">/sbin/nologin</code>.  C'est une bonne
	idée d'utiliser des majuscules pour le nom de la
	machine ainsi que celui du groupe réseau.  Dans
	d'autres termes, les lignes en question devraient être
	semblables à:</p><pre class="programlisting">+@<em class="replaceable"><code>NOMMACHINE</code></em>:::::::::
+:::::::::/sbin/nologin</pre><p>Une fois cette tâche achevée pour toutes vos
	machines, vous n'aurez plus jamais à modifier les
	versions locales du fichier
	<code class="filename">/etc/master.passwd</code>.  Tous les changements
	futurs peuvent être gérés en modifiant la
	table NIS.  Voici un exemple d'une table de groupes
	réseau possible pour ce scénario avec quelques
	petits plus:</p><pre class="programlisting"># Définir tout d'abord les groupes d'utilisateurs
IT_EMP    (,alpha,test-domain)    (,beta,test-domain)
IT_APP    (,charlie,test-domain)  (,delta,test-domain)
DEPT1     (,echo,test-domain)     (,foxtrott,test-domain)
DEPT2     (,golf,test-domain)     (,hotel,test-domain)
DEPT3     (,india,test-domain)    (,juliet,test-domain)
ITINTERN  (,kilo,test-domain)     (,lima,test-domain)
D_INTERNS (,able,test-domain)     (,baker,test-domain)
#
# Définir, maintenant, des groupes basés sur les rôles
USERS     DEPT1   DEPT2     DEPT3
BIGSRV    IT_EMP  IT_APP
SMALLSRV  IT_EMP  IT_APP    ITINTERN
USERBOX   IT_EMP  ITINTERN  USERS
#
# Et un groupe pour les tâches spéciales
# Permettre à echo et golf d'accéder à notre machine anti-virus
SECURITY  IT_EMP  (,echo,test-domain)  (,golf,test-domain)
#
# les groupes réseau basés sur un ensemble de machines
# Nos principaux serveurs
WAR       BIGSRV
FAMINE    BIGSRV
# L'utilisateur india a besoin d'un accès à ce serveur
POLLUTION  BIGSRV  (,india,test-domain)
#
# Celle-ci est très importante et nécessite plus de restrictions d'accès
DEATH     IT_EMP
#
# La machine anti-virus mentionnée précédemment
ONE       SECURITY
#
# Restreindre l'accès à une machine à un seul utilisateur
TWO       (,hotel,test-domain)
# [...d'autres groupes suivent]</pre><p>Si vous utilisez une sorte de base de données pour
	gérer vos comptes utilisateur, vous devriez pouvoir
	créer la première partie de la table avec les
	outils de votre base de données.  De cette
	façon, les nouveaux utilisateurs auront automatiquement
	accès aux machines.</p><p>Dernier avertissement: il n'est pas toujours
	conseillé d'utiliser des groupes réseau
	basés sur les machines.  Si vous déployez
	quelques douzaines ou même centaines de machines
	identiques pour des laboratoires pour étudiants, vous
	devriez utiliser des groupes basés sur les types
	d'utilisateurs plutôt que sur les machines pour
	conserver la taille de la table NIS dans des limites
	raisonnables.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp85352144"></a>29.4.8. Les choses importantes à ne pas oublier</h3></div></div></div><p>Il y a un certain nombre de choses que vous devrez
	effectuer différemment maintenant que vous êtes
	dans un environnement NIS.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>A chaque fois que vous désirez ajouter un
	    utilisateur au laboratoire, vous devez l'ajouter
	    <span class="emphasis"><em>uniquement</em></span> sur le serveur NIS et
	    <span class="emphasis"><em>vous devez ne pas oublier de reconstruire les
	    tables NIS</em></span>.  Si vous oubliez de le faire, le
	    nouvel utilisateur ne pourra pas ouvrir de session en dehors
	    du serveur maître NIS.  Par exemple, si nous devons
	    ajouter au laboratoire un nouvel utilisateur
	    <code class="systemitem">jsmith</code>, nous ferions:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>pw useradd jsmith</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>cd /var/yp</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>make test-domain</code></strong></pre><p>Vous pouvez lancer <code class="command">adduser jsmith</code>
	    à la place de <code class="command">pw useradd
	    jsmith</code>.</p></li><li class="listitem"><p><span class="emphasis"><em>Conservez les comptes d'administration en
	    dehors des tables NIS</em></span>.  Vous ne voulez pas
	    propager les comptes et mots de passe d'administration sur
	    les machines qui auront des utilisateurs qui ne devraient
	    pas avoir accès à ces comptes.</p></li><li class="listitem"><p><span class="emphasis"><em>Sécurisez les serveurs maître
	    et esclave NIS, et réduisez leur temps
	    d'arrêt</em></span>.  Si quelqu'un tente soit
	    d'attaquer soit de simplement arrêter ces machines, de
	    nombreuses personnes ne pourront plus ouvrir de session dans
	    le laboratoire.</p><p>C'est la principale faiblesse d'un système
	    d'administration centralisée.  Si vous ne
	    protégez pas vos serveurs NIS, vous aurez à
	    faire face à de nombreux utilisateurs
	    mécontents!</p></li></ul></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp85361872"></a>29.4.9. Compatibilité NIS version 1</h3></div></div></div><p><span class="application">ypserv</span> sous FreeBSD offre un
	support des clients NIS version 1.  L'implémentation
	NIS de FreeBSD utilise uniquement le protocole NIS version 2,
	cependant d'autres implémentations disposent du support
	pour le protocole version 1 pour des raisons de
	compatibilité avec d'anciens systèmes.  Les
	&#8220;daemons&#8221; <span class="application">ypbind</span>
	fournis avec ces systèmes tenteront de s'attacher
	à un serveur NIS version 1 même s'ils n'en ont
	pas besoin (et ils pourront continuer à diffuser des
	requêtes pour en trouver un même après
	avoir reçu une réponse d'un serveur NIS version
	2).  Notez que bien que les requêtes des clients normaux
	soient supportées, cette version
	d'<span class="application">ypserv</span> ne supporte pas les
	requêtes de transfert de tables version 1; par
	conséquent il n'est pas possible de l'utiliser comme
	serveur maître ou esclave avec des serveurs NIS plus
	anciens qui ne supportent que la version 1 du protocole.
	Heureusement, il n'y a, aujourd'hui, presque plus de serveurs
	de ce type actifs.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="network-nis-server-is-client"></a>29.4.10. Serveurs NIS qui sont aussi des clients NIS</h3></div></div></div><p>Il faut faire attention quand on utilise
	<span class="application">ypserv</span> dans un domaine avec
	plusieurs serveurs NIS qui sont également des clients
	NIS.  Il est en général préférable
	de forcer les serveurs de se rattacher à
	eux-mêmes plutôt que de les laisser diffuser des
	requêtes de rattachement et éventuellement se rattacher
	réciproquement les uns aux autres.  Il peut en
	résulter de curieux problèmes si l'un des
	serveurs tombe et que d'autres en dépendent.  Tous les
	clients finiront par dépasser leur délai
	d'attente et se tenteront de se rattacher à d'autres
	serveurs, mais ce délai peut être
	considérable et le problème persistera puisque
	les serveurs peuvent à nouveau se rattacher les uns aux
	autres.</p><p>Vous pouvez obliger une machine à se rattacher
	à un serveur particulier en exécutant
	<code class="command">ypbind</code> avec l'option <code class="option">-S</code>.
	Si vous ne désirez pas faire cela à la main
	à chaque fois que vous redémarrez votre serveur
	NIS, vous pouvez ajouter les lignes suivantes à votre
	fichier <code class="filename">/etc/rc.conf</code>:</p><pre class="programlisting">nis_client_enable="YES"	# run client stuff as well
nis_client_flags="-S <em class="replaceable"><code>NIS domain</code></em>,<em class="replaceable"><code>server</code></em>"</pre><p>Voir la page de manuel de <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ypbind&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ypbind</span>(8)</span></a> pour plus
	d'informations.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp85369680"></a>29.4.11. Formats des mots de passe</h3></div></div></div><a id="idp85370320" class="indexterm"></a><p>Un des problèmes les plus courants que l'on
	rencontre en mettant en oeuvre NIS est celui de la
	compatibilité des formats de mots de passe.  Si votre
	serveur NIS utilise des mots de passe chiffrés avec
	l'algorithme DES, il ne supportera que les clients utilisant
	également DES.  Par exemple, si vous avez des client NIS
	<span class="trademark">Solaris</span>&#8482; sur votre réseau, alors vous aurez presque
	certainement besoin d'utiliser des mots de passe chiffrés
	avec le système DES.</p><p>Pour déterminer quel format vos serveurs et clients
	utilisent, consultez le fichier
	<code class="filename">/etc/login.conf</code>.  Si la machine est
	configurée pour utiliser des mots de passe
	chiffrés avec DES, alors la classe
	<code class="literal">default</code> contiendra une entrée comme
	celle-ci:</p><pre class="programlisting">default:\
	:passwd_format=des:\
	:copyright=/etc/COPYRIGHT:\
	[Entrées suivantes omises]</pre><p>D'autres valeurs possibles pour la capacité
	<code class="literal">passwd_format</code> sont <code class="literal">blf</code>
	et <code class="literal">md5</code> (respectivement pour les chiffrages
	de mots de passe Blowfish et MD5).</p><p>Si vous avez modifié le fichier
	<code class="filename">/etc/login.conf</code>, vous devrez
	également regénérer la base de
	données des capacités de classes de session, ce
	qui est accompli en exécutant la commande suivante en
	tant que <code class="systemitem">root</code>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cap_mkdb /etc/login.conf</code></strong></pre><div xmlns="" class="note"><h3 class="admontitle">Note: </h3><p xmlns="http://www.w3.org/1999/xhtml">Le format des mots de passe utilisés dans
	<code class="filename">/etc/master.passwd</code> ne sera pas mis
	à jour avant qu'un utilisateur ne change son mot de
	passe pour la première fois
	<span class="emphasis"><em>après</em></span> la
	régénération de la base de données des
	capacités de classes de session.</p></div><p>Ensuite, afin de s'assurer que les mots de passe sont
	chiffrés avec le format que vous avez choisi, vous
	devez vérifier que l'entrée
	<code class="literal">crypt_default</code> dans le fichier
	<code class="filename">/etc/auth.conf</code> donne la priorité
	au format de mots de passe choisi.  Par exemple, quand les
	mots de passe DES sont utilisés, l'entrée
	serait:</p><pre class="programlisting">crypt_default	=	des blf md5</pre><p>En suivant les points précédents sur chaque
	serveur et client NIS sous FreeBSD, vous pouvez être
	sûr qu'ils seront tous d'accord sur le format de mot de
	passe utilisé dans le réseau.  Si vous avez des
	problèmes d'authentification sur un client NIS, c'est
	probablement la première chose à
	vérifier.  Rappelez-vous: si vous désirez mettre
	en place un serveur NIS pour un réseau
	hétérogène, vous devrez probablement
	utiliser DES sur tous les systèmes car c'est le
	standard le plus courant.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="network-nfs.html">Précédent</a> </td><td width="20%" align="center"><a accesskey="u" href="network-servers.html">Niveau supérieur</a></td><td width="40%" align="right"> <a accesskey="n" href="network-dhcp.html">Suivant</a></td></tr><tr><td width="40%" align="left" valign="top">29.3. Système de fichiers réseau (NFS) </td><td width="20%" align="center"><a accesskey="h" href="index.html">Sommaire</a></td><td width="40%" align="right" valign="top"> 29.5. Configuration réseau automatique (DHCP)</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Ce document, ainsi que d'autres peut être téléchargé sur
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Pour toutes questions à propos de FreeBSD, lisez la
    <a href="http://www.FreeBSD.org/docs.html">documentation</a> avant de contacter
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Pour les questions sur cette documentation, contactez
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>