<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>19.6. Création et utilisation de supports optiques (CDs)</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Manuel FreeBSD" /><link rel="up" href="disks.html" title="Chapitre 19. Stockage des données" /><link rel="prev" href="usb-disks.html" title="19.5. Périphériques de stockage USB" /><link rel="next" href="creating-dvds.html" title="19.7. Création et utilisation de supports optiques (DVDs)" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">19.6. Création et utilisation de supports optiques
      (CDs)</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="usb-disks.html">Précédent</a> </td><th width="60%" align="center">Chapitre 19. Stockage des données</th><td width="20%" align="right"> <a accesskey="n" href="creating-dvds.html">Suivant</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="creating-cds"></a>19.6. Création et utilisation de supports optiques
      (CDs)</h2></div><div><span class="authorgroup">Contribution de <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Mike</span> <span class="surname">Meyer</span></span>. </span></div></div></div><a id="idp80017744" class="indexterm"></a><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp80018896"></a>19.6.1. Introduction</h3></div></div></div><p>Les CDs se différencient des disques conventionnels
	par de nombreuses caractéristiques.  Au départ, ils
	n'étaient pas inscriptible par l'utilisateur.  Ils sont
	conçu pour être lut de façon continue sans
	délai
	pour déplacer la tête de lecture entre les pistes.
	Ils sont également plus facile à déplacer
	entre systèmes que les supports de même taille
	à cette époque.</p><p>Les CDs possèdent des pistes, mais cela fait
	référence à un ensemble de données
	qui peuvent être lues de façon continue et non pas
	à une particularité physique du disque.  Pour produire
	un CD sous FreeBSD, il faut préparer les fichiers
	de données qui vont constituer les pistes sur le CD, puis
	écrire les pistes sur le CD.</p><a id="idp80020304" class="indexterm"></a><a id="idp80020816" class="indexterm"></a><p>Le système de fichiers ISO 9660 a été
	conçu pour gérer ces différences.
	Malheureusement il incorpore
	des limites du système de fichiers qui semblaient normale
	alors.  Mais heureusement, il fournit un mécanisme
	d'extension qui permet au CDs proprement gravés de passer
	outre ces limites tout en restant lisibles par les systèmes
	qui ne supportent pas ces extensions.</p><a id="idp80022352" class="indexterm"></a><p>Le logiciel <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/sysutils/cdrtools/pkg-descr">sysutils/cdrtools</a>
	comprend <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mkisofs&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mkisofs</span>(8)</span></a>, un programme que vous pouvez
	utiliser pour produire un fichier de données
	contenant un système de fichiers ISO 9660.  Il dispose
	d'options pour le support de diverses extensions, et est
	décrit ci-dessous.</p><a id="idp80033232" class="indexterm"></a><p>L'outil a utiliser pour graver un CD varie en fonction du
	type de graveur de CD: ATAPI ou autre.  Les graveurs ATAPI
	utilisent le programme <code class="command">burncd</code> qui fait partie
	du système de base.  Les graveurs SCSI ou USB devraient
	utiliser l'utilitaire <code class="command">cdrecord</code> du logiciel porté
	<a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/sysutils/cdrtools/pkg-descr">sysutils/cdrtools</a> port.
	Il est également possible d'utiliser
	  <code class="command">cdrecord</code>
	  et d'autres outils pour lecteurs SCSI sur du matériel
	  ATAPI avec le <a class="link" href="creating-cds.html#atapicam" title="19.6.9. Utilisation du pilote de périphérique ATAPI/CAM">module
	  ATAPI/CAM</a>.</p><p>Si vous voulez un programme de gravure de CD avec une
	interface graphique, vous devriez jeter un oeil à
	<span class="application">X-CD-Roast</span> ou
	<span class="application">K3b</span>.  Ces outils sont disponibles
	sous une version pré-compilée ou à partir
	des logiciels portés <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/sysutils/xcdroast/pkg-descr">sysutils/xcdroast</a> et <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/sysutils/k3b/pkg-descr">sysutils/k3b</a>.
	<span class="application">X-CD-Roast</span> et
	<span class="application">K3b</span> nécessitent le <a class="link" href="creating-cds.html#atapicam" title="19.6.9. Utilisation du pilote de périphérique ATAPI/CAM">module ATAPI/CAM</a> avec des
	périphériques ATAPI.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="mkisofs"></a>19.6.2. mkisofs</h3></div></div></div><p>L'utilitaire <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mkisofs&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mkisofs</span>(8)</span></a>, qui fait partie du logiciel
	porté <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/sysutils/cdrtools/pkg-descr">sysutils/cdrtools</a>,
	produit un système de fichiers ISO 9660 qui est une image de
	l'arborescence des répertoires dans un système de fichiers
	<span class="trademark">UNIX</span>®.  L'utilisation la plus simple est:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mkisofs -o fichierimage.iso /chemin/vers/arborescence</code></strong></pre><a id="idp80048208" class="indexterm"></a><p>Cette commande créera un
	<em class="replaceable"><code>fichierimage.iso</code></em> contenant un
	système de fichiers ISO 9660 qui est une copie de
	l'arborescence
	<em class="replaceable"><code>/chemin/vers/arborescence</code></em>.
	Durant le processus de création, les noms de fichiers
	seront modifiés de façon à respecter les
	limitations de la norme ISO 9660, et rejettera les fichiers ayant
	des noms non acceptables pour un système de fichiers
	ISO.</p><a id="idp80050512" class="indexterm"></a><a id="idp80051664" class="indexterm"></a><p>De nombreuses options sont disponibles pour passer
	outre ces restrictions.  En particulier, <code class="option">-R</code>
	qui autorise les extensions Rock Ridge communes aux systèmes
	<span class="trademark">UNIX</span>®, <code class="option">-J</code> qui active les extensions Joliet
	utilisées par les systèmes Microsoft, et
	<code class="option">-hfs</code> peut être utilisé pour créer
	des systèmes de fichiers HFS utilisés par <span class="trademark">Mac OS</span>®.</p><p>Pour des CDs qui sont destinés à n'être
	utilisé que sur des systèmes FreeBSD, l'option
	<code class="option">-U</code> peut être utilisée pour
	désactiver toutes les restrictions au niveau des noms de
	fichiers.  Quand elle est utilisée avec l'option
	<code class="option">-R</code>, cela produit une image de système de
	fichiers qui est identique à l'arborescence FreeBSD d'origine,
	cependant ce système de fichiers pourra violer la norme ISO
	9660 de nombreuses façon.</p><a id="idp80060752" class="indexterm"></a><p>La dernière option d'usage général est l'option
	<code class="option">-b</code>.  Elle est utilisée pour indiquer
	l'emplacement de l'image de démarrage à utiliser dans
	la création d'un CD démarrable <span class="quote">« <span class="quote">El Torito</span> »</span>.
	Cette option prend en argument le chemin vers une image
	de démarrage à partir de la racine de l'arborescence
	qui va être copiée sur le CD.  Par défaut,
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mkisofs&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mkisofs</span>(8)</span></a> créé une image ISO dans un mode
	appelé <span class="quote">« <span class="quote">émulation de disquette</span> »</span>, et
	s'attend donc à une image de démarrage de 1200,
	1440 ou 2880 Ko en taille.  Certains chargeurs, comme
	celui utilisé par les disques d'installation de FreeBSD,
	n'utilisent pas ce mode d'émulation, dans ce cas
	l'option <code class="option">-no-emul-boot</code> devrait être
	utilisée.  Aussi, si
	<code class="filename">/tmp/monboot</code> contient un système FreeBSD
	avec une image de démarrage dans
	<code class="filename">/tmp/monboot/boot/cdboot</code>, vous pourrez
	produire l'image d'un système de fichiers ISO 9660 dans
	<code class="filename">/tmp/bootable.iso</code> de cette façon:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mkisofs -R -no-emul-boot -b boot/cdboot -o /tmp/bootable.iso /tmp/monboot</code></strong></pre><p>Cela étant fait, si vous avez le pilote
	<code class="filename">md</code> configuré
	dans votre noyau, vous pouvez monter le système de fichiers
	avec:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mdconfig -a -t vnode -f /tmp/bootable.iso -u 0</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>mount -t cd9660 /dev/md0 /mnt</code></strong></pre><p>A ce moment vous pouvez vérifier que
	<code class="filename">/mnt</code> et <code class="filename">/tmp/monboot</code>
	sont identique.</p><p>Il existe de nombreuses autres options que vous pouvez
	utiliser avec <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mkisofs&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mkisofs</span>(8)</span></a>
	pour régler finement son comportement.  En particulier: les
	modifications d'une organisation ISO 9660 et la création de
	disques Joliet et HFS.  Voir la page de manuel <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mkisofs&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mkisofs</span>(8)</span></a>
	pour plus de détails.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="burncd"></a>19.6.3. burncd</h3></div></div></div><a id="idp80081872" class="indexterm"></a><p>Si vous disposez d'un graveur de CD ATAPI, vous pouvez
	utiliser la commande <code class="command">burncd</code> pour graver
	une image ISO sur un CD.  <code class="command">burncd</code> fait
	partie du système de base, installé sous
	<code class="filename">/usr/sbin/burncd</code>.  Son utilisation est
	très simple, car il dispose de peu d'options:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>burncd -f cddevice data fichierimage.iso fixate</code></strong></pre><p>Gravera une copie de
	<em class="replaceable"><code>fichierimage.iso</code></em> sur
	<em class="replaceable"><code>cddevice</code></em>.  Le périphérique par
	défaut est <code class="filename">/dev/acd0</code>.  Consultez
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=burncd&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">burncd</span>(8)</span></a> pour les options pour fixer la vitesse
	d'écriture, éjecter le CD après gravure, et graver
	des données audios.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="cdrecord"></a>19.6.4. cdrecord</h3></div></div></div><p>Si vous n'avez pas de graveur de CD ATAPI, vous devrez
	utiliser <code class="command">cdrecord</code> pour graver vos CDs.
	<code class="command">cdrecord</code> ne fait pas partie du système de
	base; vous devez l'installer soit à partir du logiciel
	porté <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/sysutils/cdrtools/pkg-descr">sysutils/cdrtools</a>
	ou de la version pré-compilée appropriée.
	Des modifications du système de base peuvent provoquer
	le dysfonctionnement des versions binaires de ce programme,
	et donner lieu à une production de &#8220;dessous de
	bouteille&#8221;.  Vous devrez par conséquent soit
	mettre à jour le logiciel porté quand vous mettez
	à jour votre système, soit si vous <a class="link" href="current-stable.html#stable" title="24.4.2. Se synchroniser avec la version -STABLE de FreeBSD">suivez la branche -STABLE</a>, mettre
	à jour le logiciel porté lorsqu'une nouvelle
	version est disponible.</p><p>Bien que <code class="command">cdrecord</code> dispose de
	nombreuses options, l'usage de base est même plus simple
	qu'avec <code class="command">burncd</code>.  La gravure d'une image
	ISO 9660 se fait avec:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cdrecord dev=device fichierimage.iso</code></strong></pre><p>La partie délicate dans l'utilisation de
	<code class="command">cdrecord</code> est la recherche de la valeur à
	utiliser pour l'option <code class="option">dev</code>.  Pour déterminer
	le bon paramètre à utiliser, utilisez l'indicateur
	<code class="option">-scanbus</code> de <code class="command">cdrecord</code>,
	qui produira des résultats du type:</p><a id="idp80099024" class="indexterm"></a><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cdrecord -scanbus</code></strong>
Cdrecord-Clone 2.01 (i386-unknown-freebsd7.0) Copyright (C) 1995-2004 Jörg Schilling
Using libscg version 'schily-0.1'
scsibus0:
        0,0,0     0) 'SEAGATE ' 'ST39236LW       ' '0004' Disk
        0,1,0     1) 'SEAGATE ' 'ST39173W        ' '5958' Disk
        0,2,0     2) *
        0,3,0     3) 'iomega  ' 'jaz 1GB         ' 'J.86' Removable Disk
        0,4,0     4) 'NEC     ' 'CD-ROM DRIVE:466' '1.26' Removable CD-ROM
        0,5,0     5) *
        0,6,0     6) *
        0,7,0     7) *
scsibus1:
        1,0,0   100) *
        1,1,0   101) *
        1,2,0   102) *
        1,3,0   103) *
        1,4,0   104) *
        1,5,0   105) 'YAMAHA  ' 'CRW4260         ' '1.0q' Removable CD-ROM
        1,6,0   106) 'ARTEC   ' 'AM12S           ' '1.06' Scanner
        1,7,0   107) *</pre><p>Cela donne la valeur <code class="option">dev</code> appropriée
	pour les périphériques listés.
	Recherchez votre graveur de
	CD dans la liste, et utilisez les trois chiffres séparés
	par une virgule comme valeur pour <code class="option">dev</code>.
	Dans notre cas le périphérique de gravure est 1,5,0, donc
	l'entrée appropriée serait <code class="option">dev=1,5,0</code>.
	Il existe des manières plus simple de spécifier
	cette valeur, consultez la page de manuel <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=cdrecord&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">cdrecord</span>(1)</span></a>
	pour des détails.
	C'est également la documentation à
	consulter pour des informations sur la gravure de pistes
	audios, le contrôle de la vitesse, et d'autres
	choses.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="duplicating-audiocds"></a>19.6.5. Dupliquer des CDs Audio</h3></div></div></div><p>Vous pouvez dupliquer un CD audio en effectuant
	l'extraction des données audio du CD vers un ensemble de
	fichiers, puis graver ces fichiers sur un CD vierge.  Le
	processus est légèrement différent entre
	lecteurs ATAPI et SCSI.</p><div class="procedure"><a id="idp80109136"></a><div class="procedure-title">Procédure 19.1. Lecteurs SCSI</div><ol class="procedure" type="1"><li class="step"><p>Utiliser <code class="command">cdda2wav</code> pour effectuer
	  l'extraction audio.</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>cdda2wav -v255 -D2,0 -B -Owav</code></strong></pre></li><li class="step"><p>Utiliser <code class="command">cdrecord</code> pour graver les
	  fichiers <code class="filename">.wav</code>.</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>cdrecord -v dev=2,0 -dao -useinfo  *.wav</code></strong></pre><p>Assurez-vous que <em class="replaceable"><code>2,0</code></em> est
	    choisi correctement, comme décrit dans
	    <a class="xref" href="creating-cds.html#cdrecord" title="19.6.4. cdrecord">Section 19.6.4, « cdrecord »</a>.</p></li></ol></div><div class="procedure"><a id="idp80115664"></a><div class="procedure-title">Procédure 19.2. Lecteurs ATAPI</div><ol class="procedure" type="1"><li class="step"><p>Le pilote CD ATAPI rend disponible chaque piste
	    sous la forme
	    <code class="filename">/dev/acddtnn</code>,
	    où <em class="replaceable"><code>d</code></em> est le numéro de
	    lecteur, et <em class="replaceable"><code>nn</code></em> est le numéro
	    de la piste écrit sur deux digits décimaux.
	    Donc la première piste sur le premier
	    lecteur est <code class="filename">/dev/acd0t01</code>, la
	    seconde est <code class="filename">/dev/acd0t02</code>, la
	    troisième <code class="filename">/dev/acd0t03</code>, et
	    ainsi de suite.</p><p>Assurez-vous que les fichiers appropriés existent
	    sous <code class="filename">/dev</code>.  Si ces entrées
	    sont absentes, forcez le système à lire le
	    disque à nouveau:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>dd if=/dev/acd0 of=/dev/null count=1</code></strong></pre></li><li class="step"><p>Extraire chaque piste en utilisant <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dd&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">dd</span>(1)</span></a>.
	    Vous devez également préciser une taille de
	    bloc durant l'extraction des fichiers.</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>dd if=/dev/acd0t01 of=piste1.cdr bs=2352</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>dd if=/dev/acd0t02 of=piste2.cdr bs=2352</code></strong>
...
</pre></li><li class="step"><p>Graver les fichiers récupérés en utilisant
	    <code class="command">burncd</code>.  Vous devez spécifier que ce
	    sont des fichiers audio, et que <code class="command">burncd</code>
	    devra fermer le disque une fois terminé.</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>burncd -f /dev/acd0 audio piste1.cdr piste2.cdr ... fixate</code></strong></pre></li></ol></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="imaging-cd"></a>19.6.6. Dupliquer des CDs de données</h3></div></div></div><p>vous pouvez copier un CD de données vers un
	fichier image équivalent au fichier créé avec
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mkisofs&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mkisofs</span>(8)</span></a>, et
	vous pouvez l'utiliser pour dupliquer n'importe quel CD de
	données.  L'exemple présenté ici suppose
	que votre lecteur de CDROM est les périphérique
	<code class="filename">acd0</code>.  Remplacez-le avec le
	périphérique correct.</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>dd if=/dev/acd0 of=fichier.iso bs=2048</code></strong></pre><p>Vous disposez maintenant d'une image, vous pouvez la
	graver comme décrit plus haut.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="mounting-cd"></a>19.6.7. Utiliser des CDs de données</h3></div></div></div><p>Maintenant que vous avez créé une CDROM de
	données standard, vous voulez probablement le monter et lire
	les données présentes.  Par défaut,
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mount&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mount</span>(8)</span></a> suppose que le système de fichier à
	monter est de type <code class="literal">UFS</code>.  Si vous essayez
	quelque chose comme:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mount /dev/cd0 /mnt</code></strong></pre><p>vous obtiendrez une erreur du type <span class="errorname">Incorrect
	super block</span>, et pas de montage.  Le CDROM n'est
	pas un système de fichiers de type <code class="literal">UFS</code>,
	aussi toute tentative de montage de ce type échouera.
	Vous devez juste préciser à <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mount&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mount</span>(8)</span></a> que le
	système de fichiers est du type <code class="literal">ISO9660</code>, et
	tout fonctionnera.  Cela se fait en spécifiant l'option
	<code class="option">-t cd9660</code> option à <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mount&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mount</span>(8)</span></a>.
	Par exemple, si vous désirez monter un CDROM, contenu
	dans le lecteur <code class="filename">/dev/cd0</code>, sous
	<code class="filename">/mnt</code>, vous devrez exécuter:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mount -t cd9660 /dev/cd0 /mnt</code></strong></pre><p>Notez que votre nom de lecteur
	(<code class="filename">/dev/cd0</code> dans cet exemple) pourra
	être différent, en fonction de l'interface
	utilisée par votre lecteur de CDROM.  De plus l'option
	<code class="option">-t cd9660</code> ne fait qu'exécuter la commande
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mount_cd9660&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mount_cd9660</span>(8)</span></a>.  L'exemple précédent pourrait
	être réduit à:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mount_cd9660 /dev/cd0 /mnt</code></strong></pre><p>Vous pouvez généralement utiliser
	des CDROMs de données de n'importe quelle provenance de
	cette façon.  Les disques avec certaines extensions
	ISO 9660 pourront se comporter de façon étrange,
	cependant.  Par exemple, les disques Joliet conservent
	tous les noms de fichiers en utilisant des caractères
	Unicodes sur 2 octets.  Le noyau FreeBSD ne comprend pas
	l'Unicode, mais le pilote CD9660 de FreeBSD est en mesure de
	convertir au vol les caractères Unicode.  Si des
	caractères non-anglais apparaissent sous la forme de
	points d'interrogation, vous devrez préciser la table
	de caractères locale que vous utilisez avec l'option
	<code class="option">-C</code>.  Pour plus d'information, consultez la
	page de manuel <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mount_cd9660&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mount_cd9660</span>(8)</span></a>.</p><div xmlns="" class="note"><h3 class="admontitle">Note: </h3><p xmlns="http://www.w3.org/1999/xhtml">Pour pouvoir effectuer cette conversion de
	  caractères à l'aide de l'option
	  <code class="option">-C</code>, le module
	  <code class="filename">cd9660_iconv.ko</code> devra être
	  chargé.  Cela peut être fait soit en ajoutant
	  au fichier <code class="filename">loader.conf</code> la ligne:</p><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting">cd9660_iconv_load="YES"</pre><p xmlns="http://www.w3.org/1999/xhtml">puis en redémarrant la machine, soit en chargeant
	  directement le module avec <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=kldload&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">kldload</span>(8)</span></a>.</p></div><p>Occasionnellement, vous pourrez obtenir le message
	<span class="errorname">Device not configured</span>
	(périphérique non configuré)
	lors d'une tentative de montage
	d'un CDROM.  Cela veut généralement dire que le
	lecteur de CDROM pense qu'il n'y a pas de disque dans le
	lecteur, ou que le lecteur n'est pas visible sur le bus.
	Cela peut demander plusieurs secondes à un lecteur de
	CDROM de s'apercevoir qu'il a été chargé,
	soyez donc patient.</p><p>Parfois, un lecteur de CDROM SCSI peut être manquant
	parce qu'il n'a pas eu suffisamment de temps pour répondre
	à la réinitialisation du bus.  Si vous avez un lecteur
	de CDROM SCSI, veuillez ajouter l'option suivante à
	la configuration de votre noyau et <a class="link" href="kernelconfig-building.html" title="9.3. Compiler et installer un noyau sur mesure">recompiler votre
	noyau</a>.</p><pre class="programlisting">options SCSI_DELAY=15000</pre><p>Ceci demande à votre bus SCSI une pause de 15 seconds
	au démarrage, pour donner à votre lecteur de CDROM une chance
	de répondre la réinitialisation du bus.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="rawdata-cd"></a>19.6.8. Graver des CDs de données brutes</h3></div></div></div><p>Il est possible de graver directement un fichier sur CD,
	sans créer de système de fichiers ISO 9660.
	Certaines personnes le font dans le cas de sauvegardes.
	Cela est beaucoup plus rapide que de graver un CD
	standard:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>burncd -f /dev/acd1 -s 12 data archive.tar.gz fixate</code></strong></pre><p>Afin de récupérer les données gravées
	sur un tel CD, vous devez lire les données à
	partir du fichier spécial de périphériques
	en mode caractère:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>tar xzvf /dev/acd1</code></strong></pre><p>Vous ne pouvez monter ce disque comme vous le feriez avec
	un CDROM classique.  Un tel CDROM ne pourra être lu
	sous un autre système d'exploitation en dehors de FreeBSD.
	Si vous voulez être en mesure de monter le CD, ou
	d'en partager les données avec un autre système
	d'exploitation, vous devez utiliser
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mkisofs&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mkisofs</span>(8)</span></a> comme
	décrit plus haut.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="atapicam"></a>19.6.9. Utilisation du pilote de périphérique
	ATAPI/CAM</h3></div><div><span class="authorgroup">Contribution de <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Marc</span> <span class="surname">Fonvieille</span></span>. </span></div></div></div><a id="idp80182352" class="indexterm"></a><p>Ce pilote permet d'accéder aux périphériques
	ATAPI (lecteurs de CD-ROM, graveurs CD-RW, lecteur de DVD etc...)
	par l'intermédiaire du sous-système SCSI, et
	autorise l'utilisation d'applications comme <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/sysutils/cdrdao/pkg-descr">sysutils/cdrdao</a> ou
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=cdrecord&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">cdrecord</span>(1)</span></a>.</p><p>Pour utiliser ce pilote, vous devrez ajouter la ligne
	suivante au fichier
	<code class="filename">/boot/loader.conf</code>:</p><pre class="programlisting">atapicam_load="YES"</pre><p>puis redémarrez votre machine.</p><div xmlns="" class="note"><h3 class="admontitle">Note: </h3><p xmlns="http://www.w3.org/1999/xhtml">Si vous préférez compiler en statique dans le noyau
	  le support <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=atapicam&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">atapicam</span>(4)</span></a>, vous devrez ajouter au fichier
	  de configuration du noyau la ligne:</p><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting">device atapicam</pre><p xmlns="http://www.w3.org/1999/xhtml">Vous avez également besoin des lignes suivantes dans
	votre fichier de configuration:</p><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting">device ata
device scbus
device cd
device pass</pre><p xmlns="http://www.w3.org/1999/xhtml">qui devraient être déjà
	présentes.  Puis recompilez, installez votre nouveau
	noyau, et enfin redémarrez votre machine.</p></div><p>Lors du démarrage, votre
	graveur devrait apparaître, comme suit:</p><pre class="screen">acd0: CD-RW &lt;MATSHITA CD-RW/DVD-ROM UJDA740&gt; at ata1-master PIO4
cd0 at ata1 bus 0 target 0 lun 0
cd0: &lt;MATSHITA CDRW/DVD UJDA740 1.00&gt; Removable CD-ROM SCSI-0 device
cd0: 16.000MB/s transfers
cd0: Attempt to query device size failed: NOT READY, Medium not present - tray closed</pre><p>Le lecteur doit être accessible via le nom de
	périphérique <code class="filename">/dev/cd0</code>,
	par exemple pour monter un CD-ROM sous
	<code class="filename">/mnt</code>, tapez juste ce qui suit:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mount -t cd9660 /dev/cd0 /mnt</code></strong></pre><p>En tant que <code class="systemitem">root</code>, vous pouvez
	exécuter la commande suivante pour obtenir l'adresse SCSI du
	graveur:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>camcontrol devlist</code></strong>
&lt;MATSHITA CDRW/DVD UJDA740 1.00&gt;   at scbus1 target 0 lun 0 (pass0,cd0)</pre><p>Donc <code class="literal">1,0,0</code> sera l'adresse SCSI à
	utiliser avec <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=cdrecord&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">cdrecord</span>(1)</span></a> et tout autre application
	SCSI.</p><p>Pour plus d'information concernant ATAPI/CAM et le
	système SCSI, consultez les pages de manuel
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=atapicam&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">atapicam</span>(4)</span></a> et <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=cam&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">cam</span>(4)</span></a>.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="usb-disks.html">Précédent</a> </td><td width="20%" align="center"><a accesskey="u" href="disks.html">Niveau supérieur</a></td><td width="40%" align="right"> <a accesskey="n" href="creating-dvds.html">Suivant</a></td></tr><tr><td width="40%" align="left" valign="top">19.5. Périphériques de stockage USB </td><td width="20%" align="center"><a accesskey="h" href="index.html">Sommaire</a></td><td width="40%" align="right" valign="top"> 19.7. Création et utilisation de supports optiques
      (DVDs)</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Ce document, ainsi que d'autres peut être téléchargé sur
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Pour toutes questions à propos de FreeBSD, lisez la
    <a href="http://www.FreeBSD.org/docs.html">documentation</a> avant de contacter
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Pour les questions sur cette documentation, contactez
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>