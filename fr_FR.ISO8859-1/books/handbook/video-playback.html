<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>8.4. Lecture des Vidéos</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Manuel FreeBSD" /><link rel="up" href="multimedia.html" title="Chapitre 8. Multimédia" /><link rel="prev" href="sound-mp3.html" title="8.3. Fichiers MP3" /><link rel="next" href="tvcard.html" title="8.5. Configuration des cartes TV" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">8.4. Lecture des Vidéos</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="sound-mp3.html">Précédent</a> </td><th width="60%" align="center">Chapitre 8. Multimédia</th><td width="20%" align="right"> <a accesskey="n" href="tvcard.html">Suivant</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="video-playback"></a>8.4. Lecture des Vidéos</h2></div><div><span class="authorgroup">Contribution de <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Ross</span> <span class="surname">Lippert</span></span>. </span></div></div></div><p>Les applications pour lire des vidéos
      sont assez récentes et se développent
      très rapidement.  Soyez patient.  Tout ne va pas
      fonctionner aussi bien que cela pu être le cas avec
      le son.</p><p>Avant que vous ne commenciez, vous devrez connaître
      le modèle de carte vidéo dont vous disposez ainsi
      que le circuit intégré qu'elle utilise.  Alors
      qu'<span class="application">Xorg</span> et <span class="application"><span class="trademark">XFree86</span>&#8482;</span> supportent une large
      variété de cartes
      vidéo, seul un petit nombre d'entre elles donne de bonnes
      performances en lecture de vidéos.  Pour obtenir la liste
      des extensions supportées par le serveur X utilisant votre
      carte employez la commande <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=xdpyinfo&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">xdpyinfo</span>(1)</span></a> durant le
      fonctionnement d'X11.</p><p>C'est une bonne idée d'avoir un court fichier MPEG
      qui pourra être utilisé comme fichier test pour
      évaluer divers lecteurs et leurs options.  Comme certains
      programmes de lecture de DVD chercheront un support DVD sur
      <code class="filename">/dev/dvd</code> par défaut, ou ont ce
      périphérique fixé définitivement dans
      leur code, vous pourrez trouver utile de créer des liens
      symboliques vers les périphériques corrects:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ln -sf /dev/acd0 /dev/dvd</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>ln -sf /dev/acd0 /dev/rdvd</code></strong></pre><p>Notez qu'en raison de la nature du système
      <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=devfs&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">devfs</span>(5)</span></a>, les liens créés à la main
      comme les précédents ne seront pas
      conservés si vous redémarrez le système.
      Afin de créer automatiquement les liens symboliques
      dès que vous redémarrez votre système,
      ajoutez les lignes suivantes au fichier
      <code class="filename">/etc/devfs.conf</code>:</p><pre class="programlisting">link acd0 dvd
link acd0 rdvd</pre><p>De plus, le décodage de DVD, qui nécessite
      de faire appel à des fonctions spéciales du
      lecteur de DVD, demande d'avoir la permission d'écrire sur les
      périphériques DVD.</p><p>Pour augmenter la mémoire partagée
      pour l'interface X11, il est recommandé que les valeurs de
      certaines variables <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sysctl&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sysctl</span>(8)</span></a> soient augmentées:</p><pre class="programlisting">kern.ipc.shmmax=67108864
kern.ipc.shmall=32768</pre><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="video-interface"></a>8.4.1. Déterminer les capacités vidéo</h3></div></div></div><a id="idp72720976" class="indexterm"></a><a id="idp72721488" class="indexterm"></a><a id="idp72722000" class="indexterm"></a><p>Il y a plusieurs manières possibles pour
      afficher de la vidéo sous X11.  Ce qui fonctionnera vraiment est
      énormément dépendant du matériel.
      Chaque méthode décrite ci-dessous donnera
      différents résultats en fonction du matériel.
      De plus, le rendu de la vidéo sous X11 est un sujet recevant
      beaucoup d'attention dernièrement, et avec chaque nouvelle
      version d'<span class="application">Xorg</span>, ou d'<span class="application"><span class="trademark">XFree86</span>&#8482;</span>, il pourra y avoir des
      améliorations significatives.</p><p>Une liste des interfaces vidéo communes:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>X11: sortie X11 classique utilisant de la mémoire
	partagée.</p></li><li class="listitem"><p>XVideo: une extension de l'interface X11 qui supporte
	la vidéo sur n'importe quelle partie de l'écran
	contrôlé par X11.</p></li><li class="listitem"><p>SDL: &#8220;Simple Directmedia Layer&#8221; - couche simple
	d'accès directe au média.</p></li><li class="listitem"><p>DGA: &#8220;Direct Graphics Access&#8221; - accès direct au
	graphique.</p></li><li class="listitem"><p>SVGAlib: couche graphique bas niveau pour la console.</p></li></ol></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="video-interface-xvideo"></a>8.4.1.1. XVideo</h4></div></div></div><p><span class="application">Xorg</span> et <span class="application"><span class="trademark">XFree86</span>&#8482; 4.X</span> disposent d'une extension
	appelée
        <span class="emphasis"><em>XVideo</em></span> (également connue sous les termes
	Xvideo, Xv, ou xv) qui permet d'afficher directement de la
	vidéo à travers une accélération
	spécifique.  Cette extension fournit une très bonne
	qualité de rendu même sur les machines bas de gamme.</p><p>Pour vérifier si l'extension fonctionne utilisez
	<code class="command">xvinfo</code>:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>xvinfo</code></strong></pre><p>XVideo est supporté pour votre carte si le
	résultat de la commande ressemble à:</p><pre class="screen">X-Video Extension version 2.2
screen #0
  Adaptor #0: "Savage Streams Engine"
    number of ports: 1
    port base: 43
    operations supported: PutImage
    supported visuals:
      depth 16, visualID 0x22
      depth 16, visualID 0x23
    number of attributes: 5
      "XV_COLORKEY" (range 0 to 16777215)
              client settable attribute
              client gettable attribute (current value is 2110)
      "XV_BRIGHTNESS" (range -128 to 127)
              client settable attribute
              client gettable attribute (current value is 0)
      "XV_CONTRAST" (range 0 to 255)
              client settable attribute
              client gettable attribute (current value is 128)
      "XV_SATURATION" (range 0 to 255)
              client settable attribute
              client gettable attribute (current value is 128)
      "XV_HUE" (range -180 to 180)
              client settable attribute
              client gettable attribute (current value is 0)
    maximum XvImage size: 1024 x 1024
    Number of image formats: 7
      id: 0x32595559 (YUY2)
        guid: 59555932-0000-0010-8000-00aa00389b71
        bits per pixel: 16
        number of planes: 1
        type: YUV (packed)
      id: 0x32315659 (YV12)
        guid: 59563132-0000-0010-8000-00aa00389b71
        bits per pixel: 12
        number of planes: 3
        type: YUV (planar)
      id: 0x30323449 (I420)
        guid: 49343230-0000-0010-8000-00aa00389b71
        bits per pixel: 12
        number of planes: 3
        type: YUV (planar)
      id: 0x36315652 (RV16)
        guid: 52563135-0000-0000-0000-000000000000
        bits per pixel: 16
        number of planes: 1
        type: RGB (packed)
        depth: 0
        red, green, blue masks: 0x1f, 0x3e0, 0x7c00
      id: 0x35315652 (RV15)
        guid: 52563136-0000-0000-0000-000000000000
        bits per pixel: 16
        number of planes: 1
        type: RGB (packed)
        depth: 0
        red, green, blue masks: 0x1f, 0x7e0, 0xf800
      id: 0x31313259 (Y211)
        guid: 59323131-0000-0010-8000-00aa00389b71
        bits per pixel: 6
        number of planes: 3
        type: YUV (packed)
      id: 0x0
        guid: 00000000-0000-0000-0000-000000000000
        bits per pixel: 0
        number of planes: 0
        type: RGB (packed)
        depth: 1
        red, green, blue masks: 0x0, 0x0, 0x0</pre><p>Notez également que les formats listés
      (YUV2, YUV12, etc...) ne sont pas présents dans chaque
      implémentation d'XVideo et leur absence pourra gêner
      certains programmes.</p><p>Si le résultat ressemble à:</p><pre class="screen">X-Video Extension version 2.2
screen #0
no adaptors present</pre><p>Alors XVideo n'est probablement pas supporté pour votre
      carte.</p><p>Si XVideo n'est pas supporté pour votre carte,
      cela signifie seulement qu'il sera plus difficile pour votre
      système d'affichage de répondre aux demandes
      du rendu vidéo en termes de puissance de calcul.  En fonction
      de votre carte vidéo et de votre processeur, vous pourriez
      encore obtenir de bons résultats.  Vous devriez
      probablement vous documenter sur les méthodes pour
      améliorer les performances en lisant la <a class="xref" href="video-playback.html#video-further-reading" title="8.4.3. Lectures supplémentaires">Section 8.4.3, « Lectures supplémentaires »</a>.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="video-interface-SDL"></a>8.4.1.2. &#8220;Simple Directmedia Layer&#8221; - couche simple
      d'accès directe au média</h4></div></div></div><p>La couche simple d'accès directe au média, SDL,
      a été prévue pour être
      une couche de portage entre <span class="trademark">Microsoft</span>® <span class="trademark">Windows</span>®, BeOS, et <span class="trademark">UNIX</span>®,
      permettant à des applications &#8220;cross-platform&#8221;
      qui font un usage efficace du son et du graphique d'être
      développées.  La couche SDL fournit une abstraction
      de bas niveau
      vers le matériel qui peut parfois être plus
      efficace que l'interface X11.</p><p>La bibliothèque SDL peut être trouvée
      dans <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/devel/sdl12/pkg-descr">devel/sdl12</a>.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="video-interface-DGA"></a>8.4.1.3. &#8220;Direct Graphics Access&#8221; - accès direct au
      graphique</h4></div></div></div><p>L'accès direct au graphique est une extension X11
      qui permet à un programme de bypasser le serveur X et
      d'accéder directement au matériel.  Comme il
      repose sur une copie bas niveau de la mémoire, les
      programmes l'utilisant doivent être
      exécutés avec les privilèges de l'utilisateur
      <code class="systemitem">root</code>.</p><p>L'extension DGA et ses performances peuvent être
      testées avec <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dga&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">dga</span>(1)</span></a>.  Quand <code class="command">dga</code> est
      exécuté, il changera les couleurs de l'affichage
      à chaque appui sur une touche.  Pour quitter, utilisez la touche
      <span class="keycap"><strong>q</strong></span>.</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="video-ports"></a>8.4.2. Logiciels portés et pré-compilés
      relatifs à la vidéo</h3></div></div></div><a id="idp72748880" class="indexterm"></a><a id="idp72749392" class="indexterm"></a><p>Cette section traite des logiciels disponibles dans le
      catalogue des logiciels portés de FreeBSD qui peuvent être
      utilisés pour lire de la vidéo.  Les applications
      vidéos sont un domaine de développement très
      actif, et les capacités de diverses applications seront
      sujettes à des divergences avec la description
      donnée ici.</p><p>Premièrement, il est important de savoir que plusieurs des
      applications vidéos fonctionnant sous FreeBSD ont
      été développées comme des applications pour
      Linux.  Plusieurs de ces applications sont encore
      considérées comme étant de qualité bêta.
      Parmi les problèmes que l'on peut rencontrer avec
      les applications vidéos sous FreeBSD, nous trouvons:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Une application ne peut pas lire un fichier produit par
	  une autre application.</p></li><li class="listitem"><p>Une application ne peut pas lire un fichier quelle a
	  produit.</p></li><li class="listitem"><p>La même application sur deux machines
	  différentes, recompilée sur chaque machine pour
	  la machine elle-même, jouera le fichier
	  différemment.</p></li><li class="listitem"><p>Un filtre apparemment insignifiant comme un changement
	  d'échelle de l'image donne de très mauvais
	  résultats en raison d'une routine de changement
	  d'échelle boguée.</p></li><li class="listitem"><p>Une application qui plante régulièrement.</p></li><li class="listitem"><p>La documentation n'est pas installée avec le logiciel
	  porté et peut être trouvée sur Internet ou
	  dans le répertoire
          <code class="filename">work</code> du logiciel porté.</p></li></ol></div><p>Parmin ces applications, nombreuses sont celles qui peuvent présenter des &#8220;Linuxismes&#8221;.  Aussi, il y peut y avoir des problèmes
      résultants de la façon dont certaines
      bibliothèques standards sont implémentées
      dans les distributions Linux, ou certaines caractéristiques
      du noyau Linux qui ont été employées
      par les auteurs des applications.
      Ces
      problèmes ne sont pas toujours remarqués et
      contournés par les
      responsables du portage du logiciel ce qui peut mener vers
      quelques ennuis comme ceux-ci:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>L'utilisation de <code class="filename">/proc/cpuinfo</code> pour
	  détecter les caractéristiques du processeur.</p></li><li class="listitem"><p>Une mauvaise utilisation des &#8220;threads&#8221; qui
	  provoque le blocage de programme au lieu de se terminer
	  complètement.</p></li><li class="listitem"><p>Des logiciels habituellement utilisés en conjonction
	  avec l'application ne sont pas encore dans le catalogue des
	  logiciels portés.</p></li></ol></div><p>Jusqu'ici, les développeurs de ces applications ont
	été coopératifs avec les responsables
	des logiciels portés pour minimiser les modifications
	nécessaires au portage.</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="video-mplayer"></a>8.4.2.1. MPlayer</h4></div></div></div><p><span class="application">MPlayer</span> est une application pour lire des
	vidéos récemment et rapidement
	développée.  Les objectifs de l'équipe
	de <span class="application">MPlayer</span> sont la rapidité et la
	flexibilité sur
	Linux et autre <span class="trademark">UNIX</span>®.  Le projet fut démarré quand
	le fondateur de l'équipe en
	eu assez des mauvaises performances en lecture des autres
	lecteurs disponibles.  Certains diront que l'interface graphique a
	été sacrifiée pour une conception
	rationalisée.  Cependant, une fois que vous avez les options en ligne de
	commande et les combinaisons de touches en main, cela fonctionne
	très bien.</p><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="video-mplayer-building"></a>8.4.2.1.1. Compiler MPlayer</h5></div></div></div><a id="idp72767440" class="indexterm"></a><p><span class="application">MPlayer</span> réside dans <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/multimedia/mplayer/pkg-descr">multimedia/mplayer</a>.
	  <span class="application">MPlayer</span>
	  effectue un certain nombre de contrôle du
	  matériel durant le processus de compilation, il en
	  résulte un
	  binaire qui ne sera pas portable d'un système à l'autre.
	  Ainsi il est important d'utiliser le logiciel porté et de ne
	  pas utiliser un logiciel pré-compilé.
	  En plus, un certain nombre d'options peuvent être
	  spécifiées dans la ligne de commande <code class="command">make</code>,
	  comme décrit dans le fichier <code class="filename">Makefile</code>
	  et au départ de la compilation:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cd /usr/ports/multimedia/mplayer</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>make</code></strong>
N - O - T - E

Take a careful look into the Makefile in order
to learn how to tune mplayer towards you personal preferences!
For example,
make WITH_GTK1
builds MPlayer with GTK1-GUI support.
If you want to use the GUI, you can either install
/usr/ports/multimedia/mplayer-skins
or download official skin collections from
http://www.mplayerhq.hu/homepage/dload.html
</pre><p>Les options par défaut du logiciel porté
	  devraient être suffisantes pour la plupart des
	  utilisateurs.  Cependant si vous avez besoin du codec XviD,
	  vous devez spécifier l'option
	  <code class="varname">WITH_XVID</code> dans la ligne de commande.  Le
	  périphérique DVD par défaut peut
	  également être défini avec l'option
	  <code class="varname">WITH_DVD_DEVICE</code>, par défaut
	  <code class="filename">/dev/acd0</code> sera utilisé.</p><p>Au moment de l'écriture de ces lignes, le logiciel
	  porté de <span class="application">MPlayer</span> compilera sa
	  documentation HTML et deux exécutables,
	  <code class="command">mplayer</code> et
	  <code class="command">mencoder</code>, qui est un outil pour ré-encoder
	  de la vidéo.</p><p>La documentation HTML de <span class="application">MPlayer</span> est
	  très
	  complète.  Si le lecteur trouve l'information sur le
	  matériel vidéo et les interfaces manquante dans ce
	  chapitre, la documentation de <span class="application">MPlayer</span> est
	  une alternative très
	  complète.  Vous devriez certainement prendre le temps de
	  lire la documentation de <span class="application">MPlayer</span>,
	  si vous êtes à la recherche d'informations sur le support
	  vidéo sous <span class="trademark">UNIX</span>®.</p></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="video-mplayer-using"></a>8.4.2.1.2. Utiliser MPlayer</h5></div></div></div><a id="idp72811344" class="indexterm"></a><p>Chaque utilisateur de <span class="application">MPlayer</span> doit
	  créer un
	  sous-répertoire <code class="filename">.mplayer</code> dans son
	  répertoire d'utilisateur.  Pour créer ce
	  sous-répertoire nécessaire, vous pouvez taper ce qui
	  suit:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>cd /usr/ports/multimedia/mplayer</code></strong>
<code class="prompt">%</code> <strong class="userinput"><code>make install-user</code></strong></pre><p>Les options de commande de <code class="command">mplayer</code> sont
	  données dans la page de manuel.  Pour plus de détails
	  il y a la documentation HTML.  Dans cette section, nous
	  décrirons que quelques unes des utilisations les plus courantes.</p><p>Pour lire à un fichier, comme
	  <code class="filename">testfile.avi</code> en utilisant une des
	  diverses interfaces vidéo utilisez l'option
	  <code class="option">-vo</code>:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>mplayer -vo xv testfile.avi</code></strong></pre><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>mplayer -vo sdl testfile.avi</code></strong></pre><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>mplayer -vo x11 testfile.avi</code></strong></pre><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mplayer -vo dga testfile.avi</code></strong></pre><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mplayer -vo 'sdl:dga' testfile.avi</code></strong></pre><p>Cela vaut la peine d'essayer toutes ces options, comme
	  leur performance relative dépend de nombreux facteurs
	  et variera de façon significative avec le
	  matériel.</p><p>Pour lire un DVD, remplacez
	 <code class="filename">testfile.avi</code> par <code class="option">dvd://<em class="replaceable"><code>N</code></em> -dvd-device
	 <em class="replaceable"><code>DEVICE</code></em></code> où <em class="replaceable"><code>N</code></em> est
	 le numéro du titre à jouer et
	 <code class="filename">DEVICE</code> est
	 le fichier spécial de périphérique correspondant
	 au lecteur de DVD.  Par exemple, pour jouer le titre 3 depuis
	 <code class="filename">/dev/dvd</code>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mplayer -vo xv dvd://3 -dvd-device /dev/dvd</code></strong></pre><div xmlns="" class="note"><h3 class="admontitle">Note: </h3><p xmlns="http://www.w3.org/1999/xhtml">Le périphérique DVD par défaut
	    peut être défini lors de la compilation du
	    logiciel porté <span class="application">MPlayer</span> par
	    l'intermédiaire de l'option
	    <code class="varname">WITH_DVD_DEVICE</code>.  Par défaut, ce
	    périphérique est
	    <code class="filename">/dev/acd0</code>.  Plus de détails
	    peuvent être trouvés dans le
	    <code class="filename">Makefile</code> du logiciel
	    porté.</p></div><p>Pour arrêter, avancer, etc..., consultez
	  les combinaisons de touches, qui sont données en
	  exécutant <code class="command">mplayer -h</code> ou lisez
	  la page de manuel.</p><p>D'autres options importantes pour la lecture sont:
          <code class="option">-fs -zoom</code> qui active le mode plein écran
          et <code class="option">-framedrop</code> qui aide au niveau des
	  performances.</p><p>Pour que la ligne de commande à taper ne devienne pas trop
	  longue, l'utilisateur peut créer un fichier
	  <code class="filename">.mplayer/config</code> et y fixer les options
	  par défaut:</p><pre class="programlisting">vo=xv
fs=yes
zoom=yes</pre><p>Enfin, <code class="command">mplayer</code> peut être
	  utilisé pour extraire une piste du DVD dans un fichier
	  <code class="filename">.vob</code>.
	  Pour récupérer la seconde piste vidéo
	  d'un DVD, tapez ceci:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mplayer -dumpstream -dumpfile out.vob dvd://2 -dvd-device /dev/dvd</code></strong></pre><p>Le fichier de sortie, <code class="filename">out.vob</code>, sera du
	  MPEG et peut être manipulé par les autres
	  logiciels décrits dans cette section.</p></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="video-mencoder"></a>8.4.2.1.3. mencoder</h5></div></div></div><a id="idp72872144" class="indexterm"></a><p>Avant
	  d'utiliser <code class="command">mencoder</code> c'est une bonne
	  idée de vous familiariser avec les options données
	  par la documentation HTML.  Il existe une page de manuel, mais
	  elle n'est pas très utile sans la documentation en HTML.
	  Il y a d'innombrables façons d'améliorer la
	  qualité, diminuer le débit binaire, et
	  modifier les formats, et certaines de ces options peuvent faire
	  la différence entre de bonnes et mauvaises performances.
	  Voici quelques exemples pour y arriver.  Tout d'abord une
	  simple copie:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>mencoder input.avi -oac copy -ovc copy -o output.avi</code></strong></pre><p>De mauvaises combinaisons d'options peuvent conduire
	   à des fichiers illisibles
	   même par <code class="command">mplayer</code>.  Aussi, si
	   vous voulez juste extraire un fichier, restez sur l'option
	   <code class="option">-dumpfile</code> de <code class="command">mplayer</code>.</p><p>Pour convertir <code class="filename">input.avi</code> au format MPEG4
	   avec un codage audio MPEG3 (<a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/audio/lame/pkg-descr">audio/lame</a> est nécessaire):</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>mencoder input.avi -oac mp3lame -lameopts br=192 \
	 -ovc lavc -lavcopts vcodec=mpeg4:vhq -o output.avi</code></strong></pre><p>Ceci a produit un fichier lisible par <code class="command">mplayer</code>
	   et <code class="command">xine</code>.</p><p><code class="filename">input.avi</code> peut être remplacé
	   par <code class="option">dvd://1 -dvd-device /dev/dvd</code> et exécuté en tant
	   que <code class="systemitem">root</code> pour ré-encoder directement un
	   titre DVD.  Puisque vous êtes susceptible de ne pas
	   être satisfait du résultat la première fois, il
	   est recommandé d'extraire le titre vers un fichier et de
	   travailler sur le fichier.</p></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="video-xine"></a>8.4.2.2. Le lecteur xine</h4></div></div></div><p>Le lecteur <span class="application">xine</span> est un projet de grande
      envergure visant non seulement
      à être une solution vidéo tout-en-un, mais
      également de produire une bibliothèque de base
      réutilisable et un exécutable modulaire qui peut
      être étendu grâce à des greffons.
      Il est fourni sous forme
      pré-compilée et de logiciel porté, <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/multimedia/xine/pkg-descr">multimedia/xine</a>.</p><p>Le lecteur <span class="application">xine</span>
      est encore un peu brut, mais c'est
      clairement un bon début.  Dans la pratique,
      <span class="application">xine</span> demande soit un
      processeur rapide avec une carte vidéo rapide, soit
      l'extension XVideo.  L'interface graphique est utilisable, mais
      peu pratique.</p><p>Au moment de l'écriture de ces lignes, il n'y a pas
      de module d'entrée fourni avec <span class="application">xine</span>
      qui lira les DVDs codés
      en CSS.  Il existe des versions tiers qui ont des modules
      à cet effet intégrés, mais aucune de ces
      dernières ne se trouve dans le catalogue des logiciels
      portés de FreeBSD.</p><p>Comparé à <span class="application">MPlayer</span>,
      <span class="application">xine</span> fait plus pour l'utilisateur,
      mais au même moment, rend inaccessible à l'utilisateur
      certains contrôles bien précis.  Le lecteur
      <span class="application">xine</span> se comporte le mieux
      sur les interfaces XVideo.</p><p>Par défaut, le lecteur <span class="application">xine</span>
      lancera une interface graphique.  Les menus peuvent alors
      être utilisés pour ouvrir un fichier précis:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>xine</code></strong></pre><p>Alternativement, le lecteur peut être invoqué
      pour jouer directement un fichier sans l'interface
      graphique avec la commande:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>xine -g -p mymovie.avi</code></strong></pre></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="video-ports-transcode"></a>8.4.2.3. Les utilitaires transcode</h4></div></div></div><p>Le logiciel <span class="application">transcode</span> n'est pas un
      lecteur, mais une suite d'outils pour
      ré-encoder les fichiers audio et vidéo.
      Avec <span class="application">transcode</span>,
      on a la capacité de fusionner des fichiers vidéos,
      réparer les fichiers endommagés, en utilisant les outils
      en ligne de commande avec des interfaces de flots
      <code class="filename">stdin/stdout</code>.</p><p>Un grand nombre d'options peut être
      précisé lors de la compilation du logiciel
      porté <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/multimedia/transcode/pkg-descr">multimedia/transcode</a>, nous
      recommandons d'utiliser la ligne de commande suivante pour
      compiler <span class="application">transcode</span>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>make WITH_OPTIMIZED_CFLAGS=yes WITH_LIBA52=yes WITH_LAME=yes WITH_OGG=yes \
WITH_MJPEG=yes -DWITH_XVID=yes</code></strong></pre><p>Le paramétrage proposé devrait convenir
      à la plupart des utilisateurs.</p><p>Pour illustrer les capacités de
      <code class="command">transcode</code>, voici un exemple montrant comment
      convertir un fichier DivX en fichier MPEG-1 en standard PAL (VCD
      PAL):</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>transcode -i input.avi -V --export_prof vcd-pal -o output_vcd</code></strong>
<code class="prompt">%</code> <strong class="userinput"><code>mplex -f 1 -o output_vcd.mpg output_vcd.m1v output_vcd.mpa</code></strong></pre><p>Le fichier MPEG résultant,
      <code class="filename">output_vcd.mpg</code>, peut être directement
      lu avec <span class="application">MPlayer</span>.  Vous pourrez
      même le graver sur un CD pour créer ainsi un
      Vidéo CD; dans ce cas vous devrez installer et utiliser
      les programmes <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/multimedia/vcdimager/pkg-descr">multimedia/vcdimager</a> et <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/sysutils/cdrdao/pkg-descr">sysutils/cdrdao</a>.</p><p>Il existe une page de manuel pour
      <code class="command">transcode</code>, mais il est conseillé de
      consulter également le <a class="link" href="http://www.transcoding.org/cgi-bin/transcode" target="_top">wiki de
      transcode</a> pour plus d'information et des
      exemples.</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="video-further-reading"></a>8.4.3. Lectures supplémentaires</h3></div></div></div><p>Les différents logiciels vidéo pour FreeBSD se développent
      rapidement.  Il est fort possible que dans un futur proche
      plusieurs des problèmes abordés ici seront résolus.
      Entre temps
      ceux qui veulent tirer partie des possibilités
      audio/vidéo de FreeBSD devront se débrouiller avec des
      connaissances extraites de plusieurs FAQs et guides et utiliser
      différentes applications.
      Cette section existe pour fournir au lecteur des références
      sur ces documentations additionnelles.</p><p>La
      <a class="link" href="http://www.mplayerhq.hu/DOCS/" target="_top">documentation de
      MPlayer</a> est techniquement très instructive.
      Ces documents devraient probablement être consultés
      par quiconque désirant obtenir un niveau élevé
      d'expertise sur la vidéo et <span class="trademark">UNIX</span>®.
      La liste de diffusion de <span class="application">MPlayer</span> est hostile à
      toute personne qui n'a pas pris la peine de lire la documentation,
      aussi si vous projetez de leur envoyer des rapports de bogue,
      lisez la documentation!</p><p>Le
      <a class="link" href="http://dvd.sourceforge.net/xine-howto/en_GB/html/howto.html" target="_top">       HOWTO de xine</a>
      contient un chapitre sur l'amélioration des performances qui est
      général à tous les lecteurs
      de vidéo.</p><p>Et enfin, il y a quelques autres applications prometteuses que
      le lecteur devrait essayer:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="link" href="http://avifile.sourceforge.net/" target="_top">Avifile</a> qui est
	   également un logiciel porté <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/multimedia/avifile/pkg-descr">multimedia/avifile</a>.</p></li><li class="listitem"><p><a class="link" href="http://www.dtek.chalmers.se/groups/dvd/" target="_top">Ogle</a>
	   qui est également un logiciel porté <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/multimedia/ogle/pkg-descr">multimedia/ogle</a>.</p></li><li class="listitem"><p><a class="link" href="http://xtheater.sourceforge.net/" target="_top">Xtheater</a></p></li><li class="listitem"><p><a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/multimedia/dvdauthor/pkg-descr">multimedia/dvdauthor</a>, un logiciel
	libre pour la création de DVDs.</p></li></ul></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="sound-mp3.html">Précédent</a> </td><td width="20%" align="center"><a accesskey="u" href="multimedia.html">Niveau supérieur</a></td><td width="40%" align="right"> <a accesskey="n" href="tvcard.html">Suivant</a></td></tr><tr><td width="40%" align="left" valign="top">8.3. Fichiers MP3 </td><td width="20%" align="center"><a accesskey="h" href="index.html">Sommaire</a></td><td width="40%" align="right" valign="top"> 8.5. Configuration des cartes TV</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Ce document, ainsi que d'autres peut être téléchargé sur
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Pour toutes questions à propos de FreeBSD, lisez la
    <a href="http://www.FreeBSD.org/docs.html">documentation</a> avant de contacter
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Pour les questions sur cette documentation, contactez
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>