<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>4.6. Monter et démonter des systèmes de fichiers</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Manuel FreeBSD" /><link rel="up" href="basics.html" title="Chapitre 4. Quelques bases d'UNIX" /><link rel="prev" href="disk-organization.html" title="4.5. Organisation des disques" /><link rel="next" href="basics-processes.html" title="4.7. Processus" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">4.6. Monter et démonter des systèmes de fichiers</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="disk-organization.html">Précédent</a> </td><th width="60%" align="center">Chapitre 4. Quelques bases d'UNIX</th><td width="20%" align="right"> <a accesskey="n" href="basics-processes.html">Suivant</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="mount-unmount"></a>4.6. Monter et démonter des systèmes de fichiers</h2></div></div></div><p>Le système de fichiers peut être vu comme un arbre
      enraciné sur le répertoire <code class="filename">/</code>.
      <code class="filename">/dev</code>, <code class="filename">/usr</code>, et les
      autres répertoires dans le répertoire racine sont des
      branches, qui peuvent avoir leurs propres branches, comme
      <code class="filename">/usr/local</code>, et ainsi de suite.</p><a id="idp70383312" class="indexterm"></a><p>Il y a diverses raisons pour héberger certains de ces
      répertoires sur des systèmes de fichiers
      séparés.
      <code class="filename">/var</code> contient les répertoires
      <code class="filename">log/</code>, <code class="filename">spool/</code>, et divers
      types de fichiers temporaires, et en tant que tels, peuvent voir
      leur taille augmenter de façon importante.
      Remplir le système de
      fichiers racine n'est pas une bonne idée, aussi séparer
      <code class="filename">/var</code> de <code class="filename">/</code> est souvent
      favorable.</p><p>Une autre raison courante de placer certains répertoires sur
      d'autres systèmes de fichiers est s'ils doivent être
      hébergés sur
      des disques physiques séparés, ou sur des disques virtuels
      séparés, comme les <a class="link" href="network-nfs.html" title="29.3. Système de fichiers réseau (NFS)">systèmes de
      fichiers réseau</a>, ou les lecteurs de CDROM.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="disks-fstab"></a>4.6.1. Le fichier <code class="filename">fstab</code></h3></div></div></div><a id="idp70388048" class="indexterm"></a><p>Durant le <a class="link" href="boot.html" title="Chapitre 13. Processus de démarrage de FreeBSD">processus de
	démarrage</a>, les systèmes de fichiers listés
	dans <code class="filename">/etc/fstab</code> sont automatiquement
	montés (à moins qu'il ne soient listés avec
	l'option <code class="option">noauto</code>).</p><p>Le fichier <code class="filename">/etc/fstab</code> contient une
	liste de lignes au format suivant:</p><pre class="programlisting"><em class="replaceable"><code>device</code></em>       <em class="replaceable"><code>/mount-point</code></em> <em class="replaceable"><code>fstype</code></em>     <em class="replaceable"><code>options</code></em>      <em class="replaceable"><code>dumpfreq</code></em>     <em class="replaceable"><code>passno</code></em></pre><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">device</code></span></dt><dd><p>Un nom de périphérique (qui devrait exister),
	      comme expliqué dans la
	      <a class="xref" href="disks-naming.html" title="19.2. Noms des périphériques">Section 19.2, « Noms des périphériques »</a>.</p></dd><dt><span class="term"><code class="literal">mount-point</code></span></dt><dd><p>Un répertoire (qui devrait exister), sur
	    lequel sera monté le système de fichier.</p></dd><dt><span class="term"><code class="literal">fstype</code></span></dt><dd><p>Le type de système de fichiers à
	      indiquer à
	      <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mount&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mount</span>(8)</span></a>.  Le système de fichiers par défaut de
	      FreeBSD est l'<code class="literal">ufs</code>.</p></dd><dt><span class="term"><code class="literal">options</code></span></dt><dd><p>Soit <code class="option">rw</code> pour des systèmes de
	      fichiers à lecture-écriture, soit
	      <code class="option">ro</code> pour des systèmes de fichiers
	      à lecture seule, suivi par toute
	      option qui peut s'avérer nécessaire.  Une option
	      courante est <code class="option">noauto</code> pour les systèmes de
	      fichiers qui ne sont normalement pas montés durant la
	      séquence de démarrage.  D'autres options sont
	      présentées dans la page de manuel <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mount&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mount</span>(8)</span></a>.</p></dd><dt><span class="term"><code class="literal">dumpfreq</code></span></dt><dd><p>C'est utilisé par <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dump&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">dump</span>(8)</span></a> pour
	     déterminer quels systèmes de fichiers
	     nécessitent
	     une sauvegarde.  Si ce champ est absent, une valeur
	     de zéro est supposée.</p></dd><dt><span class="term"><code class="literal">passno</code></span></dt><dd><p>Ceci détermine l'ordre dans lequel les systèmes
	     de fichiers devront être vérifiés.
	     Les systèmes de fichiers
	     qui doivent être ignorés devraient avoir leur
	     <code class="literal">passno</code> positionné à zéro.
	     Le système de fichiers racine (qui doit être
	     vérifié avant tout le reste) devrait avoir son
	     <code class="literal">passno</code> positionné à un,
	     et les options <code class="literal">passno</code> des autres
	     systèmes fichiers devraient être positionnées
	     à des valeurs supérieures à un.  Si plus
	     d'un système de fichiers ont le même
	     <code class="literal">passno</code> alors <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=fsck&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">fsck</span>(8)</span></a> essaiera
	     de vérifier les systèmes de fichiers
	     en parallèle si c'est possible.</p></dd></dl></div><p>Consultez la page de manuel de <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=fstab&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">fstab</span>(5)</span></a> pour plus
	d'information sur le format du fichier
	<code class="filename">/etc/fstab</code> et des options qu'il
	contient.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="disks-mount"></a>4.6.2. La commande <code class="command">mount</code></h3></div></div></div><a id="idp70417872" class="indexterm"></a><p>La commande <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mount&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mount</span>(8)</span></a> est ce qui est finalement
	utilisé pour monter des systèmes de fichiers.</p><p>Dans sa forme la plus simple, vous utilisez:</p><div class="informalexample"><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mount device mountpoint</code></strong></pre></div><p>Il y beaucoup d'options, comme mentionné dans la page de
	manuel <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mount&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mount</span>(8)</span></a>, mais les plus courantes sont:</p><div class="variablelist"><div class="variablelist-title">Options de montage</div><dl class="variablelist"><dt><span class="term"><code class="option">-a</code></span></dt><dd><p>Monte tous les systèmes de fichiers listés dans
	      <code class="filename">/etc/fstab</code>.  Exception faite de ceux
	      marqués comme &#8220;noauto&#8221;, ou exclus par
	      le drapeau <code class="option">-t</code>, ou encore ceux qui sont
	      déjà montés.</p></dd><dt><span class="term"><code class="option">-d</code></span></dt><dd><p>Tout effectuer à l'exception de l'appel
	      système de montage réel.  Cette option est utile
	      conjointement avec le drapeau <code class="option">-v</code> pour
	      déterminer ce que <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mount&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mount</span>(8)</span></a> est en train
	      d'essayer de faire.</p></dd><dt><span class="term"><code class="option">-f</code></span></dt><dd><p>Force le montage d'un système de fichiers non propre
	      (dangereux), ou force la révocation de l'accès en
	      écriture quand on modifie l'état de montage d'un
	      système de fichiers de l'accès
	      lecture-écriture à l'accès
	      lecture seule.</p></dd><dt><span class="term"><code class="option">-r</code></span></dt><dd><p>Monte le système de fichiers en lecture seule.  C'est
	      identique à l'utilisation de l'argument
	      <code class="option">ro</code> (<code class="option">rdonly</code> pour les
	      versions de FreeBSD antérieures à la 5.2)
	      avec l'option
	      <code class="option">-o</code>.</p></dd><dt><span class="term"><code class="option">-t</code>
	    <em class="replaceable"><code>fstype</code></em></span></dt><dd><p>Monte le système de fichiers comme étant
	    du type de système donné, ou monte
	      seulement les systèmes de fichiers du type donné,
	      si l'option <code class="option">-a</code> est précisée.</p><p>&#8220;ufs&#8221; est le type de système de
	      fichiers par défaut.</p></dd><dt><span class="term"><code class="option">-u</code></span></dt><dd><p>Mets à jour les options de montage sur le
	      système de fichiers.</p></dd><dt><span class="term"><code class="option">-v</code></span></dt><dd><p>Rends la commande prolixe.</p></dd><dt><span class="term"><code class="option">-w</code></span></dt><dd><p>Monte le système de fichiers en
	      lecture-écriture.</p></dd></dl></div><p>L'option <code class="option">-o</code> accepte une liste d'options
	séparées par des virgules, dont les suivantes:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">noexec</span></dt><dd><p>Ne pas autoriser l'exécution de binaires sur ce
		système de fichiers.  C'est également une
		option de sécurité utile.</p></dd><dt><span class="term">nosuid</span></dt><dd><p>Ne pas prendre en compte les indicateurs setuid ou setgid
	      sur le système de fichiers.  C'est également une
	      option de sécurité utile.</p></dd></dl></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="disks-umount"></a>4.6.3. La commande <code class="command">umount</code></h3></div></div></div><a id="idp70459728" class="indexterm"></a><p>La commande <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=umount&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">umount</span>(8)</span></a> prend, comme paramètre, un des
	points de montage, un nom de périphérique, ou
	l'option <code class="option">-a</code> ou <code class="option">-A</code>.</p><p>Toutes les formes acceptent <code class="option">-f</code> pour forcer
	de démontage, et <code class="option">-v</code> pour le mode
	prolixe.  Soyez averti que l'utilisation de <code class="option">-f</code>
	n'est généralement pas une bonne idée.
	Démonter de force des systèmes de fichiers pourrait
	faire planter l'ordinateur ou endommager les données sur
	le système de fichiers.</p><p>Les options <code class="option">-a</code> et <code class="option">-A</code>
	sont utilisées pour démonter tous les systèmes
	de fichiers actuellement montés, éventuellement
	modifié par les types de systèmes de fichiers
	listés après l'option <code class="option">-t</code>.
	Cependant l'option <code class="option">-A</code>, n'essaye pas de
	démonter le système de fichiers racine.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="disk-organization.html">Précédent</a> </td><td width="20%" align="center"><a accesskey="u" href="basics.html">Niveau supérieur</a></td><td width="40%" align="right"> <a accesskey="n" href="basics-processes.html">Suivant</a></td></tr><tr><td width="40%" align="left" valign="top">4.5. Organisation des disques </td><td width="20%" align="center"><a accesskey="h" href="index.html">Sommaire</a></td><td width="40%" align="right" valign="top"> 4.7. Processus</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Ce document, ainsi que d'autres peut être téléchargé sur
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Pour toutes questions à propos de FreeBSD, lisez la
    <a href="http://www.FreeBSD.org/docs.html">documentation</a> avant de contacter
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Pour les questions sur cette documentation, contactez
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>