<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>11.6. Installer Oracle®</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Manuel FreeBSD" /><link rel="up" href="linuxemu.html" title="Chapitre 11. Compatibilité binaire avec Linux" /><link rel="prev" href="linuxemu-matlab.html" title="11.5. Installer MATLAB®" /><link rel="next" href="sapr3.html" title="11.7. Installer SAP® R/3®" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">11.6. Installer <span class="trademark">Oracle</span>®</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="linuxemu-matlab.html">Précédent</a> </td><th width="60%" align="center">Chapitre 11. Compatibilité binaire avec Linux</th><td width="20%" align="right"> <a accesskey="n" href="sapr3.html">Suivant</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="linuxemu-oracle"></a>11.6. Installer <span class="trademark">Oracle</span>®</h2></div><div><span class="authorgroup">Contribution de <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Marcel</span> <span class="surname">Moolenaar</span></span>. </span></div></div></div><a id="idp75224016" class="indexterm"></a><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp75225296"></a>11.6.1. Préface</h3></div></div></div><p>Ce document décrit le processus d'installation
	d'<span class="application"><span class="trademark">Oracle</span>® 8.0.5</span> et
	d'<span class="application"><span class="trademark">Oracle</span>® 8.0.5.1 Enterprise Edition</span>
	pour Linux sur une machine FreeBSD.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp75227984"></a>11.6.2. Installer l'environnement Linux</h3></div></div></div><p>Assurez-vous d'avoir installé les deux logiciels
	<a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/emulators/linux_base/pkg-descr">emulators/linux_base</a> et
	<a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/devel/linux_devtools/pkg-descr">devel/linux_devtools</a> du
	catalogue des logiciels portés.  Si vous rencontrez
	des problèmes avec ces logiciels portés,
	il se peut que vous ayez à utiliser les versions
	pré-compilées ou des versions plus
	anciennes disponibles dans le catalogue des logiciels
	portés.</p><p>Si vous désirez installer l'agent intelligent,
	vous devrez également installer le
	&#8220;package&#8221; Red Hat Tcl:
	<code class="filename">tcl-8.0.3-20.i386.rpm</code>.  La commande
	générale pour installer des RPMs avec le logiciel
	<span class="application">RPM</span> (<a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/archivers/rpm/pkg-descr">archivers/rpm</a>) est:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>rpm -i --ignoreos --root /compat/linux --dbpath /var/lib/rpm package</code></strong></pre><p>L'installation du <em class="replaceable"><code>package</code></em> ne
	devrait pas générer d'erreur.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp75233232"></a>11.6.3. Créer l'environnent <span class="trademark">Oracle</span>®</h3></div></div></div><p>Avant de pouvoir installer
	<span class="application"><span class="trademark">Oracle</span>®</span>, vous devez configurer un
	environnement propre.  Ce document ne décrit
	que ce qu'il y a faire <span class="emphasis"><em>spécifiquement</em></span>
	pour utiliser <span class="application"><span class="trademark">Oracle</span>®</span> pour Linux
	sous FreeBSD, et non pas ce qui a été décrit
	dans le guide d'installation
	d'<span class="application"><span class="trademark">Oracle</span>®</span>.</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="linuxemu-kernel-tuning"></a>11.6.3.1. Optimisation du noyau</h4></div></div></div><a id="idp75237712" class="indexterm"></a><p>Comme décrit dans le guide d'installation
	  d'<span class="application"><span class="trademark">Oracle</span>®</span>, vous devez
	  configurer une taille maximale pour la mémoire
	  partagée.  Sous FreeBSD n'utilisez pas l'option
	  <code class="literal">SHMMAX</code>.  <code class="literal">SHMMAX</code> est
	  simplement calculée à partir de
	  <code class="literal">SHMMAXPGS</code> et <code class="literal">PGSIZE</code>.
	  Définissez donc l'option <code class="literal">SHMMAXPGS</code>.
	  Toutes les autres options peuvent être
	  configurées comme décrit dans le guide.
	  Par exemple:</p><pre class="programlisting">options SHMMAXPGS=10000
options SHMMNI=100
options SHMSEG=10
options SEMMNS=200
options SEMMNI=70
options SEMMSL=61</pre><p>Configurez ces options en fonction de l'utilisation
	  prévue d'<span class="application"><span class="trademark">Oracle</span>®</span>.</p><p>Assurez-vous également de la présence des
	  options suivantes dans votre fichier de configuration du
	  noyau:</p><pre class="programlisting">options SYSVSHM #SysV shared memory
options SYSVSEM #SysV semaphores
options SYSVMSG #SysV interprocess communication</pre></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="linuxemu-oracle-account"></a>11.6.3.2. Compte <span class="trademark">Oracle</span>®</h4></div></div></div><p>Créez un compte <code class="systemitem">oracle</code>
	  de la même manière que vous créerez
	  un autre compte utilisateur.  Le compte
	  <code class="systemitem">oracle</code> n'a de spécial que
	  le fait que vous devez lui donner un interpréteur de
	  commandes Linux.  Ajoutez
	  <code class="literal">/compat/linux/bin/bash</code> au fichier
	  <code class="filename">/etc/shells</code> et fixez l'interpréteur
	  de commande du compte <code class="systemitem">oracle</code> à
	  <code class="filename">/compat/linux/bin/bash</code>.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="linuxemu-environment"></a>11.6.3.3. Environnement</h4></div></div></div><p>En plus des variables d'environnement normales
	  d'<span class="application"><span class="trademark">Oracle</span>®</span> comme
	  <code class="envar">ORACLE_HOME</code> et <code class="envar">ORACLE_SID</code>
	  vous devez fixer les variables d'environnement
	  suivantes:</p><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Variable</th><th>Valeur</th></tr></thead><tbody><tr><td><code class="envar">LD_LIBRARY_PATH</code></td><td><code class="literal">$ORACLE_HOME/lib</code></td></tr><tr><td><code class="envar">CLASSPATH</code></td><td><code class="literal">$ORACLE_HOME/jdbc/lib/classes111.zip</code></td></tr><tr><td><code class="envar">PATH</code></td><td><code class="literal">/compat/linux/bin
/compat/linux/sbin
/compat/linux/usr/bin
/compat/linux/usr/sbin
/bin
/sbin
/usr/bin
/usr/sbin
/usr/local/bin
$ORACLE_HOME/bin</code></td></tr></tbody></table></div><p>Il est conseillé de définir toutes les
	  variables d'environnement dans le fichier
	  <code class="filename">.profile</code>.  Un exemple complet est:</p><pre class="programlisting">ORACLE_BASE=/oracle; export ORACLE_BASE
ORACLE_HOME=/oracle; export ORACLE_HOME
LD_LIBRARY_PATH=$ORACLE_HOME/lib
export LD_LIBRARY_PATH
ORACLE_SID=ORCL; export ORACLE_SID
ORACLE_TERM=386x; export ORACLE_TERM
CLASSPATH=$ORACLE_HOME/jdbc/lib/classes111.zip
export CLASSPATH
PATH=/compat/linux/bin:/compat/linux/sbin:/compat/linux/usr/bin
PATH=$PATH:/compat/linux/usr/sbin:/bin:/sbin:/usr/bin:/usr/sbin
PATH=$PATH:/usr/local/bin:$ORACLE_HOME/bin
export PATH</pre></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp75276880"></a>11.6.4. Installer <span class="trademark">Oracle</span>®</h3></div></div></div><p>En raison d'une particularité de l'émulateur
	Linux, vous devez créer un répertoire appelé
	<code class="filename">.oracle</code> dans <code class="filename">/var/tmp</code>
	avant de lancer le programme d'installation.
	Faites en sorte
	que l'utilisateur <code class="systemitem">oracle</code> en soit le
	propriétaire.  Vous devriez être en mesure
	d'installer <span class="application"><span class="trademark">Oracle</span>®</span> sans problème.
	Si vous rencontrez cependant des problèmes,
	contrôlez tout d'abord votre distribution
	d'<span class="application"><span class="trademark">Oracle</span>®</span> et/ou configuration!
	Après avoir installé <span class="application"><span class="trademark">Oracle</span>®</span>,
	appliquez les correctifs décrits dans les deux
	sous-sections suivantes.</p><p>Un problème fréquent est que l'interface au
	protocole TCP n'est pas correctement installée.
	Avec comme conséquence l'impossibilité d'écouter
	le trafic TCP.  Les opérations suivantes aident
	à résoudre ce problème:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cd $ORACLE_HOME/network/lib</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>make -f ins_network.mk ntcontab.o</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>cd $ORACLE_HOME/lib</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>ar r libnetwork.a ntcontab.o</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>cd $ORACLE_HOME/network/lib</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>make -f ins_network.mk install</code></strong></pre><p>N'oubliez pas de lancer à nouveau
	<code class="filename">root.sh</code>!</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="linuxemu-patch-root"></a>11.6.4.1. Appliquer un correctif au fichier root.sh</h4></div></div></div><p>Quand on installe <span class="application"><span class="trademark">Oracle</span>®</span>,
	  certaines opérations, qui doivent être
	  effectuées en tant que <code class="systemitem">root</code>,
	  sont enregistrées dans une procédure
	  d'interpréteur de commandes appelée
	  <code class="filename">root.sh</code>.  Cette procédure se
	  trouve dans le répertoire <code class="filename">orainst</code>.
	  Appliquez le correctif suivant au fichier
	  <code class="filename">root.sh</code>, pour faire en sorte qu'il
	  utilise le chemin correct pour <code class="command">chown</code>, ou
	  exécute une procédure sous un interpréteur
	  de commandes Linux natif.</p><pre class="programlisting">*** orainst/root.sh.orig Tue Oct 6 21:57:33 1998
--- orainst/root.sh Mon Dec 28 15:58:53 1998
***************
*** 31,37 ****
# This is the default value for CHOWN
# It will redefined later in this script for those ports
# which have it conditionally defined in ss_install.h
! CHOWN=/bin/chown
#
# Define variables to be used in this script
--- 31,37 ----
# This is the default value for CHOWN
# It will redefined later in this script for those ports
# which have it conditionally defined in ss_install.h
! CHOWN=/usr/sbin/chown
#
# Define variables to be used in this script</pre><p>Quand vous n'installez pas
	  <span class="application"><span class="trademark">Oracle</span>®</span> à partir d'un CD,
	  vous pouvez modifier les sources de
	  <code class="filename">root.sh</code>.  La procédure se nomme
	  <code class="filename">rthd.sh</code> et se trouve dans le
	  répertoire <code class="filename">orainst</code> dans l'arborescence
	  des sources.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="linuxemu-patch-tcl"></a>11.6.4.2. Patching genclntsh</h4></div></div></div><p>La procédure <code class="command">genclntsh</code>
	  est utilisée pour créer une simple bibliothèque
	  partagée cliente.  Elle est utilisée lors de la
	  construction des démos.  Appliquez le correctif
	  suivant pour commenter la définition de la variable
	  d'environnement <code class="envar">PATH</code>:</p><pre class="programlisting">*** bin/genclntsh.orig Wed Sep 30 07:37:19 1998
--- bin/genclntsh Tue Dec 22 15:36:49 1998
***************
*** 32,38 ****
#
# Explicit path to ensure that we're using the correct commands
#PATH=/usr/bin:/usr/ccs/bin export PATH
! PATH=/usr/local/bin:/bin:/usr/bin:/usr/X11R6/bin export PATH
#
# each product MUST provide a $PRODUCT/admin/shrept.lst
--- 32,38 ----
#
# Explicit path to ensure that we're using the correct commands
#PATH=/usr/bin:/usr/ccs/bin export PATH
! #PATH=/usr/local/bin:/bin:/usr/bin:/usr/X11R6/bin export PATH
#
# each product MUST provide a $PRODUCT/admin/shrept.lst</pre></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp75305040"></a>11.6.5. Exécuter <span class="trademark">Oracle</span>®</h3></div></div></div><p>Après avoir suivi les instructions
	précédentes, vous devriez être en mesure
	d'exécuter <span class="application"><span class="trademark">Oracle</span>®</span> comme si
	le programme tournait sous Linux.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="linuxemu-matlab.html">Précédent</a> </td><td width="20%" align="center"><a accesskey="u" href="linuxemu.html">Niveau supérieur</a></td><td width="40%" align="right"> <a accesskey="n" href="sapr3.html">Suivant</a></td></tr><tr><td width="40%" align="left" valign="top">11.5. Installer <span class="trademark">MATLAB</span>® </td><td width="20%" align="center"><a accesskey="h" href="index.html">Sommaire</a></td><td width="40%" align="right" valign="top"> 11.7. Installer <span class="trademark">SAP</span>® <span class="trademark">R/3</span>®</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Ce document, ainsi que d'autres peut être téléchargé sur
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Pour toutes questions à propos de FreeBSD, lisez la
    <a href="http://www.FreeBSD.org/docs.html">documentation</a> avant de contacter
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Pour les questions sur cette documentation, contactez
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>