<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>6.6. Le gestionnaire de procédures de connexions graphiques - &#8220;X Display Manager&#8221;</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Manuel FreeBSD" /><link rel="up" href="x11.html" title="Chapitre 6. Le système X Window" /><link rel="prev" href="x-fonts.html" title="6.5. Utilisation des polices de caractères sous X11" /><link rel="next" href="x11-wm.html" title="6.7. Environnements de travail" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">6.6. Le gestionnaire de procédures de connexions graphiques
      - &#8220;X Display Manager&#8221;</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="x-fonts.html">Précédent</a> </td><th width="60%" align="center">Chapitre 6. Le système X Window</th><td width="20%" align="right"> <a accesskey="n" href="x11-wm.html">Suivant</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="x-xdm"></a>6.6. Le gestionnaire de procédures de connexions graphiques
      - &#8220;X Display Manager&#8221;</h2></div><div><span class="authorgroup">Contribution de <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Seth</span> <span class="surname">Kingsley</span></span>. </span></div></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp71715920"></a>6.6.1. Généralités</h3></div></div></div><a id="idp71716560" class="indexterm"></a><p>Le gestionnaire de procédures de connexions graphiques
	- &#8220;X Display Manager&#8221;
	(<span class="application">XDM</span>) est une partie optionnelle du
	système X Window qui est utilisée pour la
	gestion des procédures de connexion au système.
	C'est utile dans plusieurs types de situations, dont les
	&#8220;Terminaux X&#8221; minimaux, et les serveurs X
	d'affichage de grands réseaux.  Comme le système
	X Window est indépendant du type de réseau et de
	protocole, il existe une large variété de
	configurations possibles pour faire fonctionner des
	clients et des serveurs X sur différentes machines
	connectées entre elles par un réseau.
	<span class="application">XDM</span> fournit une interface graphique
	pour sélectionner à quel serveur d'affichage se
	connecter, et entrer des informations d'autorisation comme
	l'ensemble identifiant et mot de passe.</p><p>Il faut voir <span class="application">XDM</span> comme
	fournissant les mêmes fonctionnalités à
	l'utilisateur que l'utilitaire <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=getty&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">getty</span>(8)</span></a> (voir la <a class="xref" href="term.html#term-config" title="26.3.2. Configuration">Section 26.3.2, « Configuration »</a> pour plus de détails).
	C'est à dire, qu'il exécute les ouvertures de session sur
	le système sur lequel on se connecte et lance alors une session
	au nom de l'utilisateur (généralement un gestionnaire de
	fenêtres pour X).  <span class="application">XDM</span> attend alors
	que le programme se termine, signalant que l'utilisateur en a
	terminé et devrait être déconnecté
	du système.  A ce moment, <span class="application">XDM</span> peut
	afficher les écrans d'invite d'ouverture de session et de
	sélection de serveur pour le prochain utilisateur.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp71733584"></a>6.6.2. Utiliser XDM</h3></div></div></div><p>Le &#8220;daemon&#8221; d'<span class="application">XDM</span> est
	<code class="filename">/usr/local/bin/xdm</code>.  Ce programme peut être
	lancé à n'importe quel moment en tant que
	<code class="systemitem">root</code> et il s'occupera de la gestion d'X sur
	la machine locale.  Si <span class="application">XDM</span> doit être
	exécuté à chaque démarrage de la machine,
	une manière pratique
	de le faire est d'ajouter une entrée dans
	<code class="filename">/etc/ttys</code>.  Pour plus d'informations sur le
	format et l'utilisation de ce fichier, consultez la <a class="xref" href="term.html#term-etcttys" title="26.3.2.1. Adding an Entry to /etc/ttys">Section 26.3.2.1, « Adding an Entry to <code class="filename">/etc/ttys</code> »</a>.  Il existe une ligne dans le fichier
	<code class="filename">/etc/ttys</code> de défaut pour exécuter le
	&#8220;daemon&#8221; <span class="application">XDM</span> sur un
	terminal virtuel:</p><pre class="screen">ttyv8	"/usr/local/bin/xdm -nodaemon"	xterm	off secure</pre><p>Par défaut cette entrée est désactivée;
	afin de la réactiver modifiez le cinquième champ de
	<code class="literal">off</code> à <code class="literal">on</code> et relancez
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=init&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">init</span>(8)</span></a> en utilisant les indications de la <a class="xref" href="term.html#term-hup" title="26.3.2.2. Force init to Reread /etc/ttys">Section 26.3.2.2, « Force <code class="command">init</code> to Reread
	  <code class="filename">/etc/ttys</code> »</a>.  Le premier champ, le nom du terminal que
	ce programme gérera, est <code class="literal">ttyv8</code>.  Cela
	signifie que <span class="application">XDM</span> démarrera sur le
	neuvième terminal virtuel.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp71741520"></a>6.6.3. Configurer XDM</h3></div></div></div><p>Le répertoire de configuration
	d'<span class="application">XDM</span> est situé dans
	<code class="filename">/usr/local/lib/X11/xdm</code>.  Dans ce
	répertoire il y a de nombreux fichiers utilisés pour
	modifier le comportement et l'apparence
	d'<span class="application">XDM</span>.  Généralement les
	fichiers suivants seront présents:</p><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Fichier</th><th>Description</th></tr></thead><tbody><tr><td><code class="filename">Xaccess</code></td><td>Ensemble de règles d'autorisation du
		  client.</td></tr><tr><td><code class="filename">Xresources</code></td><td>Fichier des ressources X par défaut.</td></tr><tr><td><code class="filename">Xservers</code></td><td>Liste des écrans distants et locaux à
		  gérer.</td></tr><tr><td><code class="filename">Xsession</code></td><td>Procédure d'ouverture de session par
		  défaut.</td></tr><tr><td><code class="filename">Xsetup_</code>*</td><td>Procédures utilisées pour exécuter
		  des applications avant l'interface d'ouverture de
		  session.</td></tr><tr><td><code class="filename">xdm-config</code></td><td>Configuration globale pour tous les affichages
		  utilisants cette machine.</td></tr><tr><td><code class="filename">xdm-errors</code></td><td>Erreurs générées par le programme
		  serveur.</td></tr><tr><td><code class="filename">xdm-pid</code></td><td>L'identifiant du processus exécutant actuellement
		  XDM.</td></tr></tbody></table></div><p>Dans ce répertoire se trouvent également quelques
	procédures et programmes utilisés pour configurer
	l'environnement quand <span class="application">XDM</span> fonctionne.
	L'objet de chacun de ces fichiers sera brièvement décrit.
	La syntaxe exacte et l'utilisation de tous ces fichiers sont
	décrites dans la page de manuel <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=xdm&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">xdm</span>(1)</span></a>.</p><p>La configuration par défaut est une simple
	fenêtre rectangulaire d'ouverture de session avec le nom de
	la machine hôte affiché en haut dans une grande police de
	caractères et avec des invites &#8220;Login:&#8221; et
	&#8220;Password:&#8221; en-dessous.  C'est un bon point de
	départ pour modifier l'apparence et la prise en main des
	écrans <span class="application">XDM</span>.</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp71768272"></a>6.6.3.1. Xaccess</h4></div></div></div><p>Le protocole utilisé pour se connecter à
	  des écrans contrôlés par
	  <span class="application">XDM</span> est
	  appelé le &#8220;X Display Manager Connection Protocol&#8221;
	  (XDMCP).  Ce fichier est un ensemble de règles pour
	  contrôler les connexions XDMCP à partir de machines
	  distantes.  Il est ignoré à moins que le fichier
	  <code class="filename">xdm-config</code> ne soit modifié pour
	  accepter les connexions distantes.  Par défaut, il
	  n'autorise pas ces connexions.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp71770192"></a>6.6.3.2. Xresources</h4></div></div></div><p>C'est un fichier de paramètres par défaut
	  pour la sélection du serveur et des écrans d'ouverture
	  de sessions.  C'est l'endroit où l'apparence du programme
	  d'ouverture de session peut être modifié.  Le format est
	  identique au fichier de paramètres par défaut des
	  applications décrit dans la documentation
	  d'<span class="application"><span class="trademark">XFree86</span>&#8482;</span>.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp71771984"></a>6.6.3.3. Xservers</h4></div></div></div><p>C'est une liste de choix des serveurs distants que
	  l'écran de sélection devrait fournir.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp71773136"></a>6.6.3.4. Xsession</h4></div></div></div><p>C'est la procédure par défaut à
	  exécuter par <span class="application">XDM</span>
	  après qu'un utilisateur ait ouvert une session.  Normalement
	  chaque utilisateur disposera d'une procédure de session dans
	  <code class="filename">~/.xsession</code> qui sera utilisée en lieu
	  et place du fichier par défaut.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp71775184"></a>6.6.3.5. Xsetup_*</h4></div></div></div><p>Cela sera exécuté automatiquement
	  avant d'afficher les interfaces de sélection et d'ouverture de
	  session.  Il existe une procédure pour chaque écran
	  utilisé,
	  nommée <code class="filename">Xsetup_</code> suivie par le
	  numéro de l'écran local (par exemple
	  <code class="filename">Xsetup_0</code>).  Généralement
	  ces procédures exécutent un ou deux programmes
	  en tâche de fond comme <code class="command">xconsole</code>.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp71777616"></a>6.6.3.6. xdm-config</h4></div></div></div><p>Ce dernier contient les paramètres sous la forme de
	  paramètres par défaut qui sont applicables à
	  chaque écran que l'installation gère.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp71778896"></a>6.6.3.7. xdm-errors</h4></div></div></div><p>Ce dernier contient les messages de sortie du serveur X
	  qu'<span class="application">XDM</span> essaye d'exécuter.
	  Si un terminal qu'<span class="application">XDM</span> essaye de
	  démarrer se bloque pour quelque raison, c'est le bon endroit
	  pour chercher les messages d'erreur.  Ces messages sont
	  également écrits dans le fichier
	  <code class="filename">~/.xsession-errors</code> de l'utilisateur à
	  chaque session.</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp71781328"></a>6.6.4. Exécuter un serveur d'affichage en réseau</h3></div></div></div><p>Afin de permettre aux autres clients de se connecter au
	serveur gérant l'affichage, vous devez éditer les
	règles de contrôle d'accès, et activez l'auditeur
	de demandes
	de connexion.  Par défaut ces règles sont sur des valeurs
	conservatrices.  Pour faire écouter à
	<span class="application">XDM</span> les demandes de connexion, tout
	d'abord commentez une ligne du fichier
	<code class="filename">xdm-config</code>:</p><pre class="screen">! SECURITY: do not listen for XDMCP or Chooser requests
! Comment out this line if you want to manage X terminals with xdm
DisplayManager.requestPort:     0</pre><p>et ensuite relancez <span class="application">XDM</span>.  Rappelez
	vous que les commentaires dans des fichiers de paramètres
	par défaut d'applications débutent avec
	un caractère &#8220;!&#8221;, et non pas par l'habituel
	&#8220;#&#8221;.  Un contrôle d'accès plus
	strict peut être désiré &#8212;
	consultez les lignes d'exemple dans <code class="filename">Xaccess</code>,
	et référez-vous à la page de manuel
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=xdm&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">xdm</span>(1)</span></a> pour plus d'information.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp71785680"></a>6.6.5. Remplacements pour XDM</h3></div></div></div><p>Plusieurs remplacements pour le programme
	  <span class="application">XDM</span> de défaut existent.  L'un
	  d'eux, <span class="application">KDM</span> (fourni avec
	  <span class="application">KDE</span>) est décrit plus loin dans son
	  propre chapitre.  <span class="application">KDM</span> offre de
	  nombreuses améliorations visuelles, ainsi que la fonction
	  permettant aux utilisateurs de sélectionner leur gestionnaire
	  de fenêtres au moment d'ouvrir la session.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="x-fonts.html">Précédent</a> </td><td width="20%" align="center"><a accesskey="u" href="x11.html">Niveau supérieur</a></td><td width="40%" align="right"> <a accesskey="n" href="x11-wm.html">Suivant</a></td></tr><tr><td width="40%" align="left" valign="top">6.5. Utilisation des polices de caractères sous X11 </td><td width="20%" align="center"><a accesskey="h" href="index.html">Sommaire</a></td><td width="40%" align="right" valign="top"> 6.7. Environnements de travail</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Ce document, ainsi que d'autres peut être téléchargé sur
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Pour toutes questions à propos de FreeBSD, lisez la
    <a href="http://www.FreeBSD.org/docs.html">documentation</a> avant de contacter
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Pour les questions sur cette documentation, contactez
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>