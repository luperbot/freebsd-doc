<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>4.2. Consoles virtuelles &amp; terminaux</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Manuel FreeBSD" /><link rel="up" href="basics.html" title="Chapitre 4. Quelques bases d'UNIX" /><link rel="prev" href="basics.html" title="Chapitre 4. Quelques bases d'UNIX" /><link rel="next" href="permissions.html" title="4.3. Permissions" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">4.2. Consoles virtuelles &amp; terminaux</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="basics.html">Précédent</a> </td><th width="60%" align="center">Chapitre 4. Quelques bases d'UNIX</th><td width="20%" align="right"> <a accesskey="n" href="permissions.html">Suivant</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="consoles"></a>4.2. Consoles virtuelles &amp; terminaux</h2></div></div></div><a id="idp69881808" class="indexterm"></a><a id="idp69882320" class="indexterm"></a><p>FreeBSD peut être utilisé de diverses façons.
      L'une d'elles est en tapant des commandes sur un terminal
      texte.  Une bonne partie de la flexibilité et de la puissance
      d'un système d'exploitation <span class="trademark">UNIX</span>® est directement
      disponible sous vos mains en utilisant FreeBSD de cette manière.
      Cette section décrit ce que sont les &#8220;terminaux&#8221; et
      les &#8220;consoles&#8221;, et comment les utiliser sous
      FreeBSD.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="consoles-intro"></a>4.2.1. La console</h3></div></div></div><a id="idp69884496" class="indexterm"></a><p>Si vous n'avez pas configuré FreeBSD pour lancer
	automatiquement un environnement graphique au démarrage, le
	système vous présentera une invite d'ouverture de session
	après son démarrage, juste après la fin des
	procédures de démarrage.  Vous verrez quelque chose
	de similaire à:</p><pre class="screen">Additional ABI support:.
Local package initialization:.
Additional TCP options:.

Fri Sep 20 13:01:06 EEST 2002

FreeBSD/i386 (pc3.example.org) (ttyv0)

login:</pre><p>Les messages pourront être différents sur votre
	système, mais cela devrait y ressembler.  Les deux
	dernières lignes sont celles qui nous intéressent
	actuellement.  La seconde de ces lignes nous donne:</p><pre class="programlisting">FreeBSD/i386 (pc3.example.org) (ttyv0)</pre><p>Cette ligne contient quelques éléments d'information
	sur le système que vous venez de démarrer.  Vous
	êtes en train de lire une console &#8220;FreeBSD&#8221;,
	tournant sur un processeur Intel ou compatible de la famille
	x86<a href="#ftn.idp69895120" class="footnote" id="idp69895120"><sup class="footnote">[1]</sup></a>.  Le nom de cette machine (chaque machine <span class="trademark">UNIX</span>®
	a un nom) est <code class="systemitem">pc3.example.org</code>, et vous
	regardez actuellement sa console système&#8212;le terminal
	<code class="filename">ttyv0</code>.</p><p>Et enfin, la dernière ligne est toujours:</p><pre class="programlisting">login:</pre><p>C'est le moment où vous êtes supposé
	taper votre &#8220;nom d'utilisateur&#8221; pour vous
	attacher au système FreeBSD.  La section suivante décrit
	comment procéder.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="consoles-login"></a>4.2.2. Ouvrir une session sur un système FreeBSD</h3></div></div></div><p>FreeBSD est un système multi-utilisateur,
	multi-processeur.  C'est la description formelle qui est
	habituellement donnée pour un système qui peut
	être utilisé par différentes personnes,
	qui exécutent simultanément de nombreux programmes sur une
	machine individuelle.</p><p>Chaque système multi-utilisateur a besoin d'un moyen pour
	distinguer un &#8220;utilisateur&#8221; du reste.  Sous
	FreeBSD (et sous tous les systèmes de type <span class="trademark">UNIX</span>®),
	cela est effectué en demandant à chaque utilisateur de
	&#8220;s'attacher&#8221; au système avant d'être en
	mesure d'exécuter des programmes.  Chaque utilisateur
	possède un nom unique (le nom d'utilisateur) et une clé
	secrète personnelle (le mot de passe).  FreeBSD demandera ces
	deux éléments avant d'autoriser un utilisateur à
	lancer un programme.</p><a id="idp69901392" class="indexterm"></a><p>Juste après que FreeBSD ait démarré et
	en ait terminé avec l'exécution des procédures de
	démarrage<a href="#ftn.idp69902160" class="footnote" id="idp69902160"><sup class="footnote">[2]</sup></a>, il présentera une invite et demandera un nom
	d'utilisateur valide:</p><pre class="screen">login:</pre><p>Pour cet exemple, supposons que votre nom d'utilisateur
	est <code class="systemitem">john</code>.  Tapez
	<code class="systemitem">john</code> à cette invite puis appuyez sur
	<span class="keycap"><strong>Entrée</strong></span>.  Alors vous devrez être
	invité à entrer un &#8220;mot de passe&#8221;:</p><pre class="screen">login: <strong class="userinput"><code>john</code></strong>
Password:</pre><p>Tapez maintenant le mot de passe de <code class="systemitem">john</code>,
	et appuyez sur <span class="keycap"><strong>Entrée</strong></span>.  Le mot de passe
	<span class="emphasis"><em>n'est pas affiché!</em></span>  Vous n'avez pas à
	vous préoccuper de cela maintenant.  Il suffit de penser que
	cela est fait pour des raisons de sécurité.</p><p>Si vous avez tapé correctement votre mot de passe,
	vous devriez être maintenant attaché
	au système et prêt à essayer toutes les commandes
	disponibles.</p><p>Vous devriez voir apparaître le <acronym class="acronym">MOTD</acronym>
	ou message du jour suivi de l'invite de commande (un
	caractère <code class="literal">#</code>, <code class="literal">$</code>, ou
	<code class="literal">%</code>).  Cela indique que vous avez ouvert
	avec succès une session sous FreeBSD.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="consoles-virtual"></a>4.2.3. Consoles multiples</h3></div></div></div><p>Exécuter des commandes <span class="trademark">UNIX</span>® dans une console est bien
	beau, mais FreeBSD peut exécuter plusieurs programmes
	à la fois.  Avoir une seule console sur laquelle les commandes
	peuvent être tapées serait un peu du gaspillage quand
	un système d'exploitation comme FreeBSD peut exécuter des
	dizaines de programmes en même temps.  C'est ici que des
	&#8220;consoles virtuelles&#8221; peuvent être vraiment
	utiles.</p><p>FreeBSD peut être configuré pour présenter
	de nombreuses consoles virtuelles.  Vous pouvez basculer
	d'une console virtuelle à une autre en utilisant une
	combinaison de touches sur votre clavier.  Chaque console
	a son propre canal de sortie, et FreeBSD prend soin de
	rediriger correctement les entrées au clavier et la sortie
	vers écran quand vous basculez d'une console virtuelle à
	la suivante.</p><p>Des combinaisons de touches spécifiques ont
	été réservées par FreeBSD pour le
	basculement entre consoles<a href="#ftn.idp69920848" class="footnote" id="idp69920848"><sup class="footnote">[3]</sup></a>.  Vous pouvez utiliser
	<span class="keycap"><strong>Alt</strong></span>+<span class="keycap"><strong>F1</strong></span>,
	<span class="keycap"><strong>Alt</strong></span>+<span class="keycap"><strong>F2</strong></span>,
	jusqu'à
	<span class="keycap"><strong>Alt</strong></span>+<span class="keycap"><strong>F8</strong></span>
	pour basculer vers une console virtuelle différente sous
	FreeBSD.</p><p>Quand vous basculez d'une console à une autre, FreeBSD
	prend soin de sauvegarder et restaurer la sortie d'écran.
	Il en résulte l'&#8220;illusion&#8221; d'avoir plusieurs
	écrans et claviers &#8220;virtuels&#8221; que vous pouvez
	utiliser pour taper des commandes pour FreeBSD.  Les
	programmes que vous lancez sur une console virtuelle ne
	cessent pas de tourner quand cette console n'est plus visible.
	Ils continuent de s'exécuter quand vous avez
	basculé vers une console virtuelle différente.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="consoles-ttys"></a>4.2.4. Le fichier <code class="filename">/etc/ttys</code></h3></div></div></div><p>La configuration par défaut de FreeBSD démarre avec huit
	consoles virtuelles.  Cependant ce n'est pas un paramétrage
	fixe, et vous pouvez aisément personnaliser votre installation
	pour démarrer avec plus ou moins de consoles virtuelles.  Le
	nombre et les paramétrages des consoles virtuelles sont
	configurés dans le fichier
	<code class="filename">/etc/ttys</code>.</p><p>Vous pouvez utiliser le fichier
	<code class="filename">/etc/ttys</code> pour configurer les consoles
	virtuelles de FreeBSD.  Chaque ligne non-commentée dans ce fichier
	(les lignes qui ne débutent pas par le caractère
	<code class="literal">#</code>) contient le paramétrage d'un terminal ou
	d'une console virtuelle.  La version par défaut de ce
	fichier livrée avec FreeBSD configure neuf consoles virtuelles,
	et en active huit.  Ce sont les lignes commençant avec le terme
	<code class="literal">ttyv</code>:</p><pre class="programlisting"># name  getty                           type    status          comments
#
ttyv0   "/usr/libexec/getty Pc"         cons25  on  secure
# Virtual terminals
ttyv1   "/usr/libexec/getty Pc"         cons25  on  secure
ttyv2   "/usr/libexec/getty Pc"         cons25  on  secure
ttyv3   "/usr/libexec/getty Pc"         cons25  on  secure
ttyv4   "/usr/libexec/getty Pc"         cons25  on  secure
ttyv5   "/usr/libexec/getty Pc"         cons25  on  secure
ttyv6   "/usr/libexec/getty Pc"         cons25  on  secure
ttyv7   "/usr/libexec/getty Pc"         cons25  on  secure
ttyv8   "/usr/X11R6/bin/xdm -nodaemon"  xterm   off secure</pre><p>Pour une description détaillée de chaque colonne
	de ce fichier et toutes les options que vous pouvez utiliser
	pour configurer les consoles virtuelles, consultez la page de
	manuel <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ttys&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">ttys</span>(5)</span></a>.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="consoles-singleuser"></a>4.2.5. Console en mode mono-utilisateur</h3></div></div></div><p>Une description détaillée de ce qu'est
	<span class="quote">« <span class="quote">le mode mono-utilisateur</span> »</span> peut être
	trouvée dans <a class="xref" href="boot-init.html#boot-singleuser" title="13.6.2. Mode mono-utilisateur">Section 13.6.2, « Mode mono-utilisateur »</a>.  Il est
	important de noter qu'il n'y a qu'une console de disponible
	quand vous exécutez FreeBSD en mode mono-utilisateur.  Il n'y
	a aucune console virtuelle de disponible.  Le paramétrage de
	la console en mode mono-utilisateur peut être
	également trouvé dans le fichier
	<code class="filename">/etc/ttys</code>.  Recherchez la ligne qui
	commence avec le mot <code class="literal">console</code>:</p><pre class="programlisting"># name  getty                           type    status          comments
#
# If console is marked "insecure", then init will ask for the root password
# when going to single-user mode.
console none                            unknown off secure</pre><div xmlns="" class="note"><h3 class="admontitle">Note: </h3><p xmlns="http://www.w3.org/1999/xhtml">Comme l'indiquent les commentaires au-dessus de la ligne
	  <code class="literal">console</code>, vous pouvez éditer cette ligne
	  et changer <code class="literal">secure</code> pour
	  <code class="literal">insecure</code>.  Si vous faites cela, quand
	  FreeBSD démarrera en mode mono-utilisateur, il demandera le
	  mot de passe de <code class="systemitem">root</code>.</p><p xmlns="http://www.w3.org/1999/xhtml"><span class="emphasis"><em>Cependant faites attention quand vous modifiez
	  cela pour <code class="literal">insecure</code>.</em></span>  Si vous
	  oubliez le mot de passe de <code class="systemitem">root</code>, le
	  démarrage en mode mono-utilisateur sera condamné.
	  Il est encore possible, mais cela pourra être relativement
	  compliqué pour quelqu'un qui n'est pas à l'aise avec le
	  processus de démarrage de FreeBSD et les programmes entrant
	  en jeu.</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="consoles-vidcontrol"></a>4.2.6. Modifier la résolution de la console</h3></div></div></div><p>La résolution (ou encore le mode vidéo) de
	la console FreeBSD peut être réglée à
	1024x768, 1280x1024, ou tout autre résolution
	supportée par le circuit graphique et le moniteur.
	Pour utiliser une résolution vidéo
	différente vous devez en premier lieu recompiler votre
	noyau en ajoutant deux options supplémentaires:</p><pre class="programlisting">options VESA
options SC_PIXEL_MODE</pre><p>Une fois votre noyau recompilé avec ces deux
	options, vous pouvez déterminer quels sont les modes
	vidéo supportés par votre matériel en
	utilisant l'outil <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=vidcontrol&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">vidcontrol</span>(1)</span></a>.  Pour obtenir une liste
	des modes supportés, tapez la ligne suivante:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>vidcontrol -i mode</code></strong></pre><p>La sortie de cette commande est une liste des modes
	vidéo que supporte votre matériel.  Vous pouvez
	ensuite décider d'utiliser un nouveau mode en le
	passant à la commande <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=vidcontrol&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">vidcontrol</span>(1)</span></a> tout en ayant
	les droits de <code class="systemitem">root</code>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>vidcontrol MODE_279</code></strong></pre><p>Si le nouveau mode vidéo est satisfaisant, il peut
	être activé au démarrage de manière
	permanente en le configurant dans le fichier
	<code class="filename">/etc/rc.conf</code>:</p><pre class="programlisting">allscreens_flags="MODE_279"</pre></div><div class="footnotes"><br /><hr class="footnote-hr" /><div id="ftn.idp69895120" class="footnote"><p><a href="#idp69895120" class="para"><sup class="para">[1] </sup></a>C'est ce que signifie <code class="literal">i386</code>.  Notez
	    que même si vous ne faites pas tourner FreeBSD sur un CPU Intel
	    386, cela sera <code class="literal">i386</code>.  Ce n'est pas le
	    type de votre microprocesseur, mais
	    &#8220;l'architecture&#8221; du microprocesseur qui est
	    donnée ici.</p></div><div id="ftn.idp69902160" class="footnote"><p><a href="#idp69902160" class="para"><sup class="para">[2] </sup></a>Les procédures de démarrage sont des programmes
	    qui sont exécutés automatiquement par FreeBSD au
	    démarrage.  Leur fonction principale est de configurer le
	    système pour permettre l'exécution de tout programme,
	    et de démarrer tout service que vous avez configuré pour
	    tourner en tâche de fond et exécuter des choses
	    utiles.</p></div><div id="ftn.idp69920848" class="footnote"><p><a href="#idp69920848" class="para"><sup class="para">[3] </sup></a>Une description assez technique et précise de tous
	    les détails de la console FreeBSD et des pilotes de
	    clavier peut être trouvée dans les pages de manuel de
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=syscons&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">syscons</span>(4)</span></a>, <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=atkbd&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">atkbd</span>(4)</span></a>, <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=vidcontrol&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">vidcontrol</span>(1)</span></a>
	    et <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=kbdcontrol&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">kbdcontrol</span>(1)</span></a>.  Nous ne nous étendrons pas
	    en détails ici, mais le lecteur intéressé peut
	    toujours consulter les pages de manuel pour explication plus
	    détaillée et plus complète sur le
	    fonctionnement des choses.</p></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="basics.html">Précédent</a> </td><td width="20%" align="center"><a accesskey="u" href="basics.html">Niveau supérieur</a></td><td width="40%" align="right"> <a accesskey="n" href="permissions.html">Suivant</a></td></tr><tr><td width="40%" align="left" valign="top">Chapitre 4. Quelques bases d'UNIX </td><td width="20%" align="center"><a accesskey="h" href="index.html">Sommaire</a></td><td width="40%" align="right" valign="top"> 4.3. Permissions</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Ce document, ainsi que d'autres peut être téléchargé sur
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Pour toutes questions à propos de FreeBSD, lisez la
    <a href="http://www.FreeBSD.org/docs.html">documentation</a> avant de contacter
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Pour les questions sur cette documentation, contactez
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>