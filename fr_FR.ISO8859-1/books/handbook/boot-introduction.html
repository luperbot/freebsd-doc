<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>13.2. Le problème du démarrage</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Manuel FreeBSD" /><link rel="up" href="boot.html" title="Chapitre 13. Processus de démarrage de FreeBSD" /><link rel="prev" href="boot.html" title="Chapitre 13. Processus de démarrage de FreeBSD" /><link rel="next" href="boot-blocks.html" title="13.3. Le gestionnaire de démarrage et les étapes de démarrage" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">13.2. Le problème du démarrage</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="boot.html">Précédent</a> </td><th width="60%" align="center">Chapitre 13. Processus de démarrage de FreeBSD</th><td width="20%" align="right"> <a accesskey="n" href="boot-blocks.html">Suivant</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="boot-introduction"></a>13.2. Le problème du démarrage</h2></div></div></div><p>Allumer un ordinateur et démarrer le système
      d'exploitation pose un intéressant dilemme.  Par
      définition, l'ordinateur ne sait rien faire jusqu'à
      ce que le système d'exploitation soit lancé.
      Ceci inclut l'exécution des programmes à partir du disque.
      Donc si l'ordinateur ne peut pas exécuter de programme
      à partir du disque sans le système d'exploitation, et
      que les programmes du système d'exploitation sont sur
      le disque, comment le système d'exploitation est-il
      démarré?</p><p>On peut faire le parallèle avec un
      événement du livre <em class="citetitle">Les aventures du Baron
      Munchausen</em>.  Le personnage tombe dans une bouche
      d'égout avec une partie du corps hors de la bouche, et il s'en
      sort en attrapant les fixations de ses bottes
      (&#8220;bootstraps&#8221;), et en se soulevant ainsi.  Dans les
      premiers jours de l'informatique le terme
      <em class="firstterm">bootstrap</em> fut appliqué au mécanisme
      utilisé pour charger le système d'exploitation, terme qui a
      été
      raccourci en &#8220;booting&#8221; (que l'on traduit par démarrage
      en Français).</p><a id="idp77577424" class="indexterm"></a><a id="idp77577936" class="indexterm"></a><p>Sur l'architecture x86 c'est le BIOS (&#8220;Basic
      Input/Output System&#8221;) qui est responsable du chargement du
      système d'exploitation.  Pour effectuer cela, le BIOS recherche
      sur le disque dur le &#8220;Master Boot Record&#8221; - Secteur
      Principal de Démarrage (MBR), qui doit être
      placé à un endroit bien précis sur le disque.
      Le BIOS dispose de
      suffisamment de connaissances pour charger et exécuter
      le MBR, et suppose que le MBR peut alors effectuer le reste des
      tâches impliquées dans le chargement du système
      d'exploitation, probablement avec l'aide du BIOS.</p><a id="idp77595984" class="indexterm"></a><a id="idp77596496" class="indexterm"></a><a id="idp77597008" class="indexterm"></a><p>Pour parler du code contenu dans le MBR, on fait souvent
      référence aux termes de <span class="emphasis"><em>gestionnaire de
      démarrage</em></span> <span class="emphasis"><em>gestionnaire
      d'amorce</em></span>, tout particulièrement quand il y a
      intéraction avec l'utilisateur.  Dans ce cas le code de
      ce gestionnaire occupe un espace plus important sur la
      première <span class="emphasis"><em>piste</em></span> du disque ou du
      système de fichier du système d'exploitation (le
      gestionnaire de démarrage est parfois également
      appelé gestionnaire de chargement ou chargeur,
      <span class="quote">« <span class="quote">boot loader</span> »</span>, sous FreeBSD ce terme est
      utilisé pour une étape ultérieur du
      démarrage).  Parmi les gestionnaire de démarrage
      populaire, se trouvent <span class="application">boot0</span>
      (également connu sous le nom de <span class="application">Boot
      Easy</span>, le gestionnaire de démarrage standard
      de FreeBSD), <span class="application">Grub</span>,
      <span class="application">GAG</span>, et
      <span class="application">LILO</span> (seul
      <span class="application">boot0</span> peut tenir entièrement
      dans l'espace du MBR.).</p><p>Si vous n'avez qu'un seul système d'exploitation
      installé sur vos disques alors le MBR PC standard sera suffisant.  Ce
      MBR recherche la première tranche (&#8220;slice&#8221;)
      amorçable (souvent appelée active) sur le disque, et puis exécute le code sur cette
      tranche pour charger le reste du système d'exploitation.
      Le MBR installé par <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=fdisk&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">fdisk</span>(8)</span></a> par défaut se
      comporte de cette manière.  Il est basé sur
      <code class="filename">/boot/mbr</code>.</p><p>Si vous avez installé plusieurs systèmes
      d'exploitation sur vos disques alors vous pouvez installer un gestionnaire d'amorce
      différent, qui permet d'afficher une liste des
      différents systèmes d'exploitation, et vous permet de
      sélectionner
      celui à partir duquel démarrer.  Ceci est
      abordé dans la sous-section suivante.</p><p>Le reste du système de démarrage de FreeBSD est
      divisé en trois étapes.
      La première étape est exécutée
      par le MBR, qui en sait juste assez pour mettre l'ordinateur dans
      un état spécifique et lancer la deuxième
      étape.  La seconde étape peut en faire un peu plus, avant de
      lancer la troisième étape.  La troisième étape
      termine la tâche de chargement du système d'exploitation.
      La tâche a été séparée en trois
      étapes parce que le standard PC
      impose des limites sur la taille des programmes qui peuvent
      être exécutés aux étapes une et deux.
      L'enchaînement des tâches permet à FreeBSD de fournir
      un chargeur plus flexible.</p><a id="idp77604304" class="indexterm"></a><a id="idp77604816" class="indexterm"></a><p>Le noyau est ensuite démarré et commence
      à sonder le système à la recherche de
      périphériques et les initialise.  Une fois le
      processus de démarrage du noyau achevé, le noyau
      passe la main au processus <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=init&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">init</span>(8)</span></a>, qui alors vérifie
      que les disques sont utilisables.
      <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=init&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">init</span>(8)</span></a> commence ensuite la configuration des ressources au
      niveau utilisateur, monte les systèmes de fichiers,
      initialise les cartes réseaux pour communiquer sur le
      réseau, et lance tous les processus qui sont habituellement
      exécutés au démarrage d'un système
      FreeBSD.</p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="boot.html">Précédent</a> </td><td width="20%" align="center"><a accesskey="u" href="boot.html">Niveau supérieur</a></td><td width="40%" align="right"> <a accesskey="n" href="boot-blocks.html">Suivant</a></td></tr><tr><td width="40%" align="left" valign="top">Chapitre 13. Processus de démarrage de FreeBSD </td><td width="20%" align="center"><a accesskey="h" href="index.html">Sommaire</a></td><td width="40%" align="right" valign="top"> 13.3. Le gestionnaire de démarrage et les étapes de
      démarrage</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Ce document, ainsi que d'autres peut être téléchargé sur
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Pour toutes questions à propos de FreeBSD, lisez la
    <a href="http://www.FreeBSD.org/docs.html">documentation</a> avant de contacter
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Pour les questions sur cette documentation, contactez
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>