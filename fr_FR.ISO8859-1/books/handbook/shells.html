<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>4.9. Interpréteurs de commandes - &#8220;Shells&#8221;</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Manuel FreeBSD" /><link rel="up" href="basics.html" title="Chapitre 4. Quelques bases d'UNIX" /><link rel="prev" href="basics-daemons.html" title="4.8. Daemons, signaux, et comment tuer un processus" /><link rel="next" href="editors.html" title="4.10. Editeurs de texte" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">4.9. Interpréteurs de commandes - &#8220;Shells&#8221;</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="basics-daemons.html">Précédent</a> </td><th width="60%" align="center">Chapitre 4. Quelques bases d'UNIX</th><td width="20%" align="right"> <a accesskey="n" href="editors.html">Suivant</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="shells"></a>4.9. Interpréteurs de commandes - &#8220;Shells&#8221;</h2></div></div></div><a id="idp70586448" class="indexterm"></a><a id="idp70586960" class="indexterm"></a><p>Sous FreeBSD, beaucoup du travail quotidien est effectué sous
      une interface en ligne de commande appelée interpréteur de
      commandes ou &#8220;shell&#8221;.  Le rôle principal d'un
      interpréteur de commandes est de prendre les commandes sur le
      canal d'entrée et de les exécuter.  Beaucoup
      d'interpréteurs de commandes ont également des fonctions
      intégrées pour aider dans les tâches quotidiennes
      comme la gestion de fichiers, le mécanisme de
      remplacement et d'expansion des jokers (&#8220;file globbing&#8221;),
      l'édition de la ligne de commande, les macros commandes, et les
      variables d'environnement.  FreeBSD est fournit avec un ensemble
      d'interpréteurs de commandes, comme <code class="command">sh</code>,
      l'interpréteur de commandes Bourne, et <code class="command">tcsh</code>,
      l'interpréteur de commandes C-shell amélioré.
      Beaucoup d'autres
      interpréteurs de commandes sont disponibles dans le catalogue des
      logiciels portés, comme <code class="command">zsh</code> et
      <code class="command">bash</code>.</p><p>Quel interpréteur de commandes utilisez-vous?  C'est vraiment
      une question de goût.  Si vous programmez en C vous pourriez vous
      sentir plus à l'aise avec un interpréteur de commandes
      proche du C
      comme <code class="command">tcsh</code>.  Si vous venez du monde Linux ou que
      vous êtes nouveau à l'interface en ligne de commande d'<span class="trademark">UNIX</span>®
      vous pourriez essayer <code class="command">bash</code>.  L'idée principale
      est que chaque interpréteur de commandes à des
      caractéristiques uniques qui peuvent ou ne peuvent pas
      fonctionner avec votre environnement de travail
      préféré, et que vous avez vraiment le
      choix de l'interpréteur de commandes à utiliser.</p><p>Une des caractéristiques communes des interpréteurs de
      commandes est de pouvoir compléter les noms de fichiers
      (&#8220;filename completion&#8221;).  En tapant les premières
      lettres d'une commande ou d'un fichier, vous pouvez habituellement
      faire compléter automatiquement par l'interpréteur de
      commandes le reste de la commande ou du nom du fichier en appuyant sur la
      touche <span class="keycap"><strong>Tab</strong></span> du clavier.  Voici un exemple.
      Supposez que vous avez deux fichiers appelés respectivement
      <code class="filename">foobar</code> et <code class="filename">foo.bar</code>.
      Vous voulez effacer <code class="filename">foo.bar</code>.  Donc ce
      que vous devriez taper sur le clavier est: <code class="command">rm
      fo[Tab].[Tab]</code>.</p><p>L'interpréteur de commandes devrait afficher <code class="command">rm
      foo[BEEP].bar</code>.</p><p>Le [BEEP] est la sonnerie de la console, c'est l'interpréteur
      de commande indiquant qu'il n'est pas en mesure de compléter
      totalement le nom du fichier parce qu'il y a plus d'une
      possibilité.  <code class="filename">foobar</code> et
      <code class="filename">foo.bar</code> commencent tous les deux par
      <code class="literal">fo</code>, mais il fut capable de compléter
      jusqu'à <code class="literal">foo</code>.  Si vous tapez
      <code class="literal">.</code>, puis appuyez à nouveau sur
      <span class="keycap"><strong>Tab</strong></span>, l'interpréteur de
      commandes devrait pouvoir compléter le reste du nom du fichier
      pour vous.</p><a id="idp70601040" class="indexterm"></a><p>Une autre caractéristique de l'interpréteur de
      commandes est l'utilisation de variables d'environnement.  Les variables
      d'environnement sont une paire variable/valeur stockées dans
      l'espace mémoire d'environnement de l'interpréteur de
      commandes.  Cet espace peut être lu par n'importe quel programme
      invoqué par l'interpréteur de commandes, et contient
      ainsi beaucoup d'éléments
      de configuration des programmes.  Voici une liste des variables
      d'environnement habituelles et ce qu'elles signifient:</p><a id="idp70601936" class="indexterm"></a><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Variable</th><th>Description</th></tr></thead><tbody><tr><td><code class="envar">USER</code></td><td>Le nom d'utilisateur de la personne actuellement
	      attachée au système.</td></tr><tr><td><code class="envar">PATH</code></td><td>La liste des répertoires, séparés par
	      deux points, pour la recherche des programmes.</td></tr><tr><td><code class="envar">DISPLAY</code></td><td>Le nom réseau de l'affichage X11 auquel on peut se
	      connecter, si disponible.</td></tr><tr><td><code class="envar">SHELL</code></td><td>Le nom de l'interpréteur de commandes actuellement
	      utilisé.</td></tr><tr><td><code class="envar">TERM</code></td><td>Le nom du type de terminal de l'utilisateur.  Utilisé pour
	      déterminer les capacités du terminal.</td></tr><tr><td><code class="envar">TERMCAP</code></td><td>L'entrée de la base de données des codes
	      d'échappement pour permettre l'exécution de
	      diverses fonctions du terminal.</td></tr><tr><td><code class="envar">OSTYPE</code></td><td>Type du système d'exploitation, e.g. FreeBSD.</td></tr><tr><td><code class="envar">MACHTYPE</code></td><td>L'architecture du CPU sur lequel tourne actuellement
	      le système.</td></tr><tr><td><code class="envar">EDITOR</code></td><td>L'éditeur de texte préferé de
	      l'utilisateur.</td></tr><tr><td><code class="envar">PAGER</code></td><td>Le visualisateur de page de texte préferré de
	      l'utilisateur.</td></tr><tr><td><code class="envar">MANPATH</code></td><td>La liste des répertoires, séparés par
	      deux points, pour la recherche des pages de manuel.</td></tr></tbody></table></div><a id="idp70652752" class="indexterm"></a><p>Fixer une variable d'environnement diffère
      légèrement d'un interpréteur de commandes
      à l'autre.  Par exemple,
      dans le style de l'interpréteur de commandes de type C-shell comme
      <code class="command">tcsh</code> et <code class="command">csh</code>, vous
      utiliseriez <code class="command">setenv</code> pour fixer le
      contenu d'une variable d'environnement.  Sous les interpréteurs de
      commandes Bourne comme <code class="command">sh</code> et
      <code class="command">bash</code>, vous utiliseriez
      <code class="command">export</code> pour configurer vos
      variables d'environnement.  Par exemple, pour fixer ou modifier la
      variable d'environnement <code class="envar">EDITOR</code>, sous
      <code class="command">csh</code> ou <code class="command">tcsh</code> une commande
      comme la suivante fixera <code class="envar">EDITOR</code> à
      <code class="filename">/usr/local/bin/emacs</code>:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>setenv EDITOR /usr/local/bin/emacs</code></strong></pre><p>Sous les interpréteurs de commandes Bourne:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>export EDITOR="/usr/local/bin/emacs"</code></strong></pre><p>Vous pouvez faire afficher à la plupart des
      interpréteurs de commandes la variable d'environnement
      en plaçant un caractère
      <code class="literal">$</code> juste devant son nom sur la ligne
      de commande.  Par exemple, <code class="command">echo $TERM</code> affichera
      le contenu de <code class="envar">$TERM</code>, car l'interpréteur de commande
      complète <code class="envar">$TERM</code> et passe la main à
      <code class="command">echo</code>.</p><p>Les interpréteurs de commandes traitent beaucoup de
      caractères spéciaux, appelés
      métacaractères, en tant que représentation
      particulière des données.  Le plus commun est le
      caractère <code class="literal">*</code>, qui représente
      zéro ou plusieurs caractères dans le nom du fichier.
      Ces métacaractères spéciaux peuvent être
      utilisés pour compléter automatiquement le nom des
      fichiers.  Par exemple, taper <code class="command">echo *</code> est presque
      la même chose
      que taper <code class="command">ls</code> parce que l'interpréteur de
      commandes prendra tous les fichiers qui correspondent à
      <code class="literal">*</code> et les passera à <code class="command">echo</code> pour
      les afficher.</p><p>Pour éviter que l'interpréteur de commande
      n'interprète les caractères spéciaux, ils peuvent
      être neutralisés en ajoutant un
      caractère antislash (<code class="literal">\</code>) devant.  <code class="command">echo
      $TERM</code> affichera votre type de terminal.  <code class="command">echo
      \$TERM</code> affichera <code class="envar">$TERM</code> tel quel.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="changing-shells"></a>4.9.1. Changer d'interpréteur de commandes</h3></div></div></div><p>La méthode la plus simple pour changer votre
	interpréteur de commandes est d'utiliser la commande
	<code class="command">chsh</code>.  En lançant <code class="command">chsh</code>
	vous arriverez dans l'éditeur
	correspondant à votre variable d'environnement
	<code class="envar">EDITOR</code>; si elle n'est pas fixée, cela sera
	<code class="command">vi</code>.  Modifiez la ligne &#8220;Shell:&#8221;
	en conséquence.</p><p>Vous pouvez également passer le paramètre
	<code class="option">-s</code> à <code class="command">chsh</code>; cela modifiera
	votre interpréteur de commandes sans avoir à utiliser
	un éditeur.  Par exemple, si
	vous vouliez changer votre interpréteur de commandes pour
	<code class="command">bash</code>,
	ce qui suit devrait faire l'affaire:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>chsh -s /usr/local/bin/bash</code></strong></pre><div xmlns="" class="note"><h3 class="admontitle">Note: </h3><p xmlns="http://www.w3.org/1999/xhtml">L'interpréteur de commandes que vous désirez
	  utiliser <span class="emphasis"><em>doit</em></span> être présent dans
	  le fichier <code class="filename">/etc/shells</code>.  Si vous avez
	  installé l'interpréteur de commandes à partir
	  du <a class="link" href="ports.html" title="Chapitre 5. Installer des applications: les logiciels pré-compilés et les logiciels portés">catalogue des logiciels portés</a>,
	  alors cela a dû déjà être fait pour vous.
	  Si vous avez installé à
	  la main l'interpréteur de commandes, vous devez alors le
	  faire.</p><p xmlns="http://www.w3.org/1999/xhtml">Par exemple, si vous avez installé <code class="command">bash</code>
	à la main et l'avez placé dans
	<code class="filename">/usr/local/bin</code>, vous devrez faire:</p><pre xmlns="http://www.w3.org/1999/xhtml" class="screen"><code class="prompt">#</code> <strong class="userinput"><code>echo "/usr/local/bin/bash" &gt;&gt; /etc/shells</code></strong></pre><p xmlns="http://www.w3.org/1999/xhtml">Puis relancer <code class="command">chsh</code>.</p></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="basics-daemons.html">Précédent</a> </td><td width="20%" align="center"><a accesskey="u" href="basics.html">Niveau supérieur</a></td><td width="40%" align="right"> <a accesskey="n" href="editors.html">Suivant</a></td></tr><tr><td width="40%" align="left" valign="top">4.8. Daemons, signaux, et comment tuer un processus </td><td width="20%" align="center"><a accesskey="h" href="index.html">Sommaire</a></td><td width="40%" align="right" valign="top"> 4.10. Editeurs de texte</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Ce document, ainsi que d'autres peut être téléchargé sur
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Pour toutes questions à propos de FreeBSD, lisez la
    <a href="http://www.FreeBSD.org/docs.html">documentation</a> avant de contacter
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Pour les questions sur cette documentation, contactez
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>