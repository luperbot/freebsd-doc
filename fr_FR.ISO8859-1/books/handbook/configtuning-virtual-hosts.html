<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>12.9. Hôtes virtuels</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Manuel FreeBSD" /><link rel="up" href="config-tuning.html" title="Chapitre 12. Configuration et optimisation" /><link rel="prev" href="config-network-setup.html" title="12.8. Configuration des cartes réseaux" /><link rel="next" href="configtuning-configfiles.html" title="12.10. Fichiers de configuration" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">12.9. Hôtes virtuels</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="config-network-setup.html">Précédent</a> </td><th width="60%" align="center">Chapitre 12. Configuration et optimisation</th><td width="20%" align="right"> <a accesskey="n" href="configtuning-configfiles.html">Suivant</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="configtuning-virtual-hosts"></a>12.9. Hôtes virtuels</h2></div></div></div><a id="idp76945360" class="indexterm"></a><a id="idp76945872" class="indexterm"></a><p>Une utilisation très courante de FreeBSD est
      l'hébergement de sites virtuels, où un serveur
      apparaît pour le réseau comme étant
      plusieurs serveurs différents.  Ceci est possible en assignant
      plusieurs adresses réseau à une interface.</p><p>Une interface réseau donnée possède une
      adresse &#8220;réelle&#8221;, et peut avoir n'importe
      quel nombre d'adresses &#8220;alias&#8221;.  Ces alias sont
      normalement ajoutés en plaçant les entrées
      correspondantes dans le fichier
      <code class="filename">/etc/rc.conf</code>.</p><p>Une entrée d'alias pour l'interface
      <code class="filename">fxp0</code> ressemble à:</p><pre class="programlisting">ifconfig_fxp0_alias0="inet xxx.xxx.xxx.xxx netmask xxx.xxx.xxx.xxx"</pre><p>Notez que les entrées d'alias doivent commencer avec alias0
      et continuer en ordre croissant, (par exemple, _alias1, _alias2,
      et ainsi de suite).  Le processus de configuration s'arrêtera
      au premier nombre absent.</p><p>Le calcul des masques de réseau est important, mais
      heureusement assez simple.  Pour une interface donnée, il doit y
      avoir une adresse qui représente correctement le masque de
      réseau de votre réseau.  Tout autre adresse appartenant
      à ce réseau devra avoir un masque de réseau
      avec chaque bit à <code class="literal">1</code> (exprimé soit
      sous la forme <code class="systemitem">255.255.255.255</code>
      soit <code class="systemitem">0xffffffff</code>).</p><p>Par exemple, considérez le cas où
      l'interface <code class="filename">fxp0</code> est connectée à
      deux réseaux, le réseau <code class="systemitem">10.1.1.0</code> avec un masque de
      réseau de
      <code class="systemitem">255.255.255.0</code> et le réseau <code class="systemitem">202.0.75.16</code> avec un masque de
      <code class="systemitem">255.255.255.240</code>.  Nous voulons que le système apparaisse de
      <code class="systemitem">10.1.1.1</code> jusqu'à <code class="systemitem">10.1.1.5</code> et à <code class="systemitem">202.0.75.17</code> jusqu'à
      <code class="systemitem">202.0.75.20</code>.  Comme noté
      plus haut, seule la première adresse dans un intervalle
      réseau donné (dans ce cas, <code class="systemitem">10.0.1.1</code> et <code class="systemitem">202.0.75.17</code>) devrait avoir un masque de
      sous-réseau réel; toutes les autres adresses
      (<code class="systemitem">10.1.1.2</code> à <code class="systemitem">10.1.1.5</code> et <code class="systemitem">202.0.75.18</code> jusqu'à <code class="systemitem">202.0.75.20</code>) doivent être
      configurées avec un masque de sous-réseau de <code class="systemitem">255.255.255.255</code>.</p><p>Les entrées suivantes du fichier
      <code class="filename">/etc/rc.conf</code> configurent la carte
      correctement pour cet arrangement:</p><pre class="programlisting">ifconfig_fxp0="inet 10.1.1.1 netmask 255.255.255.0"
ifconfig_fxp0_alias0="inet 10.1.1.2 netmask 255.255.255.255"
ifconfig_fxp0_alias1="inet 10.1.1.3 netmask 255.255.255.255"
ifconfig_fxp0_alias2="inet 10.1.1.4 netmask 255.255.255.255"
ifconfig_fxp0_alias3="inet 10.1.1.5 netmask 255.255.255.255"
ifconfig_fxp0_alias4="inet 202.0.75.17 netmask 255.255.255.240"
ifconfig_fxp0_alias5="inet 202.0.75.18 netmask 255.255.255.255"
ifconfig_fxp0_alias6="inet 202.0.75.19 netmask 255.255.255.255"
ifconfig_fxp0_alias7="inet 202.0.75.20 netmask 255.255.255.255"</pre></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="config-network-setup.html">Précédent</a> </td><td width="20%" align="center"><a accesskey="u" href="config-tuning.html">Niveau supérieur</a></td><td width="40%" align="right"> <a accesskey="n" href="configtuning-configfiles.html">Suivant</a></td></tr><tr><td width="40%" align="left" valign="top">12.8. Configuration des cartes réseaux </td><td width="20%" align="center"><a accesskey="h" href="index.html">Sommaire</a></td><td width="40%" align="right" valign="top"> 12.10. Fichiers de configuration</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Ce document, ainsi que d'autres peut être téléchargé sur
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Pour toutes questions à propos de FreeBSD, lisez la
    <a href="http://www.FreeBSD.org/docs.html">documentation</a> avant de contacter
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Pour les questions sur cette documentation, contactez
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>