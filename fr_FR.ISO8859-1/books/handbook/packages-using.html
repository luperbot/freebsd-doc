<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>5.4. Utiliser le système des logiciels pré-compilés</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Manuel FreeBSD" /><link rel="up" href="ports.html" title="Chapitre 5. Installer des applications: les logiciels pré-compilés et les logiciels portés" /><link rel="prev" href="ports-finding-applications.html" title="5.3. Trouver votre application" /><link rel="next" href="ports-using.html" title="5.5. Utiliser le catalogue des logiciels portés" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">5.4. Utiliser le système des logiciels
      pré-compilés</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ports-finding-applications.html">Précédent</a> </td><th width="60%" align="center">Chapitre 5. Installer des applications: les logiciels pré-compilés
    et les logiciels portés</th><td width="20%" align="right"> <a accesskey="n" href="ports-using.html">Suivant</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="packages-using"></a>5.4. Utiliser le système des logiciels
      pré-compilés</h2></div><div><span class="authorgroup">Contribution de <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Chern</span> <span class="surname">Lee</span></span>. </span></div></div></div><p>Il existe plusieurs outils utilisés pour la gestion
      des logiciels pré-compilés sur FreeBSD</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>L'utilitaire <code class="command">sysinstall</code> peut
	  être invoqué à partir d'un
	  système en fonctionnement pour installer, supprimer
	  et afficher les logiciels disponibles et installés.
	  Pour plus d'information, consultez la <a class="xref" href="install-post.html#packages" title="2.10.11. Installer des logiciels pré-compilés - &#8220;packages&#8221;">Section 2.10.11, « Installer des logiciels pré-compilés -
      &#8220;packages&#8221; »</a>.</p></li><li class="listitem"><p>Les outils de gestion en ligne de commande des logiciels
	  pré-compilés, qui sont le sujet de la suite de
	  cette section.</p></li></ul></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp70911952"></a>5.4.1. Installation d'un logiciel pré-compilé</h3></div></div></div><a id="idp70912592" class="indexterm"></a><a id="idp70913744" class="indexterm"></a><p>Vous pouvez utiliser l'utilitaire <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pkg_add&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">pkg_add</span>(1)</span></a> pour
	installer un logiciel pré-compilé FreeBSD à
	partir d'un fichier
	local ou d'un serveur sur le réseau.</p><div class="example"><a id="idp70920016"></a><div class="example-title">Exemple 5.1. Télécharger un logiciel pré-compilé
	  à la main puis l'installer localement</div><div class="example-contents"><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ftp -a ftp2.FreeBSD.org</code></strong>
Connected to ftp2.FreeBSD.org.
220 ftp2.FreeBSD.org FTP server (Version 6.00LS) ready.
331 Guest login ok, send your email address as password.
230-
230-     This machine is in Vienna, VA, USA, hosted by Verio.
230-         Questions? E-mail freebsd@vienna.verio.net.
230-
230-
230 Guest login ok, access restrictions apply.
Remote system type is UNIX.
Using binary mode to transfer files.
<code class="prompt">ftp&gt;</code> <strong class="userinput"><code>cd /pub/FreeBSD/ports/packages/sysutils/</code></strong>
250 CWD command successful.
<code class="prompt">ftp&gt;</code> <strong class="userinput"><code>get lsof-4.56.4.tgz</code></strong>
local: lsof-4.56.4.tgz remote: lsof-4.56.4.tgz
200 PORT command successful.
150 Opening BINARY mode data connection for 'lsof-4.56.4.tgz' (92375 bytes).
100% |**************************************************| 92375       00:00 ETA
226 Transfer complete.
92375 bytes received in 5.60 seconds (16.11 KB/s)
<code class="prompt">ftp&gt;</code> <strong class="userinput"><code>exit</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>pkg_add lsof-4.56.4.tgz</code></strong></pre></div></div><br class="example-break" /><p>Si vous ne disposez pas d'une source locale de logiciels
	pré-compilés (comme l'ensemble de CDROM de FreeBSD)
	alors il sera probablement plus facile d'utiliser l'option
	<code class="option">-r</code> de <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pkg_add&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">pkg_add</span>(1)</span></a>.  Cela fera déterminer
	automatiquement à l'utilitaire le format objet et la version
	corrects et ensuite récupérer et installer le logiciel
	pré-compilé à partir d'un site FTP.</p><a id="idp70926288" class="indexterm"></a><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>pkg_add -r lsof</code></strong></pre><p>L'exemple ci-dessus téléchargera le logiciel
	pré-compilé
	correct sans plus d'intervention de l'utilisateur.
	Si vous désirez indiquer un autre miroir FreeBSD pour les
	logiciels pré-compilés à la place du site
	de distribution principal, vous devez positionner en
	conséquence la variable d'environnement
	<code class="envar">PACKAGESITE</code>, pour remplacer les
	paramètres par défaut.
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pkg_add&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">pkg_add</span>(1)</span></a> utilise <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=fetch&amp;sektion=3"><span class="citerefentry"><span class="refentrytitle">fetch</span>(3)</span></a> pour télécharger les
	fichiers, qui respecte diverses variables d'environnement, dont
	<code class="envar">FTP_PASSIVE_MODE</code>, <code class="envar">FTP_PROXY</code>, et
	<code class="envar">FTP_PASSWORD</code>.  Il se peut que vous ayez besoin de
	configurer une ou plusieurs de ces dernières si vous êtes
	derrière un coupe-feu, ou devez utiliser un proxy FTP/HTTP.
	Consultez la page de manuel <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=fetch&amp;sektion=3"><span class="citerefentry"><span class="refentrytitle">fetch</span>(3)</span></a> pour la liste complète
	des variables.  Vous pouvez également remarquer que dans
	l'exemple ci-dessus <code class="literal">lsof</code> est utilisé au lieu
	de <code class="literal">lsof-4.56.4</code>.  Quand la fonction de
	récupération à distance est utilisée,
	le numéro de version doit être retiré.
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pkg_add&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">pkg_add</span>(1)</span></a> téléchargera automatiquement la
	toute dernière version de l'application.</p><div xmlns="" class="note"><h3 class="admontitle">Note: </h3><p xmlns="http://www.w3.org/1999/xhtml"><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pkg_add&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">pkg_add</span>(1)</span></a> téléchargera la
	  dernière version de votre application si vous êtes
	  sous FreeBSD-CURRENT ou FreeBSD-STABLE.  Si vous utilisez une version
	  -RELEASE, il récupérera la version compilée
	  avec votre version lors de sa publication.  Il est possible de
	  modifier ce comportement en surchargeant la variable
	  d'environnement <code class="envar">PACKAGESITE</code>.  Par exemple,
	  si vous utilisez un système FreeBSD 8.1-RELEASE,
	  par défaut <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pkg_add&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">pkg_add</span>(1)</span></a> tentera de
	  récupérer les applications
	  pré-compilées à partir de
	  <code class="literal">ftp://ftp.freebsd.org/pub/FreeBSD/ports/i386/packages-8.1-release/Latest/</code>.
	  Si vous désirez forcer <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pkg_add&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">pkg_add</span>(1)</span></a> à
	  télécharger les versions des logiciels
	  pré-compilés pour FreeBSD 8-STABLE,
	  positionnez la variable <code class="envar">PACKAGESITE</code> à
	  <code class="literal">ftp://ftp.freebsd.org/pub/FreeBSD/ports/i386/packages-8-stable/Latest/</code>.
	</p></div><p>Les logiciels pré-compilés sont distribués
	dans les formats <code class="filename">.tgz</code> et <code class="filename">.tbz</code>.  Vous pouvez les trouver
	sur <code class="uri"><a class="uri" href="ftp://ftp.FreeBSD.org/pub/FreeBSD/ports/packages/" target="_top">ftp://ftp.FreeBSD.org/pub/FreeBSD/ports/packages/</a></code>, ou
	sur le CDROM de distribution de FreeBSD.  Chaque CD de
	l'ensemble de 4-CD de FreeBSD (et le PowerPak, etc...) contient
	des logiciels pré-compilés dans le répertoire
	<code class="filename">/packages</code>.  L'organisation des logiciels
	pré-compilés est semblable à celle de
	l'arborescence <code class="filename">/usr/ports</code>.  Chaque
	catégorie possède son propre répertoire, et
	chaque logiciel pré-compilé peut être
	trouvé dans le répertoire <code class="filename">All</code>.</p><p>La structure de répertoires du système de logiciels
	pré-compilés correspond à celle du catalogue
	des logiciels portés; ils travaillent ensemble pour former
	l'intégralité du système de logiciels
	pré-compilés/portés.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp70966352"></a>5.4.2. Gestion des logiciels pré-compilés</h3></div></div></div><a id="idp70966992" class="indexterm"></a><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pkg_info&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">pkg_info</span>(1)</span></a> est un utilitaire qui liste et décrit les
	divers logiciels pré-compilés installés.
      </p><a id="idp70977488" class="indexterm"></a><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>pkg_info</code></strong>
cvsup-16.1          A general network file distribution system optimized for CV
docbook-1.2         Meta-port for the different versions of the DocBook DTD
...</pre><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pkg_version&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">pkg_version</span>(1)</span></a> est un utilitaire qui récapitule les
	versions de tous les logiciels pré-compilés
	installés.  Il compare la version du logiciel
	pré-compilé avec la version
	actuelle trouvée dans le catalogue des logiciels portés.
      </p><a id="idp70980432" class="indexterm"></a><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>pkg_version</code></strong>
cvsup                       =
docbook                     =
...</pre><p>Les symboles dans la seconde colonne indiquent l'âge relatif
	de la version installée et de la version disponible dans le
	catalogue des logiciels portés local.</p><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Symbole</th><th>Signification</th></tr></thead><tbody><tr><td>=</td><td>La version du logiciel
	      pré-compilé installée est équivalente
	      à celle de celui trouvé dans le
	      catalogue des logiciels portés local.</td></tr><tr><td>&lt;</td><td>La version installée est plus ancienne que celle
	  disponible dans le catalogue des logiciels portés.</td></tr><tr><td>&gt;</td><td>La version installée est plus
	  récente que celle trouvée dans le catalogue local des
	  logiciels portés. (le catalogue local des logiciels
	  portés est probablement ancien)</td></tr><tr><td>?</td><td>Le logiciel pré-compilé
	  ne peut être
	  trouvé dans l'index du catalogue des logiciels
	  portés.  (Cela peut se produire quand, par exemple,
	  un logiciel installé est supprimé du catalogue des logiciels
	  portés ou renommé.)</td></tr><tr><td>*</td><td>Il y a de multiples versions de ce
	  logiciel pré-compilé.</td></tr><tr><td>!</td><td>Le logiciel installé
	      existe dans l'index mais pour une raison inconnue,
	      <code class="command">pkg_version</code> a été
	      incapable de comparer le numéro de version du
	      paquetage installé avec l'entrée
	      correspondante dans l'index.</td></tr></tbody></table></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp70995920"></a>5.4.3. Effacer un logiciel pré-compilé</h3></div></div></div><a id="idp70996688" class="indexterm"></a><a id="idp70997584" class="indexterm"></a><p>Pour désinstaller un logiciel pré-compilé
	précédemment installé, utilisez l'utilitaire
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pkg_delete&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">pkg_delete</span>(1)</span></a>.</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>pkg_delete xchat-1.7.1</code></strong></pre><p>Notez que <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pkg_delete&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">pkg_delete</span>(1)</span></a> a besoin du nom complet du
	paquetage et du numéro de version; la commande
	précédente n'aurait pas fonctionné avec
	<em class="replaceable"><code>xchat</code></em> à la place de
	<em class="replaceable"><code>xchat-1.7.1</code></em>.  It est cependant
	facile de retrouver la version du paquetage installé
	à l'aide de la commande <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pkg_version&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">pkg_version</span>(1)</span></a>.  Vous
	pouvez à la place simplement utiliser un joker:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>pkg_delete xchat\*</code></strong></pre><p>dans ce cas, tous les logiciels dont le nom commence par
	<code class="literal">xchat</code> seront supprimés.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp71009616"></a>5.4.4. Divers</h3></div></div></div><p>Toute l'information sur les logiciels pré-compilés
	est stockée dans le répertoire
	<code class="filename">/var/db/pkg</code>.  La liste des fichiers
	installés pour chaque logiciel pré-compilé
	peut être trouvée dans des fichiers de ce
	répertoire.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ports-finding-applications.html">Précédent</a> </td><td width="20%" align="center"><a accesskey="u" href="ports.html">Niveau supérieur</a></td><td width="40%" align="right"> <a accesskey="n" href="ports-using.html">Suivant</a></td></tr><tr><td width="40%" align="left" valign="top">5.3. Trouver votre application </td><td width="20%" align="center"><a accesskey="h" href="index.html">Sommaire</a></td><td width="40%" align="right" valign="top"> 5.5. Utiliser le catalogue des logiciels portés</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Ce document, ainsi que d'autres peut être téléchargé sur
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Pour toutes questions à propos de FreeBSD, lisez la
    <a href="http://www.FreeBSD.org/docs.html">documentation</a> avant de contacter
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Pour les questions sur cette documentation, contactez
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>