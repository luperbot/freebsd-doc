<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>12.2.  Pourquoi utiliser (qu'est-ce) a.out et les formats exécutables ELF ?</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Questions Fréquemment Posées sur FreeBSD 2.X, 3.X et 4.X" /><link rel="up" href="misc.html" title="Chapitre 12.  Questions diverses. **Mise à jour en cours**" /><link rel="prev" href="misc.html" title="Chapitre 12.  Questions diverses. **Mise à jour en cours**" /><link rel="next" href="ch12s03.html" title="12.3.  Pourquoi chmod ne veulent pas changer les permissions sur les liens symboliques ?" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">12.2.  Pourquoi utiliser (qu'est-ce) a.out et les formats exécutables ELF ?  </th></tr><tr><td width="20%" align="left"><a accesskey="p" href="misc.html">Précédent</a> </td><th width="60%" align="center">Chapitre 12.  Questions diverses. **Mise à jour en cours** </th><td width="20%" align="right"> <a accesskey="n" href="ch12s03.html">Suivant</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="idp68503504"></a>12.2.  Pourquoi utiliser (qu'est-ce) a.out et les formats exécutables ELF ?  </h2></div></div></div><p>
Afin de comprendre pourquoi FreeBSD utilise le format
<span class="emphasis"><em>a.out</em></span>, vous devez d'abord savoir
quelques trucs sur les 3 formats exécutables courant "dominants" pour
UNIX :

      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
<a class="link" href="http://www.freebsd.org/cgi/man.cgi?a.out(5)" target="_top">a.out </a> Le
vieux et `classique' format des objets unix. Il utilise un court et
compact en-tête avec un nombre magique au début, qui est souvent
utilisé pour caractériser le format (voir  <a class="link" href="http://www.freebsd.org/cgi/man.cgi?a.out(5)" target="_top">a.out(5)</a>
pour plus de détails).   Il contient trois segments chargés : .text,
.data, et .bss plus une table de symboles et une table de chaînes.
	  		  </p></li><li class="listitem"><p><span class="emphasis"><em>COFF</em></span> Le formats des
objets SVR3. L'en-tête comprend une table de section,  de telle sorte
que vous avez plus de sections que juste .text, .data, et .bss.
	    </p></li><li class="listitem"><p><span class="emphasis"><em>ELF</em></span> Le successeur de
<span class="emphasis"><em>COFF</em></span>, qui permet des sections
multiples et des valeurs possibles de 32 bits et 64 bits. Un
inconvénient majeur : <span class="emphasis"><em>ELF</em></span> a aussi été
conçu en supposant le fait qu'il y qu'un seul ABI par architecture
système. Cette hypothèse est assez incorrecte, et même dans le monde
SYSV (qui a au moins 2 ABIs : SVR4, Solaris, SCO) cela ne se vérifie
pas.
        </p><p>
FreeBSD essaye de contourner ce problème en
fournissant un utilitaire  pour <span class="emphasis"><em>marquer</em></span> un exécutable connu  <span class="emphasis"><em>ELF</em></span> avec des informations sur l'ABI qui va avec.
Regardez la page de manuel pour <a class="link" href="http://www.freebsd.org/cgi/man.cgi?brandelf" target="_top">brandelf</a>
pour plus d'informations.
	</p></li></ul></div><p>
</p><p>
FreeBSD vient du camp "classique" et utilise traditionnellement le
format
<a class="link" href="http://www.freebsd.org/cgi/man.cgi?a.out(5)" target="_top">a.out</a>,
une technologie esssayée et éprouvée à travers des générations de
releases BSD. Bien qu'il a aussi été quelques fois possible de
construire et de lancer des binaires natifs <span class="emphasis"><em>ELF</em></span> (et noyau)
sur un système FreeBSD, FreeBSD a initiallement résisté à la "pression"
de passer à <span class="emphasis"><em>ELF</em></span> comme format par défaut.
Pourquoi ? Bien, quand le camp Linux ont fait leur difficile
transition vers <span class="emphasis"><em>ELF</em></span>,
il ne suffisait pas de fuir le format exécutable
<span class="emphasis"><em>a.out</em></span>.
mais leur mécanisme de librairies partagées
basé sur des table de sauts inflexible ce
qui rendait la
construction de librairies partagées difficiles pour les
vendeurs et développeurs.

Depuis
comme les outils  <span class="emphasis"><em>ELF</em></span> offrent une solution
au problème des librairies partagées et semblent
en général perçus comme "la voie du progrès" de
toute façon, le coût de migration a été
entendu comme nécessaire, et la transition a
été réalisée.

      </p><p>
Dans le cas FreeBSD, notre mécanisme de librairie partagée se rapproche
plus des style de mécanisme de librairie partagée des
<span class="emphasis"><em>SunOS</em></span> de Sun, et de la sorte, est très simple à utiliser.
Quoiqu'il en soit, à partir de 3.0, FreeBSD supportera officiellement
les binaires <span class="emphasis"><em>ELF</em></span> comme format par défaut. Même si les
formats exécutables <span class="emphasis"><em>a.out</em></span> nous ont beaucoup servis, les gens du GNU
auteurs des outils de compilation que nous utilisons ont arrêté leur
supports pour le format <span class="emphasis"><em>a.out</em></span>.
Cela nous a forcé à maintenir des versions divergentes du compilateur et
de l'éditeur de liens, et nous a empêché de bénéficier des
derniers efforts du développement GNU. Et puis, les demandes de
ISO-C++, notemment pour les constructeurs et les destructeurs,
nous ont aussi conduit à supporter de l'
<span class="emphasis"><em>ELF</em></span> natif pour les futures release de FreeBSD.</p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="misc.html">Précédent</a> </td><td width="20%" align="center"><a accesskey="u" href="misc.html">Niveau supérieur</a></td><td width="40%" align="right"> <a accesskey="n" href="ch12s03.html">Suivant</a></td></tr><tr><td width="40%" align="left" valign="top">Chapitre 12.  Questions diverses. **Mise à jour en cours**  </td><td width="20%" align="center"><a accesskey="h" href="index.html">Sommaire</a></td><td width="40%" align="right" valign="top"> 12.3.  Pourquoi chmod ne veulent pas changer les permissions sur les liens symboliques ?  </td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Ce document, ainsi que d'autres peut être téléchargé sur
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Pour toutes questions à propos de FreeBSD, lisez la
    <a href="http://www.FreeBSD.org/docs.html">documentation</a> avant de contacter
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Pour les questions sur cette documentation, contactez
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>