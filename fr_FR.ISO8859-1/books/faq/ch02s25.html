<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>2.25. J'obtiens le message "panic: cant mount root" lors du redémarrage de mon système après l'installation.</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Questions Fréquemment Posées sur FreeBSD 2.X, 3.X et 4.X" /><link rel="up" href="install.html" title="Chapitre 2. Installation. **Mise à jour en cours**" /><link rel="prev" href="ch02s24.html" title="2.24. La disquette de démarrage se bloque sur le message &quot;Probing Devices...&quot;" /><link rel="next" href="ch02s26.html" title="2.26. Quelles sont les limites mémoire ?" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">2.25. J'obtiens le message "panic: cant mount root" lors du redémarrage de  mon système après l'installation.</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch02s24.html">Précédent</a> </td><th width="60%" align="center">Chapitre 2. Installation. **Mise à jour en cours**</th><td width="20%" align="right"> <a accesskey="n" href="ch02s26.html">Suivant</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="idp64472144"></a>2.25. J'obtiens le message "panic: cant mount root" lors du redémarrage de  mon système après l'installation.</h2></div></div></div><p>Cette erreur indique un conflit entre les blocs de
démarrage du système et la connaissance du noyau sur les disques.
Cette erreur arrive fréquemment dans le cas d'un système disposant de
deux disques IDE, avec chaque disque installé en maître ou périphérique unique sur des
contrôleurs séparés, avec FreeBSD installé sur le contrôleur IDE secondaire.
Le programme de démarrage pense que le système est installé sur wd1
(le second disque vu par le BIOS) alors que le noyau affecte wd2 au
premier disque du deuxième contrôleur. Après le test de tous les
périphériques, le noyau essaye de <span class="quote">« <span class="quote">monter</span> »</span> ce que le programme de
démarrage pense être le disque de démarrage, wd1, alors qu'il s'agit
en fait de wd2 et échoue.</p><p>Pour résoudre ce problème, effectuez les opérations
suivantes :
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Au message de démarrage tapez :
<code class="command">1:wd(2,a)kernel</code> puis Entrée. Si le système
démarre, lancez la commande <code class="command"> echo "1:wd(2,a)kernel" &gt;
/boot.config</code> pour affecter la bonne chaîne de
démarrage.</p></li><li class="listitem"><p>Déplacez le disque FreeBSD sur le controleur primaire,
les disques sont alors vus de façon contigus.</p></li><li class="listitem"><p><a class="link" href="../handbook/kernelconfig.html" target="_top">Reconstruisez
un noyau</a> en modifiant les lignes de configuration wd pour avoir:

	</p><pre class="programlisting">
controller      wdc0    at isa? port "IO_WD1" bio irq 14 vector wdintr
disk            wd0     at wdc0 drive 0
# disk            wd1     at wdc0 drive 1 # comment out this line

controller      wdc1    at isa? port "IO_WD2" bio irq 15 vector wdintr
disk            wd1     at wdc1 drive 0 # change from wd2 to wd1
disk            wd2     at wdc1 drive 1 # change from wd3 to wd2

</pre><p>
	    Puis installez le nouveau noyau. Si vous avez déplacé
vos disques et vous voulez restaurer la configuration précédente,
placez les disques dans la
configuration désirée puis redémarrez. Votre système doit démarrer
correctement.</p></li></ul></div><p>
</p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch02s24.html">Précédent</a> </td><td width="20%" align="center"><a accesskey="u" href="install.html">Niveau supérieur</a></td><td width="40%" align="right"> <a accesskey="n" href="ch02s26.html">Suivant</a></td></tr><tr><td width="40%" align="left" valign="top">2.24. La disquette de démarrage se bloque sur le message "Probing Devices..." </td><td width="20%" align="center"><a accesskey="h" href="index.html">Sommaire</a></td><td width="40%" align="right" valign="top"> 2.26. Quelles sont les limites mémoire ? </td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Ce document, ainsi que d'autres peut être téléchargé sur
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Pour toutes questions à propos de FreeBSD, lisez la
    <a href="http://www.FreeBSD.org/docs.html">documentation</a> avant de contacter
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Pour les questions sur cette documentation, contactez
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>