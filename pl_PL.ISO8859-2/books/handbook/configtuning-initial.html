<?xml version="1.0" encoding="iso-8859-2" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-2" /><title>11.2. Initial Configuration</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Podrêcznik FreeBSD" /><link rel="up" href="config-tuning.html" title="Rozdzia³ 11. Configuration and Tuning" /><link rel="prev" href="config-tuning.html" title="Rozdzia³ 11. Configuration and Tuning" /><link rel="next" href="configtuning-core-configuration.html" title="11.3. Core Configuration" /><link rel="copyright" href="legalnotice.html" title="Informacja Prawna" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">11.2. Initial Configuration</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="config-tuning.html">Poprzedni</a> </td><th width="60%" align="center">Rozdzia³ 11. Configuration and Tuning</th><td width="20%" align="right"> <a accesskey="n" href="configtuning-core-configuration.html">Nastêpny</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="configtuning-initial"></a>11.2. Initial Configuration</h2></div></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp84106192"></a>11.2.1. Partition Layout</h3></div></div></div><a id="idp84106832" class="indexterm"></a><a id="idp84107344" class="indexterm"></a><a id="idp84108240" class="indexterm"></a><a id="idp84109136" class="indexterm"></a><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp84110032"></a>11.2.1.1. Base Partitions</h4></div></div></div><p>When laying out file systems with <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=bsdlabel&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">bsdlabel</span>(8)</span></a>
	  or <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sysinstall&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sysinstall</span>(8)</span></a>, remember that hard
	  drives transfer data faster from the outer
	  tracks to the inner.
	  Thus smaller and heavier-accessed file systems
	  should be closer to the outside of the drive, while
	  larger partitions like <code class="filename">/usr</code> should be placed
	  toward the inner.  It is a good idea to create
	  partitions in a similar order to: root, swap,
	  <code class="filename">/var</code>, <code class="filename">/usr</code>.</p><p>The size of <code class="filename">/var</code>
	  reflects the intended machine usage.
	  <code class="filename">/var</code> is used to hold
	  mailboxes, log files, and printer spools.  Mailboxes and log
	  files can grow to unexpected sizes depending
	  on how many users exist and how long log
	  files are kept.  Most users would never require a gigabyte,
	  but remember that <code class="filename">/var/tmp</code>
	  must be large enough to contain packages.
	  </p><p>The <code class="filename">/usr</code> partition holds much
	  of the files required to support the system, the <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ports&amp;sektion=7"><span class="citerefentry"><span class="refentrytitle">ports</span>(7)</span></a>
	  collection (recommended) and the source code (optional).  Both
	  of which are optional at install time.
	  At least 2 gigabytes would be recommended for this partition.</p><p>When selecting partition sizes, keep the space
	  requirements in mind.  Running out of space in
	  one partition while barely using another can be a
	  hassle.</p><div xmlns="" class="note"><h3 class="admontitle">Uwaga: </h3><p xmlns="http://www.w3.org/1999/xhtml">Some users have found that <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sysinstall&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sysinstall</span>(8)</span></a>'s
	    <code class="literal">Auto-defaults</code> partition sizer will
	    sometimes select smaller than adequate <code class="filename">/var</code>
	    and <code class="filename">/</code> partitions.  Partition wisely and
	    generously.</p></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="swap-design"></a>11.2.1.2. Swap Partition</h4></div></div></div><a id="idp84129104" class="indexterm"></a><a id="idp84129616" class="indexterm"></a><p>As a rule of thumb, the swap partition should be
	  about double the size of system memory (RAM).  For example,
	  if the machine has 128 megabytes of memory,
	  the swap file should be 256 megabytes.  Systems with
	  less memory may perform better with more swap.
	  Less than 256 megabytes of swap is not recommended and
	  memory expansion should be considered.
	  The kernel's VM paging algorithms are tuned to
	  perform best when the swap partition is at least two times the
	  size of main memory.  Configuring too little swap can lead to
	  inefficiencies in the VM page scanning code and might create
	  issues later if more memory is added.</p><p>On larger systems with multiple SCSI disks (or
	  multiple IDE disks operating on different controllers), it is
	  recommend that a swap is configured on each drive (up
	  to four drives).  The swap partitions should be
	  approximately the same size.  The kernel can handle arbitrary
	  sizes but internal data structures scale to 4 times the
	  largest swap partition.  Keeping the swap partitions near the
	  same size will allow the kernel to optimally stripe swap space
	  across disks.
	  Large swap sizes are fine, even if swap is not
	  used much.  It might be easier to recover
	  from a runaway program before being forced to reboot.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp84131024"></a>11.2.1.3. Why Partition?</h4></div></div></div><p>Several users think a single large partition will be fine,
	  but there are several reasons why this is a bad idea.
	  First, each partition has different operational
	  characteristics and separating them allows the file system to
	  tune accordingly.  For example, the root
	  and <code class="filename">/usr</code> partitions are read-mostly, without
	  much writing.  While a lot of reading and writing could
	  occur in <code class="filename">/var</code> and
	  <code class="filename">/var/tmp</code>.</p><p>By properly partitioning a system, fragmentation
	  introduced in the smaller write heavy partitions
	  will not bleed over into the mostly-read partitions.
	  Keeping the write-loaded partitions closer to
	  the disk's edge,
	  will
	  increase I/O performance in the partitions where it occurs
	  the most.  Now while I/O
	  performance in the larger partitions may be needed,
	  shifting them more toward the edge of the disk will not
	  lead to a significant performance improvement over moving
	  <code class="filename">/var</code> to the edge.
	  Finally, there are safety concerns.  A smaller, neater root
	  partition which is mostly read-only has a greater
	  chance of surviving a bad crash.</p></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="config-tuning.html">Poprzedni</a> </td><td width="20%" align="center"><a accesskey="u" href="config-tuning.html">Pocz±tek rozdzia³u</a></td><td width="40%" align="right"> <a accesskey="n" href="configtuning-core-configuration.html">Nastêpny</a></td></tr><tr><td width="40%" align="left" valign="top">Rozdzia³ 11. Configuration and Tuning </td><td width="20%" align="center"><a accesskey="h" href="index.html">Spis tre¶ci</a></td><td width="40%" align="right" valign="top"> 11.3. Core Configuration</td></tr></table></div><p xmlns="" align="center"><small>All FreeBSD documents are available for download
    at <a href="http://ftp.FreeBSD.org/pub/FreeBSD/doc/">http://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="" align="center"><small>Questions that are not answered by the
    <a href="http://www.FreeBSD.org/docs.html">documentation</a> may be
    sent to &lt;<a href="mailto:freebsd-questions@FreeBSD.org">freebsd-questions@FreeBSD.org</a>&gt;.<br />
    Send questions about this document to &lt;<a href="mailto:freebsd-doc@FreeBSD.org">freebsd-doc@FreeBSD.org</a>&gt;.</small></p></body></html>