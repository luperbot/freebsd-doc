<?xml version="1.0" encoding="iso-8859-2" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-2" /><title>11.6. Configuring the cron Utility</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Podrêcznik FreeBSD" /><link rel="up" href="config-tuning.html" title="Rozdzia³ 11. Configuration and Tuning" /><link rel="prev" href="configtuning-starting-services.html" title="11.5. Starting Services" /><link rel="next" href="configtuning-rcd.html" title="11.7. Using rc under FreeBSD" /><link rel="copyright" href="legalnotice.html" title="Informacja Prawna" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">11.6. Configuring the <code class="command">cron</code> Utility</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="configtuning-starting-services.html">Poprzedni</a> </td><th width="60%" align="center">Rozdzia³ 11. Configuration and Tuning</th><td width="20%" align="right"> <a accesskey="n" href="configtuning-rcd.html">Nastêpny</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="configtuning-cron"></a>11.6. Configuring the <code class="command">cron</code> Utility</h2></div><div><span class="authorgroup">Contributed by <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Tom</span> <span class="surname">Rhodes</span></span>. </span></div></div></div><a id="idp84102736" class="indexterm"></a><p>One of the most useful utilities in FreeBSD is <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=cron&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">cron</span>(8)</span></a>.  The
      <code class="command">cron</code> utility runs in the background and constantly
      checks the <code class="filename">/etc/crontab</code> file.  The <code class="command">cron</code>
      utility also checks the <code class="filename">/var/cron/tabs</code> directory, in
      search of new <code class="filename">crontab</code> files.  These
      <code class="filename">crontab</code> files store information about specific
      functions which <code class="command">cron</code> is supposed to perform at
      certain times.</p><p>The <code class="command">cron</code> utility uses two different
      types of configuration files, the system crontab and user crontabs. The
      only difference between these two formats is the sixth field.  In the
      system crontab, the sixth field is the name of a user for the command
      to run as. This gives the system crontab the ability to run commands
      as any user. In a user crontab, the sixth field is the command to run,
      and all commands run as the user who created the crontab; this is an
      important security feature.</p><div xmlns="" class="note"><h3 class="admontitle">Uwaga: </h3><p xmlns="http://www.w3.org/1999/xhtml">User crontabs allow individual users to schedule tasks without the
        need for <code class="systemitem">root</code> privileges. Commands in a user's crontab run with the
        permissions of the user who owns the crontab.</p><p xmlns="http://www.w3.org/1999/xhtml">The <code class="systemitem">root</code> user can have a user crontab just like
        any other user. This one is different from
        <code class="filename">/etc/crontab</code> (the system crontab). Because of the
        system crontab, there is usually no need to create a user crontab
        for <code class="systemitem">root</code>.</p></div><p>Let us take a look at the <code class="filename">/etc/crontab</code> file
      (the system crontab):</p><pre class="programlisting"># /etc/crontab - root's crontab for FreeBSD
#
# $FreeBSD: src/etc/crontab,v 1.32 2002/11/22 16:13:39 tom Exp $
# <a id="co-comments"></a><span><img src="./imagelib/callouts/1.png" alt="1" border="0" /></span>
#
SHELL=/bin/sh
PATH=/etc:/bin:/sbin:/usr/bin:/usr/sbin <a id="co-env"></a><span><img src="./imagelib/callouts/2.png" alt="2" border="0" /></span>
HOME=/var/log
#
#
#minute	hour	mday	month	wday	who	command <a id="co-field-descr"></a><span><img src="./imagelib/callouts/3.png" alt="3" border="0" /></span>
#
#
*/5	*	*	*	*	root	/usr/libexec/atrun <a id="co-main"></a><span><img src="./imagelib/callouts/4.png" alt="4" border="0" /></span>
</pre><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#co-comments"><span><img src="./imagelib/callouts/1.png" alt="1" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Like most FreeBSD configuration files, the <code class="literal">#</code>
	  character represents a comment.  A comment can be placed in
	  the file as a reminder of what and why a desired action is performed.
	  Comments cannot be on the same line as a command or else they will
	  be interpreted as part of the command; they must be on a new line.
	  Blank lines are ignored.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-env"><span><img src="./imagelib/callouts/2.png" alt="2" border="0" /></span></a> </p></td><td valign="top" align="left"><p>First, the environment must be defined.  The equals
	  (<code class="literal">=</code>) character is used to define any environment
	  settings, as with this example where it is used for the <code class="envar">SHELL</code>,
	  <code class="envar">PATH</code>, and <code class="envar">HOME</code> options.  If the shell line is
	  omitted, <code class="command">cron</code> will use the default, which is
	  <code class="command">sh</code>.  If the <code class="envar">PATH</code> variable is
	  omitted, no default will be used and file locations will need to
	  be absolute.  If <code class="envar">HOME</code> is omitted, <code class="command">cron</code>
	  will use the invoking users home directory.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-field-descr"><span><img src="./imagelib/callouts/3.png" alt="3" border="0" /></span></a> </p></td><td valign="top" align="left"><p>This line defines a total of seven fields.  Listed here are the
	  values <code class="literal">minute</code>, <code class="literal">hour</code>,
	  <code class="literal">mday</code>, <code class="literal">month</code>, <code class="literal">wday</code>,
	  <code class="literal">who</code>, and <code class="literal">command</code>.  These
	  are almost all self explanatory.  <code class="literal">minute</code> is the time in minutes the
	  command will be run.  <code class="literal">hour</code> is similar to the <code class="literal">minute</code> option, just in
	  hours.  <code class="literal">mday</code> stands for day of the month.  <code class="literal">month</code> is similar to <code class="literal">hour</code>
	  and <code class="literal">minute</code>, as it designates the month.  The <code class="literal">wday</code> option stands for
	  day of the week.  All these fields must be numeric values, and follow
	  the twenty-four hour clock.  The <code class="literal">who</code> field is special,
	  and only exists in the <code class="filename">/etc/crontab</code> file.
	  This field specifies which user the command should be run as.
	  When a user installs his or her <code class="filename">crontab</code> file, they
	  will not have this option. Finally, the <code class="literal">command</code> option is listed.
	  This is the last field, so naturally it should designate the command
	  to be executed.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-main"><span><img src="./imagelib/callouts/4.png" alt="4" border="0" /></span></a> </p></td><td valign="top" align="left"><p>This last line will define the values discussed above.  Notice here
	  we have a <code class="literal">*/5</code> listing, followed by several more
	  <code class="literal">*</code> characters.  These <code class="literal">*</code> characters
	  mean <span class="quote">"<span class="quote">first-last</span>"</span>, and can be interpreted as
	  <span class="emphasis"><em>every</em></span> time.  So, judging by this line,
	  it is apparent that the <code class="command">atrun</code> command is to be invoked by
	  <code class="systemitem">root</code> every five minutes regardless of what
	  day or month it is.  For more information on the <code class="command">atrun</code> command,
	  see the <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=atrun&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">atrun</span>(8)</span></a> manual page.</p><p>Commands can have any number of flags passed to them; however,
	  commands which extend to multiple lines need to be broken with the backslash
	  <span class="quote">"<span class="quote">\</span>"</span> continuation character.</p></td></tr></table></div><p>This is the basic set up for every
      <code class="filename">crontab</code> file, although there is one thing
      different about this one.  Field number six, where we specified
      the username, only exists in the system
      <code class="filename">/etc/crontab</code> file.  This field should be
      omitted for individual user <code class="filename">crontab</code>
      files.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="configtuning-installcrontab"></a>11.6.1. Installing a Crontab</h3></div></div></div><div xmlns="" class="important"><h3 class="admontitle">Wa¿ne: </h3><p xmlns="http://www.w3.org/1999/xhtml">You must not use the procedure described here to
        edit/install the system crontab. Simply use your favorite
        editor: the <code class="command">cron</code> utility will notice that the file
        has changed and immediately begin using the updated version.
        See
        <a class="link" href="../../../../doc/pl_PL.ISO8859-2/books/faq/admin.html#ROOT-NOT-FOUND-CRON-ERRORS" target="_top">
        this FAQ entry </a> for more information.</p></div><p>To install a freshly written user
	<code class="filename">crontab</code>, first use your favorite editor to create
	a file in the proper format, and then use the
	<code class="command">crontab</code> utility.  The most common usage
	is:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>crontab crontab-file</code></strong></pre><p>In this example, <code class="filename">crontab-file</code> is the filename
    of a <code class="filename">crontab</code> that was previously created.</p><p>There is also an option to list installed
	<code class="filename">crontab</code> files: just pass the
	<code class="option">-l</code> option to <code class="command">crontab</code> and look
	over the output.</p><p>For users who wish to begin their own crontab file from scratch,
	without the use of a template, the <code class="command">crontab -e</code>
	option is available.  This will invoke the selected editor
	with an empty file.  When the file is saved, it will be
	automatically installed by the <code class="command">crontab</code> command.
      </p><p>If you later want to remove your user <code class="filename">crontab</code>
	completely, use <code class="command">crontab</code> with the <code class="option">-r</code>
	option.
      </p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="configtuning-starting-services.html">Poprzedni</a> </td><td width="20%" align="center"><a accesskey="u" href="config-tuning.html">Pocz±tek rozdzia³u</a></td><td width="40%" align="right"> <a accesskey="n" href="configtuning-rcd.html">Nastêpny</a></td></tr><tr><td width="40%" align="left" valign="top">11.5. Starting Services </td><td width="20%" align="center"><a accesskey="h" href="index.html">Spis tre¶ci</a></td><td width="40%" align="right" valign="top"> 11.7. Using rc under FreeBSD</td></tr></table></div><p xmlns="" align="center"><small>All FreeBSD documents are available for download
    at <a href="http://ftp.FreeBSD.org/pub/FreeBSD/doc/">http://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="" align="center"><small>Questions that are not answered by the
    <a href="http://www.FreeBSD.org/docs.html">documentation</a> may be
    sent to &lt;<a href="mailto:freebsd-questions@FreeBSD.org">freebsd-questions@FreeBSD.org</a>&gt;.<br />
    Send questions about this document to &lt;<a href="mailto:freebsd-doc@FreeBSD.org">freebsd-doc@FreeBSD.org</a>&gt;.</small></p></body></html>