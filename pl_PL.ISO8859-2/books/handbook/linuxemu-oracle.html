<?xml version="1.0" encoding="iso-8859-2" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-2" /><title>10.6. Installing Oracle(R)</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Podrêcznik FreeBSD" /><link rel="up" href="linuxemu.html" title="Rozdzia³ 10. Linux Binary Compatibility" /><link rel="prev" href="linuxemu-matlab.html" title="10.5. Installing MATLAB(R)" /><link rel="next" href="sapr3.html" title="10.7. Installing SAP(R) R/3(R)" /><link rel="copyright" href="legalnotice.html" title="Informacja Prawna" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">10.6. Installing <span class="trademark">Oracle</span>(R)</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="linuxemu-matlab.html">Poprzedni</a> </td><th width="60%" align="center">Rozdzia³ 10. Linux Binary Compatibility</th><td width="20%" align="right"> <a accesskey="n" href="sapr3.html">Nastêpny</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="linuxemu-oracle"></a>10.6. Installing <span class="trademark">Oracle</span>(R)</h2></div><div><span class="authorgroup">Contributed by <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Marcel</span> <span class="surname">Moolenaar</span></span>. </span></div></div></div><a id="idp83027408" class="indexterm"></a><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp83028688"></a>10.6.1. Preface</h3></div></div></div><p>This document describes the process of installing <span class="application"><span class="trademark">Oracle</span>(R) 8.0.5</span> and
	<span class="application"><span class="trademark">Oracle</span>(R) 8.0.5.1 Enterprise Edition</span> for Linux onto a FreeBSD
	machine.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp83035600"></a>10.6.2. Installing the Linux Environment</h3></div></div></div><p>Make sure you have both <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/emulators/linux_base/pkg-descr">emulators/linux_base</a> and
	<a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/devel/linux_devtools/pkg-descr">devel/linux_devtools</a> from the Ports Collection
	installed.  If you run into difficulties with these ports,
	you may have to use
	the packages or older versions available in the Ports Collection.</p><p>If you want to run the intelligent agent, you will
	also need to install the Red Hat Tcl package:
	<code class="filename">tcl-8.0.3-20.i386.rpm</code>.  The general command
	for installing packages with the official <span class="application">RPM</span> port (<a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/archivers/rpm/pkg-descr">archivers/rpm</a>) is:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>rpm -i --ignoreos --root /compat/linux --dbpath /var/lib/rpm package</code></strong></pre><p>Installation of the <em class="replaceable"><code>package</code></em> should not generate any errors.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp83040720"></a>10.6.3. Creating the <span class="trademark">Oracle</span>(R) Environment</h3></div></div></div><p>Before you can install <span class="application"><span class="trademark">Oracle</span>(R)</span>, you need to set up a proper
	environment.  This document only describes what to do
	<span class="emphasis"><em>specially</em></span> to run <span class="application"><span class="trademark">Oracle</span>(R)</span> for Linux on FreeBSD, not
	what has been described in the <span class="application"><span class="trademark">Oracle</span>(R)</span> installation guide.</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="linuxemu-kernel-tuning"></a>10.6.3.1. Kernel Tuning</h4></div></div></div><a id="idp83049552" class="indexterm"></a><p>As described in the <span class="application"><span class="trademark">Oracle</span>(R)</span> installation guide, you need to set
	  the maximum size of shared memory.  Do not use
	  <code class="literal">SHMMAX</code> under FreeBSD. <code class="literal">SHMMAX</code>
	  is merely calculated out of <code class="literal">SHMMAXPGS</code> and
	  <code class="literal">PGSIZE</code>.  Therefore define
	  <code class="literal">SHMMAXPGS</code>.  All other options can be used as
	  described in the guide.  For example:</p><pre class="programlisting">options SHMMAXPGS=10000
options SHMMNI=100
options SHMSEG=10
options SEMMNS=200
options SEMMNI=70
options SEMMSL=61</pre><p>Set these options to suit your intended use of <span class="application"><span class="trademark">Oracle</span>(R)</span>.</p><p>Also, make sure you have the following options in your kernel
	  configuration file:</p><pre class="programlisting">options SYSVSHM #SysV shared memory
options SYSVSEM #SysV semaphores
options SYSVMSG #SysV interprocess communication</pre></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="linuxemu-oracle-account"></a>10.6.3.2. <span class="trademark">Oracle</span>(R) Account</h4></div></div></div><p>Create an <code class="systemitem">oracle</code> account just as you would create any other
	  account. The  <code class="systemitem">oracle</code> account is special only that you need to give
	  it a Linux shell.  Add <code class="literal">/compat/linux/bin/bash</code> to
	  <code class="filename">/etc/shells</code> and set the shell for the <code class="systemitem">oracle</code>
	  account to <code class="filename">/compat/linux/bin/bash</code>.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="linuxemu-environment"></a>10.6.3.3. Environment</h4></div></div></div><p>Besides the normal <span class="application"><span class="trademark">Oracle</span>(R)</span> variables, such as
	  <code class="envar">ORACLE_HOME</code> and <code class="envar">ORACLE_SID</code> you must
	  set the following environment variables:</p><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Variable</th><th>Value</th></tr></thead><tbody><tr><td><code class="envar">LD_LIBRARY_PATH</code></td><td><code class="literal">$ORACLE_HOME/lib</code></td></tr><tr><td><code class="envar">CLASSPATH</code></td><td><code class="literal">$ORACLE_HOME/jdbc/lib/classes111.zip</code></td></tr><tr><td><code class="envar">PATH</code></td><td><code class="literal">/compat/linux/bin
/compat/linux/sbin
/compat/linux/usr/bin
/compat/linux/usr/sbin
/bin
/sbin
/usr/bin
/usr/sbin
/usr/local/bin
$ORACLE_HOME/bin</code></td></tr></tbody></table></div><p>It is advised to set all the environment variables in
	  <code class="filename">.profile</code>.  A complete example is:</p><pre class="programlisting">ORACLE_BASE=/oracle; export ORACLE_BASE
ORACLE_HOME=/oracle; export ORACLE_HOME
LD_LIBRARY_PATH=$ORACLE_HOME/lib
export LD_LIBRARY_PATH
ORACLE_SID=ORCL; export ORACLE_SID
ORACLE_TERM=386x; export ORACLE_TERM
CLASSPATH=$ORACLE_HOME/jdbc/lib/classes111.zip
export CLASSPATH
PATH=/compat/linux/bin:/compat/linux/sbin:/compat/linux/usr/bin
PATH=$PATH:/compat/linux/usr/sbin:/bin:/sbin:/usr/bin:/usr/sbin
PATH=$PATH:/usr/local/bin:$ORACLE_HOME/bin
export PATH</pre></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp83076432"></a>10.6.4. Installing <span class="trademark">Oracle</span>(R)</h3></div></div></div><p>Due to a slight inconsistency in the Linux emulator, you need to
	create a directory named <code class="filename">.oracle</code> in
	<code class="filename">/var/tmp</code> before you start the installer.
	Let it be owned by the <code class="systemitem">oracle</code> user.  You
	should be able to install <span class="application"><span class="trademark">Oracle</span>(R)</span> without any problems.  If you have
	problems, check your <span class="application"><span class="trademark">Oracle</span>(R)</span> distribution and/or configuration first!
	After you have installed <span class="application"><span class="trademark">Oracle</span>(R)</span>, apply the patches described in the
	next two subsections.</p><p>A frequent problem is that the TCP protocol adapter is not
	installed right. As a consequence, you cannot start any TCP listeners.
	The following actions help solve this problem:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cd $ORACLE_HOME/network/lib</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>make -f ins_network.mk ntcontab.o</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>cd $ORACLE_HOME/lib</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>ar r libnetwork.a ntcontab.o</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>cd $ORACLE_HOME/network/lib</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>make -f ins_network.mk install</code></strong></pre><p>Do not forget to run <code class="filename">root.sh</code> again!</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="linuxemu-patch-root"></a>10.6.4.1. Patching root.sh</h4></div></div></div><p>When installing <span class="application"><span class="trademark">Oracle</span>(R)</span>, some actions, which need to be performed
	  as <code class="systemitem">root</code>, are recorded in a shell script called
	  <code class="filename">root.sh</code>.  This script is
	  written in the <code class="filename">orainst</code> directory.  Apply the
	  following patch to <code class="filename">root.sh</code>, to have it use to proper location of
	  <code class="command">chown</code> or alternatively run the script under a
	  Linux native shell.</p><pre class="programlisting">*** orainst/root.sh.orig Tue Oct 6 21:57:33 1998
--- orainst/root.sh Mon Dec 28 15:58:53 1998
***************
*** 31,37 ****
# This is the default value for CHOWN
# It will redefined later in this script for those ports
# which have it conditionally defined in ss_install.h
! CHOWN=/bin/chown
#
# Define variables to be used in this script
--- 31,37 ----
# This is the default value for CHOWN
# It will redefined later in this script for those ports
# which have it conditionally defined in ss_install.h
! CHOWN=/usr/sbin/chown
#
# Define variables to be used in this script</pre><p>When you do not install <span class="application"><span class="trademark">Oracle</span>(R)</span> from CD, you can patch the source
	  for <code class="filename">root.sh</code>.  It is called
	  <code class="filename">rthd.sh</code> and is located in the
	  <code class="filename">orainst</code> directory in the source tree.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="linuxemu-patch-tcl"></a>10.6.4.2. Patching genclntsh</h4></div></div></div><p>The script <code class="command">genclntsh</code> is used to create
	  a single shared client
	  library.  It is used when building the demos.  Apply the following
	  patch to comment out the definition of <code class="envar">PATH</code>:</p><pre class="programlisting">*** bin/genclntsh.orig Wed Sep 30 07:37:19 1998
--- bin/genclntsh Tue Dec 22 15:36:49 1998
***************
*** 32,38 ****
#
# Explicit path to ensure that we're using the correct commands
#PATH=/usr/bin:/usr/ccs/bin export PATH
! PATH=/usr/local/bin:/bin:/usr/bin:/usr/X11R6/bin export PATH
#
# each product MUST provide a $PRODUCT/admin/shrept.lst
--- 32,38 ----
#
# Explicit path to ensure that we're using the correct commands
#PATH=/usr/bin:/usr/ccs/bin export PATH
! #PATH=/usr/local/bin:/bin:/usr/bin:/usr/X11R6/bin export PATH
#
# each product MUST provide a $PRODUCT/admin/shrept.lst</pre></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp83108560"></a>10.6.5. Running <span class="trademark">Oracle</span>(R)</h3></div></div></div><p>When you have followed the instructions, you should be able to run
	<span class="application"><span class="trademark">Oracle</span>(R)</span> as if it was run on Linux
	itself.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="linuxemu-matlab.html">Poprzedni</a> </td><td width="20%" align="center"><a accesskey="u" href="linuxemu.html">Pocz±tek rozdzia³u</a></td><td width="40%" align="right"> <a accesskey="n" href="sapr3.html">Nastêpny</a></td></tr><tr><td width="40%" align="left" valign="top">10.5. Installing <span class="trademark">MATLAB</span>(R) </td><td width="20%" align="center"><a accesskey="h" href="index.html">Spis tre¶ci</a></td><td width="40%" align="right" valign="top"> 10.7. Installing <span class="trademark">SAP</span>(R) <span class="trademark">R/3</span>(R)</td></tr></table></div><p xmlns="" align="center"><small>All FreeBSD documents are available for download
    at <a href="http://ftp.FreeBSD.org/pub/FreeBSD/doc/">http://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="" align="center"><small>Questions that are not answered by the
    <a href="http://www.FreeBSD.org/docs.html">documentation</a> may be
    sent to &lt;<a href="mailto:freebsd-questions@FreeBSD.org">freebsd-questions@FreeBSD.org</a>&gt;.<br />
    Send questions about this document to &lt;<a href="mailto:freebsd-doc@FreeBSD.org">freebsd-doc@FreeBSD.org</a>&gt;.</small></p></body></html>