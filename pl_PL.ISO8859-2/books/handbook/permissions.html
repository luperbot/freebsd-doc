<?xml version="1.0" encoding="iso-8859-2" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-2" /><title>3.3. Prawa dostêpu</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Podrêcznik FreeBSD" /><link rel="up" href="basics.html" title="Rozdzia³ 3. Podstawy Uniksa" /><link rel="prev" href="consoles.html" title="3.2. Konsole wirtualne i terminale" /><link rel="next" href="dirstructure.html" title="3.4. Struktura katalogów" /><link rel="copyright" href="legalnotice.html" title="Informacja Prawna" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">3.3. Prawa dostêpu</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="consoles.html">Poprzedni</a> </td><th width="60%" align="center">Rozdzia³ 3. Podstawy Uniksa</th><td width="20%" align="right"> <a accesskey="n" href="dirstructure.html">Nastêpny</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="permissions"></a>3.3. Prawa dostêpu</h2></div></div></div><a id="idp77733456" class="indexterm"></a><p>FreeBSD, bêd±c bezpo¶rednim potomkiem systemu <span class="trademark">UNIX</span>(R) BSD,
      oparte jest na kilku kluczowych za³o¿eniach Uniksa. Najbardziej
      widocznym z nich jest fakt, ¿e FreeBSD jest systemem wielou¿ytkownikowym
      - potrafi jednocze¶nie obs³ugiwaæ wielu u¿ytkowników pracuj±cych
      niezale¿nie od siebie. System jest odpowiedzialny za w³a¶ciwe zarz±dzanie
      odwo³aniami do sprzêtu, pamiêci i czasu procesora, po równo dla ka¿dego
      z u¿ytkowników.</p><p>Ze wzglêdu na obs³ugê wielu u¿ytkowników, zasoby, którymi
      zarz±dza system, maj± przypisane prawa dostêpu okre¶laj±ce, kto
      mo¿e czytaæ, zapisywaæ i uruchamiaæ dany zasób. Prawa dostêpu
      przechowywane s± w postaci dwóch oktetów podzielonych na trzy czê¶ci,
      z których pierwsza odnosi sie do w³a¶ciciela pliku, druga do
      grupy posiadaj±cej plik, a trzecia do innych u¿ytkowników.
      W postaci numerycznej zapisuje siê to nastêpuj±co:</p><a id="idp77735376" class="indexterm"></a><a id="idp77735888" class="indexterm"></a><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /><col /></colgroup><thead><tr><th>Warto¶æ</th><th>Uprawnienia</th><th>Symbol</th></tr></thead><tbody><tr><td>0</td><td>Odczyt: nie, zapis: nie, wykonywanie: nie</td><td><code class="literal">---</code></td></tr><tr><td>1</td><td>Odczyt: nie, zapis: nie, wykonywanie: tak</td><td><code class="literal">--x</code></td></tr><tr><td>2</td><td>Odczyt: nie, zapis: tak, wykonywanie: nie</td><td><code class="literal">-w-</code></td></tr><tr><td>3</td><td>Odczyt: nie, zapis: tak, wykonywanie: tak</td><td><code class="literal">-wx</code></td></tr><tr><td>4</td><td>Odczyt: tak, zapis: nie, wykonywanie: nie</td><td><code class="literal">r--</code></td></tr><tr><td>5</td><td>Odczyt: tak, zapis: nie, wykonywanie: tak</td><td><code class="literal">r-x</code></td></tr><tr><td>6</td><td>Odczyt: tak, zapis: tak, wykonywanie: nie</td><td><code class="literal">rw-</code></td></tr><tr><td>7</td><td>Odczyt: tak, zapis: tak, wykonywanie: tak</td><td><code class="literal">rwx</code></td></tr></tbody></table></div><a id="idp77757776" class="indexterm"></a><a id="idp77758672" class="indexterm"></a><p>Korzystaj±c z polecenia <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ls&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ls</span>(1)</span></a> mo¿emy pos³u¿yæ siê opcj±
      <code class="option">-l</code>, by zawarto¶æ katalogu zosta³a pokazana
      w formie szczegó³owej, z uwzglêdnieniem kolumny zawieraj±cej
      informacjê o prawach dostêpu do pliku dla jego w³a¶ciciela,
      grupy, oraz wszystkich innych. Przyk³adowy wynik polecenia
      <code class="command">ls -l</code>:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>ls -l</code></strong>
total 530
-rw-r--r--  1 root  wheel     512 Sep  5 12:31 myfile
-rw-r--r--  1 root  wheel     512 Sep  5 12:31 otherfile
-rw-r--r--  1 root  wheel    7680 Sep  5 12:31 email.txt
...</pre><p>Pierwsza kolumna listy plików po wykonaniu polecenia
      <code class="command">ls -l</code> ma nastêpuj±c± postaæ:</p><pre class="screen">-rw-r--r--</pre><p>Pierwszy znak (od lewej) okre¶la, czy plik jest
      zwyczajnym plikiem, katalogiem, urz±dzeniem znakowym,
      gniazdem, czy jakimkolwiek innym urz±dzeniem pseudo-plikowym.
      Widoczny w przyk³adzie znak <code class="literal">-</code> oznacza
      zwyk³y plik. Kolejne trzy znaki, w przyk³adzie s± to
      <code class="literal">rw-</code>, reprezentuj± prawa dostêpu, którymi
      dysponuje w³a¶ciciel pliku. Nastêpne trzy znaki <code class="literal">r--</code>,
      okre¶laj± prawa dostêpu grupy, do której nale¿y plik. Ostatnia trójka
      <code class="literal">r--</code>, oznacza prawa dostêpu dla innych. Minus
      oznacza brak jednego z praw dostêpu. Plik przedstawiony w
      przyk³adzie mo¿e byæ wiêc odczytywany i zapisywany przez swojego
      w³a¶ciciela, oraz jedynie odczytywany przez grupê i innych.
      Zgodnie z powy¿sz± tabel±, prawa dostêpu do tego pliku maj±
      warto¶æ <code class="literal">644</code>, przy czym ka¿da cyfra reprezentuje
      trzy czê¶ci uprawnieñ.</p><p>W porz±dku, ale w jaki sposób system kontroluje dostêp
      do urz±dzeñ? Zasadniczo wiêkszo¶æ urz±dzeñ jest traktowana
      przez FreeBSD jak pliki, które mog± byæ otwierane, odczytywane
      i zapisywane podobnie jak wszystkie inne pliki. Specjalne pliki
      urz±dzeñ przechowywane s± w katalogu
      <code class="filename">/dev</code>.</p><p>Równie¿ katalogi traktowane s± jak pliki - te¿ s±
      im przypisywane prawa odczytu, zapisu i wykonania. Bit wykonania
      katalogu ma nieco inne znaczenie ni¿ w przypadku pliku.
      Posiadanie prawa wykonania katalogu oznacza, ¿e mo¿na do niego
      wej¶æ, czyli pos³u¿yæ siê poleceniem <span class="quote">"<span class="quote">cd</span>"</span>.
      Ponadto umo¿liwia to dostêp do zawartych w katalogu plików
      o znanych nazwach (oczywi¶cie obowi±zuj± tak¿e indywidualne
      prawa dostêpu do ka¿dego z plików).</p><p>W szczególno¶ci, wy¶wietlenie listy plików katalogu wymaga
      posiadania prawa do jego odczytu, natomiast do usuniêcia pliku
      o znanej nazwie potrzebne bêd± prawa do zapisu <span class="emphasis"><em>i</em></span>
      wykonania dla katalogu, w którym ów plik siê znajduje.</p><p>Jest jeszcze kilka innych bitów uprawnieñ, jednak s± one
      stosowane w specjalnych przypadkach, np. do w³±czenia atrybutu
      SUID, lub <span class="quote">"<span class="quote">lepkiego</span>"</span> bitu dla katlogu. Wiêcej
      informacji o prawach dostêpu i o ich przydzielaniu mo¿na
      znale¼æ w dokumentacji systemowej polecenia <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chmod&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">chmod</span>(1)</span></a>.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp77773776"></a>3.3.1. Uprawnienia symboliczne</h3></div><div><span class="authorgroup">Napisa³ <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Tom</span> <span class="surname">Rhodes</span></span>. </span></div><div><span class="authorgroup">T³umaczy³ <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Cezary</span> <span class="surname">Morga</span></span>. </span></div></div></div><a id="idp77810640" class="indexterm"></a><p>Uprawnienia symboliczne, okre¶lane równie¿ jako wyra¿enia symboliczne,
        przy okre¶laniu praw dostêpu do plików lub katalogów wykorzystuj±
        litery w miejsce warto¶ci liczbowych. Wyra¿enia symboliczne wykorzystuj±
        sk³adniê: (kto) (akcja) (uprawnienia), przy czym dostêpne s± nastêpuj±ce
        warto¶ci:</p><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /><col /></colgroup><thead><tr><th>Opcja</th><th>Litera</th><th>Znaczenie</th></tr></thead><tbody><tr><td>(kto)</td><td>u</td><td>U¿ytkownik (w³a¶ciciel)</td></tr><tr><td>(kto)</td><td>g</td><td>Grupa</td></tr><tr><td>(kto)</td><td>o</td><td>Inni</td></tr><tr><td>(kto)</td><td>a</td><td>Wszyscy (<span class="quote">"<span class="quote">¶wiat</span>"</span>)</td></tr><tr><td>(akcja)</td><td>+</td><td>Dodanie uprawnieñ</td></tr><tr><td>(akcja)</td><td>-</td><td>Usuniêcie uprawnieñ</td></tr><tr><td>(akcja)</td><td>=</td><td>Ustawienie uprawnieñ</td></tr><tr><td>(uprawnienia)</td><td>r</td><td>Odczyt</td></tr><tr><td>(uprawnienia)</td><td>w</td><td>Zapis</td></tr><tr><td>(uprawnienia)</td><td>x</td><td>Wykonywanie</td></tr><tr><td>(uprawnienia)</td><td>t</td><td>Bit <span class="quote">"<span class="quote">lepki</span>"</span></td></tr><tr><td>(uprawnienia)</td><td>s</td><td>Ustawienie UID lub GID</td></tr></tbody></table></div><p>Do ustawienia tych warto¶ci, podobnie jak w przypadku
      warto¶ci liczbowych, wykorzystywane jest polecenie
      <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chmod&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">chmod</span>(1)</span></a>. Przyk³adowo, by zablokowaæ dostêp
      innych u¿ytkowników do <em class="replaceable"><code>PLIKU</code></em>
      nale¿y wpisaæ:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>chmod go= PLIK</code></strong></pre><p>Gdy musimy wykonaæ wiêcej ni¿ jedn± zmianê uprawnieñ
      parametry nale¿y oddzieliæ przecinkami. Na przyk³ad,
      poni¿sze polecenie usunie prawa zapisu do
      <em class="replaceable"><code>PLIKU</code></em> grupie i innym.
      Nastêpnie doda wszystkim prawo wykonywania:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>chmod go-w,a+x PLIK</code></strong></pre></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp77847376"></a>3.3.2. Flagi plików we FreeBSD</h3></div><div><span class="authorgroup">Napisa³ <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Tom</span> <span class="surname">Rhodes</span></span>. </span></div><div><span class="authorgroup">T³umaczy³ <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Cezary</span> <span class="surname">Morga</span></span>. </span></div></div></div><p>Dodatkowo, oprócz opisanych wy¿ej praw dostêpu,
        FreeBSD wykorzystuje równie¿ <span class="quote">"<span class="quote">flagi plików</span>"</span>.
        Flagi te umo¿liwiaj± wprowadzenie dodatkowego poziomu
        ochrony i kontroli plików. Nie dotycz± natomiast
        katalogów.</p><p>Dziêki zwiêkszonemu poziomowi kontroli plików
        system mo¿e zagwarantowaæ, ¿e w niektórych sytuacjach
        nawet u¿ytkownik <code class="systemitem">root</code>  nie bêdzie
        móg³ usun±æ b±d¼ zmodyfikowaæ plików.</p><p>Zmiany flag plików dokonuje siê poleceniem <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chflags&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">chflags</span>(1)</span></a>.
        Przyk³adowo, by plikowi <code class="filename">plik1</code> nadaæ flagê
        nieusuwalno¶ci nale¿y wydaæ poni¿sze polecenie:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>chflags sunlink plik1</code></strong></pre><p>Natomiast, by usun±æ flagê nieusuwalno¶ci
        wystarczy wprowadziæ takie samo polecenie dodaj±c
        <span class="quote">"<span class="quote">no</span>"</span> przed <code class="option">sunlink</code>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>chflags nosunlink plik1</code></strong></pre><p>By wy¶wietliæ flagi danego pliku wystarczy wpisaæ
        polecenie <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ls&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ls</span>(1)</span></a> z parametrem <code class="option">-lo</code>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ls -lo plik1
	</code></strong></pre><p>Wynik powinien byæ zbli¿ony do poni¿szego:</p><pre class="programlisting">-rw-r--r--  1 trhodes  trhodes  sunlnk 0 Mar  1 05:54 plik1</pre><p>Niektóre z flag mog± byæ dodawane i usuwane jedynie przez
        u¿ytkownika <code class="systemitem">root</code>, podczas gdy inne mog±
        byæ ustawiane równie¿ przez w³a¶ciciela pliku. Zaleca siê aby
        administratorzy przeczytali strony podrêcznika systemowego
        <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chflags&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">chflags</span>(1)</span></a> oraz <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chflags&amp;sektion=2"><span class="citerefentry"><span class="refentrytitle">chflags</span>(2)</span></a>.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="consoles.html">Poprzedni</a> </td><td width="20%" align="center"><a accesskey="u" href="basics.html">Pocz±tek rozdzia³u</a></td><td width="40%" align="right"> <a accesskey="n" href="dirstructure.html">Nastêpny</a></td></tr><tr><td width="40%" align="left" valign="top">3.2. Konsole wirtualne i terminale </td><td width="20%" align="center"><a accesskey="h" href="index.html">Spis tre¶ci</a></td><td width="40%" align="right" valign="top"> 3.4. Struktura katalogów</td></tr></table></div><p xmlns="" align="center"><small>All FreeBSD documents are available for download
    at <a href="http://ftp.FreeBSD.org/pub/FreeBSD/doc/">http://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="" align="center"><small>Questions that are not answered by the
    <a href="http://www.FreeBSD.org/docs.html">documentation</a> may be
    sent to &lt;<a href="mailto:freebsd-questions@FreeBSD.org">freebsd-questions@FreeBSD.org</a>&gt;.<br />
    Send questions about this document to &lt;<a href="mailto:freebsd-doc@FreeBSD.org">freebsd-doc@FreeBSD.org</a>&gt;.</small></p></body></html>