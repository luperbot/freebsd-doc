<?xml version="1.0" encoding="iso-8859-2" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-2" /><title>13.6. Modyfikacja ustawieñ kont</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Podrêcznik FreeBSD" /><link rel="up" href="users.html" title="Rozdzia³ 13. U¿ytkownicy i podstawy zarz±dzania kontami" /><link rel="prev" href="users-user.html" title="13.5. Konta u¿ytkowników" /><link rel="next" href="users-limiting.html" title="13.7. Ograniczanie u¿ytkowników" /><link rel="copyright" href="legalnotice.html" title="Informacja Prawna" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">13.6. Modyfikacja ustawieñ kont</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="users-user.html">Poprzedni</a> </td><th width="60%" align="center">Rozdzia³ 13. U¿ytkownicy i podstawy zarz±dzania kontami</th><td width="20%" align="right"> <a accesskey="n" href="users-limiting.html">Nastêpny</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="users-modifying"></a>13.6. Modyfikacja ustawieñ kont</h2></div></div></div><a id="idp85348176" class="indexterm"></a><p>W ¶rodowisku systemów <span class="trademark">UNIX</span>(R) dostêpnych jest szeroka gama ró¿norodnych
      poleceñ do manipulacji kontami u¿ytkowników.  Najczê¶ciej wykorzystywane
      zosta³y omówione poni¿ej, wraz z przyk³adami zastosowania.</p><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Polecenie</th><th>Opis</th></tr></thead><tbody><tr><td><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=adduser&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">adduser</span>(8)</span></a></td><td>Zalecane pogram wiersza poleceñdo dodawania
              nowych u¿ytkowników.</td></tr><tr><td><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=rmuser&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">rmuser</span>(8)</span></a></td><td>Zalecany program wiersza poleceñ do usuwania
              u¿ytkowników.</td></tr><tr><td><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chpass&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">chpass</span>(1)</span></a></td><td>Elastyczne narzêdzie do zmiany informacji w bazie
              danych u¿ytkowników.</td></tr><tr><td><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=passwd&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">passwd</span>(1)</span></a></td><td>Proste polecenie wiersza poleceñ do zmiany hase³
              u¿ytkowników.</td></tr><tr><td><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pw&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">pw</span>(8)</span></a></td><td>Potê¿ne i elastyczne narzêdzie do zmiany wszystkich
              parametrów kont u¿ytkowników.</td></tr></tbody></table></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="users-adduser"></a>13.6.1. <code class="command">adduser</code></h3></div></div></div><a id="idp85363536" class="indexterm"></a><a id="idp85364688" class="indexterm"></a><a id="idp85365584" class="indexterm"></a><a id="idp85366480" class="indexterm"></a><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=adduser&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">adduser</span>(8)</span></a> jest prostym programem s³u¿±cym do dodawania
	nowych u¿ytkowników.  Tworzy ono odpowiednie wpisy w plikach systemowych
	<code class="filename">passwd</code> i <code class="filename">group</code>,
	tworzy katalog macierzysty nowego u¿ytkownika oraz kopiuje
	z <code class="filename">/usr/share/skel</code> domy¶lne pliki
        konfiguracyjne (<span class="quote">"<span class="quote">dotfiles</span>"</span>).  Potrafi równie¿
        wys³aæ nowemu u¿ytkownikowi wiadomo¶æ powitaln±.</p><div xmlns="" class="note"><h3 class="admontitle">Uwaga: </h3><p xmlns="http://www.w3.org/1999/xhtml">Przy wprowadzaniu has³a na ekranie nie s± wy¶wietlane
          ¿adne znaki, nawet gwiazdki.  Dlatego w³a¶nie w tym momencie
          nale¿y zwróciæ szczególn± uwagê, by siê nie pomyliæ.</p></div><div class="example"><a id="idp85378896"></a><div class="example-title">Przyk³ad 13.1. Dodawanie u¿ytkownika we FreeBSD</div><div class="example-contents"><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>adduser</code></strong>
Username: <strong class="userinput"><code>jru</code></strong>
Full name: <strong class="userinput"><code>J. Random User</code></strong>
Uid (Leave empty for default):
Login group [jru]:
Login group is jru. Invite jru into other groups? []: <strong class="userinput"><code>wheel</code></strong>
Login class [default]:
Shell (sh csh tcsh zsh nologin) [sh]: <strong class="userinput"><code>zsh</code></strong>
Home directory [/home/jru]:
Use password-based authentication? [yes]:
Use an empty password? (yes/no) [no]:
Use a random password? (yes/no) [no]:
Enter password:
Enter password again:
Lock out the account after creation? [no]:
Username   : jru
Password   : ****
Full Name  : J. Random User
Uid        : 1001
Class      :
Groups     : jru wheel
Home       : /home/jru
Shell      : /usr/local/bin/zsh
Locked     : no
OK? (yes/no): <strong class="userinput"><code>yes</code></strong>
adduser: INFO: Successfully added (jru) to the user database.
Add another user? (yes/no): <strong class="userinput"><code>no</code></strong>
Goodbye!
<code class="prompt">#</code></pre></div></div><br class="example-break" /></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="users-rmuser"></a>13.6.2. <code class="command">rmuser</code></h3></div></div></div><a id="idp85384272" class="indexterm"></a><a id="idp85384912" class="indexterm"></a><p>By ca³kowicie usun±æ u¿ytkownika z systemu, mo¿emy
        skorzystaæ z <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=rmuser&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">rmuser</span>(8)</span></a>.  Narzêdzie te wykonuje
        nastêpuj±ce czynno¶ci:</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Usuwa wpisy u¿ytkownika w <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=crontab&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">crontab</span>(1)</span></a> (je¶li
	    jakie¶ s±).</p></li><li class="step"><p>Usuwa wszystkie prace <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=at&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">at</span>(1)</span></a> nale¿±ce do
            u¿ytkownika.</p></li><li class="step"><p>Niszczy wszystkie procesy u¿ytkownika.</p></li><li class="step"><p>Usuwa u¿ytkownika z lokalnego pliku hase³ w systemie.</p></li><li class="step"><p>Usuwa katalog macierzysty u¿ytkownika (je¶li jego w³a¶cicielem
	    jest dany u¿ytkownik).</p></li><li class="step"><p>Usuwa pocztê nale¿±c± do u¿ytkownika
	    z <code class="filename">/var/mail</code>.</p></li><li class="step"><p>Usuwa wszystkie pliki z systemów tymczasowych,
            np. <code class="filename">/tmp</code>, których w³a¶cicielem jest u¿ytkownik.</p></li><li class="step"><p>Ostatecznie, usuwa u¿ytkownika z wszystkich grup
            w <code class="filename">/etc/group</code>, do których nale¿y.

	    </p><div xmlns="" class="note"><h3 class="admontitle">Uwaga: </h3><p xmlns="http://www.w3.org/1999/xhtml">Je¶li po usuniêciu u¿ytkownika grupa pozostanie pusta
                a nazwa tej grupy jest taka sama jak nazwa u¿ytkownika,
                grupa jest równie¿ usuwana; dotyczy to przede wszystkim
		grup u¿ytkowników stworzonych przez <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=adduser&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">adduser</span>(8)</span></a>.</p></div><p>
	  </p></li></ol></div><p>Nie mo¿na wykorzystaæ <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=rmuser&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">rmuser</span>(8)</span></a> do usuniêcia konta
        superu¿ytkownika, gdy¿ prawie zawsze wskazuje to na masow±
        destrukcjê.</p><p>Domy¶lnie wykorzystywany jest tryb interaktywny, który stara
        upewniæ siê, ¿e wiemy co robimy.</p><div class="example"><a id="idp85399888"></a><div class="example-title">Przyk³ad 13.2. Tryb interaktywny <code class="command">rmuser</code></div><div class="example-contents"><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>rmuser jru</code></strong>
Matching password entry:
jru:*:1001:1001::0:0:J. Random User:/home/jru:/usr/local/bin/zsh
Is this the entry you wish to remove? <strong class="userinput"><code>y</code></strong>
Remove user's home directory (/home/jru)? <strong class="userinput"><code>y</code></strong>
Updating password file, updating databases, done.
Updating group file: trusted (removing group jru -- personal group is empty) done.
Removing user's incoming mail file /var/mail/jru: done.
Removing files belonging to jru from /tmp: done.
Removing files belonging to jru from /var/tmp: done.
Removing files belonging to jru from /var/tmp/vi.recover: done.
<code class="prompt">#</code></pre></div></div><br class="example-break" /></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="users-chpass"></a>13.6.3. <code class="command">chpass</code></h3></div></div></div><a id="idp85424592" class="indexterm"></a><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chpass&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">chpass</span>(1)</span></a> zmienia w bazie danych u¿ytkowników parametry konta,
	jak np. has³o, pow³okê czy inne szczegó³owe informacje.</p><p>Jedynie administrator systemu, jako superu¿ytkownik, mo¿e zmieniaæ
        parametry kont i has³a innych u¿ytkowników za pomoc±
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chpass&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">chpass</span>(1)</span></a>.</p><p>Je¶li nie podamy ¿adnych opcji b±d¼ jedynie nazwê u¿ytkownika,
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chpass&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">chpass</span>(1)</span></a> uruchomi edytor informacji o u¿ytkowniku.
	Po wyj¶ciu z edytora, baza danych u¿ytkowników zostanie aktualizowana.</p><div xmlns="" class="note"><h3 class="admontitle">Uwaga: </h3><p xmlns="http://www.w3.org/1999/xhtml">Je¶li nie jeste¶my superu¿ytkownikiem, przed opuszczeniem edytora
          zostaniemy zapytani o has³o.</p></div><div class="example"><a id="idp85429328"></a><div class="example-title">Przyk³ad 13.3. Tryb interaktywny <code class="command">chpass</code> superu¿ytkownika</div><div class="example-contents"><pre class="screen">#Changing user database information for jru.
Login: jru
Password: *
Uid [#]: 1001
Gid [# or name]: 1001
Change [month day year]:
Expire [month day year]:
Class:
Home directory: /home/jru
Shell: /usr/local/bin/zsh
Full Name: J. Random User
Office Location:
Office Phone:
Home Phone:
Other information:</pre></div></div><br class="example-break" /><p>Zwykli u¿ytkownicy mog± zmieniæ jedynie czê¶æ tych informacji i jedynie
        w³asnych kont.</p><div class="example"><a id="idp85431376"></a><div class="example-title">Przyk³ad 13.4. Tryb interaktywny <code class="command">chpass</code> zwyk³ego u¿ytkownika</div><div class="example-contents"><pre class="screen">#Changing user database information for jru.
Shell: /usr/local/bin/zsh
Full Name: J. Random User
Office Location:
Office Phone:
Home Phone:
Other information:</pre></div></div><br class="example-break" /><div xmlns="" class="note"><h3 class="admontitle">Uwaga: </h3><p xmlns="http://www.w3.org/1999/xhtml"><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chfn&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">chfn</span>(1)</span></a> i <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chsh&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">chsh</span>(1)</span></a> s± jedynie dowi±zaniami do
	  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chpass&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">chpass</span>(1)</span></a>, podobnie jak
	  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ypchpass&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ypchpass</span>(1)</span></a>,
	  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ypchfn&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ypchfn</span>(1)</span></a> i
	  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ypchsh&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ypchsh</span>(1)</span></a>.  Obs³uga NIS jest automatyczna, tak wiêc
	  dopisywanie <code class="literal">yp</code> przed poleceniem nie jest
	  potrzebne.  Je¶li jest to dla nas niezrozumia³e, nie martwmy siê,
	  <a class="xref" href="network-servers.html" title="Rozdzia³ 25. Network Servers">Rozdzia³ 25, <em>Network Servers</em></a> opisuje NIS szczegó³owo.</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="users-passwd"></a>13.6.4. <code class="command">passwd</code></h3></div></div></div><a id="idp85448400" class="indexterm"></a><a id="idp85449040" class="indexterm"></a><p>U¿ycie polecenia <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=passwd&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">passwd</span>(1)</span></a> jest typowym sposobem zmiany w³asnego
	has³a, b±d¼ has³a innego u¿ytkownika jako superu¿ytkownik.</p><div xmlns="" class="note"><h3 class="admontitle">Uwaga: </h3><p xmlns="http://www.w3.org/1999/xhtml">By unikn±æ przypadkowych b±d¼ nieuprawnionych zmian, nim bêdziemy
          mogli podaæ nowe has³o, musimy wpierw wpisaæ dotychczasowe.</p></div><div class="example"><a id="idp85452112"></a><div class="example-title">Przyk³ad 13.5. Zmiana w³asnego has³a</div><div class="example-contents"><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>passwd</code></strong>
Changing local password for jru.
Old password:
New password:
Retype new password:
passwd: updating the database...
passwd: done</pre></div></div><br class="example-break" /><div class="example"><a id="idp85453904"></a><div class="example-title">Przyk³ad 13.6. Zmiana has³a innego u¿ytkownika jako superu¿ytkownik</div><div class="example-contents"><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>passwd jru</code></strong>
Changing local password for jru.
New password:
Retype new password:
passwd: updating the database...
passwd: done</pre></div></div><br class="example-break" /><div xmlns="" class="note"><h3 class="admontitle">Uwaga: </h3><p xmlns="http://www.w3.org/1999/xhtml">Podobnie jak w przypadku <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chpass&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">chpass</span>(1)</span></a>,
	  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=yppasswd&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">yppasswd</span>(1)</span></a> jest jedynie dowi±zaniem do
	  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=passwd&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">passwd</span>(1)</span></a>.  Tak wiêc NIS dzia³a poprawnie
	  z obydwoma poleceniami.</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="users-pw"></a>13.6.5. <code class="command">pw</code></h3></div></div></div><a id="idp85460176" class="indexterm"></a><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pw&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">pw</span>(8)</span></a> jest programem wiersza poleceñ s³u¿±cym do
        tworzenia, usuwania, modyfikowania i wy¶wietlania u¿ytkowników
        i grup.  Dzia³a jako po¶rednik do systemowych
        plików u¿ytkowników i grup.  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pw&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">pw</span>(8)</span></a> dysponuje bardzo
        potê¿nym zestawem opcji, które umo¿liwiaj± wykorzystanie
        go w skryptach pow³oki.  Jednak¿e, nowym u¿ytkownikom mo¿e
        wydaæ siê zbyt skomplikowany w porównaniu z innymi
        przedstawionych tu poleceniami.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="users-user.html">Poprzedni</a> </td><td width="20%" align="center"><a accesskey="u" href="users.html">Pocz±tek rozdzia³u</a></td><td width="40%" align="right"> <a accesskey="n" href="users-limiting.html">Nastêpny</a></td></tr><tr><td width="40%" align="left" valign="top">13.5. Konta u¿ytkowników </td><td width="20%" align="center"><a accesskey="h" href="index.html">Spis tre¶ci</a></td><td width="40%" align="right" valign="top"> 13.7. Ograniczanie u¿ytkowników</td></tr></table></div><p xmlns="" align="center"><small>All FreeBSD documents are available for download
    at <a href="http://ftp.FreeBSD.org/pub/FreeBSD/doc/">http://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="" align="center"><small>Questions that are not answered by the
    <a href="http://www.FreeBSD.org/docs.html">documentation</a> may be
    sent to &lt;<a href="mailto:freebsd-questions@FreeBSD.org">freebsd-questions@FreeBSD.org</a>&gt;.<br />
    Send questions about this document to &lt;<a href="mailto:freebsd-doc@FreeBSD.org">freebsd-doc@FreeBSD.org</a>&gt;.</small></p></body></html>