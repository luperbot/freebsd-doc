<?xml version="1.0" encoding="iso-8859-2" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-2" /><title>24.2. Using Electronic Mail</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Podrêcznik FreeBSD" /><link rel="up" href="mail.html" title="Rozdzia³ 24. Electronic Mail" /><link rel="prev" href="mail.html" title="Rozdzia³ 24. Electronic Mail" /><link rel="next" href="sendmail.html" title="24.3. sendmail Configuration" /><link rel="copyright" href="legalnotice.html" title="Informacja Prawna" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">24.2. Using Electronic Mail</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="mail.html">Poprzedni</a> </td><th width="60%" align="center">Rozdzia³ 24. Electronic Mail</th><td width="20%" align="right"> <a accesskey="n" href="sendmail.html">Nastêpny</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="mail-using"></a>24.2. Using Electronic Mail</h2></div></div></div><a id="idp92755920" class="indexterm"></a><a id="idp92756432" class="indexterm"></a><a id="idp92756944" class="indexterm"></a><p>There are five major parts involved in an email exchange.  They
      are: <a class="link" href="mail-using.html#mail-mua" title="24.2.1. The User Program">the user program</a>, <a class="link" href="mail-using.html#mail-mta" title="24.2.2. Mailhost Server Daemon">the server daemon</a>, <a class="link" href="mail-using.html#mail-dns" title="24.2.3. Email and DNS">DNS</a>, <a class="link" href="mail-using.html#mail-receive" title="24.2.4. Receiving Mail">a
      remote or local mailbox</a>, and of course, <a class="link" href="mail-using.html#mail-host" title="24.2.5. The Mail Host">the
      mailhost itself</a>.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="mail-mua"></a>24.2.1. The User Program</h3></div></div></div><p>This includes command line programs such as
	<span class="application">mutt</span>,
	<span class="application">pine</span>, <span class="application">elm</span>,
	and <code class="command">mail</code>, and <acronym class="acronym">GUI</acronym> programs such as
	<span class="application">balsa</span>,
	<span class="application">xfmail</span> to name a few, and something
	more <span class="quote">"<span class="quote">sophisticated</span>"</span> like a WWW browser.  These
	programs simply pass off the email transactions to the local
	<a class="link" href="mail-using.html#mail-host" title="24.2.5. The Mail Host"><span class="quote">"<span class="quote">mailhost</span>"</span></a>, either
	by calling one of the <a class="link" href="mail-using.html#mail-mta" title="24.2.2. Mailhost Server Daemon">server
	daemons</a> available, or delivering it over <acronym class="acronym">TCP</acronym>.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="mail-mta"></a>24.2.2. Mailhost Server Daemon</h3></div></div></div><a id="idp92767184" class="indexterm"></a><a id="idp92768464" class="indexterm"></a><a id="idp92769744" class="indexterm"></a><a id="idp92771152" class="indexterm"></a><p>FreeBSD ships with <span class="application">sendmail</span> by
	default, but also support numerous other mail server daemons,
	just some of which include:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><span class="application">exim</span>;</p></li><li class="listitem"><p><span class="application">postfix</span>;</p></li><li class="listitem"><p><span class="application">qmail</span>.</p></li></ul></div><p>The server daemon usually has two functions-it is responsible
	for receiving incoming mail as well as delivering outgoing mail.  It is
	<span class="emphasis"><em>not</em></span> responsible for the collection of mail using protocols
	such as <acronym class="acronym">POP</acronym> or <acronym class="acronym">IMAP</acronym> to
	read your email, nor does it allow connecting to local
	<code class="filename">mbox</code> or Maildir mailboxes.  You may require
	an additional <a class="link" href="mail-using.html#mail-receive" title="24.2.4. Receiving Mail">daemon</a> for
	that.</p><div xmlns="" class="warning"><h3 class="admontitle">Ostrze¿enie: </h3><p xmlns="http://www.w3.org/1999/xhtml">Older versions of <span class="application">sendmail</span>
	  have some serious security issues which may result in an
	  attacker gaining local and/or remote access to your machine.
	  Make sure that you are running a current version to avoid
	  these problems.  Optionally, install an alternative
	  <acronym class="acronym">MTA</acronym> from the <a class="link" href="ports.html" title="Rozdzia³ 4. Instalacja programów: pakiety i porty">FreeBSD
	  Ports Collection</a>.</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="mail-dns"></a>24.2.3. Email and DNS</h3></div></div></div><p>The Domain Name System (DNS) and its daemon
        <code class="command">named</code> play a large role in the delivery of
	email.  In order to deliver mail from your site to another, the
	server daemon will look up the remote site in the DNS to determine the
	host that will receive mail for the destination.  This process
	also occurs when mail is sent from a remote host to your mail
	server.</p><a id="idp92787024" class="indexterm"></a><p><acronym class="acronym">DNS</acronym> is responsible for mapping
	hostnames to IP addresses, as well as for storing information
	specific to mail delivery, known as MX records.  The MX (Mail
	eXchanger) record specifies which host, or hosts, will receive
	mail for a particular domain.  If you do not have an MX record
	for your hostname or domain, the mail will be delivered
	directly to your host provided you have an A record pointing
	your hostname to your IP address.</p><p>You may view the MX records for any domain by using the
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=host&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">host</span>(1)</span></a> command, as seen in the example below:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>host -t mx FreeBSD.org</code></strong>
FreeBSD.org mail is handled (pri=10) by mx1.FreeBSD.org</pre></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="mail-receive"></a>24.2.4. Receiving Mail</h3></div></div></div><a id="idp92824400" class="indexterm"></a><p>Receiving mail for your domain is done by the mail host.  It
	will collect all mail sent to your domain and store it
	either in <code class="filename">mbox</code> (the default method for storing mail) or Maildir format, depending
	on your configuration.
	Once mail has been stored, it may either be read locally using
	applications such as <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mail&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">mail</span>(1)</span></a> or
	<span class="application">mutt</span>, or remotely accessed and
	collected using protocols such as
	<acronym class="acronym">POP</acronym> or <acronym class="acronym">IMAP</acronym>.
	This means that should you only
	wish to read mail locally, you are not required to install a
	<acronym class="acronym">POP</acronym> or <acronym class="acronym">IMAP</acronym> server.</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="pop-and-imap"></a>24.2.4.1. Accessing remote mailboxes using <acronym class="acronym">POP</acronym> and <acronym class="acronym">IMAP</acronym></h4></div></div></div><a id="idp92830416" class="indexterm"></a><a id="idp92830928" class="indexterm"></a><p>In order to access mailboxes remotely, you are required to
	  have access to a <acronym class="acronym">POP</acronym> or <acronym class="acronym">IMAP</acronym>
	  server.  These protocols allow users to connect to their mailboxes from
	  remote locations with ease.  Though both
	  <acronym class="acronym">POP</acronym> and <acronym class="acronym">IMAP</acronym> allow users
	  to remotely access mailboxes, <acronym class="acronym">IMAP</acronym> offers
	  many advantages, some of which are:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><acronym class="acronym">IMAP</acronym> can store messages on a remote
	      server as well as fetch them.</p></li><li class="listitem"><p><acronym class="acronym">IMAP</acronym> supports concurrent updates.</p></li><li class="listitem"><p><acronym class="acronym">IMAP</acronym> can be extremely useful over
	      low-speed links as it allows users to fetch the structure
	      of messages without downloading them; it can also
	      perform tasks such as searching on the server in
	      order to minimize data transfer between clients and
	      servers.</p></li></ul></div><p>In order to install a <acronym class="acronym">POP</acronym> or
	  <acronym class="acronym">IMAP</acronym> server, the following steps should be
	  performed:</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Choose an <acronym class="acronym">IMAP</acronym> or
	      <acronym class="acronym">POP</acronym> server that best suits your needs.
	      The following <acronym class="acronym">POP</acronym> and
	      <acronym class="acronym">IMAP</acronym> servers are well known and serve
	      as some good examples:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><span class="application">qpopper</span>;</p></li><li class="listitem"><p><span class="application">teapop</span>;</p></li><li class="listitem"><p><span class="application">imap-uw</span>;</p></li><li class="listitem"><p><span class="application">courier-imap</span>;</p></li></ul></div></li><li class="step"><p>Install the <acronym class="acronym">POP</acronym> or
	      <acronym class="acronym">IMAP</acronym> daemon of your choosing from the
	      ports
	      collection.</p></li><li class="step"><p>Where required, modify <code class="filename">/etc/inetd.conf</code>
	      to load the <acronym class="acronym">POP</acronym> or
	      <acronym class="acronym">IMAP</acronym> server.</p></li></ol></div><div xmlns="" class="warning"><h3 class="admontitle">Ostrze¿enie: </h3><p xmlns="http://www.w3.org/1999/xhtml">It should be noted that both <acronym class="acronym">POP</acronym> and
	    <acronym class="acronym">IMAP</acronym> transmit information, including
	    username and password credentials in clear-text.  This means
	    that if you wish to secure the transmission of information
	    across these protocols, you should consider tunneling
	    sessions over <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ssh&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ssh</span>(1)</span></a>.  Tunneling sessions is
	    described in <a class="xref" href="openssh.html#security-ssh-tunneling" title="14.11.8. SSH Tunneling">Sekcja 14.11.8, "SSH Tunneling"</a>.</p></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="local"></a>24.2.4.2. Accessing local mailboxes</h4></div></div></div><p>Mailboxes may be accessed locally by directly utilizing
	  <acronym class="acronym">MUA</acronym>s on the server on which the mailbox
	  resides.  This can be done using applications such as
	  <span class="application">mutt</span> or <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mail&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">mail</span>(1)</span></a>.
	</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="mail-host"></a>24.2.5. The Mail Host</h3></div></div></div><a id="idp92864208" class="indexterm"></a><p>The mail host is the name given to a server that is
        responsible for delivering and receiving mail for your host, and
	possibly your network.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="mail.html">Poprzedni</a> </td><td width="20%" align="center"><a accesskey="u" href="mail.html">Pocz±tek rozdzia³u</a></td><td width="40%" align="right"> <a accesskey="n" href="sendmail.html">Nastêpny</a></td></tr><tr><td width="40%" align="left" valign="top">Rozdzia³ 24. Electronic Mail </td><td width="20%" align="center"><a accesskey="h" href="index.html">Spis tre¶ci</a></td><td width="40%" align="right" valign="top"> 24.3. <span class="application">sendmail</span> Configuration</td></tr></table></div><p xmlns="" align="center"><small>All FreeBSD documents are available for download
    at <a href="http://ftp.FreeBSD.org/pub/FreeBSD/doc/">http://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="" align="center"><small>Questions that are not answered by the
    <a href="http://www.FreeBSD.org/docs.html">documentation</a> may be
    sent to &lt;<a href="mailto:freebsd-questions@FreeBSD.org">freebsd-questions@FreeBSD.org</a>&gt;.<br />
    Send questions about this document to &lt;<a href="mailto:freebsd-doc@FreeBSD.org">freebsd-doc@FreeBSD.org</a>&gt;.</small></p></body></html>