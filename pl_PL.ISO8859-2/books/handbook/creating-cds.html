<?xml version="1.0" encoding="iso-8859-2" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-2" /><title>17.6. Creating and Using Optical Media (CDs)</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Podrêcznik FreeBSD" /><link rel="up" href="disks.html" title="Rozdzia³ 17. Storage" /><link rel="prev" href="usb-disks.html" title="17.5. USB Storage Devices" /><link rel="next" href="creating-dvds.html" title="17.7. Creating and Using Optical Media (DVDs)" /><link rel="copyright" href="legalnotice.html" title="Informacja Prawna" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">17.6. Creating and Using Optical Media (CDs)</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="usb-disks.html">Poprzedni</a> </td><th width="60%" align="center">Rozdzia³ 17. Storage</th><td width="20%" align="right"> <a accesskey="n" href="creating-dvds.html">Nastêpny</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="creating-cds"></a>17.6. Creating and Using Optical Media (CDs)</h2></div><div><span class="authorgroup">Contributed by <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Mike</span> <span class="surname">Meyer</span></span>. </span></div></div></div><a id="idp88422864" class="indexterm"></a><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88424016"></a>17.6.1. Introduction</h3></div></div></div><p>CDs have a number of features that differentiate them from
	conventional disks. Initially, they were not writable by the
	user. They are designed so that they can be read continuously without
	delays to move the head between tracks. They are also much easier
	to transport between systems than similarly sized media were at the
	time.</p><p>CDs do have tracks, but this refers to a section of data to
	be read continuously and not a physical property of the disk. To
	produce a CD on FreeBSD, you prepare the data files that are going
	to make up the tracks on the CD, then write the tracks to the
	CD.</p><a id="idp88425424" class="indexterm"></a><a id="idp88425936" class="indexterm"></a><p>The ISO 9660 file system was designed to deal with these
	differences. It unfortunately codifies file system limits that were
	common then. Fortunately, it provides an extension mechanism that
	allows properly written CDs to exceed those limits while still
	working with systems that do not support those extensions.</p><a id="idp88427472" class="indexterm"></a><p>The <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/sysutils/cdrtools/pkg-descr">sysutils/cdrtools</a>
	port includes <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mkisofs&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mkisofs</span>(8)</span></a>, a program that you can use to
	produce a data file containing an ISO 9660 file
	system. It has options that support various extensions, and is
	described below.</p><a id="idp88430160" class="indexterm"></a><p>Which tool to use to burn the CD depends on whether your CD burner
	is ATAPI or something else. ATAPI CD burners use the <code class="command">burncd</code> program that is part of
	the base system. SCSI and USB CD burners should use
	<code class="command">cdrecord</code> from
	the <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/sysutils/cdrtools/pkg-descr">sysutils/cdrtools</a> port.
	It is also possible to use <code class="command">cdrecord</code> and other tools
	for SCSI drives on ATAPI hardware with the <a class="link" href="creating-cds.html#atapicam" title="17.6.9. Using the ATAPI/CAM Driver">ATAPI/CAM module</a>.</p><p>If you want CD burning software with a graphical user
	interface, you may wish to take a look at either
	<span class="application">X-CD-Roast</span> or
	<span class="application">K3b</span>.  These tools are available as
	packages or from the <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/sysutils/xcdroast/pkg-descr">sysutils/xcdroast</a> and <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/sysutils/k3b/pkg-descr">sysutils/k3b</a> ports.
	<span class="application">X-CD-Roast</span> and
	<span class="application">K3b</span> require the <a class="link" href="creating-cds.html#atapicam" title="17.6.9. Using the ATAPI/CAM Driver">ATAPI/CAM module</a> with ATAPI
	hardware.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="mkisofs"></a>17.6.2. mkisofs</h3></div></div></div><p>The <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mkisofs&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mkisofs</span>(8)</span></a> program, which is part of the
	<a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/sysutils/cdrtools/pkg-descr">sysutils/cdrtools</a> port,
        produces an ISO 9660 file system
	that is an image of a directory tree in the <span class="trademark">UNIX</span>(R) file system name
	space. The simplest usage is:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mkisofs -o imagefile.iso /path/to/tree</code></strong></pre><a id="idp88445264" class="indexterm"></a><p>This command will create an <em class="replaceable"><code>imagefile.iso</code></em>
	containing an ISO 9660 file system that is a copy of the tree at
	<em class="replaceable"><code>/path/to/tree</code></em>. In the process, it will
	map the file names to names that fit the limitations of the
	standard ISO 9660 file system, and will exclude files that have
	names uncharacteristic of ISO file systems.</p><a id="idp88447568" class="indexterm"></a><a id="idp88448720" class="indexterm"></a><p>A number of options are available to overcome those
	restrictions. In particular, <code class="option">-R</code> enables the
	Rock Ridge extensions common to <span class="trademark">UNIX</span>(R) systems, <code class="option">-J</code>
	enables Joliet extensions used by Microsoft systems, and
	<code class="option">-hfs</code> can be used to create HFS file systems used
	by <span class="trademark">Mac OS</span>(R).</p><p>For CDs that are going to be used only on FreeBSD systems,
	<code class="option">-U</code> can be used to disable all filename
	restrictions. When used with <code class="option">-R</code>, it produces a
	file system image that is identical to the FreeBSD tree you started
	from, though it may violate the ISO 9660 standard in a number of
	ways.</p><a id="idp88457808" class="indexterm"></a><p>The last option of general use is <code class="option">-b</code>. This is
	used to specify the location of the boot image for use in producing an
	<span class="quote">"<span class="quote">El Torito</span>"</span> bootable CD. This option takes an
	argument which is the path to a boot image from the top of the
	tree being written to the CD. By default, <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mkisofs&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mkisofs</span>(8)</span></a> creates an
	ISO image in the so-called <span class="quote">"<span class="quote">floppy disk emulation</span>"</span> mode,
	and thus expects the boot image to be exactly 1200, 1440 or
	2880 KB in size. Some boot loaders, like the one used by the
	FreeBSD distribution disks, do not use emulation mode; in this case,
	the <code class="option">-no-emul-boot</code> option should be used. So, if
	<code class="filename">/tmp/myboot</code> holds a bootable FreeBSD system
	with the boot image in
	<code class="filename">/tmp/myboot/boot/cdboot</code>, you could produce the
	image of an ISO 9660 file system in
	<code class="filename">/tmp/bootable.iso</code> like so:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mkisofs -R -no-emul-boot -b boot/cdboot -o /tmp/bootable.iso /tmp/myboot</code></strong></pre><p>Having done that, if you have <code class="filename">md</code>
	configured in your kernel, you can mount the file system with:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mdconfig -a -t vnode -f /tmp/bootable.iso -u 0</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>mount -t cd9660 /dev/md0 /mnt</code></strong></pre><p>At which point you can verify that <code class="filename">/mnt</code>
	and <code class="filename">/tmp/myboot</code> are identical.</p><p>There are many other options you can use with
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mkisofs&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mkisofs</span>(8)</span></a> to fine-tune its behavior.  In particular:
	modifications to an ISO 9660 layout and the creation of Joliet
	and HFS discs.  See the	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mkisofs&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mkisofs</span>(8)</span></a> manual page for details.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="burncd"></a>17.6.3. burncd</h3></div></div></div><a id="idp88474832" class="indexterm"></a><p>If you have an ATAPI CD burner, you can use the
	<code class="command">burncd</code> command to burn an ISO image onto a
	CD. <code class="command">burncd</code> is part of the base system, installed
	as <code class="filename">/usr/sbin/burncd</code>.  Usage is very simple, as
	it has few options:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>burncd -f cddevice data imagefile.iso fixate</code></strong></pre><p>Will burn a copy of <em class="replaceable"><code>imagefile.iso</code></em> on
	<em class="replaceable"><code>cddevice</code></em>. The default device is
	<code class="filename">/dev/acd0</code>.  See <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=burncd&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">burncd</span>(8)</span></a> for options to
	set the write speed, eject the CD after burning, and write audio
	data.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="cdrecord"></a>17.6.4. cdrecord</h3></div></div></div><p>If you do not have an ATAPI CD burner, you will have to use
	<code class="command">cdrecord</code> to burn your
	CDs. <code class="command">cdrecord</code> is not part of the base system;
	you must install it from either the port at <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/sysutils/cdrtools/pkg-descr">sysutils/cdrtools</a>
	or the appropriate
	package. Changes to the base system can cause binary versions of
	this program to fail, possibly resulting in a
	<span class="quote">"<span class="quote">coaster</span>"</span>. You should therefore either upgrade the
	port when you upgrade your system, or if you are <a class="link" href="current-stable.html#stable" title="21.2.2. Staying Stable with FreeBSD">tracking -STABLE</a>, upgrade the port when a
	new version becomes available.</p><p>While <code class="command">cdrecord</code> has many options, basic usage
	is even simpler than <code class="command">burncd</code>. Burning an ISO 9660
	image is done with:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cdrecord dev=device imagefile.iso</code></strong></pre><p>The tricky part of using <code class="command">cdrecord</code> is finding
	the <code class="option">dev</code> to use. To find the proper setting, use
	the <code class="option">-scanbus</code> flag of <code class="command">cdrecord</code>,
	which might produce results like this:</p><a id="idp88496336" class="indexterm"></a><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cdrecord -scanbus</code></strong>
Cdrecord-Clone 2.01 (i386-unknown-freebsd7.0) Copyright (C) 1995-2004 Jörg Schilling
Using libscg version 'schily-0.1'
scsibus0:
        0,0,0     0) 'SEAGATE ' 'ST39236LW       ' '0004' Disk
        0,1,0     1) 'SEAGATE ' 'ST39173W        ' '5958' Disk
        0,2,0     2) *
        0,3,0     3) 'iomega  ' 'jaz 1GB         ' 'J.86' Removable Disk
        0,4,0     4) 'NEC     ' 'CD-ROM DRIVE:466' '1.26' Removable CD-ROM
        0,5,0     5) *
        0,6,0     6) *
        0,7,0     7) *
scsibus1:
        1,0,0   100) *
        1,1,0   101) *
        1,2,0   102) *
        1,3,0   103) *
        1,4,0   104) *
        1,5,0   105) 'YAMAHA  ' 'CRW4260         ' '1.0q' Removable CD-ROM
        1,6,0   106) 'ARTEC   ' 'AM12S           ' '1.06' Scanner
        1,7,0   107) *</pre><p>This lists the appropriate <code class="option">dev</code> value for the
	devices on the list. Locate your CD burner, and use the three
	numbers separated by commas as the value for
	<code class="option">dev</code>. In this case, the CRW device is 1,5,0, so the
	appropriate input would be
	<code class="option">dev=1,5,0</code>. There are easier
	ways to specify this value; see <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=cdrecord&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">cdrecord</span>(1)</span></a> for
	details. That is also the place to look for information on writing
	audio tracks, controlling the speed, and other things.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="duplicating-audiocds"></a>17.6.5. Duplicating Audio CDs</h3></div></div></div><p>You can duplicate an audio CD by extracting the audio data from
	the CD to a series of files, and then writing these files to a blank
	CD.  The process is slightly different for ATAPI and SCSI
	drives.</p><div class="procedure"><a id="idp88502480"></a><div class="procedure-title">Procedura 17.1. SCSI Drives</div><ol class="procedure" type="1"><li class="step"><p>Use <code class="command">cdda2wav</code> to extract the audio.</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>cdda2wav -v255 -D2,0 -B -Owav</code></strong></pre></li><li class="step"><p>Use <code class="command">cdrecord</code> to write the
	    <code class="filename">.wav</code> files.</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>cdrecord -v dev=2,0 -dao -useinfo  *.wav</code></strong></pre><p>Make sure that <em class="replaceable"><code>2,0</code></em> is set
	    appropriately, as described in <a class="xref" href="creating-cds.html#cdrecord" title="17.6.4. cdrecord">Sekcja 17.6.4, "cdrecord"</a>.</p></li></ol></div><div class="procedure"><a id="idp88509008"></a><div class="procedure-title">Procedura 17.2. ATAPI Drives</div><ol class="procedure" type="1"><li class="step"><p>The ATAPI CD driver makes each track available as
	    <code class="filename">/dev/acddtnn</code>,
	    where <em class="replaceable"><code>d</code></em> is the drive number, and
	    <em class="replaceable"><code>nn</code></em> is the track number written with two
	    decimal digits, prefixed with zero as needed.
	    So the first track on the first disk is
	    <code class="filename">/dev/acd0t01</code>, the second is
	    <code class="filename">/dev/acd0t02</code>, the third is
	    <code class="filename">/dev/acd0t03</code>, and so on.</p><p>Make sure the appropriate files exist in
	    <code class="filename">/dev</code>.  If the entries are missing,
	    force the system to retaste the media:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>dd if=/dev/acd0 of=/dev/null count=1</code></strong></pre></li><li class="step"><p>Extract each track using <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dd&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">dd</span>(1)</span></a>.  You must also use a
	    specific block size when extracting the files.</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>dd if=/dev/acd0t01 of=track1.cdr bs=2352</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>dd if=/dev/acd0t02 of=track2.cdr bs=2352</code></strong>
...
</pre></li><li class="step"><p>Burn the extracted files to disk using
	    <code class="command">burncd</code>.  You must specify that these are audio
	    files, and that <code class="command">burncd</code> should fixate the disk
	    when finished.</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>burncd -f /dev/acd0 audio track1.cdr track2.cdr ... fixate</code></strong></pre></li></ol></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="imaging-cd"></a>17.6.6. Duplicating Data CDs</h3></div></div></div><p>You can copy a data CD to a image file that is
	functionally equivalent to the image file created with
        <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mkisofs&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mkisofs</span>(8)</span></a>, and you can use it to duplicate
	any data CD.  The example given here assumes that your CDROM
	device is <code class="filename">acd0</code>.  Substitute your
	correct CDROM device.</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>dd if=/dev/acd0 of=file.iso bs=2048</code></strong></pre><p>Now that you have an image, you can burn it to CD as
	described above.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="mounting-cd"></a>17.6.7. Using Data CDs</h3></div></div></div><p>Now that you have created a standard data CDROM, you
	probably want to mount it and read the data on it.  By
	default, <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mount&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mount</span>(8)</span></a> assumes that a file system is of type
	<code class="literal">ufs</code>.  If you try something like:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mount /dev/cd0 /mnt</code></strong></pre><p>you will get a complaint about <span class="errorname">Incorrect super
	  block</span>, and no mount. The CDROM is not a
	  <code class="literal">UFS</code> file system, so attempts to mount it
	  as such will fail.  You just need to tell <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mount&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mount</span>(8)</span></a> that
	  the file system is of type <code class="literal">ISO9660</code>, and
	  everything will work.  You do this by specifying the
	  <code class="option">-t cd9660</code> option <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mount&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mount</span>(8)</span></a>. For
	  example, if you want to mount the CDROM device,
	  <code class="filename">/dev/cd0</code>, under
	  <code class="filename">/mnt</code>, you would execute:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mount -t cd9660 /dev/cd0 /mnt</code></strong></pre><p>Note that your device name
	(<code class="filename">/dev/cd0</code> in this example) could be
	different, depending on the interface your CDROM uses. Also,
	the <code class="option">-t cd9660</code> option just executes
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mount_cd9660&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mount_cd9660</span>(8)</span></a>. The above example could be shortened
	to:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mount_cd9660 /dev/cd0 /mnt</code></strong></pre><p>You can generally use data CDROMs from any vendor in this
	way.  Disks with certain ISO 9660 extensions might behave
	oddly, however.  For example, Joliet disks store all filenames
	in two-byte Unicode characters.  The FreeBSD kernel does not
	speak Unicode (yet!), so non-English characters show up as
	question marks.  (The FreeBSD
	CD9660 driver includes hooks to load an appropriate Unicode
	conversion table on the fly.  Modules for some of the common
	encodings are available via the
	<a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/sysutils/cd9660_unicode/pkg-descr">sysutils/cd9660_unicode</a> port.)</p><p>Occasionally, you might get <span class="errorname">Device not
	configured</span> when trying to mount a CDROM.  This
	usually means that the CDROM drive thinks that there is no
	disk in the tray, or that the drive is not visible on the bus.
	It can take a couple of seconds for a CDROM drive to realize
	that it has been fed, so be patient.</p><p>Sometimes, a SCSI CDROM may be missed because it did not
	have enough time to answer the bus reset.  If you have a SCSI
	CDROM please add the following option to your kernel
	configuration and <a class="link" href="kernelconfig-building.html" title="8.3. Budowanie i instalowanie indywidualnego j±dra">rebuild your kernel</a>.</p><pre class="programlisting">options SCSI_DELAY=15000</pre><p>This tells your SCSI bus to pause 15 seconds during boot,
	to give your CDROM drive every possible chance to answer the
	bus reset.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="rawdata-cd"></a>17.6.8. Burning Raw Data CDs</h3></div></div></div><p>You can choose to burn a file directly to CD, without
	creating an ISO 9660 file system.  Some people do this for
	backup purposes.  This runs more quickly than burning a
	standard CD:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>burncd -f /dev/acd1 -s 12 data archive.tar.gz fixate</code></strong></pre><p>In order to retrieve the data burned to such a CD, you
	  must read data from the raw device node:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>tar xzvf /dev/acd1</code></strong></pre><p>You cannot mount this disk as you would a normal CDROM.
	  Such a CDROM cannot be read under any operating system
	  except FreeBSD.  If you want to be able to mount the CD, or
	  share data with another operating system, you must use
	  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mkisofs&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mkisofs</span>(8)</span></a> as described above.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="atapicam"></a>17.6.9. Using the ATAPI/CAM Driver</h3></div><div><span class="authorgroup">Contributed by <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Marc</span> <span class="surname">Fonvieille</span></span>. </span></div></div></div><a id="idp88558928" class="indexterm"></a><p>This driver allows ATAPI devices (CD-ROM, CD-RW, DVD
	drives etc...) to be accessed through the SCSI subsystem, and
	so allows the use of applications like <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/sysutils/cdrdao/pkg-descr">sysutils/cdrdao</a> or
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=cdrecord&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">cdrecord</span>(1)</span></a>.</p><p>To use this driver, you will need to add the following
	line to the <code class="filename">/boot/loader.conf</code>
	file:</p><pre class="programlisting">atapicam_load="YES"</pre><p>then, reboot your machine.</p><div xmlns="" class="note"><h3 class="admontitle">Uwaga: </h3><p xmlns="http://www.w3.org/1999/xhtml">If you prefer to statically compile the <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=atapicam&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">atapicam</span>(4)</span></a>
	  support in your kernel, you will have to add this line to
	  your kernel configuration file:</p><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting">device atapicam</pre><p xmlns="http://www.w3.org/1999/xhtml">You also need the following lines in your kernel
	configuration file:</p><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting">device ata
device scbus
device cd
device pass</pre><p xmlns="http://www.w3.org/1999/xhtml">which should already be present.  Then rebuild, install
	  your new kernel, and reboot your machine.</p></div><p>During the boot process, your burner should show up,
	like so:</p><pre class="screen">acd0: CD-RW &lt;MATSHITA CD-RW/DVD-ROM UJDA740&gt; at ata1-master PIO4
cd0 at ata1 bus 0 target 0 lun 0
cd0: &lt;MATSHITA CDRW/DVD UJDA740 1.00&gt; Removable CD-ROM SCSI-0 device
cd0: 16.000MB/s transfers
cd0: Attempt to query device size failed: NOT READY, Medium not present - tray closed</pre><p>The drive could now be accessed via the
	<code class="filename">/dev/cd0</code> device name, for example to
	mount a CD-ROM on <code class="filename">/mnt</code>, just type the
	following:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mount -t cd9660 /dev/cd0 /mnt</code></strong></pre><p>As <code class="systemitem">root</code>, you can run the following
	command to get the SCSI address of the burner:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>camcontrol devlist</code></strong>
&lt;MATSHITA CDRW/DVD UJDA740 1.00&gt;   at scbus1 target 0 lun 0 (pass0,cd0)</pre><p>So <code class="literal">1,0,0</code> will be the SCSI address to
	use with <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=cdrecord&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">cdrecord</span>(1)</span></a> and other SCSI application.</p><p>For more information about ATAPI/CAM and SCSI system,
	refer to the <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=atapicam&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">atapicam</span>(4)</span></a> and <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=cam&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">cam</span>(4)</span></a> manual
	pages.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="usb-disks.html">Poprzedni</a> </td><td width="20%" align="center"><a accesskey="u" href="disks.html">Pocz±tek rozdzia³u</a></td><td width="40%" align="right"> <a accesskey="n" href="creating-dvds.html">Nastêpny</a></td></tr><tr><td width="40%" align="left" valign="top">17.5. USB Storage Devices </td><td width="20%" align="center"><a accesskey="h" href="index.html">Spis tre¶ci</a></td><td width="40%" align="right" valign="top"> 17.7. Creating and Using Optical Media (DVDs)</td></tr></table></div><p xmlns="" align="center"><small>All FreeBSD documents are available for download
    at <a href="http://ftp.FreeBSD.org/pub/FreeBSD/doc/">http://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="" align="center"><small>Questions that are not answered by the
    <a href="http://www.FreeBSD.org/docs.html">documentation</a> may be
    sent to &lt;<a href="mailto:freebsd-questions@FreeBSD.org">freebsd-questions@FreeBSD.org</a>&gt;.<br />
    Send questions about this document to &lt;<a href="mailto:freebsd-doc@FreeBSD.org">freebsd-doc@FreeBSD.org</a>&gt;.</small></p></body></html>