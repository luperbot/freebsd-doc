<?xml version="1.0" encoding="iso-8859-2" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-2" /><title>10.7. Installing SAP(R) R/3(R)</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Podrêcznik FreeBSD" /><link rel="up" href="linuxemu.html" title="Rozdzia³ 10. Linux Binary Compatibility" /><link rel="prev" href="linuxemu-oracle.html" title="10.6. Installing Oracle(R)" /><link rel="next" href="linuxemu-advanced.html" title="10.8. Advanced Topics" /><link rel="copyright" href="legalnotice.html" title="Informacja Prawna" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">10.7. Installing <span class="trademark">SAP</span>(R) <span class="trademark">R/3</span>(R)</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="linuxemu-oracle.html">Poprzedni</a> </td><th width="60%" align="center">Rozdzia³ 10. Linux Binary Compatibility</th><td width="20%" align="right"> <a accesskey="n" href="linuxemu-advanced.html">Nastêpny</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="sapr3"></a>10.7. Installing <span class="trademark">SAP</span>(R) <span class="trademark">R/3</span>(R)</h2></div><div><span class="authorgroup">Contributed by <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Holger</span> <span class="surname">Kipp</span></span>. </span></div><div><span class="authorgroup">Original version converted to SGML by <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Valentino</span> <span class="surname">Vaschetto</span></span>. </span></div></div></div><a id="idp82890704" class="indexterm"></a><p>Installations of <span class="application"><span class="trademark">SAP</span>(R)</span> Systems using FreeBSD will not be
      supported by the <span class="trademark">SAP</span>(R) support team - they only offer support
      for certified platforms.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="preface"></a>10.7.1. Preface</h3></div></div></div><p>This document describes a possible way of installing a
	<span class="application"><span class="trademark">SAP</span>(R) <span class="trademark">R/3</span>(R) System</span>
	with <span class="application"><span class="trademark">Oracle</span>(R) Database</span>
	for Linux onto a FreeBSD machine, including the installation
	of FreeBSD and <span class="application"><span class="trademark">Oracle</span>(R)</span>. Two different
	configurations will be described:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><span class="application"><span class="trademark">SAP</span>(R) <span class="trademark">R/3</span>(R) 4.6B (IDES)</span> with
	  <span class="application"><span class="trademark">Oracle</span>(R) 8.0.5</span> on FreeBSD 4.3-STABLE</p></li><li class="listitem"><p><span class="application"><span class="trademark">SAP</span>(R) <span class="trademark">R/3</span>(R) 4.6C</span> with
	  <span class="application"><span class="trademark">Oracle</span>(R) 8.1.7</span> on FreeBSD 4.5-STABLE</p></li></ul></div><p>Even though this document tries to describe all important
        steps in a greater detail, it is not intended as a replacement
        for the <span class="application"><span class="trademark">Oracle</span>(R)</span> and
	<span class="application"><span class="trademark">SAP</span>(R) <span class="trademark">R/3</span>(R)</span> installation guides.</p><p>Please see the documentation that comes with the
	<span class="application"><span class="trademark">SAP</span>(R) <span class="trademark">R/3</span>(R)</span>
	Linux edition for <span class="application"><span class="trademark">SAP</span>(R)</span> and
	<span class="application"><span class="trademark">Oracle</span>(R)</span> specific questions, as well
	as resources from <span class="application"><span class="trademark">Oracle</span>(R)</span> and
	<span class="application"><span class="trademark">SAP</span>(R) OSS</span>.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="software"></a>10.7.2. Software</h3></div></div></div><p>The following CD-ROMs have been used for <span class="application"><span class="trademark">SAP</span>(R)</span> installations:</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="software-46b"></a>10.7.2.1. <span class="trademark">SAP</span>(R) <span class="trademark">R/3</span>(R) 4.6B, <span class="trademark">Oracle</span>(R) 8.0.5</h4></div></div></div><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /><col /></colgroup><thead><tr><th>Name</th><th>Number</th><th>Description</th></tr></thead><tbody><tr><td>KERNEL</td><td>51009113</td><td>SAP Kernel Oracle /
		Installation / AIX, Linux, Solaris</td></tr><tr><td>RDBMS</td><td>51007558</td><td>Oracle / RDBMS 8.0.5.X /
		Linux</td></tr><tr><td>EXPORT1</td><td>51010208</td><td>IDES / DB-Export /
		Disc 1 of 6</td></tr><tr><td>EXPORT2</td><td>51010209</td><td>IDES / DB-Export /
		Disc 2 of 6</td></tr><tr><td>EXPORT3</td><td>51010210</td><td>IDES / DB-Export /
		Disc 3 of 6</td></tr><tr><td>EXPORT4</td><td>51010211</td><td>IDES / DB-Export /
		Disc 4 of 6</td></tr><tr><td>EXPORT5</td><td>51010212</td><td>IDES / DB-Export /
		Disc 5 of 6</td></tr><tr><td>EXPORT6</td><td>51010213</td><td>IDES / DB-Export /
		Disc 6 of 6</td></tr></tbody></table></div><p>Additionally, we used the <span class="application"><span class="trademark">Oracle</span>(R) 8
	Server</span> (Pre-production version 8.0.5 for Linux,
	Kernel Version 2.0.33) CD which is not really necessary, and
	FreeBSD 4.3-STABLE (it was only a few days past 4.3
	RELEASE).</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="software-46c"></a>10.7.2.2. <span class="trademark">SAP</span>(R) <span class="trademark">R/3</span>(R) 4.6C SR2, <span class="trademark">Oracle</span>(R) 8.1.7</h4></div></div></div><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /><col /></colgroup><thead><tr><th>Name</th><th>Number</th><th>Description</th></tr></thead><tbody><tr><td>KERNEL</td><td>51014004</td><td>SAP Kernel Oracle /
		  SAP Kernel Version 4.6D / DEC, Linux</td></tr><tr><td>RDBMS</td><td>51012930</td><td>Oracle 8.1.7/ RDBMS /
		  Linux</td></tr><tr><td>EXPORT1</td><td>51013953</td><td>Release 4.6C SR2 / Export
		  / Disc 1 of 4</td></tr><tr><td>EXPORT1</td><td>51013953</td><td>Release 4.6C SR2 / Export
		  / Disc 2 of 4</td></tr><tr><td>EXPORT1</td><td>51013953</td><td>Release 4.6C SR2 / Export
		  / Disc 3 of 4</td></tr><tr><td>EXPORT1</td><td>51013953</td><td>Release 4.6C SR2 / Export
		  / Disc 4 of 4</td></tr><tr><td>LANG1</td><td>51013954</td><td>Release 4.6C SR2 /
		  Language / DE, EN, FR / Disc 1 of 3</td></tr></tbody></table></div><p>Depending on the languages you would like to install, additional
	  language CDs might be necessary. Here we are just using DE and EN, so
	  the first language CD is the only one needed. As a little note, the
	  numbers for all four EXPORT CDs are identical. All three language CDs
	  also have the same number (this is different from the 4.6B IDES
	  release CD numbering). At the time of writing this installation is
	  running on FreeBSD 4.5-STABLE (20.03.2002).</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="sap-notes"></a>10.7.3. <span class="trademark">SAP</span>(R) Notes</h3></div></div></div><p>The following notes should be read before installing
	<span class="application"><span class="trademark">SAP</span>(R) <span class="trademark">R/3</span>(R)</span> and proved to be useful
	during installation:</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="sap-notes-46b"></a>10.7.3.1. <span class="trademark">SAP</span>(R) <span class="trademark">R/3</span>(R) 4.6B, <span class="trademark">Oracle</span>(R) 8.0.5</h4></div></div></div><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Number</th><th>Title</th></tr></thead><tbody><tr><td>0171356</td><td>SAP Software on Linux: Essential
		  Comments</td></tr><tr><td>0201147</td><td>INST: 4.6C R/3 Inst. on UNIX -
		  Oracle</td></tr><tr><td>0373203</td><td>Update / Migration Oracle 8.0.5 --&gt;
		  8.0.6/8.1.6 LINUX</td></tr><tr><td>0072984</td><td>Release of Digital UNIX 4.0B for
		  Oracle</td></tr><tr><td>0130581</td><td>R3SETUP step DIPGNTAB terminates</td></tr><tr><td>0144978</td><td>Your system has not been installed
		  correctly</td></tr><tr><td>0162266</td><td>Questions and tips for R3SETUP on Windows
		  NT / W2K</td></tr></tbody></table></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="sap-notes-46c"></a>10.7.3.2. <span class="trademark">SAP</span>(R) <span class="trademark">R/3</span>(R) 4.6C, <span class="trademark">Oracle</span>(R) 8.1.7</h4></div></div></div><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Number</th><th>Title</th></tr></thead><tbody><tr><td>0015023</td><td>Initializing table TCPDB (RSXP0004)
		  (EBCDIC)</td></tr><tr><td>0045619</td><td>R/3 with several languages or
		  typefaces</td></tr><tr><td>0171356</td><td>SAP Software on Linux: Essential
		  Comments</td></tr><tr><td>0195603</td><td>RedHat 6.1 Enterprise version:
		  Known problems</td></tr><tr><td>0212876</td><td>The new archiving tool SAPCAR</td></tr><tr><td>0300900</td><td>Linux: Released DELL Hardware</td></tr><tr><td>0377187</td><td>RedHat 6.2: important remarks</td></tr><tr><td>0387074</td><td>INST: R/3 4.6C SR2 Installation on
		  UNIX</td></tr><tr><td>0387077</td><td>INST: R/3 4.6C SR2 Inst. on UNIX -
		  Oracle</td></tr><tr><td>0387078</td><td>SAP Software on UNIX: OS Dependencies
		  4.6C SR2</td></tr></tbody></table></div></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="hardware-requirements"></a>10.7.4. Hardware Requirements</h3></div></div></div><p>The following equipment is sufficient for the installation
	of a <span class="application"><span class="trademark">SAP</span>(R) <span class="trademark">R/3</span>(R) System</span>. For production
	use, a more exact sizing is of course needed:</p><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /><col /></colgroup><thead><tr><th>Component</th><th>4.6B</th><th>4.6C</th></tr></thead><tbody><tr><td>Processor</td><td>2 x 800MHz <span class="trademark">Pentium</span>(R) III</td><td>2 x 800MHz <span class="trademark">Pentium</span>(R) III</td></tr><tr><td>Memory</td><td>1GB ECC</td><td>2GB ECC</td></tr><tr><td>Hard Disk Space</td><td>50-60GB (IDES)</td><td>50-60GB (IDES)</td></tr></tbody></table></div><p>For use in production, <span class="trademark">Xeon</span>TM Processors with large cache,
	high-speed disk access (SCSI, RAID hardware controller), USV
	and ECC-RAM is recommended.  The large amount of hard disk
	space is due to the preconfigured IDES System, which creates
	27 GB of database files during installation. This space is
	also sufficient for initial production systems and application
	data.</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="hardware-46b"></a>10.7.4.1. <span class="trademark">SAP</span>(R) <span class="trademark">R/3</span>(R) 4.6B, <span class="trademark">Oracle</span>(R) 8.0.5</h4></div></div></div><p>The following off-the-shelf hardware was used: a dual processor
	board with 2 800 MHz <span class="trademark">Pentium</span>(R) III processors, <span class="trademark">Adaptec</span>(R) 29160 Ultra160
	SCSI adapter (for accessing a 40/80 GB DLT tape drive and CDROM),
	<span class="trademark">Mylex</span>(R) <span class="trademark">AcceleRAID</span>TM (2 channels, firmware 6.00-1-00 with 32 MB RAM).
	To the <span class="trademark">Mylex</span>(R) RAID controller are attached two 17 GB hard disks
	(mirrored) and four 36 GB hard disks (RAID level 5).</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="hardware-46c"></a>10.7.4.2. <span class="trademark">SAP</span>(R) <span class="trademark">R/3</span>(R) 4.6C, <span class="trademark">Oracle</span>(R) 8.1.7</h4></div></div></div><p>For this installation a <span class="trademark">Dell</span>TM <span class="trademark">PowerEdge</span>TM 2500 was used: a
	dual processor board with two 1000 MHz <span class="trademark">Pentium</span>(R) III processors
	(256 kB Cache), 2 GB PC133 ECC SDRAM, PERC/3 DC PCI RAID Controller
	with 128 MB, and an EIDE DVD-ROM drive. To the RAID controller are
	attached two 18 GB hard disks (mirrored) and four 36 GB hard disks
	(RAID level 5).</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="installation"></a>10.7.5. Installation of FreeBSD</h3></div></div></div><p>First you have to install FreeBSD. There are several ways to do
	this, for more information read the <a class="xref" href="install-diff-media.html" title="2.13. Przygotowanie w³asnego no¶nika instalacji">Sekcja 2.13, "Przygotowanie w³asnego no¶nika instalacji"</a>.</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="disk-layout"></a>10.7.5.1. Disk Layout</h4></div></div></div><p>To keep it simple, the same disk layout both for the
	  <span class="application"><span class="trademark">SAP</span>(R) <span class="trademark">R/3</span>(R) 46B</span> and <span class="application"><span class="trademark">SAP</span>(R) <span class="trademark">R/3</span>(R) 46C
	  SR2</span> installation was used. Only the device names
	  changed, as the installations were on different hardware (<code class="filename">/dev/da</code>
	  and <code class="filename">/dev/amr</code> respectively, so if using an AMI <span class="trademark">MegaRAID</span>(R), one will see
	  <code class="filename">/dev/amr0s1a</code> instead of <code class="filename">/dev/da0s1a</code>):</p><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /><col /><col /></colgroup><thead><tr><th>File system</th><th>Size (1k-blocks)</th><th>Size (GB)</th><th>Mounted on</th></tr></thead><tbody><tr><td><code class="filename">/dev/da0s1a</code></td><td>1.016.303</td><td>1</td><td><code class="filename">/</code></td></tr><tr><td><code class="filename">/dev/da0s1b</code></td><td> </td><td>6</td><td>swap</td></tr><tr><td><code class="filename">/dev/da0s1e</code></td><td>2.032.623</td><td>2</td><td><code class="filename">/var</code></td></tr><tr><td><code class="filename">/dev/da0s1f</code></td><td>8.205.339</td><td>8</td><td><code class="filename">/usr</code></td></tr><tr><td><code class="filename">/dev/da1s1e</code></td><td>45.734.361</td><td>45</td><td><code class="filename">/compat/linux/oracle</code></td></tr><tr><td><code class="filename">/dev/da1s1f</code></td><td>2.032.623</td><td>2</td><td><code class="filename">/compat/linux/sapmnt</code></td></tr><tr><td><code class="filename">/dev/da1s1g</code></td><td>2.032.623</td><td>2</td><td><code class="filename">/compat/linux/usr/sap</code></td></tr></tbody></table></div><p>Configure and initialize the two logical drives
	  with the <span class="trademark">Mylex</span>(R) or PERC/3 RAID software beforehand.
	  The software can be started during the
	  <acronym class="acronym">BIOS</acronym> boot phase.</p><p> Please note that this disk layout differs slightly from
	  the <span class="trademark">SAP</span>(R) recommendations, as <span class="trademark">SAP</span>(R) suggests mounting the
	  <span class="application"><span class="trademark">Oracle</span>(R)</span> subdirectories (and some others) separately - we
	  decided to just create them as real subdirectories for
	  simplicity.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="makeworldandnewkernel"></a>10.7.5.2. <code class="command">make world</code> and a New Kernel</h4></div></div></div><p>Download the latest -STABLE sources. Rebuild world and your
	  custom kernel after configuring your kernel configuration file.
	  Here you should also include the
	  <a class="link" href="sapr3.html#kerneltuning" title="10.7.7.6. Kernel Tuning">kernel parameters</a>
	  which are required for both <span class="application"><span class="trademark">SAP</span>(R) <span class="trademark">R/3</span>(R)</span>
	  and <span class="application"><span class="trademark">Oracle</span>(R)</span>.</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="installingthelinuxenviornment"></a>10.7.6. Installing the Linux Environment</h3></div></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="installinglinuxbase-system"></a>10.7.6.1. Installing the Linux Base System</h4></div></div></div><p>First the <a class="link" href="linuxemu-lbc-install.html#linuxemu-libs-port" title="10.2.1.1. Installing Using the linux_base Port">linux_base</a>
	  port needs to be installed (as <code class="systemitem">root</code>):</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cd /usr/ports/emulators/linux_base</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>make install distclean</code></strong></pre></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="installinglinuxdevelopment"></a>10.7.6.2. Installing Linux Development Environment</h4></div></div></div><p>The Linux development environment is needed, if you want to install
	  <span class="application"><span class="trademark">Oracle</span>(R)</span> on FreeBSD according to the
	  <a class="xref" href="linuxemu-oracle.html" title="10.6. Installing Oracle(R)">Sekcja 10.6, "Installing <span class="trademark">Oracle</span>(R)"</a>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cd /usr/ports/devel/linux_devtools</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>make install distclean</code></strong></pre><p>The Linux development environment has only been installed for the <span class="application"><span class="trademark">SAP</span>(R) <span class="trademark">R/3</span>(R)
	  46B IDES</span> installation. It is not needed, if
	  the <span class="application"><span class="trademark">Oracle</span>(R) DB</span> is not relinked on the
	  FreeBSD system. This is the case if you are using the
	  <span class="application"><span class="trademark">Oracle</span>(R)</span> tarball from a Linux system.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="installingnecessaryrpms"></a>10.7.6.3. Installing the Necessary RPMs</h4></div></div></div><a id="idp83112912" class="indexterm"></a><p>To start the <code class="command">R3SETUP</code> program, PAM support is needed.
	  During the first <span class="application"><span class="trademark">SAP</span>(R)</span> Installation on FreeBSD 4.3-STABLE we
	  tried to install PAM with all the required packages and
	  finally forced the installation of the PAM package, which
	  worked. For <span class="application"><span class="trademark">SAP</span>(R) <span class="trademark">R/3</span>(R) 4.6C SR2</span> we
	  directly forced the installation of the PAM RPM, which also
	  works, so it seems the dependent packages are not needed:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>rpm -i --ignoreos --nodeps --root /compat/linux --dbpath /var/lib/rpm \
pam-0.68-7.i386.rpm</code></strong></pre><p>For <span class="application"><span class="trademark">Oracle</span>(R) 8.0.5</span> to run the
	  intelligent agent, we also had to install the RedHat Tcl package
	  <code class="filename">tcl-8.0.5-30.i386.rpm</code> (otherwise the
	  relinking during <span class="application"><span class="trademark">Oracle</span>(R)</span> installation
	  will not work).  There are some other issues regarding
	  relinking of <span class="application"><span class="trademark">Oracle</span>(R)</span>, but that is
	  a <span class="application"><span class="trademark">Oracle</span>(R)</span> Linux issue, not FreeBSD specific.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="linuxprocandfallbackelfbrand"></a>10.7.6.4. Some Additional Hints</h4></div></div></div><p>It might also be a good idea to add <code class="literal">linprocfs</code>
	  to <code class="filename">/etc/fstab</code>, for more information, see the <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=linprocfs&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">linprocfs</span>(5)</span></a> manual page.
	  Another parameter to set is <code class="literal">kern.fallback_elf_brand=3</code>
	  which is done in the file <code class="filename">/etc/sysctl.conf</code>.</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="creatingsapr3env"></a>10.7.7. Creating the <span class="trademark">SAP</span>(R) <span class="trademark">R/3</span>(R) Environment</h3></div></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="filesystemsandmountpoints"></a>10.7.7.1. Creating the Necessary File Systems and Mountpoints</h4></div></div></div><p>For a simple installation, it is sufficient to create the
          following file systems:</p><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>mount point</th><th>size in GB</th></tr></thead><tbody><tr><td><code class="filename">/compat/linux/oracle</code></td><td>45 GB</td></tr><tr><td><code class="filename">/compat/linux/sapmnt</code></td><td>2 GB</td></tr><tr><td><code class="filename">/compat/linux/usr/sap</code></td><td>2 GB</td></tr></tbody></table></div><p>It is also necessary to created some links. Otherwise
	  the <span class="application"><span class="trademark">SAP</span>(R)</span> Installer will complain, as it is checking the
	  created links:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ln -s /compat/linux/oracle /oracle</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>ln -s /compat/linux/sapmnt /sapmnt</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>ln -s /compat/linux/usr/sap /usr/sap</code></strong></pre><p>Possible error message during installation (here with
	  System <span class="emphasis"><em>PRD</em></span> and the
	  <span class="application"><span class="trademark">SAP</span>(R) <span class="trademark">R/3</span>(R) 4.6C SR2</span>
	  installation):</p><pre class="screen">INFO 2002-03-19 16:45:36 R3LINKS_IND_IND SyLinkCreate:200
    Checking existence of symbolic link /usr/sap/PRD/SYS/exe/dbg to
    /sapmnt/PRD/exe. Creating if it does not exist...

WARNING 2002-03-19 16:45:36 R3LINKS_IND_IND SyLinkCreate:400
    Link /usr/sap/PRD/SYS/exe/dbg exists but it points to file
    /compat/linux/sapmnt/PRD/exe instead of /sapmnt/PRD/exe. The
    program cannot go on as long as this link exists at this
    location. Move the link to another location.

ERROR 2002-03-19 16:45:36 R3LINKS_IND_IND Ins_SetupLinks:0
    can not setup link '/usr/sap/PRD/SYS/exe/dbg' with content
    '/sapmnt/PRD/exe'</pre></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="creatingusersanddirectories"></a>10.7.7.2. Creating Users and Directories</h4></div></div></div><p><span class="application"><span class="trademark">SAP</span>(R) <span class="trademark">R/3</span>(R)</span> needs two users and
	  three groups. The user names depend on the
	  <span class="application"><span class="trademark">SAP</span>(R)</span> system ID (SID) which consists
	  of three letters. Some of these SIDs are reserved
	  by <span class="application"><span class="trademark">SAP</span>(R)</span> (for example
	  <code class="literal">SAP</code> and <code class="literal">NIX</code>. For a
	  complete list please see the <span class="application"><span class="trademark">SAP</span>(R)</span> documentation).  For the IDES
	  installation we used <code class="literal">IDS</code>, for the
	  4.6C SR2 installation <code class="literal">PRD</code>, as that system
	  is intended for production use.  We have
	  therefore the following groups (group IDs might differ, these
	  are just the values we used with our installation):</p><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /><col /></colgroup><thead><tr><th>group ID</th><th>group name</th><th>description</th></tr></thead><tbody><tr><td>100</td><td>dba</td><td>Data Base Administrator</td></tr><tr><td>101</td><td>sapsys</td><td><span class="trademark">SAP</span>(R) System</td></tr><tr><td>102</td><td>oper</td><td>Data Base Operator</td></tr></tbody></table></div><p>For a default <span class="application"><span class="trademark">Oracle</span>(R)</span> installation, only group
          <code class="systemitem">dba</code> is used. As
          <code class="systemitem">oper</code> group, one also uses group
          <code class="systemitem">dba</code> (see <span class="application"><span class="trademark">Oracle</span>(R)</span> and
          <span class="application"><span class="trademark">SAP</span>(R)</span> documentation for further information).</p><p>We also need the following users:</p><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /><col /><col /><col /><col /></colgroup><thead><tr><th>user ID</th><th>user name</th><th>generic name</th><th>group</th><th>additional groups</th><th>description</th></tr></thead><tbody><tr><td>1000</td><td>idsadm/prdadm</td><td><em class="replaceable"><code>sid</code></em>adm</td><td>sapsys</td><td>oper</td><td><span class="trademark">SAP</span>(R) Administrator</td></tr><tr><td>1002</td><td>oraids/oraprd</td><td>ora<em class="replaceable"><code>sid</code></em></td><td>dba</td><td>oper</td><td><span class="trademark">Oracle</span>(R) Administrator</td></tr></tbody></table></div><p>Adding the users with <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=adduser&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">adduser</span>(8)</span></a>
          requires the following (please note shell and home
          directory) entries for <span class="quote">"<span class="quote"><span class="trademark">SAP</span>(R) Administrator</span>"</span>:</p><pre class="programlisting">Name: <em class="replaceable"><code>sid</code></em>adm
Password: ******
Fullname: SAP Administrator <em class="replaceable"><code>SID</code></em>
Uid: 1000
Gid: 101 (sapsys)
Class:
Groups: sapsys dba
HOME: /home/<em class="replaceable"><code>sid</code></em>adm
Shell: bash  (/compat/linux/bin/bash)</pre><p>and for <span class="quote">"<span class="quote"><span class="trademark">Oracle</span>(R) Administrator</span>"</span>:</p><pre class="programlisting">Name: ora<em class="replaceable"><code>sid</code></em>
Password: ******
Fullname: Oracle Administrator <em class="replaceable"><code>SID</code></em>
Uid: 1002
Gid: 100 (dba)
Class:
Groups: dba
HOME: /oracle/<em class="replaceable"><code>sid</code></em>
Shell: bash  (/compat/linux/bin/bash)</pre><p>This should also include group
          <code class="systemitem">oper</code> in case you are using both
          groups <code class="systemitem">dba</code> and
          <code class="systemitem">oper</code>.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="creatingdirectories"></a>10.7.7.3. Creating Directories</h4></div></div></div><p>These directories are usually created as separate
          file systems.  This depends entirely on your requirements.  We
          choose to create them as simple directories, as they are all
          located on the same RAID 5 anyway:</p><p>First we will set owners and rights of some directories (as
          user <code class="systemitem">root</code>):</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>chmod 775 /oracle</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>chmod 777 /sapmnt</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>chown root:dba /oracle</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>chown sidadm:sapsys /compat/linux/usr/sap</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>chmod 775 /compat/linux/usr/sap</code></strong></pre><p>Second we will create directories as user
	  <code class="systemitem">ora<em class="replaceable"><code>sid</code></em></code>. These
          will all be subdirectories of
	  <code class="filename">/oracle/SID</code>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>su - orasid</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>cd /oracle/SID</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>mkdir mirrlogA mirrlogB origlogA origlogB</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>mkdir sapdata1 sapdata2 sapdata3 sapdata4 sapdata5 sapdata6</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>mkdir saparch sapreorg</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>exit</code></strong></pre><p>For the <span class="application"><span class="trademark">Oracle</span>(R) 8.1.7</span> installation
	  some additional directories are needed:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>su - orasid</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>cd /oracle</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>mkdir 805_32</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>mkdir client stage</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>mkdir client/80x_32</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>mkdir stage/817_32</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>cd /oracle/SID</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>mkdir 817_32</code></strong></pre><div xmlns="" class="note"><h3 class="admontitle">Uwaga: </h3><p xmlns="http://www.w3.org/1999/xhtml">The directory <code class="filename">client/80x_32</code> is used
	  with exactly this name. Do not replace the <span class="emphasis"><em>x</em></span>
	  with some number or anything.</p></div><p>In the third step we create directories as user
	  <code class="systemitem"><em class="replaceable"><code>sid</code></em>adm</code>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>su - sidadm</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>cd /usr/sap</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>mkdir SID</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>mkdir trans</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>exit</code></strong></pre></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="entriesinslashetcslashservices"></a>10.7.7.4. Entries in <code class="filename">/etc/services</code></h4></div></div></div><p><span class="application"><span class="trademark">SAP</span>(R) <span class="trademark">R/3</span>(R)</span> requires some entries in file
          <code class="filename">/etc/services</code>, which will not be set
          correctly during installation under FreeBSD.  Please add the
          following entries (you need at least those entries
          corresponding to the instance number - in this case,
          <code class="literal">00</code>.  It will do no harm adding all
          entries from <code class="literal">00</code> to
          <code class="literal">99</code> for <code class="literal">dp</code>,
          <code class="literal">gw</code>, <code class="literal">sp</code> and
          <code class="literal">ms</code>). If you are going to use a <span class="application">SAProuter</span>
	  or need to access <span class="application"><span class="trademark">SAP</span>(R)</span> OSS, you also need <code class="literal">99</code>,
	  as port 3299 is usually used for the <span class="application">SAProuter</span> process on the
	  target system:</p><pre class="programlisting">
sapdp00    3200/tcp # SAP Dispatcher.      3200 + Instance-Number
sapgw00  3300/tcp # SAP Gateway.         3300 + Instance-Number
sapsp00  3400/tcp #                      3400 + Instance-Number
sapms00  3500/tcp #                      3500 + Instance-Number
sapms<em class="replaceable"><code>SID</code></em> 3600/tcp # SAP Message Server.  3600 + Instance-Number
sapgw00s   4800/tcp # SAP Secure Gateway   4800 + Instance-Number</pre></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="necessarylocales"></a>10.7.7.5. Necessary Locales</h4></div></div></div><a id="idp83280464" class="indexterm"></a><p><span class="application"><span class="trademark">SAP</span>(R)</span> requires at least two locales that are not part of
          the default RedHat installation. <span class="trademark">SAP</span>(R) offers the required
          RPMs as download from their FTP server (which is only
          accessible if you are a customer with OSS access).  See note
          0171356 for a list of RPMs you need.</p><p>It is also possible to just create appropriate links
          (for example from <span class="emphasis"><em>de_DE</em></span> and
          <span class="emphasis"><em>en_US</em></span> ), but we would not recommend this
          for a production system (so far it worked with the IDES
          system without any problems, though).  The following locales
          are needed:</p><pre class="programlisting">de_DE.ISO-8859-1
en_US.ISO-8859-1</pre><p>Create the links like this:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cd /compat/linux/usr/share/locale</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>ln -s de_DE de_DE.ISO-8859-1</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>ln -s en_US en_US.ISO-8859-1</code></strong></pre><p>If they are not present, there will be some problems
          during the installation.  If these are then subsequently
          ignored (by setting the <code class="literal">STATUS</code> of the offending steps to
          <code class="literal">OK</code> in file <code class="filename">CENTRDB.R3S</code>), it will be impossible to log onto
          the <span class="application"><span class="trademark">SAP</span>(R)</span> system without some additional effort.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="kerneltuning"></a>10.7.7.6. Kernel Tuning</h4></div></div></div><a id="idp83294032" class="indexterm"></a><p><span class="application"><span class="trademark">SAP</span>(R) <span class="trademark">R/3</span>(R)</span> systems need a lot of resources.  We therefore
        added the following parameters to the kernel configuration file:</p><pre class="programlisting"># Set these for memory pigs (SAP and Oracle):
options MAXDSIZ="(1024*1024*1024)"
options DFLDSIZ="(1024*1024*1024)"
# System V options needed.
options SYSVSHM #SYSV-style shared memory
options SHMMAXPGS=262144 #max amount of shared mem. pages
#options SHMMAXPGS=393216 #use this for the 46C inst.parameters
options SHMMNI=256 #max number of shared memory ident if.
options SHMSEG=100 #max shared mem.segs per process
options SYSVMSG #SYSV-style message queues
options MSGSEG=32767 #max num. of mes.segments in system
options MSGSSZ=32 #size of msg-seg. MUST be power of 2
options MSGMNB=65535 #max char. per message queue
options MSGTQL=2046 #max amount of msgs in system
options SYSVSEM #SYSV-style semaphores
options SEMMNU=256 #number of semaphore UNDO structures
options SEMMNS=1024 #number of semaphores in system
options SEMMNI=520 #number of semaphore identifiers
options SEMUME=100       #number of UNDO keys</pre><p>The minimum values are specified in the documentation that
          comes from <span class="trademark">SAP</span>(R).  As there is no description for Linux, see the
          HP-UX section (32-bit) for further information. As the system
	  for the 4.6C SR2 installation has more main memory, the shared
	  segments can be larger both for <span class="application"><span class="trademark">SAP</span>(R)</span>
	  and <span class="application"><span class="trademark">Oracle</span>(R)</span>, therefore choose a larger
	  number of shared memory pages.</p><div xmlns="" class="note"><h3 class="admontitle">Uwaga: </h3><p xmlns="http://www.w3.org/1999/xhtml">With the default installation of FreeBSD on <span class="trademark">i386</span>TM,
	  leave <code class="literal">MAXDSIZ</code> and <code class="literal">DFLDSIZ</code> at 1 GB maximum. Otherwise, strange
	  errors like <span class="errorname">ORA-27102: out of memory</span> and
          <span class="errorname">Linux Error: 12: Cannot allocate memory</span>
          might happen.</p></div></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="installingsapr3"></a>10.7.8. Installing <span class="trademark">SAP</span>(R) <span class="trademark">R/3</span>(R)</h3></div></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="preparingsapcdroms"></a>10.7.8.1. Preparing <span class="trademark">SAP</span>(R) CDROMs</h4></div></div></div><p>There are many CDROMs to mount and unmount during the
          installation.  Assuming you have enough CDROM drives, you
          can just mount them all.  We decided to copy the CDROMs
          contents to corresponding directories:</p><pre class="programlisting">/oracle/<em class="replaceable"><code>SID</code></em>/sapreorg/<em class="replaceable"><code>cd-name</code></em></pre><p>where <em class="replaceable"><code>cd-name</code></em> was one of <code class="filename">KERNEL</code>,
	  <code class="filename">RDBMS</code>, <code class="filename">EXPORT1</code>,
	  <code class="filename">EXPORT2</code>, <code class="filename">EXPORT3</code>,
	  <code class="filename">EXPORT4</code>, <code class="filename">EXPORT5</code> and
	  <code class="filename">EXPORT6</code> for the 4.6B/IDES installation, and
	  <code class="filename">KERNEL</code>, <code class="filename">RDBMS</code>,
	  <code class="filename">DISK1</code>, <code class="filename">DISK2</code>,
	  <code class="filename">DISK3</code>, <code class="filename">DISK4</code> and
	  <code class="filename">LANG</code> for the 4.6C SR2 installation. All the
	  filenames on the mounted CDs should be in capital letters,
	  otherwise use the <code class="option">-g</code> option for mounting. So use the following
	  commands:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mount_cd9660 -g /dev/cd0a /mnt</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>cp -R /mnt/* /oracle/SID/sapreorg/cd-name</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>umount /mnt</code></strong></pre></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="runningtheinstall-script"></a>10.7.8.2. Running the Installation Script</h4></div></div></div><p>First you have to prepare an <code class="filename">install</code> directory:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cd /oracle/SID/sapreorg</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>mkdir install</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>cd install</code></strong></pre><p>Then the installation script is started, which will copy nearly
          all the relevant files into the <code class="filename">install</code> directory:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>/oracle/SID/sapreorg/KERNEL/UNIX/INSTTOOL.SH</code></strong></pre><p>The IDES installation (4.6B) comes with a fully customized
	  <span class="trademark">SAP</span>(R) <span class="trademark">R/3</span>(R) demonstration system, so there are six instead of just three
          EXPORT CDs.  At this point the installation template
	  <code class="filename">CENTRDB.R3S</code> is for installing a standard
	  central instance (<span class="application"><span class="trademark">R/3</span>(R)</span> and database), not the IDES central
	  instance, so one needs to copy the corresponding <code class="filename">CENTRDB.R3S</code>
	  from the <code class="filename">EXPORT1</code> directory, otherwise <code class="command">R3SETUP</code> will only ask
	  for three EXPORT CDs.</p><p>The newer <span class="application"><span class="trademark">SAP</span>(R) 4.6C SR2</span> release
	  comes with four EXPORT CDs. The parameter file that controls
	  the installation steps is <code class="filename">CENTRAL.R3S</code>.
	  Contrary to earlier releases there are no separate installation
	  templates for a central instance with or without database.
	  <span class="application"><span class="trademark">SAP</span>(R)</span> is using a separate template for database installation. To restart
	  the installation later it is however sufficient to restart with
	  the original file.</p><p>During and after installation, <span class="application"><span class="trademark">SAP</span>(R)</span> requires
	  <code class="command">hostname</code> to return the computer name
	  only, not the fully qualified domain name. So either
	  set the hostname accordingly, or set an alias with
	  <code class="command">alias hostname='hostname -s'</code> for
	  both <code class="systemitem">ora<em class="replaceable"><code>sid</code></em></code> and
	  <code class="systemitem"><em class="replaceable"><code>sid</code></em>adm</code> (and for
	  <code class="systemitem">root</code> at least during installation
	  steps performed as <code class="systemitem">root</code>). It is also
	  possible to adjust the installed <code class="filename">.profile</code> and <code class="filename">.login</code> files of
	  both users that are installed during
	  <span class="application"><span class="trademark">SAP</span>(R)</span> installation.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="startr3setup-46B"></a>10.7.8.3. Start <code class="command">R3SETUP</code> 4.6B</h4></div></div></div><p>Make sure <code class="envar">LD_LIBRARY_PATH</code> is set correctly:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>export LD_LIBRARY_PATH=/oracle/IDS/lib:/sapmnt/IDS/exe:/oracle/805_32/lib</code></strong></pre><p>Start <code class="command">R3SETUP</code> as <code class="systemitem">root</code> from
	  installation directory:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cd /oracle/IDS/sapreorg/install</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>./R3SETUP -f CENTRDB.R3S</code></strong></pre><p>The script then asks some questions (defaults in brackets,
        followed by actual input):</p><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /><col /></colgroup><thead><tr><th>Question</th><th>Default</th><th>Input</th></tr></thead><tbody><tr><td>Enter SAP System ID</td><td>[C11]</td><td>IDS<span class="keycap"><strong>Enter</strong></span></td></tr><tr><td>Enter SAP Instance Number</td><td>[00]</td><td><span class="keycap"><strong>Enter</strong></span></td></tr><tr><td>Enter SAPMOUNT Directory</td><td>[/sapmnt]</td><td><span class="keycap"><strong>Enter</strong></span></td></tr><tr><td>Enter name of SAP central host</td><td>[troubadix.domain.de]</td><td><span class="keycap"><strong>Enter</strong></span></td></tr><tr><td>Enter name of SAP db host</td><td>[troubadix]</td><td><span class="keycap"><strong>Enter</strong></span></td></tr><tr><td>Select character set</td><td>[1] (WE8DEC)</td><td><span class="keycap"><strong>Enter</strong></span></td></tr><tr><td>Enter Oracle server version (1) Oracle 8.0.5, (2) Oracle 8.0.6, (3) Oracle 8.1.5, (4) Oracle 8.1.6</td><td> </td><td>1<span class="keycap"><strong>Enter</strong></span></td></tr><tr><td>Extract Oracle Client archive</td><td>[1] (Yes, extract)</td><td><span class="keycap"><strong>Enter</strong></span></td></tr><tr><td>Enter path to KERNEL CD</td><td>[/sapcd]</td><td>/oracle/IDS/sapreorg/KERNEL</td></tr><tr><td>Enter path to RDBMS CD</td><td>[/sapcd]</td><td>/oracle/IDS/sapreorg/RDBMS</td></tr><tr><td>Enter path to EXPORT1 CD</td><td>[/sapcd]</td><td>/oracle/IDS/sapreorg/EXPORT1</td></tr><tr><td>Directory to copy EXPORT1 CD</td><td>[/oracle/IDS/sapreorg/CD4_DIR]</td><td><span class="keycap"><strong>Enter</strong></span></td></tr><tr><td>Enter path to EXPORT2 CD</td><td>[/sapcd]</td><td>/oracle/IDS/sapreorg/EXPORT2</td></tr><tr><td>Directory to copy EXPORT2 CD</td><td>[/oracle/IDS/sapreorg/CD5_DIR]</td><td><span class="keycap"><strong>Enter</strong></span></td></tr><tr><td>Enter path to EXPORT3 CD</td><td>[/sapcd]</td><td>/oracle/IDS/sapreorg/EXPORT3</td></tr><tr><td>Directory to copy EXPORT3 CD</td><td>[/oracle/IDS/sapreorg/CD6_DIR]</td><td><span class="keycap"><strong>Enter</strong></span></td></tr><tr><td>Enter path to EXPORT4 CD</td><td>[/sapcd]</td><td>/oracle/IDS/sapreorg/EXPORT4</td></tr><tr><td>Directory to copy EXPORT4 CD</td><td>[/oracle/IDS/sapreorg/CD7_DIR]</td><td><span class="keycap"><strong>Enter</strong></span></td></tr><tr><td>Enter path to EXPORT5 CD</td><td>[/sapcd]</td><td>/oracle/IDS/sapreorg/EXPORT5</td></tr><tr><td>Directory to copy EXPORT5 CD</td><td>[/oracle/IDS/sapreorg/CD8_DIR]</td><td><span class="keycap"><strong>Enter</strong></span></td></tr><tr><td>Enter path to EXPORT6 CD</td><td>[/sapcd]</td><td>/oracle/IDS/sapreorg/EXPORT6</td></tr><tr><td>Directory to copy EXPORT6 CD</td><td>[/oracle/IDS/sapreorg/CD9_DIR]</td><td><span class="keycap"><strong>Enter</strong></span></td></tr><tr><td>Enter amount of RAM for SAP + DB</td><td> </td><td>850<span class="keycap"><strong>Enter</strong></span> (in Megabytes)</td></tr><tr><td>Service Entry Message Server</td><td>[3600]</td><td><span class="keycap"><strong>Enter</strong></span></td></tr><tr><td>Enter Group-ID of sapsys</td><td>[101]</td><td><span class="keycap"><strong>Enter</strong></span></td></tr><tr><td>Enter Group-ID of oper</td><td>[102]</td><td><span class="keycap"><strong>Enter</strong></span></td></tr><tr><td>Enter Group-ID of dba</td><td>[100]</td><td><span class="keycap"><strong>Enter</strong></span></td></tr><tr><td>Enter User-ID of <em class="replaceable"><code>sid</code></em>adm</td><td>[1000]</td><td><span class="keycap"><strong>Enter</strong></span></td></tr><tr><td>Enter User-ID of ora<em class="replaceable"><code>sid</code></em></td><td>[1002]</td><td><span class="keycap"><strong>Enter</strong></span></td></tr><tr><td>Number of parallel procs</td><td>[2]</td><td><span class="keycap"><strong>Enter</strong></span></td></tr></tbody></table></div><p>If you had not copied the CDs to the different locations,
          then the <span class="application"><span class="trademark">SAP</span>(R)</span> installer cannot find the CD needed (identified
          by the <code class="filename">LABEL.ASC</code> file on the CD) and would
          then ask you to insert and mount the CD and confirm or enter
          the mount path.</p><p>The <code class="filename">CENTRDB.R3S</code> might not be
          error free. In our case, it requested EXPORT4 CD again but
          indicated the correct key (6_LOCATION, then 7_LOCATION
          etc.), so one can just continue with entering the correct
          values.</p><p>Apart from some problems mentioned below, everything
          should go straight through up to the point where the <span class="trademark">Oracle</span>(R)
          database software needs to be installed.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="startr3setup-46C"></a>10.7.8.4. Start <code class="command">R3SETUP</code> 4.6C SR2</h4></div></div></div><p>Make sure <code class="envar">LD_LIBRARY_PATH</code> is set correctly. This is a
	  different value from the 4.6B installation with
	  <span class="application"><span class="trademark">Oracle</span>(R) 8.0.5</span>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>export LD_LIBRARY_PATH=/sapmnt/PRD/exe:/oracle/PRD/817_32/lib</code></strong></pre><p>Start <code class="command">R3SETUP</code> as user <code class="systemitem">root</code> from installation directory:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cd /oracle/PRD/sapreorg/install</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>./R3SETUP -f CENTRAL.R3S</code></strong></pre><p>The script then asks some questions (defaults in brackets,
	  followed by actual input):</p><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /><col /></colgroup><thead><tr><th>Question</th><th>Default</th><th>Input</th></tr></thead><tbody><tr><td>Enter SAP System ID</td><td>[C11]</td><td>PRD<span class="keycap"><strong>Enter</strong></span></td></tr><tr><td>Enter SAP Instance Number</td><td>[00]</td><td><span class="keycap"><strong>Enter</strong></span></td></tr><tr><td>Enter SAPMOUNT Directory</td><td>[/sapmnt]</td><td><span class="keycap"><strong>Enter</strong></span></td></tr><tr><td>Enter name of SAP central host</td><td>[majestix]</td><td><span class="keycap"><strong>Enter</strong></span></td></tr><tr><td>Enter Database System ID</td><td>[PRD]</td><td>PRD<span class="keycap"><strong>Enter</strong></span></td></tr><tr><td>Enter name of SAP db host</td><td>[majestix]</td><td><span class="keycap"><strong>Enter</strong></span></td></tr><tr><td>Select character set</td><td>[1] (WE8DEC)</td><td><span class="keycap"><strong>Enter</strong></span></td></tr><tr><td>Enter Oracle server version (2) Oracle 8.1.7</td><td> </td><td>2<span class="keycap"><strong>Enter</strong></span></td></tr><tr><td>Extract Oracle Client archive</td><td>[1] (Yes, extract)</td><td><span class="keycap"><strong>Enter</strong></span></td></tr><tr><td>Enter path to KERNEL CD</td><td>[/sapcd]</td><td>/oracle/PRD/sapreorg/KERNEL</td></tr><tr><td>Enter amount of RAM for SAP + DB</td><td>2044</td><td>1800<span class="keycap"><strong>Enter</strong></span> (in Megabytes)</td></tr><tr><td>Service Entry Message Server</td><td>[3600]</td><td><span class="keycap"><strong>Enter</strong></span></td></tr><tr><td>Enter Group-ID of sapsys</td><td>[100]</td><td><span class="keycap"><strong>Enter</strong></span></td></tr><tr><td>Enter Group-ID of oper</td><td>[101]</td><td><span class="keycap"><strong>Enter</strong></span></td></tr><tr><td>Enter Group-ID of dba</td><td>[102]</td><td><span class="keycap"><strong>Enter</strong></span></td></tr><tr><td>Enter User-ID of <code class="systemitem">oraprd</code></td><td>[1002]</td><td><span class="keycap"><strong>Enter</strong></span></td></tr><tr><td>Enter User-ID of <code class="systemitem">prdadm</code></td><td>[1000]</td><td><span class="keycap"><strong>Enter</strong></span></td></tr><tr><td>LDAP support</td><td> </td><td>3<span class="keycap"><strong>Enter</strong></span> (no support)</td></tr><tr><td>Installation step completed</td><td>[1] (continue)</td><td><span class="keycap"><strong>Enter</strong></span></td></tr><tr><td>Choose installation service</td><td>[1] (DB inst,file)</td><td><span class="keycap"><strong>Enter</strong></span></td></tr></tbody></table></div><p>So far, creation of users gives an error during
	  installation in phases OSUSERDBSID_IND_ORA (for creating
	  user <code class="systemitem">ora<em class="replaceable"><code>sid</code></em></code>) and
	  OSUSERSIDADM_IND_ORA (creating user
	  <code class="systemitem"><em class="replaceable"><code>sid</code></em>adm</code>).</p><p>Apart from some problems mentioned below, everything
          should go straight through up to the point where the <span class="trademark">Oracle</span>(R)
          database software needs to be installed.</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="installingoracle805"></a>10.7.9. Installing <span class="trademark">Oracle</span>(R) 8.0.5</h3></div></div></div><p>Please see the corresponding <span class="trademark">SAP</span>(R) Notes and <span class="trademark">Oracle</span>(R) <code class="filename">Readme</code>s
        regarding Linux and <span class="application"><span class="trademark">Oracle</span>(R) DB</span> for possible problems. Most if
        not all problems stem from incompatible libraries.</p><p>For more information on installing <span class="application"><span class="trademark">Oracle</span>(R)</span>, refer to <a class="link" href="linuxemu-oracle.html" title="10.6. Installing Oracle(R)">the Installing <span class="trademark">Oracle</span>(R)
	  chapter.</a></p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="installingtheoracle805withorainst"></a>10.7.9.1. Installing the <span class="trademark">Oracle</span>(R) 8.0.5 with <code class="command">orainst</code></h4></div></div></div><p>If <span class="application"><span class="trademark">Oracle</span>(R) 8.0.5</span> is to be
          used, some additional libraries are needed for successfully
          relinking, as <span class="application"><span class="trademark">Oracle</span>(R) 8.0.5</span> was linked with an old glibc
          (RedHat 6.0), but RedHat 6.1 already uses a new glibc. So
          you have to install the following additional packages to
          ensure that linking will work:</p><p><code class="filename">compat-libs-5.2-2.i386.rpm</code></p><p><code class="filename">compat-glibc-5.2-2.0.7.2.i386.rpm</code></p><p><code class="filename">compat-egcs-5.2-1.0.3a.1.i386.rpm</code></p><p><code class="filename">compat-egcs-c++-5.2-1.0.3a.1.i386.rpm</code></p><p><code class="filename">compat-binutils-5.2-2.9.1.0.23.1.i386.rpm</code></p><p>See the corresponding <span class="trademark">SAP</span>(R) Notes or <span class="trademark">Oracle</span>(R) <code class="filename">Readme</code>s for
          further information.  If this is no option (at the time of
          installation we did not have enough time to check this), one
          could use the original binaries, or use the relinked
          binaries from an original RedHat system.</p><p>For compiling the intelligent agent, the RedHat Tcl
          package must be installed.  If you cannot get
          <code class="filename">tcl-8.0.3-20.i386.rpm</code>, a newer one like
          <code class="filename">tcl-8.0.5-30.i386.rpm</code> for RedHat 6.1
          should also do.</p><p>Apart from relinking, the installation is
          straightforward:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>su - oraids</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>export TERM=xterm</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>export ORACLE_TERM=xterm</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>export ORACLE_HOME=/oracle/IDS</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>cd $ORACLE_HOME/orainst_sap</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>./orainst</code></strong></pre><p>Confirm all screens with <span class="keycap"><strong>Enter</strong></span> until the software is
          installed, except that one has to deselect the
          <span class="emphasis"><em><span class="trademark">Oracle</span>(R) On-Line Text Viewer</em></span>, as this is
          not currently available for Linux. <span class="application"><span class="trademark">Oracle</span>(R)</span> then wants to
          relink with <code class="command">i386-glibc20-linux-gcc</code>
          instead of the available <code class="command">gcc</code>,
          <code class="command">egcs</code> or <code class="command">i386-redhat-linux-gcc
          </code>.</p><p>Due to time constrains we decided to use the binaries
          from an <span class="application"><span class="trademark">Oracle</span>(R) 8.0.5 PreProduction</span>
	  release, after the first
          attempt at getting the version from the RDBMS CD working,
          failed, and finding and accessing the correct RPMs was a
          nightmare at that time.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="installingtheoracle805preproduction"></a>10.7.9.2. Installing the <span class="trademark">Oracle</span>(R) 8.0.5 Pre-production Release for
          Linux (Kernel 2.0.33)</h4></div></div></div><p>This installation is quite easy. Mount the CD, start the
          installer.  It will then ask for the location of the <span class="trademark">Oracle</span>(R)
          home directory, and copy all binaries there. We did not
          delete the remains of our previous RDBMS installation tries,
          though.</p><p>Afterwards, <span class="application"><span class="trademark">Oracle</span>(R)</span> Database could be started with no
          problems.</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="installingoracle817"></a>10.7.10. Installing the <span class="trademark">Oracle</span>(R) 8.1.7 Linux Tarball</h3></div></div></div><p>Take the tarball <code class="filename">oracle81732.tgz</code> you
	produced from the installation directory on a Linux system
	and untar it to <code class="filename">/oracle/SID/817_32/</code>.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="continuewithsapr4installation"></a>10.7.11. Continue with <span class="trademark">SAP</span>(R) <span class="trademark">R/3</span>(R) Installation</h3></div></div></div><p>First check the environment settings of users
	<code class="systemitem">idsamd</code>
        (<em class="replaceable"><code>sid</code></em>adm) and
	<code class="systemitem">oraids</code> (ora<em class="replaceable"><code>sid</code></em>). They should now
        both have the files <code class="filename">.profile</code>,
        <code class="filename">.login</code> and <code class="filename">.cshrc</code>
        which are all using <code class="command">hostname</code>. In case the
        system's hostname is the fully qualified name, you need to
        change <code class="command">hostname</code> to <code class="command">hostname
        -s</code> within all three files.</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="databaseload"></a>10.7.11.1. Database Load</h4></div></div></div><p>Afterwards, <code class="command">R3SETUP</code> can either be restarted or continued
          (depending on whether exit was chosen or not). <code class="command">R3SETUP</code> then
	  creates the tablespaces and loads the data (for 46B IDES, from
	  EXPORT1 to EXPORT6, for 46C from DISK1 to DISK4) with <code class="command">R3load</code>
	  into the database.</p><p>When the database load is finished (might take a few
          hours), some passwords are requested. For test
          installations, one can use the well known default passwords
          (use different ones if security is an issue!):</p><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Question</th><th>Input</th></tr></thead><tbody><tr><td>Enter Password for sapr3</td><td>sap<span class="keycap"><strong>Enter</strong></span></td></tr><tr><td>Confirum Password for sapr3</td><td>sap<span class="keycap"><strong>Enter</strong></span></td></tr><tr><td>Enter Password for sys</td><td>change_on_install<span class="keycap"><strong>Enter</strong></span></td></tr><tr><td>Confirm Password for sys</td><td>change_on_install<span class="keycap"><strong>Enter</strong></span></td></tr><tr><td>Enter Password for system</td><td>manager<span class="keycap"><strong>Enter</strong></span></td></tr><tr><td>Confirm Password for system</td><td>manager<span class="keycap"><strong>Enter</strong></span></td></tr></tbody></table></div><p>At this point We had a few problems with
	  <code class="command">dipgntab</code> during the 4.6B
	  installation.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="listener"></a>10.7.11.2. Listener</h4></div></div></div><p>Start the <span class="application"><span class="trademark">Oracle</span>(R)</span> Listener as user
	  <code class="systemitem">ora<em class="replaceable"><code>sid</code></em></code> as follows:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>umask 0; lsnrctl start</code></strong></pre><p>Otherwise you might get the error <span class="errorcode">ORA-12546</span> as the sockets will not
        have the correct permissions. See <span class="trademark">SAP</span>(R) Note 072984.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="mnlstables"></a>10.7.11.3. Updating MNLS Tables</h4></div></div></div><p>If you plan to import non-Latin-1 languages into the <span class="application"><span class="trademark">SAP</span>(R)</span> system,
	  you have to update the Multi National Language Support tables.
	  This is described in the <span class="trademark">SAP</span>(R) OSS Notes 15023 and 45619. Otherwise,
	  you can skip this question during <span class="application"><span class="trademark">SAP</span>(R)</span> installation.</p><div xmlns="" class="note"><h3 class="admontitle">Uwaga: </h3><p xmlns="http://www.w3.org/1999/xhtml">If you do not need MNLS, it is still necessary to check
	  the table TCPDB and initializing it if this has not been done. See
	  <span class="trademark">SAP</span>(R) note 0015023 and 0045619 for further information.</p></div></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="postinstallationsteps"></a>10.7.12. Post-installation Steps</h3></div></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="requestsapr3licensekey"></a>10.7.12.1. Request <span class="trademark">SAP</span>(R) <span class="trademark">R/3</span>(R) License Key</h4></div></div></div><p>You have to request your <span class="application"><span class="trademark">SAP</span>(R) <span class="trademark">R/3</span>(R)</span> License Key. This is needed,
	  as the temporary license that was installed during installation
	  is only valid for four weeks. First get the hardware key.  Log
	  on as user <code class="systemitem">idsadm</code> and call
	  <code class="command">saplicense</code>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>/sapmnt/IDS/exe/saplicense -get</code></strong></pre><p>Calling <code class="command">saplicense</code> without parameters gives
	  a list of options.  Upon receiving the license key, it can be
	  installed using:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>/sapmnt/IDS/exe/saplicense -install</code></strong></pre><p>You are then required to enter the following values:</p><pre class="programlisting">SAP SYSTEM ID   = <em class="replaceable"><code>SID, 3 chars</code></em>
CUSTOMER KEY    = <em class="replaceable"><code>hardware key, 11 chars</code></em>
INSTALLATION NO = <em class="replaceable"><code>installation, 10 digits</code></em>
EXPIRATION DATE = <em class="replaceable"><code>yyyymmdd, usually "99991231"</code></em>
LICENSE KEY     = <em class="replaceable"><code>license key, 24 chars</code></em></pre></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="creatingusers"></a>10.7.12.2. Creating Users</h4></div></div></div><p>Create a user within client 000 (for some tasks required
        to be done within client 000, but with a user different from
        users <code class="systemitem">sap*</code> and
        <code class="systemitem">ddic</code>). As a user name, We usually choose
        <code class="systemitem">wartung</code> (or
        <code class="systemitem">service</code> in English).  Profiles
        required are <code class="literal">sap_new</code> and
        <code class="literal">sap_all</code>. For additional safety the
        passwords of default users within all clients should be
        changed (this includes users <code class="systemitem">sap*</code> and
        <code class="systemitem">ddic</code>).</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="configtranssysprofileopermodesetc"></a>10.7.12.3. Configure Transport System, Profile, Operation Modes, Etc.</h4></div></div></div><p>Within client 000, user different from <code class="systemitem">ddic</code>
	  and <code class="systemitem">sap*</code>, do at least the following:</p><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Task</th><th>Transaction</th></tr></thead><tbody><tr><td>Configure Transport System, e.g. as <span class="emphasis"><em>Stand-Alone
            Transport Domain Entity</em></span></td><td>STMS</td></tr><tr><td>Create / Edit Profile for System</td><td>RZ10</td></tr><tr><td>Maintain Operation Modes and Instances</td><td>RZ04</td></tr></tbody></table></div><p>These and all the other post-installation steps are
          thoroughly described in <span class="application"><span class="trademark">SAP</span>(R)</span> installation guides.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="editintsidsap"></a>10.7.12.4. Edit <code class="filename">initsid.sap</code> (<code class="filename">initIDS.sap</code>)</h4></div></div></div><p>The file <code class="filename">/oracle/IDS/dbs/initIDS.sap</code>
	  contains the <span class="application"><span class="trademark">SAP</span>(R)</span> backup profile.  Here the size of the tape to
	  be used, type of compression and so on need to be defined. To
          get this running with <code class="command">sapdba</code> /
	  <code class="command">brbackup</code>, we changed the following values:</p><pre class="programlisting">compress = hardware
archive_function = copy_delete_save
cpio_flags = "-ov --format=newc --block-size=128 --quiet"
cpio_in_flags = "-iuv --block-size=128 --quiet"
tape_size = 38000M
tape_address = /dev/nsa0
tape_address_rew = /dev/sa0</pre><p>Explanations:</p><p><code class="varname">compress</code>: The tape we use is a HP DLT1
        which does hardware compression.</p><p><code class="varname">archive_function</code>: This defines the
        default behavior for saving <span class="trademark">Oracle</span>(R) archive logs: new logfiles
        are saved to tape, already saved logfiles are saved again and
        are then deleted.  This prevents lots of trouble if you need to
        recover the database, and one of the archive-tapes has gone
        bad.</p><p><code class="varname">cpio_flags</code>: Default is to use <code class="option">-B</code> which
        sets block size to 5120 Bytes. For DLT Tapes, HP recommends at
        least 32 K block size, so we used <code class="option">--block-size=128</code> for
        64 K. <code class="option">--format=newc</code> is needed because we have inode numbers greater than
        65535. The last option <code class="option">--quiet</code> is needed as otherwise
	<code class="command">brbackup</code>
        complains as soon as <code class="command">cpio</code> outputs the
	numbers of blocks saved.</p><p><code class="varname">cpio_in_flags</code>: Flags needed for
        loading data back from tape. Format is recognized
        automatically.</p><p><code class="varname">tape_size</code>: This usually gives the raw
        storage capability of the tape. For security reason (we use
        hardware compression), the value is slightly lower than the
        actual value.</p><p><code class="varname">tape_address</code>: The non-rewindable
        device to be used with <code class="command">cpio</code>.</p><p><code class="varname">tape_address_rew</code>: The rewindable device to be
        used with <code class="command">cpio</code>.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp83646160"></a>10.7.12.5. Configuration Issues after Installation</h4></div></div></div><p>The following <span class="application"><span class="trademark">SAP</span>(R)</span> parameters should be tuned after
	  installation (examples for IDES 46B, 1 GB memory):</p><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Name</th><th>Value</th></tr></thead><tbody><tr><td>ztta/roll_extension</td><td>250000000</td></tr><tr><td>abap/heap_area_dia</td><td>300000000</td></tr><tr><td>abap/heap_area_nondia</td><td>400000000</td></tr><tr><td>em/initial_size_MB</td><td>256</td></tr><tr><td>em/blocksize_kB</td><td>1024</td></tr><tr><td>ipc/shm_psize_40</td><td>70000000</td></tr></tbody></table></div><p><span class="trademark">SAP</span>(R) Note 0013026:</p><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Name</th><th>Value</th></tr></thead><tbody><tr><td>ztta/dynpro_area</td><td>2500000</td></tr></tbody></table></div><p><span class="trademark">SAP</span>(R) Note 0157246:</p><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Name</th><th>Value</th></tr></thead><tbody><tr><td>rdisp/ROLL_MAXFS</td><td>16000</td></tr><tr><td>rdisp/PG_MAXFS</td><td>30000</td></tr></tbody></table></div><div xmlns="" class="note"><h3 class="admontitle">Uwaga: </h3><p xmlns="http://www.w3.org/1999/xhtml">With the above parameters, on a system with 1 gigabyte
	    of memory, one may find memory consumption similar to:</p><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting">Mem: 547M Active, 305M Inact, 109M Wired, 40M Cache, 112M Buf, 3492K Free</pre></div></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="problemsduringinstallation"></a>10.7.13. Problems during Installation</h3></div></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="restartr3setup"></a>10.7.13.1. Restart <code class="command">R3SETUP</code> after Fixing a Problem</h4></div></div></div><p><code class="command">R3SETUP</code> stops if it encounters an error. If you have
	  looked at the corresponding logfiles and fixed the error,
	  you have to start <code class="command">R3SETUP</code> again, usually selecting REPEAT
	  as option for the last step <code class="command">R3SETUP</code> complained about.</p><p>To restart <code class="command">R3SETUP</code>, just start it with the corresponding
	  <code class="filename">R3S</code> file:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>./R3SETUP -f CENTRDB.R3S</code></strong></pre><p>for 4.6B, or with</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>./R3SETUP -f CENTRAL.R3S</code></strong></pre><p>for 4.6C, no matter whether the error occurred
	  with <code class="filename">CENTRAL.R3S</code> or
	  <code class="filename">DATABASE.R3S</code>.</p><div xmlns="" class="note"><h3 class="admontitle">Uwaga: </h3><p xmlns="http://www.w3.org/1999/xhtml">At some stages, <code class="command">R3SETUP</code> assumes that both database
	    and <span class="application"><span class="trademark">SAP</span>(R)</span> processes are up and running (as those were steps it
	    already completed). Should errors occur and for example the
	    database could not be started, you have to start both database
	    and <span class="application"><span class="trademark">SAP</span>(R)</span> by hand after you fixed the errors and before starting
	    <code class="command">R3SETUP</code> again.</p><p xmlns="http://www.w3.org/1999/xhtml">Do not forget to also start the <span class="application"><span class="trademark">Oracle</span>(R)</span> listener again (as
	    <code class="systemitem">ora<em class="replaceable"><code>sid</code></em></code> with
	    <code class="command">umask 0; lsnrctl start</code>) if it was also
	    stopped (for example due to a necessary reboot of the
	    system).</p></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="indoraduringduringr3setup"></a>10.7.13.2. OSUSERSIDADM_IND_ORA during <code class="command">R3SETUP</code></h4></div></div></div><p>If <code class="command">R3SETUP</code> complains at this stage, edit the
	  template file <code class="command">R3SETUP</code> used at that time
          (<code class="filename">CENTRDB.R3S</code> (4.6B) or either
	  <code class="filename">CENTRAL.R3S</code> or
	  <code class="filename">DATABASE.R3S</code> (4.6C)).
	  Locate <code class="literal">[OSUSERSIDADM_IND_ORA]</code> or search for the
	  only <code class="literal">STATUS=ERROR</code> entry
	  and edit the following values:</p><pre class="programlisting">HOME=/home/<em class="replaceable"><code>sid</code></em>adm (was empty)
STATUS=OK (had status ERROR)
        </pre><p>Then you can restart <code class="command">R3SETUP</code> again.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="indoraduringr3setup"></a>10.7.13.3. OSUSERDBSID_IND_ORA during <code class="command">R3SETUP</code></h4></div></div></div><p>Possibly <code class="command">R3SETUP</code> also complains at this stage. The error
	  here is similar to the one in phase OSUSERSIDADM_IND_ORA.
	  Just edit
	  the template file <code class="command">R3SETUP</code> used at that time
          (<code class="filename">CENTRDB.R3S</code> (4.6B) or either
	  <code class="filename">CENTRAL.R3S</code> or
	  <code class="filename">DATABASE.R3S</code> (4.6C)).
	  Locate <code class="literal">[OSUSERDBSID_IND_ORA]</code> or search for the
	  only <code class="literal">STATUS=ERROR</code> entry
	  and edit the following value in that section:</p><pre class="programlisting">STATUS=OK</pre><p>Then restart <code class="command">R3SETUP</code>.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="oraviewvrffilenotfound"></a>10.7.13.4. <span class="errorname">oraview.vrf FILE NOT FOUND</span> during <span class="trademark">Oracle</span>(R) Installation</h4></div></div></div><p>You have not deselected <span class="emphasis"><em><span class="trademark">Oracle</span>(R) On-Line Text Viewer</em></span>
          before starting the installation. This is marked for installation even
          though this option is currently not available for Linux. Deselect this
          product inside the <span class="application"><span class="trademark">Oracle</span>(R)</span> installation menu and restart installation.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="textenvincalid"></a>10.7.13.5. <span class="errorname">TEXTENV_INVALID</span> during <code class="command">R3SETUP</code>, RFC or SAPgui Start</h4></div></div></div><p>If this error is encountered, the correct locale is
	  missing.  <span class="trademark">SAP</span>(R) Note 0171356 lists the necessary RPMs that need
	  be installed (e.g. <code class="filename">saplocales-1.0-3</code>,
	  <code class="filename">saposcheck-1.0-1</code> for RedHat 6.1). In case
	  you ignored all the related errors and set the corresponding
	  <code class="literal">STATUS</code> from <code class="literal">ERROR</code> to <code class="literal">OK</code> (in <code class="filename">CENTRDB.R3S</code>) every time <code class="command">R3SETUP</code>
	  complained and just restarted <code class="command">R3SETUP</code>, the <span class="application"><span class="trademark">SAP</span>(R)</span> system will not
	  be properly configured and you will then not be able to
	  connect to the system with a
	  <span class="application">SAPgui</span>, even though the system
	  can be started. Trying to connect with the old Linux
	  <span class="application">SAPgui</span> gave the following
	  messages:</p><pre class="programlisting">Sat May 5 14:23:14 2001
*** ERROR =&gt; no valid userarea given [trgmsgo. 0401]
Sat May 5 14:23:22 2001
*** ERROR =&gt; ERROR NR 24 occured [trgmsgi. 0410]
*** ERROR =&gt; Error when generating text environment. [trgmsgi. 0435]
*** ERROR =&gt; function failed [trgmsgi. 0447]
*** ERROR =&gt; no socket operation allowed [trxio.c 3363]
Speicherzugriffsfehler</pre><p>This behavior is due to <span class="application"><span class="trademark">SAP</span>(R) <span class="trademark">R/3</span>(R)</span> being unable to correctly
	  assign a locale and also not being properly configured itself
	  (missing entries in some database tables). To be able to connect
	  to <span class="application"><span class="trademark">SAP</span>(R)</span>, add the following entries to file
	  <code class="filename">DEFAULT.PFL</code> (see Note 0043288):</p><pre class="programlisting">abap/set_etct_env_at_new_mode = 0
install/collate/active = 0
rscp/TCP0B = TCP0B</pre><p>Restart the <span class="application"><span class="trademark">SAP</span>(R)</span> system. Now you can connect to the
          system, even though country-specific language settings might
          not work as expected.  After correcting country settings
          (and providing the correct locales), these entries can be
          removed from <code class="filename">DEFAULT.PFL</code> and the <span class="application"><span class="trademark">SAP</span>(R)</span>
	  system can be restarted.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="ora-00001"></a>10.7.13.6. <span class="errorcode">ORA-00001</span></h4></div></div></div><p>This error only happened with
	  <span class="application"><span class="trademark">Oracle</span>(R) 8.1.7</span> on FreeBSD.
	  The reason was that the <span class="application"><span class="trademark">Oracle</span>(R)</span> database could not initialize itself
	  properly and crashed, leaving semaphores and shared memory on the
	  system. The next try to start the database then returned
	  <span class="errorcode">ORA-00001</span>.</p><p>Find them with <code class="command">ipcs -a</code> and remove them
	  with <code class="command">ipcrm</code>.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="ora-00445pmon"></a>10.7.13.7. <span class="errorcode">ORA-00445</span> (Background Process PMON Did Not Start)</h4></div></div></div><p>This error happened with <span class="application"><span class="trademark">Oracle</span>(R) 8.1.7</span>.
	  This error is reported if the database is started with
	  the usual <code class="command">startsap</code> script (for example
	  <code class="command">startsap_majestix_00</code>) as user
	  <code class="systemitem">prdadm</code>.</p><p>A possible workaround is to start the database as user
	  <code class="systemitem">oraprd</code> instead
	  with <code class="command">svrmgrl</code>:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>svrmgrl</code></strong>
SVRMGR&gt; <strong class="userinput"><code>connect internal;</code></strong>
SVRMGR&gt; <strong class="userinput"><code>startup</code></strong>;
SVRMGR&gt; <strong class="userinput"><code>exit</code></strong></pre></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="ora-12546"></a>10.7.13.8. <span class="errorcode">ORA-12546</span> (Start Listener with Correct Permissions)</h4></div></div></div><p>Start the <span class="application"><span class="trademark">Oracle</span>(R)</span> listener as user
          <code class="systemitem">oraids</code> with the following commands:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>umask 0; lsnrctl start</code></strong></pre><p>Otherwise you might get <span class="errorcode">ORA-12546</span> as the sockets will not
          have the correct permissions. See <span class="trademark">SAP</span>(R) Note 0072984.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="ora-27102"></a>10.7.13.9. <span class="errorcode">ORA-27102</span> (Out of Memory)</h4></div></div></div><p>This error happened whilst trying to use values for
	  <code class="literal">MAXDSIZ</code> and <code class="literal">DFLDSIZ</code>
	  greater than 1 GB (1024x1024x1024). Additionally, we got
	  <span class="errorname">Linux Error 12: Cannot allocate memory</span>.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="dipgntabindind"></a>10.7.13.10. [DIPGNTAB_IND_IND] during <code class="command">R3SETUP</code></h4></div></div></div><p>In general, see <span class="trademark">SAP</span>(R) Note 0130581 (<code class="command">R3SETUP</code> step
	  <code class="literal">DIPGNTAB</code> terminates).  During the
	  IDES-specific installation, for some reason the installation
	  process was not using the proper <span class="application"><span class="trademark">SAP</span>(R)</span> system name <span class="quote">"<span class="quote">IDS</span>"</span>, but
	  the empty string <code class="literal">""</code> instead. This leads to some minor problems
	  with accessing directories, as the paths are generated
	  dynamically using <em class="replaceable"><code>SID</code></em> (in this case IDS).  So instead
	  of accessing:</p><pre class="programlisting">/usr/sap/IDS/SYS/...
/usr/sap/IDS/DVMGS00</pre><p>the following paths were used:</p><pre class="programlisting">/usr/sap//SYS/...
/usr/sap/D00</pre><p>To continue with the installation, we created a link and an
          additional directory:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>pwd</code></strong>
/compat/linux/usr/sap
<code class="prompt">#</code> <strong class="userinput"><code>ls -l</code></strong>
total 4
drwxr-xr-x 3  idsadm sapsys 512 May 5 11:20 D00
drwxr-x--x 5  idsadm sapsys 512 May 5 11:35 IDS
lrwxr-xr-x 1  root   sapsys 7 May 5 11:35 SYS -&gt; IDS/SYS
drwxrwxr-x 2  idsadm sapsys 512 May 5 13:00 tmp
drwxrwxr-x 11 idsadm sapsys 512 May 4 14:20 trans</pre><p>We also found <span class="trademark">SAP</span>(R) Notes (0029227 and 0008401) describing
        this behavior. We did not encounter any of these problems with
	the <span class="application"><span class="trademark">SAP</span>(R) 4.6C</span> installation.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="rfcrswboiniindind"></a>10.7.13.11. [RFCRSWBOINI_IND_IND] during <code class="command">R3SETUP</code></h4></div></div></div><p>During installation of <span class="application"><span class="trademark">SAP</span>(R) 4.6C</span>,
          this error was just the result of another error happening
	  earlier during installation. In this case, you have to look
	  through the corresponding logfiles and correct the real
	  problem.</p><p>If after looking through the logfiles this error is
	  indeed the correct one (check the <span class="trademark">SAP</span>(R) Notes), you can set
	  <code class="literal">STATUS</code> of the offending step from <code class="literal">ERROR</code> to <code class="literal">OK</code> (file
	  <code class="filename">CENTRDB.R3S</code>) and restart <code class="command">R3SETUP</code>. After
	  installation, you have to execute the report
	  <code class="literal">RSWBOINS</code> from transaction SE38. See <span class="trademark">SAP</span>(R)
	  Note 0162266 for additional information about phase
	  <code class="literal">RFCRSWBOINI</code> and
	  <code class="literal">RFCRADDBDIF</code>.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="rfcraddbdifindind"></a>10.7.13.12. [RFCRADDBDIF_IND_IND] during <code class="command">R3SETUP</code></h4></div></div></div><p>Here the same restrictions apply: make sure by looking
	  through the logfiles, that this error is not caused by some
	  previous problems.</p><p>If you can confirm that <span class="trademark">SAP</span>(R) Note 0162266 applies, just
	  set <code class="literal">STATUS</code> of the offending step from <code class="literal">ERROR</code> to <code class="literal">OK</code> (file
	  <code class="filename">CENTRDB.R3S</code>) and restart <code class="command">R3SETUP</code>. After
	  installation, you have to execute the report
	  <code class="literal">RADDBDIF</code> from transaction SE38.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="sigactionsig31"></a>10.7.13.13. <span class="errorcode">sigaction sig31: File size limit exceeded</span></h4></div></div></div><p>This error occurred during start of <span class="application"><span class="trademark">SAP</span>(R)</span> processes
	  <span class="emphasis"><em>disp+work</em></span>. If starting <span class="application"><span class="trademark">SAP</span>(R)</span> with the
	  <code class="command">startsap</code> script, subprocesses are then started which
	  detach and do the dirty work of starting all other <span class="application"><span class="trademark">SAP</span>(R)</span>
          processes. As a result, the script itself will not notice
	  if something goes wrong.</p><p>To check whether the <span class="application"><span class="trademark">SAP</span>(R)</span> processes did start properly,
	  have a look at the process status with
	  <code class="command">ps ax | grep SID</code>, which will give
	  you a list of all <span class="application"><span class="trademark">Oracle</span>(R)</span> and <span class="application"><span class="trademark">SAP</span>(R)</span> processes. If it looks like
	  some processes are missing or if you cannot connect to the <span class="application"><span class="trademark">SAP</span>(R)</span> system,
	  look at the corresponding logfiles which can be found
	  at <code class="filename">/usr/sap/SID/DVEBMGSnr/work/</code>.
	  The files to look at are <code class="filename">dev_ms</code> and
	  <code class="filename">dev_disp</code>.</p><p>Signal 31 happens here if the amount of shared memory used by
	  <span class="application"><span class="trademark">Oracle</span>(R)</span> and <span class="application"><span class="trademark">SAP</span>(R)</span> exceed the one defined within the kernel configuration
	  file and could be resolved by using a larger value:</p><pre class="programlisting"># larger value for 46C production systems:
options SHMMAXPGS=393216
# smaller value sufficient for 46B:
#options SHMMAXPGS=262144</pre></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="saposcolfails"></a>10.7.13.14. Start of <code class="command">saposcol</code> Failed</h4></div></div></div><p>There are some problems with the program <code class="command">saposcol</code> (version 4.6D).
	  The <span class="application"><span class="trademark">SAP</span>(R)</span> system is using <code class="command">saposcol</code> to collect data about the
	  system performance. This program is not needed to use the <span class="application"><span class="trademark">SAP</span>(R)</span> system,
	  so this problem can be considered a minor one. The older versions
	  (4.6B) does work, but does not collect all the data (many calls will
	  just return 0, for example for CPU usage).</p></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="linuxemu-oracle.html">Poprzedni</a> </td><td width="20%" align="center"><a accesskey="u" href="linuxemu.html">Pocz±tek rozdzia³u</a></td><td width="40%" align="right"> <a accesskey="n" href="linuxemu-advanced.html">Nastêpny</a></td></tr><tr><td width="40%" align="left" valign="top">10.6. Installing <span class="trademark">Oracle</span>(R) </td><td width="20%" align="center"><a accesskey="h" href="index.html">Spis tre¶ci</a></td><td width="40%" align="right" valign="top"> 10.8. Advanced Topics</td></tr></table></div><p xmlns="" align="center"><small>All FreeBSD documents are available for download
    at <a href="http://ftp.FreeBSD.org/pub/FreeBSD/doc/">http://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="" align="center"><small>Questions that are not answered by the
    <a href="http://www.FreeBSD.org/docs.html">documentation</a> may be
    sent to &lt;<a href="mailto:freebsd-questions@FreeBSD.org">freebsd-questions@FreeBSD.org</a>&gt;.<br />
    Send questions about this document to &lt;<a href="mailto:freebsd-doc@FreeBSD.org">freebsd-doc@FreeBSD.org</a>&gt;.</small></p></body></html>