<?xml version="1.0" encoding="iso-8859-2" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-2" /><title>19.4. Data Integrity</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Podrêcznik FreeBSD" /><link rel="up" href="vinum-vinum.html" title="Rozdzia³ 19. The Vinum Volume Manager" /><link rel="prev" href="vinum-access-bottlenecks.html" title="19.3. Access Bottlenecks" /><link rel="next" href="vinum-objects.html" title="19.5. Vinum Objects" /><link rel="copyright" href="legalnotice.html" title="Informacja Prawna" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">19.4. Data Integrity</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="vinum-access-bottlenecks.html">Poprzedni</a> </td><th width="60%" align="center">Rozdzia³ 19. The Vinum Volume Manager</th><td width="20%" align="right"> <a accesskey="n" href="vinum-objects.html">Nastêpny</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="vinum-data-integrity"></a>19.4. Data Integrity</h2></div></div></div><p>The final problem with current disks is that they are
	unreliable.  Although disk drive reliability has increased
	tremendously over the last few years, they are still the most
	likely core component of a server to fail.  When they do, the
	results can be catastrophic: replacing a failed disk drive and
	restoring data to it can take days.</p><a id="idp89739600" class="indexterm"></a><a id="idp89740496" class="indexterm"></a><a id="idp89741648" class="indexterm"></a><p>The traditional way to approach this problem has been
	<span class="emphasis"><em>mirroring</em></span>, keeping two copies of the data
	on different physical hardware.  Since the advent of the
	<acronym class="acronym">RAID</acronym> levels, this technique has also been
	called <acronym class="acronym">RAID level 1</acronym> or
	<acronym class="acronym">RAID-1</acronym>.  Any write to the volume writes to
	both locations; a read can be satisfied from either, so if one
	drive fails, the data is still available on the other
	drive.</p><p>Mirroring has two problems:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>The price.  It requires twice as much disk storage as
	      a non-redundant solution.</p></li><li class="listitem"><p>The performance impact.  Writes must be performed to
	      both drives, so they take up twice the bandwidth of a
	      non-mirrored volume.  Reads do not suffer from a
	      performance penalty: it even looks as if they are
	      faster.</p></li></ul></div><p><a id="idp89746768" class="indexterm"></a>An
	alternative solution is <span class="emphasis"><em>parity</em></span>,
	implemented in the <acronym class="acronym">RAID</acronym> levels 2, 3, 4 and
	5.  Of these, <acronym class="acronym">RAID-5</acronym> is the most
	interesting. As implemented in Vinum, it is a variant on a
	striped organization which dedicates one block of each stripe
	to parity of the other blocks. As implemented by Vinum, a
	<acronym class="acronym">RAID-5</acronym> plex is similar to a striped plex,
	except that it implements <acronym class="acronym">RAID-5</acronym> by
	including a parity block in each stripe.  As required by
	<acronym class="acronym">RAID-5</acronym>, the location of this parity block
	changes from one stripe to the next.  The numbers in the data
	blocks indicate the relative block numbers.</p><p>
	</p><div class="figure"><a id="vinum-raid5-org"></a><div class="figure-title">Rysunek 19.3. RAID-5 Organization</div><div class="figure-contents"><div class="mediaobject"><img src="vinum/vinum-raid5-org.png" alt="RAID-5 Organization" /></div></div></div><p><br class="figure-break" />
      </p><p>Compared to mirroring, <acronym class="acronym">RAID-5</acronym> has the
	advantage of requiring significantly less storage space.  Read
	access is similar to that of striped organizations, but write
	access is significantly slower, approximately 25% of the read
	performance.  If one drive fails, the array can continue to
	operate in degraded mode: a read from one of the remaining
	accessible drives continues normally, but a read from the
	failed drive is recalculated from the corresponding block from
	all the remaining drives.
      </p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="vinum-access-bottlenecks.html">Poprzedni</a> </td><td width="20%" align="center"><a accesskey="u" href="vinum-vinum.html">Pocz±tek rozdzia³u</a></td><td width="40%" align="right"> <a accesskey="n" href="vinum-objects.html">Nastêpny</a></td></tr><tr><td width="40%" align="left" valign="top">19.3. Access Bottlenecks </td><td width="20%" align="center"><a accesskey="h" href="index.html">Spis tre¶ci</a></td><td width="40%" align="right" valign="top"> 19.5. Vinum Objects</td></tr></table></div><p xmlns="" align="center"><small>All FreeBSD documents are available for download
    at <a href="http://ftp.FreeBSD.org/pub/FreeBSD/doc/">http://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="" align="center"><small>Questions that are not answered by the
    <a href="http://www.FreeBSD.org/docs.html">documentation</a> may be
    sent to &lt;<a href="mailto:freebsd-questions@FreeBSD.org">freebsd-questions@FreeBSD.org</a>&gt;.<br />
    Send questions about this document to &lt;<a href="mailto:freebsd-doc@FreeBSD.org">freebsd-doc@FreeBSD.org</a>&gt;.</small></p></body></html>