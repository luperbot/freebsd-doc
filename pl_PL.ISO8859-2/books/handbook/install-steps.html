<?xml version="1.0" encoding="iso-8859-2" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-2" /><title>2.5. Przydzia³ miejsca na dysku</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Podrêcznik FreeBSD" /><link rel="up" href="install.html" title="Rozdzia³ 2. Instalacja FreeBSD" /><link rel="prev" href="using-sysinstall.html" title="2.4. Wprowadzenie do sysinstall" /><link rel="next" href="install-choosing.html" title="2.6. Wybór sk³adników instalacji" /><link rel="copyright" href="legalnotice.html" title="Informacja Prawna" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">2.5. Przydzia³ miejsca na dysku</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="using-sysinstall.html">Poprzedni</a> </td><th width="60%" align="center">Rozdzia³ 2. Instalacja FreeBSD</th><td width="20%" align="right"> <a accesskey="n" href="install-choosing.html">Nastêpny</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="install-steps"></a>2.5. Przydzia³ miejsca na dysku</h2></div></div></div><p>Zaczynamy od przydzielenia FreeBSD przestrzeni dyskowej,
      oraz oznaczenia tej przestrzeni w taki sposób, by
      <span class="application">sysinstall</span> móg³ j± przygotowaæ.
      Do tego potrzebna nam bêdzie wiedza na temat sposobu, w jaki
      FreeBSD znajduje informacje zapisane na dysku.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="install-drive-bios-numbering"></a>2.5.1. Kolejno¶æ dysków w BIOS-ie</h3></div></div></div><p>Przed instalacj± i konfiguracj± FreeBSD powinni¶my
        zapoznaæ siê z pewnym wa¿nym zagadnieniem, szczególnie
        istotnym dla posiadaczy dwóch lub wiêcej twardych dysków.</p><a id="idp76139984" class="indexterm"></a><a id="idp76140496" class="indexterm"></a><p>W komputerze typu PC wyposa¿onym w zale¿ny od BIOS-u system
        operacyjny, jak na przyk³ad <span class="trademark">MS-DOS</span>(R) lub <span class="trademark">Microsoft</span>(R) <span class="trademark">Windows</span>(R),
        BIOS mo¿e zmieniæ rzeczywist± kolejno¶æ dysków, a system operacyjny
        tê zmianê zaakceptuje. Dziêki temu system mo¿e zostaæ uruchomiony
        z dysku innego ni¿ tzw. <span class="quote">"<span class="quote">primary master</span>"</span>. Jest to
        szczególnie wygodne dla tych u¿ytkowników, którzy za najprostsz±
        i najtañsz± metodê tworzenia kopii zapasowej uwa¿aj± kupno identycznego
        drugiego twardego dysku i kopiowanie zawarto¶ci pierwszego dysku przy
        u¿yciu <span class="application">Ghost</span>
        lub <span class="application">XCOPY</span>. W przypadku uszkodzenia pierwszego
        dysku, ataku wirusa lub awarii systemu operacyjnego, dane mog± byæ z ³atwo¶ci±
        odzyskane poprzez zamianê logicznej kolejno¶ci dysków w BIOS-ie. To tak,
        jakby zamieniæ przewody dysków, ale bez konieczno¶ci otwierania obudowy.</p><a id="idp76144208" class="indexterm"></a><a id="idp76144720" class="indexterm"></a><p>Dro¿sze maszyny wyposa¿one w kontrolery SCSI maj± czêsto rozszerzenia
        BIOS-u pozwalaj±ce zamieniaæ kolejno¶æ dysków SCSI na podobnej zasadzie,
        obs³uguj±c do siedmiu dysków.</p><p>U¿ytkowników przyzwyczajonych do korzystania z tego typu
        rozwi±zañ mo¿e spotkaæ niespodzianka, gdy we FreeBSD rezultaty
        odbiegaj± od oczekiwañ. FreeBSD nie korzysta z BIOS-u, jak
        równie¿ nie zna <span class="quote">"<span class="quote">logicznej kolejno¶ci dysków BIOS-u</span>"</span>.
        W efekcie mo¿e to prowadziæ do k³opotliwych sytuacji, szczególnie
        wtedy, gdy dyski s± identyczne pod wzglêdem geometrii, oraz zawieraj±
        takie same dane.</p><p>Planuj±c u¿ywanie FreeBSD, powinni¶my ustawiæ w BIOS-ie
        rzeczywist± kolejno¶æ dysków przed instalacj± systemu, i tê
        kolejno¶æ pozostawiæ. Je¶li chcemy koniecznie zamieniæ dyski,
        to mo¿emy to zrobiæ sprzêtowo, otwieraj±c obudowê i zamieniaj±c
        odpowiednie zworki i przewody.</p><div class="sidebar"><div xmlns="" class="titlepage"><div><div><div xmlns="http://www.w3.org/1999/xhtml" class="-title"></div></div></div></div><p>Bolek ma przygotowaæ dla Lolka komputer z FreeBSD. Bolek
          montuje jeden dysk SCSI jako urz±dzenie SCSI zero, i instaluje
          na nim FreeBSD.</p><p>Lolek zaczyna korzystaæ z systemu, ale po kilku dniach zauwa¿a,
          ¿e dysk SCSI zg³asza liczne b³êdy, wiêc zawiadamia o tym Bolka.</p><p>Po kolejnych kilku dniach Bolek postanawia rozwi±zaæ problem,
          wiêc bierze ze <span class="quote">"<span class="quote">sk³adzika</span>"</span> taki sam dysk SCSI.
          Kontrola powierzchni dysku wykazuje, ¿e dysk dzia³a prawid³owo,
          wiêc Bolek pod³±cza go jako czwarte urz±dzenie SCSI i wykonuje
          kopiê dysku zerowego na dysk czwarty. Poniewa¿ dysk jest pod³±czony
          i dzia³a jak nale¿y, Bolek stwierdza, ¿e mo¿na zacz±æ go u¿ywaæ, wiêc
          wykorzystuj±c mo¿liwo¶ci BIOS-u SCSI zmienia kolejno¶æ dysków w taki
          sposób, by system uruchamiany by³ z czwartego urz±dzenia SCSI. FreeBSD
          uruchamia siê i dzia³a jak nale¿y.</p><p>Lolek korzysta z systemu przez jaki¶ czas, nastêpnie wspólnie z
          Bolkiem postanawiaj± spróbowaæ czego¶ nowego - zainstalowaæ
          nowsz± wersjê FreeBSD. Bolek wymontowuje dysk SCSI zero, poniewa¿
          dzia³a³ kiepsko, i zastêpuje go kolejnym identycznym dyskiem ze
          <span class="quote">"<span class="quote">sk³adzika</span>"</span>. Bolek instaluje now± wersjê FreeBSD
          na nowym dysku SCSI korzystaj±c z czarodziejskich dyskietek
          instalacyjnych Lolka. Instalacja przebiega prawid³owo.</p><p>Lolek u¿ywa nowej wersji FreeBSD przez parê dni i stwierdza,
          ¿e mo¿na zacz±æ korzystaæ z niej w pracy. Wcze¶niej jednak
          trzeba bêdzie skopiowaæ wszystkie dane ze starej wersji. Lolek
          pod³±cza wiêc czwarty dysk SCSI (naj¶wie¿sz± kopiê starej wersji
          FreeBSD). Lolek stwierdza jednak z niepokojem, ¿e na dysku nie ma
          ¶ladu po jego cennych danych.</p><p>Gdzie siê one podzia³y?</p><p>Gdy Bolek sporz±dzi³ kopiê dysku zerowego na dysku czwartym,
          dysk czwarty sta³ siê <span class="quote">"<span class="quote">klonem</span>"</span>. Zmieniaj±c kolejno¶æ
          dysków w BIOS-ie SCSI aby móc uruchamiaæ system z dysku czwartego,
          Bolek sam siebie wprowadza³ w b³±d. FreeBSD wci±¿ dzia³a³o na dysku
          zerowym. Zmiana w BIOS-ie powoduje, ¿e czê¶æ kodu uruchamiaj±cego
          FreeBSD jest rzeczywi¶cie ³adowana z dysku wskazanego w BIOS-ie,
          lecz kiedy pa³eczkê przejmuj± sterowniki j±dra FreeBSD, kolejno¶æ
          dysków BIOS-u przestaje obowi±zywaæ, a FreeBSD przechodzi z powrotem
          na rzeczywist± kolejno¶æ. W opowiadanej historyjce system nadal
          dzia³a³ na dysku zerowym, i tam w³a¶nie znajdowa³y siê cenne dane
          Lolka, a nie na dysku czwartym. Choæ wydawa³o siê, ¿e system dzia³a
          na dysku czwartym, by³o to tylko z³udzenie.</p><p>Z przyjemno¶ci± oznajmiamy, i¿ ani jeden bajt cennych danych
          nie zgin±³ ani nie zosta³ w inny sposób skrzywdzony podczas naszych
          badañ nad opisanym zjawiskiem. Stary dysk SCSI zero zosta³ odnaleziony
          i cenne dane wróci³y do Lolka (Bolek z kolei przekona³ siê,
          ¿e niczego nie mo¿na byæ pewnym).</p><p>W opowie¶ci udzia³ wziê³y dyski SCSI, jednak¿e w przypadku
          dysków IDE sytuacja wygl±da³aby tak samo.</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="main-fdisk"></a>2.5.2. Tworzenie segmentów za pomoc± programu FDisk</h3></div></div></div><div xmlns="" class="note"><h3 class="admontitle">Uwaga: </h3><p xmlns="http://www.w3.org/1999/xhtml">Dokonywane tutaj zmiany nie zostan± zapisane na dysku.
          Je¿eli bêdziemy podejrzewaæ, ¿e co¶ zrobili¶my ¼le, mo¿emy
          wybraæ w menu wyj¶cie z programu <span class="application">sysinstall</span>
          i spróbowaæ jeszcze raz od pocz±tku, b±d¼ wcisn±æ <span class="keycap"><strong>U</strong></span>
          by skorzystaæ z opcji <span class="guimenuitem">Undo</span> (cofnij).
          W ostateczno¶ci, je¿eli ca³kiem stracimy orientacjê, mo¿emy
          po prostu wy³±czyæ komputer.</p></div><p>Po wybraniu standardowej instalacji w <span class="application">sysinstall</span>
        zostanie wy¶wietlony nastêpuj±cy komunikat:</p><pre class="screen">                                 Message
 In the next menu, you will need to set up a DOS-style ("fdisk")
 partitioning scheme for your hard disk. If you simply wish to devote
 all disk space to FreeBSD (overwriting anything else that might be on
 the disk(s) selected) then use the (A)ll command to select the default
 partitioning scheme followed by a (Q)uit. If you wish to allocate only
 free space to FreeBSD, move to a partition marked "unused" and use the
 (C)reate command.
                                [  OK  ]

                      [ Press enter or space ]</pre><p>Zgodnie z poleceniem naciskamy <span class="keycap"><strong>Enter</strong></span>.
        Zobaczymy teraz listê twardych dysków znalezionych przez j±dro
        podczas rozpoznawania urz±dzeñ. <a class="xref" href="install-steps.html#sysinstall-fdisk-drive1" title="Rysunek 2.11. Wybór dysku FDisk-a">Rysunek 2.11, "Wybór dysku FDisk-a"</a>
        przedstawia przyk³ad komputera z dwoma dyskami IDE, o nazwach
        <code class="filename">ad0</code> i <code class="filename">ad2</code>.</p><div class="figure"><a id="sysinstall-fdisk-drive1"></a><div class="figure-title">Rysunek 2.11. Wybór dysku FDisk-a</div><div class="figure-contents"><div class="mediaobject"><img src="install/fdisk-drive1.png" alt="Wybór dysku FDisk-a" /></div></div></div><br class="figure-break" /><p>Mo¿na siê zastanawiaæ, dlaczego na li¶cie brakuje
        <code class="filename">ad1</code>. Co spowodowa³o, ¿e zosta³ pominiêty?</p><p>Przyjmijmy przyk³adowo, ¿e mamy dwa dyski IDE, jeden jako master
        na pierwszym kontrolerze IDE, drugi jako master na drugim kontrolerze
        IDE. Gdyby we FreeBSD zosta³y one ponumerowane w takiej kolejno¶ci,
        w jakiej zosta³y wykryte, czyli <code class="filename">ad0</code> i
	<code class="filename">ad1</code>, wszystko dzia³a³oby jak nale¿y.</p><p>Gdyby¶my jednak zainstalowali potem jeszcze jeden dysk,
        jako slave na pierwszym kontrolerze IDE, to ten w³a¶nie dysk
        zosta³by nowym <code class="filename">ad1</code>, a wcze¶niejszy
        <code class="filename">ad1</code> zmieni³by siê w <code class="filename">ad2</code>.
        Poniewa¿ systemy plików odnajdywane s± wed³ug nazw urz±dzeñ
        (np. <code class="filename">ad1s1a</code>), mog³oby siê nagle okazaæ,
        ¿e niektóre systemy plików nie dzia³aj± poprawnie.
        Aby to poprawiæ, musieliby¶my zmieniæ konfiguracjê systemu.</p><p>Aby zapobiec takim sytuacjom, j±dro FreeBSD mo¿e byæ skonfigurowane
        tak, by przydzielaæ dyskom IDE numery zgodne z ich rzeczywistym
        umiejscowieniem, niezale¿nie od kolejno¶ci wykrywania. Tym sposobem
        dysk pod³±czony jako master na drugim kontrolerze IDE <span class="emphasis"><em>zawsze</em></span>
        bêdzie mieæ nazwê <code class="filename">ad2</code>, nawet w sytuacji,
        gdy <code class="filename">ad0</code> i <code class="filename">ad1</code>
        nie s± w ogóle obecne.</p><p>J±dro FreeBSD domy¶lnie skonfigurowane jest w³a¶nie w ten
        sposób, dlatego te¿ na ekranie mamy <code class="filename">ad0</code> i
	<code class="filename">ad2</code>. Komputer, z którego ten rysunek pochodzi,
        mia³ dwa dyski IDE pod³±czone jako master do obu kontrolerów IDE,
        nie mia³ natomiast dysków pod³±czonych jako slave.</p><p>Wybieramy dysk, na którym chcemy zainstalowaæ FreeBSD
        i wybieramy <span class="guibutton">[ OK ]</span>. Zostanie uruchomiony <span class="application">FDisk</span>,
        pokazuj±c na ekranie obraz podobny do <a class="xref" href="install-steps.html#sysinstall-fdisk1" title="Rysunek 2.12. Uk³ad partycji w FDisk-u przed zmianami">Rysunek 2.12, "Uk³ad partycji w FDisk-u przed zmianami"</a>.</p><p>Ekran <span class="application">FDisk</span>-a podzielony jest na
        trzy czê¶ci.</p><p>Czê¶æ pierwsza, obejmuj±ca pierwsze dwie linie ekranu, zawiera
        informacje o wybranym dysku, w tym jego oznaczenie we FreeBSD,
        geometriê oraz ca³kowity rozmiar dysku.k.</p><p>Druga czê¶æ pokazuje informacje o istniej±cych na dysku
        segmentach: gdzie siê one zaczynaj± oraz koñcz±, jaki jest
        ich rozmiar, jaka nazwa zosta³a im nadana przez FreeBSD
        ich opis oraz typ. Na rysunku przyk³adowym widaæ dwa
        niewielkie nieu¿ywane segmenty, obecne ze wzglêdu na stosowany
        w architekturze PC podzia³ dysku. Prócz tego widaæ du¿y segment
        <acronym class="acronym">FAT</acronym>, który prawie na pewno jest dyskiem
        <code class="filename">C:</code> w <span class="trademark">MS-DOS</span>(R) / <span class="trademark">Windows</span>(R), oraz segment
        rozszerzony, zawieraj±cy byæ mo¿e dyski <span class="trademark">MS-DOS</span>(R) / <span class="trademark">Windows</span>(R)
        oznaczone kolejnymi literami.</p><p>W trzeciej czê¶ci znajduje siê lista dostêpnych w
        <span class="application">FDisk</span>-u poleceñ.</p><div class="figure"><a id="sysinstall-fdisk1"></a><div class="figure-title">Rysunek 2.12. Uk³ad partycji w FDisk-u przed zmianami</div><div class="figure-contents"><div class="mediaobject"><img src="install/fdisk-edit1.png" alt="Uk³ad partycji w FDisk-u przed zmianami" /></div></div></div><br class="figure-break" /><p>Dalej postêpowaæ bêdziemy w zale¿no¶ci od tego, jak
        chcemy podzieliæ nasz dysk na segmenty.</p><p>Je¿eli chcemy, by FreeBSD zajê³o ca³y dysk (co wi±¿e
        siê z usuniêciem z niego wszelkich innych danych, gdy
        potwierdzimy to w <span class="application">sysinstall</span>
        na pó¼niejszym etapie instalacji), naciskamy <span class="keycap"><strong>A</strong></span>,
        co odpowiada opcji <span class="guimenuitem">Use Entire Disk</span>
        (wykorzystaj ca³y dysk). Istniej±ce segmenty zostan± usuniête,
        a w ich miejsce pojawi siê ma³y obszar opisany jako <code class="literal">unused</code>
        (nieu¿ywany; znów jest to nastêpstwem pecetowego uk³adu dysku),
        oraz du¿y segment przeznaczony dla FreeBSD. Je¿eli decydujemy
        siê na tê opcjê, powinni¶my w nastêpnej kolejno¶ci wskazaæ
        nowoutworzony segment FreeBSD przy u¿yciu klawiszy kursora
        i wcisn±æ <span class="keycap"><strong>S</strong></span>, by umo¿liwiæ ³adowanie systemu
        z tego segmentu. Ekran bêdzie wygl±daæ podobnie do przedstawionego
        na <a class="xref" href="install-steps.html#sysinstall-fdisk2" title="Rysunek 2.13. Partycja w FDisk-u obejmuj±ca ca³y dysk">Rysunek 2.13, "Partycja w FDisk-u obejmuj±ca ca³y dysk"</a>. Zwróæmy uwagê na literê
        <code class="literal">A</code> w kolumnie Flags, oznacza ona, ¿e segment
        jest <span class="emphasis"><em>aktywny</em></span> i bêdzie z niego ³adowany
        system.</p><p>Je¶li chcemy usun±æ istniej±cy segment by zwolniæ miejsce
        dla FreeBSD, wskazujemy segment korzystaj±c z klawiszy kursora
        i naciskamy <span class="keycap"><strong>D</strong></span>. Nastêpnie mo¿emy nacisn±æ
        <span class="keycap"><strong>C</strong></span> i w odpowiedzi na pytanie o rozmiar segmentu,
        który chcemy utworzyæ, wpisaæ odpowiedni± warto¶æ i wcisn±æ
        <span class="keycap"><strong>Enter</strong></span>. Warto¶æ domy¶lna stanowi najwiêkszy
        mo¿liwy rozmiar segmentu, czyli np. woln± przestrzeñ na dysku
        b±d¼ ca³± pojemno¶æ dysku twardego.</p><p>Wolne miejsce dla FreeBSD mogli¶my tak¿e przygotowaæ wcze¶niej
        (na przyk³ad przy u¿yciu programu
        <span class="application"><span class="trademark">PartitionMagic</span>(R)</span>), w takim wypadku po
        prostu wciskamy <span class="keycap"><strong>C</strong></span> by utworzyæ nowy segment.
        W tym przypadku równie¿ zostaniemy zapytani o rozmiar segmentu,
        który zamierzamy stworzyæ.</p><div class="figure"><a id="sysinstall-fdisk2"></a><div class="figure-title">Rysunek 2.13. Partycja w FDisk-u obejmuj±ca ca³y dysk</div><div class="figure-contents"><div class="mediaobject"><img src="install/fdisk-edit2.png" alt="Partycja w FDisk-u obejmuj±ca ca³y dysk" /></div></div></div><br class="figure-break" /><p>Na koniec naciskamy <span class="keycap"><strong>Q</strong></span>. Dokonane zmiany
        zostan± zapamiêtane przez <span class="application">sysinstall</span>,
        ale nie bêd± jeszcze zapisane na dysku.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="bootmgr"></a>2.5.3. Instalacja programu ³aduj±cego</h3></div></div></div><p>W kolejnym kroku instalacji bêdziemy mieæ mo¿liwo¶æ
        zainstalowania programu ³aduj±cego (ang. boot manager).
        Mówi±c ogólnie, powinni¶my instalowaæ program ³aduj±cy
        FreeBSD je¿eli:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Mamy dwa lub wiêcej dysków, a FreeBSD instalujemy
            na dysku innym ni¿ pierwszy.</p></li><li class="listitem"><p>Instalujemy FreeBSD obok innego systemu operacyjnego
            na tym samym dysku, i chcemy mieæ mo¿liwo¶æ wybrania
            systemu operacyjnego podczas uruchamiania komputera.</p></li></ul></div><p>Je¶li FreeBSD bêdzie jedynym systemem operacyjnym na
        danym komputerze i zostanie zainstalowany na pierwszym dysku
        twardym, wówczas wystarczy wykorzystaæ
        <span class="guimenuitem">Standardowy</span> program ³aduj±cy. Natomiast
        je¶li wykorzystujemy ju¿ inny program potrafi±cy uruchomiæ FreeBSD
        powinny¶my wybraæ opcjê <span class="guimenuitem">None</span> (¿aden).</p><p>Dokonany wybór potwierdzamy naciskaj±c <span class="keycap"><strong>Enter</strong></span>.</p><div class="figure"><a id="sysinstall-bootmgr"></a><div class="figure-title">Rysunek 2.14. Wybór programu ³aduj±cego w sysinstall</div><div class="figure-contents"><div class="mediaobject"><img src="install/boot-mgr.png" alt="Wybór programu ³aduj±cego w sysinstall" /></div></div></div><br class="figure-break" /><p>Ekran pomocy, wy¶wietlany po naci¶niêciu <span class="keycap"><strong>F1</strong></span>,
        opisuje problemy z jakimi mo¿na siê spotkaæ, gdy planuje siê mieæ
        kilka systemów operacyjnych na jednym dysku.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp76227920"></a>2.5.4. Tworzenie segmentów na innym dysku</h3></div></div></div><p>Je¿eli mamy wiêcej dysków, po wyborze programu
        ³aduj±cego ponownie uka¿e siê ekran wyboru dysku.
        Chc±c zainstalowaæ FreeBSD na kilku dyskach, wybieramy
        tutaj kolejny dysk i ponownie korzystaj±c z programu
        <span class="application">FDisk</span> tworzymy na nim
        segmenty.</p><div xmlns="" class="important"><h3 class="admontitle">Wa¿ne: </h3><p xmlns="http://www.w3.org/1999/xhtml">Je¶li instalujemy FreeBSD na innym dysku ni¿ pierwszy,
          wówczas program ³aduj±cy FreeBSD musi zostaæ zainstalowany
          na obydwu dyskach.</p></div><div class="figure"><a id="sysinstall-fdisk-drive2"></a><div class="figure-title">Rysunek 2.15. Zakoñczenie wyboru dysku</div><div class="figure-contents"><div class="mediaobject"><img src="install/fdisk-drive2.png" alt="Zakoñczenie wyboru dysku" /></div></div></div><br class="figure-break" /><p>Klawisz <span class="keycap"><strong>Tab</strong></span> prze³±cza pomiêdzy ostatnio
        wybranym dyskiem oraz przyciskami <span class="guibutton">[ OK ]</span>, i
	<span class="guibutton">[ Cancel ]</span>.</p><p>Wciskamy <span class="keycap"><strong>Tab</strong></span> jeden raz, by wybraæ
        <span class="guibutton">[ OK ]</span>, nastêpnie naciskamy <span class="keycap"><strong>Enter</strong></span>
        aby przej¶æ do kolejnego etapu instalacji.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="bsdlabeleditor"></a>2.5.5. Tworzenie partycji z wykorzystaniem
	<span class="application">Disklabel</span></h3></div></div></div><p>W nowoutworzonych segmentach musimy stworzyæ kilka partycji.
        Pamiêtajmy, ¿e ka¿da partycja oznaczona jest liter± od
        <code class="literal">a</code> do <code class="literal">h</code>, a partycje
        <code class="literal">b</code>, <code class="literal">c</code> i <code class="literal">d</code>
        rz±dz± siê specjalnymi zasadami, których nale¿y przestrzegaæ.</p><p>Niektóre aplikacje mog± skorzystaæ na stosowaniu okre¶lonych
        schematów podzia³u na partycje, szczególnie, gdy partycje roz³o¿one
        s± na kilku dyskach. Na razie jednak, poniewa¿ jest to nasza pierwsza
        instalacja FreeBSD, nie powinni¶my zbytnio przejmowaæ siê podzia³em
        dysku na partycje. Wa¿niejszym jest, by¶my zainstalowali FreeBSD
        i zaczêli siê uczyæ, jak go u¿ywaæ. Kiedy ju¿ nabierzemy pewnej
        wprawy, mo¿emy zainstalowaæ system ponownie i zmieniæ sposób
        podzia³u na partycje.</p><p>Poni¿szy schemat przedstawia cztery partycje - jedn± dla
        przestrzeni wymiany, oraz trzy dla systemów plików.</p><div class="table"><a id="idp76251984"></a><div class="table-title">Tabela 2.2. Uk³ad partycji pierwszego dysku</div><div class="table-contents"><table summary="Uk³ad partycji pierwszego dysku" width="100%" border="0"><colgroup><col /><col /><col /><col /></colgroup><thead><tr><th>Partycja</th><th>System plików</th><th>Rozmiar</th><th>Opis</th></tr></thead><tbody><tr><td><code class="literal">a</code></td><td><code class="filename">/</code></td><td>100 MB</td><td>Bêdzie to g³ówny system plików. Wszystkie inne systemy
                plików bêd± zamontowane gdzie¶ wewn±trz niego. 100 MB
                jest do¶æ rozs±dnym rozmiarem dla tego celu. Nie bêdzie tu
                przechowywane zbyt wiele danych, zwykle po instalacji FreeBSD
                umieszcza tu oko³o 40 MB danych. Pozosta³e miejsce jest dla
                danych tymczasowych, oraz s³u¿y jako zapas, gdyby kolejne wersje
                FreeBSD potrzebowa³y wiêcej miejsca w <code class="filename">/</code>.</td></tr><tr><td><code class="literal">b</code></td><td>brak</td><td>2-3 x RAM</td><td><p>Partycja ta s³u¿y jako przestrzeñ wymiany. Wybór jej
                  odpowiedniego rozmiaru nie jest spraw± banaln±. Mo¿emy przyj±æ,
                  ¿e przestrzeñ wymiany powinna byæ dwu- lub trzykrotnie wiêksza
                  ni¿ ilo¶æ pamiêci fizycznej (RAM). Prócz tego powinni¶my mieæ
                  co najmniej 64 MB przestrzeni wymiany, wiêc je¿eli nasz
                  komputer ma mniej ni¿ 32 MB pamiêci, ustawmy rozmiar
                  przestrzeni wymiany na 64 MB.</p><p>

                  Je¶li dysponujemy kilkoma dyskami, mo¿emy na ka¿dym z nich
                  umie¶ciæ przestrzeñ wymiany. FreeBSD bêdzie w procesie wymiany
                  wykorzystywaæ ka¿dy z dysków, dziêki czemu wymiana bêdzie siê
                  odbywaæ szybciej. W takim przypadku przyjmujemy ca³kowity
                  rozmiar potrzebnej przestrzeni wymiany (np. 128 MB)
                  i dzielimy go przez liczbê posiadanych dysków (np. dwa dyski),
                  otrzymuj±c w wyniku rozmiar przestrzeni wymiany dla jednego dysku.
                  W naszym przyk³adzie bêdzie to 64 MB na ka¿dy dysk.</p></td></tr><tr><td><code class="literal">e</code></td><td><code class="filename">/var</code></td><td>50 MB</td><td>W katalogu <code class="filename">/var</code> przechowywane s± pliki
                o zmiennych rozmiarach; pliki dzienników systemowych i inne pliki
                administracyjne. Podczas codziennej pracy FreeBSD na wielu z tych
                plików dokonywane s± czêste operacje odczytu lub zapisu. Dziêki
                umieszczeniu ich w oddzielnym systemie plików FreeBSD mo¿e dokonaæ
                optymalizacji dostêpu do nich, nie wywieraj±c jednocze¶nie wp³ywu
                na inne pliki, do których dostêp przebiega inaczej.</td></tr><tr><td><code class="literal">f</code></td><td><code class="filename">/usr</code></td><td>Reszta dysku</td><td>Inne pliki bêd± zwykle przechowywane w katalogu
                <code class="filename">/usr</code> i jego podkatalogach.</td></tr></tbody></table></div></div><br class="table-break" /><p>Je¿eli instalujemy FreeBSD na dwóch lub wiêcej dyskach, musimy
        utworzyæ partycje tak¿e w innych przygotowanych segmentach. Naj³atwiej
        jest po prostu przygotowaæ na ka¿dym z kolejnych dysków dwie partycje,
        jedn± na przestrzeñ wymiany, drug± na system plików.</p><div class="table"><a id="idp76280784"></a><div class="table-title">Tabela 2.3. Uk³ad partycji dla kolejnych dysków</div><div class="table-contents"><table summary="Uk³ad partycji dla kolejnych dysków" width="100%" border="0"><colgroup><col /><col /><col /><col /></colgroup><thead><tr><th>Partycja</th><th>System plików</th><th>Rozmiar</th><th>Opis</th></tr></thead><tbody><tr><td><code class="literal">b</code></td><td>brak</td><td>Patrz: opis</td><td>Jak ju¿ powiedzieli¶my, przestrzeñ wymiany mo¿emy
                dzieliæ miêdzy kilka dysków. Mimo, i¿ mamy do dyspozycji
                partycjê <code class="literal">a</code>, zgodnie z obowi±zuj±c±
                konwencj± przestrzeñ wymiany powinna znajdowaæ siê na
                partycji <code class="literal">b</code>.</td></tr><tr><td><code class="literal">e</code></td><td>/dysk<em class="replaceable"><code>n</code></em></td><td>Reszta dysku</td><td>Pozosta³a czê¶æ dysku zajmowana jest przez jedn±
                du¿± partycjê. Mog³aby to z powodzeniem byæ partycja
                <code class="literal">a</code>, zamiast <code class="literal">e</code>.
                Przyjêto jednak, ¿e partycja <code class="literal">a</code>
                zarezerwowana jest dla g³ównego systemu plików (<code class="filename">/</code>).
                Nie ma przymusu stosowania tej zasady, jednak
                <span class="application">sysinstall</span> jej przestrzega,
                dobrze wiêc jest j± stosowaæ dla zachowania porz±dku
                podczas instalacji. System plików mo¿emy zamontowaæ
                w dowolnym miejscu, w przyk³adzie zaproponowano
                <code class="filename">/dyskn</code>,
                gdzie <em class="replaceable"><code>n</code></em> jest kolejnym numerem
                ka¿dego dysku. Mo¿na jednak wybraæ inne nazewnictwo wed³ug
                uznania..</td></tr></tbody></table></div></div><br class="table-break" /><p>Po podjêciu decyzji jak ma wygl±daæ uk³ad partycji, pora wprowadziæ
        go w ¿ycie u¿ywaj±c <span class="application">sysinstall</span>. Na ekranie
        uka¿e siê nastêpuj±cy komunikat:</p><pre class="screen">                                 Message
 Now, you need to create BSD partitions inside of the fdisk
 partition(s) just created. If you have a reasonable amount of disk
 space (200MB or more) and don't have any special requirements, simply
 use the (A)uto command to allocate space automatically. If you have
 more specific needs or just don't care for the layout chosen by
 (A)uto, press F1 for more information on manual layout.

                                [  OK  ]
                          [ Press enter or space ]</pre><p>Naciskamy <span class="keycap"><strong>Enter</strong></span> by przej¶æ do edytora partycji
        FreeBSD, zwanego <span class="application">Disklabel</span>.</p><p><a class="xref" href="install-steps.html#sysinstall-label" title="Rysunek 2.16. Edytor Disklabel">Rysunek 2.16, "Edytor Disklabel"</a> przedstawia ekran zaraz po
        uruchomieniu <span class="application">Disklabel</span>. Jest on podzielony
        na trzy czê¶ci.</p><p>W kilku pierwszych wierszach widoczna jest nazwa wybranego
        aktualnie dysku, oraz nazwa segmentu, w którym tworzymy partycje
        (<span class="application">Disklabel</span> u¿ywa tutaj nazwy
        <code class="literal">Partition name</code>, czyli nazwa partycji,
        a nie nazwa segmentu). Jest tu równie¿ zawarta informacja o
        rozmiarze wolnej przestrzeni wewn±trz segmentu, czyli przestrzeni
        nie przydzielonej jeszcze partycjom.</p><p>¦rodek ekranu zajmuje lista utworzonych partycji, wraz
        z nazwami przechowywanych na nich systemów plików, ich rozmiarami
        oraz pewnymi opcjami zwi±zanymi z tworzeniem systemu plików.</p><p>W dolnej czê¶ci przedstawiona jest lista dostêpnych w
        <span class="application">Disklabel</span> poleceñ.</p><div class="figure"><a id="sysinstall-label"></a><div class="figure-title">Rysunek 2.16. Edytor Disklabel</div><div class="figure-contents"><div class="mediaobject"><img src="install/disklabel-ed1.png" alt="Edytor Disklabel" /></div></div></div><br class="figure-break" /><p><span class="application">Disklabel</span> potrafi automatycznie
        utworzyæ partycje i nadaæ im domy¶lne rozmiary. Wypróbujmy tê
        mo¿liwo¶æ naciskaj±c <span class="keycap"><strong>A</strong></span>. Na ekranie uka¿e
        siê obraz podobny do <a class="xref" href="install-steps.html#sysinstall-label2" title="Rysunek 2.17. Edytor disklabel z automatycznymi ustawieniami">Rysunek 2.17, "Edytor disklabel z automatycznymi ustawieniami"</a>.
        Ustawienia automatyczne mog± byæ w³a¶ciwe lub nie, w zale¿no¶ci
        od rozmiaru dysku. Nie ma to jednak wiêkszego znaczenia, poniewa¿
        nie trzeba ich koniecznie akceptowaæ.</p><div xmlns="" class="note"><h3 class="admontitle">Uwaga: </h3><p xmlns="http://www.w3.org/1999/xhtml">Katalog <code class="filename">/tmp</code> jest domy¶lnie umieszczany
            na w³asnej partycji, zamiast byæ czê¶ci± partycji <code class="filename">/</code>.
            Dziêki temu mo¿na unikn±æ zape³nienia partycji <code class="filename">/</code>
            plikami tymczasowymi.</p></div><div class="figure"><a id="sysinstall-label2"></a><div class="figure-title">Rysunek 2.17. Edytor disklabel z automatycznymi ustawieniami</div><div class="figure-contents"><div class="mediaobject"><img src="install/disklabel-auto.png" alt="Edytor disklabel z automatycznymi ustawieniami" /></div></div></div><br class="figure-break" /><p>By usun±æ zaproponowane partycje i zast±piæ je utworzonymi
        w³asnorêcznie, wybieramy klawiszami kursora pierwsz± partycjê
        i naciskamy <span class="keycap"><strong>D</strong></span>. Tak samo postêpujemy z pozosta³ymi
        partycjami.</p><p>Teraz, aby stworzyæ pierwsz± partycjê (<code class="literal">a</code>,
        zamontowan± jako <code class="filename">/</code>), wybieramy informacje
        o dysku w górnej czê¶ci ekranu i wciskamy <span class="keycap"><strong>C</strong></span>.
        Pojawi siê okienko z pytaniem o rozmiar nowej partycji
        (<a class="xref" href="install-steps.html#sysinstall-label-add" title="Rysunek 2.18. Wolne miejsce dla g³ównej partycji">Rysunek 2.18, "Wolne miejsce dla g³ównej partycji"</a>). Wybrany rozmiar podaæ
        mo¿emy w blokach, albo w wygodniejszej formie w postaci liczby
        megabajtów, gigabajtów lub cylindrów, odpowiednio z przyrostkiem
        <code class="literal">M</code>, <code class="literal">G</code> lub
        <code class="literal">C</code>.</p><div xmlns="" class="note"><h3 class="admontitle">Uwaga: </h3><p xmlns="http://www.w3.org/1999/xhtml">Pocz±wszy od FreeBSD 5.X u¿ytkownicy mog±: wybraæ
          system plików <acronym class="acronym">UFS2</acronym> (domy¶lny system we FreeBSD 5.1
          i pó¼niejszych) wykorzystuj±c opcjê <code class="literal">Custom Newfs</code>
          (<span class="keycap"><strong>Z</strong></span>), tworzyæ partycje za pomoc± <code class="literal">Auto Defaults</code>
          i modyfikowaæ przy pomocy <code class="literal">Custom Newfs</code> b±d¼ dodaæ opcjê
          <code class="option">-O 2</code> podczas normalnego procesu tworzenia partycji.
          Wykorzystuj±c opcjê <code class="literal">Custom Newfs</code> musimy pamiêtaæ
          by dodaæ flagê <code class="option">-U</code> (SoftUpdates)!</p></div><div class="figure"><a id="sysinstall-label-add"></a><div class="figure-title">Rysunek 2.18. Wolne miejsce dla g³ównej partycji</div><div class="figure-contents"><div class="mediaobject"><img src="install/disklabel-root1.png" alt="Wolne miejsce dla g³ównej partycji" /></div></div></div><br class="figure-break" /><p>Wybieraj±c domy¶lnie zaproponowany rozmiar utworzymy
        partycjê obejmuj±c± pozosta³e miejsce w segmencie. Je¿eli
        zamierzamy stworzyæ partycje o takich rozmiarach, jak
        wcze¶niej opisywali¶my, wówczas kasujemy zaproponowan±
        warto¶æ klawiszem <span class="keycap"><strong>Backspace</strong></span>, i wpisujemy
        64M, <a class="xref" href="install-steps.html#sysinstall-label-add2" title="Rysunek 2.19. Zmiana rozmiaru g³ównej partycji">Rysunek 2.19, "Zmiana rozmiaru g³ównej partycji"</a>. Nastêpnie
        wybieramy <span class="guibutton">[ OK ]</span>.</p><div class="figure"><a id="sysinstall-label-add2"></a><div class="figure-title">Rysunek 2.19. Zmiana rozmiaru g³ównej partycji</div><div class="figure-contents"><div class="mediaobject"><img src="install/disklabel-root2.png" alt="Zmiana rozmiaru g³ównej partycji" /></div></div></div><br class="figure-break" /><p>Po wybraniu rozmiaru partycji pojawi siê pytanie, czy
        partycja zawieraæ bêdzie system plików, czy przestrzeñ wymiany.
        Okienko z tym pytaniem pokazane jest na <a class="xref" href="install-steps.html#sysinstall-label-type" title="Rysunek 2.20. Wybór typu g³ównej partycji">Rysunek 2.20, "Wybór typu g³ównej partycji"</a>.
        Pierwsza partycja zawieraæ bêdzie system plików, wybieramy wiêc
        <span class="guimenuitem">FS</span> i naciskamy <span class="keycap"><strong>Enter</strong></span>.</p><div class="figure"><a id="sysinstall-label-type"></a><div class="figure-title">Rysunek 2.20. Wybór typu g³ównej partycji</div><div class="figure-contents"><div class="mediaobject"><img src="install/disklabel-fs.png" alt="Wybór typu g³ównej partycji" /></div></div></div><br class="figure-break" /><p>Poniewa¿ na partycji znajdowaæ siê bêdzie system plików,
        <span class="application">Disklabel</span> musi wiedzieæ, gdzie bêdzie
        on zamontowany. <a class="xref" href="install-steps.html#sysinstall-label-mount" title="Rysunek 2.21. Wybór miejsca montowania g³ównego systemu plików">Rysunek 2.21, "Wybór miejsca montowania g³ównego systemu plików"</a> przedstawia
        okienko z pro¶b± o podanie tej informacji. G³ówny system plików
        montowany jest jako <code class="filename">/</code>, wpisujemy wiêc
        <code class="filename">/</code> i wciskamy <span class="keycap"><strong>Enter</strong></span>.</p><div class="figure"><a id="sysinstall-label-mount"></a><div class="figure-title">Rysunek 2.21. Wybór miejsca montowania g³ównego systemu plików</div><div class="figure-contents"><div class="mediaobject"><img src="install/disklabel-root3.png" alt="Wybór miejsca montowania g³ównego systemu plików" /></div></div></div><br class="figure-break" /><p>Na ekranie pojawi siê informacja o nowo utworzonej partycji.
        Powinni¶my teraz powtórzyæ ca³± procedurê dla kolejnych partycji.
        Tworz±c partycjê wymiany nie bêdziemy pytani o miejsce jej zamontowania,
        poniewa¿ partycje wymiany nie s± montowane. Gdy bêdziemy tworzyæ
        ostatni± partycjê, <code class="filename">/usr</code>, mo¿emy przyj±æ
        proponowany rozmiar domy¶lny, aby przeznaczyæ na tê partycjê
        resztê segmentu.</p><p>Ostatecznie ekran edytora Disklabel bêdzie wygl±daæ podobnie do
        <a class="xref" href="install-steps.html#sysinstall-label4" title="Rysunek 2.22. Edytor Disklabel">Rysunek 2.22, "Edytor Disklabel"</a>, choæ wybrane przez nas warto¶ci
        mog± byæ inne. By zakoñczyæ pracê z Disklabel, wciskamy
        <span class="keycap"><strong>Q</strong></span>.</p><div class="figure"><a id="sysinstall-label4"></a><div class="figure-title">Rysunek 2.22. Edytor Disklabel</div><div class="figure-contents"><div class="mediaobject"><img src="install/disklabel-ed2.png" alt="Edytor Disklabel" /></div></div></div><br class="figure-break" /></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="using-sysinstall.html">Poprzedni</a> </td><td width="20%" align="center"><a accesskey="u" href="install.html">Pocz±tek rozdzia³u</a></td><td width="40%" align="right"> <a accesskey="n" href="install-choosing.html">Nastêpny</a></td></tr><tr><td width="40%" align="left" valign="top">2.4. Wprowadzenie do sysinstall </td><td width="20%" align="center"><a accesskey="h" href="index.html">Spis tre¶ci</a></td><td width="40%" align="right" valign="top"> 2.6. Wybór sk³adników instalacji</td></tr></table></div><p xmlns="" align="center"><small>All FreeBSD documents are available for download
    at <a href="http://ftp.FreeBSD.org/pub/FreeBSD/doc/">http://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="" align="center"><small>Questions that are not answered by the
    <a href="http://www.FreeBSD.org/docs.html">documentation</a> may be
    sent to &lt;<a href="mailto:freebsd-questions@FreeBSD.org">freebsd-questions@FreeBSD.org</a>&gt;.<br />
    Send questions about this document to &lt;<a href="mailto:freebsd-doc@FreeBSD.org">freebsd-doc@FreeBSD.org</a>&gt;.</small></p></body></html>