<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>28.4. De Mail Transfer Agent vervangen</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD handboek" /><link rel="up" href="mail.html" title="Hoofdstuk 28. Elektronische mail" /><link rel="prev" href="sendmail.html" title="28.3. sendmail instellen" /><link rel="next" href="mail-trouble.html" title="28.5. Problemen oplossen" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">28.4. De Mail Transfer Agent vervangen</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="sendmail.html">Terug</a> </td><th width="60%" align="center">Hoofdstuk 28. Elektronische mail</th><td width="20%" align="right"> <a accesskey="n" href="mail-trouble.html">Volgende</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="mail-changingmta"></a>28.4. De Mail Transfer Agent vervangen</h2></div><div><span class="authorgroup">Geschreven door <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Andrew</span> <span class="surname">Boothman</span></span>. </span></div><div><span class="authorgroup">Informatie genomen uit emails geschreven door <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Gregory</span> <span class="surname">Neil Shapiro</span></span>. </span></div></div></div><a id="idp85694800" class="indexterm"></a><p>Zoals eerder vermeld wordt FreeBSD geleverd met <span class="application">
	sendmail</span> voorgeïnstalleerd als MTA (Mail
      Transfer Agent).  Daarom regelt het standaard uitgaande en
      binnenkomende mail.</p><p>In sommige gevallen willen systeembeheerders wegens
      uiteenlopende redenen hun MTA vervangen.  Deze redenen
      variëren van het uitproberen van een andere MTA tot het
      installeren van een bepaalde functionaliteit of pakket dat
      afhankelijk is van een andere MTA.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp85697104"></a>28.4.1. Een nieuwe MTA installeren</h3></div></div></div><p>Er is een waaier van MTA's beschikbaar.  Een goed startpunt
	is de <a class="link" href="ports.html" title="Hoofdstuk 5. Applicaties installeren: pakketten en ports">FreeBSD Ports Collectie</a> waar er
	veel gevonden kunnen worden.  Het is natuurlijk mogelijk iedere
	MTA te gebruiken vanaf iedere locatie, zolang het draait op FreeBSD.</p><p>Begin met het installeren van de nieuwe MTA.  Als de MTA
	eenmaal geïnstalleerd is wordt er de kans gegeven te
	beslissen of de nieuwe MTA echt voldoet aan de eisen, en is het
	mogelijk de nieuwe software te configureren voordat deze het werk
	van <span class="application">sendmail</span> overneemt.  Bevestig
	voordat de MTA geïnstalleerd wordt dat de nieuwe software
	geen poging onderneemt systeemtoepassingen zoals <code class="filename">
	  /usr/bin/sendmail</code> te overschrijven, anders wordt
	de nieuwe software onmiddellijk in gebruik genomen voordat het
	is geconfigureerd.</p><p>Neem de documentatie van de gekozen MTA door voor meer
	informatie over het configureren van de software.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="mail-disable-sendmail"></a>28.4.2. <span class="application">sendmail</span> uitschakelen</h3></div></div></div><div xmlns="" class="warning"><h3 class="admontitle">Waarschuwing: </h3><p xmlns="http://www.w3.org/1999/xhtml">Als <span class="application">sendmail</span>'s uitgaande
	  emaildienst uitgeschakeld wordt, is het belangrijk dat het
	  vervangen wordt door een alternatief systeem.  Als ervoor
	  gekozen wordt dit niet te doen, zullen
	  systeemfunctionaliteiten zoals <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=periodic&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">periodic</span>(8)</span></a> niet in staat
	  zijn hun resultaten te bezorgen per email, zoals ze normaliter
	  verwachten te kunnen doen.  Vele delen van het systeem zullen
	  verwachten een werkend systeem aan te treffen dat compatibel
	  is met <span class="application">sendmail</span>.  Als toepassingen
	  binaries van <span class="application">sendmail </span> blijven
	  gebruiken om mail te versturen nadat deze uitgeschakeld werden,
	  kan de mail in een inactieve <span class="application">sendmail</span>
	  wachtrij geplaatst worden, en nooit bezorgd worden.</p></div><p>Om <span class="application">sendmail</span> volledig uit te
	schakelen, inclusief de uitgaande emaildienst, dient</p><pre class="programlisting">sendmail_enable="NO"
sendmail_submit_enable="NO"
sendmail_outbound_enable="NO"
sendmail_msp_queue_enable="NO"</pre><p>toegevoegd te worden aan <code class="filename">/etc/rc.conf</code>.</p><p>Als enkel <span class="application">sendmail</span>'s ingaande
	emaildienst uitgeschakeld dient te worden, dient</p><pre class="programlisting">sendmail_enable="NO"</pre><p>toegevoegd te worden aan <code class="filename">/etc/rc.conf</code>.
	Meer informatie over de opstartopties van <span class="application">
	  sendmail</span> is beschikbaar in de hulppagina
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=rc.sendmail&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">rc.sendmail</span>(8)</span></a>.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp85714000"></a>28.4.3. De nieuwe MTA starten tijdens het opstarten</h3></div></div></div><p>De nieuwe MTA kan gestart worden door deze instellingsregel
	toe te voegen aan <code class="filename">/etc/rc.conf</code>, zoals het
	volgende voorbeeld voor postfix:</p><pre class="screen"><code class="prompt">#</code> echo '<em class="replaceable"><code>postfix</code></em>_enable=<span class="quote">&#8220;<span class="quote">YES</span>&#8221;</span>' &gt;&gt; /etc/rc.conf</pre><p>De MTA zal nu automatisch tijdens het opstarten worden
	gestart.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp85717328"></a>28.4.4. <span class="application">sendmail</span> vervangen als de
	standaard systeemmailer</h3></div></div></div><p>Het programma <span class="application">sendmail</span> is zo
	vanzelfsprekend als standaard software op <span class="trademark">UNIX</span>® systemen dat
	sommige softwarepakketten ervan uitgaan dat <span class="application">
	  sendmail</span> reeds geïnstalleerd en
	geconfigureerd is.  Daarom voorzien vele alternatieve MTA's in
	compatibele implementaties van de opdrachtregelinterface van
	<span class="application">sendmail</span>; dit vergemakkelijkt het
	gebruik van alternatieve MTA's als vervanging voor <span class="application">
	  sendmail</span>.</p><p>Bij het gebruiken van een alternatieve MTA moet men er zeker
	van zijn dat software die probeert de standaardtoepassingen van
	<span class="application">sendmail</span> zoals <code class="filename">
	  /usr/bin/sendmail</code> te gebruiken, ook daadwerkelijk
	de gekozen alternatieve mailer gebruikt.  Gelukkig heeft FreeBSD
	hiervoor een systeem, <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mailwrapper&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mailwrapper</span>(8)</span></a>, dat deze taak van de
	systeembeheerder overneemt.</p><p>Als <span class="application">sendmail</span> werkt zoals
	origineel geïnstalleerd, bevat <code class="filename">
	  /etc/mail/mailer.conf</code> bij benadering het volgende:</p><pre class="programlisting">sendmail	/usr/libexec/sendmail/sendmail
send-mail	/usr/libexec/sendmail/sendmail
mailq		/usr/libexec/sendmail/sendmail
newaliases	/usr/libexec/sendmail/sendmail
hoststat	/usr/libexec/sendmail/sendmail
purgestat	/usr/libexec/sendmail/sendmail</pre><p>Dit wil zeggen dat wanneer een van deze algemene opdrachten
	(zoals <code class="filename">sendmail</code> zelf) uitgevoerd wordt, het
	systeem in werkelijkheid een kopie van de mailwrapper genaamd
	<code class="filename">sendmail</code> uitvoert, dat <code class="filename">
	  mailer.conf</code> controleert en <code class="filename">
	  /usr/libexec/sendmail/sendmail</code> uitvoert.  Dit
	systeem maakt het eenvoudiger te specificeren welke toepassingen
	daadwerkelijk uitgevoerd worden wanneer deze standaard
	<code class="filename">sendmail</code> functies aangeroepen worden.</p><p>Als men bijvoorbeeld wil dat <code class="filename">
	  /usr/local/supermailer/bin/sendmail-compat</code> uitgevoerd
	wordt in plaats van <span class="application">sendmail</span>, kan
	men <code class="filename">/etc/mail/mailer.conf</code> als volgt
	aanpassen:</p><pre class="programlisting">sendmail	/usr/local/supermailer/bin/sendmail-compat
send-mail	/usr/local/supermailer/bin/sendmail-compat
mailq		/usr/local/supermailer/bin/mailq-compat
newaliases	/usr/local/supermailer/bin/newaliases-compat
hoststat	/usr/local/supermailer/bin/hoststat-compat
purgestat	/usr/local/supermailer/bin/purgestat-compat</pre></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp85732944"></a>28.4.5. Afwerking</h3></div></div></div><p>Wanneer alles correct geconfigureerd is, dienen ofwel alle
	ongebruikte <span class="application">sendmail</span> processen
	gestopt te worden en de processen behorend aan de nieuwe
	software gestart te worden, ofwel dient het systeem opnieuw
	gestart te worden.  Herstarten geeft ook de mogelijkheid te
	controleren of de nieuwe MTA correct geconfigureerd is om
	tijdens het opstartproces gestart te worden.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="sendmail.html">Terug</a> </td><td width="20%" align="center"><a accesskey="u" href="mail.html">Omhoog</a></td><td width="40%" align="right"> <a accesskey="n" href="mail-trouble.html">Volgende</a></td></tr><tr><td width="40%" align="left" valign="top">28.3. <span class="application">sendmail</span> instellen </td><td width="20%" align="center"><a accesskey="h" href="index.html">Begin</a></td><td width="40%" align="right" valign="top"> 28.5. Problemen oplossen</td></tr></table></div><p xmlns="" align="center"><small>All FreeBSD documents are available for download
    at <a href="http://ftp.FreeBSD.org/pub/FreeBSD/doc/">http://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="" align="center"><small>Questions that are not answered by the
    <a href="http://www.FreeBSD.org/docs.html">documentation</a> may be
    sent to &lt;<a href="mailto:freebsd-questions@FreeBSD.org">freebsd-questions@FreeBSD.org</a>&gt;.<br />
    Send questions about this document to &lt;<a href="mailto:freebsd-doc@FreeBSD.org">freebsd-doc@FreeBSD.org</a>&gt;.</small></p></body></html>