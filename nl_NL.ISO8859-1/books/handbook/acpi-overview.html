<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>12.16. Energie- en bronnenbeheer</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD handboek" /><link rel="up" href="config-tuning.html" title="Hoofdstuk 12. Instellingen en optimalisatie" /><link rel="prev" href="adding-swap-space.html" title="12.15. Wisselbestandruimte toevoegen" /><link rel="next" href="ACPI-debug.html" title="12.17. FreeBSD ACPI gebruiken en debuggen" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">12.16. Energie- en bronnenbeheer</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="adding-swap-space.html">Terug</a> </td><th width="60%" align="center">Hoofdstuk 12. Instellingen en optimalisatie</th><td width="20%" align="right"> <a accesskey="n" href="ACPI-debug.html">Volgende</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="acpi-overview"></a>12.16. Energie- en bronnenbeheer</h2></div><div><span class="authorgroup">Geschreven door <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Hiten</span> <span class="surname">Pandya</span></span> en <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Tom</span> <span class="surname">Rhodes</span></span>. </span></div></div></div><p>Het is belangrijk om hardwarebronnen op een efficiënte
      wijze te benutten.  Voordat <acronym class="acronym">ACPI</acronym>
      geïntroduceerd werd was het lastig en onflexibel om het
      energieverbruik en de thermische eigenschappen van een systeem te
      beheersen.  De hardware werd beheerst de <acronym class="acronym">BIOS</acronym>
      en dus had de gebruiker minder controle en zichtbaarheid in de
      energiebeheerinstellingen.  Enige gelimiteerde configuratie was
      mogelijk via <span class="emphasis"><em>Advanced Power Management (APM)</em></span>.
      Energie- en bronnenbeheer is een belangrijk onderdeel van moderne
      machines.  Het besturingssysteem moet bijvoorbeeld systeemlimieten
      in de gaten houdt (en mogelijk een SMS sturen of iets dergelijks)
      als de systeemtemperatuur onverwacht toeneemt.</p><p>In dit deel van het FreeBSD handboek wordt uitgebreide informatie
      verschaft over <acronym class="acronym">ACPI</acronym>.  Aan het einde worden
      referenties geleverd naar meer leesmateriaal.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="acpi-intro"></a>12.16.1. Wat is ACPI?</h3></div></div></div><a id="idp75847120" class="indexterm"></a><a id="idp75847632" class="indexterm"></a><p>Advanced Configuration and Power Interface
	(<acronym class="acronym">ACPI</acronym>) is een standaard die door een
	alliantie van producenten geschreven is, met als doel te
	voorzien in een standaardinterface voor hardwarebronnen- en
	energiebeheer.  Een belangrijk element is dat het meer
	flexibiliteit en beheersmogelijkheden biedt aan het
	besturingssysteem (<acronym class="acronym">OS</acronym>).  Moderne systemen
	hebben de limieten van de huidige PNP-interfaces verder opgerekt
	dan wenselijk en misschien wel mogelijk was.
	<acronym class="acronym">ACPI</acronym> is de directe opvolger van
	<acronym class="acronym">APM</acronym> (Advanced Power Management).  Centraal is
	het verleggen van hardwarebeheer en -monitoring naar de OS-laag
	in plaats van de zeer beperkte BIOS-laag.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="acpi-old-spec"></a>12.16.2. Tekortkomingen van APM</h3></div></div></div><p>Met de <span class="emphasis"><em>Advanced Power Management (APM)</em></span>
	faciliteit kan het energieverbruik van een systeem geregeld
	worden op basis van de systeemactiviteit.  Het APM-BIOS wordt
	geleverd door de systeemproducent of -verkoper en het is
	specifiek voor dat betreffende hardwareplatform.  Een
	APM-stuurprogramma in het besturingssysteem regelt vervolgens de
	toegang tot de <span class="emphasis"><em>APM Software Interface</em></span>, die
	het besturen van vermogensniveau mogelijk maakt.  APM dient nog
	steeds gebruikt te worden met systemen die gefabriceerd zijn
	voor het jaar 2000.</p><p>Er zijn vier hoofdproblemen met APM te onderscheiden: ten
	eerste wordt het energiebeheer verricht door een BIOS
	(afhankelijk van producent) en het besturingssysteem heeft daar
	geen kennis van.  De gebruiker die idle-time waarden instelt
	voor een harde schijf in het APM-BIOS is hier een voorbeeld van.
	Dan zal het BIOS de harde schijf langzamer kunnen laten draaien
	zonder dat het besturingssysteem de noodzaak ziet of het
	goedkeurt.  Ten tweede: de APM-logica is ingebed in de BIOS,
	waardoor het buiten het besturingssysteem om opereert.  Dit
	houdt in dat gebruikers problemen met hun APM-BIOS alleen kunnen
	verhelpen door een nieuw BIOS in het ROM te flashen, wat een
	gevaarlijke en mogelijk onherstelbare operatie is.  Ten derde is
	APM een producent-specifieke technologie, in de zin dat er
	altijd een hoge mate van duplicatie zal zijn van al dan niet
	geslaagde pogingen om het wiel opnieuw uit te vinden en
	uiteraard ook van bugs.  Er is geen enkele garantie dat het
	wegnemen van een bug door een producent ook een zelfde bug
	wegneemt bij een concurrent.  Tenslotte is het van belang te
	weten dat de APM-BIOS in het algemeen gewoon te weing geheugen
	kon gebruiken om een ingewikkeld energiebeheer te kunnen
	implementeren.  Laat staan dat deze goed aanpasbaar was aan
	veranderlijke doelstellingen voor de betreffende machine.</p><p><span class="emphasis"><em>Plug-n-play BIOS (PNPBIOS)</em></span> was in veel
	situaties onbetrouwbaar.  PNPBIOS is 16-bitstechnologie, dus het
	besturingssysteem moet 16-bit emulatie gebruiken om met
	PNPBIOS-methoden te kunnen samenwerken.</p><p>Het FreeBSD-stuurprogramma <acronym class="acronym">APM</acronym> is
	gedocumenteerd in <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=apm&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">apm</span>(4)</span></a>.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="acpi-config"></a>12.16.3. <acronym class="acronym">ACPI</acronym> instellen</h3></div></div></div><p>Het stuurprogramma <code class="filename">acpi.ko</code> wordt
	standaard geladen bij het opstarten door de <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=loader&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">loader</span>(8)</span></a> en
	hoeft <span class="emphasis"><em>niet</em></span> gecompileerd te worden.  De
	redenatie is dat er met modules gemakkelijker gewerkt kan
	worden, bijvoorbeeld een andere <code class="filename">acpi.ko</code>
	gebruiken zonder dat er een nieuwe kernel gebouwd moet worden.
	Dit heeft het voordeel dat testen eenvoudiger is.  Een andere
	reden is dat het opstarten van <acronym class="acronym">ACPI</acronym> nadat
	een systeem eenmaal volledig opgestart is meestal niet goed
	werkt.  Mocht er hinder ondervonden worden, dan kan
	<acronym class="acronym">ACPI</acronym> beter uitgeschakeld worden.  Dit
	stuurprogramma kan niet gestopt worden als het eenmaal geladen
	is, omdat de systeembus het gebruikt voor allerlei interacties
	met hardware.  <acronym class="acronym">ACPI</acronym> kan uitgezet worden door
	het instellen van <code class="literal">hint.acpi.0.disabled="1"</code> in
	<code class="filename">/boot/loader.conf</code> of in de <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=loader&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">loader</span>(8)</span></a>
	prompt.</p><div xmlns="" class="note"><h3 class="admontitle">Opmerking: </h3><p xmlns="http://www.w3.org/1999/xhtml"><acronym class="acronym">ACPI</acronym> en <acronym class="acronym">APM</acronym>
	  kunnen niet samenleven en moeten afzonderlijk en exclusief
	  gebruikt worden.  De laatste die gestart wordt bepaalt of het
	  stuurprogramma de ander wel of niet ziet.</p></div><p>In haar eenvoudigste vorm kan <acronym class="acronym">ACPI</acronym>
	gebruikt worden om het systeem in slaapmodus te zetten met
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=acpiconf&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">acpiconf</span>(8)</span></a> met de vlag <code class="option">-s</code> en een optie
	<code class="literal">1-5</code>.  De meeste gebruikers hebben alleen
	<code class="literal">1</code> of <code class="literal">3</code> nodig.  De optie
	<code class="literal">5</code> verricht een <span class="quote">&#8220;<span class="quote">soft-off</span>&#8221;</span>, wat
	hetzelfde is als:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>halt -p</code></strong></pre><p>Andere opties zijn mogelijk via <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sysctl&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sysctl</span>(8)</span></a>.  Zie de
	handleidingen van <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=acpi&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">acpi</span>(4)</span></a> en <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=acpiconf&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">acpiconf</span>(8)</span></a> voor meer
	informatie.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="adding-swap-space.html">Terug</a> </td><td width="20%" align="center"><a accesskey="u" href="config-tuning.html">Omhoog</a></td><td width="40%" align="right"> <a accesskey="n" href="ACPI-debug.html">Volgende</a></td></tr><tr><td width="40%" align="left" valign="top">12.15. Wisselbestandruimte toevoegen </td><td width="20%" align="center"><a accesskey="h" href="index.html">Begin</a></td><td width="40%" align="right" valign="top"> 12.17. FreeBSD <acronym class="acronym">ACPI</acronym> gebruiken en debuggen</td></tr></table></div><p xmlns="" align="center"><small>All FreeBSD documents are available for download
    at <a href="http://ftp.FreeBSD.org/pub/FreeBSD/doc/">http://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="" align="center"><small>Questions that are not answered by the
    <a href="http://www.FreeBSD.org/docs.html">documentation</a> may be
    sent to &lt;<a href="mailto:freebsd-questions@FreeBSD.org">freebsd-questions@FreeBSD.org</a>&gt;.<br />
    Send questions about this document to &lt;<a href="mailto:freebsd-doc@FreeBSD.org">freebsd-doc@FreeBSD.org</a>&gt;.</small></p></body></html>