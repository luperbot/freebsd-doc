<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>29.5. Automatisch netwerk instellen (DHCP)</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD handboek" /><link rel="up" href="network-servers.html" title="Hoofdstuk 29. Netwerkdiensten" /><link rel="prev" href="network-nis.html" title="29.4. Netwerkinformatiesysteem (NIS/YP)" /><link rel="next" href="network-dns.html" title="29.6. Domeinnaamsysteem (DNS)" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">29.5. Automatisch netwerk instellen (DHCP)</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="network-nis.html">Terug</a> </td><th width="60%" align="center">Hoofdstuk 29. Netwerkdiensten</th><td width="20%" align="right"> <a accesskey="n" href="network-dns.html">Volgende</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="network-dhcp"></a>29.5. Automatisch netwerk instellen (DHCP)</h2></div><div><span class="authorgroup">Geschreven door <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Greg</span> <span class="surname">Sutter</span></span>. </span></div></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp86978128"></a>29.5.1. Wat is DHCP?</h3></div></div></div><a id="idp86978768" class="indexterm"></a><a id="idp86980048" class="indexterm"></a><p>DHCP, het Dynamic Host Configuration Protocol, schrijft voor
	hoe een systeem verbinding kan maken met een netwerk en hoe het
	de benodigde informatie kan krijgen om met dat netwerk te
	communiceren.  FreeBSD gebruikt de OpenBSD <code class="command">dhclient</code>
	welke uit OpenBSD 3.7 komt.
	Alle informatie over <code class="command">dhclient</code> kan
	zowel voor de ISC als de OpenBSD DHCP-cliënt gebruikt
	worden.  De DHCP-server zit bij de ISC-distributie.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp86981840"></a>29.5.2. Wat behandeld wordt</h3></div></div></div><p>In dit onderdeel worden de cliëntcomponenten van de
	ISC en OpenBSD DHCP-cliënt en de servercomponenten van het
	ISC DHCP-systeem beschreven.  Het programma voor de cliënt,
	<code class="command">dhclient</code>, zit standaard in FreeBSD en de server
	is beschikbaar via de port <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/net/isc-dhcp42-server/pkg-descr">net/isc-dhcp42-server</a>.  Naast de
	onderstaande informatie, zijn de hulppagina's van
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dhclient&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">dhclient</span>(8)</span></a>, <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dhcp-options&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">dhcp-options</span>(5)</span></a> en <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dhclient.conf&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">dhclient.conf</span>(5)</span></a>
	bruikbare bronnen.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp86986064"></a>29.5.3. Hoe het werkt</h3></div></div></div><a id="idp86986704" class="indexterm"></a><p>Als <code class="command">dhclient</code>, de DHCP-cliënt, wordt
	uitgevoerd op een cliëntmachine, dan begint die met het
	broadcasten van verzoeken om instellingeninformatie.  Standaard
	worden deze verzoeken op UDP poort 68 gedaan.  De server
	antwoordt op UDP 67 en geeft de cliënt een IP-adres en
	andere relevante netwerkinformatie, zoals een netmasker,
	router en DNS-servers.  Al die informatie komt in de vorm van
	een DHCP <span class="quote">&#8220;<span class="quote">lease</span>&#8221;</span> en is voor een bepaalde tijd
	geldig (die is ingesteld door de beheerder van de DHCP-server).
	Op die manier kunnen IP-adressen voor cliënten die niet
	langer met het netwerk verbonden zijn (stale) automatisch weer
	ingenomen worden.</p><p>DHCP-cliënten kunnen veel informatie van de server
	krijgen.  Er staat een uitputtende lijst in
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dhcp-options&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">dhcp-options</span>(5)</span></a>.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp86989776"></a>29.5.4. FreeBSD integratie</h3></div></div></div><p>FreeBSD integreert de OpenBSD DHCP-cliënt
	<code class="command">dhclient</code> volledig.
	Er is ondersteuning voor de
	DHCP-cliënt in zowel het installatieprogramma als in het
	basissysteem, waardoor het niet noodzakelijk is om kennis te
	hebben van het maken van netwerkinstellingen voor het netwerk
	waar een DHCP-server draait.</p><a id="idp86991184" class="indexterm"></a><p>DHCP wordt ondersteund door
	<span class="application">sysinstall</span>.  Bij het instellen van
	een netwerkinterface binnen
	<span class="application">sysinstall</span> is de tweede vraag:
	<span class="quote">&#8220;<span class="quote">Wil je proberen de interface met DHCP in te
	stellen?</span>&#8221;</span>  Als het antwoord bevestigend luidt, dan wordt
	<code class="command">dhclient</code> uitgevoerd en als dat succesvol
	verloopt, dan worden de netwerkinstellingen automatisch
	ingevuld.</p><p>Voor het gebruiken van DHCP bij het opstarten van het
	systeem zijn twee instellingen nodig:</p><a id="idp86994128" class="indexterm"></a><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Het apparaat <code class="filename">bpf</code> moet in de
	    kernel gecompileerd zijn.  Dit kan door
	    <code class="literal">device bpf</code> aan het bestand met
	    kernelinstellingen toe te voegen en de kernel te herbouwen.
	    Meer informatie over het bouwen van een kernel staat in
	    <a class="xref" href="kernelconfig.html" title="Hoofdstuk 9. De FreeBSD-kernel instellen">Hoofdstuk 9, <em>De FreeBSD-kernel instellen</em></a>.</p><p>Het apparaat <code class="filename">bpf</code> is al
	    onderdeel van de <code class="filename">GENERIC</code> kernel die bij
	    FreeBSD zit, dus als er geen sprake is van een aangepaste
	    kernel, dan hoeft er geen nieuwe gemaakt te worden om DHCP
	    aan te praat te krijgen.</p><div xmlns="" class="note"><h3 class="admontitle">Opmerking: </h3><p xmlns="http://www.w3.org/1999/xhtml">Voor de lezer die bijzonder begaan is met beveiliging,
	      is het belangrijk aan te geven dat
	      <code class="filename">bpf</code> ook het apparaat is waardoor
	      pakketsnuffelaars hun werk kunnen doen (hoewel ze nog
	      steeds als <code class="systemitem">root</code> moeten draaien).
	      <code class="filename">bpf</code> <span class="emphasis"><em>is</em></span>
	      noodzakelijk voor DHCP, maar als beveiliging bijzonder
	      belangrijk is, dan hoort <code class="filename">bpf</code>
	      waarschijnlijk niet in een kernel te zitten omdat de
	      verwachting dat er in de toekomst ooit DHCP gebruikt gaat
	      worden.</p></div></li><li class="listitem"><p>Standaard draait de DHCP-synchronisatie op FreeBSD in de
	    achtergrond, of <em class="firstterm">asynchroon</em>.  Andere
	    opstartscripten gaan verder terwijl DHCP wordt voltooid, wat het
	    opstarten van het systeem versnelt.</p><p>DHCP in de achtergrond werkt goed als de DHCP-server snel op
	    verzoeken reageert en het DHCP-configuratieproces snel gaat.  Op
	    sommige systemen kan het lang duren voordat DHCP klaar is.  Als
	    netwerkdiensten proberen te draaien voordat DHCP voltooid is, zullen
	    ze falen.  Door DHCP in <em class="firstterm">synchrone</em> modus te
	    draaien wordt dit probleem voorkomen en wordt het opstarten
	    gepauzeerd totdat de DHCP-configuratie voltooid is.</p><p>Gebruik om in de achtergrond verbinding te maken met een
	    DHCP-server terwijl andere opstartscripts verder gaan (asynchrone
	    modus) de waarde <span class="quote">&#8220;<span class="quote"><code class="literal">DHCP</code></span>&#8221;</span> in
	    <code class="filename">/etc/rc.conf</code>:</p><pre class="programlisting">ifconfig_<em class="replaceable"><code>fxp0</code></em>="DHCP"</pre><p>Gebruik om het opstarten te pauzeren totdat DHCP voltooid is de
	    synchrone modus met waarde
	    <span class="quote">&#8220;<span class="quote"><code class="literal">SYNDHCP</code></span>&#8221;</span>:</p><pre class="programlisting">ifconfig_<em class="replaceable"><code>fxp0</code></em>="SYNDHCP"</pre><div xmlns="" class="note"><h3 class="admontitle">Opmerking: </h3><p xmlns="http://www.w3.org/1999/xhtml">Vervang <em class="replaceable"><code>fxp0</code></em> zoals getoond in deze
	      voorbeelden met de naam van de interface dat dynamisch
	      geconfigureerd moet worden, zoals getoond in <a class="xref" href="config-network-setup.html" title="12.8. Netwerkkaarten instellen">Paragraaf 12.8, &#8220;Netwerkkaarten instellen&#8221;</a>.</p></div><p>Als er een andere lokatie voor
	    <code class="command">dhclient</code> wordt gebruikt of als er extra
	    parameters aan <code class="command">dhclient</code> meegegeven moeten
	    worden, dan dient ook iets als het volgende toegevoegd te
	    worden:</p><pre class="programlisting">dhclient_program="/sbin/dhclient"
dhclient_flags=""</pre></li></ul></div><a id="idp87018832" class="indexterm"></a><p>De DHCP-server, <span class="application">dhcpd</span>, zit bij de
	port <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/net/isc-dhcp42-server/pkg-descr">net/isc-dhcp42-server</a>
	in de Portscollectie.  Deze port bevat de ISC DHCP-server en
	documentatie.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp87021392"></a>29.5.5. Bestanden</h3></div></div></div><a id="idp87022032" class="indexterm"></a><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="filename">/etc/dhclient.conf</code></p><p>Voor <code class="command">dhclient</code> is een
	    instellingenbestand <code class="filename">/etc/dhclient.conf</code>
	    nodig.  Dat bestand bevat meestal alleen maar commentaar,
	    omdat de standaardinstellingen redelijk zinvol zijn.  Dit
	    bestand wordt beschreven in <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dhclient.conf&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">dhclient.conf</span>(5)</span></a>.</p></li><li class="listitem"><p><code class="filename">/sbin/dhclient</code></p><p><code class="command">dhclient</code> is statisch gelinkt en staat
	    in <code class="filename">/sbin</code>.  Er staat meer informatie
	    over <code class="command">dhclient</code> in <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dhclient&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">dhclient</span>(8)</span></a>.</p></li><li class="listitem"><p><code class="filename">/sbin/dhclient-script</code></p><p><code class="command">dhclient-script</code> is het
	    FreeBSD-specifieke DHCP-cliënt instellingenscript.  Het
	    wordt beschreven in <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dhclient-script&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">dhclient-script</span>(8)</span></a>, maar het is
	    niet nodig het te wijzigen om goed te werken.</p></li><li class="listitem"><p><code class="filename">/var/db/dhclient.leases.interface</code></p><p>De DHCP-cliënt houdt in dit bestand een database
	    bij van geldige leases, die naar een logboekbestand worden
	    geschreven.  In <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dhclient.leases&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">dhclient.leases</span>(5)</span></a> staat een iets
	    uitgebreidere beschrijving.</p></li></ul></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp87038160"></a>29.5.6. Verder lezen</h3></div></div></div><p>Het DHCP-protocol staat volledig beschreven in <a class="link" href="http://www.freesoft.org/CIE/RFC/2131/" target="_top">RFC 2131</a>.
	Er is nog een bron van informatie ingesteld op <code class="uri"><a class="uri" href="http://www.dhcp.org/" target="_top">http://www.dhcp.org/</a></code>.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="network-dhcp-server"></a>29.5.7. Een DHCP-server installeren en instellen</h3></div></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp87041232"></a>29.5.7.1. Wat behandeld wordt</h4></div></div></div><p>In dit onderdeel wordt beschreven hoe een FreeBSD systeem zo
	  ingesteld kan worden dat het opereert als DHCP-server door
	  gebruik te maken van de ISC (Internet Systems Consortium)
	  implementatie van de DHCP-server.</p><p>De server wordt niet geleverd als deel van FreeBSD en om deze
	  dienst aan te bieden dient de port <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/net/isc-dhcp42-server/pkg-descr">net/isc-dhcp42-server</a>
	  geïnstalleerd te worden.  In <a class="xref" href="ports.html" title="Hoofdstuk 5. Applicaties installeren: pakketten en ports">Hoofdstuk 5, <em>Applicaties installeren: pakketten en ports</em></a> staat
	  meer informatie over de Portscollectie.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp87043536"></a>29.5.7.2. DHCP-serverinstallatie</h4></div></div></div><a id="idp87044176" class="indexterm"></a><p>Om een FreeBSD systeem in te stellen als DHCP-server moet het
	  apparaat <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=bpf&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">bpf</span>(4)</span></a> in de kernel zijn opgenomen.  Om dit te
	  doen dient <code class="literal">device bpf</code> aan het bestand met
	  kernelinstellingen toegevoegd te worden en dient de kernel
	  herbouwd te worden.  Meer informatie over het bouwen van
	  kernels staat in <a class="xref" href="kernelconfig.html" title="Hoofdstuk 9. De FreeBSD-kernel instellen">Hoofdstuk 9, <em>De FreeBSD-kernel instellen</em></a>.</p><p>Het apparaat <code class="filename">bpf</code> is al onderdeel
	  van de <code class="filename">GENERIC</code> kernel die bij FreeBSD, dus
	  het is meestal niet nodig om een aangepaste kernel te bouwen
	  om DHCP aan de praat te krijgen.</p><div xmlns="" class="note"><h3 class="admontitle">Opmerking: </h3><p xmlns="http://www.w3.org/1999/xhtml">Het is belangrijk te vermelden dat
	    <code class="filename">bpf</code> ook het apparaat is waardoor
	    pakketsnuffelaars kunnen werken (hoewel de programma's die
	    er gebruik van maken wel bijzondere toegang nodig hebben).
	    <code class="filename">bpf</code> <span class="emphasis"><em>is</em></span>
	    verplicht voor DHCP, maar als beveiliging van belang is, dan
	    is het waarschijnlijk niet verstandig om
	    <code class="filename">bpf</code> in een kernel op te nemen
	    alleen omdat er in de toekomst misschien ooit DHCP gebruikt
	    gaat worden.</p></div><p>Hierna dient het standaardbestand
	  <code class="filename">dhcpd.conf</code> dat door de port <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/net/isc-dhcp42-server/pkg-descr">net/isc-dhcp42-server</a> is
	  geïnstalleerd gewijzigd te worden.  Standaard is dit
	  <code class="filename">/usr/local/etc/dhcpd.conf.sample</code> en dit
	  bestand dient gekopieerd te worden naar
	  <code class="filename">/usr/local/etc/dhcpd.conf</code> voordat de
	  wijzigingen worden gemaakt.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp87057104"></a>29.5.7.3. De DHCP-server instellen</h4></div></div></div><a id="idp87057744" class="indexterm"></a><p><code class="filename">dhcpd.conf</code> is opgebouwd uit
	  declaraties over subnetten en hosts en is wellicht het meest
	  eenvoudig te beschrijven met een voorbeeld:</p><pre class="programlisting">option domain-name "example.com";<a id="domain-name"></a><span><img src="./imagelib/callouts/1.png" alt="1" border="0" /></span>
option domain-name-servers 192.168.4.100;<a id="domain-name-servers"></a><span><img src="./imagelib/callouts/2.png" alt="2" border="0" /></span>
option subnet-mask 255.255.255.0;<a id="subnet-mask"></a><span><img src="./imagelib/callouts/3.png" alt="3" border="0" /></span>

default-lease-time 3600;<a id="default-lease-time"></a><span><img src="./imagelib/callouts/4.png" alt="4" border="0" /></span>
max-lease-time 86400;<a id="max-lease-time"></a><span><img src="./imagelib/callouts/5.png" alt="5" border="0" /></span>
ddns-update-style none;<a id="ddns-update-style"></a><span><img src="./imagelib/callouts/6.png" alt="6" border="0" /></span>

subnet 192.168.4.0 netmask 255.255.255.0 {
  range 192.168.4.129 192.168.4.254;<a id="range"></a><span><img src="./imagelib/callouts/7.png" alt="7" border="0" /></span>
  option routers 192.168.4.1;<a id="routers"></a><span><img src="./imagelib/callouts/8.png" alt="8" border="0" /></span>
}

host mailhost {
  hardware ethernet 02:03:04:05:06:07;<a id="hardware"></a><span><img src="./imagelib/callouts/9.png" alt="9" border="0" /></span>
  fixed-address mailhost.example.com;<a id="fixed-address"></a><span><img src="./imagelib/callouts/10.png" alt="10" border="0" /></span>
}</pre><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#domain-name"><span><img src="./imagelib/callouts/1.png" alt="1" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Deze optie geeft het domein aan dat door cliënten
	      als standaard zoekdomein wordt gebruikt.  In
	      <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=resolv.conf&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">resolv.conf</span>(5)</span></a> staat meer over wat dat
	      betekent.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#domain-name-servers"><span><img src="./imagelib/callouts/2.png" alt="2" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Deze optie beschrijft een door komma's gescheiden
	      lijst met DNS-servers die de cliënt moet
	      gebruiken.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#subnet-mask"><span><img src="./imagelib/callouts/3.png" alt="3" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Het netmasker dat aan de cliënten wordt
	      voorgeschreven.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#default-lease-time"><span><img src="./imagelib/callouts/4.png" alt="4" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Een cliënt kan om een bepaalde duur vragen die
	      een lease geldig is.  Anders geeft de server aan wanneer
	      de lease vervalt (in seconden).</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#max-lease-time"><span><img src="./imagelib/callouts/5.png" alt="5" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Dit is de maximale duur voor een lease die de server
	      toestaat.  Als een cliënt vraagt om een langere
	      lease, dan wordt die wel verstrekt, maar is de maar geldig
	      gedurende <code class="literal">max-lease-time</code> seconden.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#ddns-update-style"><span><img src="./imagelib/callouts/6.png" alt="6" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Deze optie geeft aan of de DHCP-server moet proberen
	      de DNS-server bij te werken als een lease is geaccepteerd
	      of wordt vrijgegeven.  In de ISC implementatie is deze
	      optie <span class="emphasis"><em>verplicht</em></span>.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#range"><span><img src="./imagelib/callouts/7.png" alt="7" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Dit geeft aan welke IP-adressen in de groep met
	      adressen zitten die zijn gereserveerd om uitgegeven te
	      worden aan cliënten.  Alle IP-adressen tussen de
	      aangegeven adressen en die adressen zelf worden aan
	      cliënten uitgegeven.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#routers"><span><img src="./imagelib/callouts/8.png" alt="8" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Geeft de default gateway aan die aan de cliënten
	      wordt voorgeschreven.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#hardware"><span><img src="./imagelib/callouts/9.png" alt="9" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Het hardware MAC-adres van een host, zodat de
	      DHCP-server een host kan herkennen als die een verzoek
	      doet.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#fixed-address"><span><img src="./imagelib/callouts/10.png" alt="10" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Geeft een host aan die altijd hetzelfde IP-adres moet
	      krijgen.  Hier kan een hostnaam gebruikt worden, omdat de
	      DHCP-server de hostnaam zelf opzoekt voordat de
	      lease-informatie terug wordt gegeven.</p></td></tr></table></div><p>Wanneer u klaar bent met het schrijven van uw
	  <code class="filename">dhcpd.conf</code>, dient u de DHCP-server in
	  <code class="filename">/etc/rc.conf</code> aan te zetten, door het
	  volgende toe te voegen:</p><pre class="programlisting">dhcpd_enable="YES"
dhcpd_ifaces="dc0"</pre><p>Vervang de interfacenaam <code class="literal">dc0</code> door de
	  interface (of interfaces, gescheiden door witruimtes) waarop
	  uw DHCP-server moet luisteren naar DHCP-verzoeken van
	  cliënten.</p><p>Daarna kunt u doorgaan met het starten van de server door
	  het volgende commando te geven:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>service isc-dhcpd start</code></strong></pre><p>Als er later wijzigingen in de instellingen gemaakt moeten
	  worden, dan is het belangrijk te onthouden dat het sturen van
	  een <code class="literal">SIGHUP</code> signaal naar
	  <span class="application">dhcpd</span> <span class="emphasis"><em>niet</em></span>
	  resulteert in het opnieuw laden van de instellingen, zoals
	  voor de meeste daemons geldt.  Voor deze daemon dient een
	  signaal <code class="literal">SIGTERM</code> gestuurd te worden om het
	  proces te stoppen.  Daarna dient de daemon met het hiervoor
	  beschreven commando weer gestart worden.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp87089104"></a>29.5.7.4. Bestanden</h4></div></div></div><a id="idp87089744" class="indexterm"></a><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="filename">/usr/local/sbin/dhcpd</code></p><p><span class="application">dhcpd</span> is statisch gelinkt
	      en staat in <code class="filename">/usr/local/sbin</code>.  In de
	      hulppagina voor <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dhcpd&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">dhcpd</span>(8)</span></a> die meekomt met de port
	      staat meer informatie over
	      <span class="application">dhcpd</span>.</p></li><li class="listitem"><p><code class="filename">/usr/local/etc/dhcpd.conf</code></p><p><span class="application">dhcpd</span> heeft een
	      instellingenbestand,
	      <code class="filename">/usr/local/etc/dhcpd.conf</code>, nodig
	      voordat de daemon diensten aan cliënten kan leveren.
	      Het bestand moet alle informatie bevatten die aan
	      cliënten gegeven moet worden en de informatie die
	      nodig is voor het draaien van de dienst.  Dit
	      instellingenbestand staat beschreven in de hulppagina voor
	      <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dhcpd.conf&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">dhcpd.conf</span>(5)</span></a> die meekomt met de port.</p></li><li class="listitem"><p><code class="filename">/var/db/dhcpd.leases</code></p><p>De DHCP-server houdt in dit bestand een database bij
	      met leases die zijn uitgegeven en die naar een logboek
	      worden geschreven.  In de hulppagina <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dhcpd.leases&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">dhcpd.leases</span>(5)</span></a>
	      die bij de port zit wordt dit uitvoeriger beschreven.</p></li><li class="listitem"><p><code class="filename">/usr/local/sbin/dhcrelay</code></p><p><span class="application">dhcrelay</span> wordt in
	      uitgebreidere omgevingen gebruikt waar de ene DHCP-server
	      een verzoek van een cliënt naar een andere
	      DHCP-server op een ander netwerk doorstuurt.  Als deze
	      functionaliteit nodig is, kan die beschikbaar komen door
	      de port <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/net/isc-dhcp42-relay/pkg-descr">net/isc-dhcp42-relay</a> te
	      installeren.  De hulppagina voor <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dhcrelay&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">dhcrelay</span>(8)</span></a> die bij
	      de port zit bevat meer details.</p></li></ul></div></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="network-nis.html">Terug</a> </td><td width="20%" align="center"><a accesskey="u" href="network-servers.html">Omhoog</a></td><td width="40%" align="right"> <a accesskey="n" href="network-dns.html">Volgende</a></td></tr><tr><td width="40%" align="left" valign="top">29.4. Netwerkinformatiesysteem (NIS/YP) </td><td width="20%" align="center"><a accesskey="h" href="index.html">Begin</a></td><td width="40%" align="right" valign="top"> 29.6. Domeinnaamsysteem (<acronym class="acronym">DNS</acronym>)</td></tr></table></div><p xmlns="" align="center"><small>All FreeBSD documents are available for download
    at <a href="http://ftp.FreeBSD.org/pub/FreeBSD/doc/">http://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="" align="center"><small>Questions that are not answered by the
    <a href="http://www.FreeBSD.org/docs.html">documentation</a> may be
    sent to &lt;<a href="mailto:freebsd-questions@FreeBSD.org">freebsd-questions@FreeBSD.org</a>&gt;.<br />
    Send questions about this document to &lt;<a href="mailto:freebsd-doc@FreeBSD.org">freebsd-doc@FreeBSD.org</a>&gt;.</small></p></body></html>