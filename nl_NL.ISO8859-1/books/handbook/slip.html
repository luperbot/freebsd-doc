<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>27.7. Gebruik maken van SLIP</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD handboek" /><link rel="up" href="ppp-and-slip.html" title="Hoofdstuk 27. PPP en SLIP" /><link rel="prev" href="pppoa.html" title="27.6. Gebruik maken van PPP over ATM (PPPoA)" /><link rel="next" href="mail.html" title="Hoofdstuk 28. Elektronische mail" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">27.7. Gebruik maken van SLIP</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="pppoa.html">Terug</a> </td><th width="60%" align="center">Hoofdstuk 27. PPP en SLIP</th><td width="20%" align="right"> <a accesskey="n" href="mail.html">Volgende</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="slip"></a>27.7. Gebruik maken van SLIP</h2></div><div><span class="authorgroup">Origineel bijgedragen door <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Satoshi</span> <span class="surname">Asami</span></span>. </span></div><div><span class="authorgroup">Met input van <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Guy</span> <span class="surname">Helmer</span></span> en <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Piero</span> <span class="surname">Serini</span></span>. </span></div></div></div><a id="idp85247056" class="indexterm"></a><div xmlns="" class="warning"><h3 class="admontitle">Waarschuwing: </h3><p xmlns="http://www.w3.org/1999/xhtml">Deze sectie geldt en is alleen geldig voor FreeBSD 7.X.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="slipc"></a>27.7.1. Het opzetten van een SLIP-cliënt</h3></div></div></div><a id="idp85249232" class="indexterm"></a><p>Het volgende is één manier om een FreeBSD machine
	in te stellen voor gebruik met SLIP op een statisch host netwerk.
	Voor dynamische hostnaam toewijzing (uw adres veranderd elke keer
	als u inbelt), heeft u waarschijnlijk een meer complexe opzet
	nodig.</p><p>Bepaal eerst aan welke seriële poort uw modem verbonden
	is.  Veel mensen gebruiken hiervoor een symbolische link zoals
	<code class="filename">/dev/modem</code> welke
	verwijst naar de echte naam van het apparaat <code class="filename">/dev/cuadN</code>.  Dit
	geeft de mogelijkheid om naam abstract te houden, voor het geval
	het modem ooit verplaatst wordt naar een andere poort.  Het kan
	best een vervelende klus zijn wanneer er een aantal bestanden in
	<code class="filename">/etc</code> en
	<code class="filename">.kermrc</code> bestanden verspreid over het gehele
	systeem gerepareerd moeten worden!</p><div xmlns="" class="note"><h3 class="admontitle">Opmerking: </h3><p xmlns="http://www.w3.org/1999/xhtml"><code class="filename">/dev/cuad0</code>
	  is <code class="filename">COM1</code>, <code class="filename">cuad1</code> is
	  <code class="filename">COM2</code>, etc.</p></div><p>Zorg ervoor dat u het volgende in uw kernel configuratie
	bestand hebt:</p><pre class="programlisting">device   sl</pre><p>Deze is standaard opgenomen in de
	<code class="filename">GENERIC</code> kernel, dus dat zou geen problemen
	moeten opleveren tenzij u deze verwijderd heeft.</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp85260624"></a>27.7.1.1. Dingen die u maar eenmalig hoeft uit te voeren</h4></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Voeg uw machine, de router en de naamservers toe
	      aan uw <code class="filename">/etc/hosts</code> bestand.  Ons
	      bestand ziet er als volgend uit:</p><pre class="programlisting">127.0.0.1               localhost loghost
136.152.64.181          water.CS.Example.EDU water.CS water
136.152.64.1            inr-3.CS.Example.EDU inr-3 slip-gateway
128.32.136.9            ns1.Example.EDU ns1
128.32.136.12           ns2.Example.EDU ns2</pre></li><li class="step"><p>Zorg ervoor dat u <code class="literal">files</code> voor
	      <code class="literal">dns</code> in de <code class="literal">hosts:</code>
	      sectie van uw <code class="filename">/etc/nsswitch.conf</code>
	      bestand.  Zonder deze parameters zouden er interessante
	      dingen kunnen gebeuren.</p></li><li class="step"><p>Bewerk het <code class="filename">/etc/rc.conf</code>
	      bestand.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Stel uw hostnaam in door de regel te bewerken die
		  aangeeft:</p><pre class="programlisting">hostname="myname.my.domain"</pre><p>De volledig gekwalificeerde internet hostnaam
		  moet hier geplaatst worden.</p></li><li class="listitem"><p>Stel de standaard router<a id="idp85277008" class="indexterm"></a> in door het aanpassen
		  van de volgende regel van:</p><pre class="programlisting">defaultrouter="NO"</pre><p>naar:</p><pre class="programlisting">defaultrouter="slip-gateway"</pre></li></ol></div></li><li class="step"><p>Creeër en bestand genaamd
	      <code class="filename">/etc/resolv.conf</code> welke het volgende
	      bevat:</p><pre class="programlisting">domain CS.Example.EDU
nameserver 128.32.136.9
nameserver 128.32.136.12</pre><p>Zoals u kunt zien, stellen deze de naamserver<a id="idp85285072" class="indexterm"></a> hosten
	      in.  Uiteraard is het echte domein<a id="idp85285584" class="indexterm"></a> en adres afhankelijk
	      van uw omgeving.</p></li><li class="step"><p>Stel het wachtwoord in voor de
	      <code class="systemitem">root</code> en de <code class="systemitem">toor</code>
	      gebruikers (en elke andere gebruiker die geen wachtwoord
	      heeft).</p></li><li class="step"><p>Herstart de machine en controleeer of deze opkomt
	      met de correcte hostnaam.</p></li></ol></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp85289168"></a>27.7.1.2. Het opzetten van een SLIP-verbinding</h4></div></div></div><a id="idp85289808" class="indexterm"></a><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Bel in, type <code class="command">slip</code> op de prompt
	      en voer uw machine naam en wachtwoord in.  Wat is
	      vereist, is afhankelijk van uw omgeving.  Als u gebruik
	      maakt van <span class="application">Kermit</span> kan een
	      script als de volgende gebruikt worden:</p><pre class="programlisting"># kermit setup
set modem hayes
set line /dev/modem
set speed 115200
set parity none
set flow rts/cts
set terminal bytesize 8
set file type binary
# De volgende macro zal inbellen en ons inloggen.
define slip dial 643-9600, input 10 =&gt;, if failure stop, -
output slip\x0d, input 10 Username:, if failure stop, -
output silvia\x0d, input 10 Password:, if failure stop, -
output ***\x0d, echo \x0aCONNECTED\x0a</pre><p>Uiteraard moet u uw gebruikersnaam en wachtwoord
	      wijzigen zodat deze overeenkomen met die van u.  Nadat
	      dit gedaan is kunt u <code class="command">slip</code> invullen op
	      de <span class="application">Kermit</span> prompt om verbinding
	      te maken.</p><div xmlns="" class="note"><h3 class="admontitle">Opmerking: </h3><p xmlns="http://www.w3.org/1999/xhtml">Het achterlaten van uw wachtwoord in leesbare tekst
		waar dan ook op het bestandssysteem is zeker een
		<span class="emphasis"><em>slecht</em></span> idee.  Doe dit op eigen
		risico.</p></div></li><li class="step"><p>Laat <span class="application">Kermit</span> daar (het
	      programma kan tijdelijk uitgeschakeld worden door
	      <span class="keycap"><strong>Ctrl</strong></span>+<span class="keycap"><strong>z</strong></span>) en type vervolgens als
	      <code class="systemitem">root</code>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>slattach -h -c -s 115200 /dev/modem</code></strong></pre><p>Als u in staat bent om andere hosten met
	      <code class="command">ping</code> te benaderen aan de andere kant
	      van de router, bent u verbonden!  Als dit niet werkt kunt
	      u wellicht de <code class="option">-a</code> gebruiken in plaats van
	      de <code class="option">-c</code> als argument voor
	      <code class="command">slattach</code>.</p></li></ol></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp85314000"></a>27.7.1.3. Hoe de verbinding afgebroken moet worden</h4></div></div></div><p>Doe het volgende::</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>kill -INT `cat /var/run/slattach.modem.pid`</code></strong></pre><p>om <code class="command">slattach</code> te stoppen.  Houd in uw
	  achterhoofd dat u dit als <code class="systemitem">root</code> moet
	  doen.  Ga hierna terug naar <code class="command">kermit</code> (door
	  het intypen van <code class="command">fg</code> als u deze tijdelijk
	  uitgeschakeld had) en verlaat de applicatie
	  (<span class="keycap"><strong>q</strong></span>).</p><p>De <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=slattach&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">slattach</span>(8)</span></a> handleiding zegt dat
	  <code class="command">ifconfig sl0 down</code> uitgevoerd moet worden
	  om de interface uit te schakelen, maar dit lijkt geen verschil
	  op te leveren.  (<code class="command">ifconfig sl0</code> lijkt
	  hetzelfde resultaat te geven.)</p><p>Soms kan het gebeuren dat het modem weigert om de carrier
	  los te laten.  Start in dat geval simpelweg
	  <code class="command">kermit</code> en stop deze wederom.  Meestal stopt
	  het met de tweede poging.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp85321296"></a>27.7.1.4. Problemen oplossen</h4></div></div></div><p>Als dit niet werkt, voelt u zich dan vrij om rond te vragen
	  op de <a class="link" href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-net" target="_top">freebsd-net</a> mailing lijst.  De volgende dingen zijn
	  mensen al eens tegen aangelopen:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Het niet gebruiken van de <code class="option">-c</code> of
	      <code class="option">-a</code> optie voor <code class="command">slattach</code>
	      (Dit zou niet fataal moeten zijn, maar sommige mensen
	      hebben aangegeven dat het de problemen oplostte.)</p></li><li class="listitem"><p>Het intypen van <code class="option">s10</code> in plaats van
	      <code class="option">sl0</code> (het verschil is wellicht lastig te
	      zien met sommige fonts).</p></li><li class="listitem"><p>Probeer <code class="command">ifconfig sl0</code> uit te voeren
	      om de interface status te zien.  U kunt bijvoorbeeld
	      krijgen:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ifconfig sl0</code></strong>
sl0: flags=10&lt;POINTOPOINT&gt;
        inet 136.152.64.181 --&gt; 136.152.64.1 netmask ffffff00</pre></li><li class="listitem"><p>Als u <span class="errorname">no route to host</span> krijgt
	      van het <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ping&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ping</span>(8)</span></a> commando, is er mogelijk een probleem
	      met uw route tabel.  U kunt het
	      <code class="command">netstat -r</code> commando uitvoeren om de
	      huidige routes te zien:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>netstat -r</code></strong>
Routing tables
Destination      Gateway            Flags     Refs     Use  IfaceMTU    Rtt    Netmasks:

(root node)
(root node)

Route Tree for Protocol Family inet:
(root node) =&gt;
default          inr-3.Example.EDU  UG          8   224515  sl0 -      -
localhost.Exampl localhost.Example. UH          5    42127  lo0 -       0.438
inr-3.Example.ED water.CS.Example.E UH          1        0  sl0 -      -
water.CS.Example localhost.Example. UGH        34 47641234  lo0 -       0.438
(root node)</pre><p>Het voorgaand voorbeeld komt van een relatief druk
	      systeem.  De getallen op uw systeem zullen anders zijn
	      naar gelang de netwerk activiteiten.</p></li></ul></div></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="slips"></a>27.7.2. Het opzetten van een SLIP-server</h3></div></div></div><a id="idp85342160" class="indexterm"></a><p>Dit document levert suggesties voor het opzetten van een
	SLIP-server op een FreeBSD systeem, welke meestal betekent het
	configureren van uw systeem om automatisch verbindingen op te
	zetten wanneer er wordt ingelogt met remote SLIP
	cliënten.</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="slips-prereqs"></a>27.7.2.1. Eisen vooraf</h4></div></div></div><a id="idp85344464" class="indexterm"></a><p>Deze sectie is vrij technisch van aard, dus achtergrond
	  informatie is vereist.  Er wordt aangenomen dat u bekend bent
	  met het TCP/IP-netwerk protocol, en in dan in het bijzonder
	  met netwerk en node adresseringen, netwerk adres maskers,
	  subnetten, routes en dynamische routering protocollen
	  zoals RIP.  Het configureren van een SLIP-dienst op een inbel
	  server vereist kennis van deze concepten en als u daarmee niet
	  bekend bent, leest u dan aub een versie van of
	  Craig Hunt's <span class="emphasis"><em>TCP/IP Network Administration</em></span>
	  gepubliceerd door O'Reilly &amp; Associates, Inc. (ISBN Number
	  0-937175-82-X), of Douglas Comer's boeken over het TCP/IP
	  protocol.</p><a id="idp85345872" class="indexterm"></a><p>Daarnaast wordt er vanuit gegaan dat u reeds uw modem(s)
	  heeft geconfigureerd en dat u de juiste systeem bestanden
	  heeft aangepast zodat er logins mogelijk zijn door uw modem(s)
	  heen.  Als u dat nog niet heeft gedaan, zie dan <a class="xref" href="dialup.html" title="26.4. Inbeldienst">Paragraaf 26.4, &#8220;Inbeldienst&#8221;</a> voor details over het opzetten van
	  inbel diensten.  Wellicht wilt u ook de handleiding bekijken
	  voor <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sio&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">sio</span>(4)</span></a> voor meer informatie over de seriële
	  port device driver en de <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ttys&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">ttys</span>(5)</span></a>, <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=gettytab&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">gettytab</span>(5)</span></a>,
	  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=getty&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">getty</span>(8)</span></a>, &amp; <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=init&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">init</span>(8)</span></a> handleidingen voor
	  informatie die relevant zijn voor het configureren van het
	  systeem zodat logins mogelijk worden op modems, en wellicht
	  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=stty&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">stty</span>(1)</span></a> voor informatie over het instellen van de
	  seriële poort (zoals <code class="literal">clocal</code> voor
	  direct verbonden seriële interfaces).</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp85352272"></a>27.7.2.2. Snel overzicht</h4></div></div></div><p>In een typische configuratie, werkt het gebruik van FreeBSD
	  als een SLIP-server als volgend: een SLIP-gebruiker belt in
	  op uw FreeBSD SLIP-server systeem en logt in met een speciaal
	  SLIP-login ID dat gebruik maakt van
	  <code class="filename">/usr/sbin/sliplogin</code>.  Het
	  <code class="command">sliplogin</code> programma leest door het
	  <code class="filename">/etc/sliphome/slip.hosts</code> bestand om een
	  corresponderende regel te vinden voor de speciale gebruiker en
	  als deze een match vindt verbind het de seriële lijn met
	  een beschikbare SLIP-interface waarna het shellscript
	  <code class="filename">/etc/sliphome/slip.login</code> wordt uitgevoerd
	  om de SLIP-interface te configureren.</p><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp85354960"></a>27.7.2.2.1. Een voorbeeld van SLIP-server login</h5></div></div></div><p>Bijvoorbeeld, als een SLIP-user-ID
	    <code class="systemitem">Shelmerg</code>is, kan
	    <code class="systemitem">Shelmerg</code>'s regel in
	    <code class="filename">/etc/master.passwd</code>  er als volgt
	    uitzien:</p><pre class="programlisting">Shelmerg:password:1964:89::0:0:Guy Helmer - SLIP:/usr/users/Shelmerg:/usr/sbin/sliplogin</pre><p>Wanneer <code class="systemitem">Shelmerg</code> inlogt, zoekt het
	    <code class="command">sliplogin</code> programma in het
	    <code class="filename">/etc/sliphome/slip.hosts</code> bestand voor
	    een regel dat een corresponderende user ID heeft, er kan
	    bijvoorbeeld een regel staan in
	    <code class="filename">/etc/sliphome/slip.hosts</code> dat eruit
	    ziet als volgend:</p><pre class="programlisting">Shelmerg        dc-slip sl-helmer       0xfffffc00		  autocomp</pre><p><code class="command">sliplogin</code> zal de corresponderende
	    regel vinden en de seriële lijn koppelen aan de eerste
	    beschikbare SLIP-interface, waarna
	    <code class="filename">/etc/sliphome/slip.login</code> wordt
	    uitgevoerd zoals volgend:</p><pre class="programlisting">/etc/sliphome/slip.login 0 19200 Shelmerg dc-slip sl-helmer 0xfffffc00 autocomp</pre><p>Als alles goed gaat, zal
	    <code class="filename">/etc/sliphome/slip.login</code> een
	    <code class="command">ifconfig</code> commando uitvoeren voor de SLIP
	    interface waaraan <code class="command">sliplogin</code> zichzelf
	    koppelt (SLIP-interface 0 zoals in bovenstaand voorbeeld
	    was de eerste parameter in de lijst welke gegeven is aan
	    <code class="filename">slip.login</code>) om een lokaal IP-adres
	    in te stellen (<code class="systemitem">dc-slip</code>), een remote IP
	    adres (<code class="systemitem">sl-helmer</code>), een netwerk master voor
	    de SLIP-interface
	    (<code class="systemitem">0xfffffc00</code>), en enkele
	    additionele vlaggen (<code class="literal">autocomp</code>).  Als
	    er iets misgaat zal <code class="command">sliplogin</code> meestal
	    voldoende goede informatie loggen via de
	    <span class="application">syslogd</span> daemon faciliteiten,
	    welke meestal logt naar
	    <code class="filename">/var/log/messages</code> (zie de handleidingen
	    van <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=syslogd&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">syslogd</span>(8)</span></a> en <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=syslog.conf&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">syslog.conf</span>(5)</span></a> en controleer het
	    <code class="filename">/etc/syslog.conf</code> bestand om te zien wat
	    <span class="application">syslogd</span> logt en waar dit naartoe
	    gelogt wordt).</p></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp85373264"></a>27.7.2.3. Kernel-configuratie</h4></div></div></div><a id="idp85378128" class="indexterm"></a><a id="idp85379280" class="indexterm"></a><p>FreeBSD's standaard kernel (<code class="filename">GENERIC</code>)
	  heeft reeds ondersteuning voor SLIP (<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sl&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">sl</span>(4)</span></a>), in het
	  geval van een custom kernel moet de volgende regel worden
	  toegevoegd aan de kernel configuratie:</p><pre class="programlisting">device   sl</pre><p>Standaard zal uw FreeBSD machine geen pakketten doorsturen.
	  Als u wilt dat uw FreeBSD SLIP-server zich gedraagt als router
	  zult u het bestand <code class="filename">/etc/rc.conf</code> moeten
	  bewerken en de instelling van de
	  <code class="literal">gateway_enable</code> variabele moeten aanpassen
	  naar <code class="option">YES</code>.  Dit zorgt ervoor dat de machine
	  na een herstart zich zal blijven gedragen als router.</p><p>Om de instellingen meteen actief te maken kunt u het
	  volgende commando als <code class="systemitem">root</code>
	  uitvoeren:</p><pre class="screen"><code class="prompt">#</code> service routing start</pre><p>Raadpleeg aub <a class="xref" href="kernelconfig.html" title="Hoofdstuk 9. De FreeBSD-kernel instellen">Hoofdstuk 9, <em>De FreeBSD-kernel instellen</em></a> over
	  het configureren van de FreeBSD kernel voor meer hulp over het
	  herconfigureren van uw kernel.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp85386192"></a>27.7.2.4. Sliplogin-configuratie</h4></div></div></div><p>Zoals eerder vermeld, zijn er drie bestanden in de map
	  <code class="filename">/etc/sliphome</code> die
	  onderdeel zijn van de configuratie voor
	  <code class="filename">/usr/sbin/sliplogin</code> (zie
	  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sliplogin&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sliplogin</span>(8)</span></a> voor de actuele handleiding voor
	  <code class="command">sliplogin</code>): <code class="filename">slip.hosts</code>,
	  welke de SLIP-gebruikers definieert en de gekoppelde IP
	  adressen; <code class="filename">slip.login</code>, welke meestal de
	  SLIP-interface configureert en (optioneel)
	  <code class="filename">slip.logout</code>, welke de effecten van
	  <code class="filename">slip.login</code> ongedaan maakt wanneer de
	  seriële verbinding verbroken wordt.</p><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp85390672"></a>27.7.2.4.1. <code class="filename">slip.hosts</code> configuratie</h5></div></div></div><p><code class="filename">/etc/sliphome/slip.hosts</code> bevat
	    regels welke minstens vier onderdelen heeft die
	    gescheiden worden door een spatie:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>SLIP-gebruikers login ID</p></li><li class="listitem"><p>Lokale adres (lokaal voor de SLIP-server) van de
		SLIP-link</p></li><li class="listitem"><p>Remote adres van de SLIP-link</p></li><li class="listitem"><p>Netwerk masker</p></li></ul></div><p>De lokale en remote adressen mogen host namen zijn
	    (Welke naar IP-adressen vertaald kunnen worden door
	    <code class="filename">/etc/hosts</code> of door de
	    <acronym class="acronym">DNS</acronym> diensten, afhankelijk van uw
	    specificaties in het <code class="filename">/etc/nsswitch.conf</code>,
	    het netwerk masker mag een naam zijn dat vertaald kan worden
	    door een zoek opdracht in <code class="filename">/etc/networks</code>.
	    Op een voorbeeld systeem ziet het
	    <code class="filename">/etc/sliphome/slip.hosts</code> bestand er als
	    volgt uit:</p><pre class="programlisting">#
# login local-addr      remote-addr     mask            opt1    opt2
#                                               (normal,compress,noicmp)
#
Shelmerg  dc-slip       sl-helmerg      0xfffffc00      autocomp</pre><p>Aan het einde van deze regel staan één of
	    meerdere opties:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="option">normal</code> &#8212; geen compressie
		van de header</p></li><li class="listitem"><p><code class="option">compress</code> &#8212; comprimeer
		headers</p></li><li class="listitem"><p><code class="option">autocomp</code> &#8212; comprimeer de
		headers als de remote kant dit accepteert</p></li><li class="listitem"><p><code class="option">noicmp</code> &#8212; schakelt ICMP
		pakketten uit (dus alle <span class="quote">&#8220;<span class="quote">ping</span>&#8221;</span> pakketten
		worden geweigerd in plaats van dat deze bandbreedte
		verbruiken)</p></li></ul></div><a id="idp85408080" class="indexterm"></a><a id="idp85408592" class="indexterm"></a><p>Uw keuze van een lokaal en remote adres voor uw SLIP
	    verbindingen is afhankelijk van of u een speciaal toegewezen
	    TCP/IP-subnet gebruikt, of dat u gebruik gaat maken van
	    <span class="quote">&#8220;<span class="quote">proxy ARP</span>&#8221;</span> op uw SLIP-server (het is geen
	    echte <span class="quote">&#8220;<span class="quote">proxy ARP</span>&#8221;</span>, maar het is de terminologie
	    welke in deze sectie gebruikt wordt om het te beschrijven).
	    Als u niet zeker bent welke methode u moet kiezen, of hoe u
	    IP-adressen moet toewijzen, raadpleegt u dan de TCP/IP
	    boeken die vermeld worden in de SLIP vereisten
	    (<a class="xref" href="slip.html#slips-prereqs" title="27.7.2.1. Eisen vooraf">Paragraaf 27.7.2.1, &#8220;Eisen vooraf&#8221;</a>) en/of vraag uw IP-netwerk
	    manager om hulp.</p><p>Als u gebruik gaat maken van een separaat subnet voor
	    uw SLIP-cliënten, moet u een subnet alloceren uit de
	    voor u toegewezen IP-ruimte, en elke SLIP-cliënt een
	    IP-adres geven uit dat subnet.  Daarna moet u waarschijnlijk
	    een statische route configureren voor uw SLIP-subnet via
	    uw SLIP-server naar de dichtsbijzijnde IP-router.</p><a id="idp85411024" class="indexterm"></a><p>In het andere geval moet u gebruik maken van de
	    <span class="quote">&#8220;<span class="quote">proxy ARP</span>&#8221;</span> methode, u moet elke SLIP
	    cliënt een IP-adres geven uit het Ethernet-subnet van
	    uw SLIP-server, daarnaast moet u het
	    <code class="filename">/etc/sliphome/slip.login</code> en het
	    <code class="filename">/etc/sliphome/slip.logout</code> script
	    aanpassen om gebruik te maken van <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=arp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">arp</span>(8)</span></a> om de
	    <span class="quote">&#8220;<span class="quote">proxy ARP</span>&#8221;</span> regels te beheren in de SLIP
	    servers ARP tabel.</p></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp85414480"></a>27.7.2.4.2. <code class="filename">slip.login</code> configuratie</h5></div></div></div><p>Een typisch <code class="filename">/etc/sliphome/slip.login</code>
	    bestand ziet er als volgend uit:</p><pre class="programlisting">#!/bin/sh -
#
#       @(#)slip.login  5.1 (Berkeley) 7/1/90

#
# generiek loginbestand voor een SLIP-lijn.  sliplogin voert deze uit
# met de volgende parameters:
#      1        2         3        4          5         6     7-n
#   slipunit ttyspeed loginname local-addr remote-addr mask opt-args
#
/sbin/ifconfig sl$1 inet $4 $5 netmask $6</pre><p>Dit <code class="filename">slip.login</code> bestand start
	    alleen het <code class="command">ifconfig</code> commando voor de
	    betreffende SLIP-interace met het lokale en remote adres
	    met het netwerkmasker van de SLIP-interface.</p><p>Als u besloten heeft om gebruik te maken van de
	    <span class="quote">&#8220;<span class="quote">proxy ARP</span>&#8221;</span> methode (in plaats van het
	    gebruiken van een apart subnet voor uw SLIP-cliënten)
	    moet u het <code class="filename">/etc/sliphome/slip.login</code>
	    bestand aanpassen zodat deze er ongeveer als volgend
	    uitziet:</p><pre class="programlisting">#!/bin/sh -
#
#       @(#)slip.login  5.1 (Berkeley) 7/1/90

#
# generiek loginbestand voor een SLIP-lijn.  sliplogin voert deze uit
# met de volgende parameters:
#      1        2         3        4          5         6     7-n
#   slipunit ttyspeed loginname local-addr remote-addr mask opt-args
#
/sbin/ifconfig sl$1 inet $4 $5 netmask $6
# Beantwoord ARP Verzoeken voor de SLIP-cliënt met ons Ethernet
# adres
/usr/sbin/arp -s $5 00:11:22:33:44:55 pub</pre><p>De extra regel in het <code class="filename">slip.login</code>
	    bestand,
	    <code class="command">arp -s $5 00:11:22:33:44:55 pub</code>,
	    creeërt een ARP-regel in de ARP-tabel van de SLIP-server.
	    Deze ARP regel zorgt ervoor dat de SLIP-server antwoord
	    geeft met het Ethernet MAC adres van de SLIP-server wanneer
	    een andere IP-node op het Ethernet vraagt om te communiceren
	    met het IP-adres van de SLIP-cliënt.</p><a id="idp85420368" class="indexterm"></a><p>Wanneer u gebruik maakt van het voorbeeld hierboven,
	    wees u er dan zeker van dat u het Ethernet MAC adres
	    (<code class="systemitem">00:11:22:33:44:55</code>) veranderd
	    in het MAC adres van uw systeem's Ethernet kaart, anders
	    werkt uw <span class="quote">&#8220;<span class="quote">proxy ARP</span>&#8221;</span> zeker niet!  U kunt het
	    Ethernet MAC adres van uw SLIP-server achterhalen door het
	    bekijken van het resultaat van <code class="command">netstat -i</code>;
	    de tweede regel met resultaten moet er ongeveer als volgend
	    uitzien:</p><pre class="screen">ed0   1500  &lt;Link&gt;0.2.c1.28.5f.4a         191923	0   129457     0   116</pre><p>Dit geeft aan dat het specifieke Ethernet MAC adres van
	    het systeem is <code class="systemitem">00:02:c1:28:5f:4a</code>
	    &#8212; de punten in het Ethernet MAC adres welke gegeven
	    wordt door <code class="command">netstat -i</code> moet worden veranderd
	    in dubbele punten (<span class="quote">&#8220;<span class="quote">:</span>&#8221;</span>) en voorloop nullen
	    moeten worden toegevoegd aan elk enkel hexadecimaal getal
	    om het adres te converteren naar de vorm die <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=arp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">arp</span>(8)</span></a>
	    wenst; zie de handleiding van <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=arp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">arp</span>(8)</span></a> voor een compleet
	    overzicht van het gebruik hiervan.</p><div xmlns="" class="note"><h3 class="admontitle">Opmerking: </h3><p xmlns="http://www.w3.org/1999/xhtml">Wanneer u
	      <code class="filename">/etc/sliphome/slip.login</code> en
	      <code class="filename">/etc/sliphome/slip.logout</code>, aanmaakt
	      moet het <span class="quote">&#8220;<span class="quote">uitvoerbare</span>&#8221;</span> bitje gezet zijn
	      (bijvoorbeeld <code class="command">chmod 755
	      /etc/sliphome/slip.login /etc/sliphome/slip.logout</code>)
	      anders is <code class="command">sliplogin</code> niet in staat om
	      deze uit te voeren.</p></div></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp85479120"></a>27.7.2.4.3. <code class="filename">slip.logout</code> configuratie</h5></div></div></div><p><code class="filename">/etc/sliphome/slip.logout</code> is niet
	    strict noodzakelijk (tenzij u <span class="quote">&#8220;<span class="quote">proxy ARP</span>&#8221;</span>
	    implementeert), maar als beslist om deze aan te maken is
	    dit een voorbeeld basis <code class="filename">slip.logout</code>
	    script:</p><pre class="programlisting">#!/bin/sh -
#
#       slip.logout

#
# uitlogbestand voor een SLIP-regel.  sliplogin voert deze uit met de
# parameters:
#      1        2         3        4          5         6     7-n
#   slipunit ttyspeed loginname local-addr remote-addr mask opt-args
#
/sbin/ifconfig sl$1 down</pre><p>Als u gebruik maakt van <span class="quote">&#8220;<span class="quote">proxy ARP</span>&#8221;</span> wilt u
	    waarschijnlijk dat het
	    <code class="filename">/etc/sliphome/slip.logout</code> bestand de
	    ARP regel weghaalt voor de SLIP-cliënt:</p><pre class="programlisting">#!/bin/sh -
#
#       @(#)slip.logout

#
# uitlogbestand voor een SLIP-regel.  sliplogin voert deze uit met de
# parameters:
#      1        2         3        4          5         6     7-n
#   slipunit ttyspeed loginname local-addr remote-addr mask opt-args
#
/sbin/ifconfig sl$1 down
# Stop met het beantwoorden van ARP verzoeken voor de SLIP-cliënt
/usr/sbin/arp -d $5</pre><p>Het <code class="command">arp -d $5</code> verwijderd de ARP
	    regel, die <span class="quote">&#8220;<span class="quote">proxy ARP</span>&#8221;</span> heeft toegevoegd toen
	    de SLIP-cliënt inlogde.</p><p>Het is belangrijk om dit te herhalen: zorg ervoor
	    <code class="filename">/etc/sliphome/slip.logout</code> het
	    uitvoerbare bitje heeft gezet nadat deze gecreeërd
	    is (b.v.
	    <code class="command">chmod 755 /etc/sliphome/slip.logout</code>).</p></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp85490256"></a>27.7.2.5. Routering-overwegingen</h4></div></div></div><a id="idp85490896" class="indexterm"></a><p>Als u geen gebruik maakt van de <span class="quote">&#8220;<span class="quote">proxy ARP</span>&#8221;</span>
	  voor het routeren van pakketten tussen uw SLIP-cliënten
	  en de rest van uw netwerk (en wellicht het internet), moeten
	  er misschien een aantal statische routeringen naar de best
	  bereikbare standaard router ingesteld worden om uw SLIP
	  cliënts te routeren via uw SLIP0server.</p><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp85492944"></a>27.7.2.5.1. Statische routeringen</h5></div></div></div><a id="idp85493584" class="indexterm"></a><p>Het toevoegen van statische routeringen naar de dichts
	    bijzijnde router kan problematisch zijn (of zelfs onmogelijk
	    als u niet de bevoegdheden heft om dit te doen).  Als u een
	    netwerk heeft met meerdere routers binnen uw organisatie
	    kan het zijn dat sommige routers, zoals die van Cisco en
	    Proteon , niet alleen geconfigureerd moeten worden met de
	    statische route naar het SLIP-subnet, maar deze moeten dan
	    ook geconfigureerd worden over welke statische routes aan
	    andere routers verteld moeten worden.  Enige expertise en
	    fine tunen kan nodig zijn om statische routing te laten
	    werken.</p></div></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="pppoa.html">Terug</a> </td><td width="20%" align="center"><a accesskey="u" href="ppp-and-slip.html">Omhoog</a></td><td width="40%" align="right"> <a accesskey="n" href="mail.html">Volgende</a></td></tr><tr><td width="40%" align="left" valign="top">27.6. Gebruik maken van <span class="application">PPP</span> over ATM
      (PPPoA) </td><td width="20%" align="center"><a accesskey="h" href="index.html">Begin</a></td><td width="40%" align="right" valign="top"> Hoofdstuk 28. Elektronische mail</td></tr></table></div><p xmlns="" align="center"><small>All FreeBSD documents are available for download
    at <a href="http://ftp.FreeBSD.org/pub/FreeBSD/doc/">http://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="" align="center"><small>Questions that are not answered by the
    <a href="http://www.FreeBSD.org/docs.html">documentation</a> may be
    sent to &lt;<a href="mailto:freebsd-questions@FreeBSD.org">freebsd-questions@FreeBSD.org</a>&gt;.<br />
    Send questions about this document to &lt;<a href="mailto:freebsd-doc@FreeBSD.org">freebsd-doc@FreeBSD.org</a>&gt;.</small></p></body></html>