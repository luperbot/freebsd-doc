<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>15.11. Bestandssysteem toegangscontrolelijsten (ACLs)</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD handboek" /><link rel="up" href="security.html" title="Hoofdstuk 15. Beveiliging" /><link rel="prev" href="openssh.html" title="15.10. OpenSSH" /><link rel="next" href="security-portaudit.html" title="15.12. Monitoren van beveiligingsproblemen met andere software" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">15.11. Bestandssysteem toegangscontrolelijsten
      (<acronym class="acronym">ACL</acronym>s)</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="openssh.html">Terug</a> </td><th width="60%" align="center">Hoofdstuk 15. Beveiliging</th><td width="20%" align="right"> <a accesskey="n" href="security-portaudit.html">Volgende</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="fs-acl"></a>15.11. Bestandssysteem toegangscontrolelijsten
      (<acronym class="acronym">ACL</acronym>s)</h2></div><div><span class="authorgroup">Bijgedragen door <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Tom</span> <span class="surname">Rhodes</span></span>. </span></div></div></div><a id="idp77925840" class="indexterm"></a><p>In combinatie met verbeteringen als snapshots, biedt
      FreeBSD  de veiligheid van
      Toegangscontrolelijsten voor Bestandssystemen (Access Control
      Lists, <acronym class="acronym">ACL</acronym>s).</p><p>Met toegangscontrolelijsten wordt het standaard <span class="trademark">UNIX</span>®
      rechtenmodel uitgebreid op een zeer verenigbare (<span class="trademark">POSIX</span>®.1e)
      manier.  Deze methodes stellen een beheerder in staat om gebruik
      te maken en voordeel te halen uit een geraffineerder
      beveiligingsmodel.</p><p>Om ondersteuning voor <acronym class="acronym">ACL</acronym>s voor
      bestandssystemen in te schakelen dient het volgende in de kernel
      gecompileerd te worden:</p><pre class="programlisting">options UFS_ACL</pre><p>Als deze optie niet aanwezig is, dan wordt er een
      waarschuwing weergegeven als er wordt geprobeerd een
      bestandssysteem aan te koppelen dat gebruik maakt van
      <acronym class="acronym">ACL</acronym>s.  Deze optie is al geactiveerd in de
      <code class="filename">GENERIC</code> kernel.  <acronym class="acronym">ACL</acronym>s
      zijn afhankelijk van uitgebreide attributen die zijn ingeschakeld
      op het bestandssysteem.  Uitgebreide attributen worden standaard
      ondersteund in het volgende generatie <span class="trademark">UNIX</span>® bestandssysteem
      <acronym class="acronym">UFS2</acronym>.</p><div xmlns="" class="note"><h3 class="admontitle">Opmerking: </h3><p xmlns="http://www.w3.org/1999/xhtml">Er is meer administratieve rompslomp nodig om uitgebreide
	attributen in te stellen op <acronym class="acronym">UFS1</acronym> dan op
	<acronym class="acronym">UFS2</acronym>.  De prestaties van uitgebreide
	attributen zijn op <acronym class="acronym">UFS2</acronym> ook veel beter.
	Daarom wordt <acronym class="acronym">UFS2</acronym> ook meestal aangeraden
	boven <acronym class="acronym">UFS1</acronym> bij het gebruik van
	toegangscontrolelijsten.</p></div><p><acronym class="acronym">ACL</acronym>s worden ingeschakeld door de
      beheersvlag <code class="option">acls</code> op het moment van aankoppelen.
      Dit kan ook in <code class="filename">/etc/fstab</code> staan.  De vlag op
      het moment van aankoppelen kan ook automatisch gezet worden op een
      persistente wijze met <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=tunefs&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">tunefs</span>(8)</span></a> door een superblok in de
      bestandssysteemkop te wijzigen.  In het algemeen wordt de
      voorkeur gegeven aan de vlag in het superblok om een aantal
      redenen:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>De <acronym class="acronym">ACL</acronym>s vlag op het moment van
	  aankoppelen kan niet gewijzigd worden bij opnieuw aankoppelen
	  (<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mount&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mount</span>(8)</span></a> <code class="option">-u</code>), maar alleen door een
	  volledige <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=umount&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">umount</span>(8)</span></a> en een verse <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mount&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mount</span>(8)</span></a>.  Dit
	  betekent dat <acronym class="acronym">ACL</acronym>s niet ingeschakeld kunnen
	  worden op root-bestandssysteem na het opstarten.  Het betekent
	  ook dat de aard van een bestandssysteem niet veranderd kan
	  worden als het eenmaal in gebruik is.</p></li><li class="listitem"><p>Het inschakelen van de superblokvlag zorgt ervoor dat
	  het bestandssysteem altijd wordt aangekoppeld met de
	  <acronym class="acronym">ACL</acronym>s ingeschakeld, zelfs als het niet in
	  <code class="filename">fstab</code> staat of als de apparaten van
	  plaats veranderen.  Hiermee wordt voorkomen dat het
	  bestandssysteem wordt gebruikt zonder dat
	  <acronym class="acronym">ACL</acronym>s ingeschakeld zijn, wat ervoor zou
	  kunnen zorgen dat <acronym class="acronym">ACL</acronym>s onjuist worden
	  toegepast wat weer kan zorgen voor
	  beveiligingsproblemen.</p></li></ul></div><div xmlns="" class="note"><h3 class="admontitle">Opmerking: </h3><p xmlns="http://www.w3.org/1999/xhtml">Wellicht wordt het mogelijk om de
	<acronym class="acronym">ACL</acronym>s via de vlag in te schakelen zonder een
	compleet verse <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mount&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mount</span>(8)</span></a>, maar de ontwikkelaars vinden het
	wenselijk om het per ongeluk zonder <acronym class="acronym">ACL</acronym>s
	aankoppelen te ontmoedigen, omdat er bijzonder vervelende
	gevolgen kunnen zijn als <acronym class="acronym">ACL</acronym>s worden
	ingeschakeld,
	daarna worden uitgezet en weer worden ingeschakeld zonder dat
	de uitgebreide attributen worden geschoond.  In het algemeen
	geldt dat als <acronym class="acronym">ACL</acronym>s eenmaal zijn ingeschakeld
	voor een bestandssysteem, ze niet meer uitgeschakeld moeten
	worden, omdat de resulterende bestandsbescherming wellicht niet
	compatibel is met dat wat gebruikers van het systeem nodig
	hebben en het opnieuw aanzetten van <acronym class="acronym">ACL</acronym>s kan
	leiden tot het opnieuw koppelen van voorheen bestaande
	<acronym class="acronym">ACL</acronym>s aan bestanden waarvoor de
	toegangsrechten sindsdien zijn aangepast, wat kan leiden tot
	onverwachte situaties.</p></div><p>Bestandssystemen waarvoor <acronym class="acronym">ACL</acronym>s zijn
      ingeschakeld worden weergegeven met een <code class="literal">+</code>
      (plus) teken als de toegangsrechten worden bekeken:</p><pre class="programlisting">drwx------  2 robert  robert  512 Dec 27 11:54 private
drwxrwx---+ 2 robert  robert  512 Dec 23 10:57 directory1
drwxrwx---+ 2 robert  robert  512 Dec 22 10:20 directory2
drwxrwx---+ 2 robert  robert  512 Dec 27 11:57 directory3
drwxr-xr-x  2 robert  robert  512 Nov 10 11:54 public_html</pre><p>Hierboven is te zien dat mappen
      <code class="filename">directory1</code>,
      <code class="filename">directory2</code> en
      <code class="filename">directory3</code> allemaal gebruik maken
      van <acronym class="acronym">ACL</acronym>s.  De map
      <code class="filename">public_html</code> doet dat niet.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp77968720"></a>15.11.1. Gebruik maken van <acronym class="acronym">ACL</acronym>s</h3></div></div></div><p>De <acronym class="acronym">ACL</acronym>s van het bestandssysteem kunnen
	bekeken worden met het hulpprogramma <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=getfacl&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">getfacl</span>(1)</span></a>.  Om de
	<acronym class="acronym">ACL</acronym> op het bestand <code class="filename">test</code>
	te bekijken zou het volgende commando nodig zijn:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>getfacl test</code></strong>
#file:test
#owner:1001
#group:1001
user::rw-
group::r--
other::r--</pre><p>Om de <acronym class="acronym">ACL</acronym> op dit bestand te wijzigen
	wordt het hulpprogramma <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=setfacl&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">setfacl</span>(1)</span></a> als volgt
	gebruikt:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>setfacl -k test</code></strong></pre><p>De vlag <code class="option">-k</code> verwijdert alle bestaande
	<acronym class="acronym">ACL</acronym>s van een bestand of bestandssysteem.  De
	methode die de voorkeur geniet is <code class="option">-b</code> gebruiken
	omdat die optie de basisvelden die nodig zijn voor het laten
	werken van de <acronym class="acronym">ACL</acronym>s laat staan.</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>setfacl -m u:trhodes:rwx,group:web:r--,o::--- test</code></strong></pre><p>Bij het commando hierboven, werd de optie
	<code class="option">-m</code> gebruikt om de standaard
	<acronym class="acronym">ACL</acronym> aan te passen.  Omdat er geen
	voorgedefinieerde instellingen waren, die waren verwijderd door
	het commando daarvoor, werden nu de standaardinstellingen
	hersteld en de rechten die werden aangegeven toegevoegd.  Let
	op dat bij het toevoegen van een gebruiker of een groep die
	niet bekend is op het systeem een foutmelding
	<span class="errorname">Invalid argument</span> wordt geschreven naar
	<code class="filename">stdout</code>.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="openssh.html">Terug</a> </td><td width="20%" align="center"><a accesskey="u" href="security.html">Omhoog</a></td><td width="40%" align="right"> <a accesskey="n" href="security-portaudit.html">Volgende</a></td></tr><tr><td width="40%" align="left" valign="top">15.10. OpenSSH </td><td width="20%" align="center"><a accesskey="h" href="index.html">Begin</a></td><td width="40%" align="right" valign="top"> 15.12. Monitoren van beveiligingsproblemen met andere
      software</td></tr></table></div><p xmlns="" align="center"><small>All FreeBSD documents are available for download
    at <a href="http://ftp.FreeBSD.org/pub/FreeBSD/doc/">http://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="" align="center"><small>Questions that are not answered by the
    <a href="http://www.FreeBSD.org/docs.html">documentation</a> may be
    sent to &lt;<a href="mailto:freebsd-questions@FreeBSD.org">freebsd-questions@FreeBSD.org</a>&gt;.<br />
    Send questions about this document to &lt;<a href="mailto:freebsd-doc@FreeBSD.org">freebsd-doc@FreeBSD.org</a>&gt;.</small></p></body></html>