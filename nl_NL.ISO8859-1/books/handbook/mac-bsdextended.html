<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>17.8. MAC-module bsdextended</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD handboek" /><link rel="up" href="mac.html" title="Hoofdstuk 17. Verplichte Toegangscontrole (MAC)" /><link rel="prev" href="mac-seeotheruids.html" title="17.7. MAC-module seeotheruids" /><link rel="next" href="mac-ifoff.html" title="17.9. MAC-module ifoff" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">17.8. MAC-module bsdextended</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="mac-seeotheruids.html">Terug</a> </td><th width="60%" align="center">Hoofdstuk 17. Verplichte Toegangscontrole (MAC)</th><td width="20%" align="right"> <a accesskey="n" href="mac-ifoff.html">Volgende</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="mac-bsdextended"></a>17.8. MAC-module bsdextended</h2></div></div></div><a id="idp78669008" class="indexterm"></a><p>Modulenaam: <code class="filename">mac_bsdextended.ko</code></p><p>Kernelinstelling:
      <code class="literal">options MAC_BSDEXTENDED</code></p><p>Opstartoptie:
      <code class="literal">mac_bsdextended_load="YES"</code></p><p>De module <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mac_bsdextended&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">mac_bsdextended</span>(4)</span></a> dwingt de
      bestandssysteemfirewall af.  Het beleid van deze module biedt een
      uitbreiding van het standaard rechtenmodel voor bestandssystemen,
      waardoor een beheerder een firewallachtige verzameling met regels
      kan maken om bestanden, programma's en mappen in de
      bestandssysteemhiërarchie te beschermen.  Wanneer geprobeerd
      wordt om toegang tot een object in het bestandssysteem te krijgen,
      wordt de lijst met regels afgelopen totdat er òf een
      overeenkomstige regel is gevonden òf het einde van de lijst
      is bereikt.  Dit gedrag kan veranderd worden door het gebruik van
      de <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sysctl&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sysctl</span>(8)</span></a>-parameter
      security.mac.bsdextended.firstmatch_enabled.  Net zoals andere
      firewall-modules in FreeBSD kan een bestand dat regels voor
      toegangscontrole bevat tijdens het opstarten door het systeem
      worden aangemaakt en gelezen door een <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=rc.conf&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">rc.conf</span>(5)</span></a>-variabele te
      gebruiken.</p><p>De lijst met regels kan ingevoerd worden met het hulpprogramma
      <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ugidfw&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ugidfw</span>(8)</span></a>, dat een syntaxis heeft die lijkt op die van
      <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ipfw&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ipfw</span>(8)</span></a>.  Meer hulpprogramma's kunnen geschreven worden met
      de functies in de bibliotheek <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=libugidfw&amp;sektion=3"><span class="citerefentry"><span class="refentrytitle">libugidfw</span>(3)</span></a>.</p><p>Bij het werken met deze module dient bijzondere
      voorzichtigheid in acht te worden genomen.  Verkeerd gebruik kan
      toegang tot bepaalde delen van het bestandssysteem blokkeren.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp78682064"></a>17.8.1. Voorbeelden</h3></div></div></div><p>Nadat de module <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mac_bsdextended&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">mac_bsdextended</span>(4)</span></a> is geladen, kan met
	het volgende commando de huidige regels getoond worden:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ugidfw list</code></strong>
0 slots, 0 rules</pre><p>Zoals verwacht zijn er geen regels ingesteld.  Dit betekent
	dat alles nog steeds volledig toegankelijk is.  Om een regel te
	maken die alle toegang voor alle gebruikers behalve
	<code class="systemitem">root</code> ontzegt:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ugidfw add subject not uid root new object not uid root mode n</code></strong></pre><p>Dit is een slecht idee, omdat het voorkomt dat alle
	gebruikers ook maar het meest eenvoudige commando kunnen
	uitvoeren, zoals <code class="command">ls</code>.  Een betere lijst met
	regels zou kunnen zijn:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ugidfw set 2 subject uid gebruiker1 object uid gebruiker2 mode n</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>ugidfw set 3 subject uid gebruiker1 object gid gebruiker2 mode n</code></strong></pre><p>Hiermee wordt alle toegang, inclusief het tonen van
	mapinhoud, tot de thuismap van
	<code class="systemitem"><em class="replaceable"><code>gebruiker2</code></em></code>
	ontzegd voor de gebruikersnaam <code class="systemitem">gebruiker1</code>.</p><p>In plaats van <code class="systemitem">gebruiker1</code>, zou
	<code class="option">not uid <em class="replaceable"><code>gebruiker2</code></em></code>
	kunnen worden opgegeven.  Hierdoor worden dezelfde restricties
	als hierboven actief voor alle gebruikers in plaats van voor
	slechts één gebruiker.</p><div xmlns="" class="note"><h3 class="admontitle">Opmerking: </h3><p xmlns="http://www.w3.org/1999/xhtml">De gebruiker <code class="systemitem">root</code> blijft onaangetast
	  door deze wijzigingen.</p></div><p>Met deze informatie zou een basisbegrip moeten zijn ontstaan
	over hoe de module <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mac_bsdextended&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">mac_bsdextended</span>(4)</span></a> gebruikt kan worden
	om een bestandssysteem te beschermen.  Meer informatie staat in
	de hulppagina's van <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mac_bsdextended&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">mac_bsdextended</span>(4)</span></a> en <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ugidfw&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ugidfw</span>(8)</span></a>.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="mac-seeotheruids.html">Terug</a> </td><td width="20%" align="center"><a accesskey="u" href="mac.html">Omhoog</a></td><td width="40%" align="right"> <a accesskey="n" href="mac-ifoff.html">Volgende</a></td></tr><tr><td width="40%" align="left" valign="top">17.7. MAC-module seeotheruids </td><td width="20%" align="center"><a accesskey="h" href="index.html">Begin</a></td><td width="40%" align="right" valign="top"> 17.9. MAC-module ifoff</td></tr></table></div><p xmlns="" align="center"><small>All FreeBSD documents are available for download
    at <a href="http://ftp.FreeBSD.org/pub/FreeBSD/doc/">http://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="" align="center"><small>Questions that are not answered by the
    <a href="http://www.FreeBSD.org/docs.html">documentation</a> may be
    sent to &lt;<a href="mailto:freebsd-questions@FreeBSD.org">freebsd-questions@FreeBSD.org</a>&gt;.<br />
    Send questions about this document to &lt;<a href="mailto:freebsd-doc@FreeBSD.org">freebsd-doc@FreeBSD.org</a>&gt;.</small></p></body></html>