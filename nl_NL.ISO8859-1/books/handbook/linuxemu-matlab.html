<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>11.5. MATLAB® installeren</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD handboek" /><link rel="up" href="linuxemu.html" title="Hoofdstuk 11. Linux® binaire compatibiliteit" /><link rel="prev" href="linuxemu-maple.html" title="11.4. Maple&#8482; installeren" /><link rel="next" href="linuxemu-oracle.html" title="11.6. Oracle® installeren" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">11.5. <span class="trademark">MATLAB</span>® installeren</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="linuxemu-maple.html">Terug</a> </td><th width="60%" align="center">Hoofdstuk 11. <span class="trademark">Linux</span>® binaire compatibiliteit</th><td width="20%" align="right"> <a accesskey="n" href="linuxemu-oracle.html">Volgende</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="linuxemu-matlab"></a>11.5. <span class="trademark">MATLAB</span>® installeren</h2></div><div><span class="authorgroup">Bijgedragen door <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Dan</span> <span class="surname">Pelleg</span></span>. </span></div></div></div><a id="idp74722640" class="indexterm"></a><p>Dit document beschrijft het installatieproces van de <span class="trademark">Linux</span>®
      versie van <span class="application"><span class="trademark">MATLAB</span>® 6.5</span> op een FreeBSD
      systeem.  Het werkt best goed, met uitzondering van de
      <span class="application"><span class="trademark">Java Virtual Machine</span>&#8482;</span> (zie <a class="xref" href="linuxemu-matlab.html#matlab-jre" title="11.5.3. De Java&#8482; runtime-omgeving linken">Paragraaf 11.5.3, &#8220;De <span class="trademark">Java</span>&#8482; runtime-omgeving linken&#8221;</a>).</p><p>De <span class="trademark">Linux</span>® versie van <span class="application"><span class="trademark">MATLAB</span>®</span> kan
      besteld worden bij The MathWorks op <code class="uri"><a class="uri" href="http://www.mathworks.com" target="_top">http://www.mathworks.com</a></code>.  Er dient ook een
      licentiebestand of instructies hoe dat te maken te zijn.  Het is
      belangrijk om Maplesoft te schrijven om ze te laten weten dat een
      echte FreeBSD versie gewenst is!</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp74733008"></a>11.5.1. <span class="trademark">MATLAB</span>® installeren</h3></div></div></div><p>Om <span class="application"><span class="trademark">MATLAB</span>®</span> te
	installeren:</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Laad de installatie-CD-ROM en koppel die aan.  Start het
	    installatiescript als <code class="systemitem">root</code>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>/compat/linux/bin/sh /cdrom/install</code></strong></pre><div xmlns="" class="tip"><h3 class="admontitle">Tip: </h3><p xmlns="http://www.w3.org/1999/xhtml">Het is een grafisch installatieprogramma.  Als er
	      foutmeldingen verschijnen dat het programma geen scherm
	      kan openen, kan <code class="command">setenv HOME
		~GEBRUIKER</code>
	      uitgevoerd worden, waar
	      <em class="replaceable"><code>GEBRUIKER</code></em> de gebruiker is
	      waarmee <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=su&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">su</span>(1)</span></a> is gedaan.</p></div></li><li class="step"><p>Als om de <span class="application"><span class="trademark">MATLAB</span>®</span> rootmap
	    wordt gevraagd, dient
	    <strong class="userinput"><code>/compat/linux/usr/local/matlab</code></strong>
	    opgegeven te worden.</p><div xmlns="" class="tip"><h3 class="admontitle">Tip: </h3><p xmlns="http://www.w3.org/1999/xhtml">Voer op de commandoregel het volgende uit om de
	      rest van het installatieproces gemakkelijk te houden:
	      <code class="command">set
		MATLAB=/compat/linux/usr/local/matlab</code>.</p></div></li><li class="step"><p>Wijzig het licentiebestand zoals aangegeven tijdens het
	    verkrijgen van de licentie voor
	    <span class="application"><span class="trademark">MATLAB</span>®</span>.</p><div xmlns="" class="tip"><h3 class="admontitle">Tip: </h3><p xmlns="http://www.w3.org/1999/xhtml">Dit bestand kan van tevoren gemaakt worden met een
	      tekstverwerker en door het te kopiëren naar
	      <code class="filename">$MATLAB/license.dat</code> voordat het
	      installatieprogramma vraagt om het te bewerken.</p></div></li><li class="step"><p>Maak het installatieproces af.</p></li></ol></div><p>Nu is de installatie van
	<span class="application"><span class="trademark">MATLAB</span>®</span> compleet.  De volgende
	stappen <span class="quote">&#8220;<span class="quote">lijmen</span>&#8221;</span> het aan het FreeBSD systeem.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp74752080"></a>11.5.2. Licentiebeheerder starten</h3></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Maak symbolische links voor de scriptbestanden van de
	    licentiebeheerder:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ln -s $MATLAB/etc/lmboot /usr/local/etc/lmboot_TMW</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>ln -s $MATLAB/etc/lmdown /usr/local/etc/lmdown_TMW</code></strong></pre></li><li class="step"><p>Maak een opstartbestand in
	    <code class="filename">/usr/local/etc/rc.d/flexlm</code>.
	    Onderstaand voorbeeld is een gewijzigde versie van het
	    meegeleverde <code class="filename">$MATLAB/etc/rc.lm.glnx86</code>.
	    De wijzigingen omvatten bestandslocaties en het starten
	    van de licentiebeheerder onder <span class="trademark">Linux</span>®-emulatie.</p><pre class="programlisting">#!/bin/sh
case "$1" in
  start)
        if [ -f /usr/local/etc/lmboot_TMW ]; then
              /compat/linux/bin/sh /usr/local/etc/lmboot_TMW -u <em class="replaceable"><code>gebruikersnaam</code></em> &amp;&amp; echo 'MATLAB_lmgrd'
        fi
        ;;
  stop)
	if [ -f /usr/local/etc/lmdown_TMW ]; then
            /compat/linux/bin/sh /usr/local/etc/lmdown_TMW  &gt; /dev/null 2&gt;&amp;1
	fi
        ;;
  *)
	echo "Usage: $0 {start|stop}"
	exit 1
	;;
esac

exit 0</pre><div xmlns="" class="important"><h3 class="admontitle">Belangrijk: </h3><p xmlns="http://www.w3.org/1999/xhtml">Het bestand moet uitvoerbaar zijn:</p><pre xmlns="http://www.w3.org/1999/xhtml" class="screen"><code class="prompt">#</code> <strong class="userinput"><code>chmod +x /usr/local/etc/rc.d/flexlm</code></strong></pre><p xmlns="http://www.w3.org/1999/xhtml">Ook moet bovenstaande
	      <em class="replaceable"><code>gebruikersnaam</code></em> vervangen
	      worden door een geldige gebruikersnaam op het systeem
	      (maar niet door <code class="systemitem">root</code>).</p></div></li><li class="step"><p>Start de licentiebeheerder op met het commando:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>service flexlm start</code></strong></pre></li></ol></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="matlab-jre"></a>11.5.3. De <span class="trademark">Java</span>&#8482; runtime-omgeving linken</h3></div></div></div><p>Verander de <span class="application"><span class="trademark">Java</span>&#8482;</span> Runtime
	Environment Link naar een die werkt op FreeBSD:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cd $MATLAB/sys/java/jre/glnx86</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>unlink jre; ln -s ./jre1.1.8 ./jre</code></strong></pre></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp74767184"></a>11.5.4. <span class="trademark">MATLAB</span>® opstartscript maken</h3></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Plaats het volgende startscript in
	    <code class="filename">/usr/local/bin/matlab</code>:</p><pre class="programlisting">#!/bin/sh
/compat/linux/bin/sh /compat/linux/usr/local/matlab/bin/matlab "$@"</pre></li><li class="step"><p>Geef vervolgens het commando
	    <code class="command">chmod +x /usr/local/bin/matlab</code>.</p></li></ol></div><div xmlns="" class="tip"><h3 class="admontitle">Tip: </h3><p xmlns="http://www.w3.org/1999/xhtml">Afhankelijk van de versie van <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/emulators/linux_base/pkg-descr">emulators/linux_base</a>, kunnen er
	  fouten optreden als dit script draait.  Om dat te voorkomen,
	  dient in
	  <code class="filename">/compat/linux/usr/local/matlab/bin/matlab</code>
	  de regel:</p><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting">if [ `expr "$lscmd" : '.*-&gt;.*'` -ne 0 ]; then</pre><p xmlns="http://www.w3.org/1999/xhtml">(in versie 13.0.1 staat dit op regel 410) veranderd te
	  worden in:</p><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting">if test -L $newbase; then</pre></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp74782416"></a>11.5.5. <span class="trademark">MATLAB</span>® afsluitscript maken</h3></div></div></div><p>Het volgende is nodig om een probleem op te lossen dat
	samenhangt met het onjuist afsluiten van <span class="trademark">MATLAB</span>®.</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Maak het bestand
	    <code class="filename">$MATLAB/toolbox/local/finish.m</code> dat
	    alleen de volgende regel bevat:</p><pre class="programlisting">! $MATLAB/bin/finish.sh</pre><div xmlns="" class="note"><h3 class="admontitle">Opmerking: </h3><p xmlns="http://www.w3.org/1999/xhtml"><code class="literal">$MATLAB$</code> is hier letterlijk
	      bedoeld.</p></div><div xmlns="" class="tip"><h3 class="admontitle">Tip: </h3><p xmlns="http://www.w3.org/1999/xhtml">In dezelfde map staan de bestanden
	      <code class="filename">finishsav.m</code> en
	      <code class="filename">finishdlg.m</code>, die de mogelijkheid
	      geven om de werkomgeving te bewaren vóór
	      het afsluiten.  Als één van deze scripts
	      gebruikt wordt, dient de bovenstaande regel direct na het
	      commando <code class="literal">save</code> ingevoegd te
	      worden.</p></div></li><li class="step"><p>Maak het bestand
	    <code class="filename">$MATLAB/bin/finish.sh</code>, dat het
	    volgende bevat:</p><pre class="programlisting">#!/compat/linux/bin/sh
(sleep 5; killall -1 matlab_helper) &amp;
exit 0</pre></li><li class="step"><p>Maak het bestand uitvoerbaar:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>chmod +x $MATLAB/bin/finish.sh</code></strong></pre></li></ol></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="matlab-using"></a>11.5.6. <span class="trademark">MATLAB</span>® gebruiken</h3></div></div></div><p>Nu kan met <code class="command">matlab</code> het programma gestart
	worden.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="linuxemu-maple.html">Terug</a> </td><td width="20%" align="center"><a accesskey="u" href="linuxemu.html">Omhoog</a></td><td width="40%" align="right"> <a accesskey="n" href="linuxemu-oracle.html">Volgende</a></td></tr><tr><td width="40%" align="left" valign="top">11.4. <span class="trademark">Maple</span>&#8482; installeren </td><td width="20%" align="center"><a accesskey="h" href="index.html">Begin</a></td><td width="40%" align="right" valign="top"> 11.6. <span class="trademark">Oracle</span>® installeren</td></tr></table></div><p xmlns="" align="center"><small>All FreeBSD documents are available for download
    at <a href="http://ftp.FreeBSD.org/pub/FreeBSD/doc/">http://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="" align="center"><small>Questions that are not answered by the
    <a href="http://www.FreeBSD.org/docs.html">documentation</a> may be
    sent to &lt;<a href="mailto:freebsd-questions@FreeBSD.org">freebsd-questions@FreeBSD.org</a>&gt;.<br />
    Send questions about this document to &lt;<a href="mailto:freebsd-doc@FreeBSD.org">freebsd-doc@FreeBSD.org</a>&gt;.</small></p></body></html>