<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>12.15. Wisselbestandruimte toevoegen</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD handboek" /><link rel="up" href="config-tuning.html" title="Hoofdstuk 12. Instellingen en optimalisatie" /><link rel="prev" href="configtuning-kernel-limits.html" title="12.14. Fijnafstemming van kernellimieten" /><link rel="next" href="acpi-overview.html" title="12.16. Energie- en bronnenbeheer" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">12.15. Wisselbestandruimte toevoegen</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="configtuning-kernel-limits.html">Terug</a> </td><th width="60%" align="center">Hoofdstuk 12. Instellingen en optimalisatie</th><td width="20%" align="right"> <a accesskey="n" href="acpi-overview.html">Volgende</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="adding-swap-space"></a>12.15. Wisselbestandruimte toevoegen</h2></div></div></div><p>Hoe goed er ook gepland wordt, soms draait een systeem gewoon
      niet zoals verwacht.  Een oorzaak hiervoor kan een tekort aan
      wisselbestandruimte zijn.  Als blijkt dat er meer
      wisselbestandruimte nodig is, kan dat eenvoudig.  Er zijn drie
      manieren om de totale ruimte beschikbaar als wisselbestand te
      vergroten: een nieuwe harde schijf toevoegen, swappen over NFS of
      een wisselbestand maken op een bestaande (UFS of andere)
      partitie.</p><p>Kijk voor informatie over het beveiligen van het
      wisselbestand, welke opties hiervoor bestaan, en waarom dit gedaan
      zou moeten worden in <a class="xref" href="swap-encrypting.html" title="19.17. Het versleutelen van de wisselbestand ruimte">Paragraaf 19.17, &#8220;Het versleutelen van de wisselbestand ruimte&#8221;</a> van het
      handboek.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="new-drive-swap"></a>12.15.1. Swap op een nieuwe of bestaande harde schijf</h3></div></div></div><p>Een nieuwe harde schijf voor swap toevoegen geeft betere prestaties
	dan een partitie aan een bestaande schijf toevoegen.  Het aanmaken van
	partities en harde schijven wordt uitgelegd in <a class="xref" href="disks-adding.html" title="19.3. Schijven toevoegen">Paragraaf 19.3, &#8220;Schijven toevoegen&#8221;</a>. <a class="xref" href="configtuning-initial.html" title="12.2. Initiële instellingen">Paragraaf 12.2, &#8220;Initiële instellingen&#8221;</a>
	bespreekt de overwegingen van partitie-indelingen en de grootte van
	swap-partities.</p><p>Gebruik <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=swapon&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">swapon</span>(8)</span></a> om een swap-partitie aan het systeem toe te
	voegen, bijvoorbeeld:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>swapon /dev/ada1s1b</code></strong></pre><div xmlns="" class="warning"><h3 class="admontitle">Waarschuwing: </h3><p xmlns="http://www.w3.org/1999/xhtml">Het is mogelijk om elke partitie te gebruiken die momenteel niet
	  aangekoppeld is, zelfs als deze al gegevens bevat.  Het gebruik van
	  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=swapon&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">swapon</span>(8)</span></a> op een partitie die gegevens bevat zal deze gegevens
	  overschrijven en vernietigen.  Zorg ervoor dat de partitie die als
	  swap toegevoegd wordt echt de bedoelde partitie is voordat
	  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=swapon&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">swapon</span>(8)</span></a> gebruikt wordt.</p></div><p>Voeg een regel toe aan <code class="filename">/etc/fstab</code> voor de
	partitie om deze swap-partitie automatisch toe te voegen tijdens het
	opstarten:</p><pre class="programlisting"><em class="replaceable"><code>/dev/ada1s1b</code></em>	none	swap	sw	0	0</pre><p>Raadpleeg <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=fstab&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">fstab</span>(5)</span></a> voor een uitleg over de regels in
	<code class="filename">/etc/fstab</code>.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="nfs-swap"></a>12.15.2. Swappen over NFS</h3></div></div></div><p>In het algemeen wordt swappen over NFS niet aangeraden
	behalve als het onmogelijk is om naar een lokale schijf te
	swappen.  NFS-swappen wordt gelimiteerd door de hoeveelheid
	beschikbare bandbreedte en belast het de NFS-server.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="create-swapfile"></a>12.15.3. Wisselbestanden</h3></div></div></div><p>Het is mogelijk om een bestand aan te maken van een bepaalde
	grootte en dit als swap te gebruiken.  In dit voorbeeld wordt
	een bestand van 64 MB gebruikt,
	<code class="filename">/usr/swap0</code>.  Uiteraard kan een willekeurige
	naam gebruikt worden.</p><div class="example"><a id="idp75795664"></a><div class="example-title">Voorbeeld 12.1. Een wisselbestand aanmaken op FreeBSD</div><div class="example-contents"><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>De kernel <code class="filename">GENERIC</code> bevat reeds het
	      stuurprogramma voor geheugenschijven (<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=md&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">md</span>(4)</span></a>) dat nodig is
	      voor deze bewerking.  Zorg ervoor dat tijdens het bouwen van een
	      eigen kernel de volgende regel in uw configuratiebestand
	      zit:</p><pre class="programlisting">device md</pre><p>Kijk voor meer informatie over het bouwen van een eigen kernel
	      in <a class="xref" href="kernelconfig.html" title="Hoofdstuk 9. De FreeBSD-kernel instellen">Hoofdstuk 9, <em>De FreeBSD-kernel instellen</em></a>.</p></li><li class="listitem"><p>Het wisselbestand <code class="filename">/usr/swap0</code>
	      aanmaken:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>dd if=/dev/zero of=/usr/swap0 bs=1024k count=64</code></strong></pre></li><li class="listitem"><p>De correcte rechten op <code class="filename">/usr/swap0</code>
	      instellen:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>chmod 0600 /usr/swap0</code></strong></pre></li><li class="listitem"><p>Het wisselbestand opnemen in
	      <code class="filename">/etc/rc.conf</code>:</p><pre class="programlisting">swapfile="/usr/swap0"   # Instellen op naam van wisselbestand als hulpwisselbestand gewenst is</pre></li><li class="listitem"><p>De machine moet herstart worden of om het
	      wisselbestand direct in te schakelen:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mdconfig -a -t vnode -f /usr/swap0 -u 0 &amp;&amp; swapon /dev/md0</code></strong></pre></li></ol></div></div></div><br class="example-break" /></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="configtuning-kernel-limits.html">Terug</a> </td><td width="20%" align="center"><a accesskey="u" href="config-tuning.html">Omhoog</a></td><td width="40%" align="right"> <a accesskey="n" href="acpi-overview.html">Volgende</a></td></tr><tr><td width="40%" align="left" valign="top">12.14. Fijnafstemming van kernellimieten </td><td width="20%" align="center"><a accesskey="h" href="index.html">Begin</a></td><td width="40%" align="right" valign="top"> 12.16. Energie- en bronnenbeheer</td></tr></table></div><p xmlns="" align="center"><small>All FreeBSD documents are available for download
    at <a href="http://ftp.FreeBSD.org/pub/FreeBSD/doc/">http://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="" align="center"><small>Questions that are not answered by the
    <a href="http://www.FreeBSD.org/docs.html">documentation</a> may be
    sent to &lt;<a href="mailto:freebsd-questions@FreeBSD.org">freebsd-questions@FreeBSD.org</a>&gt;.<br />
    Send questions about this document to &lt;<a href="mailto:freebsd-doc@FreeBSD.org">freebsd-doc@FreeBSD.org</a>&gt;.</small></p></body></html>