<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>2.12. Installeren voor gevorderden</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD handboek" /><link rel="up" href="install.html" title="Hoofdstuk 2. FreeBSD installeren op FreeBSD 8.X en eerder" /><link rel="prev" href="install-trouble.html" title="2.11. Problemen oplossen" /><link rel="next" href="install-diff-media.html" title="2.13. Aangepaste installatiemedia maken" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">2.12. Installeren voor gevorderden</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="install-trouble.html">Terug</a> </td><th width="60%" align="center">Hoofdstuk 2. FreeBSD installeren op FreeBSD 8.<em class="replaceable"><code>X</code></em> en
    eerder</th><td width="20%" align="right"> <a accesskey="n" href="install-diff-media.html">Volgende</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="install-advanced"></a>2.12. Installeren voor gevorderden</h2></div><div><span class="authorgroup">Geschreven door <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Valentino</span> <span class="surname">Vaschetto</span></span>. </span></div><div><span class="authorgroup">Bijgewerkt door <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Marc</span> <span class="surname">Fonvieille</span></span>. </span></div></div></div><p>In dit onderdeel wordt het installeren van FreeBSD in bijzondere
      situaties beschreven.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="headless-install"></a>2.12.1. FreeBSD installeren op een systeem zonder monitor of
	toetsenbord</h3></div></div></div><a id="idp68701264" class="indexterm"></a><a id="idp68702416" class="indexterm"></a><p>Dit type installatie heet ook wel een <span class="quote">&#8220;<span class="quote">headless
	  install</span>&#8221;</span>, omdat de met FreeBSD te installeren machine
	of geen monitor heeft aangesloten of zelfs geen VGA-uitvoer
	heeft.  Hoe is dat mogelijk, kan de vraag zijn.  Dat kan met
	een seriële console.  Een seriële console is
	gewoonweg een andere machine die optreedt als monitor en
	toetsenbord voor een systeem.  Om dit te doen moet eerst een
	installatie-USB-stick worden gemaakt, zoals uitgelegd is in <a class="xref" href="install-pre.html#install-boot-media" title="2.3.7. Opstartmedia aanmaken">Paragraaf 2.3.7, &#8220;Opstartmedia aanmaken&#8221;</a> of het juiste ISO-image voor de
	installatie worden gedownloadt (zie <a class="xref" href="install-diff-media.html#install-cdrom" title="2.13.1. Installatie CD-ROM maken">Paragraaf 2.13.1, &#8220;Installatie CD-ROM maken&#8221;</a>).</p><p>Volg de volgende stappen om de media te wijzigen om in een
	seriële console op te starten (voor een CD-ROM kan de eerste stap
	worden overgeslagen):</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p class="title"><strong>Installatie-USB-stick geschikt maken voor een seriële
	    console</strong></p><a id="idp68705872" class="indexterm"></a><p>Als wordt opgestart van de zojuist gemaakt USB-stick,
	    start FreeBSD op in de normale installatiemodus.  FreeBSD moet
	    echter opstarten naar een seriële console voor de
	    installatie.  Om dit te regelen moet de USB-stick gekoppeld worden
	    aan het FreeBSD systeem met het commando <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mount&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mount</span>(8)</span></a>.</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mount /dev/da0a /mnt</code></strong></pre><div xmlns="" class="note"><h3 class="admontitle">Opmerking: </h3><p xmlns="http://www.w3.org/1999/xhtml">Pas het apparaat en het koppelpunt aan uw situatie aan.</p></div><p>Nu dat de stick is aangekoppeld, moet deze ingesteld worden om
	    in een seriële toestand op te starten.  Aan het bestand
	    <code class="filename">loader.conf</code> van het bestandssysteem van de
	    USB-stick een regel worden toegevoegd dat de seriële console
	    instelt als de systeemconsole:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>echo 'console="comconsole"' &gt;&gt; /mnt/boot/loader.conf</code></strong></pre><p>Nu de USB-stick correct is geconfigureerd, moet deze
	    afgekoppeld worden met <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=umount&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">umount</span>(8)</span></a>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>umount /mnt</code></strong></pre><p>Nu kan de USB-stick worden afgekoppeld en direct naar de derde
	    stap van deze procedure gegaan worden.</p></li><li class="step"><p class="title"><strong>De installatie-CD in staat stellen om in een seriële
	    console op te starten</strong></p><a id="idp68718416" class="indexterm"></a><p>Als met de CD zou worden opgestart die zojuist van het
	    installatie-ISO-image is gemaakt (zie <a class="xref" href="install-diff-media.html#install-cdrom" title="2.13.1. Installatie CD-ROM maken">Paragraaf 2.13.1, &#8220;Installatie CD-ROM maken&#8221;</a>), dan zou FreeBSD opstarten in de normale
	    installatiemodus.  We willen dat FreeBSD voor de installatie opstart
	    in een seriële console.  Om dit te doen, moet het ISO-image
	    worden uitgepakt, gewijzigd, en opnieuw worden gegenereerd voordat
	    het op een CD-R wordt gebrandt.</p><p>Gebruik <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=tar&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">tar</span>(1)</span></a> om alle bestanden uit te pakken van het
	    installatie-ISO-image, bijvoorbeeld
	    <code class="filename">FreeBSD-10.1-RELEASE-i386-disc1.iso</code>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mkdir /pad/naar/headless-iso</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>tar -C /pad/naar/headless-iso -pxvf FreeBSD-10.1-RELEASE-i386-disc1.iso</code></strong></pre><p>Nu moet het installatiemedium worden ingesteld om in een
	    seriële console op te starten.  Aan het bestand
	    <code class="filename">loader.conf</code> van het uitgepakte ISO-image moet
	    een regel worden toegevoegd dat de seriële console als de
	    systeemconsole instelt:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>echo 'console="comconsole"' &gt;&gt;
 /pad/naar/headless-iso/boot/loader.conf</code></strong></pre><p>Nu kan er een nieuw ISO-image van het gewijzigde bestandssysteem
	    worden gemaakt.  Het gereedschap <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mkisofs&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mkisofs</span>(8)</span></a> van de port
	    <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/sysutils/cdrtools/pkg-descr">sysutils/cdrtools</a> wordt
	    gebruikt:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mkisofs -v -b boot/cdboot -no-emul-boot -r -J -V "Headless_installatie" \
	  -o Headless-FreeBSD-10.1-RELEASEi386-disc1.iso /pad/naar/headless-iso</code></strong></pre><p>Nu het ISO-image correct is geconfigureerd, kan het met uw
	    favoriete brandprogramma op een CD-R worden gebrandt.</p></li><li class="step"><p class="title"><strong>Null-modem kabel aansluiten</strong></p><a id="idp68732752" class="indexterm"></a><p>Nu moeten de twee machines verbonden worden met een
	    <a class="link" href="serial.html#term-cables-null" title="26.2.2.1.1. Nulmodem-kabels">null-modem kabel</a>.
	    De kabel kan gewoon aangesloten worden tussen de
	    seriële poorten van de machines.  <span class="emphasis"><em>Een gewone
	      seriële kabel werkt niet</em></span>, er is een
	    null-modem kabel nodig omdat daarin sommige draden
	    kruiselings zijn verbonden.</p></li><li class="step"><p class="title"><strong>Opstarten voor het installeren</strong></p><p>Nu is het tijd om te beginnen met installeren.  Steek de
	    USB-stick in de machine die headless wordt geïnstalleerd en zet
	    hem aan.  Als u een voorbereidde CD-ROM gebruikt, zet dan de
	    machine aan en steek de CD-ROM erin.</p></li><li class="step"><p class="title"><strong>Verbinden met de headless machine</strong></p><a id="idp68736592" class="indexterm"></a><p>Nu moet verbinding gemaakt worden met die machine met
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=cu&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">cu</span>(1)</span></a>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cu -l /dev/cuau0</code></strong></pre><p>Gebruik op FreeBSD 7.<em class="replaceable"><code>X</code></em> het volgende
	    commando:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cu -l /dev/cuad0</code></strong></pre></li></ol></div><p>Dat is alles!  De headless machine kan bediend worden
	via de <code class="command">cu</code> sessie.  Het zal de kernel laden
	en vraagt dan wat voor terminal er gebruikt moeten worden.
	Selecteer de FreeBSD color console en ga verder met de
	installatie!</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="install-trouble.html">Terug</a> </td><td width="20%" align="center"><a accesskey="u" href="install.html">Omhoog</a></td><td width="40%" align="right"> <a accesskey="n" href="install-diff-media.html">Volgende</a></td></tr><tr><td width="40%" align="left" valign="top">2.11. Problemen oplossen </td><td width="20%" align="center"><a accesskey="h" href="index.html">Begin</a></td><td width="40%" align="right" valign="top"> 2.13. Aangepaste installatiemedia maken</td></tr></table></div><p xmlns="" align="center"><small>All FreeBSD documents are available for download
    at <a href="http://ftp.FreeBSD.org/pub/FreeBSD/doc/">http://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="" align="center"><small>Questions that are not answered by the
    <a href="http://www.FreeBSD.org/docs.html">documentation</a> may be
    sent to &lt;<a href="mailto:freebsd-questions@FreeBSD.org">freebsd-questions@FreeBSD.org</a>&gt;.<br />
    Send questions about this document to &lt;<a href="mailto:freebsd-doc@FreeBSD.org">freebsd-doc@FreeBSD.org</a>&gt;.</small></p></body></html>