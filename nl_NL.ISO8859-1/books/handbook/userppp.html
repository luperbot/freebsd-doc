<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>27.2. Gebruikmaken van gebruiker-PPP</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD handboek" /><link rel="up" href="ppp-and-slip.html" title="Hoofdstuk 27. PPP en SLIP" /><link rel="prev" href="ppp-and-slip.html" title="Hoofdstuk 27. PPP en SLIP" /><link rel="next" href="ppp.html" title="27.3. Kernel-PPP gebruiken" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">27.2. Gebruikmaken van gebruiker-PPP</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ppp-and-slip.html">Terug</a> </td><th width="60%" align="center">Hoofdstuk 27. PPP en SLIP</th><td width="20%" align="right"> <a accesskey="n" href="ppp.html">Volgende</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="userppp"></a>27.2. Gebruikmaken van gebruiker-PPP</h2></div><div><span class="authorgroup">Bijgewerkt en uitgebreid door <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Tom</span> <span class="surname">Rhodes</span></span>. </span></div><div><span class="authorgroup">Origineel bijgedragen door <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Brian</span> <span class="surname">Somers</span></span>. </span></div><div><span class="authorgroup">Met input van <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Nik</span> <span class="surname">Clayton</span></span>, <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Dirk</span> <span class="surname">Frömberg</span></span> en <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Peter</span> <span class="surname">Childs</span></span>. </span></div></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp84573520"></a>27.2.1. Gebruiker-PPP</h3></div></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp84574160"></a>27.2.1.1. Vereisten</h4></div></div></div><p>Dit document gaat er vanuit dat u de volgende punten
	  beschikbaar heeft:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Een account bij een Internet Service Provider (ISP)<a id="ppp-isp" class="indexterm"></a>
	      waarmee verbinding gemaakt wordt door middel van
	      PPP<a id="ppp-ppp2" class="indexterm"></a>.</p></li><li class="listitem"><p>Een modem of een ander apparaat verbonden met uw PC en
	      correct geconfigureerd zodat u verbinding kan maken met uw
	      ISP.</p></li><li class="listitem"><p>De inbelnummers van uw ISP.</p></li><li class="listitem"><p>Uw loginnaam<a id="ppp-login" class="indexterm"></a> en wachtwoord<a id="ppp-password" class="indexterm"></a> (danwel een combinatie van een
	      standaard <span class="trademark">UNIX</span>®<a id="ppp-unix" class="indexterm"></a>-stijl
	      login en wachtwoord of een PAP<a id="ppp-pap" class="indexterm"></a> of CHAP<a id="ppp-chap" class="indexterm"></a>
	      login en wachtwoordcombinatie).</p></li><li class="listitem"><p>Het IP-adres van één of meerdere
	      naamservers<a id="ppp-nameserver" class="indexterm"></a>.  Normaal gesproken krijgt u twee IP
	      adressen van uw ISP om te gebruiken.  Als u er echter geen
	      één gekregen heeft, kunt u het commando
	      <code class="command">enable dns</code> gebruiken in
	      <code class="filename">ppp.conf</code> en
	      <span class="application">ppp</span> zal de naamservers voor
	      u configureren.  Deze optie is afhankelijk van de PPP
	      implementatie van de ISP, welke DNS onderhandeling
	      moet ondersteunen.</p></li></ul></div><p>De volgende informatie kan aangeleverd worden door uw
	  ISP maar is niet echt noodzakelijk:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Het IP-adres van de router van uw ISP.  De router is
	      de machine waarmee u verbinding maakt en welke ingesteld
	      wordt als de <span class="emphasis"><em>standaard route</em></span>.  Als
	      u deze informatie niet heeft, kunt u een willekeurig
	      adres verzinnen waarna de PPP server van de ISP het juiste
	      adres vertelt zodra u verbinding maakt.</p><p>Dit IP-adres wordt door <span class="application">ppp</span>
	      <code class="literal">HISADDR</code> genoemd.</p></li><li class="listitem"><p>Het netwerkmasker wat gebruikt moet worden.  Als uw ISP
	      deze niet heeft opgegeven, kan <code class="systemitem">255.255.255.255</code> gebruikt
	      worden.</p></li><li class="listitem"><p>Als uw ISP u een vast IP-adres<a id="ppp-static-ip" class="indexterm"></a> en hostnaam levert,
	      kunt u deze invoeren.  In andere gevallen bepaalt de
	      andere kant welk adres er uitgegeven wordt.</p></li></ul></div><p>Als u niet in bezit bent van de vereiste informatie, moet
	  u contact opnemen met uw ISP.</p><div xmlns="" class="note"><h3 class="admontitle">Opmerking: </h3><p xmlns="http://www.w3.org/1999/xhtml">Door de rest van dit hoofdstuk worden in veel van de
	    voorbeelden configuratie bestanden genummerd per
	    regel.  Deze nummers dienen alleen als hulp voor de
	    presentatie en discussie en zijn verder niet bedoeld om
	    daadwerkelijk geïmplementeerd te worden.  Een juiste
	    inspringing met tabs en spaties zijn daarbij ook
	    belangrijk.</p></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp84601552"></a>27.2.1.2. Automatische configuratie van
	  <span class="application">PPP</span></h4></div></div></div><a id="idp84602448" class="indexterm"></a><p>Zowel <code class="command">ppp</code> als <code class="command">pppd</code>
	  (de implementatie van PPP op kernel niveau) gebruiken de
	  configuratie bestanden die zich in de map <code class="filename">/etc/ppp</code> bevinden.  Voorbeelden
	  configuraties voor gebruiker-PPP kunnen gevonden worden in
	  <code class="filename">/usr/share/examples/ppp/</code>.</p><p>Het configureren van <code class="command">ppp</code> vereist
	  dat u een aantal bestanden bewerkt, afhankelijk van uw
	  eisen.  Wat u moet invoeren is deels afhankelijk van wat
	  uw ISP u aanbied met oog op statische IP-adressen (lees u
	  krijgt een statisch adres welke u altijd gebruikt) of
	  dynamisch (lees: uw IP-adres veranderd elke keer als
	  u verbinding maakt met uw ISP).</p><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="userppp-staticIP"></a>27.2.1.2.1. PPP en statische IP-adressen</h5></div></div></div><a id="idp84607184" class="indexterm"></a><p>U moet het <code class="filename">/etc/ppp/ppp.conf</code>
	    bewerken.  Het zou dan als volgend eruit moeten zien:</p><div xmlns="" class="note"><h3 class="admontitle">Opmerking: </h3><p xmlns="http://www.w3.org/1999/xhtml">Regels die eindigen met een <code class="literal">:</code>
	      starten in de eerste kolom (het begin van de regel)
	      &#8212; alle andere regels moeten inspringen zoals
	      getoond door middel van spaties of tabs.</p></div><pre class="programlisting">1     default:
2       set log Phase Chat LCP IPCP CCP tun command
3       ident user-ppp VERSION (built COMPILATIONDATE)
4       set device /dev/cuau0
5       set speed 115200
6       set dial "ABORT BUSY ABORT NO\\sCARRIER TIMEOUT 5 \
7                 \"\" AT OK-AT-OK ATE1Q0 OK \\dATDT\\T TIMEOUT 40 CONNECT"
8       set timeout 180
9       enable dns
10
11    provider:
12      set phone "(123) 456 7890"
13      set authname foo
14      set authkey bar
15      set login "TIMEOUT 10 \"\" \"\" gin:--gin: \\U word: \\P col: ppp"
16      set timeout 300
17      set ifaddr <em class="replaceable"><code>x.x.x.x</code></em> <em class="replaceable"><code>y.y.y.y</code></em> 255.255.255.255 0.0.0.0
18      add default HISADDR</pre><div class="variablelist"><dl class="variablelist"><dt><span class="term">Regel 1:</span></dt><dd><p>Deze regel identificeert de standaard regel.
		  Commando's in deze regel worden automatisch gestart
		  zodra ppp gestart wordt.</p></dd><dt><span class="term">Regel 2:</span></dt><dd><p>Zet de log paramaters aan.  Zodra de configuratie
		  naar verwachting werkt, moet deze regel aangepast
		  worden naar:</p><pre class="programlisting">set log phase tun</pre><p>om te voorkomen dat er extreem grote log files
		  gemaakt worden.</p></dd><dt><span class="term">Regel 3:</span></dt><dd><p>Vertelt PPP hoe het zich moet identificeren
		  aan de router aan de andere kant, als deze
		  problemen heeft met het onderhandelen en het
		  opzetten van de link en het leveren van informatie
		  die de beheerders van de andere kant nuttig kunnen
		  vinden om zulke problemen te onderzoeken.</p></dd><dt><span class="term">Regel 4:</span></dt><dd><p>Identificeert het apparaat waarmee het modem
		  verbonden is.  <code class="filename">COM1</code> is
		  <code class="filename">/dev/cuau0</code>
		  en
		  <code class="filename">COM2</code> is
		  <code class="filename">/dev/cuau1</code>.</p></dd><dt><span class="term">Regel 5:</span></dt><dd><p>Stelt de snelheid in waarmee verbinding gemaakt
		  wordt.  Als 115200 niet werkt (wat wel zou moeten
		  kunnen met elk nieuw modem), probeert u dan de
		  instelling van 38400.</p></dd><dt><span class="term">Regels 6 &amp; 7:</span></dt><dd><p>De inbelregel.  Gebruiker-PPP gebruikt<a id="idp84631376" class="indexterm"></a> een
		  <span class="quote">&#8220;<span class="quote">expect-send</span>&#8221;</span> syntax wat vergelijkbaar is
		  met het <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chat&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">chat</span>(8)</span></a> programma.  Bekijk de handleiding
		  voor meer informatie over de mogelijkheden van deze
		  taal.</p><p>Let op dat dit commando doorgaat op de volgende
		  regel zodat deze leesbaar blijft.  Elk commando in
		  <code class="filename">ppp.conf</code> kan dit doen als het
		  laatste karakter op een regel, het \ karakter is.</p></dd><dt><span class="term">Regel 8:</span></dt><dd><p>Stelt de idle timeout in voor een link.  180
		  seconden is standaard, dus deze regel is puur
		  cosmetisch.</p></dd><dt><span class="term">Regel 9:</span></dt><dd><p>Vertelt PPP om de andere kant te vragen om een
		  bevestiging van de lokale naamserver instellingen.  Als
		  u een lokale naamserver draait moet deze regel
		  uitgecommentarieërd of verwijderd worden.</p></dd><dt><span class="term">Regel 10:</span></dt><dd><p>Een blanco regel voor de leesbaarheid.  Blanco
		  regels worden door PPP genegeerd.</p></dd><dt><span class="term">Regel 11:</span></dt><dd><p>Identificeert een sectie voor de provider die
		  <span class="quote">&#8220;<span class="quote">provider</span>&#8221;</span> genoemd wordt.  Dit kan
		  gewijzigd worden in de naam van uw provider zodat er
		  later gebruik gemaakt van worden bij de optie
		  <code class="option">load <em class="replaceable"><code>provider</code></em></code>
		  om een verbinding op te zetten.</p></dd><dt><span class="term">Regel 12:</span></dt><dd><p>Stelt het telefoonnummer in voor deze provider.
		  Meerdere telefoonnummers kunnen gespecificeerd worden
		  door gebruik te maken van de dubbele punt
		  (<code class="literal">:</code>) of het pipe karakter
		  (<code class="literal">|</code>) als scheidingsteken.  Het
		  verschil tussen de twee scheidingstekens wordt
		  beschreven in de <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> handleiding.
		  Om samen te vatten, als u wilt rouleren tussen de
		  nummers gebruikt u dan een dubbelepunt.  Als u altijd
		  het eerste nummer als eerste wilt draaien en alleen de
		  andere nummers wilt draaien als het eerste nummer
		  niet werkt, gebruik dan het pipe karakter.  Quote altijd
		  de hele set van telefoonnummers zoals getoond.</p><p>U moet het telefoonnummer citeren met dubbele quotes
		  (<code class="literal">"</code>) als er enige intentie is in het
		  gebruik van spaties in het telefoonummer.  Dit kan een
		  simpele, maar subtiele fout creeëren.</p></dd><dt><span class="term">Regels 13 &amp; 14:</span></dt><dd><p>Identificeert de gebruikersnaam en het
		  wachtwoord.  Wanneer gebruik gemaakt wordt van een
		  <span class="trademark">UNIX</span>® stijl login worden deze waarden verwezen
		  door het <code class="command">set login</code> commando door
		  gebruik te maken van de \U en \P variabelen.
		  Wanneer er verbinding gemaakt wordt door PPP en CHAP
		  worden deze waardes gebruikt tijdens het
		  authenticeren.</p></dd><dt><span class="term">Regels 15:</span></dt><dd><p>Als u gebruik maakt van PPP en CHAP, zal er geen
		  login op dit moment zijn, en moet deze regel
		  uitgecommentarieërd of verwijderd worden.  Zie het
		  <a class="link" href="userppp.html#userppp-PAPnCHAP" title="27.2.1.2.12. PAP en CHAP authenticatie">PAP en CHAP
		    authenticatie</a> hoofdstuk voor meer details.</p><p>De login regel is hetzelfde als de chat-achtige
		  syntax van de inbelregel.  In dit voorbeeld werkt
		  de reegl voor een dienst wiens login sessie als
		  volgt eruit ziet:</p><pre class="screen">J. Random Provider
login: <em class="replaceable"><code>foo</code></em>
password: <em class="replaceable"><code>bar</code></em>
protocol: ppp</pre><p>U moet dit script aanpassen om aan uw behoeften
		  te voldoen.  Wanneer u dit script voor het eerst
		  schrijft, moet u ervoor zorgen dat u de
		  <span class="quote">&#8220;<span class="quote">chat</span>&#8221;</span> log optie heeft aangezet zodat u
		  kunt bepalen of de communicatie gaat zoals
		  verwacht.</p></dd><dt><span class="term">Regel 16:</span></dt><dd><p>Selt de standaard idle timeout<a id="idp84654800" class="indexterm"></a> in (in seconden)
		  voor de connectie.  Hier wordt de connectie
		  automatisch afgesloten na 300 seconden van
		  inactiviteit.  Als u nooit een timeout wilt krijgen,
		  kunt u de waarde op nul zetten of gebruik maken van
		  de optie <code class="option">-ddial</code> op de commando
		  regel.</p></dd><dt><span class="term">Regel 17:</span></dt><dd><p>Stelt het interface adres in.  De regel
		  <em class="replaceable"><code>x.x.x.x</code></em> moet vervangen
		  worden door het IP-adres<a id="idp84657616" class="indexterm"></a> dat uw provider aan u heeft
		  uitgegeven.  De regel
		  <em class="replaceable"><code>y.y.y.y</code></em> moet vervangen
		  worden door het IP-adres dat uw provider aan u
		  heeft gegeven voor de router (de machine waarmee
		  u verbinding maakt).  Als uw ISP u geen router
		  adres heeft gegeven, gebruik dan <code class="systemitem">10.0.0.2/0</code>.  Als u gebruik
		  moet maken van een <span class="quote">&#8220;<span class="quote">gegokt</span>&#8221;</span>, zorg ervoor
		  dat er een regel staat in
		  <code class="filename">/etc/ppp/ppp.linkup</code> zoals
		  beschreven in de instructies voor <a class="link" href="userppp.html#userppp-dynamicIP" title="27.2.1.2.2. PPP en dynamische IP-adressen">PPP en dynamische IP
		  adressen</a>.  Als deze regel weggelaten wordt
		  kan <code class="command">ppp</code> niet in
		  <code class="option">-auto</code> mode starten.</p></dd><dt><span class="term">Regel 18:</span></dt><dd><p>Voegt een standaard routering toe naar uw providers
		  router.  Het speciale <code class="literal">HISADDR</code>
		  woord, wordt vervangen door het router adres zoals
		  gespecificeerd op regel 17.  Het is belangrijk dat
		  deze regel na regel 17 komt, anders is
		  <code class="literal">HISADDR</code> nog niet
		  geïnitialiseerd.</p><p>Als u ppp niet in <code class="option">-auto</code>
		  mode wilt draaien, moet deze regel verplaatst
		  worden naar het <code class="filename">ppp.linkup</code>
		  bestand.</p></dd></dl></div><p>Het is niet nodig om een regel toe te voegen aan
	    <code class="filename">ppp.linkup</code> wanneer u een statisch
	    IP-adres krijgt en ppp met de <code class="option">-auto</code> mode
	    gestart is omdat uw routerings tabel al correcte regels
	    heeft voordat u verbinding maakt.  U kunt echter een regel
	    aanmaken om programma's te starten nadat de verbinding
	    opgezet is.  Dit wordt later uitgelegd met een voorbeeld
	    over sendmail.</p><p>Voorbeeld van configuratiebestanden kunnen gevonden
	    worden in de map <code class="filename">usr/share/examples/ppp</code>.</p></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="userppp-dynamicIP"></a>27.2.1.2.2. PPP en dynamische IP-adressen</h5></div></div></div><a id="idp84672080" class="indexterm"></a><a id="idp84677456" class="indexterm"></a><p>Als uw provider geen statisch IP-adres aanlevert kan
	    <code class="command">ppp</code> geconfigureerd worden om het lokale
	    en het remote adres te onderhandelen.  Dit wordt gedaan door
	    het <span class="quote">&#8220;<span class="quote">gokken</span>&#8221;</span> van een IP-adres en PPP toestaan
	    dit adres te corrigeren door gebruik te maken van het
	    IP Configuration Protocol (IPCP) nadat er een verbinding
	    opgezet is.  De <code class="filename">ppp.conf</code> configuratie
	    is verders hetzelfde als voor de
	    <a class="link" href="userppp.html#userppp-staticIP" title="27.2.1.2.1. PPP en statische IP-adressen">PPP en statische IP
	      adressen</a>, met de volgende wijziging:</p><pre class="programlisting">17      set ifaddr 10.0.0.1/0 10.0.0.2/0 255.255.255.255 0.0.0.0</pre><p>Nogmaals, het regelnummer hoeft niet te worden
	    toegevoegd, deze dient puur ter referentie.  Indentatie
	    van minstens één spatie is vereist.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Regel 17:</span></dt><dd><p>Het nummer achter het <code class="literal">/</code> karakter
		  is het aantal netwerk master bits van het adres die ppp
		  eist.  Het is mogelijk dat u IP-adressen wilt gebruiken
		  die meer van toepassing zijn op uw situatie, maar
		  bovenstaand voorbeeld zal altijd werken.</p><p>Het laatste argument (<code class="literal">0.0.0.0</code>)
		  vertelt PPP om te onderhandelen met het adres <code class="systemitem">0.0.0.0</code> in plaats van met
		  <code class="systemitem">10.0.0.1</code> en is benodigd
		  voor sommige ISPs.  Gebruik <code class="literal">0.0.0.0</code>
		  niet als eerste argument voor het commando
		  <code class="command">set ifaddr</code>, omdat dit ervoor zorgt
		  dat PPP geen initiële route kan opzetten in
		  <code class="option">-auto</code> mode.</p></dd></dl></div><p>Als u niet draait in <code class="option">-auto</code> mode, moet
	    u een nieuwe regel toevoegen aan
	    <code class="filename">/etc/ppp/ppp.linkup</code>.
	    <code class="filename">ppp.linkup</code> wordt uitgevoerd nadat een
	    connectie is opgezet.  Op dit moment krijgt
	    <code class="command">ppp</code> het interface adres en is het mogelijk
	    om regels toe te voegen aan de route tabel:</p><pre class="programlisting">1     provider:
2      add default HISADDR</pre><div class="variablelist"><dl class="variablelist"><dt><span class="term">Regel 1:</span></dt><dd><p>Bij het tot stand brengen van een verbinding
		  zal <code class="command">ppp</code> kijken voor een
		  corresponderende regel in
		  <code class="filename">ppp.linkup</code> volgens de volgende
		  criteria: Als eerste, probeert het hetzelfde label te
		  vinden zoals gebruikt in <code class="filename">ppp.conf</code>.
		  Als dat mislukt, zoek dan een regel waarin het IP-adres
		  van onze router in voorkomt.  Deze regel bevat een IP
		  stijl van 4 octetten.  Als nu nog steeds geen
		  corresponderende regel gevonden is wordt er gezocht
		  naar de <code class="literal">HISADDR</code> regel.</p></dd><dt><span class="term">Regel 2:</span></dt><dd><p>Deze regel verteld <code class="command">ppp</code> om
		  een standaard routering toe te voegen die wijst
		  richting <code class="literal">HISADDR</code>.
		  <code class="literal">HISADDR</code> wordt vervangen door
		  het IP-adres van de router zoals onderhandeld door
		  IPCP.</p></dd></dl></div><p>Zie de <code class="literal">pmdemand</code> regel in de bestanden
	    <code class="filename">/usr/share/examples/ppp/ppp.conf.sample</code>
	    en
	    <code class="filename">/usr/share/examples/ppp/ppp.linkup.sample</code>
	    voor een gedetailleerd voorbeeld.</p></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp84696784"></a>27.2.1.2.3. Het ontvangen van binnenkomende gesprekken</h5></div></div></div><a id="idp84697424" class="indexterm"></a><p>Wanneer <span class="application">ppp</span> geconfigureerd
	    is om inkomende gesprekken te ontvangen op een machine die
	    verbonden is met een LAN, moet u beslissen of er pakketten
	    worden doorgestuurd naar het LAN.  Als u dat doet, moet
	    u de andere kant een IP-adres geven uit het subnet van uw
	    LAN, en zult u gebruik moeten maken van het command
	    <code class="command">enable proxy</code> in het
	    <code class="filename">/etc/ppp/ppp.conf</code> bestand.  U zult ook
	    moeten controleren of het <code class="filename">/etc/rc.conf</code>
	    bestand het volgende bevat:</p><pre class="programlisting">gateway_enable="YES"</pre></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp84701008"></a>27.2.1.2.4. Welke getty?</h5></div></div></div><p><a class="link" href="dialup.html" title="26.4. Inbeldienst">Het configureren van FreeBSD voor
	      inbel diensten</a> levert een goede beschrijving van
	    het inschakelen van inbeldiensten door gebruik te maken
	    van <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=getty&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">getty</span>(8)</span></a>.</p><p>Een alternatief voor <code class="command">getty</code> is <a class="link" href="http://mgetty.greenie.net/" target="_top">mgetty</a> (van de port
	    <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/comms/mgetty+sendfax/pkg-descr">comms/mgetty+sendfax</a>),
	    een betere versie van <code class="command">getty</code> ontworpen
	    voor onder andere inbellijnen.</p><p>De voordelen van het gebruik van
	    <code class="command">mgetty</code> is dat het actief
	    <span class="emphasis"><em>communiceert</em></span> met modems, wat betekent
	    dat als de port uitgeschakeld is in
	    <code class="filename">/etc/ttys</code>, het modem de telefoon niet
	    zal beantwoorden.</p><p>Latere versies van <code class="command">mgetty</code> (vanaf
	    0.99beta en later) ondersteunen ook het automatisch
	    detecteren van PPP stromen waardoor cliënten
	    zonder extra scripting toegang kunnen krijgen tot uw
	    server.</p><p>Raadpleeg naar <a class="link" href="userppp.html#userppp-mgetty" title="27.2.1.2.10. mgetty en AutoPPP">Mgetty en
	      AutoPPP</a> voor meer informatie over
	    <code class="command">mgetty</code>.</p></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp84713168"></a>27.2.1.2.5. <span class="application">PPP</span> Permissies</h5></div></div></div><p>Het <code class="command">ppp</code> commando moet normaal
	    gesproken gestart worden door de <code class="systemitem">root</code>
	    gebruiker.  Als u echter wilt toestaan dat
	    <code class="command">ppp</code> in server mode gestart wordt door
	    een normale gebruiker door het uitvoeren van
	    <code class="command">ppp</code>, zoals beschreven hieronder, moet
	    deze gebruiker permissie krijgen om
	    <code class="command">ppp</code> te starten.  Dit kan gedaam worden
	    door de gebruiker toe te voegen aan de
	    <code class="systemitem">network</code> groep van het
	    <code class="filename">/etc/group</code> bestand.</p><p>U moet de gebruiker ook toegang geven tot
	    één of meerdere secties van het configuratie
	    bestand door gebruik te maken van het <code class="command">allow</code>
	    commando:</p><pre class="programlisting">allow users fred mary</pre><p>Als dit commando wordt gebruikt in de
	    <code class="literal">default</code> sectie, geeft ppp alle
	    opgegeevn gebruikers toegang tot alle opties.</p></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp84719568"></a>27.2.1.2.6. PPP shells voor dynamische IP-gebruikers</h5></div></div></div><a id="idp84720208" class="indexterm"></a><p>Creeër een bestand genaamd
	    <code class="filename">/etc/ppp/ppp-shell</code> welke de volgende
	    gegevens bevat:</p><pre class="programlisting">#!/bin/sh
IDENT=`echo $0 | sed -e 's/^.*-\(.*\)$/\1/'`
CALLEDAS="$IDENT"
TTY=`tty`

if [ x$IDENT = xdialup ]; then
        IDENT=`basename $TTY`
fi

echo "PPP voor $CALLEDAS op $TTY"
echo "Starten van PPP voor $IDENT"

exec /usr/sbin/ppp -direct $IDENT</pre><p>Dit script moet uitvoerbaar zijn.  Ook moet er een
	    symbolische link gemaakt worden naar dit script met de naam
	    <code class="filename">ppp-dialup</code> door gebruik te maken van
	    de volgende commando's:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ln -s ppp-shell /etc/ppp/ppp-dialup</code></strong></pre><p>U moet dit script gebruiken als de
	    <span class="emphasis"><em>shell</em></span> voor al uw inbel gebruikers.
	    Dit is een voorbeeld uit <code class="filename">/etc/passwd</code>
	    voor een PPP inbelgebruiker met de gebruikersnaam
	    <code class="systemitem">pchilds</code> (Let op, u mag niet direct het
	    wachtwoord bestand bewerken, gebruik daarom het programma
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=vipw&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">vipw</span>(8)</span></a>).</p><pre class="programlisting">pchilds:*:1011:300:Peter Childs PPP:/home/ppp:/etc/ppp/ppp-dialup</pre><p>Creeër vervolgens een map <code class="filename">/home/ppp</code> die door iedereen
	    gelezen en beschreven kan worden en zet daar de volgende 0
	    byte grote bestanden in:</p><pre class="screen">-r--r--r--   1 root     wheel           0 May 27 02:23 .hushlogin
-r--r--r--   1 root     wheel           0 May 27 02:22 .rhosts</pre><p>welke voorkomen dat <code class="filename">/etc/motd</code>
	    getoond wordt.</p></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp84733136"></a>27.2.1.2.7. PPP shells voor statische IP-gebruikers</h5></div></div></div><a id="idp84733776" class="indexterm"></a><p>Creeër het <code class="filename">ppp-shell</code> bestand
	    zoals hierboven, en voor elk account met een statisch
	    toegewezen IP-adres creeërt u een symbolische link naar
	    <code class="filename">ppp-shell</code>.</p><p>Als u bijvoorbeeld drie inbel gebruikers hebt genaamd
	    <code class="systemitem">fred</code>, <code class="systemitem">sam</code> en
	    <code class="systemitem">mary</code> waar u een /24 CIDR netwerk voor
	    routeert, moet u het volgende typen:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ln -s /etc/ppp/ppp-shell /etc/ppp/ppp-fred</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>ln -s /etc/ppp/ppp-shell /etc/ppp/ppp-sam</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>ln -s /etc/ppp/ppp-shell /etc/ppp/ppp-mary</code></strong></pre><p>Elk van deze inbelgebruikers moet de shell ingesteld
	    hebben op de symbolische link die hierboven is gecreeërd
	    (bijvoorbeeld <code class="systemitem">mary</code>'s shell moet zijn
	    <code class="filename">/etc/ppp/ppp-mary</code>).</p></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp84749776"></a>27.2.1.2.8. Het instellen van <code class="filename">ppp.conf</code> voor
	    dynamische IP-gebruikers</h5></div></div></div><p>Het <code class="filename">/etc/ppp/ppp.conf</code> bestand moet
	    iets zoals hieronder bevatten:</p><pre class="programlisting">default:
  set debug phase lcp chat
  set timeout 0

ttyu0:
  set ifaddr 203.14.100.1 203.14.100.20 255.255.255.255
  enable proxy

ttyu1:
  set ifaddr 203.14.100.1 203.14.100.21 255.255.255.255
  enable proxy</pre><div xmlns="" class="note"><h3 class="admontitle">Opmerking: </h3><p xmlns="http://www.w3.org/1999/xhtml">Het inspringen is belangrijk.</p></div><p>De <code class="literal">default:</code> sectie wordt altijd
	    geladen.  Voor elke inbellijn die ingeschakeld is in
	    <code class="filename">/etc/ttys</code> moet een soortgelijke
	    regel worden gemaakt als die voor <code class="literal">ttyu0:</code>
	    hierboven.  Elke regel moet een uniek IP-adres krijgen van
	    uw pool van IP-adressen voor dynamische gebruikers.</p></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp84762832"></a>27.2.1.2.9. Het instellen van <code class="filename">ppp.conf</code> voor
	    statische IP-gebruikers.</h5></div></div></div><p>Samen met de inhoud van het voorbeeld
	    <code class="filename">/usr/share/examples/ppp/ppp.conf</code>
	    bestand hierboven moet een sectie aangemaakt worden voor
	    elke van de statisch ingestelde inbelgebruikers.  We
	    gaan door met ons <code class="systemitem">fred</code>,
	    <code class="systemitem">sam</code> en <code class="systemitem">mary</code>
	    voorbeeld.</p><pre class="programlisting">fred:
  set ifaddr 203.14.100.1 203.14.101.1 255.255.255.255

sam:
  set ifaddr 203.14.100.1 203.14.102.1 255.255.255.255

mary:
  set ifaddr 203.14.100.1 203.14.103.1 255.255.255.255</pre><p>Het <code class="filename">/etc/ppp/ppp.linkup</code> bestand
	    moet ook informatie over routeringen bevatten voor elke
	    statische IP-gebruiker waar nodig.  De regel hieronder
	    voegt een routering toe voor het
	    <code class="systemitem">203.14.201.0/24</code> netwerk
	    via de ppp link van de gebruiker.</p><pre class="programlisting">fred:
  add 203.14.101.0 netmask 255.255.255.0 HISADDR

sam:
  add 203.14.102.0 netmask 255.255.255.0 HISADDR

mary:
  add 203.14.103.0 netmask 255.255.255.0 HISADDR</pre></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="userppp-mgetty"></a>27.2.1.2.10. <code class="command">mgetty</code> en AutoPPP</h5></div></div></div><a id="idp84773584" class="indexterm"></a><a id="idp84774480" class="indexterm"></a><a id="idp84775248" class="indexterm"></a><p>Standaard staat de optie <code class="literal">AUTO_PPP</code> in de port
	    <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/comms/mgetty+sendfax/pkg-descr">comms/mgetty+sendfax</a> welke
	    <code class="command">mgetty</code> in staat stelt
	    om de LCP fase van PPP connecties te detecteren en aan de
	    hand daarvan automatisch een ppp shell te creeëren.
	    Echter, de standaard login procedure vindt in deze mode
	    niet plaats, waardoor het nodig is om de gebruikers te
	    authenticeren door middel van PAP of CHAP.</p><p>De volgende sectie gaat er vanuit dat u succesvol
	    de port <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/comms/mgetty+sendfax/pkg-descr">comms/mgetty+sendfax</a>
	    op uw systeem heeft gecompileerd en geïnstalleerd.</p><p>Zorg ervoor dat uw
	    <code class="filename">/usr/local/etc/mgetty+sendfax/login.config</code>
	    bestand de volgende inhoud heeft:</p><pre class="programlisting">/AutoPPP/ -     -		      /etc/ppp/ppp-pap-dialup</pre><p>Dit verteld <code class="command">mgetty</code> om het
	    <code class="filename">ppp-pap-dialup</code> script te starten
	    wanneer er een PPP connectie gedetecteerd wordt.</p><p>Creeër een bestand genaamd
	    <code class="filename">/etc/ppp/ppp-pap-dialup</code> met de volgende
	    inhoud (het bestand moet uitvoerbaar zijn):</p><pre class="programlisting">#!/bin/sh
exec /usr/sbin/ppp -direct pap$IDENT</pre><p>Voor elke inbelregel die ingeschakeld is in
	    <code class="filename">/etc/ttys</code>, creeër een
	    corresponderende regel in
	    <code class="filename">/etc/ppp/ppp.conf</code>.  Dit gaat goed
	    samen met de definities die hierboven gedaan zijn.</p><pre class="programlisting">pap:
  enable pap
  set ifaddr 203.14.100.1 203.14.100.20-203.14.100.40
  enable proxy</pre><p>Elke gebruiker die op deze manier inlogt moet een
	    gebruikersnaam en wachtwoord hebben in het
	    <code class="filename">/etc/ppp/ppp.secret</code> bestand of de
	    volgende optie moet worden toegevoegd om gebruikers te
	    authenticeren via PAP vanuit het
	    <code class="filename">/etc/passwd</code> bestand.</p><pre class="programlisting">enable passwdauth</pre><p>Als u een aantal gebruikers een statisch IP-adres wilt
	    geven, kan dat gespecificeerd worden als het derde argument
	    in <code class="filename">/etc/ppp/ppp.secret</code>.  Zie
	    <code class="filename">/usr/share/examples/ppp/ppp.secret.sample</code>
	    voor een voorbeeld.</p></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp84790608"></a>27.2.1.2.11. <span class="trademark">Microsoft</span>® Extensies</h5></div></div></div><a id="idp84791632" class="indexterm"></a><a id="idp84796624" class="indexterm"></a><a id="idp84797392" class="indexterm"></a><p>Het is mogelijk om PPP dusdanig te configuren dat deze
	    DNS en NetBIOS naamserver adressen meegeeft.</p><p>Om deze extensies in te schakelen met PPP versie 1.x
	    kunnen de volgende regels toegevoegd worden aan de relevante
	    sectie in <code class="filename">/etc/ppp/ppp.conf</code>:</p><pre class="programlisting">enable msext
set ns 203.14.100.1 203.14.100.2
set nbns 203.14.100.5</pre><p>en voor PPP versie 2 en hoger:</p><pre class="programlisting">accept dns
set dns 203.14.100.1 203.14.100.2
set nbns 203.14.100.5</pre><p>Dit verteld de cliënt het primaire en secundaire
	    naamserver adres, en geeft een NetBIOS naamserver
	    adres.</p><p>In versie 2 en hoger zal PPP gebruik maken van de
	    instellingen in <code class="filename">/etc/resolv.conf</code>
	    als de regel <code class="literal">set dns</code> niet wordt
	    gevonden.</p></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="userppp-PAPnCHAP"></a>27.2.1.2.12. PAP en CHAP authenticatie</h5></div></div></div><a id="idp84803664" class="indexterm"></a><a id="idp84804304" class="indexterm"></a><p>Sommige providers stellen hun systemen dusdanig in dat
	    het authenticatie gedeelte van uw verbinding wordt
	    afgehandeld door het PAP of CHAP authenticatie mechanisme.
	    Als dit het geval is zal uw provider u niet voorzien van een
	    <code class="prompt">login:</code> prompt wanneer u verbinding maakt
	    maar zal deze meteen gaan communiceren over het PPP
	    protocol.</p><p>PAP is minder veilig dan CHAP, maar beveiliging is meestal
	    geen probleem omdat wachtwoorden, ook al worden deze in platte
	    tekst verstuurd met PAP, alleen worden verstuurd via een
	    seriële lijn.  Hier is maar weinig ruimte voor crackers
	    om stiekem mee te luisteren.</p><p>Terug verwijzende naar de <a class="link" href="userppp.html#userppp-staticIP" title="27.2.1.2.1. PPP en statische IP-adressen">PPP en statische IP-adressen</a>
	    of <a class="link" href="userppp.html#userppp-dynamicIP" title="27.2.1.2.2. PPP en dynamische IP-adressen">PPP en dynamische IP-adressen</a>
	    secties moeten de volgende aanpassingen gedaan worden:</p><pre class="programlisting">13      set authname <em class="replaceable"><code>Mijngebruikersnaam</code></em>
14      set authkey <em class="replaceable"><code>Mijnwachtwoord</code></em>
15      set login</pre><div class="variablelist"><dl class="variablelist"><dt><span class="term">Regel 13:</span></dt><dd><p>Deze regel geeft uw PPP/CHAP gebruikersnaam aan.
		  U moet de juiste waardes invullen voor
		  <em class="replaceable"><code>Mijngebruikersnaam</code></em>.</p></dd><dt><span class="term">Regel 14:</span></dt><dd><p>Deze regel geeft uw PPP/CHAP wachtwoord<a id="idp84811856" class="indexterm"></a> aan.
		  U moet de juiste waarde invullen voor
		  <em class="replaceable"><code>Mijnwachtwoord</code></em>.  Misschien
		  wilt u een extra regel toevoegen als:</p><pre class="programlisting">16      accept PAP</pre><p>of</p><pre class="programlisting">16      accept CHAP</pre><p>om duidelijk te maken op welke manier u wilt
		  authenticeren, standaard worden zowel PAP als CHAP
		  geaccepteerd.</p></dd><dt><span class="term">Regel 15:</span></dt><dd><p>Uw ISP zal normaal gesprokken niet eisen dat u
		  op de server aanlogt als u gebruik maakt van PAP of
		  CHAP.  Daarom moet u de <span class="quote">&#8220;<span class="quote">set login</span>&#8221;</span> regel
		  uitschakelen.</p></dd></dl></div></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp84817104"></a>27.2.1.2.13. Het aanpassen van uw <code class="command">ppp</code> configuratie
	    terwijl deze in gebruik is</h5></div></div></div><p>Het is mogelijk om tegen met het <code class="command">ppp</code>
	    programma te communiceren terwijl deze in gebruik is op de
	    achtergrond, maar dat kan alleen als er een geschikte
	    diagnostische poort ingesteld is.  Om dit te kunnen doen
	    moet de volgende regel worden toegevoegd aan de
	    configuratie:</p><pre class="programlisting">set server /var/run/ppp-tun<em class="replaceable"><code>%d</code></em> DiagnosticPassword 0177</pre><p>Dit vertelt PPP om te luisteren naar het gespecificeerde
	    <span class="trademark">UNIX</span>® domein socket, waarbij de cliënten gevraagd
	    worden om het opgegeven wachtwoord voordat toegang
	    verleend kan worden.  Het <code class="literal">%d</code> in de
	    naam wordt vervangen door het <code class="filename">tun</code>
	    apparaat dat gebruikt wordt voor de verbinding.</p><p>Zodra een socket ingesteld is kan het <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pppctl&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">pppctl</span>(8)</span></a>
	    programma gebruikt worden in scripts die het draaiende
	    programma willen bewerken.</p></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="userppp-nat"></a>27.2.1.3. De vertaalmogelijkheden van PPP voor netwerkadressen
	  gebruiken</h4></div></div></div><a id="idp84827728" class="indexterm"></a><p>PPP heeft de mogelijkheid om interne NAT te gebruiken zonder
	  dat de kernel hiervoor iets hoeft te doen.  Deze functionaliteit
	  kan worden ingeschakeld door de volgende regel in
	  <code class="filename">/etc/ppp/ppp.conf</code>:</p><pre class="programlisting">nat enable yes</pre><p>Ook kan PPP NAT ingeschakeld worden door de optie
	  <code class="literal">-nat</code>.  Er is ook een
	  <code class="filename">/etc/rc.conf</code> optie genaamd
	  <code class="literal">ppp_nat</code> welke standaard ingeschakeld
	  is.</p><p>Als u gebruik wilt maken van deze optie, kunt u de
	  volgende <code class="filename">/etc/ppp/ppp.conf</code> opties ook
	  nuttig vinden om binnenkomende connecties door te sturen:</p><pre class="programlisting">nat port tcp 10.0.0.2:ftp ftp
nat port tcp 10.0.0.2:http http</pre><p>of als u niets vertrouwd vanaf buitenaf:</p><pre class="programlisting">nat deny_incoming yes</pre></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="userppp-final"></a>27.2.1.4. Laatste systeemconfiguratie</h4></div></div></div><a id="idp84838608" class="indexterm"></a><p>U heeft nu <code class="command">ppp</code> geconfigurerd, maar er
	  moeten nog een aantal dingen gedaan worden voordat deze klaar
	  is om te kunnen werken.  Hiervoor moeten een aantal
	  aanpassingen gedaan worden in het bestand
	  <code class="filename">/etc/rc.conf</code>.</p><p>Van boven naar beneden kijkende zorgen we er als eerste
	  voor dat de <code class="literal">hostname=</code> regel ingesteld
	  is met bijvoorbeeld:</p><pre class="programlisting">hostname="foo.example.com"</pre><p>Als uw provider u een statisch adres en een naam heeft
	  gegeven is het waarschijnlijk handig dat u deze naam gebruikt
	  als uw hostnaam.</p><p>Zoek naar de <code class="literal">network_interfaces</code>
	  variabele.  Als u uw systeem wilt configuren om in te bellen
	  bij uw provider wanneer nodig, zorg er dan voor dat het
	  <code class="filename">tun0</code> apparaat is toegevoegd aan deze
	  lijst.  Haal deze anders weg.</p><pre class="programlisting">network_interfaces="lo0 tun0"
ifconfig_tun0=</pre><div xmlns="" class="note"><h3 class="admontitle">Opmerking: </h3><p xmlns="http://www.w3.org/1999/xhtml">De <code class="literal">ifconfig_tun0</code> variabele moet
	    leeg zijn, en een bestand genaamd
	    <code class="filename">/etc/start_if.tun0</code> moet aangemaakt
	    worden met de volgende inhoud:</p><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting">ppp -auto mysystem</pre><p xmlns="http://www.w3.org/1999/xhtml">Dit script wordt uitgevoerd tijdens de netwerk
	    configuratie, waarbij uw ppp daemon wordt gestart in
	    automatische mode.  Als u een LAN heeft waarvoor deze
	    machine een router is wilt u wellicht ook de
	    <code class="option">-alias</code> meegeven.  Bekijk de handleiding
	    voor verdere details.</p></div><p>Zorg ervoor dat het router programma is ingesteld op
	  <code class="literal">NO</code> door middel van de volgende regel in
	  uw <code class="filename">/etc/rc.conf</code> bestand:</p><pre class="programlisting">router_enable="NO"</pre><a id="idp84848464" class="indexterm"></a><p>Het is belangrijk dat de <code class="command">routed</code> daemon
	  niet gestart wordt, omdat <code class="command">routed</code> de neiging
	  heeft om de standaard routeringtabel regels die gemaakt
	  worden door <code class="command">ppp</code> te verwijderen.</p><p>Het is waarschijnlijk een goed idee om te zorgen dat de
	  <code class="literal">sendmail_flags</code> regel de <code class="option">-q</code>
	  optie niet wordt meegenomen, anders zal
	  <code class="command">sendmail</code> periodiek een zoek actie
	  verrichten op het netwerk, wat ervoor zorgt dat uw machine
	  gaat uitbellen.  U kunt het volgende instellen:</p><pre class="programlisting">sendmail_flags="-bd"</pre><a id="idp84852816" class="indexterm"></a><p>Het nadeel hiervan is dat u <code class="command">sendmail</code>
	  moet forceren om de mailqueue periodiek te bekijken zodra
	  de ppp link op is door het typen van:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>/usr/sbin/sendmail -q</code></strong></pre><p>U wilt wellicht gebruik maken van het
	  <code class="command">!bg</code> commando in
	  <code class="filename">ppp.linkup</code> om dit automatisch te
	  doen:</p><pre class="programlisting">1     provider:
2       delete ALL
3       add 0 0 HISADDR
4       !bg sendmail -bd -q30m</pre><a id="idp84861136" class="indexterm"></a><p>Als u dit niet wilt doen, is het mogelijk om een
	  <span class="quote">&#8220;<span class="quote">dfiler</span>&#8221;</span> in te stellen welke SMTP verkeer
	  blokkeert.  Raadpleeg naar de voorbeeld bestanden voor
	  verdere details.</p><p>Alles wat nu nog nodig is, is het herstarten van de
	  machine.  Na het herstarten kunt het volgende typen:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ppp</code></strong></pre><p>en daarna <code class="command">dial provider</code> om de PPP
	  sessie te starten, of u indien u dat wilt kan
	  <code class="command">ppp</code> automatisch sessies opzetten wanneer
	  er uitgaand verkeer is (en wanneer u geen
	  <code class="filename">start_if.tun0</code> script heeft aangemaakt),
	  typt u:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ppp -auto provider</code></strong></pre></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp84866640"></a>27.2.1.5. Samenvatting</h4></div></div></div><p>Om samen te vatten zijn de volgende stappen benodigd om PPP
	  voor de eerste keer in te stellen:</p><p>Aan de cliënt zijde:</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Zorg ervoor dat het <code class="filename">tun</code>
	      apparaat is ingeschakeld in uw kernel.</p></li><li class="step"><p>Zorg ervoor dat het apparaatbestand <code class="filename">tunN</code>
	      beschikbaar is in de map <code class="filename">/dev</code>.</p></li><li class="step"><p>Creeër een regel in
	      <code class="filename">/etc/ppp/ppp.conf</code>.  Het
	      <code class="filename">pmdemand</code> voorbeeld zou moeten
	      volstaand voor de meeste providers.</p></li><li class="step"><p>Als u dynamische IP-adressen heeft, creeër een
	      regel in <code class="filename">/etc/ppp/ppp.linkup</code>.</p></li><li class="step"><p>Update uw <code class="filename">/etc/rc.conf</code>
	      bestand.</p></li><li class="step"><p>Creeër een <code class="filename">start_if.tun0</code>
	      script als u op verzoek wilt inbellen.</p></li></ol></div><p>Aan de server zijde:</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Zorg ervoor dat het <code class="filename">tun</code>
	      apparaat is ingeschakeld in uw kernel.</p></li><li class="step"><p>Zorg ervoor dat het apparaatbestand
	      <code class="filename">tunN</code>
	      beschikbaar is in de map <code class="filename">/dev</code>.</p></li><li class="step"><p>Creeër een regel in
	      <code class="filename">/etc/passwd</code> (door gebruik te maken
	      van het <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=vipw&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">vipw</span>(8)</span></a> programma).</p></li><li class="step"><p>Creeër een profiel in deze gebruikers home
	      directory die
	      <code class="command">ppp -direct direct-server</code> start of
	      iets in die trant.</p></li><li class="step"><p>Creeër een regel in
	      <code class="filename">/etc/ppp/ppp.conf</code>.  Het
	      <code class="filename">direct-server</code> voorbeeld zou moeten
	      volstaan.</p></li><li class="step"><p>Creeër een regel in
	      <code class="filename">/etc/ppp/ppp.linkup</code>.</p></li><li class="step"><p>Update uw <code class="filename">/etc/rc.conf</code>
	      bestand.</p></li></ol></div></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ppp-and-slip.html">Terug</a> </td><td width="20%" align="center"><a accesskey="u" href="ppp-and-slip.html">Omhoog</a></td><td width="40%" align="right"> <a accesskey="n" href="ppp.html">Volgende</a></td></tr><tr><td width="40%" align="left" valign="top">Hoofdstuk 27. PPP en SLIP </td><td width="20%" align="center"><a accesskey="h" href="index.html">Begin</a></td><td width="40%" align="right" valign="top"> 27.3. Kernel-PPP gebruiken</td></tr></table></div><p xmlns="" align="center"><small>All FreeBSD documents are available for download
    at <a href="http://ftp.FreeBSD.org/pub/FreeBSD/doc/">http://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="" align="center"><small>Questions that are not answered by the
    <a href="http://www.FreeBSD.org/docs.html">documentation</a> may be
    sent to &lt;<a href="mailto:freebsd-questions@FreeBSD.org">freebsd-questions@FreeBSD.org</a>&gt;.<br />
    Send questions about this document to &lt;<a href="mailto:freebsd-doc@FreeBSD.org">freebsd-doc@FreeBSD.org</a>&gt;.</small></p></body></html>