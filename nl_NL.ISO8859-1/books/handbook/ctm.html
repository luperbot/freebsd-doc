<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>A.6. CTM gebruiken</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD handboek" /><link rel="up" href="mirrors.html" title="Bijlage A. FreeBSD verkrijgen" /><link rel="prev" href="anoncvs.html" title="A.5. Anonieme CVS" /><link rel="next" href="cvsup.html" title="A.7. CVSup gebruiken" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">A.6. CTM gebruiken</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="anoncvs.html">Terug</a> </td><th width="60%" align="center">Bijlage A. FreeBSD verkrijgen</th><td width="20%" align="right"> <a accesskey="n" href="cvsup.html">Volgende</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="ctm"></a>A.6. CTM gebruiken</h2></div></div></div><a id="idp91438160" class="indexterm"></a><p><span class="application">CTM</span> is een methode om een map
      elders gesynchroniseerd te houden met een centrale.  Het is
      ontwikkeld voor gebruik met de FreeBSD broncode, hoewel sommigen het
      ook voor andere doeleinden handig vinden.  Er bestaat op dit
      moment weinig tot geen documentatie over het proces van het maken
      van delta's.  Voor informatie over het gebruik van
      <span class="application">CTM</span> kan het beste contact gezocht
      worden met de <a class="link" href="http://lists.FreeBSD.org/mailman/listinfo/ctm-users" target="_top">ctm-users</a> mailinglijst.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp91444432"></a>A.6.1. Waarom <span class="application">CTM</span> gebruiken?</h3></div></div></div><p><span class="application">CTM</span> geeft een lokale kopie van
	de FreeBSD broncode.  Die is in een aantal <span class="quote">&#8220;<span class="quote">smaken</span>&#8221;</span>
	beschikbaar.  Of het gaat om slechts één tak of
	de complete CVS structuur, <span class="application">CTM</span> kan
	het bieden.  <span class="application">CTM</span> is gewoon gemaakt
	voor actieve ontwikkelaars die met FreeBSD werken, maar geen of
	een slechte Internetverbinding hebben of gewoon automatisch de
	laatste wijzigingen willen ontvangen.  De meest actieve takken
	kennen op z'n hoogst drie delta's per dag.  Het is het
	overwegen waard om ze per automatische mail te laten sturen.
	De grootte van de updates wordt altijd zo klein mogelijk
	gehouden.  Meestal kleiner dan 5 K en soms (in tien
	procent van de gevallen) is het 10&#8211;50 K.  In
	uitzonderlijke gevallen komt het voor dat een mail van
	100 K of meer wordt gestuurd.</p><p>Het is wel van belang op de hoogte te zijn van de valkuilen
	die een rol spelen bij het direct werken met broncode in plaats
	van met een voorverpakte release.  Dit geldt nog meer als wordt
	gewerkt met de <span class="quote">&#8220;<span class="quote">current</span>&#8221;</span> code.  Het lezen van
	<a class="link" href="current-stable.html#current" title="24.5.1. Bijblijven met FreeBSD">Bijblijven met FreeBSD</a> wordt sterk
	aangeraden.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp91448656"></a>A.6.2. Wat is er nodig om <span class="application">CTM</span> te
	gebruiken?</h3></div></div></div><p>Voor het gebruik van <span class="application">CTM</span> zijn
	twee dingen nodig: het <span class="application">CTM</span>
	programma en de initiële delta's om de applicatie te
	voeden en naar een <span class="quote">&#8220;<span class="quote">current</span>&#8221;</span> niveau te
	komen.</p><p><span class="application">CTM</span> is al onderdeel van FreeBSD
	sinds versie 2.0 is uitgebracht en is te vinden in
	<code class="filename">/usr/src/usr.sbin/ctm</code>, als de broncode
	aanwezig is.</p><p>De <span class="quote">&#8220;<span class="quote">delta's</span>&#8221;</span> voor
	<span class="application">CTM</span> kunnen op twee manieren komen:
	met FTP of per e-mail.  De volgende FTP sites bieden
	ondersteuning voor <span class="application">CTM</span>:</p><p><code class="uri"><a class="uri" href="ftp://ftp.FreeBSD.org/pub/FreeBSD/CTM/" target="_top">ftp://ftp.FreeBSD.org/pub/FreeBSD/CTM/</a></code></p><p>Er staan er nog meer in de paragraaf <a class="link" href="ctm.html#mirrors-ctm" title="A.6.9. CTM mirrors">mirrors</a>.</p><p>FTP de relevante map en download het bestand
	<code class="filename">README</code> vanaf daar.</p><p>Voor delta's via e-mail:</p><p>Er dient een abonnement genomen te worden op een van de
	<span class="application">CTM</span> distributielijsten.
	<a class="link" href="http://lists.FreeBSD.org/mailman/listinfo/ctm-src-cur" target="_top">ctm-src-cur</a> ondersteunt de complete Subversion structuur.
	<a class="link" href="http://lists.FreeBSD.org/mailman/listinfo/ctm-src-cur" target="_top">ctm-src-cur</a> ondersteunt het hoofd van de ontwikkeltak.
	<a class="link" href="http://lists.FreeBSD.org/mailman/listinfo/ctm-src-9" target="_top">ctm-src-9</a> ondersteunt de 9.X release tak, enzovoort.
	Om te abonneren kan geklikt worden op de bovenstaande links of
	via <a class="link" href="http://lists.FreeBSD.org/mailman/listinfo" target="_top">http://lists.FreeBSD.org/mailman/listinfo</a> kan in een lijst geklikt worden op
	de lijst waarvoor een abonnement gewenst is.  De
	lijstpagina bevat instructies over hoe te abonneren.</p><p>Na het ontvangen van <span class="application">CTM</span> updates
	per mail, kan <code class="command">ctm_rmail</code> gebruikt worden voor
	het uitpakken en verwerken.  <code class="command">ctm_rmail</code> kan
	zelfs direct vanuit <code class="filename">/etc/aliases</code> gebruikt
	worden om het proces volledig automatisch te laten verlopen.
	In de hulppagina van <code class="command">ctm_rmail</code> staan meer
	details.</p><div xmlns="" class="note"><h3 class="admontitle">Opmerking: </h3><p xmlns="http://www.w3.org/1999/xhtml">Welke methode ook gebruikt wordt voor de
	  <span class="application">CTM</span> delta's, het is belangrijk een
	  abonnement te nemen op de <a class="link" href="http://lists.FreeBSD.org/mailman/listinfo/ctm-announce" target="_top">ctm-announce</a> mailinglijst.
	  In de toekomst worden alleen op die lijst aankondigingen
	  gedaan over het <span class="application">CTM</span> systeem.
	  Abonneren kan door op de link hierboven te klikken en de
	  instructies te volgen.</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp91472336"></a>A.6.3. <span class="application">CTM</span> de eerste keer
	gebruiken</h3></div></div></div><p>Voordat de <span class="application">CTM</span> delta's gebruikt
	kunnen worden, moet er een startpunt voor bepaald
	worden.</p><p>Eerst moet bepaald worden wat er al is.  Het is mogelijk te
	beginnen vanuit een <span class="quote">&#8220;<span class="quote">lege</span>&#8221;</span> map.  Dan moet een
	initiële <span class="quote">&#8220;<span class="quote">Empty</span>&#8221;</span> delta gebruikt worden om een
	door <span class="application">CTM</span> ondersteunde structuur te
	starten.  Het is de bedoeling dat deze <span class="quote">&#8220;<span class="quote">start</span>&#8221;</span>
	delta's ooit voor het gemak op de CD-ROM komen te staan, maar
	dit is nog niet het geval.</p><p>Omdat de structuren tientallen megabytes groot zijn, heeft
	het de voorkeur om al met iets te beginnen.  Als er een
	-RELEASE CD-ROM beschikbaar is, kan de initiële broncode
	gekopieerd of uitgepakt worden.  Dit bespaart nogal wat
	dataverkeer.</p><p>De <span class="quote">&#8220;<span class="quote">start</span>&#8221;</span> delta's kunnen herkend worden aan
	de <code class="literal">X</code> die aan het nummer is toegevoegd
	(bijvoorbeeld <code class="filename">src-cur.3210XEmpty.gz</code>).  De
	nummering achter de <code class="literal">X</code> komt overeen met de
	oorsprong van het initiële <span class="quote">&#8220;<span class="quote">zaad</span>&#8221;</span>.
	<code class="filename">Empty</code> is een lege map.  Er wordt in het
	algemeen iedere honderd delta's een basistransitie voor
	<code class="literal">Empty</code> gemaakt.  Die zijn trouwens groot: 70
	tot 80 Megabytes <code class="command">gzip</code> data is normaal voor
	de <code class="filename">XEmpty</code> delta's.</p><p>Als er een delta als startpunt is gekozen, zijn ook alle
	delta's met hogere volgnummers nodig.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp91484880"></a>A.6.4. <span class="application">CTM</span> in het dagelijks leven
	gebruiken</h3></div></div></div><p>Om de delta's toe te passen:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cd /where/ever/you/want/the/stuff</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>ctm -v -v /where/you/store/your/deltas/src-xxx.*</code></strong></pre><p><span class="application">CTM</span> begrijpt delta's in
	<code class="command">gzip</code> formaat, dus het niet nodig om eerst
	<code class="command">gunzip</code> te gebruiken.  Dat spaart
	diskruimte.</p><p>Tenzij het zeker is van de veiligheid van het proces, doet
	<span class="application">CTM</span> niets met de structuur.  Om een
	delta te verifiëren kan ook de vlag
	<code class="option">&#8211;c</code> gebruikt worden en dan komt
	<span class="application">CTM</span> ook niet aan een structuur.  Dan
	wordt alleen de integriteit van de delta gecontroleerd en of
	die zonder problemen op de huidige structuur kan worden
	toegepast.</p><p><span class="application">CTM</span> kent nog meer opties die in
	de hulppagina's worden besproken.</p><p>Meer is er niet.  Iedere keer dat er een delta wordt
	ontvangen, moet die door <span class="application">CTM</span> gehaald
	worden om de broncode bijgewerkt te houden.</p><p>Delta's kunnen het beste niet verwijderd worden als het
	lastig is ze opnieuw te downloaden.  Dan kunnen ze het beste
	bewaard worden voor het geval er eens iets gebeurt.  Zelfs als
	er alleen floppy's beschikbaar zijn, is het wellicht verstandig
	die te gebruiken met <code class="command">fdwrite</code>.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp91493200"></a>A.6.5. Lokale wijzigingen behouden</h3></div></div></div><p>Een ontwikkelaar wil graag experimenteren met bestanden in
	de structuur en die bestanden veranderen.
	<span class="application">CTM</span> ondersteunt lokale wijzigingen
	in beperkte mate: alvorens te kijken of bestand
	<code class="filename">foo</code> bestaat, zoekt het eerst naar
	<code class="filename">foo.ctm</code>.  Als dat bestand bestaat, past
	<span class="application">CTM</span> de wijzigigen daarop toe in
	plaats van op <code class="filename">foo</code>.</p><p>Dit gedrag biedt een eenvoudige mogelijkheid om lokale
	wijzigingen bij te houden.  Dat kan dus door bestanden die
	gewijzigd gaan worden te kopiëren naar een bestand met
	dezelfde naam met de toevoeging <code class="filename">.ctm</code>.  Dan
	kan er vrijelijk gespeeld worden met de code, terwijl
	<span class="application">CTM</span> het bestand
	<code class="filename">.ctm</code> bijwerkt.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp91497936"></a>A.6.6. Andere interessante mogelijkheden van
	<span class="application">CTM</span></h3></div></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp91498832"></a>A.6.6.1. Uitvinden wat precies wordt veranderd met
	  bijwerken</h4></div></div></div><p>Het is mogelijk een lijst met wijzigingen te maken die
	  <span class="application">CTM</span> zou maken op het broncodedepot
	  met de optie <code class="option">-l</code>.</p><p>Dit is nuttig als het gewenst is om een logboek bij te
	  houden van de wijzigingen, de te wijzigen bestanden voor- of
	  na te bewerken op welke manier dan ook, of als de gebruiker
	  gewoon een beetje paranoïde is.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp91501136"></a>A.6.6.2. Back-ups maken vóór bijwerken</h4></div></div></div><p>Soms kan het wenselijk zijn om een back-up te maken van
	  alle bestanden die gewijzigd gaan worden door een
	  <span class="application">CTM</span> update.</p><p>Met <code class="option">-B back-upbestand</code> back-upt
	  <span class="application">CTM</span> alle bestanden die gewijzigd
	  gaan worden door een <span class="application">CTM</span> delta
	  naar <code class="filename">back&#8211;upbestand</code>.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp91504720"></a>A.6.6.3. Te wijzigen bestanden door bijwerken beperken</h4></div></div></div><p>Soms is het wenselijk de reikwijdte voor een
	  <span class="application">CTM</span> update te beperken of kan het
	  wenselijk zijn om maar een paar bestanden bij te werken uit
	  een aantal delta's.</p><p>Een lijst met bestanden die
	  <span class="application">CTM</span> mag bewerken kan aangegeven
	  worden met de opties <code class="option">-e</code> en
	  <code class="option">-x</code> en het opgeven van regular
	  expressions.</p><p>Om bijvoorbeeld een bijgewerkte kopie van
	  <code class="filename">lib/libc/Makefile</code> te maken uit de
	  verzameling met opgeslagen <span class="application">CTM</span>
	  delta's, kan het volgende commando uitgevoerd worden:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cd /where/ever/you/want/to/extract/it/</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>ctm -e '^lib/libc/Makefile' ~ctm/src-xxx.*</code></strong></pre><p>Voor ieder te wijzigen bestand in een
	  <span class="application">CTM</span> delta worden de opties
	  <code class="option">-e</code> en <code class="option">-x</code> toegepast in de
	  volgorde waarin ze op de commandoregel staan.  Het bestand
	  wordt alleen door <span class="application">CTM</span> verwerkt als
	  het passend is bevonden na het toepassen van alle parameters
	  in <code class="option">-e</code> en <code class="option">-x</code>.</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp91526096"></a>A.6.7. Toekomstige plannen voor
	<span class="application">CTM</span></h3></div></div></div><p>Die zijn er:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Een of andere vorm van authenticatie in het
	    <span class="application">CTM</span> systeem bouwen zodat
	    vervalste <span class="application">CTM</span> updates
	    afgevangen kunnen worden;</p></li><li class="listitem"><p>De opties voor <span class="application">CTM</span> opruimen
	    omdat ze verwarrend zijn geworden.</p></li></ul></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp91530576"></a>A.6.8. Nog meer</h3></div></div></div><p>Er zijn ook delta's voor de
	<code class="literal">ports</code>collectie, maar daar is nog niet zo
	veel belangstelling voor.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="mirrors-ctm"></a>A.6.9. CTM mirrors</h3></div></div></div><p><a class="link" href="ctm.html" title="A.6. CTM gebruiken">CTM</a>/FreeBSD is op de volgende
	mirrorsites via anonieme FTP beschikbaar.  Als voor
	<span class="application">CTM</span> anonieme FTP wordt gebruikt,
	heeft het de voorkeur een site die in geografische zin dichtbij
	is te gebruiken.</p><p>Bij problemen kan contact gezocht worden met de
	<a class="link" href="http://lists.FreeBSD.org/mailman/listinfo/ctm-users" target="_top">ctm-users</a> mailinglijst.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Californië, Bay Area, officiële bron</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="uri"><a class="uri" href="ftp://ftp.FreeBSD.org/pub/FreeBSD/development/CTM/" target="_top">ftp://ftp.FreeBSD.org/pub/FreeBSD/development/CTM/</a></code></p></li></ul></div></dd><dt><span class="term">Zuid-Afrika, back-upserver voor oude delta's</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="uri"><a class="uri" href="ftp://ftp.za.FreeBSD.org/pub/FreeBSD/CTM/" target="_top">ftp://ftp.za.FreeBSD.org/pub/FreeBSD/CTM/</a></code></p></li></ul></div></dd><dt><span class="term">Taiwan/R.O.C.</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="uri"><a class="uri" href="ftp://ctm.tw.FreeBSD.org/pub/FreeBSD/development/CTM/" target="_top">ftp://ctm.tw.FreeBSD.org/pub/FreeBSD/development/CTM/</a></code></p></li><li class="listitem"><p><code class="uri"><a class="uri" href="ftp://ctm2.tw.FreeBSD.org/pub/FreeBSD/development/CTM/" target="_top">ftp://ctm2.tw.FreeBSD.org/pub/FreeBSD/development/CTM/</a></code></p></li><li class="listitem"><p><code class="uri"><a class="uri" href="ftp://ctm3.tw.FreeBSD.org/pub/FreeBSD/development/CTM/" target="_top">ftp://ctm3.tw.FreeBSD.org/pub/FreeBSD/development/CTM/</a></code></p></li></ul></div></dd></dl></div><p>Als er geen mirror dichtbij is of als die incompleet is,
	kan een zoekmachine als <a class="link" href="http://www.alltheweb.com/" target="_top">alltheweb</a> gebruikt
	worden.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="anoncvs.html">Terug</a> </td><td width="20%" align="center"><a accesskey="u" href="mirrors.html">Omhoog</a></td><td width="40%" align="right"> <a accesskey="n" href="cvsup.html">Volgende</a></td></tr><tr><td width="40%" align="left" valign="top">A.5. Anonieme CVS </td><td width="20%" align="center"><a accesskey="h" href="index.html">Begin</a></td><td width="40%" align="right" valign="top"> A.7. CVSup gebruiken</td></tr></table></div><p xmlns="" align="center"><small>All FreeBSD documents are available for download
    at <a href="http://ftp.FreeBSD.org/pub/FreeBSD/doc/">http://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="" align="center"><small>Questions that are not answered by the
    <a href="http://www.FreeBSD.org/docs.html">documentation</a> may be
    sent to &lt;<a href="mailto:freebsd-questions@FreeBSD.org">freebsd-questions@FreeBSD.org</a>&gt;.<br />
    Send questions about this document to &lt;<a href="mailto:freebsd-doc@FreeBSD.org">freebsd-doc@FreeBSD.org</a>&gt;.</small></p></body></html>