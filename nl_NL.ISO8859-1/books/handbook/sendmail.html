<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>28.3. sendmail instellen</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD handboek" /><link rel="up" href="mail.html" title="Hoofdstuk 28. Elektronische mail" /><link rel="prev" href="mail-using.html" title="28.2. Gebruik maken van elektronische mail" /><link rel="next" href="mail-changingmta.html" title="28.4. De Mail Transfer Agent vervangen" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">28.3. <span class="application">sendmail</span> instellen</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="mail-using.html">Terug</a> </td><th width="60%" align="center">Hoofdstuk 28. Elektronische mail</th><td width="20%" align="right"> <a accesskey="n" href="mail-changingmta.html">Volgende</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="sendmail"></a>28.3. <span class="application">sendmail</span> instellen</h2></div><div><span class="authorgroup">Bijgedragen door <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Christopher</span> <span class="surname">Shumway</span></span>. </span></div></div></div><a id="idp85671376" class="indexterm"></a><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sendmail&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sendmail</span>(8)</span></a> is de standaard Mail Transfer Agent (MTA) in
      FreeBSD.  <span class="application">sendmail</span>'s taak is het
      accepteren van mail van gebruikersprogramma's (<acronym class="acronym">MUA
	</acronym>) en deze te bezorgen bij de juiste mailer zoals
      gedefinieerd in het betreffende configuratiebestand.
      <span class="application">sendmail</span> kan ook netwerkverbindingen
      accepteren en mail in lokale postbussen afleveren of bezorgen
      bij een ander programma.</p><p><span class="application">sendmail</span> gebruikt de volgende
      configuratiebestanden:</p><a id="idp85675088" class="indexterm"></a><a id="idp85675728" class="indexterm"></a><a id="idp85676368" class="indexterm"></a><a id="idp85677136" class="indexterm"></a><a id="idp85677776" class="indexterm"></a><a id="idp85678416" class="indexterm"></a><a id="idp85679056" class="indexterm"></a><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Bestandsnaam</th><th>Functie</th></tr></thead><tbody><tr><td><code class="filename">/etc/mail/access</code></td><td>bestand met de toegangsdatabase van
	      <span class="application">sendmail</span></td></tr><tr><td><code class="filename">/etc/mail/aliases</code></td><td>Aliases voor postbussen</td></tr><tr><td><code class="filename">/etc/mail/local-host-names</code></td><td>Lijst van servers waarvoor
	      <span class="application">sendmail</span> mail accepteert</td></tr><tr><td><code class="filename">/etc/mail/mailer.conf</code></td><td>Configuratie voor het mailerprogramma</td></tr><tr><td><code class="filename">/etc/mail/mailertable</code></td><td>Aflevertabel voor de mailer</td></tr><tr><td><code class="filename">/etc/mail/sendmail.cf</code></td><td>Hoofdconfiguratiebestand van
	      <span class="application">sendmail</span></td></tr><tr><td><code class="filename">/etc/mail/virtusertable</code></td><td>Tabellen voor virtuele gebruikers en domeinen</td></tr></tbody></table></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp85692752"></a>28.3.1. <code class="filename">/etc/mail/access</code></h3></div></div></div><p>De toegangsdatabase definieert welke host(s) of IP-adressen
	toegang hebben tot de lokale mailserver en wat voor soort toegang
	ze hebben.  Hosts kunnen in de lijst als <code class="option">OK</code>,
	<code class="option">REJECT</code>, of <code class="option">RELAY</code> staan, of
	worden doorgevoerd naar de foutafhandelingsprocedure van
	<span class="application">sendmail</span> met een bepaalde mailerfout.
	Hosts welke vermeld staan als <code class="option">OK</code>, wat de
	standaard is, kunnen mail versturen naar deze host zolang de
	eindbestemming van de mail de lokale machine is.  Hosts welke
	vermeld staan als <code class="option">REJECT</code> worden voor alle
	verbindingen geweigerd.  Hosts met een <code class="option">RELAY</code>
	vermelding wordt toegestaan om via deze server mail naar elke
	bestemming te sturen.</p><div class="example"><a id="idp85700816"></a><div class="example-title">Voorbeeld 28.1. Configureren van de <span class="application">sendmail</span>
	  toegangsdatabase</div><div class="example-contents"><pre class="programlisting">cyberspammer.com	550 We accepteren geen mail van spammers
FREE.STEALTH.MAILER@	550 We accepteren geen mail van spammers
another.source.of.spam	REJECT
okay.cyberspammer.com	OK
128.32	RELAY</pre></div></div><br class="example-break" /><p>In dit voorbeeld staan vijf vermeldingen.  Mailafzenders die
	overeenkomen met de linkerzijde van de tabel worden beïnvloed
	door de actie die vermeld staan aan de rechterzijde van de tabel.
	De eerste twee voorbeelden geven een foutcode af aan de
	foutafhandelingsroutine van <span class="application">sendmail</span>.
	Het bericht wordt bij de externe host bekend gemaakt wanneer een
	mail voldoet aan de linkerzijde van de tabel.  De volgende regel
	weigert mail van een specifieke host op het Internet, <code class="systemitem">
	  another.source.of.spam</code>.  De volgende regel accepteert
	mailverbindingen van een host <code class="systemitem">
	  okay.cyberspammer.com</code>, welke nauwkeuriger is dan de
	regel met <code class="systemitem">cyberspammer.com</code>
	erboven.  Specifiekere regels vervangen minder specifieke.  De
	laatste regel staat het doorsturen van elektronische mail toe
	vanaf hosts waarvan de IP-adressen beginnen met <code class="systemitem">128.32</code>.
	Deze hosts zijn dan in staat om via deze mailserver naar een andere
	bestemming mail te versturen.</p><p>Wanneer dit bestand is bijgewerkt, dient <code class="command">make</code>
	in <code class="filename">/etc/mail/</code> te gedraaid te
	worden om de database bij te werken.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp85710416"></a>28.3.2. <code class="filename">/etc/mail/aliases</code></h3></div></div></div><p>De aliasdatabase bevat een lijst met virtuele postbussen die
	verwijzen naar andere gebruiker(s), bestand(en), programma('s) of
	andere aliassen.  Hier zijn een paar voorbeelden die gebruikt
	kunnen worden in <code class="filename">/etc/mail/aliases</code>:</p><div class="example"><a id="idp85711952"></a><div class="example-title">Voorbeeld 28.2. Mailaliassen</div><div class="example-contents"><pre class="programlisting">root: localuser
ftp-bugs: joe,eric,paul
bit.bucket:  /dev/null
procmail: "|/usr/local/bin/procmail"</pre></div></div><br class="example-break" /><p>Het bestandsformaat is simpel; de postbusnaam aan de
	linkerzijde van de dubbele punt wordt verder uitgewerkt naar de
	doel(en) aan de rechterzijde.  Het eerste voorbeeld breidt de
	postbus van <code class="systemitem">root</code> uit naar de postbus
	<code class="systemitem">localuser</code>, welke dan vervolgens weer wordt
	opgezocht in de aliasdatabase.  Als er geen verdere overeenkomst
	wordt gevonden, dan wordt het bericht afgeleverd bij de lokale
	gebruiker <code class="systemitem">localuser</code>.  Het volgende
	voorbeeld toont een mailinglijst.  Mail voor de postbus
	<code class="systemitem">ftp-bugs</code> wordt doorverwezen naar de drie
	lokale postbussen <code class="systemitem">joe</code>, <code class="systemitem">eric
	  </code> en <code class="systemitem">paul</code>.  Merk op dat een
	externe postbus gespecificeerd kan worden als <code class="email">&lt;<a xmlns="" class="email" href="mailto:&#10;&#9;  user@example.com">
	  user@example.com</a>&gt;</code>.  Het volgende voorbeeld toont het
	schrijven van mail naar een bestand, in dit geval <code class="filename">
	  /dev/null</code>.  Het laatste voorbeeld toont het sturen
	van mail naar een programma, in dit geval wordt het mailbericht
	doorgestuurd naar de standaard invoer van <code class="filename">
	  /usr/local/bin/procmail</code> via een <span class="trademark">UNIX</span>® pijp.</p><p>Wanneer dit bestand is bijgewerkt, dient <code class="command">make</code>
	in <code class="filename">/etc/mail/</code> gedraaid te worden
	om de database bij te werken.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp85720144"></a>28.3.3. <code class="filename">/etc/mail/local-host-names</code></h3></div></div></div><p>Dit is een lijst van hostnamen die <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sendmail&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sendmail</span>(8)</span></a> moet
	accepteren als de lokale hostnaam.  Hierin dienen alle hostnamen
	geplaatst te worden waarvoor <span class="application">sendmail</span>
	mail moet ontvangen.  Als deze mailserver mail moet ontvangen
	voor het domein <code class="systemitem">example.com</code>
	en de hostnaam is <code class="systemitem">mail.example.com</code>,
	dan ziet <code class="filename">local-host-names</code> er ongeveer zo
	uit:</p><pre class="programlisting">example.com
mail.example.com</pre><p>Wanneer dit bestand is bijgewerkt, dient <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sendmail&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sendmail</span>(8)</span></a>
	opnieuw gestart te worden zodat het de veranderingen kan lezen.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp85725520"></a>28.3.4. <code class="filename">/etc/mail/sendmail.cf</code></h3></div></div></div><p>Het hoofdinstellingenbestand van <span class="application">sendmail
	  </span>, <code class="filename">sendmail.cf</code> controleert het
	algemene gedrag van <span class="application">sendmail</span>,
	inclusief alles van het herschrijven van emailadressen tot het
	sturen van weigeringsberichten naar externe mailservers.  Met
	zo'n diverse rol is dit instellingenbestand redelijk complex en
	vallen de details buiten het bereik van dit hoofdstuk.  Gelukkig
	hoeft dit bestand maar zelden aangepast te worden voor standaard
	mailservers.</p><p>Het hoofdinstellingenbestand van <span class="application">sendmail
	  </span> kan gebouwd worden met <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=m4&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">m4</span>(1)</span></a> macro's die het
	gedrag en de mogelijkheden van <span class="application">sendmail
	  </span> specificeren.  Lees <code class="filename">
	  /usr/src/contrib/sendmail/cf/README</code> voor meer
	details.</p><p>Wanneer dit bestand is bijgewerkt, dient <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sendmail&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sendmail</span>(8)</span></a>
	opnieuw gestart te worden om de wijzigingen door te voeren.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp85731536"></a>28.3.5. <code class="filename">/etc/mail/virtusertable</code></h3></div></div></div><p>De <code class="filename">virtusertable</code> verbindt mailadressen
	voor virtuele domeinen en postbussen met echte postbussen.  Deze
	postbussen kunnen lokaal, op afstand, aliassen gedefinieerd in
	<code class="filename">/etc/mail/aliases</code>, of bestanden zijn.</p><div class="example"><a id="idp85733456"></a><div class="example-title">Voorbeeld 28.3. Voorbeeld van een mailtabel voor een virtueel domein</div><div class="example-contents"><pre class="programlisting">root@example.com	root
postmaster@example.com	postmaster@noc.example.net
@example.com	joe</pre></div></div><br class="example-break" /><p>In het voorbeeld hierboven staat een tabel voor een domein
	<code class="systemitem">example.com</code>.  Dit bestand
	wordt van boven naar beneden verwerkt, en de eerste
	overeenkomende regel wordt gebruikt.  De eerste regel verbindt
	<code class="email">&lt;<a xmlns="" class="email" href="mailto:root@example.com">root@example.com</a>&gt;</code> met de lokale postbus <code class="systemitem">
	  root</code>.  De volgende regel verbindt <code class="email">&lt;<a xmlns="" class="email" href="mailto:&#10;&#9;  postmaster@example.com">
	  postmaster@example.com</a>&gt;</code> met de postbus <code class="systemitem">
	  postmaster</code> op de host <code class="systemitem">
	  noc.example.net</code>.  Als geen van de vorige regels van
	<code class="systemitem">example.com</code> overeenkomen, zal
	de laatste regel gebruikt worden, die alle andere post
	geadresseerd aan iemand bij <code class="systemitem">
	  example.com</code> opvangt en naar de lokale postbus
	<code class="systemitem">joe</code> stuurt.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="mail-using.html">Terug</a> </td><td width="20%" align="center"><a accesskey="u" href="mail.html">Omhoog</a></td><td width="40%" align="right"> <a accesskey="n" href="mail-changingmta.html">Volgende</a></td></tr><tr><td width="40%" align="left" valign="top">28.2. Gebruik maken van elektronische mail </td><td width="20%" align="center"><a accesskey="h" href="index.html">Begin</a></td><td width="40%" align="right" valign="top"> 28.4. De Mail Transfer Agent vervangen</td></tr></table></div><p xmlns="" align="center"><small>All FreeBSD documents are available for download
    at <a href="http://ftp.FreeBSD.org/pub/FreeBSD/doc/">http://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="" align="center"><small>Questions that are not answered by the
    <a href="http://www.FreeBSD.org/docs.html">documentation</a> may be
    sent to &lt;<a href="mailto:freebsd-questions@FreeBSD.org">freebsd-questions@FreeBSD.org</a>&gt;.<br />
    Send questions about this document to &lt;<a href="mailto:freebsd-doc@FreeBSD.org">freebsd-doc@FreeBSD.org</a>&gt;.</small></p></body></html>