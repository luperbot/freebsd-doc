<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>20.3. RAID0 - aaneengeschakeld</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD handboek" /><link rel="up" href="GEOM.html" title="Hoofdstuk 20. GEOM: Modulair schijftransformatie raamwerk" /><link rel="prev" href="GEOM-intro.html" title="20.2. GEOM inleiding" /><link rel="next" href="GEOM-mirror.html" title="20.4. RAID1 - spiegelen" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">20.3. RAID0 - aaneengeschakeld</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="GEOM-intro.html">Terug</a> </td><th width="60%" align="center">Hoofdstuk 20. GEOM: Modulair schijftransformatie raamwerk</th><td width="20%" align="right"> <a accesskey="n" href="GEOM-mirror.html">Volgende</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="GEOM-striping"></a>20.3. RAID0 - aaneengeschakeld</h2></div><div><span class="authorgroup">Geschreven door <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Tom</span> <span class="surname">Rhodes</span></span> en <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Murray</span> <span class="surname">Stokely</span></span>. </span></div></div></div><a id="idp80995920" class="indexterm"></a><a id="idp80996432" class="indexterm"></a><p>Aaneenschakelen is een methode die gebruikt wordt
      om meerdere schijven te combineren tot een enkele volume.  In
      veel gevallen wordt dit gedaan met hardware controllers.  Het
      GEOM subsysteem biedt softwareondersteuning voor
      <acronym class="acronym">RAID</acronym>0, ook wel bekend als aaneenschakelen
      (<span class="quote">&#8220;<span class="quote">disk striping</span>&#8221;</span>).</p><p>In een <acronym class="acronym">RAID</acronym>0-systeem worden gegevens
      opgedeeld in blokken die verdeeld worden over de schijven in een
      reeks.  In plaats van te hoeven wachten tot een systeem 256k naar
      één schijf heeft geschreven, kan een
      <acronym class="acronym">RAID</acronym>0-systeem tegelijkertijd 64k naar vier
      verschillende schijven schrijven, waardoor superieure I/O
      prestaties worden bereikt.  Deze prestaties kunnen nog verbeterd
      worden door meerdere schijfcontrollers te gebruiken.</p><p>Iedere schijf in een
      <acronym class="acronym">RAID</acronym>0-aaneenschakeling moet van dezelfde
      grootte zijn, omdat I/O-verzoeken altijd zijn opgebouwd uit
      precies gelijk over de schijven verdeelde verzoeken tot lezen of
      schrijven.</p><div class="mediaobject" align="center"><img src="geom/striping.png" align="middle" alt="Illustratie aaneengeschakelde schijven" /></div><div class="procedure"><a id="idp81002064"></a><div class="procedure-title">Procedure 20.1. Ongeformatteerde ATA-schijven aaneenschakelen</div><ol class="procedure" type="1"><li class="step"><p>Laad de module <code class="filename">geom_stripe.ko</code>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>kldload geom_stripe</code></strong></pre></li><li class="step"><p>Zorg ervoor dat er een koppelpunt beschikbaar is.  Als dit
	  volume een rootpartitie wordt, gebruikt dan tijdelijk een
	  ander koppelpunt zoals <code class="filename">/mnt</code>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mkdir /mnt</code></strong></pre></li><li class="step"><p>Stel de apparaatnamen voor de schijven vast die aaneen
	  worden geschakeld en maak het nieuwe apparaat aan.  Om twee
	  ongebruikte, ongepartitioneerde <acronym class="acronym">ATA</acronym>
	  schijven aaneen te schakelen (<code class="filename">/dev/ad2</code>
	  en <code class="filename">/dev/ad3</code>):</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>gstripe label -v st0 /dev/ad2 /dev/ad3</code></strong>
Metadata value stored on /dev/ad2.
Metadata value stored on /dev/ad3.
Done.</pre></li><li class="step"><p>Schrijf een standaard label naar de nieuwe partitie, ook
	  wel bekend als een partitietabel en installeer de standaard
	  opstart code:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>bsdlabel -wB /dev/stripe/st0</code></strong></pre></li><li class="step"><p>Dit proces hoort twee nieuwe apparaten gemaakt te hebben
	  in de map <code class="filename">/dev/stripe</code>
	  naast het apparaat <code class="filename">st0</code>, te weten
	  <code class="filename">st0a</code> en
	  <code class="filename">st0c</code>.  Vanaf nu kan er een
	  bestandssysteem op <code class="filename">st0a</code> worden
	  gezet met behulp van de <code class="command">newfs</code> applicatie:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>newfs -U /dev/stripe/st0a</code></strong></pre><p>Na het uitvoeren van het bovenstaande commando rollen er
	  veel getallen over het scherm en na een aantal seconden is
	  het proces afgerond.  Het volume is gereed en klaar om
	  aangekoppeld te worden.</p></li></ol></div><p>Om de nieuwe aaneengeschakelde schijf handmatig te koppelen
      moet het volgende gedaan worden:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mount /dev/stripe/st0a /mnt</code></strong></pre><p>Om dit aaneengeschakelde bestandssysteem automatisch aan te
      koppelen bij het opstarten wordt de volume-informatie in
      <code class="filename">/etc/fstab</code> gezet.  Voor dit doel wordt een
      permanent koppelpunt, genaamd <code class="filename">stripe</code>, aangemaakt:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mkdir /stripe</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>echo "/dev/stripe/st0a /mnt ufs rw 2 2" \</code></strong>
      <strong class="userinput"><code>&gt;&gt; /etc/fstab</code></strong></pre><p>Laadt de module <code class="filename">geom_stripe.ko</code> ook
      automatisch bij het initialiseren van een systeem door de volgende
      regel toe te voegen aan <code class="filename">/boot/loader.conf</code>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>echo 'geom_stripe_load="YES"' &gt;&gt; /boot/loader.conf</code></strong></pre></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="GEOM-intro.html">Terug</a> </td><td width="20%" align="center"><a accesskey="u" href="GEOM.html">Omhoog</a></td><td width="40%" align="right"> <a accesskey="n" href="GEOM-mirror.html">Volgende</a></td></tr><tr><td width="40%" align="left" valign="top">20.2. GEOM inleiding </td><td width="20%" align="center"><a accesskey="h" href="index.html">Begin</a></td><td width="40%" align="right" valign="top"> 20.4. RAID1 - spiegelen</td></tr></table></div><p xmlns="" align="center"><small>All FreeBSD documents are available for download
    at <a href="http://ftp.FreeBSD.org/pub/FreeBSD/doc/">http://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="" align="center"><small>Questions that are not answered by the
    <a href="http://www.FreeBSD.org/docs.html">documentation</a> may be
    sent to &lt;<a href="mailto:freebsd-questions@FreeBSD.org">freebsd-questions@FreeBSD.org</a>&gt;.<br />
    Send questions about this document to &lt;<a href="mailto:freebsd-doc@FreeBSD.org">freebsd-doc@FreeBSD.org</a>&gt;.</small></p></body></html>