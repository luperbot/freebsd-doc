<?xml version="1.0" encoding="iso-8859-2" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-2" /><title>21.4. Adatintegritás</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD kézikönyv" /><link rel="up" href="vinum-vinum.html" title="21. fejezet - A Vinum kötetkezelõ" /><link rel="prev" href="vinum-access-bottlenecks.html" title="21.3. A hozzáférési idõk szûk keresztmetszetei" /><link rel="next" href="vinum-objects.html" title="21.5. A Vinum objektumai" /><link rel="copyright" href="legalnotice.html" title="Jogi közlemény" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">21.4. Adatintegritás</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="vinum-access-bottlenecks.html">Vissza</a> </td><th width="60%" align="center">21. fejezet - A Vinum kötetkezelõ</th><td width="20%" align="right"> <a accesskey="n" href="vinum-objects.html">Elõre</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="vinum-data-integrity"></a>21.4. Adatintegritás</h2></div></div></div><p>A modern lemezhajtók utolsó fontos
      problémája, hogy nem eléggé
      megbízhatóak.  Annak ellenére, hogy a lemezek
      ezen a téren meglehetõsen sokat fejlõdtek az
      utóbbi pár évben, egy szervernek még
      mindig ezek azok a központi részei, amelyek a
      leginkább hajlamosak a meghibásodásra.
      Amikor ez bekövetkezik, a hatása akár egy
      katasztrófával is felérhet: a
      sérült lemezmeghajtók cseréje és
      az adatok visszaállítása napokat is
      igénybe vehet.</p><a id="idp91886160" class="indexterm"></a><a id="idp91886672" class="indexterm"></a><a id="idp91887824" class="indexterm"></a><p>Ennek a problémának a hagyományos
      megközelítése lenne a
      <span class="emphasis"><em>tükrözés</em></span>
      (<span class="quote">"<span class="quote">mirroring</span>"</span>), vagyis amikor ugyanarról az
      adatról tartunk két példányt
      két eltérõ fizikai hardveren.  A
      <acronym class="acronym">RAID</acronym>-szintek beköszöntével ezt
      a technikát <acronym class="acronym">RAID level 1</acronym>-nak vagy
      <acronym class="acronym">RAID-1</acronym>-nek is nevezik.  Amikor írunk a
      kötetre, mindenhova írunk, az olvasás pedig
      bármelyik eszközrõl elvégezhetõ.
      Így ha az egyik meghajtó tönkremenne, egy
      másikon még mindig megtalálható az
      összes adat.</p><p>A tükrözés két problémát
      vet fel:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Ár.  Legalább kétszer annyiba
	    kerül, mint a nem redundánsan
	    tároló megoldások.</p></li><li class="listitem"><p>Teljesítménycsökkenés.  Mivel
	    az írást minden meghajtón végre
	    kell hajtani, legalább kétszer annyi
	    sávszélességet is felémeszt,
	    mint a nem tükrözött kötetek
	    esetén.  Az olvasás viszont nem veszít
	    a sebességébõl: sõt, még
	    gyorsabbnak is tûnhet.</p></li></ul></div><a id="idp91893072" class="indexterm"></a><a id="idp91893584" class="indexterm"></a><a id="idp91894736" class="indexterm"></a><p>Az adatintegritás megõrzésére egy
      másik megoldás a <span class="emphasis"><em>paritás</em></span>
      használata, melyet a 2, 3, 4 és 5
      <acronym class="acronym">RAID</acronym>-szintek valósítanak meg.
      Ezek közül talán a <acronym class="acronym">RAID-5</acronym> a
      legérdekesebb.  A Vinumban egy olyan csíkozott
      szervezési módként
      valósították meg, ahol minden
      csíkból egy blokk az összes többi
      paritási információját tartalmazza.  A
      <acronym class="acronym">RAID-5</acronym> által megvalósított
      szervezés hasonlít a csíkozáshoz,
      azonban a <acronym class="acronym">RAID-5</acronym>-ben mindegyik csík
      tartalmaz egy paritási információt is.
      Tehát a Vinumban, ahogy azt <acronym class="acronym">RAID-5</acronym> a
      megköveteli, a paritást tároló blokkok
      helye az egyik csíkról a másikra
      változik.  Az adatblokkokban található
      számok relatív blokkszámokat
      jelölnek.</p><p>
      </p><div class="figure"><a id="vinum-raid5-org"></a><div class="figure-title">21.3. ábra - A RAID-5 szervezési mód</div><div class="figure-contents"><div class="mediaobject"><img src="vinum/vinum-raid5-org.png" alt="A RAID-5 szervezési mód" /></div></div></div><p><br class="figure-break" />
    </p><p>A <acronym class="acronym">RAID-5</acronym>-nek a tükrözéshez
      képest megvan az az elõnye, hogy jelentõsen
      kevesebb tárhelyet igényel.  Az olvasás
      hasonló a csíkozott szervezésekéhez,
      azonban az írás jóval lassabb, közel
      25%-a az olvasás sebességének.  Az egyik
      meghajtó meghibásodása esetén a
      tömb csökkentett módban még képes
      folytatni a mûködést: a fennmaradó
      meghajtókról továbbra is a megszokott
      módon lehet olvasni, viszont a sérült
      meghajtóról olvasott adatokat folyamatosan
      javítani kell a többirõl származó
      segédinformációk szerint.</p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="vinum-access-bottlenecks.html">Vissza</a> </td><td width="20%" align="center"><a accesskey="u" href="vinum-vinum.html">Fel</a></td><td width="40%" align="right"> <a accesskey="n" href="vinum-objects.html">Elõre</a></td></tr><tr><td width="40%" align="left" valign="top">21.3. A hozzáférési idõk szûk
      keresztmetszetei </td><td width="20%" align="center"><a accesskey="h" href="index.html">Fõoldal</a></td><td width="40%" align="right" valign="top"> 21.5. A Vinum objektumai</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Ha kérdése van a FreeBSD-vel kapcsolatban, a
    következõ címre írhat (angolul):
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Ha ezzel a dokumentummal kapcsolatban van kérdése, kérjük erre a címre írjon:
    &lt;<a href="mailto:gabor@FreeBSD.org">gabor@FreeBSD.org</a>&gt;.</small></p></body></html>