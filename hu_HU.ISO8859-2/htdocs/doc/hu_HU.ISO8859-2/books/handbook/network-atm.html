<?xml version="1.0" encoding="iso-8859-2" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-2" /><title>31.12. Az Aszinkron adatátviteli mód (ATM)</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD kézikönyv" /><link rel="up" href="advanced-networking.html" title="31. fejezet - Egyéb haladó hálózati témák" /><link rel="prev" href="network-ipv6.html" title="31.11. Az IPv6" /><link rel="next" href="carp.html" title="31.13. A Közös cím redundancia protokoll (CARP)" /><link rel="copyright" href="legalnotice.html" title="Jogi közlemény" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">31.12. Az Aszinkron adatátviteli mód (ATM)</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="network-ipv6.html">Vissza</a> </td><th width="60%" align="center">31. fejezet - Egyéb haladó hálózati
    témák</th><td width="20%" align="right"> <a accesskey="n" href="carp.html">Elõre</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="network-atm"></a>31.12. Az Aszinkron adatátviteli mód (ATM)</h2></div><div><span class="authorgroup">Készítette: <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="surname">Brandt</span>, <span class="firstname">Harti</span></span>. </span></div></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp101347024"></a>31.12.1. A klasszikus IP-címek
	beállítása ATM felett
	(állandó)</h3></div></div></div><p>A klasszikus IP ATM felett (Classical IP over ATM,
	<acronym class="acronym">CLIP</acronym>) a legegyszerûbb módszer az
	IP-címek használatára az Aszinkron
	adatátviteli móddal (Asynchronous Transfer Mode,
	ATM) együtt.  Kapcsolt és állandó
	kapcsolatok (Switched Virtual Channel, SVC és Permanent
	Virtual Channel, PVC) esetén egyaránt
	megfelelõ.  Ebben a szakaszban ez utóbbival fogunk
	foglalkozni.</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp101360976"></a>31.12.1.1. A teljesen hálószerû
	  konfigurációk</h4></div></div></div><p>A <acronym class="acronym">CLIP</acronym>
	  beállítását állandó
	  csatornákon például úgy tudjuk
	  megoldani, ha az összes gépet külön
	  ezekre a célokra szánt állandó
	  csatornákkal összekapcsoljuk egymással.  Ez
	  az egyszerû megoldás azonban nagyobb
	  számú gép esetében már nem
	  eléggé hatékony.  A következõ
	  példában csupán négy gépet
	  kötünk hálózatba, melyik mindegyike
	  egy <acronym class="acronym">ATM</acronym>
	  kártyával csatlakozik az <acronym class="acronym">ATM</acronym>
	  hálózatra.  Ehhez elsõként
	  tervezzük meg az IP-címek kiosztását
	  és a gépek közti <acronym class="acronym">ATM</acronym> kapcsolatokat.
	  A példában ez az alábbiak szerint
	  alakul:</p><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Gép</th><th>IP-cím</th></tr></thead><tbody><tr><td><code class="systemitem">A-gep</code></td><td><code class="systemitem">192.168.173.1</code></td></tr><tr><td><code class="systemitem">B-gep</code></td><td><code class="systemitem">192.168.173.2</code></td></tr><tr><td><code class="systemitem">C-gep</code></td><td><code class="systemitem">192.168.173.3</code></td></tr><tr><td><code class="systemitem">D-gep</code></td><td><code class="systemitem">192.168.173.4</code></td></tr></tbody></table></div><p>A teljes hálózat
	  felépítéséhez minden egyes
	  pár között egy-egy ATM kapcsolatra lesz
	  szükségünk:</p><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Gépek</th><th>VPI.VCI pár</th></tr></thead><tbody><tr><td><code class="systemitem">A-gep</code> -
		  <code class="systemitem">B-gep</code></td><td>0.100</td></tr><tr><td><code class="systemitem">A-gep</code> -
		  <code class="systemitem">C-gep</code></td><td>0.101</td></tr><tr><td><code class="systemitem">A-gep</code> -
		  <code class="systemitem">D-gep</code></td><td>0.102</td></tr><tr><td><code class="systemitem">B-gep</code> -
		  <code class="systemitem">C-gep</code></td><td>0.103</td></tr><tr><td><code class="systemitem">B-gep</code> -
		  <code class="systemitem">D-gep</code></td><td>0.104</td></tr><tr><td><code class="systemitem">C-gep</code> -
		  <code class="systemitem">D-gep</code></td><td>0.105</td></tr></tbody></table></div><p>A kapcsolatok egyes végein szereplõ VPI
	  és VCI értékek természetesen
	  eltérhetnek, de ezeket mi most az
	  egyszerûség kedvéért egyenlõnek
	  tekintettük.  A következõ
	  lépésben minden gépen
	  állítsuk be az ATM felület:</p><pre class="screen">A-gep<code class="prompt">#</code> <strong class="userinput"><code>ifconfig hatm0 192.168.173.1 up</code></strong>
B-gep<code class="prompt">#</code> <strong class="userinput"><code>ifconfig hatm0 192.168.173.2 up</code></strong>
C-gep<code class="prompt">#</code> <strong class="userinput"><code>ifconfig hatm0 192.168.173.3 up</code></strong>
D-gep<code class="prompt">#</code> <strong class="userinput"><code>ifconfig hatm0 192.168.173.4 up</code></strong></pre><p>Ha feltételezzük, hogy minden gépen a
	  <code class="filename">hatm0</code> az ATM felület neve.  Most
	  pedig az <code class="systemitem">A-gep</code>-en állítsuk be
	  az állandó csatornákat.  (Itt most
	  feltesszük, hogy az ATM switch-eken mindezt már
	  elvégeztük.  A switch
	  kézikönyvében errõl
	  részletesebb leírást is
	  találhatunk.)</p><pre class="screen">A-gep<code class="prompt">#</code> <strong class="userinput"><code>atmconfig natm add 192.168.173.2 hatm0 0 100 llc/snap ubr</code></strong>
A-gep<code class="prompt">#</code> <strong class="userinput"><code>atmconfig natm add 192.168.173.3 hatm0 0 101 llc/snap ubr</code></strong>
A-gep<code class="prompt">#</code> <strong class="userinput"><code>atmconfig natm add 192.168.173.4 hatm0 0 102 llc/snap ubr</code></strong>

B-gep<code class="prompt">#</code> <strong class="userinput"><code>atmconfig natm add 192.168.173.1 hatm0 0 100 llc/snap ubr</code></strong>
B-gep<code class="prompt">#</code> <strong class="userinput"><code>atmconfig natm add 192.168.173.3 hatm0 0 103 llc/snap ubr</code></strong>
B-gep<code class="prompt">#</code> <strong class="userinput"><code>atmconfig natm add 192.168.173.4 hatm0 0 104 llc/snap ubr</code></strong>

C-gep<code class="prompt">#</code> <strong class="userinput"><code>atmconfig natm add 192.168.173.1 hatm0 0 101 llc/snap ubr</code></strong>
C-gep<code class="prompt">#</code> <strong class="userinput"><code>atmconfig natm add 192.168.173.2 hatm0 0 103 llc/snap ubr</code></strong>
C-gep<code class="prompt">#</code> <strong class="userinput"><code>atmconfig natm add 192.168.173.4 hatm0 0 105 llc/snap ubr</code></strong>

D-gep<code class="prompt">#</code> <strong class="userinput"><code>atmconfig natm add 192.168.173.1 hatm0 0 102 llc/snap ubr</code></strong>
D-gep<code class="prompt">#</code> <strong class="userinput"><code>atmconfig natm add 192.168.173.2 hatm0 0 104 llc/snap ubr</code></strong>
D-gep<code class="prompt">#</code> <strong class="userinput"><code>atmconfig natm add 192.168.173.3 hatm0 0 105 llc/snap ubr</code></strong></pre><p>Természetesen nem csak UBR
	  használható, hanem minden más olyan
	  forgalmazási beállítás, amit az
	  ATM kártyáink ismernek.  Itt most a forgalmi
	  beállítás nevét a
	  hozzá tartozó konkrét paraméterek
	  követik.  Az <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=atmconfig&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">atmconfig</span>(8)</span></a> segédprogram
	  használatához így kérhetünk
	  segítséget:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>atmconfig help natm add</code></strong></pre><p>Olvassuk el az <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=atmconfig&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">atmconfig</span>(8)</span></a> man
	  oldalát.</p><p>Ugyanez a beállítás az
	  <code class="filename">/etc/rc.conf</code> állomány
	  használatával is elvégezhetõ.  Az
	  <code class="systemitem">A-gep</code> esetében mindez így
	  nézne ki:</p><pre class="programlisting">network_interfaces="lo0 hatm0"
ifconfig_hatm0="inet 192.168.173.1 up"
natm_static_routes="B-gep C-gep D-gep"
route_B-gep="192.168.173.2 hatm0 0 100 llc/snap ubr"
route_C-gep="192.168.173.3 hatm0 0 101 llc/snap ubr"
route_D-gep="192.168.173.4 hatm0 0 102 llc/snap ubr"</pre><p>A <acronym class="acronym">CLIP</acronym> útvonalak pillanatnyi
	  állapota így kérdezhetõ le:</p><pre class="screen">A-gep<code class="prompt">#</code> <strong class="userinput"><code>atmconfig natm show</code></strong></pre></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="network-ipv6.html">Vissza</a> </td><td width="20%" align="center"><a accesskey="u" href="advanced-networking.html">Fel</a></td><td width="40%" align="right"> <a accesskey="n" href="carp.html">Elõre</a></td></tr><tr><td width="40%" align="left" valign="top">31.11. Az IPv6 </td><td width="20%" align="center"><a accesskey="h" href="index.html">Fõoldal</a></td><td width="40%" align="right" valign="top"> 31.13. A Közös cím redundancia protokoll
      (CARP)</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Ha kérdése van a FreeBSD-vel kapcsolatban, a
    következõ címre írhat (angolul):
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Ha ezzel a dokumentummal kapcsolatban van kérdése, kérjük erre a címre írjon:
    &lt;<a href="mailto:gabor@FreeBSD.org">gabor@FreeBSD.org</a>&gt;.</small></p></body></html>