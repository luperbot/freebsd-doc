<?xml version="1.0" encoding="iso-8859-2" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-2" /><title>3.2. Virtuális konzolok és terminálok</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD kézikönyv" /><link rel="up" href="basics.html" title="3. fejezet - A UNIX alapjai" /><link rel="prev" href="basics.html" title="3. fejezet - A UNIX alapjai" /><link rel="next" href="permissions.html" title="3.3. Engedélyek" /><link rel="copyright" href="legalnotice.html" title="Jogi közlemény" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">3.2. Virtuális konzolok és terminálok</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="basics.html">Vissza</a> </td><th width="60%" align="center">3. fejezet - A UNIX alapjai</th><td width="20%" align="right"> <a accesskey="n" href="permissions.html">Elõre</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="consoles"></a>3.2. Virtuális konzolok és terminálok</h2></div></div></div><a id="idp77537232" class="indexterm"></a><a id="idp77537744" class="indexterm"></a><p>A FreeBSD számos módon használható.
      Ezek közül az egyik az, ha parancsokat
      gépelünk be a szöveges terminálon.
      Így érhetõ el egyszerûen a <span class="trademark">UNIX</span>(R)
      operációs rendszer rugalmasságának
      és erejének jelentõs része.  Ebben a
      szakaszban megtudhatjuk, mik azok a
      <span class="quote">"<span class="quote">terminálok</span>"</span> és <span class="quote">"<span class="quote">konzolok</span>"</span>
      és miként tudjuk ezeket FreeBSD alatt
      használni.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="consoles-intro"></a>3.2.1. A konzol</h3></div></div></div><a id="idp77540688" class="indexterm"></a><p>Ha nem állítottuk volna be, hogy a FreeBSD
	indulása során automatikusan induljon el a
	grafikus felület is, akkor a rendszer egy bejelentkezõ
	képernyõt fog mutatni közvetlenül a
	rendszerindítás befejezõdése
	után.  Ekkor valami ilyesmit kell majd
	látnunk:</p><pre class="screen">Additional ABI support:.
Local package initialization:.
Additional TCP options:.

Fri Sep 20 13:01:06 EEST 2002

FreeBSD/i386 (pc3.example.org) (ttyv0)

login:</pre><p>Egyes rendszereken ugyan némileg eltérhetnek
	az üzenetek, de hasonlót kell látnunk.
	Minket most az utolsó két sor érdekel.  Az
	utolsó elõtti sorban ez olvasható:</p><pre class="programlisting">FreeBSD/i386 (pc3.example.org) (ttyv0)</pre><p>Ez a sor arról értesít minket, hogy a
	rendszerünk éppen most indult el: egy
	<span class="quote">"<span class="quote">FreeBSD</span>"</span> konzolt látunk, amely egy <span class="trademark">Intel</span>(R) x86
	architektúrájú processzoron fut
	<a href="#ftn.idp77548112" class="footnote" id="idp77548112"><sup class="footnote">[1]</sup></a>.  A gépünk neve (mivel minden <span class="trademark">UNIX</span>(R)-os
	  gép rendelkezik egy névvel)
	  <code class="systemitem">pc3.example.org</code>, és ennek a
	  rendszerkonzolját látjuk most éppen
	  - a <code class="filename">ttyv0</code>
	  terminált.</p><p>Végezetül az utolsó sor mindig:</p><pre class="programlisting">login:</pre><p>Ez az a rész, ahova a FreeBSD-be
	történõ bejelentkezéshez meg kell adnunk
	a <span class="quote">"<span class="quote">felhasználói nevünket</span>"</span> (user
	name).  A következõ szakaszban errõl
	olvashatunk.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="consoles-login"></a>3.2.2. Bejelentkezés a FreeBSD-be</h3></div></div></div><p>A FreeBSD egy többfelhasználós,
	többfeladatos rendszer.  Így hívják
	hivatalosan azokat a rendszereket, amelyeket többen tudnak
	használni és egyetlen
	számítógépen egyszerre rengeteg
	programot képesek futtatni.</p><p>Minden többfelhasználós rendszernek
	valamilyen módon meg kell tudnia
	különböztetnie egy
	<span class="quote">"<span class="quote">felhasználóját</span>"</span> a
	többitõl.  A FreeBSD-ben (és minden más
	<span class="trademark">UNIX</span>(R)-szerû operációs rendszerben) ezt
	úgy érik el, hogy a programok futtatása
	elõtt minden felhasználónak <span class="quote">"<span class="quote">be kell
	jelentkeznie</span>"</span> a rendszerbe.  Minden
	felhasználó rendelkezik egy egyedi névvel
	(ez a <span class="quote">"<span class="quote">felhasználói név</span>"</span>)
	és ehhez egy titkos kulcssal (ez a
	<span class="quote">"<span class="quote">jelszó</span>"</span>).  A FreeBSD a programok
	futtatásához ezt a kettõt fogja
	elkérni a felhasználótól.</p><a id="idp77573968" class="indexterm"></a><p>Egybõl miután a FreeBSD elindult és
	befejezte a rendszerindításhoz használt
	szkriptjeinek lefuttatását
	<a href="#ftn.idp77574736" class="footnote" id="idp77574736"><sup class="footnote">[2]</sup></a>, ez a kijelzés (vagy más néven
	<span class="quote">"<span class="quote">prompt</span>"</span>) fog megjelenni és kér egy
	érvényes felhasználói
	nevet:</p><pre class="screen">login:</pre><p>A példa kedvéért most tegyük fel,
	hogy a felhasználói nevünk
	<code class="systemitem">pgj</code>.  Az iménti prompthoz
	írjuk be, hogy <code class="literal">pgj</code> és nyomjuk
	le az <span class="keycap"><strong>Enter</strong></span> billentyût.  Ezt
	követõen meg kell jelennie egy másik promptnak
	is, amely egy <span class="quote">"<span class="quote">jelszót</span>"</span> (password)
	kér:</p><pre class="screen">login: <strong class="userinput"><code>pgj</code></strong>
Password:</pre><p>Most pedig gépeljük be <code class="systemitem">pgj</code>
	jelszavát és nyomjunk utána egy
	<span class="keycap"><strong>Enter</strong></span> billentyût.  Vigyázzunk, hogy
	a jelszót <span class="emphasis"><em>nem látjuk</em></span> a
	beírás során!  Emiatt most ne
	aggódjunk.  Ezzel kapcsolatban elegendõ csak annyit
	tudni, hogy mindez biztonsági
	megfontolásokból történik.</p><p>Amennyiben jól adtuk meg a jelszavunkat, sikeresen
	bejelentkezünk a FreeBSD rendszerébe és
	készen állunk az összes elérhetõ
	parancs kipróbálására.</p><p>Bejelentkezés után a <acronym class="acronym">MOTD</acronym>
	(message of the day) vagy más néven <span class="quote">"<span class="quote">a nap
	üzenete</span>"</span> jelenik meg, amelyet a parancssor
	követ (egy <code class="literal">#</code>, <code class="literal">$</code> vagy
	<code class="literal">%</code> jel).  Innen tudhatjuk meg, hogy
	sikerült bejelentkeznünk.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="consoles-virtual"></a>3.2.3. Több konzol használata</h3></div></div></div><p>A <span class="trademark">UNIX</span>(R) parancsokat egy konzolon is szépen ki tudjuk
	adni, de a FreeBSD egyszerre ugyebár több programot is
	tud futtatni.  A parancsok megadásához viszont
	egyetlen konzol használata elég nagy
	pazarlás lenne, hiszen egy olyan operációs
	rendszer mint a FreeBSD, tucatnyi programot képes futtatni
	egy idõben.  Ebben az esetben jelenthetnek számunkra
	segítséget a <span class="quote">"<span class="quote">virtuális
	konzolok</span>"</span>.</p><p>A FreeBSD beállítható úgy, hogy
	sok-sok különféle virtuális konzolt
	ajánljon fel számunkra.  A virtuális
	konzolok között a billentyûzeten a megfelelõ
	gombok lenyomásával tudunk váltani.
	Mindegyik konzolnak megvan a saját kimeneti
	csatornája, és a virtuális konzolok
	közti váltás folyamán a FreeBSD
	gondoskodik a billentyûzetrõl érkezõ
	bemenet, valamint a monitorra irányított kimenet
	megfelelõ kezelésérõl.</p><p>A konzolok közti váltásra a FreeBSD
	külön billentyûkombinációkat tart
	fenn
	<a href="#ftn.idp77590736" class="footnote" id="idp77590736"><sup class="footnote">[3]</sup></a>.  A FreeBSD-ben a különbözõ
	virtuális konzolok közti váltásra az
	<span class="keycap"><strong>Alt</strong></span>+<span class="keycap"><strong>F1</strong></span>,
	<span class="keycap"><strong>Alt</strong></span>+<span class="keycap"><strong>F2</strong></span>
	billentyûket, az
	<span class="keycap"><strong>Alt</strong></span>+<span class="keycap"><strong>F8</strong></span>
	billentyûkombinációval
	bezárólag használhatjuk.</p><p>A konzolok közti váltogatás során
	a FreeBSD ügyel a képernyõ tartalmának
	elmentésére és
	visszaállítására.  Ennek
	eredményeképpen <span class="quote">"<span class="quote">úgy
	látszik</span>"</span>, mintha több
	<span class="quote">"<span class="quote">virtuális</span>"</span> képernyõn és
	billentyûzeten adnánk parancsokat a FreeBSD-nek.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="consoles-ttys"></a>3.2.4. Az <code class="filename">/etc/ttys</code>
	állomány</h3></div></div></div><p>A FreeBSD alapértelmezés szerint nyolc
	virtuális konzollal indul.  Ez azonban nem egy elõre
	rögzített érték, hiszen
	könnyedén testreszabhatjuk úgy a
	telepített rendszerünket, hogy több vagy
	esetleg kevesebb virtuális konzollal induljon el.  A
	virtuális konzolok száma és azok pontos
	beállítása az
	<code class="filename">/etc/ttys</code> állományon
	keresztül adható meg.</p><p>A FreeBSD virtuális konzoljait tehát az
	<code class="filename">/etc/ttys</code> állomány
	megfelelõ módosításával tudjuk
	behangolni.  Itt minden egyes olyan sor, amely nem
	megjegyzés (vagyis azok a sorok, amelyek nem a
	<code class="literal">#</code> karakterrel kezdõdnek), tartalmazza az
	egyes terminálok vagy virtuális konzolok
	beállításait.  Az állomány a
	FreeBSD telepítésében szereplõ,
	alapértelmezett változata kilenc virtuális
	konzol konfigurációját tartalmazza, amelyek
	közül nyolc aktív.  Ezek a
	<code class="literal">ttyv</code> résszel kezdõdõ
	sorok:</p><pre class="programlisting"># name  getty                           type    status          comments
#
ttyv0   "/usr/libexec/getty Pc"         cons25  on  secure
# Virtual terminals
ttyv1   "/usr/libexec/getty Pc"         cons25  on  secure
ttyv2   "/usr/libexec/getty Pc"         cons25  on  secure
ttyv3   "/usr/libexec/getty Pc"         cons25  on  secure
ttyv4   "/usr/libexec/getty Pc"         cons25  on  secure
ttyv5   "/usr/libexec/getty Pc"         cons25  on  secure
ttyv6   "/usr/libexec/getty Pc"         cons25  on  secure
ttyv7   "/usr/libexec/getty Pc"         cons25  on  secure
ttyv8   "/usr/X11R6/bin/xdm -nodaemon"  xterm   off secure</pre><p>Az állományban található
	oszlopok kimerítõ magyarázatát,
	illetve a virtuális konzolok
	beállításához
	használható kapcsolókat a <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ttys&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">ttys</span>(5)</span></a> man
	oldalon olvashatjuk.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="consoles-singleuser"></a>3.2.5. Az egyfelhasználós mód
	konzolja</h3></div></div></div><p>Az <span class="quote">"<span class="quote">egyfelhasználós mód</span>"</span>
	részletes leírása a <a class="xref" href="boot-init.html#boot-singleuser" title="12.6.2. Egyfelhasználós mód">12.6.2. szakasz - Egyfelhasználós mód</a>ban található.  Fontos
	tudni, hogy amikor a FreeBSD-t egyfelhasználós
	módban futtatjuk, csupán egyetlen konzolunk van,
	és a virtuális konzolok nem érhetõek
	el.  Egyébként az egyfelhasználós
	mód erre vonatkozó
	beállításai is megtalálhatóak
	az <code class="filename">/etc/ttys</code> állományban.
	Ehhez keressük meg a <code class="literal">console</code>
	kezdetû sort:</p><pre class="programlisting"># name  getty                           type    status          comments
#
# Ha a konzolt "insecure" (nem biztonságos) típusúnak választjuk meg,
# akkor a használatához az egyfelhasználós mód aktivilásá elõtt a rendszer
# kérni fogja a rendszeradminisztrátori jelszót.
console none                            unknown off secure</pre><div xmlns="" class="note"><h3 class="admontitle">Megjegyzés: </h3><p xmlns="http://www.w3.org/1999/xhtml">A <code class="literal">console</code> felett látható
	  megjegyzés jelzi, hogy át tudjuk írni
	  ebben a sorban a <code class="literal">secure</code>
	  (biztonságos) értékû
	  paramétert <code class="literal">insecure</code> (nem
	  biztonságos) értékûre.  Ilyenkor,
	  hogy ha a FreeBSD egyfelhasználós módban
	  indul, kérni fogja a <code class="systemitem">root</code>
	  felhasználó (a rendszeradminisztrátor)
	  jelszavát.</p><p xmlns="http://www.w3.org/1999/xhtml"><span class="emphasis"><em>Vigyázzunk, amikor ezt az
	  értéket <code class="literal">insecure</code>-ra
	  állítjuk!</em></span> Ha ugyanis
	  véletlenül elfeledkeznénk a
	  <code class="systemitem">root</code> jelszaváról, akkor
	  azzal az egyfelhasználós mód
	  használata is veszélybe kerülhet.
	  Habár ettõl függetlenül is
	  lehetséges, azokra számára mégis
	  nehéz helyzetnek bizonyulhat, akik nem mozognak
	  elég otthonosan a FreeBSD rendszerindítási
	  folyamatának és a
	  hozzákapcsolódó programok
	  ismeretében.</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="consoles-vidcontrol"></a>3.2.6. A videomód váltása konzolban</h3></div></div></div><p>A FreeBSD konzol alapértelmezett videomódja
	átállítható 1024x768-ra,
	1280x1024-re, vagy bármilyen olyan más
	méretre, amit a videokártyánk
	és monitorunk képes megjeleníteni.  Az
	eltérõ videomódok használatához
	elõször újra kell fordítanunk a
	rendszermagunkat az alábbi két
	beállítás
	hozzáadásával:</p><pre class="programlisting">options VESA
options SC_PIXEL_MODE</pre><p>Miután a rendszermagot sikeresen
	újrafordítottuk a fenti
	beállításokkal, a <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=vidcontrol&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">vidcontrol</span>(1)</span></a>
	segédprogrammal tudjuk megállapítani, hogy
	a hardverünk milyen videomódokat enged
	használni.  Az összes támogatott
	videomódot a következõképpen tudjuk
	lekérdezni:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>vidcontrol -i mode</code></strong></pre><p>A parancs eredményeképpen tehát
	megkapjuk a hardverünk által ismert
	videomódokat.  Ezek közül tudjuk
	kiválasztani valamelyikõjüket és
	<code class="systemitem">root</code> felhasználóként a
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=vidcontrol&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">vidcontrol</span>(1)</span></a> segítségével
	beállítani:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>vidcontrol MODE_279</code></strong></pre><p>Ha az új videomód megfelel számunkra,
	akkor ezt a beállítást az
	<code class="filename">/etc/rc.conf</code> állományon
	keresztül véglegesíthetjük is:</p><pre class="programlisting">allscreens_flags="MODE_279"</pre></div><div class="footnotes"><br /><hr class="footnote-hr" /><div id="ftn.idp77548112" class="footnote"><p><a href="#idp77548112" class="para"><sup class="para">[1] </sup></a>Erre utal pontosan az <code class="literal">i386</code>
	    jelzés.  Még abban az esetben is az
	    <code class="literal">i386</code> kiírást fogjuk
	    látni, ha a FreeBSD-t konkrétan nem is az <span class="trademark">Intel</span>(R)
	    386-os processzorán futtatjuk.  Itt ugyanis nem a
	    processzorunk típusát, hanem annak
	    <span class="quote">"<span class="quote">architektúráját</span>"</span>
	    láthatjuk.</p></div><div id="ftn.idp77574736" class="footnote"><p><a href="#idp77574736" class="para"><sup class="para">[2] </sup></a>A rendszerindító szkriptek olyan
	    programok, amelyek a FreeBSD indulása során
	    maguktól lefutnak.  Legfontosabb feladatuk
	    elvégezni a többi program
	    futtatásához szükséges
	    beállításokat, valamint
	    elindítani a háttérben
	    futtatandó, hasznos munkát végzõ
	    szolgáltatásokat.</p></div><div id="ftn.idp77590736" class="footnote"><p><a href="#idp77590736" class="para"><sup class="para">[3] </sup></a>A FreeBSD konzol- és
	    billentyûzetmeghajtóinak teljes, pusztán
	    mûszaki és precíz leírása a
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=syscons&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">syscons</span>(4)</span></a>, <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=atkbd&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">atkbd</span>(4)</span></a>, <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=vidcontrol&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">vidcontrol</span>(1)</span></a> és
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=kbdcontrol&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">kbdcontrol</span>(1)</span></a> man oldalakon olvasható.  Itt most
	    nem bocsátkozunk részletekbe, azonban a
	    téma iránt érdeklõdõ
	    olvasóknak mindig érdemes fellapozniuk a
	    kapcsolódó man oldalakat, ahol
	    megtalálhatják az említett
	    eszközök részletesebb és bõvebb
	    leírását.</p></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="basics.html">Vissza</a> </td><td width="20%" align="center"><a accesskey="u" href="basics.html">Fel</a></td><td width="40%" align="right"> <a accesskey="n" href="permissions.html">Elõre</a></td></tr><tr><td width="40%" align="left" valign="top">3. fejezet - A UNIX alapjai </td><td width="20%" align="center"><a accesskey="h" href="index.html">Fõoldal</a></td><td width="40%" align="right" valign="top"> 3.3. Engedélyek</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Ha kérdése van a FreeBSD-vel kapcsolatban, a
    következõ címre írhat (angolul):
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Ha ezzel a dokumentummal kapcsolatban van kérdése, kérjük erre a címre írjon:
    &lt;<a href="mailto:gabor@FreeBSD.org">gabor@FreeBSD.org</a>&gt;.</small></p></body></html>