<?xml version="1.0" encoding="iso-8859-2" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-2" /><title>29.8. Állományok átvitele (FTP)</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD kézikönyv" /><link rel="up" href="network-servers.html" title="29. fejezet - Hálózati szerverek" /><link rel="prev" href="network-apache.html" title="29.7. Az Apache webszerver" /><link rel="next" href="network-samba.html" title="29.9. Állomány- és nyomtatási szolgáltatások Microsoft(R) Windows(R) kliensek számára (Samba)" /><link rel="copyright" href="legalnotice.html" title="Jogi közlemény" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">29.8. Állományok átvitele (FTP)</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="network-apache.html">Vissza</a> </td><th width="60%" align="center">29. fejezet - Hálózati szerverek</th><td width="20%" align="right"> <a accesskey="n" href="network-samba.html">Elõre</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="network-ftp"></a>29.8. Állományok átvitele (FTP)</h2></div><div><span class="authorgroup">Készítette: <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="surname">Stokely</span>, <span class="firstname">Murray</span></span>. </span></div></div></div><a id="idp98281552" class="indexterm"></a><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp98282064"></a>29.8.1. Áttekintés</h3></div></div></div><p>Az adatállomány átviteli protokoll
	(File Transfer Protocol, FTP) a felhasználók
	számára lehetõséget ad az ún.
	<acronym class="acronym">FTP</acronym> szerverekre
	állományokat feltölteni, illetve onnan
	állományokat letölteni.  A FreeBSD alaprendszere
	is tartalmaz egy ilyen <acronym class="acronym">FTP</acronym> szerverprogramot,
	<span class="application">ftpd</span> néven.  Ezért FreeBSD
	alatt egy <acronym class="acronym">FTP</acronym>
	szerver beállítása meglehetõsen
	egyszerû.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp98285136"></a>29.8.2. Beállítás</h3></div></div></div><p>A beállítás legfontosabb
	lépése, hogy eldöntsük milyen
	hozzáféréseken át lehet
	elérni az FTP szervert.  Egy hétköznapi FreeBSD
	rendszerben rengeteg hozzáférés a
	különbözõ démonokhoz tartozik, de az
	ismeretlen felhasználók számára nem
	kellene megengednünk ezek használatát.  Az
	<code class="filename">/etc/ftpusers</code> állományban
	szerepelnek azok a felhasználók, akik semmilyen
	módon nem érhetik el az FTP
	szolgáltatást.  Alapértelmezés
	szerint itt találhatjuk az elõbb említett
	rendszerszintû hozzáféréseket is, de
	ide minden további nélkül felvehetjük
	azokat a felhasználókat, akiknél nem
	akarjuk engedni az FTP elérését.</p><p>Más esetekben elõfordulhat, hogy csak
	korlátozni akarjuk egyes felhasználók FTP
	elérését.  Ezt az
	<code class="filename">/etc/ftpchroot</code> állományon
	keresztül tehetjük meg.  Ebben az
	állományban a lekorlátozni
	kívánt felhasználókat és
	csoportokat írhatjuk bele.  Az <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ftpchroot&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">ftpchroot</span>(5)</span></a> man
	oldalán olvashatjuk el ennek részleteit,
	ezért ennek pontos részleteit itt most nem
	tárgyaljuk.</p><a id="idp98292304" class="indexterm"></a><p>Ha az FTP szerverünkhöz névtelen (anonim)
	hozzáférést is engedélyezni akarunk,
	akkor ahhoz elõször készítenünk
	kell egy <code class="systemitem">ftp</code> nevû
	felhasználót a FreeBSD rendszerünkben.  A
	felhasználók ezután az
	<code class="systemitem">ftp</code> vagy <code class="systemitem">anonymous</code>
	nevek, valamint egy tetszõleges jelszó (ez a
	hagyományok szerint a felhasználó e-mail
	címe) használatával is képesek
	lesznek bejelentkezni.  Az FTP szerver ezután a
	névtelen felhasználók esetében
	meghívja a <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chroot&amp;sektion=2"><span class="citerefentry"><span class="refentrytitle">chroot</span>(2)</span></a> rendszerhívást,
	és ezzel lekorlátozza
	hozzáférésüket az
	<code class="systemitem">ftp</code> felhasználó
	könyvtárára.</p><p>Két szöveges állományban adhatunk
	meg a becsatlakozó FTP kliensek számára
	üdvözlõ üzeneteket.  Az
	<code class="filename">/etc/ftpwelcome</code> állomány
	tartalmát még a bejelentkezés elõtt
	látni fogják a felhasználók, a
	sikeres bejelentkezést követõen pedig az
	<code class="filename">/etc/ftpmotd</code> állomány
	tartalmát látják.  Vigyázzunk, mert
	ennek az állománynak már a
	bejelentkezési környezethez képest
	relatív az elérése, ezért a
	névtelen felhasználók esetében ez
	konkrétan az <code class="filename">~ftp/etc/ftpmotd</code>
	állomány lesz.</p><p>Ahogy beállítottuk az FTP szervert, az
	<code class="filename">/etc/inetd.conf</code> állományban
	is engedélyeznünk kell.  Itt mindössze annyira
	lesz szükségünk, hogy
	eltávolítsuk a megjegyzést jelzõ
	<span class="quote">"<span class="quote">#</span>"</span> karaktert a már meglevõ
	<span class="application">ftpd</span> sor elõl:</p><pre class="programlisting">ftp	stream	tcp	nowait	root	/usr/libexec/ftpd	ftpd -l</pre><p>Ahogy arról már a <a class="xref" href="network-inetd.html#network-inetd-reread" title="29.1. példa - Az inetd konfigurációs állományának újraolvasása">29.1. példa - Az <span class="application">inetd</span>
	  konfigurációs állományának
	  újraolvasása</a> szót ejtett, az
	<span class="application">inetd</span>
	beállításait újra be kell
	olvastatnunk a konfigurációs
	állomány megváltoztatása
	után.  A <a class="xref" href="network-inetd.html#network-inetd-settings" title="29.2.2. Beállítások">29.2.2. szakasz - Beállítások</a> írja le az
	<span class="application">inetd</span>
	engedélyezésének részleteit.</p><p>Az <span class="application">ftpd</span> önálló
	szerverként is elindítható.  Ehhez
	mindössze elegendõ csak a megfelelõ
	változót beállítani az
	<code class="filename">/etc/rc.conf</code>
	állományban:</p><pre class="programlisting">ftpd_enable="YES"</pre><p>Miután megadtuk az iménti
	változót, a szerver el fog indulni a rendszer
	következõ indítása során.
	Szükség esetén természetesen
	<code class="systemitem">root</code> felhasználóként a
	következõ paranccsal is közvetlenül
	elindítható:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>/etc/rc.d/ftpd start</code></strong></pre><p>Most már be is tudunk jelentkezni az FTP
	szerverre:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>ftp localhost</code></strong></pre></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp98306896"></a>29.8.3. Karbantartás</h3></div></div></div><a id="idp98307536" class="indexterm"></a><a id="idp98308048" class="indexterm"></a><p>Az <span class="application">ftpd</span> démon a
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=syslog&amp;sektion=3"><span class="citerefentry"><span class="refentrytitle">syslog</span>(3)</span></a> használatával naplózza az
	üzeneteket.  Alapértelmezés szerint a
	rendszernaplózó démon az FTP
	mûködésére vonatkozó
	üzeneteket az <code class="filename">/var/log/xferlog</code>
	állományba írja.  Az FTP naplóinak
	helyét az <code class="filename">/etc/syslog.conf</code>
	állományban tudjuk
	módosítani:</p><pre class="programlisting">ftp.info      /var/log/xferlog</pre><a id="idp98312016" class="indexterm"></a><p>Legyünk körültekintõek a névtelen
	FTP szerverek üzemeltetésekor.  Azt pedig
	kétszer is gondoljuk meg, hogy
	engedélyezzük-e a névtelen
	felhasználók számára
	állományok feltöltését, hiszen
	könnyen azon kaphatjuk magunkat, hogy az FTP oldalunk
	illegális állománycserék
	színterévé válik vagy esetleg valami
	sokkal rosszabb történik.  Ha mindenképpen
	szükségünk lenne erre a
	lehetõségre, akkor állítsunk be olyan
	engedélyeket a feltöltött
	állományokra, hogy a többi névtelen
	felhasználó ezeket a tartalmuk tüzetes
	ellenõrzéséig ne is olvashassa.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="network-apache.html">Vissza</a> </td><td width="20%" align="center"><a accesskey="u" href="network-servers.html">Fel</a></td><td width="40%" align="right"> <a accesskey="n" href="network-samba.html">Elõre</a></td></tr><tr><td width="40%" align="left" valign="top">29.7. Az Apache webszerver </td><td width="20%" align="center"><a accesskey="h" href="index.html">Fõoldal</a></td><td width="40%" align="right" valign="top"> 29.9. Állomány- és nyomtatási
      szolgáltatások <span class="trademark">Microsoft</span>(R) <span class="trademark">Windows</span>(R) kliensek
      számára (Samba)</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Ha kérdése van a FreeBSD-vel kapcsolatban, a
    következõ címre írhat (angolul):
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Ha ezzel a dokumentummal kapcsolatban van kérdése, kérjük erre a címre írjon:
    &lt;<a href="mailto:gabor@FreeBSD.org">gabor@FreeBSD.org</a>&gt;.</small></p></body></html>