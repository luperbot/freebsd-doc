<?xml version="1.0" encoding="iso-8859-2" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-2" /><title>16.8. A bsdextended MAC-modul</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD kézikönyv" /><link rel="up" href="mac.html" title="16. fejezet - Kötelezõ hozzáférés-vezérlés (MAC)" /><link rel="prev" href="mac-seeotheruids.html" title="16.7. A seeotheruids MAC-modul" /><link rel="next" href="mac-ifoff.html" title="16.9. Az ifoff MAC-modul" /><link rel="copyright" href="legalnotice.html" title="Jogi közlemény" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">16.8. A bsdextended MAC-modul</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="mac-seeotheruids.html">Vissza</a> </td><th width="60%" align="center">16. fejezet - Kötelezõ
    hozzáférés-vezérlés (MAC)</th><td width="20%" align="right"> <a accesskey="n" href="mac-ifoff.html">Elõre</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="mac-bsdextended"></a>16.8. A bsdextended MAC-modul</h2></div></div></div><a id="idp88907600" class="indexterm"></a><p>A modul neve: <code class="filename">mac_bsdextended.ko</code></p><p>A rendszermag konfigurációs
      beállítása: <code class="literal">options
      MAC_BSDEXTENDED</code></p><p>Rendszerindítási beállítás:
      <code class="literal">mac_bsdextended_load="YES"</code></p><p>A <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mac_bsdextended&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">mac_bsdextended</span>(4)</span></a> modul
      segítségével egy
      állományrendszer szintjén
      mûködõ tûzfalat tudunk kialakítani.  Ez
      a modul a szabványos állományrendszeri
      engedély alapú modelljét bõvíti
      ki, lehetõvé téve, hogy a rendszergazda
      tûzfalszerû szabályokkal nyújtson
      védelmet a könyvtárszerkezetben
      található állományoknak,
      segédprogramoknak és könyvtáraknak.
      Amikor egy állományrendszerbeli objektumhoz
      próbálunk meg hozzáférni, a modul
      illeszti ezt egy szabályrendszerre, amiben vagy
      talál egy hozzá tartozó szabályt vagy
      kifut belõle.  Ez a viselkedés a
      <code class="literal">security.mac.bsdextended.firstmatch_enabled</code>
      <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sysctl&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sysctl</span>(8)</span></a> paraméter segítségével
      változtatható meg.  Hasonlóan a FreeBSD-ben
      található többi tûzfalmodulhoz, az
      állományok elérését
      definiáló szabályok a
      rendszerindítás során egy <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=rc.conf&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">rc.conf</span>(5)</span></a>
      változóból olvasódnak be.</p><p>A szabályokat a <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ugidfw&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ugidfw</span>(8)</span></a> segédprogrammal
      adhatjuk meg, amelynek a formai szabályai hasonlóak
      az <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ipfw&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ipfw</span>(8)</span></a> programéhoz.  A <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=libugidfw&amp;sektion=3"><span class="citerefentry"><span class="refentrytitle">libugidfw</span>(3)</span></a>
      függvénykönyvtár
      felhasználásával azonban további
      segédprogramok is írhatóak
      hozzá.</p><p>A modul használata során igyekezzünk
      minél jobban odafigyelni, mert helytelen
      alkalmazásával el tudjuk vágni magunkat az
      állományrendszer bizonyos
      részeitõl.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88921168"></a>16.8.1. Példák</h3></div></div></div><p>Miután sikerült betölteni a
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mac_bsdextended&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">mac_bsdextended</span>(4)</span></a> modult, a következõ paranccsal
	tudjuk lekérdezni a jelenleg érvényes
	szabályokat:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ugidfw list</code></strong>
0 slots, 0 rules</pre><p>Ahogy az várható is volt, pillanatnyilag
	még egyetlen szabályt sem adtunk meg.  Ennek
	értelmében tehát mindent el tudunk
	érni.  A következõ paranccsal tudunk olyan
	szabályt létrehozni, ahol a
	<code class="systemitem">root</code> kivételével
	elutasítjuk az összes felhasználó
	hozzáférését:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ugidfw add subject not uid root new object not uid root mode n</code></strong></pre><p>Ez egyébként egy nagyon buta ötlet, mivel
	így a felhasználók még a
	legegyszerûbb parancsokat, mint például az
	<code class="command">ls</code>-t, sem tudják rájuk kiadni.
	Ennél sokkal humánusabb lesz, ha:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ugidfw set 2 subject uid felhasználó1 object uid felhasználó2 mode n</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>ugidfw set 3 subject uid felhasználó1 object gid felhasználó2 mode n</code></strong></pre><p>Ilyenkor a <code class="systemitem">felhasználó1</code>
	nevû felhasználótól megvonjuk a
	<code class="systemitem"><em class="replaceable"><code>felhasználó2</code></em></code>
	felhasználói könyvtárának
	összes hozzáférését,
	beleértve a listázhatóságot
	is.</p><p>A <code class="systemitem">felhasználó1</code> helyett
	megadhatjuk a <code class="option">not uid
	<em class="replaceable"><code>felhasználó2</code></em></code>
	opciót is.  Ebben az esetben egy
	felhasználó helyett az összes
	felhasználóra ugyanaz a korlátozás
	fog érvényesülni.</p><div xmlns="" class="note"><h3 class="admontitle">Megjegyzés: </h3><p xmlns="http://www.w3.org/1999/xhtml">A <code class="systemitem">root</code> felhasználóra
	  ezek a beállítások nem
	  vonatkoznak.</p></div><p>Ezzel felvázoltuk, miként lehet a
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mac_bsdextended&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">mac_bsdextended</span>(4)</span></a> modult felhasználni az
	állományrendszerek
	megerõsítésére.  Részletesebb
	információkért járuljunk a
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mac_bsdextended&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">mac_bsdextended</span>(4)</span></a> és <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ugidfw&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ugidfw</span>(8)</span></a> man
	oldalakhoz.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="mac-seeotheruids.html">Vissza</a> </td><td width="20%" align="center"><a accesskey="u" href="mac.html">Fel</a></td><td width="40%" align="right"> <a accesskey="n" href="mac-ifoff.html">Elõre</a></td></tr><tr><td width="40%" align="left" valign="top">16.7. A seeotheruids MAC-modul </td><td width="20%" align="center"><a accesskey="h" href="index.html">Fõoldal</a></td><td width="40%" align="right" valign="top"> 16.9. Az ifoff MAC-modul</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Ha kérdése van a FreeBSD-vel kapcsolatban, a
    következõ címre írhat (angolul):
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Ha ezzel a dokumentummal kapcsolatban van kérdése, kérjük erre a címre írjon:
    &lt;<a href="mailto:gabor@FreeBSD.org">gabor@FreeBSD.org</a>&gt;.</small></p></body></html>