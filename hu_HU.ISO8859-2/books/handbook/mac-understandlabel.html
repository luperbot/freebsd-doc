<?xml version="1.0" encoding="iso-8859-2" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-2" /><title>16.4. Bõvebben a MAC címkéirõl</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD kézikönyv" /><link rel="up" href="mac.html" title="16. fejezet - Kötelezõ hozzáférés-vezérlés (MAC)" /><link rel="prev" href="mac-initial.html" title="16.3. A MAC ismertetése" /><link rel="next" href="mac-planning.html" title="16.5. A védelem megtervezése" /><link rel="copyright" href="legalnotice.html" title="Jogi közlemény" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">16.4. Bõvebben a MAC címkéirõl</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="mac-initial.html">Vissza</a> </td><th width="60%" align="center">16. fejezet - Kötelezõ
    hozzáférés-vezérlés (MAC)</th><td width="20%" align="right"> <a accesskey="n" href="mac-planning.html">Elõre</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="mac-understandlabel"></a>16.4. Bõvebben a MAC címkéirõl</h2></div></div></div><p>A <acronym class="acronym">MAC</acronym>-címke egy olyan
      biztonsági tulajdonság, amelyet a rendszerben
      található alanyokhoz és objektumokhoz
      rendelhetünk.</p><p>Egy címke beállításához a
      felhasználónak pontosan ismernie kell, hogy ilyenkor
      mi történik.  Az objektumokhoz tartozó
      tulajdonságok a betöltött moduloktól
      függenek, és az egyes modulok eltérõ
      módon értelmezik ezeket a tulajdonságokat.
      Ha a precíz megértésük
      hiányában helytelenül állítjuk be
      ezeket, vagy nem vagyunk képesek tisztázni a
      velük járó következményeket, akkor
      az a rendszerünk kiszámíthatatlan és
      valószínûleg kedvezõtlen
      viselkedését eredményezi.</p><p>A házirendek az objektumhoz rendelt biztonsági
      címkéket a hozzáféréssel
      kapcsolatos döntések meghozásában
      használják fel.  Bizonyos házirendek
      esetében már maga a címke elegendõ
      információt tartalmaz a döntés
      megformálásához.  Máshol viszont a
      címkék egy nagyobb szabályrendszer
      részeként dolgozódnak fel stb.</p><p>Például, ha egy állományra
      beállítjuk a <code class="literal">biba/low</code>
      címkét, akkor az arra fog utalni, hogy a
      címkét a Biba nevû biztonsági modul
      kezeli és értéke <span class="quote">"<span class="quote">low</span>"</span>.</p><p>Az a néhány modul, amely a FreeBSD-ben
      támogatja a címkézés
      lehetõségét, három speciális
      címkét definiál elõre.  Ezek rendre a
      <span class="quote">"<span class="quote">low</span>"</span> (alacsony), <span class="quote">"<span class="quote">high</span>"</span> (magas)
      és <span class="quote">"<span class="quote">equal</span>"</span> (egyezõ) címkék.
      Habár az egyes modulok esetén eltérõ
      módon képesek vezérelni a
      hozzáférést, azt mindig biztosra
      vehetjük, hogy a <span class="quote">"<span class="quote">low</span>"</span> a legalacsonyabb
      érték, az <span class="quote">"<span class="quote">equal</span>"</span> címke
      hatására az adott alanyt vagy objektumot
      érintetlenül hagyják, és a
      <span class="quote">"<span class="quote">high</span>"</span> értékû címke a Biba
      és <acronym class="acronym">MLS</acronym> modulok esetében a
      legmagasabb beállítást jelenti.</p><p>Az egycímkés állományrendszerek
      használata során az egyes objektumonkhoz csak
      egyetlen címkét rendelhetünk hozzá.
      Ezzel az egész rendszerben csak egyfajta engedélyt
      alkalmazunk, ami sok esetben pontosan elegendõ.
      Létezik néhány különleges eset,
      amikor az állományrendszerben levõ alanyokhoz
      vagy objektumokhoz egyszerre több címkét is
      hozzá kell rendelnünk.  Ilyenkor a
      <code class="option">multilabel</code> opciót kell átadnunk a
      <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=tunefs&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">tunefs</span>(8)</span></a> segédprogramnak.</p><p>A Biba és az <acronym class="acronym">MLS</acronym> esetében
      elõfordulhat, hogy egy numerikus címkével
      fogjuk jelölni a hierarchikus irányítás
      pontos szintjét.  A numerikus szintek
      használatával tudjuk az információt
      különbözõ csoportokba szétosztani vagy
      elrendezni, például úgy, hogy csak az adott
      szintû vagy a felette álló csoportok
      számára engedélyezzük a
      hozzáférést.</p><p>Az esetek többségében a
      rendszergazdának csak egyetlen címkét kell
      beállítania az egész
      állományrendszerre.</p><p><span class="emphasis"><em>Hé, álljunk csak meg!  Akkor ez
      viszont pont olyan, mint a <acronym class="acronym">DAC</acronym>!  Én azt
      hittem, hogy a <acronym class="acronym">MAC</acronym> szigorúan a
      rendszergazda kezébe adja az
      irányítást.</em></span> Ez az
      állítás továbbra is fennáll,
      mivel bizonyos értelemben a <code class="systemitem">root</code> lesz
      az, aki beállítja a házirendeket,
      tehát õ mondja meg, hogy a felhasználók
      milyen kategóriákba vagy
      hozzáférési szintekbe sorolódnak.
      Sajnos, sok biztonsági modul még magát a
      <code class="systemitem">root</code> felhasználót is
      korlátozza.  Az objektumok feletti
      irányítás ilyenkor a csoportra száll,
      de a <code class="systemitem">root</code> bármikor visszavonhatja vagy
      módosíthatja a beállításokat.
      Ezzel a hierarchikus/engedély alapú modellel a Biba
      és az <acronym class="acronym">MLS</acronym> nevû házirendek
      foglalkoznak.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88875472"></a>16.4.1. A címkék
	beállítása</h3></div></div></div><p>A címkézéshez kapcsolódó
	összes beállítást gyakorlatilag az
	alapvetõ rendszerprogramokkal végezhetjük el.
	Ezek a parancsok az objektumok és az alanyok
	szabályozásához, valamint a
	konfiguráció
	módosításához és
	ellenõrzéséhez adnak egy egyszerû
	kezelõfelületet.</p><p>Az összes konfigurációs
	beállítást a <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=setfmac&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">setfmac</span>(8)</span></a> és
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=setpmac&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">setpmac</span>(8)</span></a> segédprogramokkal végezhetjük
	el.  A <code class="command">setfmac</code>
	segítségével a rendszerszintû
	objektumokhoz tudunk hozzárendelni a
	<acronym class="acronym">MAC</acronym>-címkéket, míg a
	<code class="command">setpmac</code> paranccsal a rendszerben levõ
	alanyokhoz tudunk címkéket rendelni.  Vegyük
	például ezt:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>setfmac biba/high próba</code></strong></pre><p>Amennyiben az iménti parancs hibátlanul
	lefutott, visszakapjuk a paranccsort.  Ezek a parancsok csak
	olyankor maradnak nyugodtan, amikor semmilyen hiba nem
	történt.  Mûködésük
	hasonló a <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chmod&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">chmod</span>(1)</span></a> és <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chown&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">chown</span>(8)</span></a>
	parancsokéhoz.  Bizonyos esetekben <span class="errorname">Permission
	denied</span> (<span class="errorname">A hozzáférés
	nem engedélyezett</span>) hibát kapunk, ami
	általában akkor bukkan fel, ha egy
	korlátozott objektummal kapcsolatban
	próbálunk meg címkét
	beállítani vagy módosítani
	<a href="#ftn.idp88895440" class="footnote" id="idp88895440"><sup class="footnote">[9]</sup></a>.  A rendszergazda a következõ paranccsal
	tudja feloldani az ilyen helyzeteket:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>setfmac biba/high próba</code></strong>
<span class="errorname">Permission denied</span>
<code class="prompt">#</code> <strong class="userinput"><code>setpmac biba/low setfmac biba/high próba</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>getfmac próba</code></strong>
<em class="replaceable"><code>próba</code></em>: biba/high</pre><p>Ahogy az itt tetten is érhetõ, a
	<code class="command">setpmac</code> használható a modul
	beállításainak
	felülbírálására úgy,
	hogy a meghívott programban egy másik
	címkét állít be.  A
	<code class="command">getpmac</code> segédprogram
	általában a <span class="application">sendmail</span>hez
	hasonló háttérben futó programok
	esetében alkalmazható: ilyenkor a konkrét
	parancs helyett a futó program
	azonosítóját kell megadnunk, de
	mûködése ugyanaz.  Ha a
	felhasználók a hatókörükön
	túl levõ állományokat
	próbálnak meg módosítani, akkor a
	betöltött modulok szabályainak megfelelõen
	a <code class="function">mac_set_link</code> függvény
	<span class="errorname">Operation not permitted</span> (<span class="errorname">A
	mûvelet nem engedélyezett</span>) hibát
	fog adni.</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88902480"></a>16.4.1.1. Gyakori címketípusok</h4></div></div></div><p>A <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mac_biba&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">mac_biba</span>(4)</span></a>, <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mac_mls&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">mac_mls</span>(4)</span></a> és
	  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mac_lomac&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">mac_lomac</span>(4)</span></a> moduloknál használhatunk
	  címkéket.  Értékük lehet
	  <span class="quote">"<span class="quote">high</span>"</span>, <span class="quote">"<span class="quote">equal</span>"</span> vagy
	  <span class="quote">"<span class="quote">low</span>"</span>, melyek rövid magyarázata a
	  következõ:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>A <code class="literal">low</code> címke az objektumra
	      vagy alanyra érvényes leggyengébb
	      beállítást jelenti.  Az ilyen
	      címkéjû objektumok vagy alanyok nem
	      érhetik el a <span class="quote">"<span class="quote">high</span>"</span>
	      címkéjûeket.</p></li><li class="listitem"><p>Az <code class="literal">equal</code> címke
	      használható minden olyan objektum vagy alany
	      esetében, amelyeket ki akarunk vonni az adott
	      házirend hatálya alól.</p></li><li class="listitem"><p>A <code class="literal">high</code> címke adja az
	      objektumhoz vagy alanyhoz tartozó legerõsebb
	      beállítást.</p></li></ul></div><p>Az egyes moduloktól függõen ezek az
	  értékek az információ
	  áramoltatásának
	  különbözõ irányait
	  írhatják le.  A megfelelõ man oldalak
	  elolvasásával még jobban
	  megismerhetjük az egyes címketípusok
	  beállításának
	  jellegzetességeit.</p><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88915792"></a>16.4.1.1.1. A címkék
	    beállításáról
	    részletesebben</h5></div></div></div><p>A numerikus osztályozó
	    címkék
	    <code class="literal">összehasonlítás:rekesz+rekesz</code>
	    alakban használatosak, tehát a</p><pre class="programlisting">biba/10:2+3+6(5:2+3-20:2+3+4+5+6)</pre><p>kifejezés így
	    értelmezhetõ:</p><p><span class="quote">"<span class="quote">A Biba házirend
	    címkéje</span>"</span>/<span class="quote">"<span class="quote">10
	    osztály</span>"</span> :<span class="quote">"<span class="quote">2, 3 és 6
	    rekeszek</span>"</span>: (<span class="quote">"<span class="quote">5
	    osztály...</span>"</span>)</p><p>Ebben a példában az elsõ
	    osztály tekinthetõ <span class="quote">"<span class="quote">valódi
	    osztálynak</span>"</span>, amely a <span class="quote">"<span class="quote">valódi
	    rekeszeket</span>"</span> jelenti, a második osztály
	    egy alacsonyabb besorolás, míg az
	    utolsó egy magasabb szintû.  A legtöbb
	    konfigurációban nem lesz
	    szükségünk ennyire összetett
	    beállításokra, noha képesek
	    vagyunk felírni ezeket.</p><p>Ha ezt kivetítjük a rendszer objektumaira,
	    akkor a rendszerben levõ alanyokat illetõen
	    csupán az aktuális osztály/rekeszek
	    számítanak, mivel a rendszerben és
	    hálózati csatolófelületeken
	    elérhetõ
	    hozzáférés-vezérlési
	    jogokat tükrözi.</p><p>Az alany-objektum párokban megadott
	    osztályzatok és rekeszek
	    használhatóak fel egy olyan kapcsolat
	    kiépítésére, amit
	    <span class="quote">"<span class="quote">dominanciának</span>"</span> nevezünk.  Ilyenkor
	    egy alany ural egy objektumot, vagy egy objektum ural egy
	    alanyt, vagy egyikük sem uralja a másikat,
	    esetleg mind a kettõ uralja egymást.  A
	    <span class="quote">"<span class="quote">kettõs dominancia</span>"</span> esete akkor forog
	    fenn, amikor a két címke megegyezik.  A Biba
	    információáramoltatási
	    sajátosságaiból adódóan
	    jogunk van rekeszeket létrehozni, <span class="quote">"<span class="quote">tudunk
	    kell</span>"</span>, hogy ezek projekteknek feleltethetõek
	    meg, de az objektumok is rendelkezhetnek rekeszekkel.  A
	    felhasználók ilyenkor csak úgy tudnak
	    elérni egyes objektumokat, ha az
	    <code class="command">su</code> vagy a <code class="command">setpmac</code>
	    használatával leszûkítik a
	    jogaikat egy olyan rekeszre, ahol már nem
	    érvényesülnek rájuk
	    korlátozások.</p></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88928080"></a>16.4.1.2. A felhasználók és
	  címkék kapcsolata</h4></div></div></div><p>Maguknak a felhasználóknak is
	  szükségük van címkékre, mivel
	  csak ezek segítségével tudnak az
	  állományaik és programjaik megfelelõ
	  módon együttmûködni a rendszerben
	  érvényes biztonsági házirenddel.
	  Ezt a <code class="filename">login.conf</code>
	  állományban megadható
	  bejelentkezési osztályokkal
	  állíthatjuk be.  Minden címkéket
	  használó modulban a
	  felhasználóknak is van
	  címkéjük.</p><p>Lentebb látható egy ilyen minta
	  bejegyzés, amely minden modulhoz tartalmaz
	  beállítást:</p><pre class="programlisting">default:\
	:copyright=/etc/COPYRIGHT:\
	:welcome=/etc/motd:\
	:setenv=MAIL=/var/mail/$,BLOCKSIZE=K:\
	:path=~/bin:/sbin:/bin:/usr/sbin:/usr/bin:/usr/local/sbin:/usr/local/bin:\
	:manpath=/usr/share/man /usr/local/man:\
	:nologin=/usr/sbin/nologin:\
	:cputime=1h30m:\
	:datasize=8M:\
	:vmemoryuse=100M:\
	:stacksize=2M:\
	:memorylocked=4M:\
	:memoryuse=8M:\
	:filesize=8M:\
	:coredumpsize=8M:\
	:openfiles=24:\
	:maxproc=32:\
	:priority=0:\
	:requirehome:\
	:passwordtime=91d:\
	:umask=022:\
	:ignoretime@:\
	:label=partition/13,mls/5,biba/10(5-15),lomac/10[2]:</pre><p>Itt a <code class="literal">label</code> opciót
	  használtuk a felhasználói
	  osztályhoz tartozó alapértelmezett
	  címkék
	  beállításához, amit majd a
	  <acronym class="acronym">MAC</acronym> betartat.  A felhasználók
	  nem módosíthatják ezt az
	  értéket, ezért ez a
	  felhasználók számára nem
	  tekinthetõ tetszõlegesen elhagyható
	  beállításnak.  Egy valós
	  konfigurációban azonban a rendszergazda
	  valószínûleg nem akarja majd egyszerre az
	  összes modult használni.  Javasoljuk, hogy
	  mielõtt egy ilyen jellegû
	  konfigurációt adnánk meg, olvassuk el az
	  egész fejezetet.</p><div xmlns="" class="note"><h3 class="admontitle">Megjegyzés: </h3><p xmlns="http://www.w3.org/1999/xhtml">A felhasználók ezt a címkét
	    meg tudják változtatni az elsõ
	    bejelentkezés után, de csak a házirend
	    keretein belül.  A fenti példában
	    úgy állítjuk be a Biba
	    házirendet, hogy a futó programok
	    sértetlenségi foka legalább 5,
	    legfeljebb 15 lehet, de az alapértéke 10.
	    Tehát a programok egészen addig 10-es szinten
	    futnak, amíg a programok a Biba
	    bejelentkezéskor megadott tartományában
	    meg nem változtatják ezt a
	    címkét, feltehetõen a
	    <code class="command">setpmac</code> parancs
	    hatására.</p></div><p>Mindig, amikor megváltozatjuk a
	  <code class="filename">login.conf</code>
	  beállításait, a
	  <code class="command">cap_mkdb</code> paranccsal újra kell
	  generálni a bejelentkezési osztályokhoz
	  tartozó adatbázist, amire a késõbbi
	  példákban vagy részekben igyekszünk
	  is mindig felhívni a figyelmet.</p><p>Nem árt hozzátennünk, hogy sok
	  rendszerben kifejezetten sok felhasználót kell
	  kezelnünk, amihez több különbözõ
	  bejelentkezési osztályra is
	  szükségünk lehet.  Mivel késõbb
	  már csak egyre jobban bonyolódni fog a
	  felhasználók kezelése, ezért soha
	  ne felejtsünk el komolyan elõre tervezni.</p><p>A FreeBSD következõ változataiban meg fognak
	  jelenni más módszerek is a
	  felhasználók és címkék
	  közti kapcsolatok kezelésére.  A
	  FreeBSD 5.3 elõtt azonban ez még
	  semmiképpen sem várható.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88934736"></a>16.4.1.3. A hálózati csatolófelületek
	  és a címkék kapcsolata</h4></div></div></div><p>A hálózati csatlakozások
	  esetében is állíthatunk be
	  címkéket, melyek a hálózaton
	  keresztül folyó adatok
	  áramlását határozzák meg.
	  Minden esetben ugyanúgy mûködnek, mint ahogy
	  a házirendek az objektumokra.  Például a
	  <code class="literal">biba</code> esetében a magas
	  beállításokkal rendelkezõ
	  felhasználók nem férhetnek hozzá
	  az alacsonyabb címkéjû
	  hálózati csatolófelületekhez.</p><p>Ha <acronym class="acronym">MAC</acronym>-címkéket akarunk
	  rendelni egy hálózati felülethez, akkor az
	  <code class="command">ifconfig</code> parancsnak adjuk meg a
	  <code class="option">maclabel</code> paramétert.
	  Például a</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ifconfig bge0 maclabel biba/equal</code></strong></pre><p>parancs beállítja a
	  <code class="literal">biba/equal</code>
	  <acronym class="acronym">MAC</acronym>-címkét a <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=bge&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">bge</span>(4)</span></a>
	  felületre.  A <code class="literal">biba/high(low-high)</code>
	  alakú címkéket átadásukhoz
	  idézõjelek közé kell tenni,
	  különben hibát kapunk.</p><p>Minden címkézést
	  támogató modulhoz tartoznak futási
	  idõben állítható paraméterek,
	  amelyekkel akár le is tudjuk tiltani a
	  <acronym class="acronym">MAC</acronym>-címkéket a
	  hálózati csatolófelületeken.
	  Ugyanezt jelenti egyébként, ha
	  <code class="option">equal</code> értéket adunk meg a
	  címkének.  Ezt behatóbban úgy
	  ismerhetjük meg, ha kielemezzük a
	  <code class="command">sysctl</code> parancs kimenetét, a
	  megfelelõ modul man oldalát vagy a fejezetben
	  további részében található,
	  erre vonatkozó információkat.</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88942928"></a>16.4.2. Egy címke vagy több címke?</h3></div></div></div><p>Alapértelmezés szerint a rendszer a
	<code class="option">singlelabel</code> beállítást
	használja.  Ez vajon mit tartogat a rendszergazda
	számára?  Számos olyan
	eltérést, aminek megvannak a saját
	elõnyei és hátrányai a rendszer
	védelmi modelljének rugalmassága
	szempontjából.</p><p>A <code class="option">singlelabel</code>
	beállítás minden alany vagy objektum
	esetében csupán egyetlen címke,
	például a <code class="literal">biba/high</code>
	használatát engedi.  Kevesebb
	adminisztrációs költséggel jár,
	azonban csökkenteni a címkézést
	támogató modulok
	testreszabhatóságát.  Ezért sok
	rendszergazda inkább a <code class="option">multilabel</code>
	beállítást választja a
	biztonsági házirend kialakítása
	során.</p><p>A <code class="option">multilabel</code> beállítás
	lehetõvé teszi, hogy mindegyik alanyhoz és
	objektumhoz a szabványos <code class="option">singlelabel</code>
	beállítás lehetõségeivel
	szemben egymástól függetlenül
	külön-külön rendelhessünk
	címkéket a partíciókon.  Az egy-
	és többcímkés opciónak csak
	olyan modulok esetében van értelme, amelyek
	támogatják a címkézést, mint
	például a Biba, Lomac, <acronym class="acronym">MLS</acronym>
	és a <acronym class="acronym">SEBSD</acronym> házirendek.</p><p>Sokszor egyáltalán nincs is
	szükségünk a <code class="option">multilabel</code>
	használatára.  Tekintsük
	például a következõ helyzetet és
	biztonsági modellt:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Adott egy FreeBSD webszerver, ahol a <acronym class="acronym">MAC</acronym>
	    rendszert több biztonsági házirenddel
	    alkalmazzuk.</p></li><li class="listitem"><p>A gépen egyedül csak a
	    <code class="literal">biba/high</code> címkére van
	    szükségünk mindenhez a rendszerben.  Itt
	    egyszerûen csak nem adjuk meg az
	    állományrendszernek a
	    <code class="option">multilabel</code> beállítást,
	    mivel az egycímkés rendszer mindig
	    rendelkezésünkre áll.</p></li><li class="listitem"><p>Mivel azonban erre a gépre telepíteni
	    akarunk egy webszervert is, ilyenkor a
	    <code class="literal">biba/low</code> címke
	    használatával igyekszünk
	    korlátozni a szerver feldolgozási
	    képességeit.  A Biba házirendrõl
	    és annak mûködésérõl
	    csak a késõbbiekben fogunk írni,
	    ezért ha az elõbbi megjegyzést még
	    nem teljesen értjük, akkor egyszerûen csak
	    olvassunk tovább és térjünk vissza
	    ide.  A szerver futása alatt, vagy legalább is
	    idejének nagy részében egy
	    külön partíciót használhatna,
	    amire a <code class="literal">biba/low</code> címkét
	    állítanánk be.  Természetesen ez
	    a példa korántsem teljes, hiszen
	    hiányoznak belõle az adatokra
	    érvényes korlátozások, a
	    konfigurációs és
	    felhasználói beállítások.
	    Ez csupán az iménti gondolatmenet gyors
	    illusztrációja.</p></li></ul></div><p>Amennyiben címkézést nem
	támogató modulokat alkalmazunk, a
	<code class="option">multilabel</code> beállításra
	szinte sosem lesz szükségünk.  Ilyenek
	például a <code class="literal">seeotheruids</code>,
	<code class="literal">portacl</code> és
	<code class="literal">partition</code> házirendek.</p><p>A <code class="option">multilabel</code> opció használata
	és így speciális,
	többcímkés védelmi modell
	létrehozása képes elbonyolítani a
	rendszer karbantartását, mert ilyenkor az
	állományrendszerben mindennek lennie kell
	címkéjének: könyvtáraknak,
	állományok és még az
	eszközleíróknak is.</p><p>A most következõ paranccsal
	beállítjuk az állományrendszerre a
	<code class="option">multilabel</code> opciót.  Ez csak
	egyfelhasználós módban tehetõ
	meg:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>tunefs -l enable /</code></strong></pre><p>A lapozópartíció esetében erre
	nincs szükség.</p><div xmlns="" class="note"><h3 class="admontitle">Megjegyzés: </h3><p xmlns="http://www.w3.org/1999/xhtml">Elõfordulhat, hogy néhány
	  felhasználónak nem sikerül a
	  <code class="option">multilabel</code> opciót
	  beállítania a rendszerindító
	  partícióra.  Ha ez történne, akkor
	  olvassuk el a fejezet <a class="xref" href="mac-troubleshoot.html" title="16.17. A hibák elhárítása a MAC rendszerben">16.17. szakasz - A hibák elhárítása a MAC
      rendszerben</a>át.</p></div></div><div class="footnotes"><br /><hr class="footnote-hr" /><div id="ftn.idp88895440" class="footnote"><p><a href="#idp88895440" class="para"><sup class="para">[9] </sup></a>Más feltételek mellett másmilyen
	    hibák keletkezhetnek.  Például, ha egy
	    olyan objektumot próbálunk
	    újracímkézni, amely nincs a
	    felhasználó birtokában, esetleg nem is
	    létezik vagy írásvédett.
	    Adódhat, hogy a kötelezõ házirend az
	    állomány, a program, vagy az új
	    címkeérték tulajdonságai miatt
	    nem fogja lehetõvé tenni egy futó program
	    számára egy állomány
	    újracímkézését.
	    Nézzük erre egy példát: egy
	    kevésbé sértetlen
	    felhasználó megpróbálja
	    megváltoztatni egy sokkal sértetlenebb
	    állomány címkéjét.  Vagy
	    egy kevésbé sértetlen
	    felhasználó sokkal sértetlenebbre
	    akarja állítani egy kevésbé
	    sértetlen állomány
	    címkéjét.</p></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="mac-initial.html">Vissza</a> </td><td width="20%" align="center"><a accesskey="u" href="mac.html">Fel</a></td><td width="40%" align="right"> <a accesskey="n" href="mac-planning.html">Elõre</a></td></tr><tr><td width="40%" align="left" valign="top">16.3. A MAC ismertetése </td><td width="20%" align="center"><a accesskey="h" href="index.html">Fõoldal</a></td><td width="40%" align="right" valign="top"> 16.5. A védelem megtervezése</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Ha kérdése van a FreeBSD-vel kapcsolatban, a
    következõ címre írhat (angolul):
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Ha ezzel a dokumentummal kapcsolatban van kérdése, kérjük erre a címre írjon:
    &lt;<a href="mailto:gabor@FreeBSD.org">gabor@FreeBSD.org</a>&gt;.</small></p></body></html>