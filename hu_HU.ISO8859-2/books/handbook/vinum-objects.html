<?xml version="1.0" encoding="iso-8859-2" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-2" /><title>21.5. A Vinum objektumai</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD kézikönyv" /><link rel="up" href="vinum-vinum.html" title="21. fejezet - A Vinum kötetkezelõ" /><link rel="prev" href="vinum-data-integrity.html" title="21.4. Adatintegritás" /><link rel="next" href="vinum-examples.html" title="21.6. Példák" /><link rel="copyright" href="legalnotice.html" title="Jogi közlemény" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">21.5. A Vinum objektumai</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="vinum-data-integrity.html">Vissza</a> </td><th width="60%" align="center">21. fejezet - A Vinum kötetkezelõ</th><td width="20%" align="right"> <a accesskey="n" href="vinum-examples.html">Elõre</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="vinum-objects"></a>21.5. A Vinum objektumai</h2></div></div></div><p>A tárgyalt problémák
      orvoslására a Vinumban egy négyszintû
      objektumhierarchiát alakítottak ki:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>A legjobban észlelhetõ objektum a
	  virtuális lemez, amelyet
	  <span class="emphasis"><em>kötet</em></span>nek (volume) nevezünk.  Ez
	  a kötet lényegében ugyanazokkal a
	  tulajdonságokkal rendelkezik, mint egy <span class="trademark">UNIX</span>(R)-os
	  lemezmeghajtó, habár akadnak finomabb
	  különbségek.  Mérete korlátlan
	  lehet.</p></li><li class="listitem"><p>A kötetek <span class="emphasis"><em>erek</em></span>bõl (plex)
	  állnak, melyek a kötet teljes
	  területét képviselik.  Ennélfogva a
	  hierarchia ezen szintje nyújtja a redundanciát.
	  Az ereket legegyszerûbben a tükrözött
	  tömbben helyet foglaló lemezekként tudjuk
	  elképzelni, melyek ugyanazt az adatot
	  tartalmazzák.</p></li><li class="listitem"><p>Mivel a Vinum a <span class="trademark">UNIX</span>(R) lemezes tárolást
	  megvalósító alrendszerében
	  helyezkedik el, a többlemezes erek
	  felépítéséhez
	  használhatnánk a <span class="trademark">UNIX</span>(R)-os
	  partíciókat, azonban ehhez a feladathoz nem
	  eléggé rugalmasak, mivel a <span class="trademark">UNIX</span>(R)-os lemezek
	  csak korlátozott számú
	  partíciót tartalmazhatnak.  A Vinum ehelyett
	  <span class="emphasis"><em>allemez</em></span>nek (subdisk) nevezett folytonos
	  területekre osztja fel az egyes <span class="trademark">UNIX</span>(R)-os
	  partíciókat (a
	  <span class="emphasis"><em>meghajtó</em></span>kat), melyeket
	  aztán az erek létrehozására
	  használ fel.</p></li><li class="listitem"><p>A Vinum által létrehozott
	  <span class="emphasis"><em>meghajtó</em></span>kon (drive) levõ
	  allemezek lesznek valódi <span class="trademark">UNIX</span>(R)-os
	  partíciók.  A Vinum-meghajtók
	  tetszõleges számú allemezt tartalmazhatnak.
	  Eltekintve a meghajtó elején
	  található apró területtõl,
	  melyen a beállításokra és az
	  állapotra vonatkozó információk
	  tárolódnak, az egész meghajtó
	  felhasználható adatok
	  tárolására.</p></li></ul></div><p>A most következõ szakaszokban ismertetjük, hogy
      ezek az objektumok milyen módon szolgáltatják
      a Vinum részérõl elvárt
      funkciókat.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp91915344"></a>21.5.1. A kötetek mérete</h3></div></div></div><p>Az erek képesek a Vinum
	konfigurációjában található
	több különbözõ meghajtón
	elhelyezkedõ allemezeket is nyalábba kötni.
	Ennek következményeképpen az egyes
	meghajtók mérete nem korlátozza az erek
	méretét, emiatt a kötetét sem.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp91916496"></a>21.5.2. Redundáns adattárolás</h3></div></div></div><p>A Vinum a tükrözést több ér
	egyetlen kötetté olvasztásával hozza
	létre.  Az erek mindegyike a köteten
	található adatokat képviseli.  Egy
	kötet legalább egy, legfeljebb nyolc eret
	tartalmazhat.</p><p>Habár egy ér egy kötet teljes
	adatát ábrázolja, elõfordulhat olyan
	eset, hogy bizonyos részei hiányoznak fizikai,
	kialakítási (nem társítottunk
	allemezeket hozzájuk) okokból
	adódóan vagy véletlenül (a
	hozzá tartozó lemezterületek
	sérültek).  Amíg legalább egy
	ér képes a kötet teljes tartalmát
	szolgáltatni, addig a kötet teljesen épnek
	tekinthetõ.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp91918032"></a>21.5.3. Teljesítmény</h3></div></div></div><p>A Vinum az összefûzést és a
	csíkozást is egyaránt
	megvalósítja az erek szintjén:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Az <span class="emphasis"><em>összefûzött
	    ér</em></span> allemezek területeibõl
	    építkezik.</p></li><li class="listitem"><p>A <span class="emphasis"><em>csíkozott ér</em></span>
	    felosztja az adatokat az allemezek között.  Az
	    allemezek mindegyikének ugyanakkorának kell
	    lennie, és legalább két allemeznek
	    lennie kell, hogy eltérjen az
	    összefûzött értõl.</p></li></ul></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp91922000"></a>21.5.4. Hogyan szervezzük az ereket?</h3></div></div></div><p>A FreeBSD 8.1 verziójában
	két fajta erezési megoldást
	találhatunk:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Az összefûzött erek a legrugalmasabbak:
	    tetszõleges számú allemezt
	    tartalmazhatnak, az allemezek mérete pedig
	    eltérhet.  Az ér újabb allemezek
	    hozzáadásával tovább
	    bõvíthetõ.  Kevesebb processzoridõt
	    igényel, mint egy csíkozott ér,
	    habár a kettõ többletköltsége
	    közti eltérés nem mérhetõ.
	    Másrészrõl azonban nagyon
	    érzékenyek a forgalmasabb pontokra, vagyis
	    amikor az egyik lemez folyamatosan használatban van,
	    miközben a többi üresen jár.</p></li><li class="listitem"><p>A csíkozott (<acronym class="acronym">RAID-0</acronym>) erek
	    legnagyobb elõnye, hogy csökkentik a forgalmasabb
	    pontok kialakulását: a megfelelõ
	    méretû csíkszélesség (ami
	    kb.  256 kB) választásával el
	    tudjuk egyengetni a tömbben dolgozó
	    meghajtók terhelését.  Ennek a
	    megközelítésnek a hátránya
	    (részben) a sokkal összetettebb kód,
	    valamint az allemezekre vonatkozó
	    megszorítás, amely szerint meg kell
	    egyezniük a méretüknek, illetve az
	    érhez annyira bonyolult újabb allemezeket
	    kapcsolni, hogy a Vinum jelenleg nem is képes
	    rá.  Ezeken kívü a Vinum még
	    támaszt egy triviális igényt is: a
	    csíkozott érben legalább két
	    allemeznek lennie kell, mivel másképp nem
	    tér el egy összefûzött
	    értõl.</p></li></ul></div><p>A <a class="xref" href="vinum-objects.html#vinum-comparison" title="21.1. táblázat - Vinum erezések">21.1. táblázat - Vinum erezések</a> foglalja össze az
	egyes erezések elõnyeit és
	hátrányait.</p><div class="table"><a id="vinum-comparison"></a><div class="table-title">21.1. táblázat - Vinum erezések</div><div class="table-contents"><table summary="Vinum erezések" border="0"><colgroup><col /><col /><col /><col /><col /></colgroup><thead><tr><th>Erezés típusa</th><th>Legkevesebb allemez</th><th>Bõvíthetõ</th><th>Megegyezõ méret</th><th>Alkalmazás</th></tr></thead><tbody><tr><td>összefûzött</td><td>1</td><td>igen</td><td>nem</td><td>Sok adat tárolása, ahol a
		hangsúly a rugalmasságon és a
		mérsékelt teljesítményen
		van.</td></tr><tr><td>csíkozott</td><td>2</td><td>nem</td><td>igen</td><td>Nagy teljesítmény, nagy
		mennyiségû egyidejû
		hozzáférés mellett</td></tr></tbody></table></div></div><br class="table-break" /></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="vinum-data-integrity.html">Vissza</a> </td><td width="20%" align="center"><a accesskey="u" href="vinum-vinum.html">Fel</a></td><td width="40%" align="right"> <a accesskey="n" href="vinum-examples.html">Elõre</a></td></tr><tr><td width="40%" align="left" valign="top">21.4. Adatintegritás </td><td width="20%" align="center"><a accesskey="h" href="index.html">Fõoldal</a></td><td width="40%" align="right" valign="top"> 21.6. Példák</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Ha kérdése van a FreeBSD-vel kapcsolatban, a
    következõ címre írhat (angolul):
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Ha ezzel a dokumentummal kapcsolatban van kérdése, kérjük erre a címre írjon:
    &lt;<a href="mailto:gabor@FreeBSD.org">gabor@FreeBSD.org</a>&gt;.</small></p></body></html>