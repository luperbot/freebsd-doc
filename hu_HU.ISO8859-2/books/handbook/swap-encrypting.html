<?xml version="1.0" encoding="iso-8859-2" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-2" /><title>18.17. A lapozóterület titkosítása</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD kézikönyv" /><link rel="up" href="disks.html" title="18. fejezet - Háttértárak" /><link rel="prev" href="disks-encrypting.html" title="18.16. A lemezpartíciók titkosítása" /><link rel="next" href="GEOM.html" title="19. fejezet - GEOM: A moduláris lemezszervezõ rendszer" /><link rel="copyright" href="legalnotice.html" title="Jogi közlemény" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">18.17. A lapozóterület titkosítása</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="disks-encrypting.html">Vissza</a> </td><th width="60%" align="center">18. fejezet - Háttértárak</th><td width="20%" align="right"> <a accesskey="n" href="GEOM.html">Elõre</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="swap-encrypting"></a>18.17. A lapozóterület titkosítása</h2></div><div><span class="authorgroup">Írta: <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="surname">Brüffer</span>, <span class="firstname">Christian</span></span>. </span></div></div></div><a id="idp91176272" class="indexterm"></a><p>A FreeBSD-ben a lapozóterület
      titkosítása nagyon könnyen
      beállítható és már a
      FreeBSD 5.3-RELEASE változata óta
      elérhetõ.  Attól függõen, hogy
      konkrétan a FreeBSD melyik verzióját
      használjuk, a konfigurációhoz
      kapcsolódó beállítások
      némileg eltérhetnek.  A FreeBSD 6.0-RELEASE
      változatától kezdõdõen a
      <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=gbde&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">gbde</span>(8)</span></a> és a <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=geli&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">geli</span>(8)</span></a> alrendszerek is
      használhatóak a lapozóterület
      titkosítására.  A korábbi
      verziókban egyedül csak a <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=gbde&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">gbde</span>(8)</span></a>
      érhetõ el.  Mind a két rendszer az
      <code class="filename">encswap</code> <a class="link" href="configtuning-rcd.html" title="11.7. Az rc használata FreeBSD alatt">rc.d</a> szkriptet
      használja.</p><p>Az elõzõ szakaszban, vagyis a <a class="link" href="disks-encrypting.html" title="18.16. A lemezpartíciók titkosítása"> A lemezpartíciók
      titkosításá</a>ban már röviden
      összefoglaltuk a különbözõ
      titkosítással foglalkozó
      alrendszereket.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp91182032"></a>18.17.1. Miért kellene titkosítanunk a
	lapozóterületet?</h3></div></div></div><p>Hasonlóan a lemezpartíciók
	titkosításához, a lapozóterület
	titkosításának is az a célja, hogy
	védjük az érzékeny
	információkat.  Képzeljük el, hogy egy
	olyan alkalmazással dolgozunk, amely jelszavakat kezel.
	Amíg ezek a jelszavak a memóriában
	maradnak, addig minden a legnagyobb rendben van.  Azonban amikor
	az operációs rendszer nekilát a fizikai
	memória felszabadításához kilapozni
	ezeket az adatokat, a jelszavak titkosítatlanul
	kerülnek a lemez felületére és egy
	támadó számára könnyû
	prédává válnak.  Ilyen helyzetekben
	csak lapozóterület titkosítása
	jelenthet megoldást.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp91183184"></a>18.17.2. Elõkészületek</h3></div></div></div><div xmlns="" class="note"><h3 class="admontitle">Megjegyzés: </h3><p xmlns="http://www.w3.org/1999/xhtml">A szakasz további részében a
	  <code class="filename">ad0s1b</code> lesz a lapozásra
	  használt partíció.</p></div><p>Egészen mostanáig nem titkosítottuk a
	lapozóterületet.  Így
	elképzelhetõ, hogy a lemezre már
	titkosítatlanul kikerültek jelszavak vagy
	bármilyen más érzékeny adatok.  A
	csorba kiköszörülésére a
	lapozóterületen található összes
	adatot írjuk felül véletlenszerûen
	generált szeméttel:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>dd if=/dev/random of=/dev/ad0s1b bs=1m</code></strong></pre></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp91186384"></a>18.17.3. A lapozóterület titkosítása a
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=gbde&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">gbde</span>(8)</span></a> használatával</h3></div></div></div><p>Ha a FreeBSD 6.0-RELEASE vagy újabb
	változatát használjuk, akkor az
	<code class="filename">/etc/fstab</code> állományban
	tegyük hozzá a <code class="literal">.bde</code>
	utótagot az a lapozóterülethez tartozó
	eszköz nevéhez.</p><pre class="programlisting">
# Device                Mountpoint      FStype  Options         Dump    Pass#
/dev/ad0s1b.bde         none            swap    sw              0       0
      </pre><p>A FreeBSD 6.0-RELEASE elõtti kiadások
	esetében a következõ sort is hozzá kell
	tennünk az <code class="filename">/etc/rc.conf</code>
	állományhoz:</p><pre class="programlisting">gbde_swap_enable="YES"</pre></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp91190864"></a>18.17.4. A lapozóterület titkosítása a
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=geli&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">geli</span>(8)</span></a> használatával</h3></div></div></div><p>A <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=gbde&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">gbde</span>(8)</span></a> használatához hasonlóan
	a <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=geli&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">geli</span>(8)</span></a> által felajánlott
	titkosítást is alkalmazhatjuk a
	lapozóterület védelmére.  Ilyenkor az
	<code class="filename">/etc/fstab</code> állományban az
	<code class="literal">.eli</code> utótagot kell hozzátenni a
	lapozóterülethez tartozó eszköz
	névhez.</p><pre class="programlisting">
# Device                Mountpoint      FStype  Options         Dump    Pass#
/dev/ad0s1b.eli         none            swap    sw              0       0
      </pre><p>Az <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=geli&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">geli</span>(8)</span></a> az AES algoritmust
	alapértelmezés szerint 256 bites kulccsal
	használja.</p><p>Ezek az alapértelmezések
	megváltoztathatóak az
	<code class="filename">/etc/rc.conf</code> állományban a
	<code class="literal">geli_swap_flags</code>
	beállítás használatával.  A
	következõ sor arra utasítja az
	<code class="filename">encswap</code> rc.d szkriptet, hogy a <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=geli&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">geli</span>(8)</span></a>
	és a Blowfish algoritmus használatával
	hozzon létre egy lapozópartíciót
	128 bites kulccsal, 4 kilobyte-os
	szektormérettel és a <span class="quote">"<span class="quote">detach on last
	close</span>"</span> (<span class="quote">"<span class="quote">lekapcsolás használat
	után</span>"</span>) beállítással:</p><pre class="programlisting">geli_swap_flags="-e blowfish -l 128 -s 4096 -d"</pre><p>A FreeBSD 6.2-RELEASE verzió elõtti
	rendszerekben a következõ sort kell
	használni:</p><pre class="programlisting">geli_swap_flags="-a blowfish -l 128 -s 4096 -d"</pre><p>A többi beállításhoz a
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=geli&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">geli</span>(8)</span></a> man oldalán a <code class="command">onetime</code>
	parancs leírását érdemes
	áttanulmányozni.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp91210704"></a>18.17.5. Ellenõrizzük a
	mûködését</h3></div></div></div><p>Miután újraindítottuk a rendszert, a
	titkosított lapozóterület helyes
	mûködését a <code class="command">swapinfo</code>
	paranccsal ellenõrizhetjük le.</p><p>A <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=gbde&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">gbde</span>(8)</span></a> esetében:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>swapinfo</code></strong>
Device          1K-blocks     Used    Avail Capacity
/dev/ad0s1b.bde    542720        0   542720     0%
      </pre><p>Valamint a <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=geli&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">geli</span>(8)</span></a> esetében:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>swapinfo</code></strong>
Device          1K-blocks     Used    Avail Capacity
/dev/ad0s1b.eli    542720        0   542720     0%
      </pre></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="disks-encrypting.html">Vissza</a> </td><td width="20%" align="center"><a accesskey="u" href="disks.html">Fel</a></td><td width="40%" align="right"> <a accesskey="n" href="GEOM.html">Elõre</a></td></tr><tr><td width="40%" align="left" valign="top">18.16. A lemezpartíciók
      titkosítása </td><td width="20%" align="center"><a accesskey="h" href="index.html">Fõoldal</a></td><td width="40%" align="right" valign="top"> 19. fejezet - GEOM: A moduláris lemezszervezõ rendszer</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Ha kérdése van a FreeBSD-vel kapcsolatban, a
    következõ címre írhat (angolul):
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Ha ezzel a dokumentummal kapcsolatban van kérdése, kérjük erre a címre írjon:
    &lt;<a href="mailto:gabor@FreeBSD.org">gabor@FreeBSD.org</a>&gt;.</small></p></body></html>