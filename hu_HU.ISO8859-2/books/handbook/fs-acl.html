<?xml version="1.0" encoding="iso-8859-2" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-2" /><title>14.12. Az állományrendszerek hozzáféréseit vezérlõ listák</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD kézikönyv" /><link rel="up" href="security.html" title="14. fejezet - Biztonság" /><link rel="prev" href="openssh.html" title="14.11. OpenSSH" /><link rel="next" href="security-portaudit.html" title="14.13. A külsõ programok biztonsági problémáinak figyelése" /><link rel="copyright" href="legalnotice.html" title="Jogi közlemény" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">14.12. Az állományrendszerek
      hozzáféréseit vezérlõ
      listák</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="openssh.html">Vissza</a> </td><th width="60%" align="center">14. fejezet - Biztonság</th><td width="20%" align="right"> <a accesskey="n" href="security-portaudit.html">Elõre</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="fs-acl"></a>14.12. Az állományrendszerek
      hozzáféréseit vezérlõ
      listák</h2></div><div><span class="authorgroup">Írta: <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="surname">Rhodes</span>, <span class="firstname">Tom</span></span>. </span></div></div></div><a id="idp88095568" class="indexterm"></a><p>A FreeBSD 5.0 és késõbbi
      változatai különbözõ
      fejlesztéseket hoztak az
      állományrendszerekben, például a
      pillanatképek készítése vagy a
      hozzáférés-vezérlési
      listák (Access Control List, <acronym class="acronym">ACL</acronym>-ek)
      támogatása.</p><p>A hozzáférés-vezérlési
      listák a szabványos <span class="trademark">UNIX</span>(R)-os engedély
      modellt bõvítik ki egy igen kompatibilis (<span class="trademark">POSIX</span>(R).1e)
      módon.  Használatával a rendszergazdák
      egy sokkal kifinomultabb biztonsági modellt tudhatnak a
      kezük ügyében.</p><p>Az <acronym class="acronym">UFS</acronym> állományrendszerek
      <acronym class="acronym">ACL</acronym> támogatását úgy
      tudjuk engedélyezni, ha a rendszermagot az</p><pre class="programlisting">options UFS_ACL</pre><p>paraméterrel fordítjuk le.  Amennyiben ezt nem
      fordítottuk bele, akkor az <acronym class="acronym">ACL</acronym>
      támogatással rendelkezõ
      állományrendszerek csatlakoztatása
      során egy figyelmeztetést kapunk.  Ez az
      opció a <code class="filename">GENERIC</code> rendszermag
      része.  Az <acronym class="acronym">ACL</acronym> az
      állományrendszeren engedélyezett
      kiterjesztett tulajdonságokra támaszkodik.  Ezeket a
      kiterjesztett tulajdonságokat a következõ
      generációs <span class="trademark">UNIX</span>(R) állományrendszer, az
      <acronym class="acronym">UFS2</acronym> már alapból ismeri.</p><div xmlns="" class="note"><h3 class="admontitle">Megjegyzés: </h3><p xmlns="http://www.w3.org/1999/xhtml"><acronym class="acronym">UFS1</acronym> típusú
	állományrendszereken sokkal nagyobb a
	kiterjesztett tulajdonságok kezelésének
	költsége, mint az <acronym class="acronym">UFS2</acronym>
	esetében.  Az <acronym class="acronym">UFS2</acronym> jóval
	nagyobb teljesítménnyel képes dolgozni a
	kiterjesztett tulajdonságokkal.  Emiatt a
	hozzáférés-vezérlési
	listák használatához az
	<acronym class="acronym">UFS2</acronym> sokkal inkább ajánlott,
	mint az <acronym class="acronym">UFS1</acronym>.</p></div><p>Az <acronym class="acronym">ACL</acronym> használatát a
      csatlakoztatáskor megadott <code class="option">acls</code>
      beállítással engedélyezhetjük,
      amelyet érdemes felvennünk az
      <code class="filename">/etc/fstab</code> állományba.  Ha a
      <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=tunefs&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">tunefs</span>(8)</span></a> segédprogrammal az
      állományrendszer fejlécében levõ
      szuperblokk <acronym class="acronym">ACL</acronym> kapcsolóját
      átírjuk, akkor ez a beállítás
      automatikussá tehetõ.  A szuperblokk használata
      több okból is ajánlatos:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>A csatlakoztatáskor megadott <acronym class="acronym">ACL</acronym>
	  beállítás nem változtatható
	  egy egyszerû újracsatlakoztatással
	  (<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mount&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mount</span>(8)</span></a> <code class="option">-u</code>), csak egy teljes
	  leválasztással (<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=umount&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">umount</span>(8)</span></a>) és egy
	  friss csatlakoztatással (<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mount&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mount</span>(8)</span></a>).  Ennek
	  értelmében az <acronym class="acronym">ACL</acronym>-ek a
	  rendszerindító állományrendszeren
	  a rendszer indulása után nem
	  engedélyezhetõek.  Ám ez azt is jelenti,
	  hogy egy már használatban levõ
	  állományrendszer
	  beállításai sem
	  változtathatóak meg.</p></li><li class="listitem"><p>Ha a kapcsolót a szuperblokkban
	  állítjuk be, akkor az
	  állományrendszert még akkor is
	  <acronym class="acronym">ACL</acronym> támogatással
	  csatlakoztatja a rendszer, ha azt nem adtuk meg az
	  <code class="filename">fstab</code> állományban vagy az
	  eszközeink átrendezõdtek.  Így az
	  állományrendszereket még
	  véletlenül sem tudjuk <acronym class="acronym">ACL</acronym>
	  használata nélkül csatlakoztatni, ami
	  egyébként így komoly biztonsági
	  problémákat okozhatna.</p></li></ul></div><div xmlns="" class="note"><h3 class="admontitle">Megjegyzés: </h3><p xmlns="http://www.w3.org/1999/xhtml">Beállíthatjuk úgy is
	<acronym class="acronym">ACL</acronym> kezelését, hogy egy friss
	csatlakoztatás nélkül is bekapcsolható
	legyen, azonban az ilyen állományrendszerek
	<acronym class="acronym">ACL</acronym> nélküli
	csatlakoztatását nem ajánljuk senkinek,
	mivel ha egyszer már engedélyeztük a
	használatukat, majd kikapcsoljuk ezeket és
	végül a kiterjesztett tulajdonságok
	törlése nélkül újra
	engedélyezzük, akkor nagyon könnyen
	pórul járhatunk.  Ha elkezdtük
	használni az <acronym class="acronym">ACL</acronym>-eket egy
	állományrendszeren, akkor ne tiltsuk le ezeket,
	mert az így keletkezõ
	állományvédelem nem feltétlenül
	lesz kompatibilis a felhasználók által
	beállítottakkal, és az
	<acronym class="acronym">ACL</acronym> újraengedélyezése a
	változásaik elõtti korábbi
	<acronym class="acronym">ACL</acronym> engedélyeket fogja
	visszaállítani az állományokra,
	aminek hatása kiszámíthatatlan.</p></div><p>A hozzáférés-vezérlési
      listákat használó
      állományrendszerek esetén egy
      <code class="literal">+</code> (plusz) jellel
      ábrázolják a kiterjesztett
      engedélyeket.  Például:</p><pre class="programlisting">drwx------  2 robert  robert  512 Dec 27 11:54 private
drwxrwx---+ 2 robert  robert  512 Dec 23 10:57 könyvtár1
drwxrwx---+ 2 robert  robert  512 Dec 22 10:20 könyvtár2
drwxrwx---+ 2 robert  robert  512 Dec 27 11:57 könyvtár3
drwxr-xr-x  2 robert  robert  512 Nov 10 11:54 public_html</pre><p>Láthatjuk, hogy a
      <code class="filename">könyvtár1</code>,
      <code class="filename">könyvtár2</code> és
      <code class="filename">könyvtár3</code>
      könyvtárakhoz tartoznak <acronym class="acronym">ACL</acronym>
      típusú engedélyek, míg a
      <code class="filename">public_html</code> könyvtárhoz
      nem.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88128976"></a>14.12.1. Az <acronym class="acronym">ACL</acronym>-ek használata</h3></div></div></div><p>Az állományrendszerben található
	<acronym class="acronym">ACL</acronym> engedélyeket a <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=getfacl&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">getfacl</span>(1)</span></a>
	segédprogrammal nézhetjük meg.
	Például a
	<code class="filename">próba</code>
	állomány <acronym class="acronym">ACL</acronym> engedélyeit
	a következõ paranccsal tudjuk megnézni:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>getfacl próba</code></strong>
	#file:<em class="replaceable"><code>próba</code></em>
	#owner:1001
	#group:1001
	user::rw-
	group::r--
	other::r--</pre><p>Egy állomány <acronym class="acronym">ACL</acronym>
	engedélyeit a <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=setfacl&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">setfacl</span>(1)</span></a> segédprogrammal
	tudjuk megváltoztatni.  Figyeljük meg:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>setfacl -k próba</code></strong></pre><p>A <code class="option">-k</code> opció törli az összes
	<acronym class="acronym">ACL</acronym> alapú engedélyt egy
	állományról vagy
	állományrendszerrõl.  Ennél viszont
	sokkal hasznosabb a <code class="option">-b</code> opció
	használata, mivel az meghagyja az <acronym class="acronym">ACL</acronym>
	mûködéséhez szükséges
	alapvetõ mezõket.</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>setfacl -m u:trhodes:rwx,group:web:r--,o::--- próba</code></strong></pre><p>Ebben a fenti parancsban a <code class="option">-m</code> opciót
	pedig arra használtuk, hogy módosítsuk az
	alapértelmezett <acronym class="acronym">ACL</acronym>
	bejegyzéseket.  Mivel az ezt megelõzõ
	parancsban teljesen töröltük még az
	elõredefiniált bejegyzéseket is, ez a parancs
	a megadott paraméterekkel kiegészítve
	ezeket vissza fogja állítani.  Ügyeljünk
	arra, hogy ha olyan felhasználót vagy csoportot
	adunk meg, ami nem létezik a rendszerben, akkor a
	szabvány kimenetre egy <span class="errorname">Invalid
	argument</span> hibaüzenetet kapunk.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="openssh.html">Vissza</a> </td><td width="20%" align="center"><a accesskey="u" href="security.html">Fel</a></td><td width="40%" align="right"> <a accesskey="n" href="security-portaudit.html">Elõre</a></td></tr><tr><td width="40%" align="left" valign="top">14.11. OpenSSH </td><td width="20%" align="center"><a accesskey="h" href="index.html">Fõoldal</a></td><td width="40%" align="right" valign="top"> 14.13. A külsõ programok biztonsági
      problémáinak figyelése</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Ha kérdése van a FreeBSD-vel kapcsolatban, a
    következõ címre írhat (angolul):
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Ha ezzel a dokumentummal kapcsolatban van kérdése, kérjük erre a címre írjon:
    &lt;<a href="mailto:gabor@FreeBSD.org">gabor@FreeBSD.org</a>&gt;.</small></p></body></html>