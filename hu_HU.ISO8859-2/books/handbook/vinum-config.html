<?xml version="1.0" encoding="iso-8859-2" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-2" /><title>21.8. A Vinum beállítása</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD kézikönyv" /><link rel="up" href="vinum-vinum.html" title="21. fejezet - A Vinum kötetkezelõ" /><link rel="prev" href="vinum-object-naming.html" title="21.7. Az objektumok elnevezése" /><link rel="next" href="vinum-root.html" title="21.9. Rendszerindítás Vinum-kötetrõl" /><link rel="copyright" href="legalnotice.html" title="Jogi közlemény" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">21.8. A Vinum beállítása</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="vinum-object-naming.html">Vissza</a> </td><th width="60%" align="center">21. fejezet - A Vinum kötetkezelõ</th><td width="20%" align="right"> <a accesskey="n" href="vinum-root.html">Elõre</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="vinum-config"></a>21.8. A Vinum beállítása</h2></div></div></div><p>A <code class="filename">GENERIC</code> rendszermag nem tartalmazza a
      Vinumot.  Habár készíteni lehet olyan
      rendszermagot, amelyik támogatja a Vinumot, mégsem
      ajánlott.  A Vinumot a szabványos módon
      modulként (<acronym class="acronym">kld</acronym>) indíthatjuk el.
      Még a <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=kldload&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">kldload</span>(8)</span></a> használatára sincs
      szükség, mivel a <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=gvinum&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">gvinum</span>(8)</span></a> indulása
      során ellenõrzi a modul jelenlétét
      és betölti, ha még nem lenne jelen.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp91944016"></a>21.8.1. Indítás</h3></div></div></div><p>A Vinum alapvetõen ugyanúgy tárolja a
	konfigurációkat a slice-okban, mint maguk a
	konfigurációs állományok.  A
	konfigurációs adatbázis beolvasása
	során a Vinum felismeri azokat a kulcsszavakat,
	amelyeknek nem szabad elõfordulniuk az
	állományokban.  Például a lemezek
	beállítása tartalmazhatja a
	következõ szöveget:</p><pre class="programlisting" width="119">volume myvol state up
volume bigraid state down
plex name myvol.p0 state up org concat vol myvol
plex name myvol.p1 state up org concat vol myvol
plex name myvol.p2 state init org striped 512b vol myvol
plex name bigraid.p0 state initializing org raid5 512b vol bigraid
sd name myvol.p0.s0 drive a plex myvol.p0 state up len 1048576b driveoffset 265b plexoffset 0b
sd name myvol.p0.s1 drive b plex myvol.p0 state up len 1048576b driveoffset 265b plexoffset 1048576b
sd name myvol.p1.s0 drive c plex myvol.p1 state up len 1048576b driveoffset 265b plexoffset 0b
sd name myvol.p1.s1 drive d plex myvol.p1 state up len 1048576b driveoffset 265b plexoffset 1048576b
sd name myvol.p2.s0 drive a plex myvol.p2 state init len 524288b driveoffset 1048841b plexoffset 0b
sd name myvol.p2.s1 drive b plex myvol.p2 state init len 524288b driveoffset 1048841b plexoffset 524288b
sd name myvol.p2.s2 drive c plex myvol.p2 state init len 524288b driveoffset 1048841b plexoffset 1048576b
sd name myvol.p2.s3 drive d plex myvol.p2 state init len 524288b driveoffset 1048841b plexoffset 1572864b
sd name bigraid.p0.s0 drive a plex bigraid.p0 state initializing len 4194304b driveoff set 1573129b plexoffset 0b
sd name bigraid.p0.s1 drive b plex bigraid.p0 state initializing len 4194304b driveoff set 1573129b plexoffset 4194304b
sd name bigraid.p0.s2 drive c plex bigraid.p0 state initializing len 4194304b driveoff set 1573129b plexoffset 8388608b
sd name bigraid.p0.s3 drive d plex bigraid.p0 state initializing len 4194304b driveoff set 1573129b plexoffset 12582912b
sd name bigraid.p0.s4 drive e plex bigraid.p0 state initializing len 4194304b driveoff set 1573129b plexoffset 16777216b</pre><p>Az elõbbiektõl nyilvánvalóan
	eltér abban, hogy itt már megjelennek a
	konkrét pozíciókra és
	elnevezésekre vonatkozó információk
	(melyeket a felhasználó is megadhat, azonban ezt
	nem tanácsoljuk), valamint az állapotok (ezeket
	nem láthatja a felhasználó).  A Vinum a
	konfigurációban nem tárolja a
	meghajtókat, helyette a beállított lemezes
	meghajtók partícióin fog
	Vinum-címkéket keresni.  Ennek
	köszönhetõen a Vinum még akkor is
	képes pontosan megtalálni a meghajtókat,
	amikor megváltoznak a hozzá tartozó
	<span class="trademark">UNIX</span>(R)-os meghajtók azonosítói.</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="vinum-rc-startup"></a>21.8.1.1. Automatikus indítás</h4></div></div></div><div xmlns="" class="note"><h3 class="admontitle">Megjegyzés: </h3><p xmlns="http://www.w3.org/1999/xhtml">Ez a rész csak a Vinum elavult
	    implementációjára vonatkozik.  A
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=loader.conf&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">loader.conf</span>(5)</span></a> közvetítésével
	    a <span class="emphasis"><em>Gvinum</em></span> mindig automatikusan elindul a
	    hozzá tartozó modul
	    betöltésével együtt.  Ha a
	    rendszerindításkor be akarjuk tölteni a
	    <span class="emphasis"><em>Gvinum</em></span> modult, akkor a
	    <code class="filename">/boot/loader.conf</code>
	    állományba vegyük fel a
	    <code class="literal">geom_vinum_load="YES"</code> sort.</p></div><p>Az alábbi sort mindenképpen hozzá
	  kell adnunk az <code class="filename">/etc/rc.conf</code>
	  állományhoz, hogy a Vinum a
	  rendszerindítás során automatikusan
	  elinduljon:</p><pre class="programlisting">start_vinum="YES"		# állítsuk YES-re az indításhoz</pre><p>Hozzuk létre és írjuk bele, ha nem
	  lenne <code class="filename">/etc/rc.conf</code> nevû
	  állományunk.  Ennek hatására a
	  rendszer az indulás során betölti a Vinum
	  <acronym class="acronym">kld</acronym> modult, és a
	  konfigurációban szereplõ objektumokat
	  elindítja.  Ez még az
	  állományrendszerek csatlakoztatása
	  elõtt történik meg, aminek
	  révén a Vinum-köteteken
	  található állományrendszereket a
	  rendszer automatikusan át tudja vizsgálni az
	  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=fsck&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">fsck</span>(8)</span></a> segítségével, majd
	  csatlakoztatja ezeket.</p><p>Amikor a Vinumot a <code class="command">vinum start</code>
	  paranccsal indítjuk el, a Vinum beolvassa a
	  konfigurációs adatbázist a
	  Vinum-meghajtók egyikérõl.  Normál
	  körülmények között mindegyik
	  meghajtón megtalálható a
	  konfigurációs adatbázis egy
	  példánya, ezért szinte teljesen mindegy,
	  melyik meghajtót is olvassa.  Egy
	  rendszer-összeomlás után azonban a Vinumnak
	  meg kell tudnia állapítania, melyik
	  meghajtón található meg az
	  adatbázis legfrissebb példánya, és
	  ezt kell beolvasnia.  Ezután a lemaradt
	  meghajtókon található
	  adatbázispéldányokat
	  szinkronizálja ehhez a változathoz.</p></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="vinum-object-naming.html">Vissza</a> </td><td width="20%" align="center"><a accesskey="u" href="vinum-vinum.html">Fel</a></td><td width="40%" align="right"> <a accesskey="n" href="vinum-root.html">Elõre</a></td></tr><tr><td width="40%" align="left" valign="top">21.7. Az objektumok elnevezése </td><td width="20%" align="center"><a accesskey="h" href="index.html">Fõoldal</a></td><td width="40%" align="right" valign="top"> 21.9. Rendszerindítás
      Vinum-kötetrõl</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Ha kérdése van a FreeBSD-vel kapcsolatban, a
    következõ címre írhat (angolul):
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Ha ezzel a dokumentummal kapcsolatban van kérdése, kérjük erre a címre írjon:
    &lt;<a href="mailto:gabor@FreeBSD.org">gabor@FreeBSD.org</a>&gt;.</small></p></body></html>