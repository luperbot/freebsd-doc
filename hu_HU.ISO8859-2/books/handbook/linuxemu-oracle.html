<?xml version="1.0" encoding="iso-8859-2" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-2" /><title>10.6. Az Oracle(R) telepítése</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD kézikönyv" /><link rel="up" href="linuxemu.html" title="10. fejezet - Bináris Linux kompatibilitás" /><link rel="prev" href="linuxemu-matlab.html" title="10.5. A MATLAB(R) telepítése" /><link rel="next" href="sapr3.html" title="10.7. Az SAP(R) R/3(R) telepítése" /><link rel="copyright" href="legalnotice.html" title="Jogi közlemény" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">10.6. Az <span class="trademark">Oracle</span>(R) telepítése</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="linuxemu-matlab.html">Vissza</a> </td><th width="60%" align="center">10. fejezet - Bináris Linux kompatibilitás</th><td width="20%" align="right"> <a accesskey="n" href="sapr3.html">Elõre</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="linuxemu-oracle"></a>10.6. Az <span class="trademark">Oracle</span>(R) telepítése</h2></div><div><span class="authorgroup">Írta: <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="surname">Moolenaar</span>, <span class="firstname">Marcel</span></span>. </span></div></div></div><a id="idp83362896" class="indexterm"></a><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp83364176"></a>10.6.1. Elõszó</h3></div></div></div><p>Ez a leírás azt mutatja be, hogyan
	telepítsük FreeBSD-re az <span class="application"><span class="trademark">Oracle</span>(R)
	8.0.5</span> és <span class="application"><span class="trademark">Oracle</span>(R) 8.0.5.1
	Enterprise Edition</span> Linux
	változatait.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp83371088"></a>10.6.2. A Linux környezet telepítése</h3></div></div></div><p>Telepítsük az <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/emulators/linux_base/pkg-descr">emulators/linux_base</a> és
	<a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/devel/linux_devtools/pkg-descr">devel/linux_devtools</a>
	portokat a Portgyûjteménybõl.  Amennyiben ennek
	során nehézségekbe
	ütköznénk, próbálkozzunk a
	korábbi változataikkal.</p><p>Fel kell raknunk a Red Hat Tcl csomagját is, ha
	az alkalmazáshoz tartozó intelligens
	ügynököt is futtatni szeretnénk.  Ez a
	<code class="filename">tcl-8.0.3-20.i386.rpm</code>.  A hivatalos
	<span class="application">RPM</span> port
	segítségével az alábbi
	általános parancson keresztül tudunk
	csomagokat telepíteni:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>rpm -i --ignoreos --root /compat/linux --dbpath /var/lib/rpm csomag</code></strong></pre><p>A <em class="replaceable"><code>csomag</code></em>
	telepítésének semmilyen hibát nem
	kellene okoznia.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp83375952"></a>10.6.3. Az <span class="trademark">Oracle</span>(R) környezetének
	létrehozása</h3></div></div></div><p>Az <span class="application"><span class="trademark">Oracle</span>(R)</span>
	telepítéséhez elõször ki kell
	alakítanunk a megfelelõ környezetet.  Ez a
	leírás <span class="emphasis"><em>kifejezetten</em></span>
	arról szól, hogy FreeBSD-n hogyan futtassuk a linuxos
	<span class="application"><span class="trademark">Oracle</span>(R)</span>-t, nem pedig az
	<span class="application"><span class="trademark">Oracle</span>(R)</span> telepítési
	útmutatójában bemutatottakat
	taglalja.</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="linuxemu-kernel-tuning"></a>10.6.3.1. A rendszermag hangolása</h4></div></div></div><a id="idp83385040" class="indexterm"></a><p>Ahogy az <span class="application"><span class="trademark">Oracle</span>(R)</span>
	  telepítési útmutatójában is
	  olvashatjuk, be kell állítanunk az osztott
	  memória maximális méretét.  FreeBSD
	  alatt erre a célra ne használjuk az
	  <code class="literal">SHMMAX</code> értéket, mivel az
	  <code class="literal">SHMMAX</code> az <code class="literal">SHMMAXPGS</code>
	  és <code class="literal">PGSIZE</code>
	  értékekbõl számolódik ki.
	  Ezért nekünk itt a <code class="literal">SHMMAXPGS</code>
	  értékét kell meghatároznunk.
	  Minden egyéb beállítás
	  történhet az útmutatóban megadottak
	  szerint.  Például:</p><pre class="programlisting">options SHMMAXPGS=10000
options SHMMNI=100
options SHMSEG=10
options SEMMNS=200
options SEMMNI=70
options SEMMSL=61</pre><p>Hangoljuk be ezeket az értékeket az
	  <span class="application"><span class="trademark">Oracle</span>(R)</span> tervezett
	  használatához.</p><p>Emellett a konfigurációs
	  állományban ne feledkezzünk meg az
	  alábbi beállítások
	  megadásáról sem:</p><pre class="programlisting">options SYSVSHM #SysV osztott memória
options SYSVSEM #SysV szemaforok
options SYSVMSG #SysV folyamatok közti kommunikáció</pre></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="linuxemu-oracle-account"></a>10.6.3.2. Az <span class="trademark">Oracle</span>(R) hozzáférése</h4></div></div></div><p>Egy rendes hozzáféréshez
	  hasonlóan hozzunk létre egy külön
	  <code class="systemitem">oracle</code> hozzáférést
	  is rendszerünkön.  Az <code class="systemitem">oracle</code>
	  hozzáférés csak annyiban
	  különleges, hogy linuxos
	  parancsértelmezõt kell társítanunk
	  hozzá.  Ehhez vegyük fel
	  <code class="literal">/compat/linux/bin/bash</code> sort az
	  <code class="filename">/etc/shells</code> állományba,
	  majd állítsuk át az
	  <code class="systemitem">oracle</code> nevû
	  felhasználó
	  parancsértelmezõjét a
	  <code class="filename">/compat/linux/bin/bash</code> programra.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="linuxemu-environment"></a>10.6.3.3. Környezet</h4></div></div></div><p>A megszokott <span class="application"><span class="trademark">Oracle</span>(R)</span>
	  környezeti változók, mint
	  például az <code class="envar">ORACLE_HOME</code> és
	  <code class="envar">ORACLE_SID</code> mellett még
	  definiálnunk kell a következõket is:</p><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Változó</th><th>Érték</th></tr></thead><tbody><tr><td><code class="envar">LD_LIBRARY_PATH</code></td><td><code class="literal">$ORACLE_HOME/lib</code></td></tr><tr><td><code class="envar">CLASSPATH</code></td><td><code class="literal">$ORACLE_HOME/jdbc/lib/classes111.zip</code></td></tr><tr><td><code class="envar">PATH</code></td><td><code class="literal">/compat/linux/bin
/compat/linux/sbin
/compat/linux/usr/bin
/compat/linux/usr/sbin
/bin
/sbin
/usr/bin
/usr/sbin
/usr/local/bin
$ORACLE_HOME/bin</code></td></tr></tbody></table></div><p>Javasoljuk, hogy az összes környezeti
	  változót a <code class="filename">.profile</code>
	  állományban adjuk meg.  Ennek megfelelõen a
	  példa beállításai így
	  fognak kinézni benne:</p><pre class="programlisting">ORACLE_BASE=/oracle; export ORACLE_BASE
ORACLE_HOME=/oracle; export ORACLE_HOME
LD_LIBRARY_PATH=$ORACLE_HOME/lib
export LD_LIBRARY_PATH
ORACLE_SID=ORCL; export ORACLE_SID
ORACLE_TERM=386x; export ORACLE_TERM
CLASSPATH=$ORACLE_HOME/jdbc/lib/classes111.zip
export CLASSPATH
PATH=/compat/linux/bin:/compat/linux/sbin:/compat/linux/usr/bin
PATH=$PATH:/compat/linux/usr/sbin:/bin:/sbin:/usr/bin:/usr/sbin
PATH=$PATH:/usr/local/bin:$ORACLE_HOME/bin
export PATH</pre></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp83416400"></a>10.6.4. Az <span class="trademark">Oracle</span>(R) telepítése</h3></div></div></div><p>A Linux emulátorban meghúzódó
	apró egyenletlenségek miatt a
	telepítés elõtt létre kell hoznunk egy
	<code class="filename">.oracle</code> nevû alkönyvtárat
	a <code class="filename">/var/tmp</code> könyvtárban.
	Helyezzük ezt az <code class="systemitem">oracle</code>
	felhasználó tulajdonába.  Ezt
	követõen minden további gond nélkül
	képesek leszünk az
	<span class="application"><span class="trademark">Oracle</span>(R)</span>
	telepítésére.  Ha netalán
	mégis problémákba
	ütköznénk, elõször mindig az
	<span class="application"><span class="trademark">Oracle</span>(R)</span> telepítési
	és konfigurációs állományait
	ellenõrizzük!  Az <span class="application"><span class="trademark">Oracle</span>(R)</span>
	telepítése után rakjuk fel a
	következõ szakaszokban bemutatandó
	javításokat.</p><p>Gyakran problémát okoz, ha a TCP protokollt
	még nem telepítettük.  Ennek
	következményeképpen ugyanis nem tudnak
	elindulni a TCP alapú szolgáltatások.  Az
	alábbi mûveletek ebben igyekeznek
	segíteni:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cd $ORACLE_HOME/network/lib</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>make -f ins_network.mk ntcontab.o</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>cd $ORACLE_HOME/lib</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>ar r libnetwork.a ntcontab.o</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>cd $ORACLE_HOME/network/lib</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>make -f ins_network.mk install</code></strong></pre><p>Ne felejtsük el ismét elindítani a
	<code class="filename">root.sh</code> szkriptet!</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="linuxemu-patch-root"></a>10.6.4.1. A root.sh javítása</h4></div></div></div><p>Az <span class="application"><span class="trademark">Oracle</span>(R)</span>
	  telepítése során
	  <code class="systemitem">root</code> (privilegizált)
	  felhasználóként elvégzendõ
	  mûveleteket a <code class="filename">root.sh</code>
	  elnevezésû szkriptben találjuk.  Ez a
	  szkript az <code class="filename">orainst</code> könyvtárba
	  kerül.  A <code class="command">chown</code> parancs helyes
	  lefutásához alkalmazzuk az alább
	  mellékelt javítást, vagy az egész
	  szkriptet egy linuxos parancsértelmezõbõl
	  indítsuk el.</p><pre class="programlisting">*** orainst/root.sh.orig Tue Oct 6 21:57:33 1998
--- orainst/root.sh Mon Dec 28 15:58:53 1998
***************
*** 31,37 ****
# This is the default value for CHOWN
# It will redefined later in this script for those ports
# which have it conditionally defined in ss_install.h
! CHOWN=/bin/chown
#
# Define variables to be used in this script
--- 31,37 ----
# This is the default value for CHOWN
# It will redefined later in this script for those ports
# which have it conditionally defined in ss_install.h
! CHOWN=/usr/sbin/chown
#
# Define variables to be used in this script</pre><p>Ha nem CD-rõl telepítjük az
	  <span class="application"><span class="trademark">Oracle</span>(R)</span>-t, akkor akár a
	  <code class="filename">root.sh</code> forrását is
	  kijavíthatjuk.  A neve <code class="filename">rthd.sh</code>,
	  és a forrásfa <code class="filename">orainst</code>
	  könyvtárában találhatjuk.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="linuxemu-patch-tcl"></a>10.6.4.2. A genclntsh javítása</h4></div></div></div><p>A <code class="command">genclntsh</code> szkript a kliensek
	  által használt osztott könyvtár
	  létrehozására alkalmazható.
	  Általában demók
	  fordításához van rá
	  szükség.  Az alábbi javítás
	  alkalmazásával a <code class="envar">PATH</code>
	  változó értéke
	  törölhetõ:</p><pre class="programlisting">*** bin/genclntsh.orig Wed Sep 30 07:37:19 1998
--- bin/genclntsh Tue Dec 22 15:36:49 1998
***************
*** 32,38 ****
#
# Explicit path to ensure that we're using the correct commands
#PATH=/usr/bin:/usr/ccs/bin export PATH
! PATH=/usr/local/bin:/bin:/usr/bin:/usr/X11R6/bin export PATH
#
# each product MUST provide a $PRODUCT/admin/shrept.lst
--- 32,38 ----
#
# Explicit path to ensure that we're using the correct commands
#PATH=/usr/bin:/usr/ccs/bin export PATH
! #PATH=/usr/local/bin:/bin:/usr/bin:/usr/X11R6/bin export PATH
#
# each product MUST provide a $PRODUCT/admin/shrept.lst</pre></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp83444304"></a>10.6.5. Az <span class="trademark">Oracle</span>(R) futtatása</h3></div></div></div><p>Ha rendesen követtük az iménti
	utasításokat, akkor most már úgy
	tudjuk futtatni az <span class="application"><span class="trademark">Oracle</span>(R)</span>-t, mintha
	csak Linuxon futna.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="linuxemu-matlab.html">Vissza</a> </td><td width="20%" align="center"><a accesskey="u" href="linuxemu.html">Fel</a></td><td width="40%" align="right"> <a accesskey="n" href="sapr3.html">Elõre</a></td></tr><tr><td width="40%" align="left" valign="top">10.5. A <span class="trademark">MATLAB</span>(R) telepítése </td><td width="20%" align="center"><a accesskey="h" href="index.html">Fõoldal</a></td><td width="40%" align="right" valign="top"> 10.7. Az <span class="trademark">SAP</span>(R) <span class="trademark">R/3</span>(R) telepítése</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Ha kérdése van a FreeBSD-vel kapcsolatban, a
    következõ címre írhat (angolul):
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Ha ezzel a dokumentummal kapcsolatban van kérdése, kérjük erre a címre írjon:
    &lt;<a href="mailto:gabor@FreeBSD.org">gabor@FreeBSD.org</a>&gt;.</small></p></body></html>