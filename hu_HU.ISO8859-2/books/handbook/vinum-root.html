<?xml version="1.0" encoding="iso-8859-2" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-2" /><title>21.9. Rendszerindítás Vinum-kötetrõl</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD kézikönyv" /><link rel="up" href="vinum-vinum.html" title="21. fejezet - A Vinum kötetkezelõ" /><link rel="prev" href="vinum-config.html" title="21.8. A Vinum beállítása" /><link rel="next" href="virtualization.html" title="22. fejezet - Virtualizáció" /><link rel="copyright" href="legalnotice.html" title="Jogi közlemény" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">21.9. Rendszerindítás
      Vinum-kötetrõl</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="vinum-config.html">Vissza</a> </td><th width="60%" align="center">21. fejezet - A Vinum kötetkezelõ</th><td width="20%" align="right"> <a accesskey="n" href="virtualization.html">Elõre</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="vinum-root"></a>21.9. Rendszerindítás
      Vinum-kötetrõl</h2></div></div></div><p>Olyan számítógépeknél, ahol
      a teljesen tükrözött Vinum-alapú
      állományrendszereket használunk,
      kívánatos lehet magát a
      rendszerindításhoz használt
      állományrendszert is tükrözni.  Egy ilyen
      konfiguráció összeállítása
      már messze nem annyira egyszerû, mint egy
      tetszõleges állományrendszer esetén,
      mivel:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Az indításhoz használt
	  állományrendszernek már a folyamat nagyon
	  korai szakaszában rendelkezésre kell
	  állnia, ezért a Vinumnak már itt
	  elérhetõnek kell lennie.</p></li><li class="listitem"><p>A rendszerindító
	  állományrendszert tartalmazó köteten
	  még ott kell lennie a rendszerindító
	  kódnak és a rendszermagnak is, melyeket a
	  rendszer saját eszközein (például
	  ilyen a BIOS a PC-knél) keresztül kell tudnunk
	  beolvasni, amiket viszont nem tudunk
	  felkészíteni a Vinumra.</p></li></ul></div><p>A soronkövetkezõ szakaszokban
      <span class="quote">"<span class="quote">rendszerindító kötetként</span>"</span>
      (root volume) fogunk általánosságban
      véve hivatkozni a rendszerindításhoz
      használt állományrendszert tartalmazó
      Vinum-kötetre.  Ennek megfelelõen
      valószínûleg jó ötlet a
      <code class="literal">"root"</code> névvel azonosítani ezt a
      kötetet, habár technikai szempontból ezt semmi
      nem követeli meg.  Az itt felsorakozó
      példákban azonban ezt a nevet fogjuk
      használni.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp92077776"></a>21.9.1. A Vinum kellõen korai indítása</h3></div></div></div><p>Ennek kiváltásához számos
	lépést kell megtennünk:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>A rendszermagnak már el kell érnie a
	    Vinumot a rendszerindítás során.
	    Emiatt a <a class="xref" href="vinum-config.html#vinum-rc-startup" title="21.8.1.1. Automatikus indítás">21.8.1.1. szakasz - Automatikus indítás</a>ban leírt
	    automatikus indítási módszer nem
	    alkalmazható erre a feladatra, és a
	    <code class="literal">start_vinum</code> paramétert
	    <span class="emphasis"><em>nem</em></span> is szabad használni a most
	    ismertetendõ konfigurációban.  A Vinumot
	    statikusan bele is építhetjük a
	    rendszermagba és így állandóan
	    elérhetõ, de ez általában nem
	    kielégítõ megoldás.  Megoldhatjuk
	    úgy is, ha a <code class="filename">/boot/loader</code>-re
	    (<a class="xref" href="boot-blocks.html#boot-loader" title="12.3.3. A harmadik fokozat (/boot/loader)">12.3.3. szakasz - A harmadik fokozat
      (<code class="filename">/boot/loader</code>)</a>) bízzuk a vinum modul
	    betöltését, még a rendszermag
	    elõtt.  Ezt az alábbi sorral válthatjuk
	    ki a <code class="filename">/boot/loader.conf</code>
	    állományban:</p><pre class="programlisting">geom_vinum_load="YES"</pre></li><li class="listitem"><div xmlns="" class="note"><h3 class="admontitle">Megjegyzés: </h3><p xmlns="http://www.w3.org/1999/xhtml">A <span class="emphasis"><em>Gvinum</em></span> használata
	      során az összes többi
	      beállítás automatikusan
	      végrehajtódik, amint a modul
	      betöltõdik, ezért ilyenkor csak a fentebb
	      leírt eljárásra van
	      szükség.  Az itt felsoroltak csak az elavult
	      Vinum implementációra vonatkoznak,
	      csupán a régebbi típusú
	      rendszerek kedvéért említjük
	      meg.</p></div><p>A Vinumot nagyon korán életre kell
	    keltenünk, hiszen a rendszerindításhoz
	    használt állományrendszert
	    tartalmazó kötetet kell
	    élesítenünk.
	    Alapértelmezés szerint a Vinum rendszerszinten
	    futó része nem keres addig semmilyen
	    Vinum-kötetinformációval rendelkezõ
	    meghajtót, amíg a rendszergazda (vagy
	    valamelyik rendszerindító szkript) ki nem adja
	    a <code class="command">vinum start</code> parancsot.</p><div xmlns="" class="note"><h3 class="admontitle">Megjegyzés: </h3><p xmlns="http://www.w3.org/1999/xhtml">A most következõ bekezdések
	      mutatják be a szükséges
	      lépéseket.</p></div><p>Ha hozzáadjuk a következõ sort a
	    <code class="filename">/boot/loader.conf</code>
	    állományhoz, akkor azzal utasíthatjuk a
	    Vinumot, hogy a rendszermag indítása
	    során vizsgálja át az összes
	    meghajtót:</p><pre class="programlisting">vinum.autostart="YES"</pre><p>Nem szükséges megmondani a rendszermagnak,
	    merre keresse a rendszerindításhoz
	    használt állományrendszert.  A
	    <code class="filename">/boot/loader</code> megkeresi a
	    hozzá tartozó eszközt a
	    <code class="filename">/etc/fstab</code> állományban
	    és átadja ezt az információt a
	    rendszermagnak.  Amikor a csatlakoztatására
	    kerül sor, a rendszermag az eszköz
	    nevébõl meg tudja állapítani,
	    melyik eszközmeghajtót kérje meg a
	    belsõ (fõ- és
	    al)eszközazonosító
	    leképzéséhez.</p></li></ul></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp92088400"></a>21.9.2. A Vinum-alapú rendszerindító
	kötet elérése a rendszertöltés
	során</h3></div></div></div><p>Mivel a jelenlegi FreeBSD rendszertöltõ csak 7,5 KB
	méretû és egyébként is csak az
	UFS állományrendszerrõl tud
	állományokat beolvasni (mint például
	a <code class="filename">/boot/loader</code>t), teljesen lehetetlen
	még a Vinum belsõ szerkezetére is
	megtanítani, tehát a
	Vinum-konfigurációk
	értelmezésére és magának a
	rendszerindító kötet elemeinek
	kielemzésére.  Ezért be kell vetnünk
	néhány trükköt ahhoz, hogy a
	rendszerindító kód számára a
	rendszerindításhoz használható
	szabványos <code class="literal">"a"</code> partíció
	képzetét keltsük.</p><p>Mindez csak akkor válik
	elérhetõvé, ha az alábbi
	követelményeket teljesíti a
	rendszerindító kötet:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Nem lehet csíkozott vagy RAID-5
	    típusú.</p></li><li class="listitem"><p>Erenként nem tartalmazhat egynél több
	    összefûzött allemezt.</p></li></ul></div><p>Láthatjuk, hogy hasznos és lehetséges
	is több eret használni, melyek mindegyike a
	rendszerindító állományrendszer
	egy-egy másolatát tartalmazza.  Az indulás
	folyamán azonban ezen példányok
	közül csak az egyiken fogja keresni a rendszer a
	rendszertöltõt és a többi
	állományt egészen addig, amíg a
	rendszermag magát az állományrendszert nem
	csatlakoztatja.  A látszat kedvéért az
	ereken belül található allemezek
	mindegyikének lennie kell egy saját
	<code class="literal">"a"</code> partíciójának,
	amivel lényegében alkalmassá válik a
	rendszerindításra.  Ezeknek a hamis
	<code class="literal">"a"</code> partícióknak nem kell
	feltétlenül a többiekkel megegyezõ
	pozíciókon elhelyezkedniük, azonban a
	tévedések elkerülése
	érdekében valószínûleg hasznos
	olyan Vinum-köteteket létrehozni, ahol a
	keletkezõ tükrözött eszközök
	szimmetrikusak.</p><p>A rendszerindító kötet egyes
	eszközökön található
	<code class="literal">"a"</code> partícióit az
	alábbiak segítségével
	állíthatjuk be:</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>A rendszerindító kötet
	    részeként megjelenõ eszközön
	    található allemez helyét (az
	    eszköz elejétõl számított
	    eltolását) és méretét
	    ellenõrizni kell az alábbi parancs
	    segítségével:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>gvinum l -rv root</code></strong></pre><p>Ne felejtsük el, hogy a Vinum az eltolásokat
	    és méreteket byte-okban méri.
	    Ezekbõl tehát úgy nyerünk a
	    <code class="command">bsdlabel</code> használatához
	    szükséges blokkszámokat, ha ezeket
	    elosztjuk 512-vel.</p></li><li class="step"><p>Futassuk le a</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>bsdlabel -e eszköznév</code></strong></pre><p>parancsot minden olyan eszközön, amelyik
	    részt vesz a rendszerindító kötet
	    kialakításában.  Az
	    <em class="replaceable"><code>eszköznév</code></em> legyen a
	    slice (fdisk)-táblát nem tartalmazó
	    lemezek esetén a lemez neve (mint
	    például <code class="filename">da0</code>), vagy
	    ellenkezõ esetben a slice neve (például
	    <code class="filename">ad0s1</code>).</p><p>Ha már lenne egy <code class="literal">"a"</code>
	    partíció az eszközön
	    (valószínûleg egy Vinum elõtti
	    rendszeríndító
	    állományrendszert tartalmaz), nevezzük
	    át valami másra és így
	    továbbra is elérhetõ marad (biztos, ami
	    biztos), viszont többé már nem lesz a
	    rendszer számára alapértelmezett
	    rendszerindító eszköz.  Az aktív
	    partíciók (mint például az
	    éppen csatlakoztatott rendszerindító
	    állományrendszer) nem nevezhetõek
	    át, ezért ezt a lépést csak
	    akkor tudjuk megtenni, ha a rendszerünket egy
	    <span class="quote">"<span class="quote">Fixit</span>"</span> (Helyreállító)
	    eszközrõl indítjuk, vagy egy olyan
	    kétlépéses folyamat során, ahol
	    (tükrözés esetén) a lemezrõl
	    még nem indítottuk el a rendszert.</p><p>Ezt követõen az eszközön
	    található Vinum-partíciót
	    (amennyiben létezik) az eszközön levõ
	    allemez eltolásához kell helyezni.  Ennek
	    eredménye lesz az új <code class="literal">"a"</code>
	    partíció <code class="literal">"offset"</code>
	    értéke.  A partíció
	    <code class="literal">"size"</code> (méret)
	    értéke szó szerint
	    átemelhetõ a fenti
	    számításból.  Az
	    <code class="literal">"fstype"</code> legyen
	    <code class="literal">4.2BSD</code>.  Az <code class="literal">"fsize"</code>,
	    <code class="literal">"bsize"</code> és
	    <code class="literal">"cpg"</code> értékeket a jelenlegi
	    állományrendszerhez mérten
	    ajánlott megválasztani, azonban itt most
	    egyáltalán nem bírnak
	    jelentõséggel.</p><p>Ezzel a módszerrel
	    létesítettünk egy olyan új
	    <code class="literal">"a"</code> partíciót, amely lefedi
	    az eszközön található
	    Vinum-partíciót.  Jegyezzük meg, hogy a
	    <code class="command">bsdlabel</code> kizárolag csak abban az
	    esetben fogja megengedi ezt az átfedést, ha a
	    Vinum-partíciónk <code class="literal">"vinum"</code>
	    típussal van megjelölve.</p></li><li class="step"><p>Készen is vagyunk!  Most már van minden
	    eszközön egy hamisított
	    <code class="literal">"a"</code> partíciónk, amelyeken
	    megtalálható a rendszerindító
	    kötet egy-egy másolata.  Határozottan
	    ajánlott még egyszer ellenõrizni a
	    munkánkat az alábbi parancs
	    kiadásával:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>fsck -n /dev/eszköznéva</code></strong></pre></li></ol></div><p>Figyeljünk arra, hogy az összes
	vezérlési információt
	tartalmazó állománynak a Vinum-köteten
	található rendszerindító
	állományrendszerre kell vonatkoznia, ami viszont
	egy új Vinum rendszerindító kötet
	beállítása után nem
	feltétlenül egyezik meg a jelenlegi aktív
	állományrendszerrel.  Különösen az
	<code class="filename">/etc/fstab</code> és
	<code class="filename">/boot/loader.conf</code>
	állományokat kell ilyen szempontból
	ellenõriznünk.</p><p>A következõ indítás során a
	rendszertöltõ már az új
	Vinum-alapú rendszerindító
	állományrendszerrõl fogja összeszedni a
	mûködéséhez szükséges
	adatokat és ezeknek megfelelõen cselekedni.
	Végül, a rendszermag inicializálója
	után, mikor az összes eszközt felismerte, egy
	ehhez hasonló feltûnõ üzenet fogja jelezni
	a beállítás
	sikerességét:</p><pre class="screen">Mounting root from ufs:/dev/gvinum/root</pre></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp92152656"></a>21.9.3. Egy Vinum-alapú rendszerindító
	állományrendszer példája</h3></div></div></div><p>Miután sikeresen konfiguráltuk a
	rendszerindító Vinum-kötetet, a
	<code class="command">gvinum l -rv root</code> kimenete
	nagyjából így fog kinézni:</p><pre class="screen">
...
Subdisk root.p0.s0:
		Size:        125829120 bytes (120 MB)
		State: up
		Plex root.p0 at offset 0 (0  B)
		Drive disk0 (/dev/da0h) at offset 135680 (132 kB)

Subdisk root.p1.s0:
		Size:        125829120 bytes (120 MB)
		State: up
		Plex root.p1 at offset 0 (0  B)
		Drive disk1 (/dev/da1h) at offset 135680 (132 kB)
	</pre><p>Itt (a <code class="filename">/dev/da0h</code>
	partícióhoz képesti)
	<code class="literal">135680</code>-as eltoltás
	értékekre kell figyelnünk.  Ez
	képzõdik le a <code class="command">bsdlabel</code> fogalmi
	rendszerében aztán 265 darab 512 byte-os
	blokkra a lemezen.  Ehhez hasonlóan a
	rendszerindító kötet mérete
	245 760 darab 512 byte-os blokk lesz.  A
	rendszerindító kötet
	másodpéldányát tartalmazó
	<code class="filename">/dev/da1h</code> ugyanilyen
	beállításokkal rendelkezik.</p><p>Az említett eszközök valahogy így
	jelennek meg a <code class="command">bsdlabel</code> szerint:</p><pre class="screen">
...
8 partitions:
#        size   offset    fstype   [fsize bsize bps/cpg]
  a:   245760      281    4.2BSD     2048 16384     0   # (Cyl.    0*- 15*)
  c: 71771688        0    unused        0     0         # (Cyl.    0 - 4467*)
  h: 71771672       16     vinum                        # (Cyl.    0*- 4467*)
	</pre><p>Megfigyelhetõ, hogy a hamis <code class="literal">"a"</code>
	partíció <code class="literal">"size"</code>
	paraméter értéke megegyezik a fentebb
	becsült értékkel, miközben az
	<code class="literal">"offset"</code> paraméter
	értéke egyenlõ lesz a <code class="literal">"h"</code>
	Vinum-partíción belüli eltolás
	és az eszközön (vagy slice-on) belüli
	eltolás összegével.  Ez jellemzõen egy
	olyan beállítás, amivel
	szükségszerûen el tudjuk kerülni a <a class="xref" href="vinum-root.html#vinum-root-panic" title="21.9.4.3. Semmi sem indul, a rendszertöltõ hibákat ír">21.9.4.3. szakasz - Semmi sem indul, a rendszertöltõ hibákat
	  ír</a>ban leírt
	hibajelenséget.  Látható
	továbbá az is, hogy az egész
	<code class="literal">"a"</code> partíció végig az
	eszköz összes Vinum adatát tartalmazó
	<code class="literal">"h"</code> partíciójában foglal
	helyet.</p><p>A példával kapcsolatban megjegyezzük,
	hogy itt az egész eszközt a Vinum felügyelete
	alá bocsátottuk, tehát nem marad
	hátra semmilyen Vinum elõtt használt
	rendszerindító partíció, hiszen ez
	egy olyan lemez, amelyet eleve egy
	Vinum-konfigurációba szántunk.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp92161360"></a>21.9.4. Hibakeresés</h3></div></div></div><p>Fontos tudunk, hogy probléma esetén hogyan
	tudjuk helyreállítani a rendszerünket.  A
	következõ felsorolásban bemutatunk
	néhány ismert buktatót és a
	megoldásaikat.</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp92162384"></a>21.9.4.1. A rendszertöltõ elindul, de a rendszer viszont
	  már nem</h4></div></div></div><p>Ha valamilyen okból a rendszer nem indulna el, a 10
	  másodpercig tartó
	  visszaszámlálás során a
	  rendszertöltõt még meg tudjuk
	  állítani a <span class="keycap"><strong>szóköz</strong></span>
	  lenyomásával.  Ekkor a betöltõ
	  által használt változók (mint
	  például a <code class="literal">vinum.autostart</code>) a
	  <code class="command">show</code> segítségével
	  megvizsgálhatóak és a
	  <code class="command">set</code> vagy <code class="command">unset</code>
	  parancsokkal módosíthatóak.</p><p>Ha mindössze az volt a probléma, hogy a Vinum
	  modulja nem szerepelt az automatikusan betöltendõ
	  modulok között, a <code class="command">load geom_vinum</code>
	  parancs kiadásával betölthetjük
	  azt.</p><p>Miután végeztünk, a
	  rendszerindítás folyamata a <code class="command">boot
	  -as</code> paranccsal folytatható.  A
	  <code class="option">-as</code> kapcsolók jelzik a rendszermag
	  számára, hogy kérdezzen rá a
	  rendszerindító állományrendszerre
	  a csatlakoztatása elõtt (<code class="option">-a</code>)
	  és csak egyfelhasználós módban
	  indítsa a rendszert (<code class="option">-s</code>), ahol a
	  rendszerindító állományrendszer
	  írásvédett.  Így, ha csak egyetlen
	  eret csatlakoztattunk egy többeres kötetbõl, az
	  erek még véletlenül sem tudnak
	  egymásnak ellentmondó állapotba
	  kerülni.</p><p>Amikor megjelenik a csatlakoztatandó
	  rendszerindító állományrendszert
	  bekérése, bármelyik
	  érvényes rendszerindításra
	  alkalmas állományrendszer megadható.
	  Amennyiben az <code class="filename">/etc/fstab</code>
	  állományt jól beállítottuk,
	  az alapértelmezett érték egy
	  <code class="literal">ufs:/dev/gvinum/root</code> értékhez
	  hasonló alakú lesz.  Itt általában
	  egy <code class="literal">ufs:da0d</code> formátumú
	  értéket láthatunk, amely feltehetõen
	  egy Vinum használata elõtti
	  rendszerindító állományrendszert
	  tartalmazó partíció.  Legyünk
	  óvatosak, ha itt egy olyan <code class="literal">"a"</code>
	  partíciót adunk meg, amely
	  valójában egy rendszerindító
	  Vinum-eszköz allemezeire hivatkozik, mivel egy
	  tükrözött konfiguráció
	  esetén csak az eszköz egyik részét
	  fogjuk csatlakoztatni.  Ha a késõbbiekben ezt az
	  állományrendszert már nem csak
	  írásvédett módban csatlakoztatjuk,
	  mindenképpen el kell távolítanunk a
	  rendszerindító Vinum-kötetbõl a
	  többi eret, mivel máskülönben nagy
	  valószínûséggel eltérõ
	  adatokat fognak tartalmazni.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp92182864"></a>21.9.4.2. Csak az elsõdleges rendszertöltõ indul
	  el</h4></div></div></div><p>Amikor az elsõdleges rendszertöltõ
	  még elindul, viszont a
	  <code class="filename">/boot/loader</code> már nem tud
	  betöltõdni (ezt rendszerindítás
	  megkezdése után bal oldalt rögtön
	  megjelenõ forgó vonalból vehetjük
	  észre), a <span class="keycap"><strong>szóköz</strong></span>
	  lenyomásával itt még tehetünk egy
	  kísérletet a betöltés
	  megszakítására.  Ennek
	  hatására a rendszertöltés
	  megáll a második fázisban, lásd
	  <a class="xref" href="boot-blocks.html#boot-boot1" title="12.3.2. Az elsõ fokozat (/boot/boot1) és a második fokozat (/boot/boot2)">12.3.2. szakasz - Az elsõ fokozat (<code class="filename">/boot/boot1</code>)
	és a második fokozat
	(<code class="filename">/boot/boot2</code>)</a>.  Itt a
	  rendszerindításhoz megpróbálhatunk
	  megadni egy másik partíciót,
	  például egy olyat, amely a korábbi
	  rendszerindító állományrendszert
	  tartalmazza és amelyet az elõbb
	  átneveztünk az
	  <code class="literal">"a"</code>-ról.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="vinum-root-panic"></a>21.9.4.3. Semmi sem indul, a rendszertöltõ hibákat
	  ír</h4></div></div></div><p>Ez a helyzet akkor állhat elõ, ha a Vinum
	  telepítése során tönkretettük
	  volna a rendszertöltõt.  Sajnos a Vinum minden
	  esetben 4 KB helyet hagy szabadon a
	  partíció elején, a saját
	  fejléc információjának
	  rögzítése elõtt.  Az ide
	  kerülõ elsõ és második
	  fázisú rendszertöltõk, illetve a
	  bsdlabel adatai azonban jelenleg 8 KB helyet
	  kívánnak meg.  Így ha a
	  Vinum-partíció egy
	  rendszerindításra szánt slice vagy lemez
	  0.  eltolásánál kezdõdik, a Vinum
	  beállításai felül fogják
	  írni a rendszertöltõt.</p><p>A rendszertöltõ is ugyanígy
	  felülírja a Vinum fejlécét és
	  akkor a Vinum nem találja a lemezeit, ha a fenti
	  problémát orvosolva, például egy
	  <span class="quote">"<span class="quote">Fixit</span>"</span> (Helyreállító) lemez
	  segítségével,
	  újratelepítjük a rendszertöltõt a
	  <a class="xref" href="boot-blocks.html#boot-boot1" title="12.3.2. Az elsõ fokozat (/boot/boot1) és a második fokozat (/boot/boot2)">12.3.2. szakasz - Az elsõ fokozat (<code class="filename">/boot/boot1</code>)
	és a második fokozat
	(<code class="filename">/boot/boot2</code>)</a>ban bemutatott <code class="command">bsdlabel
	  -B</code> parancs segítségével.  Noha
	  a Vinum egyetlen konkrét konfigurációs
	  beállítása vagy a kötetekben
	  tárolt adat sem sérül meg és vissza
	  tudjuk állítani az összes elveszett
	  információt ugyannak a
	  Vinum-konfigurációnak az újbóli
	  megadásával, a helyzetet magát
	  nehéz megoldani.  A Vinum-fejléc és a
	  rendszertöltõ ütközésének
	  megszüntetéséhez ugyanis legalább
	  4 KB-tal arrébb kell mozgatnunk az egész
	  Vinum-partíciót.</p></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="vinum-config.html">Vissza</a> </td><td width="20%" align="center"><a accesskey="u" href="vinum-vinum.html">Fel</a></td><td width="40%" align="right"> <a accesskey="n" href="virtualization.html">Elõre</a></td></tr><tr><td width="40%" align="left" valign="top">21.8. A Vinum beállítása </td><td width="20%" align="center"><a accesskey="h" href="index.html">Fõoldal</a></td><td width="40%" align="right" valign="top"> 22. fejezet - Virtualizáció</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Ha kérdése van a FreeBSD-vel kapcsolatban, a
    következõ címre írhat (angolul):
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Ha ezzel a dokumentummal kapcsolatban van kérdése, kérjük erre a címre írjon:
    &lt;<a href="mailto:gabor@FreeBSD.org">gabor@FreeBSD.org</a>&gt;.</small></p></body></html>