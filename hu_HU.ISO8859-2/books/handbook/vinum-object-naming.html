<?xml version="1.0" encoding="iso-8859-2" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-2" /><title>21.7. Az objektumok elnevezése</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD kézikönyv" /><link rel="up" href="vinum-vinum.html" title="21. fejezet - A Vinum kötetkezelõ" /><link rel="prev" href="vinum-examples.html" title="21.6. Példák" /><link rel="next" href="vinum-config.html" title="21.8. A Vinum beállítása" /><link rel="copyright" href="legalnotice.html" title="Jogi közlemény" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">21.7. Az objektumok elnevezése</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="vinum-examples.html">Vissza</a> </td><th width="60%" align="center">21. fejezet - A Vinum kötetkezelõ</th><td width="20%" align="right"> <a accesskey="n" href="vinum-config.html">Elõre</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="vinum-object-naming"></a>21.7. Az objektumok elnevezése</h2></div></div></div><p>Korábban már megismerhettük, hogy a Vinum
      alapértelmezett neveket társít az erekhez
      és az allemezekhez, habár ezek a nevek
      felülbírálhatóak.  Ez viszont
      egyáltalán nem ajánlott, mivel már a
      VERITAS kötetkezelõ, ahol tetszõleges neveket
      rendelhetünk az objektumokhoz, használata során
      kiderült, hogy akkora mértékû
      rugalmasságot nem kínál fel, mint amennyi
      zavart képes okozni.</p><p>A nevek tartalmazhatnak bármilyen nem üres
      karaktert, azonban érdemes inkább csak betûket,
      számjegyeket és az aláhúzást
      használni.  A kötetek, erek és allemezek nevei
      akár 64 karakteresek is lehetnek, a meghajtók nevei
      pedig 32 karakteresek.</p><p>A Vinum objektumai a <code class="filename">/dev/gvinum</code> könyvtáron
      belüli hierarchiában helyezkednek el
      eszközleírókként.  Az imént
      említett példakonfiguráció
      hatására a következõ
      eszközleírók jönnek létre:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><div xmlns="" class="note"><h3 class="admontitle">Megjegyzés: </h3><p xmlns="http://www.w3.org/1999/xhtml">Ez a rész csak a Vinum korábbi, elavult
	    implementációjára vonatkozik.</p></div><p>A <code class="filename">/dev/vinum/control</code> és
	  <code class="filename">/dev/vinum/controld</code>
	  nevû vezérlõeszközök, melyeket a
	  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=gvinum&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">gvinum</span>(8)</span></a> és a Vinum démon
	  használ.</p></li><li class="listitem"><p>Mindegyik kötethez egy eszközleíró
	  tartozik.  Ezek a Vinum számára a központi
	  eszközök, ezért az elõbbi
	  konfiguráció révén megjelennek a
	  <code class="filename">/dev/gvinum/myvol</code>,
	  <code class="filename">/dev/gvinum/mirror</code>,
	  <code class="filename">/dev/gvinum/striped</code>,
	  <code class="filename">/dev/gvinum/raid5</code>
	  és <code class="filename">/dev/gvinum/raid10</code>
	  eszközök.</p></li><li class="listitem"><div xmlns="" class="note"><h3 class="admontitle">Megjegyzés: </h3><p xmlns="http://www.w3.org/1999/xhtml">Ez a rész csak a Vinum korábbi, elavult
	    implementációjára vonatkozik.</p></div><p>Az egyes meghajtókhoz tartozó
	  leírók a <code class="filename">/dev/vinum/drive</code>
	  könyvtárban találhatóak.  Ezek
	  valójában szimbolikus linkek a megfelelõ
	  lemezes eszközökre.</p></li><li class="listitem"><p>Minden kötethez közvetlen leírók
	  tartoznak <code class="filename">/dev/gvinum</code>
	  könyvtárban.</p></li><li class="listitem"><p>Az egyes erek és allemezek
	  eszközleírói a
	  <code class="filename">/dev/gvinum/plex</code>
	  és <code class="filename">/dev/gvinum/sd</code>
	  könyvtárakban jelennek meg.</p></li></ul></div><p>Például tekintsük most az alábbi
      konfigurációs állományt:</p><pre class="programlisting">
	drive drive1 device /dev/sd1h
	drive drive2 device /dev/sd2h
	drive drive3 device /dev/sd3h
	drive drive4 device /dev/sd4h
    volume s64 setupstate
      plex org striped 64k
        sd length 100m drive drive1
        sd length 100m drive drive2
        sd length 100m drive drive3
        sd length 100m drive drive4</pre><p>Az állomány feldolgozása után az
      eszközleírókat a <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=gvinum&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">gvinum</span>(8)</span></a> az
      alábbi módon szervezi a
      <code class="filename">/dev/gvinum</code>
      könyvtárban:</p><pre class="programlisting">
	drwxr-xr-x  2 root  wheel       512 Apr 13 16:46 plex
	crwxr-xr--  1 root  wheel   91,   2 Apr 13 16:46 s64
	drwxr-xr-x  2 root  wheel       512 Apr 13 16:46 sd

    /dev/vinum/plex:
    total 0
    crwxr-xr--  1 root  wheel   25, 0x10000002 Apr 13 16:46 s64.p0

    /dev/vinum/sd:
    total 0
    crwxr-xr--  1 root  wheel   91, 0x20000002 Apr 13 16:46 s64.p0.s0
    crwxr-xr--  1 root  wheel   91, 0x20100002 Apr 13 16:46 s64.p0.s1
    crwxr-xr--  1 root  wheel   91, 0x20200002 Apr 13 16:46 s64.p0.s2
    crwxr-xr--  1 root  wheel   91, 0x20300002 Apr 13 16:46 s64.p0.s3</pre><p>Jóllehet, az ereket és allemezeket nem
      ajánlott külön-külön elnevezni, a Vinum
      meghajtóknak nevet kell adni.  Ezzel
      megoldhatóvá válik, hogy az egyes
      meghajtók automatikusan felismerhetõek legyenek abban
      az esetben is, amikor fizikailag áthelyezzük ezeket.
      A meghajtók nevei legfeljebb 32 karakteresek
      lehetnek.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp91924944"></a>21.7.1. Állományrendszerek
	létrehozása</h3></div></div></div><p>A kötetek egyetlen kivétellel teljesen azonosak
	a lemezekkel a rendszer számára.  Ugyanis a
	<span class="trademark">UNIX</span>(R)-os meghajtóktól eltérõen a
	Vinum nem particionálja a köteteket, és
	ezért nem is tárolnak partíciós
	táblát.  Ez megkövetelte néhány
	lemezkezelõ segédprogram, leginkább a
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=newfs&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">newfs</span>(8)</span></a> módosítását, mivel
	azok korábban megpróbálták a
	Vinum-kötetek nevének utolsó betûit egy
	partíció azonosítójaként
	értelmezni.  Például egy lemezes
	meghajtó neve <code class="filename">/dev/ad0a</code> vagy <code class="filename">/dev/da2h</code> alakú.  Az
	elõbbi az elsõ (0) IDE lemez elsõ
	(<code class="filename">a</code>) partícióját,
	míg az utóbbi a harmadik (2) SCSI lemez nyolcadik
	(<code class="filename">h</code>) partícióját
	jelöli.  Ezzel szemben azonban a Vinum-kötetek neve
	<code class="filename">/dev/gvinum/concat</code>
	alakú lesz, ahol a név semmilyen kapcsolatban nem
	áll a partíció nevével.</p><p>Hétköznapi esetben a <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=newfs&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">newfs</span>(8)</span></a>
	megpróbálja a lemez nevét
	értelmezni, és panaszkodik, ha nem sikerül.
	Például:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>newfs /dev/gvinum/concat</code></strong>
newfs: /dev/gvinum/concat: can't figure out file system partition</pre><p>A köteten a <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=newfs&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">newfs</span>(8)</span></a> parancs
	kiadásával tudunk állományrendszert
	létrehozni:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>newfs /dev/gvinum/concat</code></strong></pre><div xmlns="" class="note"><h3 class="admontitle">Megjegyzés: </h3><p xmlns="http://www.w3.org/1999/xhtml">A FreeBSD 5.0 elõtt verzióiban a <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=newfs&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">newfs</span>(8)</span></a>
	  parancsnak a régi elnevezési séma
	  használata mellett még át kell adni egy
	  -v kapcsolót is:</p><pre xmlns="http://www.w3.org/1999/xhtml" class="screen"><code class="prompt">#</code> <strong class="userinput"><code>newfs -v /dev/vinum/concat</code></strong></pre></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="vinum-examples.html">Vissza</a> </td><td width="20%" align="center"><a accesskey="u" href="vinum-vinum.html">Fel</a></td><td width="40%" align="right"> <a accesskey="n" href="vinum-config.html">Elõre</a></td></tr><tr><td width="40%" align="left" valign="top">21.6. Példák </td><td width="20%" align="center"><a accesskey="h" href="index.html">Fõoldal</a></td><td width="40%" align="right" valign="top"> 21.8. A Vinum beállítása</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Ha kérdése van a FreeBSD-vel kapcsolatban, a
    következõ címre írhat (angolul):
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Ha ezzel a dokumentummal kapcsolatban van kérdése, kérjük erre a címre írjon:
    &lt;<a href="mailto:gabor@FreeBSD.org">gabor@FreeBSD.org</a>&gt;.</small></p></body></html>