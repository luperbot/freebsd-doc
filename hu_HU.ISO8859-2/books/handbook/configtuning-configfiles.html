<?xml version="1.0" encoding="iso-8859-2" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-2" /><title>11.10. Konfigurációs állományok</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD kézikönyv" /><link rel="up" href="config-tuning.html" title="11. fejezet - Beállítás és finomhangolás" /><link rel="prev" href="configtuning-virtual-hosts.html" title="11.9. Virtuális címek" /><link rel="next" href="configtuning-sysctl.html" title="11.11. Finomhangolás a sysctl használatával" /><link rel="copyright" href="legalnotice.html" title="Jogi közlemény" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">11.10. Konfigurációs állományok</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="configtuning-virtual-hosts.html">Vissza</a> </td><th width="60%" align="center">11. fejezet - Beállítás és
    finomhangolás</th><td width="20%" align="right"> <a accesskey="n" href="configtuning-sysctl.html">Elõre</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="configtuning-configfiles"></a>11.10. Konfigurációs állományok</h2></div></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp85113808"></a>11.10.1. Az <code class="filename">/etc</code>
	felépítése</h3></div></div></div><p>A beállításokkal kapcsolatos
	információk számos könyvtárban
	tárolódnak.  Többek közt:</p><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /></colgroup><tbody><tr><td><code class="filename">/etc</code></td><td>Általános rendszerszintû
		beállítások.  Az itt levõ
		adatok a rendszer egészére
		vonatkoznak.</td></tr><tr><td><code class="filename">/etc/defaults</code></td><td>A rendszer konfigurációs
		állományainak alapértelmezett
		változatai.</td></tr><tr><td><code class="filename">/etc/mail</code></td><td>A <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sendmail&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sendmail</span>(8)</span></a>
		beállításához tartozó
		további állományok, egyéb
		levélküldéshez használt
		adatok.</td></tr><tr><td><code class="filename">/etc/ppp</code></td><td>A felhasználói és rendszermag
		szintû ppp programok
		beállításai.</td></tr><tr><td><code class="filename">/etc/namedb</code></td><td>A <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=named&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">named</span>(8)</span></a> mûködéséhez
		szükséges adatok alapértelmezett
		helye.  Általában a
		<code class="filename">named.conf</code> és a
		zónák leírását
		tároló állományok
		kerülnek ide.</td></tr><tr><td><code class="filename">/usr/local/etc</code></td><td>A telepített alkalmazások
		konfigurációs állományai.
		Néha alkalmazásonként
		külön könyvtárakba kerülnek a
		benne található
		állományok.</td></tr><tr><td><code class="filename">/usr/local/etc/rc.d</code></td><td>A telepített alkalmazások
		indításával és
		leállításával kapcsolatos
		szkriptek.</td></tr><tr><td><code class="filename">/var/db</code></td><td>Automatikusan generált rendszerszintû
		adatbázisok a csomagokkal, a programok
		helyével stb.  kapcsolatosan.</td></tr></tbody></table></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp85130064"></a>11.10.2. Hálózati nevek</h3></div></div></div><a id="idp85130704" class="indexterm"></a><a id="idp85131216" class="indexterm"></a><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp85135952"></a>11.10.2.1. <code class="filename">/etc/resolv.conf</code></h4></div></div></div><a id="idp85136720" class="indexterm"></a><p>Az <code class="filename">/etc/resolv.conf</code> határozza
	  meg, hogy a FreeBSD névfeloldója miként
	  fér hozzá az internet tartománynév
	  rendszeréhez (a DNS-hez).</p><p>Az <code class="filename">resolv.conf</code>
	  állományban leggyakrabban a következõ
	  bejegyzések fordulnak elõ:</p><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /></colgroup><tbody><tr><td><code class="literal">nameserver</code></td><td>Annak a névszernek az IP-címe,
		  ahova a névfeloldó küldi a
		  kéréseit.  A névszervereket a
		  felírás sorrendjében
		  kérdezi meg, maximum hármat.</td></tr><tr><td><code class="literal">search</code></td><td>A hálózati nevek
		  keresõlistája.  Ezt
		  általában a helyi hálózati
		  nevek tartománya határozza meg.</td></tr><tr><td><code class="literal">domain</code></td><td>A helyi tartomány neve.</td></tr></tbody></table></div><p>Egy átlagos <code class="filename">resolv.conf</code>
	  tartalma:</p><pre class="programlisting">search example.com
nameserver 147.11.1.11
nameserver 147.11.100.30</pre><div xmlns="" class="note"><h3 class="admontitle">Megjegyzés: </h3><p xmlns="http://www.w3.org/1999/xhtml">Csak egy <code class="literal">search</code> és
	    <code class="literal">domain</code> opciót szabad
	    megadni.</p></div><p>A DHCP használatakor a <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dhclient&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">dhclient</span>(8)</span></a> felül
	  szokta írni a <code class="filename">resolv.conf</code>
	  tartalmát a DHCP szervertõl kapott
	  információkkal.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp85161936"></a>11.10.2.2. <code class="filename">/etc/hosts</code></h4></div></div></div><a id="idp85162704" class="indexterm"></a><p>Az <code class="filename">/etc/hosts</code> az internet kezdeti
	  napjaira emlékeztetõ egyszerû szöveges
	  adatbázis.  A nevek és IP-címek
	  közti leképzéseket a DNS és NIS
	  rendszerekkel karöltve oldja fel.  Ide a helyi
	  hálózaton csatlakozó
	  számítógépek neveit lehet
	  beírni ahelyett, hogy erre a célra
	  beállítanánk egy külön
	  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=named&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">named</span>(8)</span></a> szervert.  Ezenkívül még az
	  <code class="filename">/etc/hosts</code> állományba
	  internetes nevek rekordját is felvehetjük, amivel
	  így csökkenthetjük a gyakran használt
	  nevek feloldására irányuló
	  külsõ kéréseket.</p><pre class="programlisting"># $FreeBSD$
#
#
# A hálózati nevek adatbázisa
#
# Ebbe az állományba rakjuk a helyi hálózaton található címeket és
# a hozzájuk tartozó hálózati neveket, ahol szinte ugyanez az
# adatbázis megtalálható.  A 'my.domain' helyére a saját gépünk
# nevét írjuk be.
#
# A DNS vagy NIS alkalmazása esetén ez az állomány nem feltétlenül kerül
# felhasználásra. A névfeloldás sorrendjét az /etc/nsswitch.conf
# állományban adhatjuk meg.
#
::1                     localhost localhost.my.domain
127.0.0.1               localhost localhost.my.domain

#
# Egy képzeletbeli hálózat.
#10.0.0.2               myname.my.domain myname
#10.0.0.3               myfriend.my.domain myfriend
#
# Az RFC 1918-nak megfelelõen a következõ IP-címekkel rendelkezõ
# alhálózatok sosem csatlakozhatnak közvetlenül az internetre:
#
#       10.0.0.0        -   10.255.255.255
#       172.16.0.0      -   172.31.255.255
#       192.168.0.0     -   192.168.255.255
#
# Amikor csatlakozunk az internethez, egy valódi, hivatalosan
# kiosztott számra lesz szükségünk.  Ne találjunk ki magunknak
# hálózati címeket, hanem használjuk az internetszolgáltatótól
# kapott címet (amennyiben rendelkezünk # ilyennel) vagy az
# regionális internetes nyilvántartásban szereplõ címek közül
# valamelyiket (ARIN, APNIC, LACNIC, RIPE NCC vagy AfriNIC).
</pre><p>Az <code class="filename">/etc/hosts</code> formai
	  felépítése igen egyszerû:</p><pre class="programlisting">[internetes cím] [hivatalos hálózati név] [álnév1] [álnév2] ...</pre><p>Tehát például:</p><pre class="programlisting">10.0.0.1 azEnValodiNevem.aHalozaton.hu azEnValodiNevem izemize1 izemize2</pre><p>A részletekért keressük fel a
	  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=hosts&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">hosts</span>(5)</span></a> man oldalt.</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp85168976"></a>11.10.3. A naplóállományok
	beállítása</h3></div></div></div><a id="idp85169616" class="indexterm"></a><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp85170128"></a>11.10.3.1. <code class="filename">syslog.conf</code></h4></div></div></div><a id="idp85170896" class="indexterm"></a><p>A <code class="filename">syslog.conf</code> állomány
	  a <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=syslogd&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">syslogd</span>(8)</span></a> program beállításait
	  tartalmazza.  Segítségével megadhatjuk,
	  hogy a <code class="command">syslog</code> által generált
	  üzenetek egyes típusait milyen
	  naplóállományokba mentsük.</p><pre class="programlisting"># $FreeBSD$
#
# Ebben az állományban HASZNÁLHATÓAK szóközök a mezõk elválasztására,
# habár a többi *nix-típusú rendszer inkább tabulátorokat használ
# erre a célra. Ha több rendszeren is használni akarjuk ezt az
# állományt, akkor ne használjunk szóközöket.
#
# A többit lásd a syslog.conf(5) man oldalon.
#
.err;kern.debug;auth.notice;mail.crit           /dev/console
*.notice;kern.debug;lpr.info;mail.crit;news.err /var/log/messages
security.*                                      /var/log/security
mail.info                                       /var/log/maillog
lpr.info                                        /var/log/lpd-errs
cron.*                                          /var/log/cron
*.err                                           root
*.notice;news.err                               root
*.alert                                         root
*.emerg                                         *
# Tegyük vissza ezt a sort, ha a /dev/console eszközre kiírt
# üzeneteket át akarjuk irányítani az /var/log/console.log állományba.
#console.info                                   /var/log/console.log
# Ha az összes üzenetet a /var/log/all.log állományba akarjuk menteni,
# akkor tegyük vissza ezt a sort.
#*.*                                            /var/log/all.log
# Ha egy "loghost" nevû gépre szeretnénk naplózni, akkor tegyük vissza
# ezt a sort.
#*.*                                            @loghost
# Az inn használatakor tegyük vissza ezeket a sorokat.
# news.crit                                     /var/log/news/news.crit
# news.err                                      /var/log/news/news.err
# news.notice                                   /var/log/news/news.notice
!startslip
*.*                                             /var/log/slip.log
!ppp
*.*                                             /var/log/ppp.log</pre><p>A <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=syslog.conf&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">syslog.conf</span>(5)</span></a> man oldalának
	  elolvasásával tudhatunk meg többet
	  ezekrõl.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp85179216"></a>11.10.3.2. <code class="filename">newsyslog.conf</code></h4></div></div></div><a id="idp85179984" class="indexterm"></a><p>A <code class="filename">newsyslog.conf</code> a <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=newsyslog&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">newsyslog</span>(8)</span></a>
	  beállításait tároló
	  állomány.  Ez egy olyan program, amelyet
	  általában a <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=cron&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">cron</span>(8)</span></a> futtat le.  A
	  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=newsyslog&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">newsyslog</span>(8)</span></a> dönti el, hogy mikor van
	  szükség a naplók
	  archiválására és
	  átrendezésére.  Ennek során a
	  <code class="filename">logfile</code> állományból
	  <code class="filename">logfile.0</code> lesz, a
	  <code class="filename">logfile.0</code>
	  állományból pedig
	  <code class="filename">logfile.1</code> és így
	  tovább.  Beállíthatjuk úgy is,
	  hogy a naplóállományokat
	  archiválja <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=gzip&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">gzip</span>(1)</span></a> formátumban, aminek
	  megfelelõen ezek <code class="filename">logfile.0.gz</code>,
	  <code class="filename">logfile.1.gz</code> és ehhez
	  hasonló névvel jönnek létre.</p><p>A <code class="filename">newsyslog.conf</code> megadja, hogy melyik
	  naplóállományokat kell felügyelni,
	  mennyi példányt tartsunk meg belõlük
	  és mikor kell velük foglalkozni.  A
	  naplóállományok
	  átrendezhetõek és/vagy
	  archiválhatóak egy adott méret
	  elérésekor vagy egy adott idõ eltelte
	  után.</p><pre class="programlisting"># A newsyslog konfigurációs állománya
# $FreeBSD$
#
# állománynév     [tulajdonos:csoport]  mód  darab méret mikor [ZB] [/pid_állomány] [jelzés]
/var/log/cron                           600  3     100  *     Z
/var/log/amd.log                        644  7     100  *     Z
/var/log/kerberos.log                   644  7     100  *     Z
/var/log/lpd-errs                       644  7     100  *     Z
/var/log/maillog                        644  7     *    @T00  Z
/var/log/sendmail.st                    644  10    *    168   B
/var/log/messages                       644  5     100  *     Z
/var/log/all.log                        600  7     *    @T00  Z
/var/log/slip.log                       600  3     100  *     Z
/var/log/ppp.log                        600  3     100  *     Z
/var/log/security                       600  10    100  *     Z
/var/log/wtmp                           644  3     *    @01T05 B
/var/log/daily.log                      640  7     *    @T00  Z
/var/log/weekly.log                     640  5     1    $W6D0 Z
/var/log/monthly.log                    640  12    *    $M1D0 Z
/var/log/console.log                    640  5     100  *     Z</pre><p>További információkat a
	  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=newsyslog&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">newsyslog</span>(8)</span></a> man oldaláról
	  nyerhetünk.</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="configtuning-sysctlconf"></a>11.10.4. <code class="filename">sysctl.conf</code></h3></div></div></div><a id="idp75494992" class="indexterm"></a><a id="idp75495504" class="indexterm"></a><p>A <code class="filename">sysctl.conf</code> állomány
	leginkább az <code class="filename">rc.conf</code>
	állományhoz hasonlít, benne az
	értékeket
	<code class="literal">változó=érték</code>
	párokban adhatjuk meg.  Az itt definiált
	értékek akkor kerülnek ténylegesen
	beállításra, amikor a rendszer
	többfelhasználós módba vált.
	Ezen a módon nem mindegyik változó
	értékét tudjuk
	átállítani.</p><p>A <code class="filename">sysctl.conf</code> állományban
	az alábbi érték
	beállításával tudjuk
	beállítani, hogy a rendszer ne naplózza,
	amikor a programok végzetes jelzéssel
	fejezõdnek be, valamint azt, hogy a
	felhasználók láthassák egymás
	futó programjait:</p><pre class="programlisting"># Ne naplózzuk a végzetes jelzésekhez (például sig 11) tartozó kilépéseket.
kern.logsigexit=0

# Ne engedjük a felhasználóknak, hogy lássák egy másik felhasználó
# azonosítójával futó programokat.
security.bsd.see_other_uids=0</pre></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="configtuning-virtual-hosts.html">Vissza</a> </td><td width="20%" align="center"><a accesskey="u" href="config-tuning.html">Fel</a></td><td width="40%" align="right"> <a accesskey="n" href="configtuning-sysctl.html">Elõre</a></td></tr><tr><td width="40%" align="left" valign="top">11.9. Virtuális címek </td><td width="20%" align="center"><a accesskey="h" href="index.html">Fõoldal</a></td><td width="40%" align="right" valign="top"> 11.11. Finomhangolás a sysctl
      használatával</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Ha kérdése van a FreeBSD-vel kapcsolatban, a
    következõ címre írhat (angolul):
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Ha ezzel a dokumentummal kapcsolatban van kérdése, kérjük erre a címre írjon:
    &lt;<a href="mailto:gabor@FreeBSD.org">gabor@FreeBSD.org</a>&gt;.</small></p></body></html>