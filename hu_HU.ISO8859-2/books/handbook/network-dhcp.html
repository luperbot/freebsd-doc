<?xml version="1.0" encoding="iso-8859-2" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-2" /><title>29.5. A hálózat automatikus beállítása (DHCP)</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD kézikönyv" /><link rel="up" href="network-servers.html" title="29. fejezet - Hálózati szerverek" /><link rel="prev" href="network-nis.html" title="29.4. Hálózati információs rendszer (NIS/YP)" /><link rel="next" href="network-dns.html" title="29.6. Névfeloldás (DNS)" /><link rel="copyright" href="legalnotice.html" title="Jogi közlemény" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">29.5. A hálózat automatikus
      beállítása (DHCP)</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="network-nis.html">Vissza</a> </td><th width="60%" align="center">29. fejezet - Hálózati szerverek</th><td width="20%" align="right"> <a accesskey="n" href="network-dns.html">Elõre</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="network-dhcp"></a>29.5. A hálózat automatikus
      beállítása (DHCP)</h2></div><div><span class="authorgroup">Írta: <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="surname">Sutter</span>, <span class="firstname">Greg</span></span>. </span></div></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp97670352"></a>29.5.1. Mi az a DHCP?</h3></div></div></div><a id="idp97670992" class="indexterm"></a><a id="idp97672144" class="indexterm"></a><p>A Dinamikus állomáskonfigurációs
	protokoll, avagy Dynamic Host Configuration Protocol (DHCP)
	annak eszközeit írja le, hogy egy rendszer
	miként tud csatlakozni egy hálózathoz
	és miként tudja azon belül megszerezni a
	kommunikációhoz szükséges
	információkat.  A FreeBSD 6.0 elõtti
	változatai az ISC (Internet Systems Consortium, vagyis
	az internetes rendszerkonzorcium) által kidolgozott DHCP
	kliens (<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dhclient&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">dhclient</span>(8)</span></a>) implementációját
	tartalmazzák.  A késõbbi verziókban
	pedig az OpenBSD 3.7 verziójából
	átvett <code class="command">dhclient</code> paranccsal
	dolgozhatunk.  Ebben a szakaszban a <code class="command">dhclient</code>
	parancsra vonatkozó összes információ
	egyaránt érvényes az ISC és az
	OpenBSD által fejlesztett DHCP kliensekre.  A DHCP
	szerver az ISC-tõl származik.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp97674704"></a>29.5.2. Mivel foglalkozik ez a szakasz</h3></div></div></div><p>Ebben a szakaszban az ISC és az OpenBSD DHCP
	klienseinek kliens- és szerver oldali komponsenseit
	mutatjuk be.  A kliens oldali program neve a
	<code class="command">dhclient</code>, amely a FreeBSD
	részeként érkezik, és a szerver
	oldali elem pedig a <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/net/isc-dhcp31-server/pkg-descr">net/isc-dhcp31-server</a> porton
	keresztül érhetõ el.  A lentebb említett
	hivatkozások mellett a témában még a
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dhclient&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">dhclient</span>(8)</span></a>, <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dhcp-options&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">dhcp-options</span>(5)</span></a> és a
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dhclient.conf&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">dhclient.conf</span>(5)</span></a> man adhatnak bõvebb
	felvilágosítást a
	témában.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp97683152"></a>29.5.3. Ahogyan mûködik</h3></div></div></div><a id="idp97683792" class="indexterm"></a><p>Amikor a <code class="command">dhclient</code>, vagyis a DHCP kliens
	elindul egy kliensgépen, akkor a hálózaton
	üzenetszórással próbálja meg
	elkérni a konfigurációjához
	szükséges adatokat.  Alapértelmezés
	szerint ezek a kérések a 68-as UDP porton
	keresztül mennek.  A szerver ezekre a 67-es UDP porton
	válaszol, ahol visszaad a kliensnek egy IP-címet
	és a hálózat használatához
	szükséges további
	információkat, mint például a
	hálózati maszkot, az alapértelmezett
	átjáró és a
	névfeloldásért felelõs szerverek
	címét.  Az összes ilyen jellegû adat egy
	DHCP <span class="quote">"<span class="quote">bérlet</span>"</span> (lease)
	formájában érkezik meg, amely csak egy
	adott ideig érvényes (ezt a DHCP szerver
	karbantartója állítja be).  Így a
	hálózaton a kliens nélküli
	IP-címeket egy idõ után automatikusan
	visszanyerjük.</p><p>A DHCP kliensek rengeteg információt
	képes elkérni a szervertõl.  Ezek teljes
	listáját a <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dhcp-options&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">dhcp-options</span>(5)</span></a> man oldalán
	olvashatjuk el.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp97686736"></a>29.5.4. Használat a FreeBSD-n belül</h3></div></div></div><p>A FreeBSD teljes egészében tartalmazza az ISC
	vagy az OpenBSD DHCP kliensét, a
	<code class="command">dhclient</code> programot (attól
	függõen, hogy a FreeBSD melyik változatát
	használjuk).  A DHCP kliensek támogatása a
	telepítõben és az alaprendszerben is
	megtalálható, és ezzel
	mentesülünk minden konkrét
	hálózati beállítás
	alól a DHCP szervereket alkalmazó
	hálózatokon.  A <code class="command">dhclient</code> a
	FreeBSD 3.2 változata óta
	megtalálható a rendszerben.</p><a id="idp97688656" class="indexterm"></a><p>DHCP használatát a
	<span class="application">sysinstall</span> is lehetõvé
	teszi.  Amikor egy hálózati felületet a
	<span class="application">sysinstall</span> programon belül
	állítunk be, akkor a második
	kérdés mindig ez szokott lenni: <span class="quote">"<span class="quote">Do you want
	to try DHCP configuration of the interface?</span>"</span>
	(<span class="quote">"<span class="quote">Megpróbáljuk DHCP
	használatával beállítani a
	felületet?</span>"</span>) Ha erre igennel válaszolunk,
	akkor azzal lényegében a
	<code class="command">dhclient</code> parancsot indítjuk el,
	és ha mindez sikerrel zárul, akkor szinte
	magától kitöltõdik az összes
	hálózati beállításunk.</p><p>A DHCP használatához két dolgot kell
	beállítanunk a rendszerünkön:</p><a id="idp97696464" class="indexterm"></a><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Gondoskodjunk róla, hogy a
	      <code class="filename">bpf</code> eszköz része a
	      rendszermagunknak.  Ha még nem lenne benne, akkor a
	      rendszermag beállításait
	      tartalmazó állományba vegyük fel
	      a <code class="literal">device bpf</code> sort és
	      fordítsuk újra a rendszermagot.  A
	      rendszermagok fordításáról a
	      <a class="xref" href="kernelconfig.html" title="8. fejezet - A FreeBSD rendszermag testreszabása">8. fejezet - <em>A FreeBSD rendszermag testreszabása</em></a>ben tudhatunk meg
	      többet.</p><p>A <code class="filename">bpf</code> eszköz
	      alapból megtalálható a
	      <code class="filename">GENERIC</code> rendszermagokban, így
	      ha ezt használjuk, akkor nem kell saját
	      verziót készítenünk a DHCP
	      használatához.</p><div xmlns="" class="note"><h3 class="admontitle">Megjegyzés: </h3><p xmlns="http://www.w3.org/1999/xhtml">Azok számára viszont, akik
		biztonsági szempontból aggódnak a
		rendszerük miatt, meg kell említenünk,
		hogy a <code class="filename">bpf</code> egyben az az
		eszköz, amely a csomagok
		lehallgatását is lehetõvé
		teszi (habár az ilyeneket
		<code class="systemitem">root</code>
		felhasználóként lehet csak
		elindítani).  A <code class="filename">bpf</code>
		<span class="emphasis"><em>kell</em></span> a DHCP
		használatához, azonban ha nagyon fontos
		nekünk a rendszerünk biztonsága, akkor
		a <code class="filename">bpf</code> eszközt
		érdemes kivennünk a rendszermagból,
		ha még pillanatnyilag nem használunk
		ilyet.</p></div></li><li class="listitem"><p>Az <code class="filename">/etc/rc.conf</code>
	      állományunkat az alábbiak szerint
	      kell módosítani:</p><pre class="programlisting">ifconfig_fxp0="DHCP"</pre><div xmlns="" class="note"><h3 class="admontitle">Megjegyzés: </h3><p xmlns="http://www.w3.org/1999/xhtml">Az <code class="literal">fxp0</code> eszközt ne
		felejtsük el kicserélni arra a
		felületre, amelyet automatikusan akarunk
		beállítani.  Ennek mikéntje a <a class="xref" href="config-network-setup.html" title="11.8. A hálózati kártyák beállítása">11.8. szakasz - A hálózati kártyák
      beállítása</a>ban
		olvasható.</p></div><p>Ha a <code class="command">dhclient</code> a rendszerünkben
	      máshol található, vagy
	      egyszerûen csak további
	      beállításokat akarunk átadni a
	      <code class="command">dhclient</code> parancsnak, akkor adjuk meg a
	      következõt is (változtassuk meg
	      igényeink szerint):</p><pre class="programlisting">dhclient_program="/sbin/dhclient"
dhclient_flags=""</pre></li></ul></div><a id="idp97708624" class="indexterm"></a><p>A DHCP szerver, a <span class="application">dhcpd</span> a
	      <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/net/isc-dhcp31-server/pkg-descr">net/isc-dhcp31-server</a>
	      port részeként érhetõ el.  Az a
	      port tartalmazza az ISC DHCP szerverét és a
	      hozzá tartozó
	      dokumentációt.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp97715280"></a>29.5.5. Állományok</h3></div></div></div><a id="idp97715920" class="indexterm"></a><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="filename">/etc/dhclient.conf</code></p><p>A <code class="command">dhclient</code>
	    mûködéséhez szükség lesz
	    egy konfigurációs állományra,
	    aminek a neve <code class="filename">/etc/dhclient.conf</code>.  Ez
	    az állomány általában csak
	    megjegyzéseket tartalmaz, mivel az
	    alapértelmezett értékek többnyire
	    megfelelõek.  Ezt a konfigurációs
	    állományt a <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dhclient.conf&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">dhclient.conf</span>(5)</span></a> man oldal
	    írja le.</p></li><li class="listitem"><p><code class="filename">/sbin/dhclient</code></p><p>A <code class="command">dhclient</code> statikusan linkelt
	    és az <code class="filename">/sbin</code>
	    könyvtárban található.  A
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dhclient&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">dhclient</span>(8)</span></a> man oldal tud róla
	    részletesebb felvilágosítást
	    adni.</p></li><li class="listitem"><p><code class="filename">/sbin/dhclient-script</code></p><p>A <code class="command">dhclient-script</code> a FreeBSD-ben
	    levõ DHCP kliens konfigurációs szkriptje.
	    Mûködését a <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dhclient-script&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">dhclient-script</span>(8)</span></a>
	    man oldal írja le, de a felhasználók
	    részérõl semmilyen
	    módosítást nem igényel.</p></li><li class="listitem"><p><code class="filename">/var/db/dhclient.leases</code></p><p>A DHCP kliens az érvényes
	    bérleteket tartja nyilván ezekben az
	    állományban és naplóként
	    használja.  A <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dhclient.leases&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">dhclient.leases</span>(5)</span></a> man oldal ezt
	    valamivel bõvebben kifejti.</p></li></ul></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp97731920"></a>29.5.6. További olvasnivalók</h3></div></div></div><p>A DHCP protokoll mûködését az <a class="link" href="http://www.freesoft.org/CIE/RFC/2131/" target="_top">RFC 2131</a>
	mutatja be.  A témához kapcsolódóan
	<a class="link" href="http://www.dhcp.org/" target="_top"> itt</a> tudunk még
	leírásokat találni.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="network-dhcp-server"></a>29.5.7. A DHCP szerverek telepítése és
	  beállítása</h3></div></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp97734864"></a>29.5.7.1. Mirõl szól ez a szakasz</h4></div></div></div><p>Ebben a szakaszban arról olvashatunk, hogy
	    miként kell egy FreeBSD típusú rendszert
	    DHCP szervernek beállítani, ha az ISC
	    (internetes rendszerkonzorcium) DHCP szerverét
	    használjuk.</p><p>Ez a szerver nem része a FreeBSD-nek, ezért a
	    szolgáltatás
	    elindításához elõször fel
	    kell raknunk a <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/net/isc-dhcp31-server/pkg-descr">net/isc-dhcp31-server</a> portot.  A
	    Portgyûjtemény használatára
	    vonatkozóan a <a class="xref" href="ports.html" title="4. fejezet - Alkalmazások telepítése: csomagok és portok">4. fejezet - <em>Alkalmazások telepítése: csomagok
    és portok</em></a> lehet
	    segítségünkre.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp97737296"></a>29.5.7.2. A DHCP szerver telepítése</h4></div></div></div><a id="idp97737936" class="indexterm"></a><p>Ha a FreeBSD rendszerünket DHCP szerverként
	    akarjuk beállítani, akkor ehhez
	    elsõként a <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=bpf&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">bpf</span>(4)</span></a> eszköz
	    jelenlétét kell biztosítani a
	    rendszermagban.  Ehhez vegyük fel a <code class="literal">device
	    bpf</code> sort a rendszermagunk
	    beállításait tartalmazó
	    állományba, majd fordítsuk újra
	    a rendszermagot.  A rendszermag
	    lefordításáról a <a class="xref" href="kernelconfig.html" title="8. fejezet - A FreeBSD rendszermag testreszabása">8. fejezet - <em>A FreeBSD rendszermag testreszabása</em></a>ben olvashatunk.</p><p>A <code class="filename">bpf</code> eszköz a FreeBSD-hez
	    alapból adott <code class="filename">GENERIC</code>
	    rendszermag része, ezért a DHCP
	    használatához nem kell feltétlenül
	    újat fordítanunk.</p><div xmlns="" class="note"><h3 class="admontitle">Megjegyzés: </h3><p xmlns="http://www.w3.org/1999/xhtml">A biztonsági szempontok miatt
		aggódó felhasználók
		részére megjegyezzük, hogy a
		<code class="filename">bpf</code> eszköz egyben a
		csomagok lehallgatását is
		lehetõvé teszi (habár az ilyen
		témájú programok
		futtatásához megfelelõ jogokra is
		szükség van).  A
		<code class="filename">bpf</code> használata
		<span class="emphasis"><em>kötelezõ</em></span> a DHCP
		mûködtetéséhez, de ha nagyon
		kényesek vagyunk a biztonságot
		illetõen, akkor minden olyan esetben, amikor nem
		használjuk ki ezt a lehetõséget,
		távolítsuk el a
		rendszermagból.</p></div><p>A következõ lépésben át
	    kell szerkesztenünk a mintaként mellékelt
	    <code class="filename">dhcpd.conf</code> állományt,
	    amelyet a <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/net/isc-dhcp31-server/pkg-descr">net/isc-dhcp31-server</a> port rakott
	    fel.  Ez alapértelmezés szerint a
	    <code class="filename">/usr/local/etc/dhcpd.conf.sample</code>
	    néven található meg, és
	    mielõtt bármit is változtatnánk
	    rajta, másoljuk le
	    <code class="filename">/usr/local/etc/dhcpd.conf</code>
	    néven.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp97746384"></a>29.5.7.3. A DHCP szerver beállítása</h4></div></div></div><a id="idp97747024" class="indexterm"></a><p>A <code class="filename">dhcpd.conf</code> az
	    alhálózatokat illetve a gépeket
	    érintõ deklarációkat tartalmazza,
	    és talán a legkönnyebben a
	    következõ példa alapján
	    mutatható be:</p><pre class="programlisting">option domain-name "minta.com";<a id="domain-name"></a><span><img src="./imagelib/callouts/1.png" alt="1" border="0" /></span>
option domain-name-servers 192.168.4.100;<a id="domain-name-servers"></a><span><img src="./imagelib/callouts/2.png" alt="2" border="0" /></span>
option subnet-mask 255.255.255.0;<a id="subnet-mask"></a><span><img src="./imagelib/callouts/3.png" alt="3" border="0" /></span>

default-lease-time 3600;<a id="default-lease-time"></a><span><img src="./imagelib/callouts/4.png" alt="4" border="0" /></span>
max-lease-time 86400;<a id="max-lease-time"></a><span><img src="./imagelib/callouts/5.png" alt="5" border="0" /></span>
ddns-update-style none;<a id="ddns-update-style"></a><span><img src="./imagelib/callouts/6.png" alt="6" border="0" /></span>

subnet 192.168.4.0 netmask 255.255.255.0 {
  range 192.168.4.129 192.168.4.254;<a id="range"></a><span><img src="./imagelib/callouts/7.png" alt="7" border="0" /></span>
  option routers 192.168.4.1;<a id="routers"></a><span><img src="./imagelib/callouts/8.png" alt="8" border="0" /></span>
}

host mailhost {
  hardware ethernet 02:03:04:05:06:07;<a id="hardware"></a><span><img src="./imagelib/callouts/9.png" alt="9" border="0" /></span>
  fixed-address levelezes.minta.com;<a id="fixed-address"></a><span><img src="./imagelib/callouts/10.png" alt="10" border="0" /></span>
}</pre><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#domain-name"><span><img src="./imagelib/callouts/1.png" alt="1" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Ez a beállítás adja meg a
		kliensek számára az alapértelmezett
		keresési tartományt (search domain).  A
		<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=resolv.conf&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">resolv.conf</span>(5)</span></a> tud ezzel kapcsolatban
		részletesebb információkat
		adni.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#domain-name-servers"><span><img src="./imagelib/callouts/2.png" alt="2" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Ez a beállítás adja meg a
		kliensek által használt
		névfeloldó szerverek vesszõvel
		elválasztott felsorolását.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#subnet-mask"><span><img src="./imagelib/callouts/3.png" alt="3" border="0" /></span></a> </p></td><td valign="top" align="left"><p>A kliensekhez tartozó hálózati
		maszk.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#default-lease-time"><span><img src="./imagelib/callouts/4.png" alt="4" border="0" /></span></a> </p></td><td valign="top" align="left"><p>A kliens egy adott idõre kérhet
		bérleti jogot, egyébként a szerver
		dönt a bérlet lejárati
		idejérõl (másodpercekben).</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#max-lease-time"><span><img src="./imagelib/callouts/5.png" alt="5" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Ez az a maximális idõ, amennyire a
		szerver hajlandó bérbe adni
		IP-címet.  A kliens ugyan hosszabb idõre is
		kérheti és meg is kapja, de legfeljebb
		csak <code class="literal">max-lease-time</code>
		másodpercig lesz érvényes.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#ddns-update-style"><span><img src="./imagelib/callouts/6.png" alt="6" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Ez a beállítás határozza
		meg, hogy a DHCP szervernek frissítse-e a
		névoldási információkat a
		bérlések
		elfogadásánál vagy
		visszamondásánál.  Az ISC
		implementációjánál ez a
		beállítás
		<span class="emphasis"><em>kötelezõ</em></span>.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#range"><span><img src="./imagelib/callouts/7.png" alt="7" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Ezzel adjuk meg milyen tartományból
		tudunk IP-címeket kiosztani a kliensek
		számára.  A kezdõ címet is
		beleértve, innen fogunk kiutalni egyet a
		klienseknek.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#routers"><span><img src="./imagelib/callouts/8.png" alt="8" border="0" /></span></a> </p></td><td valign="top" align="left"><p>A kliensek felé elküldött
		alapértelmezett átjáró
		címe.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#hardware"><span><img src="./imagelib/callouts/9.png" alt="9" border="0" /></span></a> </p></td><td valign="top" align="left"><p>A gép hardveres MAC-címe (így a
		DHCP szerver képes felismerni a
		kérés küldõjét).</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#fixed-address"><span><img src="./imagelib/callouts/10.png" alt="10" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Ennek megadásával a gépek
		mindig ugyanazt az IP-címet kapják.  Itt
		már megadhatunk egy hálózati nevet,
		mivel a bérlethez tartozó
		információk visszaküldése
		elõtt maga a DHCP szerver fogja feloldani a
		gép nevét.</p></td></tr></table></div><p>Miután befejeztük a
	    <code class="filename">dhcpd.conf</code>
	    módosítását, a DHCP szerver az
	    <code class="filename">/etc/rc.conf</code> állományban
	    tudjuk engedélyezni, vagyis tegyük bele a
	    következõt:</p><pre class="programlisting">dhcpd_enable="YES"
dhcpd_ifaces="dc0"</pre><p>A <code class="literal">dc0</code> felület nevét
	    helyettesítsük annak a felületnek (vagy
	    whitespace karakterekkel elválasztott
	    felületeknek) a nevével, amelyen keresztül
	    a DHCP szerver várni fogja a kliensek
	    kéréseit.</p><p>Ezután a következõ parancs
	    kiadásával indítsuk el a
	    szervert:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>/usr/local/etc/rc.d/isc-dhcpd start</code></strong></pre><p>Amikor a jövõben valamit változtatunk a
	    konfigurációs állományon, akkor
	    ezzel kapcsolatban fontos megemlíteni, hogy ha csak
	    egy <code class="literal">SIGHUP</code> jelzést
	    küldünk a <span class="application">dhcpd</span>
	    démonnak, akkor az a többi
	    démontól eltérõen
	    önmagában még <span class="emphasis"><em>nem</em></span>
	    eredményezi a konfigurációs adatok
	    újraolvasását.  Helyette a
	    <code class="literal">SIGTERM</code> jelzéssel kell
	    leállítani a programot, majd
	    újraindítani a fenti paranccsal.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp97807056"></a>29.5.7.4. Állományok</h4></div></div></div><a id="idp97807696" class="indexterm"></a><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="filename">/usr/local/sbin/dhcpd</code></p><p>A <span class="application">dhcpd</span> statikusan
		linkelt és a <code class="filename">/usr/local/sbin</code>
		könyvtárban található.  A
		porttal együtt felkerülõ <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dhcpd&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">dhcpd</span>(8)</span></a>
		man oldal ad részletesebb
		útmutatást
		<span class="application">dhcpd</span>
		használatáról.</p></li><li class="listitem"><p><code class="filename">/usr/local/etc/dhcpd.conf</code></p><p>Mielõtt a <span class="application">dhcpd</span>
		megkezdhetné mûködését,
		egy konfigurációs állományra
		is szükségünk lesz, amely a
		<code class="filename">/usr/local/etc/dhcpd.conf</code>.  Ez az
		állomány tartalmazza az összes olyan
		információt, ami kell a kliensek
		megfelelõ kiszolgálásához
		valamint a szerver mûködéséhez.
		Ez a konfigurációs állomány
		porthoz tartozó <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dhcpd.conf&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">dhcpd.conf</span>(5)</span></a> man oldalon
		kerül ismertetésre.</p></li><li class="listitem"><p><code class="filename">/var/db/dhcpd.leases</code></p><p>A DHCP szerver ebben az állományba
		tartja nyilván a kiadott bérleteket, egy
		napló formájában.  A porthoz
		kapcsolódó <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dhcpd.leases&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">dhcpd.leases</span>(5)</span></a> man
		oldalon errõl többet is megtudhatunk.</p></li><li class="listitem"><p><code class="filename">/usr/local/sbin/dhcrelay</code></p><p>A <span class="application">dhcrelay</span>
		állománynak olyan komolyabb
		környezetekben van szerepe, ahol a DHCP szerver a
		kliensektõl érkezõ
		kéréseket egy másik
		hálózaton található DHCP
		szerverhez továbbítja.  Ha
		szükség lenne erre a
		lehetõségre, akkor telepítsük
		fel a <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/net/isc-dhcp31-relay/pkg-descr">net/isc-dhcp31-relay</a> portot.  A
		porthoz tartozó <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dhcrelay&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">dhcrelay</span>(8)</span></a> man oldal ennek
		részleteit taglalja.</p></li></ul></div></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="network-nis.html">Vissza</a> </td><td width="20%" align="center"><a accesskey="u" href="network-servers.html">Fel</a></td><td width="40%" align="right"> <a accesskey="n" href="network-dns.html">Elõre</a></td></tr><tr><td width="40%" align="left" valign="top">29.4. Hálózati információs rendszer
      (NIS/YP) </td><td width="20%" align="center"><a accesskey="h" href="index.html">Fõoldal</a></td><td width="40%" align="right" valign="top"> 29.6. Névfeloldás (<acronym class="acronym">DNS</acronym>)</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Ha kérdése van a FreeBSD-vel kapcsolatban, a
    következõ címre írhat (angolul):
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Ha ezzel a dokumentummal kapcsolatban van kérdése, kérjük erre a címre írjon:
    &lt;<a href="mailto:gabor@FreeBSD.org">gabor@FreeBSD.org</a>&gt;.</small></p></body></html>