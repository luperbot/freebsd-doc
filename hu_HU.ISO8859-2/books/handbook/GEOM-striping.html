<?xml version="1.0" encoding="iso-8859-2" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-2" /><title>19.3. RAID0 - Csíkozás</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD kézikönyv" /><link rel="up" href="GEOM.html" title="19. fejezet - GEOM: A moduláris lemezszervezõ rendszer" /><link rel="prev" href="GEOM-intro.html" title="19.2. A GEOM bemutatása" /><link rel="next" href="GEOM-mirror.html" title="19.4. RAID1 - Tükrözés" /><link rel="copyright" href="legalnotice.html" title="Jogi közlemény" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">19.3. RAID0 - Csíkozás</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="GEOM-intro.html">Vissza</a> </td><th width="60%" align="center">19. fejezet - GEOM: A moduláris lemezszervezõ rendszer</th><td width="20%" align="right"> <a accesskey="n" href="GEOM-mirror.html">Elõre</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="GEOM-striping"></a>19.3. RAID0 - Csíkozás</h2></div><div><span class="authorgroup">Írta: <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="surname">Rhodes</span>, <span class="firstname">Tom</span></span> és <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="surname">Stokely</span>, <span class="firstname">Murray</span></span>. </span></div></div></div><a id="idp91259984" class="indexterm"></a><a id="idp91260496" class="indexterm"></a><p>A csíkozás módszerét
      használjuk abban az esetben, amikor több
      lemezmeghajtót akarunk egyetlen kötetté
      összevonni.  A GEOM lemezalrendszer szoftveres
      támogatást nyújt a <acronym class="acronym">RAID</acronym>0,
      más néven a lemezcsíkozás
      megvalósításához.</p><p>Egy <acronym class="acronym">RAID</acronym>0 rendszerben az adatokat blokkokra
      bontva írjuk fel a tömbben található
      lemezek között szétosztva.  Így ahelyett,
      hogy meg kellene várnunk 256 kb-nyi adat egyetlen lemezre
      írását, egy <acronym class="acronym">RAID</acronym>0
      rendszerben egyszerre íródik 64 kb-nyi adat
      négy különbözõ lemezre, és
      ezáltal gyorsabb elérést szolgáltat.
      Ez a gyorsaság további lemezvezérlõk
      használatával még jobban
      fokozható.</p><p>Az egy <acronym class="acronym">RAID</acronym>0-csíkozásban
      résztvevõ lemezek mindegyikének azonos
      méretûnek kell lennie, mivel az írásra
      és olvasásra irányuló
      I/O-kérések a párhuzamos
      kiszolgálás érdekében
      összefésülõdnek.</p><div class="mediaobject" align="center"><img src="geom/striping.png" align="middle" alt="Példa lemezcsíkozásra" /></div><div class="procedure"><a id="idp91265744"></a><div class="procedure-title">Eljárás 19.1. Csíkozás kialakítása
	formázatlan ATA-lemezekkel</div><ol class="procedure" type="1"><li class="step"><p>Töltsük be a <code class="filename">geom_stripe.ko</code>
	  modult:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>kldload geom_stripe</code></strong></pre></li><li class="step"><p>Bizonyosodjuk meg róla, hogy a rendszerünkben
	  található egy szabad csatlakozási pont.
	  Ha majd ezt a kötetet szánjuk rendszerünk
	  gyökérpartíciójának,
	  használjunk erre a célra egy másik
	  könyvtárat, például a <code class="filename">/mnt</code>-ot:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mkdir /mnt</code></strong></pre></li><li class="step"><p>Keressük meg a csíkozásra
	  felhasználni kívánt lemezek
	  eszközneveit, és hozzunk létre
	  belõlük egy új csíkozott eszközt.
	  Például, ha két használatban nem
	  levõ, particionálatlan
	  <acronym class="acronym">ATA</acronym>-lemezt, név szerint a
	  <code class="filename">/dev/ad2</code> és
	  <code class="filename">/dev/ad3</code> eszközöket akarjunk
	  csíkozni:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>gstripe label -v st0 /dev/ad2 /dev/ad3</code></strong>
Metadata value stored on /dev/ad2.
Metadata value stored on /dev/ad3.
Done.</pre></li><li class="step"><p>Az így létrejött új köteten
	  most hozzunk létre egy általános
	  címkét, vagy más néven egy
	  partíciós táblát, és
	  telepítsük fel rá a rendszer
	  alapértelmezett rendszerindító
	  programját:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>bsdlabel -wB /dev/stripe/st0</code></strong></pre></li><li class="step"><p>Ezzel meg kellett jelennie további másik
	  két eszköznek is a <code class="filename">/dev/stripe</code>
	  könyvtárban, a <code class="filename">st0</code>
	  eszköz mellett.  Ezek többek közt az
	  <code class="filename">st0a</code> és az
	  <code class="filename">st0c</code>.  Itt már ki is tudunk
	  alakítani egy állományrendszert az
	  <code class="filename">st0a</code> eszközön a
	  <code class="command">newfs</code> használatával:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>newfs -U /dev/stripe/st0a</code></strong></pre><p>Sok-sok számot fogunk látni cikázni a
	  képernyõn, majd néhány
	  másodperc múlva befejezõdik a folyamat.
	  Létrehoztuk a kötetet, ami most már
	  készen áll a becsatolásra.</p></li></ol></div><p>A kialakított lemezcsíkozást így
      tudjuk kézzel csatlakoztatni:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mount /dev/stripe/st0a /mnt</code></strong></pre><p>A csíkozott állományrendszert a
      rendszerindítás folyamán automatikusan
      becsatlakoztathatjuk, ha elhelyezzük az alábbi
      kötetinformációkat az
      <code class="filename">/etc/fstab</code> állományba.  Erre a
      célra <code class="filename">stripe</code>
      néven létrehozunk egy állandó
      csatlakozási pontot:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mkdir /stripe</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>echo "/dev/stripe/st0a /stripe ufs rw 2 2" \</code></strong>
      <strong class="userinput"><code>&gt;&gt; /etc/fstab</code></strong></pre><p>A <code class="filename">geom_stripe.ko</code> modult is automatikusan
      be kell tölteni a rendszerindítás során.
      Ehhez a következõ sort kell hozzáadni a
      <code class="filename">/boot/loader.conf</code>
      állományhoz:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>echo 'geom_stripe_load="YES"' &gt;&gt; /boot/loader.conf</code></strong></pre></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="GEOM-intro.html">Vissza</a> </td><td width="20%" align="center"><a accesskey="u" href="GEOM.html">Fel</a></td><td width="40%" align="right"> <a accesskey="n" href="GEOM-mirror.html">Elõre</a></td></tr><tr><td width="40%" align="left" valign="top">19.2. A GEOM bemutatása </td><td width="20%" align="center"><a accesskey="h" href="index.html">Fõoldal</a></td><td width="40%" align="right" valign="top"> 19.4. RAID1 - Tükrözés</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Ha kérdése van a FreeBSD-vel kapcsolatban, a
    következõ címre írhat (angolul):
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Ha ezzel a dokumentummal kapcsolatban van kérdése, kérjük erre a címre írjon:
    &lt;<a href="mailto:gabor@FreeBSD.org">gabor@FreeBSD.org</a>&gt;.</small></p></body></html>