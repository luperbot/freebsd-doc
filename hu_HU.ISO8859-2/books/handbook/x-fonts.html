<?xml version="1.0" encoding="iso-8859-2" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-2" /><title>5.5. Betûtípusok használata az X11-ben</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD kézikönyv" /><link rel="up" href="x11.html" title="5. fejezet - Az X Window System" /><link rel="prev" href="x-config.html" title="5.4. Az X11 beállítása" /><link rel="next" href="x-xdm.html" title="5.6. Az X bejelentkeztetõ képernyõje" /><link rel="copyright" href="legalnotice.html" title="Jogi közlemény" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">5.5. Betûtípusok használata az X11-ben</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="x-config.html">Vissza</a> </td><th width="60%" align="center">5. fejezet - Az X Window System</th><td width="20%" align="right"> <a accesskey="n" href="x-xdm.html">Elõre</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="x-fonts"></a>5.5. Betûtípusok használata az X11-ben</h2></div><div><span class="authorgroup">Írta: <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="surname">Stokely</span>, <span class="firstname">Murray</span></span>. </span></div></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="type1"></a>5.5.1. Type1 betûtípusok</h3></div></div></div><p>Az X11-hez tartozó alap betûtípusok nem
	mondhatóak kifejezetten ideálisnak
	például egy átlagos asztali
	kiadványszerkesztõ alkalmazás
	számára.  A nagyobb méretû
	bemutatókon a betûi szögletesen és
	idétlenül néznek ki, a
	<span class="application"><span class="trademark">Netscape</span>(R)</span>ben megjelenõ kisebb
	betûk pedig szinte teljességgel olvashatatlanok.
	Viszont manapság már rengeteg szabad, nagyon
	jó minõségû és könnyen
	használható Type1 (<span class="trademark">PostScript</span>(R))
	betûtípus érhetõ el az X11-hez.
	Például az URW
	betûtípus-gyûjtemény (<a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/x11-fonts/urwfonts/pkg-descr">x11-fonts/urwfonts</a>) a
	szabványos Type1 betûtípusok (<span class="trademark">Times Roman</span>(R), <span class="trademark">Helvetica</span>(R), <span class="trademark">Palatino</span>(R) és még sok
	más) jó minõségû
	változatait tartalmazza.  A Freefonts nevû
	gyûjtemény (<a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/x11-fonts/freefonts/pkg-descr">x11-fonts/freefonts</a>) is tartalmaz sok
	más betûtípust, de a legtöbbjüket
	inkább csak a <span class="application">Gimp</span>ben
	és a hozzá hasonló grafikai
	alkalmazásokban tudjuk használni, illetve
	nincsenek is még kellõ mértékben
	befejezve a hétköznapi munkákhoz.  Ezeken
	felül az X11 minimális ügyeskedéssel
	beállítható a <span class="trademark">TrueType</span>(R)
	betûtípusok használatára is.
	Errõl részleteket a <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=X&amp;sektion=7"><span class="citerefentry"><span class="refentrytitle">X</span>(7)</span></a> man oldalon, illetve a
	<a class="link" href="x-fonts.html#truetype" title="5.5.2. TrueType(R) betûtípusok"><span class="trademark">TrueType</span>(R)
	betûtípusokról szóló
	szakaszban</a> olvashatunk.</p><p>A Portgyûjteménybõl az imént
	említett Type1 betûtípusokat az alábbi
	parancsok segítségével
	telepíthetjük:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cd /usr/ports/x11-fonts/urwfonts</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>make install clean</code></strong></pre><p>Ugyanígy járjunk el a freefont és a
	többi gyûjtemény esetén is.  Az X
	szerver akkor fogja észlelni ezeket a
	betûtípusokat, ha hozzáadjuk a
	következõ sort a konfigurációs
	állományához
	(<code class="filename">/etc/X11/xorg.conf</code>):</p><pre class="programlisting">FontPath "/usr/local/lib/X11/fonts/URW/"</pre><p>Vagy megtehetjük mindezt az X futtatása
	során is:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>xset fp+ /usr/local/lib/X11/fonts/URW</code></strong>
<code class="prompt">%</code> <strong class="userinput"><code>xset fp rehash</code></strong></pre><p>Ez utóbbi beállítás viszont el
	fog veszni az X leállításával,
	hacsak nem vesszük hozzá az
	indítószkriptjéhez (ez az
	<code class="filename">~/.xinitrc</code> a <code class="command">startx</code>
	használata esetén, illetve az
	<code class="filename">~/.xsession</code>, amikor egy
	<span class="application">XDM</span>-szerû grafikus
	bejelentkezést használunk).  Ezek mellett
	használhatjuk a
	<code class="filename">/usr/local/etc/fonts/local.conf</code>
	állományt is: errõl az <a class="link" href="x-fonts.html#antialias" title="5.5.3. A betûk élsimítása">élsimítással</a>
	foglalkozó szakaszban szólunk
	részletesebben.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="truetype"></a>5.5.2. <span class="trademark">TrueType</span>(R) betûtípusok</h3></div></div></div><a id="idp79643216" class="indexterm"></a><a id="idp79643728" class="indexterm"></a><p>Az <span class="application">Xorg</span> beépített
	támogatást tartalmaz a <span class="trademark">TrueType</span>(R)
	betûtípusok rendereléséhez.
	Két különbözõ modul
	valósítja meg ezt a feladatot.  Ebben
	példában a freetype nevû modult
	használjuk, mivel sokkal jobban illeszkedik a többi
	betûrenderelõhöz.  A freetype modul
	használatához mindössze az
	<code class="filename">/etc/X11/xorg.conf</code> állomány
	<code class="literal">"Module"</code> szakaszába kell
	beírnunk a következõ sort:</p><pre class="programlisting">Load  "freetype"</pre><p>Most pedig hozzunk létre egy könyvtárat a
	<span class="trademark">TrueType</span>(R) betûtípusok számára (ez
	legyen például a
	<code class="filename">/usr/local/lib/X11/fonts/TrueType</code>), majd
	másoljuk az összes <span class="trademark">TrueType</span>(R)
	betûtípusunkat ide.  Vigyázzunk rá,
	hogy <span class="trademark">Macintosh</span>(R)-ról <span class="trademark">TrueType</span>(R) betûtípusok
	közvetlenül nem hozhatóak át, az X11
	számára <span class="trademark">UNIX</span>(R)/<span class="trademark">MS-DOS</span>(R)/<span class="trademark">Windows</span>(R)
	formátumban kell lenniük.  Miután
	sikerült átmásolnunk az
	állományokat ebbe a könyvtárba,
	használjuk a <span class="application">ttmkfdir</span>
	parancsot a <code class="filename">fonts.dir</code>
	állomány létrehozására,
	aminek révén az X betûrenderelõje tudni
	fogja, hogy új állományokat
	telepítettünk.  A <code class="command">ttmkfdir</code>
	<a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/x11-fonts/ttmkfdir/pkg-descr">x11-fonts/ttmkfdir</a>
	néven elérhetõ a FreeBSD
	Portgyûjteményébõl.</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cd /usr/local/lib/X11/fonts/TrueType</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>ttmkfdir -o fonts.dir</code></strong></pre><p>Ezután adjuk hozzá a <span class="trademark">TrueType</span>(R)
	könyvtárat a betûtípusok
	könyvtáraihoz.  Itt is a <a class="link" href="x-fonts.html#type1" title="5.5.1. Type1 betûtípusok">Type1</a> betûtípusoknál
	leírtak szerint kell eljárnunk, vagyis
	használjunk a</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>xset fp+ /usr/local/lib/X11/fonts/TrueType</code></strong>
<code class="prompt">%</code> <strong class="userinput"><code>xset fp rehash</code></strong></pre><p>parancsot, vagy adjunk hozzá a
	<code class="filename">xorg.conf</code> állományhoz egy
	további <code class="literal">FontPath</code> sort.</p><p>Ezzel végeztünk is.  Innentõl kezdve a
	<span class="application"><span class="trademark">Netscape</span>(R)</span>,
	<span class="application">Gimp</span>, a
	<span class="application"><span class="trademark">StarOffice</span>TM</span> és mindegyik X
	alkalmazás fel fogja ismerni a frissen telepített
	<span class="trademark">TrueType</span>(R) betûtípusokat.  A nagyon kicsi betûk
	(egy honlap megtekintése során,
	nagyfelbontásban) és a nagyon nagy betûk (a
	<span class="application"><span class="trademark">StarOffice</span>TM</span> használatakor)
	most már sokkal jobban fognak mutatni.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="antialias"></a>5.5.3. A betûk élsimítása</h3></div><div><span class="authorgroup">Frissítette: <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="surname">Clarke</span>, <span class="firstname">Joe Marcus</span></span>. </span></div></div></div><a id="idp79669328" class="indexterm"></a><a id="idp79669840" class="indexterm"></a><p>Az X11
	által használt, a
	<code class="filename">/usr/local/lib/X11/fonts/</code> és a
	<code class="filename">~/.fonts/</code> könyvtárakban
	található összes betûtípus
	élsimítása automatikusan
	elérhetõ az Xft-re felkészített
	alkalmazások számára.  A mostanság
	megjelenõ legtöbb alkalmazás, mint
	például a <span class="application">KDE</span>,
	<span class="application">GNOME</span> és
	<span class="application">Firefox</span>, ismeri az Xft-t.</p><p>A betûtípusok
	élsimításának be- és
	kikapcsolásához, valamint
	élsimítási jellemzõinek
	beállításához hozzuk létre
	(vagy ha már létezne, módosítsuk) a
	<code class="filename">/usr/local/etc/fonts/local.conf</code>
	állományt.  Az Xft betûrendszer számos
	kifinomult lehetõsége hangolható ezzel az
	állománnyal, amelyekbõl ebben a szakaszban
	csupán rövidke ízelítõt fogunk
	adni.  A pontosabb részletekrõl a <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=fonts-conf&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">fonts-conf</span>(5)</span></a>
	man oldalon tájékozódhatunk.</p><a id="idp79691472" class="indexterm"></a><p>Az állománynak XML formátumúnak
	kell lennie.  Különösen ügyeljünk a
	kis- és nagybetûkre, illetve
	gyõzõdjünk meg mindig róla, hogy
	lezártuk-e az összes taget.  Az
	állomány a szokásos XML-fejléccel
	kezdõdik, amelyet egy DOCTYPE definíció
	követ, majd a <code class="literal">&lt;fontconfig&gt;</code>
	tag:</p><pre class="programlisting">
      &lt;?xml version="1.0"?&gt;
      &lt;!DOCTYPE fontconfig SYSTEM "fonts.dtd"&gt;
      &lt;fontconfig&gt;
</pre><p>Ahogy azt már korábban is
	említettük, a
	<code class="filename">/usr/local/lib/X11/fonts</code> és a
	<code class="filename">~/.fonts/</code> könyvtárakban
	található összes betûtípus
	élsimítása elérhetõ az Xft-re
	felkészített alkalmazások
	számára.  Amennyiben ezeken túl még
	további könyvtárakat is fel
	kívánunk venni, írjuk bele a
	<code class="filename">/usr/local/etc/fonts/local.conf</code>
	állományba, nagyjából ilyen
	alakban:</p><pre class="programlisting">&lt;dir&gt;/az/en/betu/tipusaim&lt;/dir&gt;</pre><p>Az új betûtípusok, de
	legfõképpen az új betûtípusokat
	tartalmazó könyvtárak
	hozzáadása után a betûkkel kapcsolatos
	gyorsítótárak
	frissítéséhez mindenképpen javasolt
	lefuttatni az alábbi parancsot:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>fc-cache -f</code></strong></pre><p>Az élsimítás hatására a
	betûk kontúrjai egy kissé elmosódnak,
	aminek köszönhetõen a nagyon kis
	méretû szövegek sokkal
	olvashatóbbá válnak és eltûnnek
	a nagy méretû betûkrõl a
	<span class="quote">"<span class="quote">lépcsõk</span>"</span>, azonban a normál
	méretû betûknél megfájdulhat
	tõle a szemünk.  A 14 pontnál kisebb
	méretû betûk esetén az alábbi
	sorok hozzáadásával tudjuk kikapcsolni az
	élsimítást:</p><pre class="programlisting">        &lt;match target="font"&gt;
            &lt;test name="size" compare="less"&gt;
                &lt;double&gt;14&lt;/double&gt;
            &lt;/test&gt;
            &lt;edit name="antialias" mode="assign"&gt;
                &lt;bool&gt;false&lt;/bool&gt;
            &lt;/edit&gt;
        &lt;/match&gt;
        &lt;match target="font"&gt;
            &lt;test name="pixelsize" compare="less" qual="any"&gt;
                &lt;double&gt;14&lt;/double&gt;
            &lt;/test&gt;
            &lt;edit mode="assign" name="antialias"&gt;
                &lt;bool&gt;false&lt;/bool&gt;
            &lt;/edit&gt;
        &lt;/match&gt;</pre><a id="idp79709904" class="indexterm"></a><p>Bizonyos egyenszélességû (monospaced)
	betûtípusok élsimítása
	esetén a betûk távolsága nem
	megfelelõ.  Ez leginkább a
	<span class="application">KDE</span> használata esetén
	merül fel.  Ezt a problémát úgy is
	orvosolhatjuk, ha az ilyen betûtípusok
	térközét kézzel 100-ra
	állítjuk.  Ehhez írjuk be a
	következõ sorokat:</p><pre class="programlisting">       &lt;match target="pattern" name="family"&gt;
           &lt;test qual="any" name="family"&gt;
               &lt;string&gt;fixed&lt;/string&gt;
           &lt;/test&gt;
           &lt;edit name="family" mode="assign"&gt;
               &lt;string&gt;mono&lt;/string&gt;
           &lt;/edit&gt;
        &lt;/match&gt;
        &lt;match target="pattern" name="family"&gt;
            &lt;test qual="any" name="family"&gt;
                &lt;string&gt;console&lt;/string&gt;
            &lt;/test&gt;
            &lt;edit name="family" mode="assign"&gt;
                &lt;string&gt;mono&lt;/string&gt;
            &lt;/edit&gt;
        &lt;/match&gt;</pre><p>(ezzel lefedjük összes rögzített
	méretû (fixed) betûtípust
	<code class="literal">"mono"</code>-ként), majd vegyük
	hozzá ezt is:</p><pre class="programlisting">         &lt;match target="pattern" name="family"&gt;
             &lt;test qual="any" name="family"&gt;
                 &lt;string&gt;mono&lt;/string&gt;
             &lt;/test&gt;
             &lt;edit name="spacing" mode="assign"&gt;
                 &lt;int&gt;100&lt;/int&gt;
             &lt;/edit&gt;
         &lt;/match&gt;      </pre><p>Egyes betûtípusoknál, mint
	például a Helveticánál, gondok
	akadhatnak az élsimítással.  Ez
	általában egy függõlegesen
	kettévágottnak látszó betû
	képében jelenik meg.  De ami a legrosszabb, hogy
	emiatt némely alkalmazás képes
	összeomlani.  Ennek elkerülésére
	tegyük hozzá még az alábbi sorokat a
	<code class="filename">local.conf</code>
	állományhoz:</p><pre class="programlisting">         &lt;match target="pattern" name="family"&gt;
             &lt;test qual="any" name="family"&gt;
                 &lt;string&gt;Helvetica&lt;/string&gt;
             &lt;/test&gt;
             &lt;edit name="family" mode="assign"&gt;
                 &lt;string&gt;sans-serif&lt;/string&gt;
             &lt;/edit&gt;
         &lt;/match&gt;        </pre><p>Miután befejeztük a
	<code class="filename">local.conf</code> szerkesztését,
	ellenõrizzük, hogy szerepel-e az
	állomány végén a
	<code class="literal">&lt;/fontconfig&gt;</code> tag.  Ha ugyanis nem
	zárjuk le rendesen, akkor a változtatásaink
	érvénytelenné válnak.</p><p>Végezetül a felhasználók is
	megadhatják a saját
	beállításaikat a saját
	<code class="filename">.fonts.conf</code> állományuk
	segítségével.  Ehhez nem kell mást
	tenni, mindössze létrehozni egy
	<code class="filename">~/.fonts.conf</code>
	XML-állományt.</p><a id="idp79737424" class="indexterm"></a><a id="idp79737936" class="indexterm"></a><p>Még egy utolsó ötlet: LCD
	képernyõk esetén szükségünk
	lehet az ún.  <span class="quote">"<span class="quote">sub-pixel sampling</span>"</span>
	(részképpont mintavételezési)
	technikára.  Ezzel lényegében a
	(vízszintesen elválasztott) vörös,
	zöld és kék összetevõket
	külön-külön kezeljük a
	horizontális felbontás
	javítására.  Bámulatos
	eredményeket lehet elérni a
	segítségével!  A
	bekapcsolásához a következõ sorokat kell
	beszúrnunk valahova a <code class="filename">local.conf</code>
	állományba:</p><pre class="programlisting">
         &lt;match target="font"&gt;
             &lt;test qual="all" name="rgba"&gt;
                 &lt;const&gt;unknown&lt;/const&gt;
             &lt;/test&gt;
             &lt;edit name="rgba" mode="assign"&gt;
                 &lt;const&gt;rgb&lt;/const&gt;
             &lt;/edit&gt;
         &lt;/match&gt;
      </pre><div xmlns="" class="note"><h3 class="admontitle">Megjegyzés: </h3><p xmlns="http://www.w3.org/1999/xhtml">A megjelenítõ fajtájától
	  függõen lehet, hogy az <code class="literal">rgb</code>
	  értéket <code class="literal">bgr</code>-re,
	  <code class="literal">vrgb</code>-re vagy <code class="literal">vbgr</code>-re
	  kell cserélnünk.  Próbálgassuk
	  és kiderül, hogy melyikkel mûködik
	  jobban.</p></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="x-config.html">Vissza</a> </td><td width="20%" align="center"><a accesskey="u" href="x11.html">Fel</a></td><td width="40%" align="right"> <a accesskey="n" href="x-xdm.html">Elõre</a></td></tr><tr><td width="40%" align="left" valign="top">5.4. Az X11 beállítása </td><td width="20%" align="center"><a accesskey="h" href="index.html">Fõoldal</a></td><td width="40%" align="right" valign="top"> 5.6. Az X bejelentkeztetõ képernyõje</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Ha kérdése van a FreeBSD-vel kapcsolatban, a
    következõ címre írhat (angolul):
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Ha ezzel a dokumentummal kapcsolatban van kérdése, kérjük erre a címre írjon:
    &lt;<a href="mailto:gabor@FreeBSD.org">gabor@FreeBSD.org</a>&gt;.</small></p></body></html>