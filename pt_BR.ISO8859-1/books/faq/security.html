<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>Capítulo 13. Segurança</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Perguntas mais freqüentes sobre FreeBSD 2.X, 3.X e 4.X" /><link rel="up" href="index.html" title="Perguntas mais freqüentes sobre FreeBSD 2.X, 3.X e 4.X" /><link rel="prev" href="networking.html" title="Capítulo 12. Redes" /><link rel="next" href="ppp.html" title="Capítulo 14. PPP" /><link rel="copyright" href="legalnotice.html" title="Nota Legal" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Capítulo 13. Segurança</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="networking.html">Anterior</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="ppp.html">Próxima</a></td></tr></table><hr /></div><div class="chapter"><div xmlns="" class="titlepage"><div><div><h1 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="security"></a>Capítulo 13. Segurança</h1></div></div></div><div class="qandaset"><a id="idp69835216"></a><dl><dt>13.1. <a href="security.html#idp69835472">O BIND (named) está
	    escutando na porta 53 e em outras portas elevadas.  O que
	    está havendo?</a></dt><dt>13.2. <a href="security.html#idp69845200">O Sendmail está ouvindo na porta 587
	    além da tradicional porta 25!  O que está
	    havendo?</a></dt><dt>13.3. <a href="security.html#idp69847632">O que é a conta do usuário
	    toor que tem UID 0?  Meu sistema foi
	    comprometido?</a></dt><dt>13.4. <a href="security.html#idp69862608">Por que o suidperl não
	    está funcionando corretamente?</a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%" /><col /></colgroup><tbody><tr class="question"><td align="left" valign="top"><a id="idp69835472"></a><a id="extra-named-port"></a><p><strong>13.1.</strong></p></td><td align="left" valign="top"><p>O BIND (<code class="command">named</code>) está
	    escutando na porta 53 e em outras portas elevadas.  O que
	    está havendo?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>O FreeBSD, a partir da versão 3.0, utiliza
	    portas não privilegiadas e elevadas,
	    aleatoriamente, para responder à
	    requisições de DNS.  Se a
	    intenção é usar a porta 53 para
	    responder a estas requisições, para adequar
	    o comportamento do BIND à um
	    <span class="foreignphrase"><em class="foreignphrase">firewall</em></span> ou apenas para
	    sentir-se melhor, experimente acrescentar a
	    instruçõo abaixo no arquivo
	    <code class="filename">/etc/namedb/named.conf</code>:</p><pre class="programlisting">options {
            query-source address * port 53;
            };</pre><p>O <code class="literal">*</code> deve ser substituído por
	    um endereço IP único, caso se deseje
	    restringir ainda mais este comportamento.</p><p>De qualquer forma, parabéns.  É uma
	    pratica saudável verificar registros não
	    usuais no conteúdo de saída do
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sockstat&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">sockstat</span>(1)</span></a> </p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp69845200"></a><a id="sendmail-port-587"></a><p><strong>13.2.</strong></p></td><td align="left" valign="top"><p>O Sendmail está ouvindo na porta 587
	    além da tradicional porta 25!  O que está
	    havendo?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>As versões mais novas do Sendmail tem suporte
	    à uma característica que se chama
	    <span class="foreignphrase"><em class="foreignphrase">Mail Submission</em></span>, que ouve
	    na porta 587.  Esse serviço não é
	    completamente suportado ainda, mas sua popularidade vem
	    crescendo.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp69847632"></a><a id="toor-account"></a><p><strong>13.3.</strong></p></td><td align="left" valign="top"><p>O que é a conta do usuário
	    <code class="systemitem">toor</code> que tem UID 0?  Meu sistema foi
	    comprometido?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Não se preocupe.  O usuário
	    <code class="systemitem">toor</code> é uma conta
	    <span class="quote">&#8220;<span class="quote">alternativa</span>&#8221;</span> com poderes de super
	    usuário (toor é root escrito ao
	    contrário).  Normalmente esse usuário era
	    criado quando o interpretador de comandos <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=bash&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">bash</span>(1)</span></a> era
	    instalado, mas agora o usuário existe por
	    padrão no sistema.  A intenção
	    é que o usuário seja usado com um
	    interpretador de comandos fora do padrão, de forma
	    que o ambiente de linha de comando do usuário
	    <code class="systemitem">root</code> não tenha que ser
	    alterada.  Essa é uma situação
	    importante quando nos referimos à interpretadores
	    de comandos que não fazem parte da base do sistema
	    operacional (por exemplo, que foram instaladas do
	    <code class="literal">Ports</code> ou como pacotes, já que
	    normalmente, elas são instaladas sob o
	    <code class="filename">/usr/local/bin</code> que por padrão
	    está em um sistema de arquivos diferente da raiz do
	    sistema.  Em uma situação onde o
	    interpretador de comandos do usuário estiver sob
	    <code class="filename">/usr/local/bin</code> ou sob
	    <code class="filename">/usr</code> (ou onde quer que seja) e esse
	    sistema de arquivos não puder ser montado por
	    alguma razão, o usuário
	    <code class="systemitem">root</code> estará impossibilitado de
	    se logar no sistema para corrigir o problema (contudo, ao
	    entrar em modo mono tarefa, o sistema pede o caminho
	    completo para algum interpretador de comandos.
	  </p><p>Alguns administradores costumam usar o
	    <code class="systemitem">toor</code> para tarefas do dia-a-dia, com
	    um interpretador de comandos
	    (<span class="foreignphrase"><em class="foreignphrase">shell</em></span>) não comum, e
	    deixando o <code class="systemitem">root</code> com seu interpretador
	    de comandos (<span class="foreignphrase"><em class="foreignphrase">shell</em></span>)
	    padrão para realizar tarefas de emergência ou
	    de modo mono usuário.  Por padrão, o
	    usuário <code class="systemitem">toor</code> não pode
	    ser usado, já que ele não tem uma senha
	    definida.  Para habilitar a conta, logue-se como
	    <code class="systemitem">root</code> no sistema e defina uma senha
	    para o <code class="systemitem">toor</code>.
	  </p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp69862608"></a><a id="suidperl"></a><p><strong>13.4.</strong></p></td><td align="left" valign="top"><p>Por que o <code class="command">suidperl</code> não
	    está funcionando corretamente?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Por motivos de segurança, a
	    instalação padrão do
	    <code class="command">suidperl</code> não tem o bit suid
	    definido.  Os administradores de sistemas podem reaver o
	    comportamento esperado com o seguinte comando:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>chmod u+s /usr/bin/suidperl</code></strong></pre><p>Se a intenção é que o
	    <code class="command">suidperl</code> seja compilado com suid
	    durante as atualizações do sistema, edite o
	    <code class="filename">/etc/make.conf</code> e adicione a linha
	    <code class="varname">ENABLE_SUIDPERL=true</code> no arquivo, antes
	    de começar um <code class="command">make
	      buildworld</code>.</p></td></tr></tbody></table></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="networking.html">Anterior</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="ppp.html">Próxima</a></td></tr><tr><td width="40%" align="left" valign="top">Capítulo 12. Redes </td><td width="20%" align="center"><a accesskey="h" href="index.html">Principal</a></td><td width="40%" align="right" valign="top"> Capítulo 14. PPP</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Este, e outros documentos, podem ser obtidos em
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Para perguntas sobre FreeBSD, leia a
    <a href="http://www.FreeBSD.org/docs.html">documentação</a> antes de contatar
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Para perguntas sobre esta documentação, envie e-mail para
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>