<?xml version="1.0" encoding="euc-jp" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=euc-jp" /><title>16.5. 光メディア (CD &amp; DVD) の作成と使用</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD ハンドブック" /><link rel="up" href="disks.html" title="第16章 ストレージ" /><link rel="prev" href="raid.html" title="16.4. RAID" /><link rel="next" href="floppies.html" title="16.6. フロッピーディスクの作成と使用" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">16.5. 光メディア (CD &amp; DVD) の作成と使用</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="raid.html">戻る</a>〓</td><th width="60%" align="center">第16章 ストレージ</th><td width="20%" align="right">〓<a accesskey="n" href="floppies.html">次へ</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="creating-cds"></a>16.5. 光メディア (CD &amp; DVD) の作成と使用</h2></div><div><span class="authorgroup">寄稿: <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="surname">Meyer</span> <span class="firstname">Mike</span> [FAMILY Given]</span>. </span></div></div></div><a id="idp91028688" class="indexterm"></a><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp91029840"></a>16.5.1. はじめに</h3></div></div></div><p>CD は他の一般的なディスクと異なる様々な特徴を持っています。
	そもそもユーザが書き込むことができません。
	また遅延なしで連続的に読み出せるように、
	トラック間をヘッドが移動しないですむようにデザインされています。
	さらにこのサイズのメディアの中ではシステムをまたぐデータの
	移動が比較的簡単でもあります。</p><p>CD はトラックの概念を持っていますが、
	これはデータを連続的に読み出すためのものであってディスクの物理特性ではありません。
	FreeBSD で CD を作成するには、まず CD
	のトラックとなるデータファイルを用意し、
	そのトラックを CD に書き込みます。</p><a id="idp91031248" class="indexterm"></a><a id="idp91031760" class="indexterm"></a><p>ISO 9660 ファイルシステムはこの様な差異を扱うべく設計されました。
	その結果、ファイルシステムは一般的に使用するのに差しつかえない程度に
	制限されて標準化されています。幸いなことに、ISO 9660
	ファイルシステムには拡張機構が提供されています。適切に書かれた CD は、
	拡張機構に対応したシステムでは拡張を利用して、そうでないシステムでは
	拡張機構を使用しない範囲で動作するようになっています。</p><a id="idp91033296" class="indexterm"></a><p><a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/sysutils/mkisofs/pkg-descr">sysutils/mkisofs</a> プログラムは
	ISO 9660 ファイルシステムを含むデータファイルを作成するのに使われます。
	これには様々な拡張をサポートするオプションがあり、
	以下で説明します。 このソフトウェアは、ports の
	<a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/sysutils/mkisofs/pkg-descr">sysutils/mkisofs</a>
	からインストールすることができます。</p><a id="idp91035472" class="indexterm"></a><p>CD に書き込むためのツールは、お使いの CD ライタが ATAPI
	接続か否かにも依存します。ATAPI CD ライタなら、ベースシステムの一部である
	<code class="command">burncd</code>
	プログラムを使います。SCSI や USB の CD ライタなら、ports の
	<a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/sysutils/cdrecord/pkg-descr">sysutils/cdrecord</a>
	をインストールして
	<code class="command">cdrecord</code>
	プログラムを使うべきでしょう。</p><p><code class="command">burncd</code>
	が対応しているドライブは限定されています。
	ドライブが対応されているかどうかを確認するには、
	<a class="link" href="http://www.freebsd.dk/ata/" target="_top">CD-R/RW supported
	  drives</a> にある一覧を見てください。</p><div xmlns="" class="note"><h3 class="admontitle">注記: </h3><a xmlns="http://www.w3.org/1999/xhtml" id="idp91039568" class="indexterm"></a><p xmlns="http://www.w3.org/1999/xhtml">FreeBSD 5.X または FreeBSD 4.8-RELEASE
	  以降のバージョンを使用している場合、
	  <a class="link" href="creating-cds.html#atapicam" title="16.5.9. ATAPI/CAM ドライバの使用">ATAPI/CAM モジュール</a> を使用すると
	  ATAPI ハードウェア上で SCSI ドライブ用の
	  <code class="command">cdrecord</code>
	  および他のツールを使用できるようになります。</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="mkisofs"></a>16.5.2. mkisofs</h3></div></div></div><p><a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/sysutils/mkisofs/pkg-descr">sysutils/mkisofs</a> は <span class="trademark">UNIX</span>®
	ファイルシステムの名前空間におけるディレクトリツリーのイメージとして
	ISO 9660 ファイルシステムを作成します。
	最も簡単な使い方は以下の通りです。</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mkisofs -o imagefile.iso /path/to/tree</code></strong></pre><a id="idp91057488" class="indexterm"></a><p>このコマンドは <em class="replaceable"><code>/path/to/tree</code></em>
	以下のディレクトリツリーのコピーである ISO 9660
	ファイルシステムを含んだ <em class="replaceable"><code>imagefile.iso</code></em>
	ファイルを作成します。この過程において、ファイル名は標準的な ISO 9660
	ファイルシステムの制限に適合するようなファイル名に対応づけられ、
	ISO ファイルシステムでファイル名を文字化できないファイルは除外されます。</p><a id="idp91059792" class="indexterm"></a><a id="idp91060944" class="indexterm"></a><p>この制限を回避するために利用できるオプションはいくつもあります。
	特に <code class="option">-R</code> オプションは <span class="trademark">UNIX</span>® システムで標準的な Rock Ridge
	拡張を有効にします。<code class="option">-J</code> オプションは Microsoft
	のシステムで標準的な Joliet 拡張を有効にし、
	<code class="option">-hfs</code> オプションは <span class="trademark">Mac OS</span>® で使用されている
	HFS ファイルシステムを作成するために使われます。</p><p>FreeBSD でしか使わないのであれば、<code class="option">-U</code>
	オプションを使用するとあらゆるファイル名制限を無効にできます。
	さらに <code class="option">-R</code> オプションとともに使うことで
	FreeBSD と同一のファイルシステムイメージを作成できますが、
	これは ISO 9660 標準の多くを無視しています。</p><a id="idp91127376" class="indexterm"></a><p>一般的に使われる最後のオプションは <code class="option">-b</code> オプションです。
	これは <span class="quote">「<span class="quote">El Torito</span>」</span>	ブータブル CD
	を作成するのに使う起動イメージのありかを指定します。
	このオプションは引数として起動イメージへのパスを、
	CD に書き込まれるディレクトリツリーの頂点からの相対位置で取ります。
	したがって <code class="filename">/tmp/myboot</code> がブート可能な
	FreeBSD システムで <code class="filename">/tmp/myboot/boot/cdboot</code>
	にブートイメージがあるならば、以下のようにすることで ISO 9660
	ファイルシステムのイメージを <code class="filename">/tmp/bootable.iso</code>
	に作成することができます。</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mkisofs -U -R -b boot/cdboot -o /tmp/bootable.iso /tmp/myboot</code></strong></pre><p>この後、カーネルで <code class="filename">vn</code> (FreeBSD 4.X)
	または <code class="filename">md</code> (FreeBSD 5.X)
	が設定されていれば、
	ファイルシステムを以下のようにしてマウントすることができます。</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>vnconfig -e vn0c /tmp/bootable.iso</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>mount -t cd9660 /dev/vn0c /mnt</code></strong></pre><p>FreeBSD 4.X および FreeBSD 5.X に対しては以下の通りです。</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mdconfig -a -t vnode -f /tmp/bootable.iso -u 0</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>mount -t cd9660 /dev/md0 /mnt</code></strong></pre><p><code class="filename">/mnt</code> と
	<code class="filename">/tmp/myboot</code> が同一かどうか確認してください。</p><p><a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/sysutils/mkisofs/pkg-descr">sysutils/mkisofs</a>
      には挙動を細かく制御するために他にもたくさんのオプションがあります。
      特に、ISO 9660
      レイアウトの変更や Joliet および HFS ディスク作成などの
      詳細は <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mkisofs&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mkisofs</span>(8)</span></a> のマニュアルページをご覧ください。</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="burncd"></a>16.5.3. burncd</h3></div></div></div><a id="idp91140176" class="indexterm"></a><p>あなたが持っているのが ATAPI CD ライタなら、CD に ISO
	イメージを書き込むために <code class="command">burncd</code> コマンドが使えます。
	<code class="command">burncd</code> はベースシステムの一部で
	<code class="filename">/usr/sbin/burncd</code> としてインストールされています。
	使い方はとても単純でオプションも少ししかありません。</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>burncd -f cddevice data imagefile.iso fixate</code></strong></pre><p>以上のコマンドは <em class="replaceable"><code>imagefile.iso</code></em>
	のコピーを <em class="replaceable"><code>cddevice</code></em> に書き込みます。
	デフォルトのデバイスは <code class="filename">/dev/acd0c</code> です。
	書き込み速度や操作完了後に CD を自動的に取り出す方法、
	オーディオデータの書き込みなどのオプションについては <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=burncd&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">burncd</span>(8)</span></a>
	を見てください。</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="cdrecord"></a>16.5.4. cdrecord</h3></div></div></div><p>あなたが持っている CD ライタが ATAPI ではなければ、
	CD を書き込むのに <code class="command">cdrecord</code> を使う必要があります。
	<code class="command">cdrecord</code> はベースシステムの一部ではなく、
	<a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/sysutils/cdrtools/pkg-descr">sysutils/cdrtools</a> の port または
	適切な package を利用してインストールしなければなりません。
	なお、ベースシステムを変更するとバイナリに矛盾が発生し、
	<span class="quote">「<span class="quote">コースター</span>」</span> を作ってしまうおそれがあります。
	したがって、システムをアップグレードする度にこの port も作り直すか、
	あるいは<a class="link" href="current-stable.html#stable" title="18.4.2. FreeBSD-STABLE を使う">FreeBSD の安定版を追いかけている</a>のならば、
	新しいバージョンが利用できるようになった時に ports
	をアップグレードする必要があります。</p><p><code class="command">cdrecord</code> にはたくさんのオプションがありますが、
	基本的な使い方は <code class="command">burncd</code> よりもさらに簡単です。
	ISO 9660 イメージを書き込むには以下のようにします。</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cdrecord dev=device imagefile.iso</code></strong></pre><p><code class="command">cdrecord</code> のトリッキーな部分は、使用する
	<code class="option">dev</code> を見つけるところにあります。
	適切な設定を見つけるためには <code class="command">cdrecord</code> の
	<code class="option">-scanbus</code> フラグを使います。
	たとえば、以下のような結果が出力されるでしょう。</p><a id="idp91161680" class="indexterm"></a><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cdrecord -scanbus</code></strong>
Cdrecord 1.9 (i386-unknown-freebsd4.2) Copyright (C) 1995-2000 Jörg Schilling
Using libscg version 'schily-0.1'
scsibus0:
        0,0,0     0) 'SEAGATE ' 'ST39236LW       ' '0004' Disk
        0,1,0     1) 'SEAGATE ' 'ST39173W        ' '5958' Disk
        0,2,0     2) *
        0,3,0     3) 'iomega  ' 'jaz 1GB         ' 'J.86' Removable Disk
        0,4,0     4) 'NEC     ' 'CD-ROM DRIVE:466' '1.26' Removable CD-ROM
        0,5,0     5) *
        0,6,0     6) *
        0,7,0     7) *
scsibus1:
        1,0,0   100) *
        1,1,0   101) *
        1,2,0   102) *
        1,3,0   103) *
        1,4,0   104) *
        1,5,0   105) 'YAMAHA  ' 'CRW4260         ' '1.0q' Removable CD-ROM
        1,6,0   106) 'ARTEC   ' 'AM12S           ' '1.06' Scanner
        1,7,0   107) *</pre><p>リストにあるデバイスに対する適切な <code class="option">dev</code>
	の値がここに示されています。あなたの CD ライタをこのリストから見つけ、
	カンマで区切られた 3 つの数値を <code class="option">dev</code>
	の値として使ってください。この例では CRW デバイスは 1,5,0
	なので、適切な入力は <code class="option">dev=1,5,0</code> となります。
	値を明示するもっと簡単な方法もあります。詳細は <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=cdrecord&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">cdrecord</span>(1)</span></a>
	を見てください。そこにはオーディオトラックを書き込む方法や、
	書き込み速度その他を操作する方法も書かれています。</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="duplicating-audiocds"></a>16.5.5. オーディオ CD の複製</h3></div></div></div><p>CD からオーディオデータを連続したファイルに展開し、ブランク CD
	にこれらのファイルを書き込むことで、オーディオ CD
	を複製することができます。
	この手順は ATAPI および SCSI ドライブの間で少し異なります。</p><div class="procedure"><a id="idp91167696"></a><div class="procedure-title">手順16.1 SCSI ドライブ</div><ol class="procedure" type="1"><li class="step"><p><code class="command">cdda2wav</code> を使用してオーディオを展開します。</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>cdda2wav -v255 -D2,0 -B -Owav</code></strong></pre></li><li class="step"><p><code class="command">cdrecord</code> を使用して
	    <code class="filename">.wav</code> ファイルに書き出します。</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>cdrecord -v dev=2,0 -dao -useinfo  *.wav</code></strong></pre><p><a class="xref" href="creating-cds.html#cdrecord" title="16.5.4. cdrecord">「cdrecord」</a> に説明されているように
	    <em class="replaceable"><code>2.0</code></em>
	    が適切に指定されていることを確かめてください。</p></li></ol></div><div class="procedure"><a id="idp91177936"></a><div class="procedure-title">手順16.2 ATAPI ドライブ</div><ol class="procedure" type="1"><li class="step"><p>ATAPI CD ドライバでは、それぞれのトラックを
	    <code class="filename">/dev/acddtnn</code> のように利用できます。
	    ここで <em class="replaceable"><code>d</code></em> はドライブ番号であり、
	    <em class="replaceable"><code>nn</code></em> は二桁十進のトラック番号です。
	    一桁の場合 0 を前に付加する必要があります。
	    したがって、一番目のディスクの一番目のトラックは
	    <code class="filename">/dev/acd0t01</code>、二番目のトラックは
	    <code class="filename">/dev/acd0t02</code>、三番目のトラックは
	    <code class="filename">/dev/acd0t03</code> などとなります。</p><p>適切なデバイスファイルが <code class="filename">/dev</code>
	    に存在することを確かめてください。
	    存在しなければ、たとえば次のようにして作成します。</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cd /dev</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>sh MAKEDEV acd0t99</code></strong></pre><div xmlns="" class="note"><h3 class="admontitle">注記: </h3><p xmlns="http://www.w3.org/1999/xhtml">FreeBSD 5.0 では <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=devfs&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">devfs</span>(5)</span></a> が
	      <code class="filename">/dev</code> にエントリを自動的に作成、
	      管理するので、<code class="command">MAKEDEV</code>
	      を使用する必要はありません。</p></div></li><li class="step"><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dd&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">dd</span>(1)</span></a> を使用して各トラックを展開します。
	    ファイルを展開する際、ブロックサイズを指定しなければなりません。</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>dd if=/dev/acd0t01 of=track1.cdr bs=2352</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>dd if=/dev/acd0t02 of=track2.cdr bs=2352</code></strong>
...</pre></li><li class="step"><p><code class="command">burncd</code> を使用して、
	    展開したファイルをディスクに書き込みます。
	    これらがオーディオファイルであること、
	    そして書き込みが終了したときに <code class="command">burncd</code>
	    がディスクを固定 (fixate) することを明示しなければなりません。</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>burncd -f /dev/acd0c audio track1.cdr track2.cdr ... fixate</code></strong></pre></li></ol></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="imaging-cd"></a>16.5.6. データ CD の複製</h3></div></div></div><p>データ CD を、<a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/sysutils/mkisofs/pkg-descr">sysutils/mkisofs</a>
	を用いて作成されたイメージファイルと機能的に等価なイメージファイルにコピーできます。
	これを使用して、すべてのデータ CD を複製することができます。
	ここでの例は CDROM デバイスが <code class="filename">acd0</code>
	であるとしています。あなたの CDROM デバイスに読み替えてください。
	CDROM の場合には、パーティション全体またはディスク全体
	を指定するために <code class="literal">c</code>
	をデバイス名の後に追加しなければなりません。</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>dd if=/dev/acd0c of=file.iso bs=2048</code></strong></pre><p>これでディスクイメージを取り出すことができました。
	すでに説明した方法を用いて CD に書き込むことができます。</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="mounting-cd"></a>16.5.7. データ CD の使用</h3></div></div></div><p>さて、標準的なデータ CDROM を作成したので、
	おそらく次はそれをマウントしてデータを読み出したいと思うでしょう。
	デフォルトでは <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mount&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mount</span>(8)</span></a> は、ファイルシステムタイプを
	<code class="literal">ufs</code> としています。
	次のように実行しようとすると、</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mount /dev/cd0c /mnt</code></strong></pre><p><span class="errorname">Incorrect super block</span>
	というエラーが返されてマウントできないでしょう。
	CDROM は <code class="literal">UFS</code> ファイルシステムではないために、
	このような手順でマウントしようすると失敗します。
	ファイルシステムのタイプが <code class="literal">ISO9660</code> であると
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mount&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mount</span>(8)</span></a> に教えさえすれば、すべてはうまく動作します。
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mount&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mount</span>(8)</span></a> に <code class="option">-t cd9660</code>
	オプションを指定することでこれを行います。
	たとえば <code class="filename">/dev/cd0c</code> の CDROM デバイスを
	<code class="filename">/mnt</code> にマウントしたい場合は、
	以下のように実行します。</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mount -t cd9660 /dev/cd0c /mnt</code></strong></pre><p>使用している CDROM インタフェースによっては、
	デバイス名
	(この例では <code class="filename">/dev/cd0c</code>)
	が異なるかもしれないことに注意してください。
	また、<code class="option">-t cd9660</code> オプションは、単に
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mount_cd9660&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mount_cd9660</span>(8)</span></a> を実行します。
	この例を以下のように短縮することもできます。</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mount_cd9660 /dev/cd0c /mnt</code></strong></pre><p>一般的にこの方法では、すべてのメーカの データ CDROM
	を使用することができます。しかしながら、特定の ISO 9660
	拡張が施されたディスクでは奇妙な動作をするかもしれません。
	たとえば Joliet ディスクは、
	すべてのファイル名を 2 バイトの Unicode 文字で格納します。
	FreeBSD カーネルは (まだ) Unicode を理解できないので、
	非英語文字はクエスチョンマークで表示されます
	(FreeBSD 4.3 以降を使用している場合、CD9660 ドライバには適切な Unicode
	変換表を読み込むための急ごしらえのフックが含まれています。
	いくつかの共通のエンコードに対するモジュールは
	<a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/sysutils/cd9660_unicode/pkg-descr">sysutils/cd9660_unicode</a> port
	から利用可能です)。</p><p>CDROM をマウントしようとする時に、
	<span class="errorname">Device not configured</span>
	と表示されるかもしれません。これは、ディスクがトレーにないと
	CDROM ドライブが判断しているか、
	ドライブがバス上に認識できないことを通常意味します。
	ディスクが挿入されたことを CDROM ドライブが認識するには数秒かかりますので、
	辛抱強く待ってください。</p><p>バスのリセットに返答するためのタイムアウトが短いために、時々 SCSI
	CDROM は認識に失敗するかもしれません。SCSI CDROM を持っている場合は、
	次のオプションをカーネルコンフィギュレーションファイルに追加して、
	<a class="link" href="kernelconfig-building.html" title="9.5. カスタムカーネルの構築とインストール">カーネルを再構築してください</a>。</p><pre class="programlisting">options SCSI_DELAY=15000</pre><p>これより、SCSI バスを起動時に 15 秒間停止させて、
	CDROM ドライブがバスリセットに応答する機会を与えます。</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="rawdata-cd"></a>16.5.8. Raw データ CD の書き込み</h3></div></div></div><p>ISO 9660 ファイルシステムを作成すること無く、
	ファイルを直接 CD に書き込むこともできます。
	この方法をバックアップ目的に使用している人もいます。
	これは、標準 CD を書き込むよりもさらに速く実行することができます。</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>burncd -f /dev/acd1c -s 12 data archive.tar.gz fixate</code></strong></pre><p>このように CD に書き込まれたデータを取得するには、
	raw デバイスノードからデータを読み込まなくてはなりません。</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>tar xzvf /dev/acd1c</code></strong></pre><p>このディスクを通常の CDROM としてマウントすることはできません。
	このような CDROM は FreeBSD を除いて、
	他のすべてのオペレーティングシステムでは読み込むことはできません。
	CD をマウントしたいか、
	その他のオペレーティングシステムとデータを共有したい場合は、
	上記に説明したように
	<a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/sysutils/mkisofs/pkg-descr">sysutils/mkisofs</a>
	を使用しなくてはなりません。</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="atapicam"></a>16.5.9. ATAPI/CAM ドライバの使用</h3></div></div></div><a id="idp91227856" class="indexterm"></a><p>このドライバは、ATAPI デバイス (CD-ROM, CD-RW, DVD ドライブなど)
	へ SCSI サブシステムを通じてアクセスすることを可能にします。
	これにより、<a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/sysutils/cdrdao/pkg-descr">sysutils/cdrdao</a> または
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=cdrecord&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">cdrecord</span>(1)</span></a> のようなアプリケーションが使用できるようになります。</p><p>このドライバを使用するためには、
	カーネルコンフィギュレーションファイルに次の行を追加する必要があります。</p><pre class="programlisting">device atapicam
device scbus
device cd
device pass</pre><p>次の行もカーネルコンフィギュレーションファイルに必要です。</p><pre class="programlisting">device ata
device atapicd</pre><p>両方がすでに存在しなければなりません。</p><p>それから再構築し、新しいカーネルをインストールし、
	コンピュータを再起動します。
	起動プロセス中にディスクライタは以下のように表示されるでしょう。</p><pre class="screen">acd0: CD-RW &lt;MATSHITA CD-RW/DVD-ROM UJDA740&gt; at ata1-master PIO4
cd0 at ata1 bus 0 target 0 lun 0
cd0: &lt;MATSHITA CDRW/DVD UJDA740 1.00&gt; Removable CD-ROM SCSI-0 device
cd0: 16.000MB/s transfers
cd0: Attempt to query device size failed: NOT READY, Medium not present - tray closed</pre><p>ドライブは <code class="filename">/dev/cd0</code>
	デバイスを通じてアクセスすることが可能となります。
	たとえば、次のようにして CD-ROM を <code class="filename">/mnt</code>
	にマウントします。</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mount -t cd9660 /dev/cd0c /mnt</code></strong></pre><p><code class="systemitem">root</code> 権限で次のコマンドを実行して、
	ライタの SCSI アドレスを得ることができます。</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>camcontrol devlist</code></strong>
&lt;MATSHITA CDRW/DVD UJDA740 1.00&gt;   at scbus1 target 0 lun 0 (pass0,cd0)</pre><p>したがって、<code class="literal">1,0,0</code> が <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=cdrecord&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">cdrecord</span>(1)</span></a>
	およびその他の SCSI アプリケーションで使用する SCSI アドレスです。</p><p>ATAPI/CAM および SCSI システムの詳細は <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=atapicam&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">atapicam</span>(4)</span></a> および
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=cam&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">cam</span>(4)</span></a> マニュアルページを参照してください。</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="raid.html">戻る</a>〓</td><td width="20%" align="center"><a accesskey="u" href="disks.html">上に戻る</a></td><td width="40%" align="right">〓<a accesskey="n" href="floppies.html">次へ</a></td></tr><tr><td width="40%" align="left" valign="top">16.4. RAID〓</td><td width="20%" align="center"><a accesskey="h" href="index.html">ホーム</a></td><td width="40%" align="right" valign="top">〓16.6. フロッピーディスクの作成と使用</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>本文書、および他の文書は
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>
    からダウンロードできます。</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>FreeBSD に関する質問がある場合には、
    <a href="http://www.FreeBSD.org/ja/docs.html">ドキュメント</a> を読んだ上で
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt; まで (英語で) 連絡してください。<br></br>
    本文書に関する質問については、
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt; まで電子メールを (英語で) 送ってください。</small></p></body></html>