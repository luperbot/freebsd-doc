<?xml version="1.0" encoding="euc-jp" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=euc-jp" /><title>11.3. Mathematica のインストール</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD ハンドブック" /><link rel="up" href="linuxemu.html" title="第11章 Linux バイナリ互換機能" /><link rel="prev" href="linuxemu-lbc-install.html" title="11.2. インストール" /><link rel="next" href="linuxemu-oracle.html" title="11.4. Oracle のインストール" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">11.3. Mathematica のインストール</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="linuxemu-lbc-install.html">戻る</a>〓</td><th width="60%" align="center">第11章 Linux バイナリ互換機能</th><td width="20%" align="right">〓<a accesskey="n" href="linuxemu-oracle.html">次へ</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="linuxemu-mathematicau"></a>11.3. Mathematica のインストール</h2></div></div></div><p><span class="emphasis"><em><span class="application">Mathematica</span> 4.X 用に Murray Stokely
      がアップデートし、Bojan Bistrovic <code class="email">&lt;<a xmlns="" class="email" href="mailto:bojanb@physics.odu.edu">bojanb@physics.odu.edu</a>&gt;</code>
      がマージしました。</em></span></p><a id="idp87701840" class="indexterm"></a><p>この章では、<span class="application">Mathematica</span> 4.X Linux 版の FreeBSD
      へのインストールについて説明します。</p><p>Linux 版の <span class="application">Mathematica</span> は
      FreeBSD においても完璧に動きます。
      ただ、実行する際に Linux ABI を用いる必要があることを
      FreeBSD に教えるために、Wolfram によって出荷されているバイナリにマーク付け
      (branded) をする必要があります。</p><p><span class="application">Mathematica</span> や
      <span class="application">Mathematica for Students</span> の Linux 版は Wolfram
      (<a class="link" href="http://www.wolfram.com/" target="_top">http://www.wolfram.com/</a>)
      から直接注文することができます。</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp87706320"></a>11.3.1. Linux バイナリへのマーク付け (branding)</h3></div></div></div><p>Linux 用バイナリは Wolfram の <span class="application">Mathematica</span>
	CD-ROM の <code class="filename">Unix</code> ディレクトリにあります。
	インストーラーを起動する前にこのディレクトリをローカルディスクにコピーし、
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=brandelf&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">brandelf</span>(1)</span></a> により Linux バイナリにマークを付けます。</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mount /cdrom</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>cp -rp /cdrom/Unix/ /localdir/</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>brandelf -t Linux /localdir/Files/SystemFiles/Kernel/Binaries/Linux/*</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>brandelf -t Linux /localdir/Files/SystemFiles/FrontEnd/Binaries/Linux/*</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>brandelf -t Linux /localdir/Files/SystemFiles/Installation/Binaries/Linux/*</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>brandelf -t Linux /localdir/Files/SystemFiles/Graphics/Binaries/Linux/*</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>brandelf -t Linux /localdir/Files/SystemFiles/Converters/Binaries/Linux/*</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>brandelf -t Linux /localdir/Files/SystemFiles/LicenseManager/Binaries/Linux/mathlm</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>cd /localdir/Installers/Linux/</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>./MathInstaller</code></strong></pre><p>また以下のようにすると、マーク付けされていない
	 ELF バイナリすべての扱いを、デフォルトで Linux
	 バイナリとすることが可能です。</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>sysctl -w kern.fallback_elf_brand=3</code></strong></pre><p>これは FreeBSD システムに対して、
	 マーク付けされていない ELF バイナリが
	 Linux ABI を利用するように設定します。こうすることで、
	 CDROM から直接インストーラを実行することが可能になります。</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp87722960"></a>11.3.2. Mathematica パスワードの取得</h3></div></div></div><p><span class="application">Mathematica</span> を起動する前に Wolfram から自分の
	<span class="quote">「<span class="quote">マシン ID</span>」</span> に対応したパスワードを取得しなければいけません。</p><a id="idp87724624" class="indexterm"></a><p>一旦 Linux 互換ランタイムライブラリをインストールし、
	<span class="application">Mathematica</span> を展開すれば Install ディレクトリにある
	<code class="command">mathinfo</code> プログラムを起動して
	<span class="quote">「<span class="quote">マシン ID</span>」</span> を得ることができます。
	このマシン ID は、最初に見つかったイーサネットカードの MAC アドレスをベースに生成されます。</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cd /localdir/Files/SystemFiles/Installation/Binaries/Linux</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>mathinfo</code></strong>
disco.example.com 7115-70839-20412</pre><p>電子メールや電話、FAX などで Wolfram に登録する時にはこの
	<span class="quote">「<span class="quote">マシン ID</span>」</span> を渡します。
	するといくつかの数字から構成されるパスワードが返されるので、
	他の <span class="application">Mathematica</span>
	プラットホームでするのと全く同じように最初に
	<span class="application">Mathematica</span>
	を立ち上げる時にその情報を入力します。</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp87739344"></a>11.3.3. ネットワーク経由での Mathematica フロントエンドの起動</h3></div></div></div><p><span class="application">Mathematica</span>
	は標準フォントセットにない特別な記号
	(積分記号、総和記号、ギリシャ文字など)
	を表示するために特殊なフォントを使用します。
	X プロトコルは、これらのフォントが
	<span class="emphasis"><em>ローカルマシンに</em></span>
	インストールされていることを要求します。
	これはつまり、ローカルマシンに (CD-ROM や <span class="application">Mathematica</span>
	がインストールされているホストマシンから)
	そのフォントをコピーしなければならないということです。
	これらのフォントは通常、CD-ROM の
	<code class="filename">/cdrom/Unix/Files/SystemFiles/Fonts</code> か、もしくはハードディスクの
	<code class="filename">/usr/local/mathematica/SystemFiles/Fonts</code>
	に置かれており、実際に使用されるフォントは <code class="filename">Type1</code> と
	<code class="filename">X</code> のサブディレクトリに格納されています。
	これらを利用するには次のような二つ方法があります。</p><p>一つは、フォントファイルをすべて
	<code class="filename">/usr/X11R6/lib/X11/fonts/</code>
	以下にある既存のフォントディレクトリにコピーする方法です。
	この場合、<code class="filename">fonts.dir</code> にフォント名を追加し、
	先頭行のフォント総数を変更することも必要になります。
	あるいは、フォントをコピーしたディレクトリで
	<code class="command">mkfontdir</code> を実行するだけでもかまいません。</p><p>もう一つの方法は、
	<code class="filename">/usr/X11R6/lib/X11/fonts/</code>
	にフォントディレクトリごとコピーする方法です。</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cd /usr/X11R6/lib/X11/fonts</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>mkdir X</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>mkdir MathType1</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>cd /cdrom/Unix/Files/SystemFiles/Fonts</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>cp X/* /usr/X11R6/lib/X11/fonts/X</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>cp Type1/* /usr/X11R6/lib/X11/fonts/MathType1</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>cd /usr/X11R6/lib/X11/fonts/X</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>mkfontdir</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>cd ../MathType1</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>mkfontdir</code></strong></pre><p>そして、フォントパスに新しいフォントディレクトリを追加します。</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>xset fp+ /usr/X11R6/lib/X11/fonts/X</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>xset fp+ /usr/X11R6/lib/X11/fonts/MathType1</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>xset fp rehash</code></strong></pre><p>XFree86 サーバを使用しているなら、
	<code class="filename">/etc/XF86Config</code>
	に加えることでこれらのフォントを自動的に読み込むことができます。</p><a id="idp87760976" class="indexterm"></a><p>
	<code class="filename">/usr/X11R6/lib/X11/fonts/Type1</code> という
	ディレクトリが<span class="emphasis"><em>存在していない</em></span>場合には、
	上記例の <code class="filename">MathType1</code> を
	<code class="filename">Type1</code>
	とすることができます。</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="linuxemu-lbc-install.html">戻る</a>〓</td><td width="20%" align="center"><a accesskey="u" href="linuxemu.html">上に戻る</a></td><td width="40%" align="right">〓<a accesskey="n" href="linuxemu-oracle.html">次へ</a></td></tr><tr><td width="40%" align="left" valign="top">11.2. インストール〓</td><td width="20%" align="center"><a accesskey="h" href="index.html">ホーム</a></td><td width="40%" align="right" valign="top">〓11.4. Oracle のインストール</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>本文書、および他の文書は
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>
    からダウンロードできます。</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>FreeBSD に関する質問がある場合には、
    <a href="http://www.FreeBSD.org/ja/docs.html">ドキュメント</a> を読んだ上で
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt; まで (英語で) 連絡してください。<br></br>
    本文書に関する質問については、
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt; まで電子メールを (英語で) 送ってください。</small></p></body></html>