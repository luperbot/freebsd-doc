<?xml version="1.0" encoding="euc-jp" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=euc-jp" /><title>4.9. シェル</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD ハンドブック" /><link rel="up" href="basics.html" title="第4章 UNIX の基礎知識" /><link rel="prev" href="basics-daemons.html" title="4.8. デーモン、シグナルとプロセス終了" /><link rel="next" href="editors.html" title="4.10. テキストエディタ" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">4.9. シェル</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="basics-daemons.html">戻る</a>〓</td><th width="60%" align="center">第4章 UNIX の基礎知識</th><td width="20%" align="right">〓<a accesskey="n" href="editors.html">次へ</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="shells"></a>4.9. シェル</h2></div></div></div><a id="idp83197136" class="indexterm"></a><a id="idp83197648" class="indexterm"></a><p>FreeBSD では日々の作業のほとんどは、
      「シェル」と呼ばれるコマンドラインインタフェイスを通して行われます。
      シェルの主な仕事はコマンドを入力チャンネルから受け取り、
      そしてそれらを実行することです。
      大部分のシェルはさらに組み込みの機能を持っていて、日々の作業、
      ファイル管理やファイル名の展開、コマンドライン編集、
      コマンドマクロ、環境変数などに便利です。
      FreeBSD には <code class="command">sh</code> (Bourne Shell) や
      <code class="command">tcsh</code> (高機能 C-shell) が含まれています。
      また、
      これ以外にも <code class="command">zsh</code> や <code class="command">bash</code>
      などたくさんのシェルが FreeBSD Ports Collection から利用可能です。</p><p>「あなたは、どのシェルを使いますか?」という質問は、
      まったく趣味の問題です。
      あなたが C のプログラマだったとすれば、
      <code class="command">tcsh</code> のような C 風のシェルの方が落ち着くかもしれません。
      Linux から来た人や <span class="trademark">UNIX</span>® のコマンドラインインタフェイスになじみがなければ、
      <code class="command">bash</code> を試すのも良いでしょう。
      ポイントは、それぞれのシェルは、
      あなたの好みの作業環境で利用できる (もしくはできない) 独自の機能を持っているということ、
      そして、どのシェルを使うことにするかを決めるのはあなた自身だということです。</p><p>シェルの一般的な機能の一つに、ファイル名の補完があります。
      コマンドやファイル名の最初の数文字を与えて <span class="keycap"><strong>Tab</strong></span> キーを押すことで、
      シェルにコマンドやファイル名の残りの部分を自動的に補完させることができます。
      例をあげましょう。 二つのファイル
      <code class="filename">foobar</code>, <code class="filename">foo.bar</code> が
      あったとします。 ここで <code class="filename">foo.bar</code>
      の方を削除するには、
      <code class="command">rm fo[Tab].[Tab]</code> と入力します。</p><a id="idp83220560" class="indexterm"></a><p>するとシェルは <code class="command">rm
      foo[BEEP].bar</code> と出力するでしょう。</p><p>[BEEP] のところはコンソールのベル (訳注: 通常はビープ音が鳴ります) です。
      これは複数のファイルがマッチしたため、
      ファイル名の補完を完全に行なえなかったことを伝えています。
      <code class="filename">foobar</code> と
      <code class="filename">foo.bar</code> は
      両方とも <code class="literal">fo</code> ではじまるため、
      補完できるのは <code class="literal">foo</code> までです。
      ここで <code class="literal">.</code> を入力して <span class="keycap"><strong>Tab</strong></span> を押せば、
      シェルはファイル名の残りの部分を補完できます。</p><p>もう一つあげられるシェルの特徴として、環境変数があります。
      環境変数とは、シェルの環境変数空間におけるキーと値とのペアです。
      この変数空間は、そのシェルから起動されたプログラムから参照でき、
      それを利用してプログラムの設定を保存するのに利用されます。
     下の表は、一般的な環境変数とその意味を示したものです。</p><a id="idp83224912" class="indexterm"></a><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>変数名</th><th>意味</th></tr></thead><tbody><tr><td><code class="envar">USER</code></td><td>現在のログインユーザのユーザ名。</td></tr><tr><td><code class="envar">PATH</code></td><td>コロンで区切られた実行ファイル探索のための
	      ディレクトリのリスト。</td></tr><tr><td><code class="envar">DISPLAY</code></td><td>接続する X11 ディスプレイのネットワーク名 (存在する場合のみ)。</td></tr><tr><td><code class="envar">SHELL</code></td><td>現在のシェル。</td></tr><tr><td><code class="envar">TERM</code></td><td>ユーザの端末種名。
              端末のケーパビリティを決定するのに使われる。</td></tr><tr><td><code class="envar">TERMCAP</code></td><td>種々の端末の機能を実現する端末のエスケープコードの
	      データベースのエントリ。</td></tr><tr><td><code class="envar">OSTYPE</code></td><td>オペレーティングシステムの種別。
              たとえば FreeBSD。</td></tr><tr><td><code class="envar">MACHTYPE</code></td><td>システムが動作している CPU のアーキテクチャ。</td></tr><tr><td><code class="envar">EDITOR</code></td><td>ユーザの選んだテキストエディタ。</td></tr><tr><td><code class="envar">PAGER</code></td><td>ユーザの選んだテキストページャ。</td></tr><tr><td><code class="envar">MANPATH</code></td><td>コロンで区切られたマニュアルページ探索のための
	      ディレクトリのリスト。</td></tr></tbody></table></div><a id="idp83242960" class="indexterm"></a><p>環境変数をセットする方法は、
      それぞれのシェルごとに多少異なります。
      たとえば、<code class="command">tcsh</code> や <code class="command">csh</code> 等の C シェルでは
      <code class="command">setenv</code> を使います。
      <code class="command">sh</code> や <code class="command">bash</code> 等の Bourne シェルでは
      <code class="command">set</code> と <code class="command">export</code>
      を使います。
      たとえば <code class="command">csh</code> か <code class="command">tcsh</code> で
      <code class="envar">EDITOR</code> 環境変数の値を
      <code class="filename">/usr/local/bin/emacs</code> に
      セットするか変更するには、次のようにします。</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>setenv EDITOR /usr/local/bin/emacs</code></strong></pre><p>Bourne シェルでは次のようになります。</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>export EDITOR="/usr/local/bin/emacs"</code></strong></pre><p>ほとんどのシェルでは、
      コマンドライン中の変数名の前に <code class="literal">$</code> 文字を置くことで、
      環境変数を展開させることができます。
      たとえば、
      <code class="command">echo $TERM</code> は <code class="envar">$TERM</code> が
      セットされている内容を表示します。
      それはシェルが <code class="envar">$TERM</code> を展開して
      <code class="command">echo</code> に渡しているからです。</p><p>シェルはさまざまな特殊文字を、特別なデータを表すものとして扱います。
      その特殊文字はメタキャラクタと呼ばれます。
      もっとも一般的なものは <code class="literal">*</code> で、
      これはファイル名に含まれる、あらゆる文字を表します。
      これらの特殊なメタキャラクタはファイル名の展開に使われます。
      たとえば、<code class="command">echo *</code> と入力すると
      <code class="command">ls</code> と入力したのとほとんど同じ結果を得られます。
      これはシェルが <code class="literal">*</code> とマッチするすべてのファイルを
      受け取って <code class="command">echo</code> のコマンドラインに渡し、表示するからです。</p><p>これらの特殊文字をシェルに解釈させないようにするため、
      特殊文字の前にバックスラッシュ文字 (<code class="literal">\</code>)
      を置くことができます。
      <code class="command">echo $TERM</code> は、
      あなたの端末が何にセットされているかを表示します。
      <code class="command">echo \$TERM</code> は <code class="envar">$TERM</code> と
      そのまま表示します。</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="changing-shells"></a>4.9.1. シェルの変更</h3></div></div></div><p>シェルを変更する一番簡単な方法は <code class="command">chsh</code>
	コマンドを使うことです。 <code class="command">chsh</code> を実行すると
	環境変数 <code class="envar">EDITOR</code> で示されたエディタが立ち上がります。
	環境変数をセットしていなかった時は
        <code class="command">vi</code> が立ち上がります。
	<span class="quote">「<span class="quote">Shell:</span>」</span> の行を適宜変更してください。</p><p><code class="command">chsh</code> に
        <code class="option">-s</code> オプションをつけると、
        エディタを起動せずにシェルを変更することが可能です。
        たとえば、シェルを <code class="command">bash</code> に変えたいなら、次のようにしてください。
      </p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>chsh -s /usr/local/bin/bash</code></strong></pre><div xmlns="" class="note"><h3 class="admontitle">注記: </h3><p xmlns="http://www.w3.org/1999/xhtml">使おうと思っているシェルは<span class="emphasis"><em>必ず</em></span>
	  <code class="filename">/etc/shells</code> 中に書かれているものでなければなりません。
	  シェルを <a class="link" href="ports.html" title="第5章 アプリケーションのインストール - packages と ports">Ports Collection</a>
	  からインストールしていたのであれば、すでにそれは行なわれていますが、
	  手動でインストールした場合は、それを忘れずに行ってください。</p><p xmlns="http://www.w3.org/1999/xhtml">たとえば、<code class="command">bash</code>
          を手動で
          <code class="filename">/usr/local/bin</code>
          にインストールした場合
          以下のようにする必要があります。</p><pre xmlns="http://www.w3.org/1999/xhtml" class="screen"><code class="prompt">#</code> <strong class="userinput"><code>echo "/usr/local/bin/bash" &gt;&gt; /etc/shells</code></strong></pre><p xmlns="http://www.w3.org/1999/xhtml">そして <code class="command">chsh</code> を実行してください。</p></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="basics-daemons.html">戻る</a>〓</td><td width="20%" align="center"><a accesskey="u" href="basics.html">上に戻る</a></td><td width="40%" align="right">〓<a accesskey="n" href="editors.html">次へ</a></td></tr><tr><td width="40%" align="left" valign="top">4.8. デーモン、シグナルとプロセス終了〓</td><td width="20%" align="center"><a accesskey="h" href="index.html">ホーム</a></td><td width="40%" align="right" valign="top">〓4.10. テキストエディタ</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>本文書、および他の文書は
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>
    からダウンロードできます。</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>FreeBSD に関する質問がある場合には、
    <a href="http://www.FreeBSD.org/ja/docs.html">ドキュメント</a> を読んだ上で
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt; まで (英語で) 連絡してください。<br></br>
    本文書に関する質問については、
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt; まで電子メールを (英語で) 送ってください。</small></p></body></html>