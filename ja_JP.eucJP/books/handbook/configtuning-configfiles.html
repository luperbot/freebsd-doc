<?xml version="1.0" encoding="euc-jp" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=euc-jp" /><title>12.6. 設定ファイル</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD ハンドブック" /><link rel="up" href="config-tuning.html" title="第12章 設定とチューニング" /><link rel="prev" href="configtuning-virtual-hosts.html" title="12.5. バーチャルホスト" /><link rel="next" href="configtuning-sysctl.html" title="12.7. sysctl によるチューニング" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">12.6. 設定ファイル</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="configtuning-virtual-hosts.html">戻る</a>〓</td><th width="60%" align="center">第12章 設定とチューニング</th><td width="20%" align="right">〓<a accesskey="n" href="configtuning-sysctl.html">次へ</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="configtuning-configfiles"></a>12.6. 設定ファイル</h2></div></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88558928"></a>12.6.1. <code class="filename">/etc</code> のレイアウト</h3></div></div></div><p>設定のための情報が含まれているディレクトリはたくさんあります。
	それぞれ以下のものを含んでいます。</p><div class="informaltable"><table border="0"><colgroup><col /><col /></colgroup><tbody><tr><td><code class="filename">/etc</code></td><td>システム全般の設定情報。  ここにあるデータはシステム
	        固有のものです。</td></tr><tr><td><code class="filename">/etc/defaults</code></td><td>デフォルトのシステム設定ファイル。</td></tr><tr><td><code class="filename">/etc/mail</code></td><td>追加的な <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sendmail&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sendmail</span>(8)</span></a> の設定、他の MTA の設定ファイル。
	      </td></tr><tr><td><code class="filename">/etc/ppp</code></td><td>ユーザモード、およびカーネルモードの ppp プログラムの設定。
	      </td></tr><tr><td><code class="filename">/etc/namedb</code></td><td><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=named&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">named</span>(8)</span></a> のデータのデフォルトの置場。通常
		boot ファイルはここに置かれ、
		<code class="filename">/var/db</code> に置かれた他のデータを
		参照するディレクティブを含みます。</td></tr><tr><td><code class="filename">/usr/local/etc</code></td><td>インストールされたアプリケーションの設定ファイル。
		アプリケーションごとのサブディレクトリを含んでいることがあります。</td></tr><tr><td><code class="filename">/usr/local/etc/rc.d</code></td><td>インストールされたアプリケーションの起動/停止スクリプト。</td></tr><tr><td><code class="filename">/var/db</code></td><td>永続的なシステム固有のデータファイル。 たとえば
		<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=named&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">named</span>(8)</span></a> のゾーンファイル、データベースファイル等。</td></tr></tbody></table></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88579024"></a>12.6.2. ホスト名</h3></div></div></div><a id="idp88579664" class="indexterm"></a><a id="idp88580176" class="indexterm"></a><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88580688"></a>12.6.2.1. <code class="filename">/etc/resolv.conf</code></h4></div></div></div><a id="idp88581456" class="indexterm"></a><p><code class="filename">/etc/resolv.conf</code> は FreeBSD に
	  インターネットドメインネームシステム (DNS)
	  にどのようにアクセスするかを指定します。</p><p><code class="filename">resolv.conf</code> の最もよくあるエントリは
	</p><div class="informaltable"><table border="0"><colgroup><col /><col /></colgroup><tbody><tr><td><code class="literal">nameserver</code></td><td>リゾルバが問い合わせるべきネームサーバの IP アドレス。
		  サーバはリストの順に 3 番目まで問い合わせられます。</td></tr><tr><td><code class="literal">search</code></td><td>ホスト名をルックアップするための検索リスト。
		  通常、ローカルなホスト名のドメインから決定されます。</td></tr><tr><td><code class="literal">domain</code></td><td>ローカルドメイン名。</td></tr></tbody></table></div><p>基本的な <code class="filename">resolv.conf</code>。</p><pre class="programlisting">search example.com
nameserver 147.11.1.11
nameserver 147.11.100.30</pre><div xmlns="" class="note"><h3 class="admontitle">注記: </h3><p xmlns="http://www.w3.org/1999/xhtml"><code class="literal">search</code> オプションと
	  <code class="literal">domain</code> オプションは、
	  どちらか一方しか使ってはいけません。</p></div><p>DHCP を利用している場合、<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dhclient&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">dhclient</span>(8)</span></a> は通常
	  <code class="filename">resolv.conf</code> を DHCP サーバから受け取っ
	  た情報で書き換えます。</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88593104"></a>12.6.2.2. <code class="filename">/etc/hosts</code></h4></div></div></div><a id="idp88593872" class="indexterm"></a><p><code class="filename">/etc/hosts</code> は古きインターネットを
	  偲ばせるシンプルなテキストのデータベースです。
	  これはホスト名と IP アドレスをマッピングする DNS や NIS
	  と組み合わせて使われます。  LAN でつながれているローカルな計算機は、
	  名前引きを簡単にするために
	  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=named&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">named</span>(8)</span></a> サーバを立ち上げるかわりにここに書くことができます。
	  さらに <code class="filename">/etc/hosts</code>
	  はインターネット名のローカルなレコードを提供し、
	  よくアクセスされる名前を外部に問い合わせるのを減らすためにも使えます。</p><pre class="programlisting"># $FreeBSD$
#
# Host Database
# This file should contain the addresses and aliases
# for local hosts that share this file.
# In the presence of the domain name service or NIS, this file may
# not be consulted at all; see /etc/nsswitch.conf for the resolution order.
#
#
::1                     localhost localhost.my.domain myname.my.domain
127.0.0.1               localhost localhost.my.domain myname.my.domain

#
# Imaginary network.
#10.0.0.2               myname.my.domain myname
#10.0.0.3               myfriend.my.domain myfriend
#
# According to RFC 1918, you can use the following IP networks for
# private nets which will never be connected to the Internet:
#
#       10.0.0.0        -   10.255.255.255
#       172.16.0.0      -   172.31.255.255
#       192.168.0.0     -   192.168.255.255
#
# In case you want to be able to connect to the Internet, you need
# real official assigned numbers.  PLEASE PLEASE PLEASE do not try
# to invent your own network numbers but instead get one from your
# network provider (if any) or from the Internet Registry (ftp to
# rs.internic.net, directory `/templates').
#</pre><p><code class="filename">/etc/hosts</code> は、
          次のようなごく簡単なフォーマットになっています。</p><pre class="programlisting">[インターネットアドレス] [正式なホスト名] [別名1] [別名2] ...</pre><p>例:</p><pre class="programlisting">10.0.0.1 myRealHostname.example.com myRealHostname foobar1 foobar2</pre><p>これ以上の情報は <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=hosts&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">hosts</span>(5)</span></a> をあたってください。</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88599760"></a>12.6.3. ログファイルに関係する設定</h3></div></div></div><a id="idp88600400" class="indexterm"></a><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88600912"></a>12.6.3.1. <code class="filename">syslog.conf</code></h4></div></div></div><a id="idp88610000" class="indexterm"></a><p><code class="filename">syslog.conf</code>
	  は <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=syslogd&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">syslogd</span>(8)</span></a> プログラムのための設定ファイルです。
	  これはどのタイプの <code class="command">syslog</code> メッセージを対応する
	  ログファイルに記録するかを指定します。</p><pre class="programlisting"># $FreeBSD$
#
#       Spaces ARE valid field separators in this file. However,
#       other *nix-like systems still insist on using tabs as field
#       separators. If you are sharing this file between systems, you
#       may want to use only tabs as field separators here.
#       Consult the syslog.conf(5) manual page.
*.err;kern.debug;auth.notice;mail.crit          /dev/console
*.notice;kern.debug;lpr.info;mail.crit;news.err /var/log/messages
security.*                                      /var/log/security
mail.info                                       /var/log/maillog
lpr.info                                        /var/log/lpd-errs
cron.*                                          /var/log/cron
*.err                                           root
*.notice;news.err                               root
*.alert                                         root
*.emerg                                         *
# uncomment this to log all writes to /dev/console to /var/log/console.log
#console.info                                   /var/log/console.log
# uncomment this to enable logging of all log messages to /var/log/all.log
#*.*                                            /var/log/all.log
# uncomment this to enable logging to a remote log host named loghost
#*.*                                            @loghost
# uncomment these if you're running inn
# news.crit                                     /var/log/news/news.crit
# news.err                                      /var/log/news/news.err
# news.notice                                   /var/log/news/news.notice
!startslip
*.*                                             /var/log/slip.log
!ppp
*.*                                             /var/log/ppp.log</pre><p>これ以上の情報は <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=syslog.conf&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">syslog.conf</span>(5)</span></a> のマニュアルページに
	  あたってください。</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88614096"></a>12.6.3.2. <code class="filename">newsyslog.conf</code></h4></div></div></div><a id="idp88614864" class="indexterm"></a><p><code class="filename">newsyslog.conf</code> は、通常
	  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=cron&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">cron</span>(8)</span></a> によって予定を決めて実行されるプログラム
	  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=newsyslog&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">newsyslog</span>(8)</span></a> のための設定ファイルです。
	  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=newsyslog&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">newsyslog</span>(8)</span></a> は、
	  ログファイルをいつ保存して再編するかを決定します。
	  <code class="filename">logfile</code> は <code class="filename">logfile.0</code>
	  に移され、<code class="filename">logfile.0</code> は
	  <code class="filename">logfile.1</code> に、そして以下同様に移されます。
	  また、ログファイルを <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=gzip&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">gzip</span>(1)</span></a> 形式で保存することもできます。
	  この場合ファイル名は <code class="filename">logfile.0.gz</code>,
	  <code class="filename">logfile.1.gz</code> の様になります。</p><p><code class="filename">newsyslog.conf</code>
	  はどのログファイルが管理され、どのくらいの期間保存され、
	  そしていつ touch されるかを指定します。
	  ログファイルはあるサイズに到達するか、ある決められた時刻・
	  日時で再編されあるいは保存されます。</p><pre class="programlisting"># configuration file for newsyslog
# $FreeBSD$
#
# filename          [owner:group]    mode count size when [ZB] [/pid_file] [sig_num]
/var/log/cron                           600  3     100  *     Z
/var/log/amd.log                        644  7     100  *     Z
/var/log/kerberos.log                   644  7     100  *     Z
/var/log/lpd-errs                       644  7     100  *     Z
/var/log/maillog                        644  7     *    @T00  Z
/var/log/sendmail.st                    644  10    *    168   B
/var/log/messages                       644  5     100  *     Z
/var/log/all.log                        600  7     *    @T00  Z
/var/log/slip.log                       600  3     100  *     Z
/var/log/ppp.log                        600  3     100  *     Z
/var/log/security                       600  10    100  *     Z
/var/log/wtmp                           644  3     *    @01T05 B
/var/log/daily.log                      640  7     *    @T00  Z
/var/log/weekly.log                     640  5     1    $W6D0 Z
/var/log/monthly.log                    640  12    *    $M1D0 Z
/var/log/console.log                    640  5     100  *     Z</pre><p>これ以上の情報は <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=newsyslog&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">newsyslog</span>(8)</span></a> のマニュアルページに
	  あたってください。</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88624080"></a>12.6.4. <code class="filename">sysctl.conf</code></h3></div></div></div><a id="idp88624848" class="indexterm"></a><a id="idp88625360" class="indexterm"></a><p><code class="filename">sysctl.conf</code> は
	<code class="filename">rc.conf</code> によく似ています。
	値は<code class="literal">変数=値</code>のかたちでセットされます。
	指定された値はシステムがマルチユーザモードに移行した後でセットされます。
	すべての変数がこのモードで設定可能というわけではありません。</p><p>以下は <code class="filename">sysctl.conf</code> のサンプルで
        致命的なシグナルを記録しないように、また Linux プログラムに
	それらが実際は FreeBSD 上で動いていることを知らせる様に
	チューニングしています。</p><pre class="programlisting">kern.logsigexit=0       # Do not log fatal signal exits (e.g. sig 11)
compat.linux.osname=FreeBSD
compat.linux.osrelease=4.3-STABLE</pre></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="configtuning-virtual-hosts.html">戻る</a>〓</td><td width="20%" align="center"><a accesskey="u" href="config-tuning.html">上に戻る</a></td><td width="40%" align="right">〓<a accesskey="n" href="configtuning-sysctl.html">次へ</a></td></tr><tr><td width="40%" align="left" valign="top">12.5. バーチャルホスト〓</td><td width="20%" align="center"><a accesskey="h" href="index.html">ホーム</a></td><td width="40%" align="right" valign="top">〓12.7. sysctl によるチューニング</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>本文書、および他の文書は
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>
    からダウンロードできます。</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>FreeBSD に関する質問がある場合には、
    <a href="http://www.FreeBSD.org/ja/docs.html">ドキュメント</a> を読んだ上で
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt; まで (英語で) 連絡してください。<br></br>
    本文書に関する質問については、
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt; まで電子メールを (英語で) 送ってください。</small></p></body></html>