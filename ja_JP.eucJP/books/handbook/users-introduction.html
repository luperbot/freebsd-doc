<?xml version="1.0" encoding="euc-jp" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=euc-jp" /><title>14.2. アカウントの種類</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD ハンドブック" /><link rel="up" href="users.html" title="第14章 ユーザと基本的なアカウントの管理" /><link rel="prev" href="users.html" title="第14章 ユーザと基本的なアカウントの管理" /><link rel="next" href="users-modifying.html" title="14.3. アカウント情報の管理" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">14.2. アカウントの種類</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="users.html">戻る</a>〓</td><th width="60%" align="center">第14章 ユーザと基本的なアカウントの管理</th><td width="20%" align="right">〓<a accesskey="n" href="users-modifying.html">次へ</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="users-introduction"></a>14.2. アカウントの種類</h2></div></div></div><p>FreeBSD システムへアクセスするには、
      かならずアカウントが使われ、
      また、プロセスもすべてユーザによって実行されるので、
      ユーザとアカウントの管理は、重要なものです。
    </p><p>アカウントには大きく分けて三種類あります。
      システムアカウント (system accounts)、ユーザアカウント (user accounts)、
      そしてスーパーユーザ (superuser) です。</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="users-system"></a>14.2.1. システムアカウント</h3></div></div></div><a id="idp88974800" class="indexterm"></a><p>システムアカウントは、DNS、メール、
	ウェブサーバといった各種サービスを運用するために使われます。
	この目的は、セキュリティを確保するためです。
	もしすべてのサービスがスーパーユーザで実行されていると、
	それらのサービスはどんな動作でも可能となり、
	適切な制限を適用することができません。</p><a id="idp88976336" class="indexterm"></a><a id="idp88977744" class="indexterm"></a><p>システムアカウントの具体例は、
	<code class="systemitem">daemon</code>, <code class="systemitem">operator</code>,
	<code class="systemitem">bind</code>, <code class="systemitem">news</code> および
	<code class="systemitem">www</code> といったものです。</p><a id="idp88998608" class="indexterm"></a><p><code class="systemitem">nobody</code>
	は通常の特権を持たないシステムアカウントです。
	しかし、<code class="systemitem">nobody</code>
	を利用するサービスが増えれば増えるほど、
	それに所属するファイルやプロセスも増え、
	その特権も大きくなるということを忘れないようにしてください。</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="users-user"></a>14.2.2. ユーザアカウント</h3></div></div></div><a id="idp89002192" class="indexterm"></a><p>ユーザアカウントは、
	主に現実のユーザがシステムにアクセスする手段として用いられるものです。
	システムにアクセスするすべてのユーザは、
	それぞれ唯一のユーザアカウントを持つべきです。
	こうすることで管理者は誰が何を行なっているかがわかりますし、
	他の人の設定を壊してしまうようなことを避けることができます。</p><p>それぞれのユーザは快適にシステムを利用するため、
	シェル、エディタ、キー設定、言語など、
	各自の環境をセットアップすることができます。</p><p>FreeBSD システム上のどのアカウントにも、
	以下のような情報がなにかしら結び付けられています。</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">ユーザ名</span></dt><dd><p><code class="prompt">login:</code>
	    プロンプトに対して入力するユーザの名前です。
	    ユーザ名はそのシステムで一意でなければならず、
	    2 名のユーザに同じユーザ名をつけることはできません。
	    有効なユーザ名を作成するには <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=passwd&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">passwd</span>(5)</span></a>
	    に記載されているいくつもの規則があります。
	    アプリケーションの上位互換性を保つために、
	    8 文字以下の小文字からなるユーザ名を使うことが推奨されています。</p></dd><dt><span class="term">パスワード</span></dt><dd><p>それぞれのユーザアカウントにはパスワードがあります。
	    パスワードは空白にもできますが、
	    行うべきではありません。</p></dd><dt><span class="term">ユーザ ID (<acronym class="acronym">UID</acronym>)</span></dt><dd><p>ユーザ ID (<acronym class="acronym">UID</acronym>) は、
	    FreeBSD システムがユーザを一意に識別するための数値です。
	    ユーザ名を指定できるコマンドは、
	    ユーザ名を <acronym class="acronym">UID</acronym> に変換してから扱っています。
	    65535 より大きな UID は、32
	    ビット以上の整数に対応していないソフトウェアにおいて互換性の問題を引き起こす可能性があるので、
	    65535 以下の UID を使用することが推奨されています。</p></dd><dt><span class="term">グループ ID (<acronym class="acronym">GID</acronym>)</span></dt><dd><p>グループ ID (<acronym class="acronym">GID</acronym>) は、
	    ユーザが属する第一グループを一意に識別するための数値です。
	    グループは、<acronym class="acronym">UID</acronym> ではなく、
	    ユーザの <acronym class="acronym">GID</acronym> に基づいて資源へのアクセスを制御する仕組みです。
	    これは、ある種の設定ファイルのサイズを大幅に小さくします。
	    ユーザは、複数のグループに所属できます。
	    65535 より大きな GID は、ソフトウェアに問題を引き起こす可能性があるので、
	    65535 以下の GID を使うことを推奨します。</p></dd><dt><span class="term">ログインクラス</span></dt><dd><p>ログインクラスはグループの仕組みを拡張したもので、
	    別々のユーザに対してシステムを調整する時に、
	    さらなる柔軟性を提供します。ログインクラスの詳細については、
	    <a class="xref" href="users-limiting.html" title="14.4. ユーザへの制限">「ユーザへの制限」</a> で説明します。</p></dd><dt><span class="term">パスワード変更時間</span></dt><dd><p>デフォルトでは、FreeBSD
	    は定期的にパスワードを変更することをユーザに強制しません。
	    これを <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pw&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">pw</span>(8)</span></a> を使用してユーザごとに設定し、
	    一部またはすべてのユーザに、
	    一定の時間がたったらパスワードを強制的に変更させることができます。</p></dd><dt><span class="term">アカウント失効時間</span></dt><dd><p>デフォルトでは、FreeBSD はアカウントを失効させません。
	    たとえば学校で生徒のアカウントがある場合など、
	    限られた期間だけのアカウントを作成するなら、
	    そのアカウントがいつ失効するか <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pw&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">pw</span>(8)</span></a> を使って指定できます。
	    有効期間が経過したら、
	    そのアカウントのディレクトリやファイルは残っていますが、
	    システムへのログインはできなくなります。</p></dd><dt><span class="term">ユーザの氏名</span></dt><dd><p>FreeBSD ではユーザ名でアカウントを一意に識別しますが、
	    必ずしもユーザの本名を反映したものではありません。
	    この情報をアカウントに関連付けることもできます。
	    この情報は、コメントのように、空白、大文字、および
	    8 字以上で記載できます。</p></dd><dt><span class="term">ホームディレクトリ</span></dt><dd><p>ホームディレクトリは、システム中のディレクトリへのフルパスです。
	    これはユーザがログインした時に作業を開始するディレクトリです。
	    一般的な慣習は、すべてのユーザのホームディレクトリを <code class="filename">/home/username</code>
	    か <code class="filename">/usr/home/username</code>
	    の下に置くことです。
	    各ユーザは、個人のファイルやサブディレクトリを、
	    ユーザのホームディレクトリに保存します。</p></dd><dt><span class="term">ユーザシェル</span></dt><dd><p>シェルは、
	    ユーザがシステムと対話するデフォルトの環境を提供します。
	    いろいろな種類のシェルがあり、
	    経験を積んだユーザはそれぞれ好みがあり、
	    それをアカウントの設定に反映できます。</p></dd></dl></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="users-superuser"></a>14.2.3. スーパーユーザアカウント</h3></div></div></div><a id="idp89036112" class="indexterm"></a><p>スーパーユーザアカウントは通常
	<code class="systemitem">root</code> と呼ばれ、
	システム管理を行なうために使われ、権限に制限がありません。
	そのため、このアカウントはメールのやりとり、システムの調査、
	プログラミングといった日常的な作業を行なうために使われるべきものではありません。</p><p>その理由は、スーパーユーザが通常のユーザアカウントと異なり、
	操作にまったく制限を受けないことによります。
	そのためスーパーユーザアカウントで操作を間違えると、
	システムに重大な影響を与えてしまう恐れがあるのです。
	ユーザアカウントでは、
	仮に操作を間違えてもシステムを壊してしまうようなことはできないようになっています。
	そのため、ユーザアカウントでログインし、
	高い権限が必要なコマンドを実行するときだけスーパーユーザになることが推奨されています。</p><p>スーパーユーザで実行するコマンドはいつでも、
	二回、三回と確認してください。
	なぜならスペースが多かったり、文字が欠けていたりするだけで、
	取り返しのつかないデータの破壊につながる可能性があるからです。</p><p>スーパーユーザの権限を得るには、さまざまな方法があります。
      <code class="systemitem">root</code> ユーザとしてログインする方法もありますが、
      これはまったくお勧めできません。</p><p>スーパーユーザの権限を手に入れるには、かわりに <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=su&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">su</span>(1)</span></a>
      を使って下さい。
      <code class="literal">-</code> オプションをつけて実行すると、
      実行したユーザに root ユーザの環境が設定されます。
      このコマンドは <code class="systemitem">wheel</code>
      グループに入ってるユーザのみが実行でき、他のユーザは実行出来ません。
      また、実行時には <code class="systemitem">root</code>
      ユーザのパスワードを必要とします。</p><p>以下の例では、<code class="command">make install</code>
      を行うときにスーパーユーザの権限が必要なので、
      このコマンドを実行する時だけユーザはスーパーユーザになります。
      コマンドを実行したら、ユーザは <code class="command">exit</code>
      を実行してスーパーユーザからログアウトし、
      通常のユーザアカウントの権限に戻ります。</p><div class="example"><a id="idp89043792"></a><div class="example-title">例14.1 スーパーユーザ権限でプログラムをインストールする</div><div class="example-contents"><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>configure</code></strong>
<code class="prompt">%</code> <strong class="userinput"><code>make</code></strong>
<code class="prompt">%</code> <strong class="userinput"><code>su -</code></strong>
Password:
<code class="prompt">#</code> <strong class="userinput"><code>make install</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>exit</code></strong>
<code class="prompt">%</code></pre></div></div><br class="example-break" /><p>1 人の管理者が一台のマシン、
       もしくは小規模なネットワークを管理する場合には、
       <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=su&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">su</span>(1)</span></a> のフレームワークはうまく機能するでしょう。
       この代わりとなるのは、
       <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/security/sudo/pkg-descr">security/sudo</a> package または port
       です。これはログ機能や、
       スーパーユーザの権限で実行できるユーザやコマンドを設定できます。</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="users.html">戻る</a>〓</td><td width="20%" align="center"><a accesskey="u" href="users.html">上に戻る</a></td><td width="40%" align="right">〓<a accesskey="n" href="users-modifying.html">次へ</a></td></tr><tr><td width="40%" align="left" valign="top">第14章 ユーザと基本的なアカウントの管理〓</td><td width="20%" align="center"><a accesskey="h" href="index.html">ホーム</a></td><td width="40%" align="right" valign="top">〓14.3. アカウント情報の管理</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>本文書、および他の文書は
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>
    からダウンロードできます。</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>FreeBSD に関する質問がある場合には、
    <a href="http://www.FreeBSD.org/ja/docs.html">ドキュメント</a> を読んだ上で
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt; まで (英語で) 連絡してください。<br></br>
    本文書に関する質問については、
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt; まで電子メールを (英語で) 送ってください。</small></p></body></html>