<?xml version="1.0" encoding="euc-jp" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=euc-jp" /><title>10.5. プリンタを使う</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD ハンドブック" /><link rel="up" href="printing.html" title="第10章 プリンタの利用" /><link rel="prev" href="printing-advanced.html" title="10.4. プリンタ設定上級編" /><link rel="next" href="printing-lpd-alternatives.html" title="10.6. 標準スプーラの代替品" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">10.5. プリンタを使う</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="printing-advanced.html">戻る</a>〓</td><th width="60%" align="center">第10章 プリンタの利用</th><td width="20%" align="right">〓<a accesskey="n" href="printing-lpd-alternatives.html">次へ</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="printing-using"></a>10.5. プリンタを使う</h2></div></div></div><a id="idp87211216" class="indexterm"></a><p>この節では、FreeBSD で設定したプリンタを使う方法について説明します。
      ここでは、ユーザレベルでのコマンドを概説します。</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lpr&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lpr</span>(1)</span></a></span></dt><dd><p>印字をおこないます。</p></dd><dt><span class="term"><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lpq&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lpq</span>(1)</span></a></span></dt><dd><p>プリンタキューを調べます。</p></dd><dt><span class="term"><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lprm&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lprm</span>(1)</span></a></span></dt><dd><p>プリンタキューにあるジョブを削除します。</p></dd></dl></div><p>また、「<a class="link" href="printing-using.html#printing-lpc" title="10.5.5. プリンタの管理">プリンタの管理</a>」
      節で説明されている管理者用コマンド <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lpc&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">lpc</span>(8)</span></a> もあり、
      プリンタやそのキューの制御のために用いられています。</p><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lpr&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lpr</span>(1)</span></a>、<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lprm&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lprm</span>(1)</span></a>、そして <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lpq&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lpq</span>(1)</span></a> の 3
      コマンドは、<code class="option">-P<em class="replaceable"><code>printer-name</code></em></code>
      オプションをとり、これによって、
      <code class="filename">/etc/printcap</code> のように操作の対象となる
      プリンタやキューを指定します。
      これによって、様々なプリンタに対してジョブを送る、
      取り消す、調査することができます。
      <code class="option">-P</code> が使われなかった場合は、これらのコマンドは
      <code class="envar">PRINTER</code> 環境変数で指定されたプリンタを使用します。
      そして、<code class="envar">PRINTER</code> 環境変数がなかった場合は、
      これらのコマンドはデフォルトのプリンタ
      <code class="literal">lp</code> を使います。</p><p>以下では、<span class="emphasis"><em>デフォルトプリンタ</em></span>
      という用語が意味するプリンタは、<code class="envar">PRINTER</code>
      環境変数で指定されたプリンタ、もしくは、<code class="envar">PRINTER</code>
      環境変数がない場合は、<code class="literal">lp</code>
      という名前のプリンタです。</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="printing-lpr"></a>10.5.1. 印字する</h3></div></div></div><p>ファイルを印字するためには、
	次のように入力してください。</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>lpr filename ...</code></strong></pre><a id="idp87234128" class="indexterm"></a><p>これにより、
	入力されたファイルのそれぞれをデフォルトのプリンタ
	から印字します。ファイル名が与えられなかった場合、
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lpr&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lpr</span>(1)</span></a>
	は標準入力から印字するデータを読み込みます。たとえば、
	次のコマンドにより、ある重要なシステムファイルが印字されます。</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>lpr /etc/host.conf /etc/hosts.equiv</code></strong></pre><p>印字させるプリンタを選択するためには、
	次のように入力します。</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>lpr -P printer-name filename ...</code></strong></pre><p>次の例では、プリンタ <code class="literal">rattan</code> に、
	カレントディレクトリにあるファイルの詳細なリストを印字しています。</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>ls -l | lpr -P rattan</code></strong></pre><p>上記の <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lpr&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lpr</span>(1)</span></a> コマンドではファイル名の指定がないので、
	<code class="command">lpr</code> は標準入力から印字するデータ、
	この場合、<code class="command">ls -l</code>
	コマンドの出力、を読み込みます。</p><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lpr&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lpr</span>(1)</span></a> コマンドでは、
	出力の整形を制御したり、ファイル変換を適用したり、
	複数部数のコピーを作成したり、
	などといた様々な幅広いオプションを受け付けることもできます。
	詳細については、
	「<a class="link" href="printing-using.html#printing-lpr-options" title="10.5.4. その他の印字オプション">
	  その他の印字オプション</a>」をご覧ください。</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="printing-lpq"></a>10.5.2. ジョブの処理状況を調べる</h3></div></div></div><a id="idp87248464" class="indexterm"></a><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lpr&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lpr</span>(1)</span></a> コマンドを使って印字をする場合、プリントしようと
	するデータは <span class="quote">「<span class="quote">プリントジョブ</span>」</span> と呼ばれる箱に一緒に置かれ、
	これが <span class="application">LPD</span> スプーリングシステムに送られます。
        プリンタにはそれぞれジョブ用のキューがあり、
	送られてきたジョブはあなたや他のユーザからの別のジョブと一緒にそのキューで並んで、
	処理される順番を待ちます。
	プリンタは到着順にこれらのジョブの印字をおこないます。</p><p>デフォルトプリンタのキューの状態を表示するには、
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lpq&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lpq</span>(1)</span></a> と入力します。プリンタを指定するときは、
	<code class="option">-P</code> オプションを使います。たとえば、次のコマンド</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>lpq -P bamboo</code></strong></pre><p>は、プリンタ <code class="literal">bamboo</code>
	のキューの状態を表示します。この <code class="command">lpq</code>
	コマンドの出力結果の例を次に示します。</p><pre class="screen">bamboo is ready and printing
Rank   Owner    Job  Files                              Total Size
active kelly    9    /etc/host.conf, /etc/hosts.equiv   88 bytes
2nd    kelly    10   (standard input)                   1635 bytes
3rd    mary     11   ...                                78519 bytes</pre><p>この例では、<code class="literal">bamboo</code>
	のキューに 3 つのジョブがあることが分かります。
	最初のジョブはユーザ kelly からのものであり、
        <span class="quote">「<span class="quote">ジョブ番号</span>」</span> 9 が割り当てられています。
	プリンタのすべてのジョブには一意なジョブ番号が付けられています。
	ほとんどの場合、このジョブ番号は無視することができますが、
	ジョブをキャンセルするときにはこの番号が必要になります。
	このことの詳細については、「<a class="link" href="printing-using.html#printing-lprm" title="10.5.3. ジョブの削除">ジョブの削除</a>
	」をご覧ください。</p><p>ジョブ番号 9 のジョブは 2 つのファイルを処理します。すなわち、
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lpr&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lpr</span>(1)</span></a>
	のコマンドラインに複数のファイル名が与えられたときは、
	1つのジョブとして扱われるのです。このジョブは、現在、
	アクティブジョブ (<span class="quote">「<span class="quote">Rank</span>」</span>
	の欄の <code class="literal">active</code> という後に注目) になっています。
	これは、プリンタからそのジョブが現在印字されているはずであることを意味しています。
	2 番目のジョブでは、
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lpr&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lpr</span>(1)</span></a> コマンドに標準入力からデータが与えられています。
	3番目のジョブはユーザ <code class="systemitem">mary</code> から与えられました。
	このジョブのサイズはとても大きくなっています。
	彼女がプリントしようとしたファイルのパス名はここで表示させるには長すぎるため、
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lpq&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lpq</span>(1)</span></a> コマンドはドットを 3 つだけ表示しています。</p><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lpq&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lpq</span>(1)</span></a> からの出力で一番最初の行もまた有益な情報を与えています。
        この行から、プリンタが現在何をしているか (あるいは、少なくとも
	<span class="application">LPD</span> がプリンタがしていると思っていること)
	が分かります。</p><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lpq&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lpq</span>(1)</span></a> コマンドは
	<code class="option">-l</code> オプションもサポートしています。
	これにより、
	詳しい情報が表示されます。
	<code class="command">lpq -l</code> の実行例を次に示します。</p><pre class="screen">waiting for bamboo to become ready (offline ?)
kelly: 1st                               [job 009rose]
       /etc/host.conf                    73 bytes
       /etc/hosts.equiv                  15 bytes

kelly: 2nd                               [job 010rose]
       (standard input)                  1635 bytes

mary: 3rd                                [job 011rose]
      /home/orchid/mary/research/venus/alpha-regio/mapping 78519 bytes</pre></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="printing-lprm"></a>10.5.3. ジョブの削除</h3></div></div></div><p>印字するようジョブを
	送った後で印字を中断したくなったときは、
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lprm&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lprm</span>(1)</span></a> コマンドで、
	キューの中からそのジョブを削除することができます。
	大抵の場合、アクティブジョブでさえも
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lprm&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lprm</span>(1)</span></a> を使って削除することができますが、
	そのジョブの一部またはすべてが印字されてしまうかもしれません。</p><p>デフォルトプリンタへのジョブを削除するためには、最初に、
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lpq&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lpq</span>(1)</span></a> を使ってそのジョブ番号を調べます。
	すなわち、それから、
	次のように入力して、ジョブを削除します。</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>lprm job-number</code></strong></pre><p>特定のプリンタへのジョブを削除するときは、
	<code class="option">-P</code> オプションを使ってそのプリンタを指定します。
	たとえば、プリンタ <code class="literal">bamboo</code>
	のキューからジョブ番号 10 のジョブを削除するには次のようにします。</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>lprm -P bamboo 10</code></strong></pre><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lprm&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lprm</span>(1)</span></a> コマンドには略記法がいくつかあります。</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">lprm -</span></dt><dd><p>あなたが (デフォルトプリンタへ)
	      送ったジョブをすべて削除します。</p></dd><dt><span class="term">lprm <em class="replaceable"><code>user</code></em></span></dt><dd><p>ユーザ <em class="replaceable"><code>user</code></em> が
	      (デフォルトプリンタへ) 送ったジョブをすべて削除します。
	      他のユーザのジョブを削除できるのはスーパユーザだけです。
	      あなたは、あなた自身のジョブしか削除することはできません。</p></dd><dt><span class="term">lprm</span></dt><dd><p>ジョブ番号もユーザ名もシンボル
	      <code class="option">-</code>も指定されないときは、
	      <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lprm&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lprm</span>(1)</span></a> は現在のアクティブジョブを、
	      そのジョブを送ったのがあなた自身であるときに限り、
	      デフォルトプリンタから削除します。ただし、
	      スーパユーザは任意のアクティブジョブを削除することができます。</p></dd></dl></div><p>上記の略記法をデフォルトプリンタではなく
	特定のプリンタに対しておこなうときは、<code class="option">-P</code>
	オプションでそのプリンタを指定するだけよいのです。たとえば、
	プリンタ <code class="literal">rattan</code> のキューへあなたが送ったジョブを
	すべて削除するためには次のようにします。</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>lprm -P rattan -</code></strong></pre><div xmlns="" class="note"><h3 class="admontitle">注記: </h3><p xmlns="http://www.w3.org/1999/xhtml">ネットワーク環境で作業をしている場合、
	  あるホストから送られたプリンタジョブは、これを送ったホストで
	  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lprm&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lprm</span>(1)</span></a> を使った場合に限って、
	  これを削除することができます。
	  他のホストで同じプリンタを使えたとしても、
	  このジョブを削除することはできません。
	  次の例では、他ホストからジョブを削除することを試みています。</p><pre xmlns="http://www.w3.org/1999/xhtml" class="screen"><code class="prompt">%</code> <strong class="userinput"><code>lpr -P rattan myfile</code></strong>
<code class="prompt">%</code> <strong class="userinput"><code>rlogin orchid</code></strong>
<code class="prompt">%</code> <strong class="userinput"><code>lpq -P rattan</code></strong>
Rank   Owner      Job  Files                          Total Size
active seeyan     12    ...                           49123 bytes
2nd    kelly      13   myfile                         12 bytes
<code class="prompt">%</code> <strong class="userinput"><code>lprm -P rattan 13</code></strong>
rose: Permission denied
<code class="prompt">%</code> <strong class="userinput"><code>logout</code></strong>
<code class="prompt">%</code> <strong class="userinput"><code>lprm -P rattan 13</code></strong>
dfA013rose dequeued
cfA013rose dequeued
	</pre></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="printing-lpr-options"></a>10.5.4. その他の印字オプション</h3></div></div></div><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lpr&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lpr</span>(1)</span></a> コマンドには、テキストの整形や、
	図や他のファイル形式の変換、複数部コピーの生成、
	ジョブの扱いなどを制御することができます。
	この節では、これに関するオプションについて記しています。</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="printing-lpr-options-format"></a>10.5.4.1. 整形と変換に関するオプション</h4></div></div></div><p>以下の <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lpr&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lpr</span>(1)</span></a> 用のオプションはジョブにおける
	  ファイルの整形の制御に関するものです。
	  このオプションは、ジョブにプレインテキストが含まれない場合や
	  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pr&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">pr</span>(1)</span></a>
	  ユーティリティを使ってプレインテキストを整形する場合に用いてください。</p><a id="idp87317200" class="indexterm"></a><p>次の例では、プリンタ
	  <code class="literal">bamboo</code> に (<span class="application">TeX</span> 組版システムによる)
	  DVI ファイル
	  <code class="filename">fish-report.dvi</code> を印字しています。</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>lpr -P bamboo -d fish-report.dvi</code></strong></pre><p>このオプションは、
	  ジョブに含まれるすべてのファイルに対して適用されます。
	  したがって、1 つのジョブに (たとえば) DVI ファイルと ditroff
	  ファイルを混在させることはできません。その代わりに、
	  ファイルを形式毎に別々のジョブに分け、
	  それぞれのジョブでその形式用の変換オプションを使って印字してください。</p><div xmlns="" class="note"><h3 class="admontitle">注記: </h3><p xmlns="http://www.w3.org/1999/xhtml"><code class="option">-p</code> と <code class="option">-T</code>
	    を除くすべてのオプションを使用 するためには、
	    出力先プリンタ用の変換フィルタが必要です。たとえば、
	    <code class="option">-d</code> オプションを使用するには、DVI
	    用の変換フィルタが必要 です。詳細については、「<a class="link" href="printing-advanced.html#printing-advanced-convfilters" title="10.4.1.4. 変換フィルタ">
	      変換フィルタ</a>」で説明しています。</p></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-c</code></span></dt><dd><p>cifplot ファイルを印字します。</p></dd><dt><span class="term"><code class="option">-d</code></span></dt><dd><p>DVI ファイルを印字します。</p></dd><dt><span class="term"><code class="option">-f</code></span></dt><dd><p>FORTRAN プログラムを印字します。</p></dd><dt><span class="term"><code class="option">-g</code></span></dt><dd><p>plot のデータを印字します。</p></dd><dt><span class="term"><code class="option">-i <em class="replaceable"><code>number</code></em></code></span></dt><dd><p>出力に対して、<em class="replaceable"><code>number</code></em>
		カラム分の字下げをおこないます。
		<em class="replaceable"><code>number</code></em> が省略されると、
		8 カラム分字下げされます。
		このオプションはある変換フィルタと一緒の指定されたときのみに機能します。</p><div xmlns="" class="note"><h3 class="admontitle">注記: </h3><p xmlns="http://www.w3.org/1999/xhtml"><code class="option">-i</code>
		  と数字の間に空白を入れてはいけません。</p></div></dd><dt><span class="term"><code class="option">-l</code></span></dt><dd><p>制御文字を含む文字通りのテキストデータを印字します。</p></dd><dt><span class="term"><code class="option">-n</code></span></dt><dd><p>ditroff (device independent troff) データを印字します。</p></dd><dt><span class="term">-p</span></dt><dd><p>印字する前に <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pr&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">pr</span>(1)</span></a>
		によってプレインテキストを整形します。
		詳細については <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pr&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">pr</span>(1)</span></a> をご覧ください。</p></dd><dt><span class="term"><code class="option">-T <em class="replaceable"><code>title</code></em></code></span></dt><dd><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pr&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">pr</span>(1)</span></a> コマンドにより生成されるヘッダを、
		ファイル名の代わりに <em class="replaceable"><code>title</code></em> とする。
		このオプションは、<code class="option">-p</code>
		と一緒に使ったときのみ機能する。</p></dd><dt><span class="term"><code class="option">-t</code></span></dt><dd><p>troff データを印字します。</p></dd><dt><span class="term"><code class="option">-v</code></span></dt><dd><p>ラスタのデータを印字します。</p></dd></dl></div><p>次の例では、<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ls&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ls</span>(1)</span></a>
	  のマニュアルを美しく整形したものをデフォルトプリンタで印字しています。
	</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>zcat /usr/share/man/man1/ls.1.gz | troff -t -man | lpr -t</code></strong></pre><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=zcat&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">zcat</span>(1)</span></a> コマンドで
	  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ls&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ls</span>(1)</span></a> のマニュアルのソースファイルの圧縮を復元し、これを
	  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=troff&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">troff</span>(1)</span></a> コマンドに渡しています。
          これによりソースファイルが整形され
          GNU troff の形式となります。
          その結果は <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lpr&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lpr</span>(1)</span></a> に渡され、
	  <span class="application">LPD</span> スプーラへジョブの要求が発せられます。
          <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lpr&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lpr</span>(1)</span></a> には
	  <code class="option">-t</code> オプションが使われているため、
          スプーラでジョブを印字したときに GNU troff
          の形式から、デフォルトプリンタが解釈できる形式へと変換されます。</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="printing-lpr-options-job-handling"></a>10.5.4.2. ジョブに関するオプション</h4></div></div></div><p>以下のオプションは、<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lpr&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lpr</span>(1)</span></a> によって、
	  そのジョブを特殊な扱いにするよう <span class="application">LPD</span>
	  に指示するためのものです。</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">-# <em class="replaceable"><code>copies</code></em></span></dt><dd><p>ジョブに含まれるファイルのそれぞれを
		1 部だけ印字するのではなく、
		<em class="replaceable"><code>copies</code></em>
		部のコピーを生成させるものです。管理者によっては、
		プリンタの消耗を避け、コピー機による複製を奨励するために
		このオプションの使用が禁止されているかもしれません。
		これに関しては、「<a class="link" href="printing-advanced.html#printing-advanced-restricting-copies" title="10.4.4.1. 複数部のコピーの印字を制限する">
		  複数部のコピーの印字を制限する
		</a>」をご覧ください。</p><p>次の例では、デフォルトプリンタで
		<code class="filename">parser.c</code> を 3 部コピーし、次に、
		<code class="filename">parser.h</code> を 3 部コピーしています。</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>lpr -#3 parser.c parser.h</code></strong></pre></dd><dt><span class="term">-m</span></dt><dd><p>印字ジョブが完了した後で、メールを送ります。
		このオプションを付けると、<span class="application">LPD</span>
		システムはジョブの処理が終了したときに、
		あなたのアカウントにメールを送ります。
		メールのメッセージには、ジョブが正常終了したのか、あるいは、
		何か異常があり、(しばしば)
		その異常が何であったのかが書かれています。</p></dd><dt><span class="term">-s</span></dt><dd><p>印字ファイルをスプールディレクトリにコピーせず、
		代わりに、
		シンボリックリンクを作成するよう指示します。</p><p>印字させるジョブのサイズが大きいとき、
		このオプションを使うと便利かもしれません。このオプションにより、
		スプー ルディレクトリの容量が節約されます (それに、
		巨大なジョブのお陰でスプールディレクトリのあるファイルシステムの空き容量がなくなってしまうかもしれません)。
		さらに、<span class="application">LPD</span>
		がいちいちすべてのデータをコピーする必要がなくなりますので、
		時間の節約にもなります。</p><p>ただし、欠点もあります。<span class="application">LPD</span>
		はオリジナルのファイルを直接参照するので、
		印字が終了するまでそのファイルを変更したり削除することができません。</p><div xmlns="" class="note"><h3 class="admontitle">注記: </h3><p xmlns="http://www.w3.org/1999/xhtml">リモートのプリンタで印字している場合、
		  <span class="application">LPD</span> は、結局のところ、
		  ローカルホストからリモートホストにファイルをコピーする必要があります。
		  したがって、<code class="option">-s</code>
		  オプションはローカルのスプーリングディレクトリの空き容量を節約するだけで、
		  リモート側では節約されません。
		  それでも、このオプションは有用です。</p></div></dd><dt><span class="term">-r</span></dt><dd><p>ジョブに含まれるファイルを、
		スプーリングディレクトリに
		ファイルをコピーした後に削除します。もしくは、
		<code class="option">-s</code> オプションと一緒に使われた場合は、
		印字終了後に削除されます。
		このオプションの使用には十分注意して下さい。</p></dd></dl></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="printing-lpr-options-misc"></a>10.5.4.3. ヘッダページ用オプション</h4></div></div></div><p>以下のオプションにより、
	  ジョブのヘッダページに通常印字さ
	  れるテキストを
	  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lpr&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lpr</span>(1)</span></a> に調整させることができます。
	  対象のプリンタからヘッダページが出力されない場合は、
	  これらのオプションは何の効力も持ちません。
	  ヘッダページの設定に関する情報については、
	  「<a class="link" href="printing-advanced.html#printing-advanced-header-pages" title="10.4.2. ヘッダページ">
	    ヘッダページ</a>」を参照してください。</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">-C <em class="replaceable"><code>text</code></em></span></dt><dd><p>ヘッダページに印字されるホスト名を
		<em class="replaceable"><code>text</code></em> に置き換えます。なお、
		ホスト名の場所には、通常、
		ジョブの要求があったホストの名前が印字されます。</p></dd><dt><span class="term">-J <em class="replaceable"><code>text</code></em></span></dt><dd><p>ヘッダページに印字されるジョブ名を
		<em class="replaceable"><code>text</code></em> に置き換えます。
		ジョブ名の場所には、通常、ジョブの最初のファイル名、
		または、標準入力からデータが印字されたときは
		<code class="filename">stdin</code> が印字されます。</p></dd><dt><span class="term">-h</span></dt><dd><p>ヘッダページの出力を禁止します。</p><div xmlns="" class="note"><h3 class="admontitle">注記: </h3><p xmlns="http://www.w3.org/1999/xhtml">サイトによっては、
		  そのヘッダページの生成方法により、
		  このオプションの効果が現れないかもしれません。
		  詳細は、「<a class="link" href="printing-advanced.html#printing-advanced-header-pages" title="10.4.2. ヘッダページ">
		    ヘッダページ</a>」をご覧ください。</p></div></dd></dl></div></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="printing-lpc"></a>10.5.5. プリンタの管理</h3></div></div></div><p>プリンタの管理者として、プリンタの設置、設定、
	そして、それらのテストをおこなう必要がありました。
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lpc&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">lpc</span>(8)</span></a> コマンドにより、
	これまでとは別な管理方法がプリンタと対話的におこなわれます。
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lpc&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">lpc</span>(8)</span></a> により、次のことが可能となります。</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>プリンタの起動、停止をおこなう。</p></li><li class="listitem"><p>キューへの入力の許可、禁止をおこなう。</p></li><li class="listitem"><p>それぞれのキューにあるジョブの順番を変更する。</p></li></ul></div><p>最初に用語に関する注意をしておきます。
	プリンタが<span class="emphasis"><em>停止している</em></span>とは、
	キューの中にあるどのジョブも印字されることがない状態
	を言います。この状態においても、
	ユーザはまだジョブの要求をおこなうことができますが、
	これらのジョブはキューの中で、
	プリンタが<span class="emphasis"><em>スタートする</em></span>状態になるまで、
	あるいは、キューの内容が削除されるまで待たされることになります。</p><p>キューが<span class="emphasis"><em>禁止状態</em></span>にあると、
	(<code class="systemitem">root</code> 以外の)
	すべてのユーザがプリンタにジョブを要求することができません。
	キューが<span class="emphasis"><em>許可状態にある</em></span>場合は、
	ジョブの入力が許可されます。
	キューが<span class="emphasis"><em>禁止状態にある</em></span>場合でも、
	プリンタを<span class="emphasis"><em>スタートす
	  る</em></span>状態にすることは可能です。この場合は、
	キューが空になるまで、
	キュー内のジョブの印字が続けられます。</p><p>一般的に、<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lpc&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">lpc</span>(8)</span></a> コマンドを使用するには
	<code class="systemitem">root</code> 権限を持っている必要があります。
	一般のユーザも <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lpc&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">lpc</span>(8)</span></a> コマンドを使うことはできますが、
	プリンタの状態を取得することとハングしたプリンタ
	を再スタートすることだけに使用が制限されています。</p><p>以下に、
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lpc&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">lpc</span>(8)</span></a> コマンドに関する説明の要約を述べます。
	ほとんどのコマンドでは、操作対象となるプリンタを指定するため
	<em class="replaceable"><code>printer-name</code></em> 引数を与えます。
	<em class="replaceable"><code>printer-name</code></em> の代わりに
	<code class="literal">all</code> が与えられると、操作は
	<code class="filename">/etc/printcap</code>
	内にある全プリンタに対しておこなわれることになります。</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="command">
	      abort printer-name</code></span></dt><dd><p>現在のジョブをキャンセルし、プリンタを停止させます。
	      キューが許可状態にある場合は、
	      ユーザはまだジョブを入力することができます。</p></dd><dt><span class="term"><code class="command">
	      clean printer-name</code></span></dt><dd><p>プリンタのスプーリングディレクトリから、
	      ジョブの古いファイルを削除します。状況によって、
	      とりわけ、印字途中でエラーが発生していたり、
	      管理操作が頻発していた場合には、
	      ジョブで作られたファイルを <span class="application">LPD</span>
	      が完全に削除しないことがあります。このコマンドでは、
	      スプーリングディレクトリに入っていないファイルを見つけ出し、
	      それを削除しています。</p></dd><dt><span class="term"><code class="command">
	      disable printer-name</code></span></dt><dd><p>キューに新しいジョブを入れることを禁止します。
	      プリンタが動作しているときは、
	      キューに残っているジョブの印字は続けられます。ただし、
	      キューが禁止状態にあったとしても、スーパーユーザ
	      (<code class="systemitem">root</code>)
	      は常にジョブを入力することができます。</p><p>このコマンドは、
	      新しいプリンタやフィルタを設置している間に使用すると有用です。
	      すなわち、キューを禁止状態にしておくと、
	      <code class="systemitem">root</code> によるジョブのみが入力されます。
	      そして、他のユーザは、テストが完了し、
	      <code class="command">enable</code>
	      コマンドでキューが再度許可状態になるまで、
	      ジョブの入力はできなくなります。</p></dd><dt><span class="term"><code class="command">
	      down printer-name
	      message</code></span></dt><dd><p>プリンタをダウンさせます。これは、
	      <code class="command">disable</code> をおこなった後で、
	      <code class="command">stop</code> をおこなった場合と等価になります。
	      <em class="replaceable"><code>message</code></em> は、ユーザが
	      <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lpq&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lpq</span>(1)</span></a> コマンドでプリンタのキューの状態を調べたり、
	      <code class="command">lpc status</code>
	      でプリンタの状態を調べたときに、
	      プリンタの状況として表示されるメッセージです。</p></dd><dt><span class="term"><code class="command">
	      enable printer-name</code></span></dt><dd><p>プリンタのキューを許可状態にします。
	      ユーザはジョブの入力ができるようになりますが、
	      プリンタがスタートの状態になるまでは、
	      プリンタからは何も印字されません。</p></dd><dt><span class="term"><code class="command">
	      help command-name</code></span></dt><dd><p><em class="replaceable"><code>command-name</code></em>
	      コマンドのヘルプメッセージを表示します。
	      <em class="replaceable"><code>command-name</code></em>
	      が指定されなかった場合は、
	      利用できるコマンドの要約が表示されます。</p></dd><dt><span class="term"><code class="command">
	      restart printer-name</code></span></dt><dd><p>プリンタをスタートさせます。通常のユーザは、
	      <span class="application">LPD</span>
	      がある異常な状況でハングしたときに限り、
	      このコマンドを使用することができます。しかし、
	      <code class="command">stop</code>
	      または <code class="command">down</code> コマンドにより、
	      停止状態にあるプリンタをスタートさせることはできません。
	      <code class="command">restart</code> コマンドは、
	      <code class="command">abort</code> の後に <code class="command">start</code>
	      をおこなったことと同じになります。</p></dd><dt><span class="term"><code class="command">
	      start printer-name</code></span></dt><dd><p>プリンタをスタートさせます。
	      プリンタのキューにあるジョブを印字することでしょう。</p></dd><dt><span class="term"><code class="command">
	      stop printer-name</code></span></dt><dd><p>プリンタを停止します。プリンタは、
	      現在のジョブを終了させ、そして、
	      キューにあるその他のジョブは印字しません。
	      プリンタが停止状態にあったとしても、まだ、
	      許可状態にあるキューに対して、ジョブを送ることができます。</p></dd><dt><span class="term"><code class="command">
	      topq printer-name
	      job-or-username</code></span></dt><dd><p><em class="replaceable"><code>printer-name</code></em>
	      のキューに対して、ジョブ番号
	      <em class="replaceable"><code>job</code></em> のジョブ、または、ユーザ
	      <em class="replaceable"><code>username</code></em>
	      から送られたジョブを置き換えて、キューの先頭に持ってきます。
	      このコマンドに関しては、
	      <em class="replaceable"><code>printer-name</code></em> の代わりに
	      <code class="literal">all</code>
	      を使用することはできません。</p></dd><dt><span class="term"><code class="command">
	      up printer-name</code></span></dt><dd><p>プリンタをアップ状態にします。これの反対のコマンドが
	      <code class="command">down</code> です。<code class="command">start</code>
	      の次に <code class="command">enable</code>
	      をおこなったことと等しくなります。</p></dd></dl></div><p>コマンドラインから上記のコマンドを入力すると、
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lpc&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">lpc</span>(8)</span></a>
	はこれを受け付けます。コマンドが入力されなかった場合は、
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lpc&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">lpc</span>(8)</span></a> は対話モードに入り、
	<code class="command">exit</code>、<code class="command">quit</code>、
	または、
	ファイル終端文字が入力されるまでコマンドの入力ができます。</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="printing-advanced.html">戻る</a>〓</td><td width="20%" align="center"><a accesskey="u" href="printing.html">上に戻る</a></td><td width="40%" align="right">〓<a accesskey="n" href="printing-lpd-alternatives.html">次へ</a></td></tr><tr><td width="40%" align="left" valign="top">10.4. プリンタ設定上級編〓</td><td width="20%" align="center"><a accesskey="h" href="index.html">ホーム</a></td><td width="40%" align="right" valign="top">〓10.6. 標準スプーラの代替品</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>本文書、および他の文書は
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>
    からダウンロードできます。</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>FreeBSD に関する質問がある場合には、
    <a href="http://www.FreeBSD.org/ja/docs.html">ドキュメント</a> を読んだ上で
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt; まで (英語で) 連絡してください。<br></br>
    本文書に関する質問については、
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt; まで電子メールを (英語で) 送ってください。</small></p></body></html>