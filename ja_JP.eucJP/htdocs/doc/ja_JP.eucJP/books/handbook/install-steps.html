<?xml version="1.0" encoding="euc-jp" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=euc-jp" /><title>3.6. ディスク領域の割り当て</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD ハンドブック" /><link rel="up" href="install.html" title="第3章 FreeBSD 8.X のインストール" /><link rel="prev" href="using-sysinstall.html" title="3.5. sysinstall(8) の紹介" /><link rel="next" href="install-choosing.html" title="3.7. 何をインストールするか選択する" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">3.6. ディスク領域の割り当て</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="using-sysinstall.html">戻る</a>〓</td><th width="60%" align="center">第3章 FreeBSD 8.<em class="replaceable"><code>X</code></em> のインストール</th><td width="20%" align="right">〓<a accesskey="n" href="install-choosing.html">次へ</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="install-steps"></a>3.6. ディスク領域の割り当て</h2></div></div></div><p>最初の課題は、FreeBSD 用にディスク領域を割り当て、
      <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sysinstall&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sysinstall</span>(8)</span></a>
      が使えるようにラベルを作成することです。
      そうするためには、FreeBSD
      がディスク上にどのような情報があることを前提としているかを知らなければなりません。</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="install-drive-bios-numbering"></a>3.6.1. BIOS ドライブの番号付け</h3></div></div></div><p>FreeBSD をインストールして設定する前に、
	FreeBSD がどのように BIOS
	ドライブマッピングを取り扱うかを理解しておくことが重要です。</p><a id="idp81147344" class="indexterm"></a><a id="idp81147856" class="indexterm"></a><p><span class="trademark">Microsoft</span>® <span class="trademark">Windows</span>® のような
	に依存したオペレーティングシステムが動いている PC では、
	BIOS がディスクドライブの順序を構成でき、
	OS はその変化に追従します。これにより、"プライマリマスタ"
	以外のディスクから起動することができます。
	この仕組みを用いればシステムのバックアップを取る簡単な方法を構築できます。
	もう一つ同じディスクを買い、
	一つ目のディスクから二つめのディスクへのコピーを定期的に取ればいいのです。
	そして、一つ目のディスクに障害が起きたり、ウィルスに感染したり、
	オペレーティングシステムの不具合でめちゃくちゃにされてしまった時には、
	BIOS に対してドライブを論理的に交換するように指示することで簡単に復旧できるのです。
	この方法はドライブのケーブルを交換するのと同じようなことなのですが、
	ケースを開ける必要がありません。</p><a id="idp81149648" class="indexterm"></a><a id="idp81150160" class="indexterm"></a><p>SCSI コントローラを備えたシステムでは、
	しばしば BIOS に拡張が施されており、同じように 7
	台までのドライブの順番を組み換えることができるようになっています。</p><p>以上のような機能を便利に使っているユーザは、
	FreeBSD では同じような結果にならないことに驚くかもしれません。FreeBSD は
	BIOS を利用しないため、<span class="quote">「<span class="quote">論理 BIOS ドライブマッピング</span>」</span>
	については知らないのです。
	このため、特に同じ物理ジオメトリを持っているいくつかのドライブをデータのクローンとして使っている時に、
	ややこしい状況になり得ます。</p><p>FreeBSD を使う時は、
	インストール前にドライブの番号付けが自然なものになるように、
	必ず BIOS の設定を戻しておきましょう。
	もしドライブの番号付けを変更する必要がある場合には、
	ケースを開けジャンパーやケーブルを移動してください。</p><div class="sidebar"><div xmlns="" class="titlepage"><div><div><div xmlns="http://www.w3.org/1999/xhtml" class="-title"></div></div></div></div><p>Bill は Fred のためにもう一つ FreeBSD 箱を作ろうと古い
	  Wintel 箱を潰しました。Bill は ユニット番号 0 の SCSI ドライ
	  ブを一つ追加し、そこに FreeBSD を入れました。</p><p>Fred はこのシステムを使い始めましたが、数日後その古い
	  SCSI ドライブがたくさんのエラーを吐いていることに気付きました。</p><p>その問題に対処するため、
	  Bill は同じ SCSI ドライブを取ってきました。
	  このドライブを SCSI ユニット番号 4 と
	  して取り付け、ドライブ 0 からドライブ 4 へのイメージコピーを行ないました。
	  新しいドライブがインストールされ、
	  しかもうまく動いているため、Bill
	  はそれを使い始めてもいいだろうと思いました。
	  そこで彼は SCSI BIOS の機能を使ってシステムがユニット 4
	  から起動するようにディスクドライブの順序を入れ換えました。
	  FreeBSD が起動し、調子良く動き始めました。</p><p>Fred は作業を続けましたが、すぐに
	  新しいバージョンの FreeBSD
	  にアップグレードすることにしました。Bill は SCSI ユニット 0
	  のディスクは当てにならないので取りはずし、
	  別の新しい同じドライブと交換しました。
	  そして、Bill は新しいバージョンの
	  FreeBSD を、新しい SCSI ユニット 0 にインストールしました。
	  インストールはうまくいきました。</p><p>Fred は新しいバージョンの FreeBSD を数日使ってみて、
	  技術部門でも使えるくらい十分に良いものだと確認しました。
	  古いバージョンからすべての作業をコピーする時が来たのです。
	  そこで Fred は、古い FreeBSD
	  で行なっていた作業の最新のものが置いてあるはずの SCSI ユニット 4 
	  をマウントしました。ところが、Fred は SCSI ユニット 4
	  には自分の作業がなにも残っていないことを発見して慌てふためきました。</p><p>Bill がオリジナルの SCSI ユニット 0 のイメージをユニット
	  4 にコピーした時に、ユニット 4 が <span class="quote">「<span class="quote">新クローン</span>」</span>
	  になっていたのです。
	  Bill がユニット 4 から起動するように SCSI BIOS で順序の入れ換えを行なった後でも、
	  FreeBSD は依然として SCSI ユニット 0 上で動いていたのです。
	  BIOS にこのような変更を行なっても Boot と
	  Loader のコードの一部もしくは全部は選択された BIOS
	  ドライブから取得されます。しかしながら、処理が FreeBSD
	  のカーネルドライバに引き渡された時から BIOS ドライブの順序は無視され、
	  FreeBSD は、通常のドライブ番号順に移行するのです。
	  さきほどの例では、システムはオリジナルの SCSI ユニット 0 で動き続けており、
	  Fred のデータはすべて SCSI ユニット 4 ではなくそのディスクに残っていたのです。
	  システムが SCSI ユニット 4
	  で動いているように見えたのは単に人の期待からくる妄想だったのです。</p><p>幸運にも、古い SCSI ユニット 0 は見つけ出され、
	  Fred が行なった作業はすべて彼のもとへ返ってきたのです。</p><p>この例では SCSI ドライブが用いられましたが、その概念は
	  IDE ドライブにも同じように当てはまります。</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="main-fdisk"></a>3.6.2. fdisk でスライス作成</h3></div></div></div><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sysinstall&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sysinstall</span>(8)</span></a> で Standard インストールを選択すると、
	次のメッセージが表示されるでしょう。</p><pre class="screen">                                 Message
 In the next menu, you will need to set up a DOS-style ("fdisk")
 partitioning scheme for your hard disk. If you simply wish to devote
 all disk space to FreeBSD (overwriting anything else that might be on
 the disk(s) selected) then use the (A)ll command to select the default
 partitioning scheme followed by a (Q)uit. If you wish to allocate only
 free space to FreeBSD, move to a partition marked "unused" and use the
 (C)reate command.
                                [  OK  ]

                      [ Press enter or space ]</pre><p><span class="keycap"><strong>Enter</strong></span> を押すと、
	カーネルがデバイス検出時に見付けた、
	すべてのハードドライブのリストが表示されます。
	<a class="xref" href="install-steps.html#sysinstall-fdisk-drive1" title="図3.13 fdisk を実行するディスクの選択">図3.13「fdisk を実行するディスクの選択」</a> は
	<code class="filename">ad0</code> および
	<code class="filename">ad2</code> と名付けられた
	2 つの IDE ディスクをもつシステムの例です。</p><div class="figure"><a id="sysinstall-fdisk-drive1"></a><div class="figure-title">図3.13 fdisk を実行するディスクの選択</div><div class="figure-contents"><div class="mediaobject"><img src="install/fdisk-drive1.png" alt="fdisk を実行するディスクの選択" /></div></div></div><br class="figure-break" /><p>この画面では、一覧に <code class="filename">ad1</code>
	が表示されていないことに注目してください。</p><p>一つ目はプライマリ IDE コントローラのマスタ、
	二つ目はセカンダリ IDE コントローラのマスタとして接続している
	2 つの IDE ハードディスクを考えてください。
	もし FreeBSD がこれらを <code class="filename">ad0</code> と
	<code class="filename">ad1</code>
	のように番号つけても、すべては動作するでしょう。</p><p>しかし、その後プライマリ IDE コントローラのスレーブとして
	3 つ目のディスクを追加したとしたら、
	それはたった今 <code class="filename">ad1</code> となり、
	以前の <code class="filename">ad1</code> は
	<code class="filename">ad2</code> となるでしょう。
	デバイス名はファイルシステムを見つけるのに使われるため、
	ファイルシステムのいくつかは突然正しく現れなくなるかもしれず、
	FreeBSD の設定を変更する必要があるでしょう。</p><p>これを解決するために、ディスクが見つかった順番ではなく、
	どこに接続されているかということに基づいて
	IDE ディスクを名前づけするようにカーネルを設定できます。
	この機構によって、セカンダリ IDE コントローラのマスタディスクは、
	たとえ <code class="filename">ad0</code> または <code class="filename">ad1</code>
	デバイスがないとしても<span class="emphasis"><em>いつでも</em></span>
	<code class="filename">ad2</code> になるでしょう。</p><p>この設定は FreeBSD カーネルの標準設定です。
	これがこの例で画面に <code class="filename">ad0</code> および
	<code class="filename">ad2</code> が表示される理由です。
	このスクリーンショットが得られたマシンには、
	IDE コントローラの両方のマスタチャネルにディスクがあり、
	スレーブチャネルにはありません。</p><p>FreeBSD をインストールしたいディスクを選択して、
	<span class="guibutton">[ OK ]</span> を押してください。
	<a class="xref" href="install-steps.html#sysinstall-fdisk1" title="図3.14 典型的な FDisk パーティション">図3.14「典型的な <span class="application">FDisk</span> パーティション」</a> のような表示とともに
	<span class="application">Fdisk</span> が起動するでしょう。</p><p><span class="application">Fdisk</span>
	の画面は三つのセクションに分かれます。</p><p>一つ目のセクションは、これは表示の先頭二行にわたっているのですが、
	現在選択されているディスクの詳細を表示します。
	ディスクの詳細には FreeBSD でのデバイス名、ディスクのジオメトリ、
	そしてディスクの全容量が含まれます。</p><p>二つ目のセクションは現在ディスク上にあるスライスを表示します。
	スライスの開始セクタと終了セクタ、大きさ、FreeBSD 上での名前、
	種類とサブタイプが表示されます。
	この例では、PC 上のディスクレイアウト機能が生み出した、
	未使用の小さなスライスを二つ表示しています。
	また大きな <acronym class="acronym">FAT</acronym> スライスも一つ表示しています。
	これは、<span class="trademark">Windows</span>® において <code class="filename">C:</code> ドライブ、
	および拡張スライスとして現れます
	(この場合、他のドライブレターとなりえます)。</p><p>三つ目のセクションは <span class="application">FDisk</span>
      において利用可能なコマンドを表示します。</p><div class="figure"><a id="sysinstall-fdisk1"></a><div class="figure-title">図3.14 典型的な <span class="application">FDisk</span> パーティション</div><div class="figure-contents"><div class="mediaobject"><img src="install/fdisk-edit1.png" alt="典型的な FDisk パーティション" /></div></div></div><br class="figure-break" /><p>今から行うことは、
	どのようにディスクを分割するかによります。</p><p>FreeBSD をディスク全体にインストールするのであれば、
	<span class="guimenuitem">Use Entire Disk</span> オプションを表す
	<span class="keycap"><strong>A</strong></span> キーを押してください。
	この場合、このディスクのすべてのデータは削除されます。
	存在しているスライスは取り除かれ、
	<code class="literal">unused</code> の小さな領域と、
	FreeBSD のための大きなスライスへ置きかわるでしょう。
	次に方向キーを使って新しく作成された
	FreeBSD スライスを選択し、スライスに起動可能の印をつけるために
	<span class="keycap"><strong>S</strong></span> キーを押してください。
	そのとき、画面の見た目は <a class="xref" href="install-steps.html#sysinstall-fdisk2" title="図3.15 ディスク全体を使う FDisk 構成">図3.15「ディスク全体を使う FDisk 構成」</a>
	とよく似たものとなるでしょう。
	<code class="literal">Flags</code> 列の <code class="literal">A</code> に注意してください。
	これはこのスライスが <span class="emphasis"><em>アクティブ</em></span> で、
	ここから起動することを示します。</p><p>FreeBSD のための空き領域を作成するために、
	存在しているスライスを削除しようとしているのなら、
	方向キーをつかってスライスを選択して
	<span class="keycap"><strong>D</strong></span> キーを押してください。
	それから <span class="keycap"><strong>C</strong></span> キーを押すと、
	作成したいスライスの大きさの入力を促されます。
	適切な数字を入力して <span class="keycap"><strong>Enter</strong></span> キーを押してください。
	この欄に表示されているデフォルト値は、
	スライスに対して割り当てることのできる最大の値です。
	この値は、割り当てられていない領域の連続したブロック、または、ハードディスクの全サイズです。</p><p>FreeBSD のための空き領域を既に作成しているなら、
	そのときは <span class="keycap"><strong>C</strong></span>
	キーを押して新しいスライスを作成できます。
	再び、作成したいスライスの大きさの入力を促されるでしょう。</p><div class="figure"><a id="sysinstall-fdisk2"></a><div class="figure-title">図3.15 ディスク全体を使う FDisk 構成</div><div class="figure-contents"><div class="mediaobject"><img src="install/fdisk-edit2.png" alt="ディスク全体を使う FDisk 構成" /></div></div></div><br class="figure-break" /><p>終了したら <span class="keycap"><strong>Q</strong></span> キーを押しください。
	あなたの変更は <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sysinstall&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sysinstall</span>(8)</span></a>
	内に保存されるでしょう。
	しかし、まだディスクには書きこまれません。</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="bootmgr"></a>3.6.3. ブートマネージャのインストール</h3></div></div></div><p>次のメニューでは、
	ブートマネージャをインストールするかどうかを選択します。
	一般的に、次の場合は
	FreeBSD ブートマネージャをインストールするべきです。</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>二つ以上のドライブがあり、
	    一番目のドライブ以外に FreeBSD をインストールする場合</p></li><li class="listitem"><p>FreeBSD を同じディスク内に他の OS と共存させてインストールしており、
	    コンピュータを起動する際に FreeBSD か他の OS かを選択したい場合</p></li></ul></div><p>もし、コンピュータに FreeBSD のみをインストールするのであれば、
	最初のハードディスクにインストールし、
	<span class="guimenuitem">Standard</span> ブートマネージャを選択してください。
	もし、FreeBSD をブート可能なサードパーティ製のブートマネージャを使うのであれば、
	<span class="guimenuitem">None</span> を選択してください。</p><p>選択をして <span class="keycap"><strong>Enter</strong></span> キーを押してください。</p><div class="figure"><a id="sysinstall-bootmgr"></a><div class="figure-title">図3.16 sysinstall ブートマネージャメニュー</div><div class="figure-contents"><div class="mediaobject"><img src="install/boot-mgr.png" alt="sysinstall ブートマネージャメニュー" /></div></div></div><br class="figure-break" /><p><span class="keycap"><strong>F1</strong></span> キーを押すと表示されるヘルプ画面では、
	ハードディスクを
	OS 間で共有する場合に起こり得る問題について議論しています。</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp81211728"></a>3.6.4. 他のドライブのスライスの作成</h3></div></div></div><p>二つ以上ドライブがある場合、
	ブートマネージャを選択した後、ドライブ選択画面に戻ります。
	FreeBSD を二つ以上のディスクにインストールしたいのなら、
	他のディスクを選択し、<span class="application">FDisk</span>
	を用いてスライス作成の作業を繰りかえしてください。</p><div xmlns="" class="important"><h3 class="admontitle">重要: </h3><p xmlns="http://www.w3.org/1999/xhtml">一番目以外のドライブに FreeBSD をインストールするのであれば、
	  両方のドライブに FreeBSD
	  のブートマネージャをインストールする必要があります。</p></div><div class="figure"><a id="sysinstall-fdisk-drive2"></a><div class="figure-title">図3.17 ドライブ選択の終了</div><div class="figure-contents"><div class="mediaobject"><img src="install/fdisk-drive2.png" alt="ドライブ選択の終了" /></div></div></div><br class="figure-break" /><p><span class="keycap"><strong>Tab</strong></span> キーを押して、
	最後に選択したドライブと
	<span class="guibutton">[ OK ]</span> および <span class="guibutton">[ Cancel ]</span> の間を切りかえてください。</p><p><span class="guibutton">[ OK ]</span> に移るために <span class="keycap"><strong>Tab</strong></span> キーを一度押し、
	それからインストールを続けるために
	<span class="keycap"><strong>Enter</strong></span> キーを押してください。</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="bsdlabeleditor"></a>3.6.5. <span class="application">disklabel</span> でパーティション作成</h3></div></div></div><p>次に、作成したばかりのスライス内にパーティションをいくつか作成してください。
	それぞれのパーティションには
	<code class="literal">a</code> から <code class="literal">h</code> までの文字がつけられ、
	<code class="literal">b</code>, <code class="literal">c</code> そして
	<code class="literal">d</code>
	パーティションは守るべき慣習的な意味を持っています。</p><p>特定のアプリケーションは、特別のパーティション構成
	(特に二つ以上のディスクにわたってパーティションを構成している場合)
	から利益を得ることができます。
	しかしながら、はじめて FreeBSD をインストールする場合、
	ディスクをどのようにパーティションに区切るか、
	ということをあまり大げさに考えることはありません。
	FreeBSD をインストールして使い方を学びはじめることの方がより重要です。
	オペレーティングシステムにより詳しくなった後、
	いつでも FreeBSD を再インストールすることで、
	パーティション構成を変更できます。</p><p>以下は四つのパーティション : 一つはスワップ領域、
	三つのファイルシステム、の構成です。</p><div class="table"><a id="idp81235664"></a><div class="table-title">表3.2 一つ目のディスクのパーティションレイアウト</div><div class="table-contents"><table summary="一つ目のディスクのパーティションレイアウト" width="100%" border="0"><colgroup><col /><col /><col /><col /></colgroup><thead><tr><th>パーティション</th><th>ファイルシステム</th><th>サイズ</th><th>説明</th></tr></thead><tbody><tr><td><code class="literal">a</code></td><td><code class="filename">/</code></td><td>1 GB</td><td>これはルートファイルシステムです。
		他のファイルシステムはすべてこの下のどこかにマウントされるでしょう。
		ユーザのファイルはここに格納されず、また、
		通常の FreeBSD インストールでは、
		ここに配置するデータは約 128 MB なので、
		1 GB はこのファイルシステムに手ごろなサイズです。</td></tr><tr><td><code class="literal">b</code></td><td>なし</td><td>メモリの 2-3 倍</td><td><p><code class="literal">b</code> パーティションには、
		システムのスワップ領域が保持されています。
		スワップ領域の正しい容量を決めることは、
		ちょっとした芸術かもしれません。
		確実な経験則は、物理的なメモリ (RAM) の
		2-3 倍のサイズのスワップ領域とするように、としています。
		また、最低 64 MB のスワップを確保するといいでしょう。
		したがって、コンピュータが
		32 MB 未満のメモリを搭載している時は、
		スワップ領域を 64 MB にしてください。
		二つ以上のディスクがあるときには、
		それぞれのディスクにスワップを置くことができます。
		FreeBSD はそれぞれのディスクをスワップに用い、
		スワップ動作を効果的に高速化させるでしょう。
		この場合、必要とするスワップサイズの合計を計算し、
		それぞれのディスクに置くスワップサイズを求めるために、
		ディスク数で割ってください。</p>
	      </td></tr><tr><td><code class="literal">e</code></td><td><code class="filename">/var</code></td><td>512 MB 〜 4096 MB</td><td><code class="filename">/var</code>
		には、ログファイルやその他の管理ファイルといった、
		絶えず変化するファイルが保存されています。
		これらのファイルの多くは
		FreeBSD の毎日の動作の間に広範囲にわたって読みこまれ、
		書きこまれます。 (訳注: <code class="filename">/</code>とは)
		別のファイルシステムにこれらのファイルを置くことは、
		異なったアクセス頻度のディレクトリ内にある他のファイルに影響を与えずに、
		FreeBSD がこれらのファイルへのアクセスを最適化することを可能とします。</td></tr><tr><td><code class="literal">f</code></td><td><code class="filename">/usr</code></td><td>ディスクの残り (少なくとも 8 GB)</td><td>他のすべてのファイルは、主に
		<code class="filename">/usr</code>
		およびそのサブディレクトリ内に保存されます。</td></tr></tbody></table></div></div><br class="table-break" /><div xmlns="" class="warning"><h3 class="admontitle">警告: </h3><p xmlns="http://www.w3.org/1999/xhtml">上記のサイズの値は、例として載せたものです。
	  経験のあるユーザのみが使ってください。
	  FreeBSD パーティションエディタの <code class="literal">Auto
	    Defaults</code>
	  で選択できる自動パーティションレイアウトが推奨されています。</p></div><p>二つ以上のディスクに FreeBSD をインストールしようとしているのなら、
	設定した他のスライスにもパーティションを作成しないといけません。
	最も簡単な方法は、
	それぞれのディスクに二つのパーティションを作成することです。
	一つはスワップ領域、
	そして一つはファイルシステムのためのパーティションです。</p><div class="table"><a id="idp81261520"></a><div class="table-title">表3.3 残りのディスクのパーティション構成</div><div class="table-contents"><table summary="残りのディスクのパーティション構成" width="100%" border="0"><colgroup><col /><col /><col /><col /></colgroup><thead><tr><th>パーティション</th><th>ファイルシステム</th><th>サイズ</th><th>説明</th></tr></thead><tbody><tr><td><code class="literal">b</code></td><td>なし</td><td>説明を参照</td><td>スワップ領域をそれぞれのディスクにわたって分割できます。
		たとえ <code class="literal">a</code> パーティションが
		(訳注: そのスライスに) ないとしても、
		慣習により、スワップ領域は
		<code class="literal">b</code> パーティションとなります。</td></tr><tr><td><code class="literal">e</code></td><td>/disk<em class="replaceable"><code>n</code></em></td><td>ディスクの残り</td><td>ディスクの残りは一つの大きなパーティションとなります。
		これは <code class="literal">e</code> パーティションの代わりに、
		<code class="literal">a</code>
		パーティション上へ簡単に置くことができるかもしれません。
		しかしながら慣習により、スライス上の <code class="literal">a</code>
		パーティションはルート
		(<code class="filename">/</code>)
		ファイルシステムとなるファイルシステムのために予約されています。
		この慣習にしたがう必要はありませんが
		<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sysinstall&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sysinstall</span>(8)</span></a> はこのように設定します。
		したがってこの慣習に従うことで,
		インストールが少しだけわかりやすくなります。
		このファイルシステムをマウントする場所はどこにでも選択できます。
		この例では、これらを <code class="filename">/disk<em class="replaceable"><code>n</code></em></code>
		としてマウントするよう提案しています。
		ここで <em class="replaceable"><code>n</code></em>
		はそれぞれのディスクごとに変更する数字です。</td></tr></tbody></table></div></div><br class="table-break" /><p>パーティション構成を決めたら、
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sysinstall&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sysinstall</span>(8)</span></a>  を用いて作成してください。</p><pre class="screen">                                 Message
 Now, you need to create BSD partitions inside of the fdisk
 partition(s) just created. If you have a reasonable amount of disk
 space (1GB or more) and don't have any special requirements, simply
 use the (A)uto command to allocate space automatically. If you have
 more specific needs or just don't care for the layout chosen by
 (A)uto, press F1 for more information on manual layout.

                                [  OK  ]
                          [ Press enter or space ]</pre><p><span class="application">Disklabel</span> と呼ばれる
	FreeBSD パーティションエディタを使うために、
	<span class="keycap"><strong>Enter</strong></span> キーを押してください。</p><p><a class="xref" href="install-steps.html#sysinstall-label" title="図3.18 sysinstall ディスクラベルエディタ">図3.18「sysinstall ディスクラベルエディタ」</a> は
	<span class="application">Disklabel</span>
	を起動したときの画面表示です。
	この画面は三つのセクションに分かれています。</p><p>はじめの数行は現在作業しているディスクの名前、
	そして作成しようとしているパーティションを含むスライスを表示します
	この時点で <span class="application">Disklabel</span>
	はスライスのことをスライス名ではなく<code class="literal">パーティション名</code>と呼びます 。
	この画面はスライス内の空き領域の合計も表示しています。
	この空き領域はスライス内に存在していて、
	しかしまだパーティションに割り当てられていない領域です。</p><p>画面の中段は作成したパーティションを表示しています。
	それぞれのパーティションが含むファイルシステムの名前、サイズ、
	ファイルシステム作成にまつわるいくつかのオプションが表示されます。</p><p>画面の下段にある三つ目のセクションは
	<span class="application">disklabel</span>
	で有効なキー操作を表示します。</p><div class="figure"><a id="sysinstall-label"></a><div class="figure-title">図3.18 sysinstall ディスクラベルエディタ</div><div class="figure-contents"><div class="mediaobject"><img src="install/disklabel-ed1.png" alt="sysinstall ディスクラベルエディタ" /></div></div></div><br class="figure-break" /><p><span class="application">Disklabel</span>
	は自動的にパーティションを作成し、
	デフォルトのサイズを割りあてます。
	デフォルトのサイズは、
	ディスクのサイズからパーティションサイズを決めるアルゴリズムによって計算されます。
	<span class="keycap"><strong>A</strong></span> キーを押すと、
	<a class="xref" href="install-steps.html#sysinstall-label2" title="図3.19 デフォルトの自動割り当てによる sysinstall ディスクラベルエディタ">図3.19「デフォルトの自動割り当てによる sysinstall ディスクラベルエディタ」</a> とよく似た画面が表示されます。
	デフォルトのサイズは使用しているディスクのサイズに依存するので、
	希望するサイズになることもあるし、ならないこともあるでしょう。</p><div xmlns="" class="note"><h3 class="admontitle">注記: </h3><p xmlns="http://www.w3.org/1999/xhtml">デフォルトのパーティション構成では、
	  <code class="filename">/tmp</code> に対して、
	  <code class="filename">/</code>
	  パーティションの一部ではなく、
	  それ自身のパーティションを割り当てます。
	  このことは、一時ファイルによって
	  <code class="filename">/</code>
	  パーティションがあふれてしまうことを防ぐのに役立ちます。</p></div><div class="figure"><a id="sysinstall-label2"></a><div class="figure-title">図3.19 デフォルトの自動割り当てによる sysinstall ディスクラベルエディタ</div><div class="figure-contents"><div class="mediaobject"><img src="install/disklabel-auto.png" alt="デフォルトの自動割り当てによる sysinstall ディスクラベルエディタ" /></div></div></div><br class="figure-break" /><p>デフォルトのパーティションを変更するには、
	方向キーを用いて一番目のパーティションを選択し、
	<span class="keycap"><strong>D</strong></span> キーを押して削除してください。
	この作業を繰り返して、
	提案されたすべてのパーティションを削除してください。</p><p>一番目のパーティション (<code class="filename">/</code>
	としてマウントされる <code class="literal">a</code>) を作成するには、
	画面の先頭の適切なディスクスライスが選択されていることを確認して、
	<span class="keycap"><strong>C</strong></span> キーを押してください。
	<a class="xref" href="install-steps.html#sysinstall-label-add" title="図3.20 ルートパーティションに割りあてる容量">図3.20「ルートパーティションに割りあてる容量」</a> に示されるような、
	新しいパーティションのサイズの入力をうながすダイアログが現れます。
	使用したいサイズをブロック数で入力するか、
	数字の後に <code class="literal">M</code> をつけてメガバイト単位 、
	<code class="literal">G</code> をつけてギガバイト単位 、
	<code class="literal">C</code>
	をつけてシリンダ単位で入力してください。</p><div class="figure"><a id="sysinstall-label-add"></a><div class="figure-title">図3.20 ルートパーティションに割りあてる容量</div><div class="figure-contents"><div class="mediaobject"><img src="install/disklabel-root1.png" alt="ルートパーティションに割りあてる容量" /></div></div></div><br class="figure-break" /><p>(訳注: ダイアログに) 表示されるデフォルトのサイズは、
	スライスに残っているサイズのパーティションを作成するでしょう。
	上述したパーティションサイズを用いる場合は <span class="keycap"><strong>Backspace</strong></span>
	キーを用いて表示されている数字を削除し
	<a class="xref" href="install-steps.html#sysinstall-label-add2" title="図3.21 ルートパーティションサイズの編集">図3.21「ルートパーティションサイズの編集」</a> のように <strong class="userinput"><code>512M</code></strong>
	と入力してください。そして <span class="guibutton">[ OK ]</span> を押してください。</p><div class="figure"><a id="sysinstall-label-add2"></a><div class="figure-title">図3.21 ルートパーティションサイズの編集</div><div class="figure-contents"><div class="mediaobject"><img src="install/disklabel-root2.png" alt="ルートパーティションサイズの編集" /></div></div></div><br class="figure-break" /><p>パーティションのサイズを入力すると、
	次にインストーラは、このパーティションがファイルシステムなのか、
	それともスワップ領域なのかを聞いてきます。
	<a class="xref" href="install-steps.html#sysinstall-label-type" title="図3.22 ルートパーティションタイプの選択">図3.22「ルートパーティションタイプの選択」</a>
	のようにダイアログが表示されます。
	この一番目のパーティションにはファイルシステムが含まれるので、
	<span class="guimenuitem">FS</span> を選択し、
	<span class="keycap"><strong>Enter</strong></span> キーを押します。</p><div class="figure"><a id="sysinstall-label-type"></a><div class="figure-title">図3.22 ルートパーティションタイプの選択</div><div class="figure-contents"><div class="mediaobject"><img src="install/disklabel-fs.png" alt="ルートパーティションタイプの選択" /></div></div></div><br class="figure-break" /><p>最後に <span class="application">Disklabel</span> に対して、
	このファイルシステムがどこにマウントされるか教えなければなりません。
	<a class="xref" href="install-steps.html#sysinstall-label-mount" title="図3.23 ルートのマウントポイント選択">図3.23「ルートのマウントポイント選択」</a>
	のようなダイアログが表示されます。
	<strong class="userinput"><code>/</code></strong> と入力し
	<span class="keycap"><strong>Enter</strong></span> キーを押してください。</p><div class="figure"><a id="sysinstall-label-mount"></a><div class="figure-title">図3.23 ルートのマウントポイント選択</div><div class="figure-contents"><div class="mediaobject"><img src="install/disklabel-root3.png" alt="ルートのマウントポイント選択" /></div></div></div><br class="figure-break" /><p>画面は更新されて、
	新しく作成したパーティションが表示されます。
	この作業を繰りかえして、
	他のパーティションを作成してください。
	スワップパーティションを作成したときには、
	ファイルシステムのマウントポイントの入力は促されません。
	最後のパーティションの <code class="filename">/usr</code>
	を作成するときは、表示されたサイズをそのままにしておいて、
	スライスに残っているサイズを使用してください。</p><p>最終的な FreeBSD ディスクラベルエディタの画面は、
	選択された数値は異なっているかもしれませんが、
	<a class="xref" href="install-steps.html#sysinstall-label4" title="図3.24 sysinstall ディスクラベルエディタ">図3.24「sysinstall ディスクラベルエディタ」</a> のようになるでしょう。
	<span class="keycap"><strong>Q</strong></span> キーを押して終了します。</p><div class="figure"><a id="sysinstall-label4"></a><div class="figure-title">図3.24 sysinstall ディスクラベルエディタ</div><div class="figure-contents"><div class="mediaobject"><img src="install/disklabel-ed2.png" alt="sysinstall ディスクラベルエディタ" /></div></div></div><br class="figure-break" /></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="using-sysinstall.html">戻る</a>〓</td><td width="20%" align="center"><a accesskey="u" href="install.html">上に戻る</a></td><td width="40%" align="right">〓<a accesskey="n" href="install-choosing.html">次へ</a></td></tr><tr><td width="40%" align="left" valign="top">3.5. sysinstall(8) の紹介〓</td><td width="20%" align="center"><a accesskey="h" href="index.html">ホーム</a></td><td width="40%" align="right" valign="top">〓3.7. 何をインストールするか選択する</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>本文書、および他の文書は
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>
    からダウンロードできます。</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>FreeBSD に関する質問がある場合には、
    <a href="http://www.FreeBSD.org/ja/docs.html">ドキュメント</a> を読んだ上で
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt; まで (英語で) 連絡してください。<br></br>
    本文書に関する質問については、
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt; まで電子メールを (英語で) 送ってください。</small></p></body></html>