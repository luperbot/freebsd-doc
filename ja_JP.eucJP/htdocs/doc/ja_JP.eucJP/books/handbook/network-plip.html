<?xml version="1.0" encoding="euc-jp" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=euc-jp" /><title>22.15. パラレルライン IP (PLIP)</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD ハンドブック" /><link rel="up" href="advanced-networking.html" title="第22章 高度なネットワーク" /><link rel="prev" href="network-inetd.html" title="22.14. inetd 「スーパサーバ」" /><link rel="next" href="network-ipv6.html" title="22.16. IPv6" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">22.15. パラレルライン IP (PLIP)</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="network-inetd.html">戻る</a>〓</td><th width="60%" align="center">第22章 高度なネットワーク</th><td width="20%" align="right">〓<a accesskey="n" href="network-ipv6.html">次へ</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="network-plip"></a>22.15. パラレルライン IP (PLIP)</h2></div></div></div><a id="idp97531088" class="indexterm"></a><a id="idp97531600" class="indexterm"></a><p>PLIP はパラレルポート間で TCP/IP 通信を可能にします。
      これはネットワークカードの無いマシンやノートパソコンにインストールするときに役に立ちます。
      この節では以下について説明します。</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>パラレル (ラップリンク または パラレルクロス)
	  ケーブルの作成。</p></li><li class="listitem"><p>2 台のコンピュータの PLIP による接続。</p></li></ul></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="network-create-parallel-cable"></a>22.15.1. パラレル (クロス) ケーブルの作成</h3></div></div></div><p>コンピュータ用品店のほとんどでパラレル (クロス)
	ケーブルを購入することができます。
	購入することができないか、
	単にケーブルがどのような構造であるか知りたい場合は、
	次の表に通常のパラレルプリンタケーブルをもとに作成する方法が示されています。</p><div class="table"><a id="idp97535568"></a><div class="table-title">表22.1 ネットワーク向けのパラレル (クロス) ケーブル結線</div><div class="table-contents"><table summary="ネットワーク向けのパラレル (クロス) ケーブル結線" border="1"><colgroup><col /><col /><col /><col /><col /></colgroup><thead><tr><th>A-名称</th><th>A-端</th><th>B-端</th><th>説明</th><th>Post/Bit</th></tr></thead><tbody><tr><td><div class="literallayout"><p>DATA0<br />
-ERROR</p></div></td><td><div class="literallayout"><p>2<br />
15</p></div></td><td><div class="literallayout"><p>15<br />
2</p></div></td><td>Data</td><td><div class="literallayout"><p>0/0x01<br />
1/0x08</p></div></td></tr><tr><td><div class="literallayout"><p>DATA1<br />
+SLCT</p></div></td><td><div class="literallayout"><p>3<br />
13</p></div></td><td><div class="literallayout"><p>13<br />
3</p></div></td><td>Data</td><td><div class="literallayout"><p>0/0x02<br />
1/0x10</p></div></td></tr><tr><td><div class="literallayout"><p>DATA2<br />
+PE</p></div></td><td><div class="literallayout"><p>4<br />
12</p></div></td><td><div class="literallayout"><p>12<br />
4</p></div></td><td>Data</td><td><div class="literallayout"><p>0/0x04<br />
1/0x20</p></div></td></tr><tr><td><div class="literallayout"><p>DATA3<br />
-ACK</p></div></td><td><div class="literallayout"><p>5<br />
10</p></div></td><td><div class="literallayout"><p>10<br />
5</p></div></td><td>Strobe</td><td><div class="literallayout"><p>0/0x08<br />
1/0x40</p></div></td></tr><tr><td><div class="literallayout"><p>DATA4<br />
BUSY</p></div></td><td><div class="literallayout"><p>6<br />
11</p></div></td><td><div class="literallayout"><p>11<br />
6</p></div></td><td>Data</td><td><div class="literallayout"><p>0/0x10<br />
1/0x80</p></div></td></tr><tr><td>GND</td><td>18-25</td><td>18-25</td><td>GND</td><td>-</td></tr></tbody></table></div></div><br class="table-break" /></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="network-plip-setup"></a>22.15.2. PLIP の設定</h3></div></div></div><p>はじめに、ラップリンクケーブルを入手しなければなりません。
	次に、両方のコンピュータのカーネルが <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lpt&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">lpt</span>(4)</span></a>
	ドライバ対応であることを確認してください。</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>grep lp /var/run/dmesg.boot</code></strong>
lpt0: &lt;Printer&gt; on ppbus0
lpt0: Interrupt-driven port</pre><p>パラレルポートは割り込み駆動ポートでなければなりません。
	FreeBSD 4.X では、
	以下のような行がカーネルコンフィギュレーションファイル内になければならないでしょう。</p><pre class="programlisting">device ppc0 at isa? irq 7</pre><p>FreeBSD 5.X では <code class="filename">/boot/device.hints</code>
	ファイルに以下の行がなければならないでしょう。</p><pre class="programlisting">hint.ppc.0.at="isa"
hint.ppc.0.irq="7"</pre><p>それからカーネルコンフィギュレーションファイルに
	<code class="literal">device plip</code> という行があるか、または
	<code class="filename">plip.ko</code>
	カーネルモジュールが読み込まれていることを確認してください。
	どちらの場合でも <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ifconfig&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ifconfig</span>(8)</span></a> コマンドを直接実行したときに、
	パラレルネットワークインタフェースが現れるはずです。
	FreeBSD 4.X ではこのようになります。</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ifconfig lp0</code></strong>
lp0: flags=8810&lt;POINTOPOINT,SIMPLEX,MULTICAST&gt; mtu 1500</pre><p>FreeBSD 5.X ではこのようになります。</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ifconfig plip0</code></strong>
plip0: flags=8810&lt;POINTOPOINT,SIMPLEX,MULTICAST&gt; mtu 1500</pre><div xmlns="" class="note"><h3 class="admontitle">注記: </h3><p xmlns="http://www.w3.org/1999/xhtml">パラレルインタフェースに対して用いられるデバイス名は
	  FreeBSD 4.X
	  (<code class="filename">lpX</code>) と
	  FreeBSD 5.X
	  (<code class="filename">plipX</code>)
	  間で異なります。</p></div><p>両方のコンピュータのパラレルインタフェースにラップリンクケーブルを接続します。</p><p>両方のネットワークインタフェースパラメータを
	<code class="systemitem">root</code> で設定します。
	たとえば、FreeBSD 4.X を動作させている <code class="systemitem">host1</code> と
	FreeBSD 5.X を動作させている <code class="systemitem">host2</code>
	の両ホストを接続したい場合は次のようにします。</p><pre class="programlisting">                 host1 &lt;-----&gt; host2
IP Address    10.0.0.1      10.0.0.2</pre><p>次のコマンドで <code class="systemitem">host1</code>
	上のインタフェースを設定します。</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ifconfig lp0 10.0.0.1 10.0.0.2</code></strong></pre><p>次のコマンドで <code class="systemitem">host2</code>
	上のインタフェースを設定します。</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ifconfig plip0 10.0.0.2 10.0.0.1</code></strong></pre><p>さて、これで接続が確立したはずです。詳細については <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lp&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">lp</span>(4)</span></a>
	および <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lpt&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">lpt</span>(4)</span></a> マニュアルページをご覧ください。</p><p>さらに<code class="filename">/etc/hosts</code>
	に両ホストを加えるとよいでしょう。</p><pre class="programlisting">127.0.0.1               localhost.my.domain localhost
10.0.0.1                host1.my.domain host1
10.0.0.2                host2.my.domain</pre><p>接続がうまくいっているか確かめるために、
	両方のホスト上で互いを ping してください。
	たとえば <code class="systemitem">host1</code> で以下を実行します。</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ifconfig lp0</code></strong>
lp0: flags=8851&lt;UP,POINTOPOINT,RUNNING,SIMPLEX,MULTICAST&gt; mtu 1500
        inet 10.0.0.1 --&gt; 10.0.0.2 netmask 0xff000000
<code class="prompt">#</code> <strong class="userinput"><code>netstat -r</code></strong>
Routing tables

Internet:
Destination        Gateway          Flags     Refs     Use      Netif Expire
host2              host1              UH          0       0       lp0
<code class="prompt">#</code> <strong class="userinput"><code>ping -c 4 host2</code></strong>
PING host2 (10.0.0.2): 56 data bytes
64 bytes from 10.0.0.2: icmp_seq=0 ttl=255 time=2.774 ms
64 bytes from 10.0.0.2: icmp_seq=1 ttl=255 time=2.530 ms
64 bytes from 10.0.0.2: icmp_seq=2 ttl=255 time=2.556 ms
64 bytes from 10.0.0.2: icmp_seq=3 ttl=255 time=2.714 ms

--- host2 ping statistics ---
4 packets transmitted, 4 packets received, 0% packet loss
round-trip min/avg/max/stddev = 2.530/2.643/2.774/0.103 ms</pre></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="network-inetd.html">戻る</a>〓</td><td width="20%" align="center"><a accesskey="u" href="advanced-networking.html">上に戻る</a></td><td width="40%" align="right">〓<a accesskey="n" href="network-ipv6.html">次へ</a></td></tr><tr><td width="40%" align="left" valign="top">22.14. <span class="application">inetd</span> <span class="quote">「<span class="quote">スーパサーバ</span>」</span>〓</td><td width="20%" align="center"><a accesskey="h" href="index.html">ホーム</a></td><td width="40%" align="right" valign="top">〓22.16. IPv6</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>本文書、および他の文書は
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>
    からダウンロードできます。</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>FreeBSD に関する質問がある場合には、
    <a href="http://www.FreeBSD.org/ja/docs.html">ドキュメント</a> を読んだ上で
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt; まで (英語で) 連絡してください。<br></br>
    本文書に関する質問については、
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt; まで電子メールを (英語で) 送ってください。</small></p></body></html>