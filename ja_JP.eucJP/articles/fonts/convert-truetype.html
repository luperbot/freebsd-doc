<?xml version="1.0" encoding="euc-jp" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=euc-jp" /><title>8. TrueType フォントを groff 用に groff/PostScript フォーマットに変換する</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="フォントと FreeBSD" /><link rel="up" href="index.html" title="フォントと FreeBSD" /><link rel="prev" href="type1-fonts-groff.html" title="7. タイプ 1 フォントを Groff で利用する" /><link rel="next" href="truetype-for-other-programs.html" title="9. TrueType フォントを他のプログラムで使うことができますか?" /><link rel="copyright" href="trademarks.html" title="法律上の通知" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">8. TrueType フォントを groff 用に groff/PostScript
      フォーマットに変換する</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="type1-fonts-groff.html">戻る</a>〓</td><th width="60%" align="center">〓</th><td width="20%" align="right">〓<a accesskey="n" href="truetype-for-other-programs.html">次へ</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="convert-truetype"></a>8. TrueType フォントを groff 用に groff/PostScript
      フォーマットに変換する</h2></div></div></div><p>これにはいくつかユーティリティが必要ですが、
      ベースシステムの一部としてインストールされてはいないので若干の作業が必要となります。
      インストールするものは:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="command">ttf2pf</code></span></dt><dd><p>TrueType から PostScript への変換ユーティリティです。
	    これは TrueType フォントからアスキーフォントメトリック
	    (<code class="filename">.afm</code>) ファイルへの変換を行います。</p><p>現時点では <code class="uri"><a class="uri" href="http://sunsite.icm.edu.pl/pub/GUST/contrib/BachoTeX98/ttf2pf/" target="_top">http://sunsite.icm.edu.pl/pub/GUST/contrib/BachoTeX98/ttf2pf/</a></code>
	    から入手できます。
	    注意: これらのファイルは PostScript によるプログラムなので、
	    <span class="keycap"><strong>Shift</strong></span> キーを押しながらリンクをクリックして
	    ディスクにダウンロードしてください。
	    さもないとあなたのブラウザは <span class="application">ghostview</span>
	    を立ちあげます。</p><p>重要なファイルは:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="filename">GS_TTF.PS</code></p></li><li class="listitem"><p><code class="filename">PF2AFM.PS</code></p></li><li class="listitem"><p><code class="filename">ttf2pf.ps</code></p></li></ul></div><p>大文字と小文字が奇妙に混在しているのは、
	    DOS シェルのことも考慮しているためです。
	    <code class="filename">ttf2pf.ps</code> はそれ以外のファイルを
	    大文字として扱いますので、
	    ファイル名の変更はそれに対応させてください
	    (実際には <code class="filename">GS_TTF.PS</code> と
	    <code class="filename">PFS2AFM.PS</code> は、一応
	    <span class="application">Ghostscript</span> の配布物の一部ですが、
	    個別のユーティリティとしても問題なく利用できます。
	    FreeBSD には後者が入っていないようです)。
	    <code class="filename">/usr/local/share/groff_font/devps</code>
	    にインストールするとよいかもしれません。</p></dd><dt><span class="term"><code class="command">afmtodit</code></span></dt><dd><p>はアスキーフォントメトリックファイルから
	    <span class="application">groff</span> とともに使うフォントファイルを作ります。
	    これは通常、
	    <code class="filename">/usr/src/contrib/groff/afmtodit</code>
	    ディレクトリに存在していて、
	    使えるようにするには作業が必要です。</p><div xmlns="" class="note"><h3 class="admontitle">注記: </h3><p xmlns="http://www.w3.org/1999/xhtml">もしも <code class="filename">/usr/src</code>
	      ツリーで作業をすることを躊躇うなら、
	      このディレクトリの内容を作業用の場所にコピーすればいいです。</p></div><p>作業エリアで以下のようにしてこのユーティリティします。</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>make -f Makefile.sub afmtodit</code></strong>
	  </pre><p>もし、まだ存在していなければ
	    <code class="filename">/usr/contrib/groff/devps/generate/textmap</code>
	    を
	    <code class="filename">/usr/share/groff_font/devps/generate</code>
	    にコピーします。</p></dd></dl></div><p>これらのユーティリティが所定の場所に収まったら
      いつでも開始できます。</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p><code class="filename">.afm</code> ファイルを以下のようにして作ります。</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>gs -dNODISPLAY -q -- ttf2pf.ps TTF_name PS_font_name AFM_name</code></strong>
	</pre><p>ここで、<em class="replaceable"><code>TTF_name</code></em> はあなたの
	  TrueType フォントの名前で、<em class="replaceable"><code>PS_font_name</code></em>
	  は <code class="filename">.pfa</code> ファイルのためのファイル名で、
	  <em class="replaceable"><code>AFM_name</code></em> は <code class="filename">.afm</code>
	  ファイルに望む名前です.
	  <code class="filename">.pfa</code> や <code class="filename">.afm</code>
	  用の出力ファイル名を明示しなければ、
	  デフォルト名は TrueType フォントファイル名から作成されます。</p><p>この時、アスキー PostScript フォントメトリックファイルである
	  <code class="filename">.pfa</code> ファイルも同時に作られます
	  (<code class="filename">.pfb</code> はバイナリ形式です)。
	  これは不要となるでしょうが、(私が考えるに)
	  フォントサーバには役立つでしょう。</p><p>例として、30f9 バーコードフォントをデフォルトのファイル名で変換するには以下のようにします。</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>gs -dNODISPLAY -- ttf2pf.ps 3of9.ttf</code></strong>
Aladdin Ghostscript 5.10 (1997-11-23)
Copyright (C) 1997 Aladdin Enterprises, Menlo Park, CA.  All rights reserved.
This software comes with NO WARRANTY: see the file PUBLIC for details.
Converting 3of9.ttf to 3of9.pfa and 3of9.afm.
	</pre><p>変換後のフォントを
	  <code class="filename">A.pfa</code> と <code class="filename">B.afm</code>
	  にするなら以下のようにします。</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>gs -dNODISPLAY -- ttf2pf.ps 3of9.ttf A B</code></strong>
Aladdin Ghostscript 5.10 (1997-11-23)
Copyright (C) 1997 Aladdin Enterprises, Menlo Park, CA.  All rights reserved.
This software comes with NO WARRANTY: see the file PUBLIC for details.
Converting 3of9.ttf to A.pfa and B.afm.
	</pre></li><li class="listitem"><p><span class="application">groff</span> PostScript ファイルを作ります。</p><p>以下のコマンドの実行が用意なように
	  <code class="filename">/usr/share/groff_font/devps</code> に
	  ディレクトリを変更します。
	  恐らく root 特権が必要になるでしょう
	  (そこでの作業が気にいらないなら、このディレクトリの
	  <code class="filename">DESC</code>、
	  <code class="filename">text.enc</code>、
	  <code class="filename">generate/textmap</code>
	  ファイルが参照されるということに注意してください)。</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>afmtodit -d DESC -e text.enc file.afm \
	    generate/textmap PS_font_name</code></strong>
	</pre><p>ここで、<code class="filename">file.afm</code>
	  は <em class="replaceable"><code>AFM_name</code></em>
	  で、上で <code class="command">ttf2pf.ps</code> で作ったものです。
	  <em class="replaceable"><code>PS_font_name</code></em>
	  はコマンドから使われるフォント名で、
	  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=groff&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">groff</span>(1)</span></a> がこのフォントを参照するために使うものです。
	  たとえば、最初の <code class="command">tiff2pf.ps</code>
	  コマンドを上述のように行っていたとすると、
	  3of9 バーコードフォントは以下のコマンドで作成できます。</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>afmtodit -d DESC -e text.enc 3of9.afm \
                 generate/textmap 3of9</code></strong>
	</pre><p>得られる <em class="replaceable"><code>PS_font_name</code></em>
	  ファイル (この例では <code class="filename">3of9</code>)
	  はディレクトリ <code class="filename">/usr/share/groff_font/devps</code>
	  に、コピーするなり移動するなりして置かれることに気をつけてください。</p><p><code class="filename">ttf2pf.ps</code> がわりつけるフォント名は
	  TrueType フォントファイル中に見つかったものになります。
	  それとは異なる名前を使いたかったら、
	  <code class="filename">.afm</code> ファイルを編集してから
	  <code class="command">afmtodit</code> を実行する必要があります。
	  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=groff&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">groff</span>(1)</span></a> から <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=gs&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">gs</span>(1)</span></a> へパイプするつもりならば、
	  その名前は同時にフォントマップファイルで使われているものである必要があります。</p></li></ol></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="type1-fonts-groff.html">戻る</a>〓</td><td width="20%" align="center">〓</td><td width="40%" align="right">〓<a accesskey="n" href="truetype-for-other-programs.html">次へ</a></td></tr><tr><td width="40%" align="left" valign="top">7. タイプ 1 フォントを Groff で利用する〓</td><td width="20%" align="center"><a accesskey="h" href="index.html">ホーム</a></td><td width="40%" align="right" valign="top">〓9. TrueType フォントを他のプログラムで使うことができますか?</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>本文書、および他の文書は
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>
    からダウンロードできます。</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>FreeBSD に関する質問がある場合には、
    <a href="http://www.FreeBSD.org/ja/docs.html">ドキュメント</a> を読んだ上で
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt; まで (英語で) 連絡してください。<br></br>
    本文書に関する質問については、
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt; まで電子メールを (英語で) 送ってください。</small></p></body></html>