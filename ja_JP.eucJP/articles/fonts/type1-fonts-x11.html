<?xml version="1.0" encoding="euc-jp" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=euc-jp" /><title>5. タイプ 1 フォントを X11 で利用する</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="フォントと FreeBSD" /><link rel="up" href="index.html" title="フォントと FreeBSD" /><link rel="prev" href="virtual-console.html" title="4. 仮想コンソールを 80x60 行モードに設定する" /><link rel="next" href="type1-fonts-ghostscript.html" title="6. タイプ 1 フォントを Ghostscript で利用する" /><link rel="copyright" href="trademarks.html" title="法律上の通知" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">5. タイプ 1 フォントを <span class="application">X11</span> で利用する</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="virtual-console.html">戻る</a>〓</td><th width="60%" align="center">〓</th><td width="20%" align="right">〓<a accesskey="n" href="type1-fonts-ghostscript.html">次へ</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="type1-fonts-x11"></a>5. タイプ 1 フォントを <span class="application">X11</span> で利用する</h2></div></div></div><p><span class="application">X11</span> では、
      <code class="filename">.pfa</code> 形式、もしくは、
      <code class="filename">.pfb</code> 形式のフォントのどちらでも利用できます。
      <span class="application">X11</span> では、フォントは
      <code class="filename">/usr/X11R6/lib/X11/fonts</code>
      以下のさまざまなサブディレクトリに置かれています。
      それぞれのディレクトリにある
      <code class="filename">fonts.dir</code> ファイルの内容によって、
      それぞれのフォントのファイルと <span class="application">X11</span>
      上でのフォント名が関連付けられています。</p><p><code class="filename">Type1</code>
      という名前のディレクトリが既に存在しています。
      新しいフォントを追加する最も簡単な方法は、
      このディレクトリのそのフォントファイルを置くことです。
      新しいフォントは別なディレクトリに置いておき、<code class="filename">Type1</code>
      ディレクトリに追加フォントへのシンボリックリンクを張る方がより優れています。
      なぜなら、この方法をとることでオリジナルで供給されているフォントと混乱することなく、
      これらのフォントを追加した跡を残すことがより簡単にできるからです。
      この方法は、例えば、次のように行います。</p><div class="informalexample"><pre class="screen"><em class="lineannotation"><span class="lineannotation">フォントファイルを入れるディレクトリを作成します。</span></em>
<code class="prompt">%</code> <strong class="userinput"><code>mkdir -p /usr/local/share/fonts/type1</code></strong>
<code class="prompt">%</code> <strong class="userinput"><code>cd /usr/local/share/fonts/type1</code></strong>

<em class="lineannotation"><span class="lineannotation">ここに .pfa または .pfb ファイルと .afm ファイルを置きます。</span></em>
<em class="lineannotation"><span class="lineannotation">フォントの readme ファイルやその他のドキュメントをこのディ</span></em>
<em class="lineannotation"><span class="lineannotation">レクトリに置いても構いません。</span></em>
<code class="prompt">%</code> <strong class="userinput"><code>cp /cdrom/fonts/atm/showboat/showboat.pfb .</code></strong>
<code class="prompt">%</code> <strong class="userinput"><code>cp /cdrom/fonts/atm/showboat/showboat.afm .</code></strong>

<em class="lineannotation"><span class="lineannotation">フォントのクロスリファレンスのためにインデックスを変更します。</span></em>
<code class="prompt">%</code> <strong class="userinput"><code>echo showboat - InfoMagic CICA, Dec 1994, /fonts/atm/showboat &gt;&gt;INDEX</code></strong></pre></div><p>さて、新しいフォントを <span class="application">X11</span> で利用するためには、
      そのフォントファイルを利用できるようにして、
      フォント名のファイルを更新する必要があります。
      <span class="application">X11</span> のフォント名は次のようになっています。</p><div class="informalexample"><pre class="screen">-bitstream-charter-medium-r-normal-xxx-0-0-0-0-p-0-iso8859-1
     |        |      |    |   |     |  | | | | | |    \    \
     |        |      |    |   |     \  \ \ \ \ \ \     +----+- character set
     |        |      |    |   \      \  \ \ \ \ \ +- average width
     |        |      |    |    \      \  \ \ \ \ +- spacing
     |        |      |    \     \      \  \ \ \ +- vertical res.
     |        |      |     \     \      \  \ \ +- horizontal res.
     |        |      |      \     \      \  \ +- points
     |        |      |       \     \      \  +- pixels
     |        |      |        \     \      \
  foundry  family  weight   slant  width  additional style</pre></div><p>新しいフォントそれぞれに対して、新しい名前を付ける必要があります。
      フォント付属のドキュメントにフォントに関する情報があれば、
      名前を作る際の基になるかもしれません。そのような情報がない場合は、
      フォントに対して <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=strings&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">strings</span>(1)</span></a>
      を使うと何らかのアイデアが得ることができます。例えば、</p><div class="informalexample"><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>strings showboat.pfb | more</code></strong>
%!FontType1-1.0: Showboat 001.001
%%CreationDate: 1/15/91 5:16:03 PM
%%VMusage: 1024 45747
% Generated by Fontographer 3.1
% Showboat
 1991 by David Rakowski.  Alle Rechte Vorbehalten.
FontDirectory/Showboat known{/Showboat findfont dup/UniqueID known{dup
/UniqueID get 4962377 eq exch/FontType get 1 eq and}{pop false}ifelse
{save true}{false}ifelse}{false}ifelse
12 dict begin
/FontInfo 9 dict dup begin
 /version (001.001) readonly def
 /FullName (Showboat) readonly def
 /FamilyName (Showboat) readonly def
 /Weight (Medium) readonly def
 /ItalicAngle 0 def
 /isFixedPitch false def
 /UnderlinePosition -106 def
 /UnderlineThickness 16 def
 /Notice (Showboat
 1991 by David Rakowski.  Alle Rechte Vorbehalten.) readonly def
end readonly def
/FontName /Showboat def
--stdin--</pre></div><p>この情報から、次のような名前が考えられます:</p><div class="informalexample"><pre class="screen">-type1-Showboat-medium-r-normal-decorative-0-0-0-0-p-0-iso8859-1</pre></div><p>この名前の構成は次の通りです。</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">型 (foundry)</span></dt><dd><p>新フォントは <code class="literal">type1</code>
	    と名付けることにしましょう。</p></dd><dt><span class="term">族 (family)</span></dt><dd><p>フォントの名前です。</p></dd><dt><span class="term">重み (weight)</span></dt><dd><p>normal (普通)、bold (太い)、medium (中間)、
	    semibold (やや太め) などがあります。上記の
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=strings&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">strings</span>(1)</span></a> の出力より、
	    フォントの重みは <span class="emphasis"><em>medium</em></span>
	    であると考えられます。</p></dd><dt><span class="term">傾斜 (slant)</span></dt><dd><p><span class="emphasis"><em>r</em></span>oman (ローマン体)、<span class="emphasis"><em>i</em></span>talic (イタリック体)、<span class="emphasis"><em>o</em></span>blique (斜字体) などがあります。
	    <span class="emphasis"><em>ItalicAngle</em></span> が0になっていることにより、
	    <span class="emphasis"><em>roman</em></span> を使っています。</p></dd><dt><span class="term">幅</span></dt><dd><p>normal (普通)、wide (幅広)、condensed (圧縮)、extended(拡張)
	    などがあります。上記で調べた結果から、
	    <span class="emphasis"><em>normal</em></span> を仮定します。</p></dd><dt><span class="term">追加スタイル</span></dt><dd><p>通常は省略されますが、フォントに装飾用 (decorative)
	    英大文字が含まれていることをここで示します。</p></dd><dt><span class="term">スペーシング</span></dt><dd><p>proportional (プロポーショナル (訳注:
	    字形に応じて幅が変化するフォント)) または monospaced
	    (単一幅フォント) があります。ここでは
	    <span class="emphasis"><em>Proportional</em></span> としてありますが、これは
	    <span class="emphasis"><em>isFixedPitch</em></span> が false (偽)
	    になっているためです。</p></dd></dl></div><p>これらの名前は全て任意なのですが、
      既存の慣習と互換性を保つよう努力すべきでしょう。
      <span class="application">X11</span> プログラムでは、
      フォントはワイルドカードを含んだ名前で参照されます。ですから、
      フォント名は何らかの意味づけを持って選択されるべきでしょう。
      (訳注 : 適当なフォントを探すとき、)
      ある人は単純に以下の名前を使うことから始めるかもしれません。

      </p><div class="informalexample"><pre class="screen">…-normal-r-normal-…-p-…
	</pre></div><p>

      そして、
      <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=xfontsel&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">xfontsel</span>(1)</span></a>
      で該当するフォントを調べてみて、そのフォントの形を見ながら、
      名前を調節するかもしれません。</p><p>それでは、ここまでの例を完結させることにしましょう。</p><div class="informalexample"><pre class="screen"><em class="lineannotation"><span class="lineannotation">X11 に対してフォントをアクセスできるようにします。</span></em>
<code class="prompt">%</code> <strong class="userinput"><code>cd /usr/X11R6/lib/X11/fonts/Type1</code></strong>
<code class="prompt">%</code> <strong class="userinput"><code>ln -s /usr/local/share/fonts/type1/showboat.pfb .</code></strong>

<em class="lineannotation"><span class="lineannotation">fonts.dir と fonts.scale を編集して、フォントを記述する行を追加し、最初の行にある総フォント数を増やします。</span></em>
<code class="prompt">%</code> <strong class="userinput"><code>ex fonts.dir
:1p
25
:1c
26
.
:$a
showboat.pfb -type1-showboat-medium-r-normal-decorative-0-0-0-0-p-0-iso8859-1
.
:wq</code></strong>

<em class="lineannotation"><span class="lineannotation">fonts.scale は fonts.dirと同一内容のようですので…</span></em>
<code class="prompt">%</code> <strong class="userinput"><code>cp fonts.dir fonts.scale</code></strong>

<em class="lineannotation"><span class="lineannotation">X11 に内容が変更されたことを伝えます。</span></em>
<code class="prompt">%</code> <strong class="userinput"><code>xset fp rehash</code></strong>

<em class="lineannotation"><span class="lineannotation">新しいフォントを試してみます。</span></em>
<code class="prompt">%</code> <strong class="userinput"><code>xfontsel -pattern -type1-*</code></strong></pre></div><p>参考文献: <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=xfontsel&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">xfontsel</span>(1)</span></a>、<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=xset&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">xset</span>(1)</span></a>、<em class="citetitle">The X
	Windows System in a Nutshell</em>、<a class="link" href="http://www.ora.com/" target="_top">O'Reilly &amp;
	Associates</a></p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="virtual-console.html">戻る</a>〓</td><td width="20%" align="center">〓</td><td width="40%" align="right">〓<a accesskey="n" href="type1-fonts-ghostscript.html">次へ</a></td></tr><tr><td width="40%" align="left" valign="top">4. 仮想コンソールを 80x60 行モードに設定する〓</td><td width="20%" align="center"><a accesskey="h" href="index.html">ホーム</a></td><td width="40%" align="right" valign="top">〓6. タイプ 1 フォントを Ghostscript で利用する</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>本文書、および他の文書は
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>
    からダウンロードできます。</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>FreeBSD に関する質問がある場合には、
    <a href="http://www.FreeBSD.org/ja/docs.html">ドキュメント</a> を読んだ上で
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt; まで (英語で) 連絡してください。<br></br>
    本文書に関する質問については、
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt; まで電子メールを (英語で) 送ってください。</small></p></body></html>