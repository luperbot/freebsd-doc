<?xml version="1.0" encoding="utf-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>3.8. Marked sections</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD 文件計畫入門書" /><link rel="up" href="sgml-primer.html" title="章 3. SGML Primer" /><link rel="prev" href="sgml-primer-include.html" title="3.7. Using entities to include files" /><link rel="next" href="sgml-primer-conclusion.html" title="3.9. Conclusion" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">3.8. Marked sections</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="sgml-primer-include.html">前一頁</a> </td><th width="60%" align="center">章 3. SGML Primer</th><td width="20%" align="right"> <a accesskey="n" href="sgml-primer-conclusion.html">下一頁</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="sgml-primer-marked-sections"></a>3.8. Marked sections</h2></div></div></div><p>SGML provides a mechanism to indicate that particular pieces of the
      document should be processed in a special way.  These are termed
      <span class="quote">“<span class="quote">marked sections</span>”</span>.</p><div class="example"><a id="idp64775632"></a><div class="example-title">範例 3.14. Structure of a marked section</div><div class="example-contents"><pre class="programlisting">&lt;![ <em class="replaceable"><code>KEYWORD</code></em> [
  Contents of marked section
]]&gt;</pre></div></div><br class="example-break" /><p>As you would expect, being an SGML construct, a marked section
      starts with <code class="literal">&lt;!</code>.</p><p>The first square bracket begins to delimit the marked
      section.</p><p><em class="replaceable"><code>KEYWORD</code></em> describes how this marked
      section should be processed by the parser.</p><p>The second square bracket indicates that the content of the marked
      section starts here.</p><p>The marked section is finished by closing the two square brackets,
      and then returning to the document context from the SGML context with
      <code class="literal">&gt;</code>.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp64786512"></a>3.8.1. Marked section keywords</h3></div></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp64800464"></a>3.8.1.1. <code class="literal">CDATA</code>, <code class="literal">RCDATA</code></h4></div></div></div><p>These keywords denote the marked sections <span class="emphasis"><em>content
	    model</em></span>, and allow you to change it from the
	  default.</p><p>When an SGML parser is processing a document it keeps track
	  of what is called the <span class="quote">“<span class="quote">content model</span>”</span>.</p><p>Briefly, the content model describes what sort of content the
	  parser is expecting to see, and what it will do with it when it
	  finds it.</p><p>The two content models you will probably find most useful are
	  <code class="literal">CDATA</code> and <code class="literal">RCDATA</code>.</p><p><code class="literal">CDATA</code> is for <span class="quote">“<span class="quote">Character Data</span>”</span>.
	  If the parser is in this content model then it is expecting to see
	  characters, and characters only.  In this model the
	  <code class="literal">&lt;</code> and <code class="literal">&amp;</code>
	  symbols lose their special status, and will be treated as ordinary
	  characters.</p><p><code class="literal">RCDATA</code> is for <span class="quote">“<span class="quote">Entity references and
	  character data</span>”</span> If the parser is in this content model then it
	  is expecting to see characters <span class="emphasis"><em>and</em></span> entities.
	  <code class="literal">&lt;</code> loses its special status, but
	  <code class="literal">&amp;</code> will still be treated as
	  starting the beginning of a general entity.</p><p>This is particularly useful if you are including some verbatim
	  text that contains lots of <code class="literal">&lt;</code> and
	  <code class="literal">&amp;</code> characters.  While you
	  could go through the text ensuring that every
	  <code class="literal">&lt;</code> is converted to a
	  <code class="literal">&amp;lt;</code> and every <code class="literal">&amp;</code>
	  is converted to a <code class="literal">&amp;amp;</code>, it can be
	  easier to mark the section as only containing CDATA.  When the SGML
	  parser encounters this it will ignore the
	  <code class="literal">&lt;</code> and <code class="literal">&amp;</code> symbols
	  embedded in the content.</p><div xmlns="" class="note"><h3 class="admontitle">注意: </h3><p xmlns="http://www.w3.org/1999/xhtml">When you use <code class="literal">CDATA</code> or
            <code class="literal">RCDATA</code> in examples of text marked up in SGML,
            keep in mind that the content of <code class="literal">CDATA</code> is not
            validated.  You have to check the included SGML text using other
            means.  You could, for example, write the example in another
            document, validate the example code, and then paste it to your
            <code class="literal">CDATA</code> content.</p></div><div class="example"><a id="idp64847056"></a><div class="example-title">範例 3.15. Using a CDATA marked section</div><div class="example-contents"><pre class="programlisting">&lt;para&gt;Here is an example of how you would include some text
  that contained many &lt;literal&gt;&amp;lt;&lt;/literal&gt;
  and &lt;literal&gt;&amp;amp;&lt;/literal&gt; symbols.  The sample
  text is a fragment of HTML.  The surrounding text (&lt;para&gt; and
  &lt;programlisting&gt;) are from DocBook.&lt;/para&gt;

&lt;programlisting&gt;
  &lt;![CDATA[
    &lt;p&gt;This is a sample that shows you some of the elements within
      HTML.  Since the angle brackets are used so many times, it is
      simpler to say the whole example is a CDATA marked section
      than to use the entity names for the left and right angle
      brackets throughout.&lt;/p&gt;

    &lt;ul&gt;
      &lt;li&gt;This is a listitem&lt;/li&gt;
      &lt;li&gt;This is a second listitem&lt;/li&gt;
      &lt;li&gt;This is a third listitem&lt;/li&gt;
    &lt;/ul&gt;

    &lt;p&gt;This is the end of the example.&lt;/p&gt;
  ]]&gt;
&lt;/programlisting&gt;</pre><p>If you look at the source for this document you will see this
	    technique used throughout.</p></div></div><br class="example-break" /></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp64849872"></a>3.8.1.2. <code class="literal">INCLUDE</code> and
	  <code class="literal">IGNORE</code></h4></div></div></div><p>If the keyword is <code class="literal">INCLUDE</code> then the contents
	  of the marked section will be processed.  If the keyword is
	  <code class="literal">IGNORE</code> then the marked section is ignored and
	  will not be processed.  It will not appear in the output.</p><div class="example"><a id="idp64855888"></a><div class="example-title">範例 3.16. Using <code class="literal">INCLUDE</code> and
	    <code class="literal">IGNORE</code> in marked sections</div><div class="example-contents"><pre class="programlisting">&lt;![ INCLUDE [
  This text will be processed and included.
]]&gt;

&lt;![ IGNORE [
  This text will not be processed or included.
]]&gt;</pre></div></div><br class="example-break" /><p>By itself, this is not too useful.  If you wanted to remove text
	  from your document you could cut it out, or wrap it in
	  comments.</p><p>It becomes more useful when you realize you can use <a class="link" href="sgml-primer-entities.html#sgml-primer-parameter-entities" title="3.6.2. Parameter entities">parameter entities</a>
	  to control this.  Remember that parameter entities can only be used
	  in SGML contexts, and the keyword of a marked section
	  <span class="emphasis"><em>is</em></span> an SGML context.</p><p>For example, suppose that you produced a hard-copy version of
	  some documentation and an electronic version.  In the electronic
	  version you wanted to include some extra content that was not to
	  appear in the hard-copy.</p><p>Create a parameter entity, and set its value to
	  <code class="literal">INCLUDE</code>.  Write your document, using marked
	  sections to delimit content that should only appear in the
	  electronic version.  In these marked sections use the parameter
	  entity in place of the keyword.</p><p>When you want to produce the hard-copy version of the document,
	  change the parameter entity's value to <code class="literal">IGNORE</code> and
	  reprocess the document.</p><div class="example"><a id="idp64869584"></a><div class="example-title">範例 3.17. Using a parameter entity to control a marked
	    section</div><div class="example-contents"><pre class="programlisting">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0//EN" [
&lt;!ENTITY % electronic.copy "INCLUDE"&gt;
]]&gt;

...

&lt;![ %electronic.copy [
  This content should only appear in the electronic
  version of the document.
]]&gt;</pre><p>When producing the hard-copy version, change the entity's
	    definition to:</p><pre class="programlisting">&lt;!ENTITY % electronic.copy "IGNORE"&gt;</pre><p>On reprocessing the document, the marked sections that use
	    <code class="literal">%electronic.copy</code> as their keyword will be
	    ignored.</p></div></div><br class="example-break" /></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp64875344"></a>3.8.2. For you to do…</h3></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Create a new file, <code class="filename">section.xml</code>, that
	    contains the following:</p><pre class="programlisting">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0//EN" [
&lt;!ENTITY % text.output "INCLUDE"&gt;
]&gt;

&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;An example using marked sections&lt;/title&gt;
  &lt;/head&gt;

  &lt;body&gt;
    &lt;p&gt;This paragraph &lt;![CDATA[contains many &lt;
      characters (&lt; &lt; &lt; &lt; &lt;) so it is easier
      to wrap it in a CDATA marked section ]]&gt;&lt;/p&gt;

    &lt;![IGNORE[
    &lt;p&gt;This paragraph will definitely not be included in the
      output.&lt;/p&gt;
    ]]&gt;

    &lt;![%text.output [
    &lt;p&gt;This paragraph might appear in the output, or it
      might not.&lt;/p&gt;

    &lt;p&gt;Its appearance is controlled by the %text.output
      parameter entity.&lt;/p&gt;
    ]]&gt;
  &lt;/body&gt;
&lt;/html&gt;</pre></li><li class="step"><p>Normalize this file using <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sgmlnorm&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">sgmlnorm</span>(1)</span></a> and examine the
	    output.  Notice which paragraphs have appeared, which have
	    disappeared, and what has happened to the content of the CDATA
	    marked section.</p></li><li class="step"><p>Change the definition of the <code class="literal">text.output</code>
	    entity from <code class="literal">INCLUDE</code> to
	    <code class="literal">IGNORE</code>.  Re-normalize the file, and examine the
	    output to see what has changed.</p></li></ol></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="sgml-primer-include.html">前一頁</a> </td><td width="20%" align="center"><a accesskey="u" href="sgml-primer.html">上一層</a></td><td width="40%" align="right"> <a accesskey="n" href="sgml-primer-conclusion.html">下一頁</a></td></tr><tr><td width="40%" align="left" valign="top">3.7. Using entities to include files </td><td width="20%" align="center"><a accesskey="h" href="index.html">起始頁</a></td><td width="40%" align="right" valign="top"> 3.9. Conclusion</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>本文及其他文件，可由此下載：
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>。</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>若有 FreeBSD 方面疑問，請先閱讀
    <a href="http://www.FreeBSD.org/docs.html">FreeBSD 相關文件</a>，如不能解決的話，再洽詢
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;。<br></br>
    關於本文件的問題，請洽詢
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;。</small></p></body></html>