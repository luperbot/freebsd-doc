<?xml version="1.0" encoding="utf-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>6.11. Web applications, Apache and PHP</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD Porter's Handbook" /><link rel="up" href="special.html" title="章 6. Special considerations" /><link rel="prev" href="using-java.html" title="6.10. Using Java" /><link rel="next" href="using-python.html" title="6.12. Using Python" /><link rel="copyright" href="trademarks.html" title="Legal Notice" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">6.11. Web applications, Apache and PHP</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="using-java.html">前一頁</a> </td><th width="60%" align="center">章 6. Special considerations</th><td width="20%" align="right"> <a accesskey="n" href="using-python.html">下一頁</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="using-php"></a>6.11. Web applications, Apache and PHP</h2></div></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="using-apache"></a>6.11.1. Apache</h3></div></div></div><div class="table"><a id="idp68650832"></a><div class="table-title">表格 6.16. Variables for ports that use Apache</div><div class="table-contents"><table summary="Variables for ports that use Apache" border="0"><colgroup><col /><col /></colgroup><tbody><tr><td><code class="varname">USE_APACHE</code></td><td>The port requires Apache.  Possible values:
		  <code class="literal">yes</code> (gets any version),
		  <code class="literal">1.3</code>, <code class="literal">2.0</code>,
		  <code class="literal">2.2</code>, <code class="literal">2.0+</code>,
		  etc.  Default dependency is on version
		  <code class="literal">1.3</code>.</td></tr><tr><td><code class="varname">WITH_APACHE2</code></td><td>The port requires Apache 2.0.  Without this variable,
		  the port will depend on Apache 1.3.  This variable is
		  deprecated and should not be used anymore.</td></tr><tr><td><code class="varname">APXS</code></td><td>Full path to the <code class="command">apxs</code> binary.
		  Can be overriden in your port.</td></tr><tr><td><code class="varname">HTTPD</code></td><td>Full path to the <code class="command">httpd</code> binary.
		  Can be overriden in your port.</td></tr><tr><td><code class="varname">APACHE_VERSION</code></td><td>The version of present Apache installation (read-only
		  variable).  This variable is only available after inclusion
		  of <code class="filename">bsd.port.pre.mk</code>.  Possible values:
		  <code class="literal">13</code>, <code class="literal">20</code>,
		  <code class="literal">22</code>.</td></tr><tr><td><code class="varname">APACHEMODDIR</code></td><td>Directory for Apache modules.  This variable is
		  automatically expanded in pkg-plist.</td></tr><tr><td><code class="varname">APACHEINCLUDEDIR</code></td><td>Directory for Apache headers.  This variable is
		  automatically expanded in pkg-plist.</td></tr><tr><td><code class="varname">APACHEETCDIR</code></td><td>Directory for Apache configuration files.  This
		  variable is automatically expanded in pkg-plist.</td></tr></tbody></table></div></div><br class="table-break" /><div class="table"><a id="idp68671952"></a><div class="table-title">表格 6.17. port Apache 模組時好用的變數</div><div class="table-contents"><table summary="port Apache 模組時好用的變數" border="0"><colgroup><col /><col /></colgroup><tbody><tr><td><code class="varname">MODULENAME</code></td><td>模組名稱。  預設值為
		  <code class="varname">PORTNAME</code>. 範例：
		  <code class="literal">mod_hello</code></td></tr><tr><td><code class="varname">SHORTMODNAME</code></td><td>簡化的模組名稱。  自動地由變數
		  <code class="varname">MODULENAME</code> 產生，不過可以覆蓋它。
		  範例： <code class="literal">hello</code></td></tr><tr><td><code class="varname">AP_FAST_BUILD</code></td><td>使用 <code class="command">apxs</code>
		  來編譯及安裝這個模組。</td></tr><tr><td><code class="varname">AP_GENPLIST</code></td><td>同樣地，也是自動產生
		  <code class="filename">pkg-plist</code>。</td></tr><tr><td><code class="varname">AP_INC</code></td><td>在編譯時間加入一個目錄到標頭檔搜尋路徑。</td></tr><tr><td><code class="varname">AP_LIB</code></td><td>在編譯時間加入一個目錄到函式庫搜尋路徑。</td></tr><tr><td><code class="varname">AP_EXTRAS</code></td><td>傳給
		  <code class="command">apxs</code> 額外的 flags。</td></tr></tbody></table></div></div><br class="table-break" /></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="web-apps"></a>6.11.2. Web 應用程式</h3></div></div></div><p>Web 應用程式應該安裝到
	  <code class="filename">PREFIX/www/appname</code>
	  。  For your convenience, this path is available both in
	  <code class="filename">Makefile</code> and in <code class="filename">pkg-plist</code>
	  as <code class="varname">WWWDIR</code>, and the path relative to
	  <code class="varname">PREFIX</code> is available in
	  <code class="filename">Makefile</code> as
	  <code class="varname">WWWDIR_REL</code>.</p><p>The user and group of web server process are available as
	  <code class="varname">WWWOWN</code> and <code class="varname">WWWGRP</code>, in case you
	  need to change the ownership of some files.  The default values of
	  both are <code class="literal">www</code>.  If you want different values for
	  your port, use <code class="literal">WWWOWN?= myuser</code> notation, to allow
	  user to override it easily.</p><p>請別過於相依 Apache，除非這些程式有明確需要，而得相依 Apache
	  。也許有些使用者，會想在其他非 Apache 的 Web 伺服器上執行這些網頁程式。</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="php-variables"></a>6.11.3. PHP</h3></div></div></div><div class="table"><a id="idp68696656"></a><div class="table-title">表格 6.18. Variables for ports that use PHP</div><div class="table-contents"><table summary="Variables for ports that use PHP" border="0"><colgroup><col /><col /></colgroup><tbody><tr><td><code class="varname">USE_PHP</code></td><td>The port requires PHP.  The value <code class="literal">yes</code>
		  adds a dependency on PHP.  The list of required PHP extensions
		  can be specified instead.  Example: <code class="literal">pcre xml
		  gettext</code></td></tr><tr><td><code class="varname">DEFAULT_PHP_VER</code></td><td>Selects which major version of PHP will be installed as
		  a dependency when no PHP is installed yet.  Default is
		  <code class="literal">4</code>. Possible values: <code class="literal">4</code>,
		  <code class="literal">5</code></td></tr><tr><td><code class="varname">IGNORE_WITH_PHP</code></td><td>The port does not work with PHP of the given version.
		  Possible values: <code class="literal">4</code>,
		  <code class="literal">5</code></td></tr><tr><td><code class="varname">USE_PHPIZE</code></td><td>The port will be built as a PHP extension.</td></tr><tr><td><code class="varname">USE_PHPEXT</code></td><td>The port will be treated as a PHP extension, including
		  installation and registration in the extension registry.</td></tr><tr><td><code class="varname">USE_PHP_BUILD</code></td><td>Set PHP as a build dependency.</td></tr><tr><td><code class="varname">WANT_PHP_CLI</code></td><td>Want the CLI (command line) version of PHP.</td></tr><tr><td><code class="varname">WANT_PHP_CGI</code></td><td>Want the CGI version of PHP.</td></tr><tr><td><code class="varname">WANT_PHP_MOD</code></td><td>Want the Apache module version of PHP.</td></tr><tr><td><code class="varname">WANT_PHP_SCR</code></td><td>Want the CLI or the CGI version of PHP.</td></tr><tr><td><code class="varname">WANT_PHP_WEB</code></td><td>Want the Apache module or the CGI version of PHP.</td></tr></tbody></table></div></div><br class="table-break" /></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp68727888"></a>6.11.4. PEAR modules</h3></div></div></div><p>Porting PEAR modules is a very simple process.</p><p>Use the variables <code class="varname">FILES</code>,
	  <code class="varname">TESTS</code>, <code class="varname">DATA</code>,
	  <code class="varname">SQLS</code>, <code class="varname">SCRIPTFILES</code>,
	  <code class="varname">DOCS</code> and <code class="varname">EXAMPLES</code> to list the
	  files you want to install.  All listed files will be automatically
	  installed into the appropriate locations and added to
	  <code class="filename">pkg-plist</code>.</p><p>Include
	  <code class="filename">${PORTSDIR}/devel/pear/bsd.pear.mk</code>
	  on the last line of the <code class="filename">Makefile</code>.</p><div class="example"><a id="pear-makefile"></a><div class="example-title">範例 6.4. Example Makefile for PEAR class</div><div class="example-contents"><pre class="programlisting">PORTNAME=       Date
PORTVERSION=    1.4.3
CATEGORIES=     devel www pear

MAINTAINER=     example@domain.com
COMMENT=        PEAR Date and Time Zone Classes

BUILD_DEPENDS=  ${PEARDIR}/PEAR.php:${PORTSDIR}/devel/pear-PEAR
RUN_DEPENDS=    ${BUILD_DEPENDS}

FILES=          Date.php Date/Calc.php Date/Human.php Date/Span.php     \
                Date/TimeZone.php
TESTS=          test_calc.php test_date_methods_span.php testunit.php   \
                testunit_date.php testunit_date_span.php wknotest.txt   \
                bug674.php bug727_1.php bug727_2.php bug727_3.php       \
                bug727_4.php bug967.php weeksinmonth_4_monday.txt       \
                weeksinmonth_4_sunday.txt weeksinmonth_rdm_monday.txt   \
                weeksinmonth_rdm_sunday.txt
DOCS=           TODO
_DOCSDIR=       .

.include &lt;bsd.port.pre.mk&gt;
.include "${PORTSDIR}/devel/pear/bsd.pear.mk"
.include &lt;bsd.port.post.mk&gt;</pre></div></div><br class="example-break" /></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="using-java.html">前一頁</a> </td><td width="20%" align="center"><a accesskey="u" href="special.html">上一層</a></td><td width="40%" align="right"> <a accesskey="n" href="using-python.html">下一頁</a></td></tr><tr><td width="40%" align="left" valign="top">6.10. Using Java </td><td width="20%" align="center"><a accesskey="h" href="index.html">起始頁</a></td><td width="40%" align="right" valign="top"> 6.12. Using Python</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>本文及其他文件，可由此下載：
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>。</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>若有 FreeBSD 方面疑問，請先閱讀
    <a href="http://www.FreeBSD.org/docs.html">FreeBSD 相關文件</a>，如不能解決的話，再洽詢
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;。<br></br>
    關於本文件的問題，請洽詢
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;。</small></p></body></html>