<?xml version="1.0" encoding="utf-8"?>
<!--
     The FreeBSD Documentation Project

     $FreeBSD$
     Original Revision: 1.954
-->
<book xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" xml:lang="zh_tw">
  <info><title xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD Porter's Handbook</title>
    

    <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
      <author xmlns:xlink="http://www.w3.org/1999/xlink"><orgname xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 文件計劃</orgname></author>
    </authorgroup>

    <pubdate xmlns:xlink="http://www.w3.org/1999/xlink">April 2000</pubdate>

    <copyright xmlns:xlink="http://www.w3.org/1999/xlink">
      <year xmlns:xlink="http://www.w3.org/1999/xlink">2000</year>
      <year xmlns:xlink="http://www.w3.org/1999/xlink">2001</year>
      <year xmlns:xlink="http://www.w3.org/1999/xlink">2002</year>
      <year xmlns:xlink="http://www.w3.org/1999/xlink">2003</year>
      <year xmlns:xlink="http://www.w3.org/1999/xlink">2004</year>
      <year xmlns:xlink="http://www.w3.org/1999/xlink">2005</year>
      <year xmlns:xlink="http://www.w3.org/1999/xlink">2006</year>
      <year xmlns:xlink="http://www.w3.org/1999/xlink">2007</year>
      <year xmlns:xlink="http://www.w3.org/1999/xlink">2008</year>
      <holder xmlns:xlink="http://www.w3.org/1999/xlink" role="mailto:doc@FreeBSD.org">FreeBSD 文件計劃</holder>
    </copyright>

    
<legalnotice xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="trademarks" role="trademarks">
  <title xmlns:xlink="http://www.w3.org/1999/xlink">Legal Notice</title>

  <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD is a registered trademark of The FreeBSD Foundation.</para>

  <para xmlns:xlink="http://www.w3.org/1999/xlink">UNIX is a registered trademark of The Open Group in the US and
    other countries.</para>

  <para xmlns:xlink="http://www.w3.org/1999/xlink">Sun, Sun Microsystems, SunOS, Solaris,
    Java, JDK, and OpenJDK are trademarks
    or registered trademarks of Sun Microsystems, Inc. in the United
    States and other countries.</para>

<!-- Product Trademarks -->

  <para xmlns:xlink="http://www.w3.org/1999/xlink">Apple and QuickTime are trademarks of Apple Computer, Inc.,
    registered in the U.S. and other countries.</para>

  <para xmlns:xlink="http://www.w3.org/1999/xlink">Macromedia and Flash are trademarks or registered
    trademarks of Macromedia, Inc. in the United States and/or other
    countries.</para>

  <para xmlns:xlink="http://www.w3.org/1999/xlink">Microsoft, Windows, and Windows Media are either registered
    trademarks or trademarks of Microsoft Corporation in the United
    States and/or other countries.</para>

  <para xmlns:xlink="http://www.w3.org/1999/xlink">PartitionMagic is a registered trademark of PowerQuest
    Corporation in the United States and/or other countries.</para>

  <para xmlns:xlink="http://www.w3.org/1999/xlink">Many of the designations used by manufacturers and sellers to
    distinguish their products are claimed as trademarks.  Where those
    designations appear in this book, and the FreeBSD Project was
    aware of the trademark claim, the designations have been followed
    by the ™ symbol.</para>
</legalnotice>


    
<legalnotice xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="legalnotice">
  <title xmlns:xlink="http://www.w3.org/1999/xlink">Copyright</title>

  <para xmlns:xlink="http://www.w3.org/1999/xlink">Redistribution and use in source (XML DocBook) and 'compiled'
    forms (XML, HTML, PDF, PostScript, RTF and so forth) with or without
    modification, are permitted provided that the following conditions are
    met:</para>

  <orderedlist xmlns:xlink="http://www.w3.org/1999/xlink">
    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">Redistributions of source code (XML DocBook) must retain the
        above copyright notice, this list of conditions and the following
        disclaimer as the first lines of this file unmodified.</para>
    </listitem>

    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">Redistributions in compiled form (transformed to other DTDs,
        converted to PDF, PostScript, RTF and other formats) must
        reproduce the above copyright notice, this list of conditions and
        the following disclaimer in the documentation and/or other
        materials provided with the distribution.</para>
    </listitem>
  </orderedlist>

  <important xmlns:xlink="http://www.w3.org/1999/xlink">
    <para xmlns:xlink="http://www.w3.org/1999/xlink">THIS DOCUMENTATION IS PROVIDED BY THE FREEBSD DOCUMENTATION
      PROJECT "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING,
      BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND
      FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL
      THE FREEBSD DOCUMENTATION PROJECT BE LIABLE FOR ANY DIRECT, INDIRECT,
      INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
      BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS
      OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
      ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR
      TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE
      USE OF THIS DOCUMENTATION, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH
      DAMAGE.</para>
  </important>
</legalnotice>


    <releaseinfo xmlns:xlink="http://www.w3.org/1999/xlink">$FreeBSD$</releaseinfo>
  </info>

    <chapter xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="why-port">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">楔子</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">幾乎每個 FreeBSD 愛用者都是透過 FreeBSD Ports Collection
        來裝各式應用程式("ports")。如同 FreeBSD 的其他部分一樣，
        這些 ports 都主要來自許多志工的努力成果，所以在閱讀這份文件時，
        請務必感恩在心。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">在 FreeBSD 上面，每個人都可以提交新的 port，
        或假如該 port 並沒有人維護的話，可以自願維護 ——
        這點並不需要任何 commit 的權限，就可以來做這件事情。</para>

    </chapter>

    <chapter xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="own-port">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">自行打造 port</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">那麼，開始對自行製作 port 或更新有一些興趣了嗎？太好囉！</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">下面將介紹一些建立 port 時該注意的事項。如果是想升級現有的 port
        ，那麼也請參閱 <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="port-upgrading"/> 說明。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">因為這份文件可能講得不是十分詳細，可能需要參考
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/ports/Mk/bsd.port.mk</filename> 這檔是所有 port 的
	Makefile 檔都會用到的。  就算你不是每天不斷 hacking Makefiles
        ，也都可以藉由它來對整個 port 機制、Makefile 更瞭解，
	裡面的註釋相當詳細。  此外，若有其他特定 port 的問題，也可以到
	<link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-ports">FreeBSD ports 郵遞論壇</link> 來獲得答案。</para>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink">本文內所提及的環境變數
	(<varname xmlns:xlink="http://www.w3.org/1999/xlink"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">VAR</replaceable></varname>)部份，
        只有一些可以替換(overridden)。大部份的環境變數(非全部)通常都會寫在
        <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/ports/Mk/bsd.port.mk</filename> 內，其他的也是差不多。
        請注意：該檔並非使用一般的 tab 設定值，而是採用 1 個 tab 等於 4 個
	space。  <application xmlns:xlink="http://www.w3.org/1999/xlink">Emacs</application> 與
	<application xmlns:xlink="http://www.w3.org/1999/xlink">Vim</application> 應該都會在載入該檔時順便讀取相關設定值。
        <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">vi</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> 及 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ex</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> 這兩個程式也都可以打
	<command xmlns:xlink="http://www.w3.org/1999/xlink">:set tabstop=4</command> 以修改設定值。</para>
      </note>
    </chapter>

    <chapter xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="quick-porting">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">打造 Port 快速上手篇</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">本節主要介紹如何來快速打造 port，然而，
	很多時候這些內容並不是很夠用，建議閱讀本文件中更深奧的地方。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">首先取得該應用程式的原始程式碼壓縮檔(tarball)，並把它放到
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTDIR</varname>，預設路徑應該是
        <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/ports/distfiles</filename>。</para>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink">下面的例子，是假設並不需要再修改該應用程式的原始碼，就可以在
	  FreeBSD 上編譯成功的；假如還需要另外修改才能成功編譯的話，
	  那麼請參考下一章的說明。</para>
      </note>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-makefile">
        <title xmlns:xlink="http://www.w3.org/1999/xlink">編寫 <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename></title>

        <para xmlns:xlink="http://www.w3.org/1999/xlink">最簡單的 <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> 大概是像這樣：</para>

        <programlisting xmlns:xlink="http://www.w3.org/1999/xlink"># New ports collection makefile for:   oneko
# Date created:        5 December 1994
# Whom:                asami
#
# $FreeBSD$
#

PORTNAME=      oneko
PORTVERSION=   1.1b
CATEGORIES=    games
MASTER_SITES=  ftp://ftp.cs.columbia.edu/archives/X11R5/contrib/

MAINTAINER=    asami@FreeBSD.org
COMMENT=       A cat chasing a mouse all over the screen

MAN1=          oneko.1
MANCOMPRESSED= yes
USE_IMAKE=     yes

.include &lt;bsd.port.mk&gt;</programlisting>

        <para xmlns:xlink="http://www.w3.org/1999/xlink">嗯，大致就是這樣，看看你已經領略多少了呢？
	  看到 <literal xmlns:xlink="http://www.w3.org/1999/xlink">$FreeBSD$</literal> 這一行的話，別想太多
	  ，它是 RCS ID 用途，當該 port 正式進入 port tree 時，
	  CVS 就會自動轉換為相關字串囉。  有關這點的細節部份，可以參閱 <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="porting-samplem">sample Makefile</link> 章節。</para>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-desc">
        <title xmlns:xlink="http://www.w3.org/1999/xlink">撰寫該軟體的說明檔</title>

        <para xmlns:xlink="http://www.w3.org/1999/xlink">無論是否打算再加工做成 package，有 2 個檔案是任何實體 port (Slave
	  port則不一定)都必須要具備的。  這 2 個檔分別是
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-descr</filename> 檔及 <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename>
	  檔。  這兩個檔案檔名前面都有 <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-</filename>
	  以跟其他檔案做區別。</para>

	<sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-descr</filename></title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">這是此 port 的詳細說明檔，請用一段或幾段文字來說明該 port
	    的作用，並附上 WWW 網址(若有的話)。</para>

	  <note xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">請注意，這檔絕非「該軟體的說明手冊」或是「如何編譯、使用該
	      port 的說明」。  若是從該軟體的 <filename xmlns:xlink="http://www.w3.org/1999/xlink">README</filename>
	      或 manpage 直接複製過來的話，請注意，因為它們通常都寫得太詳細、
	      格式較特別(比如 manpage 會自動調整空白)，
	      請儘量避免這些冗長贅詞或採用特殊格式。若該軟體有官方版首頁的話，
	      請在此列出來。  每個網址請用 <literal xmlns:xlink="http://www.w3.org/1999/xlink">WWW:</literal> 作為開頭，
	      這樣子相關工具程式就會自動處理完畢。</para>
	  </note>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">該 port 的 <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-descr</filename> 內容，大致如下面例子
	    ：</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">This is a port of oneko, in which a cat chases a poor mouse all over
the screen.
 :
(etc.)

WWW: http://www.oneko.org/</programlisting>
	</sect2>

	<sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename></title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">這是該 port 所會裝的所有檔案清單，另外因為 package
	    會由這清單所產生，因此也被稱為『packing list
	    (打包清單)』。 以 <literal xmlns:xlink="http://www.w3.org/1999/xlink">${PREFIX}</literal> 為基準點，
	    而用相對路徑表示。(<literal xmlns:xlink="http://www.w3.org/1999/xlink">${PREFIX}</literal> 通常是
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local</filename> 或 <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/X11R6</filename>)
	    但是如果該程式有安裝 man page 的話，則要以類似
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">MAN<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">n</replaceable>=</varname> 的方式寫在
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> 內，不能列在
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename> 哦。
	    除了列出檔案以外，也要把該 port 所會建立的目錄也列進去，
	    方式有兩種：一種是寫在 <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename> 內的方式，
	    比如：<literal xmlns:xlink="http://www.w3.org/1999/xlink">@dirrm</literal>。  至於另外一種方式，則是寫在
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> 內，比如：
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">PLIST_FILES=</literal> 之類的方式。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">該 port 的 <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename> 內容，
	    大致如下面例子:</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">bin/oneko
lib/X11/app-defaults/Oneko
lib/X11/oneko/cat1.xpm
lib/X11/oneko/cat2.xpm
lib/X11/oneko/mouse.xpm
@dirrm lib/X11/oneko</programlisting>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">關於 packing list 方面，可以參閱 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pkg_create</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> 會有詳解
	    。</para>

	  <note xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">建議清單內的檔名，依照字母順序作排序，那麼下次要升級時，
	      會比較清楚、方便來更新這份清單。 </para>
	  </note>

	  <note xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">手動生這份清單實在太苦了。尤其若該 port 會裝一大堆檔案的話，
	      請多善用 <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="plist-autoplist">自動產生 packing
	      list</link> 會比較省時省力唷。</para>
	  </note>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">只有在一種情況下可以省略不用生 <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename>
	    檔：  若安裝的 port 相當單純，只有裝一些檔案，
	    以及都在同一目錄下的話，那麼可以在 <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>
	    內改用 <varname xmlns:xlink="http://www.w3.org/1999/xlink">PLIST_FILES</varname> 及
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">PLIST_DIRS</varname> 來取代。
	    比如，可以在上述的 <filename xmlns:xlink="http://www.w3.org/1999/xlink">oneko</filename> port 內不必附上
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename> ，而只需在
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> 內加入下列幾行：</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">PLIST_FILES=    bin/oneko \
                lib/X11/app-defaults/Oneko \
                lib/X11/oneko/cat1.xpm \
                lib/X11/oneko/cat2.xpm \
                lib/X11/oneko/mouse.xpm
PLIST_DIRS=     lib/X11/oneko</programlisting>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">當然，若該 port 並無安裝自屬的目錄的話，就不必設
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">PLIST_DIRS</varname> 囉。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">然而，使用 <varname xmlns:xlink="http://www.w3.org/1999/xlink">PLIST_FILES</varname>、
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">PLIST_DIRS</varname> 是必須付出代價：
	    不能使用 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pkg_create</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> 內所說的 command sequences。
	    因此，這招僅適用於較簡單的 port ，以及簡化該 port 的作法。
	    此外，這招還有一個好處：可以減少 ports collection 的整體檔案總數。
	    所以，在考慮是否一定要用 <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename> 之前，
	    可以先斟酌這個替代方案看看。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">後面會介紹到如何運用 <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename>、
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">PLIST_FILES</varname> 這些技巧以因應 <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="plist">更複雜的狀況</link>。</para>
	</sect2>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-checksum">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">產生 checksum 用途的 distinfo 檔</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">只要打『<command xmlns:xlink="http://www.w3.org/1999/xlink">make makesum</command>』就好了，
	  接下來就會自動產生相對應的 <filename xmlns:xlink="http://www.w3.org/1999/xlink">distinfo</filename> 檔了唷
	  。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">若抓下來的檔案，它的 checksum 會經常變更，
	  而你也很確認所抓的來源是正確無誤的話，
	  (比如：來源是光碟或是每天自動產生的文件)，那麼可以設定那些檔案為
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">IGNOREFILES</varname> 。  如此一來，在打
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">make makesum</command> 的時候就不會計算那些檔案的 checksum
	  ，而自動改為 <literal xmlns:xlink="http://www.w3.org/1999/xlink">IGNORE</literal> 囉。</para>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-testing">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">檢驗 port 是否完整、可行</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">接下來，必須檢驗是否有符合 port 的遊戲規則，包括打包該 port
	  為 package。  以下有幾個需要確認的重要地方：</para>

	<itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">若該 port 沒裝的東西，不要列在 <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename>
	      內。</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">若該 port 有裝的東西，請務必列在
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename> 內。</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">該 port 可以用 <command xmlns:xlink="http://www.w3.org/1999/xlink">reinstall</command> 來重新安裝
	      。</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">該 port 在移除之後，確定都可 <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="plist-cleaning">cleans up</link>。</para>
	  </listitem>
	</itemizedlist>

	<procedure xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">建議的測試步驟順序：</title>

	  <step xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">make install</command></para>
	  </step>

	  <step xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">make package</command></para>
	  </step>

	  <step xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">make deinstall</command></para>
	  </step>

	  <step xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">pkg_add package-name
	      </command></para>
	  </step>

	  <step xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">make deinstall</command></para>
	  </step>

	  <step xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">make reinstall</command></para>
	  </step>

	  <step xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">make package</command></para>
	  </step>
	</procedure>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">確認在 <buildtarget>package</buildtarget> 和
	  <buildtarget>deinstall</buildtarget> 這兩個階段都沒有任何錯誤訊息出現。
	  完成第三步驟之後，檢查一下是否所裝的檔案、目錄都有移除完畢。  此外，
	  第四步驟完成後，也檢查一下以 package 裝的該軟體，是否都能正常運作
	  。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">最周密的自動方式就是透過裝
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">ports tinderbox</application>。  它會建立
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">jails</literal> 並管理之，以便您可以測試上述所有步驟，
	  而不會真正影響您本身的作業系統。  詳情請參考
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">ports/ports-mgmt/tinderbox</filename>。</para>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-portlint">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">以 <command xmlns:xlink="http://www.w3.org/1999/xlink">portlint</command> 來作檢驗</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">請用 <command xmlns:xlink="http://www.w3.org/1999/xlink">portlint</command> 來檢查該 port
	  是否有遵循上述遊戲規則。  說到這
	  <package xmlns:xlink="http://www.w3.org/1999/xlink">ports-mgmt/portlint</package>，它是
	  ports collection 的其中一個套件。  它主要可以用來檢驗 <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="porting-samplem">Makefile</link> 內容是否正確以及 <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="porting-pkgname">package</link> 是否有正確命名。</para>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-submitting">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">提交(Submit) port</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">首先，請確認是否有瞭解 <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="porting-dads">DOs and DON'Ts</link> 該章部分。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">現在你很高興終於打造出 port 來囉，唯一剩下要做的就是把它正式放到
	  FreeBSD ports tree 內，才能讓每個人都能分享使用這個 port。  請先拿掉
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">work</filename> 目錄或檔名像是
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkgname.tgz</filename> 的 package 可以砍掉。  接著，
	  只要用 <command xmlns:xlink="http://www.w3.org/1999/xlink">shar `find port_dir`</command> 來產生 shar 格式，
	  並配合 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">send-pr</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> 程式以提交出去。(<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">send-pr</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>
	  的部分可以參閱 <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="../../../../doc/zh_TW.UTF-8/articles/contributing/contrib-how.html#CONTRIB-GENERAL">
	  錯誤報告和意見發表</link>)</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">記得在填寫 PR 時『分類(Category)』選 <literal xmlns:xlink="http://www.w3.org/1999/xlink">ports</literal>，
	  還有『種類(Class)』填 <literal xmlns:xlink="http://www.w3.org/1999/xlink">change-request</literal>
	  (千萬別傻傻地把該 PR 的『Confidential(機密)』設為 yes！)，
	  此外在『描述(<quote xmlns:xlink="http://www.w3.org/1999/xlink">Description</quote>)』
	  那邊寫上該程式的簡潔說明，而 shar 檔則附在『修正(<quote xmlns:xlink="http://www.w3.org/1999/xlink">Fix</quote>)
	  』欄位內。</para>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">若 Synopsis 欄清楚描述該 PR 重點的話，那麼會讓整個流程更為順暢。
	    new ports 的話，我們習慣用：
	    <quote xmlns:xlink="http://www.w3.org/1999/xlink">New port: &lt;category&gt;/&lt;portname&gt;
	    &lt;該 port 的簡介&gt;</quote> ，而更新 port 的話，則是
	    <quote xmlns:xlink="http://www.w3.org/1999/xlink">Update port: &lt;category&gt;/&lt;portname&gt;
	    &lt;本次 update 的簡介&gt;</quote>。
	    若你也採用這樣的格式的話，那麼會被受理的機會就會越高囉。</para>
	</note>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">再次強調一點：<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">不必附上原始 source 的 distfile
	  ，也就是 <filename xmlns:xlink="http://www.w3.org/1999/xlink">work</filename> 目錄。  同時，也不必附上
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">make package</command> 時產生的 package</emphasis>。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">送出 port 之後，請耐心等候佳音。
	  有時候可能需要等個幾天或幾個月時間，才會在 FreeBSD ports tree
	  上正式出現。  此外，隨時可以查閱 <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.FreeBSD.org/cgi/query-pr-summary.cgi?category=ports">
	  等待 committed to FreeBSD 的 port</link> 列表。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">一旦我們開始處理你送來的 port 之後，如果有一些意見需要溝通的話，
	  那麼會先 feedback 給你，
	  之後確定都沒問題，就會放到 port tree 內囉！
	  你的大名會被記在 <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="../../../../doc/zh_TW.UTF-8/articles/contributors/contrib-additional.html">Additional FreeBSD Contributors</link>
	   列表上，以及其他檔案。聽起來，挺不賴的不是嗎！？ <!-- smiley
	  -->:-)</para>
      </sect1>
    </chapter>

    <chapter xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="slow">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Slow Porting</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Ok...事實上並不太可能這麼簡單，port
	方面可能需要作些修改才能正常使用。  因此，
	本節將一步一步來介紹如何修改上一章的樣本以正常使用。</para>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="slow-work">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">How things work</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">首先，先介紹一下在你所作的 port 目錄內打 <command xmlns:xlink="http://www.w3.org/1999/xlink">make</command>
	  時，所會作哪些事情的順序吧。
	  你可以另開一窗來看 <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.mk</filename>
	  內容，以便瞭解我們下面在講什麼。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">但別太擔心是否完全看懂
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.mk</filename> 在做啥，很多人都還沒完全看完...
	  <!-- smiley --><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">:-&gt;</emphasis></para>

	<procedure xmlns:xlink="http://www.w3.org/1999/xlink">

	  <step xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">首先，進行 <buildtarget>fetch</buildtarget> 階段。
	      <buildtarget>fetch</buildtarget> 是確認 tarball 檔有沒有已在
	      <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTDIR</varname> 內了？若 <buildtarget>fetch</buildtarget>
	      在 <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTDIR</varname> 找不到的話，它會搜尋 Makefile
	      內的 <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES</varname> URL
	      ，或者是主 FTP 站專門放備份 distfiles 的目錄 <uri xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp.FreeBSD.org/pub/FreeBSD/ports/distfiles/">ftp://ftp.FreeBSD.org/pub/FreeBSD/ports/distfiles/</uri>
	      。  假設都找不到的話，但是網路有接上 Internet 的話，它會試著用
	      <varname xmlns:xlink="http://www.w3.org/1999/xlink">FETCH</varname> 來抓所指定的檔案。
	      抓到之後，它會把檔案存到 <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTDIR</varname>
	      以便開始使用或日後運用。</para>
	  </step>

	  <step xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">其次，進行 <buildtarget>extract</buildtarget> 階段，它會從
	      <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTDIR</varname> 內找出該 port 所需的檔案(通常是 gzip
	      格式的 tarball)，然後解壓縮到 <varname xmlns:xlink="http://www.w3.org/1999/xlink">WRKDIR</varname>
	      所設定的臨時目錄名稱(預設是 <filename xmlns:xlink="http://www.w3.org/1999/xlink">work</filename> 目錄)內
	      。</para>
	  </step>

	  <step xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">之後，進行 <buildtarget>patch</buildtarget> 階段，
	      一開始會先套用 <varname xmlns:xlink="http://www.w3.org/1999/xlink">PATCHFILES</varname> 所指定的任何 patch
	      檔。  接著是 <varname xmlns:xlink="http://www.w3.org/1999/xlink">PATCHDIR</varname>(預設是
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">files</filename> 子目錄) 內的檔名為
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">patch-*</filename>
	      之類的檔案，會以字母順序而逐一套用 patch。</para>
	  </step>

	  <step xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">接著是 <buildtarget>configure</buildtarget> 階段，可以照 port
	      的類型來作各種不同設定以調整，比如：</para>

	    <orderedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">若有放 <filename xmlns:xlink="http://www.w3.org/1999/xlink">scripts/configure</filename> 的話，
		  那麼就會跑裡面的設定。</para>
	      </listitem>

	      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">若有設 <varname xmlns:xlink="http://www.w3.org/1999/xlink">HAS_CONFIGURE</varname> 或是
		  <varname xmlns:xlink="http://www.w3.org/1999/xlink">GNU_CONFIGURE</varname> 的話，那麼就會跑
		  <filename xmlns:xlink="http://www.w3.org/1999/xlink">WRKSRC/configure</filename></para>
	      </listitem>

	      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">若有設 <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_IMAKE</varname> 的話，那麼就會跑
		  <varname xmlns:xlink="http://www.w3.org/1999/xlink">XMKMF</varname> (預設是 <command xmlns:xlink="http://www.w3.org/1999/xlink">xmkmf
		    -a</command>) 。</para>
	      </listitem>
	    </orderedlist>
	  </step>

	  <step xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">最後是 <buildtarget>build</buildtarget> 階段，它會在該
	      port 的 working directory(由 <varname xmlns:xlink="http://www.w3.org/1999/xlink">WRKSRC</varname> 所設定)
	      內開始編譯。  若有設 <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_GMAKE</varname> 的話，
	      那麼就會改用 GNU <command xmlns:xlink="http://www.w3.org/1999/xlink">make</command> 來編譯，
	      否則就用系統本身的 <command xmlns:xlink="http://www.w3.org/1999/xlink">make</command> 來編譯。</para>
	  </step>
	</procedure>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">上面講的都是打 <command xmlns:xlink="http://www.w3.org/1999/xlink">make</command> 時的預設階段。
	  此外，還可以設定各階段之前、之後要作的事情：透過定義
	  <buildtarget>pre-<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">something</replaceable></buildtarget> 或
	  <buildtarget>post-<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">something</replaceable></buildtarget>，
	  或者把這些檔名的 script 丟到 <filename xmlns:xlink="http://www.w3.org/1999/xlink">scripts</filename> 子目錄去，
	  這樣子它們就會在各預設階段的之前、之後進行囉。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">舉例來說，若在 <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> 內設定
	  <buildtarget>post-extract</buildtarget>，而且在
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">scripts</filename> 子目錄內又有
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">pre-build</filename> 檔的話，那麼在作解壓縮之後，就會開始
	  <buildtarget>post-extract</buildtarget> 階段以進行解壓縮後的後續動作，
	  而在跑 build 階段之前，就會先執行 <filename xmlns:xlink="http://www.w3.org/1999/xlink">pre-build</filename>
	  這隻 script 作先期準備。  通常較簡單的修改動作，建議直接放在
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> 內就好了，
	  因為這樣會比較方便加上這些原本沒有的階段，同時也方便他人協助除錯
	  。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">預設的各階段動作都是照 <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.mk</filename> 內的
	  <buildtarget>do-<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">something</replaceable></buildtarget>
	  之類所定義的。  舉例：<buildtarget>do-extract</buildtarget>
	  就是定義怎麼把檔案解壓縮的。
	  若對預設方式覺得不妥的話，都可以在該 port 的
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> 重新定義。</para>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">The <quote xmlns:xlink="http://www.w3.org/1999/xlink">main</quote> targets (e.g.,
	    <buildtarget>extract</buildtarget>,
	    <buildtarget>configure</buildtarget>, etc.) do nothing more than
	    make sure all  the stages up to that one are completed and call
	    the real targets or scripts, and they are not intended to be
	    changed.  If you want to fix the extraction, fix
	    <buildtarget>do-extract</buildtarget>, but never ever change
	    the way <buildtarget>extract</buildtarget> operates!</para>
	</note>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">現在，你已經知道打 <command xmlns:xlink="http://www.w3.org/1999/xlink">make</command> 到底會作些什麼事囉，
	  接下來會教你如何作更完美的 port。</para>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="slow-sources">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">取得原始的 source 檔</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">取得原始的 source 檔(通常檔名是
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">foo.tar.gz</filename>
	  或 <filename xmlns:xlink="http://www.w3.org/1999/xlink">foo.tar.Z</filename>
	  之類的壓縮檔)，然後會把抓下來的檔案放在 <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTDIR</varname>
	  內。  記得：抓的時候，儘量使用『該軟體主要的正式網站』上面的來源檔
	  ，以確保檔案有效、可信。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">需要設 <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES</varname> 以指定原始檔案是放在何處。
	  相關網址在 <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.sites.mk</filename>
	  內有一些方便的速記表可以使用。  請盡可能多用對應這些網址的變數，
	  以避免同樣的一堆網址有重複很多次出現在 port tree 內。
	  否則，這些網址只要一有改變的話，那麼就會成為維護 port 的夢魘。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">如果該檔並沒有放在公開的 FTP 站或網站(HTTP)上，
	  或者該檔並非一般標準格式的話，
	  那麼可以考慮複製該檔，然後放到你可掌握、可信任的 FTP 站或網站(HTTP)
	  上，比如：你自己的網頁空間。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">若找不到地方(方便、可信任)來放檔案的話，
	  那麼可以 <quote xmlns:xlink="http://www.w3.org/1999/xlink">house(暫放)</quote> 在
	  <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">ftp.FreeBSD.org</systemitem> 上的 committer 自屬空間內；
	  然而，這是最不理想的解法。
	  檔案要放到該 committer 的 <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">freefall</systemitem> 上的
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">~/public_distfiles/</filename> 目錄內才可以。
	  請與協助 commit 你的 port 的那位 committer 聯繫，
	  以便把檔案放到他的目錄內。
	  那位 committer 同時也會把 <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES</varname> 設為
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_LOCAL</varname>，並且把
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_SUBDIR</varname> 設為他自己的
	  <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">freefall</systemitem> 帳號名稱。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">若該 port 的原始檔打包會經常重包，但原作者卻沒更新版號的話，
	  請考慮把該檔改放到自己的網頁空間，並且把自己網頁空間列為
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES</varname> 的第一順位。
	  或者請與原作者聯繫：請他不要這樣做(不斷重包同樣的檔案)；如此一來，
	  才有助於建立一定程度的 source code 版本控制。
	  把檔案另外複製一份放到自屬網頁空間的話，不但可有效防止使用者會發生
	  <errorname xmlns:xlink="http://www.w3.org/1999/xlink">checksum mismatch(檔案經檢查有問題)</errorname>
	  的錯誤訊息，也可降低我們 FTP 站維護者的工作量。此外，若該 port
	  的檔案僅有一個主要網址，
	  那麼建議：請在自屬網站上放上備份檔，並修改
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES</varname> 把你的網址列為第二順位。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">若該 port 需要一些額外 `patches'(可透過 Internet 下載)，並放在
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTDIR</varname> 內，不必擔心這些 patch
	  檔是否得都跟原始檔一樣來自同一網站，
	  這些情況有另外的解法(請看下面的 <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="porting-patchfiles">PATCHFILES</link> 介紹部分)。</para>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="slow-modifying">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">量身打造 port</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">解開壓縮檔，然後開始逐一修改，使該 port 在目前所用的 FreeBSD
	  版本上得以順利編譯。
	  所做的每個動作請都 <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">仔細記錄</emphasis>，
	  如此一來才能迅速自動套用這些修改。
	  在完成 port 之後，每項動作包括：對於檔案的刪除、增加、修改，
	  要記得存為自動化的 script 或者 patch 檔形式，以利他人直接套用。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">若該 port 需要使用者的互動、自訂功能來編譯、安裝的話，
	  那麼建議揣摩看看 Larry Wall 的經典之作
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">Configure</application> scripts 來完成類似效果。
	  Ports collection 的目的之一，就是讓每個 port 儘量用最小空間，
	  來做出軟體的 <quote xmlns:xlink="http://www.w3.org/1999/xlink">plug-and-play(即插即用)</quote>。</para>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">除非有明確聲明，否則你所提交給 FreeBSD ports collection 的
	    patch 檔、相關 script 檔及其他檔案，都會假設是以標準的 BSD
	    版權形式來發佈。</para>
	</note>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="slow-patch">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Patching</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">在 port 的準備過程中，新增或變更過的檔案，
	  可以利用 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">diff</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> 將這些變動列出，
	  以便後續讓 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">patch</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> 使用。
	  所有你想套用的 patch 都應該命名為
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">patch-*</filename>，其中
	  <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">*</replaceable> 表示要 patch 檔案的路徑及檔名名稱，
	  例如 <filename xmlns:xlink="http://www.w3.org/1999/xlink">patch-Imakefile</filename> 或
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">patch-src-config.h</filename>。
	  這些檔案都應該儲存在 <varname xmlns:xlink="http://www.w3.org/1999/xlink">PATCHDIR</varname>
	  (通常是 <filename xmlns:xlink="http://www.w3.org/1999/xlink">files/</filename>，放在其內的檔案都會自動被套用。
	  所有 patch 檔路徑都是相對於
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">WRKSRC</varname> (通常會將 port 的 tarball 解壓到裡面，
	  port 的建置也會在這裡完成)。
	  為了能讓修正和更新更順利，你應該避免多個 patch 修正同一個檔案
	  (舉例來說，<filename xmlns:xlink="http://www.w3.org/1999/xlink">patch-file</filename> 和
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">patch-file2</filename> 同時更動
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">WRKSRC/foobar.c</filename>)。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">請只使用 <literal xmlns:xlink="http://www.w3.org/1999/xlink">[-+._a-zA-Z0-9]</literal> 這些字元來命名
	  patch 檔，不要使用這些字元以外的字元。
	  千萬不要將你的 patch 檔命名成 <filename xmlns:xlink="http://www.w3.org/1999/xlink">patch-aa</filename> 或是
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">patch-ab</filename> 等名稱，
	  請使用路徑和名稱相關的命名。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">不要將 RCS 字串放進你的 patch 檔。CVS 會在這些檔案送入
	  ports tree 的時候弄亂檔案內容，而且在將它們重新 check out
	  出來後，會因檔案內容的差異造成 patch 失敗。
	  RCS 字串是以錢字號 (<literal xmlns:xlink="http://www.w3.org/1999/xlink">$</literal>) 括起來的，
	  通常以 <literal xmlns:xlink="http://www.w3.org/1999/xlink">$Id</literal> 或
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">$RCS</literal> 為開頭。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">你可以使用 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">diff</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> 搭配 recurse (<option xmlns:xlink="http://www.w3.org/1999/xlink">-r</option>) 選項
	  來產生 patch 檔，但請再次檢視產生出的 patch 檔，確保你沒有產生
	  任何不必要的垃圾資訊在裡面。特別是對那些經由
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">Imake</command> 或 GNU <command xmlns:xlink="http://www.w3.org/1999/xlink">configure</command>
	  所產生的 <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> 檔產生 patch，
	  都是不必要的，這類的 patch 檔都應該被刪除。假如你必須透過修改
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">configure.in</command> 再執行
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">autoconf</command> 來重新產生
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">configure</command>，不要對
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">configure</command> 產生 patch 檔 (這往往會長成數千行！)；
	  請定義 <literal xmlns:xlink="http://www.w3.org/1999/xlink">USE_AUTOTOOLS=autoconf:261</literal> 並對
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">configure.in</filename> 產生 patch 檔。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">請儘量不要對無用的 whitespace 作修改，因為在 Open Source 界各個
	  project 都會使用很多相同的 code base，這些可能卻是採用不同的編排方式
	  、coding style。  若要試圖改變這些編排風格的話，請小心：
	  這些只會是徒勞無功的更改。  此外不僅會造成 CVS repository 空間浪費，
	  也會讓人難以找出真正問題癥結所在，以及分辨不出這段 patch 到底在作什麼
	  。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">假如你必須刪除一個檔案，那麼你可以在
	  <buildtarget>post-extract</buildtarget> 階段做這件事，
	  而不是在 patch 階段。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">你可以直接在 port 的
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> 中完成簡單的置換工作，只需使用
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">sed</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> 的 in-place mode 即可。這在只需 patch 一個變數的值時相當有用。
	  例如：</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">post-patch:
	@${REINPLACE_CMD} -e 's|for Linux|for FreeBSD|g' ${WRKSRC}/README
	@${REINPLACE_CMD} -e 's|-pthread|${PTHREAD_LIBS}|' ${WRKSRC}/configure</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">在移植軟體時，特別是那些在 <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Windows</trademark> 平台開發的軟體，
	  時常會遇到一種情況，就是在大部份的 source file 中，
	  使用 CR/LF 做為斷行。這會影響往後的 patching、compiler warnings、以及
	  scripts execution (找不到 <command xmlns:xlink="http://www.w3.org/1999/xlink">/bin/sh^M</command> 的情況) 等。
	  為了快速轉換 CR/LF 為 LF，可以把
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">USE_DOS2UNIX=yes</literal> 加到 port 的
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> 檔中。
	  你也可以設定成只針對指定的檔案做轉換：</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">USE_DOS2UNIX=    util.c util.h</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">若想要轉換所有子目錄內的某類別檔案，可以使用
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">DOS2UNIX_REGEX</varname>。  它的參數是
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">find</command> 相容的正規表達式。  相關格式可參閱
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">re_format</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">7</manvolnum></citerefentry>。  對於所指定副檔名的檔案之轉換而言，這相當好用，
	  舉例來說，只動所有原始碼部分而不改 binary 檔案：</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">USE_DOS2UNIX=    yes
DOS2UNIX_REGEX=  .*\.(c|cpp|h)</programlisting>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="slow-configure">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">設定</title>

        <para xmlns:xlink="http://www.w3.org/1999/xlink">將任何額外的自訂指令包含進你的
          <filename xmlns:xlink="http://www.w3.org/1999/xlink">configure</filename> script 中，且將它儲存在
          <filename xmlns:xlink="http://www.w3.org/1999/xlink">scripts</filename> 的子資料夾裡。 如同上面提到的，
          你也可以在 <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> 或者是在
          名稱為 <filename xmlns:xlink="http://www.w3.org/1999/xlink">pre-configure</filename> 或
          <filename xmlns:xlink="http://www.w3.org/1999/xlink">post-configure</filename> 的 script 檔中做同樣的事。</para>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="slow-user-input">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">處理使用者輸入</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">如果該 port 需要使用者作出選擇才能安裝的話，
	  則必須在 <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> 加上
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">IS_INTERACTIVE</varname> 變數。  如此一來若使用者有設定
	  <envar xmlns:xlink="http://www.w3.org/1999/xlink">BATCH</envar> 環境變數的話，就會略過該 port 而繼續
	  <quote xmlns:xlink="http://www.w3.org/1999/xlink">overnight builds</quote>(若使用者把該環境變數值設為
	  <envar xmlns:xlink="http://www.w3.org/1999/xlink">BATCH</envar> 的話，那麼 <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">只有</emphasis>
	  那些需要與使用者互動的 port 才會編譯。)。
	  這使得那些需要不停編譯 port 的機器會省下許多時間(後面會說明這點)
	  。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">此外建議，若是這些互動問題有合適的預設選項的話，
	  那應確認一下 <varname xmlns:xlink="http://www.w3.org/1999/xlink">PACKAGE_BUILDING</varname> 變數該如何設，
	  才能配合該變數而決定是否停止互動。  如此一來才可以自動編譯出
	  CDROM 與 FTP 上的套件。</para>
      </sect1>
    </chapter>

    <chapter xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="makefile">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">設定 Makefile</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">設定 <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> 是件非常簡單的事，
	建議您在開始前，先看看範例。Also, there is a
	<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="porting-samplem">sample Makefile</link> in this
	handbook, so take a look and please follow the ordering of variables
	and sections in that template to make your port easier for others to
	read.</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Now, consider the following problems in sequence as you design
	your new <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>:</para>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="makefile-source">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">The original source</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Does it live in <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTDIR</varname> as a standard
	  gzip'd tarball named something like
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">foozolix-1.2.tar.gz</filename>? If so, you can go on
	  to the next step.  If not, you should look at overriding any of
	  the <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTVERSION</varname>, <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTNAME</varname>,
          <varname xmlns:xlink="http://www.w3.org/1999/xlink">EXTRACT_CMD</varname>,
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">EXTRACT_BEFORE_ARGS</varname>,
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">EXTRACT_AFTER_ARGS</varname>,
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">EXTRACT_SUFX</varname>, or <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES</varname>
	  variables, depending on how alien a format your port's
	  distribution file is.  (The most common case is
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">EXTRACT_SUFX=.tar.Z</literal>, when the tarball is
	  condensed by regular <command xmlns:xlink="http://www.w3.org/1999/xlink">compress</command>, not
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">gzip</command>.)</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">In the worst case, you can simply create your own
	  <buildtarget>do-extract</buildtarget> target to override the
	  default, though this should be rarely, if ever,
	  necessary.</para>
      </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="makefile-naming">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Naming</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">The first part of the port's <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> names
	the port, describes its version number, and lists it in the correct
	category.</para>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTNAME</varname> and <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTVERSION</varname></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">You should set <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTNAME</varname> to the
	  base name of your port, and <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTVERSION</varname>
	  to the version number of the port.</para>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="makefile-naming-revepoch">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTREVISION</varname> and
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTEPOCH</varname></title>

	<sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTREVISION</varname></title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">The <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTREVISION</varname> variable is a
	    monotonically increasing value which is reset to 0 with
	    every increase of <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTVERSION</varname> (i.e.
	    every time a new official vendor release is made), and
	    appended to the package name if non-zero.
	    Changes to <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTREVISION</varname> are
	    used by automated tools (e.g.  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pkg_version</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>)
	    to highlight the fact that a new package is
	    available.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTREVISION</varname> should be increased
	    each time a change is made to the port which significantly
	    affects the content or structure of the derived
	    package.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Examples of when <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTREVISION</varname>
	    should be bumped:</para>

	  <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">Addition of patches to correct security
		vulnerabilities, bugs, or to add new functionality to
		the port.</para>
	    </listitem>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">Changes to the port <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> to enable or disable
		compile-time options in the package.</para>
	    </listitem>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">Changes in the packing list or the install-time
		behavior of the package (e.g. change to a script
		which generates initial data for the package, like ssh
		host keys).</para>
	    </listitem>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">Version bump of a port's shared library dependency
		(in this case, someone trying to install the old
		package after installing a newer version of the
		dependency will fail since it will look for the old
		libfoo.x instead of libfoo.(x+1)).</para>
	    </listitem>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">Silent changes to the port distfile which have
		significant functional differences, i.e. changes to
		the distfile requiring a correction to
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">distinfo</filename> with no corresponding change to
		<varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTVERSION</varname>, where a <command xmlns:xlink="http://www.w3.org/1999/xlink">diff
		-ru</command> of the old and new versions shows
		non-trivial changes to the code.</para>
	    </listitem>
	  </itemizedlist>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Examples of changes which do not require a
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTREVISION</varname> bump:</para>

	  <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">Style changes to the port skeleton with no
		functional change to what appears in the resulting
		package.</para>
	    </listitem>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">Changes to <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES</varname> or
		other functional changes to the port which do not
		affect the resulting package.</para>
	    </listitem>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">Trivial patches to the distfile such as correction
		of typos, which are not important enough that users of
		the package should go to the trouble of
		upgrading.</para>
	    </listitem>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">Build fixes which cause a package to become
		compilable where it was previously failing (as long as
		the changes do not introduce any functional change on
		any other platforms on which the port did previously
		build). Since <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTREVISION</varname> reflects
		the content of the package, if the package was not
		previously buildable then there is no need to increase
		<varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTREVISION</varname> to mark a
		change.</para>
	    </listitem>
	  </itemizedlist>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">A rule of thumb is to ask yourself whether a change
	    committed to a port is something which everyone
	    would benefit from having (either because of an
	    enhancement, fix, or by virtue that the new package will
	    actually work at all), and weigh that against that fact
	    that it will cause everyone who regularly updates their
	    ports tree to be compelled to update. If yes, the
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTREVISION</varname> should be bumped.</para>
	</sect3>

	<sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTEPOCH</varname></title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">From time to time a software vendor or FreeBSD porter
	    will do something silly and release a version of their
	    software which is actually numerically less than the
	    previous version. An example of this is a port which goes
	    from foo-20000801 to foo-1.0 (the former will be
	    incorrectly treated as a newer version since 20000801 is a
	    numerically greater value than 1).</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">In situations such as this, the
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTEPOCH</varname> version should be increased.
	    If <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTEPOCH</varname> is nonzero it is appended
	    to the package name as described in section 0 above.
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTEPOCH</varname> must never be decreased or reset
	    to zero, because that would cause comparison to a package
	    from an earlier epoch to fail (i.e. the package would not
	    be detected as out of date): the new version number (e.g.
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">1.0,1</literal> in the above example) is still
	    numerically less than the previous version (20000801), but
	    the <literal xmlns:xlink="http://www.w3.org/1999/xlink">,1</literal> suffix is treated specially by
	    automated tools and found to be greater than the implied
	    suffix <literal xmlns:xlink="http://www.w3.org/1999/xlink">,0</literal> on the earlier package.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Dropping or resetting <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTEPOCH</varname>
	    incorrectly leads
	    to no end of grief; if you do not understand the above discussion,
	    please keep after it until you do, or ask questions on
	    the mailing lists.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">It is expected that <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTEPOCH</varname> will
	    not be used for the majority of ports, and that sensible
	    use of <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTVERSION</varname> can often pre-empt
	    it becoming necessary if a future release of the software
	    should change the version structure. However, care is
	    needed by FreeBSD porters when a vendor release is made
	    without an official version number —— such as a code
	    <quote xmlns:xlink="http://www.w3.org/1999/xlink">snapshot</quote> release.  The temptation is to label the
	    release with the release date, which will cause problems
	    as in the example above when a new <quote xmlns:xlink="http://www.w3.org/1999/xlink">official</quote> release is
	    made.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">For example, if a snapshot release is made on the date
	    20000917, and the previous version of the software was
	    version 1.2, the snapshot release should be given a
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTVERSION</varname> of 1.2.20000917 or similar,
	    not 20000917, so that the succeeding release, say 1.3, is
	    still a numerically greater value.</para>
	</sect3>

	<sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">Example of <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTREVISION</varname> and
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTEPOCH</varname> usage</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">The <literal xmlns:xlink="http://www.w3.org/1999/xlink">gtkmumble</literal> port, version
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">0.10</literal>, is committed to the ports
	    collection:</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">PORTNAME=       gtkmumble
PORTVERSION=    0.10</programlisting>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGNAME</varname> becomes
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">gtkmumble-0.10</literal>.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">A security hole is discovered which requires a local
	    FreeBSD patch. <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTREVISION</varname> is bumped
	    accordingly.</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">PORTNAME=       gtkmumble
PORTVERSION=    0.10
PORTREVISION=   1</programlisting>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGNAME</varname> becomes
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">gtkmumble-0.10_1</literal></para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">A new version is released by the vendor, numbered <literal xmlns:xlink="http://www.w3.org/1999/xlink">0.2</literal>
	    (it turns out the author actually intended
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">0.10</literal> to actually mean
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">0.1.0</literal>, not <quote xmlns:xlink="http://www.w3.org/1999/xlink">what comes after
	      0.9</quote> - oops, too late now). Since the new minor
	    version <literal xmlns:xlink="http://www.w3.org/1999/xlink">2</literal> is numerically less than the
	    previous version <literal xmlns:xlink="http://www.w3.org/1999/xlink">10</literal>, the
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTEPOCH</varname> must be bumped to manually
	    force the new package to be detected as <quote xmlns:xlink="http://www.w3.org/1999/xlink">newer</quote>. Since it
	    is a new vendor release of the code,
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTREVISION</varname> is reset to 0 (or removed
	    from the <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>).</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">PORTNAME=       gtkmumble
PORTVERSION=    0.2
PORTEPOCH=      1</programlisting>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGNAME</varname> becomes
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">gtkmumble-0.2,1</literal></para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">The next release is 0.3. Since
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTEPOCH</varname> never decreases, the version
	    variables are now:</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">PORTNAME=       gtkmumble
PORTVERSION=    0.3
PORTEPOCH=      1</programlisting>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGNAME</varname> becomes
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">gtkmumble-0.3,1</literal></para>

	  <note xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">If <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTEPOCH</varname> were reset
	      to <literal xmlns:xlink="http://www.w3.org/1999/xlink">0</literal> with this upgrade, someone who had
	      installed the <literal xmlns:xlink="http://www.w3.org/1999/xlink">gtkmumble-0.10_1</literal> package would not detect
	      the <literal xmlns:xlink="http://www.w3.org/1999/xlink">gtkmumble-0.3</literal> package as newer, since
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">3</literal> is still numerically less than
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">10</literal>.  Remember, this is the whole point of
	      <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTEPOCH</varname> in the first place.</para>
	  </note>
	</sect3>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGNAMEPREFIX</varname> and <varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGNAMESUFFIX</varname></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Two optional variables, <varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGNAMEPREFIX</varname> and
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGNAMESUFFIX</varname>, are combined with
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTNAME</varname> and
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTVERSION</varname> to
	  form <varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGNAME</varname> as
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">${PKGNAMEPREFIX}${PORTNAME}${PKGNAMESUFFIX}-${PORTVERSION}</literal>.
	  Make sure this conforms to our <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="porting-pkgname">guidelines for a good package
	  name</link>.  In particular, you are <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">not</emphasis> allowed to use a
	  hyphen (<literal xmlns:xlink="http://www.w3.org/1999/xlink">-</literal>) in
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTVERSION</varname>.  Also, if the package name
	  has the <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">language-</replaceable> or the
	  <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">-compiled.specifics</replaceable> part (see below), use
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGNAMEPREFIX</varname> and
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGNAMESUFFIX</varname>, respectively.  Do not make
	  them part of <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTNAME</varname>.</para>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">LATEST_LINK</varname></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">在某些情況，可能會同時存在有不同版本的同一程式。
	  由於它們可能會有同樣的 <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTNAME</varname>、
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGNAMEPREFIX</varname>，甚至
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGNAMESUFFIX</varname> 也相同，所以得讓這些程式有所不同，
	  才能讓 port 的 index 以及 package 能順利產生。  遇到這類情況，
	  the optional <varname xmlns:xlink="http://www.w3.org/1999/xlink">LATEST_LINK</varname> variable should be set to
	  a different value for all ports except the <quote xmlns:xlink="http://www.w3.org/1999/xlink">main</quote>
	  one —— see the <filename xmlns:xlink="http://www.w3.org/1999/xlink">editors/vim5</filename> and
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">editors/vim</filename> ports, and the
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">www/apache*</filename> family for examples of its use.
	  Note that how to choose a <quote xmlns:xlink="http://www.w3.org/1999/xlink">main</quote> version ——
	  <quote xmlns:xlink="http://www.w3.org/1999/xlink">most popular</quote>, <quote xmlns:xlink="http://www.w3.org/1999/xlink">best supported</quote>,
	  <quote xmlns:xlink="http://www.w3.org/1999/xlink">least patched</quote>, and so on —— is outside the
	  scope of this handbook's recommendations; we only tell you how to
	  specify the other ports' versions after you have picked a
	  <quote xmlns:xlink="http://www.w3.org/1999/xlink">main</quote> one.</para>
      </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-pkgname">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Package Naming Conventions</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">The following are the conventions you should follow in naming your
	packages.  This is to have our package directory easy to scan, as
	there are already thousands of packages and users are going to
	turn away if they hurt their eyes!</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">The package name should look like
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">language_region-name-compiled.specifics-version.numbers</filename>.</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">The package name is defined as
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">${PKGNAMEPREFIX}${PORTNAME}${PKGNAMESUFFIX}-${PORTVERSION}</literal>.
	Make sure to set the variables to conform to that format.</para>

      <orderedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD strives to support the native language of its users.
	    The <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">language-</replaceable> part should be a two
	    letter abbreviation of the natural language defined by ISO-639 if
	    the port is specific to a certain language.  Examples are
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">ja</literal> for Japanese, <literal xmlns:xlink="http://www.w3.org/1999/xlink">ru</literal> for
	    Russian, <literal xmlns:xlink="http://www.w3.org/1999/xlink">vi</literal> for Vietnamese,
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">zh</literal> for Chinese, <literal xmlns:xlink="http://www.w3.org/1999/xlink">ko</literal> for
	    Korean and <literal xmlns:xlink="http://www.w3.org/1999/xlink">de</literal> for German.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">If the port is specific to a certain region within the
	    language area, add the two letter country code as well.
	    Examples are <literal xmlns:xlink="http://www.w3.org/1999/xlink">en_US</literal> for US English and
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">fr_CH</literal> for Swiss French.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">The <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">language-</replaceable> part should
	    be set in the <varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGNAMEPREFIX</varname> variable.</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">The first letter of the <filename xmlns:xlink="http://www.w3.org/1999/xlink">name</filename> part
	    should be lowercase.  (The rest of the name may contain
	    capital letters, so use your own discretion when you are
	    converting a software name that has some capital letters in it.)
	    There is a tradition of naming <literal xmlns:xlink="http://www.w3.org/1999/xlink">Perl 5</literal> modules by
	    prepending <literal xmlns:xlink="http://www.w3.org/1999/xlink">p5-</literal> and converting the double-colon
	    separator to a hyphen; for example, the
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">Data::Dumper</literal> module becomes
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">p5-Data-Dumper</literal>.</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Make sure that the port's name and version are clearly
	    separated and placed into the <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTNAME</varname> and
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTVERSION</varname> variables.  The only reason for
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTNAME</varname> to contain a version part is if
	    the upstream distribution is really named that way, as in
	    the <filename xmlns:xlink="http://www.w3.org/1999/xlink">textproc/libxml2</filename> or
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">japanese/kinput2-freewnn</filename> ports.  Otherwise,
	    the <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTNAME</varname> should not contain any
	    version-specific information.  It is quite normal for several
	    ports to have the same <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTNAME</varname>, as the
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">www/apache*</filename> ports do; in that case,
	    different versions (and different index entries) are
	    distinguished by the <varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGNAMEPREFIX</varname>,
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGNAMESUFFIX</varname>, and
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">LATEST_LINK</varname> values.</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">If the port can be built with different <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="makefile-masterdir">hardcoded defaults</link> (usually
	    part of the directory name in a family of ports), the
	    <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">-compiled.specifics</replaceable> part should state
	    the compiled-in defaults (the hyphen is optional).  Examples are
	    papersize and font units.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">The <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">-compiled.specifics</replaceable> part
	    should be set in the <varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGNAMESUFFIX</varname>
	    variable.</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">The version string should follow a dash
	    (<literal xmlns:xlink="http://www.w3.org/1999/xlink">-</literal>) and be a period-separated list of
	    integers and single lowercase alphabetics.  In particular,
	    it is not permissible to have another dash inside the
	    version string.  The only exception is the string
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">pl</literal> (meaning <quote xmlns:xlink="http://www.w3.org/1999/xlink">patchlevel</quote>), which can be
	    used <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">only</emphasis> when there are no major and
	    minor version numbers in the software.  If the software
	    version has strings like <quote xmlns:xlink="http://www.w3.org/1999/xlink">alpha</quote>, <quote xmlns:xlink="http://www.w3.org/1999/xlink">beta</quote>, <quote xmlns:xlink="http://www.w3.org/1999/xlink">rc</quote>, or <quote xmlns:xlink="http://www.w3.org/1999/xlink">pre</quote>, take
	    the first letter and put it immediately after a period.
	    If the version string continues after those names, the
	    numbers should follow the single alphabet without an extra
	    period between them.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">The idea is to make it easier to sort ports by looking
	    at the version string.  In particular, make sure version
	    number components are always delimited by a period, and
	    if the date is part of the string, use the
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">yyyy.mm.dd</literal>
	    format, not
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">dd.mm.yyyy</literal>
	    or the non-Y2K compliant
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">yy.mm.dd</literal>
	    format.</para>
	</listitem>
      </orderedlist>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Here are some (real) examples on how to convert the name
	as called by the software authors to a suitable package
	name:</para>

      <informaltable xmlns:xlink="http://www.w3.org/1999/xlink" frame="none" pgwide="1">
	<tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="6">
	  <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Distribution Name</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGNAMEPREFIX</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTNAME</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGNAMESUFFIX</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTVERSION</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Reason</entry>
	    </row>
	  </thead>

	  <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">mule-2.2.2</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">(empty)</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">mule</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">(empty)</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">2.2.2</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">No changes required</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">EmiClock-1.0.2</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">(empty)</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">emiclock</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">(empty)</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">1.0.2</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">No uppercase names for single programs</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">rdist-1.3alpha</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">(empty)</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">rdist</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">(empty)</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">1.3.a</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">No strings like <literal xmlns:xlink="http://www.w3.org/1999/xlink">alpha</literal>
		allowed</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">es-0.9-beta1</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">(empty)</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">es</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">(empty)</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">0.9.b1</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">No strings like <literal xmlns:xlink="http://www.w3.org/1999/xlink">beta</literal>
		allowed</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">mailman-2.0rc3</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">(empty)</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">mailman</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">(empty)</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">2.0.r3</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">No strings like <literal xmlns:xlink="http://www.w3.org/1999/xlink">rc</literal>
		allowed</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">v3.3beta021.src</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">(empty)</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">tiff</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">(empty)</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">3.3</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">What the heck was that anyway?</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">tvtwm</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">(empty)</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">tvtwm</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">(empty)</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">pl11</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Version string always required</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">piewm</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">(empty)</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">piewm</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">(empty)</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">1.0</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Version string always required</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">xvgr-2.10pl1</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">(empty)</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">xvgr</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">(empty)</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">2.10.1</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">pl</literal> allowed only when no
		major/minor version numbers</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">gawk-2.15.6</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">ja-</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">gawk</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">(empty)</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">2.15.6</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Japanese language version</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">psutils-1.13</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">(empty)</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">psutils</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">-letter</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">1.13</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Papersize hardcoded at package build time</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">pkfonts</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">(empty)</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">pkfonts</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">300</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">1.0</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Package for 300dpi fonts</entry>
	    </row>
	  </tbody>
	</tgroup>
      </informaltable>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">If there is absolutely no trace of version information in the
	original source and it is unlikely that the original author will ever
	release another version, just set the version string to
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">1.0</literal> (like the <literal xmlns:xlink="http://www.w3.org/1999/xlink">piewm</literal> example above).  Otherwise, ask
	the original author or use the date string
	(<literal xmlns:xlink="http://www.w3.org/1999/xlink">yyyy.mm.dd</literal>)
	as the version.</para>
    </sect2>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="makefile-categories">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Categorization</title>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">CATEGORIES</varname></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">When a package is created, it is put under
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/ports/packages/All</filename> and links are made from
	  one or more subdirectories of
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/ports/packages</filename>.  The names of these
	  subdirectories are specified by the variable
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">CATEGORIES</varname>.  It is intended to make life easier
	  for the user when he is wading through the pile of packages on the
	  FTP site or the CDROM.  Please take a look at the <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="porting-categories">current list of categories</link> and pick the ones
	  that are suitable for your port.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">This list also determines where in the ports tree the port is
	  imported.  If you put more than one category here, it is assumed
	  that the port files will be put in the subdirectory with the name in
	  the first category.  See <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="choosing-categories">below</link> for more
	  discussion about how to pick the right categories.</para>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-categories">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Current list of categories</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Here is the current list of port categories.  Those
	  marked with an asterisk (<literal xmlns:xlink="http://www.w3.org/1999/xlink">*</literal>) are
	  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">virtual</emphasis> categories——those that do not have
	  a corresponding subdirectory in the ports tree.  They are only
	  used as secondary categories, and only for search purposes.</para>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">For non-virtual categories, you will find a one-line
	    description in the <varname xmlns:xlink="http://www.w3.org/1999/xlink">COMMENT</varname> in that
	    subdirectory's <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>.</para>
	</note>

	<informaltable xmlns:xlink="http://www.w3.org/1999/xlink" frame="none" pgwide="1">
	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="3">
	    <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Category</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Description</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Notes</entry>
	      </row>
	    </thead>

	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">accessibility</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Ports to help disabled users.</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">afterstep*</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Ports to support the
		  <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.afterstep.org">AfterStep</link>
		  window manager.</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">arabic</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Arabic language support.</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">archivers</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Archiving tools.</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">astro</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Astronomical ports.</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">audio</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Sound support.</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">benchmarks</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Benchmarking utilities.</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">biology</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Biology-related software.</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">cad</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Computer aided design tools.</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">chinese</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Chinese language support.</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">comms</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Communication software.</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Mostly software to talk to your serial port.</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">converters</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Character code converters.</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">databases</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Databases.</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">deskutils</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Things that used to be on the desktop before
		  computers were invented.</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">devel</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Development utilities.</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Do not put libraries here just because they are
		  libraries——unless they truly do not belong anywhere
		  else, they should not be in this category.</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">dns</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">DNS-related software.</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">editors</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">General editors.</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Specialized editors go in the section for those
		  tools (e.g., a mathematical-formula editor will go
		  in <filename xmlns:xlink="http://www.w3.org/1999/xlink">math</filename>).</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">elisp*</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Emacs-lisp ports.</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">emulators</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Emulators for other operating systems.</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Terminal emulators do <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">not</emphasis> belong
		  here——X-based ones should go to
		  <filename xmlns:xlink="http://www.w3.org/1999/xlink">x11</filename> and text-based ones to either
		  <filename xmlns:xlink="http://www.w3.org/1999/xlink">comms</filename> or <filename xmlns:xlink="http://www.w3.org/1999/xlink">misc</filename>,
		  depending on the exact functionality.</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">finance</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Monetary, financial and related applications.</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">french</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">French language support.</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">ftp</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">FTP client and server utilities.</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">If your port speaks both FTP and HTTP, put it in
		  <filename xmlns:xlink="http://www.w3.org/1999/xlink">ftp</filename> with a secondary
		  category of <filename xmlns:xlink="http://www.w3.org/1999/xlink">www</filename>.</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">games</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">遊戲。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">geography*</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">地理圖資相關的軟體。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">german</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">德文相關支援。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">gnome*</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Ports from the <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.gnome.org">GNOME</link>
		  Project.</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">gnustep*</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">GNUstep 桌面環境相關的軟體。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">graphics</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">圖形處理的工具軟體。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">hamradio*</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Software for amateur radio.</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">haskell*</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Software related to the Haskell language.</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">hebrew</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Hebrew language support.</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">hungarian</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Hungarian language support.</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">ipv6*</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">IPv6 related software.</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">irc</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Internet Relay Chat utilities.</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">japanese</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Japanese language support.</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">java</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Software related to the Java language.</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">The <filename xmlns:xlink="http://www.w3.org/1999/xlink">java</filename> category shall not be
		  the only one for a port. Save for ports directly related to
		  the Java language, porters are also encouraged not to
		  use <filename xmlns:xlink="http://www.w3.org/1999/xlink">java</filename> as the main category of a
		  port.</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">kde*</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Ports from the <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.kde.org">K Desktop Environment (KDE)</link>
		  Project.</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">kld*</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Kernel loadable modules。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">korean</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Korean language support.</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">lang</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Programming languages.</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">linux*</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Linux applications and support utilities.</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">lisp*</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Software related to the Lisp language.</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">mail</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Mail software.</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">math</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Numerical computation software and other utilities
		  for mathematics.</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">mbone</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">MBone applications.</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">misc</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Miscellaneous utilities</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Basically things that
		  do not belong anywhere else.
		  If at all possible, try to
		  find a better category for your port than
		  <literal xmlns:xlink="http://www.w3.org/1999/xlink">misc</literal>, as ports tend to get overlooked
		  in here.</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">multimedia</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Multimedia software.</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">net</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Miscellaneous networking software.</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">net-im</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Instant messaging software.</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">net-mgmt</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Networking management software.</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">net-p2p</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Peer to peer network applications.</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">news</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">USENET news software.</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">palm</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Software support for the <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.palm.com/">Palm™</link> series.</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">parallel*</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Applications dealing with parallelism in computing.</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">pear*</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Ports related to the Pear PHP framework.</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">perl5*</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Ports that require <application xmlns:xlink="http://www.w3.org/1999/xlink">Perl</application> version 5 to run.</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">plan9*</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Various programs from <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.cs.bell-labs.com/plan9dist/">Plan9</link>.</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">polish</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Polish language support.</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">ports-mgmt</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD ports 及 packages 的管理、安裝、開發。</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">portuguese</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Portuguese language support.</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">print</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Printing software.</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Desktop publishing tools
		  (previewers, etc.) belong here too.</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">python*</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Software related to the <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.python.org/">Python</link> language.</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">ruby*</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Software related to the <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.ruby-lang.org/">Ruby</link> language.</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">rubygems*</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Ports of <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.rubygems.org/">RubyGems</link> packages.</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">russian</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Russian language support.</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">scheme*</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Software related to the Scheme language.</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">science</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Scientific ports that do not fit into other
		  categories such as <filename xmlns:xlink="http://www.w3.org/1999/xlink">astro</filename>,
		  <filename xmlns:xlink="http://www.w3.org/1999/xlink">biology</filename> and
		  <filename xmlns:xlink="http://www.w3.org/1999/xlink">math</filename>.</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">security</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Security utilities.</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">shells</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Command line shells.</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">spanish*</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">西班牙文的相關支援。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">sysutils</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">System utilities.</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">tcl*</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">使用 Tcl 語言的軟體。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">textproc</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Text processing utilities.</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">It does not include
		  desktop publishing tools, which go to <filename xmlns:xlink="http://www.w3.org/1999/xlink">print</filename>.</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">tk*</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">使用 Tk 語言的程式。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">ukrainian</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Ukrainian language support.</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">vietnamese</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Vietnamese language support.</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">windowmaker*</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Ports to support the WindowMaker window
		  manager.</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">www</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Software related to the World Wide Web.</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">HTML language
		  support belongs here too.</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">x11</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">The X Window System and friends.</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">This category is only
		  for software that directly supports the window system.  Do not
		  put regular X applications here; most of them should go
		  into other <filename xmlns:xlink="http://www.w3.org/1999/xlink">x11-*</filename> categories (see below).
		  If your port <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">is</emphasis> an X
		  application, define <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_XLIB</varname> (implied by
		  <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_IMAKE</varname>) and put it in the appropriate
		  category.</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">x11-clocks</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">X11 clocks.</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">x11-drivers</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">X11 驅動程式。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">x11-fm</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">X11 file managers.</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">x11-fonts</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">X11 fonts and font utilities.</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">x11-servers</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">X11 servers.</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">x11-themes</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">X11 themes.</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">x11-toolkits</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">X11 toolkits.</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">x11-wm</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">X11 window managers.</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">xfce*</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.xfce.org/">Xfce</link>
		  桌面環境的相關軟體。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">zope*</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.zope.org/">Zope</link> support.</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>
	    </tbody>
	  </tgroup>
	</informaltable>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="choosing-categories">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Choosing the right category</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">As many of the categories overlap, you often have to choose
	  which of the categories should be the primary category of your port.
	  There are several rules that govern this issue.  Here is the list of
	  priorities, in decreasing order of precedence:</para>

	<itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">The first category must be a physical category (see
	      <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="porting-categories">above</link>).  This is
	      necessary to make the packaging work.  Virtual categories and
	      physical categories may be intermixed after that.</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">Language specific categories always come first.  For
	      example, if your port installs Japanese X11 fonts, then your
	      <varname xmlns:xlink="http://www.w3.org/1999/xlink">CATEGORIES</varname> line would read <filename xmlns:xlink="http://www.w3.org/1999/xlink">japanese
		x11-fonts</filename>.</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">Specific categories are listed before less-specific ones.  For
	      instance, an HTML editor should be listed as <filename xmlns:xlink="http://www.w3.org/1999/xlink">www
		editors</filename>, not the other way around.  Also, you should not
	      list <filename xmlns:xlink="http://www.w3.org/1999/xlink">net</filename> when the port belongs to
	      any of <filename xmlns:xlink="http://www.w3.org/1999/xlink">irc</filename>, <filename xmlns:xlink="http://www.w3.org/1999/xlink">mail</filename>,
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">mbone</filename>, <filename xmlns:xlink="http://www.w3.org/1999/xlink">news</filename>,
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">security</filename>, or <filename xmlns:xlink="http://www.w3.org/1999/xlink">www</filename>, as
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">net</filename> is included implicitly.</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">x11</filename> is used as a secondary category only
	      when the primary category is a natural language.  In particular,
	      you should not put <filename xmlns:xlink="http://www.w3.org/1999/xlink">x11</filename> in the category line
	      for X applications.</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Emacs</application> modes should be
	      placed in the same ports category as the application
	      supported by the mode, not in
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">editors</filename>.  For example, an
	      <application xmlns:xlink="http://www.w3.org/1999/xlink">Emacs</application> mode to edit source
	      files of some programming language should go into
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">lang</filename>.
	      </para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">會安裝 kernel loadable modules 的 port 請在
	      <varname xmlns:xlink="http://www.w3.org/1999/xlink">CATEGORIES</varname> 內加上 <filename xmlns:xlink="http://www.w3.org/1999/xlink">kld</filename>
	      這個虛擬目錄。</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">misc</filename>
		  should not appear with any other non-virtual category.
		  If you have <literal xmlns:xlink="http://www.w3.org/1999/xlink">misc</literal> with something else in
		  your <varname xmlns:xlink="http://www.w3.org/1999/xlink">CATEGORIES</varname> line, that means you can
		  safely delete <literal xmlns:xlink="http://www.w3.org/1999/xlink">misc</literal> and just put the port
		  in that other subdirectory!</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">If your port truly does not belong anywhere else, put it in
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">misc</filename>.</para>
	  </listitem>
	</itemizedlist>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">If you are not sure about the category, please put a comment to
	  that effect in your <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">send-pr</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> submission so we can
	  discuss it before we import it.  If you are a committer, send a note
	  to the <link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-ports">FreeBSD ports 郵遞論壇</link> so we can discuss it first.  Too often, new ports are
	  imported to the wrong category only to be moved right away.
	  This causes unnecessary and undesirable bloat in the master
	  source repository.</para>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="proposing-categories">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Proposing a new category</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">As the Ports Collection has grown over time, various new
	  categories have been introduced.  New categories can either
	  be <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">virtual</emphasis> categories——those that do
	  not have a corresponding subdirectory in the ports tree——
	  or <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">physical</emphasis> categories——those that
	  do.  The following text discusses the issues involved in creating
	  a new physical category so that you can understand them before
	  you propose one.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Our existing practice has been to avoid creating a new
	  physical category unless either a large number of ports would
	  logically belong to it, or the ports that would belong to it
	  are a logically distinct group that is of limited general
	  interest (for instance, categories related to spoken human
	  languages), or preferably both.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">The rationale for this is that such a change creates a
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="../../../../doc/zh_TW.UTF-8/articles/committers-guide/#ports">
	  fair amount of work</link> for both the committers and also
	  for all users who track changes to the Ports Collection.  In
	  addition, proposed category changes just naturally seem to
	  attract controversy.  (Perhaps this is because there is no
	  clear consensus on when a category is <quote xmlns:xlink="http://www.w3.org/1999/xlink">too big</quote>,
	  nor whether categories should lend themselves to browsing (and
	  thus what number of categories would be an ideal number), and
	  so forth.)</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Here is the procedure:</para>

	<procedure xmlns:xlink="http://www.w3.org/1999/xlink">
	  <step xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">Propose the new category on <link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-ports">FreeBSD ports 郵遞論壇</link>.  You should
	      include a detailed rationale for the new category,
	      including why you feel the existing categories are not
	      sufficient, and the list of existing ports proposed to move.
	      (If there are new ports pending in
	      <application xmlns:xlink="http://www.w3.org/1999/xlink">GNATS</application> that would fit this
	      category, list them too.)  If you are the maintainer and/or
	      submitter, respectively, mention that as it may help you
	      to make your case.</para>
	  </step>

	  <step xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">Participate in the discussion.</para>
	  </step>

	  <step xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">If it seems that there is support for your idea,
	      file a PR which includes both the rationale and the list
	      of existing ports that need to be moved.  Ideally, this
	      PR should also include patches for the following:</para>

	    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>s for the
		  new ports once they are repocopied</para>
	      </listitem>

	      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> for the
		  new category</para>
	      </listitem>

	      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> for the
		  old ports' categories</para>
	      </listitem>

	      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>s for ports
		  that depend on the old ports</para>
	      </listitem>

	      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">(for extra credit, you can include the other
		  files that have to change, as per the procedure
		  in the Committer's Guide.)</para>
	      </listitem>
	    </itemizedlist>
	  </step>

	  <step xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">Since it affects the ports infrastructure and involves
	      not only performing repo-copies but also possibly running
	      regression tests on the build cluster, the PR should be
	      assigned to the Ports Management Team <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">portmgr@FreeBSD.org</email>.</para>
	  </step>

	  <step xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">If that PR is approved, a committer will need to follow
	      the rest of the procedure that is
	      <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="../../../../doc/zh_TW.UTF-8/articles/committers-guide/#ports">
	      outlined in the Committer's Guide</link>.</para>
	  </step>
	</procedure>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Proposing a new virtual category should be similar to
	  the above but much less involved, since no ports will
	  actually have to move.  In this case, the only patches to
	  include in the PR would be those to add the new category to the
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">CATEGORIES</varname> of the affected ports.</para>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="proposing-reorg">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Proposing reorganizing all the categories</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Occasionally someone proposes reorganizing the categories
	  with either a 2-level structure, or some other kind of keyword
	  structure.  To date, nothing has come of any of these proposals
	  because, while they are very easy to make, the effort involved to
	  retrofit the entire existing ports collection with any kind of
	  reorganization is daunting to say the very least.  Please read
	  the history of these proposals in the mailing list archives before
	  you post this idea; furthermore, you should be prepared to be
	  challenged to offer a working prototype.</para>
      </sect2>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="makefile-distfiles">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">The distribution files</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">The second part of the <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> describes the
	files that must be downloaded in order to build the port, and where
	they can be downloaded from.</para>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTVERSION/DISTNAME</varname></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTNAME</varname> is the name of the port as
	  called by the authors of the software.
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTNAME</varname> defaults to
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">${PORTNAME}-${PORTVERSION}</literal>, so override it only if necessary.
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTNAME</varname> is only used in two places.
	  First, the distribution file list
	  (<varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES</varname>) defaults to
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">${DISTNAME}</varname><varname xmlns:xlink="http://www.w3.org/1999/xlink">${EXTRACT_SUFX}</varname>.
	  Second, the distribution file is expected to extract into a
	  subdirectory named <varname xmlns:xlink="http://www.w3.org/1999/xlink">WRKSRC</varname>, which defaults
	  to <filename xmlns:xlink="http://www.w3.org/1999/xlink">work/${DISTNAME}</filename>.</para>

        <para xmlns:xlink="http://www.w3.org/1999/xlink">Some vendor's distribution names which do not fit into the
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">${PORTNAME}-${PORTVERSION}</literal>-scheme can be handled
	  automatically by setting <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTVERSION</varname>.
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTVERSION</varname> and <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTNAME</varname> will be
	  derived automatically, but can of course be overridden.  The following
	  table lists some examples:</para>

	<informaltable xmlns:xlink="http://www.w3.org/1999/xlink" frame="none" pgwide="1">
	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	    <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTVERSION</varname></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTVERSION</varname></entry>
	      </row>
	    </thead>

	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">0.7.1d</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">0.7.1.d</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">10Alpha3</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">10.a3</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">3Beta7-pre2</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">3.b7.p2</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">8:f_17</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">8f.17</entry>
	      </row>
	    </tbody>
	  </tgroup>
	</informaltable>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGNAMEPREFIX</varname> and
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGNAMESUFFIX</varname> do not affect
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTNAME</varname>.  Also note that if
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">WRKSRC</varname> is equal to
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">work/${PORTNAME}-${PORTVERSION}</filename>
	    while the original source archive is named something other than
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">${PORTNAME}-${PORTVERSION}${EXTRACT_SUFX}</varname>,
	    you should probably leave <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTNAME</varname>
	    alone—— you are better off defining
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES</varname> than having to set both
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTNAME</varname> and <varname xmlns:xlink="http://www.w3.org/1999/xlink">WRKSRC</varname>
	    (and possibly <varname xmlns:xlink="http://www.w3.org/1999/xlink">EXTRACT_SUFX</varname>).</para>
	</note>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES</varname></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Record the directory part of the FTP/HTTP-URL pointing at the
	  original tarball in <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES</varname>.  Do not forget
	  the trailing slash (<filename xmlns:xlink="http://www.w3.org/1999/xlink">/</filename>)!</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">The <command xmlns:xlink="http://www.w3.org/1999/xlink">make</command> macros will try to use this
	  specification for grabbing the distribution file with
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">FETCH</varname> if they cannot find it already on the
	  system.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">It is recommended that you put multiple sites on this list,
	  preferably from different continents.  This will safeguard against
	  wide-area network problems.  We are even planning to add support
	  for automatically determining the closest master site and fetching
	  from there; having multiple sites will go a long way towards
	  helping this effort.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">If the original tarball is part of one of the popular
	  archives such as X-contrib, GNU, or Perl CPAN, you may be able
	  refer to those sites in an easy compact form using
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">*</replaceable></varname>
	  (比如：<varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_XCONTRIB</varname>、
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_GNU</varname>、
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_PERL_CPAN</varname>)。  Simply set
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES</varname> to one of these variables and
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_SUBDIR</varname> to the path within the
	  archive.  Here is an example:</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES=         ${MASTER_SITE_XCONTRIB}
MASTER_SITE_SUBDIR=   applications</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">These variables are defined in
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/ports/Mk/bsd.sites.mk</filename>.  There are
	  new entries added all the time, so make sure to check the
	  latest version of this file before submitting a port.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">The user can also set the <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_*</varname>
	  variables in <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/make.conf</filename> to override our
	  choices, and use their favorite mirrors of these popular archives
	  instead.</para>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">EXTRACT_SUFX</varname></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">If you have one distribution file, and it uses an odd suffix to
	  indicate the compression mechanism, set
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">EXTRACT_SUFX</varname>.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">For example, if the distribution file was named
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">foo.tgz</filename> instead of the more normal
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">foo.tar.gz</filename>, you would write:</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">DISTNAME=      foo
EXTRACT_SUFX=  .tgz</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">The <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_BZIP2</varname> and <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_ZIP</varname>
	  variables automatically set <varname xmlns:xlink="http://www.w3.org/1999/xlink">EXTRACT_SUFX</varname> to
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">.tar.bz2</literal> or <literal xmlns:xlink="http://www.w3.org/1999/xlink">.zip</literal> as necessary.  If
	  neither of these are set then <varname xmlns:xlink="http://www.w3.org/1999/xlink">EXTRACT_SUFX</varname>
	  defaults to <literal xmlns:xlink="http://www.w3.org/1999/xlink">.tar.gz</literal>.</para>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">You never need to set both <varname xmlns:xlink="http://www.w3.org/1999/xlink">EXTRACT_SUFX</varname> and
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES</varname>.</para>
	</note>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES</varname></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Sometimes the names of the files to be downloaded have no
	  resemblance to the name of the port.  For example, it might be
	  called <filename xmlns:xlink="http://www.w3.org/1999/xlink">source.tar.gz</filename> or similar.  In other
	  cases the application's source code might be in several different
	  archives, all of which must be downloaded.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">If this is the case, set <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES</varname> to be a
	  space separated list of all the files that must be
	  downloaded.</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES=     source1.tar.gz source2.tar.gz</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">If not explicitly set, <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES</varname> defaults to
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">${DISTNAME}${EXTRACT_SUFX}</literal>.</para>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">EXTRACT_ONLY</varname></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">If only some of the <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES</varname> must be
	  extracted——for example, one of them is the source code, while
	  another is an uncompressed document——list the filenames that
	  must be extracted in <varname xmlns:xlink="http://www.w3.org/1999/xlink">EXTRACT_ONLY</varname>.</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES=     source.tar.gz manual.html
EXTRACT_ONLY=  source.tar.gz</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">If <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">none</emphasis> of the <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES</varname>
	  should be uncompressed then set <varname xmlns:xlink="http://www.w3.org/1999/xlink">EXTRACT_ONLY</varname> to
	  the empty string.</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">EXTRACT_ONLY=</programlisting>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-patchfiles">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PATCHFILES</varname></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">If your port requires some additional patches that are available
	  by FTP or HTTP, set <varname xmlns:xlink="http://www.w3.org/1999/xlink">PATCHFILES</varname> to the names of
	  the files and <varname xmlns:xlink="http://www.w3.org/1999/xlink">PATCH_SITES</varname> to the URL of the
	  directory that contains them (the format is the same as
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES</varname>).</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">If the patch is not relative to the top of the source tree
	  (i.e., <varname xmlns:xlink="http://www.w3.org/1999/xlink">WRKSRC</varname>) because it contains some extra
	  pathnames, set <varname xmlns:xlink="http://www.w3.org/1999/xlink">PATCH_DIST_STRIP</varname> accordingly. For
	  instance, if all the pathnames in the patch have an extra
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">foozolix-1.0/</literal> in front of the filenames, then set
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">PATCH_DIST_STRIP=-p1</literal>.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Do not worry if the patches are compressed; they will be
	  decompressed automatically if the filenames end with
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">.gz</filename> or <filename xmlns:xlink="http://www.w3.org/1999/xlink">.Z</filename>.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">If the patch is distributed with some other files, such as
	  documentation, in a gzip'd tarball, you cannot just use
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PATCHFILES</varname>.  If that is the case, add the name
	  and the location of the patch tarball to
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES</varname> and <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES</varname>.
	  Then, use the <varname xmlns:xlink="http://www.w3.org/1999/xlink">EXTRA_PATCHES</varname> variable to
	  point to those files and <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.mk</filename>
	  will automatically apply them for you.  In particular, do
	  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">not</emphasis> copy patch files into the
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PATCHDIR</varname> directory——that directory may
	  not be writable.</para>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">The tarball will have been extracted alongside the
	    regular source by then, so there is no need to explicitly extract
	    it if it is a regular gzip'd or compress'd tarball. If you do the
	    latter, take extra care not to overwrite something that already
	    exists in that directory.  Also, do not forget to add a command to
	    remove the copied patch in the <buildtarget>pre-clean</buildtarget>
	    target.</para>
	</note>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-master-sites-n">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Multiple distribution files or patches from different
	  sites and subdirectories
	  (<literal xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES:n</literal>)</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">(Consider this to be a somewhat <quote xmlns:xlink="http://www.w3.org/1999/xlink">advanced topic</quote>;
	  those new to this document may wish to skip this section at first).
	  </para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">This section has information on the fetching mechanism
	  known as both <literal xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES:n</literal> and
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES_NN</literal>.  We will refer to this
	  mechanism as <literal xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES:n</literal>
	  hereon.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">A little background first.  OpenBSD has a neat feature
	  inside both <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES</varname> and
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PATCHFILES</varname> variables, both files and
	  patches can be postfixed with <literal xmlns:xlink="http://www.w3.org/1999/xlink">:n</literal>
	  identifiers where <literal xmlns:xlink="http://www.w3.org/1999/xlink">n</literal> both can be
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">[0-9]</literal> and denote a group designation.
	  For example:</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES=      alpha:0 beta:1</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">In OpenBSD, distribution file <filename xmlns:xlink="http://www.w3.org/1999/xlink">alpha</filename>
	  will be associated with variable
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES0</varname> instead of our common
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES</varname> and
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">beta</filename> with
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES1</varname>.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">This is a very interesting feature which can decrease
	  that endless search for the correct download site.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Just picture 2 files in <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES</varname> and
	  20 sites in <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES</varname>, the sites slow
	  as hell where <filename xmlns:xlink="http://www.w3.org/1999/xlink">beta</filename> is carried by all
	  sites in <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES</varname>, and
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">alpha</filename> can only be found in the 20th
	  site.  It would be such a waste to check all of them if
	  maintainer knew this beforehand, would it not?  Not a good
	  start for that lovely weekend!</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Now that you have the idea, just imagine more
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES</varname> and more
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES</varname>.  Surely our
	  <quote xmlns:xlink="http://www.w3.org/1999/xlink">distfiles survey meister</quote> would appreciate the
	  relief to network strain that this would bring.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">In the next sections, information will follow on the
	  FreeBSD implementation of this idea.	We improved a bit on
	  OpenBSD's concept.</para>

	<sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">Simplified information</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">This section tells you how to quickly prepare fine
	    grained fetching of multiple distribution files and
	    patches from different sites and subdirectories.  We
	    describe here a case of simplified
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES:n</literal> usage.  This will be
	    sufficient for most scenarios.  However, if you need
	    further information, you will have to refer to the next
	    section.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Some applications consist of multiple distribution
	    files that must be downloaded from a number of different
	    sites.  For example,
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">Ghostscript</application> consists of the
	    core of the program, and then a large number of driver
	    files that are used depending on the user's printer.  Some
	    of these driver files are supplied with the core, but many
	    others must be downloaded from a variety of different
	    sites.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">To support this, each entry in
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES</varname> may be followed by a colon
	    and a <quote xmlns:xlink="http://www.w3.org/1999/xlink">tag name</quote>.  Each site listed in
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES</varname> is then followed by a
	    colon, and the tag that indicates which distribution files
	    should be downloaded from this site.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">For example, consider an application with the source
	    split in two parts, <filename xmlns:xlink="http://www.w3.org/1999/xlink">source1.tar.gz</filename>
	    and <filename xmlns:xlink="http://www.w3.org/1999/xlink">source2.tar.gz</filename>, which must be
	    downloaded from two different sites.  The port's
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> would include lines like
	    <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="ports-master-sites-n-example-simple-use-one-file-per-site"/>.</para>

	  <example xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ports-master-sites-n-example-simple-use-one-file-per-site">
	    <title xmlns:xlink="http://www.w3.org/1999/xlink">Simplified use of <literal xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES:n</literal>
	      with 1 file per site</title>

	    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES=   ftp://ftp.example1.com/:source1 \
		ftp://ftp.example2.com/:source2
DISTFILES=      source1.tar.gz:source1 \
		source2.tar.gz:source2</programlisting>
	  </example>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Multiple distribution files can have the same tag.
	    Continuing the previous example, suppose that there was a
	    third distfile, <filename xmlns:xlink="http://www.w3.org/1999/xlink">source3.tar.gz</filename>, that
	    should be downloaded from
	    <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">ftp.example2.com</systemitem>.	The
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> would then be written like
	    <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="ports-master-sites-n-example-simple-use-more-than-one-file-per-site"/>.</para>

	  <example xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ports-master-sites-n-example-simple-use-more-than-one-file-per-site">
	    <title xmlns:xlink="http://www.w3.org/1999/xlink">Simplified use of <literal xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES:n</literal>
	      with more than 1 file per site</title>

	    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES=   ftp://ftp.example1.com/:source1 \
		ftp://ftp.example2.com/:source2
DISTFILES=      source1.tar.gz:source1 \
		source2.tar.gz:source2 \
		source3.tar.gz:source2</programlisting>
	  </example>
	</sect3>

	<sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">Detailed information</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Okay, so the previous section example did not reflect
	    your needs?	 In this section we will explain in detail how
	    the fine grained fetching mechanism
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES:n</literal> works and how you can
	    modify your ports to use it.</para>

	  <orderedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">Elements can be postfixed with
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">:n</literal> where
		<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">n</replaceable> is
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">[^:,]+</literal>, i.e.,
		<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">n</replaceable> could conceptually be any
		alphanumeric string but we will limit it to
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">[a-zA-Z_][0-9a-zA-Z_]+</literal> for
		now.</para>

	      <para xmlns:xlink="http://www.w3.org/1999/xlink">Moreover, string matching is case sensitive;
		i.e., <literal xmlns:xlink="http://www.w3.org/1999/xlink">n</literal> is different from
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">N</literal>.</para>

	      <para xmlns:xlink="http://www.w3.org/1999/xlink">However, the following words cannot be used for
		postfixing purposes since they yield special meaning:
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">default</literal>, <literal xmlns:xlink="http://www.w3.org/1999/xlink">all</literal> and
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">ALL</literal> (they are used internally in
		item <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="porting-master-sites-n-what-changes-in-port-targets"/>).
		Furthermore, <literal xmlns:xlink="http://www.w3.org/1999/xlink">DEFAULT</literal> is a special
		purpose word (check item <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="porting-master-sites-n-DEFAULT-group"/>).</para>
	    </listitem>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">Elements postfixed with <literal xmlns:xlink="http://www.w3.org/1999/xlink">:n</literal>
		belong to the group <literal xmlns:xlink="http://www.w3.org/1999/xlink">n</literal>,
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">:m</literal> belong to group
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">m</literal> and so forth.</para>
	    </listitem>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-master-sites-n-DEFAULT-group">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">Elements without a postfix are groupless, i.e.,
		they all belong to the special group
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">DEFAULT</literal>.  If you postfix any
		elements with <literal xmlns:xlink="http://www.w3.org/1999/xlink">DEFAULT</literal>, you are just
		being redundant unless you want to have an element
		belonging to both <literal xmlns:xlink="http://www.w3.org/1999/xlink">DEFAULT</literal> and other
		groups at the same time (check item <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="porting-master-sites-n-comma-operator"/>).</para>

	      <para xmlns:xlink="http://www.w3.org/1999/xlink">The following examples are equivalent but the
		first one is preferred:</para>

	      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES=   alpha

MASTER_SITES=   alpha:DEFAULT</programlisting>
	    </listitem>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">Groups are not exclusive, an element may belong to
		several different groups at the same time and a group
		can either have either several different elements or
		none at all.  Repeated elements within the same group
		will be simply that, repeated elements.</para>
	    </listitem>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-master-sites-n-comma-operator">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">When you want an element to belong to several
		groups at the same time, you can use the comma
		operator (<literal xmlns:xlink="http://www.w3.org/1999/xlink">,</literal>).</para>

	      <para xmlns:xlink="http://www.w3.org/1999/xlink">Instead of repeating it several times, each time
		with a different postfix, we can list several groups
		at once in a single postfix.  For instance,
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">:m,n,o</literal> marks an element that
		belongs to group <literal xmlns:xlink="http://www.w3.org/1999/xlink">m</literal>,
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">n</literal> and <literal xmlns:xlink="http://www.w3.org/1999/xlink">o</literal>.</para>

	      <para xmlns:xlink="http://www.w3.org/1999/xlink">All the following examples are equivalent but the
		last one is preferred:</para>

	      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES=   alpha alpha:SOME_SITE

MASTER_SITES=   alpha:DEFAULT alpha:SOME_SITE

MASTER_SITES=   alpha:SOME_SITE,DEFAULT

MASTER_SITES=   alpha:DEFAULT,SOME_SITE</programlisting>
	    </listitem>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">All sites within a given group are sorted
		according to <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SORT_AWK</varname>.  All
		groups within <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES</varname> and
		<varname xmlns:xlink="http://www.w3.org/1999/xlink">PATCH_SITES</varname> are sorted as
		well.</para>
	    </listitem>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-master-sites-n-group-semantics">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">Group semantics can be used in any of the
		following variables <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES</varname>,
		<varname xmlns:xlink="http://www.w3.org/1999/xlink">PATCH_SITES</varname>,
		<varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_SUBDIR</varname>,
		<varname xmlns:xlink="http://www.w3.org/1999/xlink">PATCH_SITE_SUBDIR</varname>,
		<varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES</varname>, and
		<varname xmlns:xlink="http://www.w3.org/1999/xlink">PATCHFILES</varname> according to the
		following syntax:</para>

	      <orderedlist xmlns:xlink="http://www.w3.org/1999/xlink">
		<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		  <para xmlns:xlink="http://www.w3.org/1999/xlink">All <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES</varname>,
		    <varname xmlns:xlink="http://www.w3.org/1999/xlink">PATCH_SITES</varname>,
		    <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_SUBDIR</varname> and
		    <varname xmlns:xlink="http://www.w3.org/1999/xlink">PATCH_SITE_SUBDIR</varname> elements must
		    be terminated with the forward slash
		    <literal xmlns:xlink="http://www.w3.org/1999/xlink">/</literal> character.  If any elements
		    belong to any groups, the group postfix
		    <literal xmlns:xlink="http://www.w3.org/1999/xlink">:n</literal>
		    must come right after the terminator
		    <literal xmlns:xlink="http://www.w3.org/1999/xlink">/</literal>.  The
		    <literal xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES:n</literal> mechanism relies
		    on the existence of the terminator
		    <literal xmlns:xlink="http://www.w3.org/1999/xlink">/</literal> to avoid confusing elements
		    where a <literal xmlns:xlink="http://www.w3.org/1999/xlink">:n</literal> is a valid part of
		    the element with occurrences where
		    <literal xmlns:xlink="http://www.w3.org/1999/xlink">:n</literal> denotes group
		    <literal xmlns:xlink="http://www.w3.org/1999/xlink">n</literal>.  For compatibility purposes,
		    since the <literal xmlns:xlink="http://www.w3.org/1999/xlink">/</literal> terminator was not
		    required before in both
		    <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_SUBDIR</varname> and
		    <varname xmlns:xlink="http://www.w3.org/1999/xlink">PATCH_SITE_SUBDIR</varname> elements, if
		    the postfix immediate preceding character is not
		    a <literal xmlns:xlink="http://www.w3.org/1999/xlink">/</literal> then <literal xmlns:xlink="http://www.w3.org/1999/xlink">:n</literal>
		    will be considered a valid part of the element
		    instead of a group postfix even if an element is
		    postfixed with <literal xmlns:xlink="http://www.w3.org/1999/xlink">:n</literal>.  See both
		    <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="ports-master-sites-n-example-detailed-use-master-site-subdir"/>
		    and <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="ports-master-sites-n-example-detailed-use-complete-example-master-sites"/>.</para>

		  <example xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ports-master-sites-n-example-detailed-use-master-site-subdir">
		    <title xmlns:xlink="http://www.w3.org/1999/xlink">Detailed use of
		      <literal xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES:n</literal> in
		      <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_SUBDIR</varname></title>

		    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_SUBDIR=     old:n new/:NEW</programlisting>

		    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
		      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			<para xmlns:xlink="http://www.w3.org/1999/xlink">Directories within group
			  <literal xmlns:xlink="http://www.w3.org/1999/xlink">DEFAULT</literal> -&gt; old:n</para>
		      </listitem>

		      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			<para xmlns:xlink="http://www.w3.org/1999/xlink">Directories within group
			  <literal xmlns:xlink="http://www.w3.org/1999/xlink">NEW</literal> -&gt; new</para>
		      </listitem>
		    </itemizedlist>
		  </example>

		  <example xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ports-master-sites-n-example-detailed-use-complete-example-master-sites">
		      <title xmlns:xlink="http://www.w3.org/1999/xlink">Detailed use of
			<literal xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES:n</literal> with comma
			operator, multiple files, multiple sites and
			multiple subdirectories</title>

		    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES=   http://site1/%SUBDIR%/ http://site2/:DEFAULT \
		http://site3/:group3 http://site4/:group4 \
		http://site5/:group5 http://site6/:group6 \
		http://site7/:DEFAULT,group6 \
		http://site8/%SUBDIR%/:group6,group7 \
		http://site9/:group8
DISTFILES=      file1 file2:DEFAULT file3:group3 \
		file4:group4,group5,group6 file5:grouping \
		file6:group7
MASTER_SITE_SUBDIR=     directory-trial:1 directory-n/:groupn \
			directory-one/:group6,DEFAULT \
			directory</programlisting>

		    <para xmlns:xlink="http://www.w3.org/1999/xlink">The previous example results in the
		      following fine grained fetching.	Sites are
		      listed in the exact order they will be
		      used.</para>

		    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
		      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">file1</filename> will be
			  fetched from</para>

			<itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_OVERRIDE</varname></para>
			  </listitem>

			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink">http://site1/directory-trial:1/</para>
			  </listitem>

			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink">http://site1/directory-one/</para>
			  </listitem>

			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink">http://site1/directory/</para>
			  </listitem>

			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink">http://site2/</para>
			  </listitem>

			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink">http://site7/</para>
			  </listitem>

			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_BACKUP</varname></para>
			  </listitem>
			</itemizedlist>
		      </listitem>

		      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">file2</filename> will be
			  fetched exactly as
			  <filename xmlns:xlink="http://www.w3.org/1999/xlink">file1</filename> since they
			  both belong to the same group</para>

			<itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_OVERRIDE</varname></para>
			  </listitem>

			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink">http://site1/directory-trial:1/</para>
			  </listitem>

			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink">http://site1/directory-one/</para>
			  </listitem>

			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink">http://site1/directory/</para>
			  </listitem>

			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink">http://site2/</para>
			  </listitem>

			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink">http://site7/</para>
			  </listitem>

			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_BACKUP</varname></para>
			  </listitem>
			</itemizedlist>
		      </listitem>

		      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">file3</filename> will be
			  fetched from</para>

			<itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_OVERRIDE</varname></para>
			  </listitem>

			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink">http://site3/</para>
			  </listitem>

			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_BACKUP</varname></para>
			  </listitem>
			</itemizedlist>
		      </listitem>

		      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">file4</filename> will be
			  fetched from</para>

			<itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_OVERRIDE</varname></para>
			  </listitem>

			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink">http://site4/</para>
			  </listitem>

			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink">http://site5/</para>
			  </listitem>

			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink">http://site6/</para>
			  </listitem>

			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink">http://site7/</para>
			  </listitem>

			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink">http://site8/directory-one/</para>
			  </listitem>

			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_BACKUP</varname></para>
			  </listitem>
			</itemizedlist>
		      </listitem>

		      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">file5</filename> will be
			  fetched from</para>

			<itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_OVERRIDE</varname></para>
			  </listitem>

			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_BACKUP</varname></para>
			  </listitem>
			</itemizedlist>
		      </listitem>

		      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">file6</filename> will be
			  fetched from</para>

			<itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_OVERRIDE</varname></para>
			  </listitem>

			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink">http://site8/</para>
			  </listitem>

			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_BACKUP</varname></para>
			  </listitem>
			</itemizedlist>
		      </listitem>
		    </itemizedlist>
		  </example>
		</listitem>
	      </orderedlist>
	    </listitem>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">How do I group one of the special variables from
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.sites.mk</filename>, e.g.,
		<varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_SOURCEFORGE</varname>?</para>

	      <para xmlns:xlink="http://www.w3.org/1999/xlink">See <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="ports-master-sites-n-example-detailed-use-master-site-sourceforge"/>.</para>

	      <example xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ports-master-sites-n-example-detailed-use-master-site-sourceforge">
		<title xmlns:xlink="http://www.w3.org/1999/xlink">Detailed use of
		  <literal xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES:n</literal> with
		  <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_SOURCEFORGE</varname></title>

		<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES=   http://site1/ ${MASTER_SITE_SOURCEFORGE:S/$/:sourceforge,TEST/}
DISTFILES=      something.tar.gz:sourceforge</programlisting>
	      </example>

	      <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">something.tar.gz</filename> will be
		fetched from all sites within
		<varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_SOURCEFORGE</varname>.</para>
	    </listitem>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">How do I use this with <varname xmlns:xlink="http://www.w3.org/1999/xlink">PATCH*</varname>
		variables?</para>

	      <para xmlns:xlink="http://www.w3.org/1999/xlink">All examples were done with
		<varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER*</varname> variables but they work
		exactly the same for <varname xmlns:xlink="http://www.w3.org/1999/xlink">PATCH*</varname> ones as
		can be seen in <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="ports-master-sites-n-example-detailed-use-patch-sites"/>.</para>

	      <example xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ports-master-sites-n-example-detailed-use-patch-sites">
		<title xmlns:xlink="http://www.w3.org/1999/xlink">Simplified use of
		  <literal xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES:n</literal> with
		  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PATCH_SITES</varname>.</title>

		<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">PATCH_SITES=    http://site1/ http://site2/:test
PATCHFILES=     patch1:test</programlisting>
	      </example>
	    </listitem>
	  </orderedlist>
	</sect3>

	<sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">What does change for ports?  What does not?</title>

	  <orderedlist xmlns:xlink="http://www.w3.org/1999/xlink" numeration="lowerroman">
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">All current ports remain the same.  The
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES:n</literal> feature code is only
		activated if there are elements postfixed with
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">:n</literal> like
		elements according to the aforementioned syntax rules,
		especially as shown in item <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="porting-master-sites-n-group-semantics"/>.</para>
	    </listitem>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-master-sites-n-what-changes-in-port-targets">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">The port targets remain the same:
		<buildtarget>checksum</buildtarget>,
		<buildtarget>makesum</buildtarget>,
		<buildtarget>patch</buildtarget>,
		<buildtarget>configure</buildtarget>,
		<buildtarget>build</buildtarget>, etc.  With the obvious
		exceptions of <buildtarget>do-fetch</buildtarget>,
		<buildtarget>fetch-list</buildtarget>,
		<buildtarget>master-sites</buildtarget> and
		<buildtarget>patch-sites</buildtarget>.</para>

	      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
		<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		  <para xmlns:xlink="http://www.w3.org/1999/xlink"><buildtarget>do-fetch</buildtarget>: deploys the
		    new grouping postfixed
		    <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES</varname> and
		    <varname xmlns:xlink="http://www.w3.org/1999/xlink">PATCHFILES</varname> with their matching
		    group elements within both
		    <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES</varname> and
		    <varname xmlns:xlink="http://www.w3.org/1999/xlink">PATCH_SITES</varname> which use matching
		    group elements within both
		    <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_SUBDIR</varname> and
		    <varname xmlns:xlink="http://www.w3.org/1999/xlink">PATCH_SITE_SUBDIR</varname>.  Check <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="ports-master-sites-n-example-detailed-use-complete-example-master-sites"/>.</para>
		</listitem>

		<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		  <para xmlns:xlink="http://www.w3.org/1999/xlink"><buildtarget>fetch-list</buildtarget>: works
		    like old <buildtarget>fetch-list</buildtarget> with
		    the exception that it groups just like
		    <buildtarget>do-fetch</buildtarget>.</para>
		</listitem>

		<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		  <para xmlns:xlink="http://www.w3.org/1999/xlink"><buildtarget>master-sites</buildtarget> and
		    <buildtarget>patch-sites</buildtarget>:
		    (incompatible with older versions) only return the
		    elements of group <literal xmlns:xlink="http://www.w3.org/1999/xlink">DEFAULT</literal>;  in
		    fact, they execute targets
		    <buildtarget>master-sites-default</buildtarget> and
		    <buildtarget>patch-sites-default</buildtarget>
		    respectively.</para>

		  <para xmlns:xlink="http://www.w3.org/1999/xlink">Furthermore, using target either
		    <buildtarget>master-sites-all</buildtarget> or
		    <buildtarget>patch-sites-all</buildtarget> is
		    preferred to directly checking either
		    <buildtarget>MASTER_SITES</buildtarget> or
		    <buildtarget>PATCH_SITES</buildtarget>.  Also,
		    directly checking is not guaranteed to work in any
		    future versions.  Check item <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="porting-master-sites-n-new-port-targets-master-sites-all"/>
		    for more information on these new port
		    targets.</para>
		</listitem>

	      </itemizedlist>
	    </listitem>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">New port targets</para>

	      <orderedlist xmlns:xlink="http://www.w3.org/1999/xlink">
		<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		  <para xmlns:xlink="http://www.w3.org/1999/xlink">There are
		    <buildtarget>master-sites-<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">n</replaceable></buildtarget>
		    and
		    <buildtarget>patch-sites-<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">n</replaceable></buildtarget>
		    targets which will list the elements of the
		    respective group <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">n</replaceable>
		    within <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES</varname> and
		    <varname xmlns:xlink="http://www.w3.org/1999/xlink">PATCH_SITES</varname> respectively.  For
		    instance, both
		    <buildtarget>master-sites-DEFAULT</buildtarget> and
		    <buildtarget>patch-sites-DEFAULT</buildtarget> will
		    return the elements of group
		    <literal xmlns:xlink="http://www.w3.org/1999/xlink">DEFAULT</literal>,
		    <buildtarget>master-sites-test</buildtarget> and
		    <buildtarget>patch-sites-test</buildtarget> of group
		    <literal xmlns:xlink="http://www.w3.org/1999/xlink">test</literal>, and thereon.</para>
		</listitem>

		<listitem xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-master-sites-n-new-port-targets-master-sites-all">
		  <para xmlns:xlink="http://www.w3.org/1999/xlink">There are new targets
		    <buildtarget>master-sites-all</buildtarget> and
		    <buildtarget>patch-sites-all</buildtarget> which do
		    the work of the old
		    <buildtarget>master-sites</buildtarget> and
		    <buildtarget>patch-sites</buildtarget> ones.  They
		    return the elements of all groups as if they all
		    belonged to the same group with the caveat that it
		    lists as many
		    <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_BACKUP</varname> and
		    <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_OVERRIDE</varname> as there
		    are groups defined within either
		    <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES</varname> or
		    <varname xmlns:xlink="http://www.w3.org/1999/xlink">PATCHFILES</varname>;  respectively for
		    <buildtarget>master-sites-all</buildtarget> and
		    <buildtarget>patch-sites-all</buildtarget>.</para>
		</listitem>
	      </orderedlist>
	    </listitem>
	  </orderedlist>
	</sect3>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">DIST_SUBDIR</varname></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Do not let your port clutter
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/ports/distfiles</filename>.  If your port requires a
	  lot of files to be fetched, or contains a file that has a name that
	  might conflict with other ports (e.g.,
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>), set <varname xmlns:xlink="http://www.w3.org/1999/xlink">DIST_SUBDIR</varname>
	  to the name of the port (<literal xmlns:xlink="http://www.w3.org/1999/xlink">${PORTNAME}</literal> or
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">${PKGNAMEPREFIX}${PORTNAME}</literal>
	  should work fine).  This will change
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTDIR</varname> from the default
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/ports/distfiles</filename> to
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/ports/distfiles/DIST_SUBDIR</filename>,
	  and in effect puts everything that is required for your port into
	  that subdirectory.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">It will also look at the subdirectory with the same name on the
	  backup master site at <filename xmlns:xlink="http://www.w3.org/1999/xlink">ftp.FreeBSD.org</filename>.
	  (Setting <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTDIR</varname> explicitly in your
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</varname> will not accomplish this, so please use
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">DIST_SUBDIR</varname>.)</para>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">This does not affect the <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES</varname> you
	    define in your <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>.</para>
	</note>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">ALWAYS_KEEP_DISTFILES</varname></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">If your port uses binary distfiles and has a license that
	  requires that the source code is provided with packages distributed
	  in binary form, e.g. GPL, <varname xmlns:xlink="http://www.w3.org/1999/xlink">ALWAYS_KEEP_DISTFILES</varname>
	  will instruct the FreeBSD build cluster to keep a copy of the files
	  specified in <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES</varname>.  Users of these ports
	  will generally not need these files, so it is a good idea to only
	  add the source distfiles to <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES</varname> when
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PACKAGE_BUILDING</varname> is defined.
	</para>

	<example xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ports-master-sites-n-example-always-keep-distfiles">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">Use of <varname xmlns:xlink="http://www.w3.org/1999/xlink">ALWAYS_KEEP_DISTFILES</varname>.</title>
	    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">.if defined(PACKAGE_BUILDING)
DISTFILES+=             <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">foo.tar.gz</replaceable>
ALWAYS_KEEP_DISTFILES=  yes
.endif</programlisting>
	</example>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">When adding extra files to <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES</varname>,
	  make sure you also add them to <filename xmlns:xlink="http://www.w3.org/1999/xlink">distinfo</filename>.
	  Also, the additional files will normally be extracted into
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">WRKDIR</varname> as well, which for some ports may
	  lead to undesirable sideeffects and require special handling.</para>
      </sect2>
    </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="makefile-maintainer">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">MAINTAINER</varname></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Set your mail-address here.  Please.  <!-- smiley
	  --><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">:-)</emphasis></para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Note that only a single address without the comment part is
	  allowed as a <varname xmlns:xlink="http://www.w3.org/1999/xlink">MAINTAINER</varname> value.
	  The format used should be <literal xmlns:xlink="http://www.w3.org/1999/xlink">user@hostname.domain</literal>.
	  Please do not include any descriptive text such as your real
	  name in this entry——that merely confuses
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.mk</filename>.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">The maintainer is responsible for keeping the port up to
	  date, and ensuring the port works correctly.
	  For a detailed description of the responsibilities of a port
	  maintainer, refer to the <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="../../../../doc/zh_TW.UTF-8/articles/contributing-ports/maintain-port.html">The
	  challenge for port maintainers</link> section.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Changes to the port will be sent to the maintainer of
	  a port for a review and an approval before being committed.
	  If the maintainer does not respond to an update
	  request after two weeks (excluding major public
	  holidays), then that is considered a maintainer timeout, and the
	  update may be made without explicit maintainer approval.  If the
	  maintainer does not respond within three months, then that
	  maintainer is considered absent without leave, and can be
	  replaced as the maintainer of the particular port in question.
	  Exceptions to this are anything maintained by the Ports Management Team <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">portmgr@FreeBSD.org</email>, or
	  the Security Officer Team <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">security-officer@FreeBSD.org</email>.  No unauthorized commits may ever be
	  made to ports maintained by those groups.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">We reserve the right to modify the maintainer's submission
	  to better match existing policies and style of the Ports
	  Collection without explicit blessing from the submitter.
	  Also, large infrastructural changes can result in
	  a port being modified without maintainer's consent.
	  This kind of changes will never affect the port's
	  functionality.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">The Ports Management Team <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">portmgr@FreeBSD.org</email> reserves the right to revoke or override
	  anyone's maintainership for any reason, and the Security Officer Team <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">security-officer@FreeBSD.org</email>
	  reserves the right to revoke or override maintainership for security
	  reasons.</para>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="makefile-comment">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">COMMENT</varname></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">This is a one-line description of the port.
	  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">Please</emphasis> do not include the package name (or
	  version number of the software) in the comment.  The comment
	  should begin with a capital and end without a period.  Here
	  is an example:</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">COMMENT=       A cat chasing a mouse all over the screen</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">The COMMENT variable should immediately follow the MAINTAINER
	  variable in the <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Please try to keep the COMMENT line less than 70
	  characters, as it is displayed to users as a one-line
	  summary of the port.</para>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="makefile-depend">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Dependencies</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Many ports depend on other ports.  There are seven variables that
	  you can use to ensure that all the required bits will be on the
	  user's machine.  There are also some pre-supported dependency
	  variables for common cases, plus a few more to control the behavior
	  of dependencies.</para>

	<sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">LIB_DEPENDS</varname></title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">This variable specifies the shared libraries this port depends
	    on.  It is a list of
	    <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">lib</replaceable>:<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">dir</replaceable><optional xmlns:xlink="http://www.w3.org/1999/xlink">:target</optional>
	    tuples where <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">lib</replaceable> is the name of the
	    shared library, <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">dir</replaceable> is the
	    directory in which to find it in case it is not available, and
	    <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">target</replaceable> is the target to call in that
	    directory.  For example,
	    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">LIB_DEPENDS=   jpeg.9:${PORTSDIR}/graphics/jpeg</programlisting>
	    will check for a shared jpeg library with major version 9, and
	    descend into the <filename xmlns:xlink="http://www.w3.org/1999/xlink">graphics/jpeg</filename> subdirectory
	    of your ports tree to build and install it if it is not found.
	    The <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">target</replaceable> part can be omitted if it is
	    equal to <varname xmlns:xlink="http://www.w3.org/1999/xlink">DEPENDS_TARGET</varname> (which defaults to
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">install</literal>).</para>

	  <note xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">The <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">lib</replaceable> part is a regular
	      expression which is being looked up in the
	      <command xmlns:xlink="http://www.w3.org/1999/xlink">ldconfig -r</command> output.  Values such as
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">intl.[5-7]</literal> and <literal xmlns:xlink="http://www.w3.org/1999/xlink">intl</literal> are
	      allowed.  The first pattern,
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">intl.[5-7]</literal>, will match any of:
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">intl.5</literal>, <literal xmlns:xlink="http://www.w3.org/1999/xlink">intl.6</literal> or
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">intl.7</literal>.  The second pattern,
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">intl</literal>, will match any version of the
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">intl</literal> library.</para>
	  </note>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">The dependency is checked twice, once from within the
	    <buildtarget>extract</buildtarget> target and then from within the
	    <buildtarget>install</buildtarget> target.  Also, the name of the
	    dependency is put into the package so that
	    <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pkg_add</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> will automatically install it if it is
	    not on the user's system.</para>
	</sect2>

	<sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">RUN_DEPENDS</varname></title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">This variable specifies executables or files this port depends
	    on during run-time.  It is a list of
	    <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">path</replaceable>:<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">dir</replaceable><optional xmlns:xlink="http://www.w3.org/1999/xlink">:target</optional>
	    tuples where <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">path</replaceable> is the name of the
	    executable or file, <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">dir</replaceable> is the
	    directory in which to find it in case it is not available, and
	    <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">target</replaceable> is the target to call in that
	    directory.  If <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">path</replaceable> starts with a slash
	    (<literal xmlns:xlink="http://www.w3.org/1999/xlink">/</literal>), it is treated as a file and its existence
	    is  tested with <command xmlns:xlink="http://www.w3.org/1999/xlink">test -e</command>; otherwise, it is
	    assumed to be an executable, and <command xmlns:xlink="http://www.w3.org/1999/xlink">which -s</command> is
	    used to determine if the program exists in the search path.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">For example,</para>

	    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">RUN_DEPENDS=   ${LOCALBASE}/etc/innd:${PORTSDIR}/news/inn \
	       xmlcatmgr:${PORTSDIR}/textproc/xmlcatmgr</programlisting>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">will check if the file or directory
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/etc/innd</filename> exists, and build and
	    install it from the <filename xmlns:xlink="http://www.w3.org/1999/xlink">news/inn</filename> subdirectory of
	    the ports tree if it is not found.  It will also see if an
	    executable called <command xmlns:xlink="http://www.w3.org/1999/xlink">xmlcatmgr</command> is in the search
	    path, and descend into the <filename xmlns:xlink="http://www.w3.org/1999/xlink">textproc/xmlcatmgr</filename>
	    subdirectory of your ports tree to build and install it if it is
	    not found.</para>

	  <note xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">In this case, <command xmlns:xlink="http://www.w3.org/1999/xlink">innd</command> is actually an
	      executable; if an executable is in a place that is not expected
	      to be in the search path, you should use the full
	      pathname.</para>
	  </note>

	  <note xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">The official search <envar xmlns:xlink="http://www.w3.org/1999/xlink">PATH</envar> used on the ports
	      build cluster is</para>

	    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">/sbin:/bin:/usr/sbin:/usr/bin:/usr/local/sbin:/usr/local/bin:/usr/X11R6/bin</programlisting>
	  </note>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">The dependency is checked from within the
	    <buildtarget>install</buildtarget> target.  Also, the name of the
	    dependency is put into the  package so that
	    <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pkg_add</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> will automatically install it if it is
	    not on the user's system.  The <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">target</replaceable>
	    part can be omitted if it is the same as
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">DEPENDS_TARGET</varname>.</para>
	</sect2>

	<sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">BUILD_DEPENDS</varname></title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">This variable specifies executables or files this port
	    requires to build.  Like <varname xmlns:xlink="http://www.w3.org/1999/xlink">RUN_DEPENDS</varname>, it is a
	    list of
	    <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">path</replaceable>:<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">dir</replaceable><optional xmlns:xlink="http://www.w3.org/1999/xlink">:target</optional>
	    tuples. For example, <programlisting xmlns:xlink="http://www.w3.org/1999/xlink"> BUILD_DEPENDS=
	      unzip:${PORTSDIR}/archivers/unzip</programlisting> will check
	    for an executable called <command xmlns:xlink="http://www.w3.org/1999/xlink">unzip</command>, and descend
	    into the <filename xmlns:xlink="http://www.w3.org/1999/xlink">archivers/unzip</filename> subdirectory of your
	    ports tree to build and install it if it is not found.</para>

	  <note xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><quote xmlns:xlink="http://www.w3.org/1999/xlink">build</quote> here means everything from extraction to
	      compilation.  The dependency is checked from within the
	      <buildtarget>extract</buildtarget> target.  The
	      <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">target</replaceable> part can be omitted if it is
	      the same as <varname xmlns:xlink="http://www.w3.org/1999/xlink">DEPENDS_TARGET</varname></para>
	  </note>
	</sect2>

	<sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">FETCH_DEPENDS</varname></title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">This variable specifies executables or files this port
	    requires to fetch.  Like the previous two, it is a list of
	    <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">path</replaceable>:<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">dir</replaceable><optional xmlns:xlink="http://www.w3.org/1999/xlink">:target</optional>
	    tuples.  For example, <programlisting xmlns:xlink="http://www.w3.org/1999/xlink"> FETCH_DEPENDS=
	      ncftp2:${PORTSDIR}/net/ncftp2</programlisting> will check for an
	    executable called <command xmlns:xlink="http://www.w3.org/1999/xlink">ncftp2</command>, and descend into the
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">net/ncftp2</filename> subdirectory of your ports tree to
	    build and install it if it is not found.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">The dependency is checked from within the
	    <buildtarget>fetch</buildtarget> target.  The
	    <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">target</replaceable> part can be omitted if it is the
	    same as <varname xmlns:xlink="http://www.w3.org/1999/xlink">DEPENDS_TARGET</varname>.</para>
	</sect2>

	<sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">EXTRACT_DEPENDS</varname></title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">This variable specifies executables or files this port
	    requires for extraction.  Like the previous, it is a list of
	    <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">path</replaceable>:<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">dir</replaceable><optional xmlns:xlink="http://www.w3.org/1999/xlink">:target</optional>
	    tuples.  For example, <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">EXTRACT_DEPENDS=
	      unzip:${PORTSDIR}/archivers/unzip</programlisting> will check
	    for an executable called <command xmlns:xlink="http://www.w3.org/1999/xlink">unzip</command>, and descend
	    into the <filename xmlns:xlink="http://www.w3.org/1999/xlink">archivers/unzip</filename> subdirectory of
	    your ports tree to build and install it if it is not found.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">The dependency is checked from within the
	    <buildtarget>extract</buildtarget> target.  The
	    <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">target</replaceable> part can be omitted if it is the
	    same as <varname xmlns:xlink="http://www.w3.org/1999/xlink">DEPENDS_TARGET</varname>.</para>

	  <note xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">Use this variable only if the extraction does not already
	      work (the default assumes <command xmlns:xlink="http://www.w3.org/1999/xlink">gzip</command>) and cannot
	      be made to work using <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_ZIP</varname> or
	      <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_BZIP2</varname> described in <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="use-vars"/>.</para>
	  </note>
	</sect2>

	<sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PATCH_DEPENDS</varname></title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">This variable specifies executables or files this port
	    requires to patch.  Like the previous, it is a list of
	    <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">path</replaceable>:<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">dir</replaceable><optional xmlns:xlink="http://www.w3.org/1999/xlink">:target</optional>
	    tuples.  For example, <programlisting xmlns:xlink="http://www.w3.org/1999/xlink"> PATCH_DEPENDS=
	      ${NONEXISTENT}:${PORTSDIR}/java/jfc:extract
		</programlisting>will descend into the
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">java/jfc</filename> subdirectory of your ports tree to
	    extract it.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">The dependency is checked from within the
	    <buildtarget>patch</buildtarget> target.  The
	    <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">target</replaceable> part can be omitted if it is the
	    same as <varname xmlns:xlink="http://www.w3.org/1999/xlink">DEPENDS_TARGET</varname>.</para>
	</sect2>

	<sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="use-vars">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">*</replaceable></varname></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">A number of variables exist in order to encapsulate common
	  dependencies that many ports have.  Although their use is
	  optional, they can help to reduce the verbosity of the port
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>s.  Each of them is styled
	  as <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">*</replaceable></varname>.  The
	  usage of these variables is restricted to the port
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>s and
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">ports/Mk/bsd.*.mk</filename> and is not designed
	  to encapsulate user-settable options —— use
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">WITH_<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">*</replaceable></varname> and
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">WITHOUT_<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">*</replaceable></varname>
	  for that purpose.</para>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">It is <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">always</emphasis> incorrect to set
	    any <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">*</replaceable></varname>
	    in <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/make.conf</filename>.  For instance,
	    setting <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">USE_GCC=3.2</programlisting>
	    would adds a dependency on gcc32 for every port,
	    including gcc32 itself!</para>
	</note>

	<table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">The <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">*</replaceable></varname>
	    variables</title>

	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	    <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Variable</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Means</entry>
	      </row>
	    </thead>

	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_BZIP2</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">The port's tarballs are compressed with
		  <command xmlns:xlink="http://www.w3.org/1999/xlink">bzip2</command>.</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_ZIP</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">The port's tarballs are compressed with
		  <command xmlns:xlink="http://www.w3.org/1999/xlink">zip</command>.</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_BISON</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">The port uses <command xmlns:xlink="http://www.w3.org/1999/xlink">bison</command> for
		  building.</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_CDRTOOLS</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">該 port 需要 <application xmlns:xlink="http://www.w3.org/1999/xlink">cdrecord</application>，
		  無論是 <package xmlns:xlink="http://www.w3.org/1999/xlink">sysutils/cdrtools</package> 或 <package xmlns:xlink="http://www.w3.org/1999/xlink">sysutils/cdrtools-cjk</package> 哪一種的
		  <application xmlns:xlink="http://www.w3.org/1999/xlink">cdrecord</application> 皆可，視使用者偏好而定
		  。</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_GCC</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">The port requires a specific version of
		  <command xmlns:xlink="http://www.w3.org/1999/xlink">gcc</command> to build.  The exact version can be
		  specified with value such as <literal xmlns:xlink="http://www.w3.org/1999/xlink">3.2</literal>.
		  The minimal required version can be specified as
		  <literal xmlns:xlink="http://www.w3.org/1999/xlink">3.2+</literal>.  The <command xmlns:xlink="http://www.w3.org/1999/xlink">gcc</command> from
		  the base system is used when it satisfies the requested
		  version, otherwise an appropriate <command xmlns:xlink="http://www.w3.org/1999/xlink">gcc</command> is
		  compiled from ports and the <varname xmlns:xlink="http://www.w3.org/1999/xlink">CC</varname> and
		  <varname xmlns:xlink="http://www.w3.org/1999/xlink">CXX</varname> variables are adjusted.</entry>
	      </row>

	    </tbody>
	  </tgroup>
	</table>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Variables related to <application xmlns:xlink="http://www.w3.org/1999/xlink">gmake</application> and
	    the <filename xmlns:xlink="http://www.w3.org/1999/xlink">configure</filename> script are described in
	    <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="building"/>, while
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">autoconf</application>,
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">automake</application> and
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">libtool</application> are described in
	    <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="using-autotools"/>.  <application xmlns:xlink="http://www.w3.org/1999/xlink">Perl</application>
	    related variables are described in <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="using-perl"/>.
	    X11 variables are listed in <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="using-x11"/>.  <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="using-gnome"/> deals with GNOME and <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="using-kde"/> with KDE related variables.  <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="using-java"/> documents Java variables, while <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="using-php"/> contains information on
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">Apache</application>, <application xmlns:xlink="http://www.w3.org/1999/xlink">PHP</application>
	    and PEAR modules.  <application xmlns:xlink="http://www.w3.org/1999/xlink">Python</application> is discussed
	    in <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="using-python"/>, while
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">Ruby</application> in <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="using-ruby"/>.
	    <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="using-sdl"/> provides variables used for
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">SDL</application> applications and finally,
	    <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="using-xfce"/> contains information on
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">Xfce</application>.</para>

	</sect2>

	<sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">Minimal version of a dependency</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">A minimal version of a dependency can be specified in any
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">*_DEPENDS</varname> variable except
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">LIB_DEPENDS</varname> using the following
	    syntax:</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">p5-Spiffy&gt;=0.26:${PORTSDIR}/devel/p5-Spiffy</programlisting>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">The first field contains a dependent package name,
	    which must match the entry in the package database,
	    a comparison sign, and a package version.  The dependency
	    is satisfied if p5-Spiffy-0.26 or newer is installed on
	    the machine.</para>
	</sect2>

	<sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">Notes on dependencies</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">As mentioned above, the default target to call when a
	    dependency is required is <buildtarget>DEPENDS_TARGET</buildtarget>.
	    It defaults to <literal xmlns:xlink="http://www.w3.org/1999/xlink">install</literal>.  This is a user
	    variable; it is never defined in a port's
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>.  If your port needs a special way
	    to handle a dependency, use the <literal xmlns:xlink="http://www.w3.org/1999/xlink">:target</literal> part of
	    the <varname xmlns:xlink="http://www.w3.org/1999/xlink">*_DEPENDS</varname> variables instead of redefining
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">DEPENDS_TARGET</varname>.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">When you type <command xmlns:xlink="http://www.w3.org/1999/xlink">make clean</command>, its dependencies
	    are automatically cleaned too.  If you do not wish this to happen,
	    define the variable <varname xmlns:xlink="http://www.w3.org/1999/xlink">NOCLEANDEPENDS</varname> in your
	    environment.  This may be particularly desirable if the port
	    has something that takes a long time to rebuild in its
	    dependency list, such as KDE, GNOME or Mozilla.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">To depend on another port unconditionally, use the
	    variable <varname xmlns:xlink="http://www.w3.org/1999/xlink">${NONEXISTENT}</varname> as the first field
	    of <varname xmlns:xlink="http://www.w3.org/1999/xlink">BUILD_DEPENDS</varname> or
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">RUN_DEPENDS</varname>.  Use this only when you need to
	    get the source of the other port.  You can often save
	    compilation time by specifying the target too.  For
	    instance

	    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">BUILD_DEPENDS=   ${NONEXISTENT}:${PORTSDIR}/graphics/jpeg:extract</programlisting>

	    will always descend to the <literal xmlns:xlink="http://www.w3.org/1999/xlink">jpeg</literal> port and extract it.</para>
	</sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Circular dependencies are fatal</title>

	<important xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Do not introduce any circular dependencies into the
	  ports tree!</para>
	</important>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">The ports building technology does not tolerate
	  circular dependencies.  If you introduce one, you will have
	  someone, somewhere in the world, whose FreeBSD installation will
	  break almost immediately, with many others quickly to follow.
	  These can really be hard to detect; if in doubt, before
	  you make that change, make sure you have done the following:
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/ports; make index</command>.  That process
	  can be quite slow on older machines, but you may be able to
	  save a large number of people——including yourself——
	  a lot of grief in the process.</para>
      </sect2>

      </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="makefile-masterdir">
      <title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTERDIR</varname></title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">If your port needs to build slightly different versions of
	packages by having a variable (for instance, resolution, or paper
	size) take different values, create one subdirectory per package to
	make it easier for users to see what to do, but try to share as many
	files as possible between ports.  Typically you only need a very short
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> in all but one of the directories if you
	use variables cleverly.  In the sole <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>,
	you can use <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTERDIR</varname> to specify the directory
	where the rest of the files are.  Also, use a variable as part of
	<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="porting-pkgname"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGNAMESUFFIX</varname></link> so
	the packages will have different names.</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">This will be best demonstrated by an example.  This is part of
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">japanese/xdvi300/Makefile</filename>;</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">PORTNAME=       xdvi
PORTVERSION=    17
PKGNAMEPREFIX=  ja-
PKGNAMESUFFIX=  ${RESOLUTION}
 :
# default
RESOLUTION?=   300
.if ${RESOLUTION} != 118 &amp;&amp; ${RESOLUTION} != 240 &amp;&amp; \
       ${RESOLUTION} != 300 &amp;&amp; ${RESOLUTION} != 400
       @${ECHO_MSG} "Error: invalid value for RESOLUTION: \"${RESOLUTION}\""
       @${ECHO_MSG} "Possible values are: 118, 240, 300 (default) and 400."
       @${FALSE}
.endif</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><package xmlns:xlink="http://www.w3.org/1999/xlink">japanese/xdvi300</package> also has all the regular
	patches, package files, etc.  If you type <command xmlns:xlink="http://www.w3.org/1999/xlink">make</command>
	there, it will take the default value for the resolution (300) and
	build the port normally.</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">As for other resolutions, this is the <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">entire</emphasis>
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">xdvi118/Makefile</filename>:</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">RESOLUTION=     118
MASTERDIR=      ${.CURDIR}/../xdvi300

.include "${MASTERDIR}/Makefile"</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">(<filename xmlns:xlink="http://www.w3.org/1999/xlink">xdvi240/Makefile</filename> and
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">xdvi400/Makefile</filename> are similar).  The
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTERDIR</varname> definition tells
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.mk</filename> that the regular set of
	subdirectories like <varname xmlns:xlink="http://www.w3.org/1999/xlink">FILESDIR</varname> and
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">SCRIPTDIR</varname> are to be found under
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">xdvi300</filename>.  The <literal xmlns:xlink="http://www.w3.org/1999/xlink">RESOLUTION=118</literal>
	line will override the <literal xmlns:xlink="http://www.w3.org/1999/xlink">RESOLUTION=300</literal> line in
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">xdvi300/Makefile</filename> and the port will be built with
	resolution set to 118.</para>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="makefile-manpages">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Manpages</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">The <varname xmlns:xlink="http://www.w3.org/1999/xlink">MAN[1-9LN]</varname> variables will automatically add
	any manpages to <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename> (this means you must
	<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">not</emphasis> list manpages in the
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename>——see <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="plist-sub">generating PLIST</link> for more).  It also
	makes the install stage automatically compress or uncompress manpages
	depending on the setting of <varname xmlns:xlink="http://www.w3.org/1999/xlink">NOMANCOMPRESS</varname> in
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/make.conf</filename>.</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">If your port tries to install multiple names for manpages using
	symlinks or hardlinks, you must use the <varname xmlns:xlink="http://www.w3.org/1999/xlink">MLINKS</varname>
	variable to identify these.  The link installed by your port will
	be destroyed and recreated by <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.mk</filename>
	to make sure it points to the correct file.  Any manpages
	listed in MLINKS must not be listed in the
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename>.</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">To specify whether the manpages are compressed upon installation,
	use the <varname xmlns:xlink="http://www.w3.org/1999/xlink">MANCOMPRESSED</varname> variable. This variable can
	take three values, <literal xmlns:xlink="http://www.w3.org/1999/xlink">yes</literal>, <literal xmlns:xlink="http://www.w3.org/1999/xlink">no</literal> and
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">maybe</literal>. <literal xmlns:xlink="http://www.w3.org/1999/xlink">yes</literal> means manpages are
	already installed compressed, <literal xmlns:xlink="http://www.w3.org/1999/xlink">no</literal> means they are
	not, and <literal xmlns:xlink="http://www.w3.org/1999/xlink">maybe</literal> means the software already respects
	the value of <varname xmlns:xlink="http://www.w3.org/1999/xlink">NOMANCOMPRESS</varname> so
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.mk</filename> does not have to do anything
	special.</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">MANCOMPRESSED</varname> is automatically set to
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">yes</literal> if <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_IMAKE</varname> is set and
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">NO_INSTALL_MANPAGES</varname> is not set, and to
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">no</literal> otherwise.  You do not have to explicitly define
	it unless the default is not suitable for your port.</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">If your port anchors its man tree somewhere other than
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">MANPREFIX</varname>, you can use the
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">MANPREFIX</varname> to set it.  Also, if only manpages in
	certain sections go in a non-standard place, such as some <literal xmlns:xlink="http://www.w3.org/1999/xlink">perl</literal> modules
	ports, you can set individual man paths using
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">MAN<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">sect</replaceable>PREFIX</varname> (where
	<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">sect</replaceable> is one of <literal xmlns:xlink="http://www.w3.org/1999/xlink">1-9</literal>,
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">L</literal> or <literal xmlns:xlink="http://www.w3.org/1999/xlink">N</literal>).</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">If your manpages go to language-specific subdirectories, set the
	name of the languages to <varname xmlns:xlink="http://www.w3.org/1999/xlink">MANLANG</varname>.  The value of
	this variable defaults to <literal xmlns:xlink="http://www.w3.org/1999/xlink">""</literal> (i.e., English
	only).</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Here is an example that puts it all together.</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">MAN1=          foo.1
MAN3=          bar.3
MAN4=          baz.4
MLINKS=        foo.1 alt-name.8
MANLANG=       "" ja
MAN3PREFIX=    ${PREFIX}/share/foobar
MANCOMPRESSED= yes</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">This states that six files are installed by this port;</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">${MANPREFIX}/man/man1/foo.1.gz
${MANPREFIX}/man/ja/man1/foo.1.gz
${PREFIX}/share/foobar/man/man3/bar.3.gz
${PREFIX}/share/foobar/man/ja/man3/bar.3.gz
${MANPREFIX}/man/man4/baz.4.gz
${MANPREFIX}/man/ja/man4/baz.4.gz</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Additionally <filename xmlns:xlink="http://www.w3.org/1999/xlink">${MANPREFIX}/man/man8/alt-name.8.gz</filename>
	may or may not be installed by your port.  Regardless, a
	symlink will be made to join the foo(1) manpage and
	alt-name(8) manpage.</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">If only some manpages are translated, you can use several variables
	dynamically created from <varname xmlns:xlink="http://www.w3.org/1999/xlink">MANLANG</varname> content:</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">MANLANG=       "" de ja
MAN1=          foo.1
MAN1_EN=       bar.1
MAN3_DE=       baz.3</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">This translates into this list of files:</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">${MANPREFIX}/man/man1/foo.1.gz
${MANPREFIX}/man/de/man1/foo.1.gz
${MANPREFIX}/man/ja/man1/foo.1.gz
${MANPREFIX}/man/man1/bar.1.gz
${MANPREFIX}/man/de/man3/baz.3.gz</programlisting>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="makefile-info">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Info files</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">If your package needs to install GNU info files, they should be
	listed in the <varname xmlns:xlink="http://www.w3.org/1999/xlink">INFO</varname> variable (without the trailing
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">.info</literal>), one entry per document.  These files
	are assumed to be installed to
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX/INFO_PATH</filename>.
	You can change <varname xmlns:xlink="http://www.w3.org/1999/xlink">INFO_PATH</varname> if your package uses
	a different location.  However, this is not recommended.  These entries
	contain just the path relative to
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX/INFO_PATH</filename>.
	For example, <package xmlns:xlink="http://www.w3.org/1999/xlink">lang/gcc33</package> installs
	info files to
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX/INFO_PATH/gcc33</filename>,
	and <varname xmlns:xlink="http://www.w3.org/1999/xlink">INFO</varname> will be something like this:
	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">INFO= gcc33/cpp gcc33/cppinternals gcc33/g77 ...
</programlisting>
	Appropriate installation/de-installation code will be automatically
	added to the temporary <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename> before package
	registration.</para>
    </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="makefile-options">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Makefile Options</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Some large applications can be built in a number of
	configurations, adding functionality if one of a number of
	libraries or applications is available.  Examples include
	choice of natural (human) language, GUI versus command-line,
	or type of database to support.  Since not all users
	want those libraries or applications, the ports system
	provides hooks that the port author can use to control which
	configuration should be built. Supporting these properly will
	make users happy, and effectively provide 2 or more ports for the
	price of one.</para>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">Knobs</title>

	<sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">WITH_<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">*</replaceable></varname> and
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">WITHOUT_<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">*</replaceable></varname></title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">These variables are designed to be set by the system
	    administrator.  There are many that are standardized in
	    <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.freebsd.org/cgi/cvsweb.cgi/ports/KNOBS?rev=HEAD&amp;content-type=text/x-cvsweb-markup"><filename xmlns:xlink="http://www.w3.org/1999/xlink">ports/KNOBS</filename></link>
	    file.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">When creating a port, do not make knob names specific to a
	    given application.  For example in Avahi port, use
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">WITHOUT_MDNS</varname> instead of
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">WITHOUT_AVAHI_MDNS</varname>.</para>

	  <note xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">You should not assume that a
	      <varname xmlns:xlink="http://www.w3.org/1999/xlink">WITH_<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">*</replaceable></varname>
	      necessarily has a corresponding
	      <varname xmlns:xlink="http://www.w3.org/1999/xlink">WITHOUT_<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">*</replaceable></varname>
	      variable and vice versa.  In general, the default is
	      simply assumed.</para>
	  </note>

	  <note xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">Unless otherwise specified, these variables are only
	      tested for being set or not set, rather than being set to
	      some kind of variable such as <literal xmlns:xlink="http://www.w3.org/1999/xlink">YES</literal> or
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">NO</literal>.</para>
	  </note>

	  <table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	    <title xmlns:xlink="http://www.w3.org/1999/xlink">Common <varname xmlns:xlink="http://www.w3.org/1999/xlink">WITH_<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">*</replaceable></varname>
	      and <varname xmlns:xlink="http://www.w3.org/1999/xlink">WITHOUT_<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">*</replaceable></varname>
	      variables</title>

	    <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	      <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	        <row xmlns:xlink="http://www.w3.org/1999/xlink">
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">Variable</entry>

		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">Means</entry>
	        </row>
	      </thead>

	      <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	        <row xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="knobs-without-nls">
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">WITHOUT_NLS</varname></entry>

		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">If set, says that internationalization is not
		    needed, which can save compile time.  By default,
		    internationalization is used.</entry>
	        </row>

	        <row xmlns:xlink="http://www.w3.org/1999/xlink">
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">WITH_OPENSSL_BASE</varname></entry>

		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">Use the version of OpenSSL in the base system.</entry>
	        </row>

	        <row xmlns:xlink="http://www.w3.org/1999/xlink">
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">WITH_OPENSSL_PORT</varname></entry>

		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">Installs the version of OpenSSL from
		    <package xmlns:xlink="http://www.w3.org/1999/xlink">security/openssl</package>,
		    even if the base is up to date.</entry>
	        </row>

	        <row xmlns:xlink="http://www.w3.org/1999/xlink">
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">WITHOUT_X11</varname></entry>

		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">If the port can be built both with and without
		    X support, then it should normally be built with
		    X support. If this variable is defined, then
		    the version that does not have X support should
		    be built instead.</entry>
	        </row>
	      </tbody>
	    </tgroup>
	  </table>

	</sect3>

	<sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">Knob naming</title>
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">It is recommended that porters use like-named knobs, for the
	      benefit of end-users and to help keep the number of knob names down.
	      A list of popular knob names can be found in the
	      <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.freebsd.org/cgi/cvsweb.cgi/ports/KNOBS?rev=HEAD&amp;content-type=text/x-cvsweb-markup">KNOBS</link>
	      file.</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">Knob names should reflect what the knob is and does.
	      When a port has a lib-prefix in the <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTNAME</varname>
	      the lib-prefix should be dropped in knob naming.</para>

	</sect3>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">OPTIONS</varname></title>

	<sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">Background</title>
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">The <varname xmlns:xlink="http://www.w3.org/1999/xlink">OPTIONS</varname> variable gives the user who
	      installs the port a dialog with the available options and saves
	      them to <filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/db/ports/portname/options</filename>.
	      Next time when the port has to be rebuild, the options are reused.
	      Never again you will have to remember all the twenty
	      <varname xmlns:xlink="http://www.w3.org/1999/xlink">WITH_<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">*</replaceable></varname> and
	      <varname xmlns:xlink="http://www.w3.org/1999/xlink">WITHOUT_<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">*</replaceable></varname> options you
	      used to build this port!</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">When the user runs <command xmlns:xlink="http://www.w3.org/1999/xlink">make config</command> (or runs
	      <command xmlns:xlink="http://www.w3.org/1999/xlink">make build</command> for the first time), the framework will
	      check for
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/db/ports/portname/options</filename>.
	      If that file does not exist, it will use the values of
	      <varname xmlns:xlink="http://www.w3.org/1999/xlink">OPTIONS</varname> to create a dialogbox where the options
	      can be enabled or disabled.  Then the
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">options</filename> file is saved and the selected
	      variables will be used when building the port.</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">If a new version of the port adds new
	      <varname xmlns:xlink="http://www.w3.org/1999/xlink">OPTIONS</varname>, the dialog will be presented to the
	      user, with the saved values of old <varname xmlns:xlink="http://www.w3.org/1999/xlink">OPTIONS</varname>
	      prefilled.</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">Use <command xmlns:xlink="http://www.w3.org/1999/xlink">make showconfig</command> to see the saved
	      configuration.  Use <command xmlns:xlink="http://www.w3.org/1999/xlink">make rmconfig</command> to remove the
	      saved configuration.</para>
	</sect3>

	<sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">Syntax</title>
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">The syntax for the <varname xmlns:xlink="http://www.w3.org/1999/xlink">OPTIONS</varname> variable is:

<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">OPTIONS=	OPTION	"descriptive text" default ...
</programlisting>

	      The value for default is either <literal xmlns:xlink="http://www.w3.org/1999/xlink">ON</literal> or
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">OFF</literal>.  Multiple repetitions of these three fields
	      are allowed.</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">OPTIONS</varname> definition must appear before
	      the inclusion of <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.pre.mk</filename>.
	      The <varname xmlns:xlink="http://www.w3.org/1999/xlink">WITH_*</varname> and <varname xmlns:xlink="http://www.w3.org/1999/xlink">WITHOUT_*</varname>
	      variables can only be tested after the inclusion of
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.pre.mk</filename>.</para>
	</sect3>

	<sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">Example</title>
	  <example xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ports-options-simple-use">
	    <title xmlns:xlink="http://www.w3.org/1999/xlink">Simple use of <varname xmlns:xlink="http://www.w3.org/1999/xlink">OPTIONS</varname></title>
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><programlisting xmlns:xlink="http://www.w3.org/1999/xlink">OPTIONS=      FOO "Enable option foo" On \
              BAR "Support feature bar" Off

.include &lt;bsd.port.pre.mk&gt;

.if defined(WITHOUT_FOO)
CONFIGURE_ARGS+=	--without-foo
.else
CONFIGURE_ARGS+=	--with-foo
.endif

.if defined(WITH_BAR)
RUN_DEPENDS+=	bar:${PORTSDIR}/bar/bar
.endif

.include &lt;bsd.port.post.mk&gt;</programlisting></para>
	  </example>
	</sect3>

      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Feature auto-activation</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">When using a GNU configure script, keep an eye on which optional
	  features are activated by auto-detection.  Explicitly disable
	  optional features you do not wish to be used by passing respective
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">--without-xxx</literal> or <literal xmlns:xlink="http://www.w3.org/1999/xlink">--disable-xxx</literal>
	  in <varname xmlns:xlink="http://www.w3.org/1999/xlink">CONFIGURE_ARGS</varname>.</para>

	<example xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">Wrong handling of an option</title>
	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">.if defined(WITH_FOO)
LIB_DEPENDS+=          foo.0:${PORTSDIR}/devel/foo
CONFIGURE_ARGS+=       --enable-foo
.endif</programlisting>
	</example>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">In the example above, imagine a library libfoo is installed on
	  the system.  User does not want this application to use libfoo, so he
	  toggled the option off in the <literal xmlns:xlink="http://www.w3.org/1999/xlink">make config</literal> dialog.
	  But the application's configure script detects the library present in
	  the system and includes its support in the resulting executable.  Now
	  when user decides to remove libfoo from the system, the ports system
	  does not protest (no dependency on libfoo was recorded) but the
	  application breaks.</para>

	<example xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">Correct handling of an option</title>
	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">.if defined(WITH_FOO)
LIB_DEPENDS+=          foo.0:${PORTSDIR}/devel/foo
CONFIGURE_ARGS+=       --enable-foo
.else
CONFIGURE_ARGS+=       --disable-foo
.endif</programlisting>
	</example>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">In the second example, the library libfoo is explicitly disabled.
	  The configure script does not enable related features in the
	  application, despite library's presence in the system.</para>
      </sect2>

    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="makefile-wrkdir">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Specifying the working directory</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Each port is extracted in to a working directory, which must be
	writable.  The ports system defaults to having the
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES</varname> unpack in to a directory called
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">${DISTNAME}</literal>.  In other words, if you have
	set:</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">PORTNAME=      foo
PORTVERSION=   1.0</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">then the port's distribution files contain a top-level directory,
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">foo-1.0</filename>, and the rest of the files are located
	under that directory.</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">There are a number of variables you can override if that is not the
	case.</para>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">WRKSRC</varname></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">The variable lists the name of the directory that is created when
	  the application's distfiles are extracted.  If our previous example
	  extracted into a directory called <filename xmlns:xlink="http://www.w3.org/1999/xlink">foo</filename> (and not
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">foo-1.0</filename>) you would write:</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">WRKSRC=      ${WRKDIR}/foo</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">or possibly</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">WRKSRC=      ${WRKDIR}/${PORTNAME}</programlisting>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">NO_WRKSUBDIR</varname></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">If the port does not extract in to a subdirectory at all then
	  you should set <varname xmlns:xlink="http://www.w3.org/1999/xlink">NO_WRKSUBDIR</varname> to indicate
	  that.</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">NO_WRKSUBDIR= yes</programlisting>
      </sect2>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="conflicts">
      <title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">CONFLICTS</varname></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">If your package cannot coexist with other packages
	  (because of file conflicts, runtime incompatibility, etc.),
	  list the other package names in the <varname xmlns:xlink="http://www.w3.org/1999/xlink">CONFLICTS</varname>
	  variable. You can use shell globs like <literal xmlns:xlink="http://www.w3.org/1999/xlink">*</literal> and
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">?</literal> here.  Packages names should be
	  enumerated the same way they appear in
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/db/pkg</filename>.  Please make sure that
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">CONFLICTS</varname> does not match this port's
	  package itself, or else forcing its installation with
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">FORCE_PKG_REGISTER</varname> will no longer work.
       </para>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">CONFLICTS</varname> automatically sets
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">IGNORE</varname>, which is more fully documented
	  in <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="dads-noinstall"/>.</para>
      </note>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">When removing one of several conflicting ports, it is advisable to
	retain the <varname xmlns:xlink="http://www.w3.org/1999/xlink">CONFLICTS</varname> entries in those other ports
	for a few months to cater for users who only update once in a
	while.</para>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="install">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Installing files</title>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="install-macros">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">INSTALL_* macros</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Do use the macros provided in <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.mk</filename>
	  to ensure correct modes and ownership of files in your own
	  <buildtarget>*-install</buildtarget> targets.</para>

	<itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">INSTALL_PROGRAM</varname> is a command to install
	      binary executables.</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">INSTALL_SCRIPT</varname> is a command to install
	      executable scripts.</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">INSTALL_KLD</varname> is a command to install
	      kernel loadable modules. Some architectures don't like it when
	      the modules are stripped, therefor use this command instead
	      of <varname xmlns:xlink="http://www.w3.org/1999/xlink">INSTALL_PROGRAM</varname>.</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">INSTALL_DATA</varname> is a command to install
	      sharable data.</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">INSTALL_MAN</varname> is a command to install
	      manpages and other documentation (it does not compress
	      anything).</para>
	  </listitem>
	</itemizedlist>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">These are basically the <command xmlns:xlink="http://www.w3.org/1999/xlink">install</command> command with
	  all the appropriate flags.</para>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="install-strip">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Stripping Binaries</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Do not strip binaries manually unless you have to.  All binaries
	  should be stripped, but the <buildtarget>INSTALL_PROGRAM</buildtarget>
	  macro will install and strip a binary at the same time (see the next
	  section).</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">If you need to strip a file, but do not wish to use the
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">INSTALL_PROGRAM</varname> macro,
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">${STRIP_CMD}</varname> will strip your program.  This is
	  typically done within the <literal xmlns:xlink="http://www.w3.org/1999/xlink">post-install</literal>
	  target.  For example:</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">post-install:
	${STRIP_CMD} ${PREFIX}/bin/xdl</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Use the <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">file</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> command on the installed executable to
	  check whether the binary is stripped or not.  If it does not say
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">not stripped</literal>, it is stripped.  Additionally,
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">strip</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> will not strip a previously stripped program; it
	  will instead exit cleanly.</para>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="install-copytree">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Installing a whole tree of files</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Sometimes, there is a need to install a big number of files,
	  preserving their hierarchical organization, ie. copying over a whole
	  directory tree from <varname xmlns:xlink="http://www.w3.org/1999/xlink">WRKSRC</varname> to a target directory
	  under <varname xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX</varname>.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Two macros exists for this situation.  The advantage of using
	  these macros instead of <command xmlns:xlink="http://www.w3.org/1999/xlink">cp</command> is that they guarantee
	  proper file ownership and permissions on target files.  First macro,
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">COPYTREE_BIN</varname>, will set all the installed files to
	  be executable, thus being suitable for installing into
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX/bin</filename>.  The second
	  macro, <varname xmlns:xlink="http://www.w3.org/1999/xlink">COPYTREE_SHARE</varname>, does not set executable
	  permissions on files, and is therefore suitable for installing files
	  under <filename xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX/share</filename>
	  target.</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">post-install:
	${MKDIR} ${EXAMPLESDIR}
	(cd ${WRKSRC}/examples/ &amp;&amp; ${COPYTREE_SHARE} \* ${EXAMPLESDIR})</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">This example will install the contents of
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">examples</filename> directory in the vendor distfile to the
	  proper examples location of your port.</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">post-install:
	${MKDIR} ${DATADIR}/summer
	(cd ${WRKSRC}/temperatures/ &amp;&amp; ${COPYTREE_SHARE} "June July August" ${DATADIR}/summer/)</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">And this example will install the data of summer months to the
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">summer</filename> subdirectory of a
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">DATADIR</filename>.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Additional <command xmlns:xlink="http://www.w3.org/1999/xlink">find</command> arguments can be passed via
	  the third argument to the <varname xmlns:xlink="http://www.w3.org/1999/xlink">COPYTREE_*</varname> macros.
	  For example, to install all files from the first example except
	  Makefiles, one can use the following command.</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">post-install:
	${MKDIR} ${EXAMPLESDIR}
	(cd ${WRKSRC}/examples/ &amp;&amp; \
		${COPYTREE_SHARE} \* ${EXAMPLESDIR} "! -name Makefile")</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Note that these macros does not add the installed files to
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename>.  You still need to list them.</para>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="install-documentation">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Install additional documentation</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">If your software has some documentation other than the standard
	  man and info pages that you think is useful for the user, install it
	  under <filename xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX/share/doc</filename>.
	  This can be done, like the previous item, in the
	  <buildtarget>post-install</buildtarget> target.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Create a new directory for your port.  The directory name should
	  reflect what the port is.  This usually means
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTNAME</varname>. However, if you
	  think the user might want different versions of the port to be
	  installed at the same time, you can use the whole
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGNAME</varname>.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Make the installation dependent on the variable
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">NOPORTDOCS</varname> so that users can disable it in
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/make.conf</filename>, like this:</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">post-install:
.if !defined(NOPORTDOCS)
       ${MKDIR} ${DOCSDIR}
       ${INSTALL_MAN} ${WRKSRC}/docs/xvdocs.ps ${DOCSDIR}
.endif</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Here are some handy variables and how they are expanded
	  by default when used
	  in the <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>:</para>

	<itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">DATADIR</varname> gets expanded to
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX/share/PORTNAME</filename>.</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">DATADIR_REL</varname> gets expanded to
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">share/PORTNAME</filename>.</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">DOCSDIR</varname> gets expanded to
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX/share/doc/PORTNAME</filename>.</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">DOCSDIR_REL</varname> gets expanded to
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">share/doc/PORTNAME</filename>.</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">EXAMPLESDIR</varname> gets expanded to
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX/share/examples/PORTNAME</filename>.</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">EXAMPLESDIR_REL</varname> gets expanded to
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">share/examples/PORTNAME</filename>.</para>
	  </listitem>
	</itemizedlist>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">NOPORTDOCS</varname> only controls additional
	    documentation installed in <varname xmlns:xlink="http://www.w3.org/1999/xlink">DOCSDIR</varname>.  It does not
	    apply to standard man pages and info pages.  Things installed in
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">DATADIR</varname> and <varname xmlns:xlink="http://www.w3.org/1999/xlink">EXAMPLESDIR</varname>
	    are controlled by <varname xmlns:xlink="http://www.w3.org/1999/xlink">NOPORTDATA</varname> and
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">NOPORTEXAMPLES</varname>, respectively.</para>
	</note>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">These variables are exported to <varname xmlns:xlink="http://www.w3.org/1999/xlink">PLIST_SUB</varname>.
	  Their values will appear there as pathnames relative to
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX</filename> if possible.
	  That is, <filename xmlns:xlink="http://www.w3.org/1999/xlink">share/doc/PORTNAME</filename>
	  will be substituted for <literal xmlns:xlink="http://www.w3.org/1999/xlink">%%DOCSDIR%%</literal>
	  in the packing list by default, and so on.
	  (See more on <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename> substitution
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="plist-sub">here</link>.)</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">All conditionally installed documentation files and directories should
	  be included in <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename> with the
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">%%PORTDOCS%%</literal> prefix, for example:</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">%%PORTDOCS%%%%DOCSDIR%%/AUTHORS
%%PORTDOCS%%%%DOCSDIR%%/CONTACT
%%PORTDOCS%%@dirrm %%DOCSDIR%%</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">As an alternative to enumerating the documentation files
	  in <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename>, a port can set the variable
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTDOCS</varname> to a list of file names and shell
	  glob patterns to add to the final packing list.
	  The names will be relative to <varname xmlns:xlink="http://www.w3.org/1999/xlink">DOCSDIR</varname>.
	  Therefore, a port that utilizes <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTDOCS</varname> and
	  uses a non-default location for its documentation should set
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">DOCSDIR</varname> accordingly.
	  If a directory is listed in <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTDOCS</varname>
	  or matched by a glob pattern from this variable,
	  the entire subtree of contained files and directories will be
	  registered in the final packing list. If <varname xmlns:xlink="http://www.w3.org/1999/xlink">NOPORTDOCS</varname>
	  is defined then files and directories listed in
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTDOCS</varname> would not be installed and neither
	  would be added to port packing list.
	  Installing the documentation at <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTDOCS</varname>
	  as shown above remains up to the port itself.
	  A typical example of utilizing <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTDOCS</varname>
	  looks as follows:</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">PORTDOCS=       README.* ChangeLog docs/*</programlisting>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">The equivalents of <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTDOCS</varname> for files
	    installed under <varname xmlns:xlink="http://www.w3.org/1999/xlink">DATADIR</varname> and
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">EXAMPLESDIR</varname> are <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTDATA</varname>
	    and <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTEXAMPLES</varname>, respectively.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">You can also use the <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-message</filename> file to
	    display messages upon installation.  See <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="porting-message">the section on using
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-message</filename></link> for details.
	    The <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-message</filename> file does not need to be
	    added to <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename>.</para>
	</note>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="install-subdirs">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Subdirectories under PREFIX</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Try to let the port put things in the right subdirectories of
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX</varname>.  Some ports lump everything and put it in
	  the subdirectory with the port's name, which is incorrect.  Also,
	  many ports put everything except binaries, header files and manual
	  pages in a subdirectory of <filename xmlns:xlink="http://www.w3.org/1999/xlink">lib</filename>, which does
	  not work well with the BSD paradigm.  Many of the files should be
	  moved to one of the following: <filename xmlns:xlink="http://www.w3.org/1999/xlink">etc</filename>
	  (setup/configuration files), <filename xmlns:xlink="http://www.w3.org/1999/xlink">libexec</filename>
	  (executables started internally), <filename xmlns:xlink="http://www.w3.org/1999/xlink">sbin</filename>
	  (executables for superusers/managers), <filename xmlns:xlink="http://www.w3.org/1999/xlink">info</filename>
	  (documentation for info browser) or  <filename xmlns:xlink="http://www.w3.org/1999/xlink">share</filename>
	  (architecture independent files).  See <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">hier</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">7</manvolnum></citerefentry> for details;
	  the rules governing
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr</filename> pretty much apply to
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local</filename> too.  The exception are ports
	  dealing with USENET <quote xmlns:xlink="http://www.w3.org/1999/xlink">news</quote>.  They may use
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX/news</filename> as a destination
	  for their files.</para>
      </sect2>

    </sect1>

    </chapter>

    <chapter xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="special">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Special considerations</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">There are some more things you have to take into account when you
	create a port.  This section explains the most common of those.</para>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-shlibs">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Shared Libraries</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">If your port installs one or more shared libraries, define a
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_LDCONFIG</varname> make variable, which will instruct
	  a <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.mk</filename> to run
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">${LDCONFIG} -m</literal> on the directory where the
	  new library is installed (usually
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX/lib</filename>) during
	  <buildtarget>post-install</buildtarget> target to register it into the
	  shared library cache.  This variable, when defined, will also
	  facilitate addition of an appropriate
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">@exec /sbin/ldconfig -m</literal> and
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">@unexec /sbin/ldconfig -R</literal> pair into your
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename> file, so that a user who installed
	  the package can start using the shared library immediately and
	  de-installation will not cause the system to still believe the
	  library is there.</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">USE_LDCONFIG= yes</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">If you need, you can override the default directory
	  by setting the <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_LDCONFIG</varname>
	  value to a list of directories into which
	  shared libraries are to be installed.  For example if your port
	  installs shared libraries into
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX/lib/foo</filename> and
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX/lib/bar</filename> directories
	  you could use the following in your
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>:</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">USE_LDCONFIG= ${PREFIX}/lib/foo ${PREFIX}/lib/bar</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Please
	  double-check, often this is not necessary at all or can be avoided
	  through <literal xmlns:xlink="http://www.w3.org/1999/xlink">-rpath</literal> or setting <envar xmlns:xlink="http://www.w3.org/1999/xlink">LD_RUN_PATH</envar>
	  during linking (see <package xmlns:xlink="http://www.w3.org/1999/xlink">lang/moscow_ml</package>
	  for an example), or through a shell-wrapper which sets
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">LD_LIBRARY_PATH</varname> before invoking the binary, like
	  <package xmlns:xlink="http://www.w3.org/1999/xlink">www/mozilla</package> does.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">When installing 32-bit libraries on 64-bit system, use
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_LDCONFIG32</varname> instead.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Try to keep shared library version numbers in the
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">libfoo.so.0</filename> format.  Our runtime linker only
	  cares for the major (first) number.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">When the major library version number increments in the update
	  to the new port version, all other ports that link to the affected
	  library should have their <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTREVISION</varname> incremented,
	  to force recompilation with the new library version.</para>

      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-restrictions">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Ports with distribution restrictions</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Licenses vary, and some of them place restrictions on how the
	  application can be packaged, whether it can be sold for profit, and so
	  on.</para>

	<important xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">It is your responsibility as a porter to read the licensing
	    terms of the software and make sure that the FreeBSD project will
	    not be held accountable for violating them by redistributing the
	    source or compiled binaries either via FTP/HTTP or CD-ROM.  If in doubt,
	    please contact the <link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-ports">FreeBSD ports 郵遞論壇</link>.</para>
	</important>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">In situations like this, the variables described in the following
	  sections can be set.</para>

	<sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">NO_PACKAGE</varname></title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">This variable indicates that we may not generate a binary
	    package of the application.  For instance, the license may
	    disallow binary redistribution, or it may prohibit distribution
	    of packages created from patched sources.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">However, the port's <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES</varname> may be
	    freely mirrored on FTP/HTTP.  They may also be distributed on
	    a CD-ROM (or similar media) unless <varname xmlns:xlink="http://www.w3.org/1999/xlink">NO_CDROM</varname>
	    is set as well.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">NO_PACKAGE</varname> should also be used if the binary
	    package is not generally useful, and the application should always
	    be compiled from the source code.  For example, if the application
	    has configuration information that is site specific hard coded in to
	    it at compile time, set <varname xmlns:xlink="http://www.w3.org/1999/xlink">NO_PACKAGE</varname>.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">NO_PACKAGE</varname> should be set to a string
	    describing the reason why the package should not be
	    generated.</para>
	</sect2>

	<sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">NO_CDROM</varname></title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">This variable alone indicates that, although we are allowed
	    to generate binary packages, we may put neither those packages
	    nor the port's <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES</varname> onto a CD-ROM (or
	    similar media) for resale.  However, the binary packages and
	    the port's <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES</varname> will still be available
	    via FTP/HTTP.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">If this variable is set along with
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">NO_PACKAGE</varname>, then only the port's
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES</varname> will be available, and only via
	    FTP/HTTP.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">NO_CDROM</varname> should be set to a string
	    describing the reason why the port cannot be redistributed
	    on CD-ROM.  For instance, this should be used if the port's license
	    is for <quote xmlns:xlink="http://www.w3.org/1999/xlink">non-commercial</quote> use only.</para>
	  </sect2>

	  <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	    <title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">NOFETCHFILES</varname></title>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">Files defined in the <varname xmlns:xlink="http://www.w3.org/1999/xlink">NOFETCHFILES</varname>
	      variable are not fetchable from any of the
	      <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES</varname>. An example of such a
	      file is when the file is supplied on CD-ROM by the
	      vendor.</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">Tools which check for the availability of these files
	      on the <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES</varname> should ignore these
	      files and not report about them.</para>
	  </sect2>

	  <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	    <title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">RESTRICTED</varname></title>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">Set this variable alone if the application's license permits
	      neither mirroring the application's <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES</varname>
	      nor distributing the binary package in any way.</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">NO_CDROM</varname> or <varname xmlns:xlink="http://www.w3.org/1999/xlink">NO_PACKAGE</varname>
	      should not be set along with <varname xmlns:xlink="http://www.w3.org/1999/xlink">RESTRICTED</varname>
	      since the latter variable implies the former ones.</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">RESTRICTED</varname> should be set to a string
	      describing the reason why the port cannot be redistributed.
	      Typically, this indicates that the port contains proprietary
	      software and that the user will need to manually download the
	      <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES</varname>, possibly after registering for the
	      software or agreeing to accept the terms of an
	      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">EULA</acronym>.</para>
	  </sect2>

	  <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	    <title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">RESTRICTED_FILES</varname></title>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">When <varname xmlns:xlink="http://www.w3.org/1999/xlink">RESTRICTED</varname> or <varname xmlns:xlink="http://www.w3.org/1999/xlink">NO_CDROM</varname>
	      is set, this variable defaults to <literal xmlns:xlink="http://www.w3.org/1999/xlink">${DISTFILES}
	      ${PATCHFILES}</literal>, otherwise it is empty.  If only some of the
	      distribution files are restricted, then set this variable to list
	      them.</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">Note that the port committer should add an entry to
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/ports/LEGAL</filename> for every listed distribution
	      file, describing exactly what the restriction entails.</para>
	  </sect2>
	</sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="building">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Building mechanisms</title>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="using-make">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">make</command>, <command xmlns:xlink="http://www.w3.org/1999/xlink">gmake</command>, and
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">imake</command></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">If your port uses <application xmlns:xlink="http://www.w3.org/1999/xlink">GNU make</application>, set
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">USE_GMAKE=yes</literal>.</para>

	  <table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	    <title xmlns:xlink="http://www.w3.org/1999/xlink">Variables for ports related to gmake</title>

	    <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	      <thead xmlns:xlink="http://www.w3.org/1999/xlink">
		<row xmlns:xlink="http://www.w3.org/1999/xlink">
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">Variable</entry>

		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">Means</entry>
		</row>
	      </thead>

	      <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
		<row xmlns:xlink="http://www.w3.org/1999/xlink">
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_GMAKE</varname></entry>

		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">The port requires <command xmlns:xlink="http://www.w3.org/1999/xlink">gmake</command> to
		    build.</entry>
		</row>

		<row xmlns:xlink="http://www.w3.org/1999/xlink">
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">GMAKE</varname></entry>

		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">The full path for <command xmlns:xlink="http://www.w3.org/1999/xlink">gmake</command> if it is not
		    in the <envar xmlns:xlink="http://www.w3.org/1999/xlink">PATH</envar>.</entry>
		</row>
	      </tbody>
	    </tgroup>
	  </table>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">If your port is an X application that creates
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> files from
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">Imakefile</filename> files using
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">imake</application>, then set
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">USE_IMAKE=yes</literal>.  This will cause the
	    configure stage to automatically do an <command xmlns:xlink="http://www.w3.org/1999/xlink">xmkmf -a</command>.
	    If the <option xmlns:xlink="http://www.w3.org/1999/xlink">-a</option> flag is a problem for your port, set
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">XMKMF=xmkmf</literal>.  If the port uses
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">imake</application> but does not understand the
	    <buildtarget>install.man</buildtarget> target,
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">NO_INSTALL_MANPAGES=yes</literal> should be set.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">If your port's source <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> has
	    something else than <buildtarget>all</buildtarget> as the main build
	    target, set <varname xmlns:xlink="http://www.w3.org/1999/xlink">ALL_TARGET</varname> accordingly.  Same goes
	    for <buildtarget>install</buildtarget> and
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">INSTALL_TARGET</varname>.</para>

	</sect2>

	<sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="using-configure">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">configure</command> script</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">If your port uses the <command xmlns:xlink="http://www.w3.org/1999/xlink">configure</command> script to
	  generate <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> files from
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile.in</filename> files, set
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">GNU_CONFIGURE=yes</literal>.  If you want to give extra
	  arguments to the <command xmlns:xlink="http://www.w3.org/1999/xlink">configure</command> script (the default
	  argument is <literal xmlns:xlink="http://www.w3.org/1999/xlink">--prefix=${PREFIX}
	  --infodir=${PREFIX}/${INFO_PATH}
	  --mandir=${MANPREFIX}/man
	  --build=${CONFIGURE_TARGET}</literal>), set those
	  extra arguments in <varname xmlns:xlink="http://www.w3.org/1999/xlink">CONFIGURE_ARGS</varname>.  Extra
	  environment variables can be passed using
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">CONFIGURE_ENV</varname> variable.</para>

	  <table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	    <title xmlns:xlink="http://www.w3.org/1999/xlink">Variables for ports that use configure</title>

	    <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	      <thead xmlns:xlink="http://www.w3.org/1999/xlink">
		<row xmlns:xlink="http://www.w3.org/1999/xlink">
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">Variable</entry>

		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">Means</entry>
		</row>
	      </thead>

	      <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
		<row xmlns:xlink="http://www.w3.org/1999/xlink">
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">GNU_CONFIGURE</varname></entry>

		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">The port uses <command xmlns:xlink="http://www.w3.org/1999/xlink">configure</command> script to
		    prepare build.</entry>
		</row>

		<row xmlns:xlink="http://www.w3.org/1999/xlink">
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">HAS_CONFIGURE</varname></entry>

		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">Same as <varname xmlns:xlink="http://www.w3.org/1999/xlink">GNU_CONFIGURE</varname>, except
		    default configure target is not added to
		    <varname xmlns:xlink="http://www.w3.org/1999/xlink">CONFIGURE_ARGS</varname>.</entry>
		</row>

		<row xmlns:xlink="http://www.w3.org/1999/xlink">
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">CONFIGURE_ARGS</varname></entry>

		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">Additional arguments passed to
		    <command xmlns:xlink="http://www.w3.org/1999/xlink">configure</command> script.</entry>
		</row>

		<row xmlns:xlink="http://www.w3.org/1999/xlink">
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">CONFIGURE_ENV</varname></entry>

		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">Additional environment variables to be set
		    for <command xmlns:xlink="http://www.w3.org/1999/xlink">configure</command> script run.</entry>
		</row>

		<row xmlns:xlink="http://www.w3.org/1999/xlink">
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">CONFIGURE_TARGET</varname></entry>

		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">Override default configure target.  Default value is
		    <literal xmlns:xlink="http://www.w3.org/1999/xlink">${MACHINE_ARCH}-portbld-freebsd${OSREL}</literal>.</entry>
		</row>
	      </tbody>
	    </tgroup>
	  </table>
	</sect2>

	<sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="using-scons">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">Using <command xmlns:xlink="http://www.w3.org/1999/xlink">scons</command></title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">If your port uses <application xmlns:xlink="http://www.w3.org/1999/xlink">SCons</application>, define
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">USE_SCONS=yes</literal>.</para>

	  <table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	    <title xmlns:xlink="http://www.w3.org/1999/xlink">Variables for ports that use <command xmlns:xlink="http://www.w3.org/1999/xlink">scons</command></title>

	    <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	      <thead xmlns:xlink="http://www.w3.org/1999/xlink">
		<row xmlns:xlink="http://www.w3.org/1999/xlink">
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">Variable</entry>

		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">Means</entry>
		</row>
	      </thead>

	      <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
		<row xmlns:xlink="http://www.w3.org/1999/xlink">
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">SCONS_ARGS</varname></entry>

		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">Port specific SCons flags passed to the SCons
		    environment.</entry>
		</row>

		<row xmlns:xlink="http://www.w3.org/1999/xlink">
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">SCONS_BUILDENV</varname></entry>

		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">Variables to be set in system environment.</entry>
		</row>

		<row xmlns:xlink="http://www.w3.org/1999/xlink">
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">SCONS_ENV</varname></entry>

		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">Variables to be set in SCons environment.</entry>
		</row>

		<row xmlns:xlink="http://www.w3.org/1999/xlink">
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">SCONS_TARGET</varname></entry>

		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">Last argument passed to SCons, similar to
		    <varname xmlns:xlink="http://www.w3.org/1999/xlink">MAKE_TARGET</varname>.</entry>
		</row>
	      </tbody>
	    </tgroup>
	  </table>
	</sect2>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="using-autotools">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Using GNU autotools</title>

	<sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="using-autotools-introduction">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">Introduction</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">The various GNU autotools provide an abstraction mechanism for
	    building a piece of software over a wide variety of operating
	    systems and machine architectures.  Within the Ports Collection,
	    an individual port can make use of these tools via a simple
	    construct:</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">USE_AUTOTOOLS= <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">tool</replaceable>:<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">version</replaceable>[:<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">operation</replaceable>] ...</programlisting>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">At the time of writing, <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">tool</replaceable> can be
	    one of <literal xmlns:xlink="http://www.w3.org/1999/xlink">libtool</literal>, <literal xmlns:xlink="http://www.w3.org/1999/xlink">libltdl</literal>,
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">autoconf</literal>, <literal xmlns:xlink="http://www.w3.org/1999/xlink">autoheader</literal>,
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">automake</literal> or <literal xmlns:xlink="http://www.w3.org/1999/xlink">aclocal</literal>.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">version</replaceable> specifies the particular
	    tool revision to be used (see
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">devel/{automake,autoconf,libtool}[0-9]+</literal> for
	    valid versions).</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">operation</replaceable> is an optional extension
	    to modify how the tool is used.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Multiple tools can be specified at once, either by including
	    them all on a single line, or using the <literal xmlns:xlink="http://www.w3.org/1999/xlink">+=</literal>
	    Makefile construct.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Finally, there is the special tool, called
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">autotools</literal>, which is a convenience function
	    to bring in all available versions of the autotools to allow
	    for cross-development work.  This can also be accomplished
	    by installing the <literal xmlns:xlink="http://www.w3.org/1999/xlink">devel/autotools</literal> port.</para>

	</sect2>

	<sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="using-libtool">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">libtool</command></title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Shared libraries using the GNU building framework usually use
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">libtool</command> to adjust the compilation and
	    installation of shared libraries to match the specifics of the
	    underlying operating system.  The usual practice is to use copy of
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">libtool</command> bundled with the application.  In case
	    you need to use external <command xmlns:xlink="http://www.w3.org/1999/xlink">libtool</command>, you can use
	    the version provided by The Ports Collection:</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">USE_AUTOTOOLS= libtool:<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">version</replaceable>[:env]</programlisting>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">With no additional operations,
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">libtool:version</literal> tells
	    the building framework to patch the configure script with the
	    system-installed copy of <command xmlns:xlink="http://www.w3.org/1999/xlink">libtool</command>.
	    The <varname xmlns:xlink="http://www.w3.org/1999/xlink">GNU_CONFIGURE</varname> is implied.
	    Further, a number of make and shell
	    variables will be assigned for onward use by the port.  See
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.autotools.mk</filename> for details.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">With the <literal xmlns:xlink="http://www.w3.org/1999/xlink">:env</literal> operation, only the
	    environment will be set up.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Finally, <varname xmlns:xlink="http://www.w3.org/1999/xlink">LIBTOOLFLAGS</varname> and
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">LIBTOOLFILES</varname> can be optionally set to override
	    the most likely arguments to, and files patched by,
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">libtool</command>.  Most ports are unlikely to need this.
	    See <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.autotools.mk</filename> for further
	    details.</para>

	</sect2>

	<sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="using-libltdl">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">libltdl</command></title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Some ports make use of the <command xmlns:xlink="http://www.w3.org/1999/xlink">libltdl</command> library
	    package, which is part of the <command xmlns:xlink="http://www.w3.org/1999/xlink">libtool</command> suite.
	    Use of this library does not automatically necessitate the use of
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">libtool</command> itself, so a separate construct is
	    provided.</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">USE_AUTOTOOLS= libltdl:<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">version</replaceable></programlisting>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Currently, all this does is to bring in a
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">LIB_DEPENDS</varname> on the appropriate
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">libltdl</command> port, and is provided as a convenience
	    function to help eliminate any dependencies on the autotools ports
	    outside of the <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_AUTOTOOLS</varname> framework.  There
	    are no optional operations for this tool.</para>

	</sect2>

	<sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="using-autoconf">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">autoconf</command> and
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">autoheader</command></title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Some ports do not contain a configure script, but do contain an
	    autoconf template in the <filename xmlns:xlink="http://www.w3.org/1999/xlink">configure.ac</filename> file.
	    You can use the following assignments to let
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">autoconf</command> create the configure script, and also
	    have <command xmlns:xlink="http://www.w3.org/1999/xlink">autoheader</command> create template headers for use
	    by the configure script.</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">USE_AUTOTOOLS=	autoconf:<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">version</replaceable>[:env]</programlisting>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">and</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">USE_AUTOTOOLS=	autoheader:<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">version</replaceable></programlisting>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">which also implies the use of
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">autoconf:version</literal>.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Similarly to <command xmlns:xlink="http://www.w3.org/1999/xlink">libtool</command>, the inclusion of the
	    optional <literal xmlns:xlink="http://www.w3.org/1999/xlink">:env</literal> operation simply sets up the
	    environment for further use.  Without it, patching and
	    reconfiguration of the port is carried out.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">The additional optional variables
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">AUTOCONF_ARGS</varname> and
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">AUTOHEADER_ARGS</varname> can be overridden by the port
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> if specifically requested.  As with
	    the <command xmlns:xlink="http://www.w3.org/1999/xlink">libtool</command> equivalents, most ports are unlikely
	    to need this.</para>

	</sect2>

	<sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="using-automake">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">automake</command> and
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">aclocal</command></title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Some packages only contain <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile.am</filename>
	    files.  These have to be converted into
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile.in</filename> files using
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">automake</command>, and the further processed by
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">configure</command> to generate an actual
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Similarly, packages occasionally do not ship with included
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">aclocal.m4</filename> files, again required to build the
	    software.  This can be achieved with <command xmlns:xlink="http://www.w3.org/1999/xlink">aclocal</command>,
	    which scans <filename xmlns:xlink="http://www.w3.org/1999/xlink">configure.ac</filename> or
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">configure.in</filename>.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">aclocal</command> has a similar relationship to
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">automake</command> as <command xmlns:xlink="http://www.w3.org/1999/xlink">autoheader</command> does
	    to <command xmlns:xlink="http://www.w3.org/1999/xlink">autoconf</command>, described in the previous section.
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">aclocal</command> implies the use of
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">automake</command>, thus we have:</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">USE_AUTOTOOLS=	automake:<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">version</replaceable>[:<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">env</replaceable>]</programlisting>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">and</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">USE_AUTOTOOLS=	aclocal:<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">version</replaceable></programlisting>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">which also implies the use of
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">automake:version</literal>.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Similarly to <command xmlns:xlink="http://www.w3.org/1999/xlink">libtool</command> and
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">autoconf</command>, the inclusion of the optional
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">:env</literal> operation simply sets up the environment
	    for further use.  Without it, reconfiguration of the port is
	    carried out.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">As with
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">autoconf</command> and <command xmlns:xlink="http://www.w3.org/1999/xlink">autoheader</command>, both
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">automake</command> and <command xmlns:xlink="http://www.w3.org/1999/xlink">aclocal</command> have
	    optional argument variables, <varname xmlns:xlink="http://www.w3.org/1999/xlink">AUTOMAKE_ARGS</varname> and
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">ACLOCAL_ARGS</varname> respectively, which may be
	    overriden by the port <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> if
	    required.</para>

	</sect2>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="using-gettext">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Using GNU <literal xmlns:xlink="http://www.w3.org/1999/xlink">gettext</literal></title>

	<sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">Basic usage</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">If your port requires <literal xmlns:xlink="http://www.w3.org/1999/xlink">gettext</literal>,
	    just set <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_GETTEXT</varname> to <literal xmlns:xlink="http://www.w3.org/1999/xlink">yes</literal>,
	    and your port will grow the dependency on <package xmlns:xlink="http://www.w3.org/1999/xlink">devel/gettext</package>.  The value of
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_GETTEXT</varname> can also specify the required
	    version of the <literal xmlns:xlink="http://www.w3.org/1999/xlink">libintl</literal> library, the basic
	    part of <literal xmlns:xlink="http://www.w3.org/1999/xlink">gettext</literal>, but using this
	    feature is <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">strongly discouraged</emphasis>:
	    Your port should work with just the current version of
	    <package xmlns:xlink="http://www.w3.org/1999/xlink">devel/gettext</package>.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">A rather common case is a port using
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">gettext</literal> and <command xmlns:xlink="http://www.w3.org/1999/xlink">configure</command>.
	    Generally, GNU <command xmlns:xlink="http://www.w3.org/1999/xlink">configure</command> should be
	    able to locate <literal xmlns:xlink="http://www.w3.org/1999/xlink">gettext</literal> automatically.
	    If it ever fails to, hints at the location of
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">gettext</literal> can be passed in
	    <envar xmlns:xlink="http://www.w3.org/1999/xlink">CPPFLAGS</envar> and <envar xmlns:xlink="http://www.w3.org/1999/xlink">LDFLAGS</envar> as
	    follows:</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">USE_GETTEXT=    yes
CPPFLAGS+=      -I${LOCALBASE}/include
LDFLAGS+=       -L${LOCALBASE}/lib

GNU_CONFIGURE=  yes
CONFIGURE_ENV=  CPPFLAGS="${CPPFLAGS}" \
                LDFLAGS="${LDFLAGS}"</programlisting>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Of course, the code can be more compact if there are no
	    more flags to pass to <command xmlns:xlink="http://www.w3.org/1999/xlink">configure</command>:</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">USE_GETTEXT=    yes
GNU_CONFIGURE=  yes
CONFIGURE_ENV=  CPPFLAGS="-I${LOCALBASE}/include" \
                LDFLAGS="-L${LOCALBASE}/lib"</programlisting>

	</sect2>

	<sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">Optional usage</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Some software products allow for disabling NLS,
	    e.g., through passing <option xmlns:xlink="http://www.w3.org/1999/xlink">--disable-nls</option> to
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">configure</command>.  In that case, your port
	    should use <literal xmlns:xlink="http://www.w3.org/1999/xlink">gettext</literal> conditionally,
	    depending on the status of <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="knobs-without-nls"><varname xmlns:xlink="http://www.w3.org/1999/xlink">WITHOUT_NLS</varname></link>.
	    For ports of low to medium complexity, you can rely on the
	    following idiom:</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">GNU_CONFIGURE=          yes

.if !defined(WITHOUT_NLS)
USE_GETTEXT=            yes
PLIST_SUB+=             NLS=""
.else
CONFIGURE_ARGS+=        --disable-nls
PLIST_SUB+=             NLS="@comment "
.endif</programlisting>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">The next item on your to-do list is to arrange so that
	    the message catalog files are included in the packing list
	    conditionally.  The <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> part of
	    this task is already provided by the idiom.  It is explained
	    in the section on <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="plist-sub">advanced
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename> practices</link>.  In a
	    nutshell, each occurrence of <literal xmlns:xlink="http://www.w3.org/1999/xlink">%%NLS%%</literal> in
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename> will be replaced by
	    <quote xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">@comment </literal></quote> if NLS is
	    disabled, or by a null string if NLS is enabled.  Consequently,
	    the lines prefixed by <literal xmlns:xlink="http://www.w3.org/1999/xlink">%%NLS%%</literal> will become
	    mere comments in the final packing list if NLS is off;
	    otherwise the prefix will be just left out.  All you need
	    to do now is insert <literal xmlns:xlink="http://www.w3.org/1999/xlink">%%NLS%%</literal> before each
	    path to a message catalog file in <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename>.
	    For example:</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">%%NLS%%share/locale/fr/LC_MESSAGES/foobar.mo
%%NLS%%share/locale/no/LC_MESSAGES/foobar.mo</programlisting>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">In high complexity cases, you may need to use more advanced
	    techniques than the recipe given here, such as <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="plist-dynamic">dynamic packing list generation</link>.</para>
	</sect2>

	<sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">Handling message catalog directories</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">There is a point to note about installing message catalog
	    files.  The target directories for them, which reside under
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">LOCALBASE/share/locale</filename>,
	    should rarely be created and removed by your port.  The
	    most popular languages have their respective directories
	    listed in <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/mtree/BSD.local.dist</filename>;
	    that is, they are a part of the base system.  The directories
	    for many other languages are governed by the <package xmlns:xlink="http://www.w3.org/1999/xlink">devel/gettext</package> port.  You may want
	    to consult its <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename> and see whether
	    your port is going to install a message catalog file for a
	    unique language.</para>
	</sect2>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="using-perl">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Using <literal xmlns:xlink="http://www.w3.org/1999/xlink">perl</literal></title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">If <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES</varname> is set to
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_PERL_CPAN</varname>, then preferred value of
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_SUBDIR</varname> is top-level hierarchy name.
	For example, the recommend value for <literal xmlns:xlink="http://www.w3.org/1999/xlink">p5-Module-Name</literal>
	is <literal xmlns:xlink="http://www.w3.org/1999/xlink">Module</literal>.  The top-level hierarchy can be examined
	at <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://cpan.org/modules/by-module/">cpan.org</link>.
	This keeps the port working when the author of the module
	changes.</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">The exception to this rule is when the relevant directory does not
	exist or the distfile does not exist in the directory.  In such case, using
	author's id as <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_SUBDIR</varname> is allowed.</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">All of the tunable knobs below accept both <literal xmlns:xlink="http://www.w3.org/1999/xlink">YES</literal>
	and a version string, like <literal xmlns:xlink="http://www.w3.org/1999/xlink">5.8.0+</literal>.  Using
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">YES</literal> means that the port can be used with all
	of the supported <application xmlns:xlink="http://www.w3.org/1999/xlink">Perl</application> versions.  If a port
	only works with specific versions of <application xmlns:xlink="http://www.w3.org/1999/xlink">Perl</application>,
	it can be indicated with a version string, specifying a minimal version
	(e.g. <literal xmlns:xlink="http://www.w3.org/1999/xlink">5.7.3+</literal>), a maximal version (e.g.
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">5.8.0-</literal>) or an exact version (e.g.
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">5.8.3</literal>).</para>

      <table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Variables for ports that use <literal xmlns:xlink="http://www.w3.org/1999/xlink">perl</literal></title>

	<tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	  <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Variable</entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Means</entry>
	    </row>
	  </thead>

	  <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_PERL5</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Says that the port uses <literal xmlns:xlink="http://www.w3.org/1999/xlink">perl 5</literal> to build and run.</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_PERL5_BUILD</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Says that the port uses <literal xmlns:xlink="http://www.w3.org/1999/xlink">perl 5</literal> to build.</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_PERL5_RUN</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Says that the port uses <literal xmlns:xlink="http://www.w3.org/1999/xlink">perl 5</literal> to run.</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PERL</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">The full path of <literal xmlns:xlink="http://www.w3.org/1999/xlink">perl 5</literal>, either in the
		system or installed from a port, but without the version
		number.  Use this if you need to replace
		<quote xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">#!</literal></quote>lines in scripts.</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PERL_CONFIGURE</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Configure using Perl's MakeMaker.  It implies
		<varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_PERL5</varname>.</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PERL_MODBUILD</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Configure, build and install using Module::Build.  It
		implies <varname xmlns:xlink="http://www.w3.org/1999/xlink">PERL_CONFIGURE</varname>.</entry>
	    </row>
	  </tbody>
	</tgroup>

	<tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	  <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Read only variables</entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Means</entry>
	    </row>
	  </thead>

	  <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PERL_VERSION</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">The full version of <literal xmlns:xlink="http://www.w3.org/1999/xlink">perl</literal> installed (e.g.,
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">5.00503</literal>).</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PERL_VER</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">The short version of <literal xmlns:xlink="http://www.w3.org/1999/xlink">perl</literal> installed (e.g.,
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">5.005</literal>).</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PERL_LEVEL</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">The installed <literal xmlns:xlink="http://www.w3.org/1999/xlink">perl</literal> version as an integer of the form <literal xmlns:xlink="http://www.w3.org/1999/xlink">MNNNPP</literal>
		(e.g., <literal xmlns:xlink="http://www.w3.org/1999/xlink">500503</literal>).</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PERL_ARCH</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Where <literal xmlns:xlink="http://www.w3.org/1999/xlink">perl</literal> stores architecture dependent libraries.
		Defaults to <literal xmlns:xlink="http://www.w3.org/1999/xlink">${ARCH}-freebsd</literal>.</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PERL_PORT</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Name of the <literal xmlns:xlink="http://www.w3.org/1999/xlink">perl</literal> port that is
		installed (e.g., <literal xmlns:xlink="http://www.w3.org/1999/xlink">perl5</literal>).</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">SITE_PERL</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Directory name where site specific
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">perl</literal> packages go.
		This value is added to PLIST_SUB.</entry>
	    </row>
	  </tbody>
	</tgroup>
      </table>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">Perl 模組的 port，由於沒有正式的網站，所以
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-descr</filename> 內的 WWW 應該指向至
	  <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">cpan.org</systemitem>。  比較好的 URL 格式是
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">http://search.cpan.org/dist/Module-Name/</literal>
	  (包括結尾的 / 斜線符號)。</para>
      </note>

    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="using-x11">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Using X11</title>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="x11-variables">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">X.Org components</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">The X11 implementation available in The Ports Collection is X.Org.
	  If your application depends on X components, set
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_XORG</varname> to the list of required components.
	  Available components, at the time of writing, are:</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">bigreqsproto compositeproto damageproto dmx dmxproto
	  evieproto fixesproto fontcacheproto fontenc fontsproto fontutil
	  glproto ice inputproto kbproto libfs oldx printproto randrproto
	  recordproto renderproto resourceproto scrnsaverproto sm trapproto
	  videoproto x11 xau xaw xaw6 xaw7 xaw8 xbitmaps xcmiscproto xcomposite
	  xcursor xdamage xdmcp xevie xext xextproto xf86bigfontproto
	  xf86dgaproto xf86driproto xf86miscproto xf86rushproto
	  xf86vidmodeproto xfixes xfont xfontcache xft xi xinerama
	  xineramaproto xkbfile xkbui xmu xmuu xorg-server xp xpm xprintapputil
	  xprintutil xpr oto xproxymngproto xrandr xrender xres xscrnsaver xt
	  xtrans xtrap xtst xv xvmc xxf86dga xxf86misc xxf86vm</literal>.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Always up-to-date list can be found in
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/ports/Mk/bsd.xorg.mk</filename>.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">The Mesa Project is an effort to provide free OpenGL
	  implementation.  You can specify a dependency on various components
	  of this project with <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_GL</varname> variable.
	  Valid options are: <literal xmlns:xlink="http://www.w3.org/1999/xlink">glut, glu, glw, gl</literal> and
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">linux</literal>.  For backwards compatibility, the value
	  of <literal xmlns:xlink="http://www.w3.org/1999/xlink">yes</literal> maps to <literal xmlns:xlink="http://www.w3.org/1999/xlink">glu</literal>.</para>

	<example xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="use-xorg-example">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">USE_XORG example</title>
	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">USE_XORG=   xrender xft xkbfile xt xaw
USE_GL=     glu</programlisting>
	</example>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Many ports define <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_XLIB</varname>, which makes
	  the port depend on all the 50 or so libraries.  This variable
	  exists for backwards compatibility, as it predates modular X.Org,
	  and should not be used on new ports.</para>

      <table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Variables for ports that use X</title>

	<tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	  <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_XLIB</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">The port uses the X libraries.  Deprecated - use a list of
		X.Org components in <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_XORG</varname> variable
		instead.</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_IMAKE</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">會用到 <command xmlns:xlink="http://www.w3.org/1999/xlink">imake</command> 的 port。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_X_PREFIX</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Deprecated.  Today it is equivalent to
		<varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_XLIB</varname> and can be replaced by it
		freely.</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">XMKMF</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Set to the path of <command xmlns:xlink="http://www.w3.org/1999/xlink">xmkmf</command> if not in the
		<envar xmlns:xlink="http://www.w3.org/1999/xlink">PATH</envar>.  Defaults to <literal xmlns:xlink="http://www.w3.org/1999/xlink">xmkmf
		  -a</literal>.</entry>
	    </row>
	  </tbody>
	</tgroup>
      </table>

      <table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Variables for depending on individual parts of X11</title>

	<tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	  <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">X_IMAKE_PORT</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Port providing <command xmlns:xlink="http://www.w3.org/1999/xlink">imake</command> and several
		other utilities used to build X11.</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">X_LIBRARIES_PORT</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Port providing X11 libraries.</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">X_CLIENTS_PORT</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Port providing X clients.</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">X_SERVER_PORT</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Port providing X server.</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">X_FONTSERVER_PORT</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Port providing font server.</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">X_PRINTSERVER_PORT</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Port providing print server.</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">X_VFBSERVER_PORT</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Port providing virtual framebuffer server.</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">X_NESTSERVER_PORT</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Port providing a nested X server.</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">X_FONTS_ENCODINGS_PORT</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Port providing encodings for fonts.</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">X_FONTS_MISC_PORT</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Port providing miscellaneous bitmap fonts.</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">X_FONTS_100DPI_PORT</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Port providing 100dpi bitmap fonts.</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">X_FONTS_75DPI_PORT</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Port providing 75dpi bitmap fonts.</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">X_FONTS_CYRILLIC_PORT</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Port providing cyrillic bitmap fonts.</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">X_FONTS_TTF_PORT</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Port providing <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">TrueType</trademark> fonts.</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">X_FONTS_TYPE1_PORT</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Port providing Type1 fonts.</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">X_MANUALS_PORT</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Port providing developer oriented manual pages</entry>
	    </row>
	  </tbody>
	</tgroup>
      </table>

      <example xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="using-x11-vars">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Using some X11 related variables in port</title>
	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink"># Use X11 libraries and depend on
# font server as well as cyrillic fonts.
RUN_DEPENDS=   ${LOCALBASE}/bin/xfs:${X_FONTSERVER_PORT} \
               ${LOCALBASE}/lib/X11/fonts/cyrillic/crox1c.pcf.gz:${X_FONTS_CYRILLIC_PORT}

USE_XORG=      yes</programlisting>
      </example>

      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="x11-motif">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Ports that require Motif</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">If your port requires a Motif library, define
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_MOTIF</varname> in the <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>.
	  Default Motif implementation is
	  <package xmlns:xlink="http://www.w3.org/1999/xlink">x11-toolkits/open-motif</package>.
	  Users can choose
	  <package xmlns:xlink="http://www.w3.org/1999/xlink">x11-toolkits/lesstif</package> instead
	  by setting <varname xmlns:xlink="http://www.w3.org/1999/xlink">WANT_LESSTIF</varname> variable.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">The <varname xmlns:xlink="http://www.w3.org/1999/xlink">MOTIFLIB</varname> variable will be set by
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.mk</filename> to reference the appropriate
	  Motif library.  Please patch the source of your port to
	  use <literal xmlns:xlink="http://www.w3.org/1999/xlink">${MOTIFLIB}</literal> wherever the Motif library is referenced in the original
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> or
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">Imakefile</filename>.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">There are two common cases:</para>

	<itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">If the port refers to the Motif library as
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">-lXm</literal> in its <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> or
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">Imakefile</filename>, simply substitute
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">${MOTIFLIB}</literal> for it.</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">If the port uses <literal xmlns:xlink="http://www.w3.org/1999/xlink">XmClientLibs</literal> in its
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">Imakefile</filename>, change it to
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">${MOTIFLIB} ${XTOOLLIB}
		${XLIB}</literal>.</para>
	  </listitem>

	</itemizedlist>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Note that <varname xmlns:xlink="http://www.w3.org/1999/xlink">MOTIFLIB</varname> (usually) expands to
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">-L/usr/X11R6/lib -lXm</literal> or
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">/usr/X11R6/lib/libXm.a</literal>, so there is no need to
	  add <literal xmlns:xlink="http://www.w3.org/1999/xlink">-L</literal> or <literal xmlns:xlink="http://www.w3.org/1999/xlink">-l</literal> in front.</para>

      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">X11 fonts</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">If your port installs fonts for the X Window System, put them in
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">LOCALBASE/lib/X11/fonts/local</filename>.</para>

      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Getting fake <envar xmlns:xlink="http://www.w3.org/1999/xlink">DISPLAY</envar> using Xvfb</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Some applications require a working X11 display for compilation to
	  succeed.  This pose a problem for machines which operates headless.
	  When the following variable is used, the build infrastructure will
	  start the virtual framebuffer
	  X server.  The working <envar xmlns:xlink="http://www.w3.org/1999/xlink">DISPLAY</envar> is then passed
	  to the build.</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">USE_DISPLAY=  yes</programlisting>

      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="desktop-entries">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Desktop entries</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">可藉由設定
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">DESKTOP_ENTRIES</varname> 變數，以輕鬆設定 port 的 X 選單項目
	  (Desktop Entries，請參閱 <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://standards.freedesktop.org/desktop-entry-spec/latest/">
	  Freedesktop standard</link>)。  這些項目會在相應的桌面環境如 GNOME
	  或 KDE 的應用程式選單中出現。  <filename xmlns:xlink="http://www.w3.org/1999/xlink">.desktop</filename> 檔案
	  將會被建立、安裝以及自動加入 <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename>
	  中。語法為：</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">DESKTOP_ENTRIES=  "NAME" "COMMENT" "ICON" "COMMAND" "CATEGORY" StartupNotify</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">可供使用的分類可參考 <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://standards.freedesktop.org/menu-spec/latest/apa.html">
	  Freedesktop 網站</link>。  而 <varname xmlns:xlink="http://www.w3.org/1999/xlink">StartupNotify</varname>
	  變數會決定程式，是否支援 startup noficication 的環境。
	  </para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">範例：</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">DESKTOP_ENTRIES=  "ToME" "Roguelike game based on JRR Tolkien's work" \
                  "${DATADIR}/xtra/graf/tome-128.png" \
                  "tome -v -g" "Application;Game;RolePlaying" \
                  false</programlisting>

      </sect2>

    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="using-gnome">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Using GNOME</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">The FreeBSD/GNOME project uses its own set of variables
	to define which GNOME components a
	particular port uses. A
	<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.FreeBSD.org/gnome/docs/porting.html">comprehensive
	list of these variables</link> exists within the FreeBSD/GNOME
	project's homepage.</para>

    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="using-kde">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Using KDE</title>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="kde-variables">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Variable definitions</title>

	<table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">Variables for ports that use KDE</title>

	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_KDELIBS_VER</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">The port uses KDE libraries.  It specifies the
		  major version of KDE to use and implies
		  <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_QT_VER</varname> of the appropriate
		  version.  The only possible value is
		  <literal xmlns:xlink="http://www.w3.org/1999/xlink">3</literal>.</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_KDEBASE_VER</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">The port uses KDE base.  It specifies the major
		  version of KDE to use and implies
		  <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_QT_VER</varname> of the appropriate version.
		  The only possible value is <literal xmlns:xlink="http://www.w3.org/1999/xlink">3</literal>.</entry>
	      </row>
	    </tbody>
	  </tgroup>
	</table>

      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="kde-qt">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Ports that require Qt</title>

	<table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">Variables for ports that use Qt</title>

	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_QT_VER</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">The port uses the Qt toolkit.  Possible values
		  are <literal xmlns:xlink="http://www.w3.org/1999/xlink">3</literal> and <literal xmlns:xlink="http://www.w3.org/1999/xlink">4</literal>;
		  each specify the major version of Qt to use.  Appropriate
		  parameters are passed to <command xmlns:xlink="http://www.w3.org/1999/xlink">configure</command>
		  script and <command xmlns:xlink="http://www.w3.org/1999/xlink">make</command>.</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">QT_PREFIX</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Set to the path where Qt installed to (read-only
		  variable).</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">MOC</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Set to the path of <command xmlns:xlink="http://www.w3.org/1999/xlink">moc</command>
		  (read-only variable).  Default set according to
		  <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_QT_VER</varname> value.</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">QTCPPFLAGS</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Additional compiler flags passed via
		  <varname xmlns:xlink="http://www.w3.org/1999/xlink">CONFIGURE_ENV</varname> for Qt toolkit.
		  Default set according to
		  <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_QT_VER</varname>.</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">QTCFGLIBS</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Additional libraries for linking passed via
		  <varname xmlns:xlink="http://www.w3.org/1999/xlink">CONFIGURE_ENV</varname> for Qt toolkit.
		  Default set according to
		  <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_QT_VER</varname>.</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">QTNONSTANDARD</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Suppress modification of
		  <varname xmlns:xlink="http://www.w3.org/1999/xlink">CONFIGURE_ENV</varname>,
		  <varname xmlns:xlink="http://www.w3.org/1999/xlink">CONFIGURE_ARGS</varname>, and
		  <varname xmlns:xlink="http://www.w3.org/1999/xlink">MAKE_ENV</varname>.</entry>
	      </row>

	    </tbody>
	  </tgroup>
	</table>

	<table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">Additional variables for ports that use Qt 4.x</title>

	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">QT_COMPONENTS</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Specify tool and library dependencies for Qt4.
		  See below for details.</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">UIC</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Set to the path of <command xmlns:xlink="http://www.w3.org/1999/xlink">uic</command> (read-only
		  variable).  Default set according to
		  <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_QT_VER</varname> value.</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">QMAKE</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Set to the path of <command xmlns:xlink="http://www.w3.org/1999/xlink">qmake</command>
		  (read-only variable).  Default set according to
		  <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_QT_VER</varname> value.</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">QMAKESPEC</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Set to the path of configuration file for
		  <command xmlns:xlink="http://www.w3.org/1999/xlink">qmake</command> (read-only variable).  Default
		  set according to <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_QT_VER</varname>
		  value.</entry>
	      </row>

	    </tbody>
	  </tgroup>
	</table>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">When <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_QT_VER</varname> is set, some useful
	  settings are passed to <command xmlns:xlink="http://www.w3.org/1999/xlink">configure</command> script:</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">CONFIGURE_ARGS+= --with-qt-includes=${QT_PREFIX}/include \
                 --with-qt-libraries=${QT_PREFIX}/lib \
		 --with-extra-libs=${LOCALBASE}/lib \
		 --with-extra-includes=${LOCALBASE}/include
CONFIGURE_ENV+=  MOC="${MOC}" CPPFLAGS="${CPPFLAGS} ${QTCPPFLAGS}" LIBS="${QTCFGLIBS}" \
                 QTDIR="${QT_PREFIX}" KDEDIR="${KDE_PREFIX}"</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">If <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_QT_VER</varname> is set to <literal xmlns:xlink="http://www.w3.org/1999/xlink">4</literal>,
	  the following settings are also deployed:</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">CONFIGURE_ENV+= UIC="${UIC}" QMAKE="${QMAKE}" QMAKESPEC="${QMAKESPEC}"
MAKE_ENV+=      QMAKESPEC="${QMAKESPEC}"</programlisting>

      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="qt4-components">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Component selection (Qt 4.x only)</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">When <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_QT_VER</varname> is set to 4, individual
	  Qt4 tool and library dependencies can be specified in the
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">QT_COMPONENTS</varname> variable.  Every component
	  can be suffixed by either <literal xmlns:xlink="http://www.w3.org/1999/xlink">_build</literal> or <literal xmlns:xlink="http://www.w3.org/1999/xlink">_run</literal>,
	  the suffix indicating whether the component should be depended on at
	  buildtime or runtime, respectively. If unsuffixed, the component will be
	  depended on at both build- and runtime. Usually, library components
	  should be specified unsuffixed, tool components should be
	  specified with the <literal xmlns:xlink="http://www.w3.org/1999/xlink">_build</literal> suffix and plugin components
	  should be specified with the <literal xmlns:xlink="http://www.w3.org/1999/xlink">_run</literal> suffix. The most commonly
	  used components are listed below (all available components are
	  listed in <varname xmlns:xlink="http://www.w3.org/1999/xlink">_QT_COMPONENTS_ALL</varname> in
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/ports/Mk/bsd.qt.mk</filename>):</para>

	<table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">Available Qt4 library components</title>

	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	    <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Name</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Description</entry>
	      </row>
	    </thead>

	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">corelib</literal></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">core library (can be omitted unless the port
		  uses nothing but <literal xmlns:xlink="http://www.w3.org/1999/xlink">corelib</literal>)</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">gui</literal></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">graphical user interface library</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">network</literal></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">network library</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">opengl</literal></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">OpenGL library</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">qt3support</literal></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Qt3 compatibility library</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">qtestlib</literal></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">unit testing library</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">script</literal></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">script library</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">sql</literal></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">SQL library</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">xml</literal></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">XML library</entry>
	      </row>

	    </tbody>
	  </tgroup>
	</table>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">You can determine which libraries the application depends
	  on, by running <command xmlns:xlink="http://www.w3.org/1999/xlink">ldd</command> on the main executable
	  after a successful compilation.</para>

	<table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">Available Qt4 tool components</title>

	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	    <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Name</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Description</entry>
	      </row>
	    </thead>

	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">moc</literal></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">meta object compiler (needed for almost
		  every Qt application at buildtime)</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">qmake</literal></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Makefile generator / build utility</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">rcc</literal></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">resource compiler (need if the application comes
		  with <filename xmlns:xlink="http://www.w3.org/1999/xlink">*.rc</filename> or <filename xmlns:xlink="http://www.w3.org/1999/xlink">*.qrc</filename>
		  files)</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">uic</literal></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">user interface compiler (needed if the application
		  comes with <filename xmlns:xlink="http://www.w3.org/1999/xlink">*.ui</filename> files created by Qt Designer
		  - in practice, every Qt application with a GUI)</entry>
	      </row>

	    </tbody>
	  </tgroup>
	</table>

	<table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">Available Qt4 plugin components</title>

	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	    <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Name</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Description</entry>
	      </row>
	    </thead>

	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">iconengines</literal></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">SVG icon engine plugin (if the application
		  ships SVG icons)</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">imageformats</literal></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">imageformat plugins for GIF, JPEG, MNG and
		  SVG (if the application ships image files)</entry>
	      </row>

	    </tbody>
	  </tgroup>
	</table>

	<example xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="qt4-components-example">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">Selecting Qt4 components</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">In this example, the ported application uses the
	    Qt4 graphical user interface library, the Qt4 core
	    library, all of the Qt4 code generation tools and Qt4's
	    Makefile generator. Since the gui library implies a
	    dependency on the core library, corelib does
	    not need to be specified. The Qt4 code generation
	    tools moc, uic and rcc, as well as the Makefile generator
	    qmake are only needed at buildtime, thus they are specified
	    with the <literal xmlns:xlink="http://www.w3.org/1999/xlink">_build</literal> suffix:</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">USE_QT_VER=    4
QT_COMPONENTS= gui moc_build qmake_build rcc_build uic_build</programlisting>
	</example>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="qt-additional">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Additional considerations</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">If the application does not provide a
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">configure</filename> file but a <filename xmlns:xlink="http://www.w3.org/1999/xlink">.pro</filename>
	  file, you can use the following:</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">HAS_CONFIGURE=  yes

do-configure:
        @cd ${WRKSRC} &amp;&amp; ${SETENV} ${CONFIGURE_ENV} \
	        ${QMAKE} -unix PREFIX=${PREFIX} texmaker.pro</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Note the similarity to the <command xmlns:xlink="http://www.w3.org/1999/xlink">qmake</command> line
	  from the provided <filename xmlns:xlink="http://www.w3.org/1999/xlink">BUILD.sh</filename> script.  Passing
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">CONFIGURE_ENV</varname> ensures <command xmlns:xlink="http://www.w3.org/1999/xlink">qmake</command>
	  will see the <varname xmlns:xlink="http://www.w3.org/1999/xlink">QMAKESPEC</varname> variable, without which
	  it cannot work.  <command xmlns:xlink="http://www.w3.org/1999/xlink">qmake</command> generates standard
	  Makefiles, so it is not necessary to write our own
	  <buildtarget>build</buildtarget> target.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Qt applications often are written to be cross-platform
	  and often X11/Unix isn't the platform they are developed on,
	  which in turn often leads to certain loose ends, like:</para>

	<itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">Missing additional includepaths.</emphasis>
	      Many applications come with system tray icon support, but
	      neglect to look for includes and/or libraries in the X11
	      directories.  You can tell <command xmlns:xlink="http://www.w3.org/1999/xlink">qmake</command> to
	      add directories to the include and library searchpaths
	      via the commandline, for example:</para>

	    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">${QMAKE} -unix PREFIX=${PREFIX} INCLUDEPATH+=${LOCALBASE}/include \
       LIBS+=-L${LOCALBASE}/lib sillyapp.pro</programlisting>

	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">Bogus installation paths.</emphasis>
	      Sometimes data such as icons or .desktop files are by
	      default installed into directories which aren't scanned by
	      XDG-compatible applications.  <package xmlns:xlink="http://www.w3.org/1999/xlink">editors/texmaker</package>
	      is an example for this - look at <filename xmlns:xlink="http://www.w3.org/1999/xlink">patch-texmaker.pro</filename>
	      in the <filename xmlns:xlink="http://www.w3.org/1999/xlink">files</filename> directory of that port
	      for a template on how to remedy this directly in the Qmake
	      project file.</para>
	  </listitem>
	</itemizedlist>

      </sect2>

    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="using-java">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Using Java</title>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="java-variables">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Variable definitions</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">If your port needs a Java™ Development Kit (JDK) to
	either build, run or even extract the distfile, then it should
	define <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_JAVA</varname>.</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">There are several JDKs in the ports collection, from various
	vendors, and in several versions.  If your port must use one of
	these versions, you can define which one.  The most current
	version is <package xmlns:xlink="http://www.w3.org/1999/xlink">java/jdk15</package>.</para>

      <table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Variables that may be set by ports that use Java</title>

	<tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	  <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Variable</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Means</entry>
	    </row>
	  </thead>
	  <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_JAVA</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Should be defined for the remaining variables to have any
		effect.</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">JAVA_VERSION</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">List of space-separated suitable Java versions for
		the port.  An optional <literal xmlns:xlink="http://www.w3.org/1999/xlink">"+"</literal> allows you to
		specify a range of versions (allowed values:
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">1.1[+] 1.2[+] 1.3[+] 1.4[+]</literal>).</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">JAVA_OS</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">List of space-separated suitable JDK port operating
		systems for the port (allowed values: <literal xmlns:xlink="http://www.w3.org/1999/xlink">native
		linux</literal>).</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">JAVA_VENDOR</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">List of space-separated suitable JDK port vendors for
		the port (allowed values: <literal xmlns:xlink="http://www.w3.org/1999/xlink">freebsd bsdjava sun ibm
		blackdown</literal>).</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">JAVA_BUILD</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">When set, it means that the selected JDK port should
		be added to the build dependencies of the port.</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">JAVA_RUN</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">When set, it means that the selected JDK port should
		be added to the run dependencies of the port.</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">JAVA_EXTRACT</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">When set, it means that the selected JDK port should
		be added to the extract dependencies of the port.</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_JIKES</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Whether the port should or should not use the
		<command xmlns:xlink="http://www.w3.org/1999/xlink">jikes</command> bytecode compiler to build. When
		no value is set for this variable, the port will use
		<command xmlns:xlink="http://www.w3.org/1999/xlink">jikes</command> to build if available. You may
		also explicitly forbid or enforce the use of
		<command xmlns:xlink="http://www.w3.org/1999/xlink">jikes</command> (by setting <literal xmlns:xlink="http://www.w3.org/1999/xlink">'no'</literal>
		or <literal xmlns:xlink="http://www.w3.org/1999/xlink">'yes'</literal>). In the later case, <package xmlns:xlink="http://www.w3.org/1999/xlink">devel/jikes</package> will be added to build
		dependencies of the port. In any case that <command xmlns:xlink="http://www.w3.org/1999/xlink">jikes</command>
		is actually used in place of <command xmlns:xlink="http://www.w3.org/1999/xlink">javac</command>, then the
		<varname xmlns:xlink="http://www.w3.org/1999/xlink">HAVE_JIKES</varname> variable is defined by
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.java.mk</filename>.</entry>
	    </row>
	  </tbody>
	</tgroup>
      </table>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Below is the list of all settings a port will receive after
	setting <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_JAVA</varname>:</para>

      <table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Variables provided to ports that use Java</title>

	<tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	  <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Variable</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Value</entry>
	    </row>
	  </thead>
	  <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">JAVA_PORT</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">The name of the JDK port (e.g.
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">'java/jdk14'</literal>).</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">JAVA_PORT_VERSION</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">The full version of the JDK port (e.g.
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">'1.4.2'</literal>). If you only need the first
		two digits of this version number, use
		<varname xmlns:xlink="http://www.w3.org/1999/xlink">${JAVA_PORT_VERSION:C/^([0-9])\.([0-9])(.*)$/\1.\2/}</varname>.</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">JAVA_PORT_OS</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">The operating system used by the JDK port (e.g.
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">'linux'</literal>).</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">JAVA_PORT_VENDOR</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">The vendor of the JDK port (e.g.
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">'sun'</literal>).</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">JAVA_PORT_OS_DESCRIPTION</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Description of the operating system used by the JDK port
		(e.g. <literal xmlns:xlink="http://www.w3.org/1999/xlink">'Linux'</literal>).</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">JAVA_PORT_VENDOR_DESCRIPTION</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Description of the vendor of the JDK port (e.g.
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">'FreeBSD Foundation'</literal>).</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">JAVA_HOME</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Path to the installation directory of the JDK (e.g.
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">'/usr/local/jdk1.3.1'</filename>).</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">JAVAC</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Path to the Java compiler to use (e.g.
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">'/usr/local/jdk1.1.8/bin/javac'</filename> or
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">'/usr/local/bin/jikes'</filename>).</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">JAR</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Path to the <command xmlns:xlink="http://www.w3.org/1999/xlink">jar</command> tool to use (e.g.
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">'/usr/local/jdk1.2.2/bin/jar'</filename> or
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">'/usr/local/bin/fastjar'</filename>).</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">APPLETVIEWER</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Path to the <command xmlns:xlink="http://www.w3.org/1999/xlink">appletviewer</command> utility (e.g.
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">'/usr/local/linux-jdk1.2.2/bin/appletviewer'</filename>).</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">JAVA</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Path to the <command xmlns:xlink="http://www.w3.org/1999/xlink">java</command> executable. Use
		this for executing Java programs (e.g.
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">'/usr/local/jdk1.3.1/bin/java'</filename>).</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">JAVADOC</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Path to the <command xmlns:xlink="http://www.w3.org/1999/xlink">javadoc</command> utility
		program.</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">JAVAH</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Path to the <command xmlns:xlink="http://www.w3.org/1999/xlink">javah</command> program.</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">JAVAP</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Path to the <command xmlns:xlink="http://www.w3.org/1999/xlink">javap</command> program.</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">JAVA_KEYTOOL</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Path to the <command xmlns:xlink="http://www.w3.org/1999/xlink">keytool</command> utility program.
		This variable is available only if the JDK is Java 1.2 or
		higher.</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">JAVA_N2A</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Path to the <command xmlns:xlink="http://www.w3.org/1999/xlink">native2ascii</command> tool.</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">JAVA_POLICYTOOL</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Path to the <command xmlns:xlink="http://www.w3.org/1999/xlink">policytool</command> program.
		This variable is available only if the JDK is Java 1.2 or
		higher.</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">JAVA_SERIALVER</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Path to the <command xmlns:xlink="http://www.w3.org/1999/xlink">serialver</command> utility
		program.</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">RMIC</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Path to the RMI stub/skeleton generator,
		<command xmlns:xlink="http://www.w3.org/1999/xlink">rmic</command>.</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">RMIREGISTRY</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Path to the RMI registry program,
		<command xmlns:xlink="http://www.w3.org/1999/xlink">rmiregistry</command>.</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">RMID</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Path to the RMI daemon program <command xmlns:xlink="http://www.w3.org/1999/xlink">rmid</command>.
		This variable is only available if the JDK is Java 1.2
		or higher.</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">JAVA_CLASSES</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Path to the archive that contains the JDK class
		files. On JDK 1.2 or later, this is
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">${JAVA_HOME}/jre/lib/rt.jar</filename>.  Earlier
		JDKs used
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">${JAVA_HOME}/lib/classes.zip</filename>.</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">HAVE_JIKES</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Defined whenever <command xmlns:xlink="http://www.w3.org/1999/xlink">jikes</command> is used by
	        the port (see <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_JIKES</varname> above).</entry>
	    </row>
	  </tbody>
	</tgroup>
      </table>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">You may use the <literal xmlns:xlink="http://www.w3.org/1999/xlink">java-debug</literal> make target
	to get information for debugging your port. It will display the
	value of many of the forecited variables.</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Additionally, the following constants are defined so all
	Java ports may be installed in a consistent way:</para>

      <table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Constants defined for ports that use Java</title>

	<tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	  <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Constant</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Value</entry>
	    </row>
	  </thead>
	  <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">JAVASHAREDIR</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">The base directory for everything related to Java.
		Default: <filename xmlns:xlink="http://www.w3.org/1999/xlink">${PREFIX}/share/java</filename>.
	      </entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">JAVAJARDIR</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">The directory where JAR files should be installed.
		Default:
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">${JAVASHAREDIR}/classes</filename>.</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">JAVALIBDIR</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">The directory where JAR files installed by other
	        ports are located. Default:
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">${LOCALBASE}/share/java/classes</filename>.</entry>
	    </row>
	  </tbody>
	</tgroup>
      </table>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">The related entries are defined in both
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">PLIST_SUB</varname> (documented in
	<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="plist-sub"/>) and
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">SUB_LIST</varname>.</para>

      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="java-building-with-ant">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Building with Ant</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">When the port is to be built using Apache Ant, it has to
	  define <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_ANT</varname>. Ant is thus considered to be
	  the sub-make command. When no <literal xmlns:xlink="http://www.w3.org/1999/xlink">do-build</literal> target
	  is defined by the port, a default one will be set that simply
	  runs Ant according to <varname xmlns:xlink="http://www.w3.org/1999/xlink">MAKE_ENV</varname>,
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">MAKE_ARGS</varname> and <varname xmlns:xlink="http://www.w3.org/1999/xlink">ALL_TARGETS</varname>.
	  This is similar to the <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_GMAKE</varname> mechanism,
	  which is documented in <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="building"/>.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">If <command xmlns:xlink="http://www.w3.org/1999/xlink">jikes</command> is used in place of
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">javac</command> (see <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_JIKES</varname> in
	  <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="java-variables"/>), then Ant will automatically
	  use it to build the port.</para>

      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="java-best-practices">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Best practices</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">When porting a Java library, your port should install the
	  JAR file(s) in <filename xmlns:xlink="http://www.w3.org/1999/xlink">${JAVAJARDIR}</filename>, and everything
	  else under <filename xmlns:xlink="http://www.w3.org/1999/xlink">${JAVASHAREDIR}/${PORTNAME}</filename>
	  (except for the documentation, see below). In order to reduce
	  the packing file size, you may reference the JAR file(s) directly
	  in the <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>. Just use the following
	  statement (where <filename xmlns:xlink="http://www.w3.org/1999/xlink">myport.jar</filename> is the name
	  of the JAR file installed as part of the port):</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">PLIST_FILES+= %%JAVAJARDIR%%/myport.jar</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">When porting a Java application, the port usually installs
	  everything under a single directory (including its JAR
	  dependencies).  The use of
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">${JAVASHAREDIR}/${PORTNAME}</filename> is strongly
	  encouraged in this regard.  It is up the porter to decide
	  whether the port should install the additional JAR dependencies
	  under this directory or directly use the already installed ones
	  (from <filename xmlns:xlink="http://www.w3.org/1999/xlink">${JAVAJARDIR}</filename>).</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Regardless of the type of your port (library or application),
	  the additional documentation should be installed in the
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="install-documentation">same location</link> as for
	  any other port.  The JavaDoc tool is known to produce a
	  different set of files depending on the version of the JDK that
	  is used. For ports that do not enforce the use of a particular
	  JDK, it is therefore a complex task to specify the packing list
	  (<filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename>).  This is one reason why
	  porters are strongly encouraged to use the
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTDOCS</varname> macro.  Moreover, even if you can
	  predict the set of files that will be generated by
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">javadoc</command>, the size of the resulting
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename> advocates for the use of
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTDOCS</varname>.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">The default value for <varname xmlns:xlink="http://www.w3.org/1999/xlink">DATADIR</varname> is
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">${PREFIX}/share/${PORTNAME}</filename>.  It is a good
	  idea to override <varname xmlns:xlink="http://www.w3.org/1999/xlink">DATADIR</varname> to
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">${JAVASHAREDIR}/${PORTNAME}</filename> for Java ports.
	  Indeed, <varname xmlns:xlink="http://www.w3.org/1999/xlink">DATADIR</varname> is automatically added to
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PLIST_SUB</varname> (documented in <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="plist-sub"/>) so you may use
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">%%DATADIR%%</literal> directly in
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename>.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">As for the choice of building Java ports from source or
	  directly installing them from a binary distribution, there is
	  no defined policy at the time of writing.  However, people from
	  the <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.freebsd.org/java/">FreeBSD Java Project</link>
	  encourage porters to have their ports built from source whenever
	  it is a trivial task.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">All the features that have been presented in this section
	  are implemented in <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.java.mk</filename>. If you
	  ever think that your port needs more sophisticated Java support,
	  please first have a look at the <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.freebsd.org/cgi/cvsweb.cgi/ports/Mk/bsd.java.mk">
	  bsd.java.mk CVS log</link> as it usually takes some time to
	  document the latest features.  Then, if you think the support
	  you are lacking would be beneficial to many other Java ports,
	  feel free to discuss it on the <link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-java">FreeBSD Java Language 郵遞論壇</link>.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Although there is a <literal xmlns:xlink="http://www.w3.org/1999/xlink">java</literal> category for
	  PRs, it refers to the JDK porting effort from the FreeBSD Java
	  project.  Therefore, you should submit your Java port in the
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">ports</literal> category as for any other port, unless
	  the issue you are trying to resolve is related to either a JDK
	  implementation or <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.java.mk</filename>.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Similarly, there is a defined policy regarding the
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">CATEGORIES</varname> of a Java port, which is detailed
	  in <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="makefile-categories"/>.</para>

      </sect2>

    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="using-php">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Web applications, Apache and PHP</title>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="using-apache">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Apache</title>

	<table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">Variables for ports that use Apache</title>

	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_APACHE</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">The port requires Apache.  Possible values:
		  <literal xmlns:xlink="http://www.w3.org/1999/xlink">yes</literal> (gets any version),
		  <literal xmlns:xlink="http://www.w3.org/1999/xlink">1.3</literal>, <literal xmlns:xlink="http://www.w3.org/1999/xlink">2.0</literal>,
		  <literal xmlns:xlink="http://www.w3.org/1999/xlink">2.2</literal>, <literal xmlns:xlink="http://www.w3.org/1999/xlink">2.0+</literal>,
		  etc.  Default dependency is on version
		  <literal xmlns:xlink="http://www.w3.org/1999/xlink">1.3</literal>.</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">WITH_APACHE2</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">The port requires Apache 2.0.  Without this variable,
		  the port will depend on Apache 1.3.  This variable is
		  deprecated and should not be used anymore.</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">APXS</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Full path to the <command xmlns:xlink="http://www.w3.org/1999/xlink">apxs</command> binary.
		  Can be overriden in your port.</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">HTTPD</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Full path to the <command xmlns:xlink="http://www.w3.org/1999/xlink">httpd</command> binary.
		  Can be overriden in your port.</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">APACHE_VERSION</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">The version of present Apache installation (read-only
		  variable).  This variable is only available after inclusion
		  of <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.pre.mk</filename>.  Possible values:
		  <literal xmlns:xlink="http://www.w3.org/1999/xlink">13</literal>, <literal xmlns:xlink="http://www.w3.org/1999/xlink">20</literal>,
		  <literal xmlns:xlink="http://www.w3.org/1999/xlink">22</literal>.</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">APACHEMODDIR</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Directory for Apache modules.  This variable is
		  automatically expanded in pkg-plist.</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">APACHEINCLUDEDIR</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Directory for Apache headers.  This variable is
		  automatically expanded in pkg-plist.</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">APACHEETCDIR</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Directory for Apache configuration files.  This
		  variable is automatically expanded in pkg-plist.</entry>
	      </row>

	    </tbody>
	  </tgroup>
	</table>

	<table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">port Apache 模組時好用的變數</title>

	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">MODULENAME</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">模組名稱。  預設值為
		  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTNAME</varname>. 範例：
		  <literal xmlns:xlink="http://www.w3.org/1999/xlink">mod_hello</literal></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">SHORTMODNAME</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">簡化的模組名稱。  自動地由變數
		  <varname xmlns:xlink="http://www.w3.org/1999/xlink">MODULENAME</varname> 產生，不過可以覆蓋它。
		  範例： <literal xmlns:xlink="http://www.w3.org/1999/xlink">hello</literal></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">AP_FAST_BUILD</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">使用 <command xmlns:xlink="http://www.w3.org/1999/xlink">apxs</command>
		  來編譯及安裝這個模組。</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">AP_GENPLIST</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">同樣地，也是自動產生
		  <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename>。</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">AP_INC</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">在編譯時間加入一個目錄到標頭檔搜尋路徑。</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">AP_LIB</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">在編譯時間加入一個目錄到函式庫搜尋路徑。</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">AP_EXTRAS</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">傳給
		  <command xmlns:xlink="http://www.w3.org/1999/xlink">apxs</command> 額外的 flags。</entry>
	      </row>

	    </tbody>
	  </tgroup>
	</table>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="web-apps">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Web 應用程式</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Web 應用程式應該安裝到
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX/www/appname</filename>
	  。  For your convenience, this path is available both in
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> and in <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename>
	  as <varname xmlns:xlink="http://www.w3.org/1999/xlink">WWWDIR</varname>, and the path relative to
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX</varname> is available in
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> as
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">WWWDIR_REL</varname>.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">The user and group of web server process are available as
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">WWWOWN</varname> and <varname xmlns:xlink="http://www.w3.org/1999/xlink">WWWGRP</varname>, in case you
	  need to change the ownership of some files.  The default values of
	  both are <literal xmlns:xlink="http://www.w3.org/1999/xlink">www</literal>.  If you want different values for
	  your port, use <literal xmlns:xlink="http://www.w3.org/1999/xlink">WWWOWN?= myuser</literal> notation, to allow
	  user to override it easily.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">請別過於相依 Apache，除非這些程式有明確需要，而得相依 Apache
	  。也許有些使用者，會想在其他非 Apache 的 Web 伺服器上執行這些網頁程式。</para>

      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="php-variables">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">PHP</title>

	<table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">Variables for ports that use PHP</title>

	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_PHP</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">The port requires PHP.  The value <literal xmlns:xlink="http://www.w3.org/1999/xlink">yes</literal>
		  adds a dependency on PHP.  The list of required PHP extensions
		  can be specified instead.  Example: <literal xmlns:xlink="http://www.w3.org/1999/xlink">pcre xml
		  gettext</literal></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">DEFAULT_PHP_VER</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Selects which major version of PHP will be installed as
		  a dependency when no PHP is installed yet.  Default is
		  <literal xmlns:xlink="http://www.w3.org/1999/xlink">4</literal>. Possible values: <literal xmlns:xlink="http://www.w3.org/1999/xlink">4</literal>,
		  <literal xmlns:xlink="http://www.w3.org/1999/xlink">5</literal></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">IGNORE_WITH_PHP</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">The port does not work with PHP of the given version.
		  Possible values: <literal xmlns:xlink="http://www.w3.org/1999/xlink">4</literal>,
		  <literal xmlns:xlink="http://www.w3.org/1999/xlink">5</literal></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_PHPIZE</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">The port will be built as a PHP extension.</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_PHPEXT</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">The port will be treated as a PHP extension, including
		  installation and registration in the extension registry.</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_PHP_BUILD</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Set PHP as a build dependency.</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">WANT_PHP_CLI</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Want the CLI (command line) version of PHP.</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">WANT_PHP_CGI</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Want the CGI version of PHP.</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">WANT_PHP_MOD</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Want the Apache module version of PHP.</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">WANT_PHP_SCR</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Want the CLI or the CGI version of PHP.</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">WANT_PHP_WEB</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Want the Apache module or the CGI version of PHP.</entry>
	      </row>
	    </tbody>
	  </tgroup>
	</table>

      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">PEAR modules</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Porting PEAR modules is a very simple process.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Use the variables <varname xmlns:xlink="http://www.w3.org/1999/xlink">FILES</varname>,
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">TESTS</varname>, <varname xmlns:xlink="http://www.w3.org/1999/xlink">DATA</varname>,
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">SQLS</varname>, <varname xmlns:xlink="http://www.w3.org/1999/xlink">SCRIPTFILES</varname>,
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">DOCS</varname> and <varname xmlns:xlink="http://www.w3.org/1999/xlink">EXAMPLES</varname> to list the
	  files you want to install.  All listed files will be automatically
	  installed into the appropriate locations and added to
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename>.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Include
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">${PORTSDIR}/devel/pear/bsd.pear.mk</filename>
	  on the last line of the <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>.</para>

	<example xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="pear-makefile">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">Example Makefile for PEAR class</title>
	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">PORTNAME=       Date
PORTVERSION=    1.4.3
CATEGORIES=     devel www pear

MAINTAINER=     example@domain.com
COMMENT=        PEAR Date and Time Zone Classes

BUILD_DEPENDS=  ${PEARDIR}/PEAR.php:${PORTSDIR}/devel/pear-PEAR
RUN_DEPENDS=    ${BUILD_DEPENDS}

FILES=          Date.php Date/Calc.php Date/Human.php Date/Span.php     \
                Date/TimeZone.php
TESTS=          test_calc.php test_date_methods_span.php testunit.php   \
                testunit_date.php testunit_date_span.php wknotest.txt   \
                bug674.php bug727_1.php bug727_2.php bug727_3.php       \
                bug727_4.php bug967.php weeksinmonth_4_monday.txt       \
                weeksinmonth_4_sunday.txt weeksinmonth_rdm_monday.txt   \
                weeksinmonth_rdm_sunday.txt
DOCS=           TODO
_DOCSDIR=       .

.include &lt;bsd.port.pre.mk&gt;
.include "${PORTSDIR}/devel/pear/bsd.pear.mk"
.include &lt;bsd.port.post.mk&gt;</programlisting>

	</example>

      </sect2>

    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="using-python">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Using Python</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">The Ports Collection supports parallel installation of multiple
	Python versions.  Ports should make sure to use a correct
	<command xmlns:xlink="http://www.w3.org/1999/xlink">python</command> interpreter, according to the user-settable
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">PYTHON_VERSION</varname> variable.  Most prominently, this
	means replacing the path to <command xmlns:xlink="http://www.w3.org/1999/xlink">python</command> executable in
	scripts with the value of <varname xmlns:xlink="http://www.w3.org/1999/xlink">PYTHON_CMD</varname>
	variable.</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Ports that install files under <varname xmlns:xlink="http://www.w3.org/1999/xlink">PYTHON_SITELIBDIR</varname>
	should use the <literal xmlns:xlink="http://www.w3.org/1999/xlink">pyXY-</literal> package name prefix, so their
	package name embeds the version of Python they are installed
	into.</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">PKGNAMEPREFIX= ${PYTHON_PKGNAMEPREFIX}</programlisting>

      <table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Most useful variables for ports that use Python</title>

	<tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	  <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_PYTHON</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">The port needs Python.  Minimal required version can be
		specified with values such as <literal xmlns:xlink="http://www.w3.org/1999/xlink">2.3+</literal>.
		Version ranges can also be specified, by separating two version
		numbers with a dash, e.g.: <literal xmlns:xlink="http://www.w3.org/1999/xlink">2.1-2.3</literal></entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_PYDISTUTILS</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Use Python distutils for configuring, compiling and
		installing.  This is required when the port comes with
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">setup.py</filename>. This overrides the
		<buildtarget>do-build</buildtarget> and
		<buildtarget>do-install</buildtarget> targets
		and may also override <buildtarget>do-configure</buildtarget> if
		<varname xmlns:xlink="http://www.w3.org/1999/xlink">GNU_CONFIGURE</varname> is not defined.</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PYTHON_PKGNAMEPREFIX</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Used as a <varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGNAMEPREFIX</varname> to distinguish
		packages for different Python versions.
		Example: <literal xmlns:xlink="http://www.w3.org/1999/xlink">py24-</literal></entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PYTHON_SITELIBDIR</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Location of the site-packages tree, that contains
		installation path of Python (usually <varname xmlns:xlink="http://www.w3.org/1999/xlink">LOCALBASE</varname>).
		The <varname xmlns:xlink="http://www.w3.org/1999/xlink">PYTHON_SITELIBDIR</varname> variable can be very
		useful when installing Python modules.</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PYTHONPREFIX_SITELIBDIR</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">The PREFIX-clean variant of PYTHON_SITELIBDIR.
		Always use
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">%%PYTHON_SITELIBDIR%%</literal> in
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename> when possible. The default value of
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">%%PYTHON_SITELIBDIR%%</literal> is
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">lib/python%%PYTHON_VERSION%%/site-packages</literal></entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PYTHON_CMD</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Python interpreter command line, including version
	      number.</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PYNUMERIC</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Dependency line for numeric extension.</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PYNUMPY</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Dependency line for the new numeric extension, numpy.
		(PYNUMERIC is deprecated by upstream vendor).</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PYXML</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Dependency line for XML extension (not needed for
	      Python 2.0 and higher as it is also in base distribution).</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_TWISTED</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Add dependency on twistedCore.  The list of required
		components can be specified as a value of this
		variable.  Example: <literal xmlns:xlink="http://www.w3.org/1999/xlink">web lore pair
		flow</literal></entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_ZOPE</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Add dependency on Zope, a web application platform.
		Change Python dependency to Python 2.3.  Set
		<varname xmlns:xlink="http://www.w3.org/1999/xlink">ZOPEBASEDIR</varname> containing a directory with
		Zope installation.</entry>
	    </row>

	  </tbody>
	</tgroup>
      </table>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">A complete list of available variables can be found in
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/ports/Mk/bsd.python.mk</filename>.</para>

    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="using-emacs">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Using Emacs</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">This section is yet to be written.</para>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="using-ruby">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Using Ruby</title>

      <table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Useful variables for ports that use Ruby</title>

	<tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	  <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Variable</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Description</entry>
	    </row>
	  </thead>
	  <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_RUBY</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">The port requires Ruby.</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_RUBY_EXTCONF</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">The port uses <filename xmlns:xlink="http://www.w3.org/1999/xlink">extconf.rb</filename> to
		configure.</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_RUBY_SETUP</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">The port uses <filename xmlns:xlink="http://www.w3.org/1999/xlink">setup.rb</filename> to
		configure.</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">RUBY_SETUP</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Set to the alternative name of
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">setup.rb</filename>.  Common value is
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">install.rb</filename>.</entry>
	    </row>

	  </tbody>
	</tgroup>
      </table>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">The following table shows the selected variables available to port
	authors via the ports infrastructure.  These variables should be used
	to install files into their proper locations.  Use them in
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename> as much as possible.  These variables
	should not be redefined in the port.</para>

      <table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Selected read-only variables for ports that use Ruby</title>

	<tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="3">
	  <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Variable</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Description</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Example value</entry>
	    </row>
	  </thead>
	  <tbody xmlns:xlink="http://www.w3.org/1999/xlink">

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">RUBY_PKGNAMEPREFIX</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Used as a <varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGNAMEPREFIX</varname> to distinguish
		packages for different Ruby versions.</entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">ruby18-</literal></entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">RUBY_VERSION</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Full version of Ruby in the form of
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">x.y.z</literal>.</entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">1.8.2</literal></entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">RUBY_SITELIBDIR</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Architecture independent libraries installation
		path.</entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/lib/ruby/site_ruby/1.8</literal></entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">RUBY_SITEARCHLIBDIR</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Architecture dependent libraries installation
		path.</entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/lib/ruby/site_ruby/1.8/amd64-freebsd6</literal></entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">RUBY_MODDOCDIR</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Module documentation installation path.</entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/share/doc/ruby18/patsy</literal></entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">RUBY_MODEXAMPLESDIR</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Module examples installation path.</entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/share/examples/ruby18/patsy</literal></entry>
	    </row>

	  </tbody>
	</tgroup>
      </table>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">A complete list of available variables can be found in
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/ports/Mk/bsd.ruby.mk</filename>.</para>

    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="using-sdl">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Using SDL</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">The <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_SDL</varname> variable is used to autoconfigure
	the dependencies for ports which use an SDL based library like
	<package xmlns:xlink="http://www.w3.org/1999/xlink">devel/sdl12</package> and
	<package xmlns:xlink="http://www.w3.org/1999/xlink">x11-toolkits/sdl_gui</package>.</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">The following SDL libraries are recognized at the moment:</para>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">sdl: <package xmlns:xlink="http://www.w3.org/1999/xlink">devel/sdl12</package></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">gfx: <package xmlns:xlink="http://www.w3.org/1999/xlink">graphics/sdl_gfx</package></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">gui: <package xmlns:xlink="http://www.w3.org/1999/xlink">x11-toolkits/sdl_gui</package></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">image: <package xmlns:xlink="http://www.w3.org/1999/xlink">graphics/sdl_image</package></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">ldbad: <package xmlns:xlink="http://www.w3.org/1999/xlink">devel/sdl_ldbad</package></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">mixer: <package xmlns:xlink="http://www.w3.org/1999/xlink">audio/sdl_mixer</package></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">mm: <package xmlns:xlink="http://www.w3.org/1999/xlink">devel/sdlmm</package></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">net: <package xmlns:xlink="http://www.w3.org/1999/xlink">net/sdl_net</package></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">sound: <package xmlns:xlink="http://www.w3.org/1999/xlink">audio/sdl_sound</package></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">ttf: <package xmlns:xlink="http://www.w3.org/1999/xlink">graphics/sdl_ttf</package></para>
	</listitem>
      </itemizedlist>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Therefore, if a port has a dependency on
	<package xmlns:xlink="http://www.w3.org/1999/xlink">net/sdl_net</package> and
	<package xmlns:xlink="http://www.w3.org/1999/xlink">audio/sdl_mixer</package>,
	the syntax will be:</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">USE_SDL=        net mixer</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">The dependency <package xmlns:xlink="http://www.w3.org/1999/xlink">devel/sdl12</package>,
	which is required by <package xmlns:xlink="http://www.w3.org/1999/xlink">net/sdl_net</package> and
	<package xmlns:xlink="http://www.w3.org/1999/xlink">audio/sdl_mixer</package>, is automatically
	added as well.</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">If you use <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_SDL</varname>, it will automatically:</para>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Add a dependency on <application xmlns:xlink="http://www.w3.org/1999/xlink">sdl12-config</application> to
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">BUILD_DEPENDS</varname></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Add the variable <varname xmlns:xlink="http://www.w3.org/1999/xlink">SDL_CONFIG</varname> to
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">CONFIGURE_ENV</varname></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Add the dependencies of the selected libraries to the
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">LIB_DEPENDS</varname></para>
	</listitem>
      </itemizedlist>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">To check whether an SDL library is available, you can do it
	with the <varname xmlns:xlink="http://www.w3.org/1999/xlink">WANT_SDL</varname> variable:</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">WANT_SDL=yes

.include &lt;bsd.port.pre.mk&gt;

.if ${HAVE_SDL:Mmixer}!=""
USE_SDL+=   mixer
.endif

.include &lt;bsd.port.post.mk&gt;</programlisting>

    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="using-wx">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Using <application xmlns:xlink="http://www.w3.org/1999/xlink">wxWidgets</application></title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">This section describes the status of the
	<application xmlns:xlink="http://www.w3.org/1999/xlink">wxWidgets</application> libraries in the ports tree and
	its integration with the ports system.</para>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="wx-introduction">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Introduction</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">There are many versions of the
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">wxWidgets</application> libraries which conflict
	  between them (install files under the same name).  In the ports tree
	  this problem has been solved by installing each version under a
	  different name using version number suffixes.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">The obvious disadvantage of this is that each application has to
	  be modified to find the expected version.  Fortunately, most of the
	  applications call the <command xmlns:xlink="http://www.w3.org/1999/xlink">wx-config</command> script to
	  determine the necessary compiler and linker flags.  The script is
	  named differently for every available version.  Majority of
	  applications respect an environment variable, or accept a configure
	  argument, to specify which <command xmlns:xlink="http://www.w3.org/1999/xlink">wx-config</command> script to
	  call.  Otherwise they have to be patched.</para>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="wx-version">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Version selection</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">To make your port use a specific version of
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">wxWidgets</application> there are two variables
	  available for defining (if only one is defined the other will be set
	  to a default value):</para>

	<table xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="wx-ver-sel-table" frame="none">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">Variables to select <application xmlns:xlink="http://www.w3.org/1999/xlink">wxWidgets</application>
	    versions</title>

	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="3">
	    <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Variable</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Description</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Default value</entry>
	      </row>
	    </thead>

	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_WX</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">List of versions the port can use</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">All available versions</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_WX_NOT</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">List of versions the port can not use</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">None</entry>
	      </row>
	    </tbody>
	  </tgroup>
	</table>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">The following is a list of available
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">wxWidgets</application> versions and the corresponding
	  ports in the tree:</para>

	<table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">Available <application xmlns:xlink="http://www.w3.org/1999/xlink">wxWidgets</application>
	    versions</title>

	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	    <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Version</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Port</entry>
	      </row>
	    </thead>

	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">2.4</literal></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><package xmlns:xlink="http://www.w3.org/1999/xlink">x11-toolkits/wxgtk24</package></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">2.6</literal></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><package xmlns:xlink="http://www.w3.org/1999/xlink">x11-toolkits/wxgtk26</package></entry>
	      </row>
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">2.8</literal></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><package xmlns:xlink="http://www.w3.org/1999/xlink">x11-toolkits/wxgtk28</package></entry>
	      </row>
	    </tbody>
	  </tgroup>
	</table>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">The versions starting from <literal xmlns:xlink="http://www.w3.org/1999/xlink">2.5</literal> also come in
	    Unicode version and are installed by a slave port named like the
	    normal one plus a <literal xmlns:xlink="http://www.w3.org/1999/xlink">-unicode</literal> suffix, but this can
	    be handled with variables (see <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="wx-unicode"/>).</para>
	</note>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">The variables in <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="wx-ver-sel-table"/> can be set
	  to one or more of the following combinations separated by
	  spaces:</para>

	<table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">wxWidgets</application> version
	    specifications</title>

	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	    <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Description</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Example</entry>
	      </row>
	    </thead>

	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Single version</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">2.4</literal></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Ascending range</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">2.4+</literal></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Descending range</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">2.6-</literal></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Full range (must be ascending)</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">2.4-2.6</literal></entry>
	      </row>
	    </tbody>
	  </tgroup>
	</table>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">There are also some variables to select the preferred versions
	  from the available ones.  They can be set to a list of versions, the
	  first ones will have higher priority.</para>

	<table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">Variables to select preferred
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">wxWidgets</application> versions</title>

	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	    <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Name</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Designed for</entry>
	      </row>
	    </thead>

	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">WANT_WX_VER</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">the port</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">WITH_WX_VER</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">the user</entry>
	      </row>
	    </tbody>
	  </tgroup>
	</table>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="wx-components">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Component selection</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">There are other applications that, while not being
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">wxWidgets</application> libraries, are related to them.
	  These applications can be specified in the
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">WX_COMPS</varname> variable.  The following components are
	  available:</para>

	<table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">Available <application xmlns:xlink="http://www.w3.org/1999/xlink">wxWidgets</application>
	    components</title>

	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="3">
	    <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Name</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Description</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Version restriction</entry>
	      </row>
	    </thead>

	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">wx</literal></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">main library</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">none</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">contrib</literal></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">contributed libraries</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">none</literal></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">python</literal></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">wxPython</application>
		  (<application xmlns:xlink="http://www.w3.org/1999/xlink">Python</application> bindings)</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">2.4-2.6</literal></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">mozilla</literal></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">wxMozilla</application></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">2.4</literal></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">svg</literal></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">wxSVG</application></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">2.6</literal></entry>
	      </row>
	    </tbody>
	  </tgroup>
	</table>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">The dependency type can be selected for each component by adding
	  a suffix separated by a semicolon.  If not present then a default
	  type will be used (see <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="wx-def-dep-types"/>).  The
	  following types are available:</para>

	<table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">Available <application xmlns:xlink="http://www.w3.org/1999/xlink">wxWidgets</application> dependency
	    types</title>

	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	    <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Name</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Description</entry>
	      </row>
	    </thead>

	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">build</literal></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Component is required for building, equivalent to
		  <varname xmlns:xlink="http://www.w3.org/1999/xlink">BUILD_DEPENDS</varname></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">run</literal></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Component is required for running, equivalent to
		  <varname xmlns:xlink="http://www.w3.org/1999/xlink">RUN_DEPENDS</varname></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">lib</literal></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Component is required for building and running,
		  equivalent to <varname xmlns:xlink="http://www.w3.org/1999/xlink">LIB_DEPENDS</varname></entry>
	      </row>
	    </tbody>
	  </tgroup>
	</table>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">The default values for the components are detailed in the
	  following table:</para>

	<table xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="wx-def-dep-types" frame="none">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">Default <application xmlns:xlink="http://www.w3.org/1999/xlink">wxWidgets</application> dependency
	    types</title>

	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	    <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Component</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Dependency type</entry>
	      </row>
	    </thead>

	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">wx</literal></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">lib</literal></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">contrib</literal></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">lib</literal></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">python</literal></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">run</literal></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">mozilla</literal></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">lib</literal></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">svg</literal></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">lib</literal></entry>
	      </row>
	    </tbody>
	  </tgroup>
	</table>

	<example xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="wx-components-example">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">Selecting <application xmlns:xlink="http://www.w3.org/1999/xlink">wxWidgets</application>
	    components</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">The following fragment corresponds to a port which uses
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">wxWidgets</application> version
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">2.4</literal> and its contributed libraries.</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">USE_WX=       2.4
WX_COMPS=     wx contrib</programlisting>
	</example>
      </sect2>
      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="wx-unicode">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Unicode</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">The <application xmlns:xlink="http://www.w3.org/1999/xlink">wxWidgets</application> library supports
	  Unicode since version <literal xmlns:xlink="http://www.w3.org/1999/xlink">2.5</literal>.  In the ports tree
	  both versions are available and can be selected with the following
	  variables:</para>

	<table xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="wx-unicode-var-table" frame="none">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">Variables to select Unicode in
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">wxWidgets</application>
	    versions</title>

	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="3">
	    <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Variable</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Description</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Designed for</entry>
	      </row>
	    </thead>

	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">WX_UNICODE</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">The port works <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">only</emphasis> with the
		  Unicode version</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">the port</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">WANT_UNICODE</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">The port works with both versions but prefers the
		  Unicode one</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">the port</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">WITH_UNICODE</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">The port will use the Unicode version</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">the user</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">WITHOUT_UNICODE</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">The port will use the normal version if
		  supported (when <varname xmlns:xlink="http://www.w3.org/1999/xlink">WX_UNICODE</varname> is not
		  defined)</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">the user</entry>
	      </row>
	    </tbody>
	  </tgroup>
	</table>

	<warning xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Do not use <varname xmlns:xlink="http://www.w3.org/1999/xlink">WX_UNICODE</varname> for ports that can
	    use both Unicode and normal versions.  If you want the port to use
	    Unicode by default define <varname xmlns:xlink="http://www.w3.org/1999/xlink">WANT_UNICODE</varname>
	    instead.</para>
	</warning>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="wx-version-detection">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Detecting installed versions</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">To detect an installed version you have to define
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">WANT_WX</varname>.  If you do not set it to a specific
	  version then the components will have a version suffix.  The
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">HAVE_WX</varname> variable will be filled after
	  detection.</para>

	<example xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="wx-ver-det-example">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">Detecting installed <application xmlns:xlink="http://www.w3.org/1999/xlink">wxWidgets</application>
	    versions and components</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">The following fragment can be used in a port that uses
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">wxWidgets</application> if it is installed, or an
	    option is selected.</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">WANT_WX=        yes

.include &lt;bsd.port.pre.mk&gt;

.if defined(WITH_WX) || ${HAVE_WX:Mwx-2.4} != ""
USE_WX=         2.4
CONFIGURE_ARGS+=--enable-wx
.endif</programlisting>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">The following fragment can be used in a port that enables
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">wxPython</application> support if it is installed or
	    if an option is selected, in addition to
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">wxWidgets</application>, both version
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">2.6</literal>.</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">USE_WX=         2.6
WX_COMPS=       wx
WANT_WX=        2.6

.include &lt;bsd.port.pre.mk&gt;

.if defined(WITH_WXPYTHON) || ${HAVE_WX:Mpython} != ""
WX_COMPS+=      python
CONFIGURE_ARGS+=--enable-wxpython
.endif</programlisting>
	</example>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="wx-defined-variables">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Defined variables</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">The following variables are available in the port (after
	  defining one from <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="wx-ver-sel-table"/>).</para>

	<table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">Variables defined for ports that use
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">wxWidgets</application></title>

	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	    <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Name</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Description</entry>
	      </row>
	    </thead>

	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">WX_CONFIG</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">The path to the <application xmlns:xlink="http://www.w3.org/1999/xlink">wxWidgets</application>
		  <command xmlns:xlink="http://www.w3.org/1999/xlink">wx-config</command> script (with different
		  name)</entry>
	      </row>
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">WXRC_CMD</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">The path to the <application xmlns:xlink="http://www.w3.org/1999/xlink">wxWidgets</application>
		  <command xmlns:xlink="http://www.w3.org/1999/xlink">wxrc</command> program (with different
		  name)</entry>
	      </row>
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">WX_VERSION</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">The <application xmlns:xlink="http://www.w3.org/1999/xlink">wxWidgets</application> version that
		  is going to be used (e.g., <literal xmlns:xlink="http://www.w3.org/1999/xlink">2.6</literal>)</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">WX_UNICODE</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">If not defined but Unicode is going to be used then it
		  will be defined</entry>
	      </row>
	    </tbody>
	  </tgroup>
	</table>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="wx-premk">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Processing in <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.pre.mk</filename></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">If you need to use the variables for running commands right
	  after including <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.pre.mk</filename> you need to
	  define <varname xmlns:xlink="http://www.w3.org/1999/xlink">WX_PREMK</varname>.</para>

	<important xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">If you define <varname xmlns:xlink="http://www.w3.org/1999/xlink">WX_PREMK</varname>, then the version,
	    dependencies, components and defined variables will not change if
	    you modify the <application xmlns:xlink="http://www.w3.org/1999/xlink">wxWidgets</application> port variables
	    <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">after</emphasis> including
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.pre.mk</filename>.</para>
	</important>

	<example xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="wx-premk-example">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">Using <application xmlns:xlink="http://www.w3.org/1999/xlink">wxWidgets</application> variables in
	    commands</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">The following fragment illustrates the use of
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">WX_PREMK</varname> by running the
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">wx-config</command> script to obtain the full version
	    string, assign it to a variable and pass it to the program.</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">USE_WX=         2.4
WX_PREMK=       yes

.include &lt;bsd.port.pre.mk&gt;

.if exists(${WX_CONFIG})
VER_STR!=       ${WX_CONFIG} --release

PLIST_SUB+=     VERSION="${VER_STR}"
.endif</programlisting>
	</example>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">The <application xmlns:xlink="http://www.w3.org/1999/xlink">wxWidgets</application> variables can be
	    safely used in commands when they are inside targets without the
	    need of <varname xmlns:xlink="http://www.w3.org/1999/xlink">WX_PREMK</varname>.</para>
	</note>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="wx-additional-config-args">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Additional <command xmlns:xlink="http://www.w3.org/1999/xlink">configure</command> arguments</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Some GNU <command xmlns:xlink="http://www.w3.org/1999/xlink">configure</command> scripts can not find
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">wxWidgets</application> with just the
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">WX_CONFIG</literal> environment variable set, requiring
	  additional arguments.  The <varname xmlns:xlink="http://www.w3.org/1999/xlink">WX_CONF_ARGS</varname> variable
	  can be used for provide them.</para>

	<table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">Legal values for <varname xmlns:xlink="http://www.w3.org/1999/xlink">WX_CONF_ARGS</varname></title>

	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	    <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Possible value</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Resulting argument</entry>
	      </row>
	    </thead>

	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">absolute</literal></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">--with-wx-config=${WX_CONFIG}</literal></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">relative</literal></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">--with-wx=${LOCALBASE}
		    --with-wx-config=${WX_CONFIG:T}</literal></entry>
	      </row>
	    </tbody>
	  </tgroup>
	</table>
      </sect2>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="using-lua">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Using <application xmlns:xlink="http://www.w3.org/1999/xlink">Lua</application></title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">This section describes the status of the
	<application xmlns:xlink="http://www.w3.org/1999/xlink">Lua</application> libraries in the ports tree and its
	integration with the ports system.</para>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="lua-introduction">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Introduction</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">There are many versions of the <application xmlns:xlink="http://www.w3.org/1999/xlink">Lua</application>
	  libraries and corresponding interpreters, which conflict between
	  them (install files under the same name).  In the ports tree this
	  problem has been solved by installing each version under a different
	  name using version number suffixes.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">The obvious disadvantage of this is that each application has to
	  be modified to find the expected version.  But it can be solved by
	  adding some additional flags to the compiler and linker.</para>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="lua-version">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Version selection</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">To make your port use a specific version of
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">Lua</application> there are two variables available
	  for defining (if only one is defined the other will be set to a
	  default value):</para>

	<table xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="lua-ver-sel-table" frame="none">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">Variables to select <application xmlns:xlink="http://www.w3.org/1999/xlink">Lua</application>
	    versions</title>

	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="3">
	    <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Variable</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Description</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Default value</entry>
	      </row>
	    </thead>

	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_LUA</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">List of versions the port can use</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">All available versions</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_LUA_NOT</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">List of versions the port can not use</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">None</entry>
	      </row>
	    </tbody>
	  </tgroup>
	</table>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">The following is a list of available
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">Lua</application> versions and the corresponding ports
	  in the tree:</para>

	<table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">Available <application xmlns:xlink="http://www.w3.org/1999/xlink">Lua</application> versions</title>

	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	    <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Version</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Port</entry>
	      </row>
	    </thead>

	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">4.0</literal></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><package xmlns:xlink="http://www.w3.org/1999/xlink">lang/lua4</package></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">5.0</literal></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><package xmlns:xlink="http://www.w3.org/1999/xlink">lang/lua50</package></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">5.1</literal></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><package xmlns:xlink="http://www.w3.org/1999/xlink">lang/lua</package></entry>
	      </row>
	    </tbody>
	  </tgroup>
	</table>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">The variables in <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="lua-ver-sel-table"/> can be set
	  to one or more of the following combinations separated by
	  spaces:</para>

	<table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Lua</application> version specifications</title>

	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	    <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Description</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Example</entry>
	      </row>
	    </thead>

	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Single version</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">4.0</literal></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Ascending range</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">5.0+</literal></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Descending range</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">5.0-</literal></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Full range (must be ascending)</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">5.0-5.1</literal></entry>
	      </row>
	    </tbody>
	  </tgroup>
	</table>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">There are also some variables to select the preferred versions
	  from the available ones.  They can be set to a list of versions, the
	  first ones will have higher priority.</para>

	<table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">Variables to select preferred <application xmlns:xlink="http://www.w3.org/1999/xlink">Lua</application>
	    versions</title>

	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	    <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Name</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Designed for</entry>
	      </row>
	    </thead>

	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">WANT_LUA_VER</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">the port</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">WITH_LUA_VER</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">the user</entry>
	      </row>
	    </tbody>
	  </tgroup>
	</table>

	<example xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="lua-version-example">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">Selecting the <application xmlns:xlink="http://www.w3.org/1999/xlink">Lua</application> version</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">The following fragment is from a port which can use
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">Lua</application> version <literal xmlns:xlink="http://www.w3.org/1999/xlink">5.0</literal> or
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">5.1</literal>, and uses <literal xmlns:xlink="http://www.w3.org/1999/xlink">5.0</literal> by
	    default.  It can be overriden by the user using
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">WITH_LUA_VER</varname>.</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">USE_LUA=      5.0-5.1
WANT_LUA_VER= 5.0</programlisting>
	</example>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="lua-components">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Component selection</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">There are other applications that, while not being
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">Lua</application> libraries, are related to them.
	  These applications can be specified in the
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">LUA_COMPS</varname> variable. The following components are
	  available:</para>

	<table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">Available <application xmlns:xlink="http://www.w3.org/1999/xlink">Lua</application> components</title>

	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="3">
	    <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Name</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Description</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Version restriction</entry>
	      </row>
	    </thead>

	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">lua</literal></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">main library</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">none</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">tolua</literal></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Library for accesing C/C++ code</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">4.0-5.0</literal></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">ruby</literal></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Ruby bindings</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">4.0-5.0</literal></entry>
	      </row>
	    </tbody>
	  </tgroup>
	</table>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">There are more components but they are modules for the
	    interpreter, not used by applications (only by other
	    modules).</para>
	</note>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">The dependency type can be selected for each component by adding
	  a suffix separated by a semicolon.  If not present then a default
	  type will be used (see <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="lua-def-dep-types"/>).  The
	  following types are available:</para>

	<table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">Available <application xmlns:xlink="http://www.w3.org/1999/xlink">Lua</application> dependency
	    types</title>

	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	    <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Name</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Description</entry>
	      </row>
	    </thead>

	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">build</literal></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Component is required for building, equivalent to
		  <varname xmlns:xlink="http://www.w3.org/1999/xlink">BUILD_DEPENDS</varname></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">run</literal></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Component is required for running, equivalent to
		  <varname xmlns:xlink="http://www.w3.org/1999/xlink">RUN_DEPENDS</varname></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">lib</literal></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Component is required for building and running,
		  equivalent to <varname xmlns:xlink="http://www.w3.org/1999/xlink">LIB_DEPENDS</varname></entry>
	      </row>
	    </tbody>
	  </tgroup>
	</table>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">The default values for the components are detailed in the
	  following table:</para>

	<table xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="lua-def-dep-types" frame="none">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">Default <application xmlns:xlink="http://www.w3.org/1999/xlink">Lua</application> dependency
	    types</title>

	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	    <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Component</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Dependency type</entry>
	      </row>
	    </thead>

	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">lua</literal></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">lib</literal> for <literal xmlns:xlink="http://www.w3.org/1999/xlink">4.0-5.0</literal>
		  (shared) and <literal xmlns:xlink="http://www.w3.org/1999/xlink">build</literal> for
		  <literal xmlns:xlink="http://www.w3.org/1999/xlink">5.1</literal> (static)</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">tolua</literal></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">build</literal> (static)</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">ruby</literal></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">lib</literal> (shared)</entry>
	      </row>
	    </tbody>
	  </tgroup>
	</table>

	<example xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="lua-components-example">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">Selecting <application xmlns:xlink="http://www.w3.org/1999/xlink">Lua</application> components</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">The following fragment corresponds to a port which uses
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">Lua</application> version <literal xmlns:xlink="http://www.w3.org/1999/xlink">4.0</literal> and
	    its <application xmlns:xlink="http://www.w3.org/1999/xlink">Ruby</application> bindings.</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">USE_LUA=      4.0
LUA_COMPS=    lua ruby</programlisting>
	</example>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="lua-version-detection">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Detecting installed versions</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">To detect an installed version you have to define
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">WANT_LUA</varname>.  If you do not set it to a specific
	  version then the components will have a version suffix.  The
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">HAVE_LUA</varname> variable will be filled after
	  detection.</para>

	<example xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="lua-ver-det-example">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">Detecting installed <application xmlns:xlink="http://www.w3.org/1999/xlink">Lua</application> versions
	    and components</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">The following fragment can be used in a port that uses
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">Lua</application> if it is installed, or an option is
	    selected.</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">WANT_LUA=       yes

.include &lt;bsd.port.pre.mk&gt;

.if defined(WITH_LUA5) || ${HAVE_LUA:Mlua-5.[01]} != ""
USE_LUA=        5.0-5.1
CONFIGURE_ARGS+=--enable-lua5
.endif</programlisting>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">The following fragment can be used in a port that enables
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">tolua</application> support if it is installed or if
	    an option is selected, in addition to
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">Lua</application>, both version
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">4.0</literal>.</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">USE_LUA=        4.0
LUA_COMPS=      lua
WANT_LUA=       4.0

.include &lt;bsd.port.pre.mk&gt;

.if defined(WITH_TOLUA) || ${HAVE_LUA:Mtolua} != ""
LUA_COMPS+=     tolua
CONFIGURE_ARGS+=--enable-tolua
.endif</programlisting>
	</example>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="lua-defined-variables">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Defined variables</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">The following variables are available in the port (after
	  defining one from <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="lua-ver-sel-table"/>).</para>

	<table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">Variables defined for ports that use
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">Lua</application></title>

	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	    <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Name</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Description</entry>
	      </row>
	    </thead>

	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">LUA_VER</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">The <application xmlns:xlink="http://www.w3.org/1999/xlink">Lua</application> version that is
		  going to be used (e.g., <literal xmlns:xlink="http://www.w3.org/1999/xlink">5.1</literal>)</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">LUA_VER_SH</varname></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">The <application xmlns:xlink="http://www.w3.org/1999/xlink">Lua</application> shared library major
		  version (e.g., <literal xmlns:xlink="http://www.w3.org/1999/xlink">1</literal>)</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">LUA_VER_STR</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">The <application xmlns:xlink="http://www.w3.org/1999/xlink">Lua</application> version without the
		  dots (e.g., <literal xmlns:xlink="http://www.w3.org/1999/xlink">51</literal>)</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">LUA_PREFIX</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">The prefix where <application xmlns:xlink="http://www.w3.org/1999/xlink">Lua</application> (and
		  components) is installed</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">LUA_SUBDIR</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">The directory under <filename xmlns:xlink="http://www.w3.org/1999/xlink">${PREFIX}/bin</filename>,
		  <filename xmlns:xlink="http://www.w3.org/1999/xlink">${PREFIX}/share</filename> and
		  <filename xmlns:xlink="http://www.w3.org/1999/xlink">${PREFIX}/lib</filename> where
		  <application xmlns:xlink="http://www.w3.org/1999/xlink">Lua</application> is installed</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">LUA_INCDIR</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">The directory where <application xmlns:xlink="http://www.w3.org/1999/xlink">Lua</application> and
		  <application xmlns:xlink="http://www.w3.org/1999/xlink">tolua</application> header files are
		  installed</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">LUA_LIBDIR</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">The directory where <application xmlns:xlink="http://www.w3.org/1999/xlink">Lua</application> and
		  <application xmlns:xlink="http://www.w3.org/1999/xlink">tolua</application> libraries are
		  installed</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">LUA_MODLIBDIR</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">The directory where <application xmlns:xlink="http://www.w3.org/1999/xlink">Lua</application>
		  module libraries (<filename xmlns:xlink="http://www.w3.org/1999/xlink">.so</filename>) are
		  installed</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">LUA_MODSHAREDIR</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">The directory where <application xmlns:xlink="http://www.w3.org/1999/xlink">Lua</application>
		  modules (<filename xmlns:xlink="http://www.w3.org/1999/xlink">.lua</filename>) are installed</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">LUA_PKGNAMEPREFIX</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">The package name prefix used by
		  <application xmlns:xlink="http://www.w3.org/1999/xlink">Lua</application> modules</entry>
	      </row>
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">LUA_CMD</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">The path to the <application xmlns:xlink="http://www.w3.org/1999/xlink">Lua</application>
		  interpreter</entry>
	      </row>
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">LUAC_CMD</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">The path to the <application xmlns:xlink="http://www.w3.org/1999/xlink">Lua</application>
		  compiler</entry>
	      </row>
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">TOLUA_CMD</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">The path to the <application xmlns:xlink="http://www.w3.org/1999/xlink">tolua</application>
		  program</entry>
	      </row>
	    </tbody>
	  </tgroup>
	</table>

	<example xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="lua-variables-example">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">Telling the port where to find
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">Lua</application></title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">The following fragment shows how to tell a port that uses a
	    configure script where the <application xmlns:xlink="http://www.w3.org/1999/xlink">Lua</application> header
	    files and libraries are.</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">
USE_LUA=        4.0
GNU_CONFIGURE=  yes
CONFIGURE_ENV=  CPPFLAGS="-I${LUA_INCDIR}" LDFLAGS="-L${LUA_LIBDIR}"</programlisting>
	</example>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="lua-premk">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Processing in <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.pre.mk</filename></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">If you need to use the variables for running commands right
	  after including <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.pre.mk</filename> you need to
	  define <varname xmlns:xlink="http://www.w3.org/1999/xlink">LUA_PREMK</varname>.</para>

	<important xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">If you define <varname xmlns:xlink="http://www.w3.org/1999/xlink">LUA_PREMK</varname>, then the version,
	    dependencies, components and defined variables will not change if
	    you modify the <application xmlns:xlink="http://www.w3.org/1999/xlink">Lua</application> port variables
	    <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">after</emphasis> including
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.pre.mk</filename>.</para>
	</important>

	<example xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="lua-premk-example">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">Using <application xmlns:xlink="http://www.w3.org/1999/xlink">Lua</application> variables in
	    commands</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">The following fragment illustrates the use of
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">LUA_PREMK</varname> by running the
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">Lua</application> interpreter to obtain the full
	    version string, assign it to a variable and pass it to the
	    program.</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">USE_LUA=        5.0
LUA_PREMK=      yes

.include &lt;bsd.port.pre.mk&gt;

.if exists(${LUA_CMD})
VER_STR!=       ${LUA_CMD} -v

CFLAGS+=        -DLUA_VERSION_STRING="${VER_STR}"
.endif</programlisting>
	</example>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">The <application xmlns:xlink="http://www.w3.org/1999/xlink">Lua</application> variables can be safely
	    used in commands when they are inside targets without the need of
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">LUA_PREMK</varname>.</para>
	</note>
      </sect2>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="using-xfce">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Using Xfce</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">The <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_XFCE</varname> variable is used to autoconfigure
	the dependencies for ports which use an Xfce based library or application
	like
	<package xmlns:xlink="http://www.w3.org/1999/xlink">x11-toolkits/libxfce4gui</package> and
	<package xmlns:xlink="http://www.w3.org/1999/xlink">x11-wm/xfce4-panel</package>.</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">The following Xfce libraries and applications are recognized at
	the moment:</para>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">libexo: <package xmlns:xlink="http://www.w3.org/1999/xlink">x11/libexo</package></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">libgui: <package xmlns:xlink="http://www.w3.org/1999/xlink">x11-toolkits/libxfce4gui</package></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">libutil: <package xmlns:xlink="http://www.w3.org/1999/xlink">x11/libxfce4util</package></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">libmcs: <package xmlns:xlink="http://www.w3.org/1999/xlink">x11/libxfce4mcs</package></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">mcsmanager: <package xmlns:xlink="http://www.w3.org/1999/xlink">sysutils/xfce4-mcs-manager</package></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">panel: <package xmlns:xlink="http://www.w3.org/1999/xlink">x11-wm/xfce4-panel</package></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">thunar: <package xmlns:xlink="http://www.w3.org/1999/xlink">x11-fm/thunar</package></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">wm: <package xmlns:xlink="http://www.w3.org/1999/xlink">x11-wm/xfce4-wm</package></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">xfdev: <package xmlns:xlink="http://www.w3.org/1999/xlink">dev/xfce4-dev-tools</package></para>
	</listitem>

      </itemizedlist>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">The following additional parameters are recognized:</para>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">configenv: Use this if your port requires a special modified
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">CONFIGURE_ENV</varname> to find it's required libraries.
	    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">-I${LOCALBASE}/include -L${LOCALBASE}/lib</programlisting>
	    gets added to CPPFLAGS to <varname xmlns:xlink="http://www.w3.org/1999/xlink">CONFIGURE_ENV</varname>.</para>
	</listitem>

      </itemizedlist>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Therefore, if a port has a dependency on
	<package xmlns:xlink="http://www.w3.org/1999/xlink">sysutils/xfce4-mcs-manager</package> and
	requires the special CPPFLAGS in its configure environment,
	the syntax will be:</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">USE_XFCE=        mcsmanager configenv</programlisting>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="using-databases">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Using databases</title>

	<table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">Variables for ports using databases</title>

	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	    <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Variable</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Means</entry>
	      </row>
	    </thead>

	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_BDB</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">If variable is set to <literal xmlns:xlink="http://www.w3.org/1999/xlink">yes</literal>,
		  add dependency on <package xmlns:xlink="http://www.w3.org/1999/xlink">databases/db41</package>
		  port.  The variable may also be set to values: 2, 3, 40, 41,
		  42, 43, 44, 45 46, or 47.  You can declare a range of
		  acceptable values, <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_BDB</varname>=42+ will find
		  the highest installed version, and fall back to 42 if nothing
		  else is installed.</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_MYSQL</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">If variable is set to <literal xmlns:xlink="http://www.w3.org/1999/xlink">yes</literal>, add
		  dependency on <package xmlns:xlink="http://www.w3.org/1999/xlink">databases/mysql50-server</package>
		  port.  An associated variable,
		  <varname xmlns:xlink="http://www.w3.org/1999/xlink">WANT_MYSQL_VER</varname>, may be
		  set to values such as 323, 40, 41, 50, 51 or 60.</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_PGSQL</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">If set to <literal xmlns:xlink="http://www.w3.org/1999/xlink">yes</literal>, add dependency on
		  <package xmlns:xlink="http://www.w3.org/1999/xlink">databases/postgresql82</package>
		  port.  An associated variable,
		  <varname xmlns:xlink="http://www.w3.org/1999/xlink">WANT_PGSQL_VER</varname>, may be set to values such
		  as 73, 74, 80, 81, 82, or 83.</entry>
	      </row>

	    </tbody>
	  </tgroup>
	</table>

    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="rc-scripts">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Starting and stopping services (rc scripts)</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">rc.d</filename> scripts are used to start services on system
	startup, and to give administrators a standard way of stopping,
	starting and restarting the service.  Ports integrate into
	the system <filename xmlns:xlink="http://www.w3.org/1999/xlink">rc.d</filename> framework.  Details on its usage
	can be found in
	<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="../../../../doc/zh_TW.UTF-8/books/handbook/configtuning-rcd.html">the rc.d Handbook
	chapter</link>.  Detailed explanation of available commands is
	provided in
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">rc</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> and <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">rc.subr</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>.  Finally, there is
	<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="../../../../doc/en_US.ISO8859-1/articles/rc-scripting">an article</link>
	on practical aspects of <filename xmlns:xlink="http://www.w3.org/1999/xlink">rc.d</filename> scripting.</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">One or more rc scripts can be installed:</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">USE_RC_SUBR=	doormand</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Scripts must be placed in the <filename xmlns:xlink="http://www.w3.org/1999/xlink">files</filename>
	subdirectory and a <literal xmlns:xlink="http://www.w3.org/1999/xlink">.in</literal> suffix must be added to their
	filename.  The only difference from a base system <filename xmlns:xlink="http://www.w3.org/1999/xlink">rc.d</filename> script is that the
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">. /etc/rc.subr</literal> line must be replaced with the
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">. %%RC_SUBR%%</literal>, because older versions of FreeBSD
	do not have an <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.subr</filename> file.  Standard
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">SUB_LIST</varname> expansions are used too.
	Use of the <literal xmlns:xlink="http://www.w3.org/1999/xlink">%%PREFIX%%</literal> and
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">%%LOCALBASE%%</literal> expansions is strongly encouraged as well.
	More on
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">SUB_LIST</varname> in <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="using-sub-files">the relevant section</link>.</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Prior to FreeBSD 6.1-RELEASE, integration with <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">rcorder</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> is available by using
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_RCORDER</varname> instead of
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_RC_SUBR</varname>.
	However, use of this method is deprecated.</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">As of FreeBSD 6.1-RELEASE, local <filename xmlns:xlink="http://www.w3.org/1999/xlink">rc.d</filename>
	scripts (including those installed by ports) are included in
	the overall <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">rcorder</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> of the base system.</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Example simple <filename xmlns:xlink="http://www.w3.org/1999/xlink">rc.d</filename> script:</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">#!/bin/sh

# PROVIDE: doormand
# REQUIRE: LOGIN
#
# Add the following lines to /etc/rc.conf.local or /etc/rc.conf
# to enable this service:
#
# doormand_enable (bool):	Set to NO by default.
#				Set it to YES to enable doormand.
# doormand_config (path):	Set to %%PREFIX%%/etc/doormand/doormand.cf
#				by default.
#

. %%RC_SUBR%%

name="doormand"
rcvar=${name}_enable

command=%%PREFIX%%/sbin/${name}
pidfile=/var/run/${name}.pid

load_rc_config $name

: ${doormand_enable="NO"}
: ${doormand_config="%%PREFIX%%/etc/doormand/doormand.cf"}

command_args="-p $pidfile -f $doormand_config"

run_rc_command "$1"</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">The "=" style of default variable assignment
	is preferable to the ":=" style here, since the
	former sets a default value only if the variable is unset,
	and the latter sets one if the variable is unset
	<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">or</emphasis> null.
	A user might very well include something like
	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">doormand_flags=""</programlisting> in their
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">rc.conf.local</filename> file, and a variable
	substitution using ":=" would inappropriately
	override the user's intention.</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">The suffix of the rc script is provided in
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">RC_SUBR_SUFFIX</varname> for further use in the port's
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>.  Current versions of FreeBSD do not add
	any suffix to the script name, but older versions used to add
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">.sh</filename> suffix.</para>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">No new scripts should be added with the <filename xmlns:xlink="http://www.w3.org/1999/xlink">.sh</filename>
	  suffix. At some point there will be a mass repocopy of all the
	  scripts that still have that suffix.</para>
      </note>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Stopping services at deinstall</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">It is possible to have a service stopped automatically as part of
	  the deinstall routine.  We advise using this feature only when it's
	  absolutely necessary to stop a service before it's files go
	  away.  Usually, it's up to the administrator's discretion to decide,
	  whether to stop the service on deinstall or not.  Also note this
	  affects upgrades, too.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Line like this goes to the <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename>:</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">@stopdaemon doormand</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">The argument must match the content of
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_RC_SUBR</varname> variable.</para>
      </sect2>
    </sect1>
  </chapter>


    <chapter xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="plist">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Advanced <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename> practices</title>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="plist-sub">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Changing <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename> based on make
	  variables</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Some ports, particularly the <literal xmlns:xlink="http://www.w3.org/1999/xlink">p5-</literal> ports,
	  need to change their <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename> depending on
	  what options they are configured with (or version of
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">perl</literal>, in the case of <literal xmlns:xlink="http://www.w3.org/1999/xlink">p5-</literal>
	  ports).  To make this easy, any instances in the
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename> of <literal xmlns:xlink="http://www.w3.org/1999/xlink">%%OSREL%%</literal>,
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">%%PERL_VER%%</literal>, and
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">%%PERL_VERSION%%</literal> will be substituted for
	  appropriately.  The value of <literal xmlns:xlink="http://www.w3.org/1999/xlink">%%OSREL%%</literal> is the
	  numeric revision of the operating system (e.g.,
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">4.9</literal>).  <literal xmlns:xlink="http://www.w3.org/1999/xlink">%%PERL_VERSION%%</literal> is
	  the full version number of <command xmlns:xlink="http://www.w3.org/1999/xlink">perl</command> (e.g.,
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">5.00502</literal>) and <literal xmlns:xlink="http://www.w3.org/1999/xlink">%%PERL_VER%%</literal>
	  is the <command xmlns:xlink="http://www.w3.org/1999/xlink">perl</command> version number minus
	  the patchlevel (e.g., <literal xmlns:xlink="http://www.w3.org/1999/xlink">5.005</literal>).  Several other
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">%%VARS%%</literal> related to
	  port's documentation files are described in <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="install-documentation">the relevant section</link>.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">If you need to make other substitutions, you can set the
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PLIST_SUB</varname> variable with a list of
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">VAR=VALUE</literal>
	  pairs and instances of
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">%%VAR%%</literal> will be
	  substituted with <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">VALUE</replaceable> in the
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename>.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">For instance, if you have a port that installs many files in a
	  version-specific subdirectory, you can put something like</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">OCTAVE_VERSION= 2.0.13
PLIST_SUB=      OCTAVE_VERSION=${OCTAVE_VERSION}</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">in the <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> and use
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">%%OCTAVE_VERSION%%</literal> wherever the version shows up
	  in <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename>.  That way, when you upgrade the port,
	  you will not have to change dozens (or in some cases, hundreds) of
	  lines in the <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename>.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">This substitution (as well as addition of any <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="makefile-manpages">manual pages</link>) will be done between
	  the <buildtarget>pre-install</buildtarget> and
	  <buildtarget>do-install</buildtarget> targets, by reading from
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">PLIST</filename> and writing to
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">TMPPLIST</filename>
	  (default:
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">WRKDIR/.PLIST.mktmp</filename>).  So if
	  your port builds <filename xmlns:xlink="http://www.w3.org/1999/xlink">PLIST</filename>
	  on the fly, do so in or
	  before <buildtarget>pre-install</buildtarget>.  Also, if your port
	  needs to edit the resulting file, do so in
	  <buildtarget>post-install</buildtarget> to a file named
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">TMPPLIST</filename>.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Another possibility to modify port's packing list is based
	  on setting the variables <varname xmlns:xlink="http://www.w3.org/1999/xlink">PLIST_FILES</varname> and
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PLIST_DIRS</varname>.  The value of each variable
	  is regarded as a list of pathnames to
	  write to <filename xmlns:xlink="http://www.w3.org/1999/xlink">TMPPLIST</filename>
	  along with <filename xmlns:xlink="http://www.w3.org/1999/xlink">PLIST</filename>
	  contents.  Names listed in <varname xmlns:xlink="http://www.w3.org/1999/xlink">PLIST_FILES</varname>
	  and <varname xmlns:xlink="http://www.w3.org/1999/xlink">PLIST_DIRS</varname> are subject to
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">%%VAR%%</literal>
	  substitution, as described above.
	  Except for that, names from <varname xmlns:xlink="http://www.w3.org/1999/xlink">PLIST_FILES</varname>
	  will appear in the final packing list unchanged,
	  while <literal xmlns:xlink="http://www.w3.org/1999/xlink">@dirrm</literal> will be
	  prepended to names from <varname xmlns:xlink="http://www.w3.org/1999/xlink">PLIST_DIRS</varname>.
	  To take effect, <varname xmlns:xlink="http://www.w3.org/1999/xlink">PLIST_FILES</varname> and
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PLIST_DIRS</varname> must be set before
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">TMPPLIST</filename> is written,
	  i.e. in <buildtarget>pre-install</buildtarget> or earlier.</para>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="plist-cleaning">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Empty directories</title>

	<sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="plist-dir-cleaning">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">Cleaning up empty directories</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Do make your ports remove empty directories when they are
	  de-installed.  This is usually accomplished by adding
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">@dirrm</literal> lines for all directories that are
	  specifically created by the port.  You need to delete subdirectories
	  before you can delete parent directories.</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink"> :
lib/X11/oneko/pixmaps/cat.xpm
lib/X11/oneko/sounds/cat.au
 :
@dirrm lib/X11/oneko/pixmaps
@dirrm lib/X11/oneko/sounds
@dirrm lib/X11/oneko</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">However, sometimes <literal xmlns:xlink="http://www.w3.org/1999/xlink">@dirrm</literal> will give you
	  errors because other ports share the same directory.  You
	  can use <literal xmlns:xlink="http://www.w3.org/1999/xlink">@dirrmtry</literal> to
	  remove only empty directories without warning.</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">@dirrmtry share/doc/gimp</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">This will neither print any error messages nor cause
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pkg_delete</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> to exit abnormally even if
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">${PREFIX}/share/doc/gimp</filename> is not
	  empty due to other ports installing some files in there.</para>
	</sect2>

	<sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="plist-dir-empty">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">Creating empty directories</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Empty directories created during port installation need special
	    attention.  They will not get created when installing the package,
	    because packages only store the files, and <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pkg_add</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> creates
	    directories for them as needed.  To make sure the empty directory
	    is created when installing the package, add this line to
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename> above the corresponding
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">@dirrm</literal> line:</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">@exec mkdir -p %D/share/foo/templates</programlisting>
	</sect2>

      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="plist-config">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Configuration files</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">If your port requires some configuration files in
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX/etc</filename>, do
	  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">not</emphasis> just install them and list them in
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename>.  That will cause
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pkg_delete</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> to delete files carefully edited by
	  the user and a new installation to wipe them out.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Instead, install sample files with a suffix
	  (<filename xmlns:xlink="http://www.w3.org/1999/xlink">filename.sample</filename>
	  will work well).  Copy the sample file as the real configuration
	  file, if it does not exist.  On deinstall, delete the configuration
	  file, but only if it was not modified by the user.  You need to
	  handle this both in the port <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>, and in
	  the <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename> (for installation from
	  the package).</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Example of the <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> part:</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">post-install:
	@if [ ! -f ${PREFIX}/etc/orbit.conf ]; then \
		${CP} -p ${PREFIX}/etc/orbit.conf.sample ${PREFIX}/etc/orbit.conf ; \
	fi</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Example of the <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename> part:</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">@unexec if cmp -s %D/etc/orbit.conf.sample %D/etc/orbit.conf; then rm -f %D/etc/orbit.conf; fi
etc/orbit.conf.sample
@exec if [ ! -f %D/etc/orbit.conf ] ; then cp -p %D/%F %B/orbit.conf; fi</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Alternatively, print out a <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="porting-message">message</link> pointing out that the
	  user has to copy and edit the file before the software can be made
	  to work.</para>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="plist-dynamic">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Dynamic vs. static package list</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">A <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">static package list</emphasis> is a package list
	  which is available in the Ports Collection either as a
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename> file (with or without variable
	  substitution), or embedded into the <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>
	  via <varname xmlns:xlink="http://www.w3.org/1999/xlink">PLIST_FILES</varname> and <varname xmlns:xlink="http://www.w3.org/1999/xlink">PLIST_DIRS</varname>.
	  Even if the contents are auto-generated by a tool or a target
	  in the Makefile <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">before</emphasis> the inclusion into the
	  Ports Collection by a committer, this is still considered a
	  static list, since it is possible to examine it without having
	  to download or compile the distfile.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">A <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">dynamic package list</emphasis> is a package list
	  which is generated at the time the port is compiled based upon the
	  files and directories which are installed.  It is not possible to
	  examine it before the source code of the ported application
	  is downloaded and compiled, or after running a <literal xmlns:xlink="http://www.w3.org/1999/xlink">make
	  clean</literal>.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">While the use of dynamic package lists is not forbidden,
	  maintainers should use static package lists wherever possible, as it
	  enables users to <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">grep</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> through available ports to discover,
	  for example, which port installs a certain file.  Dynamic lists
	  should be primarily used for
	  complex ports where the package list changes drastically based upon
	  optional features of the port (and thus maintaining a static package
	  list is infeasible), or ports which change the
	  package list based upon the version of dependent software used (e.g.
	  ports which generate docs with
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">Javadoc</application>).</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Maintainers who prefer dynamic package lists are encouraged to
	  add a new target to their port which generates the
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename> file so that users may examine
	  the contents.</para>

      </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="plist-autoplist">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">自動產生 package list</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">首先，先確認您的 port 除了 <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename>
	尚未搞定之外，其他都完成了。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">接著，建立臨時目錄以供該 port 安裝，並且把所有相依套件都裝好
	。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mkdir /var/tmp/$(make -V PORTNAME)</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mtree -U -f $(make -V MTREE_FILE) -d -e -p /var/tmp/$(make -V PORTNAME)</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make depends PREFIX=/var/tmp/$(make -V PORTNAME)</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">把這目錄架構存到新檔案。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">(cd /var/tmp/$(make -V PORTNAME) &amp;&amp; find -d * -type d) | sort &gt; OLD-DIRS</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">新增空的 <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename> 檔案：</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">:&gt;pkg-plist</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">若該 port 有遵循 <varname xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX</varname>(也應該要遵循)，
	接著就可以安裝該 port 並產生檔案清單。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make install PREFIX=/var/tmp/$(make -V PORTNAME)</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">(cd /var/tmp/$(make -V PORTNAME) &amp;&amp; find -d * \! -type d) | sort &gt; pkg-plist</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">這時要記得把新建的目錄，也加到檔案清單內。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">(cd /var/tmp/$(make -V PORTNAME) &amp;&amp; find -d * -type d) | sort | comm -13 OLD-DIRS - | sort -r | sed -e 's#^#@dirrm #' &gt;&gt; pkg-plist</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">最後，您應該手動整理檔案清單（這不是全部自動化處理的）。Man page 則應該利用 <varname xmlns:xlink="http://www.w3.org/1999/xlink">MAN<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">n</replaceable></varname> 的方式
	寫在 port 的 <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> 而不是寫在檔案清單中。
	使用者設定檔應該移除，或更名為<filename xmlns:xlink="http://www.w3.org/1999/xlink">filename.sample</filename>。
	The <filename xmlns:xlink="http://www.w3.org/1999/xlink">info/dir</filename> file should not be listed
	and appropriate <filename xmlns:xlink="http://www.w3.org/1999/xlink">install-info</filename> lines should
	be added as noted in the <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="makefile-info">info
	files</link> section.  Any
	libraries installed by the port should be listed as specified in the
	<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="porting-shlibs">shared libraries</link> section.</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Alternatively, use the <command xmlns:xlink="http://www.w3.org/1999/xlink">plist</command> script in
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/ports/Tools/scripts/</filename> to build the
	package list automatically.  The first step is the same as
	above: take the first three lines, that is,
	<command xmlns:xlink="http://www.w3.org/1999/xlink">mkdir</command>, <command xmlns:xlink="http://www.w3.org/1999/xlink">mtree</command> and
	<command xmlns:xlink="http://www.w3.org/1999/xlink">make depends</command>.  Then build and install the
	port:</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make install PREFIX=/var/tmp/port-name</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">And let <command xmlns:xlink="http://www.w3.org/1999/xlink">plist</command> create the
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename> file:</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">/usr/ports/Tools/scripts/plist -Md -m /etc/mtree/BSD.port-type.dist /var/tmp/port-name &gt; pkg-plist</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">The packing list still has to be tidied up by hand as
	stated above.</para>

    </sect1>

    </chapter>

    <chapter xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="pkg-files">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">The <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-*</filename> files</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">There are some tricks we have not mentioned yet about the
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-*</filename> files
	that come in handy sometimes.</para>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-message">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-message</filename></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">If you need to display a message to the installer, you may place
	  the message in <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-message</filename>.  This capability is
	  often useful to display additional installation steps to be taken
	  after a <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pkg_add</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> or to display licensing
	  information.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">When some lines about the build-time knobs or warnings
	  have to be displayed, use <varname xmlns:xlink="http://www.w3.org/1999/xlink">ECHO_MSG</varname>.  The
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-message</filename> file is only for
	  post-installation steps.  Likewise, the distinction between
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">ECHO_MSG</varname> and <varname xmlns:xlink="http://www.w3.org/1999/xlink">ECHO_CMD</varname>
	  should be kept in mind.  The former is for printing
	  informational text to the screen, while the latter is for
	  command pipelining.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">A good example for both can be found in
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">shells/bash2/Makefile</filename>:</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">update-etc-shells:
	@${ECHO_MSG} "updating /etc/shells"
	@${CP} /etc/shells /etc/shells.bak
	@( ${GREP} -v ${PREFIX}/bin/bash /etc/shells.bak; \
		${ECHO_CMD} ${PREFIX}/bin/bash) &gt;/etc/shells
	@${RM} /etc/shells.bak</programlisting>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">The <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-message</filename> file does not need to be
	    added to <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename>.  Also, it will not get
	    automatically printed if the user is using the port, not the
	    package, so you should probably display it from the
	    <buildtarget>post-install</buildtarget> target yourself.</para>
	</note>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="pkg-install">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-install</filename></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">If your port needs to execute commands when the binary package
	  is installed with <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pkg_add</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> you can do this via the
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-install</filename> script.  This script will
	  automatically be added to the package, and will be run twice by
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pkg_add</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>: the first time as
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">${SH} pkg-install ${PKGNAME}
	  PRE-INSTALL</literal> and the second time as
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">${SH} pkg-install ${PKGNAME} POST-INSTALL</literal>.
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">$2</literal> can be tested to determine which mode
	  the script is being run in.  The <envar xmlns:xlink="http://www.w3.org/1999/xlink">PKG_PREFIX</envar>
	  environmental variable will be set to the package installation
	  directory.  See <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pkg_add</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> for
	  additional information.</para>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">This script is not run automatically if you install the port
	    with <command xmlns:xlink="http://www.w3.org/1999/xlink">make install</command>.  If you are depending on it
	    being run, you will have to explicitly call it from your port's
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>, with a line like
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">PKG_PREFIX=${PREFIX} ${SH} ${PKGINSTALL}
	    ${PKGNAME} PRE-INSTALL</literal>.</para>
	</note>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="pkg-deinstall">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-deinstall</filename></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">This script executes when a package is removed.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">
	  This script will be run twice by <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pkg_delete</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>.
	  The first time as <literal xmlns:xlink="http://www.w3.org/1999/xlink">${SH} pkg-deinstall ${PKGNAME}
	  DEINSTALL</literal> and the second time as
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">${SH} pkg-deinstall ${PKGNAME} POST-DEINSTALL</literal>.
	</para>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="pkg-req">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-req</filename></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">If your port needs to determine if it should install or not, you
	  can create a <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-req</filename> <quote xmlns:xlink="http://www.w3.org/1999/xlink">requirements</quote>
	  script.  It will be invoked automatically at
	  installation/de-installation time to determine whether or not
	  installation/de-installation should proceed.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">The script will be run at installation time by
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pkg_add</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> as
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">pkg-req ${PKGNAME} INSTALL</literal>.
	  At de-installation time it will be run by
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pkg_delete</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> as
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">pkg-req ${PKGNAME} DEINSTALL</literal>.</para>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="pkg-names">
	<title xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-pkgfiles">Changing the names of
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-*</filename> files</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">All the names of <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-*</filename> files
	  are defined using variables so you can change them in your
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> if need be.  This is especially useful
	  when you are sharing the same <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-*</filename> files
	  among  several ports or have to write to one of the above files (see
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="porting-wrkdir">writing to places other than
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">WRKDIR</varname></link> for why it is a bad idea to write
	  directly into the <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-*</filename> subdirectory).</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Here is a list of variable names and their default
	  values.  (<varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGDIR</varname> defaults to
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">${MASTERDIR}</varname>.)</para>

	<informaltable xmlns:xlink="http://www.w3.org/1999/xlink" frame="none" pgwide="1">
	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	    <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Variable</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Default value</entry>
	      </row>
	    </thead>

	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">DESCR</varname></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">${PKGDIR}/pkg-descr</literal></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PLIST</varname></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">${PKGDIR}/pkg-plist</literal></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGINSTALL</varname></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">${PKGDIR}/pkg-install</literal></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGDEINSTALL</varname></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">${PKGDIR}/pkg-deinstall</literal></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGREQ</varname></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">${PKGDIR}/pkg-req</literal></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGMESSAGE</varname></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">${PKGDIR}/pkg-message</literal></entry>
	      </row>
	    </tbody>
	  </tgroup>
	</informaltable>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Please change these variables rather than overriding
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PKG_ARGS</varname>.  If you change
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PKG_ARGS</varname>, those files will not correctly be
	  installed in <filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/db/pkg</filename> upon install from a
	  port.</para>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="using-sub-files">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Making use of <varname xmlns:xlink="http://www.w3.org/1999/xlink">SUB_FILES</varname> and
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">SUB_LIST</varname></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">The <varname xmlns:xlink="http://www.w3.org/1999/xlink">SUB_FILES</varname> and <varname xmlns:xlink="http://www.w3.org/1999/xlink">SUB_LIST</varname>
	  variables are useful for dynamic values in port files, such as the
	  installation <varname xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX</varname> in
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-message</filename>.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">The <varname xmlns:xlink="http://www.w3.org/1999/xlink">SUB_FILES</varname> variable specifies a list
	  of files to be automatically modified.  Each
	  <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">file</replaceable> in the
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">SUB_FILES</varname> list must have a corresponding
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">file.in</filename> present
	  in <varname xmlns:xlink="http://www.w3.org/1999/xlink">FILESDIR</varname>.  A modified version will
	  be created in <varname xmlns:xlink="http://www.w3.org/1999/xlink">WRKDIR</varname>.  Files defined as a
	  value of <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_RC_SUBR</varname> (or the deprecated
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_RCORDER</varname>)
	  are automatically added to the
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">SUB_FILES</varname>.  For the files
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-message</filename>,
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-install</filename>, <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-deinstall</filename>
	  and <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-reg</filename>, the corresponding Makefile variable
	  is automatically set to point to the processed version.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">The <varname xmlns:xlink="http://www.w3.org/1999/xlink">SUB_LIST</varname> variable is a list of
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">VAR=VALUE</literal> pairs.  For each pair
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">%%VAR%%</literal> will get replaced
	  with <literal xmlns:xlink="http://www.w3.org/1999/xlink">VALUE</literal> in each file listed in
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">SUB_FILES</varname>.  Several common pairs are
	  automatically defined: <varname xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX</varname>,
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">LOCALBASE</varname>,
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">DATADIR</varname>, <varname xmlns:xlink="http://www.w3.org/1999/xlink">DOCSDIR</varname>,
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">EXAMPLESDIR</varname>.  Any line beginning with
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">@comment</literal> will be deleted from resulting files
	  after a variable substitution.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">The following example will replace <literal xmlns:xlink="http://www.w3.org/1999/xlink">%%ARCH%%</literal>
	  with the system architecture
	  in a <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-message</filename>:</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">SUB_FILES=     pkg-message
SUB_LIST=      ARCH=${ARCH}</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Note that for this example, the
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-message.in</filename> file must exist in
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">FILESDIR</varname>.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Example of a good <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-message.in</filename>:</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">Now it is time to configure this package.
Copy %%PREFIX%%/share/examples/putsy/%%ARCH%%.conf into your home directory
as .putsy.conf and edit it.</programlisting>

      </sect1>
    </chapter>

  <chapter xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="testing">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">Testing your port</title>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="make-describe">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Running <command xmlns:xlink="http://www.w3.org/1999/xlink">make describe</command></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Several of the FreeBSD port maintenance tools, such as
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" vendor="ports"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">portupgrade</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>, rely on a database called
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/ports/INDEX</filename> which keeps track of such
	  items as port dependencies.  <filename xmlns:xlink="http://www.w3.org/1999/xlink">INDEX</filename> is created
	  by the top-level <filename xmlns:xlink="http://www.w3.org/1999/xlink">ports/Makefile</filename> via
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">make index</command>, which descends into each
	  port subdirectory and executes <command xmlns:xlink="http://www.w3.org/1999/xlink">make describe</command>
	  there.  Thus, if <command xmlns:xlink="http://www.w3.org/1999/xlink">make describe</command> fails in any
	  port, no one can generate <filename xmlns:xlink="http://www.w3.org/1999/xlink">INDEX</filename>, and many
	  people will quickly become unhappy.</para>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">It is important to be able to generate this file no
	  matter what options are present in <filename xmlns:xlink="http://www.w3.org/1999/xlink">make.conf</filename>,
	  so please avoid doing things such as using <literal xmlns:xlink="http://www.w3.org/1999/xlink">.error</literal>
	  statements when (for instance) a dependency is not satisfied.
	  (See <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="dads-dot-error"/>.)</para>
	</note>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">If <command xmlns:xlink="http://www.w3.org/1999/xlink">make describe</command> produces a string
	  rather than an error message, you are probably safe.  See
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.mk</filename> for the meaning of the
	  string produced.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Also note that running a recent version of
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">portlint</command> (as specified in the next section)
	  will cause <command xmlns:xlink="http://www.w3.org/1999/xlink">make describe</command> to be run
	  automatically.</para>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="testing-portlint">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Portlint</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Do check your work with <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="porting-portlint"><command xmlns:xlink="http://www.w3.org/1999/xlink">portlint</command></link>
	  before you submit or commit it.  <command xmlns:xlink="http://www.w3.org/1999/xlink">portlint</command>
	  warns you about many common errors, both functional and
	  stylistic.  For a new (or repocopied) port,
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">portlint -A</command> is the most thorough; for an
	  existing port, <command xmlns:xlink="http://www.w3.org/1999/xlink">portlint -C</command> is sufficient.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Since <command xmlns:xlink="http://www.w3.org/1999/xlink">portlint</command> uses heuristics to
	  try to figure out errors, it can produce false positive
	  warnings.  In addition, occasionally something that is
	  flagged as a problem really cannot be done in any other
	  way due to limitations in the ports framework.  When in
	  doubt, the best thing to do is ask on <link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-ports">FreeBSD ports 郵遞論壇</link>.</para>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="testing-porttools">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Port Tools</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">The <package xmlns:xlink="http://www.w3.org/1999/xlink">ports-mgmt/porttools</package>
          program is part of the Ports Collection.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">port</command> is the front-end script,
	  which can help you simplify the testing job.  Whenever you want
	  to test a new port or update an existing one, you can use
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">port test</command> to test your port, including the
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="testing-portlint"><command xmlns:xlink="http://www.w3.org/1999/xlink">portlint</command></link>
	  checking.  This command also detects and lists any files that
	  are not listed in <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename>.  See the
	  following example:</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">port test /usr/ports/net/csup</userinput></screen>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-prefix">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX</varname> 以及 <varname xmlns:xlink="http://www.w3.org/1999/xlink">DESTDIR</varname></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX</varname> 變數會決定該 port 所會安裝的位置，
	  通常是 <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local</filename> 或 <filename xmlns:xlink="http://www.w3.org/1999/xlink">/opt</filename>
	  。  使用者可以藉由設定 <varname xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX</varname> 決定要裝在哪邊，
	  而你所維護的 port 必須遵循該規則。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">若使用者有設定 <varname xmlns:xlink="http://www.w3.org/1999/xlink">DESTDIR</varname> 變數，
	  那麼它會採用所設定的環境，通常可能是 jail 環境或者是並非掛載於
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/</filename> 上的系統。  通常 port 會裝在
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">DESTDIR</varname>/<varname xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX</varname> 底下，
	  並且會紀錄在 <varname xmlns:xlink="http://www.w3.org/1999/xlink">DESTDIR</varname>/var/db/pkg 內的套件資料庫。
	  由於事實上 <varname xmlns:xlink="http://www.w3.org/1999/xlink">DESTDIR</varname> 會由 ports 架構透過
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">chroot</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> 來自動處理，所以您不需去作相關修改或刻意維護
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">DESTDIR</varname> 相容的 ports。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX</varname> 變數若無特別設定，會與
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">LOCALBASE</varname> 相同 (預設為
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local</filename>)。  若有設定
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_LINUX_PREFIX</varname>，
	  那麼 <varname xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX</varname> 則為 <varname xmlns:xlink="http://www.w3.org/1999/xlink">LINUXBASE</varname> (
	  預設為 <filename xmlns:xlink="http://www.w3.org/1999/xlink">/compat/linux</filename>)。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Avoiding the hard-coding of <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local</filename> or
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/X11R6</filename> anywhere in the source will make the
	  port much more flexible and able to cater to the needs of other
	  sites.  For X ports that use <command xmlns:xlink="http://www.w3.org/1999/xlink">imake</command>, this is
	  automatic; otherwise, this can often be done by simply replacing the
	  occurrences of <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local</filename> (or
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/X11R6</filename> for X ports that do not use imake)
	  in the various <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>s in the port to read
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">${PREFIX}</varname>, as this variable is automatically passed
	  down to every stage of the build and install processes.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Make sure your application is not installing things in
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local</filename> instead of <varname xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX</varname>.
	A quick test for this is to do this is:</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make clean; make package PREFIX=/var/tmp/port-name</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">If anything is installed outside of <varname xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX</varname>,
	the package creation process will complain that it
	cannot find the files.</para>

	<!-- XXX This paragraph is confusing and poorly indented. -->
	<para xmlns:xlink="http://www.w3.org/1999/xlink">This does not test for the existence of internal references,
	or correct use of <varname xmlns:xlink="http://www.w3.org/1999/xlink">LOCALBASE</varname> for references to
	files from other ports.  Testing the installation in
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/tmp/port-name</filename>
	to do that while you have it installed would do that.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">The variable <varname xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX</varname> can be reassigned in your
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> or in the user's environment.
	  However, it is strongly discouraged for individual ports to set this
	  variable explicitly in the <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>s.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Also, refer to programs/files from other ports with the
	  variables mentioned above, not explicit pathnames.  For instance, if
	  your port requires a macro <literal xmlns:xlink="http://www.w3.org/1999/xlink">PAGER</literal> to be the full
	  pathname of <command xmlns:xlink="http://www.w3.org/1999/xlink">less</command>, use the compiler flag:

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">-DPAGER=\"${LOCALBASE}/bin/less\"</programlisting>

	  instead of
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">-DPAGER=\"/usr/local/bin/less\"</literal>. This way it will
	  have a better chance of working if the system administrator has
	  moved the whole <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local</filename> tree somewhere else.</para>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="testing-tinderbox">
        <title xmlns:xlink="http://www.w3.org/1999/xlink">Tinderbox</title>

        <para xmlns:xlink="http://www.w3.org/1999/xlink">If you're an avid ports contributor, you might want to take a
          look at <application xmlns:xlink="http://www.w3.org/1999/xlink">Tinderbox</application>.  It is a powerful
          system for building and testing ports based on the scripts used on
          <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="build-cluster">Pointyhat</link>.  You can install
          <application xmlns:xlink="http://www.w3.org/1999/xlink">Tinderbox</application> using
          <package xmlns:xlink="http://www.w3.org/1999/xlink">ports-mgmt/tinderbox</package> port.  Be sure
          to read supplied documentation since the configuration is not
          trivial.</para>

        <para xmlns:xlink="http://www.w3.org/1999/xlink">Visit the <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://tinderbox.marcuscom.com/">Tinderbox website</link>
          for more details.</para>

      </sect1>
  </chapter>

    <chapter xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="port-upgrading">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Upgrading</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">When you notice that a port is out of date compared to the latest
	version from the original authors, you should first ensure that you
	have the latest
	port.  You can find them in the
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">ports/ports-current</filename> directory of the FreeBSD FTP mirror
	sites.  However, if you are working with more than a few
	ports, you will probably find it easier to use
	<application xmlns:xlink="http://www.w3.org/1999/xlink">CVSup</application> to keep your whole ports collection
	up-to-date, as described in the
	<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="../../../../doc/zh_TW.UTF-8/books/handbook/synching.html#CVSUP-CONFIG">Handbook</link>.
	This will have the added benefit of tracking all the ports'
	dependencies.</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">The next step is to see if there is an update already pending.
	To do this, you have two options.  There is a searchable interface
	to the
	<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.FreeBSD.org/cgi/query-pr-summary.cgi?query">
	FreeBSD Problem Report (PR) database</link> (also known as
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">GNATS</literal>).  Select <literal xmlns:xlink="http://www.w3.org/1999/xlink">ports</literal> in the
	dropdown, and enter the name of the port.</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">However, sometimes people forget to put the name of the port
	into the Synopsis field in an unambiguous fashion.  In that case,
	you can try the <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="portsmon">
	FreeBSD Ports Monitoring System</link> (also known as
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">portsmon</literal>).  This system attempts to classify
	port PRs by portname.  To search for PRs about a particular port,
	use the <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://portsmon.FreeBSD.org/portoverview.py">
	Overview of One Port</link>.</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">If there is no pending PR, the next step is to send an email
	to the port's maintainer, as shown by
	<command xmlns:xlink="http://www.w3.org/1999/xlink">make maintainer</command>.  That person may
	already be working on an upgrade, or have a reason to not upgrade the
	port right now (because of, for example, stability problems of the new
	version); you would not want to duplicate their work.  Note that
	unmaintained ports are listed with a maintainer of
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">ports@FreeBSD.org</literal>, which is just the general
	ports mailing list, so sending mail there
	probably will not help in this case.</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">If the maintainer asks you to do the upgrade or there is
	no maintainer, then you have a chance to help out FreeBSD by
	preparing the update yourself!  Please make the changes and save
	the result of the
	recursive <command xmlns:xlink="http://www.w3.org/1999/xlink">diff</command> output
	of the new and old
	ports directories (e.g., if your modified port directory is
	called <filename xmlns:xlink="http://www.w3.org/1999/xlink">superedit</filename> and the original is in our tree
	as <filename xmlns:xlink="http://www.w3.org/1999/xlink">superedit.bak</filename>, then save the result of
	<command xmlns:xlink="http://www.w3.org/1999/xlink">diff -ruN superedit.bak superedit</command>).  Either
	unified or context diff is fine, but port committers generally
	prefer unified diffs.  Note the use of the <literal xmlns:xlink="http://www.w3.org/1999/xlink">-N</literal>
	option——this is the accepted way to force diff to properly
	deal with the case of new files being added or old files being
	deleted.  Before sending us the diff, please examine the
	output to make sure all the changes make sense.  To
	simplify common operations with patch files, you can use
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/ports/Tools/scripts/patchtool.py</filename>.
	Before using it, please read
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/ports/Tools/scripts/README.patchtool</filename>.</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">If the port is unmaintained, and you are actively using
	it yourself, please consider volunteering to become its
	maintainer.  FreeBSD has over 2000 ports without maintainers,
	and this is an area where more volunteers are always needed.
	(For a detailed description of the responsibilities of maintainers,
	refer to the section in the
	<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="../../../../doc/zh_TW.UTF-8/books/developers-handbook/policies.html#POLICIES-MAINTAINER">
	Developer's Handbook</link>.)</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">最好的方式是使用 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">send-pr</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> 並附上 diff 一併回報(類別請選
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">ports</literal>)。  若你是該 port 的維護者，請記得在 synopsis
	那行的開頭註明 <literal xmlns:xlink="http://www.w3.org/1999/xlink">[maintainer update]</literal>，並且在 PR 的
	<quote xmlns:xlink="http://www.w3.org/1999/xlink">Class</quote> 分類填上 <literal xmlns:xlink="http://www.w3.org/1999/xlink">maintainer-update</literal>。
	否則，該 PR 的 <quote xmlns:xlink="http://www.w3.org/1999/xlink">Class</quote> 處就是填
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">change-request</literal>。
	Please mention any added or
	deleted files in the message, as they have to be explicitly specified
	to <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">cvs</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> when doing a commit.  If the diff is more than about 20KB,
	please compress and uuencode it; otherwise, just include it in the PR
	as is.</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Before you <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">send-pr</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>, you should review the
	<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="../../../../doc/zh_TW.UTF-8/articles/problem-reports/pr-writing.html">
	Writing the problem report</link> section in the Problem
	Reports article; it contains far more information about how to write
	useful problem reports.</para>

      <important xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">If your upgrade is motivated by security concerns or a
	  serious fault in the currently committed port, please notify
	  the Ports Management Team <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">portmgr@FreeBSD.org</email> to request immediate rebuilding and
	  redistribution of your port's package.  Unsuspecting users
	  of <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pkg_add</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> will otherwise continue to install the
	  old version via <command xmlns:xlink="http://www.w3.org/1999/xlink">pkg_add -r</command> for several
	  weeks.</para>
      </important>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">Once again, please use <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">diff</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> and not <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">shar</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> to send
	  updates to existing ports!</para>
      </note>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Now that you have done all that, you will want to read about
	how to keep up-to-date in <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="keeping-up"/>.</para>

    </chapter>

    <chapter xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="security">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Ports security</title>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="security-intro">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Why security is so important</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Bugs are occasionally introduced to the software.
	  Arguably, the most dangerous of them are those opening
	  security vulnerabilities.  From the technical viewpoint,
	  such vulnerabilities are to be closed by exterminating
	  the bugs that caused them.  However, the policies for
	  handling mere bugs and security vulnerabilities are
	  very different.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">A typical small bug affects only those users who have
	  enabled some combination of options triggering the bug.
	  The developer will eventually release a patch followed
	  by a new version of the software, free of the bug, but
	  the majority of users will not take the trouble of upgrading
	  immediately because the bug has never vexed them.  A
	  critical bug that may cause data loss represents a graver
	  issue.  Nevertheless, prudent users know that a lot of
	  possible accidents, besides software bugs, are likely to
	  lead to data loss, and so they make backups of important
	  data; in addition, a critical bug will be discovered
	  really soon.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">A security vulnerability is all different.  First,
	  it may remain unnoticed for years because often it does
	  not cause software malfunction.  Second, a malicious party
	  can use it to gain unauthorized access to a vulnerable
	  system, to destroy or alter sensitive data; and in the
	  worst case the user will not even notice the harm caused.
	  Third, exposing a vulnerable system often assists attackers
	  to break into other systems that could not be compromised
	  otherwise.  Therefore closing a vulnerability alone is
	  not enough: the audience should be notified of it in most
	  clear and comprehensive manner, which will allow to
	  evaluate the danger and take appropriate actions.</para>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="security-fix">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Fixing security vulnerabilities</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">While on the subject of ports and packages, a security
	  vulnerability may initially appear in the original
	  distribution or in the port files.  In the former case,
	  the original software developer is likely to release a
	  patch or a new version instantly, and you will
	  only need to update the port promptly with respect to
	  the author's fix.  If the fix is delayed for some reason,
	  you should either <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="dads-noinstall">mark the port as
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">FORBIDDEN</varname></link>
	  or introduce a patch file of your own to the port.  In
	  the case of a vulnerable port, just fix the port as soon as
	  possible.  In either case, <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="port-upgrading">the
	  standard procedure for submitting your change</link> should
	  be followed unless you have rights to commit it directly
	  to the ports tree.</para>

	<important xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Being a ports committer is not enough to commit to
	    an arbitrary port.  Remember that ports usually have
	    maintainers, whom you should respect.</para>
	</important>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Please make sure that the port's revision is bumped
	  as soon as the vulnerability has been closed.
	  That is how the users who upgrade installed packages
	  on a regular basis will see they need to run an update.
	  Besides, a new package will be built and distributed
	  over FTP and WWW mirrors, replacing the vulnerable one.
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTREVISION</varname> should be bumped unless
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTVERSION</varname> has changed in the course
	  of correcting the vulnerability.  That is you should
	  bump <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTREVISION</varname> if you have added a
	  patch file to the port, but you should not if you have updated
	  the port to the latest software version and thus already
	  touched <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTVERSION</varname>.  Please refer to the
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="makefile-naming-revepoch">corresponding section</link>
	  for more information.</para>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="security-notify">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Keeping the community informed</title>

	<sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="security-notify-vuxml-db">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">The VuXML database</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">A very important and urgent step to take as early as
	    a security vulnerability is discovered is to notify the
	    community of port users about the jeopardy.  Such
	    notification serves two purposes.  First, should the danger
	    be really severe, it will be wise to apply an instant workaround,
	    e.g., stop the affected network service or even deinstall
	    the port completely, until the vulnerability is closed.
	    Second, a lot of users tend to upgrade installed packages
	    just occasionally.  They will know from the notification
	    that they <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">must</emphasis> update the package
	    without delay as soon as a corrected version is available.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Given the huge number of ports in the tree,
	    a security advisory cannot be issued on each incident
	    without creating a flood and losing the attention of
	    the audience by the time it comes to really serious
	    matters.  Therefore security vulnerabilities found in
	    ports are recorded in <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://vuxml.freebsd.org/">the FreeBSD VuXML
	    database</link>.  The Security Officer Team members
	    are monitoring it for issues requiring their
	    intervention.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">If you have committer rights, you can update the VuXML
	    database by yourself.  So you will both help the Security
	    Officer Team and deliver the crucial information to the
	    community earlier.  However, if you are not a committer,
	    or you believe you have found an exceptionally severe
	    vulnerability, or whatever, please do not hesitate to
	    contact the Security Officer Team directly as described
	    on the <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.freebsd.org/security/#how">FreeBSD
	    Security Information</link> page.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">All right, you elected the hard way.  As it may be obvious
	    from its title, the VuXML database is essentially an
	    XML document.  Its source file <filename xmlns:xlink="http://www.w3.org/1999/xlink">vuln.xml</filename>
	    is kept right inside the port <package xmlns:xlink="http://www.w3.org/1999/xlink">security/vuxml</package>.  Therefore
	    the file's full pathname will be
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">PORTSDIR/security/vuxml/vuln.xml</filename>.
	    Each time you discover a security vulnerability in a
	    port, please add an entry for it to that file.
	    Until you are familiar with VuXML, the best thing you can
	    do is to find an existing entry fitting your case, then copy
	    it and use as a template.</para>
	</sect2>

	<sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="security-notify-vuxml-intro">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">A short introduction to VuXML</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">The full-blown XML is complex and far beyond the scope of
	    this book.  However, to gain basic insight on the structure
	    of a VuXML entry, you need only the notion of tags.  XML
	    tag names are enclosed in angle brackets.  Each opening
	    &lt;tag&gt; must have a matching closing &lt;/tag&gt;.
	    Tags may be nested.  If nesting, the inner tags must be
	    closed before the outer ones.  There is a hierarchy of
	    tags, i.e.  more complex rules of nesting them.  Sounds
	    very similar to HTML, doesn't it?  The major difference
	    is that XML is e<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">X</emphasis>tensible, i.e. based
	    on defining custom tags.  Due to its intrinsic structure,
	    XML puts otherwise amorphous data into shape.  VuXML is
	    particularly tailored to mark up descriptions of security
	    vulnerabilities.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Now let's consider a realistic VuXML entry:</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">&lt;vuln vid="f4bc80f4-da62-11d8-90ea-0004ac98a7b9"&gt; <co xml:id="co-vx-vid"/>
  &lt;topic&gt;Several vulnerabilities found in Foo&lt;/topic&gt; <co xml:id="co-vx-top"/>
  &lt;affects&gt;
    &lt;package&gt;
      &lt;name&gt;foo&lt;/name&gt; <co xml:id="co-vx-nam"/>
      &lt;name&gt;foo-devel&lt;/name&gt;
      &lt;name&gt;ja-foo&lt;/name&gt;
      &lt;range&gt;&lt;ge&gt;1.6&lt;/ge&gt;&lt;lt&gt;1.9&lt;/lt&gt;&lt;/range&gt; <co xml:id="co-vx-rng"/>
      &lt;range&gt;&lt;ge&gt;2.*&lt;/ge&gt;&lt;lt&gt;2.4_1&lt;/lt&gt;&lt;/range&gt;
      &lt;range&gt;&lt;eq&gt;3.0b1&lt;/eq&gt;&lt;/range&gt;
    &lt;/package&gt;
    &lt;package&gt;
      &lt;name&gt;openfoo&lt;/name&gt; <co xml:id="co-vx-nm2"/>
      &lt;range&gt;&lt;lt&gt;1.10_7&lt;/lt&gt;&lt;/range&gt; <co xml:id="co-vx-epo"/>
      &lt;range&gt;&lt;ge&gt;1.2,1&lt;/ge&gt;&lt;lt&gt;1.3_1,1&lt;/lt&gt;&lt;/range&gt;
    &lt;/package&gt;
  &lt;/affects&gt;
  &lt;description&gt;
    &lt;body xmlns="http://www.w3.org/1999/xhtml"&gt;
      &lt;p&gt;J. Random Hacker reports:&lt;/p&gt; <co xml:id="co-vx-bdy"/>
      &lt;blockquote
        cite="http://j.r.hacker.com/advisories/1"&gt;
        &lt;p&gt;Several issues in the Foo software may be exploited
          via carefully crafted QUUX requests.  These requests will
          permit the injection of Bar code, mumble theft, and the
          readability of the Foo administrator account.&lt;/p&gt;
      &lt;/blockquote&gt;
    &lt;/body&gt;
  &lt;/description&gt;
  &lt;references&gt; <co xml:id="co-vx-ref"/>
    &lt;freebsdsa&gt;SA-10:75.foo&lt;/freebsdsa&gt; <co xml:id="co-vx-fsa"/>
    &lt;freebsdpr&gt;ports/987654&lt;/freebsdpr&gt; <co xml:id="co-vx-fpr"/>
    &lt;cvename&gt;CAN-2010-0201&lt;/cvename&gt; <co xml:id="co-vx-cve"/>
    &lt;cvename&gt;CAN-2010-0466&lt;/cvename&gt;
    &lt;bid&gt;96298&lt;/bid&gt; <co xml:id="co-vx-bid"/>
    &lt;certsa&gt;CA-2010-99&lt;/certsa&gt; <co xml:id="co-vx-cts"/>
    &lt;certvu&gt;740169&lt;/certvu&gt; <co xml:id="co-vx-ctv"/>
    &lt;uscertsa&gt;SA10-99A&lt;/uscertsa&gt; <co xml:id="co-vx-ucs"/>
    &lt;uscertta&gt;SA10-99A&lt;/uscertta&gt; <co xml:id="co-vx-uct"/>
    &lt;mlist msgid="201075606@hacker.com"&gt;http://marc.theaimsgroup.com/?l=bugtraq&amp;amp;m=203886607825605&lt;/mlist&gt; <co xml:id="co-vx-mls"/>
    &lt;url&gt;http://j.r.hacker.com/advisories/1&lt;/url&gt; <co xml:id="co-vx-url"/>
  &lt;/references&gt;
  &lt;dates&gt;
    &lt;discovery&gt;2010-05-25&lt;/discovery&gt; <co xml:id="co-vx-dsc"/>
    &lt;entry&gt;2010-07-13&lt;/entry&gt; <co xml:id="co-vx-ent"/>
    &lt;modified&gt;2010-09-17&lt;/entry&gt; <co xml:id="co-vx-mod"/>
  &lt;/dates&gt;
&lt;/vuln&gt;</programlisting>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">The tag names are supposed to be self-descriptive,
	    so we shall take a closer look only at fields you will need
	    to fill in by yourself:</para>

	  <calloutlist xmlns:xlink="http://www.w3.org/1999/xlink">
	    <callout arearefs="co-vx-vid">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">This is the top-level tag of a VuXML entry.  It has
		a mandatory attribute, <literal xmlns:xlink="http://www.w3.org/1999/xlink">vid</literal>,
		specifying a universally unique identifier (UUID) for
		this entry (in quotes).  You should generate a UUID
		for each new VuXML entry (and do not forget to substitute
		it for the template UUID unless you are writing the
		entry from scratch).  You can use <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">uuidgen</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> to
		generate a VuXML UUID; alternatively, if you are using
		FreeBSD 4.x, you may install the port <package xmlns:xlink="http://www.w3.org/1999/xlink">devel/p5-Data-UUID</package> and issue
		the following command:</para>

	      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">perl -MData::UUID -le 'print lc new Data::UUID-&gt;create_str'</programlisting>
	    </callout>

	    <callout arearefs="co-vx-top">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">This is a one-line description of the issue found.</para>
	    </callout>

	    <callout arearefs="co-vx-nam">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">The names of packages affected are listed there.
		Multiple names can be given since several packages may be
		based on a single master port or software product.  This
		may include stable and development branches, localized
		versions, and slave ports featuring different choices of
		important build-time configuration options.</para>

	      <important xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">It is your responsibility to find all such related
		  packages when writing a VuXML entry.  Keep in mind that
		  <literal xmlns:xlink="http://www.w3.org/1999/xlink">make search name=foo</literal> is your friend.
		  The primary points to look for are as follows:</para>

		<itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
		  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		    <para xmlns:xlink="http://www.w3.org/1999/xlink">the <filename xmlns:xlink="http://www.w3.org/1999/xlink">foo-devel</filename> variant
		      for a <filename xmlns:xlink="http://www.w3.org/1999/xlink">foo</filename> port;</para>
		  </listitem>

		  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		    <para xmlns:xlink="http://www.w3.org/1999/xlink">other variants with a suffix like
		      <literal xmlns:xlink="http://www.w3.org/1999/xlink">-a4</literal> (for print-related packages),
		      <literal xmlns:xlink="http://www.w3.org/1999/xlink">-without-gui</literal> (for packages with X
		      support disabled), or similar;</para>
		  </listitem>

		  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		    <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">jp-</literal>, <literal xmlns:xlink="http://www.w3.org/1999/xlink">ru-</literal>,
		      <literal xmlns:xlink="http://www.w3.org/1999/xlink">zh-</literal>, and other possible localized
		      variants in the corresponding national categories of
		      the ports collection.</para>
		  </listitem>
		</itemizedlist>
	      </important>
	    </callout>

	    <callout arearefs="co-vx-rng">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">Affected versions of the package(s) are specified
		there as one or more ranges using a combination of
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">&lt;lt&gt;</literal>, <literal xmlns:xlink="http://www.w3.org/1999/xlink">&lt;le&gt;</literal>,
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">&lt;eq&gt;</literal>, <literal xmlns:xlink="http://www.w3.org/1999/xlink">&lt;ge&gt;</literal>,
		and <literal xmlns:xlink="http://www.w3.org/1999/xlink">&lt;gt&gt;</literal> elements.  The
		version ranges given should not overlap.</para>

	      <para xmlns:xlink="http://www.w3.org/1999/xlink">In a range specification, <literal xmlns:xlink="http://www.w3.org/1999/xlink">*</literal> (asterisk)
		denotes the smallest version number.  In particular,
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">2.*</literal> is less than <literal xmlns:xlink="http://www.w3.org/1999/xlink">2.a</literal>.
		Therefore an asterisk may be used for a range to match all
		possible <literal xmlns:xlink="http://www.w3.org/1999/xlink">alpha</literal>, <literal xmlns:xlink="http://www.w3.org/1999/xlink">beta</literal>,
		and <literal xmlns:xlink="http://www.w3.org/1999/xlink">RC</literal> versions.  For instance,
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">&lt;ge&gt;2.*&lt;/ge&gt;&lt;lt&gt;3.*&lt;/lt&gt;</literal>
		will selectively match every <literal xmlns:xlink="http://www.w3.org/1999/xlink">2.x</literal> version while
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">&lt;ge&gt;2.0&lt;/ge&gt;&lt;lt&gt;3.0&lt;/lt&gt;</literal>
		will obviously not since the latter misses
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">2.r3</literal> and matches
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">3.b</literal>.</para>

	      <para xmlns:xlink="http://www.w3.org/1999/xlink">The above example
		specifies that affected are versions from <literal xmlns:xlink="http://www.w3.org/1999/xlink">1.6</literal>
		to <literal xmlns:xlink="http://www.w3.org/1999/xlink">1.9</literal> inclusive, versions
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">2.x</literal> before <literal xmlns:xlink="http://www.w3.org/1999/xlink">2.4_1</literal>,
		and version <literal xmlns:xlink="http://www.w3.org/1999/xlink">3.0b1</literal>.</para>
	    </callout>

	    <callout arearefs="co-vx-nm2">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">Several related package groups (essentially, ports)
		can be listed in the <literal xmlns:xlink="http://www.w3.org/1999/xlink">&lt;affected&gt;</literal>
		section.  This can be used if several software products
		(say FooBar, FreeBar and OpenBar) grow from the same code base
		and still share its bugs and vulnerabilities.  Note the
		difference from listing multiple names within a single
		&lt;package&gt; section.</para>
	    </callout>

	    <callout arearefs="co-vx-epo">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">The version ranges should allow for
		<varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTEPOCH</varname> and
		<varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTREVISION</varname> if applicable.
		Please remember that according to the collation rules,
		a version with a non-zero <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTEPOCH</varname> is
		greater than any version without
		<varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTEPOCH</varname>, e.g., <literal xmlns:xlink="http://www.w3.org/1999/xlink">3.0,1</literal>
		is greater than <literal xmlns:xlink="http://www.w3.org/1999/xlink">3.1</literal> or even than
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">8.9</literal>.</para>
	    </callout>

	    <callout arearefs="co-vx-bdy">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">This is a summary of the issue.
		XHTML is used in this field.  At least enclosing
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">&lt;p&gt;</literal> and <literal xmlns:xlink="http://www.w3.org/1999/xlink">&lt;/p&gt;</literal>
		should appear.  More complex mark-up may be used, but only for
		the sake of accuracy and clarity:  No eye candy please.</para>
	    </callout>

	    <callout arearefs="co-vx-ref">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">This section contains references to relevant documents.
		As many references as apply are encouraged.</para>
	    </callout>

	    <callout arearefs="co-vx-fsa">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">This is a
		<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.freebsd.org/security/#adv">FreeBSD
		security advisory</link>.</para>
	    </callout>

	    <callout arearefs="co-vx-fpr">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">This is a
		<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.freebsd.org/support.html#gnats">FreeBSD
		problem report</link>.</para>
	    </callout>

	    <callout arearefs="co-vx-cve">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">This is a <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.cve.mitre.org/">Mitre
		CVE</link> identifier.</para>
	    </callout>

	    <callout arearefs="co-vx-bid">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">This is a
		<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.securityfocus.com/bid">SecurityFocus
		Bug ID</link>.</para>
	    </callout>

	    <callout arearefs="co-vx-cts">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">This is a
		<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.cert.org/">US-CERT</link>
		security advisory.</para>
	    </callout>

	    <callout arearefs="co-vx-ctv">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">This is a
		<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.cert.org/">US-CERT</link>
		vulnerability note.</para>
	    </callout>

	    <callout arearefs="co-vx-ucs">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">This is a
		<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.cert.org/">US-CERT</link>
		Cyber Security Alert.</para>
	    </callout>

	    <callout arearefs="co-vx-uct">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">This is a
		<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.cert.org/">US-CERT</link>
		Technical Cyber Security Alert.</para>
	    </callout>

	    <callout arearefs="co-vx-mls">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">This is a URL to an archived posting in a mailing list.
		The attribute <literal xmlns:xlink="http://www.w3.org/1999/xlink">msgid</literal> is optional and
		may specify the message ID of the posting.</para>
	    </callout>

	    <callout arearefs="co-vx-url">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">This is a generic URL.  It should be used only if none of
		the other reference categories apply.</para>
	    </callout>

	    <callout arearefs="co-vx-dsc">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">This is the date when the issue was disclosed
		(<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">YYYY-MM-DD</replaceable>).</para>
	    </callout>

	    <callout arearefs="co-vx-ent">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">This is the date when the entry was added
		(<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">YYYY-MM-DD</replaceable>).</para>
	    </callout>

	    <callout arearefs="co-vx-mod">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">This is the date when any information in the entry
		was last modified (<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">YYYY-MM-DD</replaceable>).
		New entries must not include this field.  It should be added
		upon editing an existing entry.</para>
	    </callout>
	  </calloutlist>
	</sect2>

	<sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="security-notify-vuxml-testing">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">Testing your changes to the VuXML database</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Assume you just wrote or filled in an entry for a
	    vulnerability in the package <literal xmlns:xlink="http://www.w3.org/1999/xlink">clamav</literal>
	    that has been fixed in version <literal xmlns:xlink="http://www.w3.org/1999/xlink">0.65_7</literal>.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">As a prerequisite, you need to install fresh versions of the
	    ports <package xmlns:xlink="http://www.w3.org/1999/xlink">ports-mgmt/portaudit</package> and
	    <package xmlns:xlink="http://www.w3.org/1999/xlink">ports-mgmt/portaudit-db</package>.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">First, check whether there already is an entry for this
	    vulnerability.  If there were such entry, it would match the
	    previous version of the package,
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">0.65_6</literal>:</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">packaudit</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">portaudit clamav-0.65_6</userinput></screen>

	  <note xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">To run <command xmlns:xlink="http://www.w3.org/1999/xlink">packaudit</command>, you must have
	      permission to write to its
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">DATABASEDIR</filename>,
	      typically <filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/db/portaudit</filename>.</para>
	  </note>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">If there is none found, you get the green light to add
	    a new entry for this vulnerability.  Now you can generate
	    a brand-new UUID (assume it's
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">74a9541d-5d6c-11d8-80e3-0020ed76ef5a</literal>) and
	    add your new entry to the VuXML database.  Please verify
	    its syntax after that as follows:</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd ${PORTSDIR}/security/vuxml &amp;&amp; make validate</userinput></screen>

	  <note xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">You will need at least one of the following packages
	      installed: <package xmlns:xlink="http://www.w3.org/1999/xlink">textproc/libxml2</package>,
	      <package xmlns:xlink="http://www.w3.org/1999/xlink">textproc/jade</package>.</para>
	  </note>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Now rebuild the <command xmlns:xlink="http://www.w3.org/1999/xlink">portaudit</command> database
	    from the VuXML file:</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">packaudit</userinput></screen>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">To verify that the <literal xmlns:xlink="http://www.w3.org/1999/xlink">&lt;affected&gt;</literal>
	    section of your entry will match correct package(s), issue
	    the following command:</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">portaudit -f /usr/ports/INDEX -r 74a9541d-5d6c-11d8-80e3-0020ed76ef5a</userinput></screen>

	  <note xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">Please refer to <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" vendor="ports"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">portaudit</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> for better understanding
	      of the command syntax.</para>
	  </note>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Make sure that your entry produces no spurious matches
	    in the output.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Now check whether the right package versions are matched
	    by your entry:</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">portaudit clamav-0.65_6 clamav-0.65_7</userinput>
Affected package: clamav-0.65_6 (matched by clamav&lt;0.65_7)
Type of problem: clamav remote denial-of-service.
Reference: &lt;http://www.freebsd.org/ports/portaudit/74a9541d-5d6c-11d8-80e3-0020ed76ef5a.html&gt;

1 problem(s) found.</screen>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Obviously, the former version should match while the
	    latter one should not.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Finally, verify whether the web page generated from the
	    VuXML database looks like expected:</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mkdir -p ~/public_html/portaudit</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">packaudit</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">lynx ~/public_html/portaudit/74a9541d-5d6c-11d8-80e3-0020ed76ef5a.html</userinput></screen>
	</sect2>

      </sect1>
    </chapter>

    <chapter xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-dads">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Dos and Don'ts</title>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="dads-intro">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Introduction</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Here is a list of common dos and don'ts that you encounter during
	the porting process.  You should check your own port against this list,
	but you can also check ports in the <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.FreeBSD.org/cgi/query-pr-summary.cgi?query">PR database</link> that others have
	submitted.  Submit any comments on ports you check as described in
	<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="../../../../doc/zh_TW.UTF-8/articles/contributing/contrib-how.html#CONTRIB-GENERAL">Bug Reports and General
	  Commentary</link>.  Checking ports in the PR database will both make
	it faster for us to commit them, and prove that you know what you are
	doing.</para>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-wrkdir">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">WRKDIR</varname></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Do not write anything to files outside
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">WRKDIR</varname>.  <varname xmlns:xlink="http://www.w3.org/1999/xlink">WRKDIR</varname> is the only
	  place that is guaranteed to be writable during the port build (see
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="../../../../doc/zh_TW.UTF-8/books/handbook/ports-using.html#PORTS-CD">
	  installing ports from a CDROM</link> for an
	  example of building ports from a read-only tree).  If you need to
	  modify one of the <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-*</filename>
	  files, do so by <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="porting-pkgfiles">redefining a variable</link>, not by
	  writing over it.</para>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-wrkdirprefix">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">WRKDIRPREFIX</varname></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Make sure your port honors <varname xmlns:xlink="http://www.w3.org/1999/xlink">WRKDIRPREFIX</varname>.
	  Most ports do not have to worry about this.  In particular, if you
	  are referring to a <varname xmlns:xlink="http://www.w3.org/1999/xlink">WRKDIR</varname> of another port, note
	  that the correct location is
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">WRKDIRPREFIXPORTSDIR/subdir/name/work</filename> not <filename xmlns:xlink="http://www.w3.org/1999/xlink">PORTSDIR/subdir/name/work</filename> or <filename xmlns:xlink="http://www.w3.org/1999/xlink">.CURDIR/../../subdir/name/work</filename> or some such.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Also, if you are defining <varname xmlns:xlink="http://www.w3.org/1999/xlink">WRKDIR</varname> yourself,
	  make sure you prepend
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">${WRKDIRPREFIX}${.CURDIR}</literal> in the
	  front.</para>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-versions">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Differentiating operating systems and OS versions</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">You may come across code that needs modifications or conditional
	  compilation based upon what version of Unix it is running under.  If
	  you need to make such changes to the code for conditional
	  compilation, make sure you make the changes as general as possible
	  so that we can back-port code to older FreeBSD systems and cross-port
	  to other BSD systems such as 4.4BSD from CSRG, BSD/386, 386BSD,
	  NetBSD, and OpenBSD.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">The preferred way to tell 4.3BSD/Reno (1990) and newer versions
	  of the BSD code apart is by using the <literal xmlns:xlink="http://www.w3.org/1999/xlink">BSD</literal> macro
	  defined in
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://cvsweb.freebsd.org/src/sys/sys/param.h">sys/param.h</link>.
	  Hopefully that
	  file is already included; if not, add the code:</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">#if (defined(__unix__) || defined(unix)) &amp;&amp; !defined(USG)
#include &lt;sys/param.h&gt;
#endif</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">to the proper place in the <filename xmlns:xlink="http://www.w3.org/1999/xlink">.c</filename> file.  We
	  believe that every system that defines these two symbols has
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">sys/param.h</filename>.  If you find a system that
	  does not, we would like to know.  Please send mail to the
	  <link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-ports">FreeBSD ports 郵遞論壇</link>.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Another way is to use the GNU Autoconf style of doing
	  this:</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">#ifdef HAVE_SYS_PARAM_H
#include &lt;sys/param.h&gt;
#endif</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Do not forget to add <literal xmlns:xlink="http://www.w3.org/1999/xlink">-DHAVE_SYS_PARAM_H</literal> to the
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">CFLAGS</varname> in the <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> for
	  this method.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Once you have <filename xmlns:xlink="http://www.w3.org/1999/xlink">sys/param.h</filename> included, you may
	  use:</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">#if (defined(BSD) &amp;&amp; (BSD &gt;= 199103))</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">to detect if the code is being compiled on a 4.3 Net2 code base
	  or newer (e.g. FreeBSD 1.x, 4.3/Reno, NetBSD 0.9, 386BSD, BSD/386
	  1.1 and below).</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Use:</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">#if (defined(BSD) &amp;&amp; (BSD &gt;= 199306))</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">to detect if the code is being compiled on a 4.4 code base or
	  newer (e.g. FreeBSD 2.x, 4.4, NetBSD 1.0, BSD/386 2.0 or
	  above).</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">The value of the <literal xmlns:xlink="http://www.w3.org/1999/xlink">BSD</literal> macro is
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">199506</literal> for the 4.4BSD-Lite2 code base.  This is
	  stated for informational purposes only.  It should not be used to
	  distinguish between versions of FreeBSD based only on 4.4-Lite vs.
	  versions that have merged in changes from 4.4-Lite2.  The
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">__FreeBSD__</literal> macro should be used instead.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Use sparingly:</para>

	<itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">__FreeBSD__</literal> is defined in all versions of
	      FreeBSD.  Use it if the change you are making
	      <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">only</emphasis> affects FreeBSD.  Porting gotchas like
	      the use of <literal xmlns:xlink="http://www.w3.org/1999/xlink">sys_errlist[]</literal> vs
	      <function xmlns:xlink="http://www.w3.org/1999/xlink">strerror()</function> are Berkeley-isms, not FreeBSD
	      changes.</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">In FreeBSD 2.x, <literal xmlns:xlink="http://www.w3.org/1999/xlink">__FreeBSD__</literal> is defined to
	      be <literal xmlns:xlink="http://www.w3.org/1999/xlink">2</literal>.  In earlier versions, it is
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">1</literal>.  Later versions always bump it to match
	      their major version number.</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">If you need to tell the difference between a FreeBSD 1.x
	      system and a FreeBSD 2.x or above system, usually the right answer
	      is to use the <literal xmlns:xlink="http://www.w3.org/1999/xlink">BSD</literal> macros described above.  If
	      there actually is a FreeBSD specific change (such as special
	      shared library options when using <command xmlns:xlink="http://www.w3.org/1999/xlink">ld</command>) then it
	      is OK to use <literal xmlns:xlink="http://www.w3.org/1999/xlink">__FreeBSD__</literal> and <literal xmlns:xlink="http://www.w3.org/1999/xlink">#if
		__FreeBSD__ &gt; 1</literal> to detect a FreeBSD 2.x and later
	      system.  If you need more granularity in detecting FreeBSD
	      systems since 2.0-RELEASE you can use the following:</para>

	    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">#if __FreeBSD__ &gt;= 2
#include &lt;osreldate.h&gt;
#    if __FreeBSD_version &gt;= 199504
	 /* 2.0.5+ release specific code here */
#    endif
#endif</programlisting>
	  </listitem>
	</itemizedlist>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">In the hundreds of ports that have been done, there have only
	  been one or two cases where <literal xmlns:xlink="http://www.w3.org/1999/xlink">__FreeBSD__</literal> should
	  have been used.  Just because an earlier port screwed up and used it
	  in the wrong place does not mean you should do so too.</para>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="freebsd-versions">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 版本速查表(__FreeBSD_version)</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">以下是 <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://cvsweb.freebsd.org/src/sys/sys/param.h">sys/param.h</link> 內的 <literal xmlns:xlink="http://www.w3.org/1999/xlink">__FreeBSD_version</literal> 版本速查表：</para>

		<table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
		  <title xmlns:xlink="http://www.w3.org/1999/xlink">__FreeBSD_version values</title>
		<tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
		<thead xmlns:xlink="http://www.w3.org/1999/xlink">
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">Release</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">__FreeBSD_version</literal></entry>
		  </row>
		</thead>

		<tbody xmlns:xlink="http://www.w3.org/1999/xlink">
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">2.0-RELEASE</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">119411</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">2.1-CURRENT</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">199501, 199503</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">2.0.5-RELEASE</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">199504</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">2.2-CURRENT before 2.1</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">199508</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">2.1.0-RELEASE</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">199511</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">2.2-CURRENT before 2.1.5</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">199512</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">2.1.5-RELEASE</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">199607</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">2.2-CURRENT before 2.1.6</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">199608</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">2.1.6-RELEASE</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">199612</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">2.1.7-RELEASE</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">199612</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">2.2-RELEASE</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">220000</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">2.2.1-RELEASE</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">220000 (no change)</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">2.2-STABLE after 2.2.1-RELEASE</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">220000 (no change)</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">2.2-STABLE after texinfo-3.9</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">221001</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">2.2-STABLE after top</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">221002</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">2.2.2-RELEASE</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">222000</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">2.2-STABLE after 2.2.2-RELEASE</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">222001</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">2.2.5-RELEASE</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">225000</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">2.2-STABLE after 2.2.5-RELEASE</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">225001</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">2.2-STABLE after ldconfig -R merge</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">225002</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">2.2.6-RELEASE</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">226000</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">2.2.7-RELEASE</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">227000</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">2.2-STABLE after 2.2.7-RELEASE</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">227001</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">2.2-STABLE after <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">semctl</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">2</manvolnum></citerefentry> change</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">227002</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">2.2.8-RELEASE</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">228000</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">2.2-STABLE after 2.2.8-RELEASE</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">228001</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">3.0-CURRENT before <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">mount</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">2</manvolnum></citerefentry> change</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">300000</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">3.0-CURRENT after <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">mount</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">2</manvolnum></citerefentry> change</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">300001</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">3.0-CURRENT after <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">semctl</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">2</manvolnum></citerefentry> change</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">300002</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">3.0-CURRENT after ioctl arg changes</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">300003</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">3.0-CURRENT after ELF conversion</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">300004</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">3.0-RELEASE</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">300005</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">3.0-CURRENT after 3.0-RELEASE</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">300006</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">3.0-STABLE after 3/4 branch</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">300007</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">3.1-RELEASE</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">310000</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">3.1-STABLE after 3.1-RELEASE</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">310001</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">3.1-STABLE after C++ constructor/destructor order
		      change</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">310002</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">3.2-RELEASE</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">320000</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">3.2-STABLE</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">320001</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">3.2-STABLE after binary-incompatible IPFW and
		      socket changes</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">320002</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">3.3-RELEASE</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">330000</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">3.3-STABLE</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">330001</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">3.3-STABLE after adding <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">mkstemp</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">3</manvolnum></citerefentry>
		      to libc</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">330002</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">3.4-RELEASE</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">340000</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">3.4-STABLE</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">340001</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">3.5-RELEASE</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">350000</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">3.5-STABLE</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">350001</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.0-CURRENT after 3.4 branch</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">400000</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.0-CURRENT after change in dynamic linker
		      handling</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">400001</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.0-CURRENT after C++ constructor/destructor
		      order change</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">400002</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.0-CURRENT after functioning <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">dladdr</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">3</manvolnum></citerefentry></entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">400003</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.0-CURRENT after __deregister_frame_info dynamic
		      linker bug fix (also 4.0-CURRENT after EGCS 1.1.2
		      integration)
		    </entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">400004</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.0-CURRENT after <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">suser</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">9</manvolnum></citerefentry> API change
		      (also 4.0-CURRENT after newbus)</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">400005</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.0-CURRENT after cdevsw registration change</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">400006</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.0-CURRENT after the addition of so_cred for
		      socket level credentials</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">400007</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.0-CURRENT after the addition of a poll syscall
		      wrapper to libc_r</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">400008</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.0-CURRENT after the change of the kernel's
		      <literal xmlns:xlink="http://www.w3.org/1999/xlink">dev_t</literal> type to <literal xmlns:xlink="http://www.w3.org/1999/xlink">struct
		      specinfo</literal> pointer</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">400009</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.0-CURRENT after fixing a hole
		      in <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">jail</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">2</manvolnum></citerefentry></entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">400010</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.0-CURRENT after the <literal xmlns:xlink="http://www.w3.org/1999/xlink">sigset_t</literal>
		      datatype change</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">400011</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.0-CURRENT after the cutover to the GCC 2.95.2
		      compiler</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">400012</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.0-CURRENT after adding pluggable linux-mode
		      ioctl handlers</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">400013</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.0-CURRENT after importing OpenSSL</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">400014</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.0-CURRENT after the C++ ABI change in GCC 2.95.2
		      from -fvtable-thunks to -fno-vtable-thunks by
		      default</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">400015</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.0-CURRENT after importing OpenSSH</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">400016</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.0-RELEASE</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">400017</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.0-STABLE after 4.0-RELEASE</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">400018</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.0-STABLE after the introduction of delayed
		      checksums.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">400019</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.0-STABLE after merging libxpg4 code into
		      libc.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">400020</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.0-STABLE after upgrading Binutils to 2.10.0, ELF
		      branding changes, and tcsh in the base system.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">400021</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.1-RELEASE</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">410000</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.1-STABLE after 4.1-RELEASE</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">410001</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.1-STABLE after <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">setproctitle</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">3</manvolnum></citerefentry> moved from
		      libutil to libc.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">410002</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.1.1-RELEASE</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">411000</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.1.1-STABLE after 4.1.1-RELEASE</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">411001</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.2-RELEASE</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">420000</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.2-STABLE after combining libgcc.a and
		      libgcc_r.a, and associated GCC linkage changes.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">420001</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.3-RELEASE</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">430000</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.3-STABLE after wint_t introduction.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">430001</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.3-STABLE after PCI powerstate API merge.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">430002</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.4-RELEASE</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">440000</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.4-STABLE after d_thread_t introduction.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">440001</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.4-STABLE after mount structure changes (affects
		      filesystem klds).</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">440002</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.4-STABLE after the userland components of smbfs
		      were imported.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">440003</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.5-RELEASE</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">450000</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.5-STABLE after the usb structure element rename.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">450001</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.5-STABLE after the
		      <literal xmlns:xlink="http://www.w3.org/1999/xlink">sendmail_enable</literal> <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">rc.conf</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry>
		      variable was made to take the value
		      <literal xmlns:xlink="http://www.w3.org/1999/xlink">NONE</literal>.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">450004</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.5-STABLE after moving to XFree86 4 by default
		      for package builds.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">450005</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.5-STABLE after accept filtering was fixed so
		      that is no longer susceptible to an easy DoS.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">450006</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.6-RELEASE</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">460000</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.6-STABLE <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">sendfile</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">2</manvolnum></citerefentry> fixed to comply with
		      documentation, not to count any headers sent against
		      the amount of data to be sent from the file.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">460001</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.6.2-RELEASE</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">460002</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.6-STABLE</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">460100</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.6-STABLE after MFC of `sed -i'.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">460101</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.6-STABLE after MFC of many new pkg_install
		      features from the HEAD.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">460102</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.7-RELEASE</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">470000</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.7-STABLE</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">470100</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">Start generated __std{in,out,err}p references rather
		      than __sF.  This changes std{in,out,err} from a
		      compile time expression to a runtime one.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">470101</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.7-STABLE after MFC of mbuf changes to replace
		       m_aux mbufs by m_tag's</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">470102</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.7-STABLE gets OpenSSL 0.9.7</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">470103</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.8-RELEASE</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">480000</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.8-STABLE</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">480100</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.8-STABLE after <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">realpath</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">3</manvolnum></citerefentry> has been made
		      thread-safe</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">480101</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.8-STABLE 3ware API changes to twe.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">480102</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.9-RELEASE</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">490000</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.9-STABLE</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">490100</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.9-STABLE after e_sid was added to struct
		      kinfo_eproc.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">490101</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.9-STABLE after MFC of libmap functionality
		      for rtld.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">490102</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.10-RELEASE</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">491000</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.10-STABLE</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">491100</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.10-STABLE after MFC of revision 20040629 of
		      the package tools</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">491101</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.10-STABLE after VM fix dealing with unwiring
		      of fictitious pages</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">491102</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.11-RELEASE</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">492000</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.11-STABLE</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">492100</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.11-STABLE after adding libdata/ldconfig directories
		      to mtree files.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">492101</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.0-CURRENT</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500000</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.0-CURRENT after adding addition ELF header fields,
		      and changing our ELF binary branding method.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500001</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.0-CURRENT after kld metadata changes.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500002</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.0-CURRENT after buf/bio changes.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500003</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.0-CURRENT after binutils upgrade.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500004</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.0-CURRENT after merging libxpg4 code into
		      libc and after TASKQ interface introduction.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500005</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.0-CURRENT after the addition of AGP
		      interfaces.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500006</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.0-CURRENT after Perl upgrade to 5.6.0</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500007</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.0-CURRENT after the update of KAME code to
		      2000/07 sources.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500008</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.0-CURRENT after ether_ifattach() and
		      ether_ifdetach() changes.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500009</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.0-CURRENT after changing mtree defaults
		      back to original variant, adding -L to follow
		      symlinks.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500010</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.0-CURRENT after kqueue API changed.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500011</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.0-CURRENT after <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">setproctitle</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">3</manvolnum></citerefentry> moved from
		      libutil to libc.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500012</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.0-CURRENT after the first SMPng commit.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500013</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.0-CURRENT after &lt;sys/select.h&gt; moved to
		      &lt;sys/selinfo.h&gt;.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500014</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.0-CURRENT after combining libgcc.a and
		      libgcc_r.a, and associated GCC linkage changes.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500015</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.0-CURRENT after change allowing libc and libc_r
		      to be linked together, deprecating -pthread
		      option.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500016</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.0-CURRENT after switch from struct ucred to
		      struct xucred to stabilize kernel-exported API for
		      mountd et al.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500017</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.0-CURRENT after addition of CPUTYPE make variable
		      for controlling CPU-specific optimizations.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500018</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.0-CURRENT after moving machine/ioctl_fd.h to
		      sys/fdcio.h</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500019</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.0-CURRENT after locale names renaming.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500020</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.0-CURRENT after Bzip2 import.
		    Also signifies removal of S/Key.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500021</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.0-CURRENT after SSE support.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500022</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.0-CURRENT after KSE Milestone 2.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500023</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.0-CURRENT after d_thread_t,
		      and moving UUCP to ports.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500024</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.0-CURRENT after ABI change for descriptor
		      and creds passing on 64 bit platforms.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500025</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.0-CURRENT after moving to XFree86 4 by default for
		      package builds, and after the new libc strnstr() function
		      was added.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500026</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.0-CURRENT after the new libc strcasestr() function
		      was added.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500027</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.0-CURRENT after the userland components of smbfs
		      were imported.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500028</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.0-CURRENT after the new C99 specific-width
		      integer types were added.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">(Not incremented.)</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.0-CURRENT after a change was made in the return
		      value of <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">sendfile</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">2</manvolnum></citerefentry>.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500029</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.0-CURRENT after the introduction of the
		      type <literal xmlns:xlink="http://www.w3.org/1999/xlink">fflags_t</literal>, which is the
		      appropriate size for file flags.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500030</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.0-CURRENT after the usb structure element rename.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500031</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.0-CURRENT after the introduction of
		      Perl 5.6.1.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500032</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.0-CURRENT after the
		      <literal xmlns:xlink="http://www.w3.org/1999/xlink">sendmail_enable</literal> <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">rc.conf</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry>
		      variable was made to take the value
		      <literal xmlns:xlink="http://www.w3.org/1999/xlink">NONE</literal>.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500033</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.0-CURRENT after mtx_init() grew a third argument.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500034</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.0-CURRENT with Gcc 3.1.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500035</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.0-CURRENT without Perl in /usr/src</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500036</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.0-CURRENT after the addition of <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">dlfunc</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">3</manvolnum></citerefentry></entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500037</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.0-CURRENT after the types of some struct
		      sockbuf members were changed and the structure was
		      reordered.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500038</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.0-CURRENT after GCC 3.2.1 import.
		      Also after headers stopped using
		      _BSD_FOO_T_ and started using _FOO_T_DECLARED.
		      This value can also be used as a conservative
		      estimate of the start of <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">bzip2</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> package
		      support.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500039</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.0-CURRENT after various changes to disk functions
		      were made in the name of removing dependency on disklabel
		      structure internals.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500040</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.0-CURRENT after the addition of <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">getopt_long</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">3</manvolnum></citerefentry>
		      to libc.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500041</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.0-CURRENT after Binutils 2.13 upgrade, which
		      included new FreeBSD emulation, vec, and output format.
		      </entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500042</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.0-CURRENT after adding weak pthread_XXX stubs
		      to libc, obsoleting libXThrStub.so.  5.0-RELEASE.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500043</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.0-CURRENT after branching for RELENG_5_0</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500100</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">&lt;sys/dkstat.h&gt; is empty and should
		    not be included.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500101</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.0-CURRENT after the d_mmap_t interface
		      change.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500102</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.0-CURRENT after taskqueue_swi changed to run
		      without Giant, and taskqueue_swi_giant added to run
		      with Giant.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500103</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">cdevsw_add() and cdevsw_remove() no
		      longer exists.
		      Appearance of MAJOR_AUTO allocation facility.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500104</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.0-CURRENT after new cdevsw initialization method.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500105</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">devstat_add_entry() has been replaced by
		      devstat_new_entry()</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500106</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">Devstat interface change; see sys/sys/param.h 1.149</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500107</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">Token-Ring interface changes.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500108</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">Addition of vm_paddr_t.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500109</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.0-CURRENT after <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">realpath</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">3</manvolnum></citerefentry> has been made
		      thread-safe</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500110</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.0-CURRENT after <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">usbhid</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">3</manvolnum></citerefentry> has been synced with
		      NetBSD</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500111</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.0-CURRENT after new NSS implementation
		      and addition of POSIX.1 getpw*_r, getgr*_r
		      functions</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500112</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.0-CURRENT after removal of the old rc system.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">500113</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.1-RELEASE.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">501000</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.1-CURRENT after branching for RELENG_5_1.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">501100</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.1-CURRENT after correcting the semantics of
		      sigtimedwait(2) and sigwaitinfo(2).</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">501101</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.1-CURRENT after adding the lockfunc and lockfuncarg
		      fields to <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">bus_dma_tag_create</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">9</manvolnum></citerefentry>.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">501102</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.1-CURRENT after GCC 3.3.1-pre 20030711 snapshot
		      integration.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">501103</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.1-CURRENT 3ware API changes to twe.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">501104</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.1-CURRENT dynamically-linked /bin and /sbin
		      support and movement of libraries to /lib.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">501105</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.1-CURRENT after adding kernel support for
		      Coda 6.x.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">501106</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.1-CURRENT after 16550 UART constants moved from
		      <filename xmlns:xlink="http://www.w3.org/1999/xlink">&lt;dev/sio/sioreg.h&gt;</filename> to
		      <filename xmlns:xlink="http://www.w3.org/1999/xlink">&lt;dev/ic/ns16550.h&gt;</filename>.
		      Also when libmap functionality was unconditionally
		      supported by rtld.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">501107</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.1-CURRENT after PFIL_HOOKS API update</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">501108</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.1-CURRENT after adding kiconv(3)</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">501109</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.1-CURRENT after changing default operations
			for open and close in cdevsw</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">501110</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.1-CURRENT after changed layout of cdevsw</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">501111</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink"> 5.1-CURRENT after adding kobj multiple inheritance
		    </entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">501112</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink"> 5.1-CURRENT after the if_xname change in
			struct ifnet</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">501113</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink"> 5.1-CURRENT after changing /bin and /sbin to
			be dynamically linked</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">501114</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.2-RELEASE</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">502000</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.2.1-RELEASE</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">502010</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.2-CURRENT after branching for RELENG_5_2</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">502100</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.2-CURRENT after __cxa_atexit/__cxa_finalize
			functions were added to libc.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">502101</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.2-CURRENT after change of default thread library
			from libc_r to libpthread.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">502102</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.2-CURRENT after device driver API megapatch.
		    </entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">502103</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.2-CURRENT after getopt_long_only() addition.
		    </entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">502104</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.2-CURRENT after NULL is made into ((void *)0)
			for C, creating more warnings.
		    </entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">502105</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.2-CURRENT after pf is linked to the build and
			install.
		    </entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">502106</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.2-CURRENT after time_t is changed to a
			64-bit value on sparc64.
		    </entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">502107</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.2-CURRENT after Intel C/C++ compiler support in some headers and execve(2) changes to be more strictly conforming to POSIX.
		    </entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">502108</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.2-CURRENT after the introduction of the
		      bus_alloc_resource_any API
		    </entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">502109</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.2-CURRENT after the addition of UTF-8 locales
		    </entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">502110</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.2-CURRENT after the removal of the getvfsent(3)
		      API
		    </entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">502111</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.2-CURRENT after the addition of the .warning
		      directive for make.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">502112</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.2-CURRENT after ttyioctl() was made mandatory
		      for serial drivers.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">502113</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.2-CURRENT after import of the ALTQ framework.
		    </entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">502114</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.2-CURRENT after changing sema_timedwait(9) to
		      return 0 on success and a non-zero error code on
		      failure.
		    </entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">502115</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.2-CURRENT after changing kernel dev_t to
		      be pointer to struct cdev *.
		    </entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">502116</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.2-CURRENT after changing kernel udev_t to dev_t.
		    </entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">502117</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.2-CURRENT after adding support for CLOCK_VIRTUAL
		      and CLOCK_PROF to clock_gettime(2) and clock_getres(2).
		    </entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">502118</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.2-CURRENT after changing network interface
		      cloning overhaul.
		    </entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">502119</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.2-CURRENT after the update of the package tools
		      to revision 20040629.
		    </entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">502120</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.2-CURRENT after marking Bluetooth code as
		      non-i386 specific.
		    </entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">502121</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.2-CURRENT after the introduction of the KDB
		      debugger framework, the conversion of DDB into a
		      backend and the introduction of the GDB backend.
		    </entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">502122</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.2-CURRENT after change to make
		      VFS_ROOT take a struct
		      thread argument as does vflush.  Struct kinfo_proc
		      now has a user data pointer.
		      The switch of the default X implementation to
		      <literal xmlns:xlink="http://www.w3.org/1999/xlink">xorg</literal> was also made at this time.
		    </entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">502123</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.2-CURRENT after the change to separate the way
		      ports rc.d and legacy scripts are started.
		    </entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">502124</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.2-CURRENT after the backout of the
		      previous change.
		    </entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">502125</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.2-CURRENT after the removal of
		      kmem_alloc_pageable() and the import of gcc 3.4.2.
		    </entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">502126</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.2-CURRENT after changing the UMA kernel
		      API to allow ctors/inits to fail.
		    </entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">502127</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.2-CURRENT after the change of the
		      vfs_mount signature as well as global replacement of
		      PRISON_ROOT with SUSER_ALLOWJAIL for the suser(9)
		      API.
		    </entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">502128</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.3-BETA/RC before the pfil API change</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">503000</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.3-RELEASE</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">503001</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.3-STABLE after branching for RELENG_5_3</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">503100</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.3-STABLE after addition of glibc style
		      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">strftime</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">3</manvolnum></citerefentry> padding options.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">503101</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.3-STABLE after OpenBSD's nc(1) import MFC.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">503102</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.4-PRERELEASE after the MFC of the fixes in
			<filename xmlns:xlink="http://www.w3.org/1999/xlink">&lt;src/include/stdbool.h&gt;</filename> and
			<filename xmlns:xlink="http://www.w3.org/1999/xlink">&lt;src/sys/i386/include/_types.h&gt;</filename>
			for using the GCC-compatibility of the Intel C/C++ compiler.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">503103</entry>
 		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.4-PRERELEASE after the MFC of the change of
		       ifi_epoch from wall clock time to uptime.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">503104</entry>
 		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.4-PRERELEASE after the MFC of the fix of EOVERFLOW check in vswprintf(3).</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">503105</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.4-RELEASE.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">504000</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.4-STABLE after branching for RELENG_5_4</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">504100</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.4-STABLE after increasing the default
		      thread stacksizes</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">504101</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.4-STABLE after the addition of sha256</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">504102</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.4-STABLE after the MFC of if_bridge</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">504103</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.4-STABLE after the MFC of bsdiff and portsnap</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">504104</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.4-STABLE after MFC of ldconfig_local_dirs
		      change.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">504105</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.5-RELEASE.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">505000</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.5-STABLE after branching for RELENG_5_5</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">505100</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">6.0-CURRENT</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600000</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">6.0-CURRENT after permanently enabling PFIL_HOOKS
		      in the kernel.
		    </entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600001</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">6.0-CURRENT after initial addition of
		      ifi_epoch to struct if_data.  Backed out after a
		      few days.  Do not use this value.
		    </entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600002</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">6.0-CURRENT after the re-addition of the
		      ifi_epoch member of struct if_data.
		    </entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600003</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">6.0-CURRENT after addition of the struct inpcb
		      argument to the pfil API.
		    </entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600004</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">6.0-CURRENT after addition of the "-d
		      DESTDIR" argument to newsyslog.
		    </entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600005</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">6.0-CURRENT after addition of glibc style
		      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">strftime</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">3</manvolnum></citerefentry> padding options.
		    </entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600006</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">6.0-CURRENT after addition of 802.11 framework
		      updates.
		    </entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600007</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">6.0-CURRENT after changes to VOP_*VOBJECT() functions
		      and introduction of MNTK_MPSAFE flag for Giantfree filesystems.
		    </entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600008</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">6.0-CURRENT after addition of the cpufreq framework
		      and drivers.
		    </entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600009</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">6.0-CURRENT after importing OpenBSD's nc(1).</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600010</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">6.0-CURRENT after removing semblance of SVID2
			<literal xmlns:xlink="http://www.w3.org/1999/xlink">matherr()</literal> support.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600011</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">6.0-CURRENT after increase of default thread stacks'
			size.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600012</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">6.0-CURRENT after fixes in
			<filename xmlns:xlink="http://www.w3.org/1999/xlink">&lt;src/include/stdbool.h&gt;</filename> and
			<filename xmlns:xlink="http://www.w3.org/1999/xlink">&lt;src/sys/i386/include/_types.h&gt;</filename>
			for using the GCC-compatibility of the Intel C/C++ compiler.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600013</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">6.0-CURRENT after EOVERFLOW checks in vswprintf(3) fixed.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600014</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">6.0-CURRENT after changing the struct if_data
		       member, ifi_epoch, from wall clock time to uptime.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600015</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">6.0-CURRENT after LC_CTYPE disk format changed.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600016</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">6.0-CURRENT after NLS catalogs disk format changed.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600017</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">6.0-CURRENT after LC_COLLATE disk format changed.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600018</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">Installation of acpica includes into /usr/include.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600019</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">Addition of MSG_NOSIGNAL flag to send(2) API.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600020</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">Addition of fields to cdevsw</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600021</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">Removed gtar from base system.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600022</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">LOCAL_CREDS, LOCAL_CONNWAIT socket options added to unix(4).</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600023</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">hwpmc</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry> and related tools added to 6.0-CURRENT.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600024</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">struct icmphdr added to 6.0-CURRENT.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600025</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">pf updated to 3.7.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600026</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">Kernel libalias and ng_nat introduced.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600027</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">POSIX ttyname_r(3) made available through unistd.h and libc.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600028</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">6.0-CURRENT after libpcap updated to v0.9.1 alpha 096.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600029</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">6.0-CURRENT after importing NetBSD's if_bridge(4).</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600030</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">6.0-CURRENT after struct ifnet was broken out
		      of the driver softcs.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600031</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">6.0-CURRENT after the import of libpcap v0.9.1.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600032</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">6.0-STABLE after bump of all shared library
		      versions that had not been changed since
		      RELENG_5.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600033</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">6.0-STABLE after credential argument is added to
		      dev_clone event handler.  6.0-RELEASE.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600034</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">6.0-STABLE after 6.0-RELEASE</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600100</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">6.0-STABLE after incorporating scripts from the
		      local_startup directories into the base <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">rcorder</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600101</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">6.0-STABLE after updating the ELF types and
		      constants.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600102</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">6.0-STABLE after MFC of pidfile(3) API.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600103</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">6.0-STABLE after MFC of ldconfig_local_dirs
		      change.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600104</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">6.0-STABLE after NLS catalog support of
		      csh(1).</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">600105</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">6.1-RELEASE</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">601000</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">6.1-STABLE after 6.1-RELEASE.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">601100</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">6.1-STABLE after the import of csup.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">601101</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">6.1-STABLE after the iwi(4) update.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">601102</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">6.1-STABLE after the resolver update to
		      BIND9, and exposure of reentrant version of
		      netdb functions.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">601103</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">6.1-STABLE after DSO (dynamic shared
		      objects) support has been enabled in
		      OpenSSL.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">601104</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">6.1-STABLE after 802.11 fixups changed the
		      api for the IEEE80211_IOC_STA_INFO ioctl.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">601105</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">6.2-RELEASE</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">602000</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">6.2-STABLE after 6.2-RELEASE.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">602100</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">6.2-STABLE after the addition of Wi-Spy
		      quirk.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">602101</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">6.2-STABLE after pci_find_extcap() addition.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">602102</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">6.2-STABLE after MFC of dlsym change to look
		      for a requested symbol both
		      in specified dso and its implicit dependencies.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">602103</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">6.2-STABLE after MFC of ng_deflate(4) and
		      ng_pred1(4) netgraph nodes and new compression and
		      encryption modes for ng_ppp(4) node.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">602104</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">6.2-STABLE after MFC of BSD licensed version of <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">gzip</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>
		      ported from NetBSD.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">602105</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">6.2-STABLE after MFC of PCI MSI and MSI-X
		      support.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">602106</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">6.2-STABLE after MFC of ncurses 5.6 and wide
		      character support.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">602107</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">6.2-STABLE after MFC of CAM 'SG' peripheral device,
			which implements a subset of Linux SCSI SG passthrough device API.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">602108</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">6.2-STABLE after MFC of readline 5.2 patchset 002.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">602109</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">6.2-STABLE after MFC of pmap_invalidate_cache(),
		      pmap_change_attr(), pmap_mapbios(), pmap_mapdev_attr(),
		      and pmap_unmapbios() for amd64 and i386.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">602110</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">6.2-STABLE after MFC of BOP_BDFLUSH and caused
		      breakage of the filesystem modules KBI.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">602111</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">6.2-STABLE after libutil(3) MFC's.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">602112</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">6.2-STABLE after MFC of wide and single byte
		      ctype separation.  Newly compiled binary that references
		      to ctype.h may require a new symbol, __mb_sb_limit,
		      which is not available on older systems.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">602113</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">6.2-STABLE after ctype ABI forward compatibility
		      restored.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">602114</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">6.2-STABLE after back out of wide and single byte
		      ctype separation.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">602115</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">6.3-RELEASE</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">603000</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">6.3-STABLE after 6.3-RELEASE.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">603100</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">6.3-STABLE after fixing
		      multibyte type support in bit macro.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">603101</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">6.3-STABLE after adding l_sysid to struct flock.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">603102</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">6.3-STABLE after MFC of the
		      <function xmlns:xlink="http://www.w3.org/1999/xlink">memrchr</function> function.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">603103</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">6.3-STABLE after MFC of support for
		      <literal xmlns:xlink="http://www.w3.org/1999/xlink">:u</literal> variable modifier in make(1).</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">603104</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">6.4-RELEASE</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">604000</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">6.4-STABLE after 6.4-RELEASE.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">604100</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.0-CURRENT.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700000</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.0-CURRENT after bump of all shared library
		      versions that had not been changed since
		      RELENG_5.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700001</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.0-CURRENT after credential argument is added to
		      dev_clone event handler.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700002</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.0-CURRENT after memmem(3) is added to libc.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700003</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.0-CURRENT after solisten(9) kernel arguments
		      are modified to accept a backlog parameter.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700004</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.0-CURRENT after IFP2ENADDR() was changed to return
		      a pointer to IF_LLADDR().</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700005</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.0-CURRENT after addition of <literal xmlns:xlink="http://www.w3.org/1999/xlink">if_addr</literal>
		      member to <literal xmlns:xlink="http://www.w3.org/1999/xlink">struct ifnet</literal> and IFP2ENADDR()
		      removal.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700006</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.0-CURRENT after incorporating scripts from the
		      local_startup directories into the base <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">rcorder</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700007</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.0-CURRENT after removal of MNT_NODEV mount
		      option.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700008</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.0-CURRENT after ELF-64 type changes and symbol
		      versioning.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700009</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.0-CURRENT after addition of hostb and vgapci
		      drivers, addition of pci_find_extcap(), and changing
		      the AGP drivers to no longer map the aperture.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700010</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.0-CURRENT after tv_sec was made time_t on
		      all platforms but Alpha.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700011</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.0-CURRENT after ldconfig_local_dirs change.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700012</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.0-CURRENT after changes to
		      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.d/abi</filename> to support
		      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/compat/linux/etc/ld.so.cache</filename>
		      being a symlink in a readonly filesystem.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700013</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.0-CURRENT after pts import.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700014</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.0-CURRENT after the introduction of version 2
		      of <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">hwpmc</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry>'s ABI.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700015</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.0-CURRENT after addition of <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">fcloseall</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">3</manvolnum></citerefentry>
		      to libc.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700016</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.0-CURRENT after removal of ip6fw.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700017</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.0-CURRENT after import of snd_emu10kx.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700018</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.0-CURRENT after import of OpenSSL 0.9.8b.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700019</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.0-CURRENT after addition of bus_dma_get_tag
                      function</entry>
                    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700020</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.0-CURRENT after libpcap 0.9.4 and
                      tcpdump 3.9.4 import.</entry>
                    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700021</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.0-CURRENT after dlsym change to look
		      for a requested symbol both
		      in specified dso and its implicit dependencies.</entry>
                    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700022</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.0-CURRENT after adding new sound IOCTLs.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700023</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.0-CURRENT after import of OpenSSL 0.9.8d.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700024</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.0-CURRENT after the addition of libelf.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700025</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.0-CURRENT after major changes on sound
		      sysctls.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700026</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.0-CURRENT after the addition of Wi-Spy
		      quirk.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700027</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.0-CURRENT after the addition of sctp calls to libc
		    </entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700028</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.0-CURRENT after the GNU <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">gzip</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> implementation was
		      replaced with a BSD licensed version ported from NetBSD.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700029</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.0-CURRENT after the removal of IPIP tunnel encapsulation (VIFF_TUNNEL) from the IPv4 multicast forwarding code.
		    </entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700030</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.0-CURRENT after the modification of bus_setup_intr() (newbus).
		    </entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700031</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.0-CURRENT after the inclusion of ipw(4) and iwi(4) firmwares.
		    </entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700032</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.0-CURRENT after the inclusion of ncurses wide character support.
		    </entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700033</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.0-CURRENT after changes to how insmntque(),
		      getnewvnode(), and vfs_hash_insert() work.
		    </entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700034</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.0-CURRENT after addition of a notify mechanism
		      for CPU frequency changes.
		    </entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700035</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.0-CURRENT after import of the ZFS filesystem.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700036</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.0-CURRENT after addition of CAM 'SG' peripheral device,
		      which implements a subset of Linux SCSI SG passthrough device API.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700037</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.0-CURRENT after changing <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">getenv</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">3</manvolnum></citerefentry>, <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">putenv</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">3</manvolnum></citerefentry>,
		      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">setenv</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">3</manvolnum></citerefentry> and <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">unsetenv</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">3</manvolnum></citerefentry> to be POSIX
		      conformant.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700038</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.0-CURRENT after the changes in 700038 were
		      backed out.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700039</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.0-CURRENT after the addition of <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">flopen</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">3</manvolnum></citerefentry>
		      to libutil.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700040</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.0-CURRENT after enabling symbol versioning, and changing
		      the default thread library to libthr.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700041</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.0-CURRENT after the import of gcc 4.2.0.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700042</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.0-CURRENT after bump of all shared library
		      versions that had not been changed since
		      RELENG_6.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700043</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.0-CURRENT after changing the argument for
		      vn_open()/VOP_OPEN() from filedescriptor index to the
		      struct file *.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700044</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.0-CURRENT after changing <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pam_nologin</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> to
		      provide an account management function instead of an
		      authentication function to the PAM framework.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700045</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.0-CURRENT after updated 802.11 wireless
		      support.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700046</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.0-CURRENT after adding TCP LRO interface
		      capabilities.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700047</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.0-CURRENT after
		      RFC 3678 API support added to the IPv4 stack.
		      Legacy RFC 1724 behaviour of the IP_MULTICAST_IF
		      ioctl has now been removed; 0.0.0.0/8 may no longer
		      be used to specify an interface index.
		      struct ipmreqn should be used instead.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700048</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.0-CURRENT after importing pf from OpenBSD
		      4.1</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700049</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.0-CURRENT after adding IPv6 support for
		      FAST_IPSEC, deleting KAME IPSEC, and renaming
		      FAST_IPSEC to IPSEC.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">(not changed)</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.0-CURRENT after converting setenv/putenv/etc.
		      calls from traditional BSD to POSIX.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700050</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.0-CURRENT after adding new mmap/lseek/etc
		      syscalls.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700051</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.0-CURRENT after moving I4B headers to
		      include/i4b.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700052</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.0-CURRENT after the addition of support for
		      PCI domains</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700053</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.0-CURRENT after MFC of wide and single byte
		      ctype separation.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700054</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.0-RELEASE, and 7.0-CURRENT after ABI backwards compatibility
		      to the FreeBSD 4/5/6 versions of the PCIOCGETCONF,
		      PCIOCREAD and PCIOCWRITE IOCTLs was MFC'ed, which
		      required the ABI of the PCIOCGETCONF IOCTL to be
		      broken again</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700055</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.0-STABLE after 7.0-RELEASE</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700100</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.0-STABLE after the MFC of m_collapse().</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700101</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.0-STABLE after the MFC of kdb_enter_why().</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700102</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.0-STABLE after adding l_sysid to struct flock.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700103</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.0-STABLE after the MFC of procstat(1).</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700104</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.0-STABLE after the MFC of umtx features. </entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700105</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.0-STABLE after the MFC of <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">write</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">2</manvolnum></citerefentry> support
		      to <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">psm</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry>.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700106</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.0-STABLE after the MFC of F_DUP2FD command
		      to <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">fcntl</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">2</manvolnum></citerefentry>.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700107</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.0-STABLE after some <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lockmgr</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">9</manvolnum></citerefentry> changes, which
		      makes it necessary to include
		      <filename xmlns:xlink="http://www.w3.org/1999/xlink">sys/lock.h</filename> in order to use
		      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lockmgr</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">9</manvolnum></citerefentry>.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700108</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.0-STABLE after MFC of the
		      <function xmlns:xlink="http://www.w3.org/1999/xlink">memrchr</function> function.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700109</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.0-STABLE after MFC of kernel NFS lockd client.
		      </entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700110</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.0-STABLE after addition of physically contiguous
		      jumbo frame support.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700111</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.0-STABLE after MFC of kernel DTrace support.
		      </entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">700112</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.1-RELEASE</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">701000</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7.1-STABLE after 7.1-RELEASE.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">701100</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">8.0-CURRENT. Separating wide and single byte
		      ctype.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800000</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">8.0-CURRENT after libpcap 0.9.8 and tcpdump 3.9.8
		      import.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800001</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">8.0-CURRENT after renaming kthread_create()
		      and friends to kproc_create() etc.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800002</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">8.0-CURRENT after ABI backwards compatibility
		      to the FreeBSD 4/5/6 versions of the PCIOCGETCONF,
		      PCIOCREAD and PCIOCWRITE IOCTLs was added, which
		      required the ABI of the PCIOCGETCONF IOCTL to be
		      broken again</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800003</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">8.0-CURRENT after agp(4) driver moved from
		      src/sys/pci to src/sys/dev/agp</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800004</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">8.0-CURRENT after
		      <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.freebsd.org/cgi/cvsweb.cgi/src/sys/kern/kern_mbuf.c#rev1.35">changes
		      to the jumbo frame allocator</link>.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800005</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">8.0-CURRENT after the addition of callgraph
		      capture functionality to <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">hwpmc</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry>.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800006</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">8.0-CURRENT after kdb_enter() gains a "why"
		      argument.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800007</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">8.0-CURRENT after LK_EXCLUPGRADE option
		      removal.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800008</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">8.0-CURRENT after introduction of
		      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lockmgr_disown</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">9</manvolnum></citerefentry></entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800009</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">8.0-CURRENT after the <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">vn_lock</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">9</manvolnum></citerefentry> prototype
		      change.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800010</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">8.0-CURRENT after the <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">VOP_LOCK</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">9</manvolnum></citerefentry> and
		      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">VOP_UNLOCK</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">9</manvolnum></citerefentry> prototype changes.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800011</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">8.0-CURRENT after introduction of
		      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lockmgr_recursed</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">9</manvolnum></citerefentry>, <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">BUF_RECURSED</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">9</manvolnum></citerefentry> and
		      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">BUF_ISLOCKED</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">9</manvolnum></citerefentry> and the removal of
		      <function xmlns:xlink="http://www.w3.org/1999/xlink">BUF_REFCNT()</function>.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800012</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">8.0-CURRENT after introduction of the
		      <quote xmlns:xlink="http://www.w3.org/1999/xlink">ASCII</quote> encoding.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800013</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">8.0-CURRENT after changing the prototype of
		      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lockmgr</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">9</manvolnum></citerefentry> and removal of
		      <function xmlns:xlink="http://www.w3.org/1999/xlink">lockcount()</function> and
		      <function xmlns:xlink="http://www.w3.org/1999/xlink">LOCKMGR_ASSERT()</function>.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800014</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">8.0-CURRENT after extending the types
		      of the <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">fts</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">3</manvolnum></citerefentry> structures.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800015</entry>
		  </row>

		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">8.0-CURRENT after adding an argumentt to MEXTADD(9)
		      </entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800016</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">8.0-CURRENT after the introduction of
		      LK_NODUP and LK_NOWITNESS options in the
		      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lockmgr</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">9</manvolnum></citerefentry> space.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800017</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">8.0-CURRENT after the addition of
		      m_collapse.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800018</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">8.0-CURRENT after the addition of current
		      working directory, root directory, and jail
		      directory support to the kern.proc.filedesc
		      sysctl.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800019</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">8.0-CURRENT after introduction of
		      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lockmgr_assert</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">9</manvolnum></citerefentry> and
		      <function xmlns:xlink="http://www.w3.org/1999/xlink">BUF_ASSERT</function> functions.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800020</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">8.0-CURRENT after introduction of
		      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lockmgr_args</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">9</manvolnum></citerefentry> and LK_INTERNAL flag
		      removal.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800021</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">8.0-CURRENT after changing the default system ar
		      to BSD <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ar</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800022</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">8.0-CURRENT after changing the prototypes of
		      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lockstatus</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">9</manvolnum></citerefentry> and <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">VOP_ISLOCKED</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">9</manvolnum></citerefentry>, more
		      specifically retiring the
		      <literal xmlns:xlink="http://www.w3.org/1999/xlink">struct thread</literal> argument.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800023</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">8.0-CURRENT after axing out the
		      <function xmlns:xlink="http://www.w3.org/1999/xlink">lockwaiters</function> and
		      <function xmlns:xlink="http://www.w3.org/1999/xlink">BUF_LOCKWAITERS</function> functions,
		      changing the return value fo <function xmlns:xlink="http://www.w3.org/1999/xlink">brelvp</function>
		      from void to int and introducing new flags for
		      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lockinit</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">9</manvolnum></citerefentry>.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800024</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">8.0-CURRENT after adding F_DUP2FD command
		      to <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">fcntl</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">2</manvolnum></citerefentry>.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800025</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">8.0-CURRENT after changing the priority parameter
		      to cv_broadcastpri such that 0 means no priority.
		    </entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800026</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">8.0-CURRENT after changing the bpf monitoring ABI
		     when zerocopy bpf buffers were added.
		    </entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800027</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">8.0-CURRENT after adding l_sysid to struct flock.
		    </entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800028</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">8.0-CURRENT after reintegration of the
		      <function xmlns:xlink="http://www.w3.org/1999/xlink">BUF_LOCKWAITERS</function> function and the
		      addition of <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lockmgr_waiters</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">9</manvolnum></citerefentry>.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800029</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">8.0-CURRENT after the introduction of the
		      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">rw_try_rlock</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">9</manvolnum></citerefentry> and <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">rw_try_wlock</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">9</manvolnum></citerefentry> functions.
		    </entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800030</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">8.0-CURRENT after the introduction of the
		      <function xmlns:xlink="http://www.w3.org/1999/xlink">lockmgr_rw</function> and
		      <function xmlns:xlink="http://www.w3.org/1999/xlink">lockmgr_args_rw</function> functions.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800031</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">8.0-CURRENT after the implementation of the
		      openat and related syscalls, introduction of the O_EXEC
		      flag for the <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">open</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">2</manvolnum></citerefentry>, and providing the
		      corresponding linux compatibility syscalls.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800032</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">8.0-CURRENT after added <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">write</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">2</manvolnum></citerefentry> support for
		      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">psm</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry> in native operation level.  Now arbitrary
		      commands can be written to <filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/psm%d</filename>
		      and status can be read back from it.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800033</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">8.0-CURRENT after introduction of the
		      <function xmlns:xlink="http://www.w3.org/1999/xlink">memrchr</function> function.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800034</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">8.0-CURRENT after introduction of the
		      <function xmlns:xlink="http://www.w3.org/1999/xlink">fdopendir</function> function.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800035</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">8.0-CURRENT after switchover of 802.11 wireless
		      to multi-bss support (aka vaps).</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800036</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">8.0-CURRENT after addition of multi routing
		      table support (a.k.a. setfib(1), setfib(2)).</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800037</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">8.0-CURRENT after removal of netatm and
		      ISDN4BSD.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800038</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">8.0-CURRENT after removal of sgtty.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800039</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">8.0-CURRENT with kernel NFS lockd client.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800040</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">8.0-CURRENT after addition of arc4random_buf(3)
		      and arc4random_uniform(3).</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800041</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">8.0-CURRENT after addition of cpuctl(4).</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800042</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">8.0-CURRENT after changing bpf(4) to use a
		      single device node, instead of device cloning.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800043</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">8.0-CURRENT after the commit of the first step of
		      the vimage project renaming global variables to be
		      virtualized with a V_ prefix with macros to map them
		      back to their global names.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800044</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">8.0-CURRENT after the integration of the
		      MPSAFE TTY layer, including changes to various
		      drivers and utilities that interact with it.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800045</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">8.0-CURRENT after the separation of the GDT
		      per CPU on amd64 architecture.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800046</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">8.0-CURRENT after removal of VSVTX, VSGID
		      and VSUID.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800047</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">8.0-CURRENT after converting the kernel NFS mount
		      code to accept individual mount options in the
		      nmount() iovec, not just one big
		      struct nfs_args.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800048</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">8.0-CURRENT after the removal of <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">suser</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">9</manvolnum></citerefentry> and
		      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">suser_cred</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">9</manvolnum></citerefentry>.</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">800049</entry>
		  </row>
		</tbody>
	      </tgroup>
	    </table>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Note that 2.2-STABLE sometimes identifies itself as
	    <quote xmlns:xlink="http://www.w3.org/1999/xlink">2.2.5-STABLE</quote> after the 2.2.5-RELEASE.  The pattern
	    used to be year followed by the month, but we decided to change it
	    to a more straightforward major/minor system starting from 2.2.
	    This is because the parallel development on several branches made
	    it infeasible to classify the releases simply by their real
	    release dates.  If you are making a port now, you do not have to
	    worry about old -CURRENTs; they are listed here just for your
	    reference.</para>
	</note>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="dads-after-port-mk">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Writing something after
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.mk</filename></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Do not write anything after the <literal xmlns:xlink="http://www.w3.org/1999/xlink">.include
	    &lt;bsd.port.mk&gt;</literal> line.  It usually can be avoided by
	  including <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.pre.mk</filename> somewhere in the
	  middle of your <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> and
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.post.mk</filename> at the end.</para>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">You need to include either the
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.pre.mk</filename>/<filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.post.mk</filename> pair or
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.mk</filename> only; do not mix these two usages.</para>
	</note>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.pre.mk</filename> only defines a few
	  variables, which can be used in tests in the
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>, <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.post.mk</filename>
	  defines the rest.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Here are some important variables defined in
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.pre.mk</filename> (this is not the complete list,
	  please read <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.mk</filename> for the complete
	  list).</para>

	<informaltable xmlns:xlink="http://www.w3.org/1999/xlink" frame="none" pgwide="1">
	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	    <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Variable</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Description</entry>
	      </row>
	    </thead>

	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">ARCH</varname></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">The architecture as returned by <command xmlns:xlink="http://www.w3.org/1999/xlink">uname
		    -m</command> (e.g., <literal xmlns:xlink="http://www.w3.org/1999/xlink">i386</literal>)</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">OPSYS</varname></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">The operating system type, as returned by
		  <command xmlns:xlink="http://www.w3.org/1999/xlink">uname -s</command> (e.g.,
		  <literal xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD</literal>)</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">OSREL</varname></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">The release version of the operating system (e.g.,
		  <literal xmlns:xlink="http://www.w3.org/1999/xlink">2.1.5</literal> or
		  <literal xmlns:xlink="http://www.w3.org/1999/xlink">2.2.7</literal>)</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">OSVERSION</varname></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">The numeric version of the operating system; the same as
		  <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="freebsd-versions"><literal xmlns:xlink="http://www.w3.org/1999/xlink">__FreeBSD_version</literal></link>.</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTOBJFORMAT</varname></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">The object format of the system
		  (<literal xmlns:xlink="http://www.w3.org/1999/xlink">elf</literal> or <literal xmlns:xlink="http://www.w3.org/1999/xlink">aout</literal>;
		  note that for <quote xmlns:xlink="http://www.w3.org/1999/xlink">modern</quote> versions of FreeBSD,
		  <literal xmlns:xlink="http://www.w3.org/1999/xlink">aout</literal> is deprecated.)</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">LOCALBASE</varname></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">The base of the <quote xmlns:xlink="http://www.w3.org/1999/xlink">local</quote> tree (e.g.,
		  <literal xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/</literal>)</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX</varname></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Where the port installs itself (see <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="porting-prefix">more on
		    <varname xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX</varname></link>).</entry>
	      </row>
	    </tbody>
	  </tgroup>
	</informaltable>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">If you have to define the variables
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_IMAKE</varname>, <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_X_PREFIX</varname>, or
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTERDIR</varname>, do so before including
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.pre.mk</filename>.</para>
	</note>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Here are some examples of things you can write after
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.pre.mk</filename>:</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink"># no need to compile lang/perl5 if perl5 is already in system
.if ${OSVERSION} &gt; 300003
BROKEN= perl is in system
.endif

# only one shlib version number for ELF
.if ${PORTOBJFORMAT} == "elf"
TCL_LIB_FILE=  ${TCL_LIB}.${SHLIB_MAJOR}
.else
TCL_LIB_FILE=  ${TCL_LIB}.${SHLIB_MAJOR}.${SHLIB_MINOR}
.endif

# software already makes link for ELF, but not for a.out
post-install:
.if ${PORTOBJFORMAT} == "aout"
       ${LN} -sf liblinpack.so.1.0 ${PREFIX}/lib/liblinpack.so
.endif</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">You did remember to use tab instead of spaces after
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">BROKEN=</literal> and
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">TCL_LIB_FILE=</literal>, did you not?
	  <!-- smiley -->:-).</para>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="dads-sh-exec">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">在 wrapper scripts 中使用 <function xmlns:xlink="http://www.w3.org/1999/xlink">exec</function> 述句</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">若某 port 為了執行其他程式而安裝了一個 shell script，
	  而該程式同時也是該 script 最後一個動作，那麼需要確定該 script
	  是用 <function xmlns:xlink="http://www.w3.org/1999/xlink">exec</function> 述句（statement），舉例而言：</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">#!/bin/sh
exec %%LOCALBASE%%/bin/java -jar %%DATADIR%%/foo.jar "$@"</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><function xmlns:xlink="http://www.w3.org/1999/xlink">exec</function> 述句以所指定的程式取代了該 shell
	  的程序。 若省略 <function xmlns:xlink="http://www.w3.org/1999/xlink">exec</function> ，那麼該 shell 程序
	  將會在程式執行中一直存在於記憶體，這無疑地浪費了系統資源。</para>

      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="dads-uid-and-gids">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">UIDs 及 GIDs</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">The current list of reserved UIDs and GIDs can be found
	  in <filename xmlns:xlink="http://www.w3.org/1999/xlink">ports/UIDs</filename> and
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">ports/GIDs</filename>.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">If your port requires a certain user to be on the installed
	  system, let the <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-install</filename> script call
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">pw</command> to create it automatically.  Look at
	  <package xmlns:xlink="http://www.w3.org/1999/xlink">net/cvsup-mirror</package> for an example.
	  Please note that this is strongly discouraged, please register
	  user/group ID numbers as stated below.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">If your port must use the same user/group ID number when it is
	  installed as a binary package as when it was compiled, then you must
	  choose a free UID from 50 to 999 and register it either in
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">ports/UIDs</filename> (for users) or in
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">ports/GIDs</filename> (for groups).  Look at
	  <package xmlns:xlink="http://www.w3.org/1999/xlink">japanese/Wnn6</package> for an example.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Make sure you do not use a UID already used by the system or
	  other ports.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Please include a patch against these two files when you
	  require a new user or group to be created for your
	  port.</para>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="dads-rational">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Do things rationally</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">The <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> should do things simply and
	  reasonably.  If you can make it a couple of lines shorter or more
	  readable, then do so.  Examples include using a make
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">.if</literal> construct instead of a shell
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">if</literal> construct, not redefining
	  <buildtarget>do-extract</buildtarget> if you can redefine
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">EXTRACT*</varname> instead, and using
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">GNU_CONFIGURE</varname> instead of <literal xmlns:xlink="http://www.w3.org/1999/xlink">CONFIGURE_ARGS
	    += --prefix=${PREFIX}</literal>.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">If you find yourself having to write a lot
	  of new code to try to do something, please go back and review
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.mk</filename> to see if it contains an
	  existing implementation of what you are trying to do.  While
	  hard to read, there are a great many seemingly-hard problems for
	  which <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.mk</filename> already provides a
	  shorthand solution.</para>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="dads-cc">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Respect both <varname xmlns:xlink="http://www.w3.org/1999/xlink">CC</varname> and
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">CXX</varname></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">The port should respect both <varname xmlns:xlink="http://www.w3.org/1999/xlink">CC</varname>
	  and <varname xmlns:xlink="http://www.w3.org/1999/xlink">CXX</varname> variables.  What we mean by this
	  is that the port should not set the values of these variables
	  absolutely, overriding existing values; instead, it should append
	  whatever values it needs to the existing values.  This is so that
	  build options that affect all ports can be set globally.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">If the port does not respect these variables,
	  please add <literal xmlns:xlink="http://www.w3.org/1999/xlink">NO_PACKAGE=ignores either cc or
	  cxx</literal> to the <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">An example of a <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> respecting
	  both <varname xmlns:xlink="http://www.w3.org/1999/xlink">CC</varname> and <varname xmlns:xlink="http://www.w3.org/1999/xlink">CXX</varname>
	  variables follows.  Note the <varname xmlns:xlink="http://www.w3.org/1999/xlink">?=</varname>:</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">CC?= gcc</programlisting>
	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">CXX?= g++</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Here is an example which respects neither
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">CC</varname> nor <varname xmlns:xlink="http://www.w3.org/1999/xlink">CXX</varname>
	  variables:</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">CC= gcc</programlisting>
	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">CXX= g++</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Both <varname xmlns:xlink="http://www.w3.org/1999/xlink">CC</varname> and <varname xmlns:xlink="http://www.w3.org/1999/xlink">CXX</varname>
	  variables can be defined on FreeBSD systems in
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/make.conf</filename>.  The first example
	  defines a value if it was not previously set in
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/make.conf</filename>, preserving any
	  system-wide definitions.  The second example clobbers
	  anything previously defined.</para>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="dads-cflags">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Respect <varname xmlns:xlink="http://www.w3.org/1999/xlink">CFLAGS</varname></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">The port should respect the <varname xmlns:xlink="http://www.w3.org/1999/xlink">CFLAGS</varname> variable.
	  What we mean by this is that the port should not set the value of
	  this variable absolutely, overriding the existing value; instead,
	  it should append whatever values it needs to the existing value.
	  This is so that build options that affect all ports can be set
	  globally.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">If it does not, please add <literal xmlns:xlink="http://www.w3.org/1999/xlink">NO_PACKAGE=ignores
	    cflags</literal> to the <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">An example of a <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> respecting
	  the <varname xmlns:xlink="http://www.w3.org/1999/xlink">CFLAGS</varname> variable follows.  Note the
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">+=</varname>:</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">CFLAGS+= -Wall -Werror</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Here is an example which does not respect the
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">CFLAGS</varname> variable:</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">CFLAGS= -Wall -Werror</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">The <varname xmlns:xlink="http://www.w3.org/1999/xlink">CFLAGS</varname> variable is defined on
	  FreeBSD systems in <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/make.conf</filename>.  The
	  first example appends additional flags to the
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">CFLAGS</varname> variable, preserving any system-wide
	  definitions.  The second example clobbers anything previously
	  defined.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">You should remove optimization flags from the third party
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>s.  System <varname xmlns:xlink="http://www.w3.org/1999/xlink">CFLAGS</varname>
	  contains system-wide optimization flags.  An example from
	  an unmodified <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>:</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">CFLAGS= -O3 -funroll-loops -DHAVE_SOUND</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Using system optimization flags, the
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> would look similar to the
	  following example:</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">CFLAGS+= -DHAVE_SOUND</programlisting>

      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="dads-pthread">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Threading libraries</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">The threading library must be linked to the binaries
	  using a special linker flag <literal xmlns:xlink="http://www.w3.org/1999/xlink">-pthread</literal> on
	  FreeBSD.  If a port insists on linking
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">-lpthread</literal> or <literal xmlns:xlink="http://www.w3.org/1999/xlink">-lc_r</literal>
	  directly, patch it to use <varname xmlns:xlink="http://www.w3.org/1999/xlink">PTHREAD_LIBS</varname>
	  variable provided by the ports framework.  This variable
	  usually has the value of <literal xmlns:xlink="http://www.w3.org/1999/xlink">-pthread</literal>, but
	  on certain architectures and FreeBSD versions it can have
	  different values, so do not just hardcode
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">-pthread</literal> into patches and always use
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PTHREAD_LIBS</varname>.</para>

	  <note xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">If building the port errors out with <literal xmlns:xlink="http://www.w3.org/1999/xlink">unrecognized
	      option '-pthread'</literal> when setting
	      <varname xmlns:xlink="http://www.w3.org/1999/xlink">PTHREAD_LIBS</varname>, it may be desirable to use
	      <command xmlns:xlink="http://www.w3.org/1999/xlink">gcc</command> as linker by setting
	      <varname xmlns:xlink="http://www.w3.org/1999/xlink">CONFIGURE_ENV</varname> to <literal xmlns:xlink="http://www.w3.org/1999/xlink">LD=${CC}</literal>.
	      The <literal xmlns:xlink="http://www.w3.org/1999/xlink">-pthread</literal> option is not supported by
	      <command xmlns:xlink="http://www.w3.org/1999/xlink">ld</command> directly.</para>
	  </note>

      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="dads-freedback">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Feedback</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Do send applicable changes/patches to the original
	  author/maintainer for inclusion in next release of the code.  This
	  will only make your job that much easier for the next
	  release.</para>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="dads-readme">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">README.html</filename></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Do not include the <filename xmlns:xlink="http://www.w3.org/1999/xlink">README.html</filename> file.  This
	  file is not part of the cvs collection but is generated using the
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">make readme</command> command.
	</para>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="dads-noinstall">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Marking a port not installable with <varname xmlns:xlink="http://www.w3.org/1999/xlink">BROKEN</varname>,
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">FORBIDDEN</varname>, or <varname xmlns:xlink="http://www.w3.org/1999/xlink">IGNORE</varname></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">In certain cases users should be prevented from installing
	  a port.  To tell a user that
	  a port should not be installed, there are several
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">make</command> variables that can be used in a port's
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>.  The value of the following
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">make</command> variables will be the reason that is
	  given back to users for why the port refuses to install itself.
	  Please use the correct <command xmlns:xlink="http://www.w3.org/1999/xlink">make</command> variable as
	  each make variable conveys radically different meanings to
	  both users, and to automated systems that depend on the
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>s, such as
	<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="build-cluster">the ports build cluster</link>,
	<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="freshports">FreshPorts</link>, and
	<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="portsmon">portsmon</link>.</para>

	<sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="dads-noinstall-variables">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">Variables</title>

	<itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">BROKEN</varname> is reserved for ports that
	      currently do not compile, install, or deinstall correctly.
	      It should be used for ports where the problem is
	      believed to be temporary.</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">If instructed, the build cluster will still attempt to
	      try to build
	      them to see if the underlying problem has been
	      resolved.  (However, in general, the cluster is run without
	      this.)</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">For instance, use
	      <varname xmlns:xlink="http://www.w3.org/1999/xlink">BROKEN</varname> when a port:</para>

	    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">does not compile</para>
	      </listitem>

	      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">fails its configuration or installation process</para>
	      </listitem>

	      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">installs files outside of
		  <filename xmlns:xlink="http://www.w3.org/1999/xlink">${LOCALBASE}</filename></para>
	      </listitem>

	      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">does not remove all its files cleanly upon
		  deinstall (however, it may be acceptable, and desirable,
		  for the port to leave user-modified files behind)</para>
	      </listitem>
	    </itemizedlist>

	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">FORBIDDEN</varname> is used for ports that
	      do contain a security vulnerability or induce grave
	      concern regarding the security of a FreeBSD system with
	      a given port installed (ex: a reputably insecure program
	      or a program that provides easily exploitable services).
	      Ports should be marked as <varname xmlns:xlink="http://www.w3.org/1999/xlink">FORBIDDEN</varname>
	      as soon as a particular piece of software has a
	      vulnerability and there is no released upgrade.  Ideally
	      ports should be upgraded as soon as possible when a
	      security vulnerability is discovered so as to reduce the
	      number of vulnerable FreeBSD hosts (we like being known
	      for being secure), however sometimes there is a
	      noticeable time gap between disclosure of a
	      vulnerability and an updated release of the
	      vulnerable software.  Do not mark a port
	      <varname xmlns:xlink="http://www.w3.org/1999/xlink">FORBIDDEN</varname> for any reason other than
	      security.</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">IGNORE</varname> is reserved for ports that
	      should not be built for some other reason.
	      It should be used for ports where the problem is
	      believed to be structural.
	      The build
	      cluster will not, under any
	      circumstances, build ports marked as
	      <varname xmlns:xlink="http://www.w3.org/1999/xlink">IGNORE</varname>.  For instance, use
	      <varname xmlns:xlink="http://www.w3.org/1999/xlink">IGNORE</varname> when a port:</para>

	    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">compiles but does not run properly</para>
	      </listitem>

	      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">does not work on the installed version of FreeBSD</para>
	      </listitem>

	      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">requires FreeBSD kernel sources to build, but the
		  user does not have them installed</para>
	      </listitem>

	      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">has a distfile which may not be automatically
		  fetched due to licensing restrictions</para>
	      </listitem>

	      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">does not work with some other currently installed
		  port (for instance, the port depends on
		  <package xmlns:xlink="http://www.w3.org/1999/xlink">www/apache21</package> but
		  <package xmlns:xlink="http://www.w3.org/1999/xlink">www/apache13</package>
		  is installed)</para>
	      </listitem>
	    </itemizedlist>

	    <note xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">If a port would conflict with a currently installed
		port (for example, if they install a file in the same
		place that perfoms a different function),
		<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="conflicts">use
		<varname xmlns:xlink="http://www.w3.org/1999/xlink">CONFLICTS</varname> instead</link>.
		<varname xmlns:xlink="http://www.w3.org/1999/xlink">CONFLICTS</varname> will set
		<varname xmlns:xlink="http://www.w3.org/1999/xlink">IGNORE</varname> by itself.</para>
	    </note>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">If a port should be marked <varname xmlns:xlink="http://www.w3.org/1999/xlink">IGNORE</varname>
	      only on certain architectures, there are two other
	      convenience variables that will automatically set
	      <varname xmlns:xlink="http://www.w3.org/1999/xlink">IGNORE</varname> for you:
	      <varname xmlns:xlink="http://www.w3.org/1999/xlink">ONLY_FOR_ARCHS</varname> and
	      <varname xmlns:xlink="http://www.w3.org/1999/xlink">NOT_FOR_ARCHS</varname>.  Examples:</para>

	    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">ONLY_FOR_ARCHS= i386 amd64</programlisting>

	    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">NOT_FOR_ARCHS= alpha ia64 sparc64</programlisting>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">A custom <varname xmlns:xlink="http://www.w3.org/1999/xlink">IGNORE</varname> message can be set
	      using <varname xmlns:xlink="http://www.w3.org/1999/xlink">ONLY_FOR_ARCHS_REASON</varname> and
	      <varname xmlns:xlink="http://www.w3.org/1999/xlink">NOT_FOR_ARCHS_REASON</varname>.  Per architecture
	      entries are possible with
	      <varname xmlns:xlink="http://www.w3.org/1999/xlink">ONLY_FOR_ARCHS_REASON_<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">ARCH</replaceable></varname>
	      and
	      <varname xmlns:xlink="http://www.w3.org/1999/xlink">NOT_FOR_ARCHS_REASON_<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">ARCH</replaceable></varname>.</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">If a port fetches i386 binaries and installs them,
	      <varname xmlns:xlink="http://www.w3.org/1999/xlink">IA32_BINARY_PORT</varname> should be set.  If this
	      variable is set, it will be checked whether the
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/lib32</filename> directory is available for
	      IA32 versions of libraries and whether the kernel
	      has IA32 compatibility compiled in.  If one of these two
	      dependencies is not satisfied, <varname xmlns:xlink="http://www.w3.org/1999/xlink">IGNORE</varname> will
	      be set automatically.</para>
	  </listitem>

	</itemizedlist>

	</sect2>
	<sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="dads-noinstall-notes">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">Implementation Notes</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">The strings should not be quoted.
	    Also, the wording of the string should be somewhat
	    different due to the way the information is shown to the
	    user.  Examples:</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">BROKEN= this port is unsupported on FreeBSD 5.x</programlisting>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">IGNORE= is unsupported on FreeBSD 5.x</programlisting>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">resulting in the following output from
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">make describe</command>:</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">===&gt;  foobar-0.1 is marked as broken: this port is unsupported on FreeBSD 5.x.</programlisting>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">===&gt;  foobar-0.1 is unsupported on FreeBSD 5.x.</programlisting>
	</sect2>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="dads-deprecated">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Marking a port for removal with <varname xmlns:xlink="http://www.w3.org/1999/xlink">DEPRECATED</varname>
	  or <varname xmlns:xlink="http://www.w3.org/1999/xlink">EXPIRATION_DATE</varname></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Do remember that <varname xmlns:xlink="http://www.w3.org/1999/xlink">BROKEN</varname> and
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">FORBIDDEN</varname> are to be used as a
	  temporary resort if a port is not working.  Permanently
	  broken ports should be removed from the tree
	  entirely.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">When it makes sense to do so, users can be warned about
	  a pending port removal with <varname xmlns:xlink="http://www.w3.org/1999/xlink">DEPRECATED</varname>
	  and <varname xmlns:xlink="http://www.w3.org/1999/xlink">EXPIRATION_DATE</varname>.  The former is
	  simply a string stating why the port is scheduled for removal;
	  the latter is a string in ISO 8601 format (YYYY-MM-DD).  Both
	  will be shown to the user.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">It is possible to set <varname xmlns:xlink="http://www.w3.org/1999/xlink">DEPRECATED</varname>
	  without an <varname xmlns:xlink="http://www.w3.org/1999/xlink">EXPIRATION_DATE</varname> (for
	  instance, recommending a newer version of the port), but
	  the converse does not make any sense.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">There is no set policy on how much notice to give.
	  Current practice seems to be one month for security-related
	  issues and two months for build issues.  This also gives any
	  interested committers a little time to fix the problems.</para>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="dads-dot-error">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Avoid use of the <literal xmlns:xlink="http://www.w3.org/1999/xlink">.error</literal> construct</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">The correct way for a <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> to
	  signal that the port can not be installed due to some external
	  factor (for instance, the user has specified an illegal
	  combination of build options) is to set a nonblank value to
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">IGNORE</varname>.  This value will be formatted and
	  shown to the user by <command xmlns:xlink="http://www.w3.org/1999/xlink">make install</command>.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">It is a common mistake to use <literal xmlns:xlink="http://www.w3.org/1999/xlink">.error</literal>
	  for this purpose.  The problem with this is that many
	  automated tools that work with the ports tree will fail in
	  this situation.  The most common occurrence of this is seen
	  when trying to build <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/ports/INDEX</filename>
	  (see <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="make-describe"/>).  However, even more
	  trivial commands such as <command xmlns:xlink="http://www.w3.org/1999/xlink">make -V maintainer</command>
	  also fail in this scenario.  This is not acceptable.</para>

	<example xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="dot-error-breaks-index">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">How to avoid using <literal xmlns:xlink="http://www.w3.org/1999/xlink">.error</literal></title>
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Assume that someone has the line
	    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">USE_POINTYHAT=yes</programlisting>
	    in <filename xmlns:xlink="http://www.w3.org/1999/xlink">make.conf</filename>.  The first of
	    the next two <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> snippets will
	    cause <command xmlns:xlink="http://www.w3.org/1999/xlink">make index</command> to fail, while the
	    second one will not:</para>
	    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">.if USE_POINTYHAT
.error "POINTYHAT is not supported"
.endif</programlisting>
	    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">.if USE_POINTYHAT
IGNORE=POINTYHAT is not supported
.endif</programlisting>
	</example>

      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="dads-sysctl">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">sysctl</filename> 使用時機</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">sysctl</filename> 除了在 targets 之外，都不鼓勵使用。
	  這是因為任何 <literal xmlns:xlink="http://www.w3.org/1999/xlink">makevar</literal>
	  的評估都有可能會使得程序執行速度變慢。例如在
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">make index</command> 的過程中就會需要用到
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">sysctl</filename>。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">若要使用 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">sysctl</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> 則必須透過 <varname xmlns:xlink="http://www.w3.org/1999/xlink">SYSCTL</varname>
	  此一變數才可，因為這樣才會包含完整路徑，
	  同時也可以隨時因應使用者需求而替換為其他路徑。</para>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="dads-rerolling-distfiles">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Rerolling distfiles</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Sometimes the authors of software change the content of
	  released distfiles without changing the file's name.  You have
	  to verify that the changes are official and have been performed
	  by the author.  It has happened in the past that the distfile
	  was silently altered on the download servers with the intent
	  to cause harm or compromise end user security.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Put the old distfile aside, download the new one, unpack
	  them and compare the content with <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">diff</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>.  If you see
	  nothing suspicious, you can update <filename xmlns:xlink="http://www.w3.org/1999/xlink">distinfo</filename>.
	  Be sure to summarize the differences in your PR or commit log,
	  so that other people know that you have taken care to ensure
	  that nothing bad has happened.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">You might also want to contact the authors of the software
	  and confirm the changes with them.</para>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="dads-workarounds">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Necessary workarounds</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Sometimes it is necessary to work around bugs in
	  software included with older versions of FreeBSD.</para>

	<itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">Some versions of <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">make</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> were broken
	      on at least 4.8 and 5.0 with respect to handling
	      comparisons based on <varname xmlns:xlink="http://www.w3.org/1999/xlink">OSVERSION</varname>.
	      This would often lead to failures during
	      <command xmlns:xlink="http://www.w3.org/1999/xlink">make describe</command> (and thus, the overall
	      ports <command xmlns:xlink="http://www.w3.org/1999/xlink">make index</command>).  The workaround is
	      to enclose the conditional comparison in spaces, e.g.:
	      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">if ( ${OSVERSION} &gt; 500023 )</programlisting>
	      Be aware that test-installing a port on 4.9 or 5.2
	      will <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">not</emphasis> detect this problem.</para>
	  </listitem>

	</itemizedlist>

      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="dads-misc">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Miscellanea</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">The files
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-descr</filename> and <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename>
	  should each be double-checked.  If you are reviewing a port and feel
	  they can be worded better, do so.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Do not copy more copies of the GNU General Public License into
	  our system, please.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Please be careful to note any legal issues! Do not let us
	  illegally distribute software!</para>
      </sect1>

    </chapter>

    <chapter xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-samplem">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">A Sample <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename></title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Here is a sample <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> that you can use to
	create a new port.  Make sure you remove all the extra comments (ones
	between brackets)!</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">It is recommended that you follow this format (ordering of
	variables, empty lines between sections, etc.).  This format is
	designed so that the most important information is easy to locate.  We
	recommend that you use <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="porting-portlint">portlint</link> to check the
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>.</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">[the header...just to make it easier for us to identify the ports.]
# New ports collection makefile for:   xdvi
[the "version required" line is only needed when the PORTVERSION
 variable is not specific enough to describe the port.]
# Date created:                26 May 1995
[this is the person who did the original port to FreeBSD, in particular, the
person who wrote the first version of this Makefile.  Remember, this should
not be changed when upgrading the port later.]
# Whom:                        Satoshi Asami &lt;asami@FreeBSD.org&gt;
#
# $FreeBSD$
[ ^^^^^^^^^ This will be automatically replaced with RCS ID string by CVS
when it is committed to our repository.  If upgrading a port, do not alter
this line back to "$FreeBSD$".  CVS deals with it automatically.]
#

[section to describe the port itself and the master site - PORTNAME
 and PORTVERSION are always first, followed by CATEGORIES,
 and then MASTER_SITES, which can be followed by MASTER_SITE_SUBDIR.
 PKGNAMEPREFIX and PKGNAMESUFFIX, if needed, will be after that.
 Then comes DISTNAME, EXTRACT_SUFX and/or DISTFILES, and then
 EXTRACT_ONLY, as necessary.]
PORTNAME=      xdvi
PORTVERSION=   18.2
CATEGORIES=    print
[do not forget the trailing slash ("/")!
 if you are not using MASTER_SITE_* macros]
MASTER_SITES=  ${MASTER_SITE_XCONTRIB}
MASTER_SITE_SUBDIR= applications
PKGNAMEPREFIX= ja-
DISTNAME=      xdvi-pl18
[set this if the source is not in the standard ".tar.gz" form]
EXTRACT_SUFX=  .tar.Z

[section for distributed patches -- can be empty]
PATCH_SITES=   ftp://ftp.sra.co.jp/pub/X11/japanese/
PATCHFILES=    xdvi-18.patch1.gz xdvi-18.patch2.gz

[maintainer; *mandatory*!  This is the person who is volunteering to
 handle port updates, build breakages, and to whom a users can direct
 questions and bug reports.  To keep the quality of the Ports Collection
 as high as possible, we no longer accept new ports that are assigned to
 "ports@FreeBSD.org".]
MAINTAINER=    asami@FreeBSD.org
COMMENT=       A DVI Previewer for the X Window System

[dependencies -- can be empty]
RUN_DEPENDS=   gs:${PORTSDIR}/print/ghostscript
LIB_DEPENDS=   Xpm.5:${PORTSDIR}/graphics/xpm

[this section is for other standard bsd.port.mk variables that do not
 belong to any of the above]
[If it asks questions during configure, build, install...]
IS_INTERACTIVE=        yes
[If it extracts to a directory other than ${DISTNAME}...]
WRKSRC=                ${WRKDIR}/xdvi-new
[If the distributed patches were not made relative to ${WRKSRC}, you
 may need to tweak this]
PATCH_DIST_STRIP=      -p1
[If it requires a "configure" script generated by GNU autoconf to be run]
GNU_CONFIGURE= yes
[If it requires GNU make, not /usr/bin/make, to build...]
USE_GMAKE=     yes
[If it is an X application and requires "xmkmf -a" to be run...]
USE_IMAKE=     yes
[et cetera.]

[non-standard variables to be used in the rules below]
MY_FAVORITE_RESPONSE=  "yeah, right"

[then the special rules, in the order they are called]
pre-fetch:
	i go fetch something, yeah

post-patch:
	i need to do something after patch, great

pre-install:
	and then some more stuff before installing, wow

[and then the epilogue]
.include &lt;bsd.port.mk&gt;</programlisting>
    </chapter>

    <chapter xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="keeping-up">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Keeping Up</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">The FreeBSD Ports Collection is constantly changing.  Here is
	some information on how to keep up.</para>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="freshports">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">FreshPorts</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">One of the easiest ways to learn about updates that have
	  already been committed is by subscribing to
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.FreshPorts.org/">FreshPorts</link>.
	  You can select multiple ports to monitor.  Maintainers are
	  strongly encouraged to subscribe, because they will receive
	  notification of not only their own changes, but also any
	  changes that any other FreeBSD committer has made.  (These are
	  often necessary to keep up with changes in the underlying
	  ports framework——although it would be most polite to
	  receive an advance heads-up from those committing such changes,
	  sometimes this is overlooked or just simply impractical.
	  Also, in some cases, the changes are very minor in nature.
	  We expect everyone to use their best judgement in these
	  cases.)</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">If you wish to use FreshPorts, all you need is an
	  account.  If your registered email address is
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">@FreeBSD.org</literal>, you will see the opt-in link on the
	  right hand side of the webpages.
	  For those of you who already have a FreshPorts account, but are not
	  using your <literal xmlns:xlink="http://www.w3.org/1999/xlink">@FreeBSD.org</literal> email address,
	  just change your email to <literal xmlns:xlink="http://www.w3.org/1999/xlink">@FreeBSD.org</literal>, subscribe,
	  then change it back again.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreshPorts also has
	  a sanity test feature which automatically tests each commit to the
	  FreeBSD ports tree.  If subscribed to this service, you will be
	  notified of any errors which FreshPorts detects during sanity
	  testing of your commits.</para>
      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="cvsweb">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">The Web Interface to the Source Repository</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">It is possible to browse the files in the source repository by
	  using a web interface.  Changes that affect the entire port system
	  are now documented in the
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://cvsweb.FreeBSD.org/ports/CHANGES">
	  CHANGES</link> file.  Changes that affect individual ports
	  are now documented in the
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://cvsweb.FreeBSD.org/ports/UPDATING">
	  UPDATING</link> file.  However, the definitive answer to any
	  question is undoubtedly to read the source code of <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://cvsweb.FreeBSD.org/ports/Mk/bsd.port.mk">
	  bsd.port.mk</link>, and associated files.</para>

      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ports-mailling-list">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">The FreeBSD Ports Mailing List</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">If you maintain ports, you should consider following the
	  <link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-ports">FreeBSD ports 郵遞論壇</link>.  Important changes to the way ports work will be announced
	  there, and then committed to <filename xmlns:xlink="http://www.w3.org/1999/xlink">CHANGES</filename>.</para>

      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="build-cluster">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">The FreeBSD Port Building Cluster on
	  <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">pointyhat.FreeBSD.org</systemitem></title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">One of the least-publicized strengths of FreeBSD is that
	    an entire cluster of machines is dedicated to continually
	    building the Ports Collection, for each of the major OS
	    releases and for each Tier-1 architecture.  You can find
	    the results of these builds at
	    <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://pointyhat.FreeBSD.org/">package building logs
	    and errors</link>.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Individual ports are built unless they are specifically
	    marked with <varname xmlns:xlink="http://www.w3.org/1999/xlink">IGNORE</varname>.  Ports that are
	    marked with <varname xmlns:xlink="http://www.w3.org/1999/xlink">BROKEN</varname> will still be attempted,
	    to see if the underlying problem has been resolved.  (This
	    is done by passing <varname xmlns:xlink="http://www.w3.org/1999/xlink">TRYBROKEN</varname> to the
	    port's <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>.)</para>

      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="distfile-survey">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">The FreeBSD Port Distfile Survey</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">The build cluster is dedicated to building the latest
	    release of each port with distfiles that have already been
	    fetched.  However, as the Internet continually changes,
	    distfiles can quickly go missing.  The <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://people.FreeBSD.org/~fenner/portsurvey/">FreeBSD
	    Ports distfiles survey</link> attempts to query every
	    download site for every port to find out if each distfile
	    is still currently available.  Maintainers are asked to
	    check this report periodically, not only to speed up the
	    building process for users, but to help avoid wasting
	    bandwidth of the sites that volunteer to host all these
	    distfiles.</para>

      </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="portsmon">

	<title xmlns:xlink="http://www.w3.org/1999/xlink">The FreeBSD Ports Monitoring System</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Another handy resource is the
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://portsmon.FreeBSD.org">
	  FreeBSD Ports Monitoring System</link> (also known as
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">portsmon</literal>).  This system comprises a
	  database that processes information from several sources
	  and allows its to be browsed via a web interface.  Currently,
	  the ports Problem Reports (PRs), the error logs from
	  the build cluster, and individual files from the ports
	  collection are used.  In the future, this will be expanded
	  to include the distfile survey, as well as other sources.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">To get started, you can view all information about a
	  particular port by using the
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://portsmon.FreeBSD.org/portoverview.py">
	  Overview of One Port</link>.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">As of this writing, this is the only resource available
	  that maps GNATS PR entries to portnames.  (PR submitters
	  do not always include the portname in their Synopsis, although
	  we would prefer that they did.)  So, <literal xmlns:xlink="http://www.w3.org/1999/xlink">portsmon</literal>
	  is a good place to start if you want to find out whether an
	  existing port has any PRs filed against it and/or any build
	  errors; or, to find out if a new port that you may be thinking
	  about creating has already been submitted.</para>
      </sect1>

    </chapter>
</book>
