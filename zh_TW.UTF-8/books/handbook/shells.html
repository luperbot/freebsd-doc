<?xml version="1.0" encoding="utf-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>4.10. Shells</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD 使用手冊" /><link rel="up" href="basics.html" title="章 4. UNIX 基礎概念" /><link rel="prev" href="basics-daemons.html" title="4.9. Daemon、信號及終止程序" /><link rel="next" href="editors.html" title="4.11. 文字編輯器" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">4.10. Shells</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="basics-daemons.html">前一頁</a> </td><th width="60%" align="center">章 4. UNIX 基礎概念</th><td width="20%" align="right"> <a accesskey="n" href="editors.html">下一頁</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="shells"></a>4.10. Shells</h2></div></div></div><a id="idp70634064" class="indexterm"></a><a id="idp70634576" class="indexterm"></a><p>在 FreeBSD 中，很多日常的工作是在一個叫做 shell
      的文字介面中完成的。
      Shell 的主要工作就是從輸入中收到命令並執行它們。
      許多 shell 也有內建一些有助於日常工作的指令，
      像是檔案管理、檔案比對、命令列編輯、指令巨集以及環境變數等。
      FreeBSD 有內附了幾個 shell，像是 <code class="command">sh</code>，
      Bourne Shell，以及 <code class="command">tcsh</code>，改良版的 C-shell。
      還有許多其他的 shell 可以從 FreeBSD Ports Collection
      中取得，像是 <code class="command">zsh</code> 以及 <code class="command">bash</code>
      等。</p><p>您用哪個 shell 呢？ 其實每個人的喜好都不一樣。
      如果您是一個 C 程式設計師，那對於使用像是 <code class="command">tcsh</code>
      這種 C-like 的 shell 可能會感到相當愉快。 如果你是從 Linux
      跳過來的，或者您是一個 <span class="trademark">UNIX</span>® 新手，那您也許會想要用
      <code class="command">bash</code> 來當作文字介面。
      每一個 shell 都有自已獨特之處，至於這些特點能不能配合您的工作環境？
      那就是您選擇 shell 的重點了。</p><p>檔名自動補齊就是常見的 shell 功能。
      首先輸入指令或檔案的前幾個字母，這時通常您只需要按下 <span class="keycap"><strong>Tab</strong></span>
      鍵，接下來 shell 就會自動把指令或是檔案名稱剩餘的部份補齊。
      假設您有兩個檔案分別叫作 <code class="filename">foobar</code> 及
      <code class="filename">foo.bar</code>。  現在要刪掉
      <code class="filename">foo.bar</code>，那麼可以輸入：
      <code class="command">rm fo[Tab].[Tab]</code>
      </p><p>Shell 會印出這個： <code class="command">rm foo[嗶].bar</code>。</p><p>[嗶] 是 console 的響鈴，這嗶的一聲是 shell
      在告訴我說它沒有辦法完全自動補齊檔名，因為有不只一個檔名符合條件。
      <code class="filename">foobar</code> 和 <code class="filename">foo.bar</code> 都是
      <code class="literal">fo</code> 開頭的檔名，不過它至少可以補齊到 <code class="literal">foo</code>。
      如果您接著輸入 <code class="literal">.</code> 然後再按 <span class="keycap"><strong>Tab</strong></span>
      一次，那 shell 就能夠替您把剩下的檔名填滿了。</p><a id="idp70644816" class="indexterm"></a><p>Shell 的另一項特點是使用了環境變數。
      環境變數是以變數與鍵值（variable/key）的對應關係儲存於 shell
      的環境空間中，任何由 shell 所產生的程序都可以讀取此空間，
      因此這個空間儲存了許多程序的設定組態。  在此附上
      一份常見環境變數與其涵義的列表：</p><a id="idp70645712" class="indexterm"></a><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>變數</th><th>詳細說明</th></tr></thead><tbody><tr><td><code class="envar">USER</code></td><td>目前登入的使用者名稱。</td></tr><tr><td><code class="envar">PATH</code></td><td>以冒號（:）隔開的目錄列表，用以搜尋執行檔的路徑。</td></tr><tr><td><code class="envar">DISPLAY</code></td><td>若存在這個環境變數，則代表 X11 連結顯示器的網路名稱。</td></tr><tr><td><code class="envar">SHELL</code></td><td>目前使用的 shell。</td></tr><tr><td><code class="envar">TERM</code></td><td>使用者終端機的名稱，能藉由此變數判斷終端機的能力。</td></tr><tr><td><code class="envar">TERMCAP</code></td><td>Database entry of the terminal escape codes to perform
	      various terminal functions.</td></tr><tr><td><code class="envar">OSTYPE</code></td><td>作業系統的種類，如：FreeBSD。</td></tr><tr><td><code class="envar">MACHTYPE</code></td><td>目前系統所用的 CPU 架構。</td></tr><tr><td><code class="envar">EDITOR</code></td><td>使用者偏好的文字編輯器。</td></tr><tr><td><code class="envar">PAGER</code></td><td>使用者偏好的文字分頁器（text pager）。</td></tr><tr><td><code class="envar">MANPATH</code></td><td>以冒號（:）隔開的目錄列表，用以搜尋 manual pages 的路徑。</td></tr></tbody></table></div><a id="idp70671824" class="indexterm"></a><p>在不同的 shell 底下設定環境變數的方式也有所不同。
      舉例來說，在 C-Style 的 shell 底下，像是
      <code class="command">tcsh</code> 和 <code class="command">csh</code>，你必須使用
      <code class="command">setenv</code> 來設定環境變數。
      但在 Bourne shells 底下，像是 <code class="command">sh</code> 和
      <code class="command">bash</code>，你則必須使用
      <code class="command">export</code> 來設定你所使用的環境變數。
      再舉個例子來說，若要設定或是修改
      <code class="envar">EDITOR</code> 這個環境變數，在 <code class="command">csh</code> 或
      <code class="command">tcsh</code> 下設定 <code class="envar">EDITOR</code> 這個環境變數為
      <code class="filename">/usr/local/bin/emacs</code> 的指令是：</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>setenv EDITOR /usr/local/bin/emacs</code></strong></pre><p>在 Bourne shells 下則是：</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>export EDITOR="/usr/local/bin/emacs"</code></strong></pre><p>大多數的 shell 都支援使用者在命令列中將
      <code class="literal">$</code> 字元放在變數之前，以取得環境變數的值。
      舉例來說，<code class="command">echo $TERM</code> 會
      顯示出 <code class="envar">$TERM</code> 的設定值，這是因為 shell 取得了
      <code class="envar">$TERM</code> 的設定值，
      並將其傳給 <code class="command">echo</code> 顯示出來。</p><p>Shell 中有某些特別的字元是來表示特殊的資料，我們將其稱作
      meta-characters。  其中最常見的是
      <code class="literal">*</code> 字元，他代表了檔名中的任意字元。
      這些特殊字元可以用在檔名展開（filename globbing）上，舉例來說，輸入
      <code class="command">echo *</code> 會和輸入
      <code class="command">ls</code> 得到幾乎相同的結果，這是因為 shell 會將所有符合
      <code class="literal">*</code> 字元的檔案傳到命令列上，再由
      <code class="command">echo</code> 顯示出來。</p><p>為了避免 shell 轉譯這些特殊字元，我們可以在這些特殊字元前放一個反斜線
      (<code class="literal">\</code>) 字元使他們跳脫(escape) shell 的轉譯。舉例來說，
      <code class="command">echo $TERM</code> 會印出你目前設定的終端機格式，
      <code class="command">echo \$TERM</code> 則會直接印出 <code class="envar">$TERM</code>
      這幾個字。</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="changing-shells"></a>4.10.1. 變更你的 Shell</h3></div></div></div><p>變更 shell 最簡單的方法就是透過 <code class="command">chsh</code> 命令。
        執行 <code class="command">chsh</code> 將會呼叫環境變數中 <code class="envar">EDITOR</code>
	指定的文字編輯器。  如果沒有設定，則預設是 <code class="command">vi</code>。
	請依照需求去修改 <span class="quote">“<span class="quote">Shell:</span>”</span> 的值。</p><p>你也可以透過 <code class="command">chsh</code> 的參數 <code class="option">-s</code>，
	這可以直接設定你的 shell 而不需要透過任何文字編輯器。  例如，
	假設想把所用的 shell 改為 <code class="command">bash</code>，
	可以透過下列的方式：</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>chsh -s /usr/local/bin/bash</code></strong></pre><div xmlns="" class="note"><h3 class="admontitle">注意: </h3><p xmlns="http://www.w3.org/1999/xhtml">你所使用的 shell <span class="emphasis"><em>必須</em></span> 列於
	  <code class="filename">/etc/shells</code> 裡頭。  如果是由
	  <a class="link" href="ports.html" title="章 5. 軟體套件管理篇：Packages 及 Ports 機制">Ports Collection</a> 來裝 shell，
	  那這個步驟已經完成了。  但若是手動安裝了一個 shell，
	  那麼就必須為新安裝的 shell 進行設定。</p><p xmlns="http://www.w3.org/1999/xhtml">舉例來說，若手動安裝了 <code class="command">bash</code> 並將它置於
	  <code class="filename">/usr/local/bin</code> 底下，你還得：</p><pre xmlns="http://www.w3.org/1999/xhtml" class="screen"><code class="prompt">#</code> <strong class="userinput"><code>echo "/usr/local/bin/bash" &gt;&gt; /etc/shells</code></strong></pre><p xmlns="http://www.w3.org/1999/xhtml">然後再重新執行 <code class="command">chsh</code>。</p></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="basics-daemons.html">前一頁</a> </td><td width="20%" align="center"><a accesskey="u" href="basics.html">上一層</a></td><td width="40%" align="right"> <a accesskey="n" href="editors.html">下一頁</a></td></tr><tr><td width="40%" align="left" valign="top">4.9. Daemon、信號及終止程序 </td><td width="20%" align="center"><a accesskey="h" href="index.html">起始頁</a></td><td width="40%" align="right" valign="top"> 4.11. 文字編輯器</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>本文及其他文件，可由此下載：
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>。</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>若有 FreeBSD 方面疑問，請先閱讀
    <a href="http://www.FreeBSD.org/docs.html">FreeBSD 相關文件</a>，如不能解決的話，再洽詢
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;。<br></br>
    關於本文件的問題，請洽詢
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;。</small></p></body></html>