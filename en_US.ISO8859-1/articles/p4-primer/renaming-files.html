<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>13. Renaming Files</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Perforce in FreeBSD Development" /><link rel="up" href="index.html" title="Perforce in FreeBSD Development" /><link rel="prev" href="working-with-diffs.html" title="12. Working with Diffs" /><link rel="next" href="freebsd-cvs-and-p4.html" title="14. Interactions Between FreeBSD Subversion and Perforce" /><link rel="copyright" href="trademarks.html" title="Legal Notice" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">13. Renaming Files</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="working-with-diffs.html">Prev</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="freebsd-cvs-and-p4.html">Next</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="renaming-files"></a>13. Renaming Files</h2></div></div></div><p><span class="application">Perforce</span> does not have a built-in
      way of renaming files or moving them to a different part of the
      tree.  Simply copying a file to the new location, doing a
      <code class="command">p4 add</code> on it, and a <code class="command">p4
	delete</code> on the old copy, works, but does not preserve
      change history of the file.  This can make future integrations
      with parents and children very bumpy, in fact.  A better method
      of dealing with this is to do a one-time, in-tree integration,
      like so:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>p4 integrate -i <em class="replaceable"><code>oldfile</code></em> <em class="replaceable"><code>newfile</code></em></code></strong>
<code class="prompt">%</code> <strong class="userinput"><code>p4 resolve</code></strong>
<code class="prompt">%</code> <strong class="userinput"><code>p4 delete <em class="replaceable"><code>oldfile</code></em></code></strong>
<code class="prompt">%</code> <strong class="userinput"><code>p4 submit</code></strong></pre><p>The integration will force
      <span class="application">Perforce</span> to keep a record of the
      relationship between the old and new names, which will assist it
      in future integrations.  The <code class="option">-i</code> flag tells it
      that it is a <span class="quote">&#8220;<span class="quote">baseless</span>&#8221;</span> integration, meaning that
      there is no branch history available for it to use in the
      integration.  That is perfect for an integration like this, but
      should not be used for normal branch-based integrations.</p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="working-with-diffs.html">Prev</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="freebsd-cvs-and-p4.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">12. Working with Diffs </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 14. Interactions Between FreeBSD Subversion and Perforce</td></tr></table></div><p xmlns="" align="center"><small>All FreeBSD documents are available for download
    at <a href="http://ftp.FreeBSD.org/pub/FreeBSD/doc/">http://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="" align="center"><small>Questions that are not answered by the
    <a href="http://www.FreeBSD.org/docs.html">documentation</a> may be
    sent to &lt;<a href="mailto:freebsd-questions@FreeBSD.org">freebsd-questions@FreeBSD.org</a>&gt;.<br />
    Send questions about this document to &lt;<a href="mailto:freebsd-doc@FreeBSD.org">freebsd-doc@FreeBSD.org</a>&gt;.</small></p></body></html>