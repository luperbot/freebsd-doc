<?xml version="1.0" encoding="iso-8859-1"?>
<!-- $FreeBSD$ -->
<!-- The FreeBSD Documentation Project -->
<!-- Recently, I wanted to figure out how to use some additional fonts that
     I had accumulated.  I finally figured out *how to do it* from the various
     manual pages and documentation.  Since it might be of use to other users,
     and I didn't see any reference to this topic in the FAQ or handbook, I
     thought I'd try my hand at a simple cookbook tutorial addressing the
     use of fonts.  I have included my unanswered questions at the end of
     the document.

     Anyway, here's what I put together.  This is my present understanding of
     fonts and how to use them with FreeBSD.  I am sure that there are errors or
     misunderstandings, but it contains enough valid information to allow the
     use of additional fonts with Ghostscript, X11 and Groff.  This is my first
     attempt to write anything along the lines of a tutorial/FAQ, so I am sure
     it is pretty raw.  There are probably better ways to do some of this stuff,
     and I would welcome being corrected.
 -->
<!-- The section "Setting a virtual console to 80x60 line mode" was
     updated to reflect changes in FreeBSD system configuration
     files by Mark Ovens <mark@ukug.uk.FreeBSD.org> 27/5/00
 -->
<article xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" xml:lang="en">
  <info><title xmlns:xlink="http://www.w3.org/1999/xlink">Fonts and FreeBSD</title><subtitle xmlns:xlink="http://www.w3.org/1999/xlink">A Tutorial</subtitle>
    

    

    <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
      <author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Dave</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Bodenstab</surname></personname><affiliation xmlns:xlink="http://www.w3.org/1999/xlink">
	  <address xmlns:xlink="http://www.w3.org/1999/xlink">
	    <email xmlns:xlink="http://www.w3.org/1999/xlink">imdave@synet.net</email>
	  </address>
	</affiliation></author>
    </authorgroup>

    <pubdate xmlns:xlink="http://www.w3.org/1999/xlink">Wed Aug  7, 1996</pubdate>

    <releaseinfo xmlns:xlink="http://www.w3.org/1999/xlink">$FreeBSD$</releaseinfo>

    <legalnotice xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="trademarks" role="trademarks">
      <para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD is a registered trademark of
  the FreeBSD Foundation.</para>
      <para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">Adobe, Acrobat, Acrobat Reader, Flash and
  PostScript are either registered trademarks or trademarks of Adobe
  Systems Incorporated in the United States and/or other
  countries.</para>
      <para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">Apple, AirPort, FireWire,
  iMac, iPhone, iPad,
  Mac, Macintosh, Mac OS,
  Quicktime, and TrueType are trademarks of Apple Inc.,
  registered in the U.S. and other countries.</para>
      <para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">Linux is a registered trademark of
  Linus Torvalds.</para>
      <para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">Microsoft, IntelliMouse, MS-DOS,
  Outlook, Windows, Windows Media and Windows NT are either
  registered trademarks or trademarks of Microsoft Corporation in the
  United States and/or other countries.</para>
      <para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">Motif, OSF/1, and UNIX are
  registered trademarks and IT DialTone and The Open Group are
  trademarks of The Open Group in the United States and other
  countries.</para>
      <para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">Many of the designations used by
  manufacturers and sellers to distinguish their products are claimed
  as trademarks.  Where those designations appear in this document,
  and the FreeBSD Project was aware of the trademark claim, the
  designations have been followed by the <quote xmlns:xlink="http://www.w3.org/1999/xlink">&#8482;</quote> or the
  <quote xmlns:xlink="http://www.w3.org/1999/xlink">®</quote> symbol.</para>
    </legalnotice>

    <abstract xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">This document contains a description of the various font
	files that may be used with FreeBSD and the syscons driver,
	<application xmlns:xlink="http://www.w3.org/1999/xlink">X11</application>, <application xmlns:xlink="http://www.w3.org/1999/xlink">Ghostscript</application>
	and <application xmlns:xlink="http://www.w3.org/1999/xlink">Groff</application>.  Cookbook examples are provided
	for switching the syscons display to 80x60 mode, and for using
	type 1 fonts with the above application programs.</para>
    </abstract>
  </info>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="intro">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">Introduction</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">There are many sources of fonts available, and one might ask
      how they might be used with FreeBSD.  The answer can be found by
      carefully searching the documentation for the component that one
      would like to use.  This is very time consuming, so this
      tutorial is an attempt to provide a shortcut for others who
      might be interested.</para>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="terminology">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">Basic terminology</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">There are many different font formats and associated font
      file suffixes.  A few that will be addressed here are:</para>

    <variablelist xmlns:xlink="http://www.w3.org/1999/xlink">
      <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	<term xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">.pfa</filename>, <filename xmlns:xlink="http://www.w3.org/1999/xlink">.pfb</filename></term>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark> type 1 fonts.  The
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">.pfa</filename> is the
	    <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">A</emphasis>scii form and
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">.pfb</filename> the <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">B</emphasis>inary
	    form.</para>
	</listitem>
      </varlistentry>

      <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	<term xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">.afm</filename></term>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">The font metrics associated with a type 1 font.</para>
	</listitem>
      </varlistentry>

      <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	<term xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">.pfm</filename></term>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">The printer font metrics associated with a type 1
	    font.</para>
	</listitem>
      </varlistentry>

      <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	<term xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">.ttf</filename></term>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">A <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">TrueType</trademark> font</para>
	</listitem>
      </varlistentry>

      <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	<term xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">.fot</filename></term>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">An indirect reference to a TrueType font (not an
	    actual font)</para>
	</listitem>
      </varlistentry>

      <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	<term xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">.fon</filename>, <filename xmlns:xlink="http://www.w3.org/1999/xlink">.fnt</filename></term>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Bitmapped screen fonts</para>
	</listitem>
      </varlistentry>
    </variablelist>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">The <filename xmlns:xlink="http://www.w3.org/1999/xlink">.fot</filename> file is used by <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Windows</trademark> as
      sort of a symbolic link to the actual <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">TrueType</trademark> font
      (<filename xmlns:xlink="http://www.w3.org/1999/xlink">.ttf</filename>) file.  The <filename xmlns:xlink="http://www.w3.org/1999/xlink">.fon</filename>
      font files are also used by Windows.  I know of no way to use
      this font format with FreeBSD.</para>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="font-formats">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">What font formats can I use?</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">Which font file format is useful depends on the application
      being used.  FreeBSD by itself uses no fonts.  Application
      programs and/or drivers may make use of the font files.  Here is
      a small cross reference of application/driver to the font type
      suffixes:</para>

    <variablelist xmlns:xlink="http://www.w3.org/1999/xlink">
      <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	<term xmlns:xlink="http://www.w3.org/1999/xlink">Driver</term>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <variablelist xmlns:xlink="http://www.w3.org/1999/xlink">
	    <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	      <term xmlns:xlink="http://www.w3.org/1999/xlink">vt</term>
	      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">.hex</filename></para>
	      </listitem>
	    </varlistentry>

	    <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	      <term xmlns:xlink="http://www.w3.org/1999/xlink">syscons</term>

	      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">.fnt</filename></para>
	      </listitem>
	    </varlistentry>
	  </variablelist>
	</listitem>
      </varlistentry>

      <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	<term xmlns:xlink="http://www.w3.org/1999/xlink">Application</term>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <variablelist xmlns:xlink="http://www.w3.org/1999/xlink">
	    <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	      <term xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Ghostscript</application></term>

	      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">.pfa</filename>,
		  <filename xmlns:xlink="http://www.w3.org/1999/xlink">.pfb</filename>,
		  <filename xmlns:xlink="http://www.w3.org/1999/xlink">.ttf</filename></para>
	      </listitem>
	    </varlistentry>

	    <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	      <term xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">X11</application></term>

	      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">.pfa</filename>,
		  <filename xmlns:xlink="http://www.w3.org/1999/xlink">.pfb</filename></para>
	      </listitem>
	    </varlistentry>

	    <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	      <term xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Groff</application></term>

	      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">.pfa</filename>,
		  <filename xmlns:xlink="http://www.w3.org/1999/xlink">.afm</filename></para>
	      </listitem>
	    </varlistentry>

	    <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	      <term xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Povray</application></term>

	      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">.ttf</filename></para>
	      </listitem>
	    </varlistentry>
	  </variablelist>
	</listitem>
      </varlistentry>
    </variablelist>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">The <filename xmlns:xlink="http://www.w3.org/1999/xlink">.fnt</filename> suffix is used quite
      frequently.  I suspect that whenever someone wanted to create a
      specialized font file for their application, more often than not
      they chose this suffix.  Therefore, it is likely that files with
      this suffix are not all the same format; specifically, the
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">.fnt</filename> files used by syscons under FreeBSD
      may not be the same format as a <filename xmlns:xlink="http://www.w3.org/1999/xlink">.fnt</filename> file
      one encounters in the <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">MS-DOS</trademark>/<trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Windows</trademark> environment.  I have not
      made any attempt at using other <filename xmlns:xlink="http://www.w3.org/1999/xlink">.fnt</filename> files
      other than those provided with FreeBSD.</para>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="virtual-console">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">Setting a virtual console to 80x60 line mode</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">First, an 8x8 font must be loaded. To do this,
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.conf</filename> should contain the
      line (change the font name to an appropriate one for
      your locale):</para>

    <informalexample xmlns:xlink="http://www.w3.org/1999/xlink">
      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">font8x8="iso-8x8"		# font 8x8 from /usr/share/syscons/fonts/* (or NO).</programlisting>
    </informalexample>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">The command to actually switch the mode is
      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">vidcontrol</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>:</para>

    <informalexample xmlns:xlink="http://www.w3.org/1999/xlink">
      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">vidcontrol VGA_80x60</userinput></screen>
    </informalexample>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">Various screen-oriented programs, such as <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">vi</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>, must
      be able to determine the current screen dimensions.  As this is
      achieved this through <command xmlns:xlink="http://www.w3.org/1999/xlink">ioctl</command> calls to the console
      driver (such as <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">syscons</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry>) they will correctly determine the new
      screen dimensions.</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">To make this more seamless, one can embed these commands in
      the startup scripts so it takes place when the system boots.
      To do this is add this line to <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.conf</filename>
    </para>

	<informalexample xmlns:xlink="http://www.w3.org/1999/xlink">
	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">allscreens_flags="VGA_80x60"	# Set this vidcontrol mode for all virtual screens
	  </programlisting>
	</informalexample>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">References: <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">rc.conf</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry>, <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">vidcontrol</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>.</para>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="type1-fonts-x11">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">Using type 1 fonts with <application xmlns:xlink="http://www.w3.org/1999/xlink">X11</application></title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">X11</application> can use either the <filename xmlns:xlink="http://www.w3.org/1999/xlink">.pfa</filename> or the
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">.pfb</filename> format fonts.  The <application xmlns:xlink="http://www.w3.org/1999/xlink">X11</application> fonts are
      located in various subdirectories under
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/X11R6/lib/X11/fonts</filename>.  Each font file
      is cross referenced to its <application xmlns:xlink="http://www.w3.org/1999/xlink">X11</application> name by the contents of the
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">fonts.dir</filename> file in each directory.</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">There is already a directory named <filename xmlns:xlink="http://www.w3.org/1999/xlink">Type1</filename>.  The
      most straight forward way to add a new font is to put it into
      this directory.  A better way is to keep all new fonts in a
      separate directory and use a symbolic link to the additional
      font.  This allows one to more easily keep track of ones fonts
      without confusing them with the fonts that were originally
      provided.  For example:</para>

    <informalexample xmlns:xlink="http://www.w3.org/1999/xlink">
      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><lineannotation xmlns:xlink="http://www.w3.org/1999/xlink">Create a directory to contain the font files</lineannotation>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mkdir -p /usr/local/share/fonts/type1</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/local/share/fonts/type1</userinput>

<lineannotation xmlns:xlink="http://www.w3.org/1999/xlink">Place the .pfa, .pfb and .afm files here</lineannotation>
<lineannotation xmlns:xlink="http://www.w3.org/1999/xlink">One might want to keep readme files, and other documentation</lineannotation>
<lineannotation xmlns:xlink="http://www.w3.org/1999/xlink">for the fonts here also</lineannotation>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cp /cdrom/fonts/atm/showboat/showboat.pfb .</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cp /cdrom/fonts/atm/showboat/showboat.afm .</userinput>

<lineannotation xmlns:xlink="http://www.w3.org/1999/xlink">Maintain an index to cross reference the fonts</lineannotation>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">echo showboat - InfoMagic CICA, Dec 1994, /fonts/atm/showboat &gt;&gt;INDEX</userinput></screen>
    </informalexample>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">Now, to use a new font with <application xmlns:xlink="http://www.w3.org/1999/xlink">X11</application>, one must make the font file
      available and update the font name files.  The <application xmlns:xlink="http://www.w3.org/1999/xlink">X11</application> font names
      look like:</para>

    <informalexample xmlns:xlink="http://www.w3.org/1999/xlink">
      <screen xmlns:xlink="http://www.w3.org/1999/xlink">-bitstream-charter-medium-r-normal-xxx-0-0-0-0-p-0-iso8859-1
     |        |      |    |   |     |  | | | | | |    \    \
     |        |      |    |   |     \  \ \ \ \ \ \     +----+- character set
     |        |      |    |   \      \  \ \ \ \ \ +- average width
     |        |      |    |    \      \  \ \ \ \ +- spacing
     |        |      |    \	\      \  \ \ \ +- vertical res.
     |        |      |     \	 \	\  \ \ +- horizontal res.
     |        |      |      \	  \	 \  \ +- points
     |        |      |       \     \	  \  +- pixels
     |        |      |        \     \	   \
  foundry  family  weight   slant  width  additional style</screen>
    </informalexample>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">A new name needs to be created for each new font.  If you
      have some information from the documentation that accompanied
      the font, then it could serve as the basis for creating the
      name.  If there is no information, then you can get some idea by
      using <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">strings</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> on the font file.  For example:</para>

    <informalexample xmlns:xlink="http://www.w3.org/1999/xlink">
      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">strings showboat.pfb | more</userinput>
%!FontType1-1.0: Showboat 001.001
%%CreationDate: 1/15/91 5:16:03 PM
%%VMusage: 1024 45747
% Generated by Fontographer 3.1
% Showboat
 1991 by David Rakowski.  Alle Rechte Vorbehalten.
FontDirectory/Showboat known{/Showboat findfont dup/UniqueID known{dup
/UniqueID get 4962377 eq exch/FontType get 1 eq and}{pop false}ifelse
{save true}{false}ifelse}{false}ifelse
12 dict begin
/FontInfo 9 dict dup begin
 /version (001.001) readonly def
 /FullName (Showboat) readonly def
 /FamilyName (Showboat) readonly def
 /Weight (Medium) readonly def
 /ItalicAngle 0 def
 /isFixedPitch false def
 /UnderlinePosition -106 def
 /UnderlineThickness 16 def
 /Notice (Showboat
 1991 by David Rakowski.  Alle Rechte Vorbehalten.) readonly def
end readonly def
/FontName /Showboat def
--stdin--</screen>
    </informalexample>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">Using this information, a possible name might be:</para>

    <informalexample xmlns:xlink="http://www.w3.org/1999/xlink">
      <screen xmlns:xlink="http://www.w3.org/1999/xlink">-type1-Showboat-medium-r-normal-decorative-0-0-0-0-p-0-iso8859-1</screen>
    </informalexample>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">The components of our name are:</para>

    <variablelist xmlns:xlink="http://www.w3.org/1999/xlink">
      <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	<term xmlns:xlink="http://www.w3.org/1999/xlink">Foundry</term>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Lets just name all the new fonts
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">type1</literal>.</para>
	</listitem>
      </varlistentry>

      <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	<term xmlns:xlink="http://www.w3.org/1999/xlink">Family</term>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">The name of the font.</para>
	</listitem>
      </varlistentry>

      <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	<term xmlns:xlink="http://www.w3.org/1999/xlink">Weight</term>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Normal, bold, medium, semibold, etc.  From the
	    <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">strings</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>
	    output above, it appears that this font has a weight of
	    <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">medium</emphasis>.</para>
	</listitem>
      </varlistentry>

      <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	<term xmlns:xlink="http://www.w3.org/1999/xlink">Slant</term>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink" remap="bf">r</emphasis>oman, <emphasis xmlns:xlink="http://www.w3.org/1999/xlink" remap="bf">i</emphasis>talic, <emphasis xmlns:xlink="http://www.w3.org/1999/xlink" remap="bf">o</emphasis>blique, etc.  Since the
	    <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">ItalicAngle</emphasis> is zero,
	    <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">roman</emphasis> will be used.</para>
	</listitem>
      </varlistentry>

      <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	<term xmlns:xlink="http://www.w3.org/1999/xlink">Width</term>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Normal, wide, condensed, extended, etc.  Until it can
	    be examined, the assumption will be
	    <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">normal</emphasis>.</para>
	</listitem>
      </varlistentry>

      <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	<term xmlns:xlink="http://www.w3.org/1999/xlink">Additional style</term>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Usually omitted, but this will indicate that the font
	    contains decorative capital letters.</para>
	</listitem>
      </varlistentry>

      <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	<term xmlns:xlink="http://www.w3.org/1999/xlink">Spacing</term>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">proportional or monospaced.
	    <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">Proportional</emphasis> is used since
	    <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">isFixedPitch</emphasis> is false.</para>
	</listitem>
      </varlistentry>
    </variablelist>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">All of these names are arbitrary, but one should strive to
      be compatible with the existing conventions.  A font is
      referenced by name with possible wild cards by an <application xmlns:xlink="http://www.w3.org/1999/xlink">X11</application> program,
      so the name chosen should make some sense.  One might begin by
      simply using

      <informalexample xmlns:xlink="http://www.w3.org/1999/xlink">
	<screen xmlns:xlink="http://www.w3.org/1999/xlink">&#8230;-normal-r-normal-&#8230;-p-&#8230;
	</screen>
      </informalexample>

      as the name, and then use
      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" vendor="xfree86"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">xfontsel</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>
      to examine it and adjust the name based on the appearance of the
      font.</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">So, to complete our example:</para>

    <informalexample xmlns:xlink="http://www.w3.org/1999/xlink">
      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><lineannotation xmlns:xlink="http://www.w3.org/1999/xlink">Make the font accessible to X11</lineannotation>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/X11R6/lib/X11/fonts/Type1</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ln -s /usr/local/share/fonts/type1/showboat.pfb .</userinput>

<lineannotation xmlns:xlink="http://www.w3.org/1999/xlink">Edit fonts.dir and fonts.scale, adding the line describing the font
and incrementing the number of fonts which is found on the first line.</lineannotation>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ex fonts.dir
:1p
25
:1c
26
.
:$a
showboat.pfb -type1-showboat-medium-r-normal-decorative-0-0-0-0-p-0-iso8859-1
.
:wq</userinput>

<lineannotation xmlns:xlink="http://www.w3.org/1999/xlink">fonts.scale seems to be identical to fonts.dir&#8230;</lineannotation>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cp fonts.dir fonts.scale</userinput>

<lineannotation xmlns:xlink="http://www.w3.org/1999/xlink">Tell X11 that things have changed</lineannotation>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">xset fp rehash</userinput>

<lineannotation xmlns:xlink="http://www.w3.org/1999/xlink">Examine the new font</lineannotation>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">xfontsel -pattern -type1-*</userinput></screen>
    </informalexample>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">References: <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" vendor="xfree86"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">xfontsel</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>, <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" vendor="xfree86"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">xset</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>, <citetitle xmlns:xlink="http://www.w3.org/1999/xlink">The X
	Windows System in a Nutshell</citetitle>, <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.ora.com/">O'Reilly &amp;
	Associates</link>.</para>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="type1-fonts-ghostscript">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">Using type 1 fonts with Ghostscript</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Ghostscript</application> references a font via its <filename xmlns:xlink="http://www.w3.org/1999/xlink">Fontmap</filename>
      file.  This must be modified in a similar way to the <application xmlns:xlink="http://www.w3.org/1999/xlink">X11</application>
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">fonts.dir</filename> file. <application xmlns:xlink="http://www.w3.org/1999/xlink">Ghostscript</application> can use either
      the <filename xmlns:xlink="http://www.w3.org/1999/xlink">.pfa</filename> or the <filename xmlns:xlink="http://www.w3.org/1999/xlink">.pfb</filename>
      format fonts.  Using the font from the previous example, here is
      how to use it with <application xmlns:xlink="http://www.w3.org/1999/xlink">Ghostscript</application>:</para>

    <informalexample xmlns:xlink="http://www.w3.org/1999/xlink">
      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><lineannotation xmlns:xlink="http://www.w3.org/1999/xlink">Put the font in Ghostscript's font directory</lineannotation>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/local/share/ghostscript/fonts</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ln -s /usr/local/share/fonts/type1/showboat.pfb .</userinput>

<lineannotation xmlns:xlink="http://www.w3.org/1999/xlink">Edit Fontmap so Ghostscript knows about the font</lineannotation>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/local/share/ghostscript/4.01</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ex Fontmap
:$a
/Showboat        (showboat.pfb) ; % From CICA /fonts/atm/showboat
.
:wq</userinput>

<lineannotation xmlns:xlink="http://www.w3.org/1999/xlink">Use Ghostscript to examine the font</lineannotation>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">gs prfont.ps</userinput>
Aladdin Ghostscript 4.01 (1996-7-10)
Copyright (C) 1996 Aladdin Enterprises, Menlo Park, CA.  All rights
reserved.
This software comes with NO WARRANTY: see the file PUBLIC for details.
Loading Times-Roman font from /usr/local/share/ghostscript/fonts/tir_____.pfb...
 /1899520 581354 1300084 13826 0 done.
GS&gt;<userinput xmlns:xlink="http://www.w3.org/1999/xlink">Showboat DoFont</userinput>
Loading Showboat font from /usr/local/share/ghostscript/fonts/showboat.pfb...
 1939688 565415 1300084 16901 0 done.
&gt;&gt;showpage, press &lt;return&gt; to continue&lt;&lt;
&gt;&gt;showpage, press &lt;return&gt; to continue&lt;&lt;
&gt;&gt;showpage, press &lt;return&gt; to continue&lt;&lt;
GS&gt;<userinput xmlns:xlink="http://www.w3.org/1999/xlink">quit</userinput></screen>
    </informalexample>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">References: <filename xmlns:xlink="http://www.w3.org/1999/xlink">fonts.txt</filename> in the
      <application xmlns:xlink="http://www.w3.org/1999/xlink">Ghostscript 4.01</application> distribution</para>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="type1-fonts-groff">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">Using type 1 fonts with Groff</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">Now that the new font can be used by both <application xmlns:xlink="http://www.w3.org/1999/xlink">X11</application> and
      <application xmlns:xlink="http://www.w3.org/1999/xlink">Ghostscript</application>, how can one use the new font
	with <application xmlns:xlink="http://www.w3.org/1999/xlink">groff</application>? First of
      all, since we are dealing with type 1 <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark> fonts, the
      <application xmlns:xlink="http://www.w3.org/1999/xlink">groff</application> device that is applicable is the <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">ps</emphasis>
      device.  A font file must be created for each font that <application xmlns:xlink="http://www.w3.org/1999/xlink">groff</application>
      can use.  A <application xmlns:xlink="http://www.w3.org/1999/xlink">groff</application> font name is just a file in
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/share/groff_font/devps</filename>.  With our
      example, the font file could be
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/share/groff_font/devps/SHOWBOAT</filename>.  The
      file must be created using tools provided by <application xmlns:xlink="http://www.w3.org/1999/xlink">groff</application>.</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">The first tool is <command xmlns:xlink="http://www.w3.org/1999/xlink">afmtodit</command>.  This is not
      normally installed, so it must be retrieved from the source
      distribution.  I found I had to change the first line of the
      file, so I did:</para>

    <informalexample xmlns:xlink="http://www.w3.org/1999/xlink">
      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cp /usr/src/gnu/usr.bin/groff/afmtodit/afmtodit.pl /tmp</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ex /tmp/afmtodit.pl
:1c
#!/usr/bin/perl -P-
.
:wq</userinput></screen>
    </informalexample>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">This tool will create the <application xmlns:xlink="http://www.w3.org/1999/xlink">groff</application> font file from the metrics
      file (<filename xmlns:xlink="http://www.w3.org/1999/xlink">.afm</filename> suffix.) Continuing with our
      example:</para>

    <informalexample xmlns:xlink="http://www.w3.org/1999/xlink">
      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><lineannotation xmlns:xlink="http://www.w3.org/1999/xlink">Many .afm files are in Mac format&#8230; ^M delimited lines
We need to convert them to <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">UNIX</trademark> style ^J delimited lines</lineannotation>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /tmp</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cat /usr/local/share/fonts/type1/showboat.afm |
	tr '\015' '\012' &gt;showboat.afm</userinput>

<lineannotation xmlns:xlink="http://www.w3.org/1999/xlink">Now create the groff font file</lineannotation>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/share/groff_font/devps</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">/tmp/afmtodit.pl -d DESC -e text.enc /tmp/showboat.afm generate/textmap SHOWBOAT</userinput></screen>
    </informalexample>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">The font can now be referenced with the name
      SHOWBOAT.</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">If <application xmlns:xlink="http://www.w3.org/1999/xlink">Ghostscript</application> is used to drive the printers on the system,
      then nothing more needs to be done.  However, if true <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark>
      printers are used, then the font must be down loaded to the
      printer in order for the font to be used (unless the printer
      happens to have the showboat font built in or on an accessible
      font disk.) The final step is to create a down loadable font.
      The <command xmlns:xlink="http://www.w3.org/1999/xlink">pfbtops</command> tool is used to create the
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">.pfa</filename> format of the font, and the
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">download</filename> file is modified to reference the new
      font.  The <filename xmlns:xlink="http://www.w3.org/1999/xlink">download</filename> file must reference the
      internal name of the font.  This can easily be determined from
      the groff font file as illustrated:</para>

    <informalexample xmlns:xlink="http://www.w3.org/1999/xlink">
      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><lineannotation xmlns:xlink="http://www.w3.org/1999/xlink">Create the .pfa font file</lineannotation>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">pfbtops /usr/local/share/fonts/type1/showboat.pfb &gt;showboat.pfa</userinput></screen>
    </informalexample>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">Of course, if the <filename xmlns:xlink="http://www.w3.org/1999/xlink">.pfa</filename> file is already
      available, just use a symbolic link to reference it.</para>

    <informalexample xmlns:xlink="http://www.w3.org/1999/xlink">
      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><lineannotation xmlns:xlink="http://www.w3.org/1999/xlink">Get the internal font name</lineannotation>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">fgrep internalname SHOWBOAT</userinput>
internalname Showboat

<lineannotation xmlns:xlink="http://www.w3.org/1999/xlink">Tell groff that the font must be down loaded</lineannotation>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ex download
:$a
Showboat      showboat.pfa
.
:wq</userinput></screen>
    </informalexample>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">To test the font:</para>

    <informalexample xmlns:xlink="http://www.w3.org/1999/xlink">
      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /tmp</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cat &gt;example.t &lt;&lt;EOF
.sp 5
.ps 16
This is an example of the Showboat font:
.br
.ps 48
.vs (\n(.s+2)p
.sp
.ft SHOWBOAT
ABCDEFGHI
.br
JKLMNOPQR
.br
STUVWXYZ
.sp
.ps 16
.vs (\n(.s+2)p
.fp 5 SHOWBOAT
.ft R
To use it for the first letter of a paragraph, it will look like:
.sp 50p
\s(48\f5H\s0\fRere is the first sentence of a paragraph that uses the
showboat font as its first letter.
Additional vertical space must be used to allow room for the larger
letter.
EOF</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">groff -Tps example.t &gt;example.ps</userinput>

<lineannotation xmlns:xlink="http://www.w3.org/1999/xlink">To use ghostscript/ghostview</lineannotation>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ghostview example.ps</userinput>

<lineannotation xmlns:xlink="http://www.w3.org/1999/xlink">To print it</lineannotation>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">lpr -Ppostscript example.ps</userinput></screen>
    </informalexample>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">References:
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/src/gnu/usr.bin/groff/afmtodit/afmtodit.man</filename>,
      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">groff_font</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry>, <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">groff_char</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">7</manvolnum></citerefentry>, <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pfbtops</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>.</para>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="convert-truetype">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">Converting TrueType fonts to a groff/PostScript format for
      groff</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">This potentially requires a bit of work, simply because it
      depends on some utilities that are not installed as part of the
      base system.  They are:</para>

    <variablelist xmlns:xlink="http://www.w3.org/1999/xlink">
      <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	<term xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">ttf2pf</command></term>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">TrueType to PostScript conversion utilities.  This
	    allows conversion of a TrueType font to an ascii font
	    metric (<filename xmlns:xlink="http://www.w3.org/1999/xlink">.afm</filename>) file.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Currently available at <uri xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://sunsite.icm.edu.pl/pub/GUST/contrib/BachoTeX98/ttf2pf/">http://sunsite.icm.edu.pl/pub/GUST/contrib/BachoTeX98/ttf2pf/</uri>.
	    Note: These files are PostScript programs and must be
	    downloaded to disk by holding down the
	    <keycap xmlns:xlink="http://www.w3.org/1999/xlink">Shift</keycap> key when clicking on the link.
	    Otherwise, your browser may try to launch
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">ghostview</application> to view them.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">The files of interest are:</para>

	  <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">GS_TTF.PS</filename></para>
	    </listitem>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">PF2AFM.PS</filename></para>
	    </listitem>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">ttf2pf.ps</filename></para>
	    </listitem>
	  </itemizedlist>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">The funny upper/lower case is due to their being
	    intended also for DOS shells.
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">ttf2pf.ps</filename> makes use of the others as
	    upper case, so any renaming must be consistent with this.
	    (Actually, <filename xmlns:xlink="http://www.w3.org/1999/xlink">GS_TTF.PS</filename> and
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">PFS2AFM.PS</filename> are supposedly part of the
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">Ghostscript</application> distribution, but it is just as easy to use
	    these as an isolated utility.  FreeBSD does not seem to
	    include the latter.) You also may want to have these
	    installed to
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/share/groff_font/devps</filename>(?).</para>
	</listitem>
      </varlistentry>

      <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	<term xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">afmtodit</command></term>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Creates font files for use with <application xmlns:xlink="http://www.w3.org/1999/xlink">groff</application> from ascii font
	    metrics file.  This usually resides in the directory,
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/src/contrib/groff/afmtodit</filename>, and
	    requires some work to get going.</para>

	  <note xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"> If you are paranoid about working in the
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/src</filename> tree, simply copy the
	      contents of the above directory to a work
	      location.</para>
	  </note>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">In the work area, you will need to make the utility.
	    Just type:</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make -f Makefile.sub afmtodit</userinput>
	  </screen>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">You may also need to copy
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/contrib/groff/devps/generate/textmap</filename>
	    to
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/share/groff_font/devps/generate</filename>
	    if it does not already exist.</para>
	</listitem>
      </varlistentry>
    </variablelist>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">Once all these utilities are in place, you are ready to
      commence:</para>

    <orderedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">Create the <filename xmlns:xlink="http://www.w3.org/1999/xlink">.afm</filename> file by
	  typing:</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">gs -dNODISPLAY -q -- ttf2pf.ps <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">TTF_name</replaceable> <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">PS_font_name</replaceable> <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">AFM_name</replaceable></userinput>
	</screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Where, <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">TTF_name</replaceable> is your
	  TrueType font file, <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">PS_font_name</replaceable>
	  is the file name for the <filename xmlns:xlink="http://www.w3.org/1999/xlink">.pfa</filename> file,
	  <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">AFM_name</replaceable> is the name you wish for
	  the <filename xmlns:xlink="http://www.w3.org/1999/xlink">.afm</filename> file.  If you do not specify
	  output file names for the <filename xmlns:xlink="http://www.w3.org/1999/xlink">.pfa</filename> or
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">.afm</filename> files, then default names will be
	  generated from the TrueType font file name.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">This also produces a <filename xmlns:xlink="http://www.w3.org/1999/xlink">.pfa</filename> file, the
	  ascii PostScript font metrics file
	  (<filename xmlns:xlink="http://www.w3.org/1999/xlink">.pfb</filename> is for the binary form).  This
	  will not be needed, but could (I think) be useful for a
	  fontserver.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">For example, to convert the 30f9 Barcode font using the
	  default file names, use the following command:</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">gs -dNODISPLAY -- ttf2pf.ps 3of9.ttf</userinput>
Aladdin Ghostscript 5.10 (1997-11-23)
Copyright (C) 1997 Aladdin Enterprises, Menlo Park, CA.  All rights reserved.
This software comes with NO WARRANTY: see the file PUBLIC for details.
Converting 3of9.ttf to 3of9.pfa and 3of9.afm.
	</screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">If you want the converted fonts to be stored in
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">A.pfa</filename> and <filename xmlns:xlink="http://www.w3.org/1999/xlink">B.afm</filename>,
	  then use this command:</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">gs -dNODISPLAY -- ttf2pf.ps 3of9.ttf A B</userinput>
Aladdin Ghostscript 5.10 (1997-11-23)
Copyright (C) 1997 Aladdin Enterprises, Menlo Park, CA.  All rights reserved.
This software comes with NO WARRANTY: see the file PUBLIC for details.
Converting 3of9.ttf to A.pfa and B.afm.
	</screen>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">Create the <application xmlns:xlink="http://www.w3.org/1999/xlink">groff</application> PostScript file:</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Change directories to
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/share/groff_font/devps</filename> so as to
	  make the following command easier to execute.  You will
	  probably need root privileges for this.  (Or, if you are
	  paranoid about working there, make sure you reference the
	  files <filename xmlns:xlink="http://www.w3.org/1999/xlink">DESC</filename>,
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">text.enc</filename> and
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">generate/textmap</filename> as being in this
	  directory.)</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">afmtodit -d DESC -e text.enc file.afm \
	    generate/textmap <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">PS_font_name</replaceable></userinput>
	</screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Where, <filename xmlns:xlink="http://www.w3.org/1999/xlink">file.afm</filename> is the
	  <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">AFM_name</replaceable> created by
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">ttf2pf.ps</command> above, and
	  <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">PS_font_name</replaceable> is the font name
	  used from that command, as well as the name that
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">groff</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> will use for references to this font.  For
	  example, assuming you used the first
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">tiff2pf.ps</command> command above, then the 3of9
	  Barcode font can be created using the command:</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">afmtodit -d DESC -e text.enc 3of9.afm \
                 generate/textmap 3of9</userinput>
	</screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Ensure that the resulting
	  <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">PS_font_name</replaceable> file (e.g.,
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">3of9</filename> in the example above) is located
	  in the directory
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/share/groff_font/devps</filename> by copying
	  or moving it there.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Note that if <filename xmlns:xlink="http://www.w3.org/1999/xlink">ttf2pf.ps</filename> assigns a
	  font name using the one it finds in the TrueType font file
	  and you want to use a different name, you must edit the
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">.afm</filename> file prior to running
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">afmtodit</command>.  This name must also match the
	  one used in the Fontmap file if you wish to pipe
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">groff</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> into <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" vendor="ports"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">gs</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>.</para>
      </listitem>
    </orderedlist>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="truetype-for-other-programs">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">Can TrueType fonts be used with other programs?</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">The TrueType font format is used by Windows, Windows 95, and
      Mac's.  It is quite popular and there are a great number of
      fonts available in this format.</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">Unfortunately, there are few applications that I am aware of
      that can use this format: <application xmlns:xlink="http://www.w3.org/1999/xlink">Ghostscript</application>
	and <application xmlns:xlink="http://www.w3.org/1999/xlink">Povray</application> come to mind.
      <application xmlns:xlink="http://www.w3.org/1999/xlink">Ghostscript's</application> support, according to the documentation, is
      rudimentary and the results are likely to be inferior to type 1
      fonts. <application xmlns:xlink="http://www.w3.org/1999/xlink">Povray</application> version 3 also has the ability to use TrueType
      fonts, but I rather doubt many people will be creating documents
      as a series of raytraced pages :-).</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">This rather dismal situation may soon change.  The <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.freetype.org/">FreeType Project</link> is
      currently developing a useful set of FreeType tools:</para>

    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">The <command xmlns:xlink="http://www.w3.org/1999/xlink">xfsft</command> font server for <application xmlns:xlink="http://www.w3.org/1999/xlink">X11</application> can
	  serve TrueType fonts in addition to regular fonts.  Though
	  currently in beta, it is said to be quite usable.  See
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.dcs.ed.ac.uk/home/jec/programs/xfsft/">Juliusz
	    Chroboczek's page</link> for further information.
	  Porting instructions for FreeBSD can be found at <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://math.missouri.edu/~stephen/software/">Stephen
	    Montgomery's software page</link>.</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">xfstt</application> is another font server for
		<application xmlns:xlink="http://www.w3.org/1999/xlink">X11</application>,
	  available under <uri xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="      ftp://sunsite.unc.edu/pub/Linux/X11/fonts/">      ftp://sunsite.unc.edu/pub/Linux/X11/fonts/</uri>.</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">A program called <command xmlns:xlink="http://www.w3.org/1999/xlink">ttf2bdf</command> can produce
	  BDF files suitable for use in an X environment from TrueType
	  files.  Linux binaries are said to be available from <uri xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://crl.nmsu.edu/CLR/multiling/General/">ftp://crl.nmsu.edu/CLR/multiling/General/</uri>.</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">and others &#8230;</para>
      </listitem>
    </itemizedlist>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="obtaining-additional-fonts">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">Where can additional fonts be obtained?</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">Many fonts are available on the Internet.  They are either
      entirely free, or are share-ware.  In addition many fonts are
      available in the <filename xmlns:xlink="http://www.w3.org/1999/xlink">x11-fonts/</filename> category in the
      ports collection</para>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="additional-questions">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">Additional questions</title>

    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">What use are the <filename xmlns:xlink="http://www.w3.org/1999/xlink">.pfm</filename> files?</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">Can one generate the <filename xmlns:xlink="http://www.w3.org/1999/xlink">.afm</filename> file from
	  a <filename xmlns:xlink="http://www.w3.org/1999/xlink">.pfa</filename> or
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">.pfb</filename>?</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">How to generate the <application xmlns:xlink="http://www.w3.org/1999/xlink">groff</application> character mapping files for
	  PostScript fonts with non-standard character names?</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">Can xditview and devX?? devices be set up to access all
	  the new fonts?</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">It would be good to have examples of using TrueType
	  fonts with <application xmlns:xlink="http://www.w3.org/1999/xlink">Povray</application> and <application xmlns:xlink="http://www.w3.org/1999/xlink">Ghostscript</application>.</para>
      </listitem>
    </itemizedlist>
  </sect1>
</article>
