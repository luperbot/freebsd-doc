<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>5. Branches</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Perforce in FreeBSD Development" /><link rel="up" href="index.html" title="Perforce in FreeBSD Development" /><link rel="prev" href="syncing.html" title="4. Syncing" /><link rel="next" href="Integrations.html" title="6. Integrations" /><link rel="copyright" href="trademarks.html" title="Legal Notice" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">5. Branches</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="syncing.html">Prev</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="Integrations.html">Next</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="branches"></a>5. Branches</h2></div></div></div><p>One of the strongest features of
      <span class="application">Perforce</span> is branching.  Branches are
      very cheap to create, and moving changes between related
      branches is very easy (as will be explained later).  Branches
      also allow you to do very experimental work in a sandbox-like
      environment, without having to worry about colliding with others
      or destabilizing the main tree.  They also provide insulation
      against mistakes while learning the
      <span class="application">Perforce</span> system.  With all of these
      benefits, it makes sense for each project to have its own
      branch, and we strongly encourage that with FreeBSD.  Frequent
      submits of changes to the server are also encouraged.</p><p>Similar to <span class="application">Subversion</span>, the
      <span class="application">Perforce</span> repository (the
      <span class="quote">&#8220;<span class="quote">depot</span>&#8221;</span>)  is a single flat tree.  Every file,
      whether a unique creation or a derivative from a branch, is
      accessible via a simple path under the server
      <code class="filename">//depot</code> directory.  When you create a
      branch, all you are doing is creating a new path under the
      <code class="filename">//depot</code>.  This is in sharp contrast to
      systems like CVS, where each branch lives in the same path as
      its parent.  With <span class="application">Perforce</span>, the
      server tracks the relationship between the files in the parent
      and child, but the files themselves live under their own
      paths.</p><p>The first step to creating a branch is to create a branch
      specification.  This is similar to a client specification, but
      is created via the command <code class="command">p4 branch
	<em class="replaceable"><code>branchname</code></em></code>.</p><p>The following important fields are explained:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">Branch</code></span></dt><dd><p>The name of the branch.  It can be any name, but must
	    be unique within the repository.  The common convention in
	    FreeBSD is to use
	    <em class="replaceable"><code>username</code></em>_<em class="replaceable"><code>projectname</code></em>.</p></dd><dt><span class="term"><code class="literal">Description</code></span></dt><dd><p>This can hold a simple text description to describe
	    the branch.</p></dd><dt><span class="term"><code class="literal">View</code></span></dt><dd><p>This is the branch mapping.  Instead of mapping from
	    the depot to the local machine like a client map, it maps
	    between the branch parent and branch child in the depot.
	    For example, you might want to create a branch of the
	    smpng project.  The mapping might look like:</p><pre class="programlisting">//depot/projects/smpng/... //depot/projects/my-super-smpng/...</pre><p>Or, you might want to create a brand new branch off of
	    the stock FreeBSD sources:</p><pre class="programlisting">//depot/vendor/freebsd/... //depot/projects/my-new-project/...</pre><p>This will map the FreeBSD HEAD tree to your new
	    branch.</p></dd></dl></div><p>Creating the branch spec only saves the spec itself in the
      server, it does not modify the depot or change any files.  The
      directory that you specified in the branch is empty on the
      server until you populate it.</p><p>To populate your branch, first edit your client with
      <code class="command">p4 client</code> and make sure that the branch
      directory is mapped in your client.  You might need to add a
      <code class="literal">View</code> line like:</p><pre class="programlisting">//depot/projects/my-new-project/... //<em class="replaceable"><code>myclient</code></em>/my-new-project/...</pre><p>The next step is to run <code class="command">p4 integrate</code>, as
      described in the next section.</p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="syncing.html">Prev</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="Integrations.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">4. Syncing </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 6. Integrations</td></tr></table></div><p xmlns="" align="center"><small>All FreeBSD documents are available for download
    at <a href="http://ftp.FreeBSD.org/pub/FreeBSD/doc/">http://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="" align="center"><small>Questions that are not answered by the
    <a href="http://www.FreeBSD.org/docs.html">documentation</a> may be
    sent to &lt;<a href="mailto:freebsd-questions@FreeBSD.org">freebsd-questions@FreeBSD.org</a>&gt;.<br />
    Send questions about this document to &lt;<a href="mailto:freebsd-doc@FreeBSD.org">freebsd-doc@FreeBSD.org</a>&gt;.</small></p></body></html>