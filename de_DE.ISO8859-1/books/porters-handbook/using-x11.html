<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>6.7. Benutzung von X11</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Das FreeBSD Porter-Handbuch" /><link rel="up" href="special.html" title="Kapitel 6. Besonderheiten" /><link rel="prev" href="using-perl.html" title="6.6. Die Benutzung von perl" /><link rel="next" href="using-gnome.html" title="6.8. Benutzung von GNOME" /><link rel="copyright" href="trademarks.html" title="Rechtlicher Hinweis" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">6.7. Benutzung von X11</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="using-perl.html">Zurück</a> </td><th width="60%" align="center">Kapitel 6. Besonderheiten</th><td width="20%" align="right"> <a accesskey="n" href="using-gnome.html">Weiter</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="using-x11"></a>6.7. Benutzung von X11</h2></div></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="x11-variables"></a>6.7.1. X.Org-Komponenten</h3></div></div></div><p>Die X11-Implementierung, welche die Ports-Sammlung
	    bereitstellt, ist X.Org. Wenn Ihre Applikation von
	    X-Komponenten abhängt, listen Sie die benötigten
	    Komponenten in <code class="varname">USE_XORG</code> auf. Als dies
	    geschrieben wurde, wurden die folgenden Komponenten
	    bereitgestellt:</p><p><code class="literal">bigreqsproto compositeproto damageproto dmx
	    dmxproto evieproto fixesproto fontcacheproto fontenc
	    fontsproto fontutil glproto ice inputproto kbproto libfs
	    oldx printproto randrproto recordproto renderproto
	    resourceproto scrnsaverproto sm trapproto videoproto x11
	    xau xaw xaw6 xaw7 xaw8 xbitmaps xcmiscproto xcomposite
	    xcursor xdamage xdmcp xevie xext xextproto
	    xf86bigfontproto xf86dgaproto xf86driproto xf86miscproto
	    xf86rushproto xf86vidmodeproto xfixes xfont xfontcache xft
	    xi xinerama xineramaproto xkbfile xkbui xmu xmuu
	    xorg-server xp xpm xprintapputil xprintutil xpr oto
	    xproxymngproto xrandr xrender xres xscrnsaver xt xtrans
	    xtrap xtst xv xvmc xxf86dga xxf86misc
	    xxf86vm</code>.</p><p>Die aktuelle Liste finden Sie immer in
	    <code class="filename">/usr/ports/Mk/bsd.xorg.mk</code>.</p><p>Das Mesa Projekt ist ein Versuch, eine freie OpenGL
	    Implementierung bereitzustellen. Sie können eine
	    Abhängigkeit von verschiedenen Komponenten diese
	    Projektes in der Variable <code class="varname">USE_GL</code>
	    spezifizieren. ouml;gliche Optionen sind: <code class="literal">glut,
	    glu, glw, glew, gl</code> und <code class="literal">linux</code>.
	    Für Abwärtskompatibilität gilt der
	    Wert <code class="literal">yes</code> als
	    <code class="literal">glu</code>.</p><div class="example"><a id="use-xorg-example"></a><div class="example-title">Beispiel 6.1. Beispiel für USE_XORG</div><div class="example-contents"><pre class="programlisting">USE_XORG=   xrender xft xkbfile xt xaw
USE_GL=     glu</pre></div></div><br class="example-break" /><p>Viele Ports definieren <code class="varname">USE_XLIB</code>,
	    was dafür sorgt, dass der Port von allen (rund 50)
	    Bibliotheken abhängt. Diese Variable existiert, um
	    Abwärtskompatibilität sicherzustellen (sie
	    stammt noch aus der Zeit vor dem modularem X.Org), und
	    sollte bei neuen Ports nicht mehr benutzt werden.</p><div class="table"><a id="idp68775760"></a><div class="table-title">Tabelle 6.5. Variablen für Ports, die X benutzen</div><div class="table-contents"><table summary="Variablen für Ports, die X benutzen" border="0"><colgroup><col /><col /></colgroup><tbody><tr><td><code class="varname">USE_XLIB</code></td><td>Der Port benutzt die X-Bibliotheken. Soll
		    nicht mehr verwendet werden - benutzen Sie
		    stattdessen eine Liste von Komponenten in
		    <code class="varname">USE_XORG</code>.</td></tr><tr><td><code class="varname">USE_X_PREFIX</code></td><td>Soll nicht mehr benutzt werden, ist jetzt
		    äquivalent zu <code class="varname">USE_XLIB</code> und
		    kann einfach durch letzteres ersetzt
		    werden.</td></tr><tr><td><code class="varname">USE_IMAKE</code></td><td>Der Port benutzt <code class="command">imake</code>.
		    Impliziert <code class="varname">USE_X_PREFIX</code>.</td></tr><tr><td><code class="varname">XMKMF</code></td><td>Ist auf den Pfad zu <code class="command">xmkmf</code>
		    gesetzt, wenn nicht in <code class="envar">PATH</code>. Vorgabe
		    ist <code class="literal">xmkmf -a</code>.</td></tr></tbody></table></div></div><br class="table-break" /><div class="table"><a id="idp68785616"></a><div class="table-title">Tabelle 6.6. Variablen bei Abhängigkeit von einzelnen
	      Teilen von X11</div><div class="table-contents"><table summary="Variablen bei Abhängigkeit von einzelnen&#10;&#9;      Teilen von X11" border="0"><colgroup><col /><col /></colgroup><tbody><tr><td><code class="varname">X_IMAKE_PORT</code></td><td>Ein Port, der <code class="command">imake</code> und einige
		    andere Werkzeuge, die zum Erstellen von X11 benutzt
		    werden, bereitstellt.</td></tr><tr><td><code class="varname">X_LIBRARIES_PORT</code></td><td>Ein Port, der die X11-Bibliotheken
		    bereitstellt.</td></tr><tr><td><code class="varname">X_CLIENTS_PORT</code></td><td>Ein Port, der X11-Clients bereitstellt.</td></tr><tr><td><code class="varname">X_SERVER_PORT</code></td><td>Ein Port, der den X11-Server bereitstellt.</td></tr><tr><td><code class="varname">X_FONTSERVER_PORT</code></td><td>Ein Port, der den Fontserver bereitstellt.</td></tr><tr><td><code class="varname">X_PRINTSERVER_PORT</code></td><td>Ein Port, der den Printserver bereitstellt.</td></tr><tr><td><code class="varname">X_VFBSERVER_PORT</code></td><td>Ein Port, der den virtuellen Framebuffer-Server
		    bereitstellt.</td></tr><tr><td><code class="varname">X_NESTSERVER_PORT</code></td><td>Ein Port, der einen nested X-Server
		    bereitstellt.</td></tr><tr><td><code class="varname">X_FONTS_ENCODINGS_PORT</code></td><td>Ein Port, der Kodierungen für Schriftarten
		    bereitstellt.</td></tr><tr><td><code class="varname">X_FONTS_MISC_PORT</code></td><td>Ein Port, der verschiedene Bitmap-Schriftarten
		    bereitstellt.</td></tr><tr><td><code class="varname">X_FONTS_100DPI_PORT</code></td><td>Ein Port, der 100dpi Bitmap-Schriftarten
		    bereitstellt.</td></tr><tr><td><code class="varname">X_FONTS_75DPI_PORT</code></td><td>Ein Port, der 75dpi Bitmap-Schriftarten
		    bereitstellt.</td></tr><tr><td><code class="varname">X_FONTS_CYRILLIC_PORT</code></td><td>Ein Port, der kyrillische Bitmap-Schriftarten
		    bereitstellt.</td></tr><tr><td><code class="varname">X_FONTS_TTF_PORT</code></td><td>Ein Port, der <span class="trademark">TrueType</span>®-Schriftarten
		    bereitstellt.</td></tr><tr><td><code class="varname">X_FONTS_TYPE1_PORT</code></td><td>Ein Port, der Type1-Schriftarten bereitstellt.</td></tr><tr><td><code class="varname">X_MANUALS_PORT</code></td><td>Ein Port, der entwicklerorientierte Manualpages
		    bereitstellt.</td></tr></tbody></table></div></div><br class="table-break" /><div class="example"><a id="using-x11-vars"></a><div class="example-title">Beispiel 6.2. Benutzung von X11-bezogenen Variablen in einem
	      Port</div><div class="example-contents"><pre class="programlisting"># Port benutzt X11-Bibliotheken und hängt vom Font-Server sowie
# von kyrillischen Schriftarten ab.
RUN_DEPENDS=   ${LOCALBASE}/bin/xfs:${X_FONTSERVER_PORT} \
               ${LOCALBASE}/lib/X11/fonts/cyrillic/crox1c.pcf.gz:${X_FONTS_CYRILLIC_PORT}

USE_XORG=      x11 xpm</pre></div></div><br class="example-break" /></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="x11-motif"></a>6.7.2. Ports, die Motif benötigen</h3></div></div></div><p>Wenn Ihr Port eine Motif-Bibliothek benötigt,
	    definieren Sie <code class="varname">USE_MOTIF</code> im
	    <code class="filename">Makefile</code>.
	    Die Standard-Motif-Implementierung ist <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/x11-toolkits/open-motif/pkg-descr">x11-toolkits/open-motif</a>.
	    Benutzer können stattdessen <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/x11-toolkits/lesstif/pkg-descr">x11-toolkits/lesstif</a> wählen,
	    indem Sie die <code class="varname">WANT_LESSTIF</code>-Variable
	    setzen.</p><p>Die Variable <code class="varname">MOTIFLIB</code> wird von
	    <code class="filename">bsd.port.mk</code> auf die entsprechende
	    Motif-Bibliothek gesetzt. Bitte patchen Sie den Quelltext
	    Ihres Ports, sodass er überall
	    <code class="literal">${MOTIFLIB}</code> benutzt, wo die
	    Motif-Bibliothek im Original <code class="filename">Makefile</code>
	    oder <code class="filename">Imakefile</code> referenziert
	    wird.</p><p>Es gibt zwei verbreitete Fälle:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Wenn sich der Port in seinem
		<code class="filename">Makefile</code> oder
		<code class="filename">Imakefile</code> auf die
		Motif-Bibliothek als <code class="literal">-lXm</code> bezieht,
		ersetzen Sie das einfach durch
		<code class="literal">${MOTIFLIB}</code>.</p></li><li class="listitem"><p>Wenn der Port in seinem
		<code class="filename">Imakefile</code>
		<code class="literal">XmClientLibs</code> benutzt, ersetzen Sie
		das durch <code class="literal">${MOTIFLIB}
		${XTOOLLIB} ${XLIB}</code>.</p></li></ul></div><p>Anmerkung: <code class="varname">MOTIFLIB</code> expandiert
	    (normalerweise) zu <code class="literal">-L/usr/X11R6/lib
	    -lXm</code> oder <code class="literal">/usr/X11R6/lib/libXm.a
	    </code> - d.h. Sie müssen kein
	    <code class="literal">-L</code> oder <code class="literal">-l</code> davor
	    einfügen.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp68864848"></a>6.7.3. X11 Schriftarten</h3></div></div></div><p>Wenn Ihr Port Schriftarten für das
	    X-Window-System installiert, legen Sie diese nach
	    <code class="filename">
	    LOCALBASE/lib/X11/fonts/local</code>.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp68866384"></a>6.7.4. Erzeugen eines künstlichen
	    <code class="envar">DISPLAY</code> durch Xvfb</h3></div></div></div><p>Manche Applikationen benötigen ein
	    funktionierendes X11-Display, damit die Kompilierung
	    funktioniert. Das stellt für Systeme, die ohne
	    Display laufen, ein Problem dar. Wenn die folgende
	    Variable benutzt wird, startet die Bauumgebung den
	    virtuellen Framebuffer-X-Server, und ein funktionierendes
	    <code class="envar">DISPLAY</code> wird dem Build
	    übergeben.</p><pre class="programlisting">USE_DISPLAY=  yes</pre></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="desktop-entries"></a>6.7.5. Desktop-Einträge</h3></div></div></div><p>Desktop-Einträge (<a class="link" href="http://standards.freedesktop.org/desktop-entry-spec/latest/" target="_top">Freedesktop
	    Standard</a>) können in Ihrem Port einfach
	    über die <code class="varname">DESKTOP_ENTRIES</code>-Variable
	    erzeugt werden. Diese Einträge erscheinen dann im
	    Applikationsmenü von standardkonformen
	    Desktop-Umgebungen wie GNOME oder KDE. Die
	    <code class="filename">.desktop</code>-Datei wird dann
	    automatisch erzeugt, installiert und der
	    <code class="filename">pkg-plist</code> hinzugefügt.
	    Die Syntax ist:</p><pre class="programlisting">DESKTOP_ENTRIES=  "NAME" "COMMENT" "ICON" "COMMAND" "CATEGORY" StartupNotify</pre><p>Die Liste der möglichen Kategorien ist auf der
	    <a class="link" href="http://standards.freedesktop.org/menu-spec/latest/apa.html" target="_top">Freedesktop
	    Webseite</a> abrufbar.
	    <code class="varname">StartupNotify</code> zeigt an, ob die
	    Applikation den Status in Umgebungen, die
	    Startup-Notifications kennen, löschen wird.</p><p>Beispiel:</p><pre class="programlisting">DESKTOP_ENTRIES=  "ToME" "Roguelike game based on JRR Tolkien's work" \
	          "${DATADIR}/xtra/graf/tome-128.png" \
	          "tome -v -g" "Application;Game;RolePlaying;" \
	          false</pre></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="using-perl.html">Zurück</a> </td><td width="20%" align="center"><a accesskey="u" href="special.html">Nach oben</a></td><td width="40%" align="right"> <a accesskey="n" href="using-gnome.html">Weiter</a></td></tr><tr><td width="40%" align="left" valign="top">6.6. Die Benutzung von <code class="literal">perl</code> </td><td width="20%" align="center"><a accesskey="h" href="index.html">Zum Anfang</a></td><td width="40%" align="right" valign="top"> 6.8. Benutzung von GNOME</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Wenn Sie Fragen zu FreeBSD haben, schicken Sie eine E-Mail an
    &lt;<a href="mailto:de-bsd-questions@de.FreeBSD.org">de-bsd-questions@de.FreeBSD.org</a>&gt;.<br></br>
    Wenn Sie Fragen zu dieser Dokumentation haben, schicken Sie eine E-Mail an
    &lt;<a href="mailto:de-bsd-translators@de.FreeBSD.org">de-bsd-translators@de.FreeBSD.org</a>&gt;.</small></p></body></html>