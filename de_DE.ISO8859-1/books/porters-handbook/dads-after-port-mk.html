<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>12.6. Etwas hinter die bsd.port.mk-Anweisung schreiben</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Das FreeBSD Porter-Handbuch" /><link rel="up" href="porting-dads.html" title="Kapitel 12. Was man machen respektive vermeiden sollte" /><link rel="prev" href="freebsd-versions.html" title="12.5. __FreeBSD_version Werte" /><link rel="next" href="dads-sh-exec.html" title="12.7. Benutzen Sie die exec-Anweisung in Wrapper-Skripten" /><link rel="copyright" href="trademarks.html" title="Rechtlicher Hinweis" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">12.6. Etwas hinter die
	<code class="filename">bsd.port.mk</code>-Anweisung schreiben</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="freebsd-versions.html">Zurück</a> </td><th width="60%" align="center">Kapitel 12. Was man machen respektive vermeiden sollte</th><td width="20%" align="right"> <a accesskey="n" href="dads-sh-exec.html">Weiter</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="dads-after-port-mk"></a>12.6. Etwas hinter die
	<code class="filename">bsd.port.mk</code>-Anweisung schreiben</h2></div></div></div><p>Schreiben Sie bitte nichts hinter die <code class="literal">.include
	&lt;bsd.port.mk&gt;</code>-Zeile. Normalerweise kann dies
	vermieden werden, indem Sie die Datei
	<code class="filename">bsd.port.pre.mk</code> irgendwo in der Mitte
	Ihres <code class="filename">Makefile</code>s und
	<code class="filename">bsd.port.post.mk</code> am Ende
	einfügen.</p><div xmlns="" class="note"><h3 class="admontitle">Anmerkung: </h3><p xmlns="http://www.w3.org/1999/xhtml">Sie dürfen entweder nur das
	  <code class="filename">bsd.port.pre.mk</code>/<code class="filename">bsd.port.post.mk</code>-Paar
	  oder <code class="filename">bsd.port.mk</code> alleine
	  hinzufügen; vermischen Sie diese Verwendungen
	  nicht!</p></div><p><code class="filename">bsd.port.pre.mk</code> definiert nur
	einige Variablen, welche in Tests im
	<code class="filename">Makefile</code> benutzt werden können,
	<code class="filename">bsd.port.post.mk</code> definiert den
	Rest.</p><p>Hier sind einige wichtige Variablen, welche in
	<code class="filename">bsd.port.pre.mk</code> definiert sind (dies ist
	keine vollständige Liste, lesen Sie bitte
	<code class="filename">bsd.port.mk</code> für eine
	vollständige Auflistung).</p><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Variable</th><th>Beschreibung</th></tr></thead><tbody><tr><td><code class="varname">ARCH</code></td><td>Die Architektur, wie von <code class="command">uname
	        -m</code> zurückgegeben (z.B.
	        <code class="literal">i386</code>)</td></tr><tr><td><code class="varname">OPSYS</code></td><td>Der Typ des Betriebsystems, wie von <code class="command">uname
	        -s</code> zurückgegeben (z.B.
	        <code class="literal">FreeBSD</code>)</td></tr><tr><td><code class="varname">OSREL</code></td><td>Die Release Version des Betriebssystems (z.B.,
	        <code class="literal">2.1.5</code> oder
	        <code class="literal">2.2.7</code>)</td></tr><tr><td><code class="varname">OSVERSION</code></td><td>Die numerische Version des Betriebssystems;
	        gleichbedeutend mit <a class="link" href="freebsd-versions.html" title="12.5. __FreeBSD_version Werte"><code class="literal">__FreeBSD_version</code></a>.</td></tr><tr><td><code class="varname">PORTOBJFORMAT</code></td><td>Das Objektformat des Systems
	        (<code class="literal">elf</code> oder <code class="literal">aout</code>;
	        beachten Sie, dass für <span class="quote">&#8222;<span class="quote">moderne</span>&#8220;</span>
	        Versionen von FreeBSD <code class="literal">aout</code> veraltet
	        ist).</td></tr><tr><td><code class="varname">LOCALBASE</code></td><td>Die Basis des <span class="quote">&#8222;<span class="quote">local</span>&#8220;</span>
	        Verzeichnisbaumes (z.B.
	        <code class="literal">/usr/local/</code>)</td></tr><tr><td><code class="varname">PREFIX</code></td><td>Wo der Port sich selbst installiert (siehe <a class="link" href="porting-prefix.html" title="9.4. PREFIX und DESTDIR"> Mehr Informationen über
	        <code class="varname">PREFIX</code></a>).</td></tr></tbody></table></div><div xmlns="" class="note"><h3 class="admontitle">Anmerkung: </h3><p xmlns="http://www.w3.org/1999/xhtml">Falls Sie die Variablen <code class="varname">USE_IMAKE</code>,
	  <code class="varname">USE_X_PREFIX</code>, oder
	  <code class="varname">MASTERDIR</code> definieren müssen, sollten
	  Sie dies vor dem Einfügen von
	  <code class="filename">bsd.port.pre.mk</code> machen.</p></div><p>Hier sind ein paar Beispiele von Dingen, die Sie hinter
	die Anweisung <code class="filename">bsd.port.pre.mk</code> schreiben
	können:</p><pre class="programlisting"># lang/perl5 muss nicht kompliliert werden, falls perl5 schon auf dem System ist
.if ${OSVERSION} &gt; 300003
BROKEN= perl ist im System
.endif

# nur eine Versionsnummer für die ELF Version der shlib
.if ${PORTOBJFORMAT} == "elf"
TCL_LIB_FILE=  ${TCL_LIB}.${SHLIB_MAJOR}
.else
TCL_LIB_FILE=  ${TCL_LIB}.${SHLIB_MAJOR}.${SHLIB_MINOR}
.endif

# die Software erstellt schon eine Verknüpfung fü ELF, aber nicht fü a.out
post-install:
.if ${PORTOBJFORMAT} == "aout"
       ${LN} -sf liblinpack.so.1.0 ${PREFIX}/lib/liblinpack.so
.endif</pre><p>Sie haben sich daran erinnert Tabulator statt
	Leerzeichen nach <code class="literal">BROKEN=</code> und
	<code class="literal">TCL_LIB_FILE=</code> zu benutzen, oder?
	:-).</p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="freebsd-versions.html">Zurück</a> </td><td width="20%" align="center"><a accesskey="u" href="porting-dads.html">Nach oben</a></td><td width="40%" align="right"> <a accesskey="n" href="dads-sh-exec.html">Weiter</a></td></tr><tr><td width="40%" align="left" valign="top">12.5. __FreeBSD_version Werte </td><td width="20%" align="center"><a accesskey="h" href="index.html">Zum Anfang</a></td><td width="40%" align="right" valign="top"> 12.7. Benutzen Sie die <code class="function">exec</code>-Anweisung in
	Wrapper-Skripten</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Wenn Sie Fragen zu FreeBSD haben, schicken Sie eine E-Mail an
    &lt;<a href="mailto:de-bsd-questions@de.FreeBSD.org">de-bsd-questions@de.FreeBSD.org</a>&gt;.<br></br>
    Wenn Sie Fragen zu dieser Dokumentation haben, schicken Sie eine E-Mail an
    &lt;<a href="mailto:de-bsd-translators@de.FreeBSD.org">de-bsd-translators@de.FreeBSD.org</a>&gt;.</small></p></body></html>