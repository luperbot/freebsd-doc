<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>7.8. Markierte Bereiche</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Die Fibel für neue Mitarbeiter des FreeBSD-Dokumentationsprojekts" /><link rel="up" href="xml-primer.html" title="Kapitel 7. Die XML-Fibel" /><link rel="prev" href="xml-primer-include.html" title="7.7. Dateien mit Entitäten einbinden" /><link rel="next" href="xml-primer-conclusion.html" title="7.9. Schlussbemerkung" /><link rel="copyright" href="legalnotice.html" title="Rechtlicher Hinweis" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">7.8. Markierte Bereiche</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="xml-primer-include.html">Zurück</a> </td><th width="60%" align="center">Kapitel 7. Die XML-Fibel</th><td width="20%" align="right"> <a accesskey="n" href="xml-primer-conclusion.html">Weiter</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="xml-primer-marked-sections"></a>7.8. Markierte Bereiche</h2></div></div></div><p>SGML erlaubt es, dass bestimmte Dokumentabschnitte
      während der Verarbeitung besonders behandelt werden sollen.
      Diese Abschnitte werden als <span class="quote">&#8222;<span class="quote">markierte Bereiche</span>&#8220;</span>
      <a href="#ftn.idp67871568" class="footnote" id="idp67871568"><sup class="footnote">[8]</sup></a>
        bezeichnet.</p><div class="example"><a id="idp67872592"></a><div class="example-title">Beispiel 7.14. Aufbau eines markierten Bereiches</div><div class="example-contents"><pre class="programlisting">&lt;![ <em class="replaceable"><code>SCHLÜSSELWORT</code></em> [
  Inhalt des markierten Bereiches
]]&gt;</pre></div></div><br class="example-break" /><p>Da es sich bei markierten Bereichen um SGML-Konstrukte
      handelt, werden sie mit <code class="literal">&lt;!</code> eingeleitet.
      Der eigentliche Anfang des markierten Bereiches wird von der
      folgenden eckigen Klammer bestimmt. Das darauf folgende
      <em class="replaceable"><code>SCHLÜSSELWORT</code></em> legt fest, wie der
      <span class="quote">&#8222;<span class="quote">markierte Inhalt</span>&#8220;</span> durch einen SGML-Prozessor
      während der Verarbeitung behandelt werden soll. Der
      <span class="quote">&#8222;<span class="quote">markierte</span>&#8220;</span> Inhalt selbst beginnt erst nach der
      zweiten eckigen Klammer und erstreckt sich bis zu den zwei
      schließenden eckigen Klammern am Ende des Bereiches. Mit
      Hilfe des <code class="literal">&gt;</code> Zeichens wird der mit
      <code class="literal">&lt;!</code> begonnene SGML-Kontext wieder
      verlassen.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp67876944"></a>7.8.1. Schlüsselworte für markierte Bereiche</h3></div></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp67877584"></a>7.8.1.1. <code class="literal">CDATA</code> und <code class="literal">RCDATA</code></h4></div></div></div><p>Die Schlüsselworte <code class="literal">CDATA</code> und
          <code class="literal">RCDATA</code> bestimmen das
          <span class="emphasis"><em>Inhaltsmodell</em></span> für markierte
          Bereiche. Dadurch ist es möglich, vom Standardmodell
          abzuweichen.</p><p>Ein SGML-Prozessor muss während der
          Verarbeitung eines Dokuments zu jedem Zeitpunkt wissen,
          welches <span class="emphasis"><em>Inhaltsmodell</em></span> gerade anzuwenden
          ist.</p><p>Was ist ein Inhaltsmodell? Kurz gesagt beschreibt das
          Inhaltsmodell, welche Art von Inhalt der Parser zu erwarten
          und wie er damit umzugehen hat.</p><p>Bei <code class="literal">CDATA</code> und
          <code class="literal">RCDATA</code> handelt es sich wahrscheinlich um
          die nützlichsten Inhaltsmodelle. 
          <code class="literal">CDATA</code> steht für
          Zeichendaten<a href="#ftn.idp67883088" class="footnote" id="idp67883088"><sup class="footnote">[9]</sup></a>. Trifft ein
          Parser auf dieses Inhaltsmodell, wird er annehmen, dass
          sich im zugehörigen Dokumentenbereich nur
          <span class="quote">&#8222;<span class="quote">gewöhnliche</span>&#8220;</span> Zeichen befinden. Das
          bedeutet, dass <code class="literal">&lt;</code> und
          <code class="literal">&amp;</code> ihre besondere Bedeutung
          verlieren und als einfache Zeichen behandelt werden.</p><p><code class="literal">RCDATA</code> steht für
          Entitätenreferenzen und Zeichendaten<a href="#ftn.idp67890128" class="footnote" id="idp67890128"><sup class="footnote">[10]</sup></a>. Für einen
          Bereich mit diesem Inhaltsmodell, wird ein Parser davon
          ausgehen, dass er sowohl Zeichen als auch
          Enitätenreferenzen finden kann. <code class="literal">&lt;</code>
          verliert hier zwar auch seine besondere Bedeutung, doch
          <code class="literal">&amp;</code> wird weiterhin als Anfang einer
          Entität interpretiert.</p><p>Nützlich ist das <code class="literal">CDATA</code>-Modell
          vor allem dann, wenn es darum geht Texte eins-zu-eins zu
          übernehmen, in denen <code class="literal">&lt;</code> und
          <code class="literal">&amp;</code> gehäuft
          auftreten. Zwar kann man solche Texte überarbeiten und
          jedes <code class="literal">&lt;</code> durch ein
          <code class="literal">&amp;lt;</code> und jedes
          <code class="literal">&amp;</code> durch ein <code class="literal">&amp;amp;</code>
          ersetzen, doch es wird in den meisten Fällen
          einfacher sein, für den betreffenden Text
          <code class="literal">CDATA</code> als Inhaltsmodell festzulegen. Ein
          SGML-Parser wird dann, sobald er auf
          <code class="literal">&lt;</code> oder <code class="literal">&amp;</code> trifft,
          diese als  Zeichen in einem Text betrachten.</p><div xmlns="" class="note"><h3 class="admontitle">Anmerkung: </h3><p xmlns="http://www.w3.org/1999/xhtml">Bei der Verwendung von <code class="literal">CDATA</code> und
            <code class="literal">RCDATA</code> als Inhaltsmodell für
            SGML-Beispiele, wie sie in diesem Dokument enthalten sind,
            muss bedacht werden, dass der Inhalt eines
            <code class="literal">CDATA</code>-Bereiches nicht validiert wird.
            dass das SGML in diesen Bereichen gültig ist,
            muss auf andere Weise sichergestellt werden. Denkbar ist
            beispielsweise, es in einem separaten Dokument zu
            erstellen, dort zu prüfen und erst dann in das
            eigentliche Dokument einzufügen.</p></div><div class="example"><a id="idp67906512"></a><div class="example-title">Beispiel 7.15. CDATA als Inhaltsmodell für markierte Bereiche</div><div class="example-contents"><pre class="programlisting">&lt;para&gt;Das ist ein Beispiel, wie man einen Text,
  der viele <code class="literal">&amp;lt;</code>- und <code class="literal">&amp;amp;</code>-
  Entitäten enthält, in ein Dokument einbinden kann.
  Das Beispiel selbst, das sich innerhalb des markierten Bereiches befindet,
  ist ein HTML-Fragment. Der diesen Text umschließende Tag, beginnend mit
  mit <code class="sgmltag-element">para</code> und endend mit <code class="sgmltag-element">/para</code>, stammt aus der DocBook DTD.&lt;/para&gt;

&lt;programlisting&gt;
  &lt;![RCDATA[  
    &lt;p&gt;Dieses Beispiel demonstriert die Verwendung von HTML-Elementen.
      Da spitze Klammern so oft vorkommen, ist es einfacher, das
      gesamte Beispiel als CDATA Abschnitt auszuweisen, als die
      entsprechenden Entitäten zu nutzen.&lt;/p&gt;

    &lt;ul&gt;
      &lt;li&gt;Das ist ein Listenelement.&lt;/li&gt;
      &lt;li&gt;Das ist ein zweites Listenelement.&lt;/li&gt;
      &lt;li&gt;Das ist ein drittes Listenelement.&lt;/li&gt;
    &lt;/ul&gt;

    &lt;p&gt;Und das hier, das ist das Ende des Beispiels.&lt;/p&gt;
  ]]&gt;
&lt;/programlisting&gt;</pre><p>Liest  man die Quellen dieser Fibel, wird man
            feststellen, dass diese Technik durchgängig
            angewandt wurde.</p></div></div><br class="example-break" /></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp67909712"></a>7.8.1.2. <code class="literal">INCLUDE</code> und
	  <code class="literal">IGNORE</code></h4></div></div></div><p>Das Schlüsselwort <code class="literal">INCLUDE</code> legt
          fest, dass der Inhalt des betreffenden Abschnittes
          mitverarbeitet wird. Demgegenüber bestimmt
          <code class="literal">IGNORE</code>, dass er ignoriert wird,
          dass heißt, dass er bei der Verarbeitung
          übergangen wird und in der Ausgabe nicht enthalten
          ist.</p><div class="example"><a id="idp67912016"></a><div class="example-title">Beispiel 7.16. Anwendung von <code class="literal">INCLUDE</code> und
            <code class="literal">IGNORE</code> in markierten
            Abschnitten</div><div class="example-contents"><pre class="programlisting">&lt;![ INCLUDE [
  Dieser Text wird verarbeitet und eingebunden.
]]&gt;

&lt;![ IGNORE [
  Dieser Text wird weder verarbeitet noch eingebunden.
]]&gt;</pre></div></div><br class="example-break" /><p>Für sich alleine ist <code class="literal">IGNORE</code> als
          Anweisung nicht besonders nützlich, da ein Bereich, der
          von der Verarbeitung ausgenommen sein soll, auch
          auskommentiert werden kann.</p><p>Kombiniert man <code class="literal">IGNORE</code> hingegen mit
          <a class="link" href="xml-primer-entities.html#xml-primer-parameter-entities" title="7.6.2. Parameterentitäten">Parameterentitäten</a>,
          steht so ein  Weg zur Verfügung, um dessen Anwendung
          besser  steuern zu können. Zwar können
          Parameterentitäten nur in einem SGML-Kontext einsetzt
          werden, da aber markierte Bereiche ebenfalls SGML-Konstrukte
          sind, ist diese Einschränkung irrelevant.</p><p>Soll beispielsweise ein und dasselbe Dokument in zwei
          unterschiedlichen Varianten produziert werden, einer
          gedruckten und einer digitalen, und soll nur die digitale
          zusätzliche Informationen enthalten, kann dies mit
          einem Trick erreicht werden.</p><p>Man definiert eine Parameterentität, der man als
          Wert die Zeichenkette <code class="literal">INCLUDE</code> zuweist und
          deklariert den betreffenden Bereich, der nur in der
          digitalen Variante erscheinen soll, als markierten Abschnitt
          und setzt als Schlüsselwort die zuvor definierte
          Parameterentität ein.</p><p>Soll anstelle der digitalen die gedruckte Variante
          produziert werden, muss lediglich der Entität
          <code class="literal">IGNORE</code> als Wert zugewiesen und das
          Ursprungsdokument erneut durch den SGML-Prozessor geschickt
          werden.</p><div class="example"><a id="idp67918160"></a><div class="example-title">Beispiel 7.17. Kontrolle von markierten Bereichen über
            Parameterentitäten</div><div class="example-contents"><pre class="programlisting">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0//EN" [
&lt;!ENTITY % digitale.kopie "INCLUDE"&gt;
]]&gt;

...

&lt;![ %digitale.kopie [
  Dieser Satz sollte nur in der digitalen Version enthalten sein.
]]&gt;	  </pre><p>Bei der Produktion der gedruckten Variante muss
            der Wert der Entität geändert werden.</p><pre class="programlisting">&lt;!ENTITY % digitale.kopie "IGNORE"&gt;</pre><p>Bei der Verarbeitung wird als Schlüsselwort in
            beiden Fällen der von
            <code class="literal">%digitale.kopie</code> repräsentierte
            Wert verwendet. Im ersten Fall wird der Inhalt des
            markierten Bereichs mitverarbeitet, im zweiten Fall
            nicht.</p></div></div><br class="example-break" /></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp67921232"></a>7.8.2. Fingerübung&#8230;</h3></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Legen Sie eine neue Datei
            <code class="filename">abschnitt.xml</code> an, die folgenden
            Inhalt hat:</p><pre class="programlisting">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0//EN" [
&lt;!ENTITY % text.ausgabe "INCLUDE"&gt;
]&gt;

&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;Ein Beispiel mit markierten Abschnitten&lt;/title&gt;
  &lt;/head&gt;

  &lt;body&gt;
    &lt;p&gt;Dieser Absatz &lt;![CDATA[beinhaltet viele &lt;
      Zeichen (&lt; &lt; &lt; &lt; &lt;). Weshalb es einfacher ist,
      ihn als CDATA Bereich auszuweisen. ]]&gt;&lt;/p&gt;

    &lt;![ IGNORE [
    &lt;p&gt;Dieser Absatz wird NICHT in der Ausgabe enthalten sein.&lt;/p&gt;
    ]]&gt;

    &lt;![ %text.ausgabe [
     &lt;p&gt;Dieser Absatz wird in Abhängigkeit von <code class="literal">%text.ausgabe</code>
       mitausgegeben.&lt;/p&gt;
    ]]&gt;
  &lt;/body&gt;
&lt;/html&gt;</pre></li><li class="step"><p>Normalisieren Sie den Inhalt dieser Datei mit Hilfe
            von <code class="command">osgmlnorm</code> und sehen Sie sich das
            Ergebnis an.  Achten Sie dabei darauf, welche Absätze
            enthalten beziehungsweise nicht enthalten sind und was aus
            den <code class="literal">CDATA</code>-Bereichen geworden ist.</p></li><li class="step"><p>Ändern Sie die Definition von
            <code class="literal">text.ausgabe</code> so, dass es den
            Wert <code class="literal">IGNORE</code> zugewiesen bekommt.
            Verarbeiten Sie dann die Datei erneut mit
            <code class="command">osgmlnorm</code> und vergleichen die Ausgabe mit
            der vom ersten <code class="command">osgmlnorm</code> Lauf.</p></li></ol></div></div><div class="footnotes"><br /><hr class="footnote-hr" /><div id="ftn.idp67871568" class="footnote"><p><a href="#idp67871568" class="para"><sup class="para">[8] </sup></a>auf Englisch <span class="foreignphrase"><em class="foreignphrase">marked
            sections</em></span>
        </p></div><div id="ftn.idp67883088" class="footnote"><p><a href="#idp67883088" class="para"><sup class="para">[9] </sup></a>auf Englisch <span class="foreignphrase"><em class="foreignphrase">character
                data</em></span></p></div><div id="ftn.idp67890128" class="footnote"><p><a href="#idp67890128" class="para"><sup class="para">[10] </sup></a>auf
              Englisch
              <span class="foreignphrase"><em class="foreignphrase">Entity references and character
                data</em></span></p></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="xml-primer-include.html">Zurück</a> </td><td width="20%" align="center"><a accesskey="u" href="xml-primer.html">Nach oben</a></td><td width="40%" align="right"> <a accesskey="n" href="xml-primer-conclusion.html">Weiter</a></td></tr><tr><td width="40%" align="left" valign="top">7.7. Dateien mit Entitäten einbinden </td><td width="20%" align="center"><a accesskey="h" href="index.html">Zum Anfang</a></td><td width="40%" align="right" valign="top"> 7.9. Schlussbemerkung</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Wenn Sie Fragen zu FreeBSD haben, schicken Sie eine E-Mail an
    &lt;<a href="mailto:de-bsd-questions@de.FreeBSD.org">de-bsd-questions@de.FreeBSD.org</a>&gt;.<br></br>
    Wenn Sie Fragen zu dieser Dokumentation haben, schicken Sie eine E-Mail an
    &lt;<a href="mailto:de-bsd-translators@de.FreeBSD.org">de-bsd-translators@de.FreeBSD.org</a>&gt;.</small></p></body></html>