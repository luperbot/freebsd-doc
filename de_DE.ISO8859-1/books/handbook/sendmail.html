<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>30.4. sendmail-Konfiguration</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Das FreeBSD-Handbuch" /><link rel="up" href="mail.html" title="Kapitel 30. Elektronische Post (E-Mail)" /><link rel="prev" href="mail-using.html" title="30.3. Elektronische Post benutzen" /><link rel="next" href="mail-changingmta.html" title="30.5. Wechseln des Mailübertragungs-Agenten" /><link rel="copyright" href="legalnotice.html" title="Rechtlicher Hinweis" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">30.4. <span class="application">sendmail</span>-Konfiguration</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="mail-using.html">Zurück</a> </td><th width="60%" align="center">Kapitel 30. Elektronische Post (E-Mail)</th><td width="20%" align="right"> <a accesskey="n" href="mail-changingmta.html">Weiter</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="sendmail"></a>30.4. <span class="application">sendmail</span>-Konfiguration</h2></div><div><span class="authorgroup">Beigesteuert von <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Christopher</span> <span class="surname">Shumway</span></span>. </span></div></div></div><a id="idp88551504" class="indexterm"></a><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sendmail&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sendmail</span>(8)</span></a> ist das standardmäßig in
      FreeBSD installierte Mailübertragungsprogramm (MTA).
      Die Aufgabe von <span class="application">sendmail</span> ist es,
      E-Mails von E-Mail-Benutzerprogrammen (<acronym class="acronym">MUA</acronym>)
      anzunehmen und diese zu den
      entsprechenden Mailern zu liefern, die in der Konfigurationsdatei
      definiert sind.  <span class="application">sendmail</span> kann auch
      Netzwerkverbindungen annehmen und E-Mails zu lokalen
      <em class="firstterm">Mailboxen</em>
      <a href="#ftn.idp88563152" class="footnote" id="idp88563152"><sup class="footnote">[18]</sup></a>
      oder anderen Programmen liefern.</p><p><span class="application">sendmail</span> benutzt folgende
      Konfigurationsdateien:</p><a id="idp88564688" class="indexterm"></a><a id="idp88565584" class="indexterm"></a><a id="idp88566480" class="indexterm"></a><a id="idp88567376" class="indexterm"></a><a id="idp88568400" class="indexterm"></a><a id="idp88569296" class="indexterm"></a><a id="idp88570192" class="indexterm"></a><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Dateiname</th><th>Funktion</th></tr></thead><tbody><tr><td>
              <code class="filename">/etc/mail/access</code>
            </td><td>Datenbank, in der Zugriffsrechte auf
	      <span class="application">sendmail</span> verwaltet werden</td></tr><tr><td>
              <code class="filename">/etc/mail/aliases</code>
            </td><td>Mailbox Aliase</td></tr><tr><td>
              <code class="filename">/etc/mail/local-host-names</code>
            </td><td>Liste der Rechner für die
	      <span class="application">sendmail</span> E-Mails akzeptiert</td></tr><tr><td>
              <code class="filename">/etc/mail/mailer.conf</code>
            </td><td>Mailer Programmkonfiguration</td></tr><tr><td>
              <code class="filename">/etc/mail/mailertable</code>
            </td><td>Mailer Versand-Zuordnungstabelle</td></tr><tr><td>
              <code class="filename">/etc/mail/sendmail.cf</code>
            </td><td>Hauptkonfigurationsdatei für
	      <span class="application">sendmail</span></td></tr><tr><td>
              <code class="filename">/etc/mail/virtusertable</code>
            </td><td>Virtuelle Benutzer und Domänen-Tabellen</td></tr></tbody></table></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88594384"></a>30.4.1. <code class="filename">/etc/mail/access</code></h3></div></div></div><p>Die Zugriffsdatenbank bestimmt, welche(r) Rechner oder IP-Adresse(n)
      Zugriff auf den lokalen E-Mail-Server haben und welche Art von Zugriff
      ihnen gestattet wird.
      Rechner können als <code class="option">OK</code>, <code class="option">REJECT</code>
      oder <code class="option">RELAY</code> eingetragen oder einfach an
      <span class="application">sendmail</span>s Fehlerbehandlungsroutine mit einem
      angegebenen Mailer-Fehler übergeben werden.
      Rechner, die als <code class="option">OK</code> eingetragen sind, was die
      Grundeinstellung ist, sind berechtigt E-Mails zu diesem Rechner zu
      schicken, solange die endgültige Zieladresse der lokale Rechner ist.
      Verbindungen von Rechnern, die als <code class="option">REJECT</code>
      aufgelistet sind, werden abgelehnt.
      Rechnern mit gesetzter <code class="option">RELAY</code>-Option für
      ihren Rechnernamen wird erlaubt Post für jede Zieladresse
      durch diesen Mail-Server zu senden.</p><div class="example"><a id="idp88598224"></a><div class="example-title">Beispiel 30.1. Konfigurieren der <span class="application">sendmail</span>
          Zugriffsdatenbank</div><div class="example-contents"><pre class="programlisting">cyberspammer.com                550 We do not accept mail from spammers
FREE.STEALTH.MAILER@            550 We do not accept mail from spammers
another.source.of.spam          REJECT
okay.cyberspammer.com           OK
128.32                          RELAY</pre></div></div><br class="example-break" /><p>In diesem Beispiel haben wir fünf Einträge.
     E-Mail-Versender, die mit der linken Spalte der Tabelle
     übereinstimmen, sind betroffen von der Aktion in der rechten
     Spalte.  Die ersten beiden Beispiele übergeben einen Fehlercode an
     <span class="application">sendmail</span>s Fehlerbehandlungsroutine.
     Die Nachricht wird an den entfernten Rechner gesendet, wenn eine
     Nachricht mit der linken Spalte der Tabelle übereinstimmt.
     Der nächste Eintrag lehnt Post von einem bestimmten Rechner
     des Internets ab (<code class="systemitem">another.source.of.spam</code>).
     Der nächste Eintrag akzeptiert E-Mail-Verbindungen des Rechners
     <code class="systemitem">okay.cyberspammer.com</code>, der exakter angegeben
     wurde als <code class="systemitem">cyberspammer.com</code> in der Zeile
     darüber.
     Genauere Übereinstimmungen haben den Vorrang vor weniger genauen.
     Der letzte Eintrag erlaubt die Weiterleitung von elektronischer Post
     von Rechnern mit einer IP-Adresse die mit <code class="systemitem">128.32</code>
     beginnt.  Diese Rechner würden E-Mails durch diesen
     E-Mail-Server senden können, die für andere E-Mail-Server
     bestimmt sind.</p><p>Wenn diese Datei geändert wird, müssen Sie
     <code class="command">make</code> in <code class="filename">/etc/mail</code>
     ausführen um die Datenbank zu aktualisieren.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88603728"></a>30.4.2. <code class="filename">/etc/mail/aliases</code></h3></div></div></div><p>Die Alias-Datenbank enthält eine Liste der virtuellen
	Mailboxen, die in andere Benutzer, Dateien, Programme oder
	andere Aliase expandiert werden.  Hier sind ein paar Beispiele,
	die in <code class="filename">/etc/mail/aliases</code> benutzt werden
	können:</p><div class="example"><a id="idp88605264"></a><div class="example-title">Beispiel 30.2. E-Mail Aliases</div><div class="example-contents"><pre class="programlisting">root: localuser
ftp-bugs: joe,eric,paul
bit.bucket:  /dev/null
procmail: "|/usr/local/bin/procmail"</pre></div></div><br class="example-break" /><p>Das Dateiformat ist simpel; Der Name der Mailbox auf der linken
	Seite des Doppelpunkts wird mit den Zielen auf der rechten Seite
	ersetzt.
        Das erste Beispiel ersetzt die Mailbox <code class="systemitem">root</code>
	mit der Mailbox <code class="systemitem">localuser</code>, die dann wieder in der
        Alias-Datenbank gesucht wird.  Wird kein passender Eintrag
        gefunden, wird die Nachricht zum lokalen Benutzer
        <code class="systemitem">localuser</code> geliefert.  Das nächste Beispiel
        zeigt eine E-Mail-Verteilerliste.  E-Mails an die Mailbox
        <code class="systemitem">ftp-bugs</code> werden zu den drei lokalen Mailboxen
        <code class="systemitem">joe</code>, <code class="systemitem">eric</code> und
        <code class="systemitem">paul</code> gesendet.  Eine lokale Mailbox kann auch
        als <code class="email">&lt;<a xmlns="" class="email" href="mailto:user@example.com">user@example.com</a>&gt;</code> angegeben werden.  Das
	nächste Beispiel zeigt das Schreiben von E-Mails in eine Datei,
	in diesem Fall <code class="filename">/dev/null</code>.  Das letzte Beispiel
	verdeutlicht das Senden von E-Mails an ein Programm, in diesem Fall
	wird die Nachricht in die Standardeingabe von
        <code class="filename">/usr/local/bin/procmail</code> mittels einer UNIX Pipe
        geschrieben.</p><p>Wenn diese Datei geändert wird, müssen Sie
	<code class="command">make</code> in <code class="filename">/etc/mail</code>
	ausführen um die Änderungen in die Datenbank zu
	übernehmen.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88612944"></a>30.4.3. <code class="filename">/etc/mail/local-host-names</code></h3></div></div></div><p>Das ist die Liste der Rechnernamen, die <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sendmail&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sendmail</span>(8)</span></a> als
	lokalen Rechnernamen akzeptiert.  Setzen Sie alle Domänen oder
	Rechner, für die <span class="application">sendmail</span>
	Mail empfangen soll, in diese Datei.
	Wenn dieser Mail-Server zum Beispiel E-Mails für die
	Domäne example.com und den Rechner
	<code class="systemitem">mail.example.com</code> annehmen soll,
	könnte seine <code class="filename">local-host-names</code> Datei so
	aussehen:</p><pre class="programlisting">example.com
mail.example.com</pre><p>Wird diese Datei geändert, muss <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sendmail&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sendmail</span>(8)</span></a> neu
	gestartet werden, damit es die Neuerungen einliest.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88622032"></a>30.4.4. <code class="filename">/etc/mail/sendmail.cf</code></h3></div></div></div><p>Die Hauptkonfigurations-Datei von
	<span class="application">sendmail</span> (<code class="filename">sendmail.cf</code>)
	kontrolliert das allgemeine Verhalten von
	<span class="application">sendmail</span>, einschließlich allem vom
	Umschreiben von E-Mail Adressen bis hin zum Übertragen von
	Ablehnungsnachrichten an entfernte E-Mail-Server.
	Mit solch einer mannigfaltigen Rolle ist die Konfigurationsdatei
	natürlich ziemlich komplex und ihre Einzelheiten können
	in diesem Kapitel nicht besprochen werden.
	Glücklicherweise muss diese Datei selten für
	Standard E-Mail-Server geändert werden.</p><p>Die <span class="application">sendmail</span> Hauptkonfigurationsdatei
	kann mit <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=m4&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">m4</span>(1)</span></a> Makros erstellt werden, die Eigenschaften
	und Verhalten von <span class="application">sendmail</span> definieren.
	Einige der Details finden Sie in
	<code class="filename">/usr/src/contrib/sendmail/cf/README</code>.</p><p>Wenn Änderungen an dieser Datei vorgenommen werden, muss
	<span class="application">sendmail</span> neu gestartet werden, damit die
	Änderungen Wirkung zeigen.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88627792"></a>30.4.5. <code class="filename">/etc/mail/virtusertable</code></h3></div></div></div><p>Die Datei <code class="filename">virtusertable</code> ordnet
	Adressen für virtuelle Domänen und Mailboxen reellen
	Mailboxen zu.  Diese Mailboxen können lokal, auf entfernten
	Systemen, Aliase in <code class="filename">/etc/mail/aliases</code> oder
	eine Datei sein.</p><div class="example"><a id="idp88633936"></a><div class="example-title">Beispiel 30.3. Beispiel einer virtuellen Domänen Zuordnung</div><div class="example-contents"><pre class="programlisting">root@example.com                root
postmaster@example.com          postmaster@noc.example.net
@example.com                    joe</pre></div></div><br class="example-break" /><p>In dem obigen Beispiel haben wir einen Eintrag für die
	Domäne <code class="systemitem">example.com</code>.  Diese
	Datei wird nach dem ersten übereinstimmenden Eintrag durchsucht.
	Die erste Zeile ordnet <code class="email">&lt;<a xmlns="" class="email" href="mailto:root@example.com">root@example.com</a>&gt;</code> der
	lokalen Mailbox <code class="systemitem">root</code> zu.  Der nächste Eintrag ordnet
	<code class="email">&lt;<a xmlns="" class="email" href="mailto:postmaster@example.com">postmaster@example.com</a>&gt;</code> der Mailbox
	<code class="systemitem">postmaster</code> auf dem Rechner
	<code class="systemitem">noc.example.net</code> zu.  Zuletzt, wenn keine
	Übereinstimmung von <code class="systemitem">example.com</code>
	gefunden wurde, wird der letzte Eintrag verglichen, der mit jeder
	Mail-Nachricht übereinstimmt, die an jemanden bei
	<code class="systemitem">example.com</code> adressiert wurde.
	Diese werden der lokalen Mailbox joe zugeordnet.</p></div><div class="footnotes"><br /><hr class="footnote-hr" /><div id="ftn.idp88563152" class="footnote"><p><a href="#idp88563152" class="para"><sup class="para">[18] </sup></a>Mailbox = Post- beziehungsweise Briefkasten</p></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="mail-using.html">Zurück</a> </td><td width="20%" align="center"><a accesskey="u" href="mail.html">Nach oben</a></td><td width="40%" align="right"> <a accesskey="n" href="mail-changingmta.html">Weiter</a></td></tr><tr><td width="40%" align="left" valign="top">30.3. Elektronische Post benutzen </td><td width="20%" align="center"><a accesskey="h" href="index.html">Zum Anfang</a></td><td width="40%" align="right" valign="top"> 30.5. Wechseln des Mailübertragungs-Agenten</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Wenn Sie Fragen zu FreeBSD haben, schicken Sie eine E-Mail an
    &lt;<a href="mailto:de-bsd-questions@de.FreeBSD.org">de-bsd-questions@de.FreeBSD.org</a>&gt;.<br></br>
    Wenn Sie Fragen zu dieser Dokumentation haben, schicken Sie eine E-Mail an
    &lt;<a href="mailto:de-bsd-translators@de.FreeBSD.org">de-bsd-translators@de.FreeBSD.org</a>&gt;.</small></p></body></html>