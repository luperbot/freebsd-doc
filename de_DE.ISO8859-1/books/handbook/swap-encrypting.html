<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>19.17. Den Auslagerungsspeicher verschlüsseln</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Das FreeBSD-Handbuch" /><link rel="up" href="disks.html" title="Kapitel 19. Speichermedien" /><link rel="prev" href="disks-encrypting.html" title="19.16. Partitionen verschlüsseln" /><link rel="next" href="disks-hast.html" title="19.18. Highly Available Storage (HAST)" /><link rel="copyright" href="legalnotice.html" title="Rechtlicher Hinweis" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">19.17. Den Auslagerungsspeicher verschlüsseln</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="disks-encrypting.html">Zurück</a> </td><th width="60%" align="center">Kapitel 19. Speichermedien</th><td width="20%" align="right"> <a accesskey="n" href="disks-hast.html">Weiter</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="swap-encrypting"></a>19.17. Den Auslagerungsspeicher verschlüsseln</h2></div><div><span class="authorgroup">Geschrieben von <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Christian</span> <span class="surname">Brüffer</span></span>. </span></div></div></div><a id="idp82072400" class="indexterm"></a><p>Die Verschlüsselung des Auslagerungsspeichers ist unter FreeBSD
      einfach einzurichten.
      Je nach dem, welche FreeBSD-Version Sie einsetzen, können
      Konfiguration und mögliche Optionen allerdings unterschiedlich
      sein.  Sie können entweder das
      <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=gbde&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">gbde</span>(8)</span></a>- oder das <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=geli&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">geli</span>(8)</span></a>-Verschlüsselungs-Subsystem
      einsetzen.  Beide Subsysteme werden über das <a class="link" href="configtuning-rcd.html" title="12.7. Das rc-System für Systemdienste">rc.d</a>-Skript
      <code class="filename">encswap</code> gestartet.</p><p>Der letzte Abschnitt, <a class="link" href="disks-encrypting.html" title="19.16. Partitionen verschlüsseln">
      Partitionen verschlüsseln</a>, enthält eine kurze
      Beschreibung der verschiedenen
      Verschlüsselungs-Subsysteme.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp82077264"></a>19.17.1. Warum sollte der Auslagerungsspeicher verschlüsselt
	werden?</h3></div></div></div><p>Wie die Verschlüsselung von Plattenpartitionen dient
	auch die Verschlüsselung des Auslagerungsspeichers dem
	Schutz sensitiver Informationen.  Stellen Sie sich etwa eine
	Anwendung vor, die ein Passwort erfordert.  Solange dieses
	Passwort im Hauptspeicher verbleibt, ist alles in
	Ordnung.  Beginnt Ihr Betriebssystem allerdings, Daten auf
	die Festplatte auszulagern, um im Hauptspeicher Platz für
	andere Anwendungen zu schaffen, kann es passieren, dass Ihr
	Passwort im Klartext in den Auslagerungsspeicher
	geschrieben wird, was es einem potentiellen Angreifer leicht
	macht, Ihr Passwort herauszufinden.  Die Verschlüsselung
	Ihres Auslagerungsspeichers kann dieses Problem lösen.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp82078544"></a>19.17.2. Vorbereitungen</h3></div></div></div><div xmlns="" class="note"><h3 class="admontitle">Anmerkung: </h3><p xmlns="http://www.w3.org/1999/xhtml">Für die weiteren Ausführungen dieses Abschnitts
	  stellt <code class="filename">ad0s1b</code> die Swap-Partition
	  dar.</p></div><p>Noch ist Ihr Auslagerungsspeicher nicht verschlüsselt.
	Es könnte allerdings sein, dass bereits Passwörter
	oder andere sensitive Daten als Klartext im Auslagerungsspeicher
	vorhanden sind.  Daher sollten Sie den Auslagerungsspeicher
	komplett mit zufällig generierten Zeichen
	überschreiben, bevor Sie ihn verschlüsseln:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>dd if=/dev/random of=/dev/ad0s1b bs=1m</code></strong></pre></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp82086096"></a>19.17.3. Den Auslagerungsspeicher mit <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=gbde&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">gbde</span>(8)</span></a>
	verschlüsseln</h3></div></div></div><p>In der Datei <code class="filename">/etc/fstab</code> sollte
	das Suffix <code class="literal">.bde</code> an den Gerätenamen
	der Swap-Partition anhängt werden:</p><pre class="programlisting"># Device                Mountpoint      FStype  Options         Dump    Pass#
/dev/ad0s1b.bde         none            swap    sw              0       0</pre></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp82089296"></a>19.17.4. Den Auslagerungsspeicher mit <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=geli&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">geli</span>(8)</span></a>
	verschlüsseln</h3></div></div></div><p>Alternativ können Sie Ihren Auslagerungsspeicher auch
	mit <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=geli&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">geli</span>(8)</span></a> verschlüsseln.  Die Vorgehensweise ist
	dabei ähnlich.  Allerdings hängen Sie bei der Verwendung
	von <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=geli&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">geli</span>(8)</span></a> in <code class="filename">/etc/fstab</code> das Suffix
	<code class="literal">.eli</code> an den Gerätenamen der
	Swap-Partition an:</p><pre class="programlisting"># Device                Mountpoint      FStype  Options         Dump    Pass#
/dev/ad0s1b.eli         none            swap    sw              0       0</pre><p>In der Voreinstellung verschlüsselt <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=geli&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">geli</span>(8)</span></a> den
	Auslagerungsspeicher mit dem <acronym class="acronym">AES</acronym>-Algorithmus
	und einer Schlüssellänge von 128 Bit.</p><p>Es ist möglich, diese Optionen durch das Setzen der
	<code class="literal">geli_swap_flags</code>-Option in
	<code class="filename">/etc/rc.conf</code> anzupassen.  Die folgende
	Zeile weist das rc.d-Skript <code class="filename">encswap</code> an,
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=geli&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">geli</span>(8)</span></a>-Swap-Partitionen mit dem Blowfish-Algorithmus und
	einer Schlüssellänge von 128 Bit zu
	verschlüsseln.  Zusätzlich wird die
	Sektorgröße auf 4 Kilobyte gesetzt und die Option
	<span class="quote">&#8222;<span class="quote">detach on last close</span>&#8220;</span> aktiviert:</p><pre class="programlisting">geli_swap_flags="-e blowfish -l 128 -s 4096 -d"</pre><p>Eine Auflistung möglicher Optionen für den Befehl
	<code class="command">onetime</code> finden Sie in der Manualpage zu
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=geli&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">geli</span>(8)</span></a>.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp82104400"></a>19.17.5. Die korrekte Funktion testen</h3></div></div></div><p>Nachdem Sie Ihr System neu gestartet haben, können Sie
	die korrekte Funktion Ihres verschlüsselten
	Auslagerungsspeichers prüfen, indem Sie sich die Ausgabe
	von <code class="command">swapinfo</code> ansehen.</p><p>Wenn Sie <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=gbde&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">gbde</span>(8)</span></a> einsetzen, erhalten Sie eine
	Meldung ähnlich der folgenden:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>swapinfo</code></strong>
Device          1K-blocks     Used    Avail Capacity
/dev/ad0s1b.bde    542720        0   542720     0%</pre><p>Wenn Sie <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=geli&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">geli</span>(8)</span></a> einsetzen, erhalten Sie hingegen
	eine Ausgabe ähnlich der folgenden:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>swapinfo</code></strong>
Device          1K-blocks     Used    Avail Capacity
/dev/ad0s1b.eli    542720        0   542720     0%</pre></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="disks-encrypting.html">Zurück</a> </td><td width="20%" align="center"><a accesskey="u" href="disks.html">Nach oben</a></td><td width="40%" align="right"> <a accesskey="n" href="disks-hast.html">Weiter</a></td></tr><tr><td width="40%" align="left" valign="top">19.16. Partitionen verschlüsseln </td><td width="20%" align="center"><a accesskey="h" href="index.html">Zum Anfang</a></td><td width="40%" align="right" valign="top"> 19.18. Highly Available Storage (HAST)</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Wenn Sie Fragen zu FreeBSD haben, schicken Sie eine E-Mail an
    &lt;<a href="mailto:de-bsd-questions@de.FreeBSD.org">de-bsd-questions@de.FreeBSD.org</a>&gt;.<br></br>
    Wenn Sie Fragen zu dieser Dokumentation haben, schicken Sie eine E-Mail an
    &lt;<a href="mailto:de-bsd-translators@de.FreeBSD.org">de-bsd-translators@de.FreeBSD.org</a>&gt;.</small></p></body></html>