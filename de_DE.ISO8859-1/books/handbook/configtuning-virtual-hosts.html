<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>12.9. Virtual Hosts</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Das FreeBSD-Handbuch" /><link rel="up" href="config-tuning.html" title="Kapitel 12. Konfiguration und Tuning" /><link rel="prev" href="config-network-setup.html" title="12.8. Einrichten von Netzwerkkarten" /><link rel="next" href="configtuning-syslog.html" title="12.10. Konfiguration des syslogd Servers" /><link rel="copyright" href="legalnotice.html" title="Rechtlicher Hinweis" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">12.9. Virtual Hosts</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="config-network-setup.html">Zurück</a> </td><th width="60%" align="center">Kapitel 12. Konfiguration und Tuning</th><td width="20%" align="right"> <a accesskey="n" href="configtuning-syslog.html">Weiter</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="configtuning-virtual-hosts"></a>12.9. Virtual Hosts</h2></div></div></div><a id="idp76498384" class="indexterm"></a><a id="idp76498896" class="indexterm"></a><p>Ein gebräuchlicher Zweck von FreeBSD ist das
      virtuelle Hosting, bei dem ein Server im Netzwerk wie
      mehrere Server aussieht.  Dies wird dadurch erreicht,
      dass einem Netzwerkinterface mehrere Netzwerk-Adressen
      zugewiesen werden.</p><p>Ein Netzwerkinterface hat eine <span class="quote">&#8222;<span class="quote">echte</span>&#8220;</span>
      Adresse und kann beliebig viele <span class="quote">&#8222;<span class="quote">alias</span>&#8220;</span> Adressen
      haben.  Die Aliase werden durch entsprechende alias Einträge
      in <code class="filename">/etc/rc.conf</code> festgelegt.</p><p>Ein alias Eintrag für das Interface
      <code class="filename">fxp0</code> sieht wie folgt aus:</p><pre class="programlisting">ifconfig_fxp0_alias0="inet xxx.xxx.xxx.xxx netmask xxx.xxx.xxx.xxx"</pre><p>Beachten Sie, dass die Alias-Einträge mit
      <code class="literal">alias0</code> anfangen müssen und
      weiter hochgezählt werden, das heißt
      <code class="literal">_alias1</code>, <code class="literal">_alias2</code>,
      und so weiter.  Die Konfiguration der Aliase hört
      bei der ersten fehlenden Zahl auf.</p><p>Die Berechnung der Alias-Netzwerkmasken ist wichtig, doch
      zum Glück einfach.  Für jedes Interface muss es
      eine Adresse geben, die die Netzwerkmaske des Netzwerkes richtig
      beschreibt.  Alle anderen Adressen in diesem Netzwerk haben dann
      eine Netzwerkmaske, die mit <code class="literal">1</code> gefüllt
      ist
      (also <code class="systemitem">255.255.255.255</code>
      oder hexadezimal
      <code class="systemitem">0xffffffff</code>).</p><p>Als Beispiel betrachten wir den Fall, in dem
      <code class="filename">fxp0</code> mit zwei Netzwerken verbunden
      ist: dem Netzwerk
      <code class="systemitem">10.1.1.0</code> mit der
      Netzwerkmaske
      <code class="systemitem">255.255.255.0</code> und dem
      Netzwerk <code class="systemitem">202.0.75.16</code>
      mit der Netzwerkmaske
      <code class="systemitem">255.255.255.240</code>.  Das
      System soll die Adressen
      <code class="systemitem">10.1.1.1</code> bis
      <code class="systemitem">10.1.1.5</code> und
      <code class="systemitem">202.0.75.17</code> bis
      <code class="systemitem">202.0.75.20</code> belegen.
      Wie eben beschrieben, hat nur die erste Adresse in einem
      Netzwerk (hier
      <code class="systemitem">10.0.1.1</code>
      und <code class="systemitem">202.0.75.17</code>) die
      richtige Netzwerkmaske.  Alle anderen Adressen
      (<code class="systemitem">10.1.1.2</code> bis
      <code class="systemitem">10.1.1.5</code> und
      <code class="systemitem">202.0.75.18</code> bis
      <code class="systemitem">202.0.75.20</code>) erhalten
      die Maske
      <code class="systemitem">255.255.255.255</code>.</p><p>Die folgenden Einträge in
      <code class="filename">/etc/rc.conf</code> konfigurieren den Adapter
      entsprechend dem Beispiel:</p><pre class="programlisting">ifconfig_fxp0="inet 10.1.1.1 netmask 255.255.255.0"
ifconfig_fxp0_alias0="inet 10.1.1.2 netmask 255.255.255.255"
ifconfig_fxp0_alias1="inet 10.1.1.3 netmask 255.255.255.255"
ifconfig_fxp0_alias2="inet 10.1.1.4 netmask 255.255.255.255"
ifconfig_fxp0_alias3="inet 10.1.1.5 netmask 255.255.255.255"
ifconfig_fxp0_alias4="inet 202.0.75.17 netmask 255.255.255.240"
ifconfig_fxp0_alias5="inet 202.0.75.18 netmask 255.255.255.255"
ifconfig_fxp0_alias6="inet 202.0.75.19 netmask 255.255.255.255"
ifconfig_fxp0_alias7="inet 202.0.75.20 netmask 255.255.255.255"</pre></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="config-network-setup.html">Zurück</a> </td><td width="20%" align="center"><a accesskey="u" href="config-tuning.html">Nach oben</a></td><td width="40%" align="right"> <a accesskey="n" href="configtuning-syslog.html">Weiter</a></td></tr><tr><td width="40%" align="left" valign="top">12.8. Einrichten von Netzwerkkarten </td><td width="20%" align="center"><a accesskey="h" href="index.html">Zum Anfang</a></td><td width="40%" align="right" valign="top"> 12.10. Konfiguration des <span class="application">syslogd</span>
	Servers</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Wenn Sie Fragen zu FreeBSD haben, schicken Sie eine E-Mail an
    &lt;<a href="mailto:de-bsd-questions@de.FreeBSD.org">de-bsd-questions@de.FreeBSD.org</a>&gt;.<br></br>
    Wenn Sie Fragen zu dieser Dokumentation haben, schicken Sie eine E-Mail an
    &lt;<a href="mailto:de-bsd-translators@de.FreeBSD.org">de-bsd-translators@de.FreeBSD.org</a>&gt;.</small></p></body></html>