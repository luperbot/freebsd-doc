<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>30.6. Fehlerbehebung</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Das FreeBSD-Handbuch" /><link rel="up" href="mail.html" title="Kapitel 30. Elektronische Post (E-Mail)" /><link rel="prev" href="mail-changingmta.html" title="30.5. Wechseln des Mailübertragungs-Agenten" /><link rel="next" href="mail-advanced.html" title="30.7. Weiterführende Themen" /><link rel="copyright" href="legalnotice.html" title="Rechtlicher Hinweis" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">30.6. Fehlerbehebung</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="mail-changingmta.html">Zurück</a> </td><th width="60%" align="center">Kapitel 30. Elektronische Post (E-Mail)</th><td width="20%" align="right"> <a accesskey="n" href="mail-advanced.html">Weiter</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="mail-trouble"></a>30.6. Fehlerbehebung</h2></div></div></div><p>Hier finden sich ein paar häufig gestellte Fragen und ihre
      Antworten, die von der <a class="link" href="../../../../doc/de_DE.ISO8859-1/books/faq/" target="_top">FAQ</a>
      übernommen wurden.</p><div class="qandaset"><a id="idp88701520"></a><dl><dt>30.6.1. <a href="mail-trouble.html#idp88701776">Warum muss ich einen FQDN (fully-qualified domain name/
	  voll ausgeschriebenen Domänennamen) für meine Rechner
	  verwenden?</a></dt><dt>30.6.2. <a href="mail-trouble.html#idp88712400">Warum meldet Sendmail
	    mail loops back to myself?</a></dt><dt>30.6.3. <a href="mail-trouble.html#idp88728272">Wie kann ich einen E-Mail-Server auf einem
	    Anwahl-PPP Rechner betreiben?</a></dt><dt>30.6.4. <a href="mail-trouble.html#idp88760272">Warum bekomme ich die Fehlermeldung Relaying
	    Denied, wenn ich E-Mails von anderen Rechnern
	    verschicke?</a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%" /><col /></colgroup><tbody><tr class="question"><td align="left" valign="top"><a id="idp88701776"></a><a id="idp88702032"></a><p><strong>30.6.1.</strong></p></td><td align="left" valign="top"><p>Warum muss ich einen FQDN (fully-qualified domain name/
	  voll ausgeschriebenen Domänennamen) für meine Rechner
	  verwenden?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Vielleicht liegen die Rechner in einer unterschiedlichen
	  Domäne; zum Beispiel, wenn Sie sich in
          <code class="systemitem">foo.bar.edu</code> befinden, und einen Rechner
          namens <code class="systemitem">mumble</code> in der
          <code class="systemitem">bar.edu</code> Domäne erreichen
	  wollen, müssen Sie ihn mit dem voll ausgeschriebenen
	  Domänennamen <code class="systemitem">mumble.bar.edu</code>
	  kontaktieren, anstatt bloß mit <code class="systemitem">mumble</code>.</p><p>Traditionell wurde das von dem BSD BIND
          <span class="foreignphrase"><em class="foreignphrase">Resolver</em></span> erlaubt.  Wie auch immer,
          die aktuelle Version von <span class="application">BIND</span>, die mit
          FreeBSD ausgeliefert wird, bietet keine Standardabkürzungen
          für nicht komplett angegebene Domänennamen außerhalb der
          Domäne, in der Sie sich befinden.  Daher muss ein
          nicht-qualifizierter Rechner <code class="systemitem">mumble</code> entweder als
	  <code class="systemitem">mumble.foo.bar.edu</code> gefunden werden,
	  oder er wird in der root Domäne gesucht.</p><p>Damit unterscheidet es sich von vorherigem Verhalten, bei dem
          die Suche über <code class="systemitem">mumble.bar.edu</code>
          und <code class="systemitem">mumble.edu</code> lief.  Schauen Sie
          sich RFC 1535 an, wenn Sie wissen möchten, warum das als
          schlecht und sogar als Sicherheitsloch angesehen wurde.</p><p>Um das zu umgehen, können Sie die Zeile:</p><pre class="programlisting">search foo.bar.edu bar.edu</pre><p>anstatt der vorherigen</p><pre class="programlisting">domain foo.bar.edu</pre><p>in Ihre <code class="filename">/etc/resolv.conf</code> einsetzen.  Aber
          stellen Sie sicher, dass die Suchordnung nicht die Begrenzung von
          <span class="quote">&#8222;<span class="quote">lokaler und öffentlicher Administration</span>&#8220;</span>, wie
          RFC 1535 sie nennt, überschreitet.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp88712400"></a><a id="idp88712656"></a><p><strong>30.6.2.</strong></p></td><td align="left" valign="top"><p>Warum meldet Sendmail
	    <span class="errorname">mail loops back to myself</span>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Dies wird in der Sendmail-FAQ wie folgt beantwortet:</p><div class="literallayout"><p>Ich erhalte folgende Fehlermeldungen:<br />
<br />
	553 MX list for domain.net points back to relay.domain.net<br />
	554 &lt;user@domain.net&gt;... Local configuration error<br />
<br />
	Wie kann ich dieses Problem lösen?<br />
<br />
        Sie haben durch die Benutzung eines MX-Eintrags<a id="idp88714704" class="indexterm"></a> eingestellt, dass<br />
        Mail für die Domäne (z.B. domain.net) an einen speziellen<br />
        Host (in diesem Fall relay.domain.net) weitergeleitet wird,<br />
        aber der Relay-Host erkennt sich selbst nicht als<br />
        domain.net.  Fügen Sie domain.net in /etc/mail/local-host-names<br />
        [die Datei hieß vor der Version 8.10 /etc/sendmail.cw]<br />
        (falls Sie FEATURE(use_cw_file) benutzen) oder "Cw domain.net"<br />
        in /etc/mail/sendmail.cf ein.</p></div><p>Die aktuelle Version der <a class="link" href="ftp://rtfm.mit.edu/pub/usenet/news.answers/mail/sendmail-faq" target="_top">Sendmail-FAQ</a>
            wird nicht mehr mit dem Sendmail-Release verwaltet.  Sie
            wird jedoch regelmäßig nach <a class="link" href="news:comp.mail.sendmail" target="_top">comp.mail.sendmail</a>,
            <a class="link" href="news:comp.mail.misc" target="_top">comp.mail.misc</a>,
            <a class="link" href="news:comp.mail.smail" target="_top">comp.mail.smail</a>,
            <a class="link" href="news:comp.answers" target="_top">comp.answers</a> und
            <a class="link" href="news:news.answers" target="_top">news.answers</a>
            gepostet.  Sie können auch eine Kopie per E-Mail
            bekommen, indem Sie eine Mail mit dem Inhalt <code class="literal">send
            usenet/news.answers/mail/sendmail-faq</code> an
            <code class="literal">mail-server@rtfm.mit.edu</code> schicken.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp88728272"></a><a id="idp88728528"></a><p><strong>30.6.3.</strong></p></td><td align="left" valign="top"><p>Wie kann ich einen E-Mail-Server auf einem
	    Anwahl-PPP<a id="idp88729040" class="indexterm"></a> Rechner betreiben?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Sie wollen einen FreeBSD-Rechner in einem LAN an das
	  Internet anbinden.  Der FreeBSD-Rechner wird ein E-Mail
	  <span class="foreignphrase"><em class="foreignphrase">Gateway</em></span> für das LAN.
          Die PPP-Verbindung ist keine Standleitung.</p><p>Es gibt mindestens zwei Wege um dies zu tun.  Einer davon ist
	  UUCP zu verwenden.</p><p>Ein anderer Weg ist, von einem immer mit dem Internet
	  verbundenen Server einen sekundären MX-Dienst<a id="idp88731728" class="indexterm"></a> für Ihre
	  Domäne zur Verfügung gestellt zu bekommen.  Wenn die
	  Domäne Ihrer Firma
	  <code class="systemitem">example.com</code> ist, und Ihr
	  Internet-Dienstanbieter
	  <code class="systemitem">example.net</code> so eingestellt hat,
	  dass er Ihrer Domäne einen sekundären MX-Dienst zur
	  Verfügung stellt:</p><pre class="programlisting">example.com.            MX        10      bigco.com.
                      MX        20      example.net.</pre><p>Nur ein Rechner sollte als Endempfänger angegeben sein
	  (fügen Sie <code class="literal">Cw example.com</code> zu
	  <code class="filename">/etc/sendmail.cf</code> auf example.com).</p><p>Wenn das <code class="command">sendmail</code> des Versenders versucht,
	  die E-Mail zuzustellen, wird es versuchen, Sie über die
	  Modem-Verbindung (<code class="systemitem">example.com</code>)
	  zu erreichen.  Wahrscheinlich wird es keine Verbindung zustande
	  bringen können, da Sie nicht eingewählt sind.
	  <code class="command">sendmail</code> wird die E-Mail automatisch zu der
	  sekundären MX-Stelle geliefert, zu Ihrem Internet-Provider
	  (<code class="systemitem">example.net</code>).
	  Die sekundäre MX-Stelle wird periodisch versuchen
	  versuchen eine Verbindung zu Ihnen aufzubauen, um die E-Mail zu
	  der primären MX-Stelle
	  (<code class="systemitem">example.com</code> zu liefern.</p><p>Eventuell wollen Sie etwas wie dies als Login-Skript:</p><pre class="programlisting">#!/bin/sh
# Put me in /usr/local/bin/pppmyisp
( sleep 60 ; /usr/sbin/sendmail -q ) &amp;
/usr/sbin/ppp -direct pppmyisp</pre><p>Wenn Sie ein separates Login-Skript für einen Benutzer
	  erstellen wollen, könnten Sie stattdessen
	  <code class="command">sendmail -qRexample.com</code> in dem oben gezeigten
	  Skript verwenden.  Das erzwingt die sofortige Verarbeitung der
	  E-Mails in Ihrer Warteschlange für
	  <code class="systemitem">example.com</code></p><p>Eine weitere Verfeinerung der Situation ist wie folgt:</p><p>Die Nachricht wurde der <a class="link" href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-isp" target="_top">FreeBSD Internet service
  providers</a> entnommen.</p><pre class="programlisting">&gt; wir stellen einem Kunden den sekundären MX zur Verfügung.
&gt; Der Kunde verbindet sich mit unseren Diensten mehrmals am Tag
&gt; automatisch um die E-Mails zu seinem primären MX zu holen
&gt; (wir wählen uns nicht bei ihm ein, wenn E-Mails für seine
&gt; Domäne eintreffen).  Unser sendmail sendet den Inhalt der
&gt; E-Mail-Warteschlange alle 30 Minuten.  Momentan muss er 30 Minuten
&gt; eingewählt bleiben um sicher zu sein, dass alle seine E-Mails
&gt; beim primären MX eingetroffen sind.
&gt;
&gt; Gibt es einen Befehl, der sendmail dazu bringt, alle E-Mails sofort
&gt; zu senden? Der Benutzer hat natürlich keine root-Rechte auf
&gt; unserer Maschine.

In der <span class="quote">&#8222;<span class="quote">privacy flags</span>&#8220;</span> Sektion von sendmail.cf befindet sich die
Definition Opgoaway,restrictqrun

Entferne restrictqrun um nicht-root Benutzern zu erlauben, die Verarbeitung
der Nachrichten-Warteschlangen zu starten.  Möglicherweise willst du
auch die MX neu sortieren.  Wir sind der primäre MX für unsere
Kunden mit diesen Wünschen und haben definiert:

# Wenn wir der beste MX für einen Rechner sind, versuche es direkt
# anstatt einen lokalen Konfigurationsfehler zu generieren.
OwTrue

Auf diesem Weg liefern Gegenstellen direkt zu dir, ohne die Kundenverbindung
zu versuchen.  Dann sendest du zu deinem Kunden.  Das funktioniert nur
für <span class="quote">&#8222;<span class="quote">Rechner</span>&#8220;</span>, du musst also deinen Kunden dazu bringen,
ihre E-Mail Maschine <span class="quote">&#8222;<span class="quote">customer.com</span>&#8220;</span> zu nennen, sowie
<span class="quote">&#8222;<span class="quote">hostname.customer.com</span>&#8220;</span> im DNS.  Setze einfach einen A-Eintrag
in den DNS für <span class="quote">&#8222;<span class="quote">customer.com</span>&#8220;</span>.</pre></td></tr><tr class="question"><td align="left" valign="top"><a id="idp88760272"></a><a id="idp88760528"></a><p><strong>30.6.4.</strong></p></td><td align="left" valign="top"><p>Warum bekomme ich die Fehlermeldung <span class="errorname">Relaying
	    Denied</span>, wenn ich E-Mails von anderen Rechnern
	    verschicke?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>In der standardmäßigen FreeBSD-Installation wird
	    <span class="application">sendmail</span> nur dazu konfiguriert,
	    E-Mails von dem Rechner, auf dem es läuft, zu senden.
	    Wenn zum Beispiel ein <acronym class="acronym">POP</acronym>-Server
	    installiert ist, können Benutzer ihre E-Mails von der
	    Schule, von der Arbeit oder von anderen Orten
	    überprüfen.  Sie werden jedoch keine E-Mails von
	    außen verschicken können.  Typischerweise
	    wird ein paar Sekunden nach dem Versuch eine E-Mail
	    von <span class="application">MAILER-DAEMON</span> mit einer
	    <span class="errorname">5.7 Relaying Denied</span> Fehlermeldung
	    versendet werden.</p><p>Es sind mehrere Wege möglich, dies zu umgehen.  Die
	    geradlinigste Lösung ist die Adresse Ihres
	    Internet-Dienstanbieters in die Datei für die
	    Weiterleitungs-Domänen zu platzieren.  Das lässt sich
	    schnell erreichen mit:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>echo "your.isp.example.com" &gt; /etc/mail/relay-domains</code></strong></pre><p>Nach Erstellen oder Editieren dieser Datei müssen
	    Sie <span class="application">sendmail</span> neu starten.
	    Das funktioniert großartig wenn Sie ein
	    Server-Administrator sind und E-Mails nicht lokal
	    versenden, oder gerne ein Client/System mit grafischer
	    Oberfläche auf einer anderen Maschine oder sogar
	    über einen anderen Internet-Dienstanbieter verwenden
	    wollen.  Es ist auch sehr nützlich, wenn Sie nur ein
	    oder zwei E-Mail Accounts eingerichtet haben.  Soll eine
	    größere Anzahl Adressen hinzugefügt werden,
	    können Sie die Datei einfach in Ihrem favorisierten
	    Editor öffnen und die Domänen anfügen,
	    je eine pro Zeile:</p><pre class="programlisting">your.isp.example.com
other.isp.example.net
users-isp.example.org
www.example.org</pre><p>Jetzt wird jede E-Mail, die durch Ihr System von
	    einem der in diese Liste eingetragenen Rechner geschickt
	    wurde, ihr Ziel erreichen (vorausgesetzt, der Benutzer
	    hat einen Account auf Ihrem System).  Dies ist ein sehr
	    schöner Weg, um Benutzern das entfernte E-Mail Versenden
	    von Ihrem System zu erlauben, ohne dem Massenversand
	    (<acronym class="acronym">SPAM</acronym>) die Tür zu öffnen.</p></td></tr></tbody></table></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="mail-changingmta.html">Zurück</a> </td><td width="20%" align="center"><a accesskey="u" href="mail.html">Nach oben</a></td><td width="40%" align="right"> <a accesskey="n" href="mail-advanced.html">Weiter</a></td></tr><tr><td width="40%" align="left" valign="top">30.5. Wechseln des Mailübertragungs-Agenten </td><td width="20%" align="center"><a accesskey="h" href="index.html">Zum Anfang</a></td><td width="40%" align="right" valign="top"> 30.7. Weiterführende Themen</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Wenn Sie Fragen zu FreeBSD haben, schicken Sie eine E-Mail an
    &lt;<a href="mailto:de-bsd-questions@de.FreeBSD.org">de-bsd-questions@de.FreeBSD.org</a>&gt;.<br></br>
    Wenn Sie Fragen zu dieser Dokumentation haben, schicken Sie eine E-Mail an
    &lt;<a href="mailto:de-bsd-translators@de.FreeBSD.org">de-bsd-translators@de.FreeBSD.org</a>&gt;.</small></p></body></html>