<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>12.15. Hinzufügen von Swap-Bereichen</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Das FreeBSD-Handbuch" /><link rel="up" href="config-tuning.html" title="Kapitel 12. Konfiguration und Tuning" /><link rel="prev" href="configtuning-kernel-limits.html" title="12.14. Einstellungen von Kernel Limits" /><link rel="next" href="acpi-overview.html" title="12.16. Energie- und Ressourcenverwaltung" /><link rel="copyright" href="legalnotice.html" title="Rechtlicher Hinweis" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">12.15. Hinzufügen von Swap-Bereichen</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="configtuning-kernel-limits.html">Zurück</a> </td><th width="60%" align="center">Kapitel 12. Konfiguration und Tuning</th><td width="20%" align="right"> <a accesskey="n" href="acpi-overview.html">Weiter</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="adding-swap-space"></a>12.15. Hinzufügen von Swap-Bereichen</h2></div></div></div><p>Egal wie vorausschauend Sie planen, manchmal entspricht ein
      System einfach nicht Ihren Erwartungen.  Es ist leicht, mehr
      Swap-Bereiche hinzuzufügen.  Dazu stehen Ihnen drei Wege
      offen:  Sie können eine neue Platte einbauen, den Swap-Bereich
      über NFS ansprechen oder eine Swap-Datei auf einer existierenden
      Partition einrichten.</p><p>Für Informationen zur Verschlüsselung von
      Swap-Partitionen, zu den dabei möglichen Optionen sowie
      zu den Gründen für eine Verschlüsselung des
      Auslagerungsspeichers lesen Sie bitte
      <a class="xref" href="swap-encrypting.html" title="19.17. Den Auslagerungsspeicher verschlüsseln">Abschnitt 19.17, &#8222;Den Auslagerungsspeicher verschlüsseln&#8220;</a> des Handbuchs.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="new-drive-swap"></a>12.15.1. Swap auf einer neuen oder existierenden
	Festplatte</h3></div></div></div><p>Das Hinzufügen einer neuen Festplatte für Swap-Bereich
	bietet eine bessere Leistung, als das Hinzufügen
	einer Partition auf einem vorhandenem Laufwerk.  Die
	Einrichtung von Partitionen und Laufwerken wird in
	<a class="xref" href="disks-adding.html" title="19.3. Hinzufügen von Laufwerken">Abschnitt 19.3, &#8222;Hinzufügen von Laufwerken&#8220;</a> beschrieben.
	<a class="xref" href="configtuning-initial.html" title="12.2. Vorbereitende Konfiguration">Abschnitt 12.2, &#8222;Vorbereitende Konfiguration&#8220;</a> diskutiert Aspekte über
	die Anordnung und Größe von Swap-Bereichen.</p><p>Benutzen Sie <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=swapon&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">swapon</span>(8)</span></a> um eine Swap-Partition zum
	System hinzuzufügen.  Zum Beispiel:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>swapon<em class="replaceable"><code>
/dev/ada1s1b</code></em></code></strong></pre><div xmlns="" class="warning"><h3 class="admontitle">Warnung: </h3><p xmlns="http://www.w3.org/1999/xhtml">Sie können jede Partition verwenden, sofern sie nicht
	  schon eingehangen ist.  Das gilt auch dann, wenn die
	  Partition bereits Daten enthält.  Wird <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=swapon&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">swapon</span>(8)</span></a> auf
	  einer Partition ausgeführt die noch Daten enthält, werden
	  die vorhandenen Daten überschrieben und sind unweigerlich
	  verloren.  Stellen Sie sicher, das die Partition, die Sie
	  als Swap-Bereich hinzufügen möchten, wirklich die gewünschte
	  Partition ist, bevor sie <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=swapon&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">swapon</span>(8)</span></a> ausführen.</p></div><p>Um diese Swap-Partition automatisch beim Systemstart
	hinzuzufügen, fügen Sie einen Eintrag für die Partition in
	<code class="filename">/etc/fstab</code> hinzu:</p><pre class="programlisting"><em class="replaceable"><code>/dev/ada1s1b</code></em>	none	swap	sw	0	0</pre><p>Die einzelnen Einträge von <code class="filename">/etc/fstab</code>
	werden in <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=fstab&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">fstab</span>(5)</span></a> erläutert.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="nfs-swap"></a>12.15.2. Swap-Bereiche über NFS</h3></div></div></div><p>Swap-Bereiche über NFS sollten Sie nur dann einsetzen,
	wenn Sie über keine lokale Platte verfügen, da es durch
	die zur Verfügung stehende Bandbreite limitiert wird und
	außerdem den NFS-Server zusätzlich belastet.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="create-swapfile"></a>12.15.3. Swap-Dateien</h3></div></div></div><p>Sie können eine Datei festgelegter Größe als Swap-Bereich
	nutzen.  Im folgenden Beispiel werden wir eine 64 MB
	große Datei mit Namen <code class="filename">/usr/swap0</code>
	benutzen, Sie können natürlich einen beliebigen Namen
	für den Swap-Bereich benutzen.</p><div class="example"><a id="idp76965840"></a><div class="example-title">Beispiel 12.1. Erstellen einer Swap-Datei</div><div class="example-contents"><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Der <code class="filename">GENERIC</code>-Kernel unterstützt
	      bereits RAM-Disks (<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=md&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">md</span>(4)</span></a>), welche für diese Aktion
	      benötigt werden.  Wenn Sie einen eigenen Kernel
	      erstellen, vergewissern Sie sicher, dass die folgende
	      Zeile in ihrer Kernel-Konfigurationsdatei enthalten
	      ist:</p><pre class="programlisting">device   md</pre><p>Informationen, wie man einen eigenen Kernel
	      erstellen kann, erhalten Sie in
	      <a class="xref" href="kernelconfig.html" title="Kapitel 9. Konfiguration des FreeBSD-Kernels">Kapitel 9, <em>Konfiguration des FreeBSD-Kernels</em></a>.</p></li><li class="listitem"><p>Legen Sie die Swap-Datei
	      <code class="filename">/usr/swap0</code> an:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>dd if=/dev/zero of=/usr/swap0 bs=1024k count=64</code></strong></pre></li><li class="listitem"><p>Setzen Sie die richtigen Berechtigungen für
	      <code class="filename">/usr/swap0</code>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>chmod 0600 /usr/swap0</code></strong></pre></li><li class="listitem"><p>Aktivieren Sie die Swap-Datei
	      <code class="filename">/etc/rc.conf</code>:</p><pre class="programlisting">swapfile="/usr/swap0"   # Set to name of swapfile if aux swapfile desired.</pre></li><li class="listitem"><p>Um die Swap-Datei zu aktivieren, führen Sie entweder
	      einen Neustart durch oder geben das folgende Kommando
	      ein:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mdconfig -a -t vnode -f /usr/swap0 -u 0 &amp;&amp; swapon /dev/md0</code></strong></pre></li></ol></div></div></div><br class="example-break" /></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="configtuning-kernel-limits.html">Zurück</a> </td><td width="20%" align="center"><a accesskey="u" href="config-tuning.html">Nach oben</a></td><td width="40%" align="right"> <a accesskey="n" href="acpi-overview.html">Weiter</a></td></tr><tr><td width="40%" align="left" valign="top">12.14. Einstellungen von Kernel Limits </td><td width="20%" align="center"><a accesskey="h" href="index.html">Zum Anfang</a></td><td width="40%" align="right" valign="top"> 12.16. Energie- und Ressourcenverwaltung</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Wenn Sie Fragen zu FreeBSD haben, schicken Sie eine E-Mail an
    &lt;<a href="mailto:de-bsd-questions@de.FreeBSD.org">de-bsd-questions@de.FreeBSD.org</a>&gt;.<br></br>
    Wenn Sie Fragen zu dieser Dokumentation haben, schicken Sie eine E-Mail an
    &lt;<a href="mailto:de-bsd-translators@de.FreeBSD.org">de-bsd-translators@de.FreeBSD.org</a>&gt;.</small></p></body></html>