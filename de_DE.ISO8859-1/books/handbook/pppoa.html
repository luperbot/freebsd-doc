<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>29.6. PPP over ATM (PPPoA)</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Das FreeBSD-Handbuch" /><link rel="up" href="ppp-and-slip.html" title="Kapitel 29. PPP und SLIP" /><link rel="prev" href="pppoe.html" title="29.5. PPP over Ethernet (PPPoE)" /><link rel="next" href="slip.html" title="29.7. SLIP" /><link rel="copyright" href="legalnotice.html" title="Rechtlicher Hinweis" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">29.6. <span class="application">PPP</span> over ATM (PPPoA)</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="pppoe.html">Zurück</a> </td><th width="60%" align="center">Kapitel 29. PPP und SLIP</th><td width="20%" align="right"> <a accesskey="n" href="slip.html">Weiter</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="pppoa"></a>29.6. <span class="application">PPP</span> over ATM (PPPoA)</h2></div></div></div><a id="idp88107216" class="indexterm"></a><a id="idp88108368" class="indexterm"></a><p>Nachfolgend wird beschrieben, wie PPP over ATM (PPPoA)
      eingerichtet wird.  PPPoA ist vor allem unter europäischen
      DSL-Providern populär.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88109904"></a>29.6.1. Der Einsatz von PPPoA mit dem Alcatel <span class="trademark">SpeedTouch</span>&#8482; USB</h3></div></div></div><p>PPPoA-Unterstützung für dieses Gerät ist
	unter FreeBSD als Port verfügbar, da die Firmware unter <a class="link" href="http://www.speedtouchdsl.com/disclaimer_lx.htm" target="_top">Alcatels
	  Lizenzvereinbarung</a> vertrieben wird und deshalb nicht
	mit dem FreeBSD-Basissystem frei verteilt werden kann.</p><p>Um die Software zu installieren, verwenden Sie einfach die <a class="link" href="ports.html" title="Kapitel 5. Installieren von Anwendungen: Pakete und Ports">Ports-Sammlung</a>.  Installieren Sie den Port
	<a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/net/pppoa/pkg-descr">net/pppoa</a> und folgen Sie den dabei
	angegebenen Instruktionen.</p><p>Für den ordnungsgemäßen Betrieb muss
	das Alcatel <span class="trademark">SpeedTouch</span>&#8482; USB, wie viele USB-Geräte,
	Firmware auf den Gastrechner laden.  FreeBSD kann die
	Firmware automatisch laden, wenn das Gerät mit
	dem USB-Anschluss verbunden wird.  Dazu fügen Sie
	als Benutzer <code class="systemitem">root</code> die nachstehenden
	Zeilen in <code class="filename">/etc/usbd.conf</code> ein:</p><pre class="programlisting">device "Alcatel SpeedTouch USB"
    devname "ugen[0-9]+"
    vendor 0x06b9
    product 0x4061
    attach "/usr/local/sbin/modem_run -f /usr/local/libdata/mgmt.o"</pre><p>Den USB-Dæmon aktivieren Sie mit der folgenden
       Zeile in <code class="filename">/etc/rc.conf</code>:</p><pre class="programlisting">usbd_enable="YES"</pre><p>Wenn die Verbindung beim Start von
       <span class="application">ppp</span> aufgebaut werden soll,
       fügen Sie die nachstehenden Zeilen als Benutzer
       <code class="systemitem">root</code> in <code class="filename">/etc/rc.conf</code>
       ein:</p><pre class="programlisting">ppp_enable="YES"
ppp_mode="ddial"
ppp_profile="adsl"</pre><p>Verwenden Sie bitte diese Einstellungen zusammen mit
       der Beispielkonfiguration in <code class="filename">ppp.conf</code>
       des Ports <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/net/pppoa/pkg-descr">net/pppoa</a>.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88123856"></a>29.6.2. Die Verwendung von mpd</h3></div></div></div><p>Sie können <span class="application">mpd</span> verwenden,
	um zu einer Reihe von Diensten, insbesondere PPTP-Diensten eine
	Verbindung herzustellen.  Sie finden
        <span class="application">mpd</span> in der Ports-Sammlung unter
        <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/net/mpd/pkg-descr">net/mpd</a>.  Viele ADSL Modems,
	wie das Alcatel <span class="trademark">SpeedTouch</span>&#8482; Home, sind auf einen PPTP-Tunnel
	zwischen dem Modem und dem Rechner angewiesen.</p><p>Zuerst müssen Sie den Port installieren, um danach
        <span class="application">mpd</span> entsprechend Ihren Anforderungen
        und den Vorgaben Ihres Providers konfigurieren zu können.  Der
	Port installiert auch einige
	gut dokumentierte Beispielkonfigurationsdateien in <code class="filename">PREFIX/etc/mpd/</code>.
	Beachten Sie, dass <em class="replaceable"><code>PREFIX</code></em> hier das Verzeichnis
	angibt, in das Ihre Ports installiert werden.  Standardmäßig
	ist dies das Verzeichnis <code class="filename">/usr/local/</code>.
	Ein kompletter Leitfaden zur Konfiguration von
        <span class="application">mpd</span> ist im HTML-Format verfügbar,
	sobald der Port installiert ist.  Dieser ist in <code class="filename">PREFIX/share/doc/mpd/</code>
	zu finden.  Hier ist eine Beispielkonfiguration, um mit
        <span class="application">mpd</span> eine Verbindung zu einem
	ADSL-Dienst aufzubauen.  Die Konfiguration ist auf zwei Dateien
	verteilt.  Zunächst die Datei
	<code class="filename">mpd.conf</code>:</p><div xmlns="" class="note"><h3 class="admontitle">Anmerkung: </h3><p xmlns="http://www.w3.org/1999/xhtml">Dieses Beispiel für <code class="filename">mpd.conf</code>
	funktioniert nur mit <span class="application">mpd</span>
	4.x.</p></div><pre class="programlisting">default:
    load adsl

adsl:
    new -i ng0 adsl adsl
    set bundle authname <em class="replaceable"><code>username</code></em> <a id="co-mpd-ex-user"></a><span><img src="./imagelib/callouts/1.png" alt="1" border="0" /></span>
    set bundle password <em class="replaceable"><code>password</code></em> <a id="co-mpd-ex-pass"></a><span><img src="./imagelib/callouts/2.png" alt="2" border="0" /></span>
    set bundle disable multilink

    set link no pap acfcomp protocomp
    set link disable chap
    set link accept chap
    set link keep-alive 30 10

    set ipcp no vjcomp
    set ipcp ranges 0.0.0.0/0 0.0.0.0/0

    set iface route default
    set iface disable on-demand
    set iface enable proxy-arp
    set iface idle 0

    open</pre><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#co-mpd-ex-user"><span><img src="./imagelib/callouts/1.png" alt="1" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Der Benutzername, den Sie zur Authentifizierung bei
	  Ihrem ISP verwenden.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-mpd-ex-pass"><span><img src="./imagelib/callouts/2.png" alt="2" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Das Passwort, das Sie zur Authentifizierung bei
	  Ihrem ISP verwenden.</p></td></tr></table></div><p>Die Datei <code class="filename">mpd.links</code> enthält
      Informationen über die Verbindung(en), die Sie aufbauen
      möchten.  Eine Beispieldatei <code class="filename">mpd.links</code>,
      die das vorige Beispiel ergänzt, wird unten
      angegeben:</p><pre class="programlisting">adsl:
    set link type pptp
    set pptp mode active
    set pptp enable originate outcall
    set pptp self <em class="replaceable"><code>10.0.0.1</code></em> <a id="co-mpd-ex-self"></a><span><img src="./imagelib/callouts/1.png" alt="1" border="0" /></span>
    set pptp peer <em class="replaceable"><code>10.0.0.138</code></em> <a id="co-mpd-ex-peer"></a><span><img src="./imagelib/callouts/2.png" alt="2" border="0" /></span></pre><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#co-mpd-ex-self"><span><img src="./imagelib/callouts/1.png" alt="1" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Die IP-Adresse des FreeBSD-Rechners von dem aus Sie
	  <span class="application">mpd</span> verwenden.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-mpd-ex-peer"><span><img src="./imagelib/callouts/2.png" alt="2" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Die IP-Adresse des ADSL-Modems.
	  Das Alcatel <span class="trademark">SpeedTouch</span>&#8482; Home hat die Adresse
	  <code class="systemitem">10.0.0.138</code> voreingestellt.</p></td></tr></table></div><p>Ein Verbindungsaufbau kann einfach durch Eingabe des folgenden
      Befehls als <code class="systemitem">root</code> gestartet werden:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mpd -b adsl</code></strong></pre><p>Sie können sich den Status der Verbindung durch folgenden Befehl
      anzeigen lassen:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>ifconfig ng0</code></strong>
ng0: flags=88d1&lt;UP,POINTOPOINT,RUNNING,NOARP,SIMPLEX,MULTICAST&gt; mtu 1500
     inet 216.136.204.117 --&gt; 204.152.186.171 netmask 0xffffffff</pre><p>Die Verwendung von <span class="application">mpd</span> ist der
      empfehlenswerteste Weg, um mit FreeBSD eine Verbindung zu
      einem ADSL-Dienst aufzubauen.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88150736"></a>29.6.3. Die Verwendung von pptpclient</h3></div></div></div><p>Es ist außerdem möglich, mit FreeBSD eine
	Verbindung zu anderen PPPoA-Diensten aufzubauen.  Dazu wird
	<a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/net/pptpclient/pkg-descr">net/pptpclient</a> verwendet.</p><p>Um mit <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/net/pptpclient/pkg-descr">net/pptpclient</a> eine
	eine Verbindung zu einem DSL-Dienst aufbauen zu können,
	müssen Sie den entsprechenden Port bzw. das Paket installieren
	und die Datei <code class="filename">/etc/ppp/ppp.conf</code> bearbeiten.
	Sie müssen <code class="systemitem">root</code> sein, um diese Schritte
	durchführen zu können.  Eine Beispieldatei für
	<code class="filename">ppp.conf</code> ist weiter unten angegeben.
        Weitere Informationen zu den Optionen von <code class="filename">ppp.conf</code>
	bietet die Manual-Seite <span class="application">ppp</span>
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a>:</p><pre class="programlisting">adsl:
 set log phase chat lcp ipcp ccp tun command
 set timeout 0
 enable dns
 set authname <em class="replaceable"><code>username</code></em> <a id="co-pptp-ex-user"></a><span><img src="./imagelib/callouts/1.png" alt="1" border="0" /></span>
 set authkey <em class="replaceable"><code>password</code></em> <a id="co-pptp-ex-pass"></a><span><img src="./imagelib/callouts/2.png" alt="2" border="0" /></span>
 set ifaddr 0 0
 add default HISADDR</pre><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#co-pptp-ex-user"><span><img src="./imagelib/callouts/1.png" alt="1" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Der Benutzername für den Zugang zu den Diensten
	 Ihres ISP.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-pptp-ex-pass"><span><img src="./imagelib/callouts/2.png" alt="2" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Das Passwort für Ihren Account.</p></td></tr></table></div><div xmlns="" class="warning"><h3 class="admontitle">Warnung: </h3><p xmlns="http://www.w3.org/1999/xhtml">Weil Sie Ihr Passwort in der Datei
       <code class="filename">ppp.conf</code> in Klartext angeben müssen,
       sollten Sie sicherstellen, dass niemand den Inhalt dieser Datei
       lesen kann.  Die folgende Reihe von Befehlen stellt sicher,
       dass die Datei nur von <code class="systemitem">root</code> lesbar ist.
       Zusätzliche Informationen bieten die Manual-Seiten
       <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chmod&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">chmod</span>(1)</span></a> und <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chown&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">chown</span>(8)</span></a>:</p><pre xmlns="http://www.w3.org/1999/xhtml" class="screen"><code class="prompt">#</code> <strong class="userinput"><code>chown root:wheel /etc/ppp/ppp.conf</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>chmod 600 /etc/ppp/ppp.conf</code></strong></pre></div><p>Dies wird einen Tunnel für eine PPP-Session zu Ihrem
      DSL-Router öffnen.  Ethernet-DSL-Modems haben eine
      vorkonfigurierte LAN-IP-Adresse, mit der Sie eine Verbindung
      aufbauen.  Im Falle des Alcatel <span class="trademark">SpeedTouch</span>&#8482; Home handelt es sich
      dabei um die Adresse <code class="systemitem">10.0.0.138</code>.
      In der Dokumentation Ihres Routers sollte angegeben sein, welche
      Adresse Ihr Gerät verwendet.  Um den Tunnel zu öffnen
      und eine PPP-Session zu starten, führen
      Sie bitte folgenden Befehl aus:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>pptp address adsl</code></strong></pre><div xmlns="" class="tip"><h3 class="admontitle">Tipp: </h3><p xmlns="http://www.w3.org/1999/xhtml">Vielleicht möchten Sie ein kaufmännisches Und
	(<span class="quote">&#8222;<span class="quote">&amp;</span>&#8220;</span>) an das Ende oben angegebenen Kommandos
	anfügen, da <span class="application">pptp</span> sonst den
	Prompt nicht zurückgibt.</p></div><p>Ein virtuelles Tunnel-Device <code class="filename">tun</code>
      wird für das Zusammenspiel der Prozesse
      <span class="application">pptp</span> und <span class="application">ppp</span>
      geschaffen.  Wenn Sie den Prompt zurückerhalten haben
      oder der <span class="application">pptp</span>-Prozess das Vorliegen
      einer Verbindung bestätigt, können Sie den Tunnel
      folgendermaßen überprüfen:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>ifconfig tun0</code></strong>
tun0: flags=8051&lt;UP,POINTOPOINT,RUNNING,MULTICAST&gt; mtu 1500
        inet 216.136.204.21 --&gt; 204.152.186.171 netmask 0xffffff00
        Opened by PID 918</pre><p>Wenn Sie nicht in der Lage sein sollten, eine Verbindung
        aufzubauen, überprüfen Sie die Konfiguration Ihres Routers,
        den Sie normalerweise per <span class="application">telnet</span>
        oder mit einem Web-Browser erreichen können.  Falls
        dennoch keine Verbindung zustande kommt, sollten Sie die
        Ausgabe des Befehls <code class="command">pptp</code> und die
        Logdatei <code class="filename">/var/log/ppp.log</code> von
        <span class="application">ppp</span> nach Hinweisen auf die Ursache
        durchsuchen.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="pppoe.html">Zurück</a> </td><td width="20%" align="center"><a accesskey="u" href="ppp-and-slip.html">Nach oben</a></td><td width="40%" align="right"> <a accesskey="n" href="slip.html">Weiter</a></td></tr><tr><td width="40%" align="left" valign="top">29.5. PPP over Ethernet (PPPoE) </td><td width="20%" align="center"><a accesskey="h" href="index.html">Zum Anfang</a></td><td width="40%" align="right" valign="top"> 29.7. SLIP</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Wenn Sie Fragen zu FreeBSD haben, schicken Sie eine E-Mail an
    &lt;<a href="mailto:de-bsd-questions@de.FreeBSD.org">de-bsd-questions@de.FreeBSD.org</a>&gt;.<br></br>
    Wenn Sie Fragen zu dieser Dokumentation haben, schicken Sie eine E-Mail an
    &lt;<a href="mailto:de-bsd-translators@de.FreeBSD.org">de-bsd-translators@de.FreeBSD.org</a>&gt;.</small></p></body></html>