<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>4.5. Festplatten, Slices und Partitionen</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Das FreeBSD-Handbuch" /><link rel="up" href="basics.html" title="Kapitel 4. Grundlagen des UNIX Betriebssystems" /><link rel="prev" href="dirstructure.html" title="4.4. Verzeichnis-Strukturen" /><link rel="next" href="mount-unmount.html" title="4.6. Anhängen und Abhängen von Dateisystemen" /><link rel="copyright" href="legalnotice.html" title="Rechtlicher Hinweis" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">4.5. Festplatten, Slices und Partitionen</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="dirstructure.html">Zurück</a> </td><th width="60%" align="center">Kapitel 4. Grundlagen des UNIX Betriebssystems</th><td width="20%" align="right"> <a accesskey="n" href="mount-unmount.html">Weiter</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="disk-organization"></a>4.5. Festplatten, Slices und Partitionen</h2></div></div></div><p>FreeBSD identifiziert Dateien anhand eines Dateinamens.
	In Dateinamen wird zwischen Groß- und Kleinschreibung
	unterschieden:  <code class="filename">readme.txt</code> und
	<code class="filename">README.TXT</code> bezeichnen daher zwei
	verschiedene Dateien.  FreeBSD benutzt keine Dateiendungen wie
	<code class="filename">.txt</code>, um den Typ der Datei
	(ein Programm, ein Dokument oder andere Daten) zu
	bestimmen.</p><p>Dateien werden in Verzeichnissen gespeichert.  In einem
	Verzeichnis können sich keine oder hunderte Dateien
	befinden.  Ein Verzeichnis kann auch andere Verzeichnisse
	enthalten und so eine Hierarchie von Verzeichnissen aufbauen,
	die Ihnen die Ablage von Daten erleichtert.</p><p>In Dateinamen werden Verzeichnisse durch einen
	Schrägstrich (<code class="literal">/</code>,
	<span class="foreignphrase"><em class="foreignphrase">Slash</em></span>) getrennt.  Wenn
	das Verzeichnis <code class="filename">foo</code>
	ein Verzeichnis <code class="filename">bar</code>
	enthält, in dem sich die Datei <code class="filename">readme.txt</code>
	befindet, lautet der vollständige Name der Datei
	(oder der <em class="firstterm">Pfad</em> zur Datei)
	<code class="filename">foo/bar/readme.txt</code>.</p><p>Verzeichnisse und Dateien werden in einem Dateisystem
	gespeichert.  Jedes Dateisystem besitzt ein
	<em class="firstterm">Wurzelverzeichnis</em>
	(<span class="foreignphrase"><em class="foreignphrase">Root-Directory</em></span>),
	das weitere Verzeichnisse enthalten kann.</p><p>Dieses Konzept kennen Sie vielleicht von anderen
	Betriebssystemen, aber es gibt einige Unterschiede:
	In <span class="trademark">MS-DOS</span>® werden Datei- und Verzeichnisnamen mit dem
	Zeichen <code class="literal">\</code> getrennt, <span class="trademark">Mac OS</span>® benutzt
	dazu das Zeichen <code class="literal">:</code>.</p><p>FreeBSD kennt keine Laufwerksbuchstaben und in Pfaden
	werden keine Bezeichnungen für Laufwerke benutzt.
	Die Pfadangabe <code class="filename">c:/foo/bar/readme.txt</code>
	gibt es in FreeBSD nicht.</p><p>Stattdessen wird ein Dateisystem als Wurzeldateisystem
	(<span class="foreignphrase"><em class="foreignphrase">root file system</em></span>)
	ausgewählt.  Das Wurzelverzeichnis dieses Dateisystems
	wird <code class="filename">/</code> genannt.
	Jedes andere Dateisystem wird unter dem Wurzeldateisystem
	<em class="firstterm">eingehangen</em>
	(<span class="foreignphrase"><em class="foreignphrase">mount</em></span>).  Daher scheint
	jedes Verzeichnis, unabhängig von der Anzahl der
	Platten, auf derselben Platte zu liegen.</p><p>Betrachten wir drei Dateisysteme <code class="literal">A</code>,
	<code class="literal">B</code> und <code class="literal">C</code>.  Jedes
	Dateisystem besitzt ein eigenes Wurzelverzeichnis, das
	zwei andere Verzeichnisse enthält:
	<code class="filename">A1</code>,
	<code class="filename">A2</code>,
	<code class="filename">B1</code>,
	<code class="filename">B2</code>,
	<code class="filename">C1</code> und
	<code class="filename">C2</code>.</p><p>Das Wurzeldateisystem soll <code class="literal">A</code> sein.
	Das Kommando <code class="command">ls</code> zeigt darin
	die beiden Verzeichnisse <code class="filename">A1</code>
	und <code class="filename">A2</code> an.
	Der Verzeichnisbaum sieht wie folgt aus:</p><div class="mediaobject"><img src="install/example-dir1.png" /></div><p>Ein Dateisystem wird in einem Verzeichnis eines anderen
	Dateisystems eingehangen.  Wir hängen nun das Dateisystem
	<code class="literal">B</code> in das Verzeichnis
	<code class="filename">A1</code> ein.  Das
	Wurzelverzeichnis von <code class="literal">B</code> ersetzt nun
	das Verzeichnis <code class="filename">A1</code> und
	die Verzeichnisse des Dateisystems <code class="literal">B</code>
	werden sichtbar:</p><div class="mediaobject"><img src="install/example-dir2.png" /></div><p>Jede Datei in den Verzeichnissen
	<code class="filename">B1</code> oder
	<code class="filename">B2</code> kann
	über den Pfad <code class="filename">/A1/B1</code>
	oder <code class="filename">/A1/B2</code>
	erreicht werden.  Dateien aus dem Verzeichnis
	<code class="filename">/A1</code> sind jetzt
	verborgen.  Wenn das Dateisystem <code class="literal">B</code>
	wieder <em class="firstterm">abgehangen</em> wird
	(<span class="foreignphrase"><em class="foreignphrase">umount</em></span>), erscheinen
	die verborgenen Dateien wieder.</p><p>Wenn das Dateisystem <code class="literal">B</code> unter dem
	Verzeichnis <code class="filename">A2</code>
	eingehangen würde, sähe der Verzeichnisbaum
	so aus:</p><div class="mediaobject"><img src="install/example-dir3.png" /></div><p>Die Dateien des Dateisystems <code class="literal">B</code> wären
	unter den Pfaden <code class="filename">/A2/B1</code> und
	<code class="filename">/A2/B2</code> erreichbar.</p><p>Dateisysteme können übereinander eingehangen
	werden.  Der folgende Baum entsteht, wenn im letzten
	Beispiel das Dateisystem <code class="literal">C</code> in das Verzeichnis
	<code class="filename">B1</code> des Dateisystems
	<code class="literal">B</code> eingehangen wird:</p><div class="mediaobject"><img src="install/example-dir4.png" /></div><p><code class="literal">C</code> könnte auch im Verzeichnis
	<code class="filename">A1</code> eingehangen
	werden:</p><div class="mediaobject"><img src="install/example-dir5.png" /></div><p>Der <span class="trademark">MS-DOS</span>®-Befehl <code class="command">join</code> kann Ähnliches
	bewirken.</p><p>Normalerweise müssen Sie sich nicht mit Dateisystemen
	beschäftigen.  Während der Installation werden
	die Dateisysteme und die Stellen, in der sie eingehangen werden,
	festgelegt.  Dateisysteme müssen Sie erst wieder anlegen,
	wenn Sie eine neue Platte hinzufügen.</p><p>Sie können sogar mit nur einem großen
	Dateisystem auskommen.  Dies hat mehrere Nachteile
	und einen Vorteil.</p><div class="itemizedlist"><div class="itemizedlist-title">Vorteile mehrerer Dateisysteme</div><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Die Dateisysteme können mit unterschiedlichen
	    Optionen (<span class="foreignphrase"><em class="foreignphrase">mount options</em></span>)
	    eingehangen werden.  Bei sorgfältiger Planung können
	    Sie beispielsweise das Wurzeldateisystem nur lesbar
	    einhängen.  Damit schützen Sie sich vor dem
	    unabsichtlichen Löschen oder Editieren kritischer
	    Dateien.  Von Benutzern beschreibbare Dateisysteme
	    wie <code class="filename">/home</code>
	    können Sie mit der Option <em class="firstterm">nosuid</em>
	    einhängen, wenn sie von anderen Dateisystemen getrennt
	    sind.  Die <em class="firstterm">SUID</em>- und
	    <em class="firstterm">GUID</em>-Bits verlieren auf solchen
	    Dateisystemen ihre Wirkung und die Sicherheit des
	    Systems kann dadurch erhöht werden.</p></li><li class="listitem"><p>Die Lage von Dateien im Dateisystem wird, abhängig
	    vom Gebrauch des Dateisystems, automatisch von FreeBSD
	    optimiert.  Ein Dateisystem mit vielen kleinen Dateien,
	    die häufig geschrieben werden, wird anders behandelt
	    als ein Dateisystem mit wenigen großen Dateien.
	    Mit nur einem Dateisystem ist diese Optimierung
	    unmöglich.</p></li><li class="listitem"><p>In der Regel übersteht ein FreeBSD-Dateisystem auch
	    einen Stromausfall.  Allerdings kann ein Stromausfall zu
	    einem kritischen Zeitpunkt das Dateisystem beschädigen.
	    Wenn die Daten über mehrere Dateisysteme verteilt
	    sind, lässt sich das System mit hoher
	    Wahrscheinlichkeit noch starten.  Dies erleichtert
	    das Zurückspielen von Datensicherungen.</p></li></ul></div><div class="itemizedlist"><div class="itemizedlist-title">Vorteil eines einzelnen Dateisystems</div><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Die Größe von Dateisystemen liegt fest.
	    Es kann passieren, dass Sie eine Partition
	    vergrößern müssen.  Dies ist nicht leicht:
	    Sie müssen die Daten sichern, das Dateisystem
	    vergrößert anlegen und die gesicherten
	    Daten zurückspielen.</p><div xmlns="" class="important"><h3 class="admontitle">Wichtig: </h3><p xmlns="http://www.w3.org/1999/xhtml">FreeBSD kennt den Befehl <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=growfs&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">growfs</span>(8)</span></a>, mit dem man
	      Dateisysteme im laufenden Betrieb
	      vergrößern kann.</p></div></li></ul></div><p>Dateisysteme befinden sich in Partitionen (damit sind
	nicht die normalen <span class="trademark">MS-DOS</span>®-Partitionen gemeint).  Jede Partition
	wird mit einem Buchstaben von <code class="literal">a</code> bis
	<code class="literal">h</code> bezeichnet und kann nur ein Dateisystem
	enthalten.  Dateisysteme können daher über ihren
	Mount-Point, den Punkt an dem sie eingehangen sind, oder
	den Buchstaben der Partition, in der sie liegen, identifiziert
	werden.</p><p>FreeBSD benutzt einen Teil der Platte für den
	<em class="firstterm">Swap-Bereich</em>, der dem Rechner
	<em class="firstterm">virtuellen Speicher</em> zur Verfügung
	stellt.  Dadurch kann der Rechner Anwendungen mehr Speicher
	zur Verfügung stellen als tatsächlich eingebaut
	ist.  Wenn der Speicher knapp wird, kann FreeBSD nicht benutzte
	Daten in den Swap-Bereich auslagern.  Die ausgelagerten
	Daten können später wieder in den Speicher
	geholt werden (dafür werden dann andere Daten
	ausgelagert).</p><p>Für einige Partitionen gelten besondere
        Konventionen:</p><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Partition</th><th>Konvention</th></tr></thead><tbody valign="top"><tr><td valign="top"><code class="literal">a</code></td><td valign="top">Enthält normalerweise
		das Wurzeldateisystem</td></tr><tr><td valign="top"><code class="literal">b</code></td><td valign="top">Enthält normalerweise
		den Swap-Bereich</td></tr><tr><td valign="top"><code class="literal">c</code></td><td valign="top">Ist normalerweise genauso groß wie
		die Slice in der die Partition liegt.  Werkzeuge,
		die auf der kompletten Slice arbeiten, wie ein
		Bad-Block-Scanner, können so die
		<code class="literal">c</code>-Partition benutzen.
		Für gewöhnlich legen Sie in dieser
		Partition kein Dateisystem an.</td></tr><tr><td valign="top"><code class="literal">d</code></td><td valign="top">Früher hatte die <code class="literal">d</code>-Partition
		eine besondere Bedeutung.  Heute ist dies nicht mehr der
		Fall und die Partition <code class="literal">d</code> kann wie
		jede andere Partition auch verwendet werden.</td></tr></tbody></table></div><p>Jede Partition, die ein Dateisystem enthält,
	wird in einer <em class="firstterm">Slice</em> angelegt.
	Slice ist der Begriff, den FreeBSD für <span class="trademark">MS-DOS</span>®-Partitionen
	verwendet.  Slices werden von eins bis vier durchnummeriert.</p><a id="idp70339024" class="indexterm"></a><a id="idp70339536" class="indexterm"></a><a id="idp70340048" class="indexterm"></a><p>Die Slice-Nummern werden mit vorgestelltem
	<code class="literal">s</code> hinter den Gerätenamen gestellt:
	<span class="quote">&#8222;<span class="quote">da0<span class="emphasis"><em>s1</em></span></span>&#8220;</span>
	ist die erste Slice auf dem ersten SCSI-Laufwerk.  Auf einer
	Festplatte gibt es höchstens vier Slices.  In einer
	Slice des passenden Typs kann es weitere logische Slices
	geben.  Diese erweiterten Slices werden ab fünf durchnummeriert:
	<span class="quote">&#8222;<span class="quote">ad0<span class="emphasis"><em>s5</em></span></span>&#8220;</span> ist
	die erste erweiterte Slice auf einer IDE-Platte.  Diese
	Geräte werden von Dateisystemen benutzt, die sich in
	einer kompletten Slice befinden müssen.</p><p>Slices, <span class="quote">&#8222;<span class="quote">dangerously dedicated</span>&#8220;</span>-Festplatten
	und andere Platten enthalten Partitionen, die mit Buchstaben
	von <code class="literal">a</code> bis <code class="literal">h</code> bezeichnet
	werden.  Der Buchstabe wird an den Gerätenamen
	gehangen: <span class="quote">&#8222;<span class="quote">da0<span class="emphasis"><em>a</em></span></span>&#8220;</span>
	ist die <code class="literal">a</code>-Partition des ersten
	<code class="literal">da</code>-Laufwerks.  Dieses Laufwerk ist
	<span class="quote">&#8222;<span class="quote">dangerously dedicated</span>&#8220;</span>.
	<span class="quote">&#8222;<span class="quote">ad1s3<span class="emphasis"><em>e</em></span></span>&#8220;</span> ist
	die fünfte Partition in der dritten Slice der zweiten
	IDE-Platte.</p><p>Schließlich wird noch jede Festplatte des Systems
	eindeutig bezeichnet.  Der Name einer Festplatte beginnt mit
	einem Code, der den Typ der Platte bezeichnet.  Es folgt eine
	Nummer, die angibt, um welche Festplatte es sich handelt.
	Anders als bei Slices werden Festplatten von Null beginnend
	durchnummeriert.  Gängige Festplatten-Namen sind in
	<a class="xref" href="disk-organization.html#basics-dev-codes" title="Tabelle 4.1. Laufwerk-Codes">Tabelle 4.1, &#8222;Laufwerk-Codes&#8220;</a> zusammengestellt.</p><p>Wenn Sie eine Partition angeben, erwartet FreeBSD, dass Sie
        auch die Slice und die Platte angeben, in denen sich die
	Partition befindet.  Wenn Sie eine Slice angeben, müssen
	Sie auch die Platte der Slice angeben.  Setzen Sie den Namen
	aus dem Plattennamen gefolgt von einem <code class="literal">s</code>,
	der Slice-Nummer und dem Buchstaben der Partition zusammen.
	Einige Beispiele finden Sie in
	<a class="xref" href="disk-organization.html#basics-disk-slice-part" title="Beispiel 4.1. Namen von Platten, Slices und Partitionen">Beispiel 4.1, &#8222;Namen von Platten, Slices und Partitionen&#8220;</a>.</p><p>Der Aufbau einer Festplatte wird in
	<a class="xref" href="disk-organization.html#basics-concept-disk-model" title="Beispiel 4.2. Aufteilung einer Festplatte">Beispiel 4.2, &#8222;Aufteilung einer Festplatte&#8220;</a> dargestellt.</p><p>Um FreeBSD zu installieren, müssen Sie zuerst Slices
	auf den Festplatten anlegen.  Innerhalb der Slices, die Sie
	für FreeBSD verwenden wollen, müssen Sie dann
	Partitionen anlegen.  In den Partitionen wiederum werden
	die Dateisysteme (oder der Auslagerungsbereich) angelegt.
	Für Dateisysteme müssen Sie schließlich
	noch festlegen, wo diese eingehangen werden (Mount-Point).</p><div class="table"><a id="basics-dev-codes"></a><div class="table-title">Tabelle 4.1. Laufwerk-Codes</div><div class="table-contents"><table summary="Laufwerk-Codes" width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Code</th><th>Bedeutung</th></tr></thead><tbody><tr><td><code class="filename">ad</code></td><td>ATAPI (IDE) Festplatte</td></tr><tr><td><code class="filename">da</code></td><td>SCSI-Festplatte</td></tr><tr><td><code class="filename">acd</code></td><td>ATAPI (IDE) CD-ROM</td></tr><tr><td><code class="filename">cd</code></td><td>SCSI-CD-ROM</td></tr><tr><td><code class="filename">fd</code></td><td>Disketten-Laufwerk</td></tr></tbody></table></div></div><br class="table-break" /><div class="example"><a id="basics-disk-slice-part"></a><div class="example-title">Beispiel 4.1. Namen von Platten, Slices und Partitionen</div><div class="example-contents"><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Name</th><th>Bedeutung</th></tr></thead><tbody><tr><td><code class="filename">ad0s1a</code></td><td>Die erste Partition (<code class="literal">a</code>)
		  in der ersten Slice (<code class="literal">s1</code>) der
		  ersten IDE-Festplatte (<code class="literal">ad0</code>).</td></tr><tr><td><code class="filename">da1s2e</code></td><td>Die fünfte Partition (<code class="literal">e</code>)
		  der zweiten Slice (<code class="literal">s2</code>) auf
		  der zweiten SCSI-Festplatte
		  (<code class="literal">da1</code>).</td></tr></tbody></table></div></div></div><br class="example-break" /><div class="example"><a id="basics-concept-disk-model"></a><div class="example-title">Beispiel 4.2. Aufteilung einer Festplatte</div><div class="example-contents"><p>Das folgende Diagramm zeigt die Sicht von FreeBSD auf die
	  erste IDE-Festplatte eines Rechners.  Die Platte soll
	  4 GB groß sein und zwei Slices (<span class="trademark">MS-DOS</span>®-Partitionen)
	  mit je 2 GB besitzen.  Die erste Slice enthält
	  ein <span class="trademark">MS-DOS</span>®-Laufwerk (<code class="filename">C:</code>), die zweite
	  Slice wird von FreeBSD benutzt.  Im Beispiel verwendet die
	  FreeBSD-Installationen drei Datenpartitionen und einen
	  Auslagerungsbereich.</p><p>Jede der drei Partitionen enthält ein Dateisystem.
	  Das Wurzeldateisystem ist die <code class="literal">a</code>-Partition.
	  In der <code class="literal">e</code>-Partition befindet sich
	  der <code class="filename">/var</code>-Verzeichnisbaum
	  und in der <code class="literal">f</code>-Partition befindet sich
	  der Verzeichnisbaum unterhalb von
	  <code class="filename">/usr</code>.</p><div class="mediaobject"><img src="install/disk-layout.png" /></div></div></div><br class="example-break" /></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="dirstructure.html">Zurück</a> </td><td width="20%" align="center"><a accesskey="u" href="basics.html">Nach oben</a></td><td width="40%" align="right"> <a accesskey="n" href="mount-unmount.html">Weiter</a></td></tr><tr><td width="40%" align="left" valign="top">4.4. Verzeichnis-Strukturen </td><td width="20%" align="center"><a accesskey="h" href="index.html">Zum Anfang</a></td><td width="40%" align="right" valign="top"> 4.6. Anhängen und Abhängen von Dateisystemen</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Wenn Sie Fragen zu FreeBSD haben, schicken Sie eine E-Mail an
    &lt;<a href="mailto:de-bsd-questions@de.FreeBSD.org">de-bsd-questions@de.FreeBSD.org</a>&gt;.<br></br>
    Wenn Sie Fragen zu dieser Dokumentation haben, schicken Sie eine E-Mail an
    &lt;<a href="mailto:de-bsd-translators@de.FreeBSD.org">de-bsd-translators@de.FreeBSD.org</a>&gt;.</small></p></body></html>