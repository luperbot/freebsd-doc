<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>31.5. Automatische Netzwerkkonfiguration mit DHCP</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Das FreeBSD-Handbuch" /><link rel="up" href="network-servers.html" title="Kapitel 31. Netzwerkserver" /><link rel="prev" href="network-nis.html" title="31.4. NIS/YP &#8211; Network Information Service" /><link rel="next" href="network-dns.html" title="31.6. DNS &#8211; Domain Name Service" /><link rel="copyright" href="legalnotice.html" title="Rechtlicher Hinweis" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">31.5. Automatische Netzwerkkonfiguration mit DHCP</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="network-nis.html">Zurück</a> </td><th width="60%" align="center">Kapitel 31. Netzwerkserver</th><td width="20%" align="right"> <a accesskey="n" href="network-dns.html">Weiter</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="network-dhcp"></a>31.5. Automatische Netzwerkkonfiguration mit DHCP</h2></div><div><span class="authorgroup">Geschrieben von <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Greg</span> <span class="surname">Sutter</span></span>. </span></div></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp89981520"></a>31.5.1. Was ist DHCP?</h3></div></div></div><a id="idp89982160" class="indexterm"></a><a id="idp89983312" class="indexterm"></a><p>Über DHCP, das Dynamic Host Configuration Protocol,
        kann sich ein System mit einem Netzwerk verbinden und die
        für die Kommunikation mit diesem Netzwerk nötigen
        Informationen beziehen.  FreeBSD verwendet den von
        OpenBSD 3.7 stammenden <code class="command">dhclient</code>.
        Die Informationen in diesem Abschnitt
        beziehen sich daher sowohl auf den <code class="command">dhclient</code>
        von ISC als auch auf den von OpenBSD.  Als DHCP-Server wird
        in beiden Fällen der DHCP-Server der ISC-Distribution
        verwendet.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp89985360"></a>31.5.2. Übersicht</h3></div></div></div><p>Dieser Abschnitt beschreibt sowohl die Clientseite des
        ISC- als auch des OpenBSD-Clients sowie die
        Serverseite des DHCP-Systems von ISC.  Das Clientprogramm
        <code class="command">dhclient</code> ist in FreeBSD integriert, das
        Serverprogramm kann über den Port
	<a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/net/isc-dhcp42-server/pkg-descr">net/isc-dhcp42-server</a>
	installiert werden.  Weiter Informationen finden Sie in
        <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dhclient&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">dhclient</span>(8)</span></a>, <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dhcp-options&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">dhcp-options</span>(5)</span></a> sowie
        <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dhclient.conf&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">dhclient.conf</span>(5)</span></a>.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp89989712"></a>31.5.3. Wie funktioniert DHCP?</h3></div></div></div><a id="idp89990352" class="indexterm"></a><p>Der DHCP-Client <code class="command">dhclient</code> beginnt von
        einem Clientrechner aus über den UDP-Port 68
        Konfigurationsinformationen anzufordern.  Der Server antwortet
	auf dem UDP-Port 67, indem er dem Client eine IP-Adresse
        zuweist und ihm weitere wichtige Informationen über das
        Netzwerk, wie Netzmasken, Router und DNS-Server mitteilt.  Diese
        Informationen werden als
        <em class="firstterm">DHCP-Lease</em> bezeichnet und
        sind nur für eine bestimmte Zeit, die vom Administrator des
        DHCP-Servers vorgegeben wird, gültig.  Dadurch fallen
        verwaiste IP-Adressen, deren Clients nicht mehr mit dem Netzwerk
        verbunden sind, automatisch an den Server zurück.</p><p>DHCP-Clients können sehr viele Informationen von einem
        DHCP-Server erhalten.  Eine ausführliche Liste finden Sie
        in <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dhcp-options&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">dhcp-options</span>(5)</span></a>.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp89993296"></a>31.5.4. Integration in FreeBSD</h3></div></div></div><p>FreeBSD verwendet den DHCP-Client von OpenBSD.
	Sowohl während der Installation als
	auch im Basissystem steht der DHCP-Client zur Verfügung.
	In Netzen mit DHCP-Servern wird dadurch die Konfiguration von
	Systemen erheblich vereinfacht.</p><a id="idp90002640" class="indexterm"></a><p>DHCP wird von <span class="application">sysinstall</span>
        unterstützt.  Wenn Sie eine Netzwerkkarte mit
	<span class="application">sysinstall</span> konfigurieren, lautet
	die zweite Frage <span class="quote">&#8222;<span class="quote">Do you want to try DHCP configuration
	of the interface?</span>&#8220;</span>.  Wenn Sie diese Frage bejahen, wird
        <code class="command">dhclient</code> aufgerufen, und die Netzkarte wird
        automatisch eingerichtet.</p><p>Um DHCP beim Systemstart zu aktivieren, müssen Sie zwei
        Dinge erledigen:</p><a id="idp90005968" class="indexterm"></a><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Stellen Sie sicher, dass <code class="filename">bpf</code> in
            Ihren Kernel kompiliert ist.  Dazu fügen Sie die Zeile
            <code class="literal">device bpf</code>
            in Ihre Kernelkonfigurationsdatei ein und erzeugen einen
	    neuen Kernel.  Weitere Informationen zur Kernelkonfiguration
	    finden Sie in <a class="xref" href="kernelconfig.html" title="Kapitel 9. Konfiguration des FreeBSD-Kernels">Kapitel 9, <em>Konfiguration des FreeBSD-Kernels</em></a> des Handbuchs.
	  </p><p>Das Gerät <code class="filename">bpf</code> ist im
            <code class="filename">GENERIC</code>-Kernel bereits enthalten.
            Für die Nutzung von DHCP muss also kein angepasster
            Kernel erzeugt werden.</p><div xmlns="" class="note"><h3 class="admontitle">Anmerkung: </h3><p xmlns="http://www.w3.org/1999/xhtml">Wenn Sie um die Sicherheit Ihres Systems besorgt
                sind, sollten Sie wissen, dass
                <code class="filename">bpf</code> auch zur Ausführung
                von Paketsniffern erforderlich ist (obwohl diese dennoch
                als <code class="systemitem">root</code> ausgeführt werden
                müssen).  <code class="filename">bpf</code>
                <span class="emphasis"><em>muss</em></span> vorhanden sein, damit DHCP
                funktioniert.  Sind Sie sehr sicherheitsbewusst, sollten
                Sie <code class="filename">bpf</code> aus Ihrem Kernel
                entfernen, wenn Sie DHCP nicht verwenden.</p></div></li><li class="listitem"><p>Standardmässig läuft die DHCP-Konfiguration
            bei FreeBSD im Hintergrund oder auch
            <em class="firstterm">asynchron</em>.  Andere Startskripte laufen
            weiter, während DHCP fertig abgearbeitet wird, was den
            Systemstart beschleunigt.</p><p>DHCP im Hintergrund funktioniert gut, wenn der DHCP-Server
            schnell auf Anfragen antwortet und der
            DHCP-Konfigurationsprozess ebenso schnell abläuft.
            Jedoch kann DHCP eine lange Zeit benötigen, um auf
            manchen Systemen fertig zu werden.  Falls Netzwerkdienste
            versuchen, vor DHCP zum Ende zu kommen, werden diese
            fehlschlagen.  Durch die Verwendung von DHCP im
            <em class="firstterm">asynchronen</em>-Modus wird das Problem
            verhindert, so dass die Startskripte pausiert werden, bis
            die DHCP-Konfiguration abgeschlossen ist.</p><p>Um sich zu einem DHCP-Server im Hintergrund zu verbinden,
            während andere Startskripte fortfahren
            (asynchroner Modus), benutzen Sie den
            <span class="quote">&#8222;<span class="quote"><code class="literal">DHCP</code></span>&#8220;</span>-Wert in
            <code class="filename">/etc/rc.conf</code>:</p><pre class="programlisting">ifconfig_<em class="replaceable"><code>fxp0</code></em>="DHCP"</pre><p>Um den Start zu pausieren, damit DHCP vorher
            abgeschlossen werden kann, benutzen Sie den synchronen Modus
            mit dem Eintrag
            <span class="quote">&#8222;<span class="quote"><code class="literal">SYNCDHCP</code></span>&#8220;</span>:</p><pre class="programlisting">ifconfig_<em class="replaceable"><code>fxp0</code></em>="SYNCDHCP"</pre><div xmlns="" class="note"><h3 class="admontitle">Anmerkung: </h3><p xmlns="http://www.w3.org/1999/xhtml">Ersetzen Sie <em class="replaceable"><code>fxp0</code></em>, das
              in diesen Beispielen verwendet wurde, durch den Namen Ihrer
              Netzwerkschnittstelle, so wie es in <a class="xref" href="config-network-setup.html" title="12.8. Einrichten von Netzwerkkarten">Abschnitt 12.8, &#8222;Einrichten von Netzwerkkarten&#8220;</a> beschrieben ist.</p></div><p>Wenn Sie <code class="command">dhclient</code> an einem anderen
	    Ort installiert haben, oder zusätzliche Flags an
	    <code class="command">dhclient</code> übergeben wollen, fügen Sie
	    auch folgende (entsprechend angepasste) Zeilen ein:</p><pre class="programlisting">dhclient_program="/sbin/dhclient"
dhclient_flags=""</pre></li></ul></div><a id="idp90030800" class="indexterm"></a><p>Der DHCP-Server <span class="application">dhcpd</span> ist als
	Teil des Ports <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/net/isc-dhcp42-server/pkg-descr">net/isc-dhcp42-server</a>
	verfügbar.  Dieser Port enthält die komplette
	ISC-DHCP-Distribution, inklusive der Dokumentation.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp90033232"></a>31.5.5. Dateien</h3></div></div></div><a id="idp90033872" class="indexterm"></a><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="filename">/etc/dhclient.conf</code></p><p><code class="command">dhclient</code> benötigt die
            Konfigurationsdatei <code class="filename">/etc/dhclient.conf</code>.
	    Diese Datei enthält normalerweise nur Kommentare, da
	    die Vorgabewerte zumeist ausreichend sind.  Lesen Sie dazu
	    auch <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dhclient.conf&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">dhclient.conf</span>(5)</span></a>.</p></li><li class="listitem"><p><code class="filename">/sbin/dhclient</code></p><p><code class="command">dhclient</code> ist statisch gelinkt und
	    befindet sich in <code class="filename">/sbin</code>.  Weitere
	    Informationen finden Sie in <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dhclient&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">dhclient</span>(8)</span></a>.</p></li><li class="listitem"><p><code class="filename">/sbin/dhclient-script</code></p><p>Bei <code class="command">dhclient-script</code> handelt es sich
            um das FreeBSD-spezifische Konfigurationsskript des
            DHCP-Clients.  Es wird in <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dhclient-script&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">dhclient-script</span>(8)</span></a>
            beschrieben und kann meist unverändert übernommen
            werden.</p></li><li class="listitem"><p><code class="filename">/var/db/dhclient.leases.
<em class="replaceable"><code>interface</code></em></code></p><p>Der DHCP-Client verfügt über eine Datenbank,
            die alle derzeit gültigen Leases enthält und als
            Logdatei erzeugt wird.  Weitere Informationen finden Sie in
            <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dhclient&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">dhclient</span>(8)</span></a>.</p></li></ul></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp90054224"></a>31.5.6. Weitere Informationen</h3></div></div></div><p>Das DHCP-Protokoll wird vollständig im
        <a class="link" href="http://www.freesoft.org/CIE/RFC/2131/" target="_top">RFC 2131</a>
        beschrieben.  Eine weitere, lehrreiche Informationsquelle
        existiert unter
        <code class="uri"><a class="uri" href="http://www.dhcp.org/" target="_top">http://www.dhcp.org/</a></code>.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="network-dhcp-server"></a>31.5.7. Einen DHCP-Server installieren und einrichten</h3></div></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp90057168"></a>31.5.7.1. Übersicht</h4></div></div></div><p>Dieser Abschnitt beschreibt die Einrichtung eines
          FreeBSD-Systems als DHCP-Server.  Dazu wird die
          DHCP-Implementation von ISC (Internet Systems Consortium)
          verwendet.</p><p>Der DHCP-Server ist nicht im Basissystem von FreeBSD
          enthalten,  daher müssen Sie als Erstes den Port
	  <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/net/isc-dhcp42-server/pkg-descr">net/isc-dhcp42-server</a>
          installieren.  Lesen Sie <a class="xref" href="ports.html" title="Kapitel 5. Installieren von Anwendungen: Pakete und Ports">Kapitel 5, <em>Installieren von Anwendungen: Pakete und Ports</em></a>, wenn Sie
          weitere Informationen zur Ports-Sammlung benötigen.
        </p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp90059600"></a>31.5.7.2. Den DHCP-Server installieren</h4></div></div></div><a id="idp90060240" class="indexterm"></a><p>Stellen Sie sicher, dass <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=bpf&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">bpf</span>(4)</span></a> in Ihren Kernel
          kompiliert ist.  Dazu fügen Sie die Zeile
          <code class="literal">device bpf</code>
          Ihre Kernelkonfigurationsdatei ein und erzeugen einen neuen
          Kernel.  Die Kernelkonfiguration wird in
          <a class="xref" href="kernelconfig.html" title="Kapitel 9. Konfiguration des FreeBSD-Kernels">Kapitel 9, <em>Konfiguration des FreeBSD-Kernels</em></a> beschrieben.</p><p>Das Gerät <code class="filename">bpf</code> ist im
          <code class="filename">GENERIC</code>-Kernel bereits enthalten.
          Für die Nutzung von DHCP muss also kein angepasster
          Kernel erzeugt werden.</p><div xmlns="" class="note"><h3 class="admontitle">Anmerkung: </h3><p xmlns="http://www.w3.org/1999/xhtml">Wenn Sie um die Sicherheit Ihres Systems besorgt
              sind, sollten Sie wissen, dass
              <code class="filename">bpf</code> auch zur Ausführung
              von Paketsniffern erforderlich ist (obwohl diese dennoch
              als <code class="systemitem">root</code> ausgeführt werden
              müssen).  <code class="filename">bpf</code>
              <span class="emphasis"><em>muss</em></span> vorhanden sein, damit DHCP
              funktioniert.  Sind Sie sehr sicherheitsbewusst, sollten
              Sie <code class="filename">bpf</code> aus Ihrem Kernel
              entfernen, wenn Sie DHCP nicht verwenden.</p></div><p>Danach müssen Sie die vom Port
	  <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/net/isc-dhcp42-server/pkg-descr">net/isc-dhcp42-server</a>
	  erzeugte Vorlage für <code class="filename">dhcpd.conf</code>
	  anpassen.  Die bei der Installation erzeugte Datei
          <code class="filename">/usr/local/etc/dhcpd.conf.sample</code>
          sollten Sie nach
          <code class="filename">/usr/local/etc/dhcpd.conf</code> kopieren,
          bevor Sie Veränderungen vornehmen.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp90069712"></a>31.5.7.3. Den DHCP-Server einrichten</h4></div></div></div><a id="idp90070352" class="indexterm"></a><p><code class="filename">dhcpd.conf</code> besteht aus Festlegungen
          zu Subnetzen und Rechnern und lässt sich am besten an
          einem Beispiel erklären:</p><pre class="programlisting">option domain-name "example.com";<a id="domain-name"></a><span><img src="./imagelib/callouts/1.png" alt="1" border="0" /></span>
option domain-name-servers 192.168.4.100;<a id="domain-name-servers"></a><span><img src="./imagelib/callouts/2.png" alt="2" border="0" /></span>
option subnet-mask 255.255.255.0;<a id="subnet-mask"></a><span><img src="./imagelib/callouts/3.png" alt="3" border="0" /></span>

default-lease-time 3600;<a id="default-lease-time"></a><span><img src="./imagelib/callouts/4.png" alt="4" border="0" /></span>
max-lease-time 86400;<a id="max-lease-time"></a><span><img src="./imagelib/callouts/5.png" alt="5" border="0" /></span>
ddns-update-style none;<a id="ddns-update-style"></a><span><img src="./imagelib/callouts/6.png" alt="6" border="0" /></span>

subnet 192.168.4.0 netmask 255.255.255.0 {
  range 192.168.4.129 192.168.4.254;<a id="range"></a><span><img src="./imagelib/callouts/7.png" alt="7" border="0" /></span>
  option routers 192.168.4.1;<a id="routers"></a><span><img src="./imagelib/callouts/8.png" alt="8" border="0" /></span>
}

host mailhost {
  hardware ethernet 02:03:04:05:06:07;<a id="hardware"></a><span><img src="./imagelib/callouts/9.png" alt="9" border="0" /></span>
  fixed-address mailhost.example.com;<a id="fixed-address"></a><span><img src="./imagelib/callouts/10.png" alt="10" border="0" /></span>
}</pre><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#domain-name"><span><img src="./imagelib/callouts/1.png" alt="1" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Diese Option beschreibt die Domäne, die den
                Clients als Standardsuchdomäne zugewiesen wird.
	        Weitere Informationen finden Sie in man.resolv.conf.5;.
	      </p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#domain-name-servers"><span><img src="./imagelib/callouts/2.png" alt="2" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Diese Option legt eine, durch Kommata getrennte
                Liste von DNS-Servern fest, die von den Clients
                verwendet werden sollen.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#subnet-mask"><span><img src="./imagelib/callouts/3.png" alt="3" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Die den Clients zugewiesene Netzmaske.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#default-lease-time"><span><img src="./imagelib/callouts/4.png" alt="4" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Ein Client kann eine Lease einer bestimmten Dauer
                anfordern.  Geschieht dies nicht, weist der Server eine
                Lease mit einer vorgegebenen Ablaufdauer (in Sekunden)
                zu.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#max-lease-time"><span><img src="./imagelib/callouts/5.png" alt="5" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Die maximale Zeitdauer, für die der Server
                Konfigurationsinformationen vergibt.  Sollte ein Client
                eine längere Zeitspanne anfordern, wird dennoch
                nur der Wert <code class="literal">max-lease-time</code> in
                Sekunden zugewiesen.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#ddns-update-style"><span><img src="./imagelib/callouts/6.png" alt="6" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Diese Option legt fest, ob der DHCP-Server eine
                DNS-Aktualisierung versuchen soll, wenn
                Konfigurationsdateien vergeben oder zurückgezogen
                werden.  In der ISC-Implementation
                <span class="emphasis"><em>muss</em></span> diese Option gesetzt sein.
              </p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#range"><span><img src="./imagelib/callouts/7.png" alt="7" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Dadurch werden die IP-Adressen festgelegt, die den
                Clients zugewiesen werden können.  IP-Adressen
                zwischen diesen Grenzen sowie die einschließenden
                Adressen werden den Clients zugewiesen.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#routers"><span><img src="./imagelib/callouts/8.png" alt="8" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Legt das Standard-Gateway fest, das den Clients
                zugewiesen wird.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#hardware"><span><img src="./imagelib/callouts/9.png" alt="9" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Die (Hardware-)MAC-Adresse eines Rechners (durch die
                der DHCP-Server den Client erkennt, der eine Anforderung
                an ihn stellt).</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#fixed-address"><span><img src="./imagelib/callouts/10.png" alt="10" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Einem Rechner soll immer die gleiche IP-Adresse
                zugewiesen werden.  Beachten Sie, dass hier auch ein
                Rechnername gültig ist, da der DHCP-Server den
                Rechnernamen auflöst, bevor er die
                Konfigurationsinformationen zuweist.</p></td></tr></table></div><p>Nachdem Sie <code class="filename">dhcpd.conf</code> fertig
          konfiguriert haben, sollten Sie den DHCP-Server aktivieren,
          indem Sie folgende Zeilen in
          <code class="filename">/etc/rc.conf</code> aufnehmen:</p><pre class="programlisting">dhcpd_enable="YES"
dhcpd_ifaces="dc0"</pre><p>Dabei müssen Sie den Geräteeintrag
          <code class="literal">dc0</code> durch die Gerätedatei (mehrere
          Gerätedateien müssen durch Leerzeichen getrennt
          werden) ersetzen, die Ihr DHCP-Server auf Anfragen von
          DHCP-Clients hin überwachen soll.</p><p>Danach können Sie den Server durch Eingabe des
          folgenden Befehls starten:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>service isc-dhcpd start</code></strong></pre><p>Sollten Sie die Konfiguration Ihres Servers einmal
          verändern müssen, reicht es nicht aus, ein
          <code class="literal">SIGHUP</code>-Signal an
          <span class="application">dhcpd</span> zu senden, weil damit die
          Konfiguration <span class="emphasis"><em>nicht</em></span> erneut geladen wird
          (im Gegensatz zu den meisten Daemonen).  Sie müssen
          den Prozess vielmehr mit dem Signal
          <code class="literal">SIGTERM</code> stoppen, um ihn
          anschließend neu zu starten.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp90158288"></a>31.5.7.4. Dateien</h4></div></div></div><a id="idp90158928" class="indexterm"></a><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="filename">/usr/local/sbin/dhcpd</code></p><p><span class="application">dhcpd</span> ist statisch
              gelinkt und befindet sich in
              <code class="filename">/usr/local/sbin</code>.  Lesen Sie auch die
	      mit dem Port installierte Hilfeseite <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dhcpd&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">dhcpd</span>(8)</span></a>, wenn
	      Sie weitere Informationen zu
	     <span class="application">dhcpd</span> benötigen.</p></li><li class="listitem"><p><code class="filename">/usr/local/etc/dhcpd.conf</code></p><p><span class="application">dhcpd</span> benötigt die
              Konfigurationsdatei
              <code class="filename">/usr/local/etc/dhcpd.conf</code>, damit
              der Server den Clients seine Dienste anbieten kann.
              Diese Datei muss alle Informationen enthalten, die an
              die Clients weitergegeben werden soll.  Außerdem
              sind hier Informationen zur Konfiguration des Servers
              enthalten.  Die mit dem Port installierte Hilfeseite
	      <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dhcpd.conf&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">dhcpd.conf</span>(5)</span></a> enthält weitere Informationen.
	    </p></li><li class="listitem"><p><code class="filename">/var/db/dhcpd.leases</code></p><p>Der DHCP-Server hat eine Datenbank, die alle
              vergebenen Leases enthält.  Diese wird als Logdatei
              erzeugt.  Weitere Informationen finden Sie in der vom
              Port installierten Hilfeseite <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dhcpd.leases&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">dhcpd.leases</span>(5)</span></a>.</p></li><li class="listitem"><p><code class="filename">/usr/local/sbin/dhcrelay</code></p><p><span class="application">dhcrelay</span> wird in
              komplexen Umgebungen verwendet, in denen ein DHCP-Server
              eine Anfrage eines Clients an einen DHCP-Server in einem
	      separaten Netzwerk weiterleitet.  Wenn Sie diese
	      Funktion benötigen, müssen Sie den Port
	      <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/net/isc-dhcp42-relay/pkg-descr">net/isc-dhcp42-relay</a>
	      installieren.  Weitere Informationen zu diesem Thema
	      finden Sie in <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dhcrelay&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">dhcrelay</span>(8)</span></a>.</p></li></ul></div></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="network-nis.html">Zurück</a> </td><td width="20%" align="center"><a accesskey="u" href="network-servers.html">Nach oben</a></td><td width="40%" align="right"> <a accesskey="n" href="network-dns.html">Weiter</a></td></tr><tr><td width="40%" align="left" valign="top">31.4. NIS/YP &#8211; Network Information Service </td><td width="20%" align="center"><a accesskey="h" href="index.html">Zum Anfang</a></td><td width="40%" align="right" valign="top"> 31.6. <acronym class="acronym">DNS</acronym> &#8211; Domain Name Service</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Wenn Sie Fragen zu FreeBSD haben, schicken Sie eine E-Mail an
    &lt;<a href="mailto:de-bsd-questions@de.FreeBSD.org">de-bsd-questions@de.FreeBSD.org</a>&gt;.<br></br>
    Wenn Sie Fragen zu dieser Dokumentation haben, schicken Sie eine E-Mail an
    &lt;<a href="mailto:de-bsd-translators@de.FreeBSD.org">de-bsd-translators@de.FreeBSD.org</a>&gt;.</small></p></body></html>