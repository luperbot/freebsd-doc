<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>23.8. Vinum konfigurieren</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Das FreeBSD-Handbuch" /><link rel="up" href="vinum-vinum.html" title="Kapitel 23. Der Vinum Volume Manager" /><link rel="prev" href="vinum-object-naming.html" title="23.7. Objektbenennung" /><link rel="next" href="vinum-root.html" title="23.9. Vinum für das Root-Dateisystem benutzen" /><link rel="copyright" href="legalnotice.html" title="Rechtlicher Hinweis" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">23.8. Vinum konfigurieren</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="vinum-object-naming.html">Zurück</a> </td><th width="60%" align="center">Kapitel 23. Der Vinum Volume Manager</th><td width="20%" align="right"> <a accesskey="n" href="vinum-root.html">Weiter</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="vinum-config"></a>23.8. Vinum konfigurieren</h2></div></div></div><p>Der <code class="filename">GENERIC</code>-Kernel enthät kein
      Vinum.  Es ist zwar möglich, einen speziellen Kernel zu
      bauen, der Vinum beinhaltet, empfohlen wird aber, Vinum als
      ein Kernelmodul (über <acronym class="acronym">kld</acronym>) zu laden.
      Dazu müssen Sie nicht einmal <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=kldload&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">kldload</span>(8)</span></a> benutzen,
      da beim Start von <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=gvinum&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">gvinum</span>(8)</span></a> automatisch überprüft
      wird, ob das Modul bereits geladen wurde.  Falls das Modul noch
      nicht geladen wurde, wird es daraufhin geladen.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp84253776"></a>23.8.1. Inbetriebnahme</h3></div></div></div><p>Vinum speichert seine Konfigurationsinformationen auf den
	Platten-Slices im Wesentlichen genauso ab wie in den
	Konfigurationsdateien.  Beim Lesen der Konfigurationsdatenbank
	erkennt Vinum eine Anzahl von Schlüsselwörtern, die
	in den Konfigurationsdateien nicht erlaubt sind.  Zum Beispiel
	könnte eine Platten-Konfiguration den folgenden Text
	enthalten:</p><pre class="programlisting" width="119">volume myvol state up
volume bigraid state down
plex name myvol.p0 state up org concat vol myvol
plex name myvol.p1 state up org concat vol myvol
plex name myvol.p2 state init org striped 512b vol myvol
plex name bigraid.p0 state initializing org raid5 512b vol bigraid
sd name myvol.p0.s0 drive a plex myvol.p0 state up len 1048576b driveoffset 265b plexoffset 0b
sd name myvol.p0.s1 drive b plex myvol.p0 state up len 1048576b driveoffset 265b plexoffset 1048576b
sd name myvol.p1.s0 drive c plex myvol.p1 state up len 1048576b driveoffset 265b plexoffset 0b
sd name myvol.p1.s1 drive d plex myvol.p1 state up len 1048576b driveoffset 265b plexoffset 1048576b
sd name myvol.p2.s0 drive a plex myvol.p2 state init len 524288b driveoffset 1048841b plexoffset 0b
sd name myvol.p2.s1 drive b plex myvol.p2 state init len 524288b driveoffset 1048841b plexoffset 524288b
sd name myvol.p2.s2 drive c plex myvol.p2 state init len 524288b driveoffset 1048841b plexoffset 1048576b
sd name myvol.p2.s3 drive d plex myvol.p2 state init len 524288b driveoffset 1048841b plexoffset 1572864b
sd name bigraid.p0.s0 drive a plex bigraid.p0 state initializing len 4194304b driveoff set 1573129b plexoffset 0b
sd name bigraid.p0.s1 drive b plex bigraid.p0 state initializing len 4194304b driveoff set 1573129b plexoffset 4194304b
sd name bigraid.p0.s2 drive c plex bigraid.p0 state initializing len 4194304b driveoff set 1573129b plexoffset 8388608b
sd name bigraid.p0.s3 drive d plex bigraid.p0 state initializing len 4194304b driveoff set 1573129b plexoffset 12582912b
sd name bigraid.p0.s4 drive e plex bigraid.p0 state initializing len 4194304b driveoff set 1573129b plexoffset 16777216b</pre><p>Die offensichtlichen Unterschiede sind hier die Anwesenheit
	von Informationen über explizite Speicherorte und
	Benennungen (beides ist zwar erlaubt, aber es wird dem Benutzer
	davon abgeraten, es zu benutzen) und Informationen über die
	Zustände (welche für den Benutzer nicht zur
	Verfügung stehen).  Vinum speichert keine Informationen
	über Platten in den Konfigurationsinformationen, es findet
	die Platten durch Scannen nach Vinum-Markierungen auf den
	eingerichteten Laufwerken.  Dies ermöglicht es,
	Vinum-Platten auch dann noch korrekt zu identifizieren, wenn
	sie schon andere <span class="trademark">UNIX</span>®-Platten-IDs zugewiesen bekommen
	haben.</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="vinum-rc-startup"></a>23.8.1.1. Automatische Inbetriebnahme</h4></div></div></div><div xmlns="" class="note"><h3 class="admontitle">Anmerkung: </h3><p xmlns="http://www.w3.org/1999/xhtml"><span class="emphasis"><em>Gvinum</em></span>
	    unterstützt eine automatische Inbetriebnahme immer,
	    wenn das Kernelmodul über <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=loader.conf&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">loader.conf</span>(5)</span></a> geladen ist.
	    Um das <span class="emphasis"><em>Gvinum</em></span> Modul beim Hochfahren des
	    Systems zu laden, fügen Sie die Zeile
	    <code class="literal">geom_vinum_load="YES"</code> in
	    <code class="filename">/boot/loader.conf</code> ein.</p></div><p>Beim starten von Vinum durch den Befehl <code class="command">vinum
	  start</code> liest Vinum die Konfigurationsdatenbank von
	  einer der Vinum-Platten.  Unter normalen Umständen
	  enthält jede Platte eine identische Kopie der
	  Konfigurationsdatenbank, so dass es keine Rolle spielt, von
	  welcher der Platten diese eingelesen wird.  Nach einem
	  Plattencrash muss Vinum allerdings zunächst feststellen,
	  welche der Platten zuletzt aktualisiert wurde und dann die
	  Konfiguration von dieser Platte lesen.  Danach werden (falls
	  nötig) die Konfigurationen der "alten" Platten
	  aktualisiert.</p></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="vinum-object-naming.html">Zurück</a> </td><td width="20%" align="center"><a accesskey="u" href="vinum-vinum.html">Nach oben</a></td><td width="40%" align="right"> <a accesskey="n" href="vinum-root.html">Weiter</a></td></tr><tr><td width="40%" align="left" valign="top">23.7. Objektbenennung </td><td width="20%" align="center"><a accesskey="h" href="index.html">Zum Anfang</a></td><td width="40%" align="right" valign="top"> 23.9. Vinum für das Root-Dateisystem benutzen</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Wenn Sie Fragen zu FreeBSD haben, schicken Sie eine E-Mail an
    &lt;<a href="mailto:de-bsd-questions@de.FreeBSD.org">de-bsd-questions@de.FreeBSD.org</a>&gt;.<br></br>
    Wenn Sie Fragen zu dieser Dokumentation haben, schicken Sie eine E-Mail an
    &lt;<a href="mailto:de-bsd-translators@de.FreeBSD.org">de-bsd-translators@de.FreeBSD.org</a>&gt;.</small></p></body></html>