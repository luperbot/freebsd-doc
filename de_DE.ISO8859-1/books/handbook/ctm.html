<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>A.5. CTM</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Das FreeBSD-Handbuch" /><link rel="up" href="mirrors.html" title="Anhang A. Bezugsquellen für FreeBSD" /><link rel="prev" href="anoncvs.html" title="A.4. Anonymous CVS (veraltet)" /><link rel="next" href="svn.html" title="A.6. Benutzen von Subversion" /><link rel="copyright" href="legalnotice.html" title="Rechtlicher Hinweis" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">A.5. CTM</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="anoncvs.html">Zurück</a> </td><th width="60%" align="center">Anhang A. Bezugsquellen für FreeBSD</th><td width="20%" align="right"> <a accesskey="n" href="svn.html">Weiter</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="ctm"></a>A.5. CTM</h2></div></div></div><a id="idp94205136" class="indexterm"></a><p>Mit <span class="application">CTM</span><a href="#ftn.idp94206416" class="footnote" id="idp94206416"><sup class="footnote">[19]</sup></a>
	können Sie einen
        entfernten Verzeichnisbaum mit einem zentralen Baum
	synchronisieren.  Es wurde extra zum Synchronisieren der FreeBSD
	Quellen entwickelt, obwohl es mit der Zeit vielleicht auch andere
	Anwendungen geben wird.  Zurzeit existiert leider so gut wie keine
	Dokumentation zum Erstellen der Deltas.  Wenn Sie Hilfe
	benötigen oder <span class="application">CTM</span> für
	andere Zwecke einsetzen wollen, wenden Sie sich bitte an
	die Mailingliste <a class="link" href="http://lists.FreeBSD.org/mailman/listinfo/ctm-users" target="_top">ctm-users</a>.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp94208336"></a>A.5.1. Warum soll ich <span class="application">CTM</span> benutzen?</h3></div></div></div><p>Mit <span class="application">CTM</span> erhalten Sie eine lokale
	  Kopie des FreeBSD-Quellbaums, den es in mehreren
	  <span class="quote">&#8222;<span class="quote">Varianten</span>&#8220;</span> gibt.  Sie können das ganze
	  Repository oder nur einen Zweig spiegeln.  Wenn Sie ein aktiver
	  FreeBSD-Entwickler mit einer schlechten oder gar keiner TCP/IP
	  Verbindung sind, oder die Änderungen einfach automatisch
	  zugesandt bekommen wollen, dann ist <span class="application">CTM</span>
	  das Richtige für Sie.  Für die Zweige mit der
	  meisten Aktivität müssen Sie sich täglich bis zu drei
	  Deltas beschaffen, Sie sollten allerdings erwägen, die
	  Deltas automatisch über E-Mail zu beziehen.  Die
	  Größe der Updates wird so klein wie möglich
	  gehalten.  Normalerweise sind sie kleiner als 5 kB, manchmal
	  sind sie 10-50 kB groß (etwa jedes 10. Update) und ab
	  und an werden Sie auch einmal ein Update mit 100 kB oder
	  mehr erhalten.</p><p>Sie sollten sich über die Vorbehalte gegen die
	  Verwendung der Quellen anstelle eines offiziellen Releases
	  bewusst sein.  Das trifft besonders auf FreeBSD-CURRENT zu, lesen
	  Sie dazu bitte den Abschnitt
	  <a class="link" href="current-stable.html#current" title="26.5.1. FreeBSD-CURRENT">FreeBSD-CURRENT</a>.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp94216144"></a>A.5.2. Was brauche ich, um <span class="application">CTM</span> zu
	  benutzen?</h3></div></div></div><p>Zwei Sachen: Das <span class="application">CTM</span> Programm und
	  die initialen Deltas, von denen aus Sie auf die
	  <span class="quote">&#8222;<span class="quote">aktuellen</span>&#8220;</span> Stände kommen.</p><p><span class="application">CTM</span> ist schon seit der
	  Version 2.0 Teil des FreeBSD-Basissystems.  Sie finden es in
	  <code class="filename">/usr/src/usr.sbin/ctm</code>, wenn Sie eine Kopie
	  der Quellen besitzen.</p><p>Die Deltas, die <span class="application">CTM</span> verarbeitet,
	  können Sie über FTP oder E-Mail beziehen.  Wenn Sie
	  über einen FTP Zugang zum Internet verfügen, erhalten
	  Sie die Deltas unter der folgenden URL:</p><p>
	  <code class="uri"><a class="uri" href="ftp://ftp.FreeBSD.org/pub/FreeBSD/CTM/" target="_top">ftp://ftp.FreeBSD.org/pub/FreeBSD/CTM/</a></code>
	</p><p>Die Deltas werden auch von
	  <a class="link" href="ctm.html#mirrors-ctm" title="A.5.9. CTM-Spiegel">CTM Spiegeln</a>
	  bereitgehalten.</p><p>Wechseln Sie in das passende Verzeichnisse zum Beispiel
	  <code class="filename">src-cur</code> für FreeBSD-CURRENT und laden Sie
	  sich von dort die Deltas herunter.</p><p>Sie können die Deltas auch über E-Mail
	  beziehen.</p><p>Abonnieren Sie dazu eine der
	  <span class="application">CTM</span>-Verteilerlisten.
	  Über <a class="link" href="http://lists.FreeBSD.org/mailman/listinfo/ctm-cvs-cur" target="_top">ctm-cvs-cur</a> erhalten Sie den kompletten
	  <span class="application">CVS</span>-Baum, über
	  <a class="link" href="http://lists.FreeBSD.org/mailman/listinfo/ctm-src-cur" target="_top">ctm-src-cur</a> erhalten Sie FreeBSD-CURRENT und über
	  <a class="link" href="http://lists.FreeBSD.org/mailman/listinfo/ctm-src-9" target="_top">ctm-src-9</a> erhalten Sie den FreeBSD
	  9.X-Zweig.  Wenn Sie nicht wissen, wie Sie eine der
	  Mailinglisten abonnieren, folgen Sie einem der Verweise
	  von oben oder besuchen Sie die Seite <a class="link" href="http://lists.FreeBSD.org/mailman/listinfo" target="_top">http://lists.FreeBSD.org/mailman/listinfo</a>.
	  Weitere Informationen erhalten Sie, wenn Sie dort
	  auf die gewünschte Liste klicken.</p><p>Benutzen Sie <code class="command">ctm_rmail</code>, um die
	  <span class="application">CTM</span> Updates, die Sie per
	  E-Mail empfangen, auszupacken und anzuwenden.  Wenn Sie diesen
	  Prozess automatisiert ablaufen lassen möchten,
	  können Sie dazu einen Eintrag in
	  <code class="filename">/etc/aliases</code> verwenden.  Genauere
	  Informationen finden Sie in der Manualpage von
	  <code class="command">ctm_rmail</code>.</p><div xmlns="" class="note"><h3 class="admontitle">Anmerkung: </h3><p xmlns="http://www.w3.org/1999/xhtml">Sie sollten die Mailingliste <a class="link" href="http://lists.FreeBSD.org/mailman/listinfo/ctm-announce" target="_top">ctm-announce</a>
	    abonnieren, egal wie Sie die
	    <span class="application">CTM</span>-Deltas erhalten.
	    Ankündigungen, die den Betrieb des
	    <span class="application">CTM</span>-Systems betreffen, werden
	    nur auf dieser Liste bekannt gegeben.  Klicken Sie
	    auf den Namen der Liste oder besuchen Sie die Seite
	    <a class="link" href="http://lists.FreeBSD.org/mailman/listinfo" target="_top">http://lists.FreeBSD.org/mailman/listinfo</a>, um diese Liste zu abonnieren.</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp94239312"></a>A.5.3. Initialisieren von <span class="application">CTM</span></h3></div></div></div><p>Bevor Sie die <span class="application">CTM</span> Deltas benutzen
	  können, brauchen Sie einen Startpunkt, auf den die
	  nachfolgenden Deltas angewendet werden.</p><p>Sie können natürlich mit einem leeren Verzeichnis
	  beginnen.  In diesem Fall benötigen Sie ein
	  <code class="filename">XEmpty</code>-Delta, mit dem Sie den
	  <span class="application">CTM</span>-Verzeichnisbaum initialisieren.
	  Wenn Sie Glück haben, finden Sie ein
	  <code class="filename">XEmpty</code>-Delta, mit dem sie beginnen können,
	  auf einer der CDs Ihrer Distribution.</p><p>Da die Verzeichnisbäume mehrere Megabyte groß
	  sind,  sollten Sie nach Möglichkeit etwas schon vorhandenes
	  benutzen.  Wenn Sie eine -RELEASE CD besitzen, können Sie
	  die Quellen von dieser CD benutzen.  Sie ersparen sich damit das
	  Übertragen großer Datenmengen.</p><p>Die Deltas, mit denen Sie beginnen können, enthalten ein
	  <code class="literal">X</code> in ihrem Namen, wie in
	  <code class="filename">src-cur.3210XEmpty.gz</code>.  Hinter dem
	  <code class="literal">X</code> wird der Startpunkt der Deltas
	  angegeben, in diesem Fall steht <code class="literal">Empty</code>
	  für ein leeres Verzeichnis.  Nach etwa 100 Deltas wird ein
	  neues <code class="filename">XEmpty</code>-Delta erstellt.
	  Mit ungefähr 75 Megabyte komprimierter Daten sind diese
	  <code class="filename">XEmpty</code>-Deltas übrigens sehr
	  groß.</p><p>Nachdem Sie Ihren Startpunkt festgelegt haben, benötigen
	  Sie alle Deltas mit einer höheren Nummer.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp94250448"></a>A.5.4. Benutzen von <span class="application">CTM</span></h3></div></div></div><p>Um ein Delta einzuspielen, benutzen Sie das folgende
	  Kommando:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cd /Pfad/zu/den/Quellen</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>ctm -v -v /Pfad/zu/den/Deltas/src-xxx.*</code></strong></pre><p><span class="application">CTM</span> kann mit Deltas arbeiten, die
	  mit <code class="command">gzip</code> komprimiert wurden.  Sie brauchen die
	  Deltas vorher nicht mit <code class="command">gunzip</code> zu
	  dekomprimieren und sparen damit Plattenplatz.</p><p>Ihr Quellbaum wird erst dann verändert, wenn
	  <span class="application">CTM</span> die Deltas sauber verarbeiten
	  kann.  Die Integrität der Deltas und ihre Anwendbarkeit auf
	  den Quellbaum lassen sich durch die Angabe des Schalters
	  <code class="command">-c</code> überprüfen,
	  <span class="application">CTM</span> ändert in diesem Fall Ihren
	  Quellbaum nicht.</p><p><span class="application">CTM</span> verfügt über weitere
	  Kommandozeilenoptionen, Informationen dazu finden Sie in der
	  Manualpage oder dem Quellcode.</p><p>Das war schon alles.  Um Ihre Quellen aktuell zu halten,
	  verwenden Sie <span class="application">CTM</span> jedes Mal, wenn Sie
	  neue Deltas bekommen.</p><p>Löschen Sie die Deltas nicht, wenn Sie diese nur schwer
	  wieder beschaffen können.  Behalten Sie sie für den
	  Fall, das etwas passiert.  Auch wenn Sie nur Disketten besitzen,
	  sollten Sie erwägen, die Deltas mit
	  <code class="command">fdwrite</code> zu sichern.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp94266960"></a>A.5.5. Umgang mit lokalen Änderungen</h3></div></div></div><p>Entwickler wollen mit den Dateien im Quellbaum
	  experimentieren und diese verändern.  In beschränkter
	  Weise werden lokale Änderungen von
	  <span class="application">CTM</span> unterstützt.  Wenn
	  <span class="application">CTM</span> die Datei <code class="filename">foo</code>
	  bearbeiten will, überprüft es zuerst ob die Datei
	  <code class="filename">foo.ctm</code> existiert.  Wenn diese Datei
	  existiert, werden Änderungen in ihr anstatt in
	  <code class="filename">foo</code> vorgenommen.</p><p>Mit diesem Verfahren ist eine leichte Handhabung lokaler
	  Änderungen möglich.  Kopieren Sie die Dateien, die Sie
	  ändern möchten, in Dateien, die das Suffix
	  <code class="filename">.ctm</code> tragen.  Sie können dann
	  ungestört mit dem Quellcode arbeiten, während
	  <code class="filename">CTM</code> die
	  <code class="filename">.ctm</code> Dateien aktualisiert.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp94271696"></a>A.5.6. Weitere <span class="application">CTM</span>-Optionen</h3></div></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp94272720"></a>A.5.6.1. Was wird aktualisiert?</h4></div></div></div><p>Eine Liste der Änderungen, die
	    <span class="application">CTM</span> an Ihrem Quellbaum vornehmen
	    wird, erhalten Sie, wenn Sie die Option <code class="option">-l</code>
	    angeben.</p><p>Das ist nützlich, wenn Sie Logs über die
	    Änderungen führen wollen, geänderte Dateien vor-
	    oder nachbearbeiten wollen, oder einfach ein bisschen
	    paranoid sind.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp94299728"></a>A.5.6.2. Sicherungen vor einer Aktualisierung erstellen</h4></div></div></div><p>Sie wollen vielleicht die Dateien, die durch eine
	    <span class="application">CTM</span> Aktualisierung verändert
	    werden, sichern.</p><p>Mit <code class="option">-B
	      <em class="replaceable"><code>backup-file</code></em></code> weisen Sie
	    <span class="application">CTM</span> an, alle Dateien, die durch ein
	    <span class="application">CTM</span> Delta verändert
	    würden, nach <code class="filename">backup-file</code> zu
	    sichern.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp94303440"></a>A.5.6.3. Dateien ausschließen</h4></div></div></div><p>Manchmal wollen Sie nur bestimmte Teile aktualisieren
	    oder nur bestimmte Dateien aus einer Folge
	    von Deltas extrahieren.</p><p>Sie können die Liste der Dateien, mit denen
	    <span class="application">CTM</span> arbeitet, einschränken,
	    indem Sie reguläre Ausdrücke mit den Optionen
	    <code class="option">-e</code> und <code class="option">-x</code> angeben.</p><p>Wenn Sie eine aktuelle Kopie von
	    <code class="filename">lib/libc/Makefile</code> aus den gesicherten
	    <span class="application">CTM</span> Deltas erhalten wollen, setzen
	    Sie das folgende Kommando ab:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cd /wo/Sie/es/auspacken/wollen/</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>ctm -e '^lib/libc/Makefile' ~ctm/src-xxx.*</code></strong></pre><p>Die Optionen <code class="option">-e</code> und <code class="option">-x</code>
	    werden in der Reihenfolge angewandt, in der sie auf der
	    Kommandozeile angegeben wurden.  Eine Datei wird nur dann von
	    <span class="application">CTM</span> verarbeitet, wenn dies nach der
	    Anwendung der Optionen <code class="option">-e</code> und
	    <code class="option">-x</code> noch erlaubt ist.</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp94311504"></a>A.5.7. Pläne für <span class="application">CTM</span></h3></div></div></div><p>Mehrere:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Hinzufügen eines Authentifizierungsmechanismus,
	      damit gefälschte <span class="application">CTM</span>-Deltas
	      erkannt werden können.</p></li><li class="listitem"><p>Aufräumen der
	      <span class="application">CTM</span>-Optionen, die mit der Zeit
	      unübersichtlich und irreführend wurden.</p></li></ul></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp94315728"></a>A.5.8. Verschiedenes</h3></div></div></div><p>Es gibt Deltas für die Ports-Sammlung, die
	  aber nicht intensiv genutzt werden.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="mirrors-ctm"></a>A.5.9. CTM-Spiegel</h3></div></div></div><p>Die CTM-Deltas können Sie mit anonymous FTP von den folgenden
      Spiegeln beziehen.  Versuchen Sie bitte einen Spiegel in Ihrer
      Nähe zu benutzen.</p><p>Bei Problemen wenden Sie sich bitte an die
      Mailingliste <a class="link" href="http://lists.FreeBSD.org/mailman/listinfo/ctm-users" target="_top">ctm-users</a>.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Kalifornien, Bay Area, Offizieller Server</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="uri"><a class="uri" href="ftp://ftp.FreeBSD.org/pub/FreeBSD/development/CTM/" target="_top">ftp://ftp.FreeBSD.org/pub/FreeBSD/development/CTM/</a></code></p></li></ul></div></dd><dt><span class="term">Südafrika, Backup-Server für alte Deltas</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="uri"><a class="uri" href="ftp://ftp.za.FreeBSD.org/pub/FreeBSD/CTM/" target="_top">ftp://ftp.za.FreeBSD.org/pub/FreeBSD/CTM/</a></code></p></li></ul></div></dd><dt><span class="term">Taiwan/R.O.C.</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="uri"><a class="uri" href="ftp://ctm.tw.FreeBSD.org/pub/FreeBSD/development/CTM/" target="_top">ftp://ctm.tw.FreeBSD.org/pub/FreeBSD/development/CTM/</a></code></p></li><li class="listitem"><p><code class="uri"><a class="uri" href="ftp://ctm2.tw.FreeBSD.org/pub/FreeBSD/development/CTM/" target="_top">ftp://ctm2.tw.FreeBSD.org/pub/FreeBSD/development/CTM/</a></code></p></li><li class="listitem"><p><code class="uri"><a class="uri" href="ftp://ctm3.tw.FreeBSD.org/pub/FreeBSD/development/CTM/" target="_top">ftp://ctm3.tw.FreeBSD.org/pub/FreeBSD/development/CTM/</a></code></p></li></ul></div></dd></dl></div><p>Wenn die Liste keinen Spiegel in Ihrer Nähe enthält
      oder Sie Probleme mit dem ausgewählten Spiegel haben, versuchen
      Sie einen Spiegel mit einer Suchmaschine, wie
      <a class="link" href="http://www.alltheweb.com/" target="_top">alltheweb</a>, zu
      finden.</p></div><div class="footnotes"><br /><hr class="footnote-hr" /><div id="ftn.idp94206416" class="footnote"><p><a href="#idp94206416" class="para"><sup class="para">[19] </sup></a>
	  Abkürzung für <span class="quote">&#8222;<span class="quote">CVS Through eMail</span>&#8220;</span>
	</p></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="anoncvs.html">Zurück</a> </td><td width="20%" align="center"><a accesskey="u" href="mirrors.html">Nach oben</a></td><td width="40%" align="right"> <a accesskey="n" href="svn.html">Weiter</a></td></tr><tr><td width="40%" align="left" valign="top">A.4. Anonymous CVS (veraltet) </td><td width="20%" align="center"><a accesskey="h" href="index.html">Zum Anfang</a></td><td width="40%" align="right" valign="top"> A.6. Benutzen von <span class="application">Subversion</span></td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Wenn Sie Fragen zu FreeBSD haben, schicken Sie eine E-Mail an
    &lt;<a href="mailto:de-bsd-questions@de.FreeBSD.org">de-bsd-questions@de.FreeBSD.org</a>&gt;.<br></br>
    Wenn Sie Fragen zu dieser Dokumentation haben, schicken Sie eine E-Mail an
    &lt;<a href="mailto:de-bsd-translators@de.FreeBSD.org">de-bsd-translators@de.FreeBSD.org</a>&gt;.</small></p></body></html>