<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>10.3. Grund-Konfiguration</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Das FreeBSD-Handbuch" /><link rel="up" href="printing.html" title="Kapitel 10. Drucken" /><link rel="prev" href="printing-intro-spooler.html" title="10.2. Einführung" /><link rel="next" href="printing-advanced.html" title="10.4. Erweiterte Drucker-Konfiguration" /><link rel="copyright" href="legalnotice.html" title="Rechtlicher Hinweis" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">10.3. Grund-Konfiguration</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="printing-intro-spooler.html">Zurück</a> </td><th width="60%" align="center">Kapitel 10. Drucken</th><td width="20%" align="right"> <a accesskey="n" href="printing-advanced.html">Weiter</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="printing-intro-setup"></a>10.3. Grund-Konfiguration</h2></div></div></div><p>Um einen Drucker mit dem
      <span class="application">LPD</span>-Drucksystem benutzen zu
      können, müssen Sie sowohl Ihren Drucker und die
      Drucker-Schnittstelle als auch das
      <span class="application">LPD</span>-Drucksystem konfigurieren.
      Dieser Abschnitt beschreibt zwei Konfigurationen:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Abschnitt <a class="link" href="printing-intro-setup.html#printing-simple" title="10.3.1. Einfache Drucker-Konfiguration">Einfache
	  Drucker-Konfiguration</a> beschreibt, wie Sie einen
	  Drucker an Ihren Computer anschließen und
	  <span class="application">LPD</span> so konfigurieren, dass
	  Sie Textdateien zum Drucker senden können.</p></li><li class="listitem"><p>Abschnitt <a class="link" href="printing-advanced.html" title="10.4. Erweiterte Drucker-Konfiguration">Erweiterte
	  Drucker-Konfiguration</a> beschreibt, wie Sie mit
	  speziellen Dateiformaten umgehen können, wie Sie
	  Deckblätter drucken können, wie Sie den Zugriff auf
	  Drucker einschränken können, und wie Sie
	  Verrechnungsdaten aufzeichnen können.</p></li></ul></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="printing-simple"></a>10.3.1. Einfache Drucker-Konfiguration</h3></div></div></div><p>Dieser Abschnitt beschreibt, wie Sie die
	<span class="application">LPD</span>-Software konfigurieren, um
	Ihren Drucker zu benutzen.  Diese Grundlagen werden
	erklärt:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Abschnitt <a class="link" href="printing-intro-setup.html#printing-hardware" title="10.3.1.1. Hardware-Konfiguration">Hardware-Konfiguration</a>
	    erläutert, wie Sie Ihren Drucker an Ihren Computer
	    anschließen können.</p></li><li class="listitem"><p>Abschnitt <a class="link" href="printing-intro-setup.html#printing-software" title="10.3.1.2. Software-Konfiguration">Software-Konfiguration</a>
	    erklärt, wie Sie die
	    <span class="application">LPD</span>-Konfigurationsdatei
	    (<code class="filename">/etc/printcap</code>) anpassen.</p></li></ul></div><p>Wenn Sie einen Drucker einrichten möchten, der
	über das Netzwerk angeschlossen ist (anstatt über
	die serielle oder parallele Schnittstelle), lesen Sie bitte
	Abschnitt <a class="link" href="printing-advanced.html#printing-advanced-network-net-if" title="10.4.3.2. Drucker mit direkter TCP-Schnittstelle">Drucker mit
	direkter TCP-Schnittstelle</a>.</p><p>Obwohl dieser Abschnitt <span class="quote">&#8222;<span class="quote">Grund-Konfiguration</span>&#8220;</span>
	heißt, ist die Konfiguration relativ komplex.  Es ist
	vergleichsweise schwierig, einen Drucker mit Ihrem Computer
	und dem <span class="application">LPD</span>-Drucksystem zu
	verbinden.  Die weiteren Optionen, wie Kopfzeilen oder
	Deckblätter, sind einfach zu konfigurieren, sobald die
	Grund-Konfiguration erfolgreich abgeschlossen ist.</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="printing-hardware"></a>10.3.1.1. Hardware-Konfiguration</h4></div></div></div><p>Dieser Abschnitt beschreibt, über welche
	  Schnittstellen Sie einen Drucker mit Ihrem Computer
	  verbinden können.  Er behandelt sowohl die
	  Schnittstellen und Kabel, als auch die Kerneloptionen, die
	  Sie benötigen, um FreeBSD mit Ihrem Drucker
	  kommunizieren zu lassen.</p><p>Wenn Sie Ihren Drucker bereits erfolgreich mit einem
	  anderen Betriebssystem auf Ihrem PC eingesetzt haben,
	  können Sie wahrscheinlich mit dem Abschnitt <a class="link" href="printing-intro-setup.html#printing-software" title="10.3.1.2. Software-Konfiguration">Software-Konfiguration</a>
	  fortfahren.</p><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="printing-ports"></a>10.3.1.1.1. Schnittstellen und Kabel</h5></div></div></div><p>Praktisch alle Drucker unterstützen mindestens
	    eine dieser Schnittstellen:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><span class="emphasis"><em>Seriell</em></span><a id="idp73874384" class="indexterm"></a>
		angeschlossene Drucker werden über eine serielle
		Schnittstelle (auch RS-232 oder COM-Schnittstelle
		genannt) mit Ihrem Computer verbunden.  Diese
		Schnittstelle wird von vielen unterschiedlichen
		Systemen verwendet.  Serielle Kabel sind leicht
		erhältlich und können auch einfach selbst hergestellt
		werden.  Einige Drucker erfordern möglicherweise ein
		spezielles Kabel oder besondere
		Kommunikationseinstellungen.  Die meisten seriellen
		Schnittstellen von PCs besitzen eine maximale
		Datenübertragungsrate von 115200 bps; zum
		Ausdruck großer Grafiken sind serielle Drucker daher
		ungeeignet.</p></li><li class="listitem"><p><span class="emphasis"><em>Parallel</em></span><a id="idp73876048" class="indexterm"></a>
		angeschlossene Drucker werden über eine parallele
		Schnittstelle mit Ihrem Computer verbunden.  Diese
		Schnittstelle wird hauptsächlich von PCs und
		Workstations benutzt.  Die Schnittstelle bietet eine
		höhere Datenübertragungsrate als serielle
		Schnittstellen.  Kabel sind leicht erhältlich, sind
		aber vergleichsweise schwer selbst herzustellen.
		Üblicherweise brauchen keine Kommunikationsparameter
		festgelegt zu werden; dies macht die Einrichtung sehr
		einfach.</p><p>Die parallele Schnittstelle wird auch als
		<span class="quote">&#8222;<span class="quote">Centronics</span>&#8220;</span><a id="idp73877456" class="indexterm"></a>-Schnittstelle
		bezeichnet, nach dem Namen des Steckverbinders, der
		hier häufig zum Einsatz kommt.</p></li><li class="listitem"><p>USB<a id="idp73878992" class="indexterm"></a>-Schnittstelle
		(Universal Serial Bus) bieten noch höhere
		Geschwindigkeiten als parallele Schnittstellen oder
		serielle RS-232-Schnittstellen. USB-Kabel sind einfach
		und billig.  Zum Drucken ist die USB-Schnittstelle
		besser geeignet als serielle oder parallele
		Schnittstellen, auf vielen <span class="trademark">UNIX</span>® Systemen werden
		USB-Schnittstellen jedoch nur unzureichend
		unterstützt.  Um Probleme zu vermeiden, sollten Sie
		sich einen Drucker anschaffen, der sowohl eine
		USB-Schnittstelle als auch eine parallele
		Schnittstelle besitzt (viele Drucker besitzen heute
		beide Schnittstellen).</p></li></ul></div><p>Im Allgemeinen versenden parallele Schnittstellen Daten nur in
	    eine Richtung (vom Computer zum Drucker), serielle Schnittstellen
	    und USB-Schnittstellen versenden Daten in beide Richtungen.
	    Moderne parallele Schnittstellen (EPP and ECP) übertragen
	    Daten bi-direktional nach dem Standard IEEE 1284.</p><a id="idp73889360" class="indexterm"></a><p>Ein Drucker kann auf zwei Arten bi-direktional
	    angesprochen werden.  Die erste Methode benutzt einen
	    Druckertreiber, der die herstellerspezifische Sprache
	    des Druckers beherrscht.  Diese Methode wird oft mit
	    Tintenstrahl-Druckern eingesetzt und dazu benutzt,
	    den Füllstand der Tintenpatronen und andere
	    Status-Informationen auszugeben.  Die zweite Methode
	    wird benutzt, wenn der Drucker <span class="trademark">PostScript</span>® beherrscht.</p><p>Da ein <span class="trademark">PostScript</span>®-Druckauftrag ein komplettes Programm
	    ist, kann es auch Daten an den Computer zurückliefern, ohne
	    überhaupt eine Seite Papier zu bedrucken.  Auf diesem Wege
	    werden auch Probleme wie z.B. ein Papierstau vom Drucker an den
	    Computer übermittelt.  Darüberhinaus ist dies
	    die effektivste Methode, um die tatsächlich gedruckte
	    Anzahl an Seiten vom Drucker abzufragen:  ein <span class="trademark">PostScript</span>®-Programm
	    ermittelt jeweils vor und direkt nach einem Druckauftrag den
	    Seitenzähler des Druckers, und vergleicht die beiden
	    Zählerwerte.</p></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="printing-parallel"></a>10.3.1.1.2. Parallele Schnittstellen</h5></div></div></div><p>Um einen Drucker mit paralleler Schnittstelle an Ihren
	    Computer anzuschließen, verbinden Sie den Drucker
	    mit einer parallelen Schnittstelle Ihres Computers.  Die
	    Dokumentation zu Ihrem Drucker oder Computer sollte Ihnen
	    hier weiterhelfen.</p><p>Notieren Sie sich, mit welcher parallelen Schnittstelle des
	    Computers Sie den Drucker verbunden haben.  Die meisten Computer
	    haben lediglich eine parallele Schnittstelle.
	    Der FreeBSD-Gerätename der ersten Schnittstelle lautet <code class="filename">ppc0</code>, der der zweiten <code class="filename">ppc1</code>, und so weiter.  Der
	    Gerätename für den Drucker an der ersten parallelen
	    Schnittstelle folgt dem selben Schema und lautet <code class="filename">/dev/lpt0</code>, usw.</p></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="printing-serial"></a>10.3.1.1.3. Serielle Schnittstellen</h5></div></div></div><p>Um einen Drucker mit serieller Schnittstelle an Ihren
	    Computer anzuschließen, verbinden Sie den Drucker
	    mit einer seriellen Schnittstelle Ihres Computers.  Die
	    Dokumentation zu Ihrem Drucker oder Computer sollte Ihnen
	    hier weiterhelfen.</p><p>Sollten Sie sich nicht sicher sein, welches das
	    <span class="quote">&#8222;<span class="quote">richtige Kabel</span>&#8220;</span> ist, können Sie eine
	    dieser Alternativen ausprobieren:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Ein <span class="emphasis"><em>Modemkabel</em></span> verbindet alle
		Anschlüsse an einem Ende des Kabels eins-zu-eins
		mit den Anschlüssen am anderen Ende des Kabels.
		Ein solches Kabel wird auch als (engl.)
		<span class="quote">&#8222;<span class="quote">DTE-to-DCE-</span>&#8220;</span> oder
		<span class="quote">&#8222;<span class="quote">DEE-zu-DÜE-</span>&#8220;</span>Kabel
		bezeichnet.</p></li><li class="listitem"><p>Ein
		<span class="emphasis"><em>Nullmodemkabel</em></span><a id="idp73920976" class="indexterm"></a>
		verbindet einige Signale eins-zu-eins, andere über
		Kreuz (z.B. Sende- und Empfangsleitung), und verbindet
		einige weitere direkt im Stecker miteinander.  Ein
		solches Kabel wird auch als (engl.)
		<span class="quote">&#8222;<span class="quote">DTE-to-DTE-</span>&#8220;</span> oder
		<span class="quote">&#8222;<span class="quote">DEE-zu-DEE-</span>&#8220;</span>Kabel bezeichnet.</p></li><li class="listitem"><p>Ein <span class="emphasis"><em>Serielles Druckerkabel</em></span>
		schließlich, das für einige spezielle
		Drucker benötigt wird, verbindet zusätzliche
		Signale miteinander, anstatt sie im Stecker
		zurückzuführen.</p></li></ul></div><a id="idp73923792" class="indexterm"></a><a id="idp73924560" class="indexterm"></a><a id="idp73925456" class="indexterm"></a><p>Sie sollten auch die Kommunikationsparameter am
	    Drucker einstellen; üblicherweise gibt es dazu
	    DIP-Schalter, oder eine Option in der Menüführung am
	    Drucker.  Wählen Sie die höchste
	    <span class="emphasis"><em>Bitrate</em></span> (auch als <code class="literal">bps</code>
	    Bits pro Sekunde oder <span class="emphasis"><em>Baudrate</em></span> bezeichnet),
	    die sowohl Ihr Drucker als auch Ihr Computer unterstützen.
	    Wählen Sie 7 oder 8 Bits, gerade, ungerade oder keine
	    Parität, und ein oder zwei Stoppbits.  Wählen
	    Sie die Art der Flusssteuerung: keine, XON/XOFF (auch
	    als <span class="quote">&#8222;<span class="quote">in-band-</span>&#8220;</span> oder
	    <span class="quote">&#8222;<span class="quote">Software</span>&#8220;</span>-Flusssteuerung bezeichnet),
	    oder Hardware.  Notieren Sie sich diese Einstellungen, damit Sie
	    sie später bei der Software-Konfiguration zur Verfügung
	    haben.</p></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="printing-software"></a>10.3.1.2. Software-Konfiguration</h4></div></div></div><p>Dieser Abschnitt beschreibt die notwendigen
	  Konfigurationsschritte, damit Sie mit dem
	  FreeBSD-<span class="application">LPD</span>-System drucken
	  können.</p><p>Diese Schritte müssen Sie ausführen:</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Konfigurieren Sie Ihren Kernel, soweit notwendig, um
	      die Schnittstelle benutzen zu können, an die Ihr
	      Drucker angeschlossen ist.  Abschnitt <a class="link" href="printing-intro-setup.html#printing-kernel" title="10.3.1.2.1. Kernel-Konfiguration">Kernel-Konfiguration</a>
	      erklärt, welche Optionen Sie
	      benötigen.</p></li><li class="step"><p>Konfigurieren Sie die Kommunikationseinstellungen
	      für die parallele Schnittstelle, sofern Sie sie
	      benutzen.  Abschnitt <a class="link" href="printing-intro-setup.html#printing-parallel-port-mode" title="10.3.1.3. Kommunikationseinstellungen für die parallele Schnittstelle">Kommunikationseinstellungen
	      für die parallele Schnittstelle</a> enthält
	      die Details.</p></li><li class="step"><p>Prüfen Sie, ob Sie Daten an den Drucker senden
	      können.  Abschnitt <a class="link" href="printing-intro-setup.html#printing-testing" title="10.3.1.4. Kommunikation mit den Drucker prüfen">Prüfen der
	      Drucker-Kommunikation</a> führt eine Reihe von
	      Möglichkeiten auf.</p></li><li class="step"><p>Konfigurieren Sie <span class="application">LPD</span>
	      für Ihren Drucker, indem Sie die Konfigurationsdatei
	      <code class="filename">/etc/printcap</code> anpassen.  Details dazu finden
	      Sie im Abschnitt <a class="link" href="printing-intro-setup.html#printing-printcap" title="10.3.1.5. LPD aktivieren: die /etc/printcap-Datei"><span class="application">LPD</span>
	      aktivieren: die
	      <code class="filename">/etc/printcap</code>-Datei</a>.</p></li></ol></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="printing-kernel"></a>10.3.1.2.1. Kernel-Konfiguration</h5></div></div></div><p>Der Betriebssystem-Kernel ist für eine bestimmte
	    Kombination aus Geräten kompiliert.  Dies schließt
	    Ihre seriellen oder parallelen Schnittstellen mit ein.
	    Dementsprechend kann es notwendig sein, die Kernelkonfiguration um
	    weitere Schnittstellen zu erweitern.</p><p>So können Sie prüfen, ob Ihr Kernel die
	    serielle Schnittstelle unterstützt, an die Sie den
	    Drucker angeschlossen haben:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>grep sioN /var/run/dmesg.boot</code></strong></pre><p>Ersetzen Sie <em class="replaceable"><code>N</code></em> durch die
	    Nummer der seriellen Schnittstelle, beginnend bei Null.
	    Wenn Sie eine Ausgabe ähnlich der folgenden erhalten,
	    unterstützt ihr Kernel diese Schnittstelle:</p><pre class="screen">sio2 at port 0x3e8-0x3ef irq 5 on isa
sio2: type 16550A</pre><p> Erhalten Sie keine Ausgabe, oder eine Fehlermeldung,
	    wird die Schnittstelle nicht korrekt unterstützt.</p><p>So können Sie prüfen, ob Ihr Kernel die
	    parallele Schnittstelle unterstützt, an die Sie den
	    Drucker angeschlossen haben:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>grep ppcN /var/run/dmesg.boot</code></strong></pre><p>Ersetzen Sie <em class="replaceable"><code>N</code></em> durch die
	    Nummer der parallelen Schnittstelle, beginnend bei Null.
	    Wenn Sie eine Ausgabe ähnlich der folgenden erhalten,
	    unterstützt ihr Kernel diese Schnittstelle:</p><pre class="screen">ppc0: &lt;Parallel port&gt; at port 0x378-0x37f irq 7 on isa0
ppc0: SMC-like chipset (ECP/EPP/PS2/NIBBLE) in COMPATIBLE mode
ppc0: FIFO with 16/16/8 bytes threshold</pre><p> Erhalten Sie keine Ausgabe, oder eine Fehlermeldung,
	    wird die Schnittstelle nicht korrekt unterstützt.</p><p>Gegebenenfalls müssen Sie Ihren Kernel
	    umkonfigurieren und neu kompilieren, damit die von Ihnen
	    gewählte Schnittstelle unterstützt wird.</p><p>Um Unterstützung für eine serielle Schnittstelle
	    hinzuzufügen, lesen Sie bitte Kapitel <a class="link" href="kernelconfig.html" title="Kapitel 9. Konfiguration des FreeBSD-Kernels">Konfiguration des FreeBSD Kernels</a>.
	    Um eine parallele Schnittstelle hinzuzufügen, lesen Sie bitte
	    ebenfalls jenes Kapitel als auch den folgenden Abschnitt <a class="link" href="printing-intro-setup.html#printing-parallel-port-mode" title="10.3.1.3. Kommunikationseinstellungen für die parallele Schnittstelle">Kommunikationseinstellungen
	    für die parallele Schnittstelle</a>.</p></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="printing-parallel-port-mode"></a>10.3.1.3. Kommunikationseinstellungen für die parallele
	    Schnittstelle</h4></div></div></div><p>Wenn Sie die parallele Schnittstelle zur Kommunikation
	    mit Ihrem Drucker benutzen, haben Sie die Wahl zwischen
	    Interrupt-gesteuerter oder Polling-Datenübertragung.
	    Der generische Druckergerätetreiber <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lpt&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">lpt</span>(4)</span></a> in
	    FreeBSD benutzt das <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppbus&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">ppbus</span>(4)</span></a>-System, das die parallele
	    Schnittstelle mithilfe des <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppc&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">ppc</span>(4)</span></a>-Treibers steuert.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Die <span class="emphasis"><em>Interrupt-gesteuerte</em></span>
		Datenübertragung ist die Voreinstellung im
		GENERIC-Kernel.  Der Treiber benutzt eine IRQ-Leitung,
		um zu erfahren, wann der Drucker weitere Daten
		empfangen kann.</p></li><li class="listitem"><p>Bei der <span class="emphasis"><em>Polling-Methode</em></span>
	        prüft der Treiber in regelmäßigen
		Abständen, ob weitere Daten übertragen
		werden können.</p></li></ul></div><p>Die Interrupt-gesteuerte Methode ist
	    überlicherweise schneller und verbraucht weniger
	    Rechenzeit als die Polling-Methode, es wird jedoch eine
	    eigene IRQ-Leitung für die Schnittstelle
	    benötigt.  Darüberhinaus kann es mit einigen
	    Druckermodellen zu Problemen kommen, wenn die
	    Interrupt-gesteuerte Übertragung zum Einsatz
	    kommt.</p><p>Die können die Kommunikationseinstellung entweder
	    in der Kernel-Konfiguration wählen, oder mittels des
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lptcontrol&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">lptcontrol</span>(8)</span></a>-Programms zur Laufzeit
	    einstellen.</p><p><span class="emphasis"><em>So legen Sie die Kommunikationseinstellung
	    in der Kernel-Konfiguration fest:</em></span></p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Ändern Sie Ihre Kernel-Konfigurationsdatei.
		Finden Sie die Zeile, die mit <code class="literal">device
		ppc0</code> beginnt.  Wenn Sie die zweite parallele
		Schnittstelle konfigurieren möchten, suchen Sie
		nach <code class="literal">device ppc1</code>, für die
		dritte Schnittstelle <code class="literal">ppc2</code>,
		usw.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Um die Interrupt-Steuerung zu aktivieren,
		    passen Sie die folgende Zeile an:</p><pre class="programlisting">hint.ppc.0.irq="<em class="replaceable"><code>N</code></em>"</pre><p>Ersetzen Sie <em class="replaceable"><code>N</code></em>
		    durch die Nummer der IRQ-Leitung, die dieser
		    parallelen Schnittstelle zugewiesen ist.  Stellen
		    Sie sicher, dass Ihre Kernel-Konfigurationsdatei den
		    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppc&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">ppc</span>(4)</span></a>-Treiber enthält:</p><pre class="screen">device ppc</pre></li><li class="listitem"><p>Wenn Sie den Polling-Modus verwenden
		    möchten, entfernen Sie die folgende Zeile
		    aus <code class="filename">/boot/device.hints</code>:</p><pre class="programlisting">hint.ppc.0.irq="<em class="replaceable"><code>N</code></em>"</pre><p>Sollte der Treiber die Schnittstelle dennoch
		    im Interrupt-Modus betreiben, könnte dies an
		    der Aktivierung durch das <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=acpi&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">acpi</span>(4)</span></a>-System in
		    FreeBSD liegen.  Bitte prüfen Sie die
		    ACPI- und die BIOS-Konfiguration.</p></li></ul></div></li><li class="step"><p>Wenn Sie Ihre Kernel-Konfigurationsdatei angepasst
		haben, kompilieren und installieren Sie nun einen
		neuen Kernel.  Das Kapitel <a class="link" href="kernelconfig.html" title="Kapitel 9. Konfiguration des FreeBSD-Kernels">Konfiguration des
		FreeBSD-Kernels</a> enthält weitere Details dazu.</p></li></ol></div><p><span class="emphasis"><em>So können Sie die Kommunikationseinstellung
	    mit</em></span><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lptcontrol&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">lptcontrol</span>(8)</span></a>
	    <span class="emphasis"><em>ändern:</em></span></p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Um die Interrupt-Steuerung für die
		Schnittstelle <em class="replaceable"><code>N</code></em> zu
		aktivieren, geben Sie ein:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>lptcontrol -i -d /dev/lptN</code></strong></pre></li><li class="step"><p>Um den Polling-Modus für die Schnittstelle
		<em class="replaceable"><code>N</code></em> zu aktivieren, geben Sie
		ein:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>lptcontrol -p -d /dev/lptN</code></strong></pre></li></ol></div><p>Sie können diesen Befehl in
	    <code class="filename">/etc/rc.local</code> aufnehmen, damit er bei
	    jedem Systemstart automatisch ausgeführt wird.
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lptcontrol&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">lptcontrol</span>(8)</span></a> enthält weitere Informationen.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="printing-testing"></a>10.3.1.4. Kommunikation mit den Drucker prüfen</h4></div></div></div><p>Bevor Sie mit der Konfiguration des
	    <span class="application">LPD</span>-Drucksystems fortfahren,
	    sollten Sie sicherstellen, das Sie erfolgreich Daten an
	    Ihren Drucker senden können.  Es ist deutlich
	    einfacher, Kommunikations- und Konfigurationsprobleme
	    unabhängig voneinander zu lösen.</p><p>Der Drucker kann mit einem Probeausdruck getestet werden.
	    Für alle Drucker, die normalen Text unmittelbar drucken
	    können, bietet sich das Programm <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lptest&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lptest</span>(1)</span></a> an: es
	    produziert alle 96 druckbaren ASCII-Zeichen auf 96 Zeilen.</p><a id="idp73992784" class="indexterm"></a><p>Für einen <span class="trademark">PostScript</span>®-Drucker (oder andere
	    Drucker, die eine Seitenbeschreibungssprache verwenden)
	    muss ein passendes Programm an den Drucker gesendet
	    werden, z.B. dieses:</p><pre class="programlisting">%!PS
100 100 moveto 300 300 lineto stroke
310 310 moveto /Helvetica findfont 12 scalefont setfont
(Funktioniert dieser Drucker?) show
showpage</pre><p>Sie können dieses ProstScript-Programm in einer
	    Datei speichern, und mit den Beispielen in den folgenden
	    Abschnitt verwenden.</p><a id="idp73995216" class="indexterm"></a><div xmlns="" class="note"><h3 class="admontitle">Anmerkung: </h3><p xmlns="http://www.w3.org/1999/xhtml">Nicht alle Drucker, die eine Seitenbeschreibungssprache
	      verwenden, benötigen ein Test-Programm: z.B. HPs PCL
	      (das auch in vielen kompatiblen Druckern zum Einsatz zu kommt),
	      versteht normalen Text.  Besondere Escape-Sequenzen werden
	      benutzt, um die erweiterten Möglichkeiten aufzurufen.
	      <span class="trademark">PostScript</span>®-Drucker können in der Regel keinen normalen
	      Text direkt verarbeiten, weil sie ein <span class="trademark">PostScript</span>®-Programm
	      erwarten, das eine Seite produziert.</p></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="printing-checking-parallel"></a>10.3.1.4.1. Einen Paralleldrucker prüfen</h5></div></div></div><p>Dieser Abschnitt führt vor, wie Sie die
	      Kommunikation mit Ihrem Drucker über die
	      parallele<a id="idp74011216" class="indexterm"></a>
	      Schnittstelle prüfen können.</p><p><span class="emphasis"><em>So testen Sie einen Drucker an einer
	      parallelen Schnittstelle:</em></span></p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Werden Sie <code class="systemitem">root</code> mithilfe
		  des <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=su&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">su</span>(1)</span></a>-Befehls.</p></li><li class="step"><p>Senden Sie Testdaten an den Drucker.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Wenn Ihr Drucker reinen Text direkt drucken
		      kann, verwenden Sie <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lptest&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lptest</span>(1)</span></a>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>lptest &gt; /dev/lptN</code></strong></pre><p>Ersetzen Sie <em class="replaceable"><code>N</code></em>
		      durch die Nummer der parallelen Schnittstelle,
		      an die der Drucker angeschlossen ist (angefangen
		      bei Null).</p></li><li class="listitem"><p>Wenn Ihr Drucker <span class="trademark">PostScript</span>® (oder eine
		      andere Seitenbeschreibungssprache) versteht,
		      senden Sie ein passendes Testprogramm an den
		      Drucker.  Geben Sie folgenden Befehl ein:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cat file &gt; /dev/lptN</code></strong></pre><p>Ersetzen Sie <em class="replaceable"><code>N</code></em>
		      durch die Nummer der parallelen Schnittstelle,
		      an die der Drucker angeschlossen ist (angefangen
		      bei Null).  Geben Sie nun das Testprogramm ein,
		      Zeile für Zeile.  Kontrollieren Sie jede
		      Zeile, bevor Sie die Eingabetaste drücken:
		      Sie können die Zeile später nicht mehr
		      ändern.  Zum Schluss tippen Sie
		      <span class="keycap"><strong>Ctrl</strong></span>+<span class="keycap"><strong>D</strong></span>.
		      Wenn Sie ein anderes Zeichen nutzen, um das Ende
		      der Datei anzuzeigen, müssen Sie
		      natürlich die entsprechende
		      Tastenkombination für dieses Zeichen
		      betätigen.</p><p>Sie können das Testprogramm auch in
		      einer Datei speichern, und dann diesen Befehl
		      aufrufen:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cat Testprogramm &gt; /dev/lptN</code></strong></pre><p>Ersetzen Sie <em class="replaceable"><code>Testprogramm</code></em>
		      durch den Dateinamen, unter dem Sie das Testprogramm
		      gespeichert haben.</p></li></ul></div></li></ol></div><p>Der Drucker sollte einige Zeilen oder eine Seite
	      drucken.  Machen Sie sich keine Sorgen über falsche
	      Formatierungen: die Software-Konfiguration enthält
	      Informationen zum Umformatieren von Druckaufträgen.</p></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="printing-checking-serial"></a>10.3.1.4.2. Einen seriellen Drucker prüfen</h5></div></div></div><a id="idp74031184" class="indexterm"></a><p>Dieser Abschnitt führt vor, wie Sie die Kommunikation
	      mit Ihrem Drucker über die parallele Schnittstelle
	      prüfen können.</p><p><span class="emphasis"><em>So testen Sie einen Drucker an einer
	      seriellen Schnittstelle:</em></span></p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Werden Sie <code class="systemitem">root</code> mithilfe
		  des <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=su&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">su</span>(1)</span></a>-Befehls.</p></li><li class="step"><p>Ändern Sie die Datei
		  <code class="filename">/etc/remote</code>.  Fügen Sie
		  den folgenden Eintrag hinzu:</p><pre class="programlisting">printer:dv=<code class="filename">/dev/port</code>:br#<em class="replaceable"><code>bps-rate</code></em>:pa=<em class="replaceable"><code>parity</code></em></pre><a id="idp74038096" class="indexterm"></a><a id="idp74038864" class="indexterm"></a><a id="idp74039632" class="indexterm"></a><p>Ersetzen Sie
		  <em class="replaceable"><code>Gerät</code></em> durch den
		  Gerätenamen der seriellen Schnittstelle
		  (<code class="literal">ttyu0</code> für die erste,
		  <code class="literal">ttyu1</code> für die zweite, usw.),
		  <em class="replaceable"><code>Baudrate</code></em> ist die
		  Geschwindigkeit und
		  <em class="replaceable"><code>Parität</code></em> die
		  Parität (<code class="literal">even</code> für
		  gerade, <code class="literal">odd</code> für ungerade
		  oder <code class="literal">none</code> für keine), die
		  Sie am Drucker eingestellt haben.</p><p>Hier ein Beispieleintrag für einen Drucker,
		  der über die dritte serielle Schnittstelle
		  angeschlossen ist, mit 19.200 Baud kommuniziert und
		  keine Parität verwendet:</p><pre class="programlisting">printer:dv=<code class="filename">/dev/ttyu2</code>:br#19200:pa=none</pre></li><li class="step"><p>Verbinden Sie sich mit dem Drucker über den
		  Befehl <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=tip&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">tip</span>(1)</span></a>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>tip printer</code></strong></pre><p>Kommt es hierbei zu einer Fehlermeldung,
		  ändern Sie den Eintrag in
		  <code class="filename">/dev/cuaaN</code> und verwenden Sie <code class="filename">/dev/cuaaN</code>
		  statt <code class="filename">/dev/ttyuN</code>.</p></li><li class="step"><p>Senden Sie Testdaten an den Drucker.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Wenn Ihr Drucker reinen Text direkt drucken
		      kann, verwenden Sie <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lptest&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lptest</span>(1)</span></a>:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>$lptest</code></strong></pre></li><li class="listitem"><p>Wenn Ihr Drucker <span class="trademark">PostScript</span>® (oder eine andere
		      Seitenbeschreibungssprache) versteht, senden Sie ein
		      passendes Testprogramm an den Drucker.  Geben Sie das
		      Testprogramm ein, Zeile für Zeile.  Kontrollieren
		      Sie jede Zeile, bevor Sie die Eingabetaste drücken:
		      Sie können die Zeile später nicht mehr
		      ändern.  Zum Schluss tippen Sie
		      <code class="literal">Control-D</code>.</p><p>Sie können das Testprogramm auch in einer Datei
		      speichern, und dann diesen Befehl aufrufen:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>&gt;Testprogramm</code></strong></pre><p>Ersetzen Sie <em class="replaceable"><code>Testprogramm</code></em>
		      durch den Dateinamen, unter dem Sie das Testprogramm
		      gespeichert haben.  Nachdem <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=tip&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">tip</span>(1)</span></a> die Datei
		      gesendet hat, tippen Sie
		      <code class="literal">Control-D</code>.</p></li></ul></div></li></ol></div><p>Der Drucker sollte einige Zeilen oder eine Seite
	      drucken.  Machen Sie sich keine Sorgen über falsche
	      Formatierungen: die Software-Konfiguration enthält
	      Informationen zum Umformatieren von
	      Druckaufträgen.</p></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="printing-printcap"></a>10.3.1.5. <span class="application">LPD</span> aktivieren: die
	  <code class="filename">/etc/printcap</code>-Datei</h4></div></div></div><p>Nachdem Sie Ihren Drucker angeschlossen haben, Ihren
	  Kernel richtig konfiguriert haben und erfolgreich einen
	  Testausdruck produziert haben, können Sie nun das
	  <span class="application">LPD</span>-System konfigurieren.</p><p>Sie konfigurieren <span class="application">LPD</span>, indem
	  Sie die Datei <code class="filename">/etc/printcap</code> anpassen.
	  Da <span class="application">LPD</span> die Datei jedes Mal liest,
	  wenn eine Aktion durchgeführt wird, werden
	  Änderungen an der Konfiguration sofort aktiv.</p><a id="idp74070864" class="indexterm"></a><p>Die <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=printcap&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">printcap</span>(5)</span></a>-Datei ist einfach aufgebaut.  Sie
	  können <code class="filename">/etc/printcap</code> mit Ihrem
	  bevorzugten Texteditor bearbeiten.  Sie verwendet dasselbe
	  Format wie auch <code class="filename">/usr/share/misc/termcap</code>
	  oder <code class="filename">/etc/remote</code>.  Informationen zum
	  Format finden Sie in <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=cgetent&amp;sektion=3"><span class="citerefentry"><span class="refentrytitle">cgetent</span>(3)</span></a>.</p><p>Die Grund-Konfiguration des
	  <span class="application">LPD</span>-Systems beinhaltet diese
	  Schritte:</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Wählen Sie einen Namen (und einige praktische
	      Abkürzungen) für die Druckerwarteschlage, und
	      tragen Sie ihn in die <code class="filename">/etc/printcap</code>-Datei
	      ein.  Abschnitt <a class="link" href="printing-intro-setup.html#printing-naming" title="10.3.1.5.1. Einen Namen wählen">Einen Namen
	      wählen</a> enthält weitere Informationen.</p></li><li class="step"><p>Schalten Sie den Druck von
	      Deckblättern<a id="idp74082512" class="indexterm"></a>
	      aus (dies ist standardmäßig eingeschaltet), indem Sie
	      das Attribut <code class="literal">sh</code> setzen.  Abschnitt
	      <a class="link" href="printing-intro-setup.html#printing-no-header-pages" title="10.3.1.5.2. Keine Deckblätter drucken">Den Druck von
	      Deckblättern ausschalten</a> erklärt, wie Sie dies
	      tun können.</p></li><li class="step"><p>Legen Sie ein Pufferverzeichnis für die
	      Warteschlange an, und geben Sie den Pfad mittels des
	      <code class="literal">sd</code>-Attributs an: siehe Abschnitt <a class="link" href="printing-intro-setup.html#printing-spooldir" title="10.3.1.5.3. Das Pufferverzeichnis anlegen">Das Pufferverzeichnis
	      anlegen</a>.</p></li><li class="step"><p>Geben Sie den Gerätenamen für Ihren
	      Drucker mittels des <code class="literal">lp</code>-Attributs an:
	      siehe Abschnitt <a class="link" href="printing-intro-setup.html#printing-device" title="10.3.1.5.4. Festlegen der Drucker-Gerätedatei">Festlegen der
	      Drucker-Gerätedatei</a>.  Ist Ihr Drucker
	      über eine serielle Schnittstelle angeschlossen,
	      benutzen Sie das Attribut <code class="literal">ms#</code>,
	      wie dies in Abschnitt <a class="link" href="printing-intro-setup.html#printing-commparam" title="10.3.1.5.5. Kommunikationsparameter festlegen">Festlegen der
	      Kommunikationsparameter</a> beschrieben ist.</p></li><li class="step"><p>Installieren Sie einen Filter für reinen Text:
	      siehe Abschnitt <a class="link" href="printing-intro-setup.html#printing-textfilter" title="10.3.1.5.6. Den Textfilter installieren">Den
	      Textfilter installieren</a>.</p></li><li class="step"><p>Testen Sie die Konfiguration, indem Sie etwas mit
	      dem <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lpr&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lpr</span>(1)</span></a>-Befehl drucken.  Die Abschnitte <a class="link" href="printing-intro-setup.html#printing-trying" title="10.3.1.5.8. Die Konfiguration testen">Die Konfiguration testen</a> und
	      <a class="link" href="printing-troubleshooting.html" title="10.7. Problembehandlung">Fehlersuche und
	      Problembehebung</a> enthalten weitere Informationen.</p></li></ol></div><div xmlns="" class="note"><h3 class="admontitle">Anmerkung: </h3><p xmlns="http://www.w3.org/1999/xhtml">Drucker, die eine Seitenbeschreibungssprache wie
	    <span class="trademark">PostScript</span>® verwenden, können keinen reinen Text
	    drucken.  Es wird deshalb angenommen, dass Sie nur
	    solche Dateien drucken, die Ihr Drucker verarbeiten
	    kann.</p></div><p>Viele Anwender erwarten, dass sie normalen Text auf
	  allen Druckern drucken können.  Viele Programme, die mit
	  <span class="application">LPD</span> zusammenarbeiten, gehen ebenfalls von
	  dieser Annahme aus.  Wenn Sie einen <span class="trademark">PostScript</span>®-Drucker
	  installieren, und Sie sowohl <span class="trademark">PostScript</span>®- als auch Textdateien
	  drucken möchten, sollten Sie einen weiteren
	  Konfigurationsschritt ausführen und einen
	  Text-zu-<span class="trademark">PostScript</span>®-Filter installieren.  Der Abschnitt <a class="link" href="printing-advanced.html#printing-advanced-if-conversion" title="10.4.1.2. Normalen Text auf PostScript®-Druckern drucken">Drucken von reinen
	  Textdateien auf einem <span class="trademark">PostScript</span>®-Drucker</a>
	  erklärt, wie Sie dies tun können.</p><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="printing-naming"></a>10.3.1.5.1. Einen Namen wählen</h5></div></div></div><p>Der erste einfache Schritt ist, einen Namen für
	    Ihren Drucker zu wählen.  Sie können diesen Namen
	    frei wählen, Sie sollten allerdings keine Sonderzeichen oder
	    Umlaute verwenden.  Sie können mehrere Alias-Namen
	    vergeben.</p><p>Ein Drucker in <code class="filename">/etc/printcap</code>
	    sollte den Alias <code class="literal">lp</code> haben.  Dieser Name
	    wird standardmäßig von allen Druckbefehlen
	    verwendet, wenn auf der Befehlszeile oder in der
	    <code class="envar">PRINTER</code>-Umgebungsvariablen kein anderer
	    Drucker angegeben ist.</p><p>Ebenso ist es üblich, eine ausführliche
	    Beschreibung des Druckermodells als letzten Alias-Namen zu
	    verwenden.</p><p>Sobald Sie einen Namen und einige einfache Alias-Namen
	    ausgewählt haben, tragen Sie sie in die Datei
	    <code class="filename">/etc/printcap</code> ein.  Beginnen Sie die
	    Zeile mit dem Namen des Druckers und fügen Sie alle
	    Alias-Namen an.  Trennen Sie die Namen durch den
	    senkrechten Strich <code class="literal">|</code>.  Fügen Sie an
	    das Ende der Zeile einen Doppelpunkt <code class="literal">:</code>
	    an.</p><p>Das folgende Beispiel definiert zwei Drucker, einen
	    Diablo 630 Zeilendrucker, und einen Panasonic KX-P4455
	    <span class="trademark">PostScript</span>®-Laserdrucker:</p><pre class="programlisting">#
#  /etc/printcap for host rose
#
rattan|line|diablo|lp|Diablo 630 Line Printer:

bamboo|ps|PS|S|panasonic|Panasonic KX-P4455 PostScript v51.4:</pre><p>Der erste Drucker hat den Namen
	    <code class="literal">rattan</code>, und hat die Alias-Namen
	    <code class="literal">line</code>, <code class="literal">diablo</code>,
	    <code class="literal">lp</code> und <code class="literal">Diablo 630 Line
	    Printer</code>.  Da er den Alias-Namen
	    <code class="literal">lp</code> trägt, wird er
	    standardmäßig von den Druckprogrammen
	    verwendet.  Der zweite Drucker heißt
	    <code class="literal">bamboo</code>, und hat die Alias-Namen
	    <code class="literal">ps</code>, <code class="literal">PS</code>,
	    <code class="literal">S</code>, <code class="literal">panasonic</code> und
	    <code class="literal">Panasonic KX-P4455 PostScript
	    v51.4</code>.</p></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="printing-no-header-pages"></a>10.3.1.5.2. Keine Deckblätter drucken</h5></div></div></div><a id="idp74125904" class="indexterm"></a><p>Standardmäßig druckt das
	    <span class="application">LPD</span>-System ein
	    <span class="emphasis"><em>Deckblatt</em></span> vor jedem Druckauftrag,
	    die den Namen des Druckauftrags, den Benutzer und den
	    Computer angibt.  Während der Einrichtung des Systems
	    und beim Testen stört das Deckblatt allerdings,
	    weshalb Sie sie zunächst deaktivieren sollten.</p><p>Um den Druck von Deckblättern zu deaktivieren,
	    fügen Sie das Attribut <code class="literal">sh</code> zur
	    Druckerdefinition in <code class="filename">/etc/printcap</code>
	    hinzu.  Hier ein Beispiel:</p><pre class="programlisting">#
#  /etc/printcap for host rose - no header pages anywhere
#
rattan|line|diablo|lp|Diablo 630 Line Printer:\
        :sh:

bamboo|ps|PS|S|panasonic|Panasonic KX-P4455 PostScript v51.4:\
        :sh:</pre><p>Beachten Sie die korrekte Formatierung: die beiden
	    Definitionen beginnen auf einer Zeile; weitere Zeilen der
	    Definition sind mit einem <code class="literal">Tab</code>-Zeichen
	    eingerückt, und alle Zeilen einer Definition, bis auf
	    die letzte, enden mit dem Backslash <code class="literal">\</code>.</p></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="printing-spooldir"></a>10.3.1.5.3. Das Pufferverzeichnis anlegen</h5></div></div></div><a id="idp74131792" class="indexterm"></a><a id="idp74132560" class="indexterm"></a><p>Der nächste Schritt ist, das
	    <span class="emphasis"><em>Pufferverzeichnis</em></span> anzulegen.  In
	    diesem Verzeichnis werden Druckaufträge zwischengespeichert,
	    während sie gedruckt werden.  Gleichzeitig werden hier auch
	    einige Verwaltungsdateien des Systems abgelegt.</p><p>Da sich die Dateien in diesem Verzeichnis häufig
	    ändern, ist es üblich, das Verzeichnis unter
	    <code class="filename">/var/spool</code> anzulegen.
	    Es ist nicht notwendig, Sicherungskopien der Dateien
	    herzustellen; das Verzeichnis kann nötigenfalls
	    leicht mit <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mkdir&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">mkdir</span>(1)</span></a> wieder angelegt werden.</p><p>Es ist auch üblich, dem Verzeichnis denselben
	    Namen wie dem Drucker zu geben:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mkdir /var/spool/printer-name</code></strong></pre><p>Wenn Sie viele Drucker verwenden, ist es am besten,
	    wenn Sie für die Pufferverzeichnisse ein eigenes
	    Unterverzeichnis in <code class="filename">/var/spool</code>
	    anlegen, wie dies hier für die beiden Beispieldrucker
	    <code class="literal">rattan</code> und <code class="literal">bamboo</code>
	    gezeigt wird:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mkdir /var/spool/lpd</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>mkdir /var/spool/lpd/rattan</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>mkdir /var/spool/lpd/bamboo</code></strong></pre><div xmlns="" class="note"><h3 class="admontitle">Anmerkung: </h3><p xmlns="http://www.w3.org/1999/xhtml">Um zu verhindern, dass alle Benutzer den Inhalt
	      aller Druckaufträge einsehen können, sollten
	      Sie die Rechte auf den Pufferverzeichnissen einschränken.
	      Die Verzeichnisse sollten dem
	      Benutzer <code class="systemitem">daemon</code> und der Gruppe
	      <code class="systemitem">daemon</code> gehören, und auch nur
	      vom Benutzer und der Gruppe les-, schreib- und
	      durchsuchbar sein.  Für unsere
	      Beispieldrucker:</p><pre xmlns="http://www.w3.org/1999/xhtml" class="screen"><code class="prompt">#</code> <strong class="userinput"><code>chown daemon:daemon /var/spool/lpd/rattan</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>chown daemon:daemon /var/spool/lpd/bamboo</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>chmod 770 /var/spool/lpd/rattan</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>chmod 770 /var/spool/lpd/bamboo</code></strong></pre></div><p>Schließlich müssen Sie dem
	    <span class="application">LPD</span>-System noch mitteilen, wo
	    Sie die Pufferverzeichnisse angelegt haben.  Dazu geben Sie
	    in der Definition das Attribut <code class="literal">sd</code> an:</p><pre class="programlisting">#
#  /etc/printcap for host rose - added spooling directories
#
rattan|line|diablo|lp|Diablo 630 Line Printer:\
        :sh:sd=<code class="filename">/var/spool/lpd/rattan</code>:

bamboo|ps|PS|S|panasonic|Panasonic KX-P4455 PostScript v51.4:\
        :sh:sd=<code class="filename">/var/spool/lpd/bamboo</code>:</pre><p>Beachten Sie, dass der Druckername in der ersten
	    Spalte beginnt, und dass alle Folgezeilen mit einem
	    <code class="literal">Tab</code> eingerückt sind.</p><p>Wenn Sie das <code class="literal">sd</code>-Attribut nicht
	    angeben, verwendet das System <code class="filename">/var/spool/lpd</code> als Verzeichnis.</p></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="printing-device"></a>10.3.1.5.4. Festlegen der Drucker-Gerätedatei</h5></div></div></div><p>Nachdem Sie die korrekte Gerätedatei für die
	    Schnittstelle im Abschnitt <a class="link" href="printing-intro-setup.html#printing-hardware" title="10.3.1.1. Hardware-Konfiguration">Hardware-Konfiguration</a>
	    identifiziert und angelegt haben, müssen Sie dem
	    <span class="application">LPD</span>-System mitteilen, welche
	    Gerätedatei im Verzeichnis <code class="filename">/dev</code> es für die
	    Datenübertragung zum Drucker verwenden soll.</p><p>Geben Sie die Gerätedatei durch das Attribut
	    <code class="literal">lp</code> in
	    <code class="filename">/etc/printcap</code> an.</p><p>Wenn <code class="literal">rattan</code> an die erste parallele
	    Schnittstelle angeschlossen ist, und <code class="literal">bamboo</code> an
	    die sechste serielle, dann sieht <code class="filename">/etc/printcap</code>
	    so aus:</p><pre class="programlisting">#
#  /etc/printcap for host rose - identified what devices to use
#
rattan|line|diablo|lp|Diablo 630 Line Printer:\
        :sh:sd=<code class="filename">/var/spool/lpd/rattan</code>:\
        :lp=<code class="filename">/dev/lpt0</code>:

bamboo|ps|PS|S|panasonic|Panasonic KX-P4455 PostScript v51.4:\
        sh:sd=<code class="filename">/var/spool/lpd/bamboo</code>:\
        :lp=<code class="filename">/dev/ttyu5</code>:</pre><p>Wenn Sie <code class="literal">lp</code> nicht angeben, versucht
	    <span class="application">LPD</span> die Gerätedatei <code class="filename">/dev/lp</code> zu verwenden.  <code class="filename">/dev/lp</code> ist zurzeit in FreeBSD
	    nicht definiert.</p><p>Wenn Ihr Drucker über eine parallele Schnittstelle
	    angeschlossen ist, können Sie mit dem Abschnitt <a class="link" href="printing-intro-setup.html#printing-textfilter" title="10.3.1.5.6. Den Textfilter installieren">Den Textfilter installieren</a>
	    fortfahren.  Verwenden Sie eine serielle Schnittstelle, beachten
	    Sie bitte den folgenden Abschnitt.</p></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="printing-commparam"></a>10.3.1.5.5. Kommunikationsparameter festlegen</h5></div></div></div><a id="idp74170192" class="indexterm"></a><p>Für seriell angeschlossene Drucker kann
	    <span class="application">LPD</span> die Geschwindigkeit,
	    Parität und weitere Kommunikationsparameter
	    einstellen.  Dies hat folgende Vorteile:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Sie können die Parameter einfach in
		<code class="filename">/etc/printcap</code> ändern, ohne
		das Ausgabe-Filterprogramm anpassen zu
		müssen.</p></li><li class="listitem"><p>Dasselbe Ausgabe-Filterprogramm kann für
		unterschiedliche Drucker verwendet werden, auch wenn
		diese unterschiedliche Kommunikationseinstellungen
		benötigen.</p></li></ul></div><p>Die folgenden Attribute legen die seriellen
	    Kommunikationsparameter fest:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">br#Baudrate</code></span></dt><dd><p>Setzt die Übertragungsgeschwindigkeit auf
		  <em class="replaceable"><code>Baudrate</code></em>.
		  <em class="replaceable"><code>Baudrate</code></em> kann
		  üblicherweise 50, 75, 110, 134.5, 150, 300,
		  600, 1200, 1800, 2400, 4800, 9600, 19200, 38400,
		  57600, oder 115200 Bit pro Sekunde betragen.</p></dd><dt><span class="term"><code class="literal">ms#stty-Modi</code></span></dt><dd><p>Setzt die Eigenschaften für das Gerät,
		  nachdem es geöffnet wurde.  Die verfügbaren
		  Eigenschaften sind in <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=stty&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">stty</span>(1)</span></a> aufgeführt.</p></dd></dl></div><p>Wenn <span class="application">LPD</span> das mit
	    <code class="literal">lp</code> angegebene Gerät öffnet,
	    setzt es die mit <code class="literal">ms#</code> angegebenen
	    Eigenschaften.  Von besonderem Interesse sind hier die Modi
	    <code class="literal">parenb</code>, <code class="literal">parodd</code>,
	    <code class="literal">cs5</code>, <code class="literal">cs6</code>,
	    <code class="literal">cs7</code>, <code class="literal">cs8</code>,
	    <code class="literal">cstopb</code>, <code class="literal">crtscts</code> und
	    <code class="literal">ixon</code>, die in der
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=stty&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">stty</span>(1)</span></a>-Handbuchseite erläutert werden.</p><p>Für den über die sechste serielle
	    Schnittstelle angeschlossenen Laserdrucker beträgt
	    die Geschwindigkeit 38.400 Baud, und es werden diese
	    Kommunikationseinstellungen verwendet: keine Parität
	    (<code class="literal">-parenb</code>), 8-Bit-Zeichen
	    (<code class="literal">cs8</code>), keine Modemsteuerung
	    (<code class="literal">clocal</code>) und Hardware-Flusssteuerung
	    (<code class="literal">crtscts</code>):</p><pre class="programlisting">bamboo|ps|PS|S|panasonic|Panasonic KX-P4455 PostScript v51.4:\
        :sh:sd=<code class="filename">/var/spool/lpd/bamboo</code>:\
        :lp=<code class="filename">/dev/ttyd5</code>:ms#-parenb cs8 clocal crtscts:</pre></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="printing-textfilter"></a>10.3.1.5.6. Den Textfilter installieren</h5></div></div></div><a id="idp74190032" class="indexterm"></a><p>Ein <span class="emphasis"><em>Textfilter</em></span>, auch als
	    <span class="emphasis"><em>Eingangsfilter</em></span> bezeichnet, ist ein
	    Programm, das von <span class="application">LPD</span>
	    aufgerufen wird, wenn ein Druckauftrag verarbeitet wird.
	    Dabei wird die Standardeingabe des Programms mit der zu
	    druckenden Datei verbunden, und die Standardausgabe mit
	    dem im <code class="literal">lp</code>-Attribut angegebenen
	    Gerät.  Das Programm sollte nun die Datei einlesen,
	    alle Übersetzungen durchführen, die für den
	    Drucker notwendig sind, und das Ergebnis über die
	    Standardausgabe an den Drucker senden.  Textfilter werden
	    im Abschnitt <a class="link" href="printing-advanced.html#printing-advanced-filters" title="10.4.1.1. Die Funktionsweise von Filtern">Filter</a> genauer
	    erläutert.</p><p>Um einen einfachen Test durchzuführen, reicht ein
	    kleines Filterprogramm, dass schlicht <code class="command">/bin/cat</code>
	    aufruft, um die Daten unverändert und den Drucker zu schicken.
            FreeBSD verfügt über das Programm <code class="filename">lpf</code>,
            das Unterstreichung und Fettdruck für solche Drucker
            ermöglicht, die ansonsten dazu nicht in der Lage wären.
            Darüberhinaus gibt es viele andere Filter, die Sie einsetzen
            können.  <code class="command">lpf</code> wird im Abschnitt <a class="link" href="printing-advanced.html#printing-advanced-lpf" title="10.4.1.6. lpf: Ein Textfilter">lpf: ein Textfilter</a>
	    ausführlich beschrieben.</p><p>Legen Sie zunächst das folgende Shell-Skript als
	    <code class="filename">/usr/local/libexec/if-simple</code> mit
	    Ihrem bevorzugten Texteditor an:</p><pre class="programlisting">#!/bin/sh
#
# if-simple - Simple text input filter for lpd
# Installed in /usr/local/libexec/if-simple
#
# Simply copies stdin to stdout.  Ignores all filter arguments.

/bin/cat &amp;&amp; exit 0
exit 2</pre><p>Machen Sie die Datei ausführbar:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>chmod 555 /usr/local/libexec/if-simple</code></strong></pre><p>Konfigurieren Sie nun den Textfilter für Ihren
	    Drucker in <code class="filename">/etc/printcap</code>, indem Sie
	    das <code class="literal">if</code>-Attribut hinzufügen.  Hier
	    die Konfiguration unserer beiden Beispieldrucker:</p><pre class="programlisting">#
#  /etc/printcap for host rose - added text filter
#
rattan|line|diablo|lp|Diablo 630 Line Printer:\
        :sh:sd=<code class="filename">/var/spool/lpd/rattan</code>:\ :lp=<code class="filename">/dev/lpt0</code>:\
        :if=<code class="filename">/usr/local/libexec/if-simple</code>:

bamboo|ps|PS|S|panasonic|Panasonic KX-P4455 PostScript v51.4:\
        :sh:sd=<code class="filename">/var/spool/lpd/bamboo</code>:\
        :lp=<code class="filename">/dev/ttyu5</code>:ms#-parenb cs8 clocal crtscts:\
        :if=<code class="filename">/usr/local/libexec/if-simple</code>:</pre><div xmlns="" class="note"><h3 class="admontitle">Anmerkung: </h3><p xmlns="http://www.w3.org/1999/xhtml">Das Shell-Skript <code class="filename">if-simple</code>
	      steht im Verzeichnis <code class="filename">/usr/share/examples/printing</code>.</p></div></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp74211792"></a>10.3.1.5.7. <span class="application">LPD</span> aktivieren</h5></div></div></div><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lpd&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">lpd</span>(8)</span></a> wird von <code class="filename">/etc/rc</code>
	    gestartet, wenn die <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=rc.conf&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">rc.conf</span>(5)</span></a>-Variable
	    <code class="literal">lpd_enable</code> auf <code class="literal">YES</code>
	    gesetzt ist.  Fügen Sie dazu diese Zeile in
	    <code class="filename">/etc/rc.conf</code> hinzu:</p><pre class="programlisting">lpd_enable="YES"</pre><p>Starten Sie Ihren Computer neu, oder starten Sie
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lpd&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">lpd</span>(8)</span></a> von Hand:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>lpd</code></strong></pre></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="printing-trying"></a>10.3.1.5.8. Die Konfiguration testen</h5></div></div></div><p>Damit ist die einfache Konfiguration abgeschlossen.
	    Noch muss die Konfiguration aber getestet werden und etwaige
	    Probleme müssen behoben werden.  Um die Konfiguration zu
	    testen, sollten Sie einen Probeausdruck mithilfe des Programms
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lpr&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lpr</span>(1)</span></a> produzieren.  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lpr&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lpr</span>(1)</span></a> übergibt
	    Druckaufträge an das
	    <span class="application">LPD</span>-System.</p><p>Sie können <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lpr&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lpr</span>(1)</span></a> mit <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lptest&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lptest</span>(1)</span></a>
	    kombinieren, um Testdaten zu drucken.  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lptest&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lptest</span>(1)</span></a> wurde
	    im Abschnitt <a class="link" href="printing-intro-setup.html#printing-testing" title="10.3.1.4. Kommunikation mit den Drucker prüfen">Kommunikation mit den Drucker
	    prüfen</a> vorgestellt.</p><p><span class="emphasis"><em>So testen Sie die einfache
	    <span class="application">LPD</span>-Konfiguration:</em></span></p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>lptest 20 5 | lpr -PDruckername</code></strong></pre><p>Ersetzen Sie <em class="replaceable"><code>Druckername</code></em>
	    durch den Namen des Druckers, den Sie testen möchten.
	    Wenn Sie den Standard-Drucker testen möchten, rufen
	    Sie <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lpr&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lpr</span>(1)</span></a>  ohne die Option <code class="option">-P</code> auf.
	    Wenn Sie einen Drucker testen möchten, der nur
	    <span class="trademark">PostScript</span>® versteht, müssen Sie ein
	    <span class="trademark">PostScript</span>®-Testprogramm an <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lpr&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lpr</span>(1)</span></a> übergeben.
	    Ein Testprogramm, das Sie in einer Datei gespeichert haben,
	    können Sie mit dem Befehl
	    <code class="command">lpr Dateiname</code>
	    an das <span class="application">LPD</span>-System übergeben.</p><p>Bei einem <span class="trademark">PostScript</span>®-Drucker hängt das Ergebnis
	    naturgemäß vom Testprogramm ab.  Wenn Sie
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lptest&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lptest</span>(1)</span></a> verwenden, sollte das Ergebnis
	    ungefähr so aussehen:</p><pre class="screen">!"#$%&amp;'()*+,-./01234
"#$%&amp;'()*+,-./012345
#$%&amp;'()*+,-./0123456
$%&amp;'()*+,-./01234567
%&amp;'()*+,-./012345678</pre><p>Um sicherzustellen, dass alles richtig
	    funktioniert, sollten Sie jetzt ein größeres
	    <span class="trademark">PostScript</span>®-Programm senden.  Mit <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lptest&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lptest</span>(1)</span></a> können
	    Sie größere Datenmengen z.B. mit dem Befehl
	    <code class="command">lptest 80 60</code> erzeugen: <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lptest&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lptest</span>(1)</span></a>
	    produziert 60 Zeilen mit je 80 Zeichen.</p><p>Wenn Sie nicht erfolgreich drucken können, finden
	    Sie im Abschnitt <a class="link" href="printing-troubleshooting.html" title="10.7. Problembehandlung">Fehlersuche und
	    Problembehebung</a> weitere Informationen.</p></div></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="printing-intro-spooler.html">Zurück</a> </td><td width="20%" align="center"><a accesskey="u" href="printing.html">Nach oben</a></td><td width="40%" align="right"> <a accesskey="n" href="printing-advanced.html">Weiter</a></td></tr><tr><td width="40%" align="left" valign="top">10.2. Einführung </td><td width="20%" align="center"><a accesskey="h" href="index.html">Zum Anfang</a></td><td width="40%" align="right" valign="top"> 10.4. Erweiterte Drucker-Konfiguration</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Wenn Sie Fragen zu FreeBSD haben, schicken Sie eine E-Mail an
    &lt;<a href="mailto:de-bsd-questions@de.FreeBSD.org">de-bsd-questions@de.FreeBSD.org</a>&gt;.<br></br>
    Wenn Sie Fragen zu dieser Dokumentation haben, schicken Sie eine E-Mail an
    &lt;<a href="mailto:de-bsd-translators@de.FreeBSD.org">de-bsd-translators@de.FreeBSD.org</a>&gt;.</small></p></body></html>