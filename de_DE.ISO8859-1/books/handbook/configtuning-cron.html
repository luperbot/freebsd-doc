<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>12.6. Programme mit cron starten</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Das FreeBSD-Handbuch" /><link rel="up" href="config-tuning.html" title="Kapitel 12. Konfiguration und Tuning" /><link rel="prev" href="configtuning-starting-services.html" title="12.5. Start von Diensten" /><link rel="next" href="configtuning-rcd.html" title="12.7. Das rc-System für Systemdienste" /><link rel="copyright" href="legalnotice.html" title="Rechtlicher Hinweis" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">12.6. Programme mit <code class="command">cron</code> starten</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="configtuning-starting-services.html">Zurück</a> </td><th width="60%" align="center">Kapitel 12. Konfiguration und Tuning</th><td width="20%" align="right"> <a accesskey="n" href="configtuning-rcd.html">Weiter</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="configtuning-cron"></a>12.6. Programme mit <code class="command">cron</code> starten</h2></div><div><span class="authorgroup">Beigetragen von <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Tom</span> <span class="surname">Rhodes</span></span>. </span></div></div></div><a id="idp76279632" class="indexterm"></a><p>Ein sehr nützliches Werkzeug von FreeBSD ist <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=cron&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">cron</span>(8)</span></a>.
      <code class="command">cron</code> läuft im Hintergrund und
      überprüft fortlaufend die Datei
      <code class="filename">/etc/crontab</code>.  Beim Start sucht
      <code class="command">cron</code> neue
      <code class="filename">crontab</code>-Dateien im Verzeichnis
      <code class="filename">/var/cron/tabs</code>.  In den
      <code class="filename">crontab</code>-Dateien wird festgelegt, welche
      Programme zu welchem Zeitpunkt laufen sollen.</p><p>Das Werkzeug <code class="command">cron</code> verwendet zwei
      verschiedene Konfigurationsdateien: die
      System-<code class="filename">crontab</code> und die
      Benutzer-<code class="filename">crontab</code>s.  Der einzige Unterschied
      zwischen beiden Formaten ist das sechste Feld.  In der
      System-<code class="filename">crontab</code> gibt das
      sechste Feld den Benutzer an, mit dem <code class="command">cron</code>
      das Kommando ausführen wird.  In einer
      Benutzer-<code class="filename">crontab</code> werden alle Kommandos
      unter dem Benutzer ausgeführt, welcher die
      <code class="filename">crontab</code> erstellt hat.  Hier ist das sechste
      Feld das letzte Feld.  Dies ist ein wichtiges
      Sicherheitsmerkmal.  Das letzte Feld bezeichnet immer das
      Kommando, das ausgeführt werden soll.</p><div xmlns="" class="note"><h3 class="admontitle">Anmerkung: </h3><p xmlns="http://www.w3.org/1999/xhtml">Benutzer können mit Benutzer-<code class="filename">crontabs</code>
	ohne <code class="systemitem">root</code>-Rechte
	Befehle terminieren.  Die Kommandos in
	Benutzer-<code class="filename">crontabs</code> laufen unter dem
	Benutzer, der die <code class="filename">crontab</code> erstellt
	hat.</p><p xmlns="http://www.w3.org/1999/xhtml">Der Benutzer
	<code class="systemitem">root</code> kann, wie jeder
	andere Benutzer, eine Benutzer-<code class="filename">crontab</code>
	besitzen.  Die Benutzer-<code class="filename">crontab</code> von
	<code class="systemitem">root</code> ist nicht mit
	<code class="filename">/etc/crontab</code>, der
	System-<code class="filename">crontab</code>, zu verwechseln.  Da die
	System-<code class="filename">crontab</code> die angegebenen Kommandos
	effektiv als
	<code class="systemitem">root</code>-Benutzer
	aufruft, besteht normalerweise keine Notwendigkeit eine eigene
	Benutzer-<code class="filename">crontab</code> für
	<code class="systemitem">root</code> zu
	erstellen.</p></div><p>Der folgende Auszug aus der
      System-<code class="filename">crontab</code>
      <code class="filename">/etc/crontab</code> zeigt den Aufbau
      einer <code class="filename">crontab</code>-Datei:</p><pre class="programlisting"># /etc/crontab - root's crontab for FreeBSD
#
# $FreeBSD: src/etc/crontab,v 1.32 2002/11/22 16:13:39 tom Exp $
# <a id="co-comments"></a><span><img src="./imagelib/callouts/1.png" alt="1" border="0" /></span>
#
SHELL=/bin/sh
PATH=/etc:/bin:/sbin:/usr/bin:/usr/sbin <a id="co-env"></a><span><img src="./imagelib/callouts/2.png" alt="2" border="0" /></span>
HOME=/var/log
#
#
#minute	hour	mday	month	wday	who	command <a id="co-field-descr"></a><span><img src="./imagelib/callouts/3.png" alt="3" border="0" /></span>
#
#
*/5	*	*	*	*	root	/usr/libexec/atrun <a id="co-main"></a><span><img src="./imagelib/callouts/4.png" alt="4" border="0" /></span></pre><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#co-comments"><span><img src="./imagelib/callouts/1.png" alt="1" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Das Zeichen <code class="literal">#</code> am Zeilenanfang leitet,
	  wie in den meisten Konfigurationsdateien, einen Kommentar
	  ein.  Benutzen Sie Kommentare, um die Funktion eines
	  Eintrags zu erläutern.  Kommentare müssen in einer extra
	  Zeile stehen.  Sie können nicht in derselben Zeile wie ein
	  Kommando stehen, da sie sonst Teil des Kommandos wären.
	  Leerzeilen in dieser Datei werden ignoriert.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-env"><span><img src="./imagelib/callouts/2.png" alt="2" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Umgebungsvariablen werden mit dem Gleichheits-Zeichen
	  (<code class="literal">=</code>) festgelegt.  Im Beispiel werden
	  die Variablen <code class="envar">SHELL</code>, <code class="envar">PATH</code>
	  und <code class="envar">HOME</code> definiert.  Wenn die Variable
	  <code class="envar">SHELL</code> nicht definiert wird, benutzt
	  <code class="command">cron</code> die Shell <code class="command">sh</code>.
	  Wird die Variable <code class="envar">PATH</code> nicht gesetzt,
	  müssen alle Pfadangaben absolut sein, da es keinen
	  Vorgabewert für <code class="envar">PATH</code> gibt.  Der
	  Vorgabewert für <code class="envar">HOME</code> ist das
	  Heimatverzeichnis des Accounts, dem die
	  <code class="filename">crontab</code> gehört.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-field-descr"><span><img src="./imagelib/callouts/3.png" alt="3" border="0" /></span></a> </p></td><td valign="top" align="left"><p>In dieser Zeile werden sieben Felder beschrieben:
	  <code class="literal">minute</code>, <code class="literal">hour</code>,
	  <code class="literal">mday</code>, <code class="literal">month</code>,
	  <code class="literal">wday</code>, <code class="literal">who</code>
	  und <code class="literal">command</code>.  Die ersten Felder
	  legen den Zeitpunkt fest, an dem ein Kommando laufen
	  soll.  Das Feld <code class="literal">minute</code> legt die
	  Minute fest, das Feld <code class="literal">hour</code> die
	  Stunde, das Feld <code class="literal">mday</code> den Tag
	  des Monats.  Im Feld <code class="literal">month</code>
	  wird der Monat und im Feld <code class="literal">wday</code>
	  der Wochentag festgelegt.  Alle Felder müssen
	  numerische Werte enthalten und die Zeitangaben sind
	  im 24-Stunden-Format.  Das Feld <code class="literal">who</code>
	  gibt es nur in der Datei <code class="filename">/etc/crontab</code>
	  und gibt den Account an, unter dem das Kommando laufen
	  soll.  Im letzten Feld wird schließlich das auszuführende
	  Kommando angegeben.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-main"><span><img src="./imagelib/callouts/4.png" alt="4" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Diese Zeile definiert die Zeitpunkte an denen
	  <code class="command">atrun</code> laufen soll.  Beachten
	  Sie die Zeichenfolge <code class="literal">*/5</code> gefolgt von
	  mehreren <code class="literal">*</code>-Zeichen.  Das Zeichen
	  <code class="literal">*</code> ist ein Platzhalter und steht
	  für <span class="emphasis"><em>jede</em></span> mögliche Zeit.
	  Diese Zeile führt <code class="command">atrun</code> unter dem
	  <code class="systemitem">root</code>-Account alle
	  fünf Minuten aus.  Mehr über <code class="command">atrun</code>
	  erfahren Sie in der Manualpage <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=atrun&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">atrun</span>(8)</span></a>.</p><p>Bei den Kommandos können beliebige Optionen
	  angegeben werden.  Wenn das Kommando zu lang ist und
	  auf der nächsten Zeile fortgesetzt werden soll,
	  muss am Ende der Zeile das Fortsetzungszeichen
	  (<code class="literal">\</code>) angegeben werden.</p></td></tr></table></div><p>Bis auf das sechste Feld, das den Account angibt, sieht
      jede <code class="filename">crontab</code> so wie das Beispiel
      aus.  Das sechste Feld existiert nur in der Systemdatei
      <code class="filename">crontab</code>.  In den restlichen
      <code class="filename">crontab</code>-Dateien fehlt dieses Feld.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="configtuning-installcrontab"></a>12.6.1. <code class="filename">crontab</code> installieren</h3></div></div></div><div xmlns="" class="important"><h3 class="admontitle">Wichtig: </h3><p xmlns="http://www.w3.org/1999/xhtml">Die nachstehende Prozedur gilt nur für
	  Benutzer-<code class="filename">crontabs</code>.  Die
	  System-<code class="filename">crontab</code> können
	  Sie einfach mit Ihrem Lieblingseditor editieren.
	  Das Werkzeug <code class="command">cron</code> bemerkt, dass
	  sich die Datei geändert hat und wird die neue
	  Version benutzen.  Lesen Sie bitte auch die FAQ
	  zur Meldung <a class="link" href="../../../../doc/de_DE.ISO8859-1/books/faq/admin.html#ROOT-NOT-FOUND-CRON-ERRORS" target="_top">root: not found</a>.</p></div><p>Eine Benutzer-<code class="filename">crontab</code>, beispielsweise
	die Datei <code class="filename">crontab</code>, können Sie mit
	jedem Editor erstellen.  Die
	Benutzer-<code class="filename">crontab</code> installieren Sie mit dem
	nachstehenden Befehl:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>crontab crontab</code></strong></pre><p>Das Argument zum Befehl <code class="command">crontab</code>
	ist die vorher erstellte Datei
	<code class="filename">crontab</code>.</p><p>Der Befehl <code class="command">crontab -l</code> zeigt
	die installierte <code class="filename">crontab</code>-Datei an.</p><p>Benutzer, die eine eigene
	<code class="filename">crontab</code>-Datei ohne Vorlage erstellen
	wollen, können den Befehl <code class="command">crontab -e</code>
	verwenden.  Dieser Befehl ruft einen Editor auf und
	installiert beim Verlassen des Editors die
	<code class="filename">crontab</code>-Datei.</p><p>Wollen Sie die installierte
	Benutzer-<code class="filename">crontab</code> entfernen, rufen Sie den
	Befehl <code class="command">crontab</code> mit der Option
	<code class="option">-r</code> auf.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="configtuning-starting-services.html">Zurück</a> </td><td width="20%" align="center"><a accesskey="u" href="config-tuning.html">Nach oben</a></td><td width="40%" align="right"> <a accesskey="n" href="configtuning-rcd.html">Weiter</a></td></tr><tr><td width="40%" align="left" valign="top">12.5. Start von Diensten </td><td width="20%" align="center"><a accesskey="h" href="index.html">Zum Anfang</a></td><td width="40%" align="right" valign="top"> 12.7. Das rc-System für Systemdienste</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Wenn Sie Fragen zu FreeBSD haben, schicken Sie eine E-Mail an
    &lt;<a href="mailto:de-bsd-questions@de.FreeBSD.org">de-bsd-questions@de.FreeBSD.org</a>&gt;.<br></br>
    Wenn Sie Fragen zu dieser Dokumentation haben, schicken Sie eine E-Mail an
    &lt;<a href="mailto:de-bsd-translators@de.FreeBSD.org">de-bsd-translators@de.FreeBSD.org</a>&gt;.</small></p></body></html>