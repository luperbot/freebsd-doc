<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>19.3. Hinzufügen von Laufwerken</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Das FreeBSD-Handbuch" /><link rel="up" href="disks.html" title="Kapitel 19. Speichermedien" /><link rel="prev" href="disks-naming.html" title="19.2. Gerätenamen" /><link rel="next" href="raid.html" title="19.4. RAID" /><link rel="copyright" href="legalnotice.html" title="Rechtlicher Hinweis" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">19.3. Hinzufügen von Laufwerken</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="disks-naming.html">Zurück</a> </td><th width="60%" align="center">Kapitel 19. Speichermedien</th><td width="20%" align="right"> <a accesskey="n" href="raid.html">Weiter</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="disks-adding"></a>19.3. Hinzufügen von Laufwerken</h2></div><div><span class="authorgroup">Im Original von <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">David</span> <span class="surname">O'Brian</span></span>. </span></div></div></div><a id="idp80835536" class="indexterm"></a><p>Der folgende Abschnitt beschreibt, wie Sie ein neues
      <acronym class="acronym">SCSI</acronym>-Laufwerk zu einer Maschine
      hinzufügen, die momentan nur ein Laufwerk hat.  Dazu schalten
      Sie zuerst den Rechner aus und installieren das Laufwerk entsprechend
      der Anleitungen Ihres Rechners, Ihres Controllers und des
      Laufwerkherstellers.  Den genauen Ablauf können wir wegen der
      großen Abweichungen leider nicht beschreiben.</p><p>Nachdem Sie das Laufwerk installiert haben, melden Sie sich als
      Benutzer <code class="systemitem">root</code> an und kontrollieren Sie
      <code class="filename">/var/run/dmesg.boot</code>, um sicherzustellen,
      dass das neue Laufwerk gefunden wurde.  Das neue Laufwerk
      wird, um das Beispiel fortzuführen, <code class="filename">da1</code>
      heißen und soll unter <code class="filename">/1</code> eingehängt
      werden.  Fügen Sie eine IDE-Platte hinzu, wird diese den
      Namen <code class="filename">ad1</code> erhalten.</p><a id="idp80839888" class="indexterm"></a><a id="idp80840400" class="indexterm"></a><a id="idp80840912" class="indexterm"></a><p>Da FreeBSD auf IBM-PC kompatiblen Rechnern läuft, muss
      es die PC BIOS-Partitionen, die verschieden von den traditionellen
      BSD-Partitionen sind, berücksichtigen.  Eine PC Platte kann
      bis zu vier BIOS-Partitionen enthalten.  Wenn die Platte
      ausschließlich für FreeBSD verwendet wird, können
      Sie den <span class="emphasis"><em>dedicated</em></span> Modus benutzen, ansonsten
      muss FreeBSD in eine der BIOS-Partitionen installiert werden.
      In FreeBSD heißen die PC BIOS-Partitionen
      <span class="emphasis"><em>Slices</em></span>, um sie nicht mit den traditionellen
      BSD-Partitionen zu verwechseln.  Sie können auch Slices auf
      einer Platte verwenden, die ausschließlich von FreeBSD
      benutzt wird, sich aber in einem Rechner befindet, der noch ein
      anderes Betriebssystem installiert hat.  Dadurch stellen Sie sicher,
      dass Sie <code class="command">fdisk</code> des anderen Betriebssystems noch
      benutzen können.</p><p>Im Fall von Slices wird die Platte als
      <code class="filename">/dev/da1s1e</code> hinzugefügt.  Das heißt:
      SCSI-Platte, Einheit 1 (die zweite SCSI-Platte), Slice 1
      (PC BIOS-Partition 1) und die <code class="filename">e</code> BSD-Partition.
      Wird die Platte ausschließlich für FreeBSD verwendet
      (<span class="quote">&#8222;<span class="quote">dangerously dedicated</span>&#8220;</span>), wird sie einfach als
      <code class="filename">/dev/da1e</code> hinzugefügt.</p><div xmlns="" class="note"><h3 class="admontitle">Anmerkung: </h3><p xmlns="http://www.w3.org/1999/xhtml">Da <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=bsdlabel&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">bsdlabel</span>(8)</span></a> zum Speichern von Sektoren 32-Bit
	Integer verwendet, ist das Werkzeug in den meisten Fällen
	auf 2^32-1 Sektoren pro Laufwerk oder 2 TB
	beschränkt.  In <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=fdisk&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">fdisk</span>(8)</span></a> darf der Startsektor
	nicht größer als 2^32-1 sein und Partitionen
	sind auf eine Länge von 2^32-1 beschränkt.
	In den meisten Fällen beschränkt dies die
	Größe einer Partition auf 2 TB
	und die maximale Größe eines Laufwerks
	auf 4 TB.  Das <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sunlabel&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sunlabel</span>(8)</span></a>-Format ist
	mit 2^32-1 Sektoren pro Partition und 8 Partitionen
	auf 16 TB beschränkt.  Mit größeren
	Laufwerken können <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=gpt&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">gpt</span>(8)</span></a>-Partitionen benutzt
	werden, um <acronym class="acronym">GPT</acronym>-Partitionen zu erstellen.
	<acronym class="acronym">GPT</acronym> hat den zusätzlichen Vorteil, dass es
	nicht auf 4 Slices beschränkt ist.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp80850128"></a>19.3.1. Verwenden von <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sysinstall&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sysinstall</span>(8)</span></a></h3></div></div></div><a id="idp80855632" class="indexterm"></a><a id="idp80856912" class="indexterm"></a><div class="procedure"><ol class="procedure" type="1"><li class="step"><p class="title"><strong>Das <span class="application">sysinstall</span> Menü</strong></p><p>Um ein Laufwerk zu partitionieren und zu labeln, kann das
	    menügestützte <code class="command">sysinstall</code>
	    benutzt werden.  Dazu melden Sie sich als <code class="systemitem">root</code>
	    an oder benutzen <code class="command">su</code>, um
	    <code class="systemitem">root</code> zu werden.  Starten Sie
	    <code class="command">sysinstall</code> und wählen das
	    <code class="literal">Configure</code> Menü, wählen Sie dort
	    den Punkt <code class="literal">Fdisk</code> aus.</p></li><li class="step"><p class="title"><strong>Partitionieren mit <span class="application">fdisk</span></strong></p><p>Innerhalb von <span class="application">fdisk</span> geben Sie
	  <span class="keycap"><strong>A</strong></span> ein, um die ganze Platte für
	  FreeBSD zu benutzen.  Beantworten Sie die Frage <span class="quote">&#8222;<span class="quote">remain
	    cooperative with any future possible operating systems</span>&#8220;</span> mit
	  <code class="literal">YES</code>.  <span class="keycap"><strong>W</strong></span> schreibt die
	  Änderung auf die Platte, danach können Sie
	  <span class="application">fdisk</span> mit <span class="keycap"><strong>Q</strong></span>
	  verlassen.  Da Sie eine Platte zu einem schon laufenden System
	  hinzugefügt haben, beantworten Sie die Frage nach dem
	  Master Boot Record mit <code class="literal">None</code>.</p></li><li class="step"><p class="title"><strong>Disk-Label-Editor</strong></p><a id="idp80867664" class="indexterm"></a><p>Als nächstes müssen Sie
	  <span class="application">sysinstall</span> verlassen und es erneut
	  starten.  Folgen Sie dazu bitte den Anweisungen von oben, aber
	  wählen Sie dieses Mal die Option <code class="literal">Label</code>,
	  um in den <code class="literal">Disk Label Editor</code> zu gelangen.
	  Hier werden die traditionellen BSD-Partitionen erstellt.
	  Ein Laufwerk kann acht Partitionen, die mit den Buchstaben
	  <code class="literal">a-h</code> gekennzeichnet werden,
	  besitzen.  Einige Partitionen sind für spezielle Zwecke
	  reserviert.  Die <code class="literal">a</code> Partition ist für die
	  Root-Partition (<code class="filename">/</code>) reserviert.  Deshalb
	  sollte nur das Laufwerk, von dem gebootet wird, eine
	  <code class="literal">a</code> Partition besitzen.  Die <code class="literal">b</code>
	  Partition wird für Swap-Partitionen benutzt, wobei Sie
	  diese auf mehreren Platten benutzen dürfen.
	  Im <span class="quote">&#8222;<span class="quote">dangerously dedicated</span>&#8220;</span> Modus spricht
	  die <code class="literal">c</code> Partition die gesamte Platte an,
	  werden Slices verwendet, wird damit die ganze Slice angesprochen.
	  Die anderen Partitionen sind für allgemeine Zwecke
	  verwendbar.</p><p>Der Label Editor von <span class="application">sysinstall</span>
	  bevorzugt die <code class="literal">e</code>
	  Partition für Partitionen, die weder Root-Partitionen noch
	  Swap-Partitionen sind.  Im Label
	  Editor können Sie ein einzelnes Dateisystem
	  mit <span class="keycap"><strong>C</strong></span> erstellen.  Wählen Sie
	  <code class="literal">FS</code>, wenn Sie gefragt werden, ob Sie ein
	  FS (Dateisystem) oder Swap erstellen wollen, und geben Sie einen
	  Mountpoint z.B. <code class="filename">/mnt</code> an.  Wenn Sie nach einer
	  FreeBSD-Installation ein Dateisystem mit
	  <span class="application">sysinstall</span> erzeugen,
	  so werden die Einträge in <code class="filename">/etc/fstab</code>
	  nicht erzeugt, so dass die Angabe des Mountpoints nicht
	  wichtig ist.</p><p>Sie können nun das Label auf das Laufwerk schreiben und
	  das Dateisystem erstellen, indem Sie <span class="keycap"><strong>W</strong></span>
	  drücken.  Ignorieren Sie die Meldung von
	  <span class="application">sysinstall</span>, dass die neue Partition
	  nicht angehangen werden konnte, und verlassen Sie den Label Editor
	  sowie <span class="application">sysinstall</span>.</p></li><li class="step"><p class="title"><strong>Ende</strong></p><p>Im letzten Schritt fügen Sie noch in
	  <code class="filename">/etc/fstab</code> den Eintrag für das neue
	  Laufwerk ein.</p></li></ol></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp80883280"></a>19.3.2. Die Kommandozeile</h3></div></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp80883920"></a>19.3.2.1. Anlegen von Slices</h4></div></div></div><p>Mit der folgenden Vorgehensweise wird eine Platte mit
	  anderen Betriebssystemen, die vielleicht auf Ihrem Rechner
	  installiert sind, zusammenarbeiten und nicht das
	  <code class="command">fdisk</code> Programm anderer Betriebssysteme
	  stören.  Bitte benutzen
	  Sie den <code class="literal">dedicated</code> Modus nur dann, wenn
	  Sie dazu einen guten Grund haben!</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>dd if=/dev/zero of=/dev/da1 bs=1k count=1</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>fdisk -BI da1</code></strong> # Initialisieren der neuen Platte
<code class="prompt">#</code> <strong class="userinput"><code>bsdlabel -B -w da1s1 auto</code></strong> #Labeln.
<code class="prompt">#</code> <strong class="userinput"><code>bsdlabel -e da1s1</code></strong> # Editieren des Disklabels und Hinzufügen von Partitionen
<code class="prompt">#</code> <strong class="userinput"><code>mkdir -p /1</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>newfs /dev/da1s1e</code></strong> # Wiederholen Sie diesen Schritt für jede Partition
<code class="prompt">#</code> <strong class="userinput"><code>mount /dev/da1s1e /1</code></strong> # Anhängen der Partitionen
<code class="prompt">#</code> <strong class="userinput"><code>vi /etc/fstab</code></strong> # Ändern Sie <code class="filename">/etc/fstab</code> entsprechend</pre><p>Wenn Sie ein IDE-Laufwerk besitzen, ändern Sie
	  <code class="filename">da</code> in <code class="filename">ad</code>.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp80898256"></a>19.3.2.2. Dedicated</h4></div></div></div><a id="idp80898896" class="indexterm"></a><p>Wenn das neue Laufwerk nicht von anderen Betriebssystemen
	  benutzt werden soll, können Sie es im
	  <code class="literal">dedicated</code> Modus betreiben.  Beachten Sie bitte,
	  dass Microsoft-Betriebssysteme mit diesem Modus eventuell nicht
	  zurechtkommen, aber es entsteht kein Schaden am Laufwerk.  Im
	  Gegensatz dazu wird IBMs <span class="trademark">OS/2</span>® versuchen, jede ihm nicht bekannte
	  Partition zu reparieren.</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>dd if=/dev/zero of=/dev/da1 bs=1k count=1</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>bsdlabel -Bw da1 auto</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>bsdlabel -e da1</code></strong>  # Erstellen der `e' Partition
<code class="prompt">#</code> <strong class="userinput"><code>newfs /dev/da1e</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>mkdir -p /1</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>vi /etc/fstab</code></strong> # /dev/da1e hinzufügen
<code class="prompt">#</code> <strong class="userinput"><code>mount /1</code></strong></pre><p>Eine alternative Methode:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>dd if=/dev/zero of=/dev/da1 count=2</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>bsdlabel /dev/da1 | bsdlabel -BR da1 /dev/stdin</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>newfs /dev/da1e</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>mkdir -p /1</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>vi /etc/fstab</code></strong> # /dev/da1e hinzufügen
<code class="prompt">#</code> <strong class="userinput"><code>mount /1</code></strong></pre></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="disks-naming.html">Zurück</a> </td><td width="20%" align="center"><a accesskey="u" href="disks.html">Nach oben</a></td><td width="40%" align="right"> <a accesskey="n" href="raid.html">Weiter</a></td></tr><tr><td width="40%" align="left" valign="top">19.2. Gerätenamen </td><td width="20%" align="center"><a accesskey="h" href="index.html">Zum Anfang</a></td><td width="40%" align="right" valign="top"> 19.4. RAID</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Wenn Sie Fragen zu FreeBSD haben, schicken Sie eine E-Mail an
    &lt;<a href="mailto:de-bsd-questions@de.FreeBSD.org">de-bsd-questions@de.FreeBSD.org</a>&gt;.<br></br>
    Wenn Sie Fragen zu dieser Dokumentation haben, schicken Sie eine E-Mail an
    &lt;<a href="mailto:de-bsd-translators@de.FreeBSD.org">de-bsd-translators@de.FreeBSD.org</a>&gt;.</small></p></body></html>