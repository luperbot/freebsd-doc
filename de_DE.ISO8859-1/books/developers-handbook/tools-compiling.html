<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>2.4. Kompilieren mit dem cc</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD Developers' Handbook" /><link rel="up" href="tools.html" title="Kapitel 2. Werkzeuge zur Programmierung" /><link rel="prev" href="tools-programming.html" title="2.3. Einführung in die Programmierung" /><link rel="next" href="tools-make.html" title="2.5. Make" /><link rel="copyright" href="legalnotice.html" title="Rechtlicher Hinweis" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">2.4. Kompilieren mit dem <code class="command">cc</code></th></tr><tr><td width="20%" align="left"><a accesskey="p" href="tools-programming.html">Zurück</a> </td><th width="60%" align="center">Kapitel 2. Werkzeuge zur Programmierung</th><td width="20%" align="right"> <a accesskey="n" href="tools-make.html">Weiter</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="tools-compiling"></a>2.4. Kompilieren mit dem <code class="command">cc</code></h2></div></div></div><p>Dieser Abschnitt behandelt ausschließlich den GNU
      Compiler für C und C++, da dieser bereits im Basissystem
      von FreeBSD enthalten ist. Er kann mittels <code class="command">cc</code>
      oder <code class="command">gcc</code> aufgerufen werden. Die Details zur
      Erstellung einer Anwendung mit einem Interpreter variieren
      zwischen verschiedenen Interpretern mehr oder weniger stark, und
      werden meist ausführlich in der zugehörigen
      Dokumentation oder Online-Hilfe beschrieben.</p><p>Sobald
      Sie Ihr Meisterwerk fertig geschrieben haben besteht der
      nächste Schritt darin, dieses (hoffentlich!) unter FreeBSD
      zum Laufen zu bekommen. Dies beinhaltet üblicherweise
      mehrere Schritte, wobei jeder einzelne Schritt von einem
      separaten Programm durchgeführt wird.</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Aufbereiten Ihres Quelltextes durch Entfernen von
	  Kommentaren, sowie weiteren Tricks wie das Ersetzen von
	  Macros in C.</p></li><li class="step"><p>Überprüfen der Syntax Ihres Quelltextes, um
	  die Einhaltung der Sprachregeln sicherzustellen. Wenn Sie
	  diese verletzt haben werden entsprechende Fehlermeldungen
	  Ihnen dies mitteilen!</p></li><li class="step"><p>Übersetzen des Quelltextes in Assemblersprache
	  &#8212;diese ist dem eigentlichen Maschinencode schon sehr
	  nahe, jedoch immer noch für Menschen lesbar.
	  Angeblich.

	  <a href="#ftn.idp64102096" class="footnote" id="idp64102096"><sup class="footnote">[2]</sup></a>
	</p></li><li class="step"><p>Übersetzen der Assemblersprache in
	  Maschinencode&#8212;genau, wir sprechen hier von Bits und
	  Bytes, Einsen und Nullen.</p></li><li class="step"><p>Überprüfen, ob Sie Dinge wie Funktionen und
	  globale Variablen in einheitlicher Weise verwendet haben.
	  Wenn Sie z.B. eine nicht existierende Funktion aufgerufen
	  haben, wird eine entsprechende Fehlermeldung Ihnen dies
	  mitteilen.</p></li><li class="step"><p>Wenn aus mehreren Quelltextdateien eine
	  ausführbare Datei erstellt werden soll wird
	  herausgefunden, wie die einzelnen Codeteile
	  zusammengefügt werden müssen.</p></li><li class="step"><p>Ausarbeiten, wie das Programm aussehen muss, damit
	  der Lader zur Laufzeit des Systems dieses in den Speicher
	  laden und ausführen kann.</p></li><li class="step"><p>Endgültiges Schreiben der ausführbaren Datei
	  in das Dateisystem.</p></li></ol></div><p>Das Wort <em class="firstterm">kompilieren</em> wird häufig
      für die Schritte 1 bis 4 verwendet&#8212;die anderen werden
      mit dem Wort <em class="firstterm">verlinken</em> zusammengefasst.
      Manchmal wird Schritt 1 auch als
      <em class="firstterm">Pre-Processing</em> und die Schritte 3-4 als
      <em class="firstterm">assemblieren</em> bezeichnet.</p><p>Glücklicherweise werden alle diese Details vor Ihnen
      verborgen, da <code class="command">cc</code> ein Frontend ist, welches
      sich um die Ausführung all dieser Programme mit den
      richtigen Argumenten für Sie kümmert; einfaches
      eingeben von</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>cc foobar.c</code></strong></pre><p>führt zur Übersetzung von
      <code class="filename">foobar.c</code> durch alle bereits erwähnten
      Schritte. Wenn Sie mehr als eine Datei übersetzen wollen
      müssen Sie etwas wie folgt eingeben</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>cc foo.c bar.c</code></strong></pre><p>Beachten Sie, daß die Überprüfung der Syntax
      genau dies tut&#8212;das reine Überprüfen der Syntax.
      Es findet keine Überprüfung bzgl. logischer Fehler
      statt, die Sie vielleicht gemacht haben, wie z.B. das Programm
      in eine Endlosschleife zu versetzen, oder Bubble Sort zu
      verwenden, wenn Sie eigentlich Binary Sort benutzen wollten.

      <a href="#ftn.idp64143440" class="footnote" id="idp64143440"><sup class="footnote">[3]</sup></a>
    </p><p>Es gibt haufenweise Optionen für <code class="command">cc</code>,
      die alle in der zugehörigen Manualpage beschrieben werden.
      Im Folgenden werden ein paar der wichtigsten Optionen mit
      Beispielen ihrer Anwendung gezeigt.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-o <em class="replaceable"><code>filename</code></em></code></span></dt><dd><p>Die Name der Ausgabedatei. Wenn Sie diese Option nicht
	    verwenden erstellt <code class="command">cc</code> eine Datei mit
	    dem Namen <code class="filename">a.out</code>.

	    <a href="#ftn.idp64166480" class="footnote" id="idp64166480"><sup class="footnote">[4]</sup></a>
	  </p><div class="informalexample"><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>cc foobar.c</code></strong>               <em class="lineannotation"><span class="lineannotation">executable is a.out</span></em>
<code class="prompt">%</code> <strong class="userinput"><code>cc -o foobar foobar.c</code></strong>     <em class="lineannotation"><span class="lineannotation">executable is foobar</span></em>
	    </pre></div></dd><dt><span class="term"><code class="option">-c</code></span></dt><dd><p>Dies kompiliert die Datei nur, verlinkt sie jedoch
	    nicht. Nützlich für Spielereien, um die Syntax
	    auf Korrektheit zu überprüfen, oder falls Sie
	    ein <code class="filename">Makefile</code> verwenden.</p><div class="informalexample"><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>cc -c foobar.c</code></strong>
	    </pre></div><p>Dieser Befehl erzeugt eine
	    <em class="firstterm">Objektdatei</em> (nicht ausführbar)
	    mit den Namen <code class="filename">foobar.o</code>. Diese kann
	    mit anderen Objektdateien zusammen zu einer
	    ausführbaren Datei verlinkt werden.</p></dd><dt><span class="term"><code class="option">-g</code></span></dt><dd><p>Diese Option erzeugt die Debug-Version einer
	    ausführbaren Datei. Dabei fügt der Compiler
	    zusätzliche Informationen darüber, welcher
	    Funktionsaufruf zu welcher Zeile im Quelltext gehört,
	    der ausführbaren Datei hinzu. Ein Debugger kann Ihnen
	    mit Hilfe dieser Information den zugehörigen
	    Quelltext anzeigen, während Sie den Programmverlauf
	    schrittweise verfolgen, was <span class="emphasis"><em>sehr</em></span>
	    hilfreich sein kann; der Nachteil dabei ist, daß
	    durch die zusätzlichen Informationen das Programm
	    viel größer wird. Normalerweise verwendet man
	    die Option <code class="option">-g</code> während der
	    Entwicklung eines Programms, und für die
	    <span class="quote">&#8222;<span class="quote">Release-Version</span>&#8220;</span>, wenn man von der
	    Korrektheit des Programms überzeugt ist, kompiliert
	    man das Programm dann ohne diese Option.</p><div class="informalexample"><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>cc -g foobar.c</code></strong>
	    </pre></div><p>Mit diesem Befehl wird eine Debug-Version des
	    Programms erzeugt.

	    <a href="#ftn.idp64210640" class="footnote" id="idp64210640"><sup class="footnote">[5]</sup></a>
	  </p></dd><dt><span class="term"><code class="option">-O</code></span></dt><dd><p>Diese Option erzeugt eine optimierte Version der
	    ausführbaren Datei. Der Compiler verwendet einige
	    clevere Tricks, um das erzeugte Programm schneller zu
	    machen. Sie können hinter der Option
	    <code class="option">-O</code> eine Zahl angeben, um eine
	    höheres Level der Optimierung festzulegen. Dadurch
	    wird jedoch häufig eine fehlerhafte Optimierung
	    seitens des Compilers aufgedeckt. Zum Beispiel erzeugte
	    die Version des <code class="command">cc</code>, welche mit dem
	    FreeBSD Release 2.1.0 mitgeliefert wurde, bei Verwendung
	    der Option <code class="option">-O2</code> unter bestimmten
	    Umständen falschen Code.</p><p>Optimierungen werden normalerweise nur beim
	    Kompilieren von Release-Versionen aktiviert.</p><div class="informalexample"><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>cc -O -o foobar foobar.c</code></strong>
	    </pre></div><p>Durch diesen Befehl wird eine optimierte Version von
	    <code class="filename">foobar</code> erzeugt.</p></dd></dl></div><p>Die folgenden drei Flags zwingen den <code class="command">cc</code>
      dazu, Ihren Code auf die Einhaltung der internationalen
      Standards hin zu überprüfen, welche häufig als
      <acronym class="acronym">ANSI</acronym> Standards bezeichnet werden, obwohl sie
      streng genommen zum <acronym class="acronym">ISO</acronym> Standard
      gehören.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-Wall</code></span></dt><dd><p>Aktivieren aller Warnmeldungen, die die Autoren des
	    <code class="command">cc</code> für wichtig halten. Trotz des
	    Namens dieser Option werden dadurch nicht sämtliche
	    Warnungen ausgegeben, die der <code class="command">cc</code>
	    ausgeben könnte.</p></dd><dt><span class="term"><code class="option">-ansi</code></span></dt><dd><p>Deaktivieren der meisten, jedoch nicht aller,
	    nicht-<acronym class="acronym">ANSI</acronym> C Eigenschaften, die
	    der <code class="command">cc</code> bietet. Trotz des Namens ist
	    durch diese Option nicht sichergestellt, daß Ihr
	    Code diese Standards auch vollständig
	    einhält.</p></dd><dt><span class="term"><code class="option">-pedantic</code></span></dt><dd><p>Deaktivieren <span class="emphasis"><em>aller</em></span> Eigenschaften
	    des <code class="command">cc</code>, welche nicht konform zu
	    <acronym class="acronym">ANSI</acronym> C sind.</p></dd></dl></div><p>Ohne diese Flags wird Ihnen der <code class="command">cc</code> die
      Verwendung eigener Erweiterungen des Standards erlauben. Einige
      dieser Erweiterungen sind zwar sehr nützlich, werden jedoch
      nicht von anderen Compilern unterstützt&#8212;eigentlich
      ist eines der Hauptziele des Standards, das Leute Code so
      schreiben können, daß dieser mit jedem Compiler auf
      beliebigen Systemen funktioniert. Dies wird häufig als
      <em class="firstterm">portabler Code</em> bezeichnet.</p><p>Im Allgemeinen sollten Sie versuchen, Ihren Code so portabel
      wie möglich zu schreiben, da Sie ansonsten eventuell das
      gesamte Programm noch einmal neu schreiben müssen, falls
      dieser in einer anderen Umgebung laufen soll&#8212;und wer
      weiß schon was er in ein paar Jahren verwenden
      wird?</p><div class="informalexample"><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>cc -Wall -ansi -pedantic -o foobar foobar.c</code></strong></pre></div><p>Durch diesen Befehl wird eine ausführbare Datei namens
      <code class="filename">foobar</code> erzeugt, nachdem
      <code class="filename">foobar.c</code> auf die Einhaltung der Standards
      überprüft wurde.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-l<em class="replaceable"><code>library</code></em></code></span></dt><dd><p>Mit dieser Option kann eine Bibliothek mit Funktionen
	    angegeben werden, die während des Verlinkens
	    verwendet wird.</p><p>Das am häufigsten auftretende Beispiel dieser
	    Option ist die Übersetzung eines Programmes, welches
	    einige der mathematischen Funktionen in C verwendet. Im
	    Gegensatz zu den meisten anderen Plattformen befinden sich
	    diese Funktionen in einer separaten Bibliothek, deren
	    Verwendung Sie dem Compiler explizit mitteilen
	    müssen.</p><p>Angenommen eine Bibliothek heißt
	    <code class="filename">libirgendwas.a</code>,
	    dann müssen Sie dem <code class="command">cc</code> als
	    Argument
	    <code class="option">-l<em class="replaceable"><code>irgendwas</code></em></code>
	    übergeben. Zum Beispiel heißt die
	    Mathematik-Bibliothek <code class="filename">libm.a</code>, und
	    daher müssen Sie dem <code class="command">cc</code> als
	    Argument <code class="option">-lm</code> übergeben. Ein
	    typisches <span class="quote">&#8222;<span class="quote">Manko</span>&#8220;</span> der Mathematik-Bibliothek
	    ist, daß diese immer die letzte Bibliothek auf der
	    Kommandozeile sein muß.</p><div class="informalexample"><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>cc -o foobar foobar.c -lm</code></strong>
	    </pre></div><p>Durch diesen Befehl werden die Funktionen aus der
	    Mathematik-Bibliothek in <code class="filename">foobar</code>
	    gelinkt.</p><p>Wenn Sie C++-Code kompilieren wollen, müssen Sie
	    <code class="option">-lg++</code>, bzw. <code class="option">-lstdc++</code>
	    falls Sie FreeBSD 2.2 oder neuer verwenden, zu Ihrer
	    Kommandozeile hinzufügen, um Ihr Programm gegen die
	    Funktionen der C++ Bibliothek zu linken. Alternativ
	    können Sie anstatt <code class="command">cc</code> auch
	    <code class="command">c++</code> aufrufen, welcher dies für Sie
	    erledigt. <code class="command">c++</code> kann unter FreeBSD auch
	    als <code class="command">g++</code> aufgerufen werden.</p><div class="informalexample"><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>cc -o foobar foobar.cc -lg++</code></strong>     <em class="lineannotation"><span class="lineannotation">Bei FreeBSD 2.1.6 oder älter</span></em>
<code class="prompt">%</code> <strong class="userinput"><code>cc -o foobar foobar.cc -lstdc++</code></strong>  <em class="lineannotation"><span class="lineannotation">Bei FreeBSD 2.2 und neuer</span></em>
<code class="prompt">%</code> <strong class="userinput"><code>c++ -o foobar foobar.cc</code></strong>
	    </pre></div><p>Beide Varianten erzeugen eine ausführbare
	    <code class="filename">foobar</code> aus der C++ Quelltextdatei
	    <code class="filename">foobar.cc</code>. Beachten Sie bitte,
	    daß auf <span class="trademark">UNIX</span>® Systemen C++ Quelltextdateien
	    üblicherweise auf <code class="filename">.C</code>,
	    <code class="filename">.cxx</code> oder <code class="filename">.cc</code>
	    enden, und nicht wie bei <span class="trademark">MS-DOS</span>® auf
	    <code class="filename">.cpp</code> (welche schon anderweitig
	    benutzt wurde). Der <code class="command">gcc</code> hat
	    normalerweise anhand dieser Information entschieden,
	    welcher Compiler für die Quelltextdatei zum Einsatz
	    kommen soll; allerdings gilt diese Einschränkung
	    jetzt nicht mehr, und Sie können Ihre C++-Dateien
	    ungestraft auf <code class="filename">.cpp</code> enden
	    lassen!</p></dd></dl></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp64359376"></a>2.4.1. Häufig auftretende <code class="command">cc</code>-Fragen und
	-Probleme</h3></div></div></div><div class="qandaset"><a id="idp64362192"></a><dl><dt>2.4.1.1. <a href="tools-compiling.html#idp64362832">Ich versuche ein Programm zu schreiben, welches die
	      Funktion sin() verwendet, erhalte
	      jedoch eine Fehlermeldung. Was bedeutet diese?</a></dt><dt>2.4.1.2. <a href="tools-compiling.html#idp64383952">So, ich habe jetzt dieses einfache Programm als
	      Übung für -lm geschrieben.
	      Alles was es macht ist, 2.1 hoch 6 zu berechnen.</a></dt><dt>2.4.1.3. <a href="tools-compiling.html#idp64416080">Wie kann ich das korrigieren?</a></dt><dt>2.4.1.4. <a href="tools-compiling.html#idp64434384">Ich habe eine Datei mit dem Namen
	      foobar.c kompiliert, kann jedoch
	      nirgends eine ausführbare Datei namens
	      foobar finden. Wo befindet sich
	      diese?</a></dt><dt>2.4.1.5. <a href="tools-compiling.html#idp64460368">OK, ich habe eine ausführbare Datei namens
	      foobar, ich kann sie sehen, wenn
	      ich ls aufrufe. Gebe ich jedoch
	      foobar in die Kommandozeile ein wird
	      mir gesagt, daß eine Datei mit diesem Namen nicht
	      existiert. Warum kann die Datei nicht gefunden
	      werden?</a></dt><dt>2.4.1.6. <a href="tools-compiling.html#idp64480848">Ich habe meine ausführbare Datei
	      test genannt, allerdings passiert
	      nichts wenn ich diese aufrufe. Was ist hier los?</a></dt><dt>2.4.1.7. <a href="tools-compiling.html#idp64504528">Ich habe mein Programm kompiliert und bei dessen
	      Aufruf sah zuerst alles gut aus. Jedoch gab es dann eine
	      Fehlermeldung, welche irgendetwas mit core
	      dumped lautete. Was bedeutet das?</a></dt><dt>2.4.1.8. <a href="tools-compiling.html#idp64512080">Faszinierendes Zeugs, aber was soll ich jetzt
	      machen?</a></dt><dt>2.4.1.9. <a href="tools-compiling.html#idp64518864">Als mein Programm den core dump erzeugt hat, sagte
	      es etwas von einem segmentation
	      fault. Was ist das?</a></dt><dt>2.4.1.10. <a href="tools-compiling.html#idp64572624">Wenn ich einen core dump erhalte erscheint
	      manchmal die Meldung bus error.
	      In meinem UNIX®-Buch steht, daß die Ursache ein
	      Hardwareproblem sei. Der Computer scheint aber weiterhin
	      zu funktionieren. Ist dies wahr?</a></dt><dt>2.4.1.11. <a href="tools-compiling.html#idp64587984">Diese Sache mit den core dumps hört sich sehr
	      nützlich an, wenn ich so etwas selber an beliebiger
	      Stelle bewirken könnte. Kann ich das tun, oder
	      muß ich warten bis ein Fehler auftritt?</a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%" /><col /></colgroup><tbody><tr class="question"><td align="left" valign="top"><a id="idp64362832"></a><a id="idp64363728"></a><p><strong>2.4.1.1.</strong></p></td><td align="left" valign="top"><p>Ich versuche ein Programm zu schreiben, welches die
	      Funktion <code class="function">sin()</code> verwendet, erhalte
	      jedoch eine Fehlermeldung. Was bedeutet diese?</p><div class="informalexample"><pre class="screen">/var/tmp/cc0143941.o: Undefined symbol `_sin' referenced from text segment
	      </pre></div></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Wenn Sie mathematische Funktionen wie
	      <code class="function">sin()</code> verwenden wollen, müssen
	      Sie den <code class="command">cc</code> anweisen, die
	      Mathematik-Bibliothek wie folgt zu verlinken:</p><div class="informalexample"><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>cc -o foobar foobar.c -lm</code></strong>
	      </pre></div></td></tr><tr class="question"><td align="left" valign="top"><a id="idp64383952"></a><a id="idp64384592"></a><p><strong>2.4.1.2.</strong></p></td><td align="left" valign="top"><p>So, ich habe jetzt dieses einfache Programm als
	      Übung für <code class="option">-lm</code> geschrieben.
	      Alles was es macht ist, 2.1 hoch 6 zu berechnen.</p><div class="informalexample"><pre class="programlisting">#include &lt;stdio.h&gt;

int main() {
	float f;

	f = pow(2.1, 6);
	printf("2.1 ^ 6 = %f\n", f);
	return 0;
}
	      </pre></div><p>und ich habe es wie folgt kompiliert:</p><div class="informalexample"><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>cc temp.c -lm</code></strong>
	      </pre></div><p>wie mir gesagt wurde. Allerdings bekomme ich jetzt
	      bei der Ausführung die folgende Ausgabe:</p><div class="informalexample"><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>./a.out</code></strong>
2.1 ^ 6 = 1023.000000
	      </pre></div><p>Das ist <span class="emphasis"><em>nicht</em></span> die richtige
	      Antwort! Was ist hier los?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Wenn der Compiler Ihren Funktionsaufruf sieht,
	      überprüft er, ob er schon einmal einen
	      Prototypen für diese gesehen hat. Wenn nicht nimmt
	      er als Rückgabewert den Typ <span class="type">int</span> an,
	      was sicherlich nicht das ist, was Sie an dieser Stelle
	      wollen.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp64416080"></a><a id="idp64416976"></a><p><strong>2.4.1.3.</strong></p></td><td align="left" valign="top"><p>Wie kann ich das korrigieren?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Die Prototypen der mathematischen Funktionen
	      befinden sich in der Datei <code class="filename">math.h</code>.
	      Wenn Sie diese Datei in Ihrem Quelltext includen ist der
	      Compiler in der Lage, den Prototypen zu finden, und wird
	      aufhören, seltsame Dinge mit Ihrer Berechnung zu
	      machen!</p><div class="informalexample"><pre class="programlisting">#include &lt;math.h&gt;
#include &lt;stdio.h&gt;

int main() {
...
	      </pre></div><p>Nach erneutem Compilieren sollte das Folgende bei
	      der Ausführung ausgegeben werden:</p><div class="informalexample"><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>./a.out</code></strong>
2.1 ^ 6 = 85.766121
	      </pre></div><p>Wenn Sie irgendwelche mathematischen Funktionen
	      verwenden sollten Sie <span class="emphasis"><em>immer</em></span> die
	      Datei <code class="filename">math.h</code> includen und nicht
	      vergessen, Ihr Programm gegen die Mathematik-Bibliothek
	      zu verlinken.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp64434384"></a><a id="idp64434640"></a><p><strong>2.4.1.4.</strong></p></td><td align="left" valign="top"><p>Ich habe eine Datei mit dem Namen
	      <code class="filename">foobar.c</code> kompiliert, kann jedoch
	      nirgends eine ausführbare Datei namens
	      <code class="filename">foobar</code> finden. Wo befindet sich
	      diese?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Denken Sie daran, daß der
	      <code class="command">cc</code> die ausführbare Datei
	      <code class="filename">a.out</code> nennt, wenn Sie nicht
	      explizit einen Namen angeben. Verwenden Sie in solch
	      einem Fall die Option
	      <code class="option">-o <em class="replaceable"><code>filename</code></em></code>:</p><div class="informalexample"><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>cc -o foobar foobar.c</code></strong>
	      </pre></div></td></tr><tr class="question"><td align="left" valign="top"><a id="idp64460368"></a><a id="idp64461008"></a><p><strong>2.4.1.5.</strong></p></td><td align="left" valign="top"><p>OK, ich habe eine ausführbare Datei namens
	      <code class="filename">foobar</code>, ich kann sie sehen, wenn
	      ich <code class="command">ls</code> aufrufe. Gebe ich jedoch
	      <code class="command">foobar</code> in die Kommandozeile ein wird
	      mir gesagt, daß eine Datei mit diesem Namen nicht
	      existiert. Warum kann die Datei nicht gefunden
	      werden?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Im Gegensatz zu <span class="trademark">MS-DOS</span>® sucht <span class="trademark">UNIX</span>® nicht im
	      aktuellen Verzeichnis nach einem ausführbaren
	      Programm, das Sie versuchen auszuführen, solange
	      Sie dies nicht explizit mit angeben. Sie können
	      entweder <code class="command">./foobar</code> eingeben, was
	      soviel bedeutet wie <span class="quote">&#8222;<span class="quote">führe eine Datei namens
	      <code class="filename">foobar</code> im aktuellen Verzeichnis
	      aus</span>&#8220;</span>, oder Sie können Ihre Umgebungsvariable
	      <code class="envar">PATH</code> so erweitern, daß sie
	      ähnlich wie folgt aussieht</p><div class="informalexample"><pre class="screen">bin:/usr/bin:/usr/local/bin:.
	      </pre></div><p>Der Punkt am Ende bedeutet <span class="quote">&#8222;<span class="quote">siehe im aktuellen
	      Verzeichnis nach, wenn es in keinem der anderen zu
	      finden war</span>&#8220;</span>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp64480848"></a><a id="idp64481872"></a><p><strong>2.4.1.6.</strong></p></td><td align="left" valign="top"><p>Ich habe meine ausführbare Datei
	      <code class="filename">test</code> genannt, allerdings passiert
	      nichts wenn ich diese aufrufe. Was ist hier los?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Bei den meisten <span class="trademark">UNIX</span>®-Systeme existiert bereits
	      ein Programm mit dem Namen <code class="command">test</code> im
	      Verzeichnis <code class="filename">/usr/bin</code>, und die Shell
	      nimmt dieses, bevor sie im aktuellen Verzeichnis
	      nachsieht. Sie können entweder den folgenden Befehl
	      eingeben:</p><div class="informalexample"><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>./test</code></strong>
	      </pre></div><p>oder Sie können einen geeigneteren Namen
	      für Ihr Programm wählen!</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp64504528"></a><a id="idp64505424"></a><p><strong>2.4.1.7.</strong></p></td><td align="left" valign="top"><p>Ich habe mein Programm kompiliert und bei dessen
	      Aufruf sah zuerst alles gut aus. Jedoch gab es dann eine
	      Fehlermeldung, welche irgendetwas mit <span class="errorname">core
	      dumped</span> lautete. Was bedeutet das?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Der Name <em class="firstterm">core dump</em> stammt
	      noch aus sehr frühen Zeiten von <span class="trademark">UNIX</span>®, als die
	      Maschinen noch Kernspeicher zum Speichern von Daten
	      verwendeten. Einfach ausgedrückt, wenn bei einem
	      Programm unter bestimmen Bedingungen ein Fehler auftrat,
	      hat das System den Inhalt des Kernspeichers auf der
	      Festplatte in eine Datei namens
	      <code class="filename">core</code> geschrieben, welche der
	      Programmierer dann näher untersuchen konnte, um die
	      Ursache des Fehlers herauszufinden.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp64512080"></a><a id="idp64512976"></a><p><strong>2.4.1.8.</strong></p></td><td align="left" valign="top"><p>Faszinierendes Zeugs, aber was soll ich jetzt
	      machen?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Verwenden Sie den <code class="command">gdb</code>, um das
	      Speicherabbild zu untersuchen (siehe <a class="xref" href="debugging.html" title="2.6. Debuggen">Abschnitt 2.6, &#8222;Debuggen&#8220;</a>).</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp64518864"></a><a id="idp64519760"></a><p><strong>2.4.1.9.</strong></p></td><td align="left" valign="top"><p>Als mein Programm den core dump erzeugt hat, sagte
	      es etwas von einem <span class="errorname">segmentation
	      fault</span>. Was ist das?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Diese Meldung heißt im Prinzip, daß Ihr
	      Programm eine illegale Operation mit dem Speicher
	      durchführen wollte; <span class="trademark">UNIX</span>® wurde so entworfen,
	      daß es das andere Programme und das Betriebssystem
	      selbst vor wildgewordenen Programmen
	      schützt.</p><p>Häufige Ursachen hierfür sind:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Der Versuch, einen <span class="symbol">NULL</span>-Zeiger
		  zu beschreiben, z.B.</p><pre class="programlisting">char *foo = NULL;
strcpy(foo, "bang!");
		</pre></li><li class="listitem"><p>Einen Zeiger zu verwenden, welcher noch nicht
		  initialisiert wurde, z.B.</p><pre class="programlisting">char *foo;
strcpy(foo, "bang!");
		</pre><p>Der Zeiger hat einen zufälligen Wert,
		  welcher mit etwas Glück in einen Bereich des
		  Speichers zeigt, der für Ihr Programm nicht
		  verfügbar ist, und der Kernel bricht Ihr
		  Programm ab, bevor es irgendwelchen Schaden
		  anrichten kann. Wenn Sie Pech haben zeigt der Zeiger
		  irgendwo mitten in Ihr eigenes Programm, und
		  verändert dort ihre eigenen Datenstrukturen,
		  was zu sehr seltsamen Fehlern Ihres Programmes
		  führt.</p></li><li class="listitem"><p>Der Versuch, auf Daten außerhalb eines
		  Arrays zuzugreifen, z.B.</p><pre class="programlisting">int bar[20];
bar[27] = 6;
		</pre></li><li class="listitem"><p>Der Versuch, Daten in eine Speicherbereich zu
		  schreiben, der nur lesbar ist, z.B.</p><pre class="programlisting">char *foo = "My string";
strcpy(foo, "bang!");
		</pre><p><span class="trademark">UNIX</span>®-Compiler speichern häufig feste
		  Zeichenketten wie <code class="literal">"My string"</code> in
		  nur lesbaren Speicherbereichen ab.</p></li><li class="listitem"><p>Wenn man unerlaubte Operationen mit
		  <code class="function">malloc()</code> und
		  <code class="function">free()</code> ausführt,
		  z.B.</p><pre class="programlisting">char bar[80];
free(bar);
		</pre><p>oder</p><pre class="programlisting">char *foo = malloc(27);
free(foo);
free(foo);
		</pre></li></ul></div><p>Einzelne solcher Fehler führen zwar nicht
	      immer zu einem Fehlverhalten des Programms, stellen
	      jedoch immer eine falsche Verwendung dar. Manche Systeme
	      und Compiler sind toleranter als andere, weshalb
	      Programme auf dem einen System einwandfrei laufen, auf
	      dem anderen System jedoch abstürzen.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp64572624"></a><a id="idp64573392"></a><p><strong>2.4.1.10.</strong></p></td><td align="left" valign="top"><p>Wenn ich einen core dump erhalte erscheint
	      manchmal die Meldung <span class="errorname">bus error</span>.
	      In meinem <span class="trademark">UNIX</span>®-Buch steht, daß die Ursache ein
	      Hardwareproblem sei. Der Computer scheint aber weiterhin
	      zu funktionieren. Ist dies wahr?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Nein, glücklicherweise nicht (es sei denn Sie
	      haben wirklich ein Hardwareproblem&#8230;).
	      Üblicherweise ist dies ein Weg Ihnen mitzuteilen,
	      daß Sie auf Speicher in einer Weise zugegriffen
	      haben, in der Sie dies nicht tun sollten.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp64587984"></a><a id="idp64589008"></a><p><strong>2.4.1.11.</strong></p></td><td align="left" valign="top"><p>Diese Sache mit den core dumps hört sich sehr
	      nützlich an, wenn ich so etwas selber an beliebiger
	      Stelle bewirken könnte. Kann ich das tun, oder
	      muß ich warten bis ein Fehler auftritt?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Ja, nehmen sie einfach eine andere Konsole oder
	      XTerm und führen Sie</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>ps</code></strong>
	    </pre><p>aus, um die Prozess-ID Ihres Programms
	      herauszufinden. Führen Sie
	      anschließend</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>kill -ABRT pid</code></strong>
	    </pre><p>aus, wobei
	      <em class="parameter"><code><em class="replaceable"><code>pid</code></em></code></em>
	      die Prozess-ID ist, die Sie vorher ermittelt
	      haben.</p><p>Dies ist nützlich, wenn sich Ihr Programm z.B.
	      in einer Endlosschleife verfangen hat. Sollte Ihr
	      Programm das Signal <span class="symbol">SIGABRT</span> abfangen,
	      gibt es noch andere Möglichkeiten, die denselben
	      Effekt haben.</p><p>Alternativ können Sie einen core dump aus
	      Ihrem Programm heraus erstellen, indem Sie die Funktion
	      <code class="function">abort()</code> aufrufen. Weitere
	      Informationen darüber können Sie in der
	      Manualpage <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=abort&amp;sektion=3"><span class="citerefentry"><span class="refentrytitle">abort</span>(3)</span></a> nachlesen.</p><p>Wenn Sie einen core dump von außerhalb Ihres
	      Programms erzeugen wollen, ohne dabei den Prozess
	      abzubrechen, können Sie das Programm
	      <code class="command">gcore</code> verwenden. Weitere
	      Informationen dazu finden Sie in der zugehörigen
	      Manualpage <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=gcore&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">gcore</span>(1)</span></a>.</p></td></tr></tbody></table></div></div><div class="footnotes"><br /><hr class="footnote-hr" /><div id="ftn.idp64102096" class="footnote"><p><a href="#idp64102096" class="para"><sup class="para">[2] </sup></a>Um genau zu sein übersetzt der
	      <code class="command">cc</code> den Quelltext an dieser Stelle
	      nicht in Assemblersprache, sondern in seine eigene,
	      maschinenunabhängige Sprache namens
	      <em class="firstterm">p-code</em>.</p></div><div id="ftn.idp64143440" class="footnote"><p><a href="#idp64143440" class="para"><sup class="para">[3] </sup></a>Falls Sie es nicht wußten, Binary Sort ist, im
	  Gegensatz zu Bubble Sort, eine effektive Möglichkeit,
	  Dinge zu sortieren.</p></div><div id="ftn.idp64166480" class="footnote"><p><a href="#idp64166480" class="para"><sup class="para">[4] </sup></a>Der Grund dafür ist im Haufen der Geschichte
		begraben.</p></div><div id="ftn.idp64210640" class="footnote"><p><a href="#idp64210640" class="para"><sup class="para">[5] </sup></a>Beachten Sie, daß an dieser Stelle die
		Option <code class="option">-o</code> zum Festlegen des Namens
		der ausführbaren Datei nicht verwendet wurde,
		weswegen an dieser Stelle die erzeugte Datei
		<code class="filename">a.out</code> heißt. Die Erzeugung
		einer Debug-Version namens <code class="filename">foobar</code>
		ist als Übung dem Leser überlassen!</p></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="tools-programming.html">Zurück</a> </td><td width="20%" align="center"><a accesskey="u" href="tools.html">Nach oben</a></td><td width="40%" align="right"> <a accesskey="n" href="tools-make.html">Weiter</a></td></tr><tr><td width="40%" align="left" valign="top">2.3. Einführung in die Programmierung </td><td width="20%" align="center"><a accesskey="h" href="index.html">Zum Anfang</a></td><td width="40%" align="right" valign="top"> 2.5. Make</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Wenn Sie Fragen zu FreeBSD haben, schicken Sie eine E-Mail an
    &lt;<a href="mailto:de-bsd-questions@de.FreeBSD.org">de-bsd-questions@de.FreeBSD.org</a>&gt;.<br></br>
    Wenn Sie Fragen zu dieser Dokumentation haben, schicken Sie eine E-Mail an
    &lt;<a href="mailto:de-bsd-translators@de.FreeBSD.org">de-bsd-translators@de.FreeBSD.org</a>&gt;.</small></p></body></html>