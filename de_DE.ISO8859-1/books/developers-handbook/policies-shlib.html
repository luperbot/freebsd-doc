<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>5.5. Shared-Libraries</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD Developers' Handbook" /><link rel="up" href="policies.html" title="Kapitel 5. Vorgaben und Richtlinien für das Quelltextverzeichnis" /><link rel="prev" href="policies-encumbered.html" title="5.4. Belastende Dateien" /><link rel="next" href="testing.html" title="Kapitel 6. Regressions- und Performance-Tests" /><link rel="copyright" href="legalnotice.html" title="Rechtlicher Hinweis" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">5.5. Shared-Libraries</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="policies-encumbered.html">Zurück</a> </td><th width="60%" align="center">Kapitel 5. Vorgaben und Richtlinien für das
    Quelltextverzeichnis</th><td width="20%" align="right"> <a accesskey="n" href="testing.html">Weiter</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="policies-shlib"></a>5.5. Shared-Libraries</h2></div><div><span class="authorgroup">Beigesteuert von <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Satoshi</span> <span class="surname">Asami</span></span>, <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Peter</span> <span class="surname">Wemm</span></span> und <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">David</span> <span class="surname">O'Brien</span></span>. </span></div></div></div><p>Sollten Sie die Unterstützung für
      Shared-Libraries bei einem Port oder einem Stück Software,
      das dies nicht hat, hinzufügen, sollten die Versionsnummern
      dessen Regeln folgen. Im Allgemeinen hat die sich daraus
      resultierende Nummer nichts mit der Release-Version der Software
      zu tun.</p><p>Die drei Grundsätze zum Erstellen von Shared-Libraries
      sind:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Sie beginnen mit <code class="literal">1.0</code>.</p></li><li class="listitem"><p>Gibt es eine Änderung, die
	  abwärtskompatibel ist, so springen Sie zur
	  nächsten Minor-Version (beachten Sie, dass ELF-Systeme
	  die Minor-Version ignorieren).</p></li><li class="listitem"><p>Gibt es eine inkompatible Änderung, so springen
	  Sie bitte zur nächsten Major-Version.</p></li></ul></div><p>Zum Beispiel wird beim Hinzufügen von Funktionen und
      oder Fehlerbehebungen zur nächsten Minor-Version
      gesprungen, beim Löschen einer Funktion, Ändern
      von Funktionsaufrufen usw. ändert sich die Major-Version.</p><p>Bleiben Sie bei Versionsnummern in der Form major.minor
      (<em class="replaceable"><code>x</code></em>.<em class="replaceable"><code>y</code></em>).
      Unser dynamischer Linker a.out kann mit Versionsnummern
      in der Form
      <em class="replaceable"><code>x</code></em>.<em class="replaceable"><code>y</code></em>.<em class="replaceable"><code>z</code></em>
      nicht gut umgehen.
      Jede Versionsnummer nach dem <em class="replaceable"><code>y</code></em>
      (die dritte Zahl) wird völlig ignoriert, wenn
      Versionsnummern der Shared-Libraries verglichen werden, um
      zu bestimmen, mit welcher Bibliothek eine Anwendung verlinkt wird.
      Sind zwei Shared-Libraries vorhanden, die sich nur in der
      <span class="quote">&#8222;<span class="quote">micro</span>&#8220;</span>-Revision unterscheiden, so wird
      <code class="command">ld.so</code> zu der höheren verlinken.
      Dies bedeutet, dass wenn Sie mit <code class="filename">libfoo.so.3.3.3</code>
      verlinken, der Linker nur <code class="literal">3.3</code> in den
      Header aufnimmt und alles linkt, was mit
      <em class="replaceable"><code>libfoo.so.3</code></em>
      .<em class="replaceable"><code>(irgendetwas
      &gt;= 3)</code></em>.<em class="replaceable"><code>(höchste
      verfügbare Nummer)</code></em> beginnt.</p><div xmlns="" class="note"><h3 class="admontitle">Anmerkung: </h3><p xmlns="http://www.w3.org/1999/xhtml"><code class="command">ld.so</code> wird immer die höchste
	<span class="quote">&#8222;<span class="quote">Minor</span>&#8220;</span>-Revision benutzen. Beispielsweise wird
	es die <code class="filename">libc.so.2.2</code> bevorzugen
	gegenüber der <code class="filename">libc.so.2.0</code>, auch
	dann, wenn das Programm ursprünglich mit
	<code class="filename">libc.so.2.0</code> verlinkt war.</p></div><p>Unser dynamischer ELF-Linker kann keine Minor-Versionen
      handhaben. Dennoch sollten die Major- und Minor-Versionen genutzt
      werden, da unsere <code class="filename">Makefile</code>s <span class="quote">&#8222;<span class="quote">das
      Richtige machen</span>&#8220;</span> bezogen auf den Systemtyp.</p><p>Für nicht-Port-Bibliotheken lautet die Richtlinie,
      die Shared-Library-Versionsnummer nur einmal zwischen den
      Releases zu ändern. Weiterhin ist es vorgeschrieben, die
      Major-Version der Shared-Libraries nur bei Major-OS-Releases zu
      ändern (beispielsweise von 6.0 auf 7.0). Wenn Sie also eine
      Änderung an einer Systembibliothek vornehmen, die eine neue
      Versionsnummer benötigt, überprüfen Sie die
      Commit-Logs des <code class="filename">Makefile</code>s. Es liegt in der
      Verantwortung des Committers, dass sich eine erste solche
      Änderung seit dem letzten Release in der aktualisierten
      Versionsnummer der Shared-Library im
      <code class="filename">Makefile</code> äußert, folgende
      Änderungen werden nicht berücksichtigt.</p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="policies-encumbered.html">Zurück</a> </td><td width="20%" align="center"><a accesskey="u" href="policies.html">Nach oben</a></td><td width="40%" align="right"> <a accesskey="n" href="testing.html">Weiter</a></td></tr><tr><td width="40%" align="left" valign="top">5.4. Belastende Dateien </td><td width="20%" align="center"><a accesskey="h" href="index.html">Zum Anfang</a></td><td width="40%" align="right" valign="top"> Kapitel 6. Regressions- und Performance-Tests</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Wenn Sie Fragen zu FreeBSD haben, schicken Sie eine E-Mail an
    &lt;<a href="mailto:de-bsd-questions@de.FreeBSD.org">de-bsd-questions@de.FreeBSD.org</a>&gt;.<br></br>
    Wenn Sie Fragen zu dieser Dokumentation haben, schicken Sie eine E-Mail an
    &lt;<a href="mailto:de-bsd-translators@de.FreeBSD.org">de-bsd-translators@de.FreeBSD.org</a>&gt;.</small></p></body></html>