<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>5.8. MASTERDIR</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Das FreeBSD Porter-Handbuch" /><link rel="up" href="makefile.html" title="Kapitel 5. Die Konfiguration des Makefile" /><link rel="prev" href="makefile-depend.html" title="5.7. Abhängigkeiten (dependencies)" /><link rel="next" href="makefile-manpages.html" title="5.9. Manualpages" /><link rel="copyright" href="trademarks.html" title="Rechtlicher Hinweis" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">5.8. <code class="varname">MASTERDIR</code></th></tr><tr><td width="20%" align="left"><a accesskey="p" href="makefile-depend.html">Zurück</a> </td><th width="60%" align="center">Kapitel 5. Die Konfiguration des Makefile</th><td width="20%" align="right"> <a accesskey="n" href="makefile-manpages.html">Weiter</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="makefile-masterdir"></a>5.8. <code class="varname">MASTERDIR</code></h2></div></div></div><p>Falls Ihr Port wegen einer Variable, die verschiedene
	Werte annimmt  (z.B. Auflösung oder
	Papiergröße), leicht unterschiedliche Versione
	von Paketen erzeugen muss, dann legen Sie bitte ein
	Unterverzeichnis pro Paket an, um es für den Nutzer
	einfacher begreiflich zu machen, was zu machen ist.
	Aber versuchen Sie dabei so viele Dateien wie möglich
	zwischen diesen Ports gemeinsam zu nutzen.
	Normalerweise benötigen Sie nur ein sehr kurzes
	<code class="filename">Makefile</code> in allen ausser einem
	Unterverzeichnis, wenn Sie Variablen intelligent nutzen.
	In diesem einzigen <code class="filename">Makefile</code> können
	Sie <code class="varname">MASTERDIR</code> verwenden, um anzugeben,
	wo der Rest der Dateien liegt. Benutzen Sie bitte auch eine
	Variable für <a class="link" href="makefile-naming.html#porting-pkgname" title="5.2.5. Namensregeln für Pakete">
	<code class="varname">PKGNAMESUFFIX</code></a>, damit die Pakete
	unterschiedliche Namen haben werden.</p><p>Wir demonstrieren dies am Besten an einem Beispiel. Es ist
	Teil von
	<code class="filename">japanese/xdvi300/Makefile</code>;</p><pre class="programlisting">PORTNAME=       xdvi
PORTVERSION=    17
PKGNAMEPREFIX=  ja-
PKGNAMESUFFIX=  ${RESOLUTION}
 :
# default
RESOLUTION?=   300
.if ${RESOLUTION} != 118 &amp;&amp; ${RESOLUTION} != 240 &amp;&amp; \
       ${RESOLUTION} != 300 &amp;&amp; ${RESOLUTION} != 400
       @${ECHO_MSG} "Error: invalid value for RESOLUTION: \"${RESOLUTION}\""
       @${ECHO_MSG} "Possible values are: 118, 240, 300 (default) and 400."
       @${FALSE}
.endif</pre><p><a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/japanese/xdvi300/pkg-descr">japanese/xdvi300</a>
	verfügt ebenfalls über alle Patches, Paket-Dateien
	usw. Wenn Sie <code class="command">make</code> eintippen, wird der Port
	die Standardvorgabe für die Auflösung nehmen (300)
	und den Port ganz normal erstellen.</p><p>Genauso wie für alle anderen Auflösungen ist
	dies das <span class="emphasis"><em>vollständige</em></span>
	<code class="filename">xdvi118/Makefile</code>:</p><pre class="programlisting">RESOLUTION=     118
MASTERDIR=      ${.CURDIR}/../xdvi300

.include "${MASTERDIR}/Makefile"</pre><p>(<code class="filename">xdvi240/Makefile</code> und
	<code class="filename">xdvi400/Makefile</code> sind ähnlich).
	Die <code class="varname">MASTERDIR</code>-Definition teilt dem
	<code class="filename">bsd.port.mk</code> mit, dass die normalen
	Unterverzeichnisse wie <code class="varname">FILESDIR</code> und
	<code class="varname">SCRIPTDIR</code> unter
	<code class="filename">xdvi300</code> gefunden werden können.
	Die <code class="literal">RESOLUTION=118</code>-Zeile wird die
	<code class="literal">RESOLUTION=300</code>-Zeile in
	<code class="filename">xdvi300/Makefile</code> überschreiben
	und der Port wird mit einer Auflösung von 118
	erstellt.</p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="makefile-depend.html">Zurück</a> </td><td width="20%" align="center"><a accesskey="u" href="makefile.html">Nach oben</a></td><td width="40%" align="right"> <a accesskey="n" href="makefile-manpages.html">Weiter</a></td></tr><tr><td width="40%" align="left" valign="top">5.7. Abhängigkeiten (dependencies) </td><td width="20%" align="center"><a accesskey="h" href="index.html">Zum Anfang</a></td><td width="40%" align="right" valign="top"> 5.9. Manualpages</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Wenn Sie Fragen zu FreeBSD haben, schicken Sie eine E-Mail an
    &lt;<a href="mailto:de-bsd-questions@de.FreeBSD.org">de-bsd-questions@de.FreeBSD.org</a>&gt;.<br></br>
    Wenn Sie Fragen zu dieser Dokumentation haben, schicken Sie eine E-Mail an
    &lt;<a href="mailto:de-bsd-translators@de.FreeBSD.org">de-bsd-translators@de.FreeBSD.org</a>&gt;.</small></p></body></html>