<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>27.4. Dial-in буюу гаднаас залгах үйлчилгээ</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD гарын авлага" /><link rel="up" href="serialcomms.html" title="Бүлэг 27. Цуваа холбоонууд" /><link rel="prev" href="term.html" title="27.3. Терминалууд" /><link rel="next" href="dialout.html" title="27.5. Dial-out буюу гадагш залгах үйлчилгээ" /><link rel="copyright" href="legalnotice.html" title="Хуулийн заалт" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">27.4. Dial-in буюу гаднаас залгах үйлчилгээ</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="term.html">Өмнөх</a> </td><th width="60%" align="center">Бүлэг 27. Цуваа холбоонууд</th><td width="20%" align="right"> <a accesskey="n" href="dialout.html">Дараах</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="dialup"></a>27.4. Dial-in буюу гаднаас залгах үйлчилгээ</h2></div><div><span class="authorgroup">Хувь нэмэр болгон оруулсан <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Гай</span> <span class="surname">Хэлмер</span></span>. </span></div><div><span class="authorgroup">Нэмсэн <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Шон</span> <span class="surname">Келли</span></span>. </span></div></div></div><a id="idp87250256" class="indexterm"></a><p>FreeBSD системийг dial-in буюу гаднаас залгах үйлчилгээнд
	зориулж тохируулах нь терминалууд холбохтой маш төстэй бөгөөд ялгаатай
	тал нь та терминалуудын оронд модемуудтай ажиллах юм.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp87251152"></a>27.4.1. Гадаад, Дотоод модемууд</h3></div></div></div><p>Гадаад модемууд нь dial-up буюу гадагш залгахад илүү тохиромжтой
	байдаг, учир нь гадаад модемууд нь хувирдаггүй RAM-д хадгалагдах параметрүүдээр
	хагас тогтмолоор ихэвчлэн тохируулагдсан байж болдог бөгөөд тэдгээр нь ихэвчлэн
	чухал RS-232 дохионуудын төлөвийг үзүүлдэг гэрлийн заагчтай байдаг.
	</p><p>Дотоод модемуудад ихэвчлэн хувирдаггүй RAM байдаггүй болохоор тэдгээрийн
	тохиргоо зөвхөн DIP шилжүүлэгчдийг тохируулснаар хязгаарлагдаж болох юм.
	Хэрэв таны дотоод модем ямар нэг дохио заагч гэрэлтэй бол системийн гадар
	байгаа нөхцөлд харахад хүнд байх байсан болов уу.</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp87252560"></a>27.4.1.1. Модемууд болон Кабелууд</h4></div></div></div><a id="idp87253200" class="indexterm"></a><p>Хэрэв та гадаад модем ашиглаж байгаа бол танд мэдээж зөв кабель
	хэрэгтэй болно. Хэвийн бүх дохионууд холбогдсон байхад стандарт RS-232C цуваа
	кабель хангалттай байх ёстой:</p><div class="table"><a id="serialcomms-signal-names"></a><div class="table-title">Хүснэгт 27.4. Дохионы нэрс</div><div class="table-contents"><table summary="Дохионы нэрс" width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th align="left">Товчлолууд</th><th align="left">Нэрс</th></tr></thead><tbody><tr><td><acronym class="acronym">RD</acronym></td><td>Received Data буюу Хүлээн авсан өгөгдөл</td></tr><tr><td><acronym class="acronym">TD</acronym></td><td>Transmitted Data буюу Дамжуулсан өгөгдөл</td></tr><tr><td><acronym class="acronym">DTR</acronym></td><td>Data Terminal Ready буюу Өгөгдлийн терминал бэлэн</td></tr><tr><td><acronym class="acronym">DSR</acronym></td><td>Data Set Ready буюу Өгөгдлийн олонлог бэлэн</td></tr><tr><td><acronym class="acronym">DCD</acronym></td><td>Data Carrier Detect буюу Өгөгдлийн зөөгч илрүүлэх (RS-232-ийн Хүлээн авсан Шугамын Дохио Илрүүлэгч)</td></tr><tr><td><acronym class="acronym">SG</acronym></td><td>Signal Ground буюу Дохио газар</td></tr><tr><td><acronym class="acronym">RTS</acronym></td><td>Request to Send буюу Илгээх хүсэлт</td></tr><tr><td><acronym class="acronym">CTS</acronym></td><td>Clear to Send буюу Илгээхэд цэвэр</td></tr></tbody></table></div></div><br class="table-break" /><p>2400 bps хурдаас дээш урсгалын хяналтад
	<acronym class="acronym">RTS</acronym> болон <acronym class="acronym">CTS</acronym> дохионууд
	FreeBSD-д хэрэгтэй байдаг. Мөн хэзээ дуудлага хүлээн авсан эсвэл шугам таслагдсаныг мэдэх
	<acronym class="acronym">CD</acronym> дохио болон сесс бүрэн гүйцэд болсны дараа модемийг
	дахин тохируулах <acronym class="acronym">DTR</acronym> дохионууд хэрэгтэй байдаг.
	Зарим кабелиуд нь бүх хэрэгцээтэй дохионуудгүйгээр холбогдсон байдаг болохоор
	шугам таслагдах үед нэвтрэх сесс байхгүй болохгүй байх зэрэг асуудлууд хэрэв танд байгаа бол
	таны кабель асуудалтай байж болох юм.</p><p>Бусад <span class="trademark">UNIX</span>® төст үйлдлийн системүүдийн адил FreeBSD нь
	хэзээ дуудлагыг хүлээн авсан эсвэл шугам хэзээ таслагдсан болон дуудлагын дараа
	модемийг тасалж дахин тохируулахыг мэдэх тоног төхөөрөмжийн дохионуудыг
	ашигладаг. FreeBSD нь модем уруу тушаалуудыг илгээх эсвэл модемоос
	төлвийн тайлангуудыг харахаас зайлсхийдэг.</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp87275984"></a>27.4.2. Цуваа интерфэйсийн эргэцүүллүүд</h3></div></div></div><p>FreeBSD нь NS8250-, NS16450-, NS16550-, болон NS16550A-дээр
	тулгуурласан EIA RS-232C (CCITT V.24) холбооны интерфэйсүүдийг дэмждэг.
	8250 болон 16450 интерфэйсүүд нь ганц тэмдэгтийн буфертай байдаг. 16550
	төхөөрөмж нь системийн ажиллагааг илүү сайн болгох 16 тэмдэгтийн буфертай
	байдаг. Цэвэр 16550 дахь алдаанууд нь 16 тэмдэгтийн буферийн хэрэглээнээс
	зайлсхийдэг, тиймээс хэрэв боломжтой бол 16550A-г ашиглаарай. Ганц тэмдэгтийн
	буфер бүхий төхөөрөмжүүд нь 16 тэмдэгтийн буфер бүхий төхөөрөмжүүдээс илүү
	ажил үйлдлийн системээс шаарддаг учраас 16550A-дээр тулгуурласан цуваа
	интерфэйс картуудыг эрхэмлэх нь зүйтэй юм. Хэрэв систем олон идэвхтэй
	цуваа портуудтай бол эсвэл их ачаалалтай бол 16550A-дээр тулгуурласан картууд
	нь бага алдааны түвшин бүхий холбоонуудад илүү зохицдог.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp87277136"></a>27.4.3. Түргэн дүгнэлт</h3></div></div></div><a id="idp87277776" class="indexterm"></a><p>Терминалуудтай адил <code class="command">init</code> нь
	гаднаас залгах холболтуудын хувьд тохируулсан цуваа порт бүрийн хувьд
	<code class="command">getty</code> процессийг ажиллуулдаг. Жишээ нь
	хэрэв модем <code class="filename">/dev/ttyu0</code> уруу
	залгагдсан бол <code class="command">ps ax</code> тушаал ингэж
	харуулж болох юм:</p><pre class="screen"> 4850 ??  I      0:00.09 /usr/libexec/getty V19200 ttyu0</pre><p>Хэрэглэгч модемийн шугам залгаад модем холбогдох үед
	<acronym class="acronym">CD</acronym> (Carrier Detect буюу Зөөгч Илрүүлэгч) шугамыг
	модем гаргаж харуулна. Цөм зөөгч илрүүлэгдсэнийг мэдэж <code class="command">getty</code>-ийн
	порт нээхийг гүйцээнэ. <code class="command">getty</code> нь <code class="prompt">login:</code>
	хүлээх мөрийг заагдсан эхний шугамын хурдаар илгээдэг. <code class="command">getty</code> нь
	зөвшөөрөгдсөн тэмдэгтүүд хүлээн авагдсан эсэхийг мэдэхийн тулд харж байдаг
	бөгөөд ердийн тохиргоонд хэрэв энэ нь хог олох юм бол (модемийн холболтын хурд
	<code class="command">getty</code>-ийн хурднаас өөр байгаагаас магадгүй болоод)
	<code class="command">getty</code> нь боломжийн тэмдэгтүүд хүлээж автлаа
	шугамын хурдуудыг тааруулахыг оролдох болно.</p><a id="idp87288016" class="indexterm"></a><p>Хэрэглэгч өөрийн нэвтрэх нэрийг оруулсны дараа <code class="command">getty</code>
	тушаал хэрэглэгчийн нууц үгийг асууж нэвтрэлтийг гүйцээн хэрэглэгчийн бүрхүүлийг
	эхлүүлдэг <code class="filename">/usr/bin/login</code> тушаалыг
	ажиллуулдаг.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp87290192"></a>27.4.4. Тохиргооны файлууд</h3></div></div></div><p><code class="filename">/etc</code> санд гурван системийн тохиргооны
	файл байдаг бөгөөд өөрийн FreeBSD системд dial-up буюу гадагш
	залгах боломжийг олгохын тулд та магадгүй засварлах хэрэгтэй болно.
	Эхний <code class="filename">/etc/gettytab</code> нь
	<code class="filename">/usr/libexec/getty</code> демоны тохиргооны
	мэдээллийг агуулдаг.
	Хоёр дахь <code class="filename">/etc/ttys</code>
	нь <code class="command">getty</code> процессуудын ажиллах <code class="filename">tty</code>
	төхөөрөмжүүдэд юу байх ёстойг <code class="filename">/sbin/init</code> тушаалд хэлж өгөх
	мэдээллийг агуулдаг.
	Сүүлд нь порт эхлүүлэх тушаалуудыг та <code class="filename">/etc/rc.d/serial</code>
	скриптэд байрлуулж болно.</p><p><span class="trademark">UNIX</span>® дээр dial-up модемуудын талаар санаа бодлын хоёр сургууль байдаг.
	Нэг бүлэг нь алсын хэрэглэгч ямар ч хурдаар залгасан байсан гэсэн локал компьютераас
	модемд холбогдсон RS-232 интерфэйс түгжигдсэн хурдаар ажиллахаар өөрсдийн
	модемууд болон системүүдийг тохируулах дуртай байдаг. Энэ тохиргооны ашигтай
	тал нь алсын хэрэглэгч системийн нэвтрэлт хүлээх мөрийг үргэлж нэн даруй хардаг
	явдал юм. Сул тал нь систем хэрэглэгчийн өгөгдлийн жинхэнэ хурдыг мэддэггүй
	явдал бөгөөд <span class="application">Emacs</span> зэрэг бүрэн дэлгэцийн програмууд нь
	удаан холболтуудын хувьд хариултыг сайжруулахын тулд өөрийн дэлгэц будах аргуудаа
	тааруулахгүй байх болно.</p><p>Нөгөө нэг сургууль нь өөрсдийн модемуудынхаа RS-232 интерфэйсийн хурдыг
	алсын компьютерийн холболтын хурд дээр тулгуурлан өөрчилдгөөр тохируулдаг.
	Жишээ нь модем уруу хийгдэх V.32bis (14.4 Kbps) холболтууд нь
	модемийг өөрийн RS-232 интерфэйсийг 19.2 Kbps хурдаар ажиллуулах
	бол 2400 bps холболтууд нь модемийн RS-232 интерфэйсийг 2400 bps
	хурд дээр ажиллуулдаг. <code class="command">getty</code> нь тухайн ямар нэг
	модемийн холболтын хурдны тайлагналтыг ойлгодоггүй учраас <code class="command">getty</code>
	тушаал нь <code class="prompt">login:</code> мэдэгдлийг эхний хурдан дээр
	өгдөг бөгөөд хариултаас ирэх тэмдэгтүүдийг харж байдаг. Хэрэв хэрэглэгч хог
	харвал тэдгээр нь танигдах хүлээх мөрийг хартлаа <span class="keycap"><strong>Enter</strong></span>
	товчлуурыг дарах ёстой гэдгээ мэдэж байгаа гэж тооцдог. Хэрэв өгөгдлийн хурд
	таарахгүй бол <code class="command">getty</code> нь хэрэглэгчийн бичсэн болгоныг
	<span class="quote">«<span class="quote">хог</span>»</span> гэж харах бөгөөд дараагийн хурдыг оролдож
	<code class="prompt">login:</code> хүлээх мөрийг дахин өгдөг. Энэ процедур
	дотор муухайрах түвшинд хүртэл үргэлжилж болох боловч хэрэглэгч зөв хүлээх мөрийг харах
	хүртэл ихэвчлэн ганц хоёр товчлуур даруулдаг. Мэдээж энэ нэвтрэлтийн дараалал нь
	түрүүчийн <span class="quote">«<span class="quote">locked-speed буюу түгжигдсэн хурд</span>»</span>тай адил
	цэвэр байдаггүй боловч бага хурдтай холболтон дээр байх хэрэглэгчийн хувьд бүрэн дэлгэцийн
	програмуудаас илүү сайн интерактив хариултыг хүлээн авах ёстой юм.</p><p>Энэ хэсэг нь тэнцвэртэй тохиргооны мэдээллийг өгөхийг оролдох боловч
	модемийн өгөгдлийн хурд холболтын хурдыг дагах тал уруу илүү хазайсан байгаа
	болно.</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp87320016"></a>27.4.4.1. <code class="filename">/etc/gettytab</code></h4></div></div></div><a id="idp87320784" class="indexterm"></a><p><code class="filename">/etc/gettytab</code> нь <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=getty&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">getty</span>(8)</span></a>-ийн
	тохиргооны мэдээллийн <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=termcap&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">termcap</span>(5)</span></a> загварын файл юм. Файлын
	хэлбэр болон боломжуудын жагсаалтын тухай бүрэн мэдээллийг <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=gettytab&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">gettytab</span>(5)</span></a>
	гарын авлагын хуудаснаас үзнэ үү.</p><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp87324880"></a>27.4.4.1.1. Locked-speed буюу түгжигдсэн хурд тохиргоо</h5></div></div></div><p>Хэрэв та өөрийн модемийн өгөгдлийн холбоонуудын хурдыг тухайн нэг
		хурдан дээр түгжиж байгаа бол магадгүй <code class="filename">/etc/gettytab</code> файлд
		ямар нэг өөрчлөлт хийх шаардлагагүй юм.</p></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp87326416"></a>27.4.4.1.2. Matching-speed буюу таарах хурд тохиргоо</h5></div></div></div><p>Өөрийн модемд зориулж ашиглахыг хүссэн хурдны талаар <code class="command">getty</code>-д
		мэдээлэл өгөхийн тулд <code class="filename">/etc/gettytab</code> файлд та
		оруулга тохируулах хэрэгтэй болно. Хэрэв та 2400 bps модемтой бол
		байгаа <code class="literal">D2400</code> оруулгыг магадгүй ашиглаж болох
		юм.</p><pre class="programlisting">#
# Fast dialup terminals, 2400/1200/300 rotary (can start either way)
#
D2400|d2400|Fast-Dial-2400:\
        :nx=D1200:tc=2400-baud:
3|D1200|Fast-Dial-1200:\
        :nx=D300:tc=1200-baud:
5|D300|Fast-Dial-300:\
        :nx=D2400:tc=300-baud:</pre><p>Хэрэв та илүү хурдтай модемтой бол <code class="filename">/etc/gettytab</code>
		файлд магадгүй оруулга нэмэх хэрэгтэй болж болох юм; энд
		интерфэйсийн дээд хурд нь 19.2 Kbps бүхий 14.4 Kbps модемд
		зориулан таны ашиглах оруулга байна:</p><pre class="programlisting">#
# Additions for a V.32bis Modem
#
um|V300|High Speed Modem at 300,8-bit:\
        :nx=V19200:tc=std.300:
un|V1200|High Speed Modem at 1200,8-bit:\
        :nx=V300:tc=std.1200:
uo|V2400|High Speed Modem at 2400,8-bit:\
        :nx=V1200:tc=std.2400:
up|V9600|High Speed Modem at 9600,8-bit:\
        :nx=V2400:tc=std.9600:
uq|V19200|High Speed Modem at 19200,8-bit:\
        :nx=V9600:tc=std.19200:</pre><p>Энэ нь 8 бит, parity байхгүй холболтуудад хүргэнэ.</p><p>Дээрх жишээ нь холболтын хурдаа 19.2 Kbps
	    (V.32bis холболтын хувьд) гэж эхлүүлж дараа нь 9600 bps (V.32-ийн хувьд),
		2400 bps, 1200 bps, 300 bps, гэж оролдоод
		19.2 Kbps хурд уруу буцах болно. Холбооны хурдны тойролт нь
		<code class="literal">nx=</code> (<span class="quote">«<span class="quote">next table</span>»</span> буюу дараагийн
		хүснэгт) боломжтой цуг хийгдсэн байдаг. Мөр бүр нь өгөгдлийн тухайн хурдны
		хувьд <span class="quote">«<span class="quote">стандарт</span>»</span> тохиргоонуудын үлдсэнийг авахын тулд
		<code class="literal">tc=</code> (<span class="quote">«<span class="quote">table continuation</span>»</span> буюу
		хүснэгтийн үргэлжлэл) оруулгыг ашигладаг.</p><p>Хэрэв та 28.8 Kbps модемтой ба/эсвэл та 14.4 Kbps модем
		дээр шахалтын давуу талыг авахыг хүсвэл 19.2 Kbps-ээс илүү холбооны
		хурдыг ашиглах хэрэгтэй юм. Энд 57.6 Kbps-ээс эхлэх
		<code class="filename">gettytab</code> оруулгын жишээ байна:</p><pre class="programlisting">#
# Additions for a V.32bis or V.34 Modem
# Starting at 57.6 Kbps
#
vm|VH300|Very High Speed Modem at 300,8-bit:\
        :nx=VH57600:tc=std.300:
vn|VH1200|Very High Speed Modem at 1200,8-bit:\
        :nx=VH300:tc=std.1200:
vo|VH2400|Very High Speed Modem at 2400,8-bit:\
        :nx=VH1200:tc=std.2400:
vp|VH9600|Very High Speed Modem at 9600,8-bit:\
        :nx=VH2400:tc=std.9600:
vq|VH57600|Very High Speed Modem at 57600,8-bit:\
        :nx=VH9600:tc=std.57600:</pre><p>Хэрэв та удаан CPU-тэй эсвэл ачаалал ихтэй системтэй бөгөөд
		16550A дээр тулгуурласан цуваа портуудтай бол 57.6 Kbps хурд
		дээр та <span class="errorname">sio</span> <span class="quote">«<span class="quote">silo</span>»</span>
		гэсэн алдаанууд хүлээн авч болох юм.</p></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="dialup-ttys"></a>27.4.4.2. <code class="filename">/etc/ttys</code></h4></div></div></div><a id="idp87357008" class="indexterm"></a><p><code class="filename">/etc/ttys</code> файлын тохиргоо
	<a class="xref" href="term.html#ex-etc-ttys" title="Жишээ 27.1. /etc/ttys уруу терминалын оруулгууд нэмэх нь">Жишээ 27.1, «<code class="filename">/etc/ttys</code> уруу терминалын оруулгууд нэмэх нь»</a> хэсэгт яригдсан байгаа.
	Модемуудын тохиргоо төстэй боловч бид өөр терминалын төрлийг заахын тулд
	<code class="command">getty</code> уруу өөр нэмэлт өгөгдлүүдийг дамжуулах ёстой.
	Түгжигдсэн хурдтай болон таарах хурдтай тохиргоонуудын ерөнхий хэлбэр нь
	иймэрхүү байна:</p><pre class="programlisting">ttyu0   "/usr/libexec/getty <em class="replaceable"><code>xxx</code></em>"   dialup on</pre><p>Дээрх мөрний эхнийх нь энэ оруулгад зориулсан төхөөрөмжийн тусгай
	файл юм — <code class="filename">ttyu0</code> нь <code class="filename">/dev/ttyu0</code>
	гэсэн үг бөгөөд үүнийг <code class="command">getty</code> харж байдаг.
	Хоёр дахь <code class="literal">"/usr/libexec/getty
	    xxx"</code>
	(<em class="replaceable"><code>xxx</code></em> нь эхний
	<code class="filename">gettytab</code> боломжоор солигдоно) нь энэ төхөөрөмж дээр
	<code class="command">init</code>-ийн ажиллуулах процесс юм. Гурав дахь
	<code class="literal">dialup</code> гэдэг нь терминалын анхдагч төрөл юм.
	Дөрөв дэх параметр <code class="literal">on</code> гэдэг нь <code class="command">init</code>-д
	шугам ажиллагаатай гэдгийг заана. Тав дахь параметр <code class="literal">secure</code>
	байж болох боловч энэ нь зөвхөн физикийн хувьд аюулгүй терминалуудад (системийн
	консолд) ашиглагдах ёстой юм.</p><p>Анхдагч терминалын төрөл нь (дээрх жишээний <code class="literal">dialup</code>)
	локал тохируулгуудаас хамаарна. <code class="literal">dialup</code> нь dial-up шугамууд
	дээрх уламжлалт терминалын анхдагч төрөл бөгөөд хэрэглэгчид нь өөрсдийн нэвтрэх
	скриптүүдийг терминал <code class="literal">dialup</code> байгаа үед мэдэхээр өөрчилж өөрсдийн
	терминалын төрлийг автоматаар тааруулж болох юм. Гэхдээ зохиогч өөрийн сайт дээр
	анхдагч терминалын төрлөө <code class="literal">vt102</code> гэх нь хялбар болохыг
	олсон бөгөөд хэрэглэгчид өөрсдийн алсын системүүд дээрээ ердөө л VT102 эмуляцыг
	ашигладаг болохоор тэр юм.</p><p>Та <code class="filename">/etc/ttys</code> файлд өөрчлөлтүүд хийснийхээ
	дараа <code class="command">init</code> процессод файлыг дахин уншуулахын тулд
	<acronym class="acronym">HUP</acronym> дохиог илгээж болох юм. Та дараах тушаалыг
	ашиглаж

	</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>kill -HUP 1</code></strong></pre><p>

	  дохио илгээж болно.  Хэрэв та анх удаагаа системийг тохируулж байгаа бол
	өөрийн модем(үүд)ийг зөв тохируулж <code class="command">init</code>
	уруу дохиолохоос өмнө холбогдох хүртэл хүлээхийг хүсэж болох юм.
	  </p><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp87382096"></a>27.4.4.2.1. Locked-speed буюу түгжигдсэн хурд тохиргоо</h5></div></div></div><p>Түгжигдсэн хурд тохиргооны хувьд таны <code class="filename">ttys</code>
		оруулга <code class="command">getty</code> уруу өгөгдөх тогтмол хурд бүхий
		оруулгатай байх хэрэгтэй. Портын хурд нь 19.2 Kbps
		гэж түгжигдсэн модемийн хувьд <code class="filename">ttys</code> оруулга нь
		иймэрхүү харагдаж болох юм:</p><pre class="programlisting">ttyu0   "/usr/libexec/getty std.19200"   dialup on</pre><p>Хэрэв таны модем өөр хурдан дээр түгжигдсэн бол
		<code class="literal">std.19200</code>-ийн оронд
		<code class="literal">std.speed</code>-ийн
		хувьд тохирох утгыг тавьж солиорой. Та <code class="filename">/etc/gettytab</code>-д
		жагсаагдсан зөв төрлийг ашигласан эсэхээ шалгаарай.</p></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp87386320"></a>27.4.4.2.2. Matching-speed буюу таарах хурд тохиргоо</h5></div></div></div><p>Таарах хурд тохиргоон дээр таны <code class="filename">ttys</code>
		оруулга нь <code class="filename">/etc/gettytab</code> дахь
		тохирох зөв <span class="quote">«<span class="quote">auto-baud</span>»</span> (sic) оруулгаас
		авах хэрэгтэй болдог. Жишээ нь хэрэв та дээрх санал
		болгосон оруулгыг 19.2 Kbps-ээс (<code class="literal">V19200</code> эхлэх
		цэгийг агуулах <code class="filename">gettytab</code> оруулга) эхлэх таарах хурд
		бүхий модемийн хувьд нэмсэн бол таны <code class="filename">ttys</code>
		оруулга иймэрхүү харагдах болно:</p><pre class="programlisting">ttyu0   "/usr/libexec/getty V19200"   dialup on</pre></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp87390672"></a>27.4.4.3. <code class="filename">/etc/rc.d/serial</code></h4></div></div></div><a id="idp87391440" class="indexterm"></a><p>V.32, V.32bis, болон V.34 зэрэг өндөр хурдтай модемууд
	тоног төхөөрөмжийн (<code class="literal">RTS/CTS</code>) урсгал хяналтыг
	ашиглах хэрэгтэй. Та модемийн портуудын хувьд FreeBSD цөмд
	тоног төхөөрөмжийн урсгалын хяналтын тугийг тохируулахын тулд
	<code class="command">stty</code> тушаалуудыг <code class="filename">/etc/rc.d/serial</code>
	файлд нэмж болно.</p><p>Жишээ нь гаднаас залгах болон гадагш залгах эхний төхөөрөмжүүдийн
	хувьд цуваа порт #1 дээр <code class="varname">crtscts</code> гэсэн
	<code class="literal">termios</code>-ийн тугийг тохируулахын тулд
	дараах мөрүүдийг <code class="filename">/etc/rc.d/serial</code>
	файлд нэмж болох юм:</p><pre class="programlisting"># Serial port initial configuration
stty -f /dev/ttyu1.init crtscts
stty -f /dev/cuau1.init crtscts</pre></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp87396432"></a>27.4.5. Модемийн тохиргоонууд</h3></div></div></div><p>Хэрэв та хувирдаггүй RAM-д параметрүүд нь тогтмолоор тохируулагдсан байж болох
	модемтой бол параметрүүдийг тохируулахын тулд та терминал програм <code class="command">tip</code> гэх мэт) ашиглах
	хэрэгтэй болно. Эхний хурдтай адил холболтын хурдыг ашиглан модем уруу холбогдохын
	тулд <code class="command">getty</code> нь доор дурдсан шаардлагуудтай таарахын тулд
	модемийн хувирдаггүй RAM-ийг хэрэглэж тохируулах болно:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Холбогдох үед <acronym class="acronym">CD</acronym> шалгагдана</p></li><li class="listitem"><p>Үйлдлийн хувьд <acronym class="acronym">DTR</acronym> шалгагдана; DTR-ийг
		хаях нь шугамыг салгаж модемийг дахин тохируулахад хүргэнэ</p></li><li class="listitem"><p><acronym class="acronym">CTS</acronym> нь өгөгдлийн урсгалын хяналтыг дамжуулсан</p></li><li class="listitem"><p><acronym class="acronym">XON/XOFF</acronym> урсгалын хяналтыг хаана</p></li><li class="listitem"><p><acronym class="acronym">RTS</acronym> нь өгөгдлийн урсгалын хяналтыг хүлээн авсан</p></li><li class="listitem"><p>Чимээгүй горим (үр дүнгийн кодууд байхгүй)</p></li><li class="listitem"><p>Тушаалын цуурай байхгүй</p></li></ul></div><p>Аль тушаалууд ба/эсвэл DIP шилжүүлэгчийн тохиргоонуудыг та өгөх ёстой
	болохыг олохын тулд өөрийн модемийн баримтыг уншина уу.</p><p>Жишээ нь <span class="trademark">U.S. Robotics</span>® <span class="trademark">Sportster</span>® 14,400 хурдтай гадаад модем
	дээр дээрх параметрүүдийг тохируулахын тулд эдгээр тушаалуудыг модемд өгч
	болох юм:</p><pre class="programlisting">ATZ
AT&amp;C1&amp;D2&amp;H1&amp;I0&amp;R2&amp;W</pre><p>V.42bis ба/эсвэл MNP5 шахалтыг ашиглах зэрэг модемийн бусад тохиргоонуудыг
	тааруулахын тулд та бас энэ боломжийг ашиглахыг хүсэж болох юм.</p><p><span class="trademark">U.S. Robotics</span>® <span class="trademark">Sportster</span>® 14,400 хурдтай гадаад модем нь тохируулах хэрэгтэй
	DIP шилжүүлэгчүүдтэй бас байдаг; бусад модемуудын хувьд та эдгээр тохируулгуудыг
	жишээ болгон ашиглаж болох юм:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Шилжүүлэгч 1: ДЭЭШ — DTR Хэвийн</p></li><li class="listitem"><p>Шилжүүлэгч 2: N/A буюу Байхгүй (Үр дүнгийн үгэн кодууд/Үр дүнгийн тоон кодууд)</p></li><li class="listitem"><p>Шилжүүлэгч 3: ДЭЭШ — Үр дүнгийн дарах/хориглох кодууд</p></li><li class="listitem"><p>Шилжүүлэгч 4: ДООШ — Цуурай байхгүй, холбогдоогүй үеийн тушаалууд</p></li><li class="listitem"><p>Шилжүүлэгч 5: ДЭЭШ — Автомат хариулна</p></li><li class="listitem"><p>Шилжүүлэгч 6: ДЭЭШ — Зөөгч илрүүлэлт хэвийн</p></li><li class="listitem"><p>Шилжүүлэгч 7: ДЭЭШ — NVRAM анхдагчуудыг ачаалах</p></li><li class="listitem"><p>Шилжүүлэгч 8: N/A буюу Байхгүй (Ухаалаг Горим/Дүлий Горим)</p></li></ul></div><p>Хэрэв <code class="command">getty</code> тушаал нь
	<code class="prompt">login:</code> хүлээх мөрийг тушаалын горимд байгаа модем уруу
	андуурч өгсөн бөгөөд модем нь тушаалыг цуурайтуулан буцааж эсвэл үр дүнгийн
	кодыг буцаахад үүсч болох асуудлуудаас сэргийлэхийн тулд үр дүнгийн кодууд нь
	dial-up модемуудын хувьд хаагдсан/дарагдсан байх ёстой. Энэ дараалал нь
	<code class="command">getty</code> болон модемийн хооронд сунасан, тэнэг
	ярианд хүргэж болох юм.</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp87426128"></a>27.4.5.1. Locked-speed буюу түгжигдсэн хурд тохиргоо</h4></div></div></div><p>Түгжигдсэн хурд тохиргооны хувьд та модемийг холболтын хурдаас хамааралгүйгээр
	модемоос компьютер хүртэлх өгөгдлийн хурдыг тогтмолоор байлгахаар тохируурах
	хэрэгтэй. <span class="trademark">U.S. Robotics</span>® <span class="trademark">Sportster</span>® 14,400 хурдтай гадаад модем дээр
	эдгээр тушаалууд нь модемоос компьютер хүртэлх өгөгдлийн хурдыг тушаалуудыг
	ажиллуулах хурд дээр түгжих болно:</p><pre class="programlisting">ATZ
AT&amp;B1&amp;W</pre></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp87428688"></a>27.4.5.2. Matching-speed буюу таарах хурд тохиргоо</h4></div></div></div><p>Хувьсах хурд тохиргооны хувьд  ирж байгаа дуудлагын хурдтай ижил байлгаж
	өөрийн цуваа портын өгөгдлийн хурдыг тааруулахын тулд та өөрийн модемийг
	тохируулах хэрэгтэй болно. <span class="trademark">U.S. Robotics</span>® <span class="trademark">Sportster</span>® 14,400 хурдтай
	гадаад модем дээр эдгээр тушаалууд нь модемийн алдаа засварлах өгөгдлийн хурдыг
	тушаалуудыг ажиллуулах хурд дээр түгжих боловч цуваа портын хурдыг
	алдаа засварлахүй холболтуудын хувьд хувьсах байхаар зөвшөөрөх болно:</p><pre class="programlisting">ATZ
AT&amp;B2&amp;W</pre></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp87435600"></a>27.4.5.3. Модемийн тохиргоог шалгах нь</h4></div></div></div><p>Ихэнх өндөр хурдтай модемууд нь модемийн тухайн үеийн үйлдлийн параметрүүдийг
	хүн уншиж болохоор үзүүлэх тушаалуудтай байдаг. <span class="trademark">U.S. Robotics</span>® <span class="trademark">Sportster</span>® 14,400 хурдтай
	гадаад модемууд дээр <code class="command">ATI5</code> тушаал хувирдаггүй RAM-д хадгалагдаж
	байгаа тохиргоонуудыг харуулдаг. Модемийн үйлдлийн жинхэнэ параметрүүдийг харахын
	тулд (модемийн DIP шилжүүлэгчийн тохиргоонууд нөлөөлсөн) <code class="command">ATZ</code> болон
	дараа нь <code class="command">ATI4</code> тушаалуудыг ашиглана.</p><p>Хэрэв та өөр загварын модемтой бол өөрийн модемийн тохиргооны
	параметрүүдийг хэрхэн давхар шалгах талаар өөрийн модемийн гарын авлагаас
	шалгаарай.</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp87439568"></a>27.4.6. Алдааг олж засварлах нь</h3></div></div></div><p>Өөрийн систем дээр dial-up модемийг шалгахын тулд таны дагах цөөн хэдэн алхмууд
	энд байна.</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp87440592"></a>27.4.6.1. FreeBSD системийг шалгах</h4></div></div></div><p>Өөрийн модемийг өөрийн FreeBSD системд залгаад системээ ачаалах бөгөөд
	хэрэв таны модем төлөв заах гэрлүүдтэй бол системийн консол дээр <code class="prompt">login:</code>
	хүлээх мөр гарч ирэх үед модемийн <acronym class="acronym">DTR</acronym> заагч асаж байгаа эсэхийг
	шалгах хэрэгтэй — хэрэв асаж байгаа бол FreeBSD нь тохирох холболтуудын
	порт дээр <code class="command">getty</code>-г эхлүүлж модемийг дуудлага хүлээж авахыг
	хүлээж байна гэсэн үг юм.</p><p>Хэрэв <acronym class="acronym">DTR</acronym> заагч асахгүй бол FreeBSD систем уруу
	консолоор нэвтрээд FreeBSD нь зөв порт дээр <code class="command">getty</code> процессийг
	ажиллуулахаар оролдож байгаа эсэхийг харахын тулд <code class="command">ps ax</code>
	тушаалыг ажиллуулна. Та эдгээртэй төстэй мөрүүдийг процессуудын хамтаар
	харах ёстой:</p><pre class="screen">  114 ??  I      0:00.10 /usr/libexec/getty V19200 ttyu0
  115 ??  I      0:00.10 /usr/libexec/getty V19200 ttyu1</pre><p>Хэрэв та үүнтэй адил өөр:</p><pre class="screen">  114 d0  I      0:00.10 /usr/libexec/getty V19200 ttyu0</pre><p>мөрийг харсан бөгөөд модем нь дуудлага хүлээж авч амжаагүй байгаа бол
	<code class="command">getty</code> нь холболтуудын порт дээр өөрийн онгойлголтыг
	бүрэн хийж гүйцсэн гэсэн үг юм. Энэ нь кабелийн асуудал эсвэл буруу тохируулсан модемтой
	холбоотой асуудлыг зааж болох юм. Яагаад гэвэл <code class="command">getty</code>
	нь <acronym class="acronym">CD</acronym>-г (carrier detect буюу зөөгч илрүүлэх) модемоор
	шалгагдтал холболтуудын портуудыг онгойлгож чадахгүй байх ёстой юм.</p><p>Хэрэв та хүссэн <code class="filename">ttyuN</code>
	портыг онгойлгохыг хүлээж байгаа ямар нэг <code class="command">getty</code> процессуудыг
	харахгүй байгаа бол <code class="filename">/etc/ttys</code> файл дахь өөрийн оруулгуудад
	алдаа байгаа эсэхийг давхар шалгаарай. Мөн <code class="command">init</code> эсвэл
	<code class="command">getty</code> тушаалаас гарсан бүртгэлийн ямар нэг мэдэгдлүүд
	асуудлууд байгаа эсэхийг мэдээлсэн эсэхийг харахын тулд бүртгэлийн файл
	<code class="filename">/var/log/messages</code>-г бас шалгаарай. Хэрэв ямар нэг
	мэдэгдлүүд байгаа бол <code class="filename">/etc/ttys</code> болон
	<code class="filename">/etc/gettytab</code> тохиргооны файлуудыг гурав дахин
	шалгаарай. Мөн <code class="filename">/dev/ttyuN</code> зэрэг тохирох төхөөрөмжийн
	тусгай файлуудад алдаанууд, оруулгууд дутагдаж байгаа эсэх, эсвэл төхөөрөмжийн
	тусгай файлууд дутагдаж байгаа эсэхийг бас шалгаарай.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp87459536"></a>27.4.6.2. Гаднаас залгаж үзэх</h4></div></div></div><p>Систем уруу гаднаас залгаж үзээрэй; 8 битийг parity байхгүйгээр болон
	алсын систем дээр 1 зогсох битийг ашигласан эсэхээ шалгаарай.
	Хэрэв та хүлээх мөрийг тэр дор нь хүлээж авахгүй бол эсвэл хог хүлээн авсан бол
	секунд тутам нэг <span class="keycap"><strong>Enter</strong></span> дараад оролдоод үзээрэй.
	Тэгсэн ч гэсэн та <code class="prompt">login:</code> хүлээх мөрийг хэсэг хугацаа
	өнгөрсөн ч гэсэн харахгүй байгаа бол <code class="command">BREAK</code> илгээж
	оролдоод үзээрэй. Та залгахдаа өндөр хурдтай модем ашиглаж байгаа бол
	модемийн интерфэйсийн хурдыг (жишээ нь <span class="trademark">U.S. Robotics</span>® <span class="trademark">Sportster</span>®
	модем дээр <code class="command">AT&amp;B1</code> тушаал ашиглан) түгжсэнийхээ дараа
	дахин залгаад оролдоод үзээрэй.</p><p>Хэрэв та тэгсэн ч гэсэн <code class="prompt">login:</code> хүлээх мөрийг
	хүлээн авахгүй байгаа бол <code class="filename">/etc/gettytab</code> файлыг
	дахин шалгаад доор дурдсаныг давхар шалгаарай</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Шугамын хувьд <code class="filename">/etc/ttys</code> файлд заагдсан
		боломжийн эхний нэр <code class="filename">/etc/gettytab</code> дахь
		боломжийн нэртэй таарч байгаа эсэх</p></li><li class="listitem"><p><code class="literal">nx=</code> оруулга бүр <code class="filename">gettytab</code>
		боломжийн өөр нэртэй таарч байгаа эсэх</p></li><li class="listitem"><p><code class="literal">tc=</code> оруулга бүр <code class="filename">gettytab</code>
		боломжийн өөр нэртэй таарч байгаа эсэх</p></li></ul></div><p>Хэрэв таныг залгахад FreeBSD систем дээрх модем хариулахгүй байгаа бол
	<acronym class="acronym">DTR</acronym> шалгагдах үед модем нь утсанд хариулахаар тохируулагдсан
	эсэхийг шалгаарай. Хэрэв модем зөв тохируулагдсан юм шиг байвал
	<acronym class="acronym">DTR</acronym> шугам шалгагдсан эсэхийг модемийн заагч гэрлүүдийг (гэрлүүдтэй бол)
	шалган нягтлаарай.</p><p>Хэрэв та бүгдийг хэд хэдэн удаа шалгасан бөгөөд ажиллахгүй хэвээр байгаа бол
	завсарлага аваад дараа нь үзээрэй. Хэрэв тэгсэн ч гэсэн ажиллахгүй байгаа бол
	та <a class="link" href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-questions" target="_top">FreeBSD ерөнхий асуултууд захидлын жагсаалт</a> уруу өөрийн модем болон асуудлынхаа талаар цахим захидал
	илгээж болох бөгөөд жагсаалтан дахь сайн хүмүүс танд туслахыг оролдох болно.</p></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="term.html">Өмнөх</a> </td><td width="20%" align="center"><a accesskey="u" href="serialcomms.html">Дээш</a></td><td width="40%" align="right"> <a accesskey="n" href="dialout.html">Дараах</a></td></tr><tr><td width="40%" align="left" valign="top">27.3. Терминалууд </td><td width="20%" align="center"><a accesskey="h" href="index.html">Эхлэл</a></td><td width="40%" align="right" valign="top"> 27.5. Dial-out буюу гадагш залгах үйлчилгээ</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Энэ болон бусад баримтуудыг
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>
    хаягаас татаж авч болно.</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>FreeBSD-ийн талаар
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;
    хаягтай холбоо барихаасаа өмнө
    <a href="http://www.FreeBSD.org/docs.html">баримтыг</a> уншина уу.<br></br>
    Энэ бичиг баримттай холбоотой асуулт байвал
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;
    хаягаар цахим захидал явуулна уу.<br></br>
    Энэ бичиг баримтын орчуулгатай холбоотой асуулт байвал
    &lt;<a href="mailto:admin@mnbsd.org">admin@mnbsd.org</a>&gt;
    хаягаар цахим захидал явуулна уу.</small></p></body></html>