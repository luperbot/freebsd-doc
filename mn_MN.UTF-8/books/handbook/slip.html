<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>28.7. SLIP ашиглах</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD гарын авлага" /><link rel="up" href="ppp-and-slip.html" title="Бүлэг 28. PPP болон SLIP" /><link rel="prev" href="pppoa.html" title="28.6. ATM дээгүүр PPP (PPPoA) ашиглах" /><link rel="next" href="mail.html" title="Бүлэг 29. Цахим Шуудан" /><link rel="copyright" href="legalnotice.html" title="Хуулийн заалт" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">28.7. SLIP ашиглах</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="pppoa.html">Өмнөх</a> </td><th width="60%" align="center">Бүлэг 28. PPP болон SLIP</th><td width="20%" align="right"> <a accesskey="n" href="mail.html">Дараах</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="slip"></a>28.7. SLIP ашиглах</h2></div><div><span class="authorgroup">Анхлан хувь нэмэр болгон оруулсан <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Сатоши</span> <span class="surname">Асами</span></span>. </span></div><div><span class="authorgroup">Зарим хэсгийг оруулсан <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Гай</span> <span class="surname">Хэлмер</span></span> ба <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Пьеро</span> <span class="surname">Серини</span></span>. </span></div></div></div><a id="idp88535120" class="indexterm"></a><div xmlns="" class="warning"><h3 class="admontitle">Сануулга: </h3><p xmlns="http://www.w3.org/1999/xhtml">Энэ хэсэг зөвхөн
        FreeBSD 7.X хувилбаруудад зориулагдсан.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="slipc"></a>28.7.1. SLIP клиент тохируулах</h3></div></div></div><a id="idp88537168" class="indexterm"></a><p>Дараах нь FreeBSD машиныг SLIP-д зориулан статик хост сүлжээн дээр тохируулах
	нэг арга юм. Динамикаар хостын нэрийг өгөхийн тулд (таныг залгаж холбогдох болгонд
	таны хаяг өөрчлөгддөг) танд илүү төвөгтэй тохируулга хэрэгтэй болох байх.</p><p>Эхлээд таны модем аль цуваа портод холбогдсоныг тодорхойлно. Олон хүн
	<code class="filename">/dev/modem</code> гэх зэргээр жинхэнэ төхөөрөмжийн нэр
	<code class="filename">/dev/cuadN</code>
	уруугаа заасан симболын холбоосыг тохируулдаг. Энэ нь модемийг өөр порт уруу
	шилжүүлэх шаардлагатай болсон тохиолдолд жинхэнэ төхөөрөмжийн нэрийг хийсвэрлэх
	боломжийг танд олгож байгаа юм. Бүх системийн дагуу <code class="filename">/etc</code>
	дэх олон файлууд болон <code class="filename">.kermrc</code> файлуудыг засварлах
	шаардлагатай болох үед энэ нь нэлээн ярвигтай болж ирдэг!</p><div xmlns="" class="note"><h3 class="admontitle">Тэмдэглэл: </h3><p xmlns="http://www.w3.org/1999/xhtml"><code class="filename">/dev/cuad0</code> нь
	  <code class="filename">COM1</code>, <code class="filename">/dev/cuad1</code> нь
	  <code class="filename">COM2</code>, гэх мэт.</p></div><p>Өөрийн цөмийн тохиргооны файлд дараах нь байгаа эсэхийг шалгаарай:</p><pre class="programlisting">device   sl</pre><p>Энэ нь <code class="filename">GENERIC</code> цөмд орсон байдаг бөгөөд
	та түүнийг устгаагүй л бол энэ нь асуудал биш юм.</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88548304"></a>28.7.1.1. Зөвхөн нэг удаа хийх зүйлс</h4></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Өөрийн гэр машин, гарц болон нэрийн серверүүдийг өөрийн
		<code class="filename">/etc/hosts</code> файлд нэмнэ. Биднийх
		иймэрхүү харагдах болно:</p><pre class="programlisting">127.0.0.1               localhost loghost
136.152.64.181          water.CS.Example.EDU water.CS water
136.152.64.1            inr-3.CS.Example.EDU inr-3 slip-gateway
128.32.136.9            ns1.Example.EDU ns1
128.32.136.12           ns2.Example.EDU ns2</pre></li><li class="step"><p>Өөрийн <code class="filename">/etc/nsswitch.conf</code> файлын
	        <code class="literal">hosts:</code> хэсэгт <code class="literal">files</code>
		мөр нь <code class="literal">dns</code> мөрөөс өмнө байгаа эсэхийг шалгаарай.
		Эдгээр параметрүүдгүй бол сонин зүйлс болж магадгүй юм.</p></li><li class="step"><p><code class="filename">/etc/rc.conf</code> файлыг засна.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Дараах мөрийг засварлаж өөрийн хостын нэрийг тохируулна:</p><pre class="programlisting">hostname="myname.my.domain"</pre><p>Таны машины Интернэтийн бүрэн хостын нэрийг энд тавих ёстой.</p></li><li class="listitem"><a id="idp88556112" class="indexterm"></a><p>Дараах мөрийг өөрчилж анхдагч чиглүүлэлт:</p><pre class="programlisting">defaultrouter="NO"</pre><p>гэдгийг:</p><pre class="programlisting">defaultrouter="slip-gateway"</pre><p>болгоно.</p></li></ol></div></li><li class="step"><p>доор дурдсаныг агуулсан <code class="filename">/etc/resolv.conf</code> файл
		үүсгэнэ:</p><pre class="programlisting">domain CS.Example.EDU
nameserver 128.32.136.9
nameserver 128.32.136.12</pre><a id="idp88560464" class="indexterm"></a><a id="idp88560976" class="indexterm"></a><p>Таны харж байгаагаар эдгээр нь нэрийн серверийн хостуудыг
		тохируулж байна. Мэдээж жинхэнэ домэйн нэрс болон хаягууд нь
		таны орчноос хамаарна.</p></li><li class="step"><p><code class="systemitem">root</code> болон
		<code class="systemitem">toor</code> (нууц үггүй бусад бүртгэлүүдийн) нууц үгийг
		тохируулна.</p></li><li class="step"><p>Өөрийн машиныг дахин ачаалж зөв хостын нэртэйгээр ачаалсан
		эсэхийг нь шалгаарай.</p></li></ol></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88564688"></a>28.7.1.2. SLIP холболт хийх нь</h4></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step"><a id="idp88565840" class="indexterm"></a><p>Залгаад хүлээх мөрөн дээр <code class="command">slip</code> гэж
		бичээд өөрийн машины нэр болон нууц үгийг оруулна. Юу оруулах
		шаардлагатай нь таны орчноос хамаарна. Хэрэв та <span class="application">Kermit</span>
		ашиглаж байгаа бол та иймэрхүү скриптийг ажиллуулахаар оролдож
		болно:</p><pre class="programlisting"># kermit setup
set modem hayes
set line /dev/modem
set speed 115200
set parity none
set flow rts/cts
set terminal bytesize 8
set file type binary
# The next macro will dial up and login
define slip dial 643-9600, input 10 =&gt;, if failure stop, -
output slip\x0d, input 10 Username:, if failure stop, -
output silvia\x0d, input 10 Password:, if failure stop, -
output ***\x0d, echo \x0aCONNECTED\x0a</pre><p>Мэдээж өөртөө тааруулаад өөрийн хэрэглэгчийн нэр болон
		нууц үгийг солих хэрэгтэй. Ингэснийхээ дараа та
		<span class="application">Kermit</span>-ийн хүлээх мөрөөс
		холбогдохын тулд <code class="command">slip</code> гэж бичих
		хэрэгтэй.</p><div xmlns="" class="note"><h3 class="admontitle">Тэмдэглэл: </h3><p xmlns="http://www.w3.org/1999/xhtml">Файлын системд хаа нэгтээ өөрийн нууц үгийг цэвэр текстээр
		үлдээх нь ерөнхийдөө <span class="emphasis"><em>буруу</em></span> юм.
		Үүнийг хийх нь аз туршсан явдал юм.</p></div></li><li class="step"><p><span class="application">Kermit</span>-г тэнд нь үлдээж (та үүнийг
	      <span class="keycap"><strong>Ctrl</strong></span>+<span class="keycap"><strong>z</strong></span> хослолоор зогсоож болно) <code class="systemitem">root</code>-ээр
		дараах тушаалыг бичнэ:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>slattach -h -c -s 115200 /dev/modem</code></strong></pre><p>Хэрэв та чиглүүлэгчийн нөгөө талд байгаа хостууд уруу
		<code class="command">ping</code> хийж чадаж байвал та холбогдсон байна!
		Хэрэв энэ нь ажиллахгүй байгаа бол <code class="command">slattach</code>
		тушаалд <code class="option">-c</code> нэмэлт өгөгдлийн оронд
		<code class="option">-a</code>-г тавьж оролдоод үзээрэй.</p></li></ol></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88584912"></a>28.7.1.3. Холболтыг хэрхэн зогсоох вэ</h4></div></div></div><p>доор дурдсаныг хийж:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>kill -INT `cat /var/run/slattach.modem.pid`</code></strong></pre><p><code class="command">slattach</code>-г зогсооно.  Дээр дурдсаныг хийхийн тулд
	<code class="systemitem">root</code> байх шаардлагатайг санаарай. Дараа нь
	<code class="command">kermit</code> уруугаа (хэрэв та түр зогсоосон бол <code class="command">fg</code> тушаалыг
	ажиллуулан) буцаж түүнээс гарна (<span class="keycap"><strong>q</strong></span>).</p><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=slattach&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">slattach</span>(8)</span></a> гарын авлагын хуудсанд
	интерфэйсийг зогссон гэж тэмдэглэхийн тулд <code class="command">ifconfig sl0 down</code>
	тушаалыг ашиглах ёстой гэсэн байдаг боловч энэ нь
	ямар ч өөрчлөлт хийдэггүй юм шиг санагддаг.
	(<code class="command">ifconfig sl0</code> тушаал нь бас үүнтэй
	адилыг гаргадаг.)</p><p>Заримдаа таны модем зөөгчийг унагахаасаа татгалзаж болох юм. Тийм тохиолдолд
	ердөө л дахин <code class="command">kermit</code>-г ажиллуулаад тэгээд түүнээс гарах
	хэрэгтэй. Энэ нь ихэвчлэн хоёр дахь оролдлогод болдог.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88591824"></a>28.7.1.4. Алдааг олж засварлах</h4></div></div></div><p>Хэрэв энэ нь ажиллахгүй байгаа бол <a class="link" href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-net" target="_top">freebsd-net</a> захидлын жагсаалтаас чөлөөтэй
	асуугаарай. Одоогоор хүмүүсийн аялж мэдсэн зүйлс гэх юм бол:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="command">slattach</code> тушаалд
		<code class="option">-c</code> эсвэл <code class="option">-a</code> тохируулгуудыг
		ашиглахгүй байх (энэ нь мөхлийн байх ёсгүй, гэхдээ энэ нь зарим хэрэглэгчдийн
		асуудлуудыг шийддэг гэж бичсэн байдаг.)</p></li><li class="listitem"><p><code class="option">sl0</code>-ийн оронд <code class="option">s10</code>
		тохируулгыг ашиглах (зарим фонтууд дээр ялгааг нь олж харах
		хэцүү байж болох юм).</p></li><li class="listitem"><p>Өөрийн интерфэйсийн төлөвийг харахын тулд <code class="command">ifconfig sl0</code>
		тушаалыг ажиллуулж үзээрэй. Жишээ нь та иймэрхүү дүн харж болох юм:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ifconfig sl0</code></strong>
sl0: flags=10&lt;POINTOPOINT&gt;
        inet 136.152.64.181 --&gt; 136.152.64.1 netmask ffffff00</pre></li><li class="listitem"><p>Хэрэв та <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ping&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ping</span>(8)</span></a> тушаалаас <span class="errorname">no route to host</span>
		мэдэгдлүүдийг авах юм бол таны чиглүүлэлтийн хүснэгтэд асуудал байж
		болзошгүй юм. Тухайн үед байгаа чиглүүлэлтүүдийг үзүүлэхийн тулд
		<code class="command">netstat -r</code> тушаалыг ашиглаж болно :</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>netstat -r</code></strong>
Routing tables
Destination      Gateway            Flags     Refs     Use  IfaceMTU    Rtt    Netmasks:

(root node)
(root node)

Route Tree for Protocol Family inet:
(root node) =&gt;
default          inr-3.Example.EDU  UG          8   224515  sl0 -      -
localhost.Exampl localhost.Example. UH          5    42127  lo0 -       0.438
inr-3.Example.ED water.CS.Example.E UH          1        0  sl0 -      -
water.CS.Example localhost.Example. UGH        34 47641234  lo0 -       0.438
(root node)</pre><p>Өмнөх жишээнүүд нь харьцангуй завгүй байгаа системүүдийнх юм.
		Таны систем дээрх тоонууд нь сүлжээний ачааллаас хамаарч өөр
		өөр байх болно.</p></li></ul></div></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="slips"></a>28.7.2. SLIP сервер тохируулах нь</h3></div></div></div><a id="idp88608336" class="indexterm"></a><p>Энэхүү баримт нь FreeBSD систем дээр SLIP серверийн үйлчилгээнүүдийг
	тохируулахад зориулсан зөвлөгөөнүүдийг санал болгодог. Энэ нь юу гэсэн үг вэ
	гэхээр алсын SLIP клиентүүдийн нэвтрэлтийн үед холболтуудыг автоматаар эхлүүлэхээр
	болгож таны системийг тохируулна гэсэн үг юм.</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="slips-prereqs"></a>28.7.2.1. Шаардлагатай зүйлс</h4></div></div></div><a id="idp88610512" class="indexterm"></a><p>Энэ баримт нь өөрийн үндсэн чанарын хувьд хэт техникийн учраас тодорхой
	мэдлэг шаардах болно. Энэ нь таныг TCP/IP сүлжээний протоколыг тодорхой
	хэмжээгээр мэддэг бөгөөд ялангуяа сүлжээ болон цэгийн хаяглалт,
	сүлжээний хаягийн багууд, дэд сүлжээ үүсгэх, чиглүүлэлт болон RIP зэрэг чиглүүлэлтийн
	протоколуудыг мэддэг гэж тооцдог. SLIP үйлчилгээнүүдийг dial-up сервер дээр
	тохируулах нь эдгээр ухагдахуунуудын тухай мэдлэгийг шаарддаг бөгөөд хэрэв та
	эдгээрийг мэдэхгүй бол O'Reilly &amp; Associates, Inc-ийн хэвлэсэн
	Крэг Хантын <span class="emphasis"><em>TCP/IP Network Administration</em></span>
	буюу TCP/IP сүлжээний удирдлага номыг юм уу эсвэл TCP/IP протоколуудын
	тухай Даглас Комерийн номнуудыг уншина уу.</p><a id="idp88611792" class="indexterm"></a><p>Мөн таныг модемоо суулгаж өөрийн модемоор дамжин нэвтрэх боломжуудыг
	зөвшөөрөхөөр тохируулсан байгаа гэж үздэг. Хэрэв та үүнд зориулж өөрийн
	системийг бэлдэж амжаагүй байгаа бол dialup үйлчилгээнүүдийн тохиргооны тухай
	мэдээллийг <a class="xref" href="dialup.html" title="27.4. Dial-in буюу гаднаас залгах үйлчилгээ">Хэсэг 27.4, «Dial-in буюу гаднаас залгах үйлчилгээ»</a> хэсгээс үзнэ үү.
	Та бас цуваа портын төхөөрөмжийн драйверийн тухай мэдээлэл болон модемууд дээр
	нэвтрэлтүүдийг хүлээн авахаар болгож системийг тохируулах тухай мэдээллийг
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sio&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">sio</span>(4)</span></a> болон <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ttys&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">ttys</span>(5)</span></a>, <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=gettytab&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">gettytab</span>(5)</span></a>,
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=getty&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">getty</span>(8)</span></a>, &amp; <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=init&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">init</span>(8)</span></a> гарын авлагын хуудаснуудаас шалгахыг
	хүсэж болох юм. Цуваа портын параметрүүдийг
	(шууд холбогдсон цуваа интерфэйсүүдийн хувьд <code class="literal">clocal</code> зэрэг)
	тохируулах тухай мэдээллийг <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=stty&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">stty</span>(1)</span></a> гарын авлагын хуудаснаас үзнэ үү.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88622544"></a>28.7.2.2. Түргэн дүгнэлт</h4></div></div></div><p>FreeBSD-г SLIP сервер болгон ашиглах ердийн тохиргоонд дараах маягаар
	ажилладаг: SLIP сервер нь таны FreeBSD SLIP сервер системийг гадагш залгуулдаг
	бөгөөд <code class="filename">/usr/sbin/sliplogin</code>-ийг тусгай хэрэглэгчийн
	бүрхүүл болгон ашигладаг тусгай SLIP нэвтрэх ID-аар нэвтэрдэг.
	<code class="command">sliplogin</code> програм нь тусгай хэрэглэгчийн хувьд таарах
	мөрийг олохын тулд <code class="filename">/etc/sliphome/slip.hosts</code> файлыг
	гүйлгэн үздэг бөгөөд хэрэв олсон бол цуваа шугамыг байгаа SLIP
	интерфэйс уруу холбож дараа нь SLIP интерфэйсийг тохируулахын тулд
	<code class="filename">/etc/sliphome/slip.login</code> бүрхүүлийн скриптийг
	ажиллуулдаг.</p><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88625104"></a>28.7.2.2.1. SLIP серверийн нэвтрэлтийн жишээ</h5></div></div></div><p>Жишээ нь хэрэв SLIP хэрэглэгчийн ID нь <code class="systemitem">Shelmerg</code>
		байсан бол <code class="filename">/etc/master.passwd</code> файл дахь
		<code class="systemitem">Shelmerg</code>-ийн оруулга иймэрхүү байж болох
		юм:</p><pre class="programlisting">Shelmerg:password:1964:89::0:0:Guy Helmer - SLIP:/usr/users/Shelmerg:/usr/sbin/sliplogin</pre><p><code class="systemitem">Shelmerg</code> нэвтрэх үед
		<code class="command">sliplogin</code> нь таарах хэрэглэгчийн ID-тай
		мөрийг <code class="filename">/etc/sliphome/slip.hosts</code>
		файлаас хайх болно, жишээ нь <code class="filename">/etc/sliphome/slip.hosts</code>
		файлд дараах мөр байж болох юм:</p><pre class="programlisting">Shelmerg        dc-slip sl-helmer       0xfffffc00		  autocomp</pre><p><code class="command">sliplogin</code> тушаал нь тэр таарах мөрийг
		олох бөгөөд цуваа шугамыг дараачийн байгаа SLIP интерфэйс уруу
		залгаж дараа нь <code class="filename">/etc/sliphome/slip.login</code>-ийг
		иймэрхүүгээр ажиллуулна:</p><pre class="programlisting">/etc/sliphome/slip.login 0 19200 Shelmerg dc-slip sl-helmer 0xfffffc00 autocomp</pre><p>Хэрэв бүгд зүгээр болж өнгөрвөл <code class="filename">/etc/sliphome/slip.login</code>
		нь өөрийгөө залгасан (дээрх жишээн дээр <code class="filename">slip.login</code> уруу
		өгөгдсөн жагсаалтан дахь эхний параметр болох SLIP интерфэйс 0)
		SLIP интерфэйсийн хувьд <code class="command">ifconfig</code>
		тушаалыг ажиллуулж локал IP хаяг (<code class="systemitem">dc-slip</code>),
		алсын IP хаяг (<code class="systemitem">sl-helmer</code>), SLIP интерфэйсийн
		сүлжээний баг (<code class="systemitem">0xfffffc00</code>) болон
		бусад нэмэлт тугнуудыг (<code class="literal">autocomp</code>) тохируулдаг.
		Хэрэв ямар нэг зүйл буруу болвол <code class="command">sliplogin</code> нь
		ихэвчлэн <code class="filename">/var/log/messages</code> уруу бүртгэх
		<span class="application">syslogd</span> дэмон боломжоор дамжуулан
		боломжийн мэдээллийн чанартай мэдэгдлүүдийг ихэвчлэн бүртгэдэг.
		(<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=syslogd&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">syslogd</span>(8)</span></a> болон <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=syslog.conf&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">syslog.conf</span>(5)</span></a>-ийн гарын авлагын
		хуудаснуудыг үзнэ үү. <code class="filename">/etc/syslog.conf</code>-ийг шалгаж
		<span class="application">syslogd</span>-ийн юу бүртгэдэг болон хаана
		бүртгэдгийг харна уу).</p></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88647760"></a>28.7.2.3. Цөмийн тохиргоо</h4></div></div></div><a id="idp88648400" class="indexterm"></a><a id="idp88649168" class="indexterm"></a><p>FreeBSD-ийн анхдагч цөм (<code class="filename">GENERIC</code>) нь
	SLIP (<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sl&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">sl</span>(4)</span></a>) дэмжлэгтэй цуг ирдэг; тухайлан өөрчилсөн цөмийн
	хувьд бол та өөрийн цөмийн тохиргооны файлдаа дараах мөрийг нэмэх
	хэрэгтэй:</p><pre class="programlisting">device   sl</pre><p>Анхдагчаар таны FreeBSD машин пакетуудыг урагш дамжуулахгүй байх болно.
	Хэрэв та өөрийн SLIP серверийг чиглүүлэгч маягаар ашиглахыг хүсвэл
	<code class="filename">/etc/rc.conf</code> файлыг засварлах хэрэгтэй болох
	бөгөөд <code class="literal">gateway_enable</code> хувьсагчийн тохиргоог
	<code class="option">YES</code> болгож өөрчлөх хэрэгтэй. Ингэж зааж өгснөөр
	чиглүүлэлтийн тохиргоог дахин ачаалсны дараа ч тогтмол байлгадаг.</p><p>Тохиргоог даруй идэвхтэй болгохын тулд та
	  <code class="systemitem">root</code> хэрэглэгчээр дараах тушаалыг ажиллуулж болно:</p><pre class="screen"><code class="prompt">#</code> service routing start</pre><p>FreeBSD-ийн цөмийг тохируулах талаар бичсэн <a class="xref" href="kernelconfig.html" title="Бүлэг 9. FreeBSD цөмийг тохируулах нь">Бүлэг 9, <em>FreeBSD цөмийг тохируулах нь</em></a>-с
	өөрийн цөмийг дахин тохируулах талаар лавлана уу.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88655696"></a>28.7.2.4. Sliplogin тохиргоо</h4></div></div></div><p>Урьд нь дурдаж байсны дагуу <code class="filename">/usr/sbin/sliplogin</code> файлын
	тохиргооны хэсэг болох гурван файл <code class="filename">/etc/sliphome</code> санд
	байдаг (<code class="command">sliplogin</code>-ий талаар мэдээллийг
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sliplogin&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sliplogin</span>(8)</span></a> гарын авлагын хуудаснаас үзнэ үү). Эдгээрт
	SLIP хэрэглэгчид болон тэдгээрийн холбоотой IP хаягуудыг тодорхойлдог
	<code class="filename">slip.hosts</code> файл, SLIP интерфэйсийг ихэвчлэн тохируулдаг
	<code class="filename">slip.login</code> файл, болон (нэмэлт)
	цуваа холболт төгссөн үед <code class="filename">slip.login</code>-ий
	нөлөөллүүдийг буцаадаг <code class="filename">slip.logout</code>
	файл ордог.</p><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88660304"></a>28.7.2.4.1. <code class="filename">slip.hosts</code> тохиргоо</h5></div></div></div><p><code class="filename">/etc/sliphome/slip.hosts</code> нь
		өөр хоорондоо зайгаар тусгаарлагдсан хамгийн багаар бодоход
		дөрвөн хэсгээс тогтох мөрүүдээс тогддог:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>SLIP хэрэглэгчийн нэвтрэх ID</p></li><li class="listitem"><p>SLIP холбоосын локал хаяг (SLIP серверийн хувьд локал)</p></li><li class="listitem"><p>SLIP холбоосын алсын хаяг</p></li><li class="listitem"><p>Сүлжээний баг</p></li></ul></div><p>Локал болон алсын хаягууд нь хостын нэрс (
		<code class="filename">/etc/nsswitch.conf</code> файлд заасан
		таны тодорхойлолтуудаас хамаарч <code class="filename">/etc/hosts</code>
		файлаар юм уу эсвэл домэйн нэрний үйлчилгээгээр IP болон
		танигддаг) байж болох бөгөөд сүлжээний баг нь
		<code class="filename">/etc/networks</code>-аас хийгдэх хайлтаар
		танигдах нэр байж болно. Жишээ систем дээр
		<code class="filename">/etc/sliphome/slip.hosts</code> нь
		иймэрхүү харагдана:</p><pre class="programlisting">#
# login local-addr      remote-addr     mask            opt1    opt2
#                                               (normal,compress,noicmp)
#
Shelmerg  dc-slip       sl-helmerg      0xfffffc00      autocomp</pre><p>Мөрийн төгсгөлд нэг буюу хэд хэд тохируулгууд байна:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="option">normal</code> — толгойн шахалт байхгүй</p></li><li class="listitem"><p><code class="option">compress</code> — толгойнуудыг шахна</p></li><li class="listitem"><p><code class="option">autocomp</code> — алсын тал толгойнуудыг шахахыг зөвшөөрөх
		бол хийнэ</p></li><li class="listitem"><p><code class="option">noicmp</code> — ICMP пакетуудыг хаана
		(таны урсгалыг дүүргэхийн оронд <span class="quote">«<span class="quote">ping</span>»</span> пакетууд
		хаягдах болно)</p></li></ul></div><a id="idp88677072" class="indexterm"></a><a id="idp88677584" class="indexterm"></a><p>Таны SLIP холбоосуудын локал болон алсын хаягуудын сонголт
		та TCP/IP дэд сүлжээг тусгайлан зориулах уу эсвэл өөрийн SLIP
		сервер дээрээ <span class="quote">«<span class="quote">proxy ARP</span>»</span>-г
		(энэ нь <span class="quote">«<span class="quote">жинхэнэ</span>»</span> proxy ARP биш боловч үүнийг
		тайлбарлахын тулд энэ хэсэгт энэ ухагдахуун ашиглагдах болно)
		ашиглах уу гэдгээс хамаарна. Хэрэв та аль аргыг сонгохдоо
		эсвэл IP хаягуудыг хэрхэн зааж өгөхдөө эргэлзэж байгаа бол
		SLIP-ийн шаардлагатай зүйлс (<a class="xref" href="slip.html#slips-prereqs" title="28.7.2.1. Шаардлагатай зүйлс">Хэсэг 28.7.2.1, «Шаардлагатай зүйлс»</a>)
		хэсэгт дурдсан TCP/IP-ийн номнууд ба/эсвэл өөрийн
		IP сүлжээний удирдагчаас лавлана уу.</p><p>Та өөрийн SLIP клиентүүдийн хувьд тусдаа дэд сүлжээг ашиглах бол
		та өөрийн өгөгдсөн IP сүлжээний дугаараас дэд сүлжээний дугаарыг
		хуваарилж өөрийн SLIP клиент бүрийн IP дугааруудыг тэр дэд сүлжээнээс
		зааж өгөх хэрэгтэй болно. Дараа нь өөрийн хамгийн ойрын чиглүүлэгч
		дээр SLIP серверээрээ дамжуулан SLIP дэд сүлжээ уруу
		статик чиглүүлэлт тохируулах хэрэгтэй болох болов уу.</p><a id="idp88684240" class="indexterm"></a><p>Өөрөөр, хэрэв та <span class="quote">«<span class="quote">proxy ARP</span>»</span> аргыг ашиглах бол
		та өөрийн SLIP клиентийн IP хаягуудыг өөрийн SLIP серверийн
		Ethernet дэд сүлжээнээс олгох хэрэгтэй болох бөгөөд та бас
		SLIP серверийн ARP хүснэгт дэх <span class="quote">«<span class="quote">proxy ARP</span>»</span> оруулгуудыг удирдахын
		тулд <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=arp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">arp</span>(8)</span></a>-г ашиглахаар болгож өөрийн
		<code class="filename">/etc/sliphome/slip.login</code> болон
	    	<code class="filename">/etc/sliphome/slip.logout</code> скриптүүдийг
		тохируулах хэрэгтэй болно.</p></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88687568"></a>28.7.2.4.2. <code class="filename">slip.login</code> тохиргоо</h5></div></div></div><p>Ердийн <code class="filename">/etc/sliphome/slip.login</code> файл
		иймэрхүү харагдана:</p><pre class="programlisting">#!/bin/sh -
#
#       @(#)slip.login  5.1 (Berkeley) 7/1/90

#
# generic login file for a slip line.  sliplogin invokes this with
# the parameters:
#      1        2         3        4          5         6     7-n
#   slipunit ttyspeed loginname local-addr remote-addr mask opt-args
#
/sbin/ifconfig sl$1 inet $4 $5 netmask $6</pre><p>Энэ <code class="filename">slip.login</code> файл нь ердөө л
		тохирох SLIP интерфэйсийн хувьд <code class="command">ifconfig</code>-г
		локал ба алсын хаягууд болон SLIP интерфэйсийн сүлжээний багтайгаар
		ажиллуулдаг.</p><p>Хэрэв та <span class="quote">«<span class="quote">proxy ARP</span>»</span> аргыг ашиглахаар шийдсэн бол
		(өөрийн SLIP клиентүүдийн хувьд тусдаа дэд сүлжээг ашиглахын оронд)
		таны <code class="filename">/etc/sliphome/slip.login</code> файл
		иймэрхүү харагдах ёстой:</p><pre class="programlisting">#!/bin/sh -
#
#       @(#)slip.login  5.1 (Berkeley) 7/1/90

#
# generic login file for a slip line.  sliplogin invokes this with
# the parameters:
#      1        2         3        4          5         6     7-n
#   slipunit ttyspeed loginname local-addr remote-addr mask opt-args
#
/sbin/ifconfig sl$1 inet $4 $5 netmask $6
# Answer ARP requests for the SLIP client with our Ethernet addr
/usr/sbin/arp -s $5 00:11:22:33:44:55 pub</pre><p>Энэ <code class="filename">slip.login</code> файл дахь
		<code class="command">arp -s $5 00:11:22:33:44:55 pub</code> тушаал нь
		SLIP серверийн ARP хүснэгтэд ARP оруулгыг үүсгэдэг.
		Ethernet дэх өөр IP цэг SLIP клиентийн IP хаягтай ярилцахыг
		хүсэх үед энэ ARP оруулга нь SLIP серверийг SLIP серверийн Ethernet
		MAC хаягаар хариулахад хүргэдэг.</p><a id="idp88693712" class="indexterm"></a><p>Дээрх жишээг ашиглаж байхдаа Ethernet MAC хаягийг (<code class="systemitem">00:11:22:33:44:55</code>) өөрийн системийн
		Ethernet картын MAC хаягаар солисон эсэхээ шалгаарай. Тэгэхгүй бол
		таны <span class="quote">«<span class="quote">proxy ARP</span>»</span> чинь мэдээж ажиллахгүй!
		Та өөрийн SLIP серверийн Ethernet MAC хаягийг
		<code class="command">netstat -i</code> тушаалыг ажиллуулан
		гарсан үр дүнгээс нь харан олж болох юм; гарсан үр дүнгийн
		хоёр дахь мөр иймэрхүү харагдах ёстой:</p><pre class="screen">ed0   1500  &lt;Link&gt;0.2.c1.28.5f.4a         191923	0   129457     0   116</pre><p>Энэ нь системийн Ethernet MAC хаяг нь
		<code class="systemitem">00:02:c1:28:5f:4a</code> гэдгийг
		үзүүлж байгаа юм — <code class="command">netstat -i</code>
		тушаалаар өгөгдсөн Ethernet MAC хаяг дахь цэгүүд нь
		тодорхойлох хоёр цэгээр солигдох ёстой бөгөөд <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=arp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">arp</span>(8)</span></a>-ийн
		хүсдэг хэлбэр уруу хаягийг хөрвүүлэхийн тулд ганц оронтой
		16-тын тоо бүрийн өмнө тэг нэмэх ёстой. Ашиглалтын тухай
		бүрэн мэдээллийг <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=arp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">arp</span>(8)</span></a> гарын авлагын хуудаснаас
		үзнэ үү.</p><div xmlns="" class="note"><h3 class="admontitle">Тэмдэглэл: </h3><p xmlns="http://www.w3.org/1999/xhtml"><code class="filename">/etc/sliphome/slip.login</code> болон
	      <code class="filename">/etc/sliphome/slip.logout</code> файлыг үүсгэж
		байхдаа <span class="quote">«<span class="quote">execute</span>»</span> буюу ажиллуулах битийг (өөрөөр хэлбэл <code class="command">chmod 755
	      /etc/sliphome/slip.login /etc/sliphome/slip.logout</code>)
		тавих ёстой, тэгэхгүй бол <code class="command">sliplogin</code> тушаал түүнийг
		ажиллуулж чадахгүй байх болно.</p></div></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88702160"></a>28.7.2.4.3. <code class="filename">slip.logout</code> тохиргоо</h5></div></div></div><p><code class="filename">/etc/sliphome/slip.logout</code> нь
		заавал хатуу чангаар хэрэгтэй биш (та <span class="quote">«<span class="quote">proxy ARP</span>»</span>
		хийгээгүй л бол) боловч та үүнийг үүсгэхийг хүсвэл энд үндсэн
		<code class="filename">slip.logout</code>
		скриптийн жишээ байна:</p><pre class="programlisting">#!/bin/sh -
#
#       slip.logout

#
# logout file for a slip line.  sliplogin invokes this with
# the parameters:
#      1        2         3        4          5         6     7-n
#   slipunit ttyspeed loginname local-addr remote-addr mask opt-args
#
/sbin/ifconfig sl$1 down</pre><p>Хэрэв та <span class="quote">«<span class="quote">proxy ARP</span>»</span> ашиглаж байгаа бол
		SLIP клиентийн хувьд ARP оруулгыг устгах
		<code class="filename">/etc/sliphome/slip.logout</code> файлтай
		байхыг хүсэж болох юм:</p><pre class="programlisting">#!/bin/sh -
#
#       @(#)slip.logout

#
# logout file for a slip line.  sliplogin invokes this with
# the parameters:
#      1        2         3        4          5         6     7-n
#   slipunit ttyspeed loginname local-addr remote-addr mask opt-args
#
/sbin/ifconfig sl$1 down
# Quit answering ARP requests for the SLIP client
/usr/sbin/arp -d $5</pre><p><code class="command">arp -d $5</code> тушаал нь ARP оруулгыг
		устгаж SLIP клиент нэвтрэх үед <span class="quote">«<span class="quote">proxy ARP</span>»</span>
		<code class="filename">slip.login</code> нэмэгддэг.</p><p><code class="filename">/etc/sliphome/slip.logout</code> файлыг
		үүсгэснийхээ дараа ажиллуулах битийг тавьсан эсэхээ шалгаарай
		(өөрөөр хэлбэл <code class="command">chmod 755
	    /etc/sliphome/slip.logout</code>).</p></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88713424"></a>28.7.2.5. Чиглүүлэлтийн эргэцүүллүүд</h4></div></div></div><a id="idp88714064" class="indexterm"></a><p>Хэрэв та өөрийн SLIP клиентүүд болон таны бусад сүлжээний хоорондох
	(болон магадгүй Интернэт хоорондох) чиглүүлэлтийн пакетуудын хувьд
	<span class="quote">«<span class="quote">proxy ARP</span>»</span> аргыг ашиглахгүй байгаа бол өөрийн SLIP
	клиентүүдийн дэд сүлжээг өөрийн SLIP серверээр дамжуулан чиглүүлэхийн
	тулд өөрийн хамгийн ойрын анхдагч чиглүүлэгчид(үүдэд) статик чиглүүлэлтүүдийг
	нэмэх хэрэгтэй болж болох юм.</p><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88715984"></a>28.7.2.5.1. Статик чиглүүлэлтүүд</h5></div></div></div><a id="idp88716624" class="indexterm"></a><p>Өөрийн хамгийн ойрын чиглүүлэгчүүдэд статик чиглүүлэлтүүдийг
		нэмэх нь яршигтай байж болох юм (эсвэл хэрэв та тэгж хийх зөвшөөрөлгүй бол
		боломжгүй байх юм...). Та өөрийн байгууллагадаа олон
		чиглүүлэгчтэй бол Cisco болон Proteon-ий хийсэн зарим чиглүүлэгчүүд нь
		зөвхөн SLIP дэд сүлжээ уруу статик чиглүүлэлттэй байхаар тохируулагдсан
		байх шаардлагагүй байж болох бөгөөд бас аль статик чиглүүлэлтүүд нь
		бусад чиглүүлэгчүүдэд хэлж байгааг хэлж өгөх хэрэгтэй болох юм.
		Тийм болохоор статик чиглүүлэлт дээр тулгуурласан чиглүүлэлтийг
		ажиллуулахад зарим нэг чадамж болон алдаа олж засварлах/тааруулах
		чадвар хэрэгтэй болж болох юм.</p></div></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="pppoa.html">Өмнөх</a> </td><td width="20%" align="center"><a accesskey="u" href="ppp-and-slip.html">Дээш</a></td><td width="40%" align="right"> <a accesskey="n" href="mail.html">Дараах</a></td></tr><tr><td width="40%" align="left" valign="top">28.6. ATM дээгүүр <span class="application">PPP</span> (PPPoA) ашиглах </td><td width="20%" align="center"><a accesskey="h" href="index.html">Эхлэл</a></td><td width="40%" align="right" valign="top"> Бүлэг 29. Цахим Шуудан</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Энэ болон бусад баримтуудыг
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>
    хаягаас татаж авч болно.</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>FreeBSD-ийн талаар
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;
    хаягтай холбоо барихаасаа өмнө
    <a href="http://www.FreeBSD.org/docs.html">баримтыг</a> уншина уу.<br></br>
    Энэ бичиг баримттай холбоотой асуулт байвал
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;
    хаягаар цахим захидал явуулна уу.<br></br>
    Энэ бичиг баримтын орчуулгатай холбоотой асуулт байвал
    &lt;<a href="mailto:admin@mnbsd.org">admin@mnbsd.org</a>&gt;
    хаягаар цахим захидал явуулна уу.</small></p></body></html>