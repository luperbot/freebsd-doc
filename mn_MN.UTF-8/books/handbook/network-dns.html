<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>30.6. Домэйн Нэрийн Систем (DNS)</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD гарын авлага" /><link rel="up" href="network-servers.html" title="Бүлэг 30. Сүлжээний орчны Серверүүд" /><link rel="prev" href="network-dhcp.html" title="30.5. Автомат Сүлжээний Тохиргоо (DHCP)" /><link rel="next" href="network-apache.html" title="30.7. Apache HTTP Сервер" /><link rel="copyright" href="legalnotice.html" title="Хуулийн заалт" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">30.6. Домэйн Нэрийн Систем (<acronym class="acronym">DNS</acronym>)</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="network-dhcp.html">Өмнөх</a> </td><th width="60%" align="center">Бүлэг 30. Сүлжээний орчны Серверүүд</th><td width="20%" align="right"> <a accesskey="n" href="network-apache.html">Дараах</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="network-dns"></a>30.6. Домэйн Нэрийн Систем (<acronym class="acronym">DNS</acronym>)</h2></div><div><span class="authorgroup">Хувь нэмрээ оруулсан <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Шерн</span> <span class="surname">Лий</span></span>, <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Том</span> <span class="surname">Родес</span></span> ба <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Даниэл</span> <span class="surname">Гэрзо</span></span>. </span></div><div><span class="authorgroup">Орчуулсан <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Лодойсамбын </span> <span class="surname">Баянзул</span></span>. </span></div></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp90646224"></a>30.6.1. Удиртгал</h3></div></div></div><a id="idp90646864" class="indexterm"></a><p>FreeBSD анхдагч байдлаар <acronym class="acronym">DNS</acronym> протоколын
хамгийн өргөн хэрэглэгддэг хэрэгжүүлэлт болох BIND (Berkeley
	Internet Name Domain)-н аль нэг хувилбарыг агуулсан байдаг.
<acronym class="acronym">DNS</acronym> нь нэрүүдийг <acronym class="acronym">IP</acronym> хаягууд руу, мөн
эсрэгээр нь буулгахад хэрэглэгддэг протокол юм.
Жишээ нь, <code class="systemitem">www.FreeBSD.org</code>-г асуусан DNS асуулга явуулахад,
хариуд нь FreeBSD Төсөлийн вэб серверийн <acronym class="acronym">IP</acronym> хаяг ирэх бол,
<code class="systemitem">ftp.FreeBSD.org</code>-н хувьд асуулга явуулахад,
хариуд нь харгалзах <acronym class="acronym">FTP</acronym> машины <acronym class="acronym">IP</acronym> хаяг ирэх болно.
Яг үүнтэй адилаар эсрэгээр нь хийж болно. Ямар нэг <acronym class="acronym">IP</acronym>-р асуулга
явуулахад түүний хост нэрийг олж болно. <acronym class="acronym">DNS</acronym> хайлт хийхийн тулд
тухайн системд домэйн нэрийн сервер ажиллаж байх ёстой.</p><p>FreeBSD нь одоо <acronym class="acronym">BIND</acronym>9
	<acronym class="acronym">DNS</acronym> сервер програмын хамт ирдэг болсон.
Бидний суулгац нь файл системийн шинэчилсэн зохион байгуулалт,
автомат <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chroot&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">chroot</span>(8)</span></a> тохиргоо зэрэг аюулгүй байдлыг дээд зэргээр
хангах функцүүдтэй ирдэг.</p><a id="idp90658000" class="indexterm"></a><p><acronym class="acronym">DNS</acronym> бол Интернэт дээр тулгуурласан,
бүрэн эрхт root буюу эх сервер, Top Level Domain буюу Дээд Түвшний Домэйн (<acronym class="acronym">TLD</acronym>)
сервер, болон домэйн тус бүрийн мэдээллийг агуулж байдаг
бусад жижиг нэрийн серверүүдээс бүтсэн нарийн төвөгтэй
систем юм.</p><p>BIND одоо
	Internet Systems Consortium
	<code class="uri"><a class="uri" href="http://www.isc.org/" target="_top">http://www.isc.org/</a></code>-н мэдэлд байдаг.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp90660560"></a>30.6.2. Нэр Томъёо</h3></div></div></div><p>Энэ баримтыг ойлгохын тулд, <acronym class="acronym">DNS</acronym>-тэй холбоотой
зарим нэр томъёог ойлгосон байх шаардлагатай.</p><a id="idp90682576" class="indexterm"></a><a id="idp90683088" class="indexterm"></a><a id="idp90683600" class="indexterm"></a><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Нэр</th><th>Тайлбар</th></tr></thead><tbody><tr><td>Forward буюу Ердийн <acronym class="acronym">DNS</acronym></td><td>Хост нэрийг IP хаяг руу буулгана.</td></tr><tr><td>Origin буюу Үүсэл</td><td>Тухайн бүсийн файлд хамрагдаж байгаа домэйныг заана.</td></tr><tr><td><span class="application">named</span>, BIND</td><td>FreeBSD-н BIND нэрийн серверийг нэрлэх түгээмэл нэршил.</td></tr><tr><td>Resolver буюу Тайлагч</td><td>Машин, бүсийн мэдээллийн талаар нэрийн серверээс асуулга
явуулахын тулд ашигладаг системийн процесс.</td></tr><tr><td>Reverse буюу Урвуу <acronym class="acronym">DNS</acronym></td><td><acronym class="acronym">IP</acronym>
хаягийг хост нэр рүү буулгана.</td></tr><tr><td>Root zone буюу Эх бүс</td><td>Интернэт бүсийн шатлалын эхлэл.
Файл системийн бүх файлууд эх санд харъяалагддаг шиг,
бүх бүсүүд эх бүсэд харъяалагдана.</td></tr><tr><td>Zone буюу Бүс</td><td>Нэг бүрэн эрхт газраар удирдуулж байгаа
домэйн, дэд домэйн, эсвэл <acronym class="acronym">DNS</acronym>-н нэг хэсэг.</td></tr></tbody></table></div><a id="idp90697808" class="indexterm"></a><p>Бүсүүдийн жишээ:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="systemitem">.</code> нь баримтад ихэвчлэн эх бүс гэж заагддаг.</p></li><li class="listitem"><p><code class="systemitem">org.</code> бол эх бүсийн доорх Top Level Domain буюу
Дээд Түвшний Домэйн (<acronym class="acronym">TLD</acronym>).</p></li><li class="listitem"><p><code class="systemitem">example.org.</code> бол <code class="systemitem">org.</code> <acronym class="acronym">TLD</acronym>-н
доорх бүс.</p></li><li class="listitem"><p><code class="systemitem">1.168.192.in-addr.arpa</code> бол <code class="systemitem">192.168.1.*</code>
<acronym class="acronym">IP</acronym> хаягийн хүрээнд багтаж байгаа бүх <acronym class="acronym">IP</acronym>
хаягуудыг агуулсан бүс.</p></li></ul></div><p>Хост нэр зүүн тал руугаа явах тусам илүү тодорхой
болж байгааг та бүхэн анзаарсан байх. Жишээлбэл, <code class="systemitem">example.org.</code>
нь <code class="systemitem">org.</code>-с илүү тодорхой, харин <code class="systemitem">org.</code> нь эх бүсээс
илүү тодорхой байна. Хост нэрийн зохион байгуулалт нь
файл системийнхтэй төстэй: <code class="filename">/dev</code> директор нь
эх директорт харъяалагдана, гэх мэт.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp90725200"></a>30.6.3. Нэрийн Сервер ажиллуулах Шалтгаанууд</h3></div></div></div><p>Нэрийн Серверүүд ерөнхийдөө хоёр янз байна: authoritative буюу бүрэн эрхт нэрийн сервер,
ба caching буюу түр тогтоогч нэрийн сервер.</p><p>Бүрэн эрхт нэрийн сервер нь дараах тохиолдлуудад хэрэгтэй:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><acronym class="acronym">DNS</acronym> мэдээллийг өөртөө агуулж, энэ мэдээллийг нийтэд зарлан,
ирсэн асуулгуудад бүрэн эрхтэйгээр хариулах хүсэлтэй үед.</p></li><li class="listitem"><p>Бүртгэлтэй домэйны хувьд, жишээлбэл <code class="systemitem">example.org</code>,
түүний дор орших хост нэрүүдэд <acronym class="acronym">IP</acronym> хаяг оноож өгөх хэрэгтэй үед.</p></li><li class="listitem"><p>Бүлэг <acronym class="acronym">IP</acronym> хаягуудад урвуу <acronym class="acronym">DNS</acronym> мэдээлэл хэрэгтэй үед
(<acronym class="acronym">IP</acronym>-с хост нэр рүү).</p></li><li class="listitem"><p>Нөөц эсвэл хоёрдогч нэрийн сервер, зарц гэж нэрлэнэ,
асуулгуудад хариулуулах шаардлагатай үед.</p></li></ul></div><p>Түр тогтоогч нэрийн сервер дараах тохиолдлуудад хэрэгтэй:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Дотоод <acronym class="acronym">DNS</acronym> сервер нь асуулгын хариуг
түр тогтоосноор гадаад нэрийн серверээс илүү хурдан хариу өгч
байгаа үед.</p></li></ul></div><p><code class="systemitem">www.FreeBSD.org</code>-р асуулга явуулсан үед, тайлагч ихэвчлэн
үйлчилгээ авдаг <acronym class="acronym">ISP</acronym>-нхаа нэрийн серверээс асуугаад хариуг олж авна.
Дотоод, түр тогтоогч <acronym class="acronym">DNS</acronym> сервер ажиллуулснаар,
асуулгыг гадаад интернэтээс зөвхөн ганц удаа явуулах бөгөөд,
хариуг тогтоож авна. Нэмэлт асуулгуудад түр тогтоогч нэрийн сервер
хариулах ба гадагшаа дахин асуулга явуулах шаардлага байхгүй.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp90740304"></a>30.6.4. Хэрхэн ажилладаг вэ?</h3></div></div></div><p>FreeBSD-д BIND дэмонг <span class="application">named</span> гэж нэрлэнэ.</p><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Файл</th><th>Тайлбар</th></tr></thead><tbody><tr><td><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=named&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">named</span>(8)</span></a></td><td>BIND дэмон.</td></tr><tr><td><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=rndc&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">rndc</span>(8)</span></a></td><td>Нэрийн серверийг хянах хэрэгсэл.</td></tr><tr><td><code class="filename">/etc/namedb</code></td><td>BIND-н бүсийн мэдээлэл хадгалагдаж байгаа сан.</td></tr><tr><td><code class="filename">/etc/namedb/named.conf</code></td><td>дэмоны тохиргооны файл.</td></tr></tbody></table></div><p>Тухайн бүс сервер дээр хэрхэн тохируулагдсанаас хамаарч
энэ бүстэй хамааралтай файлууд <code class="filename">/etc/namedb</code>
директорын <code class="filename">master</code>,
<code class="filename">slave</code>, эсвэл <code class="filename">dynamic</code>
гэсэн дэд сангуудад байрлана. Эдгээр файлуудад
гадны асуулгад хариу болгон өгөх <acronym class="acronym">DNS</acronym> мэдээллүүд
байрлана.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp90753360"></a>30.6.5. BIND-г ажиллуулах нь</h3></div></div></div><a id="idp90754000" class="indexterm"></a><p>BIND нь анхдагч байдлаар суучихсан ирдэг тул тохируулахад
хялбар байдаг.</p><p><span class="application">named</span>-н анхдагч тохиргоо нь
<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chroot&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">chroot</span>(8)</span></a> орчинд ажиллах, тайлагч нэрийн сервер байдлаар хийгдсэн байдаг
	бөгөөд локал IPv4 loopback хаяг (127.0.0.1) дээр ажиллахаар
	хязгаарлагдсан байдаг.
Энэ тохиргоогоор серверийг ажиллуулахын тулд дараах тушаалыг өгөх хэрэгтэй:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>service named onestart</code></strong></pre><p><span class="application">named</span> дэмонг систем ачаалах үед
ажиллуулдаг болгохын тулд <code class="filename">/etc/rc.conf</code> дотор дараах мөрүүдийг нэмэх
хэрэгтэй:</p><pre class="programlisting">named_enable="YES"</pre><p>Мэдээж <code class="filename">/etc/namedb/named.conf</code> файл дотор
өөр олон тохируулгууд байгаа боловч энэ баримтын мэдлээс халих
тул энд дурдсангүй. Хэрэв FreeBSD дээрх <span class="application">named</span>-н эхлэл
тохируулгуудын талаар сонирхож байгаа бол <code class="filename">/etc/defaults/rc.conf</code>
дотор байгаа <code class="literal">named_*</code> тугуудыг нэг ороод үзээрэй.
Мөн <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=rc.conf&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">rc.conf</span>(5)</span></a> заавар хуудаснаас тусламж авч болно. <a class="xref" href="configtuning-rcd.html" title="12.7. FreeBSD дээр rc(8) ашиглах нь">Хэсэг 12.7, «FreeBSD дээр rc(8) ашиглах нь»</a>
хэсгийг уншихад илүүдэхгүй.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp90770896"></a>30.6.6. Тохиргооны файлууд</h3></div></div></div><a id="idp90771536" class="indexterm"></a><p><span class="application">named</span>-н тохиргооны файлууд нь
<code class="filename">/etc/namedb</code> директор дотор байрлах ба
хэрэв хялбар тайлагчаас өөр түвшинд ажиллах хэрэгтэй бол
ажиллуулахаасаа өмнө тохиргооны файлд засвар хийх хэрэгтэй.
Ихэнх тохиргоог энэ сан дотор гүйцэтгэнэ.</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp90773712"></a>30.6.6.1. <code class="filename">/etc/namedb/named.conf</code></h4></div></div></div><pre class="programlisting">// $FreeBSD$
//
// Refer to the named.conf(5) and named(8) man pages, and the documentation
// in /usr/share/doc/bind9 for more details.
//
// If you are going to set up an authoritative server, make sure you
// understand the hairy details of how DNS works.  Even with
// simple mistakes, you can break connectivity for affected parties,
// or cause huge amounts of useless Internet traffic.

options {
	// All file and path names are relative to the chroot directory,
	// if any, and should be fully qualified.
	directory	"/etc/namedb/working";
	pid-file	"/var/run/named/pid";
	dump-file	"/var/dump/named_dump.db";
	statistics-file	"/var/stats/named.stats";

// If named is being used only as a local resolver, this is a safe default.
// For named to be accessible to the network, comment this option, specify
// the proper IP address, or delete this option.
	listen-on	{ 127.0.0.1; };

// If you have IPv6 enabled on this system, uncomment this option for
// use as a local resolver.  To give access to the network, specify
// an IPv6 address, or the keyword "any".
//	listen-on-v6	{ ::1; };

// These zones are already covered by the empty zones listed below.
// If you remove the related empty zones below, comment these lines out.
	disable-empty-zone "255.255.255.255.IN-ADDR.ARPA";
	disable-empty-zone "0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.IP6.ARPA";
	disable-empty-zone "1.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.IP6.ARPA";

// If you've got a DNS server around at your upstream provider, enter
// its IP address here, and enable the line below.  This will make you
// benefit from its cache, thus reduce overall DNS traffic in the Internet.
/*
	forwarders {
		127.0.0.1;
	};
*/

// If the 'forwarders' clause is not empty the default is to 'forward first'
// which will fall back to sending a query from your local server if the name
// servers in 'forwarders' do not have the answer.  Alternatively you can
// force your name server to never initiate queries of its own by enabling the
// following line:
//	forward only;

// If you wish to have forwarding configured automatically based on
// the entries in /etc/resolv.conf, uncomment the following line and
// set named_auto_forward=yes in /etc/rc.conf.  You can also enable
// named_auto_forward_only (the effect of which is described above).
//	include "/etc/namedb/auto_forward.conf";</pre><p>Тайлбар дээр хэлсэнчлэн
дээд гарцын түр тогтоогчоос хүртэхийн тулд
<code class="literal">forwarders</code>-г идэвхжүүлж болох юм.
Энгийн үед, нэрийн сервер нь хариултыг олтлоо давталттай байдлаар
хэд хэдэн нэрийн серверүүдээр дамжин асууна.
Энэ тохируулгыг идэвхжүүлснээр, дээд гарцынхаа нэрийн серверээс
(эсвэл зааж өгсөн нэрийн сервер) хамгийн түрүүнд асууж, энэ серверийн
түр санах ойд байгаа мэдээллээс хүртэхийг эрмэлзэнэ.
Хэрэв дээд гарцын нэрийн сервер нь олон асуулгад хариулдаг, хурдан үйлчилдэг
сервер байвал дээрх тохируулгыг идэвхжүүлсний үр ашиг гарна.</p><div xmlns="" class="warning"><h3 class="admontitle">Сануулга: </h3><p xmlns="http://www.w3.org/1999/xhtml"><code class="systemitem">127.0.0.1</code> энд ажиллах<span class="emphasis"><em>гүй</em></span>. Энэ
<acronym class="acronym">IP</acronym> хаягийг өөрийн дээд гарцын нэрийн серверээр сольж бичнэ үү.</p></div><pre class="programlisting">	/*
	   Modern versions of BIND use a random UDP port for each outgoing
	   query by default in order to dramatically reduce the possibility
	   of cache poisoning.  All users are strongly encouraged to utilize
	   this feature, and to configure their firewalls to accommodate it.

	   AS A LAST RESORT in order to get around a restrictive firewall
	   policy you can try enabling the option below.  Use of this option
	   will significantly reduce your ability to withstand cache poisoning
	   attacks, and should be avoided if at all possible.

	   Replace NNNNN in the example with a number between 49160 and 65530.
	*/
	// query-source address * port NNNNN;
};

// If you enable a local name server, don't forget to enter 127.0.0.1
// first in your /etc/resolv.conf so this server will be queried.
// Also, make sure to enable it in /etc/rc.conf.

// The traditional root hints mechanism. Use this, OR the slave zones below.
zone "." { type hint; file "/etc/namedb/named.root"; };

/*	Slaving the following zones from the root name servers has some
	significant advantages:
	1. Faster local resolution for your users
	2. No spurious traffic will be sent from your network to the roots
	3. Greater resilience to any potential root server failure/DDoS

	On the other hand, this method requires more monitoring than the
	hints file to be sure that an unexpected failure mode has not
	incapacitated your server.  Name servers that are serving a lot
	of clients will benefit more from this approach than individual
	hosts.  Use with caution.

	To use this mechanism, uncomment the entries below, and comment
	the hint zone above.

	As documented at http://dns.icann.org/services/axfr/ these zones:
	"." (the root), ARPA, IN-ADDR.ARPA, IP6.ARPA, and ROOT-SERVERS.NET
	are availble for AXFR from these servers on IPv4 and IPv6:
	xfr.lax.dns.icann.org, xfr.cjr.dns.icann.org
*/
/*
zone "." {
	type slave;
	file "/etc/namedb/slave/root.slave";
	masters {
		192.5.5.241;	// F.ROOT-SERVERS.NET.
	};
	notify no;
};
zone "arpa" {
	type slave;
	file "/etc/namedb/slave/arpa.slave";
	masters {
		192.5.5.241;	// F.ROOT-SERVERS.NET.
	};
	notify no;
};
*/

/*	Serving the following zones locally will prevent any queries
	for these zones leaving your network and going to the root
	name servers.  This has two significant advantages:
	1. Faster local resolution for your users
	2. No spurious traffic will be sent from your network to the roots
*/
// RFCs 1912 and 5735 (and BCP 32 for localhost)
zone "localhost"	{ type master; file "/etc/namedb/master/localhost-forward.db"; };
zone "127.in-addr.arpa"	{ type master; file "/etc/namedb/master/localhost-reverse.db"; };
zone "255.in-addr.arpa"	{ type master; file "/etc/namedb/master/empty.db"; };

// RFC 1912-style zone for IPv6 localhost address
zone "0.ip6.arpa"	{ type master; file "/etc/namedb/master/localhost-reverse.db"; };

// "This" Network (RFCs 1912 and 5735)
zone "0.in-addr.arpa"	{ type master; file "/etc/namedb/master/empty.db"; };

// Private Use Networks (RFCs 1918 and 5735)
zone "10.in-addr.arpa"	   { type master; file "/etc/namedb/master/empty.db"; };
zone "16.172.in-addr.arpa" { type master; file "/etc/namedb/master/empty.db"; };
zone "17.172.in-addr.arpa" { type master; file "/etc/namedb/master/empty.db"; };
zone "18.172.in-addr.arpa" { type master; file "/etc/namedb/master/empty.db"; };
zone "19.172.in-addr.arpa" { type master; file "/etc/namedb/master/empty.db"; };
zone "20.172.in-addr.arpa" { type master; file "/etc/namedb/master/empty.db"; };
zone "21.172.in-addr.arpa" { type master; file "/etc/namedb/master/empty.db"; };
zone "22.172.in-addr.arpa" { type master; file "/etc/namedb/master/empty.db"; };
zone "23.172.in-addr.arpa" { type master; file "/etc/namedb/master/empty.db"; };
zone "24.172.in-addr.arpa" { type master; file "/etc/namedb/master/empty.db"; };
zone "25.172.in-addr.arpa" { type master; file "/etc/namedb/master/empty.db"; };
zone "26.172.in-addr.arpa" { type master; file "/etc/namedb/master/empty.db"; };
zone "27.172.in-addr.arpa" { type master; file "/etc/namedb/master/empty.db"; };
zone "28.172.in-addr.arpa" { type master; file "/etc/namedb/master/empty.db"; };
zone "29.172.in-addr.arpa" { type master; file "/etc/namedb/master/empty.db"; };
zone "30.172.in-addr.arpa" { type master; file "/etc/namedb/master/empty.db"; };
zone "31.172.in-addr.arpa" { type master; file "/etc/namedb/master/empty.db"; };
zone "168.192.in-addr.arpa" { type master; file "/etc/namedb/master/empty.db"; };

// Link-local/APIPA (RFCs 3927 and 5735)
zone "254.169.in-addr.arpa" { type master; file "/etc/namedb/master/empty.db"; };

// IETF protocol assignments (RFCs 5735 and 5736)
zone "0.0.192.in-addr.arpa" { type master; file "/etc/namedb/master/empty.db"; };

// TEST-NET-[1-3] for Documentation (RFCs 5735 and 5737)
zone "2.0.192.in-addr.arpa" { type master; file "/etc/namedb/master/empty.db"; };
zone "100.51.198.in-addr.arpa" { type master; file "/etc/namedb/master/empty.db"; };
zone "113.0.203.in-addr.arpa" { type master; file "/etc/namedb/master/empty.db"; };

// IPv6 Range for Documentation (RFC 3849)
zone "8.b.d.0.1.0.0.2.ip6.arpa" { type master; file "/etc/namedb/master/empty.db"; };

// Domain Names for Documentation and Testing (BCP 32)
zone "test" { type master; file "/etc/namedb/master/empty.db"; };
zone "example" { type master; file "/etc/namedb/master/empty.db"; };
zone "invalid" { type master; file "/etc/namedb/master/empty.db"; };
zone "example.com" { type master; file "/etc/namedb/master/empty.db"; };
zone "example.net" { type master; file "/etc/namedb/master/empty.db"; };
zone "example.org" { type master; file "/etc/namedb/master/empty.db"; };

// Router Benchmark Testing (RFCs 2544 and 5735)
zone "18.198.in-addr.arpa" { type master; file "/etc/namedb/master/empty.db"; };
zone "19.198.in-addr.arpa" { type master; file "/etc/namedb/master/empty.db"; };

// IANA Reserved - Old Class E Space (RFC 5735)
zone "240.in-addr.arpa"	{ type master; file "/etc/namedb/master/empty.db"; };
zone "241.in-addr.arpa"	{ type master; file "/etc/namedb/master/empty.db"; };
zone "242.in-addr.arpa"	{ type master; file "/etc/namedb/master/empty.db"; };
zone "243.in-addr.arpa"	{ type master; file "/etc/namedb/master/empty.db"; };
zone "244.in-addr.arpa"	{ type master; file "/etc/namedb/master/empty.db"; };
zone "245.in-addr.arpa"	{ type master; file "/etc/namedb/master/empty.db"; };
zone "246.in-addr.arpa"	{ type master; file "/etc/namedb/master/empty.db"; };
zone "247.in-addr.arpa"	{ type master; file "/etc/namedb/master/empty.db"; };
zone "248.in-addr.arpa"	{ type master; file "/etc/namedb/master/empty.db"; };
zone "249.in-addr.arpa"	{ type master; file "/etc/namedb/master/empty.db"; };
zone "250.in-addr.arpa"	{ type master; file "/etc/namedb/master/empty.db"; };
zone "251.in-addr.arpa"	{ type master; file "/etc/namedb/master/empty.db"; };
zone "252.in-addr.arpa"	{ type master; file "/etc/namedb/master/empty.db"; };
zone "253.in-addr.arpa"	{ type master; file "/etc/namedb/master/empty.db"; };
zone "254.in-addr.arpa"	{ type master; file "/etc/namedb/master/empty.db"; };

// IPv6 Unassigned Addresses (RFC 4291)
zone "1.ip6.arpa"	{ type master; file "/etc/namedb/master/empty.db"; };
zone "3.ip6.arpa"	{ type master; file "/etc/namedb/master/empty.db"; };
zone "4.ip6.arpa"	{ type master; file "/etc/namedb/master/empty.db"; };
zone "5.ip6.arpa"	{ type master; file "/etc/namedb/master/empty.db"; };
zone "6.ip6.arpa"	{ type master; file "/etc/namedb/master/empty.db"; };
zone "7.ip6.arpa"	{ type master; file "/etc/namedb/master/empty.db"; };
zone "8.ip6.arpa"	{ type master; file "/etc/namedb/master/empty.db"; };
zone "9.ip6.arpa"	{ type master; file "/etc/namedb/master/empty.db"; };
zone "a.ip6.arpa"	{ type master; file "/etc/namedb/master/empty.db"; };
zone "b.ip6.arpa"	{ type master; file "/etc/namedb/master/empty.db"; };
zone "c.ip6.arpa"	{ type master; file "/etc/namedb/master/empty.db"; };
zone "d.ip6.arpa"	{ type master; file "/etc/namedb/master/empty.db"; };
zone "e.ip6.arpa"	{ type master; file "/etc/namedb/master/empty.db"; };
zone "0.f.ip6.arpa"	{ type master; file "/etc/namedb/master/empty.db"; };
zone "1.f.ip6.arpa"	{ type master; file "/etc/namedb/master/empty.db"; };
zone "2.f.ip6.arpa"	{ type master; file "/etc/namedb/master/empty.db"; };
zone "3.f.ip6.arpa"	{ type master; file "/etc/namedb/master/empty.db"; };
zone "4.f.ip6.arpa"	{ type master; file "/etc/namedb/master/empty.db"; };
zone "5.f.ip6.arpa"	{ type master; file "/etc/namedb/master/empty.db"; };
zone "6.f.ip6.arpa"	{ type master; file "/etc/namedb/master/empty.db"; };
zone "7.f.ip6.arpa"	{ type master; file "/etc/namedb/master/empty.db"; };
zone "8.f.ip6.arpa"	{ type master; file "/etc/namedb/master/empty.db"; };
zone "9.f.ip6.arpa"	{ type master; file "/etc/namedb/master/empty.db"; };
zone "a.f.ip6.arpa"	{ type master; file "/etc/namedb/master/empty.db"; };
zone "b.f.ip6.arpa"	{ type master; file "/etc/namedb/master/empty.db"; };
zone "0.e.f.ip6.arpa"	{ type master; file "/etc/namedb/master/empty.db"; };
zone "1.e.f.ip6.arpa"	{ type master; file "/etc/namedb/master/empty.db"; };
zone "2.e.f.ip6.arpa"	{ type master; file "/etc/namedb/master/empty.db"; };
zone "3.e.f.ip6.arpa"	{ type master; file "/etc/namedb/master/empty.db"; };
zone "4.e.f.ip6.arpa"	{ type master; file "/etc/namedb/master/empty.db"; };
zone "5.e.f.ip6.arpa"	{ type master; file "/etc/namedb/master/empty.db"; };
zone "6.e.f.ip6.arpa"	{ type master; file "/etc/namedb/master/empty.db"; };
zone "7.e.f.ip6.arpa"	{ type master; file "/etc/namedb/master/empty.db"; };

// IPv6 ULA (RFC 4193)
zone "c.f.ip6.arpa"	{ type master; file "/etc/namedb/master/empty.db"; };
zone "d.f.ip6.arpa"	{ type master; file "/etc/namedb/master/empty.db"; };

// IPv6 Link Local (RFC 4291)
zone "8.e.f.ip6.arpa"	{ type master; file "/etc/namedb/master/empty.db"; };
zone "9.e.f.ip6.arpa"	{ type master; file "/etc/namedb/master/empty.db"; };
zone "a.e.f.ip6.arpa"	{ type master; file "/etc/namedb/master/empty.db"; };
zone "b.e.f.ip6.arpa"	{ type master; file "/etc/namedb/master/empty.db"; };

// IPv6 Deprecated Site-Local Addresses (RFC 3879)
zone "c.e.f.ip6.arpa"	{ type master; file "/etc/namedb/master/empty.db"; };
zone "d.e.f.ip6.arpa"	{ type master; file "/etc/namedb/master/empty.db"; };
zone "e.e.f.ip6.arpa"	{ type master; file "/etc/namedb/master/empty.db"; };
zone "f.e.f.ip6.arpa"	{ type master; file "/etc/namedb/master/empty.db"; };

// IP6.INT is Deprecated (RFC 4159)
zone "ip6.int"		{ type master; file "/etc/namedb/master/empty.db"; };

// NB: Do not use the IP addresses below, they are faked, and only
// serve demonstration/documentation purposes!
//
// Example slave zone config entries.  It can be convenient to become
// a slave at least for the zone your own domain is in.  Ask
// your network administrator for the IP address of the responsible
// master name server.
//
// Do not forget to include the reverse lookup zone!
// This is named after the first bytes of the IP address, in reverse
// order, with ".IN-ADDR.ARPA" appended, or ".IP6.ARPA" for IPv6.
//
// Before starting to set up a master zone, make sure you fully
// understand how DNS and BIND work.  There are sometimes
// non-obvious pitfalls.  Setting up a slave zone is usually simpler.
//
// NB: Don't blindly enable the examples below. :-)  Use actual names
// and addresses instead.

/* An example dynamic zone
key "exampleorgkey" {
	algorithm hmac-md5;
	secret "sf87HJqjkqh8ac87a02lla==";
};
zone "example.org" {
	type master;
	allow-update {
		key "exampleorgkey";
	};
	file "/etc/namedb/dynamic/example.org";
};
*/

/* Example of a slave reverse zone
zone "1.168.192.in-addr.arpa" {
	type slave;
	file "/etc/namedb/slave/1.168.192.in-addr.arpa";
	masters {
		192.168.1.1;
	};
};
*/</pre><p><code class="filename">named.conf</code> доторх эдгээр жишээнүүд нь
ердийн болон урвуу бүсийн зарц бүртгэлүүд болно.</p><p>Шинэ бүс нэмэхдээ, <code class="filename">named.conf</code> файл дотор шинэ бүртгэл
оруулах хэрэгтэй.</p><p>Жишээ нь, <code class="systemitem">example.org</code> домэйны хувьд
хамгийн хялбар бүртгэл дараах байдалтай байна:</p><pre class="programlisting">zone "example.org" {
	type master;
	file "master/example.org";
};</pre><p>Энэ бүс нь эзэн бүс болохыг <code class="option">type</code> илэрхийллээс харж болно.
Мөн бүсийн мэдээллийг <code class="filename">/etc/namedb/master/example.org</code> файл дотор агуулж байгааг
<code class="option">file</code> илэрхийллээс харж болно.</p><pre class="programlisting">zone "example.org" {
	type slave;
	file "slave/example.org";
};</pre><p>Зарц бүсийн хувьд, тухайн бүсийн хувьд бүсийн мэдээлэл
эзэн нэрийн серверээс зөөгдөж ирэх ба зааж өгсөн файлд хадгалагдана.
Эзэн сервер унтарсан эсвэл холбоо тогтоох боломжгүй болбол,
зарц нэрийн серверт бүсийн мэдээлэл байгаа тул асуулгуудад хариулах
чадвартай байна.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp90791504"></a>30.6.6.2. Бүсийн Файлууд</h4></div></div></div><a id="idp90792144" class="indexterm"></a><p><code class="systemitem">example.org</code> домэйны хувьд жишээ эзэн бүсийн файлыг
дор үзүүлэв (<code class="filename">/etc/namedb/master/example.org</code> файл):</p><pre class="programlisting">$TTL 3600        ; 1 hour default TTL
example.org.    IN      SOA      ns1.example.org. admin.example.org. (
                                2006051501      ; Serial
                                10800           ; Refresh
                                3600            ; Retry
                                604800          ; Expire
                                300             ; Negative Response TTL
                        )

; DNS Servers
                IN      NS      ns1.example.org.
                IN      NS      ns2.example.org.

; MX Records
                IN      MX 10   mx.example.org.
                IN      MX 20   mail.example.org.

                IN      A       192.168.1.1

; Machine Names
localhost       IN      A       127.0.0.1
ns1             IN      A       192.168.1.2
ns2             IN      A       192.168.1.3
mx              IN      A       192.168.1.4
mail            IN      A       192.168.1.5

; Aliases
www             IN      CNAME   example.org.</pre><p><span class="quote">«<span class="quote">.</span>»</span> тэмдэгтээр төгссөн хост нэрүүд нь жинхэнэ хост нэрүүд бөгөөд
<span class="quote">«<span class="quote">.</span>»</span> тэмдэгтээр төгсөөгүй нэрүүдэд үүсэл залгагдахыг анхаарна уу.
Жишээлбэл, <code class="literal">ns1</code> нь <code class="literal">ns1.example.org.</code>-руу
хөрвүүлэгдэх болно.</p><p>Бүсийн файл дараах хэлбэртэй байна:</p><pre class="programlisting">recordname      IN recordtype   value</pre><a id="idp90830288" class="indexterm"></a><p>Хамгийн өргөн хэрэглэгддэг DNS бичлэгүүд:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">SOA</span></dt><dd><p>start of zone authority буюу бүсийн бүрэн эрхт мэдээллийн эхлэл</p></dd><dt><span class="term">NS</span></dt><dd><p>бүрэн эрхт нэрийн сервер</p></dd><dt><span class="term">A</span></dt><dd><p>хостын хаяг</p></dd><dt><span class="term">CNAME</span></dt><dd><p>хуурамч дүрд өгөх хүлээн зөвшөөрөгдсөн нэр</p></dd><dt><span class="term">MX</span></dt><dd><p>захидал солилцогч</p></dd><dt><span class="term">PTR</span></dt><dd><p>домэйн нэрийг заагч (урвуу DNS-д хэрэглэнэ)
	      </p></dd></dl></div><pre class="programlisting">example.org. IN SOA ns1.example.org. admin.example.org. (
                        2006051501      ; Serial
                        10800           ; Refresh after 3 hours
                        3600            ; Retry after 1 hour
                        604800          ; Expire after 1 week
                        300 )           ; Negative Response TTL</pre><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="systemitem">example.org.</code></span></dt><dd><p>домэйн нэр, мөн энэ бүсийн файлын хувьд үүсэл
		болно.</p></dd><dt><span class="term"><code class="systemitem">ns1.example.org.</code></span></dt><dd><p>энэ бүсийн гол/бүрэн эрхт нэрийн
		сервер.</p></dd><dt><span class="term"><code class="literal">admin.example.org.</code></span></dt><dd><p>энэ бүсийг хариуцагч хүн, <span class="quote">«<span class="quote">@</span>»</span> тэмдэгтийг нь
		орлуулсан цахим захидлын хаяг.
		(<code class="email">&lt;<a xmlns="" class="email" href="mailto:admin@example.org">admin@example.org</a>&gt;</code> нь <code class="literal">admin.example.org</code> болно)</p></dd><dt><span class="term"><code class="literal">2006051501</code></span></dt><dd><p>Файлын сериал дугаар. Бүсийн файлд өөрчлөлт оруулах болгонд
энэ дугаарыг нэмэгдүүлэх шаардлагатай. Одоо цагт ихэнх админууд энэ сериал дугаарыг
<code class="literal">yyyymmddrr</code> хэлбэрээр хэрэглэх болсон. <code class="literal">2006051501</code> гэдэг нь
хамгийн сүүлд 05/15/2006-нд засвар хийсэн, хамгийн сүүлийн <code class="literal">01</code> гэдэг нь
энэ өдөр хийгдсэн хамгийн анхны засвар гэдгийг илтгэнэ. Энэ сериал дугаар
нь зарц серверүүдэд бүсийн мэдээлэл өөрчлөгдсөн талаар мэдээлэл өгдөг тул их чухал зүйл
байгаа юм.</p></dd></dl></div><pre class="programlisting">       IN NS           ns1.example.org.</pre><p>Энэ бол NS бичлэг. Тухайн бүсийн хувьд бүрэн эрхт хариултыг
	  өгч чадах сервер бүрийн хувьд энэ бичлэг байх ёстой.</p><pre class="programlisting">localhost       IN      A       127.0.0.1
ns1             IN      A       192.168.1.2
ns2             IN      A       192.168.1.3
mx              IN      A       192.168.1.4
mail            IN      A       192.168.1.5</pre><p>A бичлэг нь машины нэрийг заана. Дээр үзүүлсэнчлэн,
	  <code class="systemitem">ns1.example.org</code> нь <code class="systemitem">192.168.1.2</code>-руу буулгагдана.
        </p><pre class="programlisting">                IN      A       192.168.1.1</pre><p>Энэ мөр нь <code class="systemitem">192.168.1.1</code> гэсэн IP хаягийг
үүсэлд оноож байна, бидний жишээн дээр <code class="systemitem">example.org</code>.</p><pre class="programlisting">www             IN CNAME        @</pre><p>Хүлээн зөвшөөрөгдсөн нэрийн бичлэг нь машинд хуурамч дүр
өгөхөд хэрэглэгдэнэ. Энэ жишээн дээр, <code class="systemitem">www</code> нь
<code class="systemitem">example.org</code> (<code class="systemitem">192.168.1.1</code>) гэсэн домэйн нэртэй
<span class="quote">«<span class="quote">master</span>»</span> машины хуурамч дүрийн нэр юм. CNAME-г тухайн хостын нэрийн хувьд
өөр төрлийн бичлэгтэй хэзээ ч цуг хэрэглэж болохгүй.</p><a id="idp90865360" class="indexterm"></a><pre class="programlisting">               IN MX   10      mail.example.org.</pre><p>MX бичлэг нь аль захидлын серверүүд тухайн бүсийн захидлыг
хүлээж авах үүрэгтэй болохыг зааж өгнө. <code class="systemitem">mail.example.org</code>
нь захидлын серверийн хост нэр бөгөөд 10 нь энэ захидлын серверийн
зэрэглэлийг зааж байна.</p><p>Нэг бүсэд 10, 20 гэх мэт ялгаатай зэрэглэлтэй
хэд хэдэн захидлын сервер байж болно. <code class="systemitem">example.org</code>
домэйн руу захидал явуулах гэж байгаа сервер эхлээд
хамгийн өндөр зэрэглэлтэй MX сервертэй (хамгийн бага зэрэглэлийн дугаартай), дараа нь дараагийн хамгийн өндөр зэрэглэлтэй
сервертэй гэх мэтчилэн захидлыг явуулж чадтал дарааллаар нь холбоо тогтооно.</p><p>in-addr.arpa бүсийн файл (урвуу DNS) нь ижил хэлбэртэй байна. Ганцхан ялгаа нь
A болон CNAME бичлэгийн оронд PTR бичлэгийг хэрэглэнэ.
        </p><pre class="programlisting">$TTL 3600

1.168.192.in-addr.arpa. IN SOA ns1.example.org. admin.example.org. (
                        2006051501      ; Serial
                        10800           ; Refresh
                        3600            ; Retry
                        604800          ; Expire
                        300 )           ; Negative Response TTL

        IN      NS      ns1.example.org.
        IN      NS      ns2.example.org.

1       IN      PTR     example.org.
2       IN      PTR     ns1.example.org.
3       IN      PTR     ns2.example.org.
4       IN      PTR     mx.example.org.
5       IN      PTR     mail.example.org.</pre><p>Энэ файлд дээрх домэйны IP-с хост нэр рүү буулгасан
зохих шаардлагатай буулгалтуудыг үзүүлсэн байна.</p><p>PTR бичлэгийн баруун талын бүх нэрс төгссөн байх
	  ёстой (өөрөөр хэлбэл <span class="quote">«<span class="quote">.</span>»</span>-ээр төгссөн
	  байна).</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp90874704"></a>30.6.7. Түр тогтоогч Нэрийн Сервер (Caching Name Server)</h3></div></div></div><a id="idp90875344" class="indexterm"></a><p>Түр тогтоогч нэрийн сервер гэдэг нь
рекурсив хүсэлтэд хариу өгөх гол үүрэгтэй нэрийн серверийг хэлнэ.
Ийм төрлийн сервер нь зөвхөн асуулга явуулах бөгөөд
хариултыг дараа хэрэглэхээр тогтоож авдаг.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp90877008"></a>30.6.8. <acronym class="acronym">DNSSEC</acronym></h3></div></div></div><a id="idp90877904" class="indexterm"></a><p>Домэйн Нэрийн Системийн Аюулгүй байдлын Өргөтгөлүүд, товчоор <acronym class="acronym">DNSSEC</acronym>, бол нэр тайлагч серверүүдийг
        залилуулсан <acronym class="acronym">DNS</acronym> бичлэг гэх мэт хуурамч <acronym class="acronym">DNS</acronym> өгөгдлөөс
	хамгаалах заавруудын иж бүрдэл юм. Электрон гарын үсгийн тусламжтай нэр тайлагч нь бичлэгийн
	бүрэн бүтэн байдлыг магадлах боломжтой. <acronym class="acronym">DNSSEC</acronym> нь зөвхөн Боломжит Бичлэгүүд дээр
	(<acronym class="acronym">RR</acronym>s) электрон гарын үсэг зурах замаар
	өгөгдлийн бүрэн бүтэн байдлыг хангадаг болохыг тэмдэглэн хэлье. Нууцлалыг хангаж, эцсийн хэрэглэгчийн
	буруу үйлдлээс хамгаалж чадахгүй. Өөрөөр хэлбэл хүмүүсийг <code class="systemitem">example.com</code>-н оронд
	<code class="systemitem">example.net</code>-руу орохыг болиулж чадахгүй гэсэн үг юм.
	<acronym class="acronym">DNSSEC</acronym>-н хийж чадах ганц зүйл бол өгөгдөл замдаа хувиралгүйгээр очсоныг магадлан тогтоох юм.
	<acronym class="acronym">DNS</acronym>-н аюулгүй байдал бол Интернэтийн аюулгүй байдлыг хангахад чухал алхам болдог.
	<acronym class="acronym">DNSSEC</acronym> хэрхэн ажилладаг талаар дэлгэрэнгүй мэдээллийг тухайн <acronym class="acronym">RFC</acronym>-үүдээс аваарай.
	<a class="xref" href="network-dns.html#dns-read" title="30.6.10. Гүнзгийрүүлэн унших">Хэсэг 30.6.10, «Гүнзгийрүүлэн унших»</a>-д байгаа жагсаалтыг үзнэ үү.</p><p>Дараах бүлгүүдэд <acronym class="acronym">BIND</acronym> 9 ажиллаж байгаа бүрэн эрхт <acronym class="acronym">DNS</acronym> сервер
	болон рекурсив (эсвэл түр тогтоогч) <acronym class="acronym">DNS</acronym> сервер
	дээр <acronym class="acronym">DNSSEC</acronym>-г хэрхэн идэвхжүүлэхийг үзүүлэх болно.
	<acronym class="acronym">BIND</acronym> 9-н бүх хувилбарууд <acronym class="acronym">DNSSEC</acronym>-г дэмжих боловч,
	<acronym class="acronym">DNS</acronym> асуулгуудын хүчинтэй эсэхийг шалгахад гарын үсэгтэй эх бүсийг
	ашиглахын тулд хамгийн багадаа 9.6.2 хувилбарыг суулгах шаардлагатай.
	Яагаад гэвэл өмнөх хувилбаруудад эх (root) бүсийн түлхүүрийг ашиглах шалгалтыг
	идэвхжүүлэхэд шаардлагатай алгоритмууд байдаггүй. Эх түлхүүрт зориулж
	автоматаар түлхүүрийг шинэчлэх боломж болон автоматаар бүсүүдийг гарын
	үсгээр баталгаажуулж гарын үсгүүдийг байнга шинэ байлгахын тулд
	<acronym class="acronym">BIND</acronym>-ийн хамгийн сүүлийн хувилбар 9.7 юм уу эсвэл
	түүний дараагийн хувилбарыг ашиглахыг шаарддаг. 9.6.2 болон 9.7 болон
	түүнээс хойшхи хувилбаруудын хооронд тохиргооны зөрүү байвал
	харуулах болно.</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp90925520"></a>30.6.8.1. Рекурсив <acronym class="acronym">DNS</acronym> серверийн тохиргоо</h4></div></div></div><p>Рекурсив <acronym class="acronym">DNS</acronym> серверийн гүйцэтгэсэн хүсэлтүүдийн
	  <acronym class="acronym">DNSSEC</acronym> шалгалтыг идэвхжүүлэхийн тулд
	  <code class="filename">named.conf</code> файлд цөөн өөрчлөлтийг хийх хэрэгтэй.
	  Эдгээр өөрчлөлтүүдийг хийхээс өмнө эх бүсийн түлхүүр эсвэл итгэлцлийн
	  анкорыг (anchor) авсан байх шаардлагатай. Одоогоор эх бүсийн түлхүүр нь
	  <acronym class="acronym">BIND</acronym> ойлгох файлын форматаар байдаггүй бөгөөд
	  зөв хэлбэр рүү гараар хувиргах ёстой байдаг. Түлхүүрийг
	  <span class="application">dig</span> ашиглан эх бүсээс асууж авч болдог.
	  Ингэхийн тулд</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>dig +multi +noall +answer DNSKEY . &gt; root.dnskey</code></strong></pre><p>гэж ажиллуулна. Түлхүүр <code class="filename">root.dnskey</code> файлд байх болно.
	  Доторх нь иймэрхүү байдалтай харагдана:</p><pre class="programlisting">. 93910 IN DNSKEY 257 3 8 (
	AwEAAagAIKlVZrpC6Ia7gEzahOR+9W29euxhJhVVLOyQ
	bSEW0O8gcCjFFVQUTf6v58fLjwBd0YI0EzrAcQqBGCzh
	/RStIoO8g0NfnfL2MTJRkxoXbfDaUeVPQuYEhg37NZWA
	JQ9VnMVDxP/VHL496M/QZxkjf5/Efucp2gaDX6RS6CXp
	oY68LsvPVjR0ZSwzz1apAzvN9dlzEheX7ICJBBtuA6G3
	LQpzW5hOA2hzCTMjJPJ8LbqF6dsV6DoBQzgul0sGIcGO
	Yl7OyQdXfZ57relSQageu+ipAdTTJ25AsRTAoub8ONGc
	LmqrAmRLKBP1dfwhYB4N7knNnulqQxA+Uk1ihz0=
	) ; key id = 19036
. 93910 IN DNSKEY 256 3 8 (
	AwEAAcaGQEA+OJmOzfzVfoYN249JId7gx+OZMbxy69Hf
	UyuGBbRN0+HuTOpBxxBCkNOL+EJB9qJxt+0FEY6ZUVjE
	g58sRr4ZQ6Iu6b1xTBKgc193zUARk4mmQ/PPGxn7Cn5V
	EGJ/1h6dNaiXuRHwR+7oWh7DnzkIJChcTqlFrXDW3tjt
) ; key id = 34525</pre><p>Олж авсан түлхүүрүүд энэ жишээн дээрхээс өөр байвал
	  сандрах хэрэггүй. Тэдгээр нь энэ зааврыг бичсэнээс хойш
	  өөрчлөгдсөн байж болох юм. Энэ гаралт нь хоёр түлхүүрийг
	  агуулдаг. DNSKEY бичлэгийн төрлийн дараах 257 гэсэн утга бүхий
	  жагсаалтад байгаа эхний түлхүүр нь хэрэгтэй нь юм. Энэ утга нь
	  Аюулгүй Орох Цэг (<acronym class="acronym">SEP</acronym>),
	  түлхүүрийг гарын үсгээр баталгаажуулах түлхүүр гэгддэг (<acronym class="acronym">KSK</acronym>) гэдгийг илэрхийлдэг.
	  256 гэсэн хоёр дахь түлхүүр нь захирагдагч түлхүүр бөгөөд
	  Бүсийг гарын үсгээр баталгаажуулах түлхүүр
	  (<acronym class="acronym">ZSK</acronym>) гэгддэг. Эдгээр
	  өөр түлхүүрийн төрлүүдийн талаар <a class="xref" href="network-dns.html#dns-dnssec-auth" title="30.6.8.2. Бүрэн эрхт DNS серверийн тохиргоо">Хэсэг 30.6.8.2, «Бүрэн эрхт <acronym class="acronym">DNS</acronym> серверийн тохиргоо»</a> хэсэгт дэлгэрэнгүй байгаа.</p><p>Одоо түлхүүрийг шалгаж <acronym class="acronym">BIND</acronym> ашиглаж болох
	  хэлбэрт оруулах ёстой. Түлхүүрийг баталгаажуулахын тулд
	  <acronym class="acronym">DS</acronym>
	  <acronym class="acronym">RR</acronym>-г үүсгэнэ.
	  Эдгээр <acronym class="acronym">RR</acronym>-уудыг агуулсан
	  файлыг дараах тушаалаар үүсгэнэ</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>dnssec-dsfromkey -f root-dnskey . &gt; root.ds</code></strong></pre><p>Эдгээр бичлэгүүд нь SHA-1 болон SHA-256-г ашигладаг бөгөөд дараах
	  жишээтэй төстэй харагдах ёстой. Урт нь SHA-256-г ашигладаг.</p><pre class="programlisting">. IN DS 19036 8 1 B256BD09DC8DD59F0E0F0D8541B8328DD986DF6E
. IN DS 19036 8 2 49AAC11D7B6F6446702E54A1607371607A1A41855200FD2CE1CDDE32F24E8FB5</pre><p>SHA-256 <acronym class="acronym">RR</acronym>-г <a class="link" href="https://data.iana.org/root-anchors/root-anchors.xml" target="_top">https://data.iana.org/root-anchors/root-anchors.xml</a> дээр
	  байгаа дайжесттай харьцуулж болно. Түлхүүрийг <acronym class="acronym">XML</acronym>
	  файлын өгөгдлөөр өөрчлөгдөөгүйг жинхэнэ утгаар мэдэхийн тулд
	  <a class="link" href="https://data.iana.org/root-anchors/root-anchors.asc" target="_top">https://data.iana.org/root-anchors/root-anchors.asc</a> дахь
	  PGP гарын үсгийг ашиглан шалгаж болно.</p><p>Дараа нь түлхүүрийг зөв хэлбэрт оруулсан байх ёстой.
	  Энэ нь <acronym class="acronym">BIND</acronym> 9.6.2 болон 9.7 түүнээс хойшхи
	  хувилбаруудын хооронд жаахан ялгаатай байдаг. 9.7 хувилбарт
	  түлхүүрт хийгдэх өөрчлөлтийг автоматаар хянаж шаардлагатай бол
	  шинэчилдэг дэмжлэг нэмэгдсэн байдаг. Үүнийг доорх жишээн
	  дээр үзүүлсэн шиг <code class="literal">managed-keys</code> ашиглан
	  хийдэг. Хуучин хувилбар ашиглаж байгаа тохиолдолд түлхүүрийг
	  <code class="literal">trusted-keys</code> гэдгийг ашиглан нэмдэг
	  бөгөөд шинэчлэлтүүдийг гараар хийх ёстой байдаг.
	  <acronym class="acronym">BIND</acronym> 9.6.2-ийн хувьд формат доорхтой адил
	  хэлбэрийн байна:</p><pre class="programlisting">trusted-keys {
	"." 257 3 8
	"AwEAAagAIKlVZrpC6Ia7gEzahOR+9W29euxhJhVVLOyQbSEW0O8gcCjF
	FVQUTf6v58fLjwBd0YI0EzrAcQqBGCzh/RStIoO8g0NfnfL2MTJRkxoX
	bfDaUeVPQuYEhg37NZWAJQ9VnMVDxP/VHL496M/QZxkjf5/Efucp2gaD
	X6RS6CXpoY68LsvPVjR0ZSwzz1apAzvN9dlzEheX7ICJBBtuA6G3LQpz
	W5hOA2hzCTMjJPJ8LbqF6dsV6DoBQzgul0sGIcGOYl7OyQdXfZ57relS
	Qageu+ipAdTTJ25AsRTAoub8ONGcLmqrAmRLKBP1dfwhYB4N7knNnulq
	QxA+Uk1ihz0=";
};</pre><p>For 9.7 the format will instead be:</p><pre class="programlisting">managed-keys {
	"." initial-key 257 3 8
	"AwEAAagAIKlVZrpC6Ia7gEzahOR+9W29euxhJhVVLOyQbSEW0O8gcCjF
	FVQUTf6v58fLjwBd0YI0EzrAcQqBGCzh/RStIoO8g0NfnfL2MTJRkxoX
	bfDaUeVPQuYEhg37NZWAJQ9VnMVDxP/VHL496M/QZxkjf5/Efucp2gaD
	X6RS6CXpoY68LsvPVjR0ZSwzz1apAzvN9dlzEheX7ICJBBtuA6G3LQpz
	W5hOA2hzCTMjJPJ8LbqF6dsV6DoBQzgul0sGIcGOYl7OyQdXfZ57relS
	Qageu+ipAdTTJ25AsRTAoub8ONGcLmqrAmRLKBP1dfwhYB4N7knNnulq
	QxA+Uk1ihz0=";
};</pre><p>Эх түлхүүрийг <code class="filename">named.conf</code> файл
	  руу шууд эсвэл түлхүүр бүхий файлыг оруулан нэмж өгч болно.
	  Эдгээр алхмуудын дараа <acronym class="acronym">BIND</acronym>-г хүсэлтүүд
	  дээр <acronym class="acronym">DNSSEC</acronym> шалгалтыг хийдэг болгохын тулд
	  <code class="filename">named.conf</code> файлыг засварлан
	  дараах мөрийг <code class="literal">options</code> хэсэгт нэмж
	  тохиргоог хийнэ:</p><pre class="programlisting">dnssec-enable yes;
dnssec-validation yes;</pre><p>Ажиллаж байгааг шалгахын тулд дөнгөж тохируулсан тайлагчийг
	  ашиглан гарын үсгээр баталгаажсан бүсийг асуусан хүсэлтийг
	  <span class="application">dig</span> ашиглан явуулна. Амжилттай
	  хариулт <code class="literal">AD</code> тэмдэглэгээтэй байх бөгөөд
	  энэ нь өгөгдлийг таньж зөвшөөрсөн гэсэн үг юм. Доорх
	  хүсэлттэй адил хүсэлтийг ажиллуулбал</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>dig @resolver +dnssec se ds </code></strong></pre><p><code class="literal">.se</code> бүсийн хувьд <acronym class="acronym">DS</acronym> <acronym class="acronym">RR</acronym>-г
	  буцаах ёстой. <code class="literal">flags:</code> хэсэг дээр
	  <code class="literal">AD</code> флаг тохируулагдсан байх ёстой бөгөөд доорх
	  байдлаар харагдана:</p><pre class="programlisting">...
;; flags: qr rd ra ad; QUERY: 1, ANSWER: 3, AUTHORITY: 0, ADDITIONAL: 1
...</pre><p>Тайлагч одоо <acronym class="acronym">DNS</acronym> хүсэлтүүдийг шалгаж
	  таних чадвартай боллоо.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="dns-dnssec-auth"></a>30.6.8.2. Бүрэн эрхт <acronym class="acronym">DNS</acronym> серверийн тохиргоо</h4></div></div></div><p><acronym class="acronym">DNSSEC</acronym>-р баталгаажсан бүсэд үйлчлэх
	  бүрэн эрхт нэрийн сервертэй болохын тулд бага зэргийн зүйлс
	  хийх шаардлагатай. Бүсийг криптограф түлхүүрүүд ашиглан
	  баталгаажуулах ёстой бөгөөд түлхүүрүүдийг үүсгэх ёстой.
	  Энэ зорилгоор зөвхөн нэг түлхүүр ашиглаж болно. Гэхдээ зөвлөдөг
	  арга бол байнга өөрчлөгдөөд байдаггүй, хүчтэй, маш сайн хамгаалагдсан
	  Түлхүүрийг гарын үсгээр баталгаажуулах Түлхүүр (<acronym class="acronym">KSK</acronym>) болон
	  байнга өөрчлөгддөг Бүсийг гарын үсгээр баталгаажуулах Түлхүүртэй (<acronym class="acronym">ZSK</acronym>) байх явдал юм.
	  Үйл ажиллагааны хувьд зөвлөсөн практикуудын талаарх мэдээллийг
	  <a class="link" href="http://tools.ietf.org/rfc/rfc4641.txt" target="_top"><acronym class="acronym">RFC</acronym> 4641: <acronym class="acronym">DNSSEC</acronym> үйл ажиллагааны практикууд</a> хаягаас
	  авч болно.  Эх бүсийн талаарх практикуудыг <a class="link" href="http://www.root-dnssec.org/wp-content/uploads/2010/06/icann-dps-00.txt" target="_top">Эх бүсийн <acronym class="acronym">KSK</acronym>операторт
	  зориулсан <acronym class="acronym">DNSSEC</acronym> практик</a> болон <a class="link" href="http://www.root-dnssec.org/wp-content/uploads/2010/06/vrsn-dps-00.txt" target="_top">Эх бүсийн <acronym class="acronym">ZSK</acronym>операторт
	  зориулсан <acronym class="acronym">DNSSEC</acronym> практик</a> хаягуудаас олж болно.
	  <acronym class="acronym">KSK</acronym> нь дараалсан бүрэн эрхийг шалгагдах шаардлагатай
	  байгаа өгөгдөлд өгөхөд хэрэглэгддэг бөгөөд бас Secure Entry Point буюу Аюулгүй Орох Цэг (<acronym class="acronym">SEP</acronym>) түлхүүр гэгддэг.
	  Энэ түлхүүрийн зурвасын дайжестийг Delegation Signer буюу Төлөөлөн баталгаажуулагч(<acronym class="acronym">DS</acronym>) бичлэг гэгддэг бөгөөд
	  итгэлцлийн дарааллыг бий болгохын тулд эцэг бүсэд бичигдсэн байх ёстой.
	  Үүнийг хэрхэн хийх нь эцэг бүсийг эзэмшигчээс хамаардаг. <acronym class="acronym">ZSK</acronym> нь бүсийг баталгаажуулахад
	  хэрэглэгддэг бөгөөд тэндээ бичигдсэн байх ёстой байдаг.</p><p>Өмнөх жишээн дээр харуулсан <code class="systemitem">example.com</code> бүсийн хувьд
	  <acronym class="acronym">DNSSEC</acronym>-г идэвхжүүлэхийн тулд эхний алхам нь
	  <acronym class="acronym">KSK</acronym> болон <acronym class="acronym">ZSK</acronym> түлхүүрийн
	  хослолыг үүсгэх <span class="application">dnssec-keygen</span>-г
	  ашиглах явдал юм. Энэ түлхүүрийн хослол нь өөр өөр криптограф
	  алгоритмуудыг хэрэглэж болно. Түлхүүрүүдийн хувьд RSA/SHA256-г
	  ашиглахыг зөвлөдөг бөгөөд 2048 битийн түлхүүрийн урт хангалттай.
	  <code class="systemitem">example.com</code>-н хувьд <acronym class="acronym">KSK</acronym>-г
	  үүсгэхийн тулд дараахийг ажиллуулна</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>dnssec-keygen -f KSK -a RSASHA256 -b 2048 -n ZONE example.com</code></strong></pre><p><acronym class="acronym">ZSK</acronym>-г үүсгэхийн тулд</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>dnssec-keygen -a RSASHA256 -b 2048 -n ZONE example.com</code></strong></pre><p><span class="application">dnssec-keygen</span> хоёр файлыг
	  гаргах бөгөөд нийтийн болон хувийн түлхүүрүүд нь
	  <code class="filename">Kexample.com.+005+nnnnn.key</code> (нийтийн) болон
	  <code class="filename">Kexample.com.+005+nnnnn.private</code> (хувийн) гэсэн
	  файлуудтай төстэй нэртэйгээр байна. Файлын нэрийн <code class="literal">nnnnn</code>
	  хэсэг нь таван оронтой түлхүүрийн ID юм. Аль түлхүүрийн ID аль түлхүүрт
	  харгалзаж байгааг хянаж байх хэрэгтэй. Энэ нь ялангуяа бүсэд нэгээс
	  илүү түлхүүр ашиглаж байгаа үед чухал юм. Түлхүүрүүдийн нэрийг
	  бас өөрчилж болно. <acronym class="acronym">KSK</acronym> файл бүрийн хувьд дараахийг
	  ажиллуулна:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>mv Kexample.com.+005+nnnnn.key Kexample.com.+005+nnnnn.KSK.key</code></strong>
<code class="prompt">%</code> <strong class="userinput"><code>mv Kexample.com.+005+nnnnn.private Kexample.com.+005+nnnnn.KSK.private</code></strong></pre><p><acronym class="acronym">ZSK</acronym> файлуудын хувьд <code class="literal">KSK</code>-г
	  <code class="literal">ZSK</code>-р солиорой. Одоо файлуудыг <code class="literal">$include</code> ашиглан
	  бүсийн файлд оруулж болно. Иймэрхүү байдалтай харагдана:</p><pre class="programlisting">$include Kexample.com.+005+nnnnn.KSK.key    ; KSK
$include Kexample.com.+005+nnnnn.ZSK.key    ; ZSK</pre><p>Төгсгөлд нь бүсийг баталгаажуулж <acronym class="acronym">BIND</acronym>-д
	  баталгаажуулсан бүсийн файлыг ашиглахыг зааж өгнө. Бүсийг
	  баталгаажуулахын тулд <span class="application">dnssec-signzone</span>-г
	  ашиглана. <code class="filename">example.com.db</code>-д байрлах
	  <code class="systemitem">example.com</code> бүсийг
	  баталгаажуулах тушаал иймэрхүү байна</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>dnssec-signzone -o example.com -k Kexample.com.+005+nnnnn.KSK example.com.db Kexample.com.+005+nnnnn.ZSK.key</code></strong></pre><p><code class="option">-k</code> аргументад өгөгдсөн түлхүүр нь
	  <acronym class="acronym">KSK</acronym> ба нөгөө нэг түлхүүрийн файл нь
	  <acronym class="acronym">ZSK</acronym> бөгөөд баталгаажуулахад хэрэглэгдэх
	  ёстой. Нэгээс илүү <acronym class="acronym">KSK</acronym> болон
	  <acronym class="acronym">ZSK</acronym> өгч болох бөгөөд ингэсэн тохиолдолд
	  бүс бүх өгөгдсөн түлхүүрээр баталгаажна. Энэ нь
	  бүсийн өгөгдлийг нэгээс илүү алгоритмаар баталгаажуулахын
	  тулд хэрэгтэй байж болно. <span class="application">dnssec-signzone</span>-ий
	  гаралт нь бүх <acronym class="acronym">RR</acronym> нь баталгаажсан бүсийн файл
	  байна. Энэ гаралт нь <code class="filename">example.com.db.signed</code> мэтийн
	  <code class="literal">.signed</code> гэсэн өргөтгөлтэй файлд байх
	  болно. <acronym class="acronym">DS</acronym> бичлэгүүд нь бас тусдаа
	  <code class="filename">dsset-example.com</code> файлд бичигддэг.
	  Энэ баталгаажсан бүсийг ашиглахын тулд <code class="filename">named.conf</code>
	  файлын бүсийн хэсэгт <code class="filename">example.com.db.signed</code>-г
	  ашиглахаар болгож өөрчлөх хэрэгтэй. Анхдагчаар гарын үсгүүд нь
	  30 хоног хүчинтэй байдаг бөгөөд хүчингүй гарын үсгүүд бүхий
	  бичлэгүүдийг нэр тайлагчдаар хадгалуулахгүй байлгахын тулд
	  бүсийг ядаж ойролцоогоор 15 хоногийн дараа дахин баталгаажуулах
	  хэрэгтэй гэсэн үг юм. Үүнийг хийхийн тулд скрипт бичээд cron-д
	  ажиллуулахаар тохируулж болно. Дэлгэрэнгүйг холбогдох гарын
	  авлагуудаас харна уу.</p><p>Бүх криптограф түлхүүрүүдийн адил хувийн түлхүүрүүдийг
	  нууцлан хадгалахыг санаарай. Түлхүүрийг солихдоо шинэ түлхүүрийг
	  бүсэд оруулан хуучнаар эхлээд баталгаажуулах нь зүйтэй
	  бөгөөд дараа нь шинэ түлхүүрийг ашиглан баталгаажуулах хэрэгтэй.
	  Эдгээр алхмуудыг хийсний дараа хуучин түлхүүрийг бүсээс
	  арилгаж болно. Ингэж хийхгүй бол шинэ түлхүүр
	  <acronym class="acronym">DNS</acronym>-н шатлалаар түгээгдэн зарлагдтал
	  <acronym class="acronym">DNS</acronym>-н өгөгдөл нь хүртээмжгүй байх нөхцөлд
	  хүргэж болно. Түлхүүр солих мэдээлэл болон <acronym class="acronym">DNSSEC</acronym>-г
	  ажиллуулахтай холбоотой асуудлуудын талаар дэлгэрэнгүйг
	  <a class="link" href="http://www.ietf.org/rfc/rfc4641.txt" target="_top"><acronym class="acronym">RFC</acronym> 4641: <acronym class="acronym">DNSSEC</acronym> Operational practices</a>
	  хаягаас үзнэ үү.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp91008464"></a>30.6.8.3. <acronym class="acronym">BIND</acronym> 9.7 болон түүнээс хойшхи хувилбаруудыг ашиглан
	  автоматжуулах</h4></div></div></div><p><acronym class="acronym">BIND</acronym> 9.7 хувилбараас эхлээд
	    <span class="emphasis"><em>Smart Signing</em></span> буюу ухаалгаар баталгаажуулах
	    боломж шинээр нэмэгдсэн. Энэ боломж нь түлхүүрийг удирдах болон
	    баталгаажуулах процессын зарим хэсгийг автоматжуулснаар хялбар
	    болгохыг зорьдог. <span class="emphasis"><em>key repository</em></span>
	    санд түлхүүрүүдийг байршуулж <code class="literal">auto-dnssec</code> гэсэн
	    шинэ тохиргоог ашиглан шаардлагатай тохиолдолд дахин баталгаажуулагддаг
	    динамик бүсийг үүсгэх боломжтой байдаг. Энэ бүсийг шинэчлэхийн
	    тулд <span class="application">nsupdate</span>-г шинэ <code class="option">-l</code>
	    аргументтай хэрэглэнэ. <span class="application">rndc</span> бас
	    түлхүүр байрлах сан дахь түлхүүрүүдээр бүсүүдийг <code class="option">sign</code> гэсэн
	    тохиргоо ашиглан баталгаажуулах боломжтой болсон. <code class="systemitem">example.com</code>-н хувьд энэ автоматаар хийх баталгаажуулалт
	    болон бүсийг шинэчлэх боломжийг <acronym class="acronym">BIND</acronym>-д зааж өгөхийн тулд
	    дараахийг <code class="filename">named.conf</code> файлд нэмж өгөх хэрэгтэй:</p><pre class="programlisting">zone example.com {
	type master;
	key-directory "/etc/named/keys";
	update-policy local;
	auto-dnssec maintain;
	file "/etc/named/dynamic/example.com.zone";
};</pre><p>Эдгээр өөрчлөлтүүдийг хийсний дараа <a class="xref" href="network-dns.html#dns-dnssec-auth" title="30.6.8.2. Бүрэн эрхт DNS серверийн тохиргоо">Хэсэг 30.6.8.2, «Бүрэн эрхт <acronym class="acronym">DNS</acronym> серверийн тохиргоо»</a>-д
	    тайлбарласны дагуу бүсийн хувьд түлхүүрүүдийг үүсгэж өгнө. Ингэхийн
	    тулд тэр түлхүүрүүдийг түлхүүр байрлах санд хийж бүсийн
	    тохиргооны <code class="literal">key-directory</code> гэдэгт уг санг өгөх
	    бөгөөд ингэснээр бүс автоматаар баталгаажуулагдах болно. Ийм замаар
	    тохируулсан бүсэд хийх шинэчлэлтийг <span class="application">nsupdate</span>
	    ашиглан хийх ёстой бөгөөд энэ нь бүсэд шинэ өгөгдөл нэмэн дахин
	    баталгаажуулах ажлыг хийдэг байна. Илүү дэлгэрэнгүйг <a class="xref" href="network-dns.html#dns-read" title="30.6.10. Гүнзгийрүүлэн унших">Хэсэг 30.6.10, «Гүнзгийрүүлэн унших»</a>
	    болон <acronym class="acronym">BIND</acronym>-н баримтаас үзнэ үү.</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp91017296"></a>30.6.9. Аюулгүй байдал</h3></div></div></div><p>Хэдийгээр BIND нь хамгийн өргөн хэрэглэгддэг DNS сервер боловч,
аюулгүй байдалтай холбоотой асуудлууд байнга тулгардаг.
Гадны халдлагад өртөж болзошгүй аюулгүй байдлын цоорхой заримдаа
олддог.</p><p>Хэдийгээр FreeBSD <span class="application">named</span>-г автоматаар <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chroot&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">chroot</span>(8)</span></a> орчинд
оруулдаг боловч; <acronym class="acronym">DNS</acronym> халдлагад ашиглаж болохуйц
хэд хэдэн механизмууд байсаар байна.</p><p><a class="link" href="http://www.cert.org/" target="_top">CERT</a>-с гаргадаг аюулгүй байдлын
санамжуудыг уншихыг зөвлөж байна. Мөн <a class="link" href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-security-notifications" target="_top">FreeBSD аюулгүй байдлын мэдэгдлүүд захидлын жагсаалт</a>-д бүртгүүлж,
шинээр гарч байгаа Интернэт болон FreeBSD-н аюулгүй байдлын асуудлуудын
талаар мэдээлэлтэй байхыг зөвлөе.</p><div xmlns="" class="tip"><h3 class="admontitle">Зөвлөгөө: </h3><p xmlns="http://www.w3.org/1999/xhtml">Хэрэв ямар нэгэн асуудал тулгарвал
эхийг байнга шинэчилж, <span class="application">named</span>-г шинээр бүтээх нь тусалж болох юм.</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="dns-read"></a>30.6.10. Гүнзгийрүүлэн унших</h3></div></div></div><p>BIND/<span class="application">named</span> заавар хуудсууд:
      <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=rndc&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">rndc</span>(8)</span></a> <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=named&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">named</span>(8)</span></a> <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=named.conf&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">named.conf</span>(5)</span></a><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=nsupdate&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">nsupdate</span>(1)</span></a>
      <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dnssec-signzone&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">dnssec-signzone</span>(8)</span></a> <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dnssec-keygen&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">dnssec-keygen</span>(8)</span></a></p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="link" href="https://www.isc.org/software/bind" target="_top">ISC BIND-н Албан ёсны Хуудас</a></p></li><li class="listitem"><p><a class="link" href="https://www.isc.org/software/guild" target="_top">ISC BIND-н Албан ёсны Хэлэлцүүлэг</a></p></li><li class="listitem"><p><a class="link" href="http://www.root-dnssec.org/documentation/" target="_top">Root
            <acronym class="acronym">DNSSEC</acronym></a></p></li><li class="listitem"><p><a class="link" href="http://www.oreilly.com/catalog/dns5/" target="_top">O'Reilly
	      "DNS ба BIND" 5 дахь Хэвлэлт</a></p></li><li class="listitem"><p><a class="link" href="http://data.iana.org/root-anchors/draft-icann-dnssec-trust-anchor.html" target="_top">
	      <acronym class="acronym">DNSSEC</acronym>Эх бүсэд зориулсан итгэмжит анкор зарлалт
	      (Trust Anchor Publication for the Root Zone)</a></p></li><li class="listitem"><p><a class="link" href="http://tools.ietf.org/html/rfc1034" target="_top">RFC1034
	      - Домэйн Нэрүүд - Зарчмууд болон Боломжууд</a></p></li><li class="listitem"><p><a class="link" href="http://tools.ietf.org/html/rfc1035" target="_top">RFC1035
	      - Домэйн Нэрүүд - Хэрэгжүүлэлт болон Үзүүлэлтүүд</a></p></li><li class="listitem"><p><a class="link" href="http://tools.ietf.org/html/rfc4033" target="_top">RFC4033
	    - DNS-н аюулгүй байдлын танилцуулга ба шаардлагууд</a></p></li><li class="listitem"><p><a class="link" href="http://tools.ietf.org/html/rfc4034" target="_top">RFC4034
        - DNS-н аюулгүй байдлын өргөтгөлүүдэд зориулсан Resource Records буюу
	      Нөөцийн Бичлэгүүд</a></p></li><li class="listitem"><p><a class="link" href="http://tools.ietf.org/html/rfc4035" target="_top">RFC4035
	    - DNS-н аюулгүй байдлын өргөтгөлүүдэд зориулсан протоколын
	      өөрчлөлтүүд</a></p></li><li class="listitem"><p><a class="link" href="http://tools.ietf.org/html/rfc4641" target="_top">RFC4641
	    - DNSSEC ажиллуулах практикууд</a></p></li><li class="listitem"><p><a class="link" href="http://tools.ietf.org/html/rfc5011" target="_top">RFC 5011
 	    - DNS-н аюулгүй байдлын автомат шинэчлэлтүүд (<acronym class="acronym">DNSSEC</acronym>
 	    Trust Anchors</a></p></li></ul></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="network-dhcp.html">Өмнөх</a> </td><td width="20%" align="center"><a accesskey="u" href="network-servers.html">Дээш</a></td><td width="40%" align="right"> <a accesskey="n" href="network-apache.html">Дараах</a></td></tr><tr><td width="40%" align="left" valign="top">30.5. Автомат Сүлжээний Тохиргоо (DHCP) </td><td width="20%" align="center"><a accesskey="h" href="index.html">Эхлэл</a></td><td width="40%" align="right" valign="top"> 30.7. Apache HTTP Сервер</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Энэ болон бусад баримтуудыг
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>
    хаягаас татаж авч болно.</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>FreeBSD-ийн талаар
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;
    хаягтай холбоо барихаасаа өмнө
    <a href="http://www.FreeBSD.org/docs.html">баримтыг</a> уншина уу.<br></br>
    Энэ бичиг баримттай холбоотой асуулт байвал
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;
    хаягаар цахим захидал явуулна уу.<br></br>
    Энэ бичиг баримтын орчуулгатай холбоотой асуулт байвал
    &lt;<a href="mailto:admin@mnbsd.org">admin@mnbsd.org</a>&gt;
    хаягаар цахим захидал явуулна уу.</small></p></body></html>