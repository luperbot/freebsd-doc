<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>14.7. Хэрэглэгчдэд хязгаарлалт хийх</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD гарын авлага" /><link rel="up" href="users.html" title="Бүлэг 14. Хэрэглэгчид ба үндсэн бүртгэл зохицуулалт" /><link rel="prev" href="users-modifying.html" title="14.6. Бүртгэлд өөрчлөлт хийх" /><link rel="next" href="users-groups.html" title="14.8. Бүлэг" /><link rel="copyright" href="legalnotice.html" title="Хуулийн заалт" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">14.7. Хэрэглэгчдэд хязгаарлалт хийх</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="users-modifying.html">Өмнөх</a> </td><th width="60%" align="center">Бүлэг 14. Хэрэглэгчид ба үндсэн бүртгэл зохицуулалт</th><td width="20%" align="right"> <a accesskey="n" href="users-groups.html">Дараах</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="users-limiting"></a>14.7. Хэрэглэгчдэд хязгаарлалт хийх</h2></div></div></div><a id="idp78789200" class="indexterm"></a><a id="idp78789712" class="indexterm"></a><p>FreeBSD нь хэрэглэгчдийн систем хэрэглэх
	боломжийг нь хязгаарлах боломжтой байдаг. Эдгээр хязгаарлалт нь хоёр хэсэгт
	хуваагддаг: дискний хуваарилалт, тэгээд бусад нөөцийн хязгаарлалтууд.</p><a id="idp78791376" class="indexterm"></a><a id="idp78791888" class="indexterm"></a><a id="idp78793040" class="indexterm"></a><p>Дискийн хуваарилалт нь хэрэглэгчийн диск хэрэглэх хэмжээг
	зааглаж өгдөг бөгөөд тухай бүрд уг хэмжээг тооцож бодолгүй
	шуурхай шалгах боломж өгдөг. Хуваарилалт нь <a class="xref" href="quotas.html" title="19.15. Файлын системийн ноогдлууд">Хэсэг 19.15, «Файлын системийн ноогдлууд»</a> бүлэгт авч хэлэлцэгдсэн.</p><p>Бусад нөөцийн хязгаарлалтуудад Процессор,
	санах ойн хэмжээ болон бусад хэрэглэгчийн хэрэглэх нөөцүүд
	ордог. Эдгээр нь нэвтрэх ангилал ашиглаж заагдаж өгдөг бөгөөд
	энд одоо ярих болно.</p><a id="idp78794704" class="indexterm"></a><p>Нэвтрэх ангилал нь <code class="filename">/etc/login.conf</code>-д
	заагдсан байгаа. Нарийвчилсан ойлголт энэ бүлэгт ороогүй,
	гэхдээ <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=login.conf&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">login.conf</span>(5)</span></a> гарын авлагад тодорхой бичигдсэн
	байгаа. Хэрэглэгч бүрд нэвтрэх ангилал заагдсан байдаг гэж
	хэлэхэд хангалттай (анхдагч утга нь <code class="literal">default</code>),
	бөгөөд нэвтрэх ангилал бүр өөртөө тодорхой нэвтрэх чанаруудыг 		
	агуулсан байдаг. Нэвтрэх чанар гэдэг нь
      <code class="literal">нэр=утга</code> 
      гэсэн хослол бөгөөд үүний <em class="replaceable"><code>нэр</code></em> нь бидний мэдэх 
      хэрэглэгчийн нэр ба <em class="replaceable"><code>утга</code></em> нь 
      <em class="replaceable"><code>нэр</code></em>тэй хамаатай боловсруулагдсан мөр байдаг.
	Нэвтрэх ангилал ба чанарыг тохируулах нь харьцангуй
	амархан бөгөөд мөн <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=login.conf&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">login.conf</span>(5)</span></a> дотор тодорхой
	бичигдсэн.</p><div xmlns="" class="note"><h3 class="admontitle">Тэмдэглэл: </h3><p xmlns="http://www.w3.org/1999/xhtml">FreeBSD ердийн үед шууд
	<code class="filename">/etc/login.conf</code> файлыг уншдаггүй, харин
	түргэн хайж харахад илүүгээр нь <code class="filename">/etc/login.conf.db</code>
	өгөгдлийн бааз файлыг уншдаг.
	<code class="filename">/etc/login.conf</code>-д засвар хийх бүртээ 
	<code class="filename">/etc/login.conf.db</code> файлыг шинэчлэх ёстой бөгөөд ингэхийн тулд дараах тушаалыг
	гүйцэтгэх хэрэгтэй:</p><pre xmlns="http://www.w3.org/1999/xhtml" class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cap_mkdb /etc/login.conf</code></strong></pre></div><p>Нөөцийн хязгаарлалт нь энгийн нэвтрэх чанараас хоёр замаар
		ялгардаг. Эхнийх нь, хязгаарлалт бүр зөөлөн (одоогийн) ба хатуу
	хязгаарлалт гэж байдаг. Зөөлөн хязгаарлалт нь хэрэглэгчээр юм уу
	програмаар тохируулагдаж болдог бөгөөд хатуу хязгаарлалтаас
	дээгүүр биш. Харин хатуу хязгаарлалт нь хэрэглэгчээр доошоо
	тохируулагдаж болох боловч хэзээ ч дээшлэгдэж чадахгүй. Хоёр
	дахь нь, ихэнх нөөцийн хязгаарлалт нь тусгай хэрэглэгчдийн
	процесс дээр хэрэгжигдэх бөгөөд харин хэрэглэгч дээр бүхлээрээ
	хэрэгжигдэхгүй.
      Тэмдэглэж хэлэхэд, хэдийгээр эдгээр ялгаанууд нь онцгой
	хязгаарлалт хийх	үед голлох боловч нэвтрэх чанарын
	үндсэн хүрээнд хэрэгжигдэхгүй. (өөрөөр хэлбэл, эдгээр нь
	<span class="emphasis"><em>үнэхээр</em></span> онцгой нэвтрэх чанарын тохиолдол биш).</p><p>Тэгэхээр, элдвийг нуршилгүйгээр, энгийн байнга хэрэглэгддэг
	нөөцийн хязгаарлалтуудыг доор жагсаав (үлдсэн хязгаарлалтуудыг
	мөн тэдгээрийн нэвтрэх чанаруудыг нь <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=login.conf&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">login.conf</span>(5)</span></a>-с харна уу).</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">coredumpsize</code></span></dt><dd><a id="idp78806608" class="indexterm"></a><a id="idp78807120" class="indexterm"></a><p>Програмаар үүсгэгдсэн core файлын хэмжээний хязгаар нь
	 мэдээж дискний хэрэглэх хязгаарт багтана. (<code class="literal">файлын хэмжээ</code>, эсвэл диск хуваарилалт г.м).
	  Тэгсэн хэдий ч, энэ нь дискний хэрэглэх хэмжээг хянахад
	  хэрэглэгддэг нэг их чухал биш тохируулга: core файлыг
	  хэрэглэгчид өөрсдөө үүсгэдэггүй бөгөөд тэдгээрийг дандаа
	  устгаад байдаггүй учир үүгээр тохируулсан үед том програм 
	  (жишээ нь, <span class="application">emacs</span>) ажиллахдаа 
	  core файл үүсч диск дүүрэхээс сэргийлж болох юм.
	 </p></dd><dt><span class="term"><code class="literal">cputime</code></span></dt><dd><a id="idp78819024" class="indexterm"></a><a id="idp78819536" class="indexterm"></a><p>Энэ нь хэрэглэгчийн процесс хэрэглэж болох хамгийн
	их процессорын давтамж юм. Хэтрүүлж хэрэглэсэн процесс цөмөөс устгагддаг.</p><div xmlns="" class="note"><h3 class="admontitle">Тэмдэглэл: </h3><p xmlns="http://www.w3.org/1999/xhtml">Энэ нь процессорын <span class="emphasis"><em>давтамж</em></span>
	     дээр тавигдсан хэрэглээний хязгаар бөгөөд <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=top&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">top</span>(1)</span></a> ба 
	     <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ps&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ps</span>(1)</span></a>-н зарим талбарт харагддаг процессорын хувийг заасан заалт биш.</p></div></dd><dt><span class="term"><code class="literal">filesize</code></span></dt><dd><a id="idp78825168" class="indexterm"></a><a id="idp78825680" class="indexterm"></a><p>Энэ хэмжээ нь хэрэглэгчийн хэрэглэж болох хамгийн
		их файлын хэмжээ.
	    <a class="link" href="quotas.html" title="19.15. Файлын системийн ноогдлууд">диск хуваарилалтаас</a> ялгаатай
	    нь, энэ хязгаарлалт нь файл бүрд тавигддаг бөгөөд
	    хэрэглэгчийн эзэмшдэг бүх файлд биш.</p></dd><dt><span class="term"><code class="literal">maxproc</code></span></dt><dd><a id="idp78829008" class="indexterm"></a><a id="idp78829520" class="indexterm"></a><p>Энэ нь хэрэглэгчийн ажиллуулж болох хамгийн их
		процессийн тоо юм. Үүнд нүүрэн талын болон ар талын
		процессууд багтана. Мэдээж, энэ нь <code class="varname">kern.maxproc</code>-д заагдсан <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sysctl&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sysctl</span>(8)</span></a> системийн хязгаараас хэтэрч болохгүй.
	    Мөн тэмдэглэж хэлэхэд, үүнийг хэтэрхий багаар тохируулбал
	    хэрэглэгчийн олон дахин нэвтэрч орох, дамжуулах хоолой ашиглах
 			зэрэг бүтээмжид нөлөөлөх болно. Том програмыг хөрвүүлэх
		гэх мэт зарим гүйцэтгэл нь мөн олон процесс шаарддаг.</p></dd><dt><span class="term"><code class="literal">memorylocked</code></span></dt><dd><a id="idp78841808" class="indexterm"></a><a id="idp78842320" class="indexterm"></a><p>Энэ нь ямар нэг процесс санах ойд <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mlock&amp;sektion=2"><span class="citerefentry"><span class="refentrytitle">mlock</span>(2)</span></a> ашиглан түгжсэн 
	  санамж шаардах үед хязгаарлах хамгийн их санах ойн хэмжээ юм.
	    Зарим <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=amd&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">amd</span>(8)</span></a> гэх мэт
	    системийн ноцтой програмууд нь үндсэн санах ойг түгждэг
	    бөгөөд swap хийх үед системийн
	  зохицуулалтанд тусалдаггүй. </p></dd><dt><span class="term"><code class="literal">memoryuse</code></span></dt><dd><a id="idp78846672" class="indexterm"></a><a id="idp78847184" class="indexterm"></a><p>Энэ нь ямар нэг процесс ямар ч үед хэрэглэж болох хамгийн их
	  санах ойн хэмжээ. Энэ нь үндсэн санах ой болон swap зай
 		  хоёуланд хамаатай. Санах ойн хязгаарлалт бүгдийг нь 
	  хийдэггүй ч эндээс эхлэх нь зөв эхлэлд тооцогдоно.</p></dd><dt><span class="term"><code class="literal">openfiles</code></span></dt><dd><a id="idp78854224" class="indexterm"></a><a id="idp78854736" class="indexterm"></a><p>Энэ нь процессийн нээж болох файлуудын хамгийн их
	хэмжээ. FreeBSD дээр сокет, мөн IPC сувгууд нь файл
	хэлбэрээр хэрэглэгддэг болохоор үүнийг маш багаар тохируулахаа 	тун болгоомжлох хэрэгтэй. Систем даяар хязгаарлахын тулд
	    <code class="varname">kern.maxfiles</code>-д зааж өгнө <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sysctl&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sysctl</span>(8)</span></a>.</p></dd><dt><span class="term"><code class="literal">sbsize</code></span></dt><dd><a id="idp78858704" class="indexterm"></a><a id="idp78859216" class="indexterm"></a><p>Энэ нь сүлжээнд хэрэглэгдэх санах ойн хязгаар буюу
	    хэрэглэгчийн хэрэглэж болох mbufs юм. Энэ нь сүлжээний
	  холболтыг хязгаарлахад ерөнхийдөө хэрэглэгдэж болно.</p></dd><dt><span class="term"><code class="literal">stacksize</code></span></dt><dd><a id="idp78890832" class="indexterm"></a><a id="idp78891344" class="indexterm"></a><p>Энэ нь процессийн хэрэглэх стек санах ойн ихсэж
	    болох хамгийн их хэмжээ. Энэ нь програмын хэрэглэж болох санах
	    ойн хэмжээг хязгаарлахад хангалттай биш. Голдуу бусад
	   хязгаарлалтуудтай хамтарч хэрэглэгдэх хэрэгтэй.</p></dd></dl></div><p>Нөөцийн хязгаарлалтыг тохируулж байхдаа бусад зарим зүйлсийг
	санаж байх хэрэг байдаг. Зарим энгийн зөвлөгөө, санал мөн
	төрөл бүрийн тайлбаруудыг доор жагсаав.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Систем эхлэх үед <code class="filename">/etc/rc</code>-с
	 ажилладаг процессууд нь
          <code class="literal">дэмон</code> нэвтрэх төрөлд багтдаг.</p></li><li class="listitem"><p>Хэдийгээр ихэнх хязгаарлалтуудыг агуулсан 
<code class="filename">/etc/login.conf</code> файл системтэй цуг ирдэг ч гэсэн зөвхөн систем
	удирдагч та л таны системд ямар нь хамаатайг мэднэ. Тохируулгыг
	хэт их болговол системээ буруу хэрэглэгчдэд нээж өгөх бөгөөд хэрэв
	хэт багаар тохируулбал бүтээмжид хэт нарийдна. </p></li><li class="listitem"><p><span class="application">Xorg</span> хэрэглэгчид бусад хэрэглэгчдийг
	бодвол илүү их нөөцөөр хангагдах хэрэгтэй.  <span class="application">Xorg</span> нь өөрөө
	маш их нөөц авдаг бөгөөд бас хэрэглэгчдэд олон програмыг зэрэг
	ажиллуулах боломж өгдөг.</p></li><li class="listitem"><p>Маш олон хязгаарлалт нь хэрэглэгч дээр бүхэлд нь биш харин
 	     нэгж процессууд дээр тавигддаг гэдгийг санах хэрэгтэй. Жишээлбэл,
	  <code class="varname">openfiles</code> тохируулгыг 50 гэвэл, энэ нь
	  хэрэглэгчийн ажиллуулж буй процесс болгон  50 файл нээж болно
	  гэсэн үг.  Тийм болохоор, хэрэглэгчийн нээж болох файлуудын
	  нийт хэмжээ нь <code class="literal">openfiles</code>-н утгыг
            <code class="literal">maxproc</code>-н утгаар үржүүлж гарна. Энэ нь мөн санах
	ойн хэрэглээнд бас хэрэгжинэ.</p></li></ul></div><p>Нөөцийн хязгаарлалт ба нэвтрэх ангилал, мөн ерөнхий нэвтрэх чанаруудын тухай нэмэлт мэдээллийг харгалзах гарын авлага:
      <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=cap_mkdb&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">cap_mkdb</span>(1)</span></a>, <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=getrlimit&amp;sektion=2"><span class="citerefentry"><span class="refentrytitle">getrlimit</span>(2)</span></a>, <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=login.conf&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">login.conf</span>(5)</span></a> нараас харна уу.</p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="users-modifying.html">Өмнөх</a> </td><td width="20%" align="center"><a accesskey="u" href="users.html">Дээш</a></td><td width="40%" align="right"> <a accesskey="n" href="users-groups.html">Дараах</a></td></tr><tr><td width="40%" align="left" valign="top">14.6. Бүртгэлд өөрчлөлт хийх </td><td width="20%" align="center"><a accesskey="h" href="index.html">Эхлэл</a></td><td width="40%" align="right" valign="top"> 14.8. Бүлэг</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Энэ болон бусад баримтуудыг
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>
    хаягаас татаж авч болно.</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>FreeBSD-ийн талаар
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;
    хаягтай холбоо барихаасаа өмнө
    <a href="http://www.FreeBSD.org/docs.html">баримтыг</a> уншина уу.<br></br>
    Энэ бичиг баримттай холбоотой асуулт байвал
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;
    хаягаар цахим захидал явуулна уу.<br></br>
    Энэ бичиг баримтын орчуулгатай холбоотой асуулт байвал
    &lt;<a href="mailto:admin@mnbsd.org">admin@mnbsd.org</a>&gt;
    хаягаар цахим захидал явуулна уу.</small></p></body></html>