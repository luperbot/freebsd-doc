<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>28.4. PPP холболтуудын алдааг олж засварлах</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD гарын авлага" /><link rel="up" href="ppp-and-slip.html" title="Бүлэг 28. PPP болон SLIP" /><link rel="prev" href="ppp.html" title="28.3. Цөмийн PPP-г ашиглах" /><link rel="next" href="pppoe.html" title="28.5. Ethernet дээгүүр PPP ашиглах нь (PPPoE)" /><link rel="copyright" href="legalnotice.html" title="Хуулийн заалт" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">28.4. <acronym class="acronym">PPP</acronym> холболтуудын алдааг олж засварлах</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ppp.html">Өмнөх</a> </td><th width="60%" align="center">Бүлэг 28. PPP болон SLIP</th><td width="20%" align="right"> <a accesskey="n" href="pppoe.html">Дараах</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="ppp-troubleshoot"></a>28.4. <acronym class="acronym">PPP</acronym> холболтуудын алдааг олж засварлах</h2></div><div><span class="authorgroup">Хувь нэмэр болгон оруулсан <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Том</span> <span class="surname">Рөүдс</span></span>. </span></div></div></div><a id="idp88324816" class="indexterm"></a><p>Энэ хэсэг нь PPP-г модемийн холболтоор ашиглах үед гарч болох
	цөөн асуудлуудыг хамрах болно. Жишээ нь магадгүй танд
	залгаж холбогдох гэж байгаа систем чинь яг ямар хүлээх мөрүүдийг үзүүлэхийг
	мэдэх шаардлагатай байж болох юм. Зарим <acronym class="acronym">ISP</acronym>-ууд
	<code class="literal">ssword</code> хүлээх мөрийг үзүүлдэг бол зарим нь
	<code class="literal">password</code> гэж үзүүлэх болно; хэрэв
	<code class="command">ppp</code> скрипт нь түүний дагуу бичигдээгүй бол
	нэвтрэх оролдлого амжилтгүй болох болно. <code class="command">ppp</code>
	холболтуудыг дибаг хийх хамгийн түгээмэл арга бол гараар холбогдох
	явдал юм. Дараах мэдээлэл нь алхам алхмаар гар холболтыг танд тайлбарлах
	болно.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88336208"></a>28.4.1. Төхөөрөмжийн цэгүүдийг шалгана</h3></div></div></div><p>Хэрэв өөрчлөн тохируулсан цөм ашиглаж байгаа бол дараах
	мөрийг өөрийн цөмийн тохиргооны файлдаа нэмсэн эсэхээ шалгаарай:</p><pre class="programlisting">device   uart</pre><p><code class="filename">uart</code> төхөөрөмж <code class="literal">GENERIC</code>
	цөмд аль хэдийн орсон байдаг учир энэ тохиолдолд нэмэлт алхмууд
	хэрэггүй юм. Модем төхөөрөмжийн хувьд <code class="command">dmesg</code>
	гаралтыг шалгаарай:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>dmesg | grep uart</code></strong></pre><p>Та <code class="filename">uart</code> төхөөрөмжүүдийн
	талаар тохирох мэдээллүүдийг авах ёстой. Эдгээр нь бидэнд
	хэрэгтэй COM портууд юм. Хэрэв таны модем стандарт цуваа
	порт шиг ажиллаж байвал та түүнийг <code class="filename">uart1</code>,
	эсвэл <code class="filename">COM2</code> дээр жагсаагдсан
	байхыг харах ёстой. Хэрэв тийм бол та цөмийг дахин бүтээх шаардлагагүй
	юм. sio модем <code class="filename">uart1</code> дээр
	эсвэл хэрэв та DOS дээр байгаа бол <code class="filename">COM2</code> дээр
	таарч байвал таны модемийн төхөөрөмж
	<code class="filename">/dev/cuau1</code> байх болно.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88342736"></a>28.4.2. Гараар холбогдох нь</h3></div></div></div><p>Гараар <code class="command">ppp</code>-г хянаж Интернэтэд холбогдох нь
	холболтыг дибаг хийх юм уу эсвэл ердөө л таны
	<acronym class="acronym">ISP</acronym> чинь <code class="command">ppp</code>
	клиент холболтуудад хэрхэн ханддаг талаар мэдээлэл авахад
	хурдан, хялбар, агуу арга байдаг. Тушаалын мөрөөс <span class="application">PPP</span>-г
	эхлүүлье. Бидний бүх жишээнүүд дээр бид <span class="application">PPP</span>
	ажиллуулж байгаа машины хостын нэрийг <span class="emphasis"><em>example</em></span>
	гэж авч ашиглах болно. Та <code class="command">ppp</code>-г
	<code class="command">ppp</code> гэж бичин эхлүүлнэ:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ppp</code></strong></pre><p>Бид одоо <code class="command">ppp</code>-г эхлүүллээ.</p><pre class="screen">ppp ON example&gt; <strong class="userinput"><code>set device /dev/cuau1</code></strong></pre><p>Бид өөрсдийн модемний төхөөрөмжийг тохируулна. Энэ тохиолдолд
	<code class="filename">cuau1</code> болно.</p><pre class="screen">ppp ON example&gt; <strong class="userinput"><code>set speed 115200</code></strong></pre><p>Холболтын хурдыг тохируулна. Энэ тохиолдолд бид
	115,200 <acronym class="acronym">kbps</acronym>-г ашиглаж байна.</p><pre class="screen">ppp ON example&gt; <strong class="userinput"><code>enable dns</code></strong></pre><p>Бидний нэр танигчийг тохируулж <code class="filename">/etc/resolv.conf</code>
	файлд нэрийн серверүүдийн мөрүүдийг нэмэхийг <code class="command">ppp</code>-д
	хэлнэ. <code class="command">ppp</code> бидний хостын нэрийг тодорхойлж
	чадахгүй байгаа бол бид дараа нь гараараа тохируулж өгч болно.</p><pre class="screen">ppp ON example&gt; <strong class="userinput"><code>term</code></strong></pre><p>Модемийг гараар хянаж чадаж байхын тулд <span class="quote">«<span class="quote">Терминал</span>»</span>
	горимд шилжих хэрэгтэй.</p><pre class="programlisting">deflink: Entering terminal mode on <code class="filename">/dev/cuau1</code>
type '~h' for help</pre><pre class="screen"><strong class="userinput"><code>at</code></strong>
OK
<strong class="userinput"><code>atdt123456789</code></strong></pre><p>Модемийг эхлүүлэхийн тулд <code class="command">at</code>-г ашиглаж
	дараа нь <code class="command">atdt</code> дээр өөрийн <acronym class="acronym">ISP</acronym>-ийн
	дугаараа нэмээд  залгах процессоо эхлэх хэрэгтэй.</p><pre class="screen">CONNECT</pre><p>Холболтын баталгаа гарах ёстой, хэрэв бид тоног төхөөрөмжтэй холбоогүй ямар нэг холболтын
	асуудлуудтай байх бол энд бид тэдгээрийг шийдэхийг оролдох болно.</p><pre class="screen">ISP Login:<strong class="userinput"><code>myusername</code></strong></pre><p>Энд танаас хэрэглэгчийн нэрийг асуух болно, <acronym class="acronym">ISP</acronym>-ээс
	өгсөн хэрэглэгчийн нэрийг оруулаад буцахыг дарна.</p><pre class="screen">ISP Pass:<strong class="userinput"><code>mypassword</code></strong></pre><p>Энэ удаад нууц үгийг асуух болно, <acronym class="acronym">ISP</acronym>-ээс
	өгсөн нууц үгээр хариулах хэрэгтэй. Яг л FreeBSD уруу нэвтрэн ордог
	шиг нууц үг нь буцаж дэлгэцэд харагдахгүй.</p><pre class="screen">Shell or PPP:<strong class="userinput"><code>ppp</code></strong></pre><p>Таны <acronym class="acronym">ISP</acronym>-ээс хамаараад энэ хүлээх
	мөр нь хэзээ ч гарахгүй байж болох юм. Энд биднээс үйлчилгээ үзүүлэгч
	дээр бүрхүүл ашиглах эсэх эсвэл <code class="command">ppp</code>
	эхлүүлэх эсэхийг асуудаг. Энэ жишээн дээр бид Интернэт холболтыг
	хүсэж байгаа болохоор <code class="command">ppp</code>-г ашиглахаар
	сонгосон.</p><pre class="screen">Ppp ON example&gt;</pre><p>Энэ жишээн дээр эхний <code class="option">p</code> тохируулга
	томоор бичигдсэнийг хараарай. Энэ нь бид <acronym class="acronym">ISP</acronym>-д
	амжилттайгаар холбогдсоныг харуулж байна.</p><pre class="screen">PPp ON example&gt;</pre><p>Бид <acronym class="acronym">ISP</acronym>-д амжилттайгаар
	өөрсдийгөө таниулан нэвтэрч заагдсан <acronym class="acronym">IP</acronym>
	хаягийг хүлээж байна.</p><pre class="screen">PPP ON example&gt;</pre><p>Бид <acronym class="acronym">IP</acronym> хаяг дээрээ зөвшилцөж холболтоо
	амжилттайгаар хийж дуусгалаа.</p><pre class="screen">PPP ON example&gt;<strong class="userinput"><code>add default HISADDR</code></strong></pre><p>Энд бид өөрсдийн анхдагч чиглүүлэлтээ нэмж байна. Бид үүнийг
	гаднах ертөнцтэй ярьж эхлэхээсээ өмнө хийх ёстой бөгөөд одоогоор
	зөвхөн хийгдсэн холболт нь нөгөө талтайгаа хийгдсэн холболт байгаа
	болно. Хэрэв энэ нь байгаа чиглүүлэлтүүдээсээ болоод амжилтгүй
	болбол та <code class="option">add</code> тохируулгын өмнө
	анхаарлын тэмдэг <code class="literal">!</code> тавьж болно.
	Өөрөөр та үүнийг жинхэнэ холболт хийхээсээ өмнө тохируулж болох
	бөгөөд энэ нь шинэ чиглүүлэлтийг зохих ёсоор тохиролцоно.</p><p>Хэрэв бүх зүйл сайн болж өнгөрсөн бол бид одоо идэвхтэй Интернэтийн
	холболттой болсон байх бөгөөд үүнийг ар талд <span class="keycap"><strong>CTRL</strong></span>+<span class="keycap"><strong>z</strong></span> хослолоор оруулж болох юм.
	Хэрэв та <code class="command">PPP</code>-г <code class="command">ppp</code>
	болохыг анзаарах юм бол бид өөрсдийн холболтоо алдсан гэсэн үг юм.
	Энэ нь бидний холболтын төлөвийг үзүүлдэг болохоор мэдэхэд илүүдэхгүй
	юм. Том P үсэгнүүд нь бид <acronym class="acronym">ISP</acronym> уруу холболттой
	байгааг үзүүлэх бөгөөд жижиг p үсэгнүүд нь холболт ямар нэг шалтгаанаар
	тасарсныг харуулна. <code class="command">ppp</code> нь зөвхөн эдгээр хоёр
	төлөвтэй байдаг.</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88402128"></a>28.4.2.1. Дибаг хийх нь</h4></div></div></div><p>Хэрэв та шууд шугамтай бөгөөд холболт хийж чадахгүй байгаа юм
	шиг санагдвал <acronym class="acronym">CTS/RTS</acronym> тоног төхөөрөмжийн урсгалыг
	<code class="option">set ctsrts off</code> болгон хаах хэрэгтэй.
	Энэ нь ялангуяа та <span class="application">PPP</span> хийж чаддаг
	терминал серверт холбогдох тохиолдол юм. Энэ тохиолдолд
	<span class="application">PPP</span> нь таны холбооны шугам дээр
	өгөгдлийг бичихээр оролдох үед өлгөгдөж хэзээ ч ирэхгүй байж болох
	<acronym class="acronym">CTS</acronym> юм уу эсвэл Clear To Send буюу Илгээхэд
	Цэвэр дохиог хүлээж байж болох юм. Хэрэв та энэ тохируулгыг ашиглах
	юм бол <code class="option">set accmap</code> тохируулгыг бас хэрэглэх
	шаардлагатай. Энэ тохируулга нь зарим нэг параметрүүдийг, ихэнх тохиолдолд
	XON/XOFF-г төгсгөлөөс төгсгөлд дамжуулахад тоног төхөөрөмжийн хувьд
	хамааралтай байдлыг үгүй хийхийн тулд шаардлагатай байж болох юм.
	Энэ тохируулгын талаар дэлгэрэнгүй мэдээллийг болон хэрхэн ашиглагддаг талаар
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> гарын авлагын хуудаснаас үзнэ үү.</p><p>Хэрэв та хуучин модемтой бол <code class="option">set parity even</code>
	тохируулгыг ашиглах хэрэгтэй болж болох юм. Parity нь анхдагчаар
	none буюу байхгүй гэж тохируулагдсан байдаг боловч хуучин модемууд
	болон <acronym class="acronym">ISP</acronym>-уудад (урсгалын хувьд их хэмжээгээр ихсэхэд)
	алдаа шалгахад хэрэглэгддэг. Compuserve <acronym class="acronym">ISP</acronym>-ийн
	хувьд танд энэ тохируулга хэрэгтэй байж болох юм.</p><p><span class="application">PPP</span> нь тушаалын горимд буцахгүй
	байж болох юм. Энэ нь ихэвчлэн <acronym class="acronym">ISP</acronym> нь танаас харилцан
	тохиролцохыг эхлүүлэхийг хүлээх тохиролцооны алдаа байдаг. Энэ үед
	<code class="command">~p</code> тушаалыг ашиглах нь ppp-г тохиргооны мэдээллээ
	илгээж эхлэхэд хүргэх болно.</p><p>Хэрэв та нэвтрэлт хүлээх мөрийг хэзээ ч авахгүй байгаа бол та магадгүй
	дээрх жишээн дээрх <span class="trademark">UNIX</span>® загварын нэвтрэлт танилтын оронд <acronym class="acronym">PAP</acronym>
	юм уу эсвэл <acronym class="acronym">CHAP</acronym> нэвтрэлт танилтыг ашиглах
	хэрэгтэй байж болох юм. <acronym class="acronym">PAP</acronym> эсвэл <acronym class="acronym">CHAP</acronym>-г
	ашиглахын тулд ердөө л дараах тохируулгуудыг <span class="application">PPP</span>-д
	терминал горим уруу орохоос өмнө нэмэх хэрэгтэй:</p><pre class="screen">ppp ON example&gt; <strong class="userinput"><code>set authname myusername</code></strong></pre><p>Дээр байгаа <em class="replaceable"><code>myusername</code></em>-г
	<acronym class="acronym">ISP</acronym>-с өгөгдсөн хэрэглэгчийн нэрээр солих
	шаардлагатай.</p><pre class="screen">ppp ON example&gt; <strong class="userinput"><code>set authkey mypassword</code></strong></pre><p>Дээр байгаа <em class="replaceable"><code>mypassword</code></em>-г
	<acronym class="acronym">ISP</acronym>-с өгөгдсөн нууц үгээр солих
	шаардлагатай.</p><p>Хэрэв та зүгээр холбогдсон мөртлөө ямар ч домэйн нэр
	олохгүй байгаа юм шиг байвал <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ping&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ping</span>(8)</span></a> тушаалыг
	<acronym class="acronym">IP</acronym> хаягтай ашиглаж ямар нэг мэдээлэл буцаж
	ирж байгаа эсэхийг шалгах хэрэгтэй. Хэрэв та  100 хувийн (100%)
	пакетийн алдагдалд орж байвал танд бараг л анхдагч чиглүүлэлт заагдаагүй
	байгаа гэсэн үг юм. Холболтын үеэр
	<code class="option">add default HISADDR</code> тохируулга тохируулагдсан
	эсэхийг давхар шалгаарай. Хэрэв та алсын <acronym class="acronym">IP</acronym>
	хаяг уруу холбогдож чадаж байвал нэр танигчийн хаяг <code class="filename">/etc/resolv.conf</code>
	файлд нэмэгдээгүй байх магадлалтай юм. Энэ файл нь иймэрхүү
	харагдах ёстой:</p><pre class="programlisting">domain <em class="replaceable"><code>example.com</code></em>
nameserver <em class="replaceable"><code>x.x.x.x</code></em>
nameserver <em class="replaceable"><code>y.y.y.y</code></em></pre><p>Дээр байгаа <em class="replaceable"><code>x.x.x.x</code></em> болон
	  <em class="replaceable"><code>y.y.y.y</code></em> нь таны
	<acronym class="acronym">ISP</acronym>-ийн DNS серверүүдийн
	<acronym class="acronym">IP</acronym> хаягаар солигдох ёстой. Таныг үйлчилгээнд
	эхэлж бүртгүүлэхэд энэ мэдээлэл өгөгдсөн юм уу эсвэл өгөгдөөгүй байж болох
	бөгөөд өөрийн <acronym class="acronym">ISP</acronym> уруугаа хурдхан утасдаж
	энэ мэдээллийг мэдэж болох юм.</p><p>Та өөрийн <span class="application">PPP</span> холболтондоо
	зориулж <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=syslog&amp;sektion=3"><span class="citerefentry"><span class="refentrytitle">syslog</span>(3)</span></a>-г бүртгэл бичихээр болгож болно.
	  Дараах:</p><pre class="programlisting">!ppp
*.*     /var/log/ppp.log</pre><p>мөрийг <code class="filename">/etc/syslog.conf</code> файлд нэмнэ.
	Ихэнх тохиолдолд энэ боломж аль хэдийн орсон байдаг.</p></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ppp.html">Өмнөх</a> </td><td width="20%" align="center"><a accesskey="u" href="ppp-and-slip.html">Дээш</a></td><td width="40%" align="right"> <a accesskey="n" href="pppoe.html">Дараах</a></td></tr><tr><td width="40%" align="left" valign="top">28.3. Цөмийн PPP-г ашиглах </td><td width="20%" align="center"><a accesskey="h" href="index.html">Эхлэл</a></td><td width="40%" align="right" valign="top"> 28.5. Ethernet дээгүүр PPP ашиглах нь (PPPoE)</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Энэ болон бусад баримтуудыг
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>
    хаягаас татаж авч болно.</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>FreeBSD-ийн талаар
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;
    хаягтай холбоо барихаасаа өмнө
    <a href="http://www.FreeBSD.org/docs.html">баримтыг</a> уншина уу.<br></br>
    Энэ бичиг баримттай холбоотой асуулт байвал
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;
    хаягаар цахим захидал явуулна уу.<br></br>
    Энэ бичиг баримтын орчуулгатай холбоотой асуулт байвал
    &lt;<a href="mailto:admin@mnbsd.org">admin@mnbsd.org</a>&gt;
    хаягаар цахим захидал явуулна уу.</small></p></body></html>