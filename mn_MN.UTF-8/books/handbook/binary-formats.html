<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>4.12. Хоёртын хэлбэрүүд</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD гарын авлага" /><link rel="up" href="basics.html" title="Бүлэг 4. Юниксийн үндэс" /><link rel="prev" href="basics-devices.html" title="4.11. Төхөөрөмж ба төхөөрөмжийн цэгүүд" /><link rel="next" href="basics-more-information.html" title="4.13. Нэмэлт мэдээлэл олж авах нь" /><link rel="copyright" href="legalnotice.html" title="Хуулийн заалт" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">4.12. Хоёртын хэлбэрүүд</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="basics-devices.html">Өмнөх</a> </td><th width="60%" align="center">Бүлэг 4. Юниксийн үндэс</th><td width="20%" align="right"> <a accesskey="n" href="basics-more-information.html">Дараах</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="binary-formats"></a>4.12. Хоёртын хэлбэрүүд</h2></div></div></div><p>FreeBSD яагаад <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=elf&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">elf</span>(5)</span></a> хэлбэр хэрэглэдгийг ойлгохын тулд, та
      ачаалагдаж ажилладаг файлын төрлөөс <span class="trademark">UNIX</span>® дээр <span class="quote">«<span class="quote">ноёлдог</span>»</span>  гурван
    хэлбэрийг мэдэх ёстой:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=a.out&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">a.out</span>(5)</span></a></p><p><span class="trademark">UNIX</span>®-н хамгийн хуучин бөгөөд <span class="quote">«<span class="quote">сонгодог</span>»</span>
          ачаалагддаг файлын хэлбэр.  Энэ нь эхэн хэсэгтээ өөрийнхөө
          хэлбэрийг таниулах зориулалттай шидэт дугаар агуулж байдаг
          (<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=a.out&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">a.out</span>(5)</span></a> хуудаснаас дэлгэрэнгүй мэдээлэл авна уу).
          Ачаалагдсан үедээ санах ойд гурван хэсэгт хуваагддаг:
          .text, .data, мөн .bss бөгөөд дээрээс нь хэрэглэгдэх
          обьектуудыг агуулсан хүснэгт мөн мөрийн хүснэгтийг агуулж байдаг.</p></li><li class="listitem"><p><acronym class="acronym">COFF</acronym></p><p>SVR3 обьект хэлбэр. Толгой хэсэгтээ тодорхой зориулалттай
          хүснэгт агуулж байдаг. Тийм болохоор зөвхөн .text, .data,
          болон .bss хэсгүүдээс гадна нэмэлт зүйлс агуулж чадна.</p></li><li class="listitem"><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=elf&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">elf</span>(5)</span></a></p><p><acronym class="acronym">COFF</acronym>-н дараагийн үе. Энэ нь
          олон хэсэг агуулахаас гадна 32-бит эсвэл 64-битийн утга агуулах
          чадвартай. Нэг муу тал бий: <acronym class="acronym">ELF</acronym> нь тухайн системийн
          архитектурт зөвхөн ганцхан  ABI байгаа гэж авч үздэг.
          SYSV ертөнц (хамгийн багадаа гурван ABI агуулж байдаг: SVR4, Solaris, SCO)
          байсаар байхад ингэж авч үзэх нь буруу юм.</p><p>
          FreeBSD нь энэ хүндрэлийг, ABI-н мэдээлэл агуулсан
          ачаалагддаг <acronym class="acronym">ELF</acronym> файлуудыг зохицуулдаг
          <span class="emphasis"><em>branding</em></span>  хэрэгслийг ашиглаж сайжруулахыг боддог.
          Нэмэлт мэдээллийг
          <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=brandelf&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">brandelf</span>(1)</span></a> хуудаснаас харна уу.</p></li></ul></div><p>FreeBSD нь хуучны <span class="quote">«<span class="quote">сонгодог</span>»</span> отгоос салбарлаж гарсан тул
      <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=a.out&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">a.out</span>(5)</span></a> хэлбэрийг хэрэглэж байсан бөгөөд энэ хэлбэрээ 3.X салбар
      гарах хүртэл маш олон BSD хувилбартаа ашиглаж байжээ.
      Хэдийгээр FreeBSD дээр өмнө нь  <acronym class="acronym">ELF</acronym> хоёртын хэлбэрийг
      хөрвүүлж мөн ажиллуулж (цөм дээр ч гэсэн) болдог байсан ч,
      FreeBSD нь анхнаасаа <acronym class="acronym">ELF</acronym> хэлбэрийг анхдагч хэлбэрээ
      болгохыг <span class="quote">«<span class="quote">татгалзсан</span>»</span> билээ. Яагаад?  Учир нь,
      Линукс систем нь хуваалцдаг кодын сан буюу <span class="quote">«<span class="quote">Shared-Libraries</span>»</span>
      -д зориулсан үсэрч ажилладаг хүснэгт, мөн түүнийг
      хөгжүүлэгчид болон байгууллагад хүндрэлтэй байдаг шалтгаанаар
      <code class="filename">a.out</code> хэлбэрээс зайлсхийж <acronym class="acronym">ELF</acronym>
      хэлбэр рүү шилжих гэж нүсэр хүнд хөдөлмөр зарсан юм.
      <acronym class="acronym">ELF</acronym> хэлбэр нь хуваалцдаг кодын сан буюу <span class="quote">«<span class="quote">Shared-Libraries</span>»</span>
      хүндрэлийг давах боломж олгосон хэрэгслүүдийг санал болгосон бөгөөд тэгээд ч хөгжлийн
      явцад <span class="quote">«<span class="quote">нэг алхам урд нь</span>»</span> явж байгааг бодож мөн нэг хэлбэрээс
      нөгөө хэлбэрт шилжүүлэх үйл явцад гарах хүнд зардал байсан ч шилжүүлэхээр шийдсэн юм.

      FreeBSD-н кодын санг хуваалцах зарчим нь Sun-н
      <span class="trademark">SunOS</span>™ загвартай ижил бөгөөд хэрэглэхэд тун хялбар.</p><p>Тэгэхээр, яагаад ийм олон хэлбэр байдаг юм бэ?</p><p>Энэ асуултанд хариулахын тулд хуучны, энгийн ажиллах зарчимтай төхөөрөмж
      хэрэглэж байсан бүүдгэр өнгөрсөн цаг уруу буцацгаая.
      Энэ энгийн төхөөрөмж нь энгийн жижигхэн систем дээр л ажиллахыг хүснэ.
      <code class="filename">a.out</code> нь (PDP-11) төрлийн иймэрхүү энгийн систем
      дээр бүгдийг нь хангаж байлаа. Хүмүүс <span class="trademark">UNIX</span>® системийг ийм энгийн
      системээс үүсгэсэн болохоор
      хуучны загвар болох Motorola 68k, VAXen зэрэг системтэй зохицохын тулд
      <code class="filename">a.out</code> хэлбэрийг үлдээсэн юм.</p><p>Тэгтэл дараа нь нэг сүрхий инженер хөвүүн,
      зохиогдсон төхөөрөмжийн зарим ажиллах сул талыг нөхөж процессорыг илүү хурдан
      ажиллуулах хөнгөхөн програм бичжээ.
      Энэ програм нь шинэ төрлийн архитектурт (тэр үедээ <acronym class="acronym">RISC</acronym> гэж
      нэрлэгддэг байсан архитектур) зориулан ажиллахаар бичигдсэн болохоор <code class="filename">a.out</code>
      хэлбэр нь энэ төхөөрөмжид тохиромжгүй болон хангахуйц сайн биш болж ирэв.
      Тийм болохоор энэ шинэ төхөөрөмжтэй илүү үр дүнтэй ажиллахын тулд
      илүү олон хэлбэрүүд шинэ загварт зориулж зохиогдож байсан бөгөөд хуучин төрөлд бол
      энгийн <code class="filename">a.out</code> төрлийг санал болгож болох юм.
      <acronym class="acronym">COFF</acronym>, <acronym class="acronym">ECOFF</acronym> мөн өөр илүү хэд хэдэн
      хэлбэр нь алдаануудаа нөхөн дэс дараалан үүсгэгдсээр
      <acronym class="acronym">ELF</acronym> хүртэл хөгжжээ.</p><p>
      Мөн цаашлаад програмын хэмжээ хэдийгээр ихэссэн ч дискний (мөн
      санах ойн) хэмжээ харьцангуй бага байсан болохоор хуваалцаж
      болдог кодын сангийн <span class="quote">«<span class="quote">Shared-Libraries</span>»</span> санаа үүссэн юм.
      Мөн VM системүүд сайн
      хөгжиж эхлэв. Хэдийгээр эдгээр сайжруулалт болгон
      <code class="filename">a.out</code> хэлбэрийг хэрэглэж байсан ч, шинэ
      боломжууд үүсэх тоолонд энэ хэлбэрийг хэрэглэхгүй болж ирэх нь
      улам ихэссэн билээ. Мөн түүнчлэн, санах ойг хэмнэх үүднээс
      эхлэн ачаалсны дараа өөр тийшээ үсрэх юм уу эсвэл явцын дунд
      код нэмэгдэж болох загваруудыг хүмүүс сонирхож эхлэв.
      Програмын хэлүүд улам сайжирч хүмүүс програмын үндсэн хэсгийг автоматжуулсан
      код хүсэх болжээ. Энэ бүх боломжуудыг биелүүлэх гэж
      <code class="filename">a.out</code> хэлбэрийг маш их олон янзаар яргалсан бөгөөд хэсэгтээ
      л энэ нь ажилладаг байв. Нэг мэдэхэд <code class="filename">a.out</code>
      хэлбэр нь ихсэж буй бүх хүндрэлийг зохицуулж чадахааргүй
      бичлэгийн төвөгтэй болон хэрэглэхэд хэцүү байдалд хүрсэн байна.
      Хэдийгээр энэ хүндрэлүүдийг <acronym class="acronym">ELF</acronym> хэлбэр нь
      давдаг боловч шилжих явц нь маш хүндрэлтэй байдаг.
      Тийм болохоор <acronym class="acronym">ELF</acronym> хэлбэр руу шилжих төвөг нь
      <code class="filename">a.out</code>  хэлбэрийг хэрэглэх төвгөөс их байвал
      <acronym class="acronym">ELF</acronym> хэлбэр нь хүлээгдэхээс өөр аргагүй болжээ.</p><p>
      Гэвч цаг хугацаа өнгөрсөөр, FreeBSD ба түүний уламжилж гарсан системийн
      хөрвүүлэх хэрэгсэл нь (ялангуяа ассемблер болон дуудагч буюу loader) хоёр замаар
      зэрэг хөгжсөөр байв. FreeBSD салаа нь кодын хуваалцдаг санг нэмж мөн зарим алдааг
      нь залруулсан байна. Үүнийг анх бичсэн GNU-н ард түмэн уг кодоо шинэчилж дахин
      бичээд янз бүрийн хэлбэрүүдийг нэмж болдог болгоод мөн хөрвүүлэгчээс
      хамааралгүй хөрвүүлэгддэг болгох зэрэг цааш нь хөгжүүлжээ.
      Хэдийгээр маш олон хүн FreeBSD дээр хөрвүүлэгчээс хамаарахгүй
      хөрвүүлэхийг хүссэн боловч FreeBSD-н <span class="application">as</span> болон
      <span class="application">ld</span>-д зориулсан  хуучин кодноос болоод
      азгүйтжээ. GNU-н шинэ хэрэгслүүд нь (<span class="application">binutils</span>)
      хөрвүүлэгчээс хамааралгүй, <acronym class="acronym">ELF</acronym>,
      кодын хуваалцдаг сан, C++ өргөтгөл зэргүүдийг хөрвүүлж чаддаг болжээ.
      Мөн цаашлаад маш олон байгууллагууд
      <acronym class="acronym">ELF</acronym> хэлбэртэй хоёртын програмуудыг гаргаж эхэлсэн тул
      тэдгээрийг хэрэглэхийн тулд FreeBSD уг хэлбэрийг дэмжих нь зөв гэж шийдсэн юм.</p><p><acronym class="acronym">ELF</acronym> хэлбэр нь <code class="filename">a.out</code> хэлбэрийг бодвол
      илүү өргөн хүрээтэй бөгөөд үндсэн системийг илүү өргөжүүлдэг.
      <acronym class="acronym">ELF</acronym> хэрэгслүүд нь маш сайн зохион байгуулагдсан бөгөөд
      хөрвүүлэгчээс хамаардаггүй болохоор хүмүүсийн хүсэлд яг тохирдог.
      <acronym class="acronym">ELF</acronym> нь  <code class="filename">a.out</code> хэлбэрийг бодвол жаахан
      удаан байж болох боловч үүнийг хэмжиж тодорхойлно гэдэг нь хэцүү билээ.
      Мөн энэ хоёрыг санах ойд хуудас зохицуулах, эхлэн ажиллах зарчим зэргийг нь харьцуулсан
      маш олон шинж чанарууд байдаг. Тэдгээр шинж чанарууд нь тийм ч чухал биш бөгөөд
      энэ нь зөвхөн ялгаа нь билээ. Одоо бол
      <code class="filename">a.out</code> хэлбэр нь <code class="filename">GENERIC</code>
      цөмөөс хасагдсан бөгөөд <code class="filename">a.out</code> хэлбэрийг ажиллуулдаг байсан цөм нь
      хуучны цөмд тооцогдоно.</p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="basics-devices.html">Өмнөх</a> </td><td width="20%" align="center"><a accesskey="u" href="basics.html">Дээш</a></td><td width="40%" align="right"> <a accesskey="n" href="basics-more-information.html">Дараах</a></td></tr><tr><td width="40%" align="left" valign="top">4.11. Төхөөрөмж ба төхөөрөмжийн цэгүүд </td><td width="20%" align="center"><a accesskey="h" href="index.html">Эхлэл</a></td><td width="40%" align="right" valign="top"> 4.13. Нэмэлт мэдээлэл олж авах нь</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Энэ болон бусад баримтуудыг
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>
    хаягаас татаж авч болно.</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>FreeBSD-ийн талаар
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;
    хаягтай холбоо барихаасаа өмнө
    <a href="http://www.FreeBSD.org/docs.html">баримтыг</a> уншина уу.<br></br>
    Энэ бичиг баримттай холбоотой асуулт байвал
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;
    хаягаар цахим захидал явуулна уу.<br></br>
    Энэ бичиг баримтын орчуулгатай холбоотой асуулт байвал
    &lt;<a href="mailto:admin@mnbsd.org">admin@mnbsd.org</a>&gt;
    хаягаар цахим захидал явуулна уу.</small></p></body></html>