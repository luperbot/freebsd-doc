<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>30.8. Файл Дамжуулах Протокол (FTP)</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD гарын авлага" /><link rel="up" href="network-servers.html" title="Бүлэг 30. Сүлжээний орчны Серверүүд" /><link rel="prev" href="network-apache.html" title="30.7. Apache HTTP Сервер" /><link rel="next" href="network-samba.html" title="30.9. Microsoft® Windows® харилцагчдад зориулсан Файл болон Хэвлэх Үйлчилгээ (Samba)" /><link rel="copyright" href="legalnotice.html" title="Хуулийн заалт" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">30.8. Файл Дамжуулах Протокол (FTP)</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="network-apache.html">Өмнөх</a> </td><th width="60%" align="center">Бүлэг 30. Сүлжээний орчны Серверүүд</th><td width="20%" align="right"> <a accesskey="n" href="network-samba.html">Дараах</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="network-ftp"></a>30.8. Файл Дамжуулах Протокол (FTP)</h2></div><div><span class="authorgroup">Хувь нэмрээ оруулсан <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Мюррей</span> <span class="surname">Стөүкли</span></span>. </span></div></div></div><a id="idp91386832" class="indexterm"></a><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp91387344"></a>30.8.1. Удиртгал</h3></div></div></div><p>File Transfer Protocol буюу Файл Дамжуулах Протокол (FTP) нь хэрэглэгчдэд
<acronym class="acronym">FTP</acronym> серверээс файлыг авах болон тавих хялбар
замыг бий болгодог. FreeBSD үндсэн систем дотроо <acronym class="acronym">FTP</acronym>
сервер програм <span class="application">ftpd</span>-г агуулж байдаг. Энэ нь FreeBSD дээр
<acronym class="acronym">FTP</acronym> серверийг босгох, удирдах ажлыг төвөггүй болгодог.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp91390544"></a>30.8.2. Тохиргоо</h3></div></div></div><p>Тохиргоо хийхийн өмнөх хамгийн чухал алхам бол
ямар дансууд FTP серверт хандах эрхтэй байх вэ гэдгийг шийдэх байдаг.
Ердийн FreeBSD систем нь янз бүрийн дэмонуудад хэрэглэгддэг
олон тооны системийн дансуудтай байдаг ба гадны хэрэглэгчид
эдгээр дансыг ашиглан нэвтрэх ёсгүй. <code class="filename">/etc/ftpusers</code> файл дотор
FTP хандалт зөвшөөрөгдөөгүй хэрэглэгчдийн жагсаалтыг хадгална.
Анхдагч байдлаар, дээр дурдсан системийн дансууд энэ файлд байна.
FTP хандалтыг зөвшөөрөх ёсгүй өөр хэрэглэгчдийг ч мөн энэ файлд
нэмж болно.</p><p>Зарим хэрэглэгчдийн FTP хэрэглэхийг нь бүр болиулчихалгүйгээр,
зөвхөн зарим нэг эрхийг нь хязгаарлаж бас болно. Үүнийг
<code class="filename">/etc/ftpchroot</code> файлын тусламжтай гүйцэтгэж болно.
Энэ файл дотор FTP хандалтыг нь хязгаарлах хэрэглэгчид болон
бүлгүүдийн жагсаалт байна. <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ftpchroot&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">ftpchroot</span>(5)</span></a> заавар хуудсанд
бүх мэдээлэл байгаа тул энд дурдсангүй.</p><a id="idp91393488" class="indexterm"></a><p>Хэрэв сервертээ нийтийн FTP хандалтыг зөвшөөрөх хүсэлтэй байгаа бол,
FreeBSD систем дээрээ <code class="systemitem">ftp</code> нэртэй хэрэглэгч нэмэх хэрэгтэй.
Ингэснээр хэрэглэгчид таны FTP сервер рүү <code class="systemitem">ftp</code> эсвэл
<code class="systemitem">anonymous</code> гэсэн нэрээр ямар ч нэвтрэх үг шаардагдахгүйгээр
(тогтсон заншил ёсоор хэрэглэгч цахим шуудангийн хаягаа
нэвтрэх үгийн оронд хэрэглэх шаардлагатай) нэвтрэн орох болно.
Нийтийн хэрэглэгч системд орж ирэхэд FTP сервер түүний эрхийг
зөвхөн <code class="systemitem">ftp</code> хэрэглэгчийн гэрийн сан дотор
хязгаарлахын тулд <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chroot&amp;sektion=2"><span class="citerefentry"><span class="refentrytitle">chroot</span>(2)</span></a>-г дуудна.</p><p>FTP харилцагчдад зориулсан мэндчилгээний үгнүүдийг
агуулсан хоёр текст файл байдаг. <code class="filename">/etc/ftpwelcome</code> файл
дотор байгааг нэвтрэлт хүлээх мөр гарахаас өмнө хэрэглэгчдэд дэлгэцэн дээр
хэвлэнэ. Амжилттай нэвтэрч орсны дараа <code class="filename">/etc/ftpmotd</code> файл
дотор байгааг дэлгэцэн дээр хэвлэнэ. Энэ файлын зам нь
нэвтэрч орсон орчинтой харьцангуйгаар авсан зам гэдгийг
анхаарна уу, тиймээс нийтийн хэрэглэгчдийн хувьд
<code class="filename">~ftp/etc/ftpmotd</code> файлыг хэвлэх болно.</p><p>FTP серверийн тохиргоог зохих ёсоор хийсний дараа,
<code class="filename">/etc/inetd.conf</code> файл дотор идэвхжүүлэх хэрэгтэй.
Үүний тулд, <span class="application">ftpd</span> гэсэн мөрний өмнөх <span class="quote">«<span class="quote">#</span>»</span>
тэмдэгтийг арилгахад хангалттай:</p><pre class="programlisting">ftp	stream	tcp	nowait	root	/usr/libexec/ftpd	ftpd -l</pre><p><a class="xref" href="network-inetd.html#network-inetd-reread" title="Жишээ 30.1. inetd-н тохиргооны файлыг дахин ачаалах нь">Жишээ 30.1, «<span class="application">inetd</span>-н тохиргооны файлыг дахин ачаалах нь»</a> хэсэгт тайлбарласан ёсоор
	  энэ тохиргооны файлд өөрчлөлт оруулсны дараа
	  <span class="application">inetd</span>-г дахин ачаалах шаардлагатай. Өөрийн
	  систем дээр <span class="application">inetd</span>-г идэвхжүүлэх талаар
	  дэлгэрэнгүйг <a class="xref" href="network-inetd.html#network-inetd-settings" title="30.2.2. Тохиргоо">Хэсэг 30.2.2, «Тохиргоо»</a>-с үзнэ үү.</p><p>Мөн <span class="application">ftpd</span>-ийг дангаар нь ажиллуулахаар
	тохируулж болно. Энэ тохиолдолд <code class="filename">/etc/rc.conf</code> файлд
	тохирох хувьсагчийг тохируулахад хангалттай байдаг:</p><pre class="programlisting">ftpd_enable="YES"</pre><p>Дээрх хувьсагчийг тохируулсны дараа сервер дараачийн ачаалалт хийхэд
	ажиллах боломжтой болох бөгөөд эсвэл дараах тушаалыг <code class="systemitem">root</code>
	эрхээр ажиллуулан эхлүүлж болно:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>service ftpd start</code></strong></pre><p>Одоо та дараах тушаалыг өгөн FTP сервер рүү нэвтрэн орж болно:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>ftp localhost</code></strong></pre></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp91412432"></a>30.8.3. Арчилгаа</h3></div></div></div><a id="idp91413072" class="indexterm"></a><a id="idp91413584" class="indexterm"></a><p><span class="application">ftpd</span> дэмон бүртгэл хөтлөхдөө <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=syslog&amp;sektion=3"><span class="citerefentry"><span class="refentrytitle">syslog</span>(3)</span></a>-г ашигладаг.
Анхдагч байдлаар, системийн бүртгэлийн дэмон FTP-тэй холбоотой
зурвасуудыг <code class="filename">/var/log/xferlog</code> файлд бичнэ. FTP бүртгэлийн файлын
байршлыг өөрчлөхийн тулд <code class="filename">/etc/syslog.conf</code> файл дотор, дараах
мөрийг засах хэрэгтэй:</p><pre class="programlisting">ftp.info      /var/log/xferlog</pre><a id="idp91421264" class="indexterm"></a><p>Нийтийн FTP сервер ажиллуулахад тохиолдох
болзошгүй асуудлуудын талаар мэдлэгтэй байгаарай.
Ялангуяа, нийтийн хэрэглэгчдэд файл байршуулахыг
зөвшөөрөх тухайд сайн бодох хэрэгтэй. Таны FTP сайт
лицензгүй програм хангамжуудыг наймаалцдаг талбар болох, эсвэл түүнээс ч
муу зүйл тохиолдохыг үгүйсгэхгүй. Хэрэв нийтийн FTP байршуулалтыг
зөвшөөрөх шаардлагатай бол, файлуудыг нягталж үзэхээс нааш
бусад нийтийн хэрэглэгчид тэдгээр файлыг унших эрхгүй байхаар
тохируулж өгөх хэрэгтэй.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="network-apache.html">Өмнөх</a> </td><td width="20%" align="center"><a accesskey="u" href="network-servers.html">Дээш</a></td><td width="40%" align="right"> <a accesskey="n" href="network-samba.html">Дараах</a></td></tr><tr><td width="40%" align="left" valign="top">30.7. Apache HTTP Сервер </td><td width="20%" align="center"><a accesskey="h" href="index.html">Эхлэл</a></td><td width="40%" align="right" valign="top"> 30.9. <span class="trademark">Microsoft</span>® <span class="trademark">Windows</span>® харилцагчдад зориулсан Файл болон Хэвлэх Үйлчилгээ (Samba)</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Энэ болон бусад баримтуудыг
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>
    хаягаас татаж авч болно.</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>FreeBSD-ийн талаар
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;
    хаягтай холбоо барихаасаа өмнө
    <a href="http://www.FreeBSD.org/docs.html">баримтыг</a> уншина уу.<br></br>
    Энэ бичиг баримттай холбоотой асуулт байвал
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;
    хаягаар цахим захидал явуулна уу.<br></br>
    Энэ бичиг баримтын орчуулгатай холбоотой асуулт байвал
    &lt;<a href="mailto:admin@mnbsd.org">admin@mnbsd.org</a>&gt;
    хаягаар цахим захидал явуулна уу.</small></p></body></html>