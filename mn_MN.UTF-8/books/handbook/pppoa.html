<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>28.6. ATM дээгүүр PPP (PPPoA) ашиглах</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD гарын авлага" /><link rel="up" href="ppp-and-slip.html" title="Бүлэг 28. PPP болон SLIP" /><link rel="prev" href="pppoe.html" title="28.5. Ethernet дээгүүр PPP ашиглах нь (PPPoE)" /><link rel="next" href="slip.html" title="28.7. SLIP ашиглах" /><link rel="copyright" href="legalnotice.html" title="Хуулийн заалт" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">28.6. ATM дээгүүр <span class="application">PPP</span> (PPPoA) ашиглах</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="pppoe.html">Өмнөх</a> </td><th width="60%" align="center">Бүлэг 28. PPP болон SLIP</th><td width="20%" align="right"> <a accesskey="n" href="slip.html">Дараах</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="pppoa"></a>28.6. ATM дээгүүр <span class="application">PPP</span> (PPPoA) ашиглах</h2></div></div></div><a id="idp88492112" class="indexterm"></a><a id="idp88492880" class="indexterm"></a><p>Дараах нь ATM дээгүүр PPP-г (PPPoA) хэрхэн тохируулах талаар тайлбарлана.
	PPPoA нь Европийн DSL үзүүлэгчдийн дунд алдартай сонголт болдог.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88494416"></a>28.6.1. Alcatel <span class="trademark">SpeedTouch</span>™ USB-тэй PPPoA-г ашиглах нь</h3></div></div></div><p>Энэ төхөөрөмжийн PPPoA дэмжлэг нь FreeBSD-д порт хэлбэрээр
	байдаг. Учир нь үүний firmware <a class="link" href="http://www.speedtouchdsl.com/disclaimer_lx.htm" target="_top">Alcatel-ийн лицензийн
	гэрээ</a>гээр түгээгддэг бөгөөд FreeBSD-ийн үндсэн системтэй цуг
	чөлөөтэй түгээгдэж болдоггүй.</p><p>Програм хангамжийг суулгахын тулд ердөө л <a class="link" href="ports.html" title="Бүлэг 5. Програм суулгах: Багцууд болон портууд">Портуудын цуглуулгыг</a> ашиглана.
	<a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/net/pppoa/pkg-descr">net/pppoa</a> портыг суулгаад
	түүнтэй хамт ирсэн заавруудыг дагаарай.</p><p>Олон USB төхөөрөмжүүдийн адил Alcatel-ийн <span class="trademark">SpeedTouch</span>™ USB нь
	зөв ажиллахын тулд хост компьютераас firmware татах хэрэгтэй болдог.
	FreeBSD дээр энэ дамжуулалт нь төхөөрөмж USB порт уруу холбогдсон үед хийгдэхээр
	болгож энэ процессийг автоматчилах боломжтой. Энэ автомат firmware дамжуулалтыг
	идэвхжүүлэхийн тулд дараах мэдээллийг <code class="filename">/etc/usbd.conf</code>
	файлд нэмж болох юм. Энэ файлыг <code class="systemitem">root</code>
	хэрэглэгчээр засварлах шаардлагатай.</p><pre class="programlisting">device "Alcatel SpeedTouch USB"
    devname "ugen[0-9]+"
    vendor 0x06b9
    product 0x4061
    attach "/usr/local/sbin/modem_run -f /usr/local/libdata/mgmt.o"</pre><p><span class="application">usbd</span> USB дэмонг идэвхжүүлэхийн тулд
	дараах мөрийг <code class="filename">/etc/rc.conf</code> файлд
	нэмнэ:</p><pre class="programlisting">usbd_enable="YES"</pre><p>Эхлүүлэхэд залгадаг байхаар <span class="application">ppp</span>-г
	тохируулах боломжтой байдаг. Үүнийг хийхийн тулд дараах мөрүүдийг
	<code class="filename">/etc/rc.conf</code> файлд нэмнэ.
	Ахин хэлэхэд энэ процедурын хувьд та <code class="systemitem">root</code>
	хэрэглэгчээр нэвтрэн орох хэрэгтэй болно.</p><pre class="programlisting">ppp_enable="YES"
ppp_mode="ddial"
ppp_profile="adsl"</pre><p>Үүнийг зөв ажиллуулахын тулд та <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/net/pppoa/pkg-descr">net/pppoa</a>
	порттой цуг ирсэн <code class="filename">ppp.conf</code> файлыг ашиглах
	хэрэгтэй болно.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88517200"></a>28.6.2. mpd ашиглах нь</h3></div></div></div><p>Та төрөл бүрийн үйлчилгээнүүдэд ялангуяа PPTP үйлчилгээнүүдэд
	холбогдохын тулд <span class="application">mpd</span>-г ашиглаж болно.
	Та <span class="application">mpd</span>-г Портуудын цуглуулга
	<a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/net/mpd/pkg-descr">net/mpd</a> сангаас
	олж болно. Олон ADSL модемууд нь модем болон компьютерийн
	хооронд PPTP хоолой үүсгэгдсэн байхыг шаарддаг бөгөөд тийм модемийн
	нэг нь Alcatel <span class="trademark">SpeedTouch</span>™ Home юм.</p><p>Та эхлээд портоо суулгах ёстой бөгөөд дараа нь өөрийн шаардлага болон
	үйлчилгээ үзүүлэгчийн тохиргоонуудад тааруулан <span class="application">mpd</span>-г
	тохируулж болно. Порт нь жишээ тохиргооны файлуудыг байрлуулдаг бөгөөд
	эдгээр нь <code class="filename">PREFIX/etc/mpd/</code>-д
	сайн баримтжуулагдсан байдаг. Энд нэг юмыг тэмдэглэх хэрэгтэй.
	<em class="replaceable"><code>PREFIX</code></em> гэдэг нь таны портууд
	суулгагдсан сан бөгөөд анхдагчаар <code class="filename">/usr/local/</code>
	байдаг. <span class="application">mpd</span>-г тохируулах бүрэн заавар
	порт суулгагдсаны дараа HTML хэлбэрээр орсон байдаг. Энэ нь
	<code class="filename">PREFIX/share/doc/mpd/</code>
	санд байрладаг. Энд <span class="application">mpd</span>-ээр ADSL
	үйлчилгээнд холбогдох жишээ тохиргоо байна. Тохиргоо нь хоёр файлаас
	тогтох бөгөөд эхний <code class="filename">mpd.conf</code> нь ийм байна:</p><div xmlns="" class="note"><h3 class="admontitle">Тэмдэглэл: </h3><p xmlns="http://www.w3.org/1999/xhtml">Энэ жишээ <code class="filename">mpd.conf</code> файл нь
          <span class="application">mpd</span> 4.x хувилбартай зөвхөн ажиллана.</p></div><pre class="programlisting">default:
    load adsl

adsl:
    new -i ng0 adsl adsl
    set bundle authname <em class="replaceable"><code>username</code></em> <a id="co-mpd-ex-user"></a><span><img src="./imagelib/callouts/1.png" alt="1" border="0" /></span>
    set bundle password <em class="replaceable"><code>password</code></em> <a id="co-mpd-ex-pass"></a><span><img src="./imagelib/callouts/2.png" alt="2" border="0" /></span>
    set bundle disable multilink

    set link no pap acfcomp protocomp
    set link disable chap
    set link accept chap
    set link keep-alive 30 10

    set ipcp no vjcomp
    set ipcp ranges 0.0.0.0/0 0.0.0.0/0

    set iface route default
    set iface disable on-demand
    set iface enable proxy-arp
    set iface idle 0

    open</pre><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#co-mpd-ex-user"><span><img src="./imagelib/callouts/1.png" alt="1" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Таны ISP-тай холбогдон өөрийгөө таниулан нэвтрэх хэрэглэгчийн нэр.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-mpd-ex-pass"><span><img src="./imagelib/callouts/2.png" alt="2" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Таны ISP-тай холбогдон өөрийгөө таниулан нэвтрэх нууц үг.</p></td></tr></table></div><p><code class="filename">mpd.links</code> файл нь таны хийхийг хүссэн холбоос эсвэл
	холбоосуудын тухай мэдээллийг агуулдаг. Дээрх жишээнд тохирох харгалзах жишээ
	<code class="filename">mpd.links</code> файлыг доор үзүүлэв:</p><pre class="programlisting">adsl:
    set link type pptp
    set pptp mode active
    set pptp enable originate outcall
    set pptp self <em class="replaceable"><code>10.0.0.1</code></em> <a id="co-mpd-ex-self"></a><span><img src="./imagelib/callouts/1.png" alt="1" border="0" /></span>
    set pptp peer <em class="replaceable"><code>10.0.0.138</code></em> <a id="co-mpd-ex-peer"></a><span><img src="./imagelib/callouts/2.png" alt="2" border="0" /></span></pre><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#co-mpd-ex-self"><span><img src="./imagelib/callouts/1.png" alt="1" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Таны <span class="application">mpd</span> ашиглах
	FreeBSD компьютерийн IP хаяг.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-mpd-ex-peer"><span><img src="./imagelib/callouts/2.png" alt="2" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Таны ADSL модемийн IP хаяг. Alcatel
	  <span class="trademark">SpeedTouch</span>™ Home-ийн хувьд энэ хаяг нь анхдагчаар <code class="systemitem">10.0.0.138</code> байна.</p></td></tr></table></div><p>Дараах тушаалыг <code class="systemitem">root</code>-ээр ажиллуулж
	холболтыг хялбараар эхлүүлэх боломжтой байдаг:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mpd -b adsl</code></strong></pre><p>Та холболтын төлөвийг дараах тушаалаар харж болно:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>ifconfig ng0</code></strong>
ng0: flags=88d1&lt;UP,POINTOPOINT,RUNNING,NOARP,SIMPLEX,MULTICAST&gt; mtu 1500
     inet 216.136.204.117 --&gt; 204.152.186.171 netmask 0xffffffff</pre><p>FreeBSD дээр ADSL үйлчилгээнд холбогдохын тулд <span class="application">mpd</span>-г
	ашиглахыг зөвлөдөг юм.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88556368"></a>28.6.3. pptpclient ашиглах нь</h3></div></div></div><p>Мөн бусад PPPoA үйлчилгээнүүдэд FreeBSD-ээр холбогдохын тулд
	<a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/net/pptpclient/pkg-descr">net/pptpclient</a>
	ашиглах боломжтой байдаг.</p><p><a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/net/pptpclient/pkg-descr">net/pptpclient</a>-г ашиглан
	DSL үйлчилгээнд холбогдохын тулд порт болон багцыг суулгаад өөрийн
	<code class="filename">/etc/ppp/ppp.conf</code> файлыг засварлана.
	Эдгээр үйлдлүүдийг хийж гүйцэтгэхийн тулд та <code class="systemitem">root</code>
	болсон байх ёстой. <code class="filename">ppp.conf</code> файлын
	жишээ хэсгийг доор үзүүлэв. <code class="filename">ppp.conf</code>-ийн
	тохируулгуудын тухай илүү мэдээллийг <span class="application">ppp</span>
	гарын авлагын хуудас <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a>-с лавлана уу.</p><pre class="programlisting">adsl:
 set log phase chat lcp ipcp ccp tun command
 set timeout 0
 enable dns
 set authname <em class="replaceable"><code>username</code></em> <a id="co-pptp-ex-user"></a><span><img src="./imagelib/callouts/1.png" alt="1" border="0" /></span>
 set authkey <em class="replaceable"><code>password</code></em> <a id="co-pptp-ex-pass"></a><span><img src="./imagelib/callouts/2.png" alt="2" border="0" /></span>
 set ifaddr 0 0
 add default HISADDR</pre><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#co-pptp-ex-user"><span><img src="./imagelib/callouts/1.png" alt="1" border="0" /></span></a> </p></td><td valign="top" align="left"><p>DSL үйлчилгээ үзүүлэгчтэй холбогдох таны бүртгэлийн
		хэрэглэгчийн нэр.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-pptp-ex-pass"><span><img src="./imagelib/callouts/2.png" alt="2" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Таны бүртгэлийн нууц үг.</p></td></tr></table></div><div xmlns="" class="warning"><h3 class="admontitle">Сануулга: </h3><p xmlns="http://www.w3.org/1999/xhtml">Та өөрийн бүртгэлийн нууц үгийг <code class="filename">ppp.conf</code>
	файлд цэвэр текст хэлбэрээр тавих ёстой болохоор энэ файлын агуулгыг
	хэн ч уншиж чадахгүй болгосон эсэхээ шалгах хэрэгтэй. Дараах сери
	тушаалууд нь энэ файлыг зөвхөн <code class="systemitem">root</code>
	бүртгэлээр уншигдахаар болгох юм. Дэлгэрэнгүй мэдээллийг
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chmod&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">chmod</span>(1)</span></a> болон <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chown&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">chown</span>(8)</span></a> гарын авлагын хуудаснуудаас
	лавлана уу.</p><pre xmlns="http://www.w3.org/1999/xhtml" class="screen"><code class="prompt">#</code> <strong class="userinput"><code>chown root:wheel /etc/ppp/ppp.conf</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>chmod 600 /etc/ppp/ppp.conf</code></strong></pre></div><p>Энэ нь PPP сессэд зориулан таны DSL чиглүүлэгч уруу хоолой нээх болно.
	Ethernet DSL модемууд нь LAN IP хаягаар урьдчилан тохируулагдсан байдаг
	бөгөөд та түүн уруу холбогдоно. Alcatel <span class="trademark">SpeedTouch</span>™ Home-ийн
	хувьд энэ хаяг нь <code class="systemitem">10.0.0.138</code> байна.
	Таны чиглүүлэгчийн баримтад төхөөрөмж ямар хаяг ашиглаж байгааг хэлсэн
	байх ёстой. Хоолой нээж PPP сесс эхлүүлэхийн тулд дараах тушаалыг
	ажиллуулна:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>pptp address adsl</code></strong></pre><div xmlns="" class="tip"><h3 class="admontitle">Зөвлөгөө: </h3><p xmlns="http://www.w3.org/1999/xhtml">Та өмнөх тушаалын төгсгөлд <span class="quote">«<span class="quote">&amp;</span>»</span> тэмдгийг
	нэмэхийг хүсэж болох юм. Ингэхгүй бол <span class="application">pptp</span> нь
	танд тушаал хүлээх мөрийг буцаадаггүй.</p></div><p><code class="filename">tun</code> виртуал хоолой төхөөрөмж нь
	<span class="application">pptp</span> болон <span class="application">ppp</span>
	процессуудын хоорондох харилцаанд зориулан үүсгэгдэх болно. Тушаал хүлээх
	мөрөнд буцаж ирснийхээ дараа юм уу эсвэл <span class="application">pptp</span> нь
	холболтыг баталгаажуулсны дараа та хоолойг ингэж шалгаж болно:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>ifconfig tun0</code></strong>
tun0: flags=8051&lt;UP,POINTOPOINT,RUNNING,MULTICAST&gt; mtu 1500
        inet 216.136.204.21 --&gt; 204.152.186.171 netmask 0xffffff00
        Opened by PID 918</pre><p>Хэрэв та холбогдож чадахгүй байгаа бол өөрийн чиглүүлэгчийн тохиргоог
	шалгаарай. Энэ нь ихэвчлэн <span class="application">telnet</span>
	юм уу эсвэл вэб хөтчөөр хандах боломжтой байдаг. Хэрэв та холбогдож
	чадахгүй хэвээр байвал <code class="command">pptp</code> тушаалын
	гаралт болон <span class="application">ppp</span> бүртгэлийн
	файл <code class="filename">/var/log/ppp.log</code>-оос ямар нэг
	сэжүүр байгаа эсэхийг шалгах хэрэгтэй.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="pppoe.html">Өмнөх</a> </td><td width="20%" align="center"><a accesskey="u" href="ppp-and-slip.html">Дээш</a></td><td width="40%" align="right"> <a accesskey="n" href="slip.html">Дараах</a></td></tr><tr><td width="40%" align="left" valign="top">28.5. Ethernet дээгүүр PPP ашиглах нь (PPPoE) </td><td width="20%" align="center"><a accesskey="h" href="index.html">Эхлэл</a></td><td width="40%" align="right" valign="top"> 28.7. SLIP ашиглах</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Энэ болон бусад баримтуудыг
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>
    хаягаас татаж авч болно.</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>FreeBSD-ийн талаар
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;
    хаягтай холбоо барихаасаа өмнө
    <a href="http://www.FreeBSD.org/docs.html">баримтыг</a> уншина уу.<br></br>
    Энэ бичиг баримттай холбоотой асуулт байвал
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;
    хаягаар цахим захидал явуулна уу.<br></br>
    Энэ бичиг баримтын орчуулгатай холбоотой асуулт байвал
    &lt;<a href="mailto:admin@mnbsd.org">admin@mnbsd.org</a>&gt;
    хаягаар цахим захидал явуулна уу.</small></p></body></html>