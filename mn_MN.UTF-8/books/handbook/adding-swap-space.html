<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>12.15. Swap зай нэмэх нь</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD гарын авлага" /><link rel="up" href="config-tuning.html" title="Бүлэг 12. Тохиргоо ба Тааруулалт" /><link rel="prev" href="configtuning-kernel-limits.html" title="12.14. Цөмийн хязгаарууд тохируулах нь" /><link rel="next" href="acpi-overview.html" title="12.16. Тэжээл болон Эх үүсвэрийн Удирдлага" /><link rel="copyright" href="legalnotice.html" title="Хуулийн заалт" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">12.15. Swap зай нэмэх нь</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="configtuning-kernel-limits.html">Өмнөх</a> </td><th width="60%" align="center">Бүлэг 12. Тохиргоо ба Тааруулалт</th><td width="20%" align="right"> <a accesskey="n" href="acpi-overview.html">Дараах</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="adding-swap-space"></a>12.15. Swap зай нэмэх нь</h2></div></div></div><p>Та яаж ч сайн төлөвлөсөн байлаа гэсэн заримдаа систем таны бодсоноор
	ажилладагүй. Хэрэв танд swap зай илүү хэрэгцээтэйг мэдвэл та үүнийг
	амархнаар нэмж болно. Та гурван аргаар swap зайг ихэсгэж болно:
	шинэ хатуу диск нэмэх, NFS-ийн тусламжтай swap идэвхжүүлэх болон
	байгаа хуваалт дээр swap файл үүсгэж ихэсгэж болно.</p><p>Swap зайг хэрхэн шифрлэх, ямар тохируулгууд байгаа болон яагаад
	хийх ёстой талаар гарын авлагын <a class="xref" href="swap-encrypting.html" title="19.17. Swap зайг шифрлэх">Хэсэг 19.17, «Swap зайг шифрлэх»</a>
	хуудсанд хандана уу.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="new-drive-swap"></a>12.15.1. Шинэ эсвэл байгаа диск дээрх swap</h3></div></div></div><p>swap-т зориулж шинэ хатуу диск нэмэх нь
	байгаа диск дээр хуваалт нэмэхээсээ илүүтэй ажиллагааны
	хувьд сайжруулдаг. Хуваалтуудыг үүсгэх болон
	хатуу диск нэмэх талаар <a class="xref" href="disks-adding.html" title="19.3. Диск нэмэх">Хэсэг 19.3, «Диск нэмэх»</a>
	  хэсэгт тайлбарласан байгаа.
	  <a class="xref" href="configtuning-initial.html" title="12.2. Эхний Тохиргоо">Хэсэг 12.2, «Эхний Тохиргоо»</a> хэсэгт
	    хуваалтын байдал болон swap хуваалтын зайн
	    талаарх анхаарах зүйлсийг тайлбарласан байгаа.</p><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=swapon&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">swapon</span>(8)</span></a> ашиглан swap хуваалтыг системийг
	нэмж өгнө. Жишээ нь:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>swapon /dev/ada1s1b</code></strong></pre><div xmlns="" class="warning"><h3 class="admontitle">Сануулга: </h3><p xmlns="http://www.w3.org/1999/xhtml">Өгөгдөлтэй ч гэсэн холбогдоогүй байгаа
	  хуваалтыг ашиглах боломжтой. <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=swapon&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">swapon</span>(8)</span></a> ашигласнаар
	  өгөгдэлтэй байгаа хуваалт дээр бичилт хийгдэж
	  өгөгдлийг нь устгах болно. swap хэлбэрээр нэмэгдэх
	  хуваалт нь яг тэр зорилгоор ашиглагдах гэж байгаа
	  эсэхийг <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=swapon&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">swapon</span>(8)</span></a> ажиллуулахаасаа өмнө
	  шалгаарай.</p></div><p>Ачаалахад ашиглагдахаар автоматаар энэ swap хуваалтыг
	нэмэхийн тулд <code class="filename">/etc/fstab</code> файлд
	тухайн хуваалтын талаарх оруулгыг нэмнэ:</p><pre class="programlisting"><em class="replaceable"><code>/dev/ada1s1b</code></em>	none	swap	sw	0	0</pre><p><code class="filename">/etc/fstab</code> дахь оруулгуудын
	талаарх тайлбарыг <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=fstab&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">fstab</span>(5)</span></a> гарын авлагын хуудаснаас
	үзнэ үү.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="nfs-swap"></a>12.15.2. NFS-ийн тусламжтай swap хийх нь</h3></div></div></div><p>NFS-ийн тусламжтай swap хийхийг зөвхөн swap хийх локал хатуу диск
	танд байхгүй үед л зөвлөдөг; NFS swap хийх нь байгаа сүлжээний хурдаар
	хязгаарлагддаг бөгөөд NFS серверт нэмэлт ачаалал үзүүлдэг.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="create-swapfile"></a>12.15.3. Swap файлууд</h3></div></div></div><p>Та swap файл болгон ашиглахаар заасан хэмжээтэй файлыг үүсгэж  болно.
	Энд байгаа жишээн дээр бид <code class="filename">/usr/swap0</code> гэсэн
	нэртэй 64MB файлыг ашиглана. Мэдээж та хүссэн ямар ч нэрээ ашиглаж
	болно.</p><div class="example"><a id="idp77814224"></a><div class="example-title">Жишээ 12.1. Swap файл FreeBSD дээр үүсгэх нь</div><div class="example-contents"><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p><code class="filename">GENERIC</code> цөм нь энэ үйлдэлд шаардлагатай санах ойн дискний драйверийг (<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=md&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">md</span>(4)</span></a>)
	агуулсан байдаг. Цөмийг тохируулан өөрчлөх гэж байгаа бол доорх мөрийг
	    цөмийн тохиргооны файлдаа оруулахаа мартуузай:</p><pre class="programlisting">device   md</pre><p>Өөрийн хэрэгцээнд зориулж цөм бүтээх талаар
            <a class="xref" href="kernelconfig.html" title="Бүлэг 9. FreeBSD цөмийг тохируулах нь">Бүлэг 9, <em>FreeBSD цөмийг тохируулах нь</em></a> бүлгээс үзнэ үү.</p></li><li class="listitem"><p>Swap файл (<code class="filename">/usr/swap0</code>) үүсгэнэ:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>dd if=/dev/zero of=/usr/swap0 bs=1024k count=64</code></strong></pre></li><li class="listitem"><p>Зөв зөвшөөрлүүдийг (<code class="filename">/usr/swap0</code>-д) нээж  тохируулна:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>chmod 0600 /usr/swap0</code></strong></pre></li><li class="listitem"><p><code class="filename">/etc/rc.conf</code>-д swap файлыг идэвхжүүлнэ:</p><pre class="programlisting">swapfile="/usr/swap0"   # Set to name of swapfile if aux swapfile desired.</pre></li><li class="listitem"><p>Машиныг дахин эхлүүлнэ эсвэл swap файлыг шууд идэвхжүүлэхийн тулд дараах тушаалыг ажиллуулна:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mdconfig -a -t vnode -f /usr/swap0 -u 0 &amp;&amp; swapon /dev/md0</code></strong></pre></li></ol></div></div></div><br class="example-break" /></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="configtuning-kernel-limits.html">Өмнөх</a> </td><td width="20%" align="center"><a accesskey="u" href="config-tuning.html">Дээш</a></td><td width="40%" align="right"> <a accesskey="n" href="acpi-overview.html">Дараах</a></td></tr><tr><td width="40%" align="left" valign="top">12.14. Цөмийн хязгаарууд тохируулах нь </td><td width="20%" align="center"><a accesskey="h" href="index.html">Эхлэл</a></td><td width="40%" align="right" valign="top"> 12.16. Тэжээл болон Эх үүсвэрийн Удирдлага</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Энэ болон бусад баримтуудыг
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>
    хаягаас татаж авч болно.</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>FreeBSD-ийн талаар
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;
    хаягтай холбоо барихаасаа өмнө
    <a href="http://www.FreeBSD.org/docs.html">баримтыг</a> уншина уу.<br></br>
    Энэ бичиг баримттай холбоотой асуулт байвал
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;
    хаягаар цахим захидал явуулна уу.<br></br>
    Энэ бичиг баримтын орчуулгатай холбоотой асуулт байвал
    &lt;<a href="mailto:admin@mnbsd.org">admin@mnbsd.org</a>&gt;
    хаягаар цахим захидал явуулна уу.</small></p></body></html>