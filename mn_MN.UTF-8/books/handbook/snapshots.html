<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>19.14. Файлын системийн хормын хувилбарууд</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD гарын авлага" /><link rel="up" href="disks.html" title="Бүлэг 19. Хадгалалт" /><link rel="prev" href="disks-virtual.html" title="19.13. Сүлжээ, санах ой болон файл дээр тулгуурласан файлын системүүд" /><link rel="next" href="quotas.html" title="19.15. Файлын системийн ноогдлууд" /><link rel="copyright" href="legalnotice.html" title="Хуулийн заалт" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">19.14. Файлын системийн хормын хувилбарууд</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="disks-virtual.html">Өмнөх</a> </td><th width="60%" align="center">Бүлэг 19. Хадгалалт</th><td width="20%" align="right"> <a accesskey="n" href="quotas.html">Дараах</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="snapshots"></a>19.14. Файлын системийн хормын хувилбарууд</h2></div><div><span class="authorgroup">Хувь нэмэр болгон оруулсан <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Том</span> <span class="surname">Рөүдс</span></span>. </span></div></div></div><a id="idp82873936" class="indexterm"></a><p>FreeBSD нь <a class="link" href="configtuning-disk.html#soft-updates" title="12.13.2. Зөөлөн Шинэчлэлтүүд">Soft Updates
	буюу зөөлөн шинэчлэлтүүд</a>ийн хамт Файлын системийн хормын хувилбарууд
	боломжийг санал болгодог.</p><p>Хормын хувилбарууд нь заасан файлын системүүдийн дүрсийг үүсгэж
	тэдгээртэй файлтай ханддаг шиг хандах боломжийг хэрэглэгчид зөвшөөрдөг.
	Хормын хувилбарын файлууд нь үйлдэл хийгдсэн файлын систем дээр
	үүсгэгдэх ёстой бөгөөд нэг файлын системийн хувьд 20-с ихгүй хормын
	хувилбаруудыг хэрэглэгч үүсгэж болно. Идэвхтэй хормын хувилбарууд нь
	супер блокт бичигддэг бөгөөд ингэснээр тэдгээр нь системийн дахин ачаалалтуудын
	үед салгах болон дахин холбох явцад тэсвэртэй байдаг. Хормын хувилбар нь
	хэрэггүй болсон үед энэ нь стандарт <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=rm&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">rm</span>(1)</span></a> тушаалаар устгагдаж
	болно. Хормын хувилбарууд нь ямар ч дарааллаар устгагдаж болох
	бөгөөд гэхдээ ашиглагдсан бүх зайг дахин олж авахгүй байж болох юм.
	Учир нь өөр нэг хормын хувилбар чөлөөлөгдсөн блокуудын заримыг
	шаардаж болзошгүй юм.</p><p>Өөрчлөгдөхгүй <code class="option">snapshot</code> файл тохируулга нь
	хормын хувилбарыг эхлээд үүсгэсний дараа <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mksnap_ffs&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mksnap_ffs</span>(8)</span></a> тушаалаар
	заагддаг. <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=unlink&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">unlink</span>(1)</span></a> тушаал нь хормын хувилбарын файлуудын хувьд
	орхидог бөгөөд учир нь энэ нь тэдгээрийг устгахыг зөвшөөрдөг байна.</p><p>Хормын хувилбарууд нь <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mount&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mount</span>(8)</span></a> тушаалаар үүсгэгддэг.
	<code class="filename">/var</code>-ийн хормын хувилбарыг
	<code class="filename">/var/snapshot/snap</code> файлд байрлуулахын тулд
	дараах тушаалыг ашиглана:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mount -u -o snapshot /var/snapshot/snap /var</code></strong></pre><p>Өөрөөр та хормын хувилбар үүсгэхийн тулд <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mksnap_ffs&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mksnap_ffs</span>(8)</span></a>-г
	ашиглаж болно:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mksnap_ffs /var /var/snapshot/snap</code></strong></pre><p>Файлын систем (өөрөөр хэлбэл <code class="filename">/var</code>) дээр хормын хувилбарын
	файлуудыг <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=find&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">find</span>(1)</span></a> тушаал ашиглан олж болно:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>find /var -flags snapshot</code></strong></pre><p>Хормын хувилбар үүсгэгдсэний дараа энэ нь хэд хэдэн хэрэглээтэй
	байдаг:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Зарим администраторууд хормын хувилбарын файлыг нөөцийн зорилгоор
		ашигладаг, учир нь хормын хувилбар нь CD-үүд эсвэл соронзон хальс уруу
		дамжуулагдаж болдог.</p></li><li class="listitem"><p>Файлын системийн бүрэн бүтэн байдлыг шалгадаг <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=fsck&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">fsck</span>(8)</span></a> нь
		хормын хувилбар дээр ажиллаж болдог. Файлын систем нь холбогдсон
		үедээ цэвэр байсан гэж үзвэл та үргэлж цэвэр (өөрчлөгдөөгүй)
		үр дүнг авах болно. Үүнийг гол нь арын <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=fsck&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">fsck</span>(8)</span></a>
		процесс хийдэг.</p></li><li class="listitem"><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dump&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">dump</span>(8)</span></a> хэрэгслийг хормын хувилбар дээр ажиллуулдаг.
		Хормын хувилбарын файлын систем болон цагтай нэг янз хуулбар
		хийгддэг. <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dump&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">dump</span>(8)</span></a> нь бас хормын хувилбарыг авч
		нөөц дүрсийг үүсгэж чаддаг бөгөөд дараа нь хормын хувилбарыг
		нэг тушаалаар <code class="option">-L</code> тугийг ашиглан устгаж
		чаддаг.</p></li><li class="listitem"><p>Хормын хувилбарыг файлын системийн хөлдөөгдсөн дүрс маягаар
		<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mount&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mount</span>(8)</span></a> хийдэг. <code class="filename">/var/snapshot/snap</code>
		хормын хувилбарыг <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mount&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mount</span>(8)</span></a> хийхийн тулд доор дурдсаныг
		ажиллуулна:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mdconfig -a -t vnode -f /var/snapshot/snap -u 4</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>mount -r /dev/md4 /mnt</code></strong></pre></li></ul></div><p>Та одоо <code class="filename">/mnt</code>-д холбогдсон өөрийн хөлдөөгдсөн
	<code class="filename">/var</code> файлын системийн шатлалаар аялж болно.
	Хормын хувилбар үүсгэх үе дэх төлвийн адил төлөвт бүгд эхлээд байна.
	Цорын ганц өөр зүйл нь өмнөх хормын хувилбарууд нь тэг урттай файлууд
	маягаар гарч ирэх болно. Хормын хувилбарын хэрэглээг хязгаарлах
	үед үүнийг дараах тушаалыг ажиллуулан салгаж болно:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>umount /mnt</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>mdconfig -d -u 4</code></strong></pre><p><code class="option">softupdates</code> буюу зөөлөн шинэчлэлтүүд болон
	файлын системийн хормын хувилбаруудын талаар дэлгэрэнгүй мэдээллийг
	техникийн баримтуудыг оролцуулаад та Маршал Кирк МкКюзикийн вэб хуудас
	<code class="uri"><a class="uri" href="http://www.mckusick.com/" target="_top">http://www.mckusick.com/</a></code>
	уруу зочлон орж үзэж болно.</p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="disks-virtual.html">Өмнөх</a> </td><td width="20%" align="center"><a accesskey="u" href="disks.html">Дээш</a></td><td width="40%" align="right"> <a accesskey="n" href="quotas.html">Дараах</a></td></tr><tr><td width="40%" align="left" valign="top">19.13. Сүлжээ, санах ой болон файл дээр тулгуурласан файлын системүүд </td><td width="20%" align="center"><a accesskey="h" href="index.html">Эхлэл</a></td><td width="40%" align="right" valign="top"> 19.15. Файлын системийн ноогдлууд</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Энэ болон бусад баримтуудыг
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>
    хаягаас татаж авч болно.</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>FreeBSD-ийн талаар
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;
    хаягтай холбоо барихаасаа өмнө
    <a href="http://www.FreeBSD.org/docs.html">баримтыг</a> уншина уу.<br></br>
    Энэ бичиг баримттай холбоотой асуулт байвал
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;
    хаягаар цахим захидал явуулна уу.<br></br>
    Энэ бичиг баримтын орчуулгатай холбоотой асуулт байвал
    &lt;<a href="mailto:admin@mnbsd.org">admin@mnbsd.org</a>&gt;
    хаягаар цахим захидал явуулна уу.</small></p></body></html>