<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>11.2. Суулгалт</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD гарын авлага" /><link rel="up" href="linuxemu.html" title="Бүлэг 11. Линуксийн Хоёртын Нийлэмж" /><link rel="prev" href="linuxemu.html" title="Бүлэг 11. Линуксийн Хоёртын Нийлэмж" /><link rel="next" href="linuxemu-mathematica.html" title="11.3. Mathematica® суулгах нь" /><link rel="copyright" href="legalnotice.html" title="Хуулийн заалт" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">11.2. Суулгалт</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="linuxemu.html">Өмнөх</a> </td><th width="60%" align="center">Бүлэг 11. Линуксийн Хоёртын Нийлэмж</th><td width="20%" align="right"> <a accesskey="n" href="linuxemu-mathematica.html">Дараах</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="linuxemu-lbc-install"></a>11.2. Суулгалт</h2></div></div></div><a id="idp76217808" class="indexterm"></a><p>Линуксийн хоёртын нийлэмж анхдагчаар идэвхтэй байдаггүй. Энэ ажиллагааг хамгийн
	хялбараар идэвхжүүлэхийн тулд <code class="literal">линукс</code> KLD обьектийг
	(<span class="quote">«<span class="quote">Kernel LoaDable обьект</span>»</span>) дуудах явдал юм.
	Та энэ модулийг дараах тушаалыг <code class="systemitem">root</code> эрхээр
	ажиллуулж дуудаж болно:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>kldload linux</code></strong></pre><p>Хэрэв та Линуксийн нийлэмжийг үргэлж идэвхжүүлэхийг хүсэж байгаа бол
	дараах мөрийг <code class="filename">/etc/rc.conf</code> файлд нэмэх
	хэрэгтэй:</p><pre class="programlisting">linux_enable="YES"</pre><p>KLD дуудагдсан эсэхийг шалгахын тулд <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=kldstat&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">kldstat</span>(8)</span></a> тушаалыг ашиглаж
	болно:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>kldstat</code></strong>
Id Refs Address    Size     Name
 1    2 0xc0100000 16bdb8   kernel
 7    1 0xc24db000 d000     linux.ko</pre><a id="idp76224464" class="indexterm"></a><p>Хэрэв ямар нэгэн шалтгаанаас болоод та KLD-г хүсэхгүй эсвэл дуудаж чадахгүй
	байгаа бол <code class="literal">options COMPAT_LINUX</code> тохируулгыг
	өөрийн цөмийн тохиргооны файлдаа нэмж Линуксийн хоёртын нийлэмжийг
	статикаар холбож болох юм. Дараа нь <a class="xref" href="kernelconfig.html" title="Бүлэг 9. FreeBSD цөмийг тохируулах нь">Бүлэг 9, <em>FreeBSD цөмийг тохируулах нь</em></a>
	хэсэгт тайлбарласны дагуу өөрийн шинэ цөмийг суулгах хэрэгтэй.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp76226768"></a>11.2.1. Линуксийн ажиллах үеийн сангуудыг суулгах нь</h3></div></div></div><a id="idp76231632" class="indexterm"></a><p><a class="link" href="linuxemu-lbc-install.html#linuxemu-libs-port" title="11.2.1.1. linux_base портыг суулгаж ашиглах">linux_base</a> порт
	юм уу эсвэл тэдгээрийг <a class="link" href="linuxemu-lbc-install.html#linuxemu-libs-manually" title="11.2.1.2. Сангуудыг гараар суулгах">гараар</a> суулгах гэсэн
	хоёр аргын аль нэгээр үүнийг хийж болох юм.</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="linuxemu-libs-port"></a>11.2.1.1. linux_base портыг суулгаж ашиглах</h4></div></div></div><a id="idp76234832" class="indexterm"></a><p>Ажиллах үеийн сангуудыг суулгахад ашиглах хамгийн хялбар арга нь энэ
	юм. Энэ нь ямар нэгэн портыг
	<a class="link" href="ports.html" title="Бүлэг 5. Програм суулгах: Багцууд болон портууд">Портын цуглуулга</a>ас
	суулгаж байгаатай адил юм. Ердөө л доор дурдсаныг хийх хэрэгтэй:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cd /usr/ports/emulators/linux_base-fc10</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>make install distclean</code></strong></pre><div xmlns="" class="note"><h3 class="admontitle">Тэмдэглэл: </h3><p xmlns="http://www.w3.org/1999/xhtml">FreeBSD 8.0-с өмнөх FreeBSD системүүд дээр та
	    <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/emulators/linux_base-f10/pkg-descr">emulators/linux_base-f10</a>-ийн оронд
	    <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/emulators/linux_base-fc4/pkg-descr">emulators/linux_base-fc4</a> портыг
	    ашиглах ёстой.</p></div><p>Та одоо ажилладаг Линуксийн хоёртын нийлэмжтэй болсон байх ёстой.
	Зарим програмууд системийн сангуудын буруу бага хувилбаруудын талаар гомдоллож
	болох юм. Гэхдээ энэ нь ерөнхийдөө асуудал биш байдаг.</p><div xmlns="" class="note"><h3 class="admontitle">Тэмдэглэл: </h3><p xmlns="http://www.w3.org/1999/xhtml">Төрөл бүрийн Линукс тархацуудын янз бүрийн хувилбаруудад
	тохирох <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/emulators/linux_base/pkg-descr">emulators/linux_base</a> портын олон
	хувилбарууд байж болох юм. Таны суулгахыг хүсэж байгаа Линуксийн програмуудын
	шаардлагыг аль болох ойр хангаж байгаа тийм портыг та суулгах шаардлагатай.</p></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="linuxemu-libs-manually"></a>11.2.1.2. Сангуудыг гараар суулгах</h4></div></div></div><p>Хэрэв та <span class="quote">«<span class="quote">портын</span>»</span> цуглуулга суулгаагүй бол сангуудыг
	гараар суулгаж болно. Програмын хамаардаг Линуксийн хуваалцсан сангууд болон
	ажиллах үеийн холбогч (linker) танд хэрэгтэй болно. Та бас
	<span class="quote">«<span class="quote">сүүдэр root</span>»</span> сан буюу <code class="filename">/compat/linux</code>
	санг өөрийн FreeBSD систем дээр Линуксийн сангуудад зориулж үүсгэх хэрэгтэй
	болно. FreeBSD дээр ажиллаж байгаа Линуксийн програмуудын онгойлгосон дурын
	хуваалцсан сангууд энэ модыг эхлээд хайдаг. Тэгэхээр хэрэв Линуксийн програм
	жишээ нь <code class="filename">/lib/libc.so</code>-г дуудвал FreeBSD эхлээд
	<code class="filename">/compat/linux/lib/libc.so</code>-г онгойлгохыг
	оролдох бөгөөд хэрэв байхгүй бол <code class="filename">/lib/libc.so</code>-г
	оролдох болно. Хуваалцсан сангууд нь Линуксийн <code class="command">ld.so</code> тушаалаар
	гарч байгаа замуудад биш харин сүүдэр мод <code class="filename">/compat/linux/lib</code>-т
	суулгагдах ёстой.</p><p>Ерөнхийдөө таныг Линуксийн програм өөрийн FreeBSD системд суулгах эхний
	цөөхөн хэдэн удаад зөвхөн Линуксийн хоёртын файлуудын хамаардаг хуваалцсан сангуудыг
	хайх хэрэгтэй болно. Хэсэг хугацааны дараа та өөрийн систем дээрээ
	ямар нэгэн илүү ажиллагаагүйгээр шинээр импорт хийгдсэн Линуксийн хоёртын файлуудыг
	ажиллуулж чадах Линуксийн хуваалцсан сангуудын хангалттай олонлогтой
	болсон байх болно.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp76254160"></a>11.2.1.3. Нэмэлт хуваалцсан сангуудыг хэрхэн суулгах вэ</h4></div></div></div><a id="idp76254800" class="indexterm"></a><p><code class="filename">linux_base</code> портыг суулгасан ч гэсэн
	таны програм хуваалцсан сангууд байхгүй байна гээд гомдоллоод байвал
	яах вэ? Линуксийн хоёртын файлуудад ямар хуваалцсан сангууд хэрэгтэйг
	яаж мэдэх вэ, тэдгээрийг хаанаас авах вэ? Үндсэндээ 2 боломж байдаг
	(эдгээр заавруудыг дагаж байхдаа та өөрийн FreeBSD систем дээрээ
	<code class="systemitem">root</code> байх хэрэгтэй болно).</p><p>Линукс системд хандах боломжтой бол програмд ямар хуваалцсан
	сангууд хэрэгтэйг мэдээд тэдгээрийг өөрийн FreeBSD систем уруу хуулах
	хэрэгтэй. Доорх жишээг харна уу:</p><div class="informalexample"><p>Та FTP ашиглан <span class="application">Doom</span> гэсэн
		Линуксийн хоёртын файлыг авч өөрөө хандаж болох Линукс систем
		дээрээ байрлуулсан гэж үзье. Та тэгээд үүний шаарддаг хуваалцсан
		сангуудыг <code class="command">ldd linuxdoom</code> тушаал
		ашиглан иймэрхүүгээр шалгаж болно:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>ldd linuxdoom</code></strong>
libXt.so.3 (DLL Jump 3.1) =&gt; /usr/X11/lib/libXt.so.3.1.0
libX11.so.3 (DLL Jump 3.1) =&gt; /usr/X11/lib/libX11.so.3.1.0
libc.so.4 (DLL Jump 4.5pl26) =&gt; /lib/libc.so.4.6.29</pre><a id="idp76263504" class="indexterm"></a><p>Та сүүлийн баганад байгаа бүх файлуудыг авч эхний баганад байгаа нэрсийг
		тэдгээр уруу заасан симболын холбоосууд болгон
		<code class="filename">/compat/linux</code> дотор байрлуулах хэрэгтэй.
		Энэ нь та өөрийн FreeBSD системдээ эцсийн эцэст эдгээр файлуудтай
		болно гэсэн үг юм:</p><pre class="screen">/compat/linux/usr/X11/lib/libXt.so.3.1.0
/compat/linux/usr/X11/lib/libXt.so.3 -&gt; libXt.so.3.1.0
/compat/linux/usr/X11/lib/libX11.so.3.1.0
/compat/linux/usr/X11/lib/libX11.so.3 -&gt; libX11.so.3.1.0
/compat/linux/lib/libc.so.4.6.29
/compat/linux/lib/libc.so.4 -&gt; libc.so.4.6.29</pre><div class="blockquote"><blockquote class="blockquote"><div xmlns="" class="note"><h3 class="admontitle">Тэмдэглэл: </h3><p xmlns="http://www.w3.org/1999/xhtml">Хэрэв та <code class="command">ldd</code> тушаалын гаралтын
		эхний баганатай Линуксийн хуваалцсан сангийн гол залруулалтын дугаар
		таарсан тийм Линуксийн хуваалцсан сантай байгаа бол сүүлийн баганад
		байгаа файлуудыг өөрийн систем уруу хуулах шаардлагагүй бөгөөд
		танд байгаа чинь ажиллах ёстойг санаарай. Хэрэв шинэ хувилбар
		бол хуваалцсан санг ямар ч байсан хуулахыг зөвлөдөг. Та шинэ уруу
		заасан симболын холбоос үүсгэснийхээ дараа хуучинг устгаж болно.
		Тэгэхээр хэрэв эдгээр сангууд таны өөрийн системд байгаа:</p><pre xmlns="http://www.w3.org/1999/xhtml" class="screen">/compat/linux/lib/libc.so.4.6.27
/compat/linux/lib/libc.so.4 -&gt; libc.so.4.6.27</pre><p xmlns="http://www.w3.org/1999/xhtml">бөгөөд шинэ сан нь <code class="command">ldd</code> тушаалын
		гаралтын дагуу сүүлийн хувилбарыг шаардана гэж байгааг мэдвэл:</p><pre xmlns="http://www.w3.org/1999/xhtml" class="screen">libc.so.4 (DLL Jump 4.5pl26) -&gt; libc.so.4.6.29</pre><p xmlns="http://www.w3.org/1999/xhtml">Хэрэв төгсөж байгаа тоон дээр зөвхөн нэг юм уу эсвэл хоёр хувилбар
		хуучин байгаа бол <code class="filename">/lib/libc.so.4.6.29</code>-г
		бас хуулж санаагаа зовоогоод хэрэггүй бөгөөд програм нь нэлээн хуучин
		хувилбартай зүгээр ажиллах ёстой юм. Гэхдээ хэрэв та хүсэж байгаа бол
		<code class="filename">libc.so</code>-г ямар ч байсан гэсэн солихоор
		шийдэж болох бөгөөд энэ нь таныг доорхтой үлдээх болно:</p><pre xmlns="http://www.w3.org/1999/xhtml" class="screen">/compat/linux/lib/libc.so.4.6.29
/compat/linux/lib/libc.so.4 -&gt; libc.so.4.6.29</pre></div></blockquote></div><div class="blockquote"><blockquote class="blockquote"><div xmlns="" class="note"><h3 class="admontitle">Тэмдэглэл: </h3><p xmlns="http://www.w3.org/1999/xhtml">Симболын холбоосын арга нь <span class="emphasis"><em>зөвхөн</em></span>
		Линукс хоёртын файлуудад хэрэгтэй байдаг. FreeBSD-ийн ажиллах
		үеийн холбогч нь таарах гол залруулалтын дугааруудыг хайх талаар
		өөрөө санаа тавьдаг болохоор та санаа зовох хэрэггүй юм.</p></div></blockquote></div></div></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp76272080"></a>11.2.2. Линуксийн ELF хоёртын файлуудыг суулгах</h3></div></div></div><a id="idp76272720" class="indexterm"></a><p>ELF хоёртын файлууд нь заримдаа <span class="quote">«<span class="quote">branding</span>»</span> буюу
	<span class="quote">«<span class="quote">тамгалах</span>»</span> нэмэлт алхмыг шаарддаг. Хэрэв та тамгалаагүй
	ELF хоёртын файлыг ажиллуулахыг оролдвол доор дурдсантай төстэй алдааг
	хүлээн авах болно:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>./my-linux-elf-binary</code></strong>
ELF binary type not known
Abort</pre><p>FreeBSD цөмд FreeBSD ELF хоёртын файлыг Линуксийн хоёртын файлаас
	ялгахад туслахын тулд <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=brandelf&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">brandelf</span>(1)</span></a> хэрэгслийг ашиглана.</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>brandelf -t Linux my-linux-elf-binary</code></strong></pre><a id="idp76290640" class="indexterm"></a><p>Өнөөдөр GNU хэрэгслийн цуглуулга нь ELF хоёртын файлуудад автоматаар
	тохирох тамгалалтын мэдээллийг байрлуулдаг. Тэгэхээр энэ алхам нь
	ирээдүйд бараг л хэрэггүй болох ёстой юм.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp76291664"></a>11.2.3. RPM дээр тулгуурласан линуксын програм суулгах</h3></div></div></div><p>FreeBSD нь өөрийн багцын өгөгдлийн сантай бөгөөд бүх
	портыг (<span class="trademark">Linux</span>®-ийн портуудыг бас) хянахад ашиглагддаг. <span class="trademark">Linux</span>®-ийн
	RPM санг ашигладаггүй (дэмждэггүй).</p><p>Гэхдээ хэрэв та <span class="trademark">Linux</span>®-ийн RPM програм суулгах шаардлагатай
	бол үүнийг доорх аргаар хийж болно:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cd /compat/linux</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>rpm2cpio -q &lt; /path/to/linux.archive.rpm | cpio -id</code></strong></pre><p>Дараа нь ELF хоёртын файлуудыг (сангуудыг биш!) brandelf
	хийх хэрэгтэй. Та суулгаснаа буцаж цэвэрхэн арилгаж
	чадахгүй боловч энэ нь тест хийхэд чинь хэрэг болж болох юм.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp76301008"></a>11.2.4. Хостын нэр танигчийг тохируулах</h3></div></div></div><p>Хэрэв DNS ажиллахгүй байвал эсвэл та ийм мэдэгдэл хүлээн авбал:</p><pre class="screen">resolv+: "bind" is an invalid keyword resolv+:
"hosts" is an invalid keyword</pre><p>Та дараах мөрүүдийг агуулсан
	<code class="filename">/compat/linux/etc/host.conf</code> файлыг
	тохируулах хэрэгтэй болно:</p><pre class="programlisting">order hosts, bind
multi on</pre><p>Энд байгаа order нь <code class="filename">/etc/hosts</code>-г
	эхлээд хайж дараа нь DNS-ийг хайна гэж зааж байна.
	<code class="filename">/compat/linux/etc/host.conf</code> суугаагүй
	үед Линуксийн програмууд FreeBSD-ийн <code class="filename">/etc/host.conf</code>-г
	олж нийцгүй FreeBSD-ийн бичлэг байна гэж гомдоллох болно.
	Хэрэв та <code class="filename">/etc/resolv.conf</code> файл
	ашиглан нэрийн серверийг тохируулаагүй бол <code class="literal">bind</code> гэсэн
	үгийг устгах хэрэгтэй.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="linuxemu.html">Өмнөх</a> </td><td width="20%" align="center"><a accesskey="u" href="linuxemu.html">Дээш</a></td><td width="40%" align="right"> <a accesskey="n" href="linuxemu-mathematica.html">Дараах</a></td></tr><tr><td width="40%" align="left" valign="top">Бүлэг 11. Линуксийн Хоёртын Нийлэмж </td><td width="20%" align="center"><a accesskey="h" href="index.html">Эхлэл</a></td><td width="40%" align="right" valign="top"> 11.3. <span class="trademark">Mathematica</span>® суулгах нь</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Энэ болон бусад баримтуудыг
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>
    хаягаас татаж авч болно.</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>FreeBSD-ийн талаар
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;
    хаягтай холбоо барихаасаа өмнө
    <a href="http://www.FreeBSD.org/docs.html">баримтыг</a> уншина уу.<br></br>
    Энэ бичиг баримттай холбоотой асуулт байвал
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;
    хаягаар цахим захидал явуулна уу.<br></br>
    Энэ бичиг баримтын орчуулгатай холбоотой асуулт байвал
    &lt;<a href="mailto:admin@mnbsd.org">admin@mnbsd.org</a>&gt;
    хаягаар цахим захидал явуулна уу.</small></p></body></html>