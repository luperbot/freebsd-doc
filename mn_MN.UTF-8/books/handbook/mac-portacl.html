<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>17.10. MAC portacl модуль</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD гарын авлага" /><link rel="up" href="mac.html" title="Бүлэг 17. Mandatory Access Control буюу Албадмал Хандалтын хяналт" /><link rel="prev" href="mac-ifoff.html" title="17.9. MAC ifoff модуль" /><link rel="next" href="mac-partition.html" title="17.11. MAC хуваалтын модуль" /><link rel="copyright" href="legalnotice.html" title="Хуулийн заалт" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">17.10. MAC portacl модуль</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="mac-ifoff.html">Өмнөх</a> </td><th width="60%" align="center">Бүлэг 17. Mandatory Access Control буюу Албадмал Хандалтын хяналт</th><td width="20%" align="right"> <a accesskey="n" href="mac-partition.html">Дараах</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="mac-portacl"></a>17.10. MAC portacl модуль</h2></div></div></div><a id="idp81175760" class="indexterm"></a><p>Модулийн нэр: <code class="filename">mac_portacl.ko</code></p><p>Цөмийн тохиргооны мөр:
      <code class="literal">MAC_PORTACL</code></p><p>Ачаалалтын тохируулга: <code class="literal">mac_portacl_load="YES"</code></p><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mac_portacl&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">mac_portacl</span>(4)</span></a> модулийг төрөл бүрийн <code class="command">sysctl</code>
	хувьсагчуудыг ашиглан локал <acronym class="acronym">TCP</acronym> болон
	<acronym class="acronym">UDP</acronym> портуудыг холбохыг хязгаарлахад хэрэглэдэг.
	Мөн чанартаа <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mac_portacl&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">mac_portacl</span>(4)</span></a> нь заагдсан эрх бүхий портуудыг
	өөрөөр хэлбэл 1024-оос бага портуудыг холбох боломжийг
	<code class="systemitem">root</code> биш хэрэглэгчдэд зөвшөөрдөг.</p><p>Ачаалагдсаны дараа энэ модуль нь бүх сокетууд дээр <acronym class="acronym">MAC</acronym>
	бодлогыг идэвхжүүлдэг. Дараах тааруулж болох хувьсагчууд байдаг:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="literal">security.mac.portacl.enabled</code> нь
	бодлогыг бүр мөсөн нээнэ/хаана.</p></li><li class="listitem"><p><code class="literal">security.mac.portacl.port_high</code> нь
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mac_portacl&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">mac_portacl</span>(4)</span></a>-ийн хамгаалалтыг нь идэвхжүүлдэг хамгийн дээд
	портын дугаарыг тохируулдаг.</p></li><li class="listitem"><p><code class="literal">security.mac.portacl.suser_exempt</code> нь
	тэгээс ялгаатай утгаар тохируулагдсан үедээ <code class="systemitem">root</code>
	хэрэглэгчийг энэ бодлогоос чөлөөлнө.</p></li><li class="listitem"><p><code class="literal">security.mac.portacl.rules</code> нь
	яг mac_portacl бодлогыг заадаг; доорхоос харна уу.</p></li></ul></div><p><code class="literal">mac_portacl</code> бодлого нь
	<code class="literal">security.mac.portacl.rules</code> sysctl-д
	заагдсаны дагуу хэрэгцээнээсээ хамааран хэдэн ч дүрмүүдтэй байж болох
	<code class="literal">rule[,rule,...]</code> текст хэлбэрийн байдаг.
	Дүрэм бүр <code class="literal">idtype:id:protocol:port</code>
	гэсэн хэлбэрийн байдаг. <em class="parameter"><code>idtype</code></em>
	параметр нь <code class="literal">uid</code> эсвэл <code class="literal">gid</code>
	байж болох бөгөөд <em class="parameter"><code>id</code></em> параметрийг
	хэрэглэгчийн id эсвэл бүлгийн id гэж тайлбарладаг.
	<em class="parameter"><code>protocol</code></em> параметр нь
	<code class="literal">tcp</code> эсвэл <code class="literal">udp</code>
	гэж заагдан дүрмийг <acronym class="acronym">TCP</acronym> эсвэл
	<acronym class="acronym">UDP</acronym>-ийн алинд хамаарахыг тодорхойлоход
	хэрэглэгддэг. Сүүлийн <em class="parameter"><code>port</code></em> параметр нь
	заагдсан хэрэглэгч эсвэл бүлэгт холбохыг зөвшөөрөх портын дугаар
	юм.</p><div xmlns="" class="note"><h3 class="admontitle">Тэмдэглэл: </h3><p xmlns="http://www.w3.org/1999/xhtml">Дүрмийн олонлог нь цөмөөр шууд тайлбарлагддаг болохоор хэрэглэгчийн ID
	бүлгийн ID болон портын параметруудын хувьд зөвхөн тоон утгуудыг ашиглаж
	болно. Өөрөөр хэлбэл хэрэглэгч, бүлэг болон портын үйлчилгээний нэрсийг
	ашиглаж болохгүй.</p></div><p>Анхдагчаар <span class="trademark">UNIX</span>® төст системүүд дээр 1024-өөс бага портуудыг зөвхөн
	эрх бүхий процессууд буюу өөрөөр хэлбэл <code class="systemitem">root</code>-ээр
	ажилладаг процессуудад ашиглахад/холбоход хэрэглэдэг.  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mac_portacl&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">mac_portacl</span>(4)</span></a>-ийн
	хувьд эрхгүй процессуудыг 1024-өөс бага портуудад холбохыг зөвшөөрөхдөө
	энэ стандарт <span class="trademark">UNIX</span>® хязгаарлалтыг хаасан байх ёстой. Үүнийг
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sysctl&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sysctl</span>(8)</span></a>-ийн <code class="literal">net.inet.ip.portrange.reservedlow</code>
	болон <code class="literal">net.inet.ip.portrange.reservedhigh</code>
	хувьсагчуудыг тэг болгон хийж болно.</p><p>Доор жишээнүүдийг үзнэ үү, эсвэл дэлгэрэнгүй мэдээллийг
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mac_portacl&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">mac_portacl</span>(4)</span></a> гарын авлагын хуудаснаас лавлана уу.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp81208784"></a>17.10.1. Жишээнүүд</h3></div></div></div><p>Дараах жишээнүүд нь дээрх хэлэлцүүлгийг арай илүү тайлбарлах
	болно:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>sysctl security.mac.portacl.port_high=1023</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>sysctl net.inet.ip.portrange.reservedlow=0 net.inet.ip.portrange.reservedhigh=0</code></strong></pre><p>Эхлээд бид <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mac_portacl&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">mac_portacl</span>(4)</span></a>-ийг стандарт эрх бүхий
	портуудыг хамарч ердийн <span class="trademark">UNIX</span>® холболтын хязгаарлалтуудыг
	хаахаар тохируулна.</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>sysctl security.mac.portacl.suser_exempt=1</code></strong></pre><p><code class="systemitem">root</code> хэрэглэгчийг  энэ бодлогоор хязгаарлахгүйн
	тулд <code class="literal">security.mac.portacl.suser_exempt</code>-г
	тэгээс ялгаатай утгаар тохируулна. <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mac_portacl&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">mac_portacl</span>(4)</span></a> модуль нь
	одоо <span class="trademark">UNIX</span>® төст системүүд анхдагч тохиргоотойгоор ажилладаг шигээр
	тохируулагдсан байна.</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>sysctl security.mac.portacl.rules=uid:80:tcp:80</code></strong></pre><p><acronym class="acronym">UID</acronym> 80 бүхий (ердийн тохиолдолд
	<code class="systemitem">www</code> хэрэглэгч) хэрэглэгчид 80 портыг
	холбохыг зөвшөөрнө. <code class="systemitem">root</code> эрхгүйгээр
	вэб сервер ажиллуулахыг <code class="systemitem">www</code> хэрэглэгчид
	зөвшөөрөхөд үүнийг ашиглаж болно.</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>sysctl security.mac.portacl.rules=uid:1001:tcp:110,uid:1001:tcp:995</code></strong></pre><p><acronym class="acronym">UID</acronym> 1001 бүхий хэрэглэгчид
	<acronym class="acronym">TCP</acronym> 110 (<span class="quote">«<span class="quote">pop3</span>»</span>)
	болон 995 (<span class="quote">«<span class="quote">pop3s</span>»</span>) портуудыг холбохыг
	зөвшөөрнө. Энэ нь 110 болон 995 портуудаар холболтуудыг
	хүлээн авдаг сервер эхлүүлэхийг хэрэглэгчид зөвшөөрдөг.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="mac-ifoff.html">Өмнөх</a> </td><td width="20%" align="center"><a accesskey="u" href="mac.html">Дээш</a></td><td width="40%" align="right"> <a accesskey="n" href="mac-partition.html">Дараах</a></td></tr><tr><td width="40%" align="left" valign="top">17.9. MAC ifoff модуль </td><td width="20%" align="center"><a accesskey="h" href="index.html">Эхлэл</a></td><td width="40%" align="right" valign="top"> 17.11. MAC хуваалтын модуль</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Энэ болон бусад баримтуудыг
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>
    хаягаас татаж авч болно.</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>FreeBSD-ийн талаар
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;
    хаягтай холбоо барихаасаа өмнө
    <a href="http://www.FreeBSD.org/docs.html">баримтыг</a> уншина уу.<br></br>
    Энэ бичиг баримттай холбоотой асуулт байвал
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;
    хаягаар цахим захидал явуулна уу.<br></br>
    Энэ бичиг баримтын орчуулгатай холбоотой асуулт байвал
    &lt;<a href="mailto:admin@mnbsd.org">admin@mnbsd.org</a>&gt;
    хаягаар цахим захидал явуулна уу.</small></p></body></html>