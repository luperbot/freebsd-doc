<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>22.3. Хандалтын тагларалтууд</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD гарын авлага" /><link rel="up" href="vinum-vinum.html" title="Бүлэг 22. Vinum Эзлэхүүн Менежер" /><link rel="prev" href="vinum-intro.html" title="22.2. Дискнүүд хэтэрхий жижиг" /><link rel="next" href="vinum-data-integrity.html" title="22.4. Өгөгдлийн бүрэн бүтэн байдал" /><link rel="copyright" href="legalnotice.html" title="Хуулийн заалт" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">22.3. Хандалтын тагларалтууд</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="vinum-intro.html">Өмнөх</a> </td><th width="60%" align="center">Бүлэг 22. Vinum Эзлэхүүн Менежер</th><td width="20%" align="right"> <a accesskey="n" href="vinum-data-integrity.html">Дараах</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="vinum-access-bottlenecks"></a>22.3. Хандалтын тагларалтууд</h2></div></div></div><p>Орчин үеийн системүүдэд маш өндөр зэрэгцээ хандлагаар өгөгдөлд хандах
	хэрэгцээ байнга гардаг. Жишээ нь том FTP эсвэл HTTP серверүүд нь
	олон мянган зэрэгцээ сессүүдтэй ажиллаж чаддаг ба ихэнх дискнүүдийн тогтвортой дамжуулах
	түвшингээс хавьгүй илүү гарсан гадагшаа ертөнц уруу холбогдсон олон 100 Mbit/s-ийн
	холболтуудтай байдаг.</p><p>Одоогийн диск хөтчүүд өгөгдлийг цуваагаар 70 MB/s хүртэл дамжуулж
	чаддаг боловч энэ утга нь бие биенээсээ хамааралгүй олон чөлөөтэй процессууд
	хөтчид ханддаг тийм орчинд тийм ч чухал биш юм. Тийм орчинд процессууд нь
	тэдгээр утгуудын зөвхөн бутархайгаар хэмжигдэх тооны хурдад хүрч магадгүй юм.
	Ийм тохиолдлуудад асуудлыг дискний дэд системийн үүднээс харвал илүү сонирхолтой
	байх болно: энд чухал параметр нь дэд системд үзүүлж байгаа дамжуулалтын ачаалал бөгөөд
	өөрөөр хэлбэл дамжуулалтад оролцож байгаа хөтчүүдийг эзэлж байгаа дамжуулалтын
	тэр хугацаа юм.</p><p>Аль ч дискний дамжуулалтын үед хөтөч нь толгойнуудаа эхлээд байрлуулж
	унших толгойн доор эхний сектор шалгагдан өнгөрөхийг хүлээж дараа нь
	дамжуулалтыг гүйцэтгэх ёстой. Эдгээр үйлдлүүд нь atomic буюу хуваагдашгүй,
	салгагдашгүй үйлдлүүд гэж ойлгогддог: тэдгээрийг тасалдуулах нь ямар ч утгагүй
	юм.</p><p><a id="vinum-latency"></a> Ердийн 10 kB-ийн дамжуулалтыг
	авч үзье: өндөр ажиллагаатай одоо үеийн дискнүүд нь толгойнуудаа дунджаар
	3.5 ms-д байрлуулж чаддаг. Хамгийн хурдан хөтчүүд 15,000 rpm
	хурдаар эргэдэг, тийм болохоор дундаж эргэх хожимдол нь (хувьсгалын хагас)
	2 ms болох юм. 70 MB/s үед дамжуулалт нь өөрөө
	150 μs болох бөгөөд байрлуулах хугацаатай харьцуулахад бараг
	юу ч биш юм. Ийм тохиолдолд үр дүнтэй дамжуулах түвшин нь 1 MB/s-с
	бага зэрэг илүү түвшин уруу  буурах бөгөөд мэдээж энэ нь дамжуулах хэмжээнээс
	ихээхэн хамааралтай байна.</p><p>Энэ асуудлын уламжлалт, мэдээжийн шийдэл нь <span class="quote">«<span class="quote">илүү ээрүүлүүд</span>»</span>
	юм: нэг том диск ашиглахын оронд энэ нь нийт хадгалалтын хэмжээ нь адилхан
	хэд хэдэн арай жижиг дискнүүдийг ашиглах явдал юм. Диск бүр нь тус тусдаа
	байрлуулах болон дамжуулах үйлдлийг хийж чадах бөгөөд ингэснээр үр дүнтэй
	дамжуулах чанар нь ашигласан дискний тоотой ойролцоо хүчин зүйлээр нэмэгдэх
	болно.
    </p><p>Дамжуулалтын чанарын яг тодорхой сайжруулалт нь мэдээж оролцсон дискнүүдийн
	тооноос бага байна: хөтөч бүр нь зэрэгцээ дамжуулж чадах боловч хүсэлтүүд нь
	хөтчүүдийн дагуу тэнцүү түгээгдэхийг батлах аргагүй юм. Нэг хөтөч дээрх
	ачаалал нь нөгөө дээрхээс илүү өндөр байх нь зайлшгүй юм.</p><a id="idp84440528" class="indexterm"></a><a id="idp84441296" class="indexterm"></a><p>Дискнүүд дээрх ачааллын тэнцүү байдал нь хөтчүүдийн дагуу өгөгдлүүд
	хуваалцдаг арга замаас маш ихээр хамаардаг. Дараах хэлэлцүүлэг дээр
	дискний хадгалалтыг номны хуудас шигээр дугаараар нь хандаж болох
	маш олон тооны өгөгдлийн секторууд гэж ойлгох нь тохиромжтой юм.
	Хамгийн мэдээжийн арга бол том номыг аваад жижиг хэсгүүд болгон урахын
	оронд виртуал дискийг физик дискнүүдийн хэмжээтэйгээр  дараалсан
	секторуудын бүлгүүд болгон хувааж энэ маягаар тэдгээрийг хадгалах
	явдал юм. Энэ аргыг <span class="emphasis"><em>concatenation буюу нийлүүлэлт</em></span>
	гэж нэрлэдэг бөгөөд дискнүүд нь ямар нэгэн тусгайлсан хэмжээний харилцаанууд
	шаарддаггүйгээрээ давуу талтай юм. Виртуал диск дэх хандалт өөрийн хаягийн
	талбараар тэнцүү тархсан үед энэ нь сайн ажилладаг. Хандалт нь жижиг талбарт
	төвлөрсөн үед сайжруулалт тийм ч сайн мэдэгддэггүй.
	<a class="xref" href="vinum-access-bottlenecks.html#vinum-concat" title="Зураг 22.1. Нийлүүлэгдсэн зохион байгуулалт">Зураг 22.1, «Нийлүүлэгдсэн зохион байгуулалт»</a> нь хадгалалтын нэгжүүд нийлүүлэгдсэн
	зохион байгуулалтад хуваарилагдаж байгаа дарааллыг үзүүлж байна.</p><p>
      </p><div class="figure"><a id="vinum-concat"></a><div class="figure-title">Зураг 22.1. Нийлүүлэгдсэн зохион байгуулалт</div><div class="figure-contents"><div class="mediaobject"><img src="vinum/vinum-concat.png" alt="Нийлүүлэгдсэн зохион байгуулалт" /></div></div></div><p><br class="figure-break" />
    </p><a id="idp84445520" class="indexterm"></a><a id="idp84446288" class="indexterm"></a><a id="idp84447440" class="indexterm"></a><p>Өөр нэг тааруулалт нь хаягийн талбарыг арай жижиг, тэнцүү хэмжээтэй
	бүрэлдэхүүн хэсэгт хувааж тэдгээрийг цуваагаар өөр төхөөрөмжүүд дээр
	хадгалах явдал юм. Жишээ нь эхний 256 сектор эхний диск дээр,
	дараагийн 256 сектор нь дараагийн диск дээр гэх мэтчилэн байх юм.
	Сүүлийн дискэнд хүрсний дараа процесс дискнүүдийг дүүртэл давтагдана.
	Энэ тааруулалтыг <span class="emphasis"><em>striping буюу судал үүсгэх</em></span>
	эсвэл <acronym class="acronym">RAID-0</acronym> гэж нэрлэдэг.

    <a href="#ftn.idp84449360" class="footnote" id="idp84449360"><sup class="footnote">[10]</sup></a>.

	Судал үүсгэх нь зарим талаараа өгөгдлийг олохын тулд илүү чармайлт шаарддаг бөгөөд
	олон дискнүүдийн дагуу тархсан дамжуулалтад нэмэлт I/O ачаалал үүсгэж болох боловч
	энэ нь бас тогтмол ачааллыг илүүтэйгээр дискнүүдийн дагуу хангаж өгдөг.
	<a class="xref" href="vinum-access-bottlenecks.html#vinum-striped" title="Зураг 22.2. Судалчлагдсан зохион байгуулалт">Зураг 22.2, «Судалчлагдсан зохион байгуулалт»</a> нь хадгалалтын нэгжүүд судалчлагдсан
	зохион байгуулалтад хуваарилагдаж байгаа дарааллыг үзүүлж байна.</p><p>
      </p><div class="figure"><a id="vinum-striped"></a><div class="figure-title">Зураг 22.2. Судалчлагдсан зохион байгуулалт</div><div class="figure-contents"><div class="mediaobject"><img src="vinum/vinum-striped.png" alt="Судалчлагдсан зохион байгуулалт" /></div></div></div><p><br class="figure-break" />
    </p><div class="footnotes"><br /><hr class="footnote-hr" /><div id="ftn.idp84449360" class="footnote"><p><a href="#idp84449360" class="para"><sup class="para">[10] </sup></a><acronym class="acronym">RAID</acronym> нь <span class="emphasis"><em>Redundant
      Array of Inexpensive Disks буюу Хямд дискнүүдийн Нөөц Массив </em></span>
	бөгөөд гэмтэл даах чадварын төрөл бүрийн хэлбэрүүдийг санал болгодог бөгөөд
	гэхдээ сүүлийн ойлголт нь зарим талаараа төөрөгдүүлмээр юм: энэ нь ямар ч нөөцийн
	боломжийг хангадаггүй.</p></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="vinum-intro.html">Өмнөх</a> </td><td width="20%" align="center"><a accesskey="u" href="vinum-vinum.html">Дээш</a></td><td width="40%" align="right"> <a accesskey="n" href="vinum-data-integrity.html">Дараах</a></td></tr><tr><td width="40%" align="left" valign="top">22.2. Дискнүүд хэтэрхий жижиг </td><td width="20%" align="center"><a accesskey="h" href="index.html">Эхлэл</a></td><td width="40%" align="right" valign="top"> 22.4. Өгөгдлийн бүрэн бүтэн байдал</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Энэ болон бусад баримтуудыг
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>
    хаягаас татаж авч болно.</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>FreeBSD-ийн талаар
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;
    хаягтай холбоо барихаасаа өмнө
    <a href="http://www.FreeBSD.org/docs.html">баримтыг</a> уншина уу.<br></br>
    Энэ бичиг баримттай холбоотой асуулт байвал
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;
    хаягаар цахим захидал явуулна уу.<br></br>
    Энэ бичиг баримтын орчуулгатай холбоотой асуулт байвал
    &lt;<a href="mailto:admin@mnbsd.org">admin@mnbsd.org</a>&gt;
    хаягаар цахим захидал явуулна уу.</small></p></body></html>