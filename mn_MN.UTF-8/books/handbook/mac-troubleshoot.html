<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>17.17. MAC Тогтолцооны алдааг олж засварлах</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD гарын авлага" /><link rel="up" href="mac.html" title="Бүлэг 17. Mandatory Access Control буюу Албадмал Хандалтын хяналт" /><link rel="prev" href="mac-userlocked.html" title="17.16. Хэрэглэгчийг түгжих" /><link rel="next" href="audit.html" title="Бүлэг 18. Аюулгүй байдлын үйл явцад аудит хийх нь" /><link rel="copyright" href="legalnotice.html" title="Хуулийн заалт" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">17.17. MAC Тогтолцооны алдааг олж засварлах</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="mac-userlocked.html">Өмнөх</a> </td><th width="60%" align="center">Бүлэг 17. Mandatory Access Control буюу Албадмал Хандалтын хяналт</th><td width="20%" align="right"> <a accesskey="n" href="audit.html">Дараах</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="mac-troubleshoot"></a>17.17. MAC Тогтолцооны алдааг олж засварлах</h2></div></div></div><a id="idp81438800" class="indexterm"></a><p>Хөгжүүлэлтийн явцад цөөн хэрэглэгчид энгийн тохируулга дээр асуудлууд
	гарснаа мэдээлсэн. Эдгээр асуудлуудын заримыг доор
	жагсаав:</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp81439952"></a>17.17.1. <code class="option">multilabel</code> тохируулгыг <code class="filename">/</code>
	дээр идэвхжүүлж болохгүй байна</h3></div></div></div><p><code class="option">multilabel</code> туг миний root
	(<code class="filename">/</code>) хуваалтан дээр идэвхтэй болохгүй байна!</p><p>50 хэрэглэгч тутмын нэг нь ийм асуудалтай байдаг бололтой, харин бид
	энэ асуудалтай эхний тохиргооны үеэр тулгарсан. <span class="quote">«<span class="quote">bug</span>»</span>
	буюу "цох" гэж нэрлэгдэх үүний цаадах ажиглалт нь үүнийг буруу баримтжуулалт
	эсвэл баримтын буруу тайлбарлалтын үр дүн гэж намайг итгэхэд хүргэсэн.
	Энэ яагаад болсноос үл хамааран үүнийг шийдэхийн тулд дараах алхмуудыг
	хийж болох юм:</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p><code class="filename">/etc/fstab</code>-ийг засварлаж
	root хуваалтыг зөвхөн унших зорилгоор <code class="option">ro</code> гэж
	тохируулна.</p></li><li class="step"><p>Ганц хэрэглэгчийн горимд дахин ачаална.</p></li><li class="step"><p><code class="command">tunefs</code> <code class="option">-l enable</code>
	тушаалыг <code class="filename">/</code> дээр ажиллуулна.</p></li><li class="step"><p>Системийг энгийн горимд дахин ачаална.</p></li><li class="step"><p><code class="command">mount</code> <code class="option">-urw</code>
	  <code class="filename">/</code> тушаалыг ажиллуулж <code class="option">ro</code>
	тохируулгыг <code class="option">rw</code> болгож <code class="filename">/etc/fstab</code>
	файлд өөрчлөн системийг дахин ачаална.</p></li><li class="step"><p>root файлын систем дээр <code class="option">multilabel</code>
	тохируулга зөв тохируулагдсаныг баталгаажуулж <code class="command">mount</code>
	тушаалын гаралтыг дахин шалгаарай.</p></li></ol></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp81457104"></a>17.17.2. <acronym class="acronym">MAC</acronym>-ийн дараа X11 серверийг эхлүүлж
	чадахгүй байна</h3></div></div></div><p><acronym class="acronym">MAC</acronym>-ийн тусламжтай аюулгүй орчинг
	үүсгэсний дараа би X-ийг дахиж эхлүүлж чадахаа больчихлоо!</p><p>Энэ нь <acronym class="acronym">MAC</acronym>
	<code class="literal">хуваалт</code>ын бодлого эсвэл
	<acronym class="acronym">MAC</acronym> хаяглалтын бодлогуудын аль нэгний
	буруу хаяглалтаас болсон байж болох юм. Дибаг хийхийн тулд доор дурдсаныг
	оролдоод үзээрэй:</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Алдааны мэдэгдлийг шалгана; хэрэв хэрэглэгч
	<code class="literal">insecure</code> ангилалд байгаа бол
	<code class="literal">хуваалт</code>ын бодлого гэмтэн байж болох юм.
	Хэрэглэгчийн ангиллыг <code class="literal">default</code> буюу
	анхдагч ангилал уруу тохируулж мэдээллийн баазыг
	<code class="command">cap_mkdb</code> тушаалын тусламжтай дахин бүтээх
	хэрэгтэй. Хэрэв энэ нь асуудлыг арилгаж чадахгүй байгаа бол
	хоёрдугаар алхам уруу ор.</p></li><li class="step"><p>Хаяг/шошгоны бодлогуудыг давхар шалгаарай. Асуудалтай
	байгаа хэрэглэгч, X11 програм болон  <code class="filename">/dev</code>
	оруулгуудын хувьд бодлогууд зөв заагдсан эсэхийг
	баталгаажуулаарай.</p></li><li class="step"><p>Хэрэв эдгээрийн аль нь ч асуудлыг тань шийдэхгүй бол
	 <a class="link" href="http://www.TrustedBSD.org" target="_top">TrustedBSD</a>
	вэб сайтад байрлах TrustedBSD-ийн хэлэлцүүлгийн жагсаалтууд эсвэл
	<a class="link" href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-questions" target="_top">FreeBSD ерөнхий асуултууд захидлын жагсаалт</a> захидлын жагсаалт уруу алдааны мэдэгдэл
	болон өөрийн орчны тухай мэдээллийг илгээгээрэй.</p></li></ol></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp81470288"></a>17.17.3. Error: <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=_secure_path&amp;sektion=3"><span class="citerefentry"><span class="refentrytitle">_secure_path</span>(3)</span></a> cannot stat <code class="filename">.login_conf</code></h3></div></div></div><p>Намайг <code class="systemitem">root</code> хэрэглэгчээс систем дээрх
		өөр хэрэглэгч уруу шилжихийг оролдох үед
	<span class="errorname">_secure_path: unable to state .login_conf</span>
	гэсэн алдаа гараад байна.</p><p>Энэ мэдэгдэл нь тэр болох гэж байгаа хэрэглэгчийн хаяг/шошгоны тохиргооноос
	хэрэглэгчийн өөрийнх нь тохиргоо өндөр байгааг ихэвчлэн үзүүлдэг.
	Жишээ нь систем дээрх хэрэглэгч <code class="systemitem">joe</code> анхдагч
	<code class="option">biba/low</code> гэсэн хаяг/шошготой байна гэж бодъё.
	<code class="option">biba/high</code> хаяг/шошготой <code class="systemitem">root</code>
	хэрэглэгч <code class="systemitem">joe</code>-ийн гэр санг харж чадахгүй.
	Энэ нь <code class="systemitem">root</code> хэрэглэгч <code class="command">su</code>
	тушаал ашиглан <code class="systemitem">joe</code> болсон ч гэсэн болохгүй байна.
	Энэ тохиолдолд Biba бүрэн бүтэн байдлын загвар нь <code class="systemitem">root</code>
	хэрэглэгчийг бүрэн бүтэн байдлын доод түвшин тохируулагдсан обьектуудыг
	харахыг зөвшөөрөхгүй байх болно.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp81477968"></a>17.17.4. <code class="systemitem">root</code> хэрэглэгчийн нэр эвдэрсэн байна!</h3></div></div></div><p>Энгийн эсвэл бүр ганц хэрэглэгчийн горимд <code class="systemitem">root</code>
	хэрэглэгч танигддаггүй. <code class="command">whoami</code> тушаал
	0 (тэг) буцаах бөгөөд <code class="command">su</code> тушаал
	<span class="errorname">who are you?</span> гэсэн алдааны мэдэгдлийг
	буцаадаг. Юу болоод байгаа юм бол оо?</p><p>Энэ нь хаяглах бодлого <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sysctl&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sysctl</span>(8)</span></a>-оор хаагдсан эсвэл
	бодлогын модулийг буулгаснаас болдог. Хэрэв бодлого хаагдсан эсвэл
	түр зуур хаагдсан бол <code class="option">label</code> тохируулгыг арилган
	нэвтрэлтийн боломжуудын мэдээллийн баазыг дахин тохируулах
	хэрэгтэй. Бүх <code class="option">label</code> тохируулгууд арилсан эсэхийг
	баталгаажуулж  <code class="filename">login.conf</code> файлаа дахин
	шалгаж мэдээллийн баазаа <code class="command">cap_mkdb</code>
	тушаалаар дахин бүтээх хэрэгтэй.</p><p>Энэ нь <code class="filename">master.passwd</code> файлд
	эсвэл мэдээллийн баазад хандах хандалтыг бодлого хязгаарласнаас болоод
	бас гарч болох юм. Системд ашиглагдаж байгаа ерөнхий бодлоготой
	зөрчилдөх хаяг/шошгоны доор администратор файлыг өөрчлөхөд ихэвчлэн
	ингэдэг. Ийм тохиолдлуудад хэрэглэгчийн мэдээллийг систем унших
	бөгөөд файл нь шинэ хаяг/шошго удамшин авсан болохоор хандалт хаалттай
	байх болно. Бодлогыг <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sysctl&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sysctl</span>(8)</span></a>-ий тусламжтай хаах хэрэгтэй.
	Ингэхэд бүх зүйлс хэвийндээ эргэн орох болно.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="mac-userlocked.html">Өмнөх</a> </td><td width="20%" align="center"><a accesskey="u" href="mac.html">Дээш</a></td><td width="40%" align="right"> <a accesskey="n" href="audit.html">Дараах</a></td></tr><tr><td width="40%" align="left" valign="top">17.16. Хэрэглэгчийг түгжих </td><td width="20%" align="center"><a accesskey="h" href="index.html">Эхлэл</a></td><td width="40%" align="right" valign="top"> Бүлэг 18. Аюулгүй байдлын үйл явцад аудит хийх нь </td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Энэ болон бусад баримтуудыг
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>
    хаягаас татаж авч болно.</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>FreeBSD-ийн талаар
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;
    хаягтай холбоо барихаасаа өмнө
    <a href="http://www.FreeBSD.org/docs.html">баримтыг</a> уншина уу.<br></br>
    Энэ бичиг баримттай холбоотой асуулт байвал
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;
    хаягаар цахим захидал явуулна уу.<br></br>
    Энэ бичиг баримтын орчуулгатай холбоотой асуулт байвал
    &lt;<a href="mailto:admin@mnbsd.org">admin@mnbsd.org</a>&gt;
    хаягаар цахим захидал явуулна уу.</small></p></body></html>