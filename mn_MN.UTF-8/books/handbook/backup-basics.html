<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>19.12. Нөөцлөлтийн үндсүүд</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD гарын авлага" /><link rel="up" href="disks.html" title="Бүлэг 19. Хадгалалт" /><link rel="prev" href="backup-strategies.html" title="19.11. Нөөцлөх стратегууд" /><link rel="next" href="disks-virtual.html" title="19.13. Сүлжээ, санах ой болон файл дээр тулгуурласан файлын системүүд" /><link rel="copyright" href="legalnotice.html" title="Хуулийн заалт" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">19.12. Нөөцлөлтийн үндсүүд</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="backup-strategies.html">Өмнөх</a> </td><th width="60%" align="center">Бүлэг 19. Хадгалалт</th><td width="20%" align="right"> <a accesskey="n" href="disks-virtual.html">Дараах</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="backup-basics"></a>19.12. Нөөцлөлтийн үндсүүд</h2></div></div></div><p>Гурван гол нөөцлөх програм бол <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dump&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">dump</span>(8)</span></a>, <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=tar&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">tar</span>(1)</span></a> болон
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=cpio&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">cpio</span>(1)</span></a> юм.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp82677200"></a>19.12.1. Dump ба Restore</h3></div></div></div><a id="idp82677840" class="indexterm"></a><a id="idp82678992" class="indexterm"></a><a id="idp82679632" class="indexterm"></a><p>Уламжлалт <span class="trademark">UNIX</span>® нөөцлөх програмууд нь <code class="command">dump</code> ба
	<code class="command">restore</code> юм. Тэдгээр нь файлын системүүдээр үүсгэгдсэн
	файлууд, холбоосууд болон сангуудын хийсвэр ойлголтуудын доор хөтчүүд дээр дискний
	блокуудын цуглуулга хэлбэрээр ажилладаг. Бусад нөөцлөх програмуудаас ялгаатай нь
	<code class="command">dump</code> нь төхөөрөмж дээрх бүхэл файлын системийг нөөцөлдөг. Файлын
	системийн зөвхөн хэсгийг эсвэл нэгээс илүү файлын систем дагуу байрлах сангийн модыг
	энэ нь нөөцөлж чаддаггүй. <code class="command">dump</code> нь файлууд болон сангуудыг соронзон
	хальс уруу бичдэггүй, харин файлууд болон сангуудаас тогтох түүхий өгөгдлийн блокуудыг
	бичдэг. Өгөгдлийг задлахад хэрэглэгдэхдээ <code class="command">restore</code> нь анхдагчаар
	түр зуурын файлуудыг <code class="filename">/tmp/</code> санд хадгалдаг. Хэрэв та жижиг
	хэмжээний <code class="filename">/tmp</code> сан бүхий нөөц сэргээх диск дээрээс ажиллаж
	байгаа бол сэргээлтийг амжилттай гүйцээхийн тулд илүү чөлөөтэй зайтай сан руу
	<code class="envar">TMPDIR</code> орчны хувьсагчийг зааж өгөх хэрэгтэй байж болох юм.</p><div xmlns="" class="note"><h3 class="admontitle">Тэмдэглэл: </h3><p xmlns="http://www.w3.org/1999/xhtml">Хэрэв та өөрийн root сандаа <code class="command">dump</code>-г
	хэрэглэвэл та <code class="filename">/home</code>,
        <code class="filename">/usr</code> эсвэл бусад олон сангуудыг нөөцлөхгүй бөгөөд
	үүний учир бол эдгээр нь ихэвчлэн бусад файлын системүүдийн холбох цэгүүд буюу
	эсвэл тэдгээр файлын системүүд уруу заасан симболын холбоосууд байдаг.</p></div><p><code class="command">dump</code> нь өөрийн хөгжлийн эхний өдрүүд болох
	AT&amp;T UNIX-ийн 6-р хувилбараас (1975 он орчим) үлдсэн кодтой
	байдаг. Анхдагч параметрүүд нь өнөөдөр байгаа өндөр нягтралтай (62,182 ftpi хүртэл)
	зөөвөрлөгчид биш 9 зам (6250 bpi) бүхий соронзон хальсанд тохирдог. Одоогийн соронзон хальсны
	хөтчүүдийн багтаамжийг хэрэглэхийн тулд эдгээр анхдагчуудыг тушаалын мөрөөс дарж
	өөрчлөх ёстой.</p><a id="idp82686672" class="indexterm"></a><p>Мөн сүлжээгээр өөр компьютерт холбогдсон соронзон хальсны хөтөч уруу өгөгдлийг
	<code class="command">rdump</code> болон <code class="command">rrestore</code>
	тушаал ашиглан нөөцлөх боломжтой байдаг. Энэ хоёр програм нь алсын соронзон хальсны
	хөтчид хандахдаа <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=rcmd&amp;sektion=3"><span class="citerefentry"><span class="refentrytitle">rcmd</span>(3)</span></a> болон <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ruserok&amp;sektion=3"><span class="citerefentry"><span class="refentrytitle">ruserok</span>(3)</span></a>-д тулгуурладаг.
	Тиймээс нөөцлөлтийг хийж байгаа хэрэглэгч алсын компьютерийн
	<code class="filename">.rhosts</code> файл дотор жагсаагдсан байх ёстой.
	<code class="command">rdump</code> болон <code class="command">rrestore</code>
	тушаалуудад өгөх нэмэлт өгөгдлүүд нь алсын компьютер дээр ашиглаж болохоор
	байх ёстой. <code class="systemitem">komodo</code> гэж нэрлэгдсэн Sun уруу холбогдсон
	Exabyte соронзон хальсны хөтөч уруу FreeBSD компьютераас <code class="command">rdump</code>
	хийхдээ дараах тушаалыг ашиглана:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>/sbin/rdump 0dsbfu 54000 13000 126 komodo:/dev/nsa8 /dev/da0a 2&gt;&amp;1</code></strong></pre><p>Болгоомжлоорой: <code class="filename">.rhosts</code> танин нэвтрэлтийг
	зөвшөөрөх нь аюулгүй байдлын асуудлууд үүсгэдэг. Өөрийн нөхцөл байдлыг
	анхааралтай үнэлэх хэрэгтэй.</p><p>Мөн <code class="command">dump</code> болон <code class="command">restore</code>
	тушаалыг илүү аюулгүй загвараар <code class="command">ssh</code> дээгүүр ашиглах
	бас боломжтой байдаг.</p><div class="example"><a id="idp82695376"></a><div class="example-title">Жишээ 19.1. <span class="application">ssh</span>-ээр <code class="command">dump</code>-г ашиглах нь</div><div class="example-contents"><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>/sbin/dump -0uan -f - /usr | gzip -2 | ssh -c blowfish \
          targetuser@targetmachine.example.com dd of=/mybigfiles/dump-usr-l0.gz</code></strong></pre></div></div><br class="example-break" /><p>Эсвэл <code class="command">dump</code>-ийн дотор байдаг нэг арга болох <code class="envar">RSH</code> орчны хувьсагчийг
	тохируулан ашиглаж болно:</p><div class="example"><a id="idp82703184"></a><div class="example-title">Жишээ 19.2. <span class="application">ssh</span>-ээр <code class="envar">RSH</code> тохируулан <code class="command">dump</code>-г
		ашиглах нь</div><div class="example-contents"><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>env RSH=/usr/bin/ssh /sbin/dump -0uan -f targetuser@targetmachine.example.com:/dev/sa0 /usr</code></strong></pre></div></div><br class="example-break" /></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp82706000"></a>19.12.2. <code class="command">tar</code></h3></div></div></div><a id="idp82706768" class="indexterm"></a><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=tar&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">tar</span>(1)</span></a> нь бас AT&amp;T UNIX-ийн 6-р хувилбараас (1975 он орчим)
	эхтэй. <code class="command">tar</code> нь файлын системтэй хамт ажилладаг;
	энэ нь файлууд болон сангуудыг соронзон хальс уруу бичдэг. <code class="command">tar</code>
	нь <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=cpio&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">cpio</span>(1)</span></a>-д байдаг бүрэн хэмжээний тохируулгуудыг дэмждэггүй боловч
	энэ нь <code class="command">cpio</code>-ийн хэрэглэдэг ховор тушаалын дамжуулах
	хоолойг шаарддаггүй.</p><a id="idp82715216" class="indexterm"></a><p><code class="systemitem">komodo</code> гэж нэрлэгдсэн Sun уруу холбогдсон
	Exabyte соронзон хальсны хөтөч уруу <code class="command">tar</code>
	хийхдээ дараах тушаалыг ашиглана:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>tar cf - . | rsh komodo dd of=tape-device obs=20b</code></strong></pre><p>Хэрэв та сүлжээгээр нөөцлөхийн аюулгүй байдалд санаа зовж байгаа бол
	<code class="command">rsh</code>-ийн оронд <code class="command">ssh</code> тушаалыг
	ашиглах хэрэгтэй.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp82719056"></a>19.12.3. <code class="command">cpio</code></h3></div></div></div><a id="idp82719824" class="indexterm"></a><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=cpio&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">cpio</span>(1)</span></a> нь соронзон зөөвөрлөгчид зориулагдсан <span class="trademark">UNIX</span>®-ийн
	анхны файл солилцох соронзон хальсны програм юм. <code class="command">cpio</code> нь
	(бусад олон тохируулгуудын дотроос) байт солилцохыг хийх, хэд хэдэн төрлийн
	архивын хэлбэршүүлэлтүүдийг бичих болон өгөгдлийг өөр програм уруу хоолойгоор
	гаргах зэрэг тохируулгуудтай байдаг. Сүүлийн боломж нь <code class="command">cpio</code>-г
	суулгацын зөөвөрлөгчийн хувьд сайн сонголт болгодог. <code class="command">cpio</code> нь
	сангийн модоор хэрхэн явахаа мэддэггүй бөгөөд файлуудын жагсаалтыг
	<code class="filename">stdin</code>-ээс хангаж өгөх ёстой.</p><a id="idp82732496" class="indexterm"></a><p><code class="command">cpio</code> нь сүлжээгээр нөөцлөхийг дэмждэггүй.
	Та дамжуулах хоолой болон <code class="command">rsh</code>-ийг ашиглаж өгөгдлийг
	алсын соронзон хальсны хөтөч уруу илгээж болно.</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>for f in directory_list; do</code></strong>
<strong class="userinput"><code>find $f &gt;&gt; backup.list</code></strong>
<strong class="userinput"><code>done</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>cpio -v -o --format=newc &lt; backup.list | ssh user@host "cat &gt; backup_device"</code></strong></pre><p><em class="replaceable"><code>directory_list</code></em> нь таны нөөцлөхийг хүссэн
	сангуудын жагсаалт бол
	<em class="replaceable"><code>user</code></em>@<em class="replaceable"><code>host</code></em> нь
	нөөцлөлтийг хийж байгаа хэрэглэгч/хостын нэрийн хослол бөгөөд
	<em class="replaceable"><code>backup_device</code></em> нь нөөцлөлт хийгдэх төхөөрөмж
	(өөрөөр хэлбэл <code class="filename">/dev/nsa0</code>) юм.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp82738896"></a>19.12.4. <code class="command">pax</code></h3></div></div></div><a id="idp82743888" class="indexterm"></a><a id="idp82745168" class="indexterm"></a><a id="idp82745808" class="indexterm"></a><a id="idp82746320" class="indexterm"></a><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pax&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">pax</span>(1)</span></a> нь <code class="command">tar</code> болон <code class="command">cpio</code>
	тушаалын IEEE/<span class="trademark">POSIX</span>®-ийн хариулт юм. Жил ирэх тутам <code class="command">tar</code> болон
	<code class="command">cpio</code> тушаалуудын төрөл бүрийн хувилбарууд нь хоорондоо мэдэгдэхүйц
	нийцгүй болж ирсэн юм. Тэдгээртэй тэмцэж бүр мөсөн стандартчилахын оронд
	<span class="trademark">POSIX</span>® нь архивын шинэ хэрэгсэл үүсгэсэн юм. <code class="command">pax</code> нь
	өөрийн шинэ хэлбэршүүлэлтээс гадна <code class="command">cpio</code> болон <code class="command">tar</code>
	тушаалуудын төрөл бүрийн хэлбэршүүлэлтийн ихэнхийг уншиж бичихийг оролддог.
	Энэ тушаалын олонлог нь  <code class="command">tar</code> тушаалынхтай биш харин
	<code class="command">cpio</code> тушаалынхтай илүү төстэй байдаг.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="backups-programs-amanda"></a>19.12.5. <span class="application">Amanda</span></h3></div></div></div><a id="idp82757840" class="indexterm"></a><a id="idp82759120" class="indexterm"></a><p><span class="application">Amanda</span> (Advanced Maryland
        Network Disk Archiver) нь нэг програм биш клиент/сервер програм юм.
	<span class="application">Amanda</span> сервер нь ганц соронзон хальсны хөтөч уруу
	<span class="application">Amanda</span> клиенттэй, <span class="application">Amanda</span>
	сервер уруу сүлжээгээр холбогдсон дурын тооны компьютерийг нөөцлөх болно.
	Хэд хэдэн том дискнүүд бүхий сайтууд дээр байдаг нийтлэг асуудлууд нь өгөгдлийг
	соронзон хальс уруу нөөцлөхөд шаардагдах хугацаа  нь уг үйлдлийн хувьд зориулагдсан
	хугацаанаас илүү гарах явдал юм. <span class="application">Amanda</span> нь
	энэ асуудлыг шийддэг. <span class="application">Amanda</span> нь
	хэд хэдэн файлын системүүдийг нэг зэрэг нөөцлөхдөө <span class="quote">«<span class="quote">holding disk буюу хүлээгдэх диск</span>»</span>ийг
	ашигладаг. <span class="application">Amanda</span> нь
	<span class="quote">«<span class="quote">архивын олонлогууд</span>»</span> буюу <span class="application">Amanda</span>-ийн
	тохиргооны файлд жагсаагдсан бүх файлын системүүдийн бүрэн нөөцлөлтүүдийг үүсгэхэд хэсэг хугацаанд
	хэрэглэгдсэн бүлэг соронзон хальснуудыг үүсгэдэг. <span class="quote">«<span class="quote">Архивын олонлогууд</span>»</span> нь бас
	файлын системүүдийн шөнө болгоны нэмэгдсэн (эсвэл ялгаатай) нөөцлөлтүүдийг агуулдаг.
	Эвдэрсэн файлын системийг сэргээх нь хамгийн сүүлийн бүрэн нөөцлөлт болон нэмэгдсэн
	нөөцлөлтүүдийг шаарддаг.</p><p>Тохиргооны файл нь нөөцлөлтүүд болон <span class="application">Amanda</span>-ийн
	үүсгэдэг сүлжээний урсгалыг нарийн хянах боломжийг хангадаг. <span class="application">Amanda</span>
	нь өгөгдлийг соронзон хальс уруу бичихийн тулд дээр дурдсан нөөцлөлтийн програмуудыг
	ашиглана. <span class="application">Amanda</span> нь порт эсвэл багц хэлбэрээр
	байдаг бөгөөд анхдагчаар суулгагдаагүй байдаг.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp82794960"></a>19.12.6. Юу ч хийхгүй байх</h3></div></div></div><p><span class="quote">«<span class="quote">Юу ч хийхгүй байх</span>»</span> нь компьютерийн програм биш боловч энэ нь
	хамгийн их ашиглагддаг нөөцлөлтийн стратеги юм. Ямар ч эхний зардал байхгүй.
	Мөрдөх нөөцлөлтийн төлөвлөгөө байхгүй. Зүгээр л үгүй гэх хэрэгтэй. Хэрэв таны
	өгөгдөлд ямар нэг асуудал тохиолдвол шүд зуугаад л тэвчих хэрэгтэй!</p><p>Хэрэв таны цаг болон өгөгдөл нь тийм ч чухал биш эсвэл юу ч биш бол
	<span class="quote">«<span class="quote">Do nothing буюу юу ч хийхгүй байх</span>»</span> нь таны компьютерийн
	хувьд хамгийн тохиромжтой нөөцлөлтийн програм болох юм. Гэхдээ <span class="trademark">UNIX</span>®
	нь ашигтай хэрэгсэл юм, та зургаан сарын дотор үнэтэй файлуудын цуглуулгатай  болж
	үүнийг мэдрэх болно.</p><p><span class="quote">«<span class="quote">Юу ч хийхгүй байх</span>»</span> нь <code class="filename">/usr/obj</code>
	болон таны компьютераар яг үүсгэгдэж болох бусад сангийн моднуудын хувьд зөв
	нөөцлөх арга болдог. Үүний жишээ нь энэ гарын авлагын  HTML эсвэл <span class="trademark">PostScript</span>®-с
	тогтох хувилбарын файлууд байж болох юм. Эдгээр баримтын хэлбэршүүлэлтүүд нь
	XML оролтын файлуудаас үүсгэгддэг. HTML эсвэл <span class="trademark">PostScript</span>® файлуудын
	нөөцлөлтийг үүсгэх нь шаардлагагүй юм. XML файлууд нь байнга нөөцлөгддөг.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp82799824"></a>19.12.7. Аль нөөцлөлтийн програм хамгийн шилдэг нь вэ?</h3></div></div></div><a id="idp82800464" class="indexterm"></a><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dump&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">dump</span>(8)</span></a> <span class="emphasis"><em>Үе.</em></span> Элизабет Д. Звики
	энд дурдагдсан бүх нөөцлөлтийн програмуудыг зовоосон тест хийсэн. Өөрийн бүх өгөгдөл
	болон <span class="trademark">UNIX</span>® файлын системүүдийн онцлогуудыг хадгалах цэвэр сонголт бол
	<code class="command">dump</code> болсон байна. Элизабет маш их төрөл бүрийн ховор
	нөхцөлүүдийг  (зарим нь тийм ч ховор биш) агуулсан файлын системүүдийг үүсгэж
	тэдгээр файлын системүүдийг нөөцлөн дараа нь сэргээж програм бүрийг тест хийсэн
	байна. Онцгой зүйлүүдэд цоорхойтой файлууд, хоосон блоктой болон цоорхойтой
	файлууд, сонин тэмдэгт бүхий нэрээс тогтсон файлууд, бичигдэх боломжгүй уншигдах
	боломжгүй файлууд, төхөөрөмжүүд, нөөцлөлтийн үед хэмжээгээ өөрчлөх файлууд,
	нөөцлөлтийн үед үүсгэгдэж/устгагдсан файлууд зэргийг дурдаж болох юм.
	Тэрээр үр дүнгээ 1991 оны 10 сард LISA дээр үзүүлсэн байна.
	<a class="link" href="http://www.coredumps.de/doc/dump/zwicky/testdump.doc.html" target="_top">Нөөцлөлт
	болон Архивын програмуудыг зовоох тест</a> холбоосыг үзнэ үү.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp82804304"></a>19.12.8. Яаралтай сэргээх процедур</h3></div></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp82804944"></a>19.12.8.1. Гамшгийн өмнө</h4></div></div></div><p>Учирч болзошгүй гамшигт бэлтгэхийн тулд таны хийх ёстой дөрвөн
	үе шат байдаг.</p><a id="idp82805968" class="indexterm"></a><p>Эхлээд өөрийн диск бүрийн bsdlabel
	(өөрөөр хэлбэл <code class="command">bsdlabel da0 | lpr</code>), өөрийн
	файлын системийн хүснэгт (<code class="filename">/etc/fstab</code>) болон
	бүх ачаалалтын мэдэгдлүүдийг тус бүр хоёр хувь хэвлэх хэрэгтэй.</p><a id="idp82808016" class="indexterm"></a><p>Дараа нь <span class="quote">«<span class="quote">livefs</span>»</span> CDROM шарах хэрэгтэй.
	  Энэ CDROM нь FreeBSD <span class="quote">«<span class="quote">livefs</span>»</span> аврах горим руу ачаалж
	  орох боломжийг агуулсан байдаг. Ингэснээр хэрэглэгч
	  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dump&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">dump</span>(8)</span></a>,<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=restore&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">restore</span>(8)</span></a>, <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=fdisk&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">fdisk</span>(8)</span></a>, <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=bsdlabel&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">bsdlabel</span>(8)</span></a>,
	  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=newfs&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">newfs</span>(8)</span></a>, <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mount&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mount</span>(8)</span></a> гэх мэт олон үйлдлийг хийх
	  боломжтой болох юм. FreeBSD/i386 9.3-RELEASE-д
	  зориулсан Livefs CD дүрс <code class="uri"><a class="uri" href="ftp://ftp.FreeBSD.org/pub/FreeBSD/releases/i386/ISO-IMAGES/9.3/FreeBSD-9.3-RELEASE-i386-livefs.iso" target="_top">ftp://ftp.FreeBSD.org/pub/FreeBSD/releases/i386/ISO-IMAGES/9.3/FreeBSD-9.3-RELEASE-i386-livefs.iso</a></code> хаяг дээр бий.</p><div xmlns="" class="note"><h3 class="admontitle">Тэмдэглэл: </h3><p xmlns="http://www.w3.org/1999/xhtml">Livefs CD дүрснүүд
            FreeBSD 10.1-RELEASE болон түүнээс хойшхи
	    хувилбаруудын хувьд байдаггүй.
	    CDROM суулгалтын дүрснээс гадна флэш суулгалтын дүрснүүд
	    ашиглан системийг сэргээж болно.
	    FreeBSD/i386 10.1-RELEASE-д зориулсан
	    <span class="quote">«<span class="quote">memstick</span>»</span> дүрс <code class="uri"><a class="uri" href="ftp://ftp.FreeBSD.org/pub/FreeBSD/releases/i386/i386/ISO-IMAGES/10.1/FreeBSD-10.1-RELEASE-i386-memstick.img" target="_top">ftp://ftp.FreeBSD.org/pub/FreeBSD/releases/i386/i386/ISO-IMAGES/10.1/FreeBSD-10.1-RELEASE-i386-memstick.img</a></code> хаяг дээр
	    бий.</p></div><p>Гуравдугаарт нөөц соронзон хальснуудыг байнга үүсгэж байх хэрэгтэй. Таны сүүлийн нөөцлөлтөөс
	хойш хийгдсэн өөрчлөлтүүд буцааж авагдах боломжгүйгээр алга болж болох юм. Нөөц
	соронзон хальснууд уруу хийж болзошгүй бичилтийг хамгаалах хэрэгтэй.</p><p>Дөрөвдүгээрт хоёрдугаар шатанд хийсэн <span class="quote">«<span class="quote">livefs</span>»</span> CDROM болон
	  нөөцийн соронзон хальснуудыг шалгах ёстой.
	Процедурынхаа талаар тэмдэглэгээ хийх хэрэгтэй. Эдгээр тэмдэглэгээнүүдээ
	CDROM, хэвлэсэн зүйл болон нөөц соронзон хальснуудтайгаа цуг хадгалах
	хэрэгтэй. Сэргээж байх үед таны анхаарал их сарнисан байж болох бөгөөд тэдгээр
	тэмдэглэгээнүүд чинь таныг өөрийн нөөц соронзон хальснуудаа устгахаас сэргийлэх болно
	(Яаж? <code class="command">tar xvf /dev/sa0</code> тушаалын оронд та
	санамсаргүйгээр <code class="command">tar cvf /dev/sa0</code> гэж бичээд өөрийн
	нөөц соронзон хальсыг дарж бичиж болох юм).</p><p>Аюулгүй байдлын нэмэгдэл арга хэмжээ болгож тухайг бүрт нь ачаалагдах
	  <span class="quote">«<span class="quote">livefs</span>»</span> CDROM болон нөөц соронзон хальс хоёрыг бэлдэж байх хэрэгтэй.
	  Тус бүрийг нь тусад нь алсад 	өөр газар хадгалах хэрэгтэй. Тэр өөр газар нь яг
	  тэр оффисийн байрны подвал байх ЁСГҮЙ. Дэлхийн Худалдааны Төвийн хэд хэдэн
	  фирм үүнийг хэцүү замаар мэдэрсэн юм. Тэр өөр газар нь таны компьютерууд
	  болон дискний хөтчүүдээс тусгаарлагдсан физикийн хувьд нэлээд зайтай газар байх ёстой.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp82819536"></a>19.12.8.2. Гамшгийн дараа</h4></div></div></div><p>Түлхүүр асуулт бол: таны тоног төхөөрөмж амьд гарч чадсан уу? Байнгын
	нөөцлөлт хийж байсан болохоор програм хангамжийн талаар та санаа зовох хэрэггүй
	юм.</p><p>Хэрэв тоног төхөөрөмж эвдэрсэн бол компьютерийг ашиглахаасаа өмнө
	эвдэрсэн хэсгүүдийг солих шаардлагатай.</p><p>Хэрэв таны тоног төхөөрөмж зүгээр байгаа бол
	  CDROM хөтөч рүү <span class="quote">«<span class="quote">livefs</span>»</span> CDROM-оо хийгээд
	компьютераа ачаалах хэрэгтэй. Эхний суулгах цэс дэлгэц дээр гарах
	болно. Зөв улсаа сонгоод
	  <span class="guimenuitem">Fixit -- Repair mode with CDROM/DVD/floppy or start a shell.</span>
	  сонголтыг сонгоод <span class="guimenuitem">CDROM/DVD -- Use the live filesystem CDROM/DVD</span>
	  цэсийг сонгоно. Танд хэрэгтэй <code class="command">restore</code> болон бусад програмууд
	<code class="filename">/mnt2/rescue</code> санд байрлана.</p><p>Файлын систем бүрийг тус тусад нь сэргээнэ.</p><a id="idp82823760" class="indexterm"></a><a id="idp82824656" class="indexterm"></a><a id="idp82825168" class="indexterm"></a><a id="idp82830288" class="indexterm"></a><p>Өөрийн эхний дискний root хуваалтыг <code class="command">mount</code> (өөрөөр хэлбэл
	<code class="command">mount /dev/da0a /mnt</code>) хийхийг оролдоорой. Хэрэв bsdlabel
	эвдэрсэн бол <code class="command">bsdlabel</code> тушаалыг ашиглан дискийг дахин
	хувааж таны хэвлэж хадгалсан шошготой адил тааруулж хаяглах хэрэгтэй.
	<code class="command">newfs</code> тушаал ашиглан файлын системүүдийг дахин үүсгэнэ.
	Дискний root хуваалтыг унших-бичихээр дахин холбох хэрэгтэй (<code class="command">mount -u -o rw
	    /mnt</code>). Энэ файлын системийн хувьд өгөгдлийг сэргээхийн тулд
	өөрийн нөөцлөх програм болон соронзон хальснуудыг ашиглана (өөрөөр хэлбэл <code class="command">restore vrf
	    /dev/sa0</code>). Файлын системийг салгана (өөрөөр хэлбэл <code class="command">umount
	    /mnt</code>). Эвдэрсэн файлын систем бүрийн хувьд давтана.</p><p>Таны систем ажилласны дараа өөрийн өгөгдлийг шинэ соронзон хальс уруу нөөцлөх хэрэгтэй.
	Сүйрэл эсвэл өгөгдлийн алдагдалд хүргэсэн тэр явдал дахин болж болох юм. Одоо зарцуулсан
	нэг цаг таныг зовлонд учрахаас хожим аварч болох юм.</p></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="backup-strategies.html">Өмнөх</a> </td><td width="20%" align="center"><a accesskey="u" href="disks.html">Дээш</a></td><td width="40%" align="right"> <a accesskey="n" href="disks-virtual.html">Дараах</a></td></tr><tr><td width="40%" align="left" valign="top">19.11. Нөөцлөх стратегууд </td><td width="20%" align="center"><a accesskey="h" href="index.html">Эхлэл</a></td><td width="40%" align="right" valign="top"> 19.13. Сүлжээ, санах ой болон файл дээр тулгуурласан файлын системүүд</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Энэ болон бусад баримтуудыг
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>
    хаягаас татаж авч болно.</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>FreeBSD-ийн талаар
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;
    хаягтай холбоо барихаасаа өмнө
    <a href="http://www.FreeBSD.org/docs.html">баримтыг</a> уншина уу.<br></br>
    Энэ бичиг баримттай холбоотой асуулт байвал
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;
    хаягаар цахим захидал явуулна уу.<br></br>
    Энэ бичиг баримтын орчуулгатай холбоотой асуулт байвал
    &lt;<a href="mailto:admin@mnbsd.org">admin@mnbsd.org</a>&gt;
    хаягаар цахим захидал явуулна уу.</small></p></body></html>