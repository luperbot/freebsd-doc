<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>29.6. Дээд түвшний сэдвүүд</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD гарын авлага" /><link rel="up" href="mail.html" title="Бүлэг 29. Цахим Шуудан" /><link rel="prev" href="mail-trouble.html" title="29.5. Гэмтэл саатлыг арилгах нь" /><link rel="next" href="SMTP-UUCP.html" title="29.7. UUCP-тэй SMTP" /><link rel="copyright" href="legalnotice.html" title="Хуулийн заалт" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">29.6. Дээд түвшний сэдвүүд</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="mail-trouble.html">Өмнөх</a> </td><th width="60%" align="center">Бүлэг 29. Цахим Шуудан</th><td width="20%" align="right"> <a accesskey="n" href="SMTP-UUCP.html">Дараах</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="mail-advanced"></a>29.6. Дээд түвшний сэдвүүд</h2></div></div></div><p>Энэ хэсэг захидлын серверийн тохиргоо,
бүхэл домэйнд зориулсан захидлын серверийг
зохион байгуулах зэрэг илүү гүнзгий сэдвүүдийг хамрах болно.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="mail-config"></a>29.6.1. Үндсэн Тохиргоо</h3></div></div></div><a id="idp89224784" class="indexterm"></a><p>Хэрэв та өөрийн нэрийн сервер ажиллуулж байгаа эсвэл
<code class="filename">/etc/resolv.conf</code>-г тохируулсан л бол гадаад хостууд руу
захидал илгээж чадах ёстой. Хэрэв та өөрийн хостод хаягласан
захидлыг таны өөрийн FreeBSD машин дээрх MTA (жишээ нь <span class="application">sendmail</span>)
хүлээж авдаг болгохыг хүсэж байгаа бол, дараах хоёр арга зам байна:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Өөрөө нэрийн сервер ажиллуулаад, өөрийн домэйн нэр авах.
Жишээлбэл, <code class="systemitem">FreeBSD.org</code></p></li><li class="listitem"><p>Захидлыг шууд өөрийн хост дээр хүлээж авдаг байх.
Үүний тулд өөрийн машины одоогийн DNS нэрээр захидлыг хүлээн авах. Жишээлбэл,
<code class="systemitem">example.FreeBSD.org</code>.</p></li></ul></div><a id="idp89230032" class="indexterm"></a><p>Дээрхээс алийг нь ч сонгосон бай, өөр дээрээ захидал шууд хүлээн авдаг
байхын тулд байнгын статик IP хаягтай байх ёстой (ихэнх PPP залгадаг
холболтынх шиг динамик хаяг биш). Хэрэв галт ханын цаана байгаа бол,
галт хана тань руу чиглэсэн SMTP урсгалыг нэвтрүүлэх ёстой.
Захидлыг шууд өөрийн хост дээр хүлээн авахын тулд,
дараах хоёр нөхцөлийн аль нэгийг хангасан байх ёстой:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a id="idp89231440" class="indexterm"></a><p>Таны DNS дээрх (хамгийн бага дугаартай) MX бичлэг
таны хостын IP хаяг руу заасан байх ёстой.</p></li><li class="listitem"><p>Таны DNS дээр таны хостын IP хаяг руу заасан MX бичлэг байх ёсгүй.</p></li></ul></div><p>Дээр дурдсаны аль нэгийг хангасан байхад,
та өөрийн хост дээр захидал хүлээн авах боломжтой болно.</p><p>Туршаад үзээрэй:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>hostname</code></strong>
example.FreeBSD.org
<code class="prompt">#</code> <strong class="userinput"><code>host example.FreeBSD.org</code></strong>
example.FreeBSD.org has address 204.216.27.XX</pre><p>Хэрэв дээрхтэй адил хариу гарч байвал,
<code class="email">&lt;yourlogin@example.FreeBSD.org&gt;</code> хаяг руу илгээсэн захидал
ямар ч асуудалгүй хүрэх газраа очих ёстой (<code class="systemitem">example.FreeBSD.org</code>
дээр <span class="application">sendmail</span> зөв ажиллаж байгаа гэж үзэв).</p><p>Үүний оронд доор дурдсантай адил хариу авбал:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>host example.FreeBSD.org</code></strong>
example.FreeBSD.org has address 204.216.27.XX
example.FreeBSD.org mail is handled (pri=10) by hub.FreeBSD.org</pre><p>таны хост руу илгээсэн бүх захидлууд
(<code class="systemitem">example.FreeBSD.org</code>) шууд таны хост руу илгээгдэхийн оронд
<code class="systemitem">hub</code> дээр адилхан хэрэглэгчийн нэр дээр цугларах болно.</p><p>Дээрх мэдээллийг DNS сервер зохицуулан ажиллана. DNS-н
<span class="emphasis"><em>M</em></span>ail e<span class="emphasis"><em>X</em></span>change буюу MX бичлэгт захидлыг хааш нь
чиглүүлэх талаар мэдээлэл агуулагддаг. Хэрэв ямар ч MX бичлэг байхгүй бол,
захидлыг IP хаягаар нь хостод дамжуулна.</p><p><code class="systemitem">freefall.FreeBSD.org</code>-н MX бичлэг дараах байдалтай байна:</p><pre class="programlisting">freefall		MX	30	mail.crl.net
freefall		MX	40	agora.rdrop.com
freefall		MX	10	freefall.FreeBSD.org
freefall		MX	20	who.cdrom.com</pre><p>Таны харж байгаачлан, <code class="systemitem">freefall</code>-н хувьд олон MX бичлэг
байна. Хамгийн бага MX дугаартай хост ажиллаж байвал
захидлыг шууд хүлээж авах болно; хэрэв ямар нэг байдлаар
энд хост руу хандах боломжгүй байвал бусад нь (заримдаа <span class="quote">«<span class="quote">нөөц MX-үүд</span>»</span> гэж
нэрлэх нь бий) түр хугацаанд захидлыг хүлээж аваад,
арай бага дугаартай хосттой холбоо тогтоох боломжтой болмогц
түүн рүү дамжуулах гэм мэтчилэн явсаар, эцэст нь хамгийн бага дугаартай
хост захидлыг хүлээн авах болно.</p><p>Бусад MX-үүд таныхаас тусдаа Интернэт
холболттой байх шаардлагатай. Таны ISP эсвэл өөр найрсаг
газрууд танд энэ үйлчилгээг үзүүлэхэд асуудал байх ёсгүй.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="mail-domain"></a>29.6.2. Таны домэйнд хаягласан Захидал</h3></div></div></div><p><span class="quote">«<span class="quote">Захидлын хост</span>»</span> (захидлын сервер гэж нэрлэх нь бий)
зохион байгуулахын тулд, янз янзын ажлын машин руу
явуулсан захидлыг энэ сервер рүү чиглүүлсэн байх ёстой.
Үндсэндээ, өөрийн домэйнд байгаа ямар ч хостын захидлыг
<span class="quote">«<span class="quote">нэхэмжилж аваад</span>»</span>(энэ тохиолдолд <code class="systemitem">*.FreeBSD.org</code>)
түүнийг өөрийн захидлын сервер рүү дахин чиглүүлнэ гэсэн үг юм.
Ингэснээр таны хэрэглэгчдийн захидлууд эзэн захидлын сервер дээр
цуглах болно.</p><a id="idp89255504" class="indexterm"></a><p>Үүнийг хялбар болгохын тулд, нэг
<span class="emphasis"><em>хэрэглэгчийн нэр</em></span>тэй хэрэглэгчийн данс
хоёр машин дээр хоёулан дээр нь байх шаардлагатай.
Үүнийг хийхдээ <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=adduser&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">adduser</span>(8)</span></a>-г ашиглаарай.</p><p>Таны хэрэглэх захидлын хост
таны сүлжээнд байгаа бүх ажлын машины хувьд
томилж гаргасан захидал солилцогч байх ёстой.
Энэ тохиргоог DNS сервер дээр дараах байдалтай хийнэ:</p><pre class="programlisting">example.FreeBSD.org	A	204.216.27.XX		; Workstation
			MX	10 hub.FreeBSD.org	; Mailhost</pre><p>Энэ нь ажлын машинд хаягласан
захидлыг, A бичлэг хааш нь заахаас үл хамааран
захидлын хост руу дахин чиглүүлэх болно. Ингэснээр захидал
MX хост руу илгээгдэх болно.</p><p>Та DNS сервер ажиллуулдаггүй бол дээр дурдсаныг
өөрөө бие даан хийх боломжгүй юм. Хэрэв та
DNS сервер ажиллуулдаггүй, эсвэл DNS сервер ажиллуулах
боломжгүй бол өөрийн ISP эсвэл DNS үйлчилгээ үзүүлдэг газартаа
хандаарай.</p><p>Хэрэв та хийсвэр захидал байршуулах үйлчилгээ үзүүлдэг бол,
дараах мэдээлэл тус болно. Таны үйлчлүүлэгч өөрийн
домэйн нэртэй, тухайлбал <code class="systemitem">customer1.org</code>, ба та
<code class="systemitem">customer1.org</code>-д хаягласан бүх захидлыг өөрийн захидлын
хост <code class="systemitem">mail.myhost.com</code> руу чиглүүлэх хүсэлтэй байна гэж бодъё.
Тэгвэл таны DNS дээрх бичлэг дараах байдалтай байх болно:</p><pre class="programlisting">customer1.org		MX	10	mail.myhost.com</pre><p><code class="systemitem">customer1.org</code> домэйны зөвхөн захидлыг
хариуцахын тулд A бичлэг <span class="emphasis"><em>шаардлагагүй</em></span>.</p><div xmlns="" class="note"><h3 class="admontitle">Тэмдэглэл: </h3><p xmlns="http://www.w3.org/1999/xhtml">A бичлэг байхгүй бол <code class="systemitem">customer1.org</code> руу
ping хийх боломжгүй болохыг анхаарна уу.</p></div><p>Хамгийн сүүлд хийх нэг зүйл бол
өөрийн захидлын хост дээрх <span class="application">sendmail</span>-д
ямар ямар домэйнууд ба/эсвэл хостуудад хаягласан
захидлыг хүлээн авахыг хэлж өгөх явдал юм.
Үүнийг хэд хэдэн өөр аргаар хийж болно.
Дараах аргуудын алийг ч хэрэглэж болно:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Хэрэв та <code class="literal">FEATURE(use_cw_file)</code>-г хэрэглэж байгаа бол
хостуудыг <code class="filename">/etc/mail/local-host-names</code> файл дотор
нэмж бичих.</p></li><li class="listitem"><p>Хэрэв та <span class="application">sendmail</span> 8.10 эсвэл
түүнээс хойно гарсан хувилбарыг хэрэглэж байгаа бол
<code class="literal">Cwyour.host.com</code> гэсэн мөрийг <code class="filename">/etc/sendmail.cf</code> эсвэл
<code class="filename">/etc/mail/sendmail.cf</code> файл дотор бичих.</p></li></ul></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="mail-trouble.html">Өмнөх</a> </td><td width="20%" align="center"><a accesskey="u" href="mail.html">Дээш</a></td><td width="40%" align="right"> <a accesskey="n" href="SMTP-UUCP.html">Дараах</a></td></tr><tr><td width="40%" align="left" valign="top">29.5. Гэмтэл саатлыг арилгах нь </td><td width="20%" align="center"><a accesskey="h" href="index.html">Эхлэл</a></td><td width="40%" align="right" valign="top"> 29.7. UUCP-тэй SMTP</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Энэ болон бусад баримтуудыг
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>
    хаягаас татаж авч болно.</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>FreeBSD-ийн талаар
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;
    хаягтай холбоо барихаасаа өмнө
    <a href="http://www.FreeBSD.org/docs.html">баримтыг</a> уншина уу.<br></br>
    Энэ бичиг баримттай холбоотой асуулт байвал
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;
    хаягаар цахим захидал явуулна уу.<br></br>
    Энэ бичиг баримтын орчуулгатай холбоотой асуулт байвал
    &lt;<a href="mailto:admin@mnbsd.org">admin@mnbsd.org</a>&gt;
    хаягаар цахим захидал явуулна уу.</small></p></body></html>