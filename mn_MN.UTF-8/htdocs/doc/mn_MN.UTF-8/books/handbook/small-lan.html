<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>25.9. Олон машины хувьд дагах нь</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD гарын авлага" /><link rel="up" href="updating-upgrading.html" title="Бүлэг 25. FreeBSD-г шинэчилж сайжруулах нь" /><link rel="prev" href="make-delete-old.html" title="25.8. Хуучин файлууд, хавтаснууд болон сангуудыг устгах" /><link rel="next" href="dtrace.html" title="Бүлэг 26. DTrace" /><link rel="copyright" href="legalnotice.html" title="Хуулийн заалт" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">25.9. Олон машины хувьд дагах нь</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="make-delete-old.html">Өмнөх</a> </td><th width="60%" align="center">Бүлэг 25. FreeBSD-г шинэчилж сайжруулах нь</th><td width="20%" align="right"> <a accesskey="n" href="dtrace.html">Дараах</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="small-lan"></a>25.9. Олон машины хувьд дагах нь</h2></div><div><span class="authorgroup">Хувь нэмэр болгон оруулсан <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Майк</span> <span class="surname">Мэйэр</span></span>. </span></div></div></div><a id="idp86674128" class="indexterm"></a><p>Хэрэв та олон машинуудын хувьд ижил эх модыг дагахыг хүсэж бүгдийн хувьд
	эхийг татан авахуулж бүгдийг дахин бүтээхийг хүсэж байгаа бол энэ нь дискний зай,
	сүлжээний зурвасын өргөн болон
	CPU циклүүд зэрэг эх үүсвэрүүдийг үр ашиггүйгээр ашиглахад хүргэхээр санагдаж
	болох юм. Тиймээ, үүний шийдэл нь нэг машинаар ихэнх ажлыг хийлгэж
	бусад машинууд нь тэр ажлыг NFS-ээр дамжуулан холбох явдал юм. Энэ хэсэгт
	ингэж хийх аргыг тайлбарсан.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="small-lan-preliminaries"></a>25.9.1. Бэлтгэл ажлууд</h3></div></div></div><p>Эхлээд хоёртын адил файлуудыг ажиллуулах <span class="emphasis"><em>build set буюу
	бүтээх олонлог</em></span> гэж бидний нэрлэх машинуудыг олох хэрэгтэй.
	Машин бүр өөрчлөн тохируулсан цөмтэй байж болох бөгөөд гэхдээ тэд ижил хэрэглэгчийн
	талбарын хоёртын файлуудыг ажиллуулж байх ёстой. Тэр олонлогоос
	<span class="emphasis"><em>бүтээх машин</em></span>ыг сонгох хэрэгтэй. Энэ нь
	ертөнц болон цөм бүтээгдэх машин байх юм. Туйлын хүслээр бол энэ
	нь <code class="command">make buildworld</code> болон
	<code class="command">make buildkernel</code> тушаалуудыг ажиллуулахад
	хангалттай нөөц CPU бүхий хурдан машин байх хэрэгтэй. Та мөн
	үйлдвэрлэлд ашиглахаас өмнө програм хангамжуудыг тест хийдэг
	<span class="emphasis"><em>тест машин</em></span> сонгохыг бас хүсэж болох юм.
	Энэ нь удаан хугацаагаар унтраастай эсвэл зогссон байж болох машин <span class="emphasis"><em>байх
	ёстой</em></span>. Энэ нь бүтээх машин байж болох юм, гэхдээ заавал
	биш юм.</p><p>Энэ бүтээх олонлог дахь бүх машинууд нь өөр өөрийн машин дээрээсээ ижил цэг дээр
	<code class="filename">/usr/obj</code> болон <code class="filename">/usr/src</code>-г
	холболт хийх хэрэгтэй. Туйлын хүслээр бол энэ нь бүтээх машин дээрх хоёр өөр дискнүүд
	байж болох бөгөөд гэхдээ эдгээр нь уг машин дээр  NFS холболт бас хийгдэж болохоор
	байж болох юм. Хэрэв танд олон бүтээх олонлогууд байгаа бол
	<code class="filename">/usr/src</code> сан нь нэг бүтээх машин дээр байрлаж
	бусад дээр нь NFS холболт хийгдсэн байх юм.</p><p>Төгсгөлд нь бүтээх олонлогийн бүх машинууд дээрх <code class="filename">/etc/make.conf</code>
	болон <code class="filename">/etc/src.conf</code> файлууд бүтээх машиныхтай тохирч байгаа эсэхийг шалгаарай. Энэ нь бүтээх олонлогийн
	машин бүрийн суулгах үндсэн системийн бүх хэсгүүдийг бүтээх машин хийх ёстой гэсэн
	үг юм. Мөн бүтээх машин бүр өөрийн цөмийн нэрийг <code class="filename">/etc/make.conf</code>
	файлд <code class="varname">KERNCONF</code> хувьсагчид заан өгөх ёстой бөгөөд бүтээх
	машин бүр <code class="varname">KERNCONF</code> хувьсагчдаа өөрийн цөмийг эхэнд
	оруулан дараа нь тэдгээрийг жагсаах ёстой байдаг. Бүтээх машин нь машин бүрийн
	цөмийг бүтээхээр болох юм бол тэдгээрийн тохиргооны файлыг
	<code class="filename">/usr/src/sys/arch/conf</code>
	санд агуулсан байх шаардлагатай.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="small-lan-base-system"></a>25.9.2. Үндсэн систем</h3></div></div></div><p>Одоо бүх юм ингэж хийгдсэний дараа та бүгдийг бүтээхэд бэлэн боллоо.
	Бүтээх машин дээр <a class="xref" href="makeworld.html#make-buildworld" title="25.7.7.2. Үндсэн системийг эмхэтгэ">Хэсэг 25.7.7.2, «Үндсэн системийг эмхэтгэ»</a>-д тайлбарласны
	дагуу цөм болон ертөнцийг бүтээ, гэхдээ юуг ч битгий суулгаарай. Бүтээлт
	дууссаны дараа тест машин дээр дөнгөж саяхан бүтээсэн цөмөө суулга.
	Хэрэв энэ машин нь <code class="filename">/usr/src</code>
	болон <code class="filename">/usr/obj</code> сангуудыг NFS-ээр холболт хийх
	гэж байгаа бол та ганц хэрэглэгчийн горимд дахин ачаалахдаа сүлжээг нээж
	тэдгээрийг холбож өгөх хэрэгтэй. Үүнийг хамгийн хялбараар хийхийн тулд
	олон хэрэглэгчийн горимд ачаалан <code class="command">shutdown now</code>
	тушаалыг ажиллуулж ганц хэрэглэгчийн горимд орох явдал юм. Тэгэж орсныхоо
	дараа та шинэ цөм болон ертөнцийг суулгаж жирийн үедээ хийдэг
	<code class="command">mergemaster</code> тушаалыг ажиллуулж болно.
	Ингэж дууссаныхаа дараа энэ машины хувьд ердийн олон хэрэглэгчийн
	үйлдлүүдэд дахин ачаалж орно.</p><p>Тест машин дээрх бүх зүйлс зөв ажиллаж байгааг мэдсэнийхээ дараа та
	бүтээх олонлогийн бусад машин бүр дээр шинэ програм хангамж суулгахдаа
	ижил процедурыг ашиглаарай.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="small-lan-ports"></a>25.9.3. Портууд</h3></div></div></div><p>Үүнтэй адил санааг бас портуудын модонд ашиглаж болно. Эхний чухал
	алхам бол нөгөө машин дээрх <code class="filename">/usr/ports</code> санг
	бүтээх олонлогийн бусад машинууд дээр холбож өгөх явдал юм. Дараа нь та
	<code class="filename">/etc/make.conf</code> файлыг distfiles
	буюу түгээлтийн файлуудыг хуваалцахаар зөв тохируулж өгч болно.
	Та <code class="varname">DISTDIR</code> хувьсагчийг таны NFS холболтуудад заагдсан
	аль ч <code class="systemitem">root</code> хэрэглэгчийн хувьд бичигдэх боломжтой байх
	нийтлэг хуваалцсан сангаар тохируулах шаардлагатай.
	Машин бүр <code class="varname">WRKDIRPREFIX</code> хувьсагчийг локал
	бүтээх сангаар зааж өгөх хэрэгтэй. Эцэст нь хэрэв та багцуудыг бүтээж түгээх
	гэж байгаа бол <code class="varname">PACKAGES</code> хувьсагчийг
	<code class="varname">DISTDIR</code> хувьсагчийн нэгэн адил сангаар зааж өгөх
	хэрэгтэй.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="make-delete-old.html">Өмнөх</a> </td><td width="20%" align="center"><a accesskey="u" href="updating-upgrading.html">Дээш</a></td><td width="40%" align="right"> <a accesskey="n" href="dtrace.html">Дараах</a></td></tr><tr><td width="40%" align="left" valign="top">25.8. Хуучин файлууд, хавтаснууд болон сангуудыг устгах </td><td width="20%" align="center"><a accesskey="h" href="index.html">Эхлэл</a></td><td width="40%" align="right" valign="top"> Бүлэг 26. DTrace</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Энэ болон бусад баримтуудыг
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>
    хаягаас татаж авч болно.</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>FreeBSD-ийн талаар
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;
    хаягтай холбоо барихаасаа өмнө
    <a href="http://www.FreeBSD.org/docs.html">баримтыг</a> уншина уу.<br></br>
    Энэ бичиг баримттай холбоотой асуулт байвал
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;
    хаягаар цахим захидал явуулна уу.<br></br>
    Энэ бичиг баримтын орчуулгатай холбоотой асуулт байвал
    &lt;<a href="mailto:admin@mnbsd.org">admin@mnbsd.org</a>&gt;
    хаягаар цахим захидал явуулна уу.</small></p></body></html>