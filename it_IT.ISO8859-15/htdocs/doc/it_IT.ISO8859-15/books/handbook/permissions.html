<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>3.3. I Permessi</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Manuale di FreeBSD" /><link rel="up" href="basics.html" title="Capitolo 3. Basi di Unix" /><link rel="prev" href="consoles.html" title="3.2. Console Virtuali e Terminali" /><link rel="next" href="dirstructure.html" title="3.4. Struttura delle Directory" /><link rel="copyright" href="legalnotice.html" title="Nota Legale" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">3.3. I Permessi</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="consoles.html">Indietro</a> </td><th width="60%" align="center">Capitolo 3. Basi di Unix</th><td width="20%" align="right"> <a accesskey="n" href="dirstructure.html">Avanti</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="permissions"></a>3.3. I Permessi</h2></div></div></div><a id="idp77472848" class="indexterm"></a><p>FreeBSD, essendo un discendente diretto dello <span class="trademark">UNIX</span>® BSD, si basa su
      molti concetti chiave di <span class="trademark">UNIX</span>®.  Il primo e il più affermato
      è che FreeBSD è un sistema operativo multi-utente.
      Il sistema può gestire diversi utenti che lavorano
      contemporaneamente su operazioni indipendenti.  Il sistema è
      responsabile della gestione e della suddivisione appropriata delle
      richieste di utilizzo dei dispositivi hardware, delle periferiche, della
      memoria, e del tempo di CPU in modo equo per ogni utente.</p><p>Poichè il sistema è in grado di supportare più
      utenti, tutto ciò che il sistema gestisce possiede un insieme di
      permessi che determinano chi può leggere, scrivere, ed eseguire la
      risorsa.  Questi permessi sono memorizzati mediante tre ottetti
      suddivisi in tre parti, una per il proprietario del file, una per il
      gruppo al quale il file appartiene, e una per tutti gli altri.  Questa
      rappresentazione numerica funziona in questo modo:</p><a id="idp77475152" class="indexterm"></a><a id="idp77475664" class="indexterm"></a><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /><col /></colgroup><thead><tr><th>Valore</th><th>Permessi</th><th>Listato nella Directory</th></tr></thead><tbody><tr><td>0</td><td>Lettura no, scrittura no, esecuzione no</td><td><code class="literal">---</code></td></tr><tr><td>1</td><td>Lettura no, scrittura no, esecuzione</td><td><code class="literal">--x</code></td></tr><tr><td>2</td><td>Lettura no, scrittura, esecuzione no</td><td><code class="literal">-w-</code></td></tr><tr><td>3</td><td>Lettura no, scrittura, esecuzione</td><td><code class="literal">-wx</code></td></tr><tr><td>4</td><td>Lettura, scrittura no, esecuzione no</td><td><code class="literal">r--</code></td></tr><tr><td>5</td><td>Lettura, scrittura no, esecuzione</td><td><code class="literal">r-x</code></td></tr><tr><td>6</td><td>Lettura, scrittura, esecuzione no</td><td><code class="literal">rw-</code></td></tr><tr><td>7</td><td>Lettura, scrittura, esecuzione</td><td><code class="literal">rwx</code></td></tr></tbody></table></div><a id="idp77534288" class="indexterm"></a><a id="idp77534928" class="indexterm"></a><p>Puoi usare l'opzione <code class="option">-l</code> del comando <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ls&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ls</span>(1)</span></a> per
      visualizzare un lungo listato della directory che include una colonna
      contenente le informazioni sui permessi del file per il proprietario, per
      il gruppo, e per gli altri.  Per esempio, digitando <code class="command">ls
        -l</code> in una arbitraria directory:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>ls -l</code></strong>
total 530
-rw-r--r--  1 root  wheel     512 Sep  5 12:31 myfile
-rw-r--r--  1 root  wheel     512 Sep  5 12:31 otherfile
-rw-r--r--  1 root  wheel    7680 Sep  5 12:31 email.txt
...</pre><p>Ecco come è suddivisa la prima colonna dell'output del comando
      <code class="command">ls -l</code>:</p><pre class="screen">-rw-r--r--</pre><p>Il primo carattere (partendo da sinistra) indica se il file in
      questione è un file regolare, una directory, un file speciale per
      dispositivi a caratteri, una socket, o un file speciale per altri
      dispositivi.  Nel nostro caso, il <code class="literal">-</code> indica un
      file regolare.  I tre caratteri successivi, che in questo esempio sono
      <code class="literal">rw-</code>, indicano i permessi per il proprietario del file.
      Seguono altri tre caratteri, <code class="literal">r--</code>, che indicano i
      permessi del gruppo al quale il file appartiene.  Gli ultimi tre
      caratteri, <code class="literal">r--</code>, indicano i permessi per il resto del
      mondo.  Un trattino significa che il permesso non viene concesso.
      Nel caso di questo file, i permessi sono settati affinchè il
      proprietario possa leggere e scrivere il file, il gruppo possa leggere
      il file, e il resto del mondo possa solamente leggere il file.  In accordo
      con la precedente tabella, i permessi per questo file sono
      <code class="literal">644</code>, dove ogni cifra rappresenta una delle tre parti
      che costituiscono i permessi del file.</p><p>D'accordo, ma in che modo il sistema controlla i permessi sui dispositivi?
      FreeBSD tratta molti dispositivi hardware esattamente come un file che i
      programmi possono aprire, leggere, e scrivere dei dati proprio come
      avviene con gli altri file.  Questi file speciali per i dispositivi sono
      memorizzati nella directory <code class="filename">/dev</code>.</p><p>Anche le directory sono trattate come file.  Queste hanno permessi di
      lettura, scrittura e di esecuzione.  Il bit riferito al permesso di
      esecuzione per una directory ha un significato leggermente differente
      rispetto a quello dei file.  Quando una directory ha il permesso di
      esecuzione abilitato, significa che si ha accesso alla directory, ossia
      è possibile eseguire il comando <span class="quote">«<span class="quote">cd</span>»</span> (cambio di
      directory) per entrarci.  Inoltre questo significa che all'interno della
      directory è possibile accedere ai file dei quali si conosce il nome
      (naturalmente a condizione dei permessi degli stessi file).</p><p>In particolare, per visualizzare il contenuto di una directory, deve
      essere abilitato il permesso di lettura sulla stessa, mentre per
      eliminare un file di cui si conosce il nome, è necessario che la
      directory contenente il file abbia i permessi di scrittura
      <span class="emphasis"><em>e</em></span> di esecuzione abilitati.</p><p>Ci sono altri bit per permessi particolari, ma sono in genere usati
      in circostanze speciali come il permesso di setuid per i binari e
      quello di sticky per le directory.  Se vuoi avere più informazioni
      sui permessi dei file e su come settarli, guarda la pagina man di
      <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chmod&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">chmod</span>(1)</span></a>.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp77549520"></a>3.3.1. Permessi Simbolici</h3></div><div><span class="authorgroup">Contributo di <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Tom</span> <span class="surname">Rhodes</span></span>. </span></div></div></div><a id="idp77551952" class="indexterm"></a><p>I permessi simbolici, qualche volta chiamati espressioni simboliche,
        usano caratteri al posto dei numeri ottali per assegnare i permessi a
        file o directory.  Le espressioni simboliche usano la sintassi (chi)
        (azione) (permessi), con i seguenti valori:</p><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /><col /></colgroup><thead><tr><th>Opzione</th><th>Lettera</th><th>Cosa rappresenta/Cosa fa</th></tr></thead><tbody><tr><td>(chi)</td><td>u</td><td>Utente</td></tr><tr><td>(chi)</td><td>g</td><td>Gruppo di appartenenza</td></tr><tr><td>(chi)</td><td>o</td><td>Altri</td></tr><tr><td>(chi)</td><td>a</td><td>Tutti (tutto il <span class="quote">«<span class="quote">mondo</span>»</span>)</td></tr><tr><td>(azione)</td><td>+</td><td>Aggiunge i permessi</td></tr><tr><td>(azione)</td><td>-</td><td>Rimuove i permessi</td></tr><tr><td>(azione)</td><td>=</td><td>Setta esplicitamente i permessi</td></tr><tr><td>(permessi)</td><td>r</td><td>Lettura</td></tr><tr><td>(permessi)</td><td>w</td><td>Scrittura</td></tr><tr><td>(permessi)</td><td>x</td><td>Esecuzione</td></tr><tr><td>(permessi)</td><td>t</td><td>Bit sticky</td></tr><tr><td>(permessi)</td><td>s</td><td>Setta UID o GID</td></tr></tbody></table></div><p>Questi valori sono usati con il comando <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chmod&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">chmod</span>(1)</span></a>
        come esposto in precedenza, ma con le lettere.  Per esempio, puoi usare
        il seguente comando per impedire agli altri utenti l'accesso a
        <em class="replaceable"><code>FILE</code></em>:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>chmod go= FILE</code></strong></pre><p>Se si ha la necessità di realizzare più di una
        modifica ai settaggi di un file si può usare una lista di
        settaggi separati da virgola.  Per esempio il seguente comando
        rimuoverà il permesso di scrittura su
        <em class="replaceable"><code>FILE</code></em> al gruppo di appartenenza del file e al
        resto del <span class="quote">«<span class="quote">mondo</span>»</span>, e inoltre aggiungerà
        il permesso di esecuzione per tutti:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>chmod go-w,a+x FILE</code></strong></pre></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp77588944"></a>3.3.2. Flag dei File in FreeBSD</h3></div><div><span class="authorgroup">Contributo di <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Tom</span> <span class="surname">Rhodes</span></span>. </span></div></div></div><p>Oltre ai permessi dei file discussi in precedenza, FreeBSD
        supporta l'uso dei <span class="quote">«<span class="quote">flag dei file</span>»</span>.  Queste flag
        aggiungono un ulteriore livello di sicurezza e di controllo sui
        file, ma non per le directory.</p><p>Queste flag dei file aggiungono un ulteriore livello di
        controllo sui file, assicurando in alcuni casi che persino
        <code class="systemitem">root</code> non possa rimuovere o alterare file.</p><p>Le flag dei file sono alterate usando l'utility <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chflags&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">chflags</span>(1)</span></a>,
        tramite una semplice sintassi.  Per esempio, per abilitare la flag
        di sistema di non-cancellabilità sul file
        <code class="filename">file1</code>, si può usare il comando
        seguente:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>chflags sunlink file1</code></strong></pre><p>E per disabilitare la stessa flag, si può usare
        semplicemente il comando precedente con <span class="quote">«<span class="quote">no</span>»</span> davanti a
        <code class="option">sunlink</code>.  Ecco come:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>chflags nosunlink file1</code></strong></pre><p>Per vedere le flag del file di esempio, usa il comando
        <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ls&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ls</span>(1)</span></a> con le flag <code class="option">-lo</code>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ls -lo file1</code></strong></pre><p>L'output dovrebbe assomigliare al seguente:</p><pre class="programlisting">-rw-r--r--  1 trhodes  trhodes  sunlnk 0 Mar  1 05:54 file1</pre><p>Diverse flag possono essere aggiunte o rimosse sui file solo
        tramite l'utente <code class="systemitem">root</code>.  Negli altri casi, il
        proprietario dei file può settare queste flag.  Si raccomanda
        di leggere le pagine man <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chflags&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">chflags</span>(1)</span></a> e <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chflags&amp;sektion=2"><span class="citerefentry"><span class="refentrytitle">chflags</span>(2)</span></a> per
        maggiori informazioni.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="consoles.html">Indietro</a> </td><td width="20%" align="center"><a accesskey="u" href="basics.html">Risali</a></td><td width="40%" align="right"> <a accesskey="n" href="dirstructure.html">Avanti</a></td></tr><tr><td width="40%" align="left" valign="top">3.2. Console Virtuali e Terminali </td><td width="20%" align="center"><a accesskey="h" href="index.html">Partenza</a></td><td width="40%" align="right" valign="top"> 3.4. Struttura delle Directory</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Questo, ed altri documenti, possono essere scaricati da
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Per domande su FreeBSD, leggi la
    <a href="http://www.FreeBSD.org/docs.html">documentazione</a> prima di contattare
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Per domande su questa documentazione, invia una e-mail a
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>