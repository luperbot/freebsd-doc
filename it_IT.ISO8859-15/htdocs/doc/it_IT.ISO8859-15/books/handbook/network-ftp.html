<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>27.8. File Transfer Protocol (FTP)</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Manuale di FreeBSD" /><link rel="up" href="network-servers.html" title="Capitolo 27. Server di rete" /><link rel="prev" href="network-apache.html" title="27.7. Apache HTTP Server" /><link rel="next" href="network-samba.html" title="27.9. Servizi di File e Stampa per client Microsoft® Windows® (Samba)" /><link rel="copyright" href="legalnotice.html" title="Nota Legale" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">27.8. File Transfer Protocol (FTP)</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="network-apache.html">Indietro</a> </td><th width="60%" align="center">Capitolo 27. Server di rete</th><td width="20%" align="right"> <a accesskey="n" href="network-samba.html">Avanti</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="network-ftp"></a>27.8. File Transfer Protocol (FTP)</h2></div><div><span class="authorgroup">Grazie al Contributo di <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Murray</span> <span class="surname">Stokely</span></span>. </span></div></div></div><a id="idp88979792" class="indexterm"></a><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88980304"></a>27.8.1. Uno sguardo d'insieme</h3></div></div></div><p>Il File Transfer Protocol (FTP) fornisce
        agli utenti un semplice modo di trasferire
        file da e verso un server
        <acronym class="acronym">FTP</acronym>.
        FreeBSD include software per server
        <acronym class="acronym">FTP</acronym>
        nel sistema base.  Questo rende l'installazione
        e l'ammininistrazione di un server
        <acronym class="acronym">FTP</acronym>
        molto semplice.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88982992"></a>27.8.2. Configurazione</h3></div></div></div><p>Il più importante passo di
        configurazione è decidere a quali
        account saraà permesso
        accedere al server FTP.  Un sistema normale
        FreeBSD ha un certo numero di account di sistema
        usati per vari demoni, ma agli utenti estranei
        non dovrebbe essere permesso di loggarsi con questi
        account.  Il file
        <code class="filename">/etc/ftpusers</code> è una lista
        di utenti a cui è negato l'accesso FTP.
        Di default include gli account di sistema sopra citati
        ma è possibile aggiungere utenti specifici
        che non dovrebbero avere accesso FTP.</p><p>Può essere che tu voglia restringere
        l'accesso ad alcuni utenti senza impedir loro
        di usare completamente FTP.  Ciò
        può essere ottenuto
        con il file <code class="filename">/etc/ftpchroot</code>.
        Questo file elenca utenti e gruppi soggetti a
        restrizioni di accesso FTP.  La pagina di manuale
        <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ftpchroot&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">ftpchroot</span>(5)</span></a> ha tutti i dettagli così
        non sarà descritta qui.</p><a id="idp88986320" class="indexterm"></a><p>Se tu volessi abilitare accesso anonimo
        FTP al tuo server, devi creare un utente chiamato
        <code class="systemitem">ftp</code> sul tuo sistema FreeBSD.
        Gli utenti allora potranno loggarsi al tuo server FTP
        con uno username di <code class="systemitem">ftp</code>
        o <code class="systemitem">anonymous</code> e con
        una password qualsiasi
        (di norma dovrebbe essere usato un indirizzo email
        dell'utente come password).  Il server FTP
        chiamerà <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chroot&amp;sektion=2"><span class="citerefentry"><span class="refentrytitle">chroot</span>(2)</span></a> quando un utente
        anonimo si logga, per restringere l'accesso solo
        alla home directory di <code class="systemitem">ftp</code>.</p><p>Ci sono due file di testo che specificano
        messaggi di benvenuto per i client FTP.  Il contenuto
        del file <code class="filename">/etc/ftpwelcome</code> sarà
        mostrato agli utenti prima che raggiungano il prompt
        del login.  Dopo un login di successo, il contenuto
        del file <code class="filename">/etc/ftpmotd</code> sarà
        mostrato.  Nota che il percorso di questo file è
        relativo all'ambiente di login, così
        saraà mostrato il file
        <code class="filename">~ftp/etc/ftpmotd</code>.</p><p>Una volta che il server FTP è
        stato configurato
        correttamente, deve essere abilitato in
        <code class="filename">/etc/inetd.conf</code>.  Tutto ciò
        che viene richiesto è rimuovere il simbolo
        di commento <span class="quote">«<span class="quote">#</span>»</span> dall'inizio della linea
        relativa a <span class="application">ftpd</span>:</p><pre class="programlisting">ftp  stream  tcp  nowait  root  /usr/libexec/ftpd ftpd -l</pre><p>Come spiegato in <a class="xref" href="network-inetd.html#network-inetd-reread" title="Esempio 27.1. Ricaricare il file di configurazione di inetd">Esempio 27.1, «Ricaricare il file di configurazione
          di <span class="application">inetd</span>
        »</a>,
        la configurazione di <span class="application">inetd</span>
        deve essere ricaricata dopo che
        che questo file di configurazione è stato cambiato.</p><p>Ora puoi loggarti al tuo server FTP digitando:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>ftp localhost</code></strong></pre></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp89021648"></a>27.8.3. Manutenzione</h3></div></div></div><a id="idp89022288" class="indexterm"></a><a id="idp89022800" class="indexterm"></a><p>Il demone <span class="application">ftpd</span> usa
        <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=syslog&amp;sektion=3"><span class="citerefentry"><span class="refentrytitle">syslog</span>(3)</span></a> per loggare i mesaggi.  Di default
        il demone dei log di sistema girerà
        i messaggi relativi a FTP nel file
        <code class="filename">/var/log/xferlog</code>.  La posizione
        del log FTP può essere modificata cambiando
        la seguente linea in
        <code class="filename">/etc/syslog.conf</code>:</p><pre class="programlisting">ftp.info      /var/log/xferlog</pre><a id="idp89026640" class="indexterm"></a><p>Presta attenzione ai problemi potenziali
        correlati all'esecuzione di un server FTP anonimo.
        In particolare, dovresti pensarci due volte prima di
        permettere agli utenti anonimi di fare upload di file.
        Potresti scoprire che il tuo sito FTP è
        diventato un forum per il commercio di software
        commerciale senza licenza o anche peggio.
        Se hai veramente bisogno di permettere upload FTP
        anonimi, allora dovresti impostare i permessi
        in modo che questi file non possano essere letti
        da altri utenti fino a che non siano
        stati revisionati.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="network-apache.html">Indietro</a> </td><td width="20%" align="center"><a accesskey="u" href="network-servers.html">Risali</a></td><td width="40%" align="right"> <a accesskey="n" href="network-samba.html">Avanti</a></td></tr><tr><td width="40%" align="left" valign="top">27.7. Apache HTTP Server </td><td width="20%" align="center"><a accesskey="h" href="index.html">Partenza</a></td><td width="40%" align="right" valign="top"> 27.9. Servizi di File e Stampa per client
      <span class="trademark">Microsoft</span>® <span class="trademark">Windows</span>® (Samba)</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Questo, ed altri documenti, possono essere scaricati da
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Per domande su FreeBSD, leggi la
    <a href="http://www.FreeBSD.org/docs.html">documentazione</a> prima di contattare
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Per domande su questa documentazione, invia una e-mail a
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>