<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>7.6. Scanner di immagini</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Manuale di FreeBSD" /><link rel="up" href="multimedia.html" title="Capitolo 7. Multimedia" /><link rel="prev" href="tvcard.html" title="7.5. Configurazione delle Schede TV" /><link rel="next" href="kernelconfig.html" title="Capitolo 8. Configurazione del Kernel di FreeBSD" /><link rel="copyright" href="legalnotice.html" title="Nota Legale" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">7.6. Scanner di immagini</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="tvcard.html">Indietro</a> </td><th width="60%" align="center">Capitolo 7. Multimedia</th><td width="20%" align="right"> <a accesskey="n" href="kernelconfig.html">Avanti</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="scanners"></a>7.6. Scanner di immagini</h2></div><div><span class="authorgroup">Scritto da <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Marc</span> <span class="surname">Fonvieille</span></span>. </span></div></div></div><a id="idp80388944" class="indexterm"></a><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp80389456"></a>7.6.1. Introduzione</h3></div></div></div><p>In FreeBSD, l'accesso agli scanner è fornito
        dalle <acronym class="acronym">API</acronym> di <span class="application">SANE</span>
        (Scanner Access Now Easy) disponibili nella collezione dei port di FreeBSD.
        <span class="application">SANE</span> usa anche alcuni driver dei dispositivi
        di FreeBSD per accedere all'hardware dello scanner.</p><p>FreeBSD supporta sia scanner SCSI che USB.  Verifica che
        il tuo scanner sia supportato da <span class="application">SANE</span>
        prima di effettuare ogni configurazione.
        <span class="application">SANE</span> ha una lista di <a class="link" href="http://www.sane-project.org/sane-supported-devices.html" target="_top">dispositivi
        supportati</a>, che può fornire informazioni riguardo il
        supporto per uno scanner ed il suo stato.  La pagina man
        <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=uscanner&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">uscanner</span>(4)</span></a> fornisce una lista di scanner USB supportati.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp80394448"></a>7.6.2. Configurazione del Kernel</h3></div></div></div><p>Come già menzionato, sono supportati sia scanner USB che
        SCSI.  A seconda dell'interfaccia del tuo scanner, sono richiesti
        diversi driver dei dispositivi.</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="scanners-kernel-usb"></a>7.6.2.1. Interfaccia USB</h4></div></div></div><p>Il kernel <code class="filename">GENERIC</code> di default include i
          driver dei dispositivi necessari per il funzionamento degli scanner
          USB.  In caso tu voglia usare un kernel custom, accertati che le linee
          seguenti siano presenti nel tuo file di configurazione del
          kernel:</p><pre class="programlisting">device usb
device uhci
device ohci
device uscanner</pre><p>A seconda del tipo di chipset USB sulla tua scheda madre,
          hai bisogno solo di una fra le opzioni <code class="literal">device uhci</code>
          e <code class="literal">device ohci</code>, comunque avere entrambe le linee nel
          proprio file di configurazione del kernel non crea problemi.</p><p>Se non intendi ricompilare un kernel custom ed il tuo
          kernel non è il <code class="filename">GENERIC</code>, puoi
          direttamente caricare il modulo del driver del dispositivo di
          <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=uscanner&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">uscanner</span>(4)</span></a> con il comando <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=kldload&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">kldload</span>(8)</span></a>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>kldload uscanner</code></strong></pre><p>Per caricare il modulo ad ogni avvio di sistema, aggiungi la
          seguente linea al file <code class="filename">/boot/loader.conf</code>:</p><pre class="programlisting">uscanner_load="YES"</pre><p>Dopo aver riavviato con il kernel corretto, o dopo aver caricato
          il modulo necessario, attacca il tuo scanner USB.  Nel buffer dei
          messaggi di sistema (<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dmesg&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">dmesg</span>(8)</span></a>) dovrebbe apparire una riga che
          mostra il riconoscimento dello scanner:</p><pre class="screen">uscanner0: EPSON EPSON Scanner, rev 1.10/3.02, addr 2</pre><p>Questo mostra che il nostro scanner usa il nodo del dispositivo
          <code class="filename">/dev/uscanner0</code>.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp80421968"></a>7.6.2.2. Interfaccia SCSI</h4></div></div></div><p>Se il tuo scanner possiede un'interfaccia SCSI, è
          importante sapere quale controller SCSI usi.  A seconda del chipset
          SCSI usato, dovrai modificare il tuo file di configurazione
          del kernel.  Il kernel <code class="filename">GENERIC</code> supporta
          i più comuni controller SCSI.  Accertati di leggere il file di
          <code class="filename">NOTES</code> e aggiungi la linea corretta al tuo file di
          configurazione del kernel.  Oltre al driver dell'interfaccia SCSI,
          devi avere le seguenti linee nel tuo file di configurazione
          del kernel:</p><pre class="programlisting">device scbus
device pass</pre><p>Una volta che il kernel è stato correttamente compilato
          ed installato, dovresti vedere i dispositivi nel buffer dei
          messaggi di sistema, al momento del boot:</p><pre class="screen">pass2 at aic0 bus 0 target 2 lun 0
pass2: &lt;AGFA SNAPSCAN 600 1.10&gt; Fixed Scanner SCSI-2 device
pass2: 3.300MB/s transfers</pre><p>Se il tuo scanner non era acceso al momento dell'avvio, è
          ancora possibile forzare manualmente il riconoscimento attraverso uno
          scan del bus SCSI con il comando <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=camcontrol&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">camcontrol</span>(8)</span></a>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>camcontrol rescan all</code></strong>
Re-scan of bus 0 was successful
Re-scan of bus 1 was successful
Re-scan of bus 2 was successful
Re-scan of bus 3 was successful</pre><p>A questo punto lo scanner apparirà nella lista
          dei device SCSI:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>camcontrol devlist</code></strong>
&lt;IBM DDRS-34560 S97B&gt;              at scbus0 target 5 lun 0 (pass0,da0)
&lt;IBM DDRS-34560 S97B&gt;              at scbus0 target 6 lun 0 (pass1,da1)
&lt;AGFA SNAPSCAN 600 1.10&gt;           at scbus1 target 2 lun 0 (pass3)
&lt;PHILIPS CDD3610 CD-R/RW 1.00&gt;     at scbus2 target 0 lun 0 (pass2,cd0)</pre><p>Ulteriori dettagli sui dispositivi SCSI sono
          disponibili nelle pagine man <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=scsi&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">scsi</span>(4)</span></a> e <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=camcontrol&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">camcontrol</span>(8)</span></a>.</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp80430800"></a>7.6.3. Configurazione di SANE</h3></div></div></div><p>Il sistema <span class="application">SANE</span> è
        diviso in due parti: il backend (<a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/graphics/sane-backends/pkg-descr">graphics/sane-backends</a>) ed il frontend
        (<a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/graphics/sane-frontends/pkg-descr">graphics/sane-frontends</a>).
        La parte backend fornisce accesso allo scanner.  La lista dei
        <a class="link" href="http://www.sane-project.org/sane-supported-devices.html" target="_top">dispositivi
          supportati</a> da <span class="application">SANE</span> specifica quale
        backend supporta il tuo scanner di immagini.  È necessario
        determinare il corretto backend per il tuo scanner se intendi usare il
        tuo dispositivo.  La parte frontend fornisce l'interfaccia grafica
        allo scanning (<span class="application">xscanimage</span>).</p><p>La prima cosa da fare è installare il port o il pacchetto
        <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/graphics/sane-backends/pkg-descr">graphics/sane-backends</a>.
        Quindi, usa il comando <code class="command">sane-find-scanner</code>
        per verificare il riconoscimento dello scanner da parte
        del sistema <span class="application">SANE</span>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>sane-find-scanner -q</code></strong>
found SCSI scanner "AGFA SNAPSCAN 600 1.10" at /dev/pass3</pre><p>L'output mostrerà il tipo di interfaccia dello
        scanner ed il nodo del dispositivo usato per connettere lo scanner
        al sistema.  La marca ed il nome del modello potrebbero
        non comparire, non è importante.</p><div xmlns="" class="note"><h3 class="admontitle">Nota: </h3><p xmlns="http://www.w3.org/1999/xhtml">Alcuni scanner USB richiedono il caricamento di un firmware,
          ciò è spiegato nella pagina man del backend.  È
          utile anche leggere le pagine man di <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sane-find-scanner&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">sane-find-scanner</span>(1)</span></a> e di
          <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sane&amp;sektion=7"><span class="citerefentry"><span class="refentrytitle">sane</span>(7)</span></a>.</p></div><p>Adesso dobbiamo verificare se lo scanner sarà identificato
        da un frontend di scanning.  Di default, il backend di
        <span class="application">SANE</span> fornisce un programma da linea di
        comando chiamato <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=scanimage&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">scanimage</span>(1)</span></a>.  Questo comando ti permette di
        elencare i dispositivi ed effettuare un'acquisizione di immagini da
        linea di comando.  L'opzione <code class="option">-L</code> è usata per
        ottenere una lista di scanner:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>scanimage -L</code></strong>
device `snapscan:/dev/pass3' is a AGFA SNAPSCAN 600 flatbed scanner</pre><p>Nessun output o un messaggio che dice che nessuno scanner
        è stato identificato indica che <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=scanimage&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">scanimage</span>(1)</span></a> non è
        in grado di identificare lo scanner.  Se ciò succede, dovrai
        editare il file di configurazione del backend ed indicare il driver
        del dispositivo usato dallo scanner.  La directory <code class="filename">/usr/local/etc/sane.d/</code> contiene tutti i
        file di configurazione del backend.  Questo problema di identificazione
        avviene con alcuni scanner USB.</p><p>Ad esempio, usando <a class="xref" href="scanners.html#scanners-kernel-usb" title="7.6.2.1. Interfaccia USB">Sezione 7.6.2.1, «Interfaccia USB»</a>,
        <code class="command">sane-find-scanner</code> su uno scanner USB otteniamo
        la seguente informazione:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>sane-find-scanner -q</code></strong>
found USB scanner (UNKNOWN vendor and product) at device
/dev/uscanner0</pre><p>Lo scanner è stato riconosciuto correttamente, usa
        l'interfaccia USB ed è attaccato al nodo del dispositivo
        <code class="filename">/dev/uscanner0</code>.  Ora possiamo testare
        se lo scanner è correttamente identificato:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>scanimage -L</code></strong>

Nessun scanner è stato identificato. Se ti aspettavi qualcosa di diverso,
verifica che lo scanner sia collegato, accendilo e avvia il tool di
riconoscimento degli scanner di sane (se adatto). Per cortesia leggi la
documentazione fornita con questo software (README, FAQ, pagine man).</pre><p>Dato che lo scanner non è stato identificato, dovremo editare
        il file <code class="filename">/usr/local/etc/sane.d/epson.conf</code>.
        Il modello di scanner usato è l'<span class="trademark">EPSON
  Perfection</span>® 1650,
        così sappiamo che userà il backend
        <code class="literal">epson</code>.  Accertati di leggere i commenti di aiuto nei
        file di configurazione del backend.  Le modifiche alle linee sono
        abbastanza semplici: commenta tutte le linee che hanno un'interfaccia
        non adatta al tuo scanner (nel nostro caso, commenteremo tutte le linee
        che iniziano con la parola <code class="literal">scsi</code> dato che il nostro
        scanner usa l'interfaccia USB), quindi aggiungi alla fine del
        file una linea che specifica l'interfaccia ed il nodo di dispositivo
        usato.  In questo caso, aggiungiamo la seguente linea:</p><pre class="programlisting">usb /dev/uscanner0</pre><p>Sei invitato a leggere i commenti presenti nel file di
        configurazione del backend così come le pagine man del backend
        per più dettagli e per la corretta sintassi da usare.  Ora
        possiamo verificare se lo scanner è identificato:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>scanimage -L</code></strong>
device `epson:/dev/uscanner0' is a Epson GT-8200 flatbed scanner</pre><p>Il nostro scanner USB è stato riconosciuto.
        Non è importante se la marca ed il modello non coincidono
        con il proprio scanner.
        Il punto principale a cui prestare attenzione è il campo
        <code class="literal">`epson:/dev/uscanner0'</code>, che ci dà il
        corretto nome del backend ed il corretto nodo del dispositvo.</p><p>Una volta che il comando <code class="command">scanimage -L</code>
        è in grado di vedere lo scanner, la configurazione
        è completa.  Il dispositivo ora è in grado di
        scannerizzare.</p><p>Mentre <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=scanimage&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">scanimage</span>(1)</span></a> ci permette di effettuare
        l'acquisizione di un'immagine dalla linea di comando, è
        preferibile usare un'interfaccia grafica per effettuare
        scansioni di immagini.  <span class="application">SANE</span>
        offre una semplice ma efficace interfaccia grafica:
        <span class="application">xscanimage</span> (<a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/graphics/sane-frontends/pkg-descr">graphics/sane-frontends</a>).</p><p><span class="application">Xsane</span> (<a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/graphics/xsane/pkg-descr">graphics/xsane</a>) è un altro comune
        frontend grafico di scanning.  Questo frontend offre caratteristiche
        avanzate come varie tecniche di scanning (fotocopia, fax, etc.),
        correzione del colore, scans multipli, etc.  Entrambe queste
        applicazioni sono fruibili come plugin di
        <span class="application">GIMP</span>.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp80466512"></a>7.6.4. Permettere ad Altri Utenti l'Accesso allo Scanner</h3></div></div></div><p>Tutte le operazioni precedenti sono state compiute
        con privilegi di <code class="systemitem">root</code>.  Tuttavia potresti aver
        bisogno che altri utenti abbiano accesso allo scanner.  L'utente
        necessiterà permessi di lettura e scrittura sul nodo di
        dispositivo usato dallo scanner.  Per esempio, il nostro scanner USB
        usa il nodo di dispositivo <code class="filename">/dev/uscanner0</code> che
        appartiene al gruppo <code class="systemitem">operator</code>.  Aggiungendo
        l'utente <code class="systemitem">joe</code> al gruppo
        <code class="systemitem">operator</code> gli permetterà di usare lo
        scanner:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>pw groupmod operator -m joe</code></strong></pre><p>Per maggiori informazioni consulta la pagina man di <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pw&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">pw</span>(8)</span></a>.
        Inoltre devi settare corretamente i permessi di scrittura (0660 o 0664)
        per il nodo del dispositivo <code class="filename">/dev/uscanner0</code>; di
        default il gruppo <code class="systemitem">operator</code> può solo
        leggere questo nodo di dispositivo.  Tale operazione può essere
        realizzata aggiungendo la seguente riga al file
        <code class="filename">/etc/devfs.rules</code>:</p><pre class="programlisting">[system=5]
add path uscanner0 mode 660</pre><p>Quindi aggiungi la seguente riga al file
        <code class="filename">/etc/rc.conf</code> e riavvia la macchina:</p><pre class="programlisting">devfs_system_ruleset="system"</pre><p>Ulteriori informazioni riguardo queste righe possono essere trovate
        nella pagina man di <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=devfs&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">devfs</span>(8)</span></a>.</p><div xmlns="" class="note"><h3 class="admontitle">Nota: </h3><p xmlns="http://www.w3.org/1999/xhtml">Chiaramente, per ragioni di sicurezza, dovresti pensarci due
          volte prima di aggiungere un utente a qualsiasi gruppo, specialmente
          al gruppo <code class="systemitem">operator</code>.</p></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="tvcard.html">Indietro</a> </td><td width="20%" align="center"><a accesskey="u" href="multimedia.html">Risali</a></td><td width="40%" align="right"> <a accesskey="n" href="kernelconfig.html">Avanti</a></td></tr><tr><td width="40%" align="left" valign="top">7.5. Configurazione delle Schede TV </td><td width="20%" align="center"><a accesskey="h" href="index.html">Partenza</a></td><td width="40%" align="right" valign="top"> Capitolo 8. Configurazione del Kernel di FreeBSD</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Questo, ed altri documenti, possono essere scaricati da
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Per domande su FreeBSD, leggi la
    <a href="http://www.FreeBSD.org/docs.html">documentazione</a> prima di contattare
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Per domande su questa documentazione, invia una e-mail a
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>