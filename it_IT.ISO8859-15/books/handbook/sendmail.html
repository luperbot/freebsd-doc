<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>26.3. Configurazione di sendmail</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Manuale di FreeBSD" /><link rel="up" href="mail.html" title="Capitolo 26. Posta Elettronica" /><link rel="prev" href="mail-using.html" title="26.2. Utilizzo della Posta Elettronica" /><link rel="next" href="mail-changingmta.html" title="26.4. Sostituzione del proprio Mail Transfer Agent" /><link rel="copyright" href="legalnotice.html" title="Nota Legale" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">26.3. Configurazione di <span class="application">sendmail</span></th></tr><tr><td width="20%" align="left"><a accesskey="p" href="mail-using.html">Indietro</a> </td><th width="60%" align="center">Capitolo 26. Posta Elettronica</th><td width="20%" align="right"> <a accesskey="n" href="mail-changingmta.html">Avanti</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="sendmail"></a>26.3. Configurazione di <span class="application">sendmail</span></h2></div><div><span class="authorgroup">Contributo di <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Christopher</span> <span class="surname">Shumway</span></span>. </span></div></div></div><a id="idp86793168" class="indexterm"></a><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sendmail&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sendmail</span>(8)</span></a> è il Mail Transfer Agent (MTA) di default su
      FreeBSD.  Il compito di <span class="application">sendmail</span> è di
      accettare posta dai Mail User Agent (<acronym class="acronym">MUA</acronym>), e
      consegnarla al server di posta appropriato come definito nel suo file di
      configurazione.  Inoltre <span class="application">sendmail</span> può
      accettare connessioni via rete e consegnare i messaggi a caselle di posta
      locali o ad un altro programma.</p><p><span class="application">sendmail</span> utilizza i seguenti file di
      configurazione:</p><a id="idp86797008" class="indexterm"></a><a id="idp86797904" class="indexterm"></a><a id="idp86798928" class="indexterm"></a><a id="idp86799824" class="indexterm"></a><a id="idp86800720" class="indexterm"></a><a id="idp86801616" class="indexterm"></a><a id="idp86802512" class="indexterm"></a><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>File</th><th>Funzione</th></tr></thead><tbody><tr><td><code class="filename">/etc/mail/access</code></td><td>File database di accesso di
              <span class="application">sendmail</span></td></tr><tr><td><code class="filename">/etc/mail/aliases</code></td><td>Alias delle caselle di posta</td></tr><tr><td><code class="filename">/etc/mail/local-host-names</code></td><td>Lista di host per i quali
              <span class="application">sendmail</span> accetta posta</td></tr><tr><td><code class="filename">/etc/mail/mailer.conf</code></td><td>File di configurazione del programma di posta</td></tr><tr><td><code class="filename">/etc/mail/mailertable</code></td><td>Tabella di consegna del programma di posta</td></tr><tr><td><code class="filename">/etc/mail/sendmail.cf</code></td><td>File di configurazione principale di
              <span class="application">sendmail</span></td></tr><tr><td><code class="filename">/etc/mail/virtusertable</code></td><td>Tabelle degli utenti e dei domini virtuali</td></tr></tbody></table></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp86828880"></a>26.3.1. <code class="filename">/etc/mail/access</code></h3></div></div></div><p>Il database di accesso definisce quali host o indirizzi
        IP hanno accesso al server di posta locale e quale tipo di accesso
        hanno.  Gli host possono essere catalogati come <code class="option">OK</code>,
        <code class="option">REJECT</code>, <code class="option">RELAY</code> o possono semplicemente
        essere passati alla procedura di gestione degli errori di
        <span class="application">sendmail</span> con un preciso errore.  Gli host
        che sono definiti <code class="option">OK</code>, che è il valore di
        default, possono spedire posta a questo host sempre che la destinazione
        finale della posta sia la macchina locale.  Gli host che sono definiti
        <code class="option">REJECT</code> vengono rifiutati per qualsiasi connessione di
        posta.  Gli host che hanno l'opzione <code class="option">RELAY</code> per i loro
        nomi host possono utilizzare questo server per spedire posta verso
        qualsiasi destinazione.</p><div class="example"><a id="idp86832848"></a><div class="example-title">Esempio 26.1. Configurazione del Database di Accesso di
          <span class="application">sendmail</span></div><div class="example-contents"><pre class="programlisting">cyberspammer.com                550 Non accettiamo posta dagli spammer
FREE.STEALTH.MAILER@            550 Non accettiamo posta dagli spammer
altra.sorgente.di.spam          REJECT
okay.cyberspammer.com           OK
128.32                          RELAY</pre></div></div><br class="example-break" /><p>In questo esempio abbiamo cinque elementi.  Gli host mittenti
        che corrispondono a quelli posti sul lato sinistro della tabella sono
        condizionati dall'azione posta sul lato destro della tabella.
        I primi due esempi passano un codice di errore alla procedura di
        <span class="application">sendmail</span> che gestisce gli errori.  Il
        messaggio viene restituito all'host remoto quando viene trovata una
        corrispondenza sul lato sinistro della tabella.  Il terzo esempio
        rifiuta la posta da un host specifico su Internet,
        <code class="systemitem">altra.sorgente.di.spam</code>.  Il quarto esempio accetta
        connessioni di posta da un host, <code class="systemitem">okay.cyberspammer.com</code>, che è più
        preciso rispetto a <code class="systemitem">cyberspammer.com</code>
        della prima linea.  Le corrispondenze più precise sovrascrivono
        quelle meno precise.  L'ultimo esempio permette il relay della posta
        elettronica agli host che hanno un indirizzo IP che inizia con
        <code class="systemitem">128.32</code>.  Questi host possono spedire messaggi destinati
        ad altri server di posta attraverso questo server.</p><p>Quando modifichi questo file, devi eseguire <code class="command">make</code>
        in <code class="filename">/etc/mail/</code> per aggiornare il database.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp86838224"></a>26.3.2. <code class="filename">/etc/mail/aliases</code></h3></div></div></div><p>Il database degli alias contiene una lista di caselle di posta
        virtuali che sono espanse in altri utenti, file, programmi o in altri
        alias.  Seguono alcuni esempi che possono essere usati in
        <code class="filename">/etc/mail/aliases</code>:</p><div class="example"><a id="idp86839760"></a><div class="example-title">Esempio 26.2. Alias di Posta</div><div class="example-contents"><pre class="programlisting">root: utentelocale
ftp-bugs: joe,eric,paul
bit.bucket: /dev/null
procmail: "|/usr/local/bin/procmail"</pre></div></div><br class="example-break" /><p>Il formato del file è semplice: il nome della casella di
        posta che si trova a sinistra dei due punti viene espanso negli elementi
        posti a destra dei due punti.  Il primo esempio semplicemente espande la
        casella di posta <code class="systemitem">root</code> nella casella di posta
        <code class="systemitem">utentelocale</code>, che è di nuovo ricercata
        nel database degli alias.  Se non viene trovata, allora il messaggio
        viene consegnato all'utente locale <code class="systemitem">utentelocale</code>.
        L'esempio successivo mostra una mailing list.  La posta indirizzata
        alla casella di posta <code class="systemitem">ftp-bugs</code> viene espansa nelle
        tre caselle di posta locali <code class="systemitem">joe</code>,
        <code class="systemitem">eric</code>, e <code class="systemitem">paul</code>.  Nota che una
        casella di posta remota può essere specificata come
        <code class="email">&lt;<a xmlns="" class="email" href="mailto:user@example.com">user@example.com</a>&gt;</code>.  Il terzo esempio mostra come
        scrivere la posta su un file, in questo caso
        <code class="filename">/dev/null</code>.  L'ultimo esempio mostra come mandare
        la posta a un programma, in questo caso il messaggio di posta diventa
        lo standard input di <code class="filename">/usr/local/bin/procmail</code>
        tramite una pipe <span class="trademark">UNIX</span>®.</p><p>Quando modifichi questo file, devi eseguire <code class="command">make</code>
        in <code class="filename">/etc/mail/</code> per aggiornare il database.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp86852048"></a>26.3.3. <code class="filename">/etc/mail/local-host-names</code></h3></div></div></div><p>Questo file è una lista di nomi host che <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sendmail&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sendmail</span>(8)</span></a>
        accetta come se fossero l'host locale.  Metti i domini o gli host
        per i quali <span class="application">sendmail</span> deve ricevere posta.
        Per esempio, se questo server di posta dovesse essere in grado di
        accettare posta per il dominio
        <code class="systemitem">example.com</code> e per l'host
        <code class="systemitem">mail.example.com</code>, il suo
        <code class="filename">local-host-names</code> potrebbe assomigliare a
        questo:</p><pre class="programlisting">example.com
mail.example.com</pre><p>Quando modifichi questo file, devi riavviare <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sendmail&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sendmail</span>(8)</span></a> per
        attivare i cambiamenti.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp86857552"></a>26.3.4. <code class="filename">/etc/mail/sendmail.cf</code></h3></div></div></div><p>Il file di configurazione principale di
        <span class="application">sendmail</span>, <code class="filename">sendmail.cf</code>
        controlla l'intero comportamento di <span class="application">sendmail</span>,
        inclusa ogni cosa, dalla rielaborazione degli indirizzi e-mail alla
        stampa del messaggio di rifiuto per i server di posta remoti.
        Naturalmente, avendo svariati compiti, questo file di configurazione
        è alquanto complesso e i suoi dettagli vanno oltre lo scopo di
        questa sezione.  Fortunatamente, questo file necessita raramente di
        essere modificato per server di posta standard.</p><p>Il file di configurazione principale di
        <span class="application">sendmail</span> può essere costruito
        a partire da macro <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=m4&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">m4</span>(1)</span></a> che definiscono le caratteristiche e il
        comportamento di <span class="application">sendmail</span>.  Guarda
        <code class="filename">/usr/src/contrib/sendmail/cf/README</code> per ulteriori
        dettagli.</p><p>Quando modifichi questo file, devi riavviare <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sendmail&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sendmail</span>(8)</span></a> per
        attivare i cambiamenti.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp86863440"></a>26.3.5. <code class="filename">/etc/mail/virtusertable</code></h3></div></div></div><p>Il file <code class="filename">virtusertable</code> mappa indirizzi di posta
        relativi a domini e caselle di posta virtuali in caselle di posta reali.
        Queste caselle di posta possono essere locali, remote, alias definiti in
        <code class="filename">/etc/mail/aliases</code> o file.</p><div class="example"><a id="idp86865488"></a><div class="example-title">Esempio 26.3. Esempio di Mappatura per la Posta di un Dominio Virtuale</div><div class="example-contents"><pre class="programlisting">root@example.com                root
postmaster@example.com          postmaster@noc.example.net
@example.com                    joe</pre></div></div><br class="example-break" /><p>Nell'esempio precedente, abbiamo una mappatura per il dominio
        <code class="systemitem">example.com</code>.  Questo file viene
        processato dall'alto verso il basso fermandosi alla prima corrispondenza
        trovata.  Il primo elemento mappa <code class="email">&lt;<a xmlns="" class="email" href="mailto:root@example.com">root@example.com</a>&gt;</code>
        nella casella di posta locale <code class="systemitem">root</code>.  Il secondo
        elemento mappa <code class="email">&lt;<a xmlns="" class="email" href="mailto:postmaster@example.com">postmaster@example.com</a>&gt;</code> nella casella
        di posta <code class="systemitem">postmaster</code> sull'host <code class="systemitem">noc.example.net</code>.  Infine, se non sono state
        trovate corrispondenze per <code class="systemitem">example.com</code>
        fino a questo punto, verrà verificata l'ultima mappatura, che
        corrisponde a tutti gli altri messaggi di posta indirizzati a qualche
        utente di <code class="systemitem">example.com</code>.
        Questo verrà mappato nella casella di posta locale
        <code class="systemitem">joe</code>.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="mail-using.html">Indietro</a> </td><td width="20%" align="center"><a accesskey="u" href="mail.html">Risali</a></td><td width="40%" align="right"> <a accesskey="n" href="mail-changingmta.html">Avanti</a></td></tr><tr><td width="40%" align="left" valign="top">26.2. Utilizzo della Posta Elettronica </td><td width="20%" align="center"><a accesskey="h" href="index.html">Partenza</a></td><td width="40%" align="right" valign="top"> 26.4. Sostituzione del proprio Mail Transfer Agent</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Questo, ed altri documenti, possono essere scaricati da
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Per domande su FreeBSD, leggi la
    <a href="http://www.FreeBSD.org/docs.html">documentazione</a> prima di contattare
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Per domande su questa documentazione, invia una e-mail a
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>