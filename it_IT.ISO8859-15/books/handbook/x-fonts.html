<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>5.5. Usare i Font in X11</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Manuale di FreeBSD" /><link rel="up" href="x11.html" title="Capitolo 5. L'X Window System" /><link rel="prev" href="x-config.html" title="5.4. La Configurazione di X11" /><link rel="next" href="x-xdm.html" title="5.6. L'X Display Manager" /><link rel="copyright" href="legalnotice.html" title="Nota Legale" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">5.5. Usare i Font in X11</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="x-config.html">Indietro</a> </td><th width="60%" align="center">Capitolo 5. L'X Window System</th><td width="20%" align="right"> <a accesskey="n" href="x-xdm.html">Avanti</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="x-fonts"></a>5.5. Usare i Font in X11</h2></div><div><span class="authorgroup">Grazie al contributo di <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Murray</span> <span class="surname">Stokely</span></span>. </span></div></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="type1"></a>5.5.1. Font Type1</h3></div></div></div><p>I font di default che vengono distribuite
        con X11 non sono certo ideali per il tipico
        desktop di pubblicazione.  I font grandi delle presentazioni
        appaiono confuse e non professionali, e i piccoli font
        in <span class="application"><span class="trademark">Netscape</span>®</span> sono quasi illeggibili.
        Comunque, ci sono molti font Type1 gratis e di alta qualità
        (<span class="trademark">PostScript</span>®) disponibili che possono essere usate subito con X11.
        Ad esempio la collezione dei font URW (<a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/x11-fonts/urwfonts/pkg-descr">x11-fonts/urwfonts</a>) include versioni di alta
        qualità di font standard type1 (<span class="trademark">Times Roman</span>®,
        <span class="trademark">Helvetica</span>®,
        <span class="trademark">Palatino</span>® ed altre).
        La collezione Freefonts (<a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/x11-fonts/freefonts/pkg-descr">x11-fonts/freefonts</a>)
        include molti altri font, ma la maggior parte di loro sono fatte per
        essere usate con software grafico come <span class="application">Gimp</span>
        e non sono abbastanza complete per essere usate come font di schermo.
        Inoltre, X11 può essere configurato per usare i font <span class="trademark">TrueType</span>®
        con un minimo sforzo.  Per ulteriori
        dettagli leggi la pagina di manuale di <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=X&amp;sektion=7"><span class="citerefentry"><span class="refentrytitle">X</span>(7)</span></a> o la
        <a class="link" href="x-fonts.html#truetype" title="5.5.2. TrueType® Font">sezione sui font <span class="trademark">TrueType</span>®</a>.</p><p>Per installare la collezione dei font Type1 sopra citate,
        esegui il seguente comando:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cd /usr/ports/x11-fonts/urwfonts</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>make install clean</code></strong></pre><p>E in maniera analoga per freefont o altre collezioni.  Per fare
        sì che l'X server usi questi font, aggiungi una linea
        appropriata al file di configurazione dell'X server
        (<code class="filename">/etc/X11/xorg.conf</code>), simile a questa:</p><pre class="programlisting">FontPath "/usr/local/lib/X11/fonts/URW/"</pre><p>Alternativamente, alla command line in una sessione di X
        esegui:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>xset fp+ /usr/local/lib/X11/fonts/URW</code></strong>
<code class="prompt">%</code> <strong class="userinput"><code>xset fp rehash</code></strong></pre><p>Questo funzionerà ma sarà perso quando la sessione
        X viene chiusa, a meno che non sia aggiunto al file di startup
        (<code class="filename">~/.xinitrc</code> per una normale sessione
        <code class="command">startx</code>, o <code class="filename">~/.xsession</code> quando ci
        si logga attraverso un
        login manager grafico come <span class="application">XDM</span>).
        Un terzo modo è usare il nuovo file
        <code class="filename">/usr/local/etc/fonts/local.conf</code>: consulta la
        sezione su <a class="link" href="x-fonts.html#antialias" title="5.5.3. Font Anti-Aliased">anti-aliasing</a>.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="truetype"></a>5.5.2. <span class="trademark">TrueType</span>® Font</h3></div></div></div><a id="idp79060048" class="indexterm"></a><a id="idp79060560" class="indexterm"></a><p><span class="application">Xorg</span> ha il supporto nativo per rendere
        i font <span class="trademark">TrueType</span>®.  Ci sono due differenti moduli che possono abilitare
        questa funzionalità.   Il modulo freetype è usato in questo
        esempio perchè è più consistente con gli altri
        back-end di rendering degli altri font.  Per abilitare il modulo
        freetype basta che aggiungi la seguente linea nella sezione
        <code class="literal">"Module"</code> del file
        <code class="filename">/etc/X11/xorg.conf</code>:</p><pre class="programlisting">Load "freetype"</pre><p>Adesso crea una directory per i font <span class="trademark">TrueType</span>® (ad
        esempio <code class="filename">/usr/local/lib/X11/fonts/TrueType</code>)
        e copia tutte i font <span class="trademark">TrueType</span>® in questa directory.  Ricordati
        che i font <span class="trademark">TrueType</span>® non possono essere prese direttamente da un
        <span class="trademark">Macintosh</span>®, devono essere in formato <span class="trademark">UNIX</span>®/<span class="trademark">MS-DOS</span>®/<span class="trademark">Windows</span>® per
        essere usate da X11.  Una volta che i file sono stati copiati in questa
        directory, usa il comando <span class="application">ttmkfdir</span> per
        creare un file <code class="filename">fonts.dir</code>, così che il
        renderer di font X sappia che questi nuovi file sono stati installati.
        <code class="command">ttmkfdir</code> è disponibile dalla Collezione dei
        Ports di FreeBSD come
        <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/x11-fonts/ttmkfdir/pkg-descr">x11-fonts/ttmkfdir</a>.</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cd /usr/local/lib/X11/fonts/TrueType</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>ttmkfdir -o fonts.dir</code></strong></pre><p>Adesso aggiungi la directory <span class="trademark">TrueType</span>® al percorso dei font.
        È lo stesso procedimento seguito sopra per i font
        <a class="link" href="x-fonts.html#type1" title="5.5.1. Font Type1">Type1</a>, ovvero usa</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>xset fp+ /usr/local/lib/X11/fonts/TrueType</code></strong>
<code class="prompt">%</code> <strong class="userinput"><code>xset fp rehash</code></strong></pre><p>o aggiungi una linea <code class="literal">FontPath</code> al file
        <code class="filename">xorg.conf</code>.</p><p>Questo è tutto.  Adesso
        <span class="application"><span class="trademark">Netscape</span>®</span>,
        <span class="application">Gimp</span>, <span class="application"><span class="trademark">StarOffice</span>&#8482;</span>
        e tutte le altre applicazioni X dovrebbero riconoscere i font <span class="trademark">TrueType</span>®
        installate.  I font molto piccoli (come del testo mostrato in alta
        risoluzione su una pagina web) e font estremamente grandi (all'interno
        di <span class="application"><span class="trademark">StarOffice</span>&#8482;</span>) avranno un'apparenza
        molto migliore.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="antialias"></a>5.5.3. Font Anti-Aliased</h3></div><div><span class="authorgroup">Aggiornato da <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Joe Marcus</span> <span class="surname">Clarke</span></span>. </span></div></div></div><a id="idp79094224" class="indexterm"></a><a id="idp79094736" class="indexterm"></a><p>L'anti-aliasing dei font è stato disponibile per X11 a
        partire da <span class="application"><span class="trademark">XFree86</span>&#8482;</span> 4.0.2.  Tuttavia la
        configurazione dei font era complicata prima dell'introduzione di
        <span class="application"><span class="trademark">XFree86</span>&#8482;</span> 4.3.0.  A partire da
        <span class="application"><span class="trademark">XFree86</span>&#8482;</span> 4.3.0, tutte i font in X11 che sono
        trovati sotto le directory
        <code class="filename">/usr/local/lib/X11/fonts/</code> e
        <code class="filename">~/.fonts/</code> sono automaticamente resi disponibili
        per l'anti aliasing ad applicazioni con supporto per Xft.  Non tutte le
        applicazioni lo hanno, ma molte hanno ricevuto supporto per Xft.
        Esempi di applicazioni con supporto per Xft includono Qt 2.3 e
        successivi (il toolkit per il desktop <span class="application">KDE</span>),
        GTK+ 2.0 e successivi (il toolkit per il desktop
        <span class="application">GNOME</span>) e
        <span class="application">Mozilla</span> 1.2 e successivi.</p><p>Per controllare quali font sono anti-aliased, o per configurare
        delle proprietà anti-alias, crea (o edita, se esiste già)
        il file <code class="filename">/usr/local/etc/fonts/local.conf</code>.  Molte
        caratteristiche avanzate del sistema di font Xft possono essere
        configurate usando questo file; questa sezione descrive solo alcune
        semplici possibilità.  Per ulteriori dettagli, consulta
        <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=fonts-conf&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">fonts-conf</span>(5)</span></a>.</p><a id="idp79109712" class="indexterm"></a><p>Questo file deve essere in formato XML.  Presta particolare
        attenzione al case, e accertati che tutti i tag siano chiusi
        propriamente.
        Il file inizia con l'header usuale XML seguito da una definizione
        DOCTYPE, poi usa il tag <code class="literal">&lt;fontconfig&gt;</code>:</p><pre class="programlisting">&lt;?xml version="1.0"?&gt;
&lt;!DOCTYPE fontconfig SYSTEM "fonts.dtd"&gt;
&lt;fontconfig&gt;</pre><p> Come ricordato in precedenza, tutti i font in
        <code class="filename">/usr/local/lib/X11/fonts/</code> così come
        quelli in <code class="filename">~/.fonts/</code> sono già resi
        disponibili alle applicazioni pronte per Xft.  Se desideri aggiungere
        un'altra directory fuori da queste due alberature di directory,
        aggiungi una linea simile a questa in
        <code class="filename">/usr/local/etc/fonts/local.conf</code>:</p><pre class="programlisting">&lt;dir&gt;/path/to/my/fonts&lt;/dir&gt;</pre><p>Dopo aver aggiunto i nuovi font, e specialmente nuove directory,
        dovresti eseguire questo comando per ricostruire la cache dei
        font:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>fc-cache -f</code></strong></pre><p>L'anti-aliasing rende i bordi un pò confusi, il che rende
        il testo piccolo più leggibile e rimuove le <span class="quote">«<span class="quote">scale</span>»</span>
        dal testo grande, ma può causare una cattiva visuale se applicato
        al testo normale.
        Per escludere i font di dimensione minore di 14 punti dall'anti-aliasing
        includi le seguenti linee:</p><pre class="programlisting">        &lt;match target="font"&gt;
            &lt;test name="size" compare="less"&gt;
                &lt;double&gt;14&lt;/double&gt;
            &lt;/test&gt;
            &lt;edit name="antialias" mode="assign"&gt;
                &lt;bool&gt;false&lt;/bool&gt;
            &lt;/edit&gt;
        &lt;/match&gt;
        &lt;match target="font"&gt;
            &lt;test name="pixelsize" compare="less" qual="any"&gt;
                &lt;double&gt;14&lt;/double&gt;
            &lt;/test&gt;
            &lt;edit mode="assign" name="antialias"&gt;
                &lt;bool&gt;false&lt;/bool&gt;
            &lt;/edit&gt;
        &lt;/match&gt;</pre><a id="idp79115856" class="indexterm"></a><p>Anche lo spazio per alcuni font a spazio singolo potrebbe essere
        inappropriato con l'anti-aliasing.  Questo pare che sia un problema
        in particolare con <span class="application">KDE</span>.
        Una possibile soluzione a questo è forzare lo spazio di questi
        font a 100.  Aggiungi le seguenti linee:</p><pre class="programlisting">       &lt;match target="pattern" name="family"&gt;
           &lt;test qual="any" name="family"&gt;
               &lt;string&gt;fixed&lt;/string&gt;
           &lt;/test&gt;
           &lt;edit name="family" mode="assign"&gt;
               &lt;string&gt;mono&lt;/string&gt;
           &lt;/edit&gt;
        &lt;/match&gt;
        &lt;match target="pattern" name="family"&gt;
            &lt;test qual="any" name="family"&gt;
                &lt;string&gt;console&lt;/string&gt;
            &lt;/test&gt;
            &lt;edit name="family" mode="assign"&gt;
                &lt;string&gt;mono&lt;/string&gt;
            &lt;/edit&gt;
        &lt;/match&gt;</pre><p>(questo crea un alias per altri nomi comuni di font a dimensione
         fissa come <code class="literal">"mono"</code>), e poi aggiungi:</p><pre class="programlisting">         &lt;match target="pattern" name="family"&gt;
             &lt;test qual="any" name="family"&gt;
                 &lt;string&gt;mono&lt;/string&gt;
             &lt;/test&gt;
             &lt;edit name="spacing" mode="assign"&gt;
                 &lt;int&gt;100&lt;/int&gt;
             &lt;/edit&gt;
         &lt;/match&gt;      </pre><p>Alcuni font, come Helvetica, potrebbero avere un problema quando
        sono resi anti-alias.  In genere questo si manifesta come un font che
        sembra tagliato in verticale.  Nella peggiore delle ipotesi, questo
        potrebbe causare
        il crash delle applicazioni come <span class="application">Mozilla</span>.
        Per evitarlo, considera di aggiungere queste linee a
        <code class="filename">local.conf</code>:</p><pre class="programlisting">         &lt;match target="pattern" name="family"&gt;
             &lt;test qual="any" name="family"&gt;
                 &lt;string&gt;Helvetica&lt;/string&gt;
             &lt;/test&gt;
             &lt;edit name="family" mode="assign"&gt;
                 &lt;string&gt;sans-serif&lt;/string&gt;
             &lt;/edit&gt;
         &lt;/match&gt;        </pre><p>Quando hai finito di editare il file <code class="filename">local.conf</code>
        accertati di mettere alla fine del file il tag
        <code class="literal">&lt;/fontconfig&gt;</code>.
        Se non lo fai le tue modifiche saranno ignorate.</p><p>Il set di font che viene di default con X11 non è molto
        desiderabile quando viene reso sotto anti-alias.  Un set molto migliore
        può essere trovato nel port
        <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/x11-fonts/bitstream-vera/pkg-descr">x11-fonts/bitstream-vera</a>.
        Questo port installerà un file
        <code class="filename">/usr/local/etc/fonts/local.conf</code> se non esiste
        già.  Se il file esiste, il port creerà un file
        <code class="filename">/usr/local/etc/fonts/local.conf-vera</code>.  Unisci il
        contenuto di questo file in
        <code class="filename">/usr/local/etc/fonts/local.conf</code> e i font
        Bitstream automaticamente rimpiazzeranno le X11 Serif di default, Sans
        Serif, e Monospaced.</p><p>Alla fine, gli utenti possono aggiungere le loro impostazioni
        attraverso i loro file personali <code class="filename">.fonts.conf</code>.
        Per farlo, ogni utente dovrebbe crearsi semplicemente un file
        <code class="filename">~/.fonts.conf</code>.  Anche questo
        file dovrebbe essere in formato XML.</p><a id="idp79125328" class="indexterm"></a><a id="idp79125840" class="indexterm"></a><p>Un ultimo punto: con uno schermo LCD, potrebbe essere desiderabile
        una resa sub-pixel.  In sostanza questo tratta le componenti rosse,
        verdi e blu in modo separato per migliorare la risoluzione orizzontale;
        il risultato è notevole.  Per abilitarlo, aggiungi queste linee
        da qualche parte nel file <code class="filename">local.conf</code>:</p><pre class="programlisting">         &lt;match target="font"&gt;
             &lt;test qual="all" name="rgba"&gt;
                 &lt;const&gt;unknown&lt;/const&gt;
             &lt;/test&gt;
             &lt;edit name="rgba" mode="assign"&gt;
                 &lt;const&gt;rgb&lt;/const&gt;
             &lt;/edit&gt;
         &lt;/match&gt;</pre><div xmlns="" class="note"><h3 class="admontitle">Nota: </h3><p xmlns="http://www.w3.org/1999/xhtml">A seconda del tipo di display, <code class="literal">rgb</code>
          potrebbe essere cambiato in <code class="literal">bgr</code>,
          <code class="literal">vrgb</code> o <code class="literal">vbgr</code>: sperimenta
          e vedi quale funziona meglio.</p></div><a id="idp79130448" class="indexterm"></a><p>L'anti-aliasing dovrebbe essere abilitato la prossima volta che
        il server X sarà avviato.   Comunque, i programmi devono sapere
        come avvantaggiarsene.  Al momento, il toolkit Qt lo sa, così
        l'intero ambiente <span class="application">KDE</span> può usare font
        anti-aliased. GTK+ e <span class="application">GNOME</span> possono essere
        rese compatibili con l'anti-aliasing attraverso il capplet
        <span class="quote">«<span class="quote">Font</span>»</span> (leggi <a class="xref" href="x11-wm.html#x11-wm-gnome-antialias" title="5.7.1.3. Font anti-aliased con GNOME">Sezione 5.7.1.3, «Font anti-aliased con GNOME»</a> per
        dettagli).  Di default <span class="application">Mozilla</span> 1.2 e
        successivi sapranno come usare automaticamente l'anti-aliasing.  Per
        disabilitarlo, ricompila <span class="application">Mozilla</span> con il flag
        <code class="varname">DWITHOUT_XFT</code>.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="x-config.html">Indietro</a> </td><td width="20%" align="center"><a accesskey="u" href="x11.html">Risali</a></td><td width="40%" align="right"> <a accesskey="n" href="x-xdm.html">Avanti</a></td></tr><tr><td width="40%" align="left" valign="top">5.4. La Configurazione di X11 </td><td width="20%" align="center"><a accesskey="h" href="index.html">Partenza</a></td><td width="40%" align="right" valign="top"> 5.6. L'X Display Manager</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Questo, ed altri documenti, possono essere scaricati da
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Per domande su FreeBSD, leggi la
    <a href="http://www.FreeBSD.org/docs.html">documentazione</a> prima di contattare
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Per domande su questa documentazione, invia una e-mail a
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>