<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>8.5. Se Qualcosa Va Male</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Manuale di FreeBSD" /><link rel="up" href="kernelconfig.html" title="Capitolo 8. Configurazione del Kernel di FreeBSD" /><link rel="prev" href="kernelconfig-config.html" title="8.4. Il File di Configurazione" /><link rel="next" href="printing.html" title="Capitolo 9. Stampa" /><link rel="copyright" href="legalnotice.html" title="Nota Legale" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">8.5. Se Qualcosa Va Male</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="kernelconfig-config.html">Indietro</a> </td><th width="60%" align="center">Capitolo 8. Configurazione del Kernel di FreeBSD</th><td width="20%" align="right"> <a accesskey="n" href="printing.html">Avanti</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="kernelconfig-trouble"></a>8.5. Se Qualcosa Va Male</h2></div></div></div><p>Ci sono cinque categorie di problemi che si possono
      presentare quando si crea un nuovo kernel.  Sono:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="command">config</code> fallisce:</span></dt><dd><p>Se il comando <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=config&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">config</span>(8)</span></a> fallisce quando
            gli passi la descrizione del tuo kernel, hai fatto
            probabilmente un semplice errore da qualche parte.
            Fortunatamente <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=config&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">config</span>(8)</span></a> scriverà il numero della linea
            che ha dato errore, così puoi facilmente trovare
            la linea errata.  Ad esempio, se vedi:</p><pre class="screen">config: line 17: syntax error</pre><p>Accertati che la parola chiave
            sia scritta correttamente confrontandola con quella
            del kernel <code class="filename">GENERIC</code> o un altro
            riferimento.</p></dd><dt><span class="term"><code class="command">make</code> fallisce:</span></dt><dd><p>Se il comando <code class="command">make</code> fallisce, di solito
            segnala un errore nella descrizione del kernel che non è
            abbastanza grave per <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=config&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">config</span>(8)</span></a>.  Ancora, controlla la tua configurazione
            e se ancora non riesci a risolvere il problema, invia una mail
            a <a class="link" href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-questions" target="_top">mailing list per le domande generiche su FreeBSD</a> con la tua configurazione del kernel, e dovrebbe
            essere diagnosticato velocemente.</p></dd><dt><span class="term">Il kernel non fa il boot:<a id="kernelconfig-noboot"></a></span></dt><dd><p>Se il tuo kernel non fa il boot, o fallisce nel
            riconoscimento dei tuoi device, non andare in panico!
            Fortunatamente FreeBSD ha un ottimo meccanismo per
            ricominciare in questo caso.  Semplicemente scegli il kernel
            da cui vuoi fare il boot dal boot loader FreeBSD.  Puoi accedere ad esso
            quando appare il menu del boot.
            Seleziona l'opzione <span class="quote">«<span class="quote">Escape to a loader prompt</span>»</span>,
            la numero sei.  Al prompt digita
            <code class="command">unload kernel</code> e poi digita
            <code class="command">boot /boot/kernel.old/kernel</code>
            o il nome del file di un altro kernel da cui puoi bootare
            correttamente.  Quando configuri un kernel, è sempre
            una buona idea tenere un kernel che si sa che funzioni
            a portata di mano.</p><p>Dopo aver fatto il boot con un kernel funzionante
            puoi controllare il tuo file di configurazione e cercare
            di ricompilarlo.  Una risorsa utile è il file
            <code class="filename">/var/log/messages</code> che, fra le altre cose,
            registra tutti messaggi del kernel da ogni boot riuscito.
            Inoltre, il comando <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dmesg&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">dmesg</span>(8)</span></a> scriverà i messaggi
            del kernel dall'ultimo boot.</p><div xmlns="" class="note"><h3 class="admontitle">Nota: </h3><p xmlns="http://www.w3.org/1999/xhtml">Se hai problemi a compilare un kernel, accertati di
              tenere un kernel <code class="filename">GENERIC</code>, o qualche
              altro kernel che sai che funzioni a portata di mano,con un
              nome diverso cosichè non sia cancellato dalla successiva
              compilazione.  Non puoi affidarti su <code class="filename">kernel.old</code>
              perchè quando installi un nuovo kernel, <code class="filename">kernel.old
              </code> viene cancellato dall'ultimo kernel installato, che poteva
              essere non funzionanante.  Inoltre, appena possibile, sposta il
              kernel funzionanante nella directory corretta <code class="filename">
              /boot/kernel</code> o comandi come <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ps&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ps</span>(1)</span></a> potrebbero non
              funzionare bene.  Per farlo, semplicemente rinomina la directory
              contenente il kernel funzionante:</p><pre xmlns="http://www.w3.org/1999/xhtml" class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mv /boot/kernel /boot/kernel.bad</code></strong>
              <code class="prompt">#</code> <strong class="userinput"><code>mv /boot/kernel.good /boot/kernel</code></strong></pre></div></dd><dt><span class="term">Il kernel funziona, ma <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ps&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ps</span>(1)</span></a> non funziona più.</span></dt><dd><p>Se hai installato una versione del kernel differente
            da quella delle utilities di sistema, per esempio un kernel -CURRENT
            ed un sistema -RELEASE, molti comandi di stato del sistema
            come <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ps&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ps</span>(1)</span></a> e <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=vmstat&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">vmstat</span>(8)</span></a> non funzioneranno più.
            Dovresti <a class="link" href="makeworld.html" title="23.4. Using make world">ricompilare ed installare
            world</a> con la stessa versione dei sorgenti del tuo kernel.
            Questa è una ragione per non usare una versione del kernel
            diversa dal sistema operativo.</p></dd></dl></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="kernelconfig-config.html">Indietro</a> </td><td width="20%" align="center"><a accesskey="u" href="kernelconfig.html">Risali</a></td><td width="40%" align="right"> <a accesskey="n" href="printing.html">Avanti</a></td></tr><tr><td width="40%" align="left" valign="top">8.4. Il File di Configurazione </td><td width="20%" align="center"><a accesskey="h" href="index.html">Partenza</a></td><td width="40%" align="right" valign="top"> Capitolo 9. Stampa</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Questo, ed altri documenti, possono essere scaricati da
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Per domande su FreeBSD, leggi la
    <a href="http://www.FreeBSD.org/docs.html">documentazione</a> prima di contattare
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Per domande su questa documentazione, invia una e-mail a
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>