<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>3.5. Organizzazione del Disco</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Manuale di FreeBSD" /><link rel="up" href="basics.html" title="Capitolo 3. Basi di Unix" /><link rel="prev" href="dirstructure.html" title="3.4. Struttura delle Directory" /><link rel="next" href="mount-unmount.html" title="3.6. Montaggio e Smontaggio dei File system" /><link rel="copyright" href="legalnotice.html" title="Nota Legale" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">3.5. Organizzazione del Disco</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="dirstructure.html">Indietro</a> </td><th width="60%" align="center">Capitolo 3. Basi di Unix</th><td width="20%" align="right"> <a accesskey="n" href="mount-unmount.html">Avanti</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="disk-organization"></a>3.5. Organizzazione del Disco</h2></div></div></div><p>La più piccola unità di organizzazione che FreeBSD usa
      per ricercare file è il nome del file.  I nomi dei file sono
      case-sensitive, ciò significa che <code class="filename">readme.txt</code>
      e <code class="filename">README.TXT</code> sono due file distinti.  FreeBSD non usa
      l'estensione (es. <code class="filename">.txt</code>) di un file per determinare
      se il file è un programma, un documento, o qualche altra forma di
      dati.</p><p>I file sono memorizzati in directory.  Una directory può
      contenere centinaia di file o non contenerne affatto.  Inoltre una
      directory può contenere altre directory, consentendo di costruire
      una gerarchia di directory all'interno di un'altra.  Tutto questo rende
      più facile l'organizzazione dei tuoi dati.</p><p>Ci si riferisce a file e directory attraverso il nome del file o della
      directory, seguito da uno slash in avanti, <code class="literal">/</code>,
      a sua volta seguito da altri nomi di directory necessari.  Se
      hai una directory di nome <code class="filename">foo</code>, la quale contiene la
      directory <code class="filename">bar</code>, che a sua volta contiene il file
      <code class="filename">readme.txt</code>, allora il nome completo, chiamato anche
      il <em class="firstterm">percorso</em> del file è
      <code class="filename">foo/bar/readme.txt</code>.</p><p>Le directory e i file sono memorizzati in un file system.  Ogni
      file system contiene esattamente una directory al livello più alto,
      chiamata la <em class="firstterm">directory root</em> di quel file system.
      Questa directory root può contenere altre directory.</p><p>Fin qui è probabilmente tutto simile ad altri sistemi
      operativi che hai usato.  Tuttavia ci sono alcune differenze;  per
      esempio, <span class="trademark">MS-DOS</span>® usa il carattere <code class="literal">\</code> per separare i
      nomi di file e directory, mentre <span class="trademark">Mac OS</span>® usa <code class="literal">:</code>.</p><p>FreeBSD non usa lettere di dispositivi, o altri nomi di dispositivi
      nel path.  In FreeBSD non dovrai mai scrivere
      <code class="filename">c:/foo/bar/readme.txt</code>.</p><p>Piuttosto, un file system è designato come il
      <em class="firstterm">file system root</em>.  La directory root del
      file system root è riferita con <code class="literal">/</code>.  Ogni altro
      file system è <em class="firstterm">montato</em> sotto il file system
      root.  Non importa quanti dischi hai sul tuo sistema FreeBSD, ogni
      directory è come se fosse parte dello stesso disco.</p><p>Supponiamo che tu abbia tre file system, chiamati
      <code class="literal">A</code>, <code class="literal">B</code>, e <code class="literal">C</code>.
      Ogni file system ha una directory root, la quale contiene altre due
      directory, chiamate <code class="literal">A1</code>, <code class="literal">A2</code> (e
      nello stesso modo <code class="literal">B1</code>, <code class="literal">B2</code> e
      <code class="literal">C1</code>, <code class="literal">C2</code>).</p><p>Sia <code class="literal">A</code> il file system root.  Se usi il comando
      <code class="command">ls</code> per visualizzare il contenuto di questa directory
      dovresti vedere due sottodirectory, <code class="literal">A1</code> e
      <code class="literal">A2</code>.  L'albero delle directory assomiglia a
      questo:</p><div class="mediaobject"><img src="install/example-dir1.png" /></div><p>Un file system deve essere montato su una directory di un altro
      file system.  Supponiamo ora che tu monti il file system
      <code class="literal">B</code> sulla directory <code class="literal">A1</code>.  La directory
      root di <code class="literal">B</code> rimpiazza <code class="literal">A1</code>, e di
      conseguenza appariranno le directory di <code class="literal">B</code>:</p><div class="mediaobject"><img src="install/example-dir2.png" /></div><p>I file contenuti nelle directory <code class="literal">B1</code> o
      <code class="literal">B2</code> possono essere raggiunti con il path
      <code class="filename">/A1/B1</code> o <code class="filename">/A1/B2</code>.  I file che
      erano in <code class="filename">/A1</code> sono stati temporaneamente nascosti.
      Questi riappariranno quando <code class="literal">B</code> sarà
      <em class="firstterm">smontato</em> da A.</p><p>Se <code class="literal">B</code> è stato montato su
      <code class="literal">A2</code> allora il diagramma assomiglierà a
      questo:</p><div class="mediaobject"><img src="install/example-dir3.png" /></div><p>e i percorsi saranno rispettivamente <code class="filename">/A2/B1</code> e
      <code class="filename">/A2/B2</code>.</p><p>I file system possono essere montati in cima ad altri file system.
      Continuando con l'ultimo esempio, il file system <code class="literal">C</code>
      può essere montato in cima alla directory <code class="literal">B1</code>
      nel file system <code class="literal">B</code>, arrivando a questa
      sistemazione:</p><div class="mediaobject"><img src="install/example-dir4.png" /></div><p>Oppure <code class="literal">C</code> potrebbe essere montato direttamente sul
      file system <code class="literal">A</code>, sotto la directory
      <code class="literal">A1</code>:</p><div class="mediaobject"><img src="install/example-dir5.png" /></div><p>Se hai familiarità con <span class="trademark">MS-DOS</span>®, questo è simile, ma
      non identico, al comando <code class="command">join</code>.</p><p>Di solito non ti devi occupare direttamente di questi aspetti.
      Tipicamente quando installi FreeBSD crei i file system e decidi dove
      montarli, e da quel momento non avrai più la necessità di
      modificarli a meno che installi un nuovo disco.</p><p>È possibile avere un unico file system root, senza avere la
      necessità di crearne altri.  Esistono alcuni svantaggi
      utilizzando questo approccio, e un solo vantaggio.</p><div class="itemizedlist"><div class="itemizedlist-title">Benefici con File system Multipli</div><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Filesystem diversi possono avere <em class="firstterm">opzioni di
            mount</em> diverse.  Per esempio, in un'attenta progettazione,
          il file system root potrebbe essere montato in modalità di sola
          lettura, rendendo impossibile la cancellazione accidentale o la modifica
          di un file critico.  Inoltre, separando i file system scrivibili
          dall'utente, come <code class="filename">/home</code>, da altri file system
          permette di montare i primi con l'opzione <em class="firstterm">nosuid</em>;
          questa opzione non permette il settaggio dei bit
          <em class="firstterm">suid</em>/<em class="firstterm">guid</em> sui file
          eseguibili memorizzati sul file system che ha tale opzione di mount
          attivata, migliorando l'aspetto sicurezza.</p></li><li class="listitem"><p>FreeBSD ottimizza in modo automatico la disposizione dei file sul
          file system, a seconda di come è usato il file system.  Quindi
          un file system che contiene molti file piccoli che sono scritti di
          frequente avrà un'ottimizzazione diversa rispetto ad un altro
          file system che contiene pochi file di grandi dimensioni.  Utilizzando
          un solo grande file system questa ottimizzazione viene a
          mancare.</p></li><li class="listitem"><p>I file system di FreeBSD reagiscono bene ad una violenta perdita di
          energia elettrica.  Tuttavia, una perdita di energia in un punto
          critico potrebbe sempre danneggiare la struttura del file system.
          Splittando i tuoi dati su file system multipli sarà più
          probabile che il sistema riparta, dandoti la possibilità di
          ripristinare un precedente backup se necessario.</p></li></ul></div><div class="itemizedlist"><div class="itemizedlist-title">Benefici di un File system Singolo</div><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>I file system sono a dimensione fissa.  Se crei un solo file system
          quando installi FreeBSD e gli assegni una data dimensione, in futuro
          potresti scoprire che necessiti di creare una partizione più
          grande.  Questo non è facilmente realizzabile se non
          effettuando un backup dei dati, ricreando il file system con la nuova
          dimensione, e quindi ripristinando il backup di dati.</p><div xmlns="" class="important"><h3 class="admontitle">Importante: </h3><p xmlns="http://www.w3.org/1999/xhtml">FreeBSD ha il comando <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=growfs&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">growfs</span>(8)</span></a>,
            con il quale è possibile incrementare la dimensione del
            file system al volo, rimuovendo questa limitazione.</p></div></li></ul></div><p>I file system sono contenuti all'interno di partizioni.  Qui il
      significato del termine partizione si discosta dall'uso comune di questo
      termine (partizioni <span class="trademark">MS-DOS</span>®, per esempio), a causa dell'eredità
      <span class="trademark">UNIX</span>® di FreeBSD.  Ogni partizione è identificata da una lettera
      partendo dalla <code class="literal">a</code> fino alla <code class="literal">h</code>.  Ogni
      partizione può contenere solo un file system, il che significa che i
      file system sono spesso identificati sia dal loro punto di mount nella
      gerarchia del file system, sia dalla lettera della partizione nella quale
      sono contenuti.</p><p>Inoltre FreeBSD usa parte del disco per lo <em class="firstterm">spazio di
        swap</em>.  Lo spazio di swap fornisce a FreeBSD la
      funzionalità di <em class="firstterm">memoria virtuale</em>.  Questo
      permette al tuo computer di comportarsi come se avesse più memoria
      di quella che ha realmente.  Quando FreeBSD esaurisce la memoria muove
      alcuni dati presenti in memoria che non sono utilizzati in quel momento
      nello spazio di swap, e li riporta in memoria (spostando nello spazio di
      swap qualche altro dato) non appena necessari.</p><p>Alcune partizioni hanno certe convenzioni a loro associate.</p><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Partizione</th><th>Convenzione</th></tr></thead><tbody valign="top"><tr><td valign="top"><code class="literal">a</code></td><td valign="top">In genere contiene il file system root</td></tr><tr><td valign="top"><code class="literal">b</code></td><td valign="top">In genere contiene lo spazio di swap</td></tr><tr><td valign="top"><code class="literal">c</code></td><td valign="top">Di solito rappresenta l'intera dimensione della slice.
              Questo permette a utility che necessitano di lavorare sull'intera
              slice (per esempio, uno scanner di blocchi difettosi) di lavorare
              sulla partizione <code class="literal">c</code>.  Di norma non dovresti
              creare un file system su questa partizione.</td></tr><tr><td valign="top"><code class="literal">d</code></td><td valign="top">La partizione <code class="literal">d</code> era utilizzata in passato
              con un significato speciale, caduto ormai in disuso e ora
              può essere utilizzata come una partizione normale.</td></tr></tbody></table></div><p>Ogni partizione contenente un file system è memorizzata in
      ciò che FreeBSD chiama <em class="firstterm">slice</em>.  Slice
      è un termine di FreeBSD per identificare ciò che comunemente
      viene chiamato partizione, e di nuovo, questo è dovuto dal
      background <span class="trademark">UNIX</span>® di FreeBSD.  Le slice sono numerate, partendo da 1 e
      arrivando fino a 4.</p><a id="idp77856208" class="indexterm"></a><a id="idp77856720" class="indexterm"></a><a id="idp77857232" class="indexterm"></a><p>I numeri di slice seguono il nome del dispositivo, preceduti da una
      <code class="literal">s</code>, e partendo da 1.  Quindi
      <span class="quote">«<span class="quote">da0<span class="emphasis"><em>s1</em></span></span>»</span> è la prima slice sul
      primo disco SCSI.  Ci possono essere solo quattro slice fisiche su un
      disco, ma puoi avere slice logiche all'interno di slice fisiche di un
      appropriato tipo.  Queste slice estese sono numerate a partire da 5,
      quindi <span class="quote">«<span class="quote">ad0<span class="emphasis"><em>s5</em></span></span>»</span> è la prima
      slice estesa sul primo disco IDE.  Questi stratagemmi sono usati per i
      file system che si aspettano di occupare una slice.</p><p>Le slice, i dispositivi fisici <span class="quote">«<span class="quote">pericolosamente
        dedicati</span>»</span>, e altri dispositivi contengono
      <em class="firstterm">partizioni</em>, le quali sono rappresentate tramite
      lettere dalla <code class="literal">a</code> fino alla <code class="literal">h</code>.  Queste
      lettere seguono il nome del dispositivo, quindi
      <span class="quote">«<span class="quote">da0<span class="emphasis"><em>a</em></span></span>»</span> è la partizione a
      sul primo dispositivo da, il quale è <span class="quote">«<span class="quote">pericolosamente
        dedicato</span>»</span>.  <span class="quote">«<span class="quote">ad1s3<span class="emphasis"><em>e</em></span></span>»</span> è
      la quinta partizione nel terza slice del secondo disco IDE.</p><p>In fine, ogni disco sul sistema è identificato.  Un nome di un
      disco incomincia con un codice che indica il tipo di disco, seguito da un
      numero, che indica quale disco esso sia.  A differenza delle slice,
      i numeri riferiti al disco incominciano da 0.  Puoi vedere dei codici
      generici in <a class="xref" href="disk-organization.html#basics-dev-codes" title="Tabella 3.1. Codici dei Dispositivi Disco">Tabella 3.1, «Codici dei Dispositivi Disco»</a>.</p><p>Quando fai riferimento a una partizione di FreeBSD devi specificare
      anche il nome della slice e del disco che contengono la partizione, e
      quando fai riferimento a una slice dovresti specificare anche il nome del
      disco.  Per riferirti ad una partizione specifica quindi il nome del disco,
      il carattere <code class="literal">s</code>, il numero di slice, e infine la lettera
      della partizione.  Alcuni esempi sono mostrati nell'<a class="xref" href="disk-organization.html#basics-disk-slice-part" title="Esempio 3.1. Esempi di Nomi di Dischi, di Slice, e di Partizioni">Esempio 3.1, «Esempi di Nomi di Dischi, di Slice, e di Partizioni»</a>.</p><p>L'<a class="xref" href="disk-organization.html#basics-concept-disk-model" title="Esempio 3.2. Modello Concettuale di un Disco">Esempio 3.2, «Modello Concettuale di un Disco»</a> mostra un modello
      concettuale di struttura di un disco che dovrebbe aiutare a chiarire le
      cose.</p><p>Per installare FreeBSD devi prima configurare le slice del disco,
      creare le partizioni all'interno della slice che vuoi usare per FreeBSD,
      e quindi creare un file system (o spazio di swap) in ogni partizione, e
      decidere dove il file system deve essere montato.</p><div class="table"><a id="basics-dev-codes"></a><div class="table-title">Tabella 3.1. Codici dei Dispositivi Disco</div><div class="table-contents"><table summary="Codici dei Dispositivi Disco" width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Codice</th><th>Significato</th></tr></thead><tbody><tr><td><code class="filename">ad</code></td><td>disco ATAPI (IDE)</td></tr><tr><td><code class="filename">da</code></td><td>disco ad accesso diretto SCSI</td></tr><tr><td><code class="filename">acd</code></td><td>CDROM ATAPI (IDE)</td></tr><tr><td><code class="filename">cd</code></td><td>CDROM SCSI</td></tr><tr><td><code class="filename">fd</code></td><td>Disco floppy</td></tr></tbody></table></div></div><br class="table-break" /><div class="example"><a id="basics-disk-slice-part"></a><div class="example-title">Esempio 3.1. Esempi di Nomi di Dischi, di Slice, e di Partizioni</div><div class="example-contents"><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Nome</th><th>Significato</th></tr></thead><tbody><tr><td><code class="literal">ad0s1a</code></td><td>La prima partizione (<code class="literal">a</code>) sulla prima
                slice (<code class="literal">s1</code>) sul primo disco IDE
                (<code class="literal">ad0</code>).</td></tr><tr><td><code class="literal">da1s2e</code></td><td>La quinta partizione (<code class="literal">e</code>) sulla seconda
                slice (<code class="literal">s2</code>) sul secondo disco SCSI
                (<code class="literal">da1</code>).</td></tr></tbody></table></div></div></div><br class="example-break" /><div class="example"><a id="basics-concept-disk-model"></a><div class="example-title">Esempio 3.2. Modello Concettuale di un Disco</div><div class="example-contents"><p>Questo diagramma mostra come FreeBSD vede il primo disco IDE
        attaccato al sistema.  Si assuma che il disco sia di 4 GB, e che
        contenga due slice da 2 GB (equivalenti come significato a due
        partizioni <span class="trademark">MS-DOS</span>®).  La prima slice contiene un disco <span class="trademark">MS-DOS</span>®,
        <code class="filename">C:</code>, e la seconda slice contiene
        un'installazione di FreeBSD.  In questo esempio l'installazione di
        FreeBSD ha tre partizioni dati più una di swap.</p><p>Le tre partizioni conterranno ognuna un file system.  La partizione
        <code class="literal">a</code> sarà usata per il file system root,
        la <code class="literal">e</code> per la gerarchia di directory
        <code class="filename">/var</code>, e la partizione <code class="literal">f</code> per
        la gerarchia di directory <code class="filename">/usr</code>.</p><div class="mediaobject"><img src="install/disk-layout.png" /></div></div></div><br class="example-break" /></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="dirstructure.html">Indietro</a> </td><td width="20%" align="center"><a accesskey="u" href="basics.html">Risali</a></td><td width="40%" align="right"> <a accesskey="n" href="mount-unmount.html">Avanti</a></td></tr><tr><td width="40%" align="left" valign="top">3.4. Struttura delle Directory </td><td width="20%" align="center"><a accesskey="h" href="index.html">Partenza</a></td><td width="40%" align="right" valign="top"> 3.6. Montaggio e Smontaggio dei File system</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Questo, ed altri documenti, possono essere scaricati da
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Per domande su FreeBSD, leggi la
    <a href="http://www.FreeBSD.org/docs.html">documentazione</a> prima di contattare
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Per domande su questa documentazione, invia una e-mail a
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>