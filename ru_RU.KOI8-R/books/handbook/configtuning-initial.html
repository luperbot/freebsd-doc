<?xml version="1.0" encoding="koi8-r" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=koi8-r" /><title>12.2. Начальное конфигурирование</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Руководство FreeBSD" /><link rel="up" href="config-tuning.html" title="Глава 12. Настройка и оптимизация" /><link rel="prev" href="config-tuning.html" title="Глава 12. Настройка и оптимизация" /><link rel="next" href="configtuning-core-configuration.html" title="12.3. Основные настройки" /><link rel="copyright" href="legalnotice.html" title="Юридическое уведомление" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">12.2. Начальное конфигурирование</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="config-tuning.html">Пред.</a> </td><th width="60%" align="center">Глава 12. Настройка и оптимизация</th><td width="20%" align="right"> <a accesskey="n" href="configtuning-core-configuration.html">След.</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="configtuning-initial"></a>12.2. Начальное конфигурирование</h2></div></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp86475600"></a>12.2.1. Разделы диска</h3></div></div></div><a id="idp86476240" class="indexterm"></a><a id="idp86476752" class="indexterm"></a><a id="idp86477648" class="indexterm"></a><a id="idp86478544" class="indexterm"></a><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp86479440"></a>12.2.1.1. Основы построения разделов</h4></div></div></div><p>Во время разметки жёсткого диска с помощью <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=bsdlabel&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">bsdlabel</span>(8)</span></a>
	  или <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sysinstall&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sysinstall</span>(8)</span></a>, важно помнить, что скорость чтения и записи
	  данных уменьшается от внешних к внутренним трекам
	  диска.  Самые маленькие и самые
	  часто используемые файловые системы (корневая и раздел подкачки)
	  должны быть расположены в начале
	  диска, в то время как самые большие, такие, как
	  <code class="filename">/usr</code>, в конце.  Самым оптимальным считается
	  следующий порядок расположения файловых систем: root, swap,
	  <code class="filename">/var</code>, <code class="filename">/usr</code>.</p><p>Размер файловой системы <code class="filename">/var</code> определяется
	  предназначением машины.  <code class="filename">/var</code>
	  используется для хранения почтовых ящиков, очередей печати и
	  лог файлов.  Размер почтовых ящиков и лог файлов может расти
	  неограниченно в зависимости от количества пользователей
	  системы и от того, как долго хранятся лог-файлы.  Большинству
	  пользователей никогда не потребуется гигабайт, но помните, что
	  <code class="filename">/var/tmp</code> должен быть достаточно большим для
	  пакетов.</p><p>В разделе <code class="filename">/usr</code> содержит большинство
	  файлов, необходимых для поддержки системы, порты
	  (<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ports&amp;sektion=7"><span class="citerefentry"><span class="refentrytitle">ports</span>(7)</span></a>, рекомендуется) и исходные тексты (опционально).
	  Оба эти каталога опциональны при установке.  Для этого
	  раздела рекомендуется как минимум 2 гигабайта.</p><p>При установке размера разделов, не забудьте принять во внимание
	  рост размера требуемого системе дискового пространства.
	  Переполнение одного раздела даже при наличии свободного места на
	  другом может вызвать затруднения.</p><div xmlns="" class="note"><h3 class="admontitle">Примечание: </h3><p xmlns="http://www.w3.org/1999/xhtml">Многие пользователи обнаружили, что размер разделов,
	  предлагаемый <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sysinstall&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sysinstall</span>(8)</span></a>'ом по умолчанию, иногда
	  меньше подходящего для разделов <code class="filename">/var</code> и
	  <code class="filename">/</code>.  Тщательно планируйте размер разделов и
	  не жалейте места.</p></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="swap-design"></a>12.2.1.2. Раздел подкачки</h4></div></div></div><a id="idp86493904" class="indexterm"></a><a id="idp86494416" class="indexterm"></a><p>Как правило, размер раздела подкачки должен быть равен
	  удвоенному размеру оперативной памяти.  Например, если на машине
	  установлено 128 мегабайт памяти, раздел
	  подкачки должен быть 256 мегабайт.  Системы с меньшим
	  количеством памяти могут работать лучше с большим объёмом
	  раздела подкачки.  Не рекомендуется устанавливать размер
	  раздела подкачки меньше 256 мегабайт, необходимо также
	  принять во внимание возможное наращивание объема установленной
	  на машине памяти.
	  Алгоритмы кэширования VM настроены на максимальное быстродействие, когда
	  размер раздела подкачки равен как минимум удвоенному размеру
	  памяти.  Заниженный размер раздела подкачки может привести к
	  неэффективной работе постраничного сканирования VM и вызвать
	  проблемы при увеличении объёма памяти.</p><p>На больших системах с несколькими SCSI дисками (или несколькими
	  IDE дисками, находящимися на разных контроллерах),
	  рекомендуется создавать раздел подкачки на каждом диске (до четырёх
	  дисков).  Разделы подкачки должны быть примерно
	  одного размера.  Ядро не накладывает ограничений на размер раздела
	  подкачки, но внутренние структуры позволяют иметь общий размер
	  разделов подкачки, равный наибольшему, умноженному на четыре.
	  Выделение под разделы подкачки примерно одинакового места позволить
	  ядру оптимально расположить разделы подкачки.  Установка
	  размера подкачки больше требуемого нормальна, даже если этот
	  объем не используется.  В этих условиях может быть проще
	  восстановиться после зависания программы перед тем, как
	  возникнет необходимость перезагрузки.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp86532816"></a>12.2.1.3. Зачем нужны разделы?</h4></div></div></div><p>Некоторые пользователи считают, что лучше использовать
	  один большой раздел, но есть несколько причин, по которым этого
	  лучше не делать.  Во-первых, у
	  каждого раздела свои характеристики, и отделяя их, можно
	  выполнить соответствующие настройки.  Например, корневая и
	  файловая система и <code class="filename">/usr</code> в основном
	  предназначены для чтения, без большого объема записи.
	  В то же время множество операций чтения и записи
	  выполняется в <code class="filename">/var</code>
	  и <code class="filename">/var/tmp</code>.</p><p>При правильном размещении и выборе размера разделов
	  системы, фрагментация в более маленьких разделах, куда часто
	  записываются данные, не перенесётся на остальные разделы.
	  Размещение самых часто используемых разделов ближе к началу диска
	  увеличит скорость ввода/вывода там, где она нужна больше всего.
	  Хотя производительность важна и для больших дисков,
	  передвижение их ближе к концу диска не повлечёт
	  значительного уменьшения быстродействия по сравнению с перемещением
	  ближе к концу диска <code class="filename">/var</code>.
	  И, наконец, разделы существуют и из соображений
	  безопасности.  Наличие маленького аккуратного корневого раздела,
	  доступного только для чтения даёт значительные шансы на "выживание"
	  после краха системы.</p></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="config-tuning.html">Пред.</a> </td><td width="20%" align="center"><a accesskey="u" href="config-tuning.html">Наверх</a></td><td width="40%" align="right"> <a accesskey="n" href="configtuning-core-configuration.html">След.</a></td></tr><tr><td width="40%" align="left" valign="top">Глава 12. Настройка и оптимизация </td><td width="20%" align="center"><a accesskey="h" href="index.html">Начало</a></td><td width="40%" align="right" valign="top"> 12.3. Основные настройки</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Этот, и другие документы, могут быть скачаны с
    <a href="http://ftp.FreeBSD.org/pub/FreeBSD/doc/">http://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>.</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>По вопросам, связанным с FreeBSD, прочитайте
    <a href="http://www.FreeBSD.org/ru/docs.html">документацию</a> прежде чем писать в
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    По вопросам, связанным с этой документацией, пишите в рассылку
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.<br></br></small></p></body></html>