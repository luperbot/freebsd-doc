<?xml version="1.0" encoding="koi8-r" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=koi8-r" /><title>24.2. Использование электронной почты</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Руководство FreeBSD" /><link rel="up" href="mail.html" title="Глава 24. Электронная почта" /><link rel="prev" href="mail.html" title="Глава 24. Электронная почта" /><link rel="next" href="sendmail.html" title="24.3. Настройка sendmail" /><link rel="copyright" href="legalnotice.html" title="Юридическое уведомление" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">24.2. Использование электронной почты</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="mail.html">Пред.</a> </td><th width="60%" align="center">Глава 24. Электронная почта</th><td width="20%" align="right"> <a accesskey="n" href="sendmail.html">След.</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="mail-using"></a>24.2. Использование электронной почты</h2></div></div></div><a id="idp96313168" class="indexterm"></a><a id="idp96314064" class="indexterm"></a><a id="idp96314832" class="indexterm"></a><p>В работе почтовой системы задействованы пять основных частей:
      <a class="link" href="mail-using.html#mail-mua" title="24.2.1. Пользовательский почтовый клиент">пользовательский почтовый клиент</a>
      (Mail User Agent, MUA),
      <a class="link" href="mail-using.html#mail-mta" title="24.2.2. Почтовый даемон">почтовый сервис (даемон)</a>
      (Mail Transfer Agent, MTA), <a class="link" href="mail-using.html#mail-dns" title="24.2.3. Email и DNS">сервер DNS</a>, <a class="link" href="mail-using.html#mail-receive" title="24.2.4. Получение почты">удаленный или локальный почтовый ящик</a>,
      и конечно сам <a class="link" href="mail-using.html#mail-host" title="24.2.5. Почтовый хост">почтовый сервер</a>.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="mail-mua"></a>24.2.1. Пользовательский почтовый клиент</h3></div></div></div><p>Обычно, это программа типа <span class="application">mutt</span>,
	<span class="application">alpine</span>, <span class="application">elm</span>,
	<span class="application">mail</span>, а также программы с графическим
	интерфейсом, такие, как <span class="application">balsa</span> или
	<span class="application">xfmail</span>, или интегрированные приложения
	(например, какой-либо WWW браузер типа Netscape).  Все эти программы
	общаются с локальным <a class="link" href="mail-using.html#mail-host" title="24.2.5. Почтовый хост">почтовым
	сервером</a>, вызывая какой-либо даемон, или напрямую по протоколу
	<acronym class="acronym">TCP</acronym>.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="mail-mta"></a>24.2.2. Почтовый даемон</h3></div></div></div><a id="idp96336336" class="indexterm"></a><a id="idp96337616" class="indexterm"></a><a id="idp96338896" class="indexterm"></a><a id="idp96340176" class="indexterm"></a><p>FreeBSD по умолчанию поставляется с
	<span class="application">sendmail</span>, но помимо того поддерживает
	множество других даемонов почтового сервера, вот лишь некоторые
	из них:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><span class="application">exim</span>;</p></li><li class="listitem"><p><span class="application">postfix</span>;</p></li><li class="listitem"><p><span class="application">qmail</span>.</p></li></ul></div><p>Почтовый даемон выполняет только две функции: он отвечает за прием
	входящей почты и отправку исходящей.  Он <span class="emphasis"><em>не</em></span>
	отвечает за выдачу
	почты по протоколам <acronym class="acronym">POP</acronym> или
	<acronym class="acronym">IMAP</acronym>, и не обеспечивает подключения к локальным
	почтовым ящикам <code class="filename">mbox</code> или Maildir.  Для этих целей
	вам может потребоваться дополнительный
	<a class="link" href="mail-using.html#mail-receive" title="24.2.4. Получение почты">даемон</a>.</p><div xmlns="" class="warning"><h3 class="admontitle">Предупреждение: </h3><p xmlns="http://www.w3.org/1999/xhtml">Старые версии <span class="application">sendmail</span> содержат
	  некоторые серьезные ошибки безопасности, которые могут
	  привести к получению атакующим локального и/или удаленного
	  доступа к вашему компьютеру.  Убедитесь, что вы работаете
	  с современной версией, свободной от таких ошибок.
	  Или установите альтернативный <acronym class="acronym">MTA</acronym>
	  из <a class="link" href="ports.html" title="Глава 5. Установка приложений: порты и пакеты">Коллекции Портов FreeBSD</a>.</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="mail-dns"></a>24.2.3. Email и DNS</h3></div></div></div><p>Служба имен доменов (Domain Name System, DNS) и соответствующий
	ей даемон <code class="command">named</code> играют важную роль в доставке
	почты.  Для доставки почты с вашего сайта другому, даемон почтового
	сервера обратится к DNS для определения удаленного хоста, отвечающего
	за доставку почты по назначению.  Тот же процесс происходит при
	доставке почты с удаленного хоста на ваш почтовый сервер.</p><a id="idp96352336" class="indexterm"></a><p><acronym class="acronym">DNS</acronym> отвечает за сопоставления имен хостов
	IP адресам, как и за хранение информации, предназначенной для
	доставки почты, известной как MX записи.  Запись MX (Mail
	eXchanger) определяет хост или хосты, которые будут получать почту
	для определенного домена.  Если для вашего имени хоста или домена
	нет записи MX, почта будет доставлена непосредственно на ваш хост,
	IP адрес которого определен в записи A.</p><p>Вы можете просмотреть MX записи для любого домена с помощью
	команды <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=host&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">host</span>(1)</span></a>, как показано в примере ниже:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>host -t mx FreeBSD.org</code></strong>
FreeBSD.org mail is handled (pri=10) by mx1.FreeBSD.org</pre></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="mail-receive"></a>24.2.4. Получение почты</h3></div></div></div><a id="idp96356944" class="indexterm"></a><p>Получение почты для вашего домена выполняет почтовый сервер.
	Он сохраняет отправленную в ваш домен почту в формате либо
	<code class="filename">mbox</code> (это метод по умолчанию),
	либо Maildir, в зависимости от настроек.
	После сохранения почты ее можно либо прочитать локально, используя
	такие приложения как <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mail&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">mail</span>(1)</span></a>, <span class="application">mutt</span>,
	или удаленно, по таким протоколам как <acronym class="acronym">POP</acronym> или
	<acronym class="acronym">IMAP</acronym>.  Это
	означает, что для локального чтения почты вам не потребуется
	устанавливать сервер <acronym class="acronym">POP</acronym> или
	<acronym class="acronym">IMAP</acronym>.</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="pop-and-imap"></a>24.2.4.1. Доступ к удаленным почтовым ящикам по протоколам
	  <acronym class="acronym">POP</acronym> и <acronym class="acronym">IMAP</acronym></h4></div></div></div><a id="idp96367184" class="indexterm"></a><a id="idp96367952" class="indexterm"></a><p>Для удаленного доступа к почтовым ящикам вам потребуется
	  доступ к <acronym class="acronym">POP</acronym> или <acronym class="acronym">IMAP</acronym>
	  серверу.  
	  Хотя удаленный доступ обеспечивают оба протокола
	  <acronym class="acronym">POP</acronym> и <acronym class="acronym">IMAP</acronym>, последний
	  предоставляет множество дополнительных возможностей, вот некоторые
	  из них:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><acronym class="acronym">IMAP</acronym> может как хранить сообщения на
	      удаленном сервере, так и забирать их.</p></li><li class="listitem"><p><acronym class="acronym">IMAP</acronym> поддерживает одновременные
	      обновления.</p></li><li class="listitem"><p><acronym class="acronym">IMAP</acronym> может быть очень полезен для
	      низкоскоростных соединений, поскольку позволяет пользователям
	      получить структуру сообщений без их загрузки; он также может
	      использоваться для выполнения таких задач как поиск на сервере,
	      для минимизации объема передаваемых между клиентом и сервером
	      данных.</p></li></ul></div><p>Для установки <acronym class="acronym">POP</acronym> или
	  <acronym class="acronym">IMAP</acronym> сервера необходимо выполнить следующие
	  действия:</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Выберите <acronym class="acronym">IMAP</acronym> или
	      <acronym class="acronym">POP</acronym> сервер, который подходит вам наилучшим
	      образом.  Следующие <acronym class="acronym">POP</acronym> и
	      <acronym class="acronym">IMAP</acronym> серверы хорошо известны и могут быть
	      приведены в качестве примера:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><span class="application">qpopper</span>;</p></li><li class="listitem"><p><span class="application">teapop</span>;</p></li><li class="listitem"><p><span class="application">imap-uw</span>;</p></li><li class="listitem"><p><span class="application">courier-imap</span>;</p></li><li class="listitem"><p><span class="application">dovecot</span>;</p></li></ul></div></li><li class="step"><p>Установите <acronym class="acronym">POP</acronym> или
	      <acronym class="acronym">IMAP</acronym> даемон, выбранный из Коллекции
	      Портов.</p></li><li class="step"><p>Если потребуется, настройте
	      <code class="filename">/etc/inetd.conf</code>
	      для запуска <acronym class="acronym">POP</acronym> или
	      <acronym class="acronym">IMAP</acronym> сервера.</p></li></ol></div><div xmlns="" class="warning"><h3 class="admontitle">Предупреждение: </h3><p xmlns="http://www.w3.org/1999/xhtml">Необходимо отметить, что и <acronym class="acronym">POP</acronym> и
	    <acronym class="acronym">IMAP</acronym> серверы передают информацию, включая
	    имя пользователя и пароль, в незашифрованном виде.  Это означает,
	    что если вы хотите защитить передачу информации по этим
	    протоколам, потребуется использовать туннелирование сессий через
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ssh&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ssh</span>(1)</span></a> или при помощи SSL.  Туннелирование соединений описано
	    в <a class="xref" href="openssh.html#security-ssh-tunneling" title="14.11.8. Туннелирование SSH">Раздел 14.11.8, <<Туннелирование SSH>></a>, а SSL -
	    в <a class="xref" href="openssl.html" title="14.9. OpenSSL">Раздел 14.9, <<OpenSSL>></a>.</p></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="local"></a>24.2.4.2. Доступ к локальным почтовым ящикам</h4></div></div></div><p>Доступ к почтовым ящикам может быть осуществлен непосредственно
	  путем использования <acronym class="acronym">MUA</acronym> на сервере, где
	  эти ящики расположены.  Это можно сделать используя приложения
	  вроде <span class="application">mutt</span> или
	  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mail&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">mail</span>(1)</span></a>.</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="mail-host"></a>24.2.5. Почтовый хост</h3></div></div></div><a id="idp96423248" class="indexterm"></a><p>Почтовый хост это сервер, который отвечает за отправку и получение
	почты для вашего компьютера, и возможно, для всей вашей сети.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="mail.html">Пред.</a> </td><td width="20%" align="center"><a accesskey="u" href="mail.html">Наверх</a></td><td width="40%" align="right"> <a accesskey="n" href="sendmail.html">След.</a></td></tr><tr><td width="40%" align="left" valign="top">Глава 24. Электронная почта </td><td width="20%" align="center"><a accesskey="h" href="index.html">Начало</a></td><td width="40%" align="right" valign="top"> 24.3. Настройка <span class="application">sendmail</span></td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Этот, и другие документы, могут быть скачаны с
    <a href="http://ftp.FreeBSD.org/pub/FreeBSD/doc/">http://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>.</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>По вопросам, связанным с FreeBSD, прочитайте
    <a href="http://www.FreeBSD.org/ru/docs.html">документацию</a> прежде чем писать в
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    По вопросам, связанным с этой документацией, пишите в рассылку
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.<br></br></small></p></body></html>