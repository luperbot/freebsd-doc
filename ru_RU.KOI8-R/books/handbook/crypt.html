<?xml version="1.0" encoding="koi8-r" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=koi8-r" /><title>14.4. DES, MD5, и шифрование</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Руководство FreeBSD" /><link rel="up" href="security.html" title="Глава 14. Безопасность" /><link rel="prev" href="securing-freebsd.html" title="14.3. Защита FreeBSD" /><link rel="next" href="one-time-passwords.html" title="14.5. Одноразовые пароли" /><link rel="copyright" href="legalnotice.html" title="Юридическое уведомление" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">14.4. DES, MD5, и шифрование</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="securing-freebsd.html">Пред.</a> </td><th width="60%" align="center">Глава 14. Безопасность</th><td width="20%" align="right"> <a accesskey="n" href="one-time-passwords.html">След.</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="crypt"></a>14.4. DES, MD5, и шифрование</h2></div><div><span class="authorgroup">Частично переписал и обновил <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Bill</span> <span class="surname">Swingle</span></span>. </span></div></div></div><a id="idp88297936" class="indexterm"></a><a id="idp88299088" class="indexterm"></a><a id="idp88299600" class="indexterm"></a><a id="idp88300112" class="indexterm"></a><p>У каждого пользователя <span class="trademark">UNIX</span>(R) системы есть пароль, связанный с его
      учётной записью.  Очевидно, что эти пароли должны быть известны только
      пользователю и соответствующей операционной системе.  Для защиты паролей
      они шифруются способом, известным как <span class="quote"><<<span class="quote">односторонний хэш</span>>></span>,
      то есть их можно легко зашифровать, но нельзя расшифровать.  Другими
      словами, то, что мы сказали чуть раньше было очевидно, но не совсем
      верно: операционной системе <span class="emphasis"><em>сам пароль</em></span>
      неизвестен.  Ей известен только пароль в
      <span class="emphasis"><em>зашифрованной</em></span> форме.  Единственный способ получить
      <span class="quote"><<<span class="quote">обычный</span>>></span> пароль это простой перебор всех возможных
      паролей.</p><p>К сожалению, единственный способ шифрования пароля при появлении
      <span class="trademark">UNIX</span>(R) был основан на DES, Data Encryption Standard.  Это не было
      проблемой для пользователей, живущих в США, но поскольку исходный код
      DES нельзя было экспортировать из США, FreeBSD нашла способ одновременно
      не нарушать законов США и сохранить совместимость со всеми другими
      вариантами <span class="trademark">UNIX</span>(R), где все еще использовался DES.</p><p>Решение было в разделении библиотек шифрования, чтобы пользователи
      в США могли устанавливать и использовать библиотеки DES, а у остальных
      пользователей был метод шифрования, разрешенный к экспорту.  Так
      FreeBSD пришла к использованию MD5 в качестве метода шифрования по
      умолчанию.  MD5 считается более безопасным, чем DES, поэтому установка
      DES рекомендуется в основном из соображений совместимости.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88309200"></a>14.4.1. Определения механизма шифрования</h3></div></div></div><p>На данный момент библиотека поддерживает хэши DES, MD5 и
	Blowfish.  По умолчанию FreeBSD использует для шифрования паролей
	MD5.</p><p>Довольно легко определить какой метод шифрования используется
	в FreeBSD.  Один из способов это проверка файла
	<code class="filename">/etc/master.passwd</code>.  Пароли, зашифрованные в
	хэш MD5 длиннее, чем те, что зашифрованы с помощью DES и начинаются
	с символов <code class="literal">$1$</code>.  Пароли, начинающиеся
	с символов <code class="literal">$2a$</code> зашифрованы с помощью
	Blowfish.  Пароли, зашифрованные DES не содержат каких-то определенных
	идентифицирующих символов, но они короче, чем пароли MD5 и
	закодированы в 64-символьном алфавите, не содержащем символа
	<code class="literal">$</code>, поэтому относительно короткая строка,
	не начинающаяся с этого символа это скорее всего DES пароль.</p><p>Формат паролей, используемых для новых паролей, определяется
	параметром <code class="literal">passwd_format</code> в
	<code class="filename">/etc/login.conf</code>, которое может принимать значения
	<code class="literal">des</code>, <code class="literal">md5</code> или
	<code class="literal">blf</code>.  Обратитесь к странице справочника
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=login.conf&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">login.conf</span>(5)</span></a> за дополнительной информацией о параметрах
	login.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="securing-freebsd.html">Пред.</a> </td><td width="20%" align="center"><a accesskey="u" href="security.html">Наверх</a></td><td width="40%" align="right"> <a accesskey="n" href="one-time-passwords.html">След.</a></td></tr><tr><td width="40%" align="left" valign="top">14.3. Защита FreeBSD </td><td width="20%" align="center"><a accesskey="h" href="index.html">Начало</a></td><td width="40%" align="right" valign="top"> 14.5. Одноразовые пароли</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Этот, и другие документы, могут быть скачаны с
    <a href="http://ftp.FreeBSD.org/pub/FreeBSD/doc/">http://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>.</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>По вопросам, связанным с FreeBSD, прочитайте
    <a href="http://www.FreeBSD.org/ru/docs.html">документацию</a> прежде чем писать в
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    По вопросам, связанным с этой документацией, пишите в рассылку
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.<br></br></small></p></body></html>