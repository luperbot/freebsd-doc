<?xml version="1.0" encoding="koi8-r" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=koi8-r" /><title>4.3. Пользователи и основы управления учетными записями</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Руководство FreeBSD" /><link rel="up" href="basics.html" title="Глава 4. Основы UNIX" /><link rel="prev" href="consoles.html" title="4.2. Виртуальные консоли и терминалы" /><link rel="next" href="permissions.html" title="4.4. Права доступа" /><link rel="copyright" href="legalnotice.html" title="Юридическое уведомление" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">4.3. Пользователи и основы управления учетными записями</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="consoles.html">Пред.</a> </td><th width="60%" align="center">Глава 4. Основы UNIX</th><td width="20%" align="right"> <a accesskey="n" href="permissions.html">След.</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="users-synopsis"></a>4.3. Пользователи и основы управления учетными записями</h2></div><div><span class="authorgroup">Предоставил: <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Neil</span> <span class="surname">Blakey-Milner</span></span>. </span></div><div><span class="authorgroup">Перевод на русский язык: <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Денис</span> <span class="surname">Пеплин</span></span>. </span></div></div></div><p>FreeBSD допускает одновременную работу множества пользователей
      на одном компьютере.  В то время, как только один пользователь
      может сидеть за клавиатурой и перед экраном в один момент
      времени, любое количество пользователей может войти в систему
      через сеть.  Для использования системы у каждого пользователя
      должна быть учетная запись.</p><p>В этом разделе описаны:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Разные типы учетных записей в системе FreeBSD.</p></li><li class="listitem"><p>Как добавлять, удалять и изменять учетные записи
	  пользователей.</p></li><li class="listitem"><p>Как устанавливать ограничения на использование ресурсов
	  для учетных записей или групп учетных записей.</p></li><li class="listitem"><p>Как использовать группы для упрощения управлением
	  учетными записями.</p></li></ul></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="users-introduction"></a>4.3.1. Разновидности учетных записей</h3></div></div></div><p>Так как доступ к системе FreeBSD осуществляется через учетные
	записи, и все процессы запускаются пользователями, то
	управление пользователями и учетными записями является важным
	аспектом администрирования.</p><p>Существует три разновидности учетных записей: системные
	учетные записи, учетные записи пользователей и
	суперпользователь.</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="users-system"></a>4.3.1.1. Системные учетные записи</h4></div></div></div><a id="idp78659280" class="indexterm"></a><p>Системные учетные записи предназначены для запуска
	  сервисов, таких как DNS, почта, веб серверы.  Это необходимо
	  по соображениям безопасности; если бы все сервисы работали
	  от суперпользователя, они могли бы действовать без
	  ограничений.</p><a id="idp78660816" class="indexterm"></a><a id="idp78662224" class="indexterm"></a><p>Примеры системных учетных записей:
	  <code class="systemitem">daemon</code>,
	  <code class="systemitem">operator</code>,
	  <code class="systemitem">bind</code>,
	  <code class="systemitem">news</code> и
	  <code class="systemitem">www</code>.</p><a id="idp78666704" class="indexterm"></a><p><code class="systemitem">nobody</code> это
	  общепринятая непривилегированная системная учетная запись.
	  Однако, чем больше сервисов используют <code class="systemitem">nobody</code>, тем больше файлов
	  и процессов связано с этим пользователем, и следовательно
	  тем больше привилегий появляется у этого пользователя.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="users-user"></a>4.3.1.2. Учетные записи пользователей</h4></div></div></div><a id="idp78670288" class="indexterm"></a><p>Учетные записи пользователей служат для предоставления
	  доступа к системе обычным людям.  Каждый человек, имеющий
	  доступ к системе, должен иметь уникальную учетную запись
	  пользователя.  Это позволяет администратору выяснять кто что
	  делает и предотвращает сбивание одним пользователем настроек
	  других пользователей.</p><p>Каждый пользователь посредством выбора оболочки,
	  редактора, привязок клавиш и настроек языка может
	  настраивать свою собственную рабочую среду для
	  приспособления системы под свои нужды.</p><p>С каждой учетной записью в системе FreeBSD связана
	  определенная идентификационная информация:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Имя пользователя</span></dt><dd><p>Имя пользователя вводится в приглашение
		<code class="prompt">login:</code>.  Имена пользователей должны
		быть уникальны.  Существует множество правил для
		создания допустимых имен пользователей,
		документированных в <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=passwd&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">passwd</span>(5)</span></a>.  Рекомендуется
		составлять имена пользователей из восьми или меньшего
		количества символов в нижнем регистре, чтобы
		поддерживать обратную совместимость с
		приложениями.</p></dd><dt><span class="term">Пароль</span></dt><dd><p>С каждой учетной записью связан пароль.</p></dd><dt><span class="term">ID пользователя (User ID,
	      <acronym class="acronym">UID</acronym>)</span></dt><dd><p>Идентификатор пользователя (<acronym class="acronym">UID</acronym>)
	        - это номер, используемый для однозначной
		идентификации пользователя в системе FreeBSD.  Любая
		команда, принимающая в качестве аргумента имя
		пользователя, первым делом преобразует его к
		<acronym class="acronym">UID</acronym>.  Рекомендуется выбирать
		значения <acronym class="acronym">UID</acronym>, не превышающие 65535,
		так как большие значения могут вызывать проблемы
		совместимости для некоторых пользовательских
		программ.</p></dd><dt><span class="term">Идентификатор группы (Group ID,
	      <acronym class="acronym">GID</acronym>)</span></dt><dd><p>Идентификатор группы (<acronym class="acronym">GID</acronym>)
	        - это номер, используемый для однозначной
		идентификации главной группы, к которой принадлежит
		пользователь.  Группы это механизм для контроля
		доступа к ресурсам на основе <acronym class="acronym">GID</acronym>
		пользователя вместо его <acronym class="acronym">UID</acronym>.  Это
		может значительно уменьшить размер некоторых файлов
		настройки.  Кроме того, пользователь может быть
		включен более чем в одну группу.  Рекомендуется
		использовать значения <acronym class="acronym">GID</acronym>, не
		превышающие 65535, так как большие значения могут
		стать проблемой для некоторых программ.</p></dd><dt><span class="term">Класс доступа (login class)</span></dt><dd><p>Классы доступа это расширение к механизму групп,
		позволяющее более гибко приспосабливать систему для
		различных пользователей.  Классы доступа описаны в
		<a class="xref" href="users-synopsis.html#users-limiting" title="4.3.3. Ограничение пользователей">Раздел 4.3.3, <<Ограничение пользователей>></a>.</p></dd><dt><span class="term">Срок действия пароля</span></dt><dd><p>По умолчанию пароли не устаревают.  Однако, есть
		возможность ограничить срок действия текущего пароля
		пользователя, и тем самым обязать его обновить
		пароль.</p></dd><dt><span class="term">Срок действия учетной записи</span></dt><dd><p>По умолчанию во FreeBSD время действия учетных
	        записей не ограничено.  При создании учетных записей
		ограниченного срока действия, например для студентов в
		учебном заведении, при помощи <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pw&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">pw</span>(8)</span></a> укажите дату
		истечения действия учетной записи.  После наступления
		указанной даты учетная запись становится непригодной
		для входа в систему, хотя каталоги и файлы этой
		учетной записи останутся нетронутыми.</p></dd><dt><span class="term">Полное имя пользователя</span></dt><dd><p>Имя пользователя является уникальным
	        идентификатором учетной записи в FreeBSD, однако оно не
		обязано соответствовать реальному имени пользователя.
		Это поле может содержать реальное имя пользователя.
		Здесь допустимы пробелы, символы подчеркивания, строка
		не ограничена до 8 символов.</p></dd><dt><span class="term">Домашний каталог</span></dt><dd><p>Домашний каталог определяется полным путем в
	        системе.  С него пользователь начнет работу после
		входа в систему.  По общепринятому соглашению все
		домашние каталоги пользователей помещаются в
		<code class="filename">/home/username</code> или
		<code class="filename">/usr/home/username</code>.  Пользователи
		хранят личные файлы и подкаталоги в своих домашних
		каталогах.</p></dd><dt><span class="term">Оболочка пользователя</span></dt><dd><p>Оболочка необходима пользователям как средство
	        взаимодействия с системой.  Существует множество
		различных видов оболочек, опытные пользователи
		работают с собственными настройками, которые могут
		быть отражены в установках их учетных записей.</p></dd></dl></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="users-superuser"></a>4.3.1.3. Учетная запись суперпользователя</h4></div></div></div><a id="idp78704336" class="indexterm"></a><p>Учетная запись суперпользователя, обычно называемая
	  <code class="systemitem">root</code>, используется
	  для управления системой без ограничения привилегий.  Поэтому
	  она не должна использоваться для повседневных задач, таких
	  как получение и отправка почты, общее исследование системы
	  или программирование.</p><p>Суперпользователь, в отличие от обычных пользователей,
	  может работать без ограничений и поэтому неправильное
	  использование учетной записи суперпользователя может
	  привести к полному уничтожению системы.  Учетные записи
	  пользователей не способны уничтожить систему вследствие
	  ошибки, поэтому если нет необходимости в привилегиях
	  суперпользователя, то лучше использовать учетные записи
	  обычных пользователей везде, где это возможно.</p><p>Всегда перепроверяйте и переперепроверяйте команды,
	  выполняемые под учетной записью суперпользователя, поскольку
	  даже один лишний пробел или отсутствующий символ может
	  привести к безвозвратной потере данных.</p><p>Есть несколько способов получения привилегий
	  суперпользователя.  Наименее удобный способ - войти в
	  систему под учетной записью <code class="systemitem">root</code>.</p><p>Вместо этого можно воспользоваться <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=su&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">su</span>(1)</span></a>.  Если при
	  запуске этой команды указывается ключ <code class="literal">-</code>,
	  пользователь получит настройки окружения учетной записи
	  <code class="systemitem">root</code>.
	  Пользователь, запускающий эту команду, обязан входить в
	  группу <code class="systemitem">wheel</code>, в
	  противном случае команда не выполнится.  Пользователь также
	  должен знать пароль учетной записи <code class="systemitem">root</code>.</p><p>В следующем примере пользователь повышает привилегии для
	  запуска команды <code class="command">make install</code>, так как
	  этот шаг требует прав суперпользователя.  По завершении
	  работы команды пользователь набирает
	  <code class="command">exit</code>, тем самым выходя из учетной записи
	  суперпользователя и возвращая привилегии собственной учетной
	  записи.</p><div class="example"><a id="idp78716496"></a><div class="example-title">Пример 4.1. Установка программы с привилегиями
	    суперпользователя</div><div class="example-contents"><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>configure</code></strong>
<code class="prompt">%</code> <strong class="userinput"><code>make</code></strong>
<code class="prompt">%</code> <strong class="userinput"><code>su -</code></strong>
Password:
<code class="prompt">#</code> <strong class="userinput"><code>make install</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>exit</code></strong>
<code class="prompt">%</code></pre></div></div><br class="example-break" /><p>Утилита <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=su&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">su</span>(1)</span></a> прекрасно подходит для одиночных
	  систем или небольших сетей с единственным системным
	  администратором.  В качестве альтернативы ей следует
	  упомянуть порт или пакет <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/security/sudo/pkg-descr">security/sudo</a>.
	  Эта утилита предоставляет журналирование активности, а также
	  позволяет администратору указывать перечень утилит,
	  доступных пользователю для запуска с правами
	  суперпользователя.</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="users-modifying"></a>4.3.2. Изменение учетных записей</h3></div></div></div><a id="idp78724304" class="indexterm"></a><p>FreeBSD располагает набором различных команд для работы с
	учетными записями пользователей.
	<a class="xref" href="users-synopsis.html#users-modifying-utilities" title="Таблица 4.1. Утилиты для управления учетными записями">Таблица 4.1, <<Утилиты для управления учетными записями>></a> перечисляет
	наиболее часто используемые команды, ниже находятся примеры их
	использования.  За исчерпывающей информацией по каждой утилите
	следует обратиться к соответствующим страницам
	справочников.</p><div class="table"><a id="users-modifying-utilities"></a><div class="table-title">Таблица 4.1. Утилиты для управления учетными записями</div><div class="table-contents"><table summary="Утилиты для управления учетными записями" width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Команда</th><th>Краткое описание</th></tr></thead><tbody><tr><td><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=adduser&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">adduser</span>(8)</span></a></td><td>Рекомендуемое приложение командной строки для
	        добавления новых пользователей.</td></tr><tr><td><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=rmuser&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">rmuser</span>(8)</span></a></td><td>Рекомендуемое приложение командной строки для
	        удаления пользователей.</td></tr><tr><td><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chpass&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">chpass</span>(1)</span></a></td><td>Гибкий инструмент для изменения информации в
	        базе данных пользователей.</td></tr><tr><td><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=passwd&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">passwd</span>(1)</span></a></td><td>Инструмент командной строки для изменения
	        паролей пользователей.</td></tr><tr><td><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pw&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">pw</span>(8)</span></a></td><td>Мощный и гибкий инструмент для изменения любой
	        информации, связанной с учетными записями
		пользователей.</td></tr></tbody></table></div></div><br class="table-break" /><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="users-adduser"></a>4.3.2.1. <code class="command">adduser</code></h4></div></div></div><a id="idp78756432" class="indexterm"></a><a id="idp78757584" class="indexterm"></a><a id="idp78758608" class="indexterm"></a><a id="idp78759504" class="indexterm"></a><a id="idp78760272" class="indexterm"></a><p>Для добавления новых пользователей рекомендуется
	  использовать <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=adduser&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">adduser</span>(8)</span></a>.  При добавлении нового
	  пользователя программа автоматически обновляет
	  <code class="filename">/etc/passwd</code> и
	  <code class="filename">/etc/group</code>.  Она также создает домашний
	  каталог для нового пользователя, копируя файлы настройки по
	  умолчанию из <code class="filename">/usr/share/skel</code>, и может
	  отправлять новому пользователю приветственное сообщение
	  электронной почтой.  Эту утилиту необходимо запускать с
	  правами суперпользователя.</p><p>Утилита <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=adduser&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">adduser</span>(8)</span></a> является интерактивной.  Для
	  создания новой учетной записи потребуется ответить на
	  несколько вопросов.  Как показано в <a class="xref" href="users-synopsis.html#users-modifying-adduser" title="Пример 4.2. Добавление пользователя в FreeBSD">Пример 4.2, <<Добавление пользователя в FreeBSD>></a>, ответом считается либо
	  ввод необходимой информации, либо нажатие клавиши
	  <span class="keycap"><strong>Return</strong></span> для принятия значения по умолчанию,
	  которое показано в квадратных скобках.  В этом примере
	  пользователь включен в группу <code class="systemitem">wheel</code>, что дает возможность
	  ему повышать привилегии до суперпользователя при помощи
	  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=su&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">su</span>(1)</span></a>.  На последнем шаге утилита предложит создать
	  еще одну учетную запись или завершить работу.</p><div class="example"><a id="users-modifying-adduser"></a><div class="example-title">Пример 4.2. Добавление пользователя в FreeBSD</div><div class="example-contents"><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>adduser</code></strong>
Username: <strong class="userinput"><code>jru</code></strong>
Full name: <strong class="userinput"><code>J. Random User</code></strong>
Uid (Leave empty for default):
Login group [jru]:
Login group is jru. Invite jru into other groups? []: <strong class="userinput"><code>wheel</code></strong>
Login class [default]:
Shell (sh csh tcsh zsh nologin) [sh]: <strong class="userinput"><code>zsh</code></strong>
Home directory [/home/jru]:
Home directory permissions (Leave empty for default):
Use password-based authentication? [yes]:
Use an empty password? (yes/no) [no]:
Use a random password? (yes/no) [no]:
Enter password:
Enter password again:
Lock out the account after creation? [no]:
Username   : jru
Password   : ****
Full Name  : J. Random User
Uid        : 1001
Class      :
Groups     : jru wheel
Home       : /home/jru
Shell      : /usr/local/bin/zsh
Locked     : no
OK? (yes/no): <strong class="userinput"><code>yes</code></strong>
adduser: INFO: Successfully added (jru) to the user database.
Add another user? (yes/no): <strong class="userinput"><code>no</code></strong>
Goodbye!
<code class="prompt">#</code></pre></div></div><br class="example-break" /><div xmlns="" class="note"><h3 class="admontitle">Примечание: </h3><p xmlns="http://www.w3.org/1999/xhtml">При наборе пароля текст не отображается, поэтому
	    постарайтесь не допускать опечаток в пароле при создании
	    учетной записи.</p></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="users-rmuser"></a>4.3.2.2. <code class="command">rmuser</code></h4></div></div></div><a id="idp78773072" class="indexterm"></a><a id="idp78773968" class="indexterm"></a><p>Для полного удаления пользователя из системы запустите
	  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=rmuser&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">rmuser</span>(8)</span></a> с правами суперпользователя.  Эта программа
	  выполняет следующие действия:</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Если в <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=crontab&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">crontab</span>(1)</span></a> существуют записи
	      пользователя, то они удаляются.</p></li><li class="step"><p>Удаляются принадлежащие пользователю задачи
	      <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=at&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">at</span>(1)</span></a>.</p></li><li class="step"><p>Уничтожаются все процессы, принадлежащие
	      пользователю.</p></li><li class="step"><p>Удаляется запись пользователя из локального файла
	      паролей.</p></li><li class="step"><p>Если домашний каталог принадлежит пользователю, то
	      каталог удаляется.</p></li><li class="step"><p>Удаляется принадлежащая пользователю входящая почта
	      из <code class="filename">/var/mail</code>.</p></li><li class="step"><p>Удаляются все файлы, принадлежащие пользователю, из
	      каталогов с временными файлами, например из
	      <code class="filename">/tmp</code>.</p></li><li class="step"><p>Наконец, в <code class="filename">/etc/group</code> из всех
	      групп удаляется имя пользователя.  Если после этого
	      удаления группа остается пустой и имя группы совпадает с
	      именем пользователя, она удаляется.  Это необходимо для
	      удаления пользовательских уникальных групп, создаваемых
	      <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=adduser&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">adduser</span>(8)</span></a>.</p></li></ol></div><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=rmuser&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">rmuser</span>(8)</span></a> не может использоваться для удаления
	  учетной записи суперпользователя, поскольку это почти
	  всегда означает разрушение системы.</p><p>По умолчанию используется интерактивный режим, это
	  показано в следующем примере.</p><div class="example"><a id="idp78796240"></a><div class="example-title">Пример 4.3. Интерактивное удаление учетной записи с помощью
	    <code class="command">rmuser</code></div><div class="example-contents"><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>rmuser jru</code></strong>
Matching password entry:
jru:*:1001:1001::0:0:J. Random User:/home/jru:/usr/local/bin/zsh
Is this the entry you wish to remove? <strong class="userinput"><code>y</code></strong>
Remove user's home directory (/home/jru)? <strong class="userinput"><code>y</code></strong>
Removing user (jru): mailspool home passwd.
<code class="prompt">#</code></pre></div></div><br class="example-break" /></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="users-chpass"></a>4.3.2.3. <code class="command">chpass</code></h4></div></div></div><a id="idp78804560" class="indexterm"></a><p>При помощи <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chpass&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">chpass</span>(1)</span></a> любой пользователь может
	  изменять информацию, связанную с его учетной записью.  И
	  только суперпользователю разрешено менять информацию других
	  пользователей.</p><p>При запуске без параметров (кроме необязательного имени
	  пользователя), <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chpass&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">chpass</span>(1)</span></a> вызывает редактор, содержащий
	  информацию о пользователе.  Когда пользователь выходит из
	  редактора, база данных пользователей обновляется новой
	  информацией.</p><div xmlns="" class="note"><h3 class="admontitle">Примечание: </h3><p xmlns="http://www.w3.org/1999/xhtml">Если утилита не была запущена с правами
	    суперпользователя, то после выхода из редактора будет
	    запрошен пароль пользователя.</p></div><p>В <a class="xref" href="users-synopsis.html#users-modifying-chpass-su" title="Пример 4.4. Работа с chpass с правами суперпользователя">Пример 4.4, <<Работа с <code class="command">chpass</code> с правами
	    суперпользователя>></a>
	  суперпользователь, выполнив команду
	  <code class="command">chpass jru</code>, просматривает доступные для
	  изменения поля.  Если
	  <code class="systemitem">jru</code> запустит эту
	  команду, то лишь последние шесть строк будут доступны ему
	  для редактирования.  Это показано в
	  <a class="xref" href="users-synopsis.html#users-modifying-chpass-ru" title="Пример 4.5. Работа с chpass с правами обычного пользователя">Пример 4.5, <<Работа с <code class="command">chpass</code> с правами обычного
	    пользователя>></a>.</p><div class="example"><a id="users-modifying-chpass-su"></a><div class="example-title">Пример 4.4. Работа с <code class="command">chpass</code> с правами
	    суперпользователя</div><div class="example-contents"><pre class="screen">#Changing user database information for jru.
Login: jru
Password: *
Uid [#]: 1001
Gid [# or name]: 1001
Change [month day year]:
Expire [month day year]:
Class:
Home directory: /home/jru
Shell: /usr/local/bin/zsh
Full Name: J. Random User
Office Location:
Office Phone:
Home Phone:
Other information:</pre></div></div><br class="example-break" /><div class="example"><a id="users-modifying-chpass-ru"></a><div class="example-title">Пример 4.5. Работа с <code class="command">chpass</code> с правами обычного
	    пользователя</div><div class="example-contents"><pre class="screen">#Changing user database information for jru.
Shell: /usr/local/bin/zsh
Full Name: J. Random User
Office Location:
Office Phone:
Home Phone:
Other information:</pre></div></div><br class="example-break" /><div xmlns="" class="note"><h3 class="admontitle">Примечание: </h3><p xmlns="http://www.w3.org/1999/xhtml"><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chfn&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">chfn</span>(1)</span></a> и <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chsh&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">chsh</span>(1)</span></a> это ссылки на
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chpass&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">chpass</span>(1)</span></a>, как и <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ypchpass&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ypchpass</span>(1)</span></a>, <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ypchfn&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ypchfn</span>(1)</span></a> и
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ypchsh&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ypchsh</span>(1)</span></a>.  Так как <acronym class="acronym">NIS</acronym>
	    поддерживается автоматически, указание
	    <code class="literal">yp</code> перед командой не обязательно.
	    Настройка <acronym class="acronym">NIS</acronym> будет рассмотрена в
	    <a class="xref" href="network-servers.html" title="Глава 25. Сетевые серверы">Глава 25, <em>Сетевые серверы</em></a>.</p></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="users-passwd"></a>4.3.2.4. <code class="command">passwd</code></h4></div></div></div><a id="idp78830288" class="indexterm"></a><a id="idp78831184" class="indexterm"></a><p>Любой пользователь может изменить собственный пароль при
	  помощи <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=passwd&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">passwd</span>(1)</span></a>.  Для предотвращения случайного или
	  несанкционированного изменения, команда запрашивает текущий
	  пароль пользователя перед установкой нового:</p><div class="example"><a id="idp78833616"></a><div class="example-title">Пример 4.6. Изменение пароля</div><div class="example-contents"><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>passwd</code></strong>
Changing local password for jru.
Old password:
New password:
Retype new password:
passwd: updating the database...
passwd: done</pre></div></div><br class="example-break" /><p>Суперпользователь может изменить пароль любого
	  пользователя, указав его имя при запуске <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=passwd&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">passwd</span>(1)</span></a>.
	  Утилита, запущенная с правами суперпользователя, не
	  запрашивает текущий пароль пользователя.  Благодаря этому
	  возможно устанавливать новые пароли забывчивым
	  пользователям.</p><div class="example"><a id="idp78836688"></a><div class="example-title">Пример 4.7. Изменение пароля другого пользователя
	    суперпользователем</div><div class="example-contents"><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>passwd jru</code></strong>
Changing local password for jru.
New password:
Retype new password:
passwd: updating the database...
passwd: done</pre></div></div><br class="example-break" /><div xmlns="" class="note"><h3 class="admontitle">Примечание: </h3><p xmlns="http://www.w3.org/1999/xhtml">Как и в случае с <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chpass&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">chpass</span>(1)</span></a>, <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=yppasswd&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">yppasswd</span>(1)</span></a> это
	    всего лишь ссылка на <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=passwd&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">passwd</span>(1)</span></a>, так что
	    <acronym class="acronym">NIS</acronym> работает с обеими командами.</p></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="users-pw"></a>4.3.2.5. <code class="command">pw</code></h4></div></div></div><a id="idp78843216" class="indexterm"></a><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pw&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">pw</span>(8)</span></a> это утилита командной строки для создания,
	  удаления, модифицирования и отображения пользователей и
	  групп.  Она функционирует как внешний интерфейс к системным
	  файлам пользователей и групп.  У <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pw&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">pw</span>(8)</span></a> очень мощный
	  набор параметров командной строки, что делает это программу
	  подходящей для использования в shell скриптах, но новым
	  пользователям она может показаться более сложной, чем другие
	  представленные здесь команды.</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="users-limiting"></a>4.3.3. Ограничение пользователей</h3></div></div></div><a id="idp78851152" class="indexterm"></a><a id="idp78851920" class="indexterm"></a><p>FreeBSD предоставляет администратору несколько способов
	ограничения количества занимаемых пользователями системных
	ресурсов.  Дисковые квоты, как один из видов ограничения
	ресурсов, обсуждаются в отдельном разделе, остальные
	ограничения перечислены далее в тексте.</p><a id="idp78853456" class="indexterm"></a><a id="idp78854224" class="indexterm"></a><a id="idp78855376" class="indexterm"></a><p>Дисковые квоты ограничивают объем дискового пространства,
	занимаемого пользователями, а также предоставляют способ
	быстрой проверки занимаемого объема без пересчета его каждый
	раз.  Квоты обсуждаются в <a class="xref" href="quotas.html" title="17.15. Квотирование файловых систем">Раздел 17.15, <<Квотирование файловых систем>></a>.</p><p>Другие ограничения ресурсов включают способы ограничения
	использования CPU, памяти и других ресурсов, которые могут
	потребляться пользователем.  Ограничения накладываются с
	помощью классов учетных записей и обсуждаются в этом
	разделе.</p><a id="idp78857424" class="indexterm"></a><p>Классы учетных записей определяются в
	<code class="filename">/etc/login.conf</code>, они детально описаны на
	странице справочника <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=login.conf&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">login.conf</span>(5)</span></a>.  Каждой учетной
	записи присвоен класс (<code class="literal">default</code> по
	умолчанию), и каждому классу присвоен набор характеристик.
	Характеристика определяется в виде пары
	<code class="literal">имя=значение</code>,
	где <em class="replaceable"><code>имя</code></em> это определенный
	идентификатор, а <em class="replaceable"><code>значение</code></em> это
	произвольная строка, обрабатываемая в зависимости от
	<em class="replaceable"><code>имени</code></em>.  Настройка классов и
	характеристик довольно проста, и также описана в
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=login.conf&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">login.conf</span>(5)</span></a>.</p><div xmlns="" class="note"><h3 class="admontitle">Примечание: </h3><p xmlns="http://www.w3.org/1999/xhtml">FreeBSD, как правило, не читает настройки в
	  <code class="filename">/etc/login.conf</code> непосредственно,
	  вместо этого она обращается к файлу базы данных
	  <code class="filename">/etc/login.conf.db</code> для ускорения
	  доступа к данным.  Всякий раз после редактирования
	  <code class="filename">/etc/login.conf</code> необходимо обновить
	  <code class="filename">/etc/login.conf.db</code> при помощи следующей
	  команды:</p><pre xmlns="http://www.w3.org/1999/xhtml" class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cap_mkdb /etc/login.conf</code></strong></pre></div><p>Ограничения на ресурсы отличаются от обычных
	характеристик: во-первых, для каждого ограничения существует
	<span class="quote"><<<span class="quote">мягкое</span>>></span> (текущее) и <span class="quote"><<<span class="quote">жесткое</span>>></span>
	ограничение.  Мягкое ограничение может настраиваться
	пользователем или приложением, но не может превышать жесткое
	ограничение.  Последнее может быть уменьшено пользователем, а
	увеличено - лишь суперпользователем.  Во-вторых,
	большинство ограничений ресурсов накладываются на каждый
	процесс определенного пользователя, а не к пользователю
	вообще.  Эти различия диктуются особенностями обработки
	ограничений, а не реализацией структуры характеристик учетных
	записей.</p><p>Ниже приведен список наиболее часто используемых
	ограничений на ресурсы.  Остальные, вместе с другими
	характеристиками, можно найти в <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=login.conf&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">login.conf</span>(5)</span></a>.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">coredumpsize</code></span></dt><dd><p>Ограничение на размер файла дампа памяти
	      <a id="idp78873936" class="indexterm"></a>,
	      генерируемого программой, подчиняющееся другим
	      ограничениям
	      <a id="idp78874704" class="indexterm"></a>
	     на используемое дисковое пространство, таким как
	     <code class="literal">filesize</code>, или дисковым квотам.  Это
	     ограничение часто используется как менее строгий метод
	     контролирования потребления дискового пространства.
	     Поскольку пользователь не создает файлы дампов памяти
	     самостоятельно, и зачастую не удаляет их, установка этого
	     параметра может предохранить пользователя от выхода за
	     пределы ограничений на дисковое пространство, в случае
	     если большая программа создаст файл аварийного дампа
	     памяти.</p></dd><dt><span class="term"><code class="literal">cputime</code></span></dt><dd><p>Это максимальное количество времени
	      <a id="idp78882128" class="indexterm"></a>
	      <a id="idp78882896" class="indexterm"></a>
	      ЦПУ, потребляемого пользователем.  Превысившие это время
	      процессы будут уничтожены ядром.</p><div xmlns="" class="note"><h3 class="admontitle">Примечание: </h3><p xmlns="http://www.w3.org/1999/xhtml">Это ограничение потребляемого
	        <span class="emphasis"><em>времени</em></span> ЦПУ, а не процентов
		использования ЦПУ, которые отображаются в некоторых
		полях <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=top&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">top</span>(1)</span></a> и <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ps&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ps</span>(1)</span></a>.</p></div></dd><dt><span class="term"><code class="literal">filesize</code></span></dt><dd><p>Это максимальный размер файла
	      <a id="idp78888400" class="indexterm"></a>
	      <a id="idp78889168" class="indexterm"></a>,
	      которым может владеть пользователь.  В отличие от
	      <a class="link" href="quotas.html" title="17.15. Квотирование файловых систем">дисковых квот</a>, это
	      ограничение применяется к отдельным файлам, а не ко
	      всему набору принадлежащих пользователю файлов.</p></dd><dt><span class="term"><code class="literal">maxproc</code></span></dt><dd><p>Это максимальное число процессов
	      <a id="idp78892624" class="indexterm"></a>
	      <a id="idp78893392" class="indexterm"></a>,
	      которые могут быть запущены пользователем.  В это число
	      включаются и консольные, и фоновые процессы.  Это
	      ограничение не может превышать системный лимит,
	      указываемый через переменную <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sysctl&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sysctl</span>(8)</span></a>
	      <code class="varname">kern.maxproc</code>.  Установка слишком
	      жестких ограничений может стать помехой работе
	      пользователя: зачастую ему удобно входить в систему с
	      нескольких консолей или использовать каналы.  Некоторые
	      задачи, такие как компиляция большой программы,
	      порождают множество процессов.</p></dd><dt><span class="term"><code class="literal">memorylocked</code></span></dt><dd><p>Это максимальный объем памяти
	      <a id="idp78897360" class="indexterm"></a>
	      <a id="idp78898256" class="indexterm"></a>,
	      блокировка которого может быть запрошена процессом при
	      помощи <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mlock&amp;sektion=2"><span class="citerefentry"><span class="refentrytitle">mlock</span>(2)</span></a>.  Некоторые критически важные для
	      системы программы, такие как <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=amd&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">amd</span>(8)</span></a>, блокируют
	      отведенную процессу память так, что в случае
	      <span class="quote"><<<span class="quote">пробуксовывания</span>>></span> системы (system
	      thrashing) они не усугубляют проблему.</p></dd><dt><span class="term"><code class="literal">memoryuse</code></span></dt><dd><p>Это максимальный объем памяти
	      <a id="idp78902992" class="indexterm"></a>
	      <a id="idp78903760" class="indexterm"></a>,
	      которая может быть занята процессом в любой момент
	      времени.  Сюда входит основная память и использование
	      подкачки.  Это ограничение не снимает все вопросы,
	      связанные с использованием памяти, но для начала это
	      подходящее ограничение.</p></dd><dt><span class="term"><code class="literal">openfiles</code></span></dt><dd><p>Это максимальное количество файлов, которые могут
	      быть открыты
	      <a id="idp78910800" class="indexterm"></a>
	      <a id="idp78911568" class="indexterm"></a>
	      процессом.  В FreeBSD файлы также используются для
	      представления сокетов и каналов IPC, поэтому не
	      устанавливайте слишком маленькое значение.  Ограничение
	      этого параметра, устанавливаемое для всей системы,
	      определяется переменной <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sysctl&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sysctl</span>(8)</span></a>
	      <code class="varname">kern.maxfiles</code>.</p></dd><dt><span class="term"><code class="literal">sbsize</code></span></dt><dd><p>Это ограничение на объем сетевой памяти, т.е. mbufs
	      <a id="idp78915536" class="indexterm"></a>
	      <a id="idp78916304" class="indexterm"></a>,
	      которую может занять пользователь.  В общем, это
	      ограничение может быть использовано для ограничения
	      сетевых взаимодействий.</p></dd><dt><span class="term"><code class="literal">stacksize</code></span></dt><dd><p>Это максимальный размер сегмента стека
	      <a id="idp78927440" class="indexterm"></a>
	      <a id="idp78928208" class="indexterm"></a>
	      процесса.  Сам по себе этот параметр не может ограничить
	      размер используемой программой памяти, следовательно,
	      его необходимо использовать вместе с другими
	      ограничениями.</p></dd></dl></div><p>Существуют несколько других аспектов, которые необходимо
	учитывать при установке ограничений ресурсов.  Ниже приведены
	некоторые общие подсказки, советы и различные комментарии.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Процессам, загружаемым при старте системы скриптами
	    <code class="filename">/etc/rc</code> присваивается класс
	    <code class="literal">daemon</code>.</p></li><li class="listitem"><p>Хотя поставляемый с системой
	    <code class="filename">/etc/login.conf</code> - это хороший
	    источник корректных значений для большинства ограничений,
	    сами ограничения могут не подходить для конкретной
	    системы.  Установка слишком слабых ограничений может
	    повлечь злоупотребления системой, а установка слишком
	    сильных ограничений может стать помехой
	    производительности.</p></li><li class="listitem"><p>Пользователи <span class="application">Xorg</span>
	    возможно должны получить больше ресурсов, чем другие
	    пользователи.  <span class="application">Xorg</span> сама по
	    себе потребляет много ресурсов, а также провоцирует
	    пользователей на одновременный запуск большего количества
	    программ.</p></li><li class="listitem"><p>Многие ограничения применяются к отдельным
	    процессам, а не к пользователю вообще.  Например,
	    установка <code class="varname">openfiles</code> в 50 означает, что
	    каждый процесс, запущенный пользователем, может открывать
	    до 50 файлов.  Общее количество файлов, которые могут
	    быть открыты пользователем, вычисляется как
	    <code class="literal">openfiles</code>, умноженное на
	    <code class="literal">maxproc</code>.  Это также применимо к
	    потребляемой памяти.</p></li></ul></div><p>За дальнейшей информацией по ограничениям на ресурсы,
	классам учетных записей и характеристикам, обращайтесь к
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=cap_mkdb&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">cap_mkdb</span>(1)</span></a>, <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=getrlimit&amp;sektion=2"><span class="citerefentry"><span class="refentrytitle">getrlimit</span>(2)</span></a>, и
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=login.conf&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">login.conf</span>(5)</span></a>.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="users-groups"></a>4.3.4. Группы</h3></div></div></div><a id="idp78940496" class="indexterm"></a><a id="idp78941264" class="indexterm"></a><a id="idp78942160" class="indexterm"></a><p>Группа это список пользователей.  Группа идентифицируется
	по имени и <acronym class="acronym">GID</acronym> (Group ID).  В FreeBSD для
	определения прав процесса ядро использует
	<acronym class="acronym">UID</acronym> процесса, а также список групп, которым
	он принадлежит.  В большинстве случаев, <acronym class="acronym">GID</acronym>
	пользователя означает первую группу из списка.</p><p>Имена групп связываются с <acronym class="acronym">GID</acronym> в файле
	<code class="filename">/etc/group</code>.  Это текстовый файл с
	четырьмя разделенными двоеточием полями.  Первое поле это имя
	группы, второе это зашифрованный пароль, третье это
	<acronym class="acronym">GID</acronym>, а четвертое это разделенный запятыми
	список членов группы.  За более полным описанием синтаксиса
	обратитесь к <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=group&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">group</span>(5)</span></a>.</p><p>Суперпользователь может редактировать
	<code class="filename">/etc/group</code> при помощи текстового
	редактора.  Как вариант, можно задействовать <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pw&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">pw</span>(8)</span></a> для
	добавления и редактирования групп.  Например, для добавления
	группы, называемой
	<code class="systemitem">teamtwo</code>, и проверки
	ее существования вы можете использовать:</p><div class="example"><a id="idp78949328"></a><div class="example-title">Пример 4.8. Добавление группы с использованием <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pw&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">pw</span>(8)</span></a></div><div class="example-contents"><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>pw groupadd teamtwo</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>pw groupshow teamtwo</code></strong>
teamtwo:*:1100:</pre></div></div><br class="example-break" /><p>В этом примере число <code class="literal">1100</code> это
	<acronym class="acronym">GID</acronym> группы <code class="systemitem">teamtwo</code>.  На данный момент в
	<code class="systemitem">teamtwo</code> нет членов.
	Следующая команда добавит
	<code class="systemitem">jru</code> в группу
	<code class="systemitem">teamtwo</code>.</p><div class="example"><a id="idp78959952"></a><div class="example-title">Пример 4.9. Добавление пользователей в новую группу при помощи
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pw&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">pw</span>(8)</span></a></div><div class="example-contents"><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>pw groupmod teamtwo -M jru</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>pw groupshow teamtwo</code></strong>
teamtwo:*:1100:jru</pre></div></div><br class="example-break" /><p>Аргумент к параметру <code class="option">-M</code> это разделенный
	запятыми список пользователей, которые добавляются в новую
	(пустую) группу или заменяют существующих членов группы.  Что
	касается пользователя - это членство в группе отличается
	от первичной группы пользователя, указанного в файле паролей.
	Это значит, что пользователь не будет показан как член группы
	при использовании <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pw&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">pw</span>(8)</span></a> <code class="option">groupshow</code>, но
	будет отображен при использовании <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=id&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">id</span>(1)</span></a> или похожего
	инструмента.  Когда программа <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pw&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">pw</span>(8)</span></a> задействована для
	добавления пользователя в группу, то она работает только с
	файлом <code class="filename">/etc/group</code> и не ищет
	дополнительную информацию в файле
	<code class="filename">/etc/passwd</code>.</p><div class="example"><a id="idp78967504"></a><div class="example-title">Пример 4.10. Добавление нового члена группы с использованием
	  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pw&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">pw</span>(8)</span></a></div><div class="example-contents"><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>pw groupmod teamtwo -m db</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>pw groupshow teamtwo</code></strong>
teamtwo:*:1100:jru,db</pre></div></div><br class="example-break" /><p>В этом примере аргументом к опции <code class="option">-m</code>
	является разделенный запятыми список пользователей,
	добавляемых в группу.  В отличие от предыдущего примера,
	пользователи добавляются в группу, а не замещают имеющийся
	список пользователей группы.</p><div class="example"><a id="idp78979792"></a><div class="example-title">Пример 4.11. Использование <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=id&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">id</span>(1)</span></a> для определения принадлежности
	  к группам</div><div class="example-contents"><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>id jru</code></strong>
uid=1001(jru) gid=1001(jru) groups=1001(jru), 1100(teamtwo)</pre></div></div><br class="example-break" /><p>В этом примере <code class="systemitem">jru</code> является членом групп
	<code class="systemitem">jru</code> и
	<code class="systemitem">teamtwo</code>.</p><p>За дальнейшей информацией об этой команде и о формате
	файла <code class="filename">/etc/group</code> обратитесь к <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pw&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">pw</span>(8)</span></a>
	и <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=group&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">group</span>(5)</span></a>.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="consoles.html">Пред.</a> </td><td width="20%" align="center"><a accesskey="u" href="basics.html">Наверх</a></td><td width="40%" align="right"> <a accesskey="n" href="permissions.html">След.</a></td></tr><tr><td width="40%" align="left" valign="top">4.2. Виртуальные консоли и терминалы </td><td width="20%" align="center"><a accesskey="h" href="index.html">Начало</a></td><td width="40%" align="right" valign="top"> 4.4. Права доступа</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Этот, и другие документы, могут быть скачаны с
    <a href="http://ftp.FreeBSD.org/pub/FreeBSD/doc/">http://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>.</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>По вопросам, связанным с FreeBSD, прочитайте
    <a href="http://www.FreeBSD.org/ru/docs.html">документацию</a> прежде чем писать в
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    По вопросам, связанным с этой документацией, пишите в рассылку
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.<br></br></small></p></body></html>