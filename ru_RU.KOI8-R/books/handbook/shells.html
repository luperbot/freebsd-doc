<?xml version="1.0" encoding="koi8-r" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=koi8-r" /><title>4.10. Интерпретатор команд</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Руководство FreeBSD" /><link rel="up" href="basics.html" title="Глава 4. Основы UNIX" /><link rel="prev" href="basics-daemons.html" title="4.9. Даемоны, сигналы, уничтожение процессов" /><link rel="next" href="editors.html" title="4.11. Текстовые редакторы" /><link rel="copyright" href="legalnotice.html" title="Юридическое уведомление" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">4.10. Интерпретатор команд</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="basics-daemons.html">Пред.</a> </td><th width="60%" align="center">Глава 4. Основы UNIX</th><td width="20%" align="right"> <a accesskey="n" href="editors.html">След.</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="shells"></a>4.10. Интерпретатор команд</h2></div></div></div><a id="idp79686352" class="indexterm"></a><a id="idp79686864" class="indexterm"></a><p>При работе с FreeBSD, в большинстве случаев для выполнения
      повседневных задач используется командный интерфейс (так называемая
      <span class="quote"><<<span class="quote">оболочка</span>>></span>, <span class="quote"><<<span class="quote">shell</span>>></span>).  Основная задача интерпретатора - принимать
      вводимые команды и выполнять их.  Многие командные интерпретаторы имеют
      встроенные средства для выполнения повседневной работы, например,
      операции над файлами и каталогами, редактирование командной строки,
      командные макросы и переменные окружения.  Вместе с FreeBSD
      поставляется несколько командных интерпретаторов, например,
      <code class="command">sh</code>, или Bourne Shell, и <code class="command">tcsh</code>,
      расширенная версия C-shell.  Многие другие интерпретаторы доступны из
      коллекции портов FreeBSD, например <code class="command">zsh</code> и
      <code class="command">bash</code>.</p><p>Какой из командных интерпретаторов использовать?  Это дело вкуса.
      Если вы программируете на C, то вам, возможно, понравится
      <code class="command">tcsh</code>.  Если вы работали с Linux, или только начинаете
      работать с интерфейсом командной строки <span class="trademark">UNIX</span>(R), попробуйте
      <code class="command">bash</code>.  Каждый из названных интерпретаторов имеет свои
      особенности, которые отличат его от других, и, возможно, повлияют на ваш
      выбор.</p><p>Одна из наиболее часто используемых функций командного
      интерпретатора - дополнение частичного имени файла до полного.  Вы
      можете набрать только первые несколько символов имени файла, нажать
      клавишу табуляции (TAB), и командный интерпретатор автоматически завершит
      имя.  Например, у нас есть два файла, названные <code class="filename">foobar</code> и
      <code class="filename">foo.bar</code>.  Допустим, мы хотим удалить файл
      <code class="filename">foo.bar</code>.  Для этого, наберем на клавиатуре
      <code class="command">rm fo[Tab].[Tab]</code>.</p><p>Вы увидите следующее: <code class="command">rm foo[BEEP].bar</code>.</p><p>Здесь [BEEP] - это так называемый консольный сигнал,
      оповещающий о том, что интерпретатор не в состоянии закончить имя
      файла, так как по введенным вами символам невозможно однозначно
      идентифицировать файл.  Например, имена файлов
      <code class="filename">foobar</code> и <code class="filename">foo.bar</code> оба
      начинаются с <code class="literal">fo</code>, но после нажатия TAB можно
      однозначно дополнить только до <code class="literal">foo</code>.  Если же теперь
      ввести точку (<code class="literal">.</code>) и вновь нажать TAB, интерпретатор
      достроит имя файла целиком.</p><a id="idp79696976" class="indexterm"></a><p>Дополнительные возможности при работе с интерпретатором дает
      использование переменных окружения.  Переменные окружения это пары
      переменная/значение, хранящиеся в памяти интерпретатора.
      Значение переменных окружения может быть прочитано любой программой,
      запущенной из командного интерпретатора, и часто содержит
      настройки для многих приложений и утилит.  Ниже приведены некоторые
      наиболее часто встречающиеся переменные окружения и их значения:</p><a id="idp79697872" class="indexterm"></a><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Переменная</th><th>Описание</th></tr></thead><tbody><tr><td><code class="envar">USER</code></td><td>Имя текущего пользователя.</td></tr><tr><td><code class="envar">PATH</code></td><td>Каталоги, разделенные двоеточием, для
	      поиска исполняемых файлов.</td></tr><tr><td><code class="envar">DISPLAY</code></td><td>Сетевое имя виртуального дисплея X11, доступного для
	      подключения.</td></tr><tr><td><code class="envar">SHELL</code></td><td>Текущий командный интерпретатор.</td></tr><tr><td><code class="envar">TERM</code></td><td>Тип терминала пользователя.  Используется, чтобы узнать
	      возможности терминала.</td></tr><tr><td><code class="envar">TERMCAP</code></td><td>Список escape-последовательностей для управления
	      различными функциями терминала.</td></tr><tr><td><code class="envar">OSTYPE</code></td><td>Название (тип) операционной системы.  Например,
	      FreeBSD.</td></tr><tr><td><code class="envar">MACHTYPE</code></td><td>Архитектура машины (процессора).</td></tr><tr><td><code class="envar">EDITOR</code></td><td>Выбранный пользователем текстовый редактор.</td></tr><tr><td><code class="envar">PAGER</code></td><td>Выбранная пользователем утилита просмотра
	      файлов.</td></tr><tr><td><code class="envar">MANPATH</code></td><td>Каталоги, разделенные двоеточием, для
	      поиска файлов системного справочника.</td></tr></tbody></table></div><a id="idp79720144" class="indexterm"></a><p>Установка значений переменных окружения различна для разных
      оболочек. Например, в интерпретаторах C-стиля, таких как
      <code class="command">tcsh</code> и <code class="command">csh</code>, это
      <code class="command">setenv</code>.  В интерпретаторах Bourne, таких как
      <code class="command">sh</code> и <code class="command">bash</code>, это
      <code class="command">export</code>.  Например, чтобы установить или изменить
      значение переменной <code class="envar">EDITOR</code> к значению
      <code class="filename">/usr/local/bin/emacs</code> в <code class="command">csh</code> или
      <code class="command">tcsh</code>, выполните команду:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>setenv EDITOR /usr/local/bin/emacs</code></strong></pre><p>В оболочках Bourne:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>export EDITOR="/usr/local/bin/emacs"</code></strong></pre><p>Чтобы получить значение переменной, например, в командной строке,
      поместите символ <code class="literal">$</code> перед именем
      переменной.  Например, команда <code class="command">echo $TERM</code> выведет
      значение переменной <code class="envar">$TERM</code>.</p><p>Командный интерпретатор воспринимает некоторые символы, называемые
      метасимволами, в качестве управляющих.
      Один из наиболее часто используемых - символ <code class="literal">*</code>,
      который заменяет любое количество символов в имени файла.
      Метасимволы
      используются для поиска файлов по маске, например, команда
      <code class="command">echo *</code> делает практически тоже самое, что и
      команда <code class="command">ls</code>, поскольку интерпретатор вызывает команду
      <code class="command">echo</code>, передавая ей имена всех файлов, попадающих под маску
      <code class="literal">*</code>.</p><p>В некоторых ситуациях требуется, чтобы интерпретатор воспринимал
      метасимволы как обычные, не несущие специальной смысловой нагрузки.
      Этого можно достичь, поставив перед символом обратную косую черту
      (<code class="literal">\</code>).  Например, команда <code class="command">echo
      $TERM</code> выведет тип вашего терминала, в то же время команда
      <code class="command">echo \$TERM</code> выведет именно слово
      <code class="literal">$TERM</code>, а не значение переменной
      <code class="envar">$TERM</code>.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="changing-shells"></a>4.10.1. Как изменить командный интерпретатор по умолчанию</h3></div></div></div><p>Самым простым способом, пожалуй, будет воспользоваться командой
	<code class="command">chsh</code>.  Если переменная <code class="envar">EDITOR</code>
	определена, то будет загружен соответствующий текстовый редактор, иначе vi.
	Вам нужно будет изменить значение
	поля <span class="quote"><<<span class="quote">Shell:</span>>></span> и выйти из редактора с сохранением
	результатов.</p><p>Можно также воспользоваться опцией <code class="option">-s</code> команды
	<code class="command">chsh</code>.  Например, если вы хотите изменить
	интерпретатор на <code class="command">bash</code>, выполните:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>chsh -s /usr/local/bin/bash</code></strong></pre><div xmlns="" class="note"><h3 class="admontitle">Примечание: </h3><p xmlns="http://www.w3.org/1999/xhtml">Интерпретатор, который вы будете использовать,
	  <span class="emphasis"><em>обязательно</em></span> должен быть в файле
	  <code class="filename">/etc/shells</code>.  Обычно, при установке
	  интерпретаторов из <a class="link" href="ports.html" title="Глава 5. Установка приложений: порты и пакеты">коллекции портов</a>,
	  это делается автоматически.  Если же это не так, вам нужно будет
	  самостоятельно добавить соответствующую строчку в этот файл.</p><p xmlns="http://www.w3.org/1999/xhtml">Например, если вы установили <code class="command">bash</code>
	  вручную и поместили его в
	  каталог <code class="filename">/usr/local/bin</code>, нужно набрать:</p><pre xmlns="http://www.w3.org/1999/xhtml" class="screen"><code class="prompt">#</code> <strong class="userinput"><code>echo "/usr/local/bin/bash" &gt;&gt; /etc/shells</code></strong></pre><p xmlns="http://www.w3.org/1999/xhtml">Теперь можно смело использовать команду
	  <code class="command">chsh</code>.</p></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="basics-daemons.html">Пред.</a> </td><td width="20%" align="center"><a accesskey="u" href="basics.html">Наверх</a></td><td width="40%" align="right"> <a accesskey="n" href="editors.html">След.</a></td></tr><tr><td width="40%" align="left" valign="top">4.9. Даемоны, сигналы, уничтожение процессов </td><td width="20%" align="center"><a accesskey="h" href="index.html">Начало</a></td><td width="40%" align="right" valign="top"> 4.11. Текстовые редакторы</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Этот, и другие документы, могут быть скачаны с
    <a href="http://ftp.FreeBSD.org/pub/FreeBSD/doc/">http://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>.</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>По вопросам, связанным с FreeBSD, прочитайте
    <a href="http://www.FreeBSD.org/ru/docs.html">документацию</a> прежде чем писать в
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    По вопросам, связанным с этой документацией, пишите в рассылку
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.<br></br></small></p></body></html>