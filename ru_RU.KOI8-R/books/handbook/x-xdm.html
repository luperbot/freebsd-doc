<?xml version="1.0" encoding="koi8-r" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=koi8-r" /><title>6.6. Менеджеры экранов (Display Managers) X</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Руководство FreeBSD" /><link rel="up" href="x11.html" title="Глава 6. X Window System" /><link rel="prev" href="x-fonts.html" title="6.5. Использование шрифтов в X11" /><link rel="next" href="x11-wm.html" title="6.7. Графические оболочки" /><link rel="copyright" href="legalnotice.html" title="Юридическое уведомление" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">6.6. Менеджеры экранов (Display Managers) X</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="x-fonts.html">Пред.</a> </td><th width="60%" align="center">Глава 6. X Window System</th><td width="20%" align="right"> <a accesskey="n" href="x11-wm.html">След.</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="x-xdm"></a>6.6. Менеджеры экранов (Display Managers) X</h2></div><div><span class="authorgroup">Текст предоставил <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Seth</span> <span class="surname">Kingsley</span></span>. </span></div></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp81027920"></a>6.6.1. Вступление</h3></div></div></div><a id="idp81028560" class="indexterm"></a><p>Менеджер Экранов X (<span class="application">XDM</span>) это
	необязательный компонент
	X Window System, который используется для управления входом
	пользователей в систему.
	Это полезно в ряде ситуаций, например для минимальных
	<span class="quote"><<<span class="quote">X Терминалов</span>>></span>,
	десктопов, больших сетевых серверов экранов. Так как X Window System
	не зависит от сетей и протоколов, то существует множество различных
	конфигураций для X клиентов и серверов, запущенных на различных
	компьютерах, подключенных к сети.  <span class="application">XDM</span>
	предоставляет графический
	интерфейс для выбора сервера, к которому вы желаете подключится, и
	введения информации, авторизующей пользователя, например комбинации
	логина и пароля.</p><p><span class="application">XDM</span> можно рассматривать как аналог
	программы <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=getty&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">getty</span>(8)</span></a>, предоставляющий такие же возможности
	для пользователей
	(смотрите <a class="xref" href="term.html#term-config" title="22.3.2. Настройка">Раздел 22.3.2, <<Настройка>></a> для подробной информации).
	И это именно так, <span class="application">XDM</span> производит вход в
	систему для подключенного
	пользователя и запускает управляющую сессию для пользователя (обычно
	это менеджер окон X). После этого <span class="application">XDM</span>
	ожидает завершения
	приложения, означающее завершение пользователем работы и
	отключает управляющую сессию.  Затем
	<span class="application">XDM</span> может снова вывести
	приглашение к входу в систему и ожидать входа другого пользователя.
      </p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp81038160"></a>6.6.2. Использование XDM</h3></div></div></div><p>Программой даемона <span class="application">XDM</span> является
	<code class="filename">/usr/local/bin/xdm</code>.  Эта программа может быть
	запущена от пользователя <code class="systemitem">root</code> в любой момент, и
	она начнёт управлять дисплеем X на локальной машине.
	Если <span class="application">XDM</span> нужно запускать
	в фоновом режиме каждый раз при запуске компьютера, то наиболее
	правильный способ - это добавить новую запись в
	<code class="filename">/etc/ttys</code>. Для более подробной информации о
	формате и использовании этого файла смотрите <a class="xref" href="term.html#term-etcttys" title="22.3.2.1. Добавление строки в /etc/ttys">Раздел 22.3.2.1, <<Добавление строки в <code class="filename">/etc/ttys</code>>></a>.  Вот строка, которую необходимо добавить
	в файл <code class="filename">/etc/ttys</code> для того, чтобы запустить
	даемон <span class="application">XDM</span> на виртуальном терминале:</p><pre class="screen">ttyv8	"/usr/local/bin/xdm -nodaemon"	xterm	off secure</pre><p>По умолчанию эта запись отключена; для её включения
	нужно заменить пятое поле с <code class="literal">off</code> на
	<code class="literal">on</code> и перезапустить <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=init&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">init</span>(8)</span></a>, используя метод,
	описанный в <a class="xref" href="term.html#term-hup" title="22.3.2.2. Заставьте init перечитать /etc/ttys">Раздел 22.3.2.2, <<Заставьте <code class="command">init</code> перечитать
	  <code class="filename">/etc/ttys</code>>></a>.  Первое поле это название
	терминала, которым будет управлять программа, <code class="literal">ttyv8</code>.
	Это означает, что <span class="application">XDM</span> будет запущен на 9ом
	виртуальном терминале.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp81046352"></a>6.6.3. Конфигурирование XDM</h3></div></div></div><p>Конфигурационные файлы <span class="application">XDM</span> находятся в
	каталоге
	<code class="filename">/usr/local/lib/X11/xdm</code>.  В нём размещаются
	насколько файлов, которые используются для изменения
	поведения и внешнего вида <span class="application">XDM</span>.
	Обычно это следующие файлы:</p><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Файл</th><th>Описание</th></tr></thead><tbody><tr><td><code class="filename">Xaccess</code></td><td>Правила авторизации клиентов.</td></tr><tr><td><code class="filename">Xresources</code></td><td>Значения ресурсов X по умолчанию.</td></tr><tr><td><code class="filename">Xservers</code></td><td>Список локальных и удаленных экранов.</td></tr><tr><td><code class="filename">Xsession</code></td><td>Сценарий сессии по умолчанию.</td></tr><tr><td><code class="filename">Xsetup_</code>*</td><td>Скрипт для запуска приложений до появления приглашения
	          к входу в систему.</td></tr><tr><td><code class="filename">xdm-config</code></td><td>Глобальный конфигурационный файл для всех экранов
		  запущенных на локальной машине</td></tr><tr><td><code class="filename">xdm-errors</code></td><td>Ошибки сгенерированные серверной программой.</td></tr><tr><td><code class="filename">xdm-pid</code></td><td>ID процесса запущенного XDM.</td></tr></tbody></table></div><p>В этом каталоге также находятся несколько командных сценариев
	и программ, используемых для настройки рабочего стола (desktop)
	при запуске <span class="application">XDM</span>.  Назначение
	каждого из этих файлов будет вкратце описано.  Точный синтаксис и
	информация по их использованию находятся в <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=xdm&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">xdm</span>(1)</span></a>.</p><p>В конфигурации по умолчанию выводится простое прямоугольное окно
	приглашения ко входу в систему с именем компьютера, написанным
	сверху большим шрифтом, и строками ввода <span class="quote"><<<span class="quote">Login:</span>>></span> и
	<span class="quote"><<<span class="quote">Password:</span>>></span> внизу. Это хорошая отправная точка
	для изменения внешнего вида экранов
	<span class="application">XDM</span>.</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp81094096"></a>6.6.3.1. Xaccess</h4></div></div></div><p>Протокол, по которому происходит подключение дисплеев,
	  управляемых <span class="application">XDM</span>, называется X Display
	  Manager Connection
	  Protocol (XDMCP).  Этот файл представляет собой
	  набор правил для управления XDMCP соединениями с
	  удалёнными машинами.  Он игнорируется, пока
	  стандартный файл <code class="filename">xdm-config</code> не содержит
	  указаний по обслуживанию удалённых соединений.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp81096016"></a>6.6.3.2. Xresources</h4></div></div></div><p>Это файл содержит установки по умолчанию для
	  приложений, запущенных в экране выбора серверов и экране
	  приглашения к входу в систему.  В нем может быть
	  изменён вид программы входа в систему. Формат этого файла
	  идентичен файлу app-defaults, описанному
	  в документации к X11.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp81101392"></a>6.6.3.3. Xservers</h4></div></div></div><p>Это список удаленных экранов, которые XDM должен предоставить
	  как варианты для входа в систему.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp81102544"></a>6.6.3.4. Xsession</h4></div></div></div><p>Этот файл представляет из себя командный сценарий по умолчанию
	  для пользователей, вошедших в систему с использованием
	  <span class="application">XDM</span>.
	  Обычно каждый пользователь имеет собственный сценарий входа в файле
	  <code class="filename">~/.xsession</code>, который используется
	  вместо этого сценария.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp81104464"></a>6.6.3.5. Xsetup_*</h4></div></div></div><p>Они запускаются автоматически перед тем, как показывается экран
	  выбора сервера или экран входа в систему. Для каждого экрана
	  (display) есть свой сценарий с именем <code class="filename">Xsetup_</code>,
	  за которым следует локальный номер экрана (например,
	  <code class="filename">Xsetup_0</code>).
	  Обычно эти сценарии запускают одну или две программы в
	  фоновом режиме, например <code class="command">xconsole</code>.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp81106768"></a>6.6.3.6. xdm-config</h4></div></div></div><p>Здесь содержатся настройки в формате app-defaults,
	  которые применимы ко всем экранам данного компьютера.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp81107920"></a>6.6.3.7. xdm-errors</h4></div></div></div><p>Здесь находится выдача X серверов, которые
	  <span class="application">XDM</span> пытается запустить.  Если экран,
	  который <span class="application">XDM</span> пытается
	  открыть, отключается по некоторым причинам, то это хорошее
	  место для поиска сообщений об ошибках. Эти сообщения также
	  записываются в пользовательский файл
	  <code class="filename">~/.xsession-errors</code> для каждого сеанса.</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp81110480"></a>6.6.4. Использование сетевого сервера дисплеев</h3></div></div></div><p>Для того, чтобы позволить другим клиентам подключаться к серверу
	дисплеев, необходимо отредактировать правила
	контроля доступа и включить обслуживание сетевых соединений.
	По умолчанию они выключены, что является хорошим решением
	с точки зрения обеспечения безопасности.  Для того, чтобы
	позволить <span class="application">XDM</span> принимать сетевые соединения,
	в первую очередь
	закомментируйте строку в файле <code class="filename">xdm-config</code>:</p><pre class="screen">! БЕЗОПАСНОСТЬ: do not listen for XDMCP or Chooser requests
! Закомментируйте эти линии, если вы хотите управлять X терминалами с xdm
DisplayManager.requestPort:     0</pre><p>и потом перезапустите <span class="application">XDM</span>.  Помните,
	что комментарии в файлах app-defaults начинаются с символа
	<span class="quote"><<<span class="quote">!</span>>></span>, а не как обычно, <span class="quote"><<<span class="quote">#</span>>></span>.  Может
	потребоваться более жёсткий контроль доступа - взгляните на примеры из
	<code class="filename">Xaccess</code> и обратитесь к странице справочника
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=xdm&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">xdm</span>(1)</span></a> за дальнейшей информацией.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp81115600"></a>6.6.5. Замены для XDM</h3></div></div></div><p>Существует несколько программ, заменяющих
	<span class="application">XDM</span>.  Одна из них,
	<span class="application">kdm</span> (поставляемая вместе с
	<span class="application">KDE</span>), описана далее в этой главе.  В
	<span class="application">kdm</span> имеется много визуальных и
	косметических улучшений, а также функциональность, позволяющая
	пользователям выбирать собственные оконные менеджеры во время
	входа в систему.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="x-fonts.html">Пред.</a> </td><td width="20%" align="center"><a accesskey="u" href="x11.html">Наверх</a></td><td width="40%" align="right"> <a accesskey="n" href="x11-wm.html">След.</a></td></tr><tr><td width="40%" align="left" valign="top">6.5. Использование шрифтов в X11 </td><td width="20%" align="center"><a accesskey="h" href="index.html">Начало</a></td><td width="40%" align="right" valign="top"> 6.7. Графические оболочки</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Этот, и другие документы, могут быть скачаны с
    <a href="http://ftp.FreeBSD.org/pub/FreeBSD/doc/">http://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>.</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>По вопросам, связанным с FreeBSD, прочитайте
    <a href="http://www.FreeBSD.org/ru/docs.html">документацию</a> прежде чем писать в
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    По вопросам, связанным с этой документацией, пишите в рассылку
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.<br></br></small></p></body></html>