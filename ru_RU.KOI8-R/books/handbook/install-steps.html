<?xml version="1.0" encoding="koi8-r" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=koi8-r" /><title>2.6. Выделение дискового пространства</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Руководство FreeBSD" /><link rel="up" href="install.html" title="Глава 2. Установка FreeBSD версий 8.X и более ранних" /><link rel="prev" href="using-sysinstall.html" title="2.5. Введение в Sysinstall" /><link rel="next" href="install-choosing.html" title="2.7. Выбор устанавливаемых компонентов" /><link rel="copyright" href="legalnotice.html" title="Юридическое уведомление" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">2.6. Выделение дискового пространства</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="using-sysinstall.html">Пред.</a> </td><th width="60%" align="center">Глава 2. Установка FreeBSD версий 8.<em class="replaceable"><code>X</code></em> и более
    ранних</th><td width="20%" align="right"> <a accesskey="n" href="install-choosing.html">След.</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="install-steps"></a>2.6. Выделение дискового пространства</h2></div></div></div><p>Ваша первая задача - выделить дисковое пространство под
      FreeBSD и разметить его, чтобы <span class="application">sysinstall</span>
      могла его подготовить.  Для этого вам нужно знать, как FreeBSD
      ищет информацию на диске.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="install-drive-bios-numbering"></a>2.6.1. Нумерация дисков в BIOS</h3></div></div></div><p>Перед установкой и настройкой операционной системы необходимо
	знать, как FreeBSD трактует предоставляемую системой BIOS информацию
	о дисках и их именовении.</p><a id="idp76373584" class="indexterm"></a><a id="idp76374096" class="indexterm"></a><p>В PC, работающем под BIOS-зависимой операционной
	системой, такой как <span class="trademark">MS-DOS</span>(R) или <span class="trademark">Microsoft</span>(R) <span class="trademark">Windows</span>(R), BIOS
	может отходить от обычного порядка нумерации дисков.  Это
	позволяет пользователю загружаться не только с так
	называемого "primary master" диска.  Это особенно
	удобно для тех пользователей, которые покупают второй
	идентичный первому жесткий диск и регулярно делают копии первого
	диска на второй.  Затем, если первый диск выйдет из
	строя, будет заражен вирусом или поврежден из-за сбоя
	операционной системы, он может быть легко восстановлен
	путем логической перестановки дисков в BIOS.  Это все равно
	что переключить кабели дисков, но без вскрытия корпуса.</p><a id="idp76376656" class="indexterm"></a><a id="idp76377168" class="indexterm"></a><p>Более дорогостоящие системы со SCSI контроллерами
	зачастую имеют расширения BIOS, позволяющие
	сходным путем менять порядок до семи SCSI дисков.</p><p>Пользователи, привыкшие пользоваться этими полезными
	функциями, могут быть удивлены, что во FreeBSD результаты не
	совпадают с ожидаемыми.  FreeBSD не использует BIOS, и не
	знает о <span class="quote"><<<span class="quote">логическом отображении дисков в BIOS</span>>></span>.  Это может
	привести к очень сложным ситуациям, особенно когда диски
	имеют одинаковую геометрию и содержат точную копию данных
	друг друга.</p><p>При использовании FreeBSD всегда восстанавливайте
	настройки BIOS к первоначальной нумерации перед установкой
	системы и оставляйте их в таком виде.  Если вам понадобится
	переключить диски, сделайте это, но путем физического
	переконфигурирования, вскрыв корпус, переключив перемычки и
	кабели.</p><div class="sidebar"><div xmlns="" class="titlepage"><div><div><div xmlns="http://www.w3.org/1999/xhtml" class="-title"></div></div></div></div><p>Билл разобрал старый Wintel компьютер, чтобы
	  сделать еще один компьютер под FreeBSD для Фреда.  Билл
	  установил один SCSI диск как нулевое устройство
	  SCSI и поставил на него FreeBSD.</p><p>Фред начал использовать систему, но через
	  несколько дней обнаружил, что старый SCSI диск сообщает
	  о множестве сбоев и сказал об этом Биллу.</p><p>Еще через несколько дней Билл решил, что настало
	  время решить проблему, и достал такой же SCSI диск
	  из <span class="quote"><<<span class="quote">заначки</span>>></span> в кладовке.  Первая проверка
	  поверхности показала, что диск работает нормально;
	  Билл установил этот диск как четвертое устройство
	  SCSI и скопировал образ диска с нулевого устройства
	  на четвертое.  Теперь, когда новый диск был
	  установлен и отлично работал, Билл решил что
	  неплохо бы начать использовать его, и с помощью
	  функции SCSI BIOS поменял порядок дисков, чтобы
	  система могла грузиться с четвертого устройства
	  SCSI.  FreeBSD загрузилась и работала без
	  проблем.</p><p>Фред поработал еще несколько дней, и скоро они с
	  Биллом решили, что настало время для нового
	  приключения - время обновить версию FreeBSD.  Билл
	  удалил нулевое устройство SCSI, потому что оно
	  <span class="quote"><<<span class="quote">подглючивало</span>>></span>, и установил на его место такой же диск
	  из <span class="quote"><<<span class="quote">заначки</span>>></span>.  Затем Билл установил новую версию
	  FreeBSD на новое нулевое устройство SCSI используя
	  дискеты Фреда с интернет сервера FTP.  Установка прошла
	  отлично.</p><p>Фред использовал новую версию FreeBSD несколько
	  дней и удостоверился, что она вполне подходит для работы
	  в инженерном отделе.  Настало время скопировать все
	  архивы со старого диска.  Фред смонтировал четвертое
	  устройство SCSI (последнюю копию старой версии
	  FreeBSD) и обнаружил, что ни одного из его
	  драгоценных файлов на четвертом устройстве SCSI
	  нет.</p><p>Куда делись данные?</p><p>Когда Билл сделал копию с нулевого устройства
	  SCSI на четвертое устройство SCSI, оно стало
	  <span class="quote"><<<span class="quote">клоном</span>>></span>.  Когда Билл поменял настройки SCSI BIOS,
	  чтобы загрузиться с четвертого устройства SCSI, он
	  всего лишь обманул сам себя.  FreeBSD все еще
	  работала с нулевого устройства SCSI.  Изменение этих
	  настроек BIOS привело к загрузке части кода Boot и
	  Loader с выбранного в BIOS диска, но после загрузки
	  драйверов FreeBSD настройки BIOS были
	  проигнорированы, и FreeBSD вернулась к нормальной
	  нумерации.  Как показано <span class="quote"><<<span class="quote">на пальцах</span>>></span>, система
	  продолжила работать с нулевым устройством SCSI, и
	  все данные Фреда остались там, а не на четвертом
	  устройстве SCSI.  То, что система грузилась с
	  четвертого устройства SCSI, было всего лишь
	  обманутыми ожиданиями.</p><p>Мы рады упомянуть, что данные не были уничтожены
	  или повреждены при нашем исследовании этого
	  феномена.  Старое нулевое устройство SCSI было
	  вытащено из груды железа, и все файлы Фреда
	  вернулись к нему.</p><p>Хотя в этом рассказе были использованы SCSI
	  диски, с IDE дисками все точно так же.</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="main-fdisk"></a>2.6.2. Создание слайсов с использованием FDisk</h3></div></div></div><div xmlns="" class="note"><h3 class="admontitle">Примечание: </h3><p xmlns="http://www.w3.org/1999/xhtml">Внесенные вами изменения не будут записываться на диск сразу.
	  Если вы думаете, что сделали ошибку, и хотите начать сначала, можете
	  использовать меню для выхода из <span class="application">sysinstall</span>
	  и попробовать еще раз или нажатием <span class="keycap"><strong>U</strong></span> вызвать
	  опцию <span class="guimenuitem">Undo</span> (отмена).  Если вы запутались и не можете выйти, просто
	  выключите компьютер.</p></div><p>После начала стандартной установки в
	<span class="application">sysinstall</span> будет показано это
	сообщение:</p><pre class="screen">                                 Message
 In the next menu, you will need to set up a DOS-style ("fdisk")
 partitioning scheme for your hard disk. If you simply wish to devote
 all disk space to FreeBSD (overwriting anything else that might be on
 the disk(s) selected) then use the (A)ll command to select the default
 partitioning scheme followed by a (Q)uit. If you wish to allocate only
 free space to FreeBSD, move to a partition marked "unused" and use the
 (C)reate command.
                                [  OK  ]

                      [ Press enter or space ]</pre><p>Нажмите <span class="keycap"><strong>Enter</strong></span> как предлагается.  Будет
	показан список всех жестких дисков, обнаруженных ядром во время
	тестирования устройств.
	<a class="xref" href="install-steps.html#sysinstall-fdisk-drive1" title="Рисунок 2.13. Выберите диск для FDisk">Рисунок 2.13, <<Выберите диск для FDisk>></a> показывает пример системы
	с двумя IDE дисками.  Они были названы
	<code class="filename">ad0</code> и <code class="filename">ad2</code>.</p><div class="figure"><a id="sysinstall-fdisk-drive1"></a><div class="figure-title">Рисунок 2.13. Выберите диск для FDisk</div><div class="figure-contents"><div class="mediaobject"><img src="install/fdisk-drive1.png" alt="Выберите диск для FDisk" /></div></div></div><br class="figure-break" /><p>Вы можете быть удивлены, почему устройства
	<code class="filename">ad1</code> здесь нет.  Почему оно было
	пропущено?</p><p>Предположим, что у вас есть два жестких диска IDE, один
	master на первом контроллере IDE, а второй master на
	втором контроллере IDE.  Если FreeBSD пронумерует их
	в том порядке, в котором нашла, <code class="filename">ad0</code> и
	<code class="filename">ad1</code>, все будет работать.</p><p>Но если вы добавите третий диск, как slave устройство на
	первый контроллер IDE, он станет <code class="filename">ad1</code>,
	а предыдущий <code class="filename">ad1</code> станет
	<code class="filename">ad2</code>.  Поскольку имена устройств (таких как
	<code class="filename">ad1s1a</code>) используются для обращения к
	файловым системам, вы можете вдруг обнаружить, что некоторые из ваших
	файловых систем больше не отображаются правильно и вам потребуется
	изменить конфигурацию FreeBSD.</p><p>Для обхода этой проблемы, ядро может быть настроено так, чтобы
	именовать IDE диски на основе их местоположения, а не порядка, в
	котором они были найдены.  С этой схемой master диск на втором
	контроллере IDE будет <span class="emphasis"><em>всегда</em></span> устройством
	<code class="filename">ad2</code>, если даже нет устройств
	<code class="filename">ad0</code> или <code class="filename">ad1</code>.</p><p>Это конфигурация ядра FreeBSD по умолчанию, поэтому
	на экране показаны <code class="filename">ad0</code> и
	<code class="filename">ad2</code>.  У компьютера, с которого был взят этот
	снимок экрана, есть по одному IDE диску на обеих master каналах IDE
	контроллеров и ни одного диска на каналах slave.</p><p>Вы должны выбрать диск, на который хотите установить FreeBSD,
	и нажать <span class="guibutton">[ OK ]</span>.
	Запустившийся <span class="application">FDisk</span> будет выглядеть
	примерно как <a class="xref" href="install-steps.html#sysinstall-fdisk1" title="Рисунок 2.14. Типичные разделы fdisk перед редактированием">Рисунок 2.14, <<Типичные разделы <code class="command">fdisk</code> перед
	  редактированием>></a>.</p><p>Экран <span class="application">FDisk</span> разбит на три
	раздела.</p><p>Первый раздел, занимающая первые две линии экрана, показывает
	подробную информацию о выбранном в данный момент диске, включая его
	имя во FreeBSD, геометрию и общий размер диска.</p><p>Второй раздел показывает имеющиеся в данный момент на диске слайсы,
	где они начинаются и заканчиваются, их размер, имя, которое им дала
	FreeBSD, описание и подтип.  На этом примере показаны два маленьких
	неиспользованных слайса, которые являются артефактами схемы разметки
	диска на PC.  Также показан один большой <acronym class="acronym">FAT</acronym> слайс,
	который почти всегда
	является диском <code class="filename">C:</code> в <span class="trademark">MS-DOS</span>(R) / <span class="trademark">Windows</span>(R), и
	дополнительный слайс, который может содержать диски с другими буквами
	для <span class="trademark">MS-DOS</span>(R) / <span class="trademark">Windows</span>(R).</p><p>Третий раздел показывает команды, доступные в
	<span class="application">FDisk</span>.</p><div class="figure"><a id="sysinstall-fdisk1"></a><div class="figure-title">Рисунок 2.14. Типичные разделы <code class="command">fdisk</code> перед
	  редактированием</div><div class="figure-contents"><div class="mediaobject"><img src="install/fdisk-edit1.png" alt="Типичные разделы fdisk перед редактированием" /></div></div></div><br class="figure-break" /><p>Ваши действия теперь будут зависеть от того, как вы хотите разбить
	диск на слайсы.</p><p>Если вы хотите использовать для FreeBSD весь диск (это приведет
	к удалению всех других данных на этом диске когда вы подтвердите
	<span class="application">sysinstall</span> продолжение процесса установки),
	нажмите <span class="keycap"><strong>A</strong></span>, что соответствует опции
	<span class="guimenuitem">Использовать весь диск (Use Entire Disk)</span>.
	Существующие слайсы будут удалены, и заменены на небольшую область,
	помеченную как <code class="literal">неиспользуемая (unused)</code>
	(это опять же артефакт разметки диска ПК), и один большой слайс для
	FreeBSD.  Когда вы сделаете это, нужно выбрать вновь созданный
	слайс FreeBSD используя клавиши навигации, а затем нажать
	<span class="keycap"><strong>S</strong></span>, чтобы сделать слайс загрузочным.  Экран будет
	похож на <a class="xref" href="install-steps.html#sysinstall-fdisk2" title="Рисунок 2.15. Разбиение в Fdisk с использованием всего диска">Рисунок 2.15, <<Разбиение в Fdisk с использованием всего диска>></a>.  Обратите внимание, что
	<code class="literal">A</code> в колонке <code class="literal">Flags</code> означает, что
	слайс <span class="emphasis"><em>активен</em></span> и с него будет происходить
	загрузка.</p><p>Если вы будете удалять существующий слайс для освобождения места
	под FreeBSD, выберите слайс, используя клавиши навигации, и нажмите
	<span class="keycap"><strong>D</strong></span>.  Затем можете нажать <span class="keycap"><strong>C</strong></span>,
	и получить приглашение на ввод размера слайса, который вы хотите
	создать.  Введите соответствующее значение и нажмите
	<span class="keycap"><strong>Enter</strong></span>.  Значение по умолчанию в этом поле
	означает наибольший размер слайса, который может быть выбран;
	это может быть наибольший непрерывный блок неразмеченного
	пространства или размер всего жесткого диска.</p><p>Если вы уже освободили место для FreeBSD, то
	можете нажать <span class="keycap"><strong>C</strong></span> для создания нового слайса.
	Будет также предложено ввести размер слайса, который вы
	хотите создать.</p><div class="figure"><a id="sysinstall-fdisk2"></a><div class="figure-title">Рисунок 2.15. Разбиение в Fdisk с использованием всего диска</div><div class="figure-contents"><div class="mediaobject"><img src="install/fdisk-edit2.png" alt="Разбиение в Fdisk с использованием всего диска" /></div></div></div><br class="figure-break" /><p>Когда закончите, нажмите <span class="keycap"><strong>Q</strong></span>.  Изменения будут
	сохранены в <span class="application">sysinstall</span>, но еще не
	записаны на диск.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="bootmgr"></a>2.6.3. Установка менеджера загрузки (Boot Manager)</h3></div></div></div><p>Теперь вам предлагается установить менеджер загрузки.  Как
	правило, нужно выбрать установку менеджера загрузки если:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>У вас больше чем один диск и вы устанавливаете FreeBSD не на
	    первый диск.</p></li><li class="listitem"><p>Вы устанавливаете FreeBSD вместе с другой операционной
	    на один и тот же диск, и хотите выбирать при загрузке FreeBSD
	    или другую операционную систему.</p></li></ul></div><p>Если FreeBSD единственная операционная система, установленная
	на этом компьютере, и находится на первом жестком диске,
	подойдет менеджер загрузки <span class="guimenuitem">Standard</span>.
	Выберите <span class="guimenuitem">None</span> если вы используете
	менеджер загрузки сторонних разработчиков, способный загрузить
	FreeBSD.</p><p>Сделайте выбор и нажмите <span class="keycap"><strong>Enter</strong></span>.</p><div class="figure"><a id="sysinstall-bootmgr"></a><div class="figure-title">Рисунок 2.16. Меню менеджера загрузки Sysinstall</div><div class="figure-contents"><div class="mediaobject"><img src="install/boot-mgr.png" alt="Меню менеджера загрузки Sysinstall" /></div></div></div><br class="figure-break" /><p>Экран подсказки, вызываемый по нажатию <span class="keycap"><strong>F1</strong></span>,
	описывает проблемы, которые могут быть встречены при попытке
	совместного использования диска операционными системами.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp76445008"></a>2.6.4. Создание слайсов на другом диске</h3></div></div></div><p>Если дисков больше чем один, вернитесь к экрану выбора дисков
	(Select Drives) после выбора менеджера загрузки.  Если вы собираетесь
	устанавливать FreeBSD более чем на один диск, можете выбрать другой
	диск и повторить процесс разбиения на слайсы с использованием
	<span class="application">FDisk</span>.</p><div xmlns="" class="important"><h3 class="admontitle">Важно: </h3><p xmlns="http://www.w3.org/1999/xhtml">Если вы устанавливаете FreeBSD не на первый жесткий диск,
	  потребуется установить менеджер загрузки FreeBSD на оба
	  диска.</p></div><div class="figure"><a id="sysinstall-fdisk-drive2"></a><div class="figure-title">Рисунок 2.17. Выход из выбора диска</div><div class="figure-contents"><div class="mediaobject"><img src="install/fdisk-drive2.png" alt="Выход из выбора диска" /></div></div></div><br class="figure-break" /><p>Клавиша <span class="keycap"><strong>Tab</strong></span> переключает между последним выбранным
	диском, <span class="guibutton">[ OK ]</span>, и
	<span class="guibutton">[ Cancel ]</span>.</p><p>Нажмите <span class="keycap"><strong>Tab</strong></span> один раз для выбора
	<span class="guibutton">[ OK ]</span>, затем нажмите <span class="keycap"><strong>Enter</strong></span>
	для продолжения установки.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="bsdlabeleditor"></a>2.6.5. Создание разделов с помощью
	<span class="application">Disklabel</span></h3></div></div></div><p>Теперь вы должны создать несколько разделов внутри каждого только
	что созданного слайса.  Запомните, что у каждого раздела есть буква с
	<code class="literal">a</code> до <code class="literal">h</code>, а
	разделы <code class="literal">b</code>, <code class="literal">c</code>, и
	<code class="literal">d</code> имеют соглашения, которых вы должны
	придерживаться.</p><p>Некоторые приложения могут выигрывать от определенных схем
	разделов, особенно если у вас разделы на более чем одном диске.
	Тем не менее, для вашей первой установки FreeBSD не нужно
	слишком углубляться в принципы разбиения диска.  Более важно
	установить FreeBSD и начать ее использовать.  Вы всегда можете
	переустановить FreeBSD для изменения схемы разделов, когда поближе
	познакомитесь с операционной системой.</p><p>Эта схема показывает четыре раздела - один для подкачки и
	три для файловых систем.</p><div class="table"><a id="idp76460752"></a><div class="table-title">Таблица 2.2. Планирование разделов для первого диска</div><div class="table-contents"><table summary="Планирование разделов для первого диска" width="100%" border="0"><colgroup><col /><col /><col /><col /></colgroup><thead><tr><th>Раздел</th><th>Файловая система</th><th>Размер</th><th>Описание</th></tr></thead><tbody><tr><td><code class="literal">a</code></td><td><code class="filename">/</code></td><td>1 GB</td><td>Корневая файловая система.  Любая другая файловая
		система будет смонтирована на эту.  1 GB это подходящий
		размер для этой файловой системы.  Вы не будете хранить на
		ней слишком много данных, а обычная установка FreeBSD
		разместит здесь около 128 MB данных.  Оставшееся
		пространство используется для временных файлов, а также
		оставляет возможность расширения для будущих версий FreeBSD,
		которым может понадобится больше места в
		<code class="filename">/</code>.</td></tr><tr><td><code class="literal">b</code></td><td>N/A</td><td>2-3 x RAM</td><td><p>Раздел подкачки находится на разделе
		  <code class="literal">b</code>.  Выбор правильного
		  размера раздела подкачки это немного искусство.  Хороший
		  практический способ выбрать размер подкачки это установить
		  его равным двум или трем размерам доступной физической
		  памяти (RAM).  Должно быть хотя бы 64 MB подкачки;
		  если в компьютере меньше чем 32 MB памяти -
		  установите размер подкачки равным 64 MB.</p>

		<p>Если у вас больше одного диска, можно расположить подкачку
		  на каждом диске.  FreeBSD будет использовать каждый диск,
		  что серьезно увеличит скорость подкачки.  В этом
		  случае, определите общий размер подкачки, который вам нужен
		  (например, 128 MB),
		  и поделите его на число имеющихся дисков (например, два)
		  для определения размера разделов подкачки, которые нужно
		  разместить на каждом вашем диске, в этом примере 64 MB на
		  диск.</p></td></tr><tr><td><code class="literal">e</code></td><td><code class="filename">/var</code></td><td>512 MB</td><td>Каталог <code class="filename">/var</code> содержит файлы, которые
		постоянно меняются; логи и другие административные файлы.
		Многие из этих файлов интенсивно читаются и записываются
		в процессе ежедневной работы FreeBSD.  Размещение их
		на отдельной файловой системе позволяет FreeBSD
		оптимизировать доступ к этим файлам без затрагивания
		других каталогов, не имеющих такой же модели доступа.</td></tr><tr><td><code class="literal">f</code></td><td><code class="filename">/usr</code></td><td>Остальная часть диска (по крайней мере -
		8 GB)</td><td>Все другие файлы как правило хранятся в каталоге
		<code class="filename">/usr</code> и его подкаталогах.</td></tr></tbody></table></div></div><br class="table-break" /><div xmlns="" class="warning"><h3 class="admontitle">Предупреждение: </h3><p xmlns="http://www.w3.org/1999/xhtml">Значения, приведённые выше, являются примерными и уместны
	  к использованию лишь опытными пользователями.  Остальным -
	  рекомендуется применять опцию автоматического разбиения, называемую
	  <code class="literal">Auto Defaults</code> в редакторе разделов FreeBSD.</p></div><p>Если вы устанавливаете FreeBSD более чем на один диск, вы
	должны также создать разделы в других слайсах, которые
	настроили.  Простейший путь сделать это - создать два раздела
	на каждом диске, один для подкачки, а другой для файловой
	системы.</p><div class="table"><a id="idp76483024"></a><div class="table-title">Таблица 2.3. Разметка разделов для остальных дисков</div><div class="table-contents"><table summary="Разметка разделов для остальных дисков" width="100%" border="0"><colgroup><col /><col /><col /><col /></colgroup><thead><tr><th>Раздел</th><th>Файловая система</th><th>Размер</th><th>Описание</th></tr></thead><tbody><tr><td><code class="literal">b</code></td><td>N/A</td><td>Смотрите описание</td><td>Как уже обсуждалось, вы можете распространить подкачку
		на каждый диск.  Даже если раздел <code class="literal">a</code>
		свободен, соглашение говорит о том, что подкачка находится
		на разделе <code class="literal">b</code>.</td></tr><tr><td><code class="literal">e</code></td><td>/disk<em class="replaceable"><code>n</code></em></td><td>Остальная часть диска</td><td>Остальная часть диска занята одним большим разделом.
		Он легко может быть помещен на раздел <code class="literal">a</code>
		вместо раздела <code class="literal">e</code>.  Однако, соглашение
		говорит, что раздел <code class="literal">a</code> зарезервирован на
		слайсе для корневой (<code class="filename">/</code>) файловой системы.
		вы можете не следовать этому соглашению, но программа
		<span class="application">sysinstall</span> будет ему следовать,
		поэтому приняв его, вы сделаете установку несколько проще.
		Вы можете монтировать эти файловые системы к любой точке; в
		этом примере предлагается смонтировать их как каталоги
		<code class="filename">/disk<em class="replaceable"><code>n</code></em></code>, где
		<em class="replaceable"><code>n</code></em> это номер, который уникален для
		каждого диска.  Но вы можете использовать другую схему, если
		захотите.</td></tr></tbody></table></div></div><br class="table-break" /><p> Теперь, выбрав разметку разделов, можете приступить к их
	созданию в <span class="application">sysinstall</span>.  Вы увидите
	это сообщение:</p><pre class="screen">                                 Message
 Now, you need to create BSD partitions inside of the fdisk
 partition(s) just created. If you have a reasonable amount of disk
 space (1 GB or more) and don't have any special requirements, simply
 use the (A)uto command to allocate space automatically. If you have
 more specific needs or just don't care for the layout chosen by
 (A)uto, press F1 for more information on manual layout.

                                [  OK  ]
                          [ Press enter or space ]</pre><p>Нажмите <span class="keycap"><strong>Enter</strong></span> для запуска редактора разделов
	FreeBSD, называемого <span class="application">Disklabel</span>.</p><p><a class="xref" href="install-steps.html#sysinstall-label" title="Рисунок 2.18. Редактор Sysinstall Disklabel">Рисунок 2.18, <<Редактор Sysinstall Disklabel>></a> показывает экран только что
	запущенного <span class="application">Disklabel</span>.  Экран поделен
	на три раздела.</p><p>Первые несколько линий показывают имя диска, с которым вы сейчас
	работаете и слайс, содержащий раздел, который вы создаете (здесь
	<span class="application">Disklabel</span> называет это
	<code class="literal">именем раздела (Partition name)</code> вместо имени
	слайса).  Этот экран также показывает объем свободного пространства на
	слайсе, т.е. пространство, выделенное под слайс, но еще не отданное
	под раздел.</p><p>В центре экрана показаны уже созданные разделы, имена файловых
	систем, содержащихся в разделах, их размер и некоторые опции,
	применяемые при создания файловых систем.</p><p>Нижняя треть экрана показывает управляющие клавиши, работающие в
	<span class="application">Disklabel</span>.</p><div class="figure"><a id="sysinstall-label"></a><div class="figure-title">Рисунок 2.18. Редактор Sysinstall Disklabel</div><div class="figure-contents"><div class="mediaobject"><img src="install/disklabel-ed1.png" alt="Редактор Sysinstall Disklabel" /></div></div></div><br class="figure-break" /><p><span class="application">Disklabel</span> может автоматически создать
	разделы и присвоить им размеры по умолчанию.  Значения размеров
	по умолчанию вычисляются с помощью внутреннего алгоритма, исходя
	из емкости диска.  Попробуйте это, нажав
	<span class="keycap"><strong>A</strong></span>.  Вы увидите экран как на
	<a class="xref" href="install-steps.html#sysinstall-label2" title="Рисунок 2.19. Редактор Sysinstall Disklabel с установками по умолчанию">Рисунок 2.19, <<Редактор Sysinstall Disklabel с установками по умолчанию>></a>.  В зависимости от размера диска,
	значения по умолчанию могут подходить или
	не подходить вам.  Это не имеет значения, если вы не принимаете
	их.</p><div xmlns="" class="note"><h3 class="admontitle">Примечание: </h3><p xmlns="http://www.w3.org/1999/xhtml">По умолчанию под каталог
	    <code class="filename">/tmp</code> выделяется собственный раздел вместо
	    использования части раздела <code class="filename">/</code>.  Это
	    помогает избежать заполнения раздела <code class="filename">/</code>
	    временными файлами.</p></div><div class="figure"><a id="sysinstall-label2"></a><div class="figure-title">Рисунок 2.19. Редактор Sysinstall Disklabel с установками по умолчанию</div><div class="figure-contents"><div class="mediaobject"><img src="install/disklabel-auto.png" alt="Редактор Sysinstall Disklabel с установками по умолчанию" /></div></div></div><br class="figure-break" /><p>Если вы решили не использовать разделы по умолчанию и
	заменить их на свои,
	используйте клавиши навигации для выбора первого раздела, затем
	нажмите <span class="keycap"><strong>D</strong></span> для его удаления.  Повторите это для
	удаления всех предложенных разделов.</p><p>Для создания первого раздела (<code class="literal">a</code>, монтируемого
	как <code class="filename">/</code> - root), убедитесь, что выбран
	соответствующий слайс
	вверху экрана и нажмите <span class="keycap"><strong>C</strong></span>.  Появится диалог,
	предлагающий выбрать размер нового раздела (как показано на
	<a class="xref" href="install-steps.html#sysinstall-label-add" title="Рисунок 2.20. Свободное место для корневого раздела">Рисунок 2.20, <<Свободное место для корневого раздела>></a>).  Вы можете ввести количество
	блоков диска, или количество мегабайт с
	<code class="literal">M</code> после номера, или гигабайт с
	<code class="literal">G</code>, или цилиндров с <code class="literal">C</code>.</p><div class="figure"><a id="sysinstall-label-add"></a><div class="figure-title">Рисунок 2.20. Свободное место для корневого раздела</div><div class="figure-contents"><div class="mediaobject"><img src="install/disklabel-root1.png" alt="Свободное место для корневого раздела" /></div></div></div><br class="figure-break" /><p>Размер по умолчанию задан для создания корневого раздела на
	весь слайс.  Если вы используете размеры разделов, описанные ранее в примере,
	удалите это значение используя <span class="keycap"><strong>Backspace</strong></span>,
	а затем введите <strong class="userinput"><code>512M</code></strong>, как показано на
	<a class="xref" href="install-steps.html#sysinstall-label-add2" title="Рисунок 2.21. Редактирование размера корневого раздела">Рисунок 2.21, <<Редактирование размера корневого раздела>></a>.  Затем нажмите
	<span class="guibutton">[ OK ]</span>.</p><div class="figure"><a id="sysinstall-label-add2"></a><div class="figure-title">Рисунок 2.21. Редактирование размера корневого раздела</div><div class="figure-contents"><div class="mediaobject"><img src="install/disklabel-root2.png" alt="Редактирование размера корневого раздела" /></div></div></div><br class="figure-break" /><p>После указания размера раздела вам будет задан вопрос, должен ли
	этот раздел содержать файловую систему или раздел подкачки.  Диалог
	показан на <a class="xref" href="install-steps.html#sysinstall-label-type" title="Рисунок 2.22. Выбор типа корневого раздела">Рисунок 2.22, <<Выбор типа корневого раздела>></a>.  Первый раздел
	будет содержать файловую систему, поэтому проверьте, что выбрана
	<span class="guimenuitem">FS</span> и нажмите
	<span class="keycap"><strong>Enter</strong></span>.</p><div class="figure"><a id="sysinstall-label-type"></a><div class="figure-title">Рисунок 2.22. Выбор типа корневого раздела</div><div class="figure-contents"><div class="mediaobject"><img src="install/disklabel-fs.png" alt="Выбор типа корневого раздела" /></div></div></div><br class="figure-break" /><p>Наконец, поскольку вы создаете файловую систему, нужно сказать
	<span class="application">Disklabel</span> где файловая система будет
	смонтирована.  Диалог показан на
	<a class="xref" href="install-steps.html#sysinstall-label-mount" title="Рисунок 2.23. Выбор точки монтирования корневой файловой системы">Рисунок 2.23, <<Выбор точки монтирования корневой файловой системы>></a>.  Точка монтирования
	корневой файловой системы <code class="filename">/</code>, поэтому введите
	<strong class="userinput"><code>/</code></strong>, и нажмите <span class="keycap"><strong>Enter</strong></span>.</p><div class="figure"><a id="sysinstall-label-mount"></a><div class="figure-title">Рисунок 2.23. Выбор точки монтирования корневой файловой системы</div><div class="figure-contents"><div class="mediaobject"><img src="install/disklabel-root3.png" alt="Выбор точки монтирования корневой файловой системы" /></div></div></div><br class="figure-break" /><p>На экране будет показан вновь созданный раздел.  Вам нужно
	повторить эту процедуру для других разделов.  При создании
	раздела подкачки вопроса про точку монтирования не будет,
	поскольку раздел подкачки никогда не монтируется.  Когда будете
	создавать последний раздел, <code class="filename">/usr</code>, можете оставить
	предложенный размер как есть, чтобы использовать весь остаток
	слайса.</p><p>Последний экран FreeBSD редактора DiskLabel будет похож на
	<a class="xref" href="install-steps.html#sysinstall-label4" title="Рисунок 2.24. Редактор Sysinstall Disklabel">Рисунок 2.24, <<Редактор Sysinstall Disklabel>></a>, хотя ваш выбор значений может
	быть другим.  Нажмите <span class="keycap"><strong>Q</strong></span>, чтобы выйти.</p><div class="figure"><a id="sysinstall-label4"></a><div class="figure-title">Рисунок 2.24. Редактор Sysinstall Disklabel</div><div class="figure-contents"><div class="mediaobject"><img src="install/disklabel-ed2.png" alt="Редактор Sysinstall Disklabel" /></div></div></div><br class="figure-break" /></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="using-sysinstall.html">Пред.</a> </td><td width="20%" align="center"><a accesskey="u" href="install.html">Наверх</a></td><td width="40%" align="right"> <a accesskey="n" href="install-choosing.html">След.</a></td></tr><tr><td width="40%" align="left" valign="top">2.5. Введение в Sysinstall </td><td width="20%" align="center"><a accesskey="h" href="index.html">Начало</a></td><td width="40%" align="right" valign="top"> 2.7. Выбор устанавливаемых компонентов</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Этот, и другие документы, могут быть скачаны с
    <a href="http://ftp.FreeBSD.org/pub/FreeBSD/doc/">http://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>.</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>По вопросам, связанным с FreeBSD, прочитайте
    <a href="http://www.FreeBSD.org/ru/docs.html">документацию</a> прежде чем писать в
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    По вопросам, связанным с этой документацией, пишите в рассылку
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.<br></br></small></p></body></html>