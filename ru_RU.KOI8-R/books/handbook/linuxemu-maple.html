<?xml version="1.0" encoding="koi8-r" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=koi8-r" /><title>11.4. Установка MapleTM</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Руководство FreeBSD" /><link rel="up" href="linuxemu.html" title="Глава 11. Двоичная совместимость с Linux" /><link rel="prev" href="linuxemu-mathematica.html" title="11.3. Установка Mathematica(R)" /><link rel="next" href="linuxemu-matlab.html" title="11.5. Установка MATLAB(R)" /><link rel="copyright" href="legalnotice.html" title="Юридическое уведомление" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">11.4. Установка <span class="trademark">Maple</span>TM</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="linuxemu-mathematica.html">Пред.</a> </td><th width="60%" align="center">Глава 11. Двоичная совместимость с Linux</th><td width="20%" align="right"> <a accesskey="n" href="linuxemu-matlab.html">След.</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="linuxemu-maple"></a>11.4. Установка <span class="trademark">Maple</span>TM</h2></div><div><span class="authorgroup">Предоставил <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Aaron</span> <span class="surname">Kaplan</span></span>. </span></div><div><span class="authorgroup">Благодарности: <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Robert</span> <span class="surname">Getschmann</span></span>. </span></div></div></div><a id="idp85135952" class="indexterm"></a><p><span class="application"><span class="trademark">Maple</span>TM</span> - коммерческая
      математическая программа, аналогичная
      <span class="application"><span class="trademark">Mathematica</span>(R)</span>.  Это программное обеспечение
      надо купить у <code class="uri"><a class="uri" href="http://www.maplesoft.com/" target="_top">http://www.maplesoft.com/</a></code>, а потом
      зарегистрироваться там для получения файла лицензии.  Для установки
      этого программного обеспечения в ОС FreeBSD используется следующая
      последовательность простых шагов.</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Выполните скрипт командного интерпретатора
	  <code class="filename">INSTALL</code> из дистрибутива.  Выберите
	  опцию <span class="quote"><<<span class="quote">RedHat</span>>></span>, когда будет предложено программой
	  установки.  Обычно установка выполняется в каталог <code class="filename">/usr/local/maple</code>.</p></li><li class="step"><p>Если вы этого ещё не сделали, купите лицензию на
	  <span class="application"><span class="trademark">Maple</span>TM</span> в компании Maple Waterloo
	  Software (<code class="uri"><a class="uri" href="http://register.maplesoft.com/" target="_top">http://register.maplesoft.com/</a></code>)
	  и скопируйте ее в файл
	  <code class="filename">/usr/local/maple/license/license.dat</code>.</p></li><li class="step"><p>Установите диспетчер лицензий
	  <span class="application">FLEXlm</span>, выполнив скрипт установки
	  <code class="filename">INSTALL_LIC</code>, входящий в состав
	  <span class="application"><span class="trademark">Maple</span>TM</span>.  Укажите основное имя хоста
	  вашей машины для сервера лицензий.</p></li><li class="step"><p>Исправьте файл
	  <code class="filename">/usr/local/maple/bin/maple.system.type</code>
	  с помощью следующего патча:</p><pre class="programlisting">   ----- snip ------------------
*** maple.system.type.orig      Sun Jul  8 16:35:33 2001
--- maple.system.type   Sun Jul  8 16:35:51 2001
***************
*** 72,77 ****
--- 72,78 ----
          # the IBM RS/6000 AIX case
          MAPLE_BIN="bin.IBM_RISC_UNIX"
          ;;
+     "FreeBSD"|\
      "Linux")
          # the Linux/x86 case
        # We have two Linux implementations, one for Red Hat and
   ----- snip end of patch -----</pre><p>Учтите, что после <code class="literal">"FreeBSD"|\</code> не должно
	  быть никаких пробелов.</p><p>Этот патч заставляет <span class="application"><span class="trademark">Maple</span>TM</span>
	  распознавать <span class="quote"><<<span class="quote">FreeBSD</span>>></span> как тип Linux-системы.
	  Скрипт командного интерпретатора <code class="filename">bin/maple</code>
	  вызывает скрипт <code class="filename">bin/maple.system.type</code>,
	  который, в свою очередь, вызывает <code class="command">uname -a</code> для
	  получения имени операционной системы. В зависимости от имени ОС
	  он определяет, какие двоичные модули использовать.</p></li><li class="step"><p>Запустите сервер лицензий.</p><p>Следующий скрипт, установленный в файл
	  <code class="filename">/usr/local/etc/rc.d/lmgrd.sh</code>, обеспечивает
	  удобный способ запуска <code class="command">lmgrd</code>:</p><pre class="programlisting">   ----- snip ------------

#! /bin/sh
PATH=/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin:/usr/X11R6/bin
PATH=${PATH}:/usr/local/maple/bin:/usr/local/maple/FLEXlm/UNIX/LINUX
export PATH

LICENSE_FILE=/usr/local/maple/license/license.dat
LOG=/var/log/lmgrd.log

case "$1" in
start)
        lmgrd -c ${LICENSE_FILE} 2&gt;&gt; ${LOG} 1&gt;&amp;2
        echo -n " lmgrd"
        ;;
stop)
        lmgrd -c ${LICENSE_FILE} -x lmdown 2&gt;&gt; ${LOG} 1&gt;&amp;2
        ;;
*)
        echo "Usage: `basename $0` {start|stop}" 1&gt;&amp;2
        exit 64
        ;;
esac

exit 0
   ----- snip ------------</pre></li><li class="step"><p>Выполните тестовый запуск
	<span class="application"><span class="trademark">Maple</span>TM</span>:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>cd /usr/local/maple/bin</code></strong>
<code class="prompt">%</code> <strong class="userinput"><code>./xmaple</code></strong></pre><p>Программа должна запуститься и работать.  Не забудьте написать
	  в Maplesoft и сообщить, что хотели бы видеть версию специально
	  для FreeBSD!</p></li></ol></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp85159120"></a>11.4.1. Типичные проблемы</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Работать с диспетчером лицензий
	  <span class="application">FLEXlm</span> может быть непросто.
	  Дополнительную документацию по нему можно найти на сайте <code class="uri"><a class="uri" href="http://www.globetrotter.com/" target="_top">http://www.globetrotter.com/</a></code>.</p></li><li class="listitem"><p><code class="command">lmgrd</code> очень требователен к
	  файлу лицензии и выдает дамп памяти при выявлении любых проблем.
	  Правильный файл лицензии должен иметь следующий вид:</p><pre class="programlisting"># =======================================================
# License File for UNIX Installations ("Pointer File")
# =======================================================
SERVER chillig ANY
#USE_SERVER
VENDOR maplelmg

FEATURE Maple maplelmg 2000.0831 permanent 1 XXXXXXXXXXXX \
         PLATFORMS=i86_r ISSUER="Waterloo Maple Inc." \
         ISSUED=11-may-2000 NOTICE=" Technische Universitat Wien" \
         SN=XXXXXXXXX</pre><div xmlns="" class="note"><h3 class="admontitle">Примечание: </h3><p xmlns="http://www.w3.org/1999/xhtml">Серийный номер и ключ забиты символами 'X'.
	    <code class="systemitem">chillig</code> - имя хоста.</p></div><p>Редактирование файла лицензий возможно, если только не
	    трогать строку <span class="quote"><<<span class="quote">FEATURE</span>>></span> (которая защищена
	    лицензионным ключом).</p></li></ul></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="linuxemu-mathematica.html">Пред.</a> </td><td width="20%" align="center"><a accesskey="u" href="linuxemu.html">Наверх</a></td><td width="40%" align="right"> <a accesskey="n" href="linuxemu-matlab.html">След.</a></td></tr><tr><td width="40%" align="left" valign="top">11.3. Установка <span class="trademark">Mathematica</span>(R) </td><td width="20%" align="center"><a accesskey="h" href="index.html">Начало</a></td><td width="40%" align="right" valign="top"> 11.5. Установка <span class="trademark">MATLAB</span>(R)</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Этот, и другие документы, могут быть скачаны с
    <a href="http://ftp.FreeBSD.org/pub/FreeBSD/doc/">http://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>.</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>По вопросам, связанным с FreeBSD, прочитайте
    <a href="http://www.FreeBSD.org/ru/docs.html">документацию</a> прежде чем писать в
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    По вопросам, связанным с этой документацией, пишите в рассылку
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.<br></br></small></p></body></html>