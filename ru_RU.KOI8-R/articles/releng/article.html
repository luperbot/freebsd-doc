<?xml version="1.0" encoding="koi8-r"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=koi8-r" /><title>Подготовка релизов FreeBSD</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><meta name="description" content="В этой статье описывается подход, который используется группой подготовки релизов FreeBSD для создания качественных версий Операционной Системы FreeBSD. В ней детально описывается методология, используемая для официальных релизов FreeBSD и рассказывается об инструментах, доступных тем, кто интересуется созданием модифицированных релизов FreeBSD для тиражирования внутри организации или в коммерческих целях." /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div xml:lang="ru" class="article" lang="ru"><div xmlns="" class="titlepage"><div><div><h1 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp68653392"></a>Подготовка релизов FreeBSD</h1></div><div><div xmlns="http://www.w3.org/1999/xhtml" class="authorgroup"><div class="author"><h3 class="author"><span class="firstname">Murray</span> <span class="surname">Stokely</span></h3><div class="affiliation"><div class="address"><p><br />
	    <code class="email">&lt;<a xmlns="" class="email" href="mailto:murray@FreeBSD.org">murray@FreeBSD.org</a>&gt;</code><br />
<br />
	    <span class="otheraddr"><a class="otheraddr" href="http://www.FreeBSD.org/~murray/" target="_top">http://www.FreeBSD.org/~murray/</a></span><br />
	  </p></div></div></div></div></div><div>Издание: <a href="https://svnweb.freebsd.org/changeset/doc/"><span class="svnref"></span></a></div><div><div xmlns="http://www.w3.org/1999/xhtml" class="legalnotice"><a id="trademarks"></a><p>FreeBSD это зарегистрированная торговая
  марка FreeBSD Foundation.</p><p>CVSup это зарегистрированная торговая
  марка John D. Polstra.</p><p>Intel, Celeron, EtherExpress, i386,
  i486, Itanium, Pentium и Xeon это торговые марки или зарегистрированные
  торговые марки Intel Corporation или ее дочерних компаний в Соединенных
  Штатах и других странах.</p><p>Многие из обозначений, используемые
  производителями и продавцами для обозначения своих продуктов, заявляются
  в качестве торговых марок.  Когда такие обозначения появляются в этом
  документе, и Проекту FreeBSD известно о торговой марке, к обозначению
  добавляется знак <span class="quote"><<<span class="quote">TM</span>>></span> или
  <span class="quote"><<<span class="quote">(R)</span>>></span>.</p></div></div><div>    .</div><div><div xmlns="http://www.w3.org/1999/xhtml" class="abstract"><div class="abstract-title">Аннотация</div><p>В этой статье описывается подход, который используется группой
	подготовки релизов FreeBSD для создания качественных версий
	Операционной Системы FreeBSD.  В ней детально описывается методология,
	используемая для официальных релизов FreeBSD и рассказывается об
	инструментах, доступных тем, кто интересуется созданием
	модифицированных релизов FreeBSD для тиражирования внутри организации
	или в коммерческих целях.</p></div></div></div><hr /></div><div class="toc"><div class="toc-title">Содержание</div><dl class="toc"><dt><span class="sect1"><a href="#introduction">1. Введение</a></span></dt><dt><span class="sect1"><a href="#release-proc">2. Процесс выпуска релиза</a></span></dt><dt><span class="sect1"><a href="#release-build">3. Построение релизов</a></span></dt><dt><span class="sect1"><a href="#distribution">4. Распространение</a></span></dt><dt><span class="sect1"><a href="#extensibility">5. Расширяемость</a></span></dt><dt><span class="sect1"><a href="#lessons-learned">6. Уроки, извлечённые из FreeBSD 4.4</a></span></dt><dt><span class="sect1"><a href="#future">7. Направления будущих работ</a></span></dt><dt><span class="sect1"><a href="#ackno">8. Благодарности</a></span></dt><dt><span class="sect1"><a href="#biblio">9. Справочная литература</a></span></dt></dl></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="introduction"></a>1. Введение</h2></div></div></div><p>Разработка FreeBSD представляет собой весьма открытый процесс.
      FreeBSD составляется в результате общих усилий тысяч людей по всему миру.
      Проект FreeBSD предоставляет анонимный публичный доступ по протоколу
      <acronym class="acronym">CVS</acronym>[1], так что любой может получить доступ к журналу
      изменений, разницам (патчам) между ветками разработки и другим
      продвинутым возможностям, которые даёт строгое управление исходным кодом.
      Это сильно помогает в привлечении к FreeBSD всё большего количества
      талантливых разработчиков.  Однако, и я думаю, что все со мной
      согласятся, наступит хаос, если доступ по записи будет открыт всем в
      Internet.  Поэтому только <span class="quote"><<<span class="quote">избранная</span>>></span> группа примерно из
      300 человек имеет доступ по записи в <acronym class="acronym">CVS</acronym>-хранилище.
      Эти <span class="emphasis"><em>коммиттеры[5]</em></span> отвечают в целом за разработку
      FreeBSD.  Выбираемая из самых заслуженных разработчиков <span class="emphasis"><em>группа
      правления[6]</em></span> обеспечивает некоторый уровень управления
      проектом.</p><p>Темп разработок, ведущихся во <code class="systemitem">FreeBSD</code>, оставляет мало времени на тщательную
      доводку системы до качества продуктивного релиза.  Для решения этой
      проблемы разработка ведётся в два параллельных потока.  Основной веткой
      разработки является <span class="emphasis"><em>HEAD</em></span>, она же <span class="emphasis"><em>основная
      линия</em></span> нашего дерева CVS, известная также под именем
      <span class="quote"><<<span class="quote">FreeBSD-CURRENT</span>>></span> или, для краткости,
      <span class="quote"><<<span class="quote">-CURRENT</span>>></span>.</p><p>Поддерживается и более стабильная ветка, известная как
      <span class="quote"><<<span class="quote">FreeBSD-STABLE</span>>></span> или, для краткости, <span class="quote"><<<span class="quote">-STABLE</span>>></span>.
      Обе ветки находятся в основном CVS-хранилище в Калифорнии и реплицируются
      при помощи <span class="application">CVSup</span>[2] на
      зеркала по всему миру.  FreeBSD-CURRENT[7] является <span class="quote"><<<span class="quote">передним
      краем</span>>></span> работ над FreeBSD, через который попадают все изменения в
      системе.  FreeBSD-STABLE является веткой разработки, из которой создаются
      основные релизы.  В эту ветку изменения попадают разными путями, и
      предполагается, что сначала они попали в FreeBSD-CURRENT, где были
      тщательно протестированы сообществом наших пользователей.</p><p>В промежутке между релизами машинами Проекта FreeBSD, выделенными для
      построения системы, ежемесячно автоматически собираются снэпшоты,
      которые доступны для закачки по адресу <code class="systemitem">ftp://ftp.freebsd.org/pub/FreeBSD/snapshots/</code>.
      Общедоступность
      снэпшотов бинарных релизов, а также желание сообщества наших
      пользователей отслеживать работу над -STABLE при помощи CVSup и
      <span class="quote"><<<span class="quote"><code class="command">make</code> <code class="buildtarget">world</code></span>>></span>[7]
      помогает поддержать весьма хорошее качество FreeBSD-STABLE, даже до
      выполнения мероприятий проверки качества, предваряющих выпуск основных
      релизов.</p><p>В процессе выпуска релиза пользователи постоянно присылают сообщения
      об ошибках и пожелания по расширению функциональности.  Сообщения о
      проблемах попадают в нашу базу данных <span class="application">GNATS</span>[8] по электронной почте, посредством
      утилиты <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=send-pr&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">send-pr</span>(1)</span></a> или через Web-интерфейс, доступный по адресу
      <code class="uri"><a class="uri" href="http://www.FreeBSD.org/send-pr.html" target="_top">http://www.FreeBSD.org/send-pr.html</a></code>.</p><p>Для удовлетворения наших самых консервативно настроенных
      пользователей, начиная с FreeBSD 4.3, появились ветки для отдельных
      релизов.  Эти ветки создаются вскоре после того, как выпускается
      окончательный релиз.  После его выхода в ветку релиза помещаются только
      самые критичные исправления и добавления, касающиеся безопасности.  Кроме
      обновлений исходных текстов посредством CVS, для систем веток
      <span class="emphasis"><em>RELENG_<em class="replaceable"><code>X</code></em>_<em class="replaceable"><code>Y</code></em></em></span>
      имеются и бинарные наборы патчей.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp70161360"></a>1.1. Что обсуждается в данном документе?</h3></div></div></div><p>В последующих главах этой статьи обсуждаются:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><a class="xref" href="#release-proc" title="2. Процесс выпуска релиза">Раздел 2, <<Процесс выпуска релиза>></a></span></dt><dd><p>Различные этапы процесса подготовки релиза вплоть до
	      построения актуальной системы.</p></dd><dt><span class="term"><a class="xref" href="#release-build" title="3. Построение релизов">Раздел 3, <<Построение релизов>></a></span></dt><dd><p>Процесс сборки.</p></dd><dt><span class="term"><a class="xref" href="#extensibility" title="5. Расширяемость">Раздел 5, <<Расширяемость>></a></span></dt><dd><p>Как базовый релиз может быть расширен
	       третьими сторонами.</p></dd><dt><span class="term"><a class="xref" href="#lessons-learned" title="6. Уроки, извлечённые из FreeBSD 4.4">Раздел 6, <<Уроки, извлечённые из FreeBSD 4.4>></a></span></dt><dd><p>Некоторые из уроков, полученных при выпуске релиза
	      FreeBSD 4.4.</p></dd><dt><span class="term"><a class="xref" href="#future" title="7. Направления будущих работ">Раздел 7, <<Направления будущих работ>></a></span></dt><dd><p>Направления будущих работ.</p></dd></dl></div></div></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="release-proc"></a>2. Процесс выпуска релиза</h2></div></div></div><p>Новые релизы FreeBSD выпускаются из ветки -STABLE с интервалом
      примерно в четыре месяца.  Процесс выпуска релизов FreeBSD начинается за
      45 дней до предполагаемой даты релиза с того, что ответственный за релиз
      посылает сообщение по электронной почте в адрес списков рассылки для
      разработчиков, чтобы напомнить последним о наличии всего лишь 15 дней на
      внесение новых изменений до момента заморозки кода.  В этот период многие
      разработчики выполняют действия, известные как
      <span class="quote"><<<span class="quote">MFC-переносы</span>>></span>.  <acronym class="acronym">MFC</acronym> означает
      <span class="quote"><<<span class="quote">Merge From CURRENT</span>>></span> (перенос из CURRENT) и описывает
      процесс переноса протестированных изменений из нашего дерева разработки
      -CURRENT в наше дерево -STABLE.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp70201040"></a>2.1. Просмотр кода</h3></div></div></div><p>За тридцать дней до предполагаемого релиза хранилище исходных
	текстов переводится в режим <span class="quote"><<<span class="quote">стабилизации кода</span>>></span>.  В этот
	период все изменения в дереве -STABLE должны подтверждаться Группа Выпуска Релизов FreeBSD <code class="email">&lt;<a xmlns="" class="email" href="mailto:re@FreeBSD.org">re@FreeBSD.org</a>&gt;</code>.
	В первый 15-дневный период разрешены следующие типы изменений:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Исправления ошибок.</p></li><li class="listitem"><p>Обновление документации.</p></li><li class="listitem"><p>Исправления любого характера, касающиеся безопасности.</p></li><li class="listitem"><p>Незначительные исправления в драйверах устройств, такие, как,
	    например, добавление новых ID устройств.</p></li><li class="listitem"><p>Любые другие изменения, которые одобряет группа подготовки
	    релиза, с учётом потенциального риска.</p></li></ul></div><p>После первых 15 дней стабилизации кода выпускается
	<span class="emphasis"><em>предварительный релиз</em></span>, предназначенный для широкого
	тестирования, а код переводится в состояние <span class="quote"><<<span class="quote">заморозки</span>>></span>,
	когда становится гораздо труднее доказывать необходимость внесения
	новых изменений в систему, если они не касаются исправления серьёзных
	ошибок или информационной безопасности.  Во время заморозки кода каждую
	неделю выпускается не менее одной предварительной версии релиза, до тех
	пор, пока не будет готов окончательный вариант релиза.  В дни,
	предшествующие выпуску окончательного релиза, группа его подготовки
	работает в постоянном контакте со службой безопасности и людьми,
	поддерживающими документацию и порты, чтобы обеспечить доступность всех
	компонентов, необходимых для успешного выпуска релиза.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp70231248"></a>2.2. Контрольный список для проверки окончательного релиза</h3></div></div></div><p>После того, как для широкого тестирования было выпущено несколько
	предварительных релизов и все основные проблемы были решены, может
	начаться процесс <span class="quote"><<<span class="quote">шлифовки</span>>></span> окончательного релиза.</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="rel-branch"></a>2.2.1. Создание ветки релиза</h4></div></div></div><p>Как сказано во вводной части, ветка
	  <code class="literal">RELENG_<em class="replaceable"><code>X</code></em>_<em class="replaceable"><code>Y</code></em></code>
	  является сравнительно новым добавлением в нашей методологии
	  подготовки релизов.  Первым шагом в создании этой ветки является
	  проверка того, что вы работаете с самой последней версией исходных
	  текстов <code class="literal">RELENG_<em class="replaceable"><code>X</code></em></code>, из
	  <span class="emphasis"><em>которой</em></span> вы хотите создать новую ветку.</p><pre class="screen">/usr/src<code class="prompt">#</code> <strong class="userinput"><code>cvs update -rRELENG_4 -P -d</code></strong></pre><p>Следующим шагом является создание <span class="emphasis"><em>тэга</em></span> точки
	  ответвления, чтобы диффы облегчили работу с началом ветки в CVS:</p><pre class="screen">/usr/src<code class="prompt">#</code> <strong class="userinput"><code>cvs rtag -rRELENG_4 RELENG_4_8_BP src</code></strong></pre><p>После этого создаётся тэг новой ветки по команде:</p><pre class="screen">/usr/src<code class="prompt">#</code> <strong class="userinput"><code>cvs rtag -b -rRELENG_4_8_BP RELENG_4_8 src</code></strong></pre><div xmlns="" class="note"><h3 class="admontitle">Примечание: </h3><p xmlns="http://www.w3.org/1999/xhtml"><span class="emphasis"><em>Использование тэгов
	    <code class="literal">RELENG_<em class="replaceable"><code>*</code></em></code> разрешено
	    только менеджерам CVS и участникам группы по выпуску
	    релизов.</em></span></p></div><div class="sidebar"><div xmlns="" class="titlepage"></div><p><span class="quote"><<<span class="quote"><span class="emphasis"><em>Тэгом</em></span></span>>></span> в понятии CVS
	    называют метку, которая идентифицирует исходный текст в некоторый
	    момент времени.  Вводя тэг в дерево, мы обеспечиваем то, что в
	    будущем тот, кто строит релиз, всегда сможет воспользоваться тем же
	    самым кодом, что использовался нами для создания официальных
	    релизов Проекта FreeBSD.</p></div><div class="mediaobject" align="center"><img src="branches-head.png" align="middle" alt="Ветви разработки FreeBSD" /></div><div class="mediaobject" align="center"><img src="branches-releng3.png" align="middle" alt="Ветка FreeBSD 3.x STABLE" /></div><div class="mediaobject" align="center"><img src="branches-releng4.png" align="middle" alt="Ветка FreeBSD 4.x STABLE" /></div><div class="mediaobject" align="center"><img src="branches-releng5.png" align="middle" alt="Ветка FreeBSD 5.x STABLE" /></div><div class="mediaobject" align="center"><img src="branches-releng6.png" align="middle" alt="Ветка FreeBSD 6.x STABLE" /></div><div class="mediaobject" align="center"><img src="branches-releng7.png" align="middle" alt="Ветка FreeBSD 7.x STABLE" /></div><div class="mediaobject" align="center"><img src="branches-releng8.png" align="middle" alt="Ветка FreeBSD 8.x STABLE" /></div><div class="mediaobject" align="center"><img src="branches-releng9.png" align="middle" alt="Ветка FreeBSD 9.x STABLE" /></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="versionbump"></a>2.2.2. Увеличение номера версии</h4></div></div></div><p>Перед тем, как окончательный релиз будет помечен, построен и
	  выпущен, необходимо модифицировать следующие файлы, отразив в них
	  корректную версию FreeBSD:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="filename">doc/ru_RU.KOI8-R/books/handbook/mirrors/chapter.xml</code></p></li><li class="listitem"><p><code class="filename">doc/en_US.ISO8859-1/books/porters-handbook/book.xml</code></p></li><li class="listitem"><p><code class="filename">doc/share/xml/freebsd.ent</code></p></li><li class="listitem"><p><code class="filename">src/Makefile.inc1</code></p></li><li class="listitem"><p><code class="filename">src/UPDATING</code></p></li><li class="listitem"><p><code class="filename">src/gnu/usr.bin/groff/tmac/mdoc.local</code></p></li><li class="listitem"><p><code class="filename">src/release/Makefile</code></p></li><li class="listitem"><p><code class="filename">src/release/doc/en_US.ISO8859-1/share/xml/release.dsl</code></p></li><li class="listitem"><p><code class="filename">src/release/doc/share/examples/Makefile.relnotesng</code></p></li><li class="listitem"><p><code class="filename">src/release/doc/share/xml/release.ent</code></p></li><li class="listitem"><p><code class="filename">src/share/examples/cvsup/standard-supfile</code></p></li><li class="listitem"><p><code class="filename">src/sys/conf/newvers.sh</code></p></li><li class="listitem"><p><code class="filename">src/sys/sys/param.h</code></p></li><li class="listitem"><p><code class="filename">src/usr.sbin/pkg_install/add/main.c</code></p></li><li class="listitem"><p><code class="filename">www/en/docs/man.xml</code></p></li><li class="listitem"><p><code class="filename">www/en/cgi/ports.cgi</code></p></li><li class="listitem"><p><code class="filename">ports/Tools/scripts/release/config</code></p></li></ul></div><p>Новый релиз должен быть также отражён в файлах замечаний к релизу
	  и информации о замеченных ошибках (в ветке релиза), а файлы
	  соответствующим образом обрезаны (в ветке stable/current):</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="filename">src/release/doc/en_US.ISO8859-1/relnotes/common/new.xml</code></p></li><li class="listitem"><p><code class="filename">src/release/doc/en_US.ISO8859-1/errata/article.xml</code></p></li></ul></div><p>Утилита <span class="application">sysinstall</span> должна быть
	  обновлена и указывать количество доступных портов и объём дискового
	  пространства, требуемого для Коллекции Портов[4].  На данный момент эта
	  информация хранится в файле
	  <code class="filename">src/usr.sbin/sysinstall/dist.c</code>.</p><p>После построения релиза для оповещения мирового сообщества о
	  выпуске релиза необходимо обновить некоторые файлы.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="filename">doc/share/images/articles/releng/branches-releng<em class="replaceable"><code>X</code></em>.pic</code></p></li><li class="listitem"><p><code class="filename">www/share/xml/advisories.xml</code></p></li><li class="listitem"><p><code class="filename">www/share/xml/includes.release.xml</code></p></li><li class="listitem"><p><code class="filename">www/share/xml/includes.release.xsl</code></p></li><li class="listitem"><p><code class="filename">www/en/releases/*</code></p></li><li class="listitem"><p><code class="filename">www/en/releng/index.xml</code></p></li><li class="listitem"><p><code class="filename">www/en/news/news.xml</code></p></li><li class="listitem"><p><code class="filename">www/en/search/web.atoz</code></p></li><li class="listitem"><p><code class="filename">src/share/misc/bsd-family-tree</code></p></li></ul></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="versionbump-major"></a>2.2.3. Подготовка новой старшей релиз ветки
	(RELENG_<em class="replaceable"><code>X</code></em>)</h4></div></div></div><p>Когда новая старшая релиз ветка, такая как <code class="literal">RELENG_6</code>
	ответвляется из HEAD, некоторые дополнительные файлы должны
	быть обновлены перед тем, как релизы будут созданы из
	этой новой ветки.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="filename">src/share/examples/cvsup/stable-supfile</code>
	    - когда применимо, должен быть обновлен, чтобы указывать на новую
	    -STABLE ветку.</p></li></ul></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp70438864"></a>2.2.4. Создание тэгов релиза</h4></div></div></div><p>При готовности окончательного релиза следующая команда создаст
	  тэг <code class="literal">RELENG_4_8_0_RELEASE</code>.</p><pre class="screen">/usr/src<code class="prompt">#</code> <strong class="userinput"><code>cvs rtag -rRELENG_4_8 RELENG_4_8_0_RELEASE src</code></strong></pre><p>Менеджеры документации и портов отвечают за внесение тэга в
	  соответствующие ветки с тэгом
	  <code class="literal">RELEASE_4_8_0</code>.</p><p>Иногда в последний момент, уже <span class="emphasis"><em>после</em></span>
	  создания последних тэгов может потребоваться внесение исправлений.
	  На практике это не является проблемой, так как <acronym class="acronym">CVS</acronym>
	  позволяет выполнять манипуляции с тэгами по команде <code class="command">cvs
	  tag -d <em class="replaceable"><code>tagname filename</code></em></code>.  Очень
	  важно, чтобы все последние изменения были помечены соответствующим
	  тэгом, как часть релиза.  Релизы FreeBSD должны быть всегда
	  повторяемыми.  Локальные изменения в параметры окружения выпускающего
	  релиз недопустимы.</p></div></div></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="release-build"></a>3. Построение релизов</h2></div></div></div><p><span class="quote"><<<span class="quote">Релизы</span>>></span> FreeBSD могут быть построены любым человеком,
      имеющим быстродействующую машину и доступ к хранилищу исходных текстов.
      (Это должен быть любой, так как мы предоставляем анонимный доступ к CVS!
      Обратитесь к Руководству для прояснения деталей.)
      <span class="emphasis"><em>Единственным</em></span> особым требованием является наличие
      устройства <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=md&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">md</span>(4)</span></a>.  Если устройство в вашем ядре
      не подгружено, то модуль ядра должен быть подгружен автоматически при
      выполнении команды <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mdconfig&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mdconfig</span>(8)</span></a> на этапе создания носителя для
      загрузки.  Все инструменты, необходимые для построения релиза, доступны
      из хранилища CVS в каталоге <code class="filename">src/release</code>.  Эти
      инструменты предоставляют единый метод построения релизов FreeBSD.
      Полный релиз может быть реально построен при помощи лишь одной команды,
      включая создание <acronym class="acronym">ISO</acronym>-образов, подходящих для записи на
      CDROM, установочных дискет и установочного каталога FTP.  Эта команда
      называется соответствующим образом: <code class="command">make
      release</code>.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp70471760"></a>3.1. <code class="command">make release</code></h3></div></div></div><p>Для успешного построения релиза вы должны сначала заполнить каталог
	<code class="filename">/usr/obj</code>, запустив команду <code class="command">make
	world</code> или просто <code class="command">make buildworld</code>.  Цель,
	выполняемая для построения релиза, требует корректного задания
	нескольких переменных, используемых при его сборке:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="varname">CHROOTDIR</code> - Каталог, используемый в среде с
	    изменённой корневой файловой системой при построении полного
	    релиза.</p></li><li class="listitem"><p><code class="varname">BUILDNAME</code> - Наименование строящегося
	    релиза.</p></li><li class="listitem"><p><code class="varname">CVSROOT</code> - Местонахождение
	    CVS-хранилища.</p></li><li class="listitem"><p><code class="varname">RELEASETAG</code> - Тэг CVS, соответствующий
	    релизу, который вы собираетесь строить.</p></li></ul></div><p>Если у вас ещё нет доступа к локальному CVS-хранилищу, то вы можете
	зеркалировать одно из них при помощи <a class="link" href="http://www.FreeBSD.org/doc/ru_RU.KOI8-R/books/handbook/synching.html#CVSUP" target="_top">
	CVSup</a>.  Поставляемый sup-файл,
	<code class="filename">/usr/share/examples/cvsup/cvs-supfile</code>, может
	служить хорошей отправной точкой для зеркалирования хранилища
	CVS.</p><p>Если <code class="varname">RELEASETAG</code> опущен, то релиз будет строиться
	из ветки <code class="literal">HEAD</code> (известной как -CURRENT).  Релизы,
	строящиеся из этой ветки обычно называют <span class="quote"><<<span class="quote">снэпшотами
	-CURRENT</span>>></span>.</p><p>Для настройки построения релиза существует много других переменных
	Большинство из этих переменных описаны в начале файла
	<code class="filename">src/release/Makefile</code>.  Точная команда, служащая
	для построения официального релиза FreeBSD 4.7 (x86) такова:</p><pre class="screen"><code class="command">make release CHROOTDIR=/local3/release \
	BUILDNAME=4.7-RELEASE \
	CVSROOT=/host/cvs/usr/home/ncvs \
	RELEASETAG=RELENG_4_7_0_RELEASE</code></pre><p><code class="filename">Makefile</code> для релиза может быть разбит на
	несколько различных шагов.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Создание чистого системного окружения в отдельной иерархии
	    каталогов по команде <span class="quote"><<<span class="quote"><code class="command">make
	    installworld</code></span>>></span>.</p></li><li class="listitem"><p>Выгрузка из CVS чистой версии исходных текстов системы,
	    документации и портов в иерархию для построения релиза.</p></li><li class="listitem"><p>Создание копии <code class="filename">/etc</code> и
	    <code class="filename">/dev</code> в окружении с изменённым корнем файловой
	    системы.</p></li><li class="listitem"><p>Смена корневой файловой системы на иерархию построения релиза,
	    чтобы избежать влияния внешнего окружения на построение.</p></li><li class="listitem"><p>Выполнение <code class="command">make world</code> в окружении с
	    изменённой корневой файловой системой.</p></li><li class="listitem"><p>Построение бинарных файлов для работы с Kerberos.</p></li><li class="listitem"><p>Построение ядра <code class="filename">GENERIC</code>.</p></li><li class="listitem"><p>Создание промежуточного дерева каталогов, где будут строиться
	    бинарные файлы и формироваться дистрибутивы.</p></li><li class="listitem"><p>Построение и установка инструментов для работы с документацией,
	    необходимых для преобразования исходных текстов документации (SGML)
	    в формат HTML и текстовые документы, которые сопутствуют
	    релиз.</p></li><li class="listitem"><p>Построение и установка актуальной документации (руководства
	    пользователей, учебники, замечания к релизу, перечень аппаратной
	    совместимости и так далее.)</p></li><li class="listitem"><p>Построение <span class="quote"><<<span class="quote">свёрнутых</span>>></span> бинарных файлов,
	    используемых на установочных дискетах.</p></li><li class="listitem"><p>Подготовка дистрибутивных архивов бинарных файлов и исходных
	    текстов.</p></li><li class="listitem"><p>Создание загрузочного носителя
	    и <span class="quote"><<<span class="quote">fixit</span>>></span>-дискеты.</p></li><li class="listitem"><p>Создание иерархии для установки при помощи FTP.</p></li><li class="listitem"><p><span class="emphasis"><em>(опционально)</em></span> Создание образов ISO для
	    носителей CDROM/DVD.</p></li></ul></div><p>Для получения более полной информации об инфраструктуре построения
	релизов, пожалуйста, обратитесь к справочной странице
	по <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=release&amp;sektion=7"><span class="citerefentry"><span class="refentrytitle">release</span>(7)</span></a>.</p><div xmlns="" class="note"><h3 class="admontitle">Примечание: </h3><p xmlns="http://www.w3.org/1999/xhtml">Важно, чтобы из файла <code class="filename">/etc/make.conf</code> были
	  удалены все установки, специфичные для конкретного хоста.  К примеру,
	  будет глупо распространять бинарные файлы, построенные на системе с
	  переменной <code class="varname">CPUTYPE</code>, указывающей на определённый
	  тип процессора.</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp70565072"></a>3.2. Программное обеспечение третьих лиц (<span class="quote"><<<span class="quote">ports</span>>></span>)</h3></div></div></div><p><a class="link" href="http://www.FreeBSD.org/ports" target="_top">Коллекция портов
	FreeBSD</a> содержит более 24,000 программных пакетов
	сторонних разработчиков, которые доступны для FreeBSD.  За поддержку
	целостности дерева портов, которое может использоваться для создания
	бинарных пакетов, поставляемых с официальными релизами FreeBSD,
	отвечает Группа Менеджеров Дерева Портов FreeBSD <code class="email">&lt;<a xmlns="" class="email" href="mailto:portmgr@FreeBSD.org">portmgr@FreeBSD.org</a>&gt;</code>.</p><p>Рассмотрение работ с нашей коллекцией пакетов сторонних
	разработчиков при подготовке релизов выходит за рамки этого
	документа.  Этот вопрос глубоко рассмотрен в отдельной
	статье, <a class="link" href="{{{url.articles.releng-packages}}}/article.html" target="_top">The Release Engineering of Third Party Packages</a>.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp70584144"></a>3.3. ISO с релизами</h3></div></div></div><p>Начиная с FreeBSD 4.4, Проект FreeBSD принял решение распространять
	все четыре образа ISO, ранее продаваемые через
	<span class="emphasis"><em>BSDi/Wind River Systems/FreeBSD Mall</em></span> как
	<span class="quote"><<<span class="quote">официальные</span>>></span> дистрибутивы на CDROM.  Каждый из четырёх
	дисков должен содержать файл <code class="filename">README.TXT</code>,
	описывающий содержимое диска, файл <code class="filename">CDROM.INF</code>, в
	котором находятся мета-данные о диске для того, чтобы
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sysinstall&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sysinstall</span>(8)</span></a> мог проверять и использовать содержимое, а также
	файл <code class="filename">filename.txt</code>, содержащий перечень содержимого
	на диске.  Этот <span class="emphasis"><em>перечень</em></span> может быть создан простой
	командой:</p><pre class="screen">/stage/cdrom<code class="prompt">#</code> <strong class="userinput"><code>find . -type f | sed -e 's/^\.\///' | sort &gt; filename.txt</code></strong></pre><p>Специфичные требования для каждого CD описываются ниже.</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp70597200"></a>3.3.1. Диск 1</h4></div></div></div><p>Первый диск практически полностью создаётся командой
	  <code class="command">make release</code>.  Единственным изменением, которое
	  нужно внести в каталог <code class="filename">disc1</code>, является
	  добавление подкаталога <code class="filename">tools</code>,
	  а также перенос максимально
	  возможного количества программных пакетов сторонних разработчиков,
	  которые поместятся на диск.  Каталог <code class="filename">tools</code>
	  содержит программное обеспечение, позволяющее пользователям создавать
	  установочные дискеты из других операционных систем.  Этот диск нужно
	  сделать загрузочным, чтобы пользователям современных ПК не нужно было
	  создавать установочные дискеты.</p><p>Если в релиз необходимо включить специализированное ядро, то
	  необходимо модифицировать <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sysinstall&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sysinstall</span>(8)</span></a> и <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=release&amp;sektion=7"><span class="citerefentry"><span class="refentrytitle">release</span>(7)</span></a>,
	  добавив в них инструкции по установке.  Соответствующий код
	  находится в <code class="filename">src/release</code> и
	  <code class="filename">src/usr.sbin/sysinstall</code>.  В частности,
	  в <code class="filename">src/usr.sbin/sysinstall</code> необходимо будет
	  редактировать <code class="filename">src/release/Makefile</code>,
	  <code class="filename">dist.c</code>, <code class="filename">dist.h</code>,
	  <code class="filename">menus.c</code>, <code class="filename">install.c</code> и
	  <code class="filename">Makefile</code>.  Также может потребоваться обновить
	  <code class="filename">sysinstall.8</code>.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp70626768"></a>3.3.2. Диск 2</h4></div></div></div><p>Второй диск также в основном создаётся по команде <code class="command">make
	  release</code>.  Он содержит <span class="quote"><<<span class="quote">живую файловую
	  систему</span>>></span>, которую можно использовать из <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sysinstall&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sysinstall</span>(8)</span></a> для
	  исправления процесса установки FreeBSD.  Этот диск должен быть
	  загрузочным и содержать также упакованную копию хранилища CVS в
	  каталоге <code class="filename">CVSROOT</code> и демонстрационные версии
	  коммерческого программного обеспечения в каталоге
	  <code class="filename">commerce</code>.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp70639952"></a>3.3.3. Диски 3 и 4</h4></div></div></div><p>Оставшиеся два диска содержат дополнительные программные пакеты
	  для FreeBSD.  Они должны быть объединены в группы (кластеры), чтобы
	  отдельный пакет и все его <span class="emphasis"><em>зависимости</em></span> находились
	  на одном и том же диске.  Дополнительная информация о создании этих
	  дисков находится в статье <a class="link" href="{{{url.articles.releng-packages}}}/article.html" target="_top">The Release Engineering of Third Party Packages</a>.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp70646352"></a>3.3.4. Поддержка нескольких дисков</h4></div></div></div><p><span class="application">Sysinstall</span> поддерживает установку
	  пакетов с нескольких дисков.  Для это нужно, чтобы на каждом диске
	  был файл <code class="filename">INDEX</code>, содержащий названия всех пакетов
	  со всех дисков, с дополнительным полем, указывающем на каком диске
	  содержится данный конкретный пакет.  Также, на каждом диске, в файле
	  <code class="filename">cdrom.inf</code> должна быть указана переменная
	  <code class="literal">CD_VOLUME</code> для того, чтобы sysinstall мог
	  определить какой этой диск.  Когда пользователь будет пытаться
	  установить пакет, которого нет на текущем диске, sysinstall выдаст
	  запрос на вставку соответствующего диска.</p></div></div></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="distribution"></a>4. Распространение</h2></div></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="dist-ftp"></a>4.1. Серверы FTP</h3></div></div></div><p>После того, как релиз был тщательно протестирован и подготовлен к
	распространению, должен быть обновлён главный FTP-сервер.  Все
	официальные общедоступные серверы FTP-серверы FreeBSD являются
	зеркалами главного сервера, открытого только другим серверам FTP.  Этот
	сервер известен под именем <code class="systemitem">ftp-master</code>.  Когда релиз
	готов, на сервере <code class="systemitem">ftp-master</code> должны быть изменены
	следующие строки:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="filename">/pub/FreeBSD/releases/<em class="replaceable"><code>arch</code></em>/<em class="replaceable"><code>X.Y</code></em>-RELEASE/</code></span></dt><dd><p>Установочный каталог FTP, получаемый по команде <code class="command">make
	      release</code>.</p></dd><dt><span class="term"><code class="filename">/pub/FreeBSD/ports/<em class="replaceable"><code>arch</code></em>/packages-<em class="replaceable"><code>X.Y</code></em>-release/</code></span></dt><dd><p>Полный комплект построенных пакетов для этого релиза.</p></dd><dt><span class="term"><code class="filename">/pub/FreeBSD/releases/<em class="replaceable"><code>arch</code></em>/<em class="replaceable"><code>X.Y</code></em>-RELEASE/tools</code></span></dt><dd><p>Символическая ссылка на
	      <code class="filename">../../../tools</code>.</p></dd><dt><span class="term"><code class="filename">/pub/FreeBSD/releases/<em class="replaceable"><code>arch</code></em>/<em class="replaceable"><code>X.Y</code></em>-RELEASE/packages</code></span></dt><dd><p>Символическая ссылка на
	      <code class="filename">../../../ports/<em class="replaceable"><code>arch</code></em>/packages-<em class="replaceable"><code>X.Y</code></em>-release</code>.</p></dd><dt><span class="term"><code class="filename">/pub/FreeBSD/releases/<em class="replaceable"><code>arch</code></em>/ISO-IMAGES/<em class="replaceable"><code>X.Y</code></em>/<em class="replaceable"><code>X.Y</code></em>-RELEASE-<em class="replaceable"><code>arch</code></em>-*.iso</code></span></dt><dd><p>ISO-образы.  Здесь <span class="quote"><<<span class="quote">*</span>>></span> это
	      <code class="filename">disc1</code>, <code class="filename">disc2</code> и так
	      далее.  Только если здесь есть <code class="filename">disc1</code> и
	      альтернативный первый установочный CD (например, обрезанная
	      установка без оконной системы), то здесь может быть также
	      и <code class="filename">mini</code>.</p></dd></dl></div><p>Для получения дополнительной информации о системе зеркальных
	FTP-серверов FreeBSD, пожалуйста, прочтите статью о <a class="link" href="../../../../doc/ru_RU.KOI8-R/articles/hubs" target="_top">Зеркалировании FreeBSD</a>.</p><p>Может пройти от нескольких часов до двух дней между тем, как
	обновится <code class="systemitem">ftp-master</code>, и на основной массе FTP-серверов
	1-го уровня появится новое программное обеспечение, в зависимости от
	того, в тоже самое ли время пакет был загружен.  Обязательно, чтобы
	выпускающие релиз координировали свои действия с <a class="link" href="http://lists.FreeBSD.org/mailman/listinfo/mirror-announce" target="_top">Администраторы
  зеркальных сайтов FreeBSD</a>
	до того, как объявлять об общедоступности нового программного
	обеспечения с серверов FTP.  В идеальном случае набор пакетов к
	релизу должен быть загружен по крайней мере за четыре дня до момента
	выпуска релиза.  Релиз должен быть загружен в промежутке от 24 до 48
	часов до момента выхода запланированного релиза с выключенными
	полномочиями <span class="quote"><<<span class="quote">other</span>>></span>.  Это позволит зеркалирующим серверам
	сгрузить его, но никто не сможет получить его с зеркальных серверов.
	В момент выхода релиза должно быть послано сообщение в адрес
	<a class="link" href="http://lists.FreeBSD.org/mailman/listinfo/mirror-announce" target="_top">Администраторы
  зеркальных сайтов FreeBSD</a>, говорящее о том, что релиз выпущен и наступило
	время для открытия доступа на зеркальных серверах.  Обязательно
	вместе со временем укажите и часовой пояс, например, относительно
	GMT.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="dist-cdrom"></a>4.2. Тиражирование CD-ROM</h3></div></div></div><p>Вскоре появится: Советы по передаче ISO-образов FreeBSD на
	тиражирование и применяемые меры по контролю качества.</p></div></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="extensibility"></a>5. Расширяемость</h2></div></div></div><p>Хотя FreeBSD представляет собой законченную операционную систему,
      ничего не заставляет вас использовать систему только в том виде, который
      приготовлен нами для распространения.  Мы попытались спроектировать
      систему максимально расширяемой, чтобы она могла выполнять роль
      платформы, на основе которой можно строить другие коммерческие продукты.
      Единственным <span class="quote"><<<span class="quote">правилом</span>>></span>, которое мы налагаем, является
      настоятельная рекомендация документировать улучшения, вносимые вами в
      дистрибутив FreeBSD с нетривиальными изменениями!  Сообщество FreeBSD
      может помогать только пользователям того программного обеспечения,
      которое распространяем мы.  Мы определённо приветствуем улучшения в
      форме, например, инструментов установки и администрирования, но не можем
      отвечать на вопросы о них.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp70758992"></a>5.1. Создание модифицированных загрузочных дискет</h3></div></div></div><p>Во многих местах имеются сложные условия, которые требуют
	размещения дополнительных модулей ядра или пользовательских
	инструментов на установочные дискеты.  <span class="quote"><<<span class="quote">Быстрым и
	неаккуратным</span>>></span> способом сделать это является изменение
	промежуточного каталога в существующей иерархии при выполнении
	<code class="command">make release</code>:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Примените патчи или добавьте дополнительные файлы в каталог
	    построения релиза с изменённых корнем файловой системы.</p></li><li class="listitem"><p><code class="command">rm
	    ${CHROOTDIR}/usr/obj/usr/src/release/release.[59]</code></p></li><li class="listitem"><p>перестройте <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sysinstall&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sysinstall</span>(8)</span></a>, ядро и остальные части системы,
	    которые коснулись ваши изменения.</p></li><li class="listitem"><p><code class="command">chroot ${CHROOTDIR} ./mk floppies</code></p></li></ul></div><p>Дискеты нового релиза будут находиться в
	<code class="filename">${CHROOTDIR}/R/stage/floppies</code>.</p><p>Либо может быть вызвана цель
	<code class="filename">boot.flp</code> построения или скрипт создания файловой
	системы, <code class="filename">src/release/scripts/doFS.sh</code>, которые
	может быть вызван напрямую.</p><p>Локальные патчи могут быть также приложены к построению релиза при
	помощи задания переменной <code class="varname">LOCAL_PATCH</code> при выполнении
	<code class="command">make release</code>.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp70790096"></a>5.2. Скрипты <code class="command">sysinstall</code></h3></div></div></div><p>Инструмент установки и настройки системы FreeBSD,
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sysinstall&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sysinstall</span>(8)</span></a>, может работать по сценарию, полезному для
	автоматизированной установки в больших компаниях.  Эта функциональность
	может использоваться совместно с технологией <span class="trademark">Intel</span>(R) PXE[12] для
	первоначальной установки систем из сети, или с модифицированными
	загрузочными дискетами со скриптами sysinstall.  Пример скрипта для
	sysinstall доступен в дереве CVS в виде файла
	<code class="filename">src/release/sysinstall/install.cfg</code>.</p></div></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="lessons-learned"></a>6. Уроки, извлечённые из FreeBSD 4.4</h2></div></div></div><p>Формально процесс подготовки релиза для 4.4 начался 1 августа 2001
      года.  После этой даты все без исключения изменения в ветке
      <code class="literal">RELENG_4</code> FreeBSD подтверждались Группа Выпуска Релизов FreeBSD <code class="email">&lt;<a xmlns="" class="email" href="mailto:re@FreeBSD.org">re@FreeBSD.org</a>&gt;</code>.  Первый
      предварительный релиз для архитектуры x86 был выпущен 16 августа, за
      ним выходило ещё 4 предварительных релиза, и всё закончилось 18 августа
      выпуском окончательного релиза.  Руководитель службы безопасности очень
      плотно занимался процессом выпуска в последнюю неделю, так как в
      предыдущих предварительных релизах были найдены проблемы, касающиеся
      информационной безопасности.  Чуть более чем за месяц в адрес Группа Выпуска Релизов FreeBSD <code class="email">&lt;<a xmlns="" class="email" href="mailto:re@FreeBSD.org">re@FreeBSD.org</a>&gt;</code>
      поступило более <span class="emphasis"><em>500</em></span> писем.</p><p>Сообщество наших пользователей весьма чётко показало, что
      безопасность и стабильность релиза FreeBSD не должна приноситься в жертву
      любым назначенным срокам окончания работ или планируемым датам выхода
      релиза.  Проект FreeBSD за время своего существования значительно вырос,
      и никогда ранее необходимость в стандартизации процедур подготовки
      релизов не стояла так остро.  Это стало ещё более важно, когда FreeBSD
      была перенесена на новые аппаратные платформы.</p></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="future"></a>7. Направления будущих работ</h2></div></div></div><p>Нашим работам по подготовке релизов жизненно важно расти вместе с
      увеличением количества пользователей системы.  Вместе с этим мы очень
      плотно работаем над документированием действий, выполняемых при выпуске
      релизов FreeBSD.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><span class="emphasis"><em>Параллелизм</em></span> - некоторые этапы построения
	  релиза на самом деле выполнять параллельно
	  <span class="quote"><<<span class="quote">затруднительно</span>>></span>.  Большинство выполняемых задач весьма
	  интенсивно работают с I/O, так что для ускорения процесса
	  <code class="command">make release</code> наличие нескольких высокоскоростных
	  дисков гораздо более важно, чем использование нескольких процессоров.
	  Если для различных иерархий в <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chroot&amp;sektion=2"><span class="citerefentry"><span class="refentrytitle">chroot</span>(2)</span></a>-окружении используется
	  несколько дисков, то извлечение из CVS деревьев
	  <code class="filename">ports</code> и <code class="filename">doc</code> может
	  выполняться одновременно с командой <code class="command">make world</code> на
	  другом диске.  Использование <acronym class="acronym">RAID</acronym>-решений
	  (аппаратных или программных) может значительно сократить общее время
	  построения.</p></li><li class="listitem"><p><span class="emphasis"><em>Кроссплатформенное построение
	  релизов</em></span> - Построить релиз для IA-64 или Alpha на
	  x86-оборудовании? <code class="command">make TARGET=ia64 release</code>.</p></li><li class="listitem"><p><span class="emphasis"><em>Тестирование</em></span> - Нам нужна улучшенная
	  автоматизированная система тестирования корректности для
	  FreeBSD.</p></li><li class="listitem"><p><span class="emphasis"><em>Инструменты установки</em></span> - Наша программа
	  установки давно пережила свой век.  В разработке находятся несколько
	  проектов, которые должны дать улучшенную технологию установки.
	  Одним из таких проектов был libh, целью которого было создание
	  новой интеллектуальной технологии работы с пакетами и программы
	  установки с GUI.</p></li></ul></div></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="ackno"></a>8. Благодарности</h2></div></div></div><p>Я рад поблагодарить Джордана Хаббарда (Jordan Hubbard) за то, что он
      дал мне возможность взять под свою ответственность некоторые части
      процесса подготовки релиза FreeBSD 4.4, а также за все годы его работы,
      сделавшие FreeBSD такой, какой она является сейчас.  Конечно, релиз не
      был бы возможен без той работы, которую проделали Satoshi Asami <code class="email">&lt;<a xmlns="" class="email" href="mailto:asami@FreeBSD.org">asami@FreeBSD.org</a>&gt;</code>, Steve Price <code class="email">&lt;<a xmlns="" class="email" href="mailto:steve@FreeBSD.org">steve@FreeBSD.org</a>&gt;</code>,
      Bruce A. Mah <code class="email">&lt;<a xmlns="" class="email" href="mailto:bmah@FreeBSD.org">bmah@FreeBSD.org</a>&gt;</code>, Nik Clayton <code class="email">&lt;<a xmlns="" class="email" href="mailto:nik@FreeBSD.org">nik@FreeBSD.org</a>&gt;</code>, David O'Brien <code class="email">&lt;<a xmlns="" class="email" href="mailto:obrien@FreeBSD.org">obrien@FreeBSD.org</a>&gt;</code>, Kris Kennaway <code class="email">&lt;<a xmlns="" class="email" href="mailto:kris@FreeBSD.org">kris@FreeBSD.org</a>&gt;</code>, John Baldwin <code class="email">&lt;<a xmlns="" class="email" href="mailto:jhb@FreeBSD.org">jhb@FreeBSD.org</a>&gt;</code> и остальные члены
      сообщества разработчиков FreeBSD.  Я также рад выразить благодарность
      Rodney Grimes <code class="email">&lt;<a xmlns="" class="email" href="mailto:rgrimes@FreeBSD.org">rgrimes@FreeBSD.org</a>&gt;</code> и Poul-Henning Kamp <code class="email">&lt;<a xmlns="" class="email" href="mailto:phk@FreeBSD.org">phk@FreeBSD.org</a>&gt;</code>, а также остальным, работавшим над инструментами
      подготовки релизов в первые годы существования FreeBSD.  Эта статья была
      также написана под впечатлением документации по подготовке релизов от
      CSRG[13], NetBSD Project[10] и замечаний Джона Балдвина (John Baldwin)
      по предлагаемому процессу подготовки релизов[11].</p></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="biblio"></a>9. Справочная литература</h2></div></div></div><p>[1] CVS - Concurrent Versions System
      <code class="uri"><a class="uri" href="http://www.cvshome.org" target="_top">http://www.cvshome.org</a></code></p><p>[2] CVSup - The CVS-Optimized General Purpose Network File
      Distribution System <code class="uri"><a class="uri" href="http://www.polstra.com/projects/freeware/CVSup" target="_top">http://www.polstra.com/projects/freeware/CVSup</a></code></p><p>[3] <code class="uri"><a class="uri" href="http://pointyhat.FreeBSD.org" target="_top">http://pointyhat.FreeBSD.org</a></code></p><p>[4] Коллекция портов FreeBSD
      <code class="uri"><a class="uri" href="http://www.FreeBSD.org/ports" target="_top">http://www.FreeBSD.org/ports</a></code></p><p>[5] Коммиттеры FreeBSD <code class="uri"><a class="uri" href="http://www.FreeBSD.org/doc/en_US.ISO8859-1/articles/contributors/staff-committers.html" target="_top">http://www.FreeBSD.org/doc/en_US.ISO8859-1/articles/contributors/staff-committers.html</a></code></p><p>[6] Правление FreeBSD <code class="uri"><a class="uri" href="../../../../administration.html#t-core" target="_top">../../../../administration.html#t-core</a></code></p><p>[7] Руководство FreeBSD <code class="uri"><a class="uri" href="http://www.FreeBSD.org/doc/ru_RU.KOI8-R/books/handbook" target="_top">http://www.FreeBSD.org/doc/ru_RU.KOI8-R/books/handbook</a></code></p><p>[8] GNATS: The GNU Bug Tracking System
      <code class="uri"><a class="uri" href="http://www.gnu.org/software/gnats" target="_top">http://www.gnu.org/software/gnats</a></code></p><p>[9] Статистика FreeBSD PR
      <code class="uri"><a class="uri" href="http://www.FreeBSD.org/prstats/index.html" target="_top">http://www.FreeBSD.org/prstats/index.html</a></code></p><p>[10] NetBSD Developer Documentation: Release Engineering <code class="uri"><a class="uri" href="http://www.NetBSD.org/developers/releng/index.html" target="_top">http://www.NetBSD.org/developers/releng/index.html</a></code></p><p>[11] John Baldwin's FreeBSD Release Engineering Proposal <code class="uri"><a class="uri" href="http://people.FreeBSD.org/~jhb/docs/releng.txt" target="_top">http://people.FreeBSD.org/~jhb/docs/releng.txt</a></code></p><p>[12] PXE Jumpstart Guide <code class="uri"><a class="uri" href="http://www.FreeBSD.org/doc/en_US.ISO8859-1/articles/pxe/index.html" target="_top">http://www.FreeBSD.org/doc/en_US.ISO8859-1/articles/pxe/index.html</a></code></p><p>[13] Marshall Kirk McKusick, Michael J. Karels, and Keith Bostic:
      <a class="link" href="http://docs.FreeBSD.org/44doc/papers/releng.html" target="_top">
      <span class="emphasis"><em>The Release Engineering of 4.3BSD</em></span></a></p></div></div></body></html>