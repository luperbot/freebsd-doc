<?xml version="1.0" encoding="koi8-r" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=koi8-r" /><title>4.8. Процессы</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Руководство FreeBSD" /><link rel="up" href="basics.html" title="Глава 4. Основы UNIX" /><link rel="prev" href="mount-unmount.html" title="4.7. Монтирование и размонтирование файловых систем" /><link rel="next" href="basics-daemons.html" title="4.9. Даемоны, сигналы, уничтожение процессов" /><link rel="copyright" href="legalnotice.html" title="Юридическое уведомление" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">4.8. Процессы</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="mount-unmount.html">Пред.</a> </td><th width="60%" align="center">Глава 4. Основы UNIX</th><td width="20%" align="right"> <a accesskey="n" href="basics-daemons.html">След.</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="basics-processes"></a>4.8. Процессы</h2></div></div></div><p>FreeBSD является многозадачной операционной системой.
      Это означает, что одновременно может быть запущена более чем одна
      программа.  Каждая программа, работающая в некоторый момент времени,
      называется <em class="firstterm">процессом</em>.  Каждая команда,
      которую вы запускаете, порождает хотя бы один процесс.  Есть несколько
      системных процессов, запущенных все время и поддерживающих
      функциональность системы.</p><p>У каждого процесса есть уникальный номер, называемый
      <em class="firstterm">process ID</em>, или <em class="firstterm">PID</em>, и,
      как и у файлов, у каждого процесса есть владелец и группа.  Информация
      о владельце и группе процесса используется для определения того, какие
      файлы и устройства могут быть открыты процессом с учетом прав на файлы,
      о которых говорилось ранее.  Также у большинства процессов есть
      родительский процесс.  Например, при запуске команд из оболочки,
      оболочка является процессом и любая запущенная команда также является
      процессом.  Для каждого запущенного таким путем процесса оболочка будет
      являться родительским процессом.  Исключением из этого правила является
      специальный процесс, называемый <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=init&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">init</span>(8)</span></a>.
      <code class="command">init</code> всегда первый процесс, его PID всегда 1.
      <code class="command">init</code> запускается автоматически ядром во время
      загрузки FreeBSD.</p><p>Две команды очень полезны для просмотра работающих в системе
      процессов, это <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ps&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ps</span>(1)</span></a> и <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=top&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">top</span>(1)</span></a>.  Команда <code class="command">ps</code> используется
      для получения списка запущенных процессов и может показать их PID,
      сколько памяти они используют, команду, которой они были запущены и т.д.
      Команда <code class="command">top</code> показывает запущенные процессы и обновляет экран
      каждые несколько секунд, что позволяет наблюдать за работой компьютера
      в реальном времени.</p><p>По умолчанию, <code class="command">ps</code> показывает только принадлежащие вам
      процессы.  Например:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>ps</code></strong>
  PID  TT  STAT      TIME COMMAND
  298  p0  Ss     0:01.10 tcsh
 7078  p0  S      2:40.88 xemacs mdoc.xsl (xemacs-21.1.14)
37393  p0  I      0:03.11 xemacs freebsd.dsl (xemacs-21.1.14)
48630  p0  S      2:50.89 /usr/local/lib/netscape-linux/navigator-linux-4.77.bi
48730  p0  IW     0:00.00 (dns helper) (navigator-linux-)
72210  p0  R+     0:00.00 ps
  390  p1  Is     0:01.14 tcsh
 7059  p2  Is+    1:36.18 /usr/local/bin/mutt -y
 6688  p3  IWs    0:00.00 tcsh
10735  p4  IWs    0:00.00 tcsh
20256  p5  IWs    0:00.00 tcsh
  262  v0  IWs    0:00.00 -tcsh (tcsh)
  270  v0  IW+    0:00.00 /bin/sh /usr/X11R6/bin/startx -- -bpp 16
  280  v0  IW+    0:00.00 xinit /home/nik/.xinitrc -- -bpp 16
  284  v0  IW     0:00.00 /bin/sh /home/nik/.xinitrc
  285  v0  S      0:38.45 /usr/X11R6/bin/sawfish</pre><p>Как вы можете видеть в данном примере, вывод <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ps&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ps</span>(1)</span></a> организован
      в несколько колонок.  Идентификатор процесса <code class="literal">PID</code>
      обсуждался ранее.  PID назначаются с 1 до 99999 и опять с начала, если
      последнее число будет превышено (однажды выданный и используемый PID
      не может быть назначен повторно).
      Колонка <code class="literal">TT</code> показывает
      терминал (tty), на котором запущена программа (можете пока забыть про
      это).  <code class="literal">STAT</code> показывает состояние программы и опять
      же может быть пока проигнорирован.  <code class="literal">TIME</code> это количество
      времени центрального процессора, использованное
      программой - это обычно не время, прошедшее с запуска
      программы, поскольку большинство программы проводят много времени
      в ожидании некоторого события перед тем, как занять время процессора.
      Наконец, <code class="literal">COMMAND</code> это команда, которой программа
      была запущена.</p><p>У <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ps&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ps</span>(1)</span></a> есть множество различных опций, влияющих на выводимую
      информацию.  Один из наиболее полезных наборов опций это
      <code class="literal">auxww</code>.  <code class="option">a</code> позволяет показать
      информацию о всех запущенных процессах, а не только тех, которыми вы
      владеете.  <code class="option">u</code> показывает имя пользователя,
      владеющего процессом, и информацию об используемой памяти.
      <code class="option">x</code> показывает информацию о процессах-даемонах и
      <code class="option">ww</code> указывает <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ps&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ps</span>(1)</span></a> показать всю командную строку
      для каждого процесса,
      вместо обрезания ее, когда она станет слишком длинной, чтобы уместиться
      на экран.</p><p>Вывод <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=top&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">top</span>(1)</span></a> похож на только что описанный.
      Обычно он выглядит так:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>top</code></strong>
last pid: 72257;  load averages:  0.13,  0.09,  0.03    up 0+13:38:33  22:39:10
47 processes:  1 running, 46 sleeping
CPU states: 12.6% user,  0.0% nice,  7.8% system,  0.0% interrupt, 79.7% idle
Mem: 36M Active, 5256K Inact, 13M Wired, 6312K Cache, 15M Buf, 408K Free
Swap: 256M Total, 38M Used, 217M Free, 15% Inuse

  PID USERNAME PRI NICE  SIZE    RES STATE    TIME   WCPU    CPU COMMAND
72257 nik       28   0  1960K  1044K RUN      0:00 14.86%  1.42% top
 7078 nik        2   0 15280K 10960K select   2:54  0.88%  0.88% xemacs-21.1.14
  281 nik        2   0 18636K  7112K select   5:36  0.73%  0.73% XF86_SVGA
  296 nik        2   0  3240K  1644K select   0:12  0.05%  0.05% xterm
48630 nik        2   0 29816K  9148K select   3:18  0.00%  0.00% navigator-linu
  175 root       2   0   924K   252K select   1:41  0.00%  0.00% syslogd
 7059 nik        2   0  7260K  4644K poll     1:38  0.00%  0.00% mutt
...</pre><p>Вывод разбит на два раздела.  Заголовок (первые пять строк)
      показывает PID последнего запущенного процесса, среднее значение
      загрузки системы (которое показывает насколько система занята),
      время работы системы с последней перезагрузки и текущее время.
      Другие цифры заголовка относятся к количеству запущенных процессов
      (в данном примере 47), количеству занятой памяти и подкачки и время,
      занимаемое различными состояниями процессора.</p><p>Ниже идут несколько колонок, содержащих похожую на вывод <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ps&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ps</span>(1)</span></a>
      информацию.  Как и раньше, это PID, время процессора, командная строка.
      <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=top&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">top</span>(1)</span></a> показывает также величину занятой процессом памяти.
      Это значение разбито на две колонки, одна для общего объема, а другая
      для резидентного - общий объем показывает сколько всего памяти
      нужно приложению, а резидентный показывает количество памяти, используемой
      в данный момент.  Из этого примера видно, что
      <span class="application"><span class="trademark">Netscape</span>(R)</span> требует почти 30 MB памяти,
      но в данный момент использует только 9 MB.</p><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=top&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">top</span>(1)</span></a> автоматически обновляет экран каждые две секунды;
      это значение можно изменить опцией <code class="option">s</code>.</p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="mount-unmount.html">Пред.</a> </td><td width="20%" align="center"><a accesskey="u" href="basics.html">Наверх</a></td><td width="40%" align="right"> <a accesskey="n" href="basics-daemons.html">След.</a></td></tr><tr><td width="40%" align="left" valign="top">4.7. Монтирование и размонтирование файловых систем </td><td width="20%" align="center"><a accesskey="h" href="index.html">Начало</a></td><td width="40%" align="right" valign="top"> 4.9. Даемоны, сигналы, уничтожение процессов</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Этот, и другие документы, могут быть скачаны с
    <a href="http://ftp.FreeBSD.org/pub/FreeBSD/doc/">http://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>.</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>По вопросам, связанным с FreeBSD, прочитайте
    <a href="http://www.FreeBSD.org/ru/docs.html">документацию</a> прежде чем писать в
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    По вопросам, связанным с этой документацией, пишите в рассылку
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.<br></br></small></p></body></html>