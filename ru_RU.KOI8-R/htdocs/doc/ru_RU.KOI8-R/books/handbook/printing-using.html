<?xml version="1.0" encoding="koi8-r" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=koi8-r" /><title>10.5. Использование принтеров</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Руководство FreeBSD" /><link rel="up" href="printing.html" title="Глава 10. Печать" /><link rel="prev" href="printing-advanced.html" title="10.4. Расширенная настройка принтера" /><link rel="next" href="printing-lpd-alternatives.html" title="10.6. Альтернативы стандартному спулеру" /><link rel="copyright" href="legalnotice.html" title="Юридическое уведомление" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">10.5. Использование принтеров</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="printing-advanced.html">Пред.</a> </td><th width="60%" align="center">Глава 10. Печать</th><td width="20%" align="right"> <a accesskey="n" href="printing-lpd-alternatives.html">След.</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="printing-using"></a>10.5. Использование принтеров</h2></div></div></div><a id="idp84383568" class="indexterm"></a><p>В этом разделе описано, как использовать настроенные принтеры
      в ОС FreeBSD. Вот сводка команд пользовательского уровня:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lpr&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lpr</span>(1)</span></a></span></dt><dd><p>Печать заданий</p></dd><dt><span class="term"><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lpq&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lpq</span>(1)</span></a></span></dt><dd><p>Проверка очередей принтеров</p></dd><dt><span class="term"><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lprm&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lprm</span>(1)</span></a></span></dt><dd><p>Удаление заданий из очередей принтеров</p></dd></dl></div><p>Есть также административная команда, <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lpc&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">lpc</span>(8)</span></a>, описанная в
      разделе <a class="link" href="printing-using.html#printing-lpc" title="10.5.5. Администрирование принтеров">Администрирование принтеров</a>, используемая для управления
      принтерами и их очередями.</p><p>Все три команды, <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lpr&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lpr</span>(1)</span></a>, <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lprm&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lprm</span>(1)</span></a> и <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lpq&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lpq</span>(1)</span></a>,
      поддерживают опцию <code class="option">-P <em class="replaceable"><code>имя-принтера</code></em></code>,
      позволяющую указать, с каким принтером/очередью из указанных в
      файле <code class="filename">/etc/printcap</code> работать. Это позволяет
      посылать, удалять и проверять задания на разных принтерах. Если вы
      не используете опцию <code class="option">-P</code>, эти команды используют
      принтер, указанный в качестве значения переменной среды
      <code class="envar">PRINTER</code>. Наконец, если переменная среды
      <code class="envar">PRINTER</code> не задана, эти команды по умолчанию
      направляются на принтер по имени <code class="literal">lp</code>.</p><p>Далее термин <span class="emphasis"><em>стандартный принтер</em></span>
      означает принтер, указанный переменной среды <code class="envar">PRINTER</code>
      или принтер по имени <code class="literal">lp</code>, если переменная
      среды <code class="envar">PRINTER</code> не задана.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="printing-lpr"></a>10.5.1. Задания печати</h3></div></div></div><p>Для печати файлов, выполните команду:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>lpr <em class="replaceable"><code>имя-файла</code></em> <em class="replaceable"><code>...</code></em></code></strong></pre><a id="idp84411728" class="indexterm"></a><p>Эта команда печатает каждый из перечисленных файлов на стандартный
	принтер. Если файлы не указаны, команда <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lpr&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lpr</span>(1)</span></a> читает данные для
	печати со стандартного входного потока. Например, следующая команда
	печатает некоторые важные системные файлы:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>lpr /etc/host.conf /etc/hosts.equiv</code></strong></pre><p>Для выбора конкретного принтера, введите:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>lpr -P <em class="replaceable"><code>имя-принтера</code></em> <em class="replaceable"><code>имя-файла</code></em> <em class="replaceable"><code>...</code></em></code></strong></pre><p>Следующая команда печатает подробный листинг текущего каталога
	на принтере <code class="literal">rattan</code>:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>ls -l | lpr -P rattan</code></strong></pre><p>Поскольку для команды <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lpr&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lpr</span>(1)</span></a> файлы не указаны,
	команда <code class="command">lpr</code> читает данные для печати из стандартного
	входного потока, который содержит результат выполнения команды
	<code class="command">ls -l</code>.</p><p>Команда <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lpr&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lpr</span>(1)</span></a> может также принимать множество опций
	для управления форматированием, применения преобразований,
	печати нескольких копий и т.д. Дополнительную информацию см. в
	разделе <a class="link" href="printing-using.html#printing-lpr-options" title="10.5.4. Не только обычный текст: опции печати">Опции печати</a>.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="printing-lpq"></a>10.5.2. Проверка заданий</h3></div></div></div><a id="idp84422864" class="indexterm"></a><p>При печати с помощью команды <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lpr&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lpr</span>(1)</span></a>, данные, которые надо
	напечатать, помещаются вместе в пакет, который называют <span class="quote"><<<span class="quote">заданием
	печати</span>>></span>, и посылаются системе спулинга <span class="application">LPD</span>.
	Каждый принтер имеет очередь заданий, и ваше задание ждет в этой
	очереди вместе с другими вашими заданиями и заданиями других
	пользователей. Принтер печатает эти задания по принципу первым пришло,
	первым выполнено.</p><p>Для получения очереди стандартного принтера, введите команду
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lpq&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lpq</span>(1)</span></a>. Чтобы указать конкретный принтер, используйте
	опцию <code class="option">-P</code>. Например, команда

    </p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>lpq -P bamboo</code></strong></pre><p>

	показывает очередь для принтера по имени <code class="literal">bamboo</code>.
	Вот пример результатов выполнения команды <code class="command">lpq</code>:</p><pre class="screen">bamboo is ready and printing
Rank   Owner    Job  Files                              Total Size
active kelly    9    /etc/host.conf, /etc/hosts.equiv   88 bytes
2nd    kelly    10   (standard input)                   1635 bytes
3rd    mary     11   ...                                78519 bytes</pre><p>Показано, что в очереди <code class="literal">bamboo</code> есть три
	задания. Первое задание, посланное пользователем kelly, получило
	<span class="quote"><<<span class="quote">номер задания</span>>></span> 9. Каждое задание для принтера получает
	уникальный номер задания. В большинстве случаев номер задания можно
	игнорировать, но он потребуется, если надо будет отменить задание;
	подробнее об этом см. в разделе <a class="link" href="printing-using.html#printing-lprm" title="10.5.3. Удаление заданий">Удаление
	заданий</a>.</p><p>Задание номер 9 состоит из двух файлов; несколько файлов,
	указанных в командной строке <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lpr&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lpr</span>(1)</span></a>, считаются частью одного
	задания. Это задание является текущим активным (обратите внимание на
	слово <code class="literal">active</code> в столбце <span class="quote"><<<span class="quote">Rank</span>>></span>),
	т.е. принтер должен сейчас печатать это задание. Второе задание
	состоит из данных, передаваемых в качестве стандартного входного
	потока команде <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lpr&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lpr</span>(1)</span></a>. Третье задание послано пользователем
	<code class="systemitem">mary</code>; оно намного больше по объему.
	Полное имя файла, который печатается, слишком длинное и не помещается,
	поэтому команда <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lpq&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lpq</span>(1)</span></a> просто выдает три точки.</p><p>Самая первая строка результатов команды <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lpq&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lpq</span>(1)</span></a> тоже полезна:
	она говорит о том, что сейчас делает принтер (или, по крайней мере,
	что он делает по мнению системы <span class="application">LPD</span>).</p><p>Команда <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lpq&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lpq</span>(1)</span></a> также поддерживает опцию <code class="option">-l</code>
	для генерации подробного длинного листинга. Вот пример результатов
	выполнения команды <code class="command">lpq -l</code>:</p><pre class="screen">waiting for bamboo to become ready (offline ?)
kelly: 1st                 [job 009rose]
       /etc/host.conf                    73 bytes
       /etc/hosts.equiv                  15 bytes

kelly: 2nd                 [job 010rose]
       (standard input)                  1635 bytes

mary: 3rd                                [job 011rose]
      /home/orchid/mary/research/venus/alpha-regio/mapping 78519 bytes</pre></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="printing-lprm"></a>10.5.3. Удаление заданий</h3></div></div></div><p>Если вы передумали печатать задание, можно удалить его из очереди
	заданий с помощью команды <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lprm&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lprm</span>(1)</span></a>. Часто можно использовать
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lprm&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lprm</span>(1)</span></a> для удаления активного задания, но часть задания или
	даже все задание все равно может быть напечатано.</p><p>Для удаления задания со стандартного принтера сначала используйте
	команду <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lpq&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lpq</span>(1)</span></a> для поиска номера задания. Затем введите команду:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>lprm <em class="replaceable"><code>номер-задания</code></em></code></strong></pre><p>Для удаления задания с указанного принтера, задайте опцию
	<code class="option">-P</code> option. Следующая команда удаляет задание номер
	10 из очереди заданий принтера <code class="literal">bamboo</code>:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>lprm -P bamboo 10</code></strong></pre><p>Для команды <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lprm&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lprm</span>(1)</span></a> есть ряд сокращений:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">lprm -</span></dt><dd><p>Удаляет все задания (со стандартного принтера), принадлежащие
	  пользователю, который выполнил команду.</p></dd><dt><span class="term">lprm <em class="replaceable"><code>пользователь</code></em></span></dt><dd><p>Удаляет все задания (для стандартного принтера), принадлежащие
	  указанному <em class="replaceable"><code>пользователю</code></em>. Суперпользователь
	  может удалять задания других пользователей; обычный пользователь
	  может удалять только собственные задания.</p></dd><dt><span class="term">lprm</span></dt><dd><p>Если в командной строке не указаны номер задания, имя
	  пользователя, или указана опция <code class="option">-</code>,
	  команда <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lprm&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lprm</span>(1)</span></a> удаляет текущее активное задание на стандартном
	  принтере, если оно принадлежит вам. Суперпользователь может удалять
	  любое активное задание.</p></dd></dl></div><p>Добавьте опцию <code class="option">-P</code> для любого из перечисленных выше
      сокращений, чтобы работать с любым необходимым принтером вместо
      стандартного. Например, следующая команда удаляет все задания текущего
      пользователя из очереди принтера по имени <code class="literal">rattan</code>:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>lprm -P rattan -</code></strong></pre><div xmlns="" class="note"><h3 class="admontitle">Примечание: </h3><p xmlns="http://www.w3.org/1999/xhtml">Если вы работаете в сетевой среде, команда <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lprm&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lprm</span>(1)</span></a> позволит
      вам удалять задания только с хоста, с которого они были посланы,
      даже если тот же принтер доступен и с других хостов. Следующая
      последовательность команд демонстрирует это:</p><pre xmlns="http://www.w3.org/1999/xhtml" class="screen"><code class="prompt">%</code> <strong class="userinput"><code>lpr -P rattan myfile</code></strong>
<code class="prompt">%</code> <strong class="userinput"><code>rlogin orchid</code></strong>
<code class="prompt">%</code> <strong class="userinput"><code>lpq -P rattan</code></strong>
Rank   Owner      Job  Files                          Total Size
active seeyan      12    ...                           49123 bytes
2nd    kelly      13   myfile                         12 bytes
<code class="prompt">%</code> <strong class="userinput"><code>lprm -P rattan 13</code></strong>
rose: Permission denied
<code class="prompt">%</code> <strong class="userinput"><code>logout</code></strong>
<code class="prompt">%</code> <strong class="userinput"><code>lprm -P rattan 13</code></strong>
dfA013rose dequeued
cfA013rose dequeued
    </pre></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="printing-lpr-options"></a>10.5.4. Не только обычный текст: опции печати</h3></div></div></div><p>Команда <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lpr&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lpr</span>(1)</span></a> поддерживает несколько опций, управляющих
	форматированием текста, преобразованием графики и других форматов
	файлов, выдачей нескольких копий, обработкой задания и др. В этом
	разделе описаны эти опции.</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="printing-lpr-options-format"></a>10.5.4.1. Опции форматирования и преобразования</h4></div></div></div><p>Следующие опции команды <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lpr&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lpr</span>(1)</span></a> управляют форматированием
      файлов в задании. Используйте эти опции, если задание содержит не
      простой текст или если вы хотите сформатировать простой текст с
      помощью утилиты <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pr&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">pr</span>(1)</span></a>.</p><a id="idp84500304" class="indexterm"></a><p>Например, следующая команда печатает файл DVI (из системы
      верстки <span class="application">TeX</span>) по имени <code class="filename">fish-report.dvi</code>
      на принтере <code class="literal">bamboo</code>:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>lpr -P bamboo -d fish-report.dvi</code></strong></pre><p>Эти опции применяются для каждого файла в задании, так что нельзя
      смешивать (например) файлы DVI и ditroff в одном задании. Вместо этого
      посылайте однотипные файлы отдельными заданиями, используя для каждого
      задания соответствующие опции преобразования.</p><div xmlns="" class="note"><h3 class="admontitle">Примечание: </h3><p xmlns="http://www.w3.org/1999/xhtml">Все эти опции, кроме <code class="option">-p</code> и <code class="option">-T</code>,
	требуют наличия установленных для целевого принтера фильтров
	преобразования. Например, опция <code class="option">-d</code> требует фильтра
	преобразования DVI. Подробнее см. в разделе
	<a class="link" href="printing-advanced.html#printing-advanced-convfilters" title="10.4.1.4. Фильтры преобразования">Фильтры преобразования</a>.</p></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-c</code></span></dt><dd><p>Печать файлов cifplot.</p></dd><dt><span class="term"><code class="option">-d</code></span></dt><dd><p>Печать файлов DVI.</p></dd><dt><span class="term"><code class="option">-f</code></span></dt><dd><p>Печать текстовых файлов на языке FORTRAN.</p></dd><dt><span class="term"><code class="option">-g</code></span></dt><dd><p>Печать графиков.</p></dd><dt><span class="term"><code class="option">-i<em class="replaceable"><code>число</code></em></code></span></dt><dd><p>Сдвинуть результат вправо на <em class="replaceable"><code>число</code></em>
	    столбцов; если <em class="replaceable"><code>число</code></em> не указано,
	    сдвиг выполняется на 8 столбцов. Эта опция работает только с
	    определенными фильтрами преобразования.</p><div xmlns="" class="note"><h3 class="admontitle">Примечание: </h3><p xmlns="http://www.w3.org/1999/xhtml">Не помещайте пробелы между <code class="option">-i</code> и числом.</p></div></dd><dt><span class="term"><code class="option">-l</code></span></dt><dd><p>Печать текстовых данных буквально, включая управляющие символы.</p></dd><dt><span class="term"><code class="option">-n</code></span></dt><dd><p>Печать данных ditroff (device independent troff).</p></dd><dt><span class="term">-p</span></dt><dd><p>Форматировать обычный текст перед печатью утилитой <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pr&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">pr</span>(1)</span></a>.
	    Подробнее см. <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pr&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">pr</span>(1)</span></a>.</p></dd><dt><span class="term"><code class="option">-T <em class="replaceable"><code>заголовок</code></em></code></span></dt><dd><p>Использовать указанный <em class="replaceable"><code>заголовок</code></em>
	    в колонтитуле <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pr&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">pr</span>(1)</span></a> вместо имени файла. Эта опция учитывается
	    только при использовании вместе с опцией <code class="option">-p</code>.</p></dd><dt><span class="term"><code class="option">-t</code></span></dt><dd><p>Печать данных troff.</p></dd><dt><span class="term"><code class="option">-v</code></span></dt><dd><p>Печать растровых данных.</p></dd></dl></div><p>Вот пример: следующая команда печатает красиво сформатированную
      версию справочного руководства по команде <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ls&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ls</span>(1)</span></a> на стандартный
      принтер:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>zcat /usr/share/man/man1/ls.1.gz | troff -t -man | lpr -t</code></strong></pre><p>Команда <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=zcat&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">zcat</span>(1)</span></a> распаковывает исходный код страницы справочного
      руководства <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ls&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ls</span>(1)</span></a> и передает его команде <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=troff&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">troff</span>(1)</span></a>, которая
      форматирует его и выдает результат в формате GNU troff, передаваемый
      команде <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lpr&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lpr</span>(1)</span></a>, посылающей задание спулеру <span class="application">LPD</span>.
      Поскольку мы использовали опцию <code class="option">-t</code> команды <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lpr&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lpr</span>(1)</span></a>,
      спулер при печати задания будет преобразовывать результат GNU troff в
      формат, понятный стандартному принтеру.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="printing-lpr-options-job-handling"></a>10.5.4.2. Опции обработки заданий</h4></div></div></div><p>Следующие опции команды <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lpr&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lpr</span>(1)</span></a> требуют от системы
      <span class="application">LPD</span> специальной обработки задания:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">-# <em class="replaceable"><code>копий</code></em></span></dt><dd><p>Выдавать указанное количество <em class="replaceable"><code>копий</code></em>
	    каждого файла в задании вместо одной. Администратор может отключить
	    эту опцию для уменьшения износа принтера и поощрения использования
	    ксерокса. См. раздел
	    <a class="link" href="printing-advanced.html#printing-advanced-restricting-copies" title="10.4.4.1. Ограничение количества копий">Ограничение
	    количества копий</a>.</p><p>В следующем примере на стандартный принтер печатается три
	    копии файла <code class="filename">parser.c</code>, а затем - три копии
	    <code class="filename">parser.h</code>:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>lpr -#3 parser.c parser.h</code></strong></pre></dd><dt><span class="term">-m</span></dt><dd><p>Посылать почту после завершения задания печати. При указании
	    этой опции, система <span class="application">LPD</span> будет посылать
	    почту на ваше имя после завершения обработки вашего задания. В
	    сообщении будет сказано, выполнено ли задание успешно или по ходу
	    была ошибка, и (часто) - в чем она состояла.</p></dd><dt><span class="term">-s</span></dt><dd><p>Не копировать файлы в каталог спулинга, а сделать там на них
	    символические связи.</p><p>Эту опцию имеет смысл использовать при печати больших заданий.
	    Она экономит место в каталоге спулинга (ваше задание может занять
	    все свободное место в файловой системе, в которой находится каталог
	    спулинга). Она также экономит время, поскольку системе
	    <span class="application">LPD</span> не придется копировать каждый байт
	    задания в каталог спулинга.</p><p>Есть, однако, и недостаток: поскольку система
	      <span class="application">LPD</span> будет ссылаться на исходные
	    файлы непосредственно, вы не сможете изменять или удалять их,
	    пока они не будут распечатаны.</p><div xmlns="" class="note"><h3 class="admontitle">Примечание: </h3><p xmlns="http://www.w3.org/1999/xhtml">Если вы печатаете на удаленный принтер, система <span class="application">LPD</span>
	  будет вынуждена, так или иначе, скопировать файлы с локального хоста
	  на удаленный, поэтому опция <code class="option">-s</code>сэкономит место только
	  в локальном каталоге спулинга, но не в удаленном. Но, она все равно
	  полезна.</p></div></dd><dt><span class="term">-r</span></dt><dd><p>Удалять файлы в задании после копирования в каталог спулинга
	    или после печати, если указана опция <code class="option">-s</code>. Будьте
	    внимательны при использовании этой опции!</p></dd></dl></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="printing-lpr-options-misc"></a>10.5.4.3. Опции начальных страниц</h4></div></div></div><p>Эти опции команды <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lpr&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lpr</span>(1)</span></a> изменяют текст, который обычно
	  выдается на начальной странице задания. Если выдача начальных страниц
	  для целевого принтера отключена, эти опции не действуют. Информацию по
	  настройке начальных страниц см. в разделе
	  <a class="link" href="printing-advanced.html#printing-advanced-header-pages" title="10.4.2. Начальные страницы">Начальные страницы</a>.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">-C <em class="replaceable"><code>текст</code></em></span></dt><dd><p>Заменить имя хоста на начальной странице
		<em class="replaceable"><code>текстом</code></em>. Обычно на ней выдается имя хоста,
		с которого было послано задание.</p></dd><dt><span class="term">-J <em class="replaceable"><code>текст</code></em></span></dt><dd><p>Заменить имя задания на начальной странице
		<em class="replaceable"><code>текстом</code></em>. Имя задания обычно совпадает с
		именем первого файла в задании или имеет значение <code class="filename">stdin</code>,
		если печатается стандартный входной поток.</p></dd><dt><span class="term">-h</span></dt><dd><p>Не выдавать начальной страницы.</p><div xmlns="" class="note"><h3 class="admontitle">Примечание: </h3><p xmlns="http://www.w3.org/1999/xhtml">В некоторых организациях эта опция может не действовать, что
	      определяется способом генерации начальных страниц. Подробнее см. в
	      разделе <a class="link" href="printing-advanced.html#printing-advanced-header-pages" title="10.4.2. Начальные страницы">Начальные
	      страницы</a>.</p></div></dd></dl></div></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="printing-lpc"></a>10.5.5. Администрирование принтеров</h3></div></div></div><p>Как администратор принтеров, вы должны их установить, настроить и
	протестировать. С помощью команды <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lpc&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">lpc</span>(8)</span></a> вы можете
	взаимодействовать с принтерами и другими способами. С помощью
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lpc&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">lpc</span>(8)</span></a> вы можете:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Запускать и останавливать принтеры</p></li><li class="listitem"><p>Включать и отключать их очереди</p></li><li class="listitem"><p>Изменять порядок заданий в каждой очереди.</p></li></ul></div><p>Начнем с замечания по терминологии: если принтер
	<span class="emphasis"><em>остановлен</em></span>, он не будет печатать ничего из
	своей очереди. Пользователи могут продолжать посылать задания,
	которые будут ждать в очереди, пока принтер не будет
	<span class="emphasis"><em>запущен</em></span> или пока очередь не будет очищена.</p><p>Если очередь <span class="emphasis"><em>отключена</em></span>, ни один пользователь
	(кроме <code class="systemitem">root</code>) не может посылать задания на
	принтер. Во <span class="emphasis"><em>включенную</em></span> очередь можно посылать
	задания. Принтер для отключенной очереди может быть
	<span class="emphasis"><em>запущен</em></span>; при этом он будет продолжать печатать
	находящиеся в очереди задания, пока очередь не станет пустой.</p><p>В общем случае, для использования команды <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lpc&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">lpc</span>(8)</span></a> необходимо
	иметь привилегии <code class="systemitem">root</code>. Обычные пользователи
	могут использовать команду <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lpc&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">lpc</span>(8)</span></a> только для получения состояния
	принтера и перезапуска зависшего принтера.</p><p>Далее представлена сводка команд <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lpc&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">lpc</span>(8)</span></a>. Большинство команд
	принимает аргумент <em class="replaceable"><code>имя-принтера</code></em>, задающий,
	с каким принтером работать. Можно использовать значение <code class="literal">all</code>
	вместо <em class="replaceable"><code>имени-принтера</code></em>, означающее все
	принтеры, перечисленные в файле <code class="filename">/etc/printcap</code>.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="command">abort
	      <em class="replaceable"><code>имя-принтера</code></em></code></span></dt><dd><p>Снять текущее задание и остановить принтер. Пользователи могут
	      продолжать посылать задания, если очередь включена.</p></dd><dt><span class="term"><code class="command">clean
	      <em class="replaceable"><code>имя-принтера</code></em></code></span></dt><dd><p>Удалить старые файлы из каталога спулинга принтера.
	      Иногда файлы, составляющие задание, не удаляются как положено
	      системой <span class="application">LPD</span>, особенно если
	      в ходе печати были ошибки и выполнялось много административных
	      действий. Эта команда находит файлы, не принадлежащие каталогу
	      спулинга, и удаляет их.</p></dd><dt><span class="term"><code class="command">disable
	      <em class="replaceable"><code>имя-принтера</code></em></code></span></dt><dd><p>Отключить постановку новых заданий в очередь. Если принтер
	      работает, он продолжит печатать задания, остающиеся в очереди.
	      Суперпользователь (<code class="systemitem">root</code>) всегда может посылать
	      задания, даже в отключенную очередь.</p><p>Эта команда полезна при тестировании вновь установленного
	      принтера или фильтра: отключаем очередь и посылаем задания как
	      <code class="systemitem">root</code>. Другие пользователи не смогут посылать
	      задания, пока вы не закончите тестирование и не включите очередь
	      повторно командой <code class="command">enable</code>.</p></dd><dt><span class="term"><code class="command">down <em class="replaceable"><code>имя-принтера</code></em>
	      <em class="replaceable"><code>сообщение</code></em></code></span></dt><dd><p>Отключить принтер. Аналогична последовательности команд
	      <code class="command">disable</code> и <code class="command">stop</code>.
	      Указанное <em class="replaceable"><code>сообщение</code></em> выдается как
	      состояние принтера при проверке пользователем очереди принтера
	      с помощью <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lpq&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lpq</span>(1)</span></a> или запросе его состояния командой
	      <code class="command">lpc status</code>.</p></dd><dt><span class="term"><code class="command">enable
	      <em class="replaceable"><code>имя-принтера</code></em></code></span></dt><dd><p>Включить очередь для принтера. Пользователи могут посылать
	      задания, но принтер не будет их печатать, пока не будет запущен.</p></dd><dt><span class="term"><code class="command">help
	      <em class="replaceable"><code>имя-команды</code></em></code></span></dt><dd><p>Выдать справочную информацию по команде
	      <em class="replaceable"><code>имя-команды</code></em>. Если
	      <em class="replaceable"><code>имя-команды</code></em> не указано,
	      выдает сводку по имеющимся командам.</p></dd><dt><span class="term"><code class="command">restart
	      <em class="replaceable"><code>имя-принтера</code></em></code></span></dt><dd><p>Перезапустить принтер. Обычные пользователи могут использовать эту
	      команду, если в результате неких чрезвычайных обстоятельств система
	      <span class="application">LPD</span> зависла, но они не могут запустить
	      принтер, остановленный командами <code class="command">stop</code> или
	      <code class="command">down</code>. Команда <code class="command">restart</code>
	      эквивалентна последовательности команд <code class="command">abort</code>
	      и <code class="command">start</code>.</p></dd><dt><span class="term"><code class="command">start
	      <em class="replaceable"><code>имя-принтера</code></em></code></span></dt><dd><p>Запустить принтер. Принтер будет печатать задания, находящиеся в
	      его очереди.</p></dd><dt><span class="term"><code class="command">stop
	      <em class="replaceable"><code>имя-принтера</code></em></code></span></dt><dd><p>Остановить принтер. Принтер закончит печать текущего задания
	      и больше ничего из очереди печатать не будет. Хотя принтер и
	      остановлен, пользователи могут посылать задания во включенную
	      очередь.</p></dd><dt><span class="term"><code class="command">topq <em class="replaceable"><code>имя-принтера</code></em>
	      <em class="replaceable"><code>задание-или-имя-пользователя</code></em></code></span></dt><dd><p>Переупорядочить очередь для указанного принтера, помещая
	      указанные по номеру <em class="replaceable"><code>задания</code></em> или
	      задания указанного по имени <em class="replaceable"><code>пользователя</code></em>
	      в начало очереди. Для этой команды нельзя использовать
	      <code class="literal">all</code> в качестве <em class="replaceable"><code>имени-принтера</code></em>.</p></dd><dt><span class="term"><code class="command">up
	      <em class="replaceable"><code>имя-принтера</code></em></code></span></dt><dd><p>Включить принтер; команда по действию противоположна команде
	      <code class="command">down</code>. Эквивалентна последовательности команд
	      <code class="command">start</code> и <code class="command">enable</code>.</p></dd></dl></div><p>Утилита <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lpc&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">lpc</span>(8)</span></a> принимает перечисленные выше команды в
	командной строке. Если команда не указана, утилита <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lpc&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">lpc</span>(8)</span></a>
	входит в интерактивный режим, в котором можно вводить команды,
	пока не будет введена команда <code class="command">exit</code>,
	<code class="command">quit</code> или символ конца файла.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="printing-advanced.html">Пред.</a> </td><td width="20%" align="center"><a accesskey="u" href="printing.html">Наверх</a></td><td width="40%" align="right"> <a accesskey="n" href="printing-lpd-alternatives.html">След.</a></td></tr><tr><td width="40%" align="left" valign="top">10.4. Расширенная настройка принтера </td><td width="20%" align="center"><a accesskey="h" href="index.html">Начало</a></td><td width="40%" align="right" valign="top"> 10.6. Альтернативы стандартному спулеру</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Этот, и другие документы, могут быть скачаны с
    <a href="http://ftp.FreeBSD.org/pub/FreeBSD/doc/">http://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>.</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>По вопросам, связанным с FreeBSD, прочитайте
    <a href="http://www.FreeBSD.org/ru/docs.html">документацию</a> прежде чем писать в
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    По вопросам, связанным с этой документацией, пишите в рассылку
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.<br></br></small></p></body></html>