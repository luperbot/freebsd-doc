<?xml version="1.0" encoding="koi8-r" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=koi8-r" /><title>11.3. Обеспечение сообщества информацией</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Руководство FreeBSD по созданию портов" /><link rel="up" href="security.html" title="Глава 11. Безопасность портов" /><link rel="prev" href="security-fix.html" title="11.2. Исправление уязвимостей безопасности" /><link rel="next" href="porting-dads.html" title="Глава 12. Что делать нужно, и что делать нельзя" /><link rel="copyright" href="legalnotice.html" title="Юридическое уведомление" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">11.3. Обеспечение сообщества информацией</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="security-fix.html">Пред.</a> </td><th width="60%" align="center">Глава 11. Безопасность портов</th><td width="20%" align="right"> <a accesskey="n" href="porting-dads.html">След.</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="security-notify"></a>11.3. Обеспечение сообщества информацией</h2></div></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="security-notify-vuxml-db"></a>11.3.1. База данных VuXML</h3></div></div></div><p>Очень важным и первостепенным шагом при действии как
	можно раньше после раскрытия уязвимости является уведомление
	сообщества пользователей порта об опасности.  Такие
	уведомления служат двум целям.  Во-первых, в случае
	действительно серьезной угрозы, будет посоветовано применить
	мгновенное воздействие.  Например, остановить затрагиваемый
	сетевой сервис или даже удалить порт целиком, пока уязвимость
	не будет устранена.  Во-вторых, масса пользователей имеет
	тенденцию обновлять установленные пакеты только от случая к
	случаю.  Из уведомления они узнают, что
	<span class="emphasis"><em>должны</em></span> обновить пакет без промедления
	сразу же после появления исправленной версии.</p><p>Учитывая огромное число портов в дереве, невозможно по
	каждому случаю выпускать бюллетень безопасности без создания
	флуда и потери внимания сообщества к моменту появления
	действительно серьезных причин.  Поэтому уязвимости
	безопасности, обнаруженные в портах, записываются в <a class="link" href="http://vuxml.freebsd.org/" target="_top">базу данных FreeBSD
	  VuXML</a>.  Члены Команды Офицеров Безопасности также
	отслеживают её на предмет появления вопросов, требующих их
	вмешательства.</p><p>Если вы обладаете правами коммиттера, вы можете сам
	обновить базу данных VuXML.  Так вы поможете Команде Офицеров
	Безопасности и своевременно пошлете ценную информацию
	сообществу.  Тем не менее, если вы не являетесь коммиттером
	или верите, что нашли исключительно серьезную уязвимость, то
	не задумываясь свяжитесь с Командой Офицеров Безопасности
	напрямую как это описано на странице <a class="link" href="http://www.freebsd.org/security/#how" target="_top">информационной
	  безопасности FreeBSD</a>.</p><p>База данных VuXML является документом
	<acronym class="acronym">XML</acronym>.  Его исходный файл
	<code class="filename">vuln.xml</code> содержится прямо внутри порта
	<a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/security/vuxml/pkg-descr">security/vuxml</a>.
	Следовательно, полное имя пути к файлу будет
	<code class="filename">PORTSDIR/security/vuxml/vuln.xml</code>.
	Каждый раз, при обнаружении вами в порте уязвимости
	безопасности добавьте об этом запись в этот файл.  Пока вы не
	знакомы с VuXML, лучшее, что вы можете сделать, это найти
	существующую запись, подпадающую под ваш случай, затем
	скопировать ее и использовать в качестве шаблона.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="security-notify-vuxml-intro"></a>11.3.2. Короткое вступление в VuXML</h3></div></div></div><p>В совокупности <acronym class="acronym">XML</acronym> является очень
	сложным форматом, и его описание выходит далеко за рамки этой
	книги.  Тем не менее, для достижения основного понимания
	структуры записи VuXML вам понадобится всего лишь понять
	теги.  Имена тегов XML обрамляются в угловые скобки.  Каждый
	открывающий &lt;tag&gt; должен иметь совпадающий закрывающий
	&lt;/tag&gt;.  Теги могут быть вложенными.  При вложенности
	внутренние теги должны быть закрыты до закрытия внешних.
	Существует иерархия тегов, т.е. более сложные правила
	вкладывания тегов.  Это похоже на HTML.  Основное отличие в
	расширяемости XML, т.е. в определении собственных тегов.
	Из-за своей характерной структуры XML придает форму
	разрозненным данным.  В частности, XML подходит для разметки
	описаний уязвимостей безопасности.</p><p>Теперь рассмотрим настоящую запись VuXML:</p><pre class="programlisting">&lt;vuln vid="f4bc80f4-da62-11d8-90ea-0004ac98a7b9"&gt; <a id="co-vx-vid"></a><span><img src="./imagelib/callouts/1.png" alt="1" border="0" /></span>
  &lt;topic&gt;Several vulnerabilities found in Foo&lt;/topic&gt; <a id="co-vx-top"></a><span><img src="./imagelib/callouts/2.png" alt="2" border="0" /></span>
  &lt;affects&gt;
    &lt;package&gt;
      &lt;name&gt;foo&lt;/name&gt; <a id="co-vx-nam"></a><span><img src="./imagelib/callouts/3.png" alt="3" border="0" /></span>
      &lt;name&gt;foo-devel&lt;/name&gt;
      &lt;name&gt;ja-foo&lt;/name&gt;
      &lt;range&gt;&lt;ge&gt;1.6&lt;/ge&gt;&lt;lt&gt;1.9&lt;/lt&gt;&lt;/range&gt; <a id="co-vx-rng"></a><span><img src="./imagelib/callouts/4.png" alt="4" border="0" /></span>
      &lt;range&gt;&lt;ge&gt;2.*&lt;/ge&gt;&lt;lt&gt;2.4_1&lt;/lt&gt;&lt;/range&gt;
      &lt;range&gt;&lt;eq&gt;3.0b1&lt;/eq&gt;&lt;/range&gt;
    &lt;/package&gt;
    &lt;package&gt;
      &lt;name&gt;openfoo&lt;/name&gt; <a id="co-vx-nm2"></a><span><img src="./imagelib/callouts/5.png" alt="5" border="0" /></span>
      &lt;range&gt;&lt;lt&gt;1.10_7&lt;/lt&gt;&lt;/range&gt; <a id="co-vx-epo"></a><span><img src="./imagelib/callouts/6.png" alt="6" border="0" /></span>
      &lt;range&gt;&lt;ge&gt;1.2,1&lt;/ge&gt;&lt;lt&gt;1.3_1,1&lt;/lt&gt;&lt;/range&gt;
    &lt;/package&gt;
  &lt;/affects&gt;
  &lt;description&gt;
    &lt;body xmlns="http://www.w3.org/1999/xhtml"&gt;
      &lt;p&gt;J. Random Hacker reports:&lt;/p&gt; <a id="co-vx-bdy"></a><span><img src="./imagelib/callouts/7.png" alt="7" border="0" /></span>
      &lt;blockquote
        cite="http://j.r.hacker.com/advisories/1"&gt;
        &lt;p&gt;Several issues in the Foo software may be exploited
          via carefully crafted QUUX requests.  These requests will
          permit the injection of Bar code, mumble theft, and the
          readability of the Foo administrator account.&lt;/p&gt;
      &lt;/blockquote&gt;
    &lt;/body&gt;
  &lt;/description&gt;
  &lt;references&gt; <a id="co-vx-ref"></a><span><img src="./imagelib/callouts/8.png" alt="8" border="0" /></span>
    &lt;freebsdsa&gt;SA-10:75.foo&lt;/freebsdsa&gt; <a id="co-vx-fsa"></a><span><img src="./imagelib/callouts/9.png" alt="9" border="0" /></span>
    &lt;freebsdpr&gt;ports/987654&lt;/freebsdpr&gt; <a id="co-vx-fpr"></a><span><img src="./imagelib/callouts/10.png" alt="10" border="0" /></span>
    &lt;cvename&gt;CAN-2010-0201&lt;/cvename&gt; <a id="co-vx-cve"></a><span><img src="./imagelib/callouts/11.png" alt="11" border="0" /></span>
    &lt;cvename&gt;CAN-2010-0466&lt;/cvename&gt;
    &lt;bid&gt;96298&lt;/bid&gt; <a id="co-vx-bid"></a><span><img src="./imagelib/callouts/12.png" alt="12" border="0" /></span>
    &lt;certsa&gt;CA-2010-99&lt;/certsa&gt; <a id="co-vx-cts"></a><span><img src="./imagelib/callouts/13.png" alt="13" border="0" /></span>
    &lt;certvu&gt;740169&lt;/certvu&gt; <a id="co-vx-ctv"></a><span><img src="./imagelib/callouts/14.png" alt="14" border="0" /></span>
    &lt;uscertsa&gt;SA10-99A&lt;/uscertsa&gt; <a id="co-vx-ucs"></a><span><img src="./imagelib/callouts/15.png" alt="15" border="0" /></span>
    &lt;uscertta&gt;SA10-99A&lt;/uscertta&gt; <a id="co-vx-uct"></a><span><img src="./imagelib/callouts/16.png" alt="16" border="0" /></span>
    &lt;mlist msgid="201075606@hacker.com"&gt;http://marc.theaimsgroup.com/?l=bugtraq&amp;amp;m=203886607825605&lt;/mlist&gt; <a id="co-vx-mls"></a><span><img src="./imagelib/callouts/17.png" alt="17" border="0" /></span>
    &lt;url&gt;http://j.r.hacker.com/advisories/1&lt;/url&gt; <a id="co-vx-url"></a><span><img src="./imagelib/callouts/18.png" alt="18" border="0" /></span>
  &lt;/references&gt;
  &lt;dates&gt;
    &lt;discovery&gt;2010-05-25&lt;/discovery&gt; <a id="co-vx-dsc"></a><span><img src="./imagelib/callouts/19.png" alt="19" border="0" /></span>
    &lt;entry&gt;2010-07-13&lt;/entry&gt; <a id="co-vx-ent"></a><span><img src="./imagelib/callouts/20.png" alt="20" border="0" /></span>
    &lt;modified&gt;2010-09-17&lt;/modified&gt; <a id="co-vx-mod"></a><span><img src="./imagelib/callouts/21.png" alt="21" border="0" /></span>
  &lt;/dates&gt;
&lt;/vuln&gt;</pre><p>Имена тегов должны быть самодокументируемыми, чтобы мы
	сфокусировались только на полях, нужных нам для
	заполнения:</p><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#co-vx-vid"><span><img src="./imagelib/callouts/1.png" alt="1" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Это тег верхнего уровня записи VuXML.  У него есть
	    обязательный атрибут <code class="literal">vid</code>, указывающий
	    на универсальный уникальный идентификатор (UUID) для этой
	    записи (в кавычках).  Вы должны формировать UUID для
	    каждой новой записи VuXML (и не забудьте заменить ее для
	    шаблона UUID, если вы не пишете запись с нуля).  Для
	    получения VuXML UUID вы можете использовать
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=uuidgen&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">uuidgen</span>(1)</span></a>.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-vx-top"><span><img src="./imagelib/callouts/2.png" alt="2" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Однострочное описание найденной проблемы.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-vx-nam"><span><img src="./imagelib/callouts/3.png" alt="3" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Здесь перечислены имена затронутых пакетов.  Может
	    быть дано несколько имен, поскольку некоторые пакеты
	    могут быть основаны на одном главном порте или
	    программном продукте.  Сюда можно включить стабильную
	    ветвь и ветвь разработки, локализованные версии и
	    подчиненные порты, зависящие от различного выбора важных
	    вариантов конфигурации, указанных на этапе
	    построения.</p><div xmlns="" class="important"><h3 class="admontitle">Важно: </h3><p xmlns="http://www.w3.org/1999/xhtml">Поиск всех подобных пакетов при написании записи
	      VuXML входит в зону вашей ответственности.  Имейте в
	      виду, что <code class="literal">make search name=foo</code> это
	      ваш друг.  Первичные точки для поиска следующие:</p><div xmlns="http://www.w3.org/1999/xhtml" class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>вариант <code class="filename">foo-devel</code> для
		  порта <code class="filename">foo</code>;</p></li><li class="listitem"><p>другие варианты с суффиксами вида
		  <code class="literal">-a4</code> (для пакетов, связанных с
		  печатью), <code class="literal">-without-gui</code> (для
		  пакетов с отключенной поддержкой X), или
		  подобных;</p></li><li class="listitem"><p><code class="literal">jp-</code>, <code class="literal">ru-</code>,
		  <code class="literal">zh-</code> и другие возможные
		  локализованные варианты в соответствующих
		  национальных категориях коллекции портов.</p></li></ul></div></div></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-vx-rng"><span><img src="./imagelib/callouts/4.png" alt="4" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Здесь указаны затронутые версии пакета(-ов) как один
	    или более диапазонов с использованием комбинации
	    элементов <code class="literal">&lt;lt&gt;</code>,
	    <code class="literal">&lt;le&gt;</code>,
	    <code class="literal">&lt;eq&gt;</code>,
	    <code class="literal">&lt;ge&gt;</code>, и
	    <code class="literal">&lt;gt&gt;</code>.  Диапазоны внесённых
	    версий не должны пересекаться.</p><p>В спецификации диапазонов <code class="literal">*</code>
	    (звёздочка) означает наименьший номер версии.  В
	    частности, <code class="literal">2.*</code> меньше, чем
	    <code class="literal">2.a</code>.  Поэтому звездочка может быть
	    использована в диапазоне для совпадения со всеми
	    возможными <code class="literal">alpha</code>,
	    <code class="literal">beta</code> и <code class="literal">RC</code> версиями.
	    Как вариант,
	    <code class="literal">&lt;ge&gt;2.*&lt;/ge&gt;&lt;lt&gt;3.*&lt;/lt&gt;</code>
	    выборочно совпадет с версией <code class="literal">2.x</code>, а
	    <code class="literal">&lt;ge&gt;2.0&lt;/ge&gt;&lt;lt&gt;3.0&lt;/lt&gt;</code>
	    - нет, поскольку последнее не включает
	    <code class="literal">2.r3</code> и совпадает с
	    <code class="literal">3.b</code>.</p><p>Пример выше указывает, что к затронутым относятся
	    версии с <code class="literal">1.6</code> до <code class="literal">1.9</code>
	    включительно, версии <code class="literal">2.x</code> до
	    <code class="literal">2.4_1</code> и версия
	    <code class="literal">3.0b1</code>.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-vx-nm2"><span><img src="./imagelib/callouts/5.png" alt="5" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Некоторые связанные группы пакетов (в конечном счете,
	    порты) могут быть указаны в разделе
	    <code class="literal">&lt;affected&gt;</code>.  Это можно
	    использовать, если некоторые программные продукты
	    (скажем, FooBar, FreeBar and OpenBar) являются
	    производными от общей кодовой базы и всё еще совместно
	    используют её ошибки и уязвимости.  Имейте в виду отличие
	    от перечисления множественных имён в одном разделе
	    &lt;package&gt;.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-vx-epo"><span><img src="./imagelib/callouts/6.png" alt="6" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Диапазоны версий должны учитывать
	    <code class="varname">PORTEPOCH</code> и
	    <code class="varname">PORTREVISION</code>, если это применимо.
	    Пожалуйста, помните, что в соответствии с правилами
	    сравнения строк версия с ненулевым значением
	    <code class="varname">PORTEPOCH</code> выше, чем любая версия без
	    <code class="varname">PORTEPOCH</code>, например,
	    <code class="literal">3.0,1</code> выше, чем <code class="literal">3.1</code>
	    или даже <code class="literal">8.9</code>.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-vx-bdy"><span><img src="./imagelib/callouts/7.png" alt="7" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Сводная информация о проблеме.  В этом поле
	    используется XHTML.  По крайней мере, должны быть
	    обрамляющие <code class="literal">&lt;p&gt;</code> и
	    <code class="literal">&lt;/p&gt;</code>.  Может быть использована
	    более сложная разметка, но только в целях аккуратности и
	    ясности: без эстетства, пожалуйста.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-vx-ref"><span><img src="./imagelib/callouts/8.png" alt="8" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Этот раздел содержит ссылки на имеющие отношение
	    документы.  Приветствуется как можно большее количество
	    ссылок.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-vx-fsa"><span><img src="./imagelib/callouts/9.png" alt="9" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Это <a class="link" href="http://www.freebsd.org/security/#adv" target="_top">бюллетень
	      безопасности FreeBSD</a>.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-vx-fpr"><span><img src="./imagelib/callouts/10.png" alt="10" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Это <a class="link" href="http://www.freebsd.org/support.html#gnats" target="_top">сообщение
	      об ошибке FreeBSD</a>.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-vx-cve"><span><img src="./imagelib/callouts/11.png" alt="11" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Идентификатор <a class="link" href="http://www.cve.mitre.org/" target="_top">MITRE
	      CVE</a>.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-vx-bid"><span><img src="./imagelib/callouts/12.png" alt="12" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Это <a class="link" href="http://www.securityfocus.com/bid" target="_top">SecurityFocus
	      Bug ID</a>.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-vx-cts"><span><img src="./imagelib/callouts/13.png" alt="13" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Бюллетень безопасности <a class="link" href="http://www.cert.org/" target="_top">US-CERT</a>.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-vx-ctv"><span><img src="./imagelib/callouts/14.png" alt="14" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Примечание к уязвимости <a class="link" href="http://www.cert.org/" target="_top">US-CERT</a>.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-vx-ucs"><span><img src="./imagelib/callouts/15.png" alt="15" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Уведомление системы Cyber Security Alert <a class="link" href="http://www.cert.org/" target="_top">US-CERT</a>.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-vx-uct"><span><img src="./imagelib/callouts/16.png" alt="16" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Уведомление системы Technical Cyber Security Alert
	    <a class="link" href="http://www.cert.org/" target="_top">US-CERT</a>.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-vx-mls"><span><img src="./imagelib/callouts/17.png" alt="17" border="0" /></span></a> </p></td><td valign="top" align="left"><p>URL к архивному сообщению в списке рассылки.  Атрибут
	    <code class="literal">msgid</code> является необязательным и может
	    указывать на message ID сообщения.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-vx-url"><span><img src="./imagelib/callouts/18.png" alt="18" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Основной URL.  Должен быть использован в случае, если
	    не подходит ни одна из категорий источника.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-vx-dsc"><span><img src="./imagelib/callouts/19.png" alt="19" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Дата последнего изменения любой информации данной
	    записи (<em class="replaceable"><code>YYYY-MM-DD</code></em>).  Новые
	    записи не должны включать это поле.  Поле должно быть
	    добавлено после редактирования существующей
	    записи.</p></td></tr></table></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="security-notify-vuxml-testing"></a>11.3.3. Тестирование ваших изменений в базе данных VuXML</h3></div></div></div><p>Предположим, что вы только что написали или заполнили
	запись об уязвимости в пакете <code class="literal">clamav</code>,
	которая была исправлена в версии
	<code class="literal">0.65_7</code>.</p><p>Прежде всего, вам нужно <span class="emphasis"><em>установить</em></span>
	последние версии портов
	<a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/ports-mgmt/portaudit/pkg-descr">ports-mgmt/portaudit</a>,
	<a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/ports-mgmt/portaudit-db/pkg-descr">ports-mgmt/portaudit-db</a> и
	<a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/security/vuxml/pkg-descr">security/vuxml</a>.</p><div xmlns="" class="note"><h3 class="admontitle">Примечание: </h3><p xmlns="http://www.w3.org/1999/xhtml">Для запуска <code class="command">packaudit</code> вы должны
	  обладать правами на запись в
	  <code class="filename">DATABASEDIR</code>; как правило, это
	  <code class="filename">/var/db/portaudit</code>.</p><p xmlns="http://www.w3.org/1999/xhtml">Для использования другого каталога присвойте переменной
	  окружения <code class="filename">DATABASEDIR</code> другой
	  путь.</p><p xmlns="http://www.w3.org/1999/xhtml">Если вы работаете в каталоге, отличном от
	  <code class="filename">${PORTSDIR}/security/vuxml</code>, присвойте
	  переменной окружения <code class="filename">VUXMLDIR</code> путь к
	  каталогу, в котором находится
	  <code class="filename">vuln.xml</code>.</p></div><p>Во-первых, проверьте, нет ли уже записи об этой
	уязвимости.  Если такая запись есть, она совпадёт с
	предыдущей версией пакета <code class="literal">0.65_6</code>:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>packaudit</code></strong>
<code class="prompt">%</code> <strong class="userinput"><code>portaudit clamav-0.65_6</code></strong></pre><p>Если ничего не найдено, значит вы получили зеленый свет
	для добавления новой записи для этой уязвимости.</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>cd ${PORTSDIR}/security/vuxml</code></strong>
<code class="prompt">%</code> <strong class="userinput"><code>make newentry</code></strong></pre><p>Когда вы закончите, проверьте синтаксис и
	форматирование.</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>make validate</code></strong></pre><div xmlns="" class="note"><h3 class="admontitle">Примечание: </h3><p xmlns="http://www.w3.org/1999/xhtml">Вам понадобится установить по крайней мере один из
	  следующих пакетов:
	  <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/textproc/libxml2/pkg-descr">textproc/libxml2</a>,
	  <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/textproc/jade/pkg-descr">textproc/jade</a>.</p></div><p>Теперь выполните перепостроение базы данных
	<code class="command">portaudit</code> из файла VuXML:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>packaudit</code></strong></pre><p>Чтобы убедиться, что раздел
	<code class="literal">&lt;affected&gt;</code> в вашей записи совпадает
	с правильными пакетами, выполните следующую команду:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>portaudit -f /usr/ports/INDEX -r uuid</code></strong></pre><div xmlns="" class="note"><h3 class="admontitle">Примечание: </h3><p xmlns="http://www.w3.org/1999/xhtml">Для лучшего понимания синтаксиса этой команды
	  обращайтесь к <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=portaudit&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">portaudit</span>(1)</span></a>.</p></div><p>Убедитесь, что ваша запись не производит ложных
	совпадений в выводе.</p><p>Теперь проверьте, совпадает ли ваша запись с нужными
	версиями пакета:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>portaudit clamav-0.65_6 clamav-0.65_7</code></strong>
Affected package: clamav-0.65_6 (matched by clamav&lt;0.65_7)
Type of problem: clamav remote denial-of-service.
Reference: &lt;http://www.freebsd.org/ports/portaudit/74a9541d-5d6c-11d8-80e3-0020ed76ef5a.html&gt;

1 problem(s) found.</pre><p>Первая версия должна совпасть, а последняя нет.</p><p>В заключение проверьте, что веб-страница, сформированная
	из базы данных VuXML, выглядит как положено:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>mkdir -p ~/public_html/portaudit</code></strong>
<code class="prompt">%</code> <strong class="userinput"><code>packaudit</code></strong>
<code class="prompt">%</code> <strong class="userinput"><code>lynx ~/public_html/portaudit/74a9541d-5d6c-11d8-80e3-0020ed76ef5a.html</code></strong></pre></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="security-fix.html">Пред.</a> </td><td width="20%" align="center"><a accesskey="u" href="security.html">Наверх</a></td><td width="40%" align="right"> <a accesskey="n" href="porting-dads.html">След.</a></td></tr><tr><td width="40%" align="left" valign="top">11.2. Исправление уязвимостей безопасности </td><td width="20%" align="center"><a accesskey="h" href="index.html">Начало</a></td><td width="40%" align="right" valign="top"> Глава 12. Что делать нужно, и что делать нельзя</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Этот, и другие документы, могут быть скачаны с
    <a href="http://ftp.FreeBSD.org/pub/FreeBSD/doc/">http://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>.</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>По вопросам, связанным с FreeBSD, прочитайте
    <a href="http://www.FreeBSD.org/ru/docs.html">документацию</a> прежде чем писать в
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    По вопросам, связанным с этой документацией, пишите в рассылку
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.<br></br></small></p></body></html>