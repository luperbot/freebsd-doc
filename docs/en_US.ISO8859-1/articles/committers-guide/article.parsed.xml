<?xml version="1.0" encoding="iso-8859-1"?>
<article xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" xml:lang="en">

  <info>
    <title xmlns:xlink="http://www.w3.org/1999/xlink">Committer's Guide</title>

    <author xmlns:xlink="http://www.w3.org/1999/xlink">
      <orgname xmlns:xlink="http://www.w3.org/1999/xlink">The FreeBSD Documentation Project</orgname>
    </author>

    <copyright xmlns:xlink="http://www.w3.org/1999/xlink">
      <year xmlns:xlink="http://www.w3.org/1999/xlink">1999</year>
      <year xmlns:xlink="http://www.w3.org/1999/xlink">2000</year>
      <year xmlns:xlink="http://www.w3.org/1999/xlink">2001</year>
      <year xmlns:xlink="http://www.w3.org/1999/xlink">2002</year>
      <year xmlns:xlink="http://www.w3.org/1999/xlink">2003</year>
      <year xmlns:xlink="http://www.w3.org/1999/xlink">2004</year>
      <year xmlns:xlink="http://www.w3.org/1999/xlink">2005</year>
      <year xmlns:xlink="http://www.w3.org/1999/xlink">2006</year>
      <year xmlns:xlink="http://www.w3.org/1999/xlink">2007</year>
      <year xmlns:xlink="http://www.w3.org/1999/xlink">2008</year>
      <year xmlns:xlink="http://www.w3.org/1999/xlink">2009</year>
      <year xmlns:xlink="http://www.w3.org/1999/xlink">2010</year>
      <year xmlns:xlink="http://www.w3.org/1999/xlink">2011</year>
      <year xmlns:xlink="http://www.w3.org/1999/xlink">2012</year>
      <year xmlns:xlink="http://www.w3.org/1999/xlink">2013</year>
      <year xmlns:xlink="http://www.w3.org/1999/xlink">2014</year>
      <year xmlns:xlink="http://www.w3.org/1999/xlink">2015</year>
      <holder xmlns:xlink="http://www.w3.org/1999/xlink">The FreeBSD Documentation Project</holder>
    </copyright>

    <legalnotice xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="trademarks" role="trademarks">
      <para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD is a registered trademark of
  the FreeBSD Foundation.</para>
      <para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">Coverity is a registered trademark;
Coverity Extend, Coverity Prevent and Coverity Prevent SQS are trademarks of
Coverity, Inc.</para>
      <para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">IBM, AIX, OS/2,
  PowerPC, PS/2, S/390, and ThinkPad are
  trademarks of International Business Machines Corporation in the
  United States, other countries, or both.</para>
      <para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">Intel, Celeron, Centrino, Core, EtherExpress, i386,
  i486, Itanium, Pentium, and Xeon are trademarks or registered
  trademarks of Intel Corporation or its subsidiaries in the United
  States and other countries.</para>
      <para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">SPARC, SPARC64, and
  UltraSPARC are trademarks of SPARC International, Inc in the United
  States and other countries.  SPARC International, Inc owns all of the
  SPARC trademarks and under licensing agreements allows the proper use
  of these trademarks by its members.</para>
      <para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">Many of the designations used by
  manufacturers and sellers to distinguish their products are claimed
  as trademarks.  Where those designations appear in this document,
  and the FreeBSD Project was aware of the trademark claim, the
  designations have been followed by the <quote xmlns:xlink="http://www.w3.org/1999/xlink">&#8482;</quote> or the
  <quote xmlns:xlink="http://www.w3.org/1999/xlink">®</quote> symbol.</para>
    </legalnotice>

    <pubdate xmlns:xlink="http://www.w3.org/1999/xlink">$FreeBSD$</pubdate>

    <releaseinfo xmlns:xlink="http://www.w3.org/1999/xlink">$FreeBSD$</releaseinfo>

    <abstract xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">This document provides information for the FreeBSD
	committer community.  All new committers should read this
	document before they start, and existing committers are
	strongly encouraged to review it from time to time.</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Almost all FreeBSD developers have commit rights to one or
	more repositories.  However, a few developers do not, and some
	of the information here applies to them as well.  (For
	instance, some people only have rights to work with the
	Problem Report database).  Please see
	<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="non-committers"/> for more information.</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">This document may also be of interest to members of the
	FreeBSD community who want to learn more about how the project
	works.</para>
    </abstract>
  </info>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="admin">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">Administrative Details</title>

    <informaltable xmlns:xlink="http://www.w3.org/1999/xlink" frame="none" orient="port" pgwide="1">
      <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	<colspec xmlns:xlink="http://www.w3.org/1999/xlink" colwidth="20*"/>
	<colspec xmlns:xlink="http://www.w3.org/1999/xlink" colwidth="80*"/>
	<tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">Login Methods</emphasis></entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ssh</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>, protocol 2 only</entry>
	  </row>

	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">Main Shell Host</emphasis></entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">freefall.FreeBSD.org</systemitem></entry>
	  </row>

	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">src/</literal> Subversion
		Root</emphasis></entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">svn+ssh://</literal><systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">svn.FreeBSD.org</systemitem><filename xmlns:xlink="http://www.w3.org/1999/xlink">/base</filename>
	      (see also <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="svn-getting-started-base-layout"/>).</entry>
	  </row>

	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">doc/</literal> Subversion
		Root</emphasis></entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">svn+ssh://</literal><systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">svn.FreeBSD.org</systemitem><filename xmlns:xlink="http://www.w3.org/1999/xlink">/doc</filename>
	      (see also <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="svn-getting-started-doc-layout"/>).</entry>
	  </row>

	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">ports/</literal> Subversion
		Root</emphasis></entry>

	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">svn+ssh://</literal><systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">svn.FreeBSD.org</systemitem><filename xmlns:xlink="http://www.w3.org/1999/xlink">/ports</filename>
	      (see also <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="svn-getting-started-ports-layout"/>).</entry>
	  </row>

	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">Internal Mailing Lists</emphasis></entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">developers (technically called all-developers),
	      doc-developers, doc-committers, ports-developers,
	      ports-committers, src-developers, src-committers.  (Each
	      project repository has its own -developers and
	      -committers mailing lists.  Archives for these lists may
	      be found in files
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/home/mail/<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">repository-name</replaceable>-developers-archive</filename>
	      and
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/home/mail/<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">repository-name</replaceable>-committers-archive</filename>
	      on the <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">FreeBSD.org</systemitem>
	      cluster.)</entry>
	  </row>


	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">Core Team monthly
		reports</emphasis></entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/home/core/public/monthly-reports</filename>
	      on the <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">FreeBSD.org</systemitem>
	      cluster.</entry>
	  </row>

	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">Ports Management Team monthly
		reports</emphasis></entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/home/portmgr/public/monthly-reports</filename>
	      on the <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">FreeBSD.org</systemitem>
	      cluster.</entry>
	  </row>

	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">Noteworthy <literal xmlns:xlink="http://www.w3.org/1999/xlink">src/</literal> SVN
		Branches</emphasis></entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">stable/8</literal> (8.X-STABLE),
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">stable/9</literal> (9.X-STABLE),
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">stable/10</literal> (10.X-STABLE),
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">head</literal> (-CURRENT)</entry>
	  </row>
	</tbody>
      </tgroup>
    </informaltable>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ssh</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> is required to connect to the project hosts.
      For more information, see <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="ssh.guide"/>.</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">Useful links:</para>

    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="../../../../internal/">FreeBSD
	    Project Internal Pages</link></para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="../../../../internal/machines.html">FreeBSD
	    Project Hosts</link></para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="../../../../administration.html">FreeBSD
	    Project Administrative Groups</link></para>
      </listitem>
    </itemizedlist>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="pgpkeys">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">Open<acronym xmlns:xlink="http://www.w3.org/1999/xlink">PGP</acronym> Keys for FreeBSD</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">Cryptographic keys conforming to the
      Open<acronym xmlns:xlink="http://www.w3.org/1999/xlink">PGP</acronym> (<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">Pretty Good
      Privacy</emphasis>) standard are used by the FreeBSD project to
      authenticate committers.  Messages carrying important
      information like public <acronym xmlns:xlink="http://www.w3.org/1999/xlink">SSH</acronym> keys can be
      signed with the Open<acronym xmlns:xlink="http://www.w3.org/1999/xlink">PGP</acronym> key to prove that
      they are really from the committer.  See
      <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.nostarch.com/pgp_ml.htm">PGP &amp;
	GPG: Email for the Practical Paranoid by Michael Lucas</link>
      and <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://en.wikipedia.org/wiki/Pretty_Good_Privacy"/>
      for more information.</para>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="pgpkeys-creating">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Creating a Key</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Existing keys can be used, but should be checked with
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">doc/head/share/pgpkeys/checkkey.sh</filename>
	first.</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">For those who do not yet have an
	Open<acronym xmlns:xlink="http://www.w3.org/1999/xlink">PGP</acronym> key, or need a new key to meet FreeBSD
	security requirements, here we show how to generate
	one.</para>

      <procedure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="pgpkeys-create-steps">

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Install
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink" role="package">security/gnupg</filename>.  Enter
	    these lines in <filename xmlns:xlink="http://www.w3.org/1999/xlink">~/.gnupg/gpg.conf</filename> to
	    set minimum acceptable defaults:</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">fixed-list-mode
keyid-format 0xlong
personal-digest-preferences SHA512 SHA384 SHA256 SHA224
default-preference-list SHA512 SHA384 SHA256 SHA224 AES256 AES192 AES CAST5 BZIP2 ZLIB ZIP Uncompressed
use-agent
verify-options show-uid-validity
list-options show-uid-validity
sig-notation issuer-fpr@notations.openpgp.fifthhorseman.net=%g
cert-digest-algo SHA512</programlisting>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Generate a key:</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">gpg --gen-key</userinput>
gpg (GnuPG) 2.0.22; Copyright (C) 2013 Free Software Foundation, Inc.
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.

Warning: using insecure memory!
Please select what kind of key you want:
   (1) RSA and RSA (default)
   (2) DSA and Elgamal
   (3) DSA (sign only)
   (4) RSA (sign only)
Your selection? <userinput xmlns:xlink="http://www.w3.org/1999/xlink">1</userinput>
RSA keys may be between 1024 and 4096 bits long.
What keysize do you want? (2048) <userinput xmlns:xlink="http://www.w3.org/1999/xlink">2048</userinput>  <co xml:id="co-pgp-bits"/>
Requested keysize is 2048 bits
Please specify how long the key should be valid.
         0 = key does not expire
      &lt;n&gt;  = key expires in n days
      &lt;n&gt;w = key expires in n weeks
      &lt;n&gt;m = key expires in n months
      &lt;n&gt;y = key expires in n years
Key is valid for? (0) <userinput xmlns:xlink="http://www.w3.org/1999/xlink">3y</userinput>  <co xml:id="co-pgp-expire"/>
Key expires at Wed Nov  4 17:20:20 2015 MST
Is this correct? (y/N) <userinput xmlns:xlink="http://www.w3.org/1999/xlink">y</userinput>

GnuPG needs to construct a user ID to identify your key.

Real name: <userinput xmlns:xlink="http://www.w3.org/1999/xlink"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">Chucky Daemon</replaceable></userinput> <co xml:id="co-pgp-realname"/>
Email address: <userinput xmlns:xlink="http://www.w3.org/1999/xlink"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">notreal@example.com</replaceable></userinput>
Comment:
You selected this USER-ID:
    "<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">Chucky Daemon &lt;notreal@example.com&gt;</replaceable>"

Change (N)ame, (C)omment, (E)mail or (O)kay/(Q)uit? <userinput xmlns:xlink="http://www.w3.org/1999/xlink">o</userinput>
You need a Passphrase to protect your secret key.</screen>

	  <calloutlist xmlns:xlink="http://www.w3.org/1999/xlink">
	    <callout arearefs="co-pgp-bits">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">2048-bit keys with a three-year expiration provide
		adequate protection at present (2013-12).  <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://danielpocock.com/rsa-key-sizes-2048-or-4096-bits"/>
		describes the situation in more detail.</para>
	    </callout>

	    <callout arearefs="co-pgp-expire">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">A three year key lifespan is short enough to
		obsolete keys weakened by advancing computer power,
		but long enough to reduce key management
		problems.</para>
	    </callout>

	    <callout arearefs="co-pgp-realname">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">Use your real name here, preferably matching that
		shown on government-issued <acronym xmlns:xlink="http://www.w3.org/1999/xlink">ID</acronym> to
		make it easier for others to verify your identity.
		Text that may help others identify you can be entered
		in the <literal xmlns:xlink="http://www.w3.org/1999/xlink">Comment</literal> section.</para>
	    </callout>
	  </calloutlist>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">After the email address is entered, a passphrase is
	    requested.  Methods of creating a secure passphrase are
	    contentious.  Rather than suggest a single way, here are
	    some links to sites that describe various methods: <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://world.std.com/~reinhold/diceware.html"/>,
	    <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.iusmentis.com/security/passphrasefaq/"/>,
	    <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://xkcd.com/936/"/>,
	    <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://en.wikipedia.org/wiki/Passphrase"/>.</para>
	</step>
      </procedure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Protect your private key and passphrase.  If either the
	private key or passphrase may have been compromised or
	disclosed, immediately notify
	<email xmlns:xlink="http://www.w3.org/1999/xlink">accounts@FreeBSD.org</email> and revoke the key.</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Committing the new key is shown in
	<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="commit-steps"/>.</para>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="kerberos-ldap">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">Kerberos and LDAP web Password for FreeBSD Cluster</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">The FreeBSD cluster requires a Kerberos password to access
      certain services.  The Kerberos password also serves as the
      LDAP web password, since LDAP is proxying to Kerberos in the
      cluster.  Some of the services
      which require this include:</para>

    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://bugs.freebsd.org/bugzilla">Bugzilla</link></para>
      </listitem>
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://jenkins.freebsd.org">Jenkins</link></para>
      </listitem>
    </itemizedlist>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">To reset a Kerberos password in the FreeBSD cluster using a
      random password generator:</para>

    <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ssh kpasswd.freebsd.org</userinput></screen>

    <note xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">This must be done from a machine outside of the FreeBSD.org
	cluster.</para>
    </note>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">A Kerberos password can also be set manually
      by logging into <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">freefall.FreeBSD.org</systemitem> and
      running:</para>

    <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">kpasswd</userinput></screen>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="committer.types">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">Commit Bit Types</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">The FreeBSD repository has a number of components which, when
      combined, support the basic operating system source,
      documentation, third party application ports infrastructure, and
      various maintained utilities.  When FreeBSD commit bits are
      allocated, the areas of the tree where the bit may be used are
      specified.  Generally, the areas associated with a bit reflect
      who authorized the allocation of the commit bit.  Additional
      areas of authority may be added at a later date: when this
      occurs, the committer should follow normal commit bit allocation
      procedures for that area of the tree, seeking approval from the
      appropriate entity and possibly getting a mentor for that area
      for some period of time.</para>

    <informaltable xmlns:xlink="http://www.w3.org/1999/xlink" frame="none" pgwide="1">
      <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="3">
	<tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">Committer Type</emphasis></entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">Responsible</emphasis></entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">Tree Components</emphasis></entry>
	  </row>

	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">src</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">core@</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">src/, doc/ subject to appropriate review</entry>
	  </row>

	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">doc</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">doceng@</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">doc/, ports/, src/ documentation</entry>
	  </row>

	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">ports</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">portmgr@</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">ports/</entry>
	  </row>
	</tbody>
      </tgroup>
    </informaltable>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">Commit bits allocated prior to the development of the notion
      of areas of authority may be appropriate for use in many parts
      of the tree.  However, common sense dictates that a committer
      who has not previously worked in an area of the tree seek review
      prior to committing, seek approval from the appropriate
      responsible party, and/or work with a mentor.  Since the rules
      regarding code maintenance differ by area of the tree, this is
      as much for the benefit of the committer working in an area of
      less familiarity as it is for others working on the tree.</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">Committers are encouraged to seek review for their work as
      part of the normal development process, regardless of the area
      of the tree where the work is occurring.</para>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Policy for Committer Activity in Other Trees</title>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">All committers may modify
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">base/head/share/misc/committers-*.dot</filename>,
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">base/head/usr.bin/calendar/calendars/calendar.freebsd</filename>,
	    and
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">ports/head/astro/xearth/files</filename>.</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">doc committers may commit
	    documentation changes to <filename xmlns:xlink="http://www.w3.org/1999/xlink">src</filename>
	    files, such as man pages, READMEs, fortune databases,
	    calendar files, and comment fixes without approval from a
	    src committer, subject to the normal care and tending of
	    commits.</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Any committer may make changes to any other tree
	    with an "Approved by" from a non-mentored committer with
	    the appropriate bit.</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Committers can aquire an additional bit by the usual
	    process of finding a mentor who will propose them to core,
	    doceng, or portmgr, as appropriate.  When approved, they
	    will be added to 'access' and the normal mentoring period
	    will ensue, which will involve a continuing of
	    <quote xmlns:xlink="http://www.w3.org/1999/xlink">Approved by</quote> for some period.</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">"Approved by" is only acceptable from non-mentored src
	    committers -- mentored committers can provide a "Reviewed
	    by" but not an "Approved by".</para>
	</listitem>
      </itemizedlist>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="subversion-primer">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">Subversion Primer</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">It is assumed that you are already familiar with the basic
      operation of Subversion.  If not, start by reading the
      <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://svnbook.red-bean.com/">Subversion
	Book</link>.</para>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="svn-intro">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Introduction</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">The FreeBSD source repository switched from
	<acronym xmlns:xlink="http://www.w3.org/1999/xlink">CVS</acronym> to Subversion on May 31st, 2008.  The
	first real <acronym xmlns:xlink="http://www.w3.org/1999/xlink">SVN</acronym> commit is
	<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">r179447</emphasis>.</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">The FreeBSD <literal xmlns:xlink="http://www.w3.org/1999/xlink">doc/www</literal> repository switched
	from <acronym xmlns:xlink="http://www.w3.org/1999/xlink">CVS</acronym> to Subversion on May 19th, 2012.
	The first real <acronym xmlns:xlink="http://www.w3.org/1999/xlink">SVN</acronym> commit is
	<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">r38821</emphasis>.</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">The FreeBSD <literal xmlns:xlink="http://www.w3.org/1999/xlink">ports</literal> repository switched
	from <acronym xmlns:xlink="http://www.w3.org/1999/xlink">CVS</acronym> to Subversion on July 14th, 2012.
	The first real <acronym xmlns:xlink="http://www.w3.org/1999/xlink">SVN</acronym> commit is
	<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">r300894</emphasis>.</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Subversion can be installed from the FreeBSD Ports
	Collection by issuing these commands:</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">pkg install subversion</userinput></screen>

    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="svn-getting-started">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Getting Started</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">There are a few ways to obtain a working copy of the tree
	from Subversion.  This section will explain them.</para>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="svn-getting-started-direct-checkout">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Direct Checkout</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">The first is to check out directly from the main
	  repository.  For the <literal xmlns:xlink="http://www.w3.org/1999/xlink">src</literal> tree,
	  use:</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn checkout svn+ssh://svn.freebsd.org/base/head /usr/src</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">For the <literal xmlns:xlink="http://www.w3.org/1999/xlink">doc</literal> tree, use:</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn checkout svn+ssh://svn.freebsd.org/doc/head /usr/doc</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">For the <literal xmlns:xlink="http://www.w3.org/1999/xlink">ports</literal> tree, use:</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn checkout svn+ssh://svn.freebsd.org/ports/head /usr/ports</userinput></screen>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Though the remaining examples in this document are
	    written with the workflow of working with the
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">src</literal> tree in mind, the underlying
	    concepts are the same for working with the
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">doc</literal> and the <literal xmlns:xlink="http://www.w3.org/1999/xlink">ports</literal>
	    tree.
	    Ports related Subversion operations are listed in
	    <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="ports"/>.</para>
	</note>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">The above command will check out a
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">CURRENT</literal> source tree as
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">/usr/src/</replaceable></filename>,
	  which can be any target directory on the local filesystem.
	  Omitting the final argument of that command causes the
	  working copy, in this case, to be named <quote xmlns:xlink="http://www.w3.org/1999/xlink">head</quote>,
	  but that can be renamed safely.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">svn+ssh</literal> means the
	  <acronym xmlns:xlink="http://www.w3.org/1999/xlink">SVN</acronym> protocol tunnelled over
	  <acronym xmlns:xlink="http://www.w3.org/1999/xlink">SSH</acronym>.  The name of the server is
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">svn.freebsd.org</literal>, <literal xmlns:xlink="http://www.w3.org/1999/xlink">base</literal>
	  is the path to the repository, and <literal xmlns:xlink="http://www.w3.org/1999/xlink">head</literal>
	  is the subdirectory within the repository.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">If your FreeBSD login name is different from your login
	  name on your local machine, you must either include it in
	  the <acronym xmlns:xlink="http://www.w3.org/1999/xlink">URL</acronym> (for example
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">svn+ssh://jarjar@svn.freebsd.org/base/head</literal>),
	  or add an entry to your <filename xmlns:xlink="http://www.w3.org/1999/xlink">~/.ssh/config</filename>
	  in the form:</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">Host svn.freebsd.org
	User jarjar</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">This is the simplest method, but it is hard to tell just
	  yet how much load it will place on the repository.</para>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">The <command xmlns:xlink="http://www.w3.org/1999/xlink">svn diff</command> does not require
	    access to the server as <acronym xmlns:xlink="http://www.w3.org/1999/xlink">SVN</acronym> stores a
	    reference copy of every file in the working copy.  This,
	    however, means that Subversion working copies are very
	    large in size.</para>
	</note>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="svn-getting-started-checkout-from-a-mirror">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Checkout from a Mirror</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Check out a working copy from a mirror by
	  substituting the mirror's <acronym xmlns:xlink="http://www.w3.org/1999/xlink">URL</acronym> for
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">svn+ssh://svn.freebsd.org/base</literal>.  This can
	  be an official mirror or a mirror maintained by
	  using <command xmlns:xlink="http://www.w3.org/1999/xlink">svnsync</command>.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">There is a serious disadvantage to this method: every
	  time something is to be committed, a
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">svn relocate</command> to the master repository has
	  to be done, remembering to <command xmlns:xlink="http://www.w3.org/1999/xlink">svn relocate</command>
	  back to the mirror after the commit.  Also, since
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">svn relocate</command> only works between
	  repositories that have the same UUID, some hacking of the
	  local repository's UUID has to occur before it is possible
	  to start using it.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">The hassle of a local
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">svnsync</command> mirror probably is not worth it
	  unless the network connectivity situation or other factors
	  demand it.  If it is needed, see the end of this chapter for
	  information on how to set one up.</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="svn-getting-started-base-layout">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">RELENG_*</literal> Branches and General
	  Layout</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">In <literal xmlns:xlink="http://www.w3.org/1999/xlink">svn+ssh://svn.freebsd.org/base</literal>,
	  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">base</emphasis> refers to the source tree.
	  Similarly, <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">ports</emphasis> refers to the ports
	  tree, and so on.  These are separate repositories with their
	  own change number sequences, access controls and commit
	  mail.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">For the base repository, HEAD refers to the -CURRENT
	  tree.  For example, <filename xmlns:xlink="http://www.w3.org/1999/xlink">head/bin/ls</filename> is what
	  would go into <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/src/bin/ls</filename> in a
	  release.  Some key locations are:</para>

	<itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">/head/</emphasis> which corresponds to
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">HEAD</literal>, also known as
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">-CURRENT</literal>.</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">/stable/<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">n</replaceable></emphasis>
	      which corresponds to
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">RELENG_<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">n</replaceable></literal>.</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">/releng/<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">n.n</replaceable></emphasis>
	      which corresponds to
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">RELENG_<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">n_n</replaceable></literal>.</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">/release/<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">n.n.n</replaceable></emphasis>
	      which corresponds to
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">RELENG_<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">n_n_n</replaceable>_RELEASE</literal>.</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">/vendor*</emphasis> is the vendor branch
	      import work area.  This directory itself does not
	      contain branches, however its subdirectories do.  This
	      contrasts with the <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">stable</emphasis>,
	      <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">releng</emphasis> and
	      <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">release</emphasis> directories.</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">/projects</emphasis> and
	      <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">/user</emphasis> feature a branch work area,
	      like in Perforce.  As above, the
	      <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">/user</emphasis> directory does not contain
	      branches itself.</para>
	  </listitem>
	</itemizedlist>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="svn-getting-started-doc-layout">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD Documentation Project Branches and
	  Layout</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">In <literal xmlns:xlink="http://www.w3.org/1999/xlink">svn+ssh://svn.freebsd.org/doc</literal>,
	  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">doc</emphasis> refers to the repository root of
	  the source tree.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">In general, most FreeBSD Documentation Project work will be
	  done within the <filename xmlns:xlink="http://www.w3.org/1999/xlink">head/</filename> branch of the
	  documentation source tree.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD documentation is written and/or translated to
	  various languages, each in a separate
	  directory in the <filename xmlns:xlink="http://www.w3.org/1999/xlink">head/</filename>
	  branch.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Each translation set contains several subdirectories for
	  the various parts of the FreeBSD Documentation Project.  A few
	  noteworthy directories are:</para>

	<itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">/articles/</emphasis> contains the source
	      code for articles written by various FreeBSD
	      contributors.</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">/books/</emphasis> contains the source
	      code for the different books, such as the
	      FreeBSD Handbook.</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">/htdocs/</emphasis> contains the source
	      code for the FreeBSD website.</para>
	  </listitem>
	</itemizedlist>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="svn-getting-started-ports-layout">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD Ports Tree Branches and Layout</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">In <literal xmlns:xlink="http://www.w3.org/1999/xlink">svn+ssh://svn.freebsd.org/ports</literal>,
	  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">ports</emphasis> refers to the repository root of
	  the ports tree.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">In general, most FreeBSD port work will be done within the
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">head/</filename> branch of the ports tree which is
	  the actual ports tree used to install software.  Some other
	  key locations are:</para>

	<itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">/branches/RELENG_<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">n_n_n</replaceable></emphasis>
	      which corresponds to
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">RELENG_<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">n_n_n</replaceable></literal>
	      is used to merge back security updates in preparation
	      for a release.</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">/tags/RELEASE_<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">n_n_n</replaceable></emphasis>
	      which corresponds to
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">RELEASE_<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">n_n_n</replaceable></literal>
	      represents a release tag of the ports tree.</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">/tags/RELEASE_<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">n</replaceable>_EOL</emphasis>
	      represents the end of life tag of a specific FreeBSD
	      branch.</para>
	  </listitem>
	</itemizedlist>
      </sect3>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="svn-daily-use">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Daily Use</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">This section will explain how to perform common day-to-day
	operations with Subversion.</para>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="svn-daily-use-help">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Help</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><acronym xmlns:xlink="http://www.w3.org/1999/xlink">SVN</acronym> has built in help documentation.
	  It can be accessed by typing the following command:</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn help</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Additional information can be found in the
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://svnbook.red-bean.com/">Subversion
	    Book</link>.</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="svn-daily-use-checkout">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Checkout</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">As seen earlier, to check out the FreeBSD head
	  branch:</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn checkout svn+ssh://svn.freebsd.org/base/head /usr/src</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">At some point, more than just <literal xmlns:xlink="http://www.w3.org/1999/xlink">HEAD</literal>
	  will probably be useful, for instance when merging changes
	  to stable/7.  Therefore, it may be useful to have a partial
	  checkout of the complete tree (a full checkout would be very
	  painful).</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">To do this, first check out the root of the
	  repository:</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn checkout --depth=immediates svn+ssh://svn.freebsd.org/base</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">This will give <literal xmlns:xlink="http://www.w3.org/1999/xlink">base</literal> with all the
	  files it contains (at the time of writing, just
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">ROADMAP.txt</filename>) and empty subdirectories
	  for <literal xmlns:xlink="http://www.w3.org/1999/xlink">head</literal>, <literal xmlns:xlink="http://www.w3.org/1999/xlink">stable</literal>,
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">vendor</literal> and so on.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Expanding the working copy is possible.  Just change the
	  depth of the various subdirectories:</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn up --set-depth=infinity base/head</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn up --set-depth=immediates base/release base/releng base/stable</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">The above command will pull down a full copy of
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">head</literal>, plus empty copies of every
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">release</literal> tag, every
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">releng</literal> branch, and every
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">stable</literal> branch.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">If at a later date merging to
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">7-STABLE</literal> is required, expand the working
	  copy:</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn up --set-depth=infinity base/stable/7</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Subtrees do not have to be expanded completely.  For
	  instance, expanding only <literal xmlns:xlink="http://www.w3.org/1999/xlink">stable/7/sys</literal> and
	  then later expand the rest of
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">stable/7</literal>:</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn up --set-depth=infinity base/stable/7/sys</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn up --set-depth=infinity base/stable/7</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Updating the tree with <command xmlns:xlink="http://www.w3.org/1999/xlink">svn update</command>
	  will only update what was previously asked for (in this
	  case, <literal xmlns:xlink="http://www.w3.org/1999/xlink">head</literal> and
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">stable/7</literal>; it will not pull down the whole
	  tree.</para>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Decreasing the depth of a working copy is not
	    possible.</para>
	</note>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="svn-daily-use-anonymous-checkout">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Anonymous Checkout</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">It is possible to anonymously check out the FreeBSD
	  repository with Subversion.  This will give access to a
	  read-only tree that can be updated, but not committed back
	  to the main repository.  To do this, use the following
	  command:</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn co <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">https://svn0.us-west.FreeBSD.org</replaceable>/base/head /usr/src</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Select the closest mirror and verify the mirror server
	  certificate from the list of <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="../../../../doc/en_US.ISO8859-1/books/handbook/svn.html#svn-mirrors">Subversion
	    mirror sites</link>.</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="svn-daily-use-updating-the-tree">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Updating the Tree</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">To update a working copy to either the latest revision,
	  or a specific revision:</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn update</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn update -<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">r12345</replaceable></userinput></screen>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="svn-daily-use-status">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Status</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">To view the local changes that have been made to the
	  working copy:</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn status</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">To show local changes and files that are out-of-date
	  do:</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn status --show-updates</userinput></screen>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="svn-daily-use-editing-and-committing">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Editing and Committing</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Unlike Perforce, <acronym xmlns:xlink="http://www.w3.org/1999/xlink">SVN</acronym> does not need to
	  be told in advance about file editing.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">To commit all changes in
	  the current directory and all subdirectories:</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn commit</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">To commit all changes in, for example,
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">lib/libfetch/</replaceable></filename>
	  and
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">usr/bin/fetch/</replaceable></filename>
	  in a single operation:</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn commit <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">lib/libfetch</replaceable> <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">usr/bin/fetch</replaceable></userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">There is also a commit wrapper for the ports tree to
	  handle the properties and sanity checking your
	  changes:</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">/usr/ports/Tools/scripts/psvn commit</userinput></screen>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="svn-daily-use-adding-and-removing">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Adding and Removing Files</title>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Before adding files, get a copy of <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://people.freebsd.org/~peter/auto-props.txt">auto-props.txt</link>
	    (there is also a <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://people.freebsd.org/~beat/cvs2svn/auto-props.txt">
	      ports tree specific version</link>) and add it to
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">~/.subversion/config</filename> according to the
	    instructions in the file.  If you added something before
	    reading this, use <command xmlns:xlink="http://www.w3.org/1999/xlink">svn rm --keep-local</command>
	    for just added files, fix your config file and re-add them
	    again.  The initial config file is created when you first
	    run a svn command, even something as simple as
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">svn help</command>.</para>
	</note>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Files are added to a
	  <acronym xmlns:xlink="http://www.w3.org/1999/xlink">SVN</acronym> repository with <command xmlns:xlink="http://www.w3.org/1999/xlink">svn
	    add</command>.  To add a file named
	  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">foo</emphasis>, edit it, then:</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn add <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">foo</replaceable></userinput></screen>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Most new source files should include a
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">$FreeBSD$</literal> string near the
	    start of the file.  On commit, <command xmlns:xlink="http://www.w3.org/1999/xlink">svn</command> will
	    expand the <literal xmlns:xlink="http://www.w3.org/1999/xlink">$FreeBSD$</literal> string,
	    adding the file path, revision number, date and time of
	    commit, and the username of the committer.  Files which
	    cannot be modified may be committed without the
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">$FreeBSD$</literal> string.</para>
	</note>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Files can be removed with <command xmlns:xlink="http://www.w3.org/1999/xlink">svn
	    remove</command>:</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn remove <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">foo</replaceable></userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Subversion does not require deleting the file before
	  using <command xmlns:xlink="http://www.w3.org/1999/xlink">svn rm</command>, and indeed complains if
	  that happens.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">It is possible to add directories with
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">svn add</command>:</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mkdir <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">bar</replaceable></userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn add <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">bar</replaceable></userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Although <command xmlns:xlink="http://www.w3.org/1999/xlink">svn mkdir</command> makes this easier
	  by combining the creation of the directory and the adding of
	  it:</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn mkdir <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">bar</replaceable></userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Like files, directories are removed with
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">svn rm</command>.  There is no separate command
	  specifically for removing directories.</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn rm <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">bar</replaceable></userinput></screen>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="svn-daily-use-copying-and-moving">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Copying and Moving Files</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">This command creates a copy of
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">foo.c</filename> named <filename xmlns:xlink="http://www.w3.org/1999/xlink">bar.c</filename>,
	  with the new file also under version control:</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn copy <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">foo.c</replaceable> <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">bar.c</replaceable></userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">The example above is equivalent to:</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cp foo.c bar.c</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn add bar.c</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">To move and rename a file:</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn move <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">foo.c</replaceable> <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">bar.c</replaceable></userinput></screen>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="svn-daily-use-log-and-annotate">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Log and Annotate</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">svn log</command> shows revisions and commit
	  messages, most recent first, for files or directories.  When
	  used on a directory, all revisions that affected the
	  directory and files within that directory are shown.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">svn annotate</command>, or equally <command xmlns:xlink="http://www.w3.org/1999/xlink">svn
	    praise</command> or <command xmlns:xlink="http://www.w3.org/1999/xlink">svn blame</command>, shows
	  the most recent revision number and who committed that
	  revision for each line of a file.</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="svn-daily-use-diffs">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Diffs</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">svn diff</command> displays changes to the
	  working copy.  Diffs generated by <acronym xmlns:xlink="http://www.w3.org/1999/xlink">SVN</acronym> are
	  unified and include new files by default in the diff
	  output.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">svn diff</command> can show the changes between
	  two revisions of the same file:</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn diff -r179453:179454 ROADMAP.txt</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">It can also show all changes for a specific changeset.
	  The following will show what changes were made to the
	  current directory and all subdirectories in changeset
	  179454:</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn diff -c179454 .</userinput></screen>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="svn-daily-use-reverting">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Reverting</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Local changes (including additions and deletions) can be
	  reverted using <command xmlns:xlink="http://www.w3.org/1999/xlink">svn revert</command>.  It does not
	  update out-of-date files, but just replaces them with
	  pristine copies of the original version.</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="svn-daily-use-conflicts">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Conflicts</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">If an <command xmlns:xlink="http://www.w3.org/1999/xlink">svn update</command> resulted in a merge
	  conflict, Subversion will remember which files have
	  conflicts and refuse to commit any changes to those files
	  until explicitly told that the conflicts have been resolved.
	  The simple, not yet deprecated procedure is the
	  following:</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn resolved <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">foo</replaceable></userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">However, the preferred procedure is:</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn resolve --accept=working <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">foo</replaceable></userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">The two examples are equivalent.  Possible values for
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">--accept</literal> are:</para>

	<itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">working</literal>: use the version in your
	      working directory (which one presumes has been edited to
	      resolve the conflicts).</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">base</literal>: use a pristine copy of the
	      version you had before <command xmlns:xlink="http://www.w3.org/1999/xlink">svn update</command>,
	      discarding your own changes, the conflicting changes,
	      and possibly other intervening changes as well.</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">mine-full</literal>: use what you had
	      before <command xmlns:xlink="http://www.w3.org/1999/xlink">svn update</command>, including your own
	      changes, but discarding the conflicting changes, and
	      possibly other intervening changes as well.</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">theirs-full</literal>: use the version that
	      was retrieved when you did
	      <command xmlns:xlink="http://www.w3.org/1999/xlink">svn update</command>, discarding your own
	      changes.</para>
	  </listitem>
	</itemizedlist>
      </sect3>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Advanced Use</title>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="svn-advanced-use-sparse-checkouts">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Sparse Checkouts</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><acronym xmlns:xlink="http://www.w3.org/1999/xlink">SVN</acronym> allows
	  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">sparse</emphasis>, or partial checkouts of a
	  directory by adding <option xmlns:xlink="http://www.w3.org/1999/xlink">--depth</option> to a
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">svn checkout</command>.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Valid arguments to <option xmlns:xlink="http://www.w3.org/1999/xlink">--depth</option>
	  are:</para>

	<itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">empty</literal>: the directory itself
	      without any of its contents.</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">files</literal>: the directory and any
	      files it contains.</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">immediates</literal>: the directory and any
	      files and directories it contains, but none of the
	      subdirectories' contents.</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">infinity</literal>: anything.</para>
	  </listitem>
	</itemizedlist>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">The <literal xmlns:xlink="http://www.w3.org/1999/xlink">--depth</literal> option applies to many
	  other commands, including <command xmlns:xlink="http://www.w3.org/1999/xlink">svn commit</command>,
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">svn revert</command>, and <command xmlns:xlink="http://www.w3.org/1999/xlink">svn
	    diff</command>.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Since <literal xmlns:xlink="http://www.w3.org/1999/xlink">--depth</literal> is sticky, there is a
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">--set-depth</literal> option for <command xmlns:xlink="http://www.w3.org/1999/xlink">svn
	    update</command> that will change the selected depth.
	  Thus, given the working copy produced by the previous
	  example:</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">~/freebsd</replaceable></userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn update --set-depth=immediates .</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">The above command will populate the working copy in
	  <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">~/freebsd</replaceable> with
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">ROADMAP.txt</filename> and empty subdirectories,
	  and nothing will happen when <command xmlns:xlink="http://www.w3.org/1999/xlink">svn update</command>
	  is executed on the subdirectories.  However, the following
	  command will set the depth for
	  <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">head</replaceable> (in this case) to infinity,
	  and fully populate it:</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn update --set-depth=infinity <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">head</replaceable></userinput></screen>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="svn-advanced-use-direct-operation">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Direct Operation</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Certain operations can be performed directly on the
	  repository without touching the working copy.  Specifically,
	  this applies to any operation that does not require editing
	  a file, including:</para>

	<itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">log</literal>,
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">diff</literal></para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">mkdir</literal></para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">remove</literal>, <literal xmlns:xlink="http://www.w3.org/1999/xlink">copy</literal>,
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">rename</literal></para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">propset</literal>,
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">propedit</literal>,
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">propdel</literal></para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">merge</literal></para>
	  </listitem>
	</itemizedlist>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Branching is very fast.  The following command would be
	  used to branch <literal xmlns:xlink="http://www.w3.org/1999/xlink">RELENG_8</literal>:</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn copy svn+ssh://svn.freebsd.org/base/head svn+ssh://svn.freebsd.org/base/stable/8</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">This is equivalent to the following set of commands
	  which take minutes and hours as opposed to seconds,
	  depending on your network connection:</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn checkout --depth=immediates svn+ssh://svn.freebsd.org/base</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd base</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn update --set-depth=infinity head</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn copy head stable/8</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn commit stable/8</userinput></screen>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="svn-advanced-use-merging">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Merging with <acronym xmlns:xlink="http://www.w3.org/1999/xlink">SVN</acronym></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">This section deals with merging code from one branch to
	  another (typically, from head to a stable branch).</para>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">In all examples below, <literal xmlns:xlink="http://www.w3.org/1999/xlink">$FSVN</literal>
	    refers to the location of the FreeBSD Subversion repository,
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">svn+ssh://svn.freebsd.org/base/</literal>.</para>
	</note>

	<sect4 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">About Merge Tracking</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">From the user's perspective, merge tracking
	    information (or mergeinfo) is stored in a property called
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">svn:mergeinfo</literal>, which is a
	    comma-separated list of revisions and ranges of revisions
	    that have been merged.  When set on a file, it applies
	    only to that file.  When set on a directory, it applies to
	    that directory and its descendants (files and directories)
	    except for those that have their own
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">svn:mergeinfo</literal>.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">It is <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">not</emphasis> inherited.  For
	    instance, <filename xmlns:xlink="http://www.w3.org/1999/xlink">stable/6/contrib/openpam/</filename>
	    does not implicitly inherit mergeinfo from
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">stable/6/</filename>, or
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">stable/6/contrib/</filename>.
	    Doing so would make partial checkouts very hard to manage.
	    Instead, mergeinfo is explicitly propagated down the tree.
	    For merging something into
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">branch/foo/bar/</filename>,
	    the following rules apply:</para>

	  <orderedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">If
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">branch/foo/bar/</filename>
		does not already have a mergeinfo record, but a direct
		ancestor (for instance,
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">branch/foo/</filename>)
		does, then that record will be propagated down to
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">branch/foo/bar/</filename>
		before information about the current merge is
		recorded.</para>
	    </listitem>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">Information about the current merge will
		<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">not</emphasis> be propagated back up that
		ancestor.</para>
	    </listitem>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">If a direct descendant of
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">branch/foo/bar/</filename> (for instance,
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">branch/foo/bar/baz/</filename>) already has
		a mergeinfo record, information about the current
		merge will be propagated down to it.</para>
	    </listitem>
	  </orderedlist>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">If you consider the case where a revision changes
	    several separate parts of the tree (for example,
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">branch/foo/bar/</filename> and
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">branch/foo/quux/</filename>), but you only want
	    to merge some of it (for example,
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">branch/foo/bar/</filename>), you will see that
	    these rules make sense.  If mergeinfo was propagated up,
	    it would seem like that revision had also been merged to
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">branch/foo/quux/</filename>, when in fact it had
	    not been.</para>
	</sect4>

	<sect4 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="merge">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">Selecting the Source and Target for
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">stable/10</literal> and Newer</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Starting with the <literal xmlns:xlink="http://www.w3.org/1999/xlink">stable/10</literal>
	    branch, all merges should be
	    merged to and committed from the root of the
	    branch.  All merges should look like:</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> svn merge -c <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">r123456</replaceable> ^/head/ <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">checkout</replaceable>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> svn commit <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">checkout</replaceable></screen>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Note that <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">checkout</replaceable> should
	    be a complete checkout of the branch to which the merge
	    occurs.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Merges to <literal xmlns:xlink="http://www.w3.org/1999/xlink">releng/</literal> branches should
	    always originate from the corresponding
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">stable/</literal> branch.  For example:</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> svn merge -c <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">r123456</replaceable> ^/stable/<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">10</replaceable> releng/<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">10.0</replaceable></screen>
	</sect4>

	<sect4 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="oldmerge">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">Selecting the Source and Target for
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">stable/9</literal> and Older</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">For <literal xmlns:xlink="http://www.w3.org/1999/xlink">stable/9</literal> and earlier,
	    a different strategy was used, distributing mergeinfo
	    around the tree so that merges could be performed without
	    a complete checkout.  This procedure proved extremely
	    error-prone, with the convenience of partial checkouts for
	    merges significantly outweighed by the complexity of
	    picking mergeinfo targets.  The below describes this
	    now-obsoleted procedure, which should be used
	    <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">only for merges prior to
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">stable/10</literal></emphasis>.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Because of mergeinfo propagation, it is important to
	    choose the source and target for the merge carefully to
	    minimise property changes on unrelated directories.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">The rules for selecting the merge target (the
	    directory that you will merge the changes to) can be
	    summarized as follows:</para>

	  <orderedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">Never merge directly to a file.</para>
	    </listitem>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">Never, ever merge directly to a file.</para>
	    </listitem>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">Never, ever, ever</emphasis> merge
		directly to a file.</para>
	    </listitem>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">Changes to kernel code should be merged to
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">sys/</filename>.  For instance, a change to
		the <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ichwd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry> driver should be merged to
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">sys/</filename>, not
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">sys/dev/ichwd/</filename>.  Likewise, a
		change to the TCP/IP stack should be merged to
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">sys/</filename>, not
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">sys/netinet/</filename>.</para>
	    </listitem>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">Changes to code under <filename xmlns:xlink="http://www.w3.org/1999/xlink">etc/</filename>
		should be merged at <filename xmlns:xlink="http://www.w3.org/1999/xlink">etc/</filename>, not
		below it.</para>
	    </listitem>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">Changes to vendor code (code in
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">contrib/</filename>,
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">crypto/</filename> and so on) should be
		merged to the directory where vendor imports happen.
		For instance, a change to
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">crypto/openssl/util/</filename> should be
		merged to <filename xmlns:xlink="http://www.w3.org/1999/xlink">crypto/openssl/</filename>.  This
		is rarely an issue, however, since changes to vendor
		code are usually merged wholesale.</para>
	    </listitem>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">Changes to userland programs should as a general
		rule be merged to the directory that contains the
		Makefile for that program.  For instance, a change to
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">usr.bin/xlint/arch/i386/</filename> should
		be merged to
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">usr.bin/xlint/</filename>.</para>
	    </listitem>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">Changes to userland libraries should as a general
		rule be merged to the directory that contains the
		Makefile for that library.  For instance, a change to
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">lib/libc/gen/</filename> should be merged to
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">lib/libc/</filename>.</para>
	    </listitem>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">There may be cases where it makes sense to deviate
		from the rules for userland programs and libraries.
		For instance, everything under
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">lib/libpam/</filename> is merged to
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">lib/libpam/</filename>, even though the
		library itself and all of the modules each have their
		own Makefile.</para>
	    </listitem>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">Changes to manual pages should be merged to
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">share/man/man<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">N</replaceable>/</filename>,
		for the appropriate value of
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">N</literal>.</para>
	    </listitem>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">Other changes to <filename xmlns:xlink="http://www.w3.org/1999/xlink">share/</filename>
		should be merged to the appropriate subdirectory and
		not to <filename xmlns:xlink="http://www.w3.org/1999/xlink">share/</filename> directly.</para>
	    </listitem>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">Changes to a top-level file in the source tree
		such as <filename xmlns:xlink="http://www.w3.org/1999/xlink">UPDATING</filename> or
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile.inc1</filename> should be merged
		directly to that file rather than to the root of the
		whole tree.  Yes, this is an exception to the first
		three rules.</para>
	    </listitem>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">When in doubt, ask.</para>
	    </listitem>
	  </orderedlist>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">If you need to merge changes to several places at once
	    (for instance, changing a kernel interface and every
	    userland program that uses it), merge each target
	    separately, then commit them together.  For instance, if
	    you merge a revision that changed a kernel
	    <acronym xmlns:xlink="http://www.w3.org/1999/xlink">API</acronym> and updated all the userland bits
	    that used that <acronym xmlns:xlink="http://www.w3.org/1999/xlink">API</acronym>, you would merge the
	    kernel change to sys, and the userland bits to the
	    appropriate userland directories, then commit all of these
	    in one go.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">The source will almost invariably be the same as the
	    target.  For instance, you will always merge
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">stable/7/lib/libc/</filename> from
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">head/lib/libc/</filename>.  The only exception
	    would be when merging changes to code that has moved in
	    the source branch but not in the parent branch.  For
	    instance, a change to <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pkill</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> would be merged from
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">bin/pkill/</filename> in head to
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">usr.bin/pkill/</filename> in stable/7.</para>
	</sect4>

	<sect4 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">Preparing the Merge Target</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Because of the mergeinfo propagation issues described
	    earlier, it is very important that you never merge changes
	    into a sparse working copy.  You must always have a full
	    checkout of the branch you will merge into.  For instance,
	    when merging from HEAD to 7, you must have a full checkout
	    of stable/7:</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd stable/7</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn up --set-depth=infinity</userinput></screen>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">The target directory must also be up-to-date and must
	    not contain any uncommitted changes or stray files.</para>
	</sect4>

	<sect4 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">Identifying Revisions</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Identifying revisions to be merged is a must.  If the
	    target already has complete mergeinfo, ask
	    <acronym xmlns:xlink="http://www.w3.org/1999/xlink">SVN</acronym> for a list:</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd stable/6/contrib/openpam</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn mergeinfo --show-revs=eligible $FSVN/head/contrib/openpam</userinput></screen>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">If the target does not have complete mergeinfo, check
	    the log for the merge source.</para>
	</sect4>

	<sect4 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">Merging</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Now, let us start merging!</para>

	  <sect5 xmlns:xlink="http://www.w3.org/1999/xlink">
	    <title xmlns:xlink="http://www.w3.org/1999/xlink">The Principles</title>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">Say you would like to merge:</para>

	    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">revision <literal xmlns:xlink="http://www.w3.org/1999/xlink">$R</literal></para>
	      </listitem>

	      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">in directory $target in stable branch
		  $B</para>
	      </listitem>

	      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">from directory $source in head</para>
	      </listitem>

	      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">$FSVN is
		  <literal xmlns:xlink="http://www.w3.org/1999/xlink">svn+ssh://svn.freebsd.org/base</literal></para>
	      </listitem>
	    </itemizedlist>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">Assuming that revisions $P and $Q have
	      already been merged, and that the current directory is
	      an up-to-date working copy of stable/$B, the
	      existing mergeinfo looks like this:</para>

	    <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn propget svn:mergeinfo -R $target</userinput>
$target - /head/$source:$P,$Q</screen>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">Merging is done like so:</para>

	    <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn merge -c$R $FSVN/head/$source $target</userinput></screen>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">Checking the results of this is possible with
	      <command xmlns:xlink="http://www.w3.org/1999/xlink">svn diff</command>.</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">The svn:mergeinfo now looks like:</para>

	    <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn propget svn:mergeinfo -R $target</userinput>
$target - head/$source:$P,$Q,$R</screen>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">If the results are not exactly as shown, assistance
	      may be required before committing as mistakes may have
	      been made, or there may be something wrong with the
	      existing mergeinfo, or there may be a bug in
	      Subversion.</para>
	  </sect5>

	  <sect5 xmlns:xlink="http://www.w3.org/1999/xlink">
	    <title xmlns:xlink="http://www.w3.org/1999/xlink">Practical Example</title>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">As a practical example, consider the following
	      scenario.  The changes to <filename xmlns:xlink="http://www.w3.org/1999/xlink">netmap.4</filename>
	      in r238987 are to be merged from CURRENT to 9-STABLE.
	      The file resides in
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">head/share/man/man4</filename>.  According
	      to <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="svn-advanced-use-merging"/>, this is
	      also where to do the merge.  Note that in this example
	      all paths are relative to the top of the svn repository.
	      For more information on the directory layout, see <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="svn-getting-started-base-layout"/>.</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">The first step is to inspect the existing
	      mergeinfo.</para>

	    <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn propget svn:mergeinfo -R stable/9/share/man/man4</userinput></screen>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">Take a quick note of how it looks before moving on
	      to the next step; doing the actual merge:</para>

	    <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn merge -c r238987 svn+ssh://svn.freebsd.org/base/head/share/man/man4 stable/9/share/man/man4</userinput>
--- Merging r238987 into 'stable/9/share/man/man4':
U    stable/9/share/man/man4/netmap.4
--- Recording mergeinfo for merge of r238987 into
'stable/9/share/man/man4':
 U   stable/9/share/man/man4</screen>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">Check that the revision number of the merged
	      revision has been added.  Once this is verified, the
	      only thing left is the actual commit.</para>

	    <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn commit stable/9/share/man/man4</userinput></screen>
	  </sect5>

	  <sect5 xmlns:xlink="http://www.w3.org/1999/xlink">
	    <title xmlns:xlink="http://www.w3.org/1999/xlink">Merging into the Kernel
	      (<filename xmlns:xlink="http://www.w3.org/1999/xlink">sys/</filename>)</title>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">As stated above, merging into the kernel is
	      different from merging in the rest of the tree.  In many
	      ways merging to the kernel is simpler because there is
	      always the same merge target
	      (<filename xmlns:xlink="http://www.w3.org/1999/xlink">sys/</filename>).</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">Once <command xmlns:xlink="http://www.w3.org/1999/xlink">svn merge</command> has been executed,
	      <command xmlns:xlink="http://www.w3.org/1999/xlink">svn diff</command> has to be run on the
	      directory to check the changes.  This may show some
	      unrelated property changes, but these can be ignored.
	      Next, build and test the kernel, and, once the tests are
	      complete, commit the code as normal, making sure that
	      the commit message starts with <quote xmlns:xlink="http://www.w3.org/1999/xlink">Merge
		<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">r226222</replaceable> from head</quote>,
	      or similar.</para>
	  </sect5>
	</sect4>

	<sect4 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">Precautions Before Committing</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">As always, build world (or appropriate parts of
	    it).</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Check the changes with <command xmlns:xlink="http://www.w3.org/1999/xlink">svn diff</command> and
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">svn stat</command>.  Make sure all the files that
	    should have been added or deleted were in fact added or
	    deleted.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Take a closer look at any property change (marked by a
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">M</literal> in the second column of <command xmlns:xlink="http://www.w3.org/1999/xlink">svn
	      stat</command>).  Normally, no svn:mergeinfo properties
	    should be anywhere except the target directory (or
	    directories).</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">If something looks fishy, ask for help.</para>
	</sect4>

	<sect4 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">Committing</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Make sure to commit a top level directory to have the
	    mergeinfo included as well.  Do not specify individual
	    files on the command line.  For more information about
	    committing files in general, see the relevant section of
	    this primer.</para>
	</sect4>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="svn-advanced-use-vendor-imports">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Vendor Imports with <acronym xmlns:xlink="http://www.w3.org/1999/xlink">SVN</acronym></title>

	<important xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Please read this entire section before starting a
	    vendor import.</para>
	</important>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Patches to vendor code fall into two
	    categories:</para>

	  <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">Vendor patches: these are patches that have been
		issued by the vendor, or that have been extracted from
		the vendor's version control system, which address
		issues which in your opinion cannot wait until the
		next vendor release.</para>
	    </listitem>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD patches: these are patches that modify the
		vendor code to address FreeBSD-specific issues.</para>
	    </listitem>
	  </itemizedlist>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">The nature of a patch dictates where it should be
	    committed:</para>

	  <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">Vendor patches should be committed to the vendor
		branch, and merged from there to head.  If the patch
		addresses an issue in a new release that is currently
		being imported, it <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">must not</emphasis> be
		committed along with the new release: the release must
		be imported and tagged first, then the patch can be
		applied and committed.  There is no need to re-tag the
		vendor sources after committing the patch.</para>
	    </listitem>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD patches should be committed directly to
		head.</para>
	    </listitem>
	  </itemizedlist>
	</note>

	<sect4 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">Preparing the Tree</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">If importing for the first time after the switch to
	    Subversion, flattening and cleaning up the vendor tree is
	    necessary, as well as bootstrapping the merge history in
	    the main tree.</para>

	  <sect5 xmlns:xlink="http://www.w3.org/1999/xlink">
	    <title xmlns:xlink="http://www.w3.org/1999/xlink">Flattening</title>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">During the conversion from <acronym xmlns:xlink="http://www.w3.org/1999/xlink">CVS</acronym> to
	      Subversion, vendor branches were imported with the same
	      layout as the main tree.  This means that the
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">pf</literal> vendor sources ended up in
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">vendor/pf/dist/contrib/pf</filename>.  The
	      vendor source is best directly in
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">vendor/pf/dist</filename>.</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">To flatten the <literal xmlns:xlink="http://www.w3.org/1999/xlink">pf</literal> tree:</para>

	    <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">vendor/pf/dist/contrib/pf</replaceable></userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn mv $(svn list) ../..</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd ../..</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn rm contrib</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn propdel -R svn:mergeinfo .</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn commit</userinput></screen>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">The <literal xmlns:xlink="http://www.w3.org/1999/xlink">propdel</literal> bit is necessary
	      because starting with 1.5, Subversion will automatically
	      add <literal xmlns:xlink="http://www.w3.org/1999/xlink">svn:mergeinfo</literal> to any directory
	      that is copied or moved.  In this case, as nothing is
	      being merged from the deleted tree, they just get in the
	      way.</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">Tags may be flattened as well (3, 4, 3.5 etc.); the
	      procedure is exactly the same, only changing
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">dist</literal> to <literal xmlns:xlink="http://www.w3.org/1999/xlink">3.5</literal> or
	      similar, and putting the <command xmlns:xlink="http://www.w3.org/1999/xlink">svn commit</command>
	      off until the end of the process.</para>
	  </sect5>

	  <sect5 xmlns:xlink="http://www.w3.org/1999/xlink">
	    <title xmlns:xlink="http://www.w3.org/1999/xlink">Cleaning Up</title>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">The <literal xmlns:xlink="http://www.w3.org/1999/xlink">dist</literal> tree can be cleaned up
	      as necessary.  Disabling keyword expansion is
	      recommended, as it makes no sense on unmodified vendor
	      code and in some cases it can even be harmful.
	      <application xmlns:xlink="http://www.w3.org/1999/xlink">OpenSSH</application>, for example,
	      includes two files that originated with FreeBSD and still
	      contain the original version tags.  To do this:</para>

	    <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn propdel svn:keywords -R .</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn commit</userinput></screen>
	  </sect5>

	  <sect5 xmlns:xlink="http://www.w3.org/1999/xlink">
	    <title xmlns:xlink="http://www.w3.org/1999/xlink">Bootstrapping Merge History</title>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">If importing for the first time after the switch to
	      Subversion, bootstrap <literal xmlns:xlink="http://www.w3.org/1999/xlink">svn:mergeinfo</literal>
	      on the target directory in the main tree to the revision
	      that corresponds to the last related change to the
	      vendor tree, prior to importing new sources:</para>

	    <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">head/contrib/pf</replaceable></userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn merge --record-only svn+ssh://svn.freebsd.org/base/<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">vendor/pf/dist@180876</replaceable> .</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn commit</userinput></screen>
	  </sect5>
	</sect4>

	<sect4 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">Importing New Sources</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">With two commits&#8212;one for the import itself and
	    one for the tag&#8212;this step can optionally be repeated
	    for every upstream release between the last import and the
	    current import.</para>

	  <sect5 xmlns:xlink="http://www.w3.org/1999/xlink">
	    <title xmlns:xlink="http://www.w3.org/1999/xlink">Preparing the Vendor Sources</title>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">Unlike in <acronym xmlns:xlink="http://www.w3.org/1999/xlink">CVS</acronym> where only the
	      needed parts were imported into the vendor tree to avoid
	      bloating the main tree, Subversion is able to store a
	      full distribution in the vendor tree.  So, import
	      everything, but merge only what is required.</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">A <command xmlns:xlink="http://www.w3.org/1999/xlink">svn add</command> is required to add any
	      files that were added since the last vendor import, and
	      <command xmlns:xlink="http://www.w3.org/1999/xlink">svn rm</command> is required to remove any that
	      were removed since.  Preparing sorted lists of the
	      contents of the vendor tree and of the sources that are
	      about to be imported is recommended, to facilitate the
	      process.</para>

	    <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">vendor/pf/dist</replaceable></userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn list -R | grep -v '/$' | sort &gt;../old</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">../pf-4.3</replaceable></userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">find . -type f | cut -c 3- | sort &gt;../new</userinput></screen>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">With these two files,
	      <command xmlns:xlink="http://www.w3.org/1999/xlink">comm -23 ../old ../new</command> will list
	      removed files (files only in <filename xmlns:xlink="http://www.w3.org/1999/xlink">old</filename>),
	      while <command xmlns:xlink="http://www.w3.org/1999/xlink">comm -13 ../old ../new</command> will
	      list added files only in
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">new</filename>.</para>
	  </sect5>

	  <sect5 xmlns:xlink="http://www.w3.org/1999/xlink">
	    <title xmlns:xlink="http://www.w3.org/1999/xlink">Importing into the Vendor Tree</title>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">Now, the sources must be copied into
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">dist</replaceable></filename> and
	      the <command xmlns:xlink="http://www.w3.org/1999/xlink">svn add</command> and
	      <command xmlns:xlink="http://www.w3.org/1999/xlink">svn rm</command> commands should be used as
	      needed:</para>

	    <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">vendor/pf/pf-4.3</replaceable></userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">tar cf - . | tar xf - -C ../dist</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">../dist</replaceable></userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">comm -23 ../old ../new | xargs svn rm</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">comm -13 ../old ../new | xargs svn --parents add</userinput></screen>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">If any directories were removed, they will have to
	      be <command xmlns:xlink="http://www.w3.org/1999/xlink">svn rm</command>ed manually.  Nothing will
	      break if they are not, but they will remain in the
	      tree.</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">Check properties on any new files.  All text files
	      should have <literal xmlns:xlink="http://www.w3.org/1999/xlink">svn:eol-style</literal> set to
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">native</literal>.  All binary files should have
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">svn:mime-type</literal> set to
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">application/octet-stream</literal> unless there
	      is a more appropriate media type.  Executable files
	      should have <literal xmlns:xlink="http://www.w3.org/1999/xlink">svn:executable</literal> set to
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">*</literal>.  No other properties should exist
	      on any file in the tree.</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">Committing is now possible, however it is good
	      practice to make sure that everything is OK by using the
	      <command xmlns:xlink="http://www.w3.org/1999/xlink">svn stat</command> and
	      <command xmlns:xlink="http://www.w3.org/1999/xlink">svn diff</command> commands.</para>
	  </sect5>

	  <sect5 xmlns:xlink="http://www.w3.org/1999/xlink">
	    <title xmlns:xlink="http://www.w3.org/1999/xlink">Tagging</title>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">Once committed, vendor releases should be tagged for
	      future reference.  The best and quickest way to do this
	      is directly in the repository:</para>

	    <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn cp svn+ssh://svn.freebsd.org/base/<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">vendor/pf/dist</replaceable> svn+ssh://svn.freebsd.org/base/<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">vendor/pf/4.3</replaceable></userinput></screen>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">Once that is complete, <command xmlns:xlink="http://www.w3.org/1999/xlink">svn up</command> the
	      working copy of
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">vendor/pf</replaceable></filename>
	      to get the new tag, although this is rarely
	      needed.</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">If creating the tag in the working copy of the tree,
	      <command xmlns:xlink="http://www.w3.org/1999/xlink">svn:mergeinfo</command> results must be
	      removed:</para>

	    <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd	<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">vendor/pf</replaceable></userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn cp dist 4.3</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn propdel svn:mergeinfo -R 4.3</userinput></screen>
	  </sect5>
	</sect4>

	<sect4 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">Merging to Head</title>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">head/contrib/pf</replaceable></userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn up</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn merge --accept=postpone svn+ssh://svn.freebsd.org/base/<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">vendor/pf/dist</replaceable> .</userinput></screen>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">The <literal xmlns:xlink="http://www.w3.org/1999/xlink">--accept=postpone</literal> tells
	    Subversion that it should not complain because merge
	    conflicts will be taken care of manually.</para>

	  <tip xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="svn-advanced-use-vendor-imports-pre-svn">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">The <command xmlns:xlink="http://www.w3.org/1999/xlink">cvs2svn</command> changeover occurred
	      on June 3, 2008.  When performing vendor merges for
	      packages which were already present and converted by the
	      <command xmlns:xlink="http://www.w3.org/1999/xlink">cvs2svn</command> process, the command used to
	      merge
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/vendor/<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">package_name</replaceable>/dist</filename>
	      to
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/head/<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">package_location</replaceable></filename>
	      (for example,
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">head/contrib/sendmail</filename>) must use
	      <option xmlns:xlink="http://www.w3.org/1999/xlink">-c <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">REV</replaceable></option> to
	      indicate the revision to merge from the
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/vendor</filename> tree.  For example:</para>

	    <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn checkout svn+ssh://svn.freebsd.org/base/head/contrib/<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</replaceable></userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd sendmail</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn merge -c r<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">261190</replaceable> ^/vendor/<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">sendmail/dist</replaceable> .</userinput></screen>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">^</literal> is an alias for the
	      repository path.</para>
	  </tip>

	  <note xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">If using the <application xmlns:xlink="http://www.w3.org/1999/xlink">Zsh</application> shell,
	      the <literal xmlns:xlink="http://www.w3.org/1999/xlink">^</literal> must be escaped with
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">\</literal>.  This means
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">^/head</literal> should be
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">\^/head</literal>.</para>
	  </note>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">It is necessary to resolve any merge conflicts.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Make sure that any files that were added or removed in
	    the vendor tree have been properly added or removed in the
	    main tree.  To check diffs against the vendor
	    branch:</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn diff --no-diff-deleted --old=svn+ssh://svn.freebsd.org/base/<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">vendor/pf/dist</replaceable> --new=.</userinput></screen>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">The <literal xmlns:xlink="http://www.w3.org/1999/xlink">--no-diff-deleted</literal> tells
	    Subversion not to complain about files that are in the
	    vendor tree but not in the main tree, i.e., things that
	    would have previously been removed before the vendor
	    import, like for example the vendor's makefiles
	    and configure scripts.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Using <acronym xmlns:xlink="http://www.w3.org/1999/xlink">CVS</acronym>, once a file was off the
	    vendor branch, it was not able to be put back.  With
	    Subversion, there is no concept of on or off the vendor
	    branch.  If a file that previously had local
	    modifications, to make it not show up in diffs in the
	    vendor tree, all that has to be done is remove any
	    left-over cruft like FreeBSD version tags, which is much
	    easier.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">If any changes are required for the world to build
	    with the new sources, make them now, and keep testing
	    until everything builds and runs perfectly.</para>
	</sect4>

	<sect4 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">Committing the Vendor Import</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Committing is now possible!  Everything must be
	    committed in one go.  If done properly, the tree will move
	    from a consistent state with old code, to a consistent
	    state with new code.</para>
	</sect4>

	<sect4 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">From Scratch</title>

	  <sect5 xmlns:xlink="http://www.w3.org/1999/xlink">
	    <title xmlns:xlink="http://www.w3.org/1999/xlink">Importing into the Vendor Tree</title>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">This section is an example of importing and tagging
	      <application xmlns:xlink="http://www.w3.org/1999/xlink">byacc</application> into
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">head</filename>.</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">First, prepare the directory in
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">vendor</filename>:</para>

	    <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn co --depth immediates <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">$FSVN/vendor</replaceable></userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">vendor</replaceable></userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn mkdir <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">byacc</replaceable></userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn mkdir <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">byacc/dist</replaceable></userinput></screen>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">Now, import the sources into the
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">dist</filename> directory.
	      Once the files are in place, <command xmlns:xlink="http://www.w3.org/1999/xlink">svn add</command>
	      the new ones, then <command xmlns:xlink="http://www.w3.org/1999/xlink">svn commit</command> and tag
	      the imported version.  To save time and bandwidth,
	      direct remote committing and tagging is possible:</para>

	    <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn cp -m <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">"Tag byacc 20120115"</replaceable> <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">$FSVN/vendor/byacc/dist</replaceable> <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">$FSVN/vendor/byacc/20120115</replaceable></userinput></screen>
	  </sect5>

	  <sect5 xmlns:xlink="http://www.w3.org/1999/xlink">
	    <title xmlns:xlink="http://www.w3.org/1999/xlink">Merging to <literal xmlns:xlink="http://www.w3.org/1999/xlink">head</literal></title>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">Due to this being a new file, copy it for the
	      merge:</para>

	    <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn cp -m <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">"Import byacc to contrib"</replaceable> <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">$FSVN/vendor/byacc/dist</replaceable> <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">$FSVN/head/contrib/byacc</replaceable></userinput></screen>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">Working normally on newly imported sources is still
	      possible.</para>
	  </sect5>
	</sect4>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="svn-advanced-use-reverting-a-commit">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Reverting a Commit</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Reverting a commit to a previous version is fairly
	  easy:</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn merge -r179454:179453 ROADMAP.txt</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn commit</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Change number syntax, with negative meaning a reverse
	  change, can also be used:</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn merge -c -179454 ROADMAP.txt</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn commit</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">This can also be done directly in the repository:</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn merge -r179454:179453 svn+ssh://svn.freebsd.org/base/ROADMAP.txt</userinput></screen>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">It is important to ensure that the mergeinfo
	    is correct when reverting a file in order to permit
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">svn mergeinfo --eligible</command> to work as
	    expected.</para>
	</note>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Reverting the deletion of a file is slightly different.
	  Copying the version of the file that predates the deletion
	  is required.  For example, to restore a file that was
	  deleted in revision N, restore version N-1:</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn copy svn+ssh://svn.freebsd.org/base/ROADMAP.txt@179454</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn commit</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">or, equally:</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn copy svn+ssh://svn.freebsd.org/base/ROADMAP.txt@179454 svn+ssh://svn.freebsd.org/base</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Do <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">not</emphasis> simply recreate the file
	  manually and <command xmlns:xlink="http://www.w3.org/1999/xlink">svn add</command> it&#8212;this will
	  cause history to be lost.</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="svn-advanced-use-fixing-mistakes">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Fixing Mistakes</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">While we can do surgery in an emergency, do not plan on
	  having mistakes fixed behind the scenes.  Plan on mistakes
	  remaining in the logs forever.  Be sure to check the output
	  of <command xmlns:xlink="http://www.w3.org/1999/xlink">svn status</command> and <command xmlns:xlink="http://www.w3.org/1999/xlink">svn
	    diff</command> before committing.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Mistakes will happen but,
	  they can generally be fixed without
	  disruption.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Take a case of adding a file in the wrong location.  The
	  right thing to do is to <command xmlns:xlink="http://www.w3.org/1999/xlink">svn move</command> the file
	  to the correct location and commit.  This causes just a
	  couple of lines of metadata in the repository journal, and
	  the logs are all linked up correctly.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">The wrong thing to do is to delete the file and then
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">svn add</command> an independent copy in the
	  correct location.  Instead of a couple of lines of text, the
	  repository journal grows an entire new copy of the file.
	  This is a waste.</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="svn-advanced-use-setting-up-svnsync">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Setting up a <application xmlns:xlink="http://www.w3.org/1999/xlink">svnsync</application>
	  Mirror</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">You probably do not want to do this unless there is a
	  good reason for it.  Such reasons might be to support many
	  multiple local read-only client machines, or if your network
	  bandwidth is limited.  Starting a fresh mirror from empty
	  would take a very long time.  Expect a minimum of 10 hours
	  for high speed connectivity.  If you have international
	  links, expect this to take 4 to 10 times longer.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">A far better option is to grab a seed file.  It is large
	  (~1GB) but will consume less network traffic and take less
	  time to fetch than a svnsync will.  This is possible in one
	  of the following three ways:</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">rsync -va --partial --progress freefall:/home/peter/svnmirror-base-r179637.tbz2 .</userinput></screen>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">rsync -va --partial --progress rsync://repoman.freebsd.org:50873/svnseed/svnmirror-base-r215629.tar.xz .</userinput></screen>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">fetch ftp://ftp.freebsd.org/pub/FreeBSD/development/subversion/svnmirror-base-r221445.tar.xz</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Once you have the file, extract it to somewhere like
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">home/svnmirror/base/</filename>.
	  Then, update it, so that it fetches changes since the last
	  revision in the archive:</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svnsync sync file:///home/svnmirror/base</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">You can then set that up to run from <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">cron</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>, do
	  checkouts locally, set up a svnserve server for your local
	  machines to talk to, etc.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">The seed mirror is set to fetch from
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">svn://svn.freebsd.org/base</literal>.  The
	  configuration for the mirror is stored in
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">revprop 0</literal> on the local mirror.  To see
	  the configuration, try:</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn proplist -v --revprop -r 0 file:///home/svnmirror/base</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Use <literal xmlns:xlink="http://www.w3.org/1999/xlink">propset</literal> to change things.</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="svn-advanced-use-committing-high-ascii-data">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Committing High-<acronym xmlns:xlink="http://www.w3.org/1999/xlink">ASCII</acronym> Data</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Files that have high-<acronym xmlns:xlink="http://www.w3.org/1999/xlink">ASCII</acronym> bits are
	  considered binary files in <acronym xmlns:xlink="http://www.w3.org/1999/xlink">SVN</acronym>, so the
	  pre-commit checks fail and indicate that the
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">mime-type</literal> property should be set to
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">application/octet-stream</literal>.  However, the
	  use of this is discouraged, so please do not set it.  The
	  best way is always avoiding high-<acronym xmlns:xlink="http://www.w3.org/1999/xlink">ASCII</acronym>
	  data, so that it can be read everywhere with any text editor
	  but if it is not avoidable, instead of changing the
	  mime-type, set the <literal xmlns:xlink="http://www.w3.org/1999/xlink">fbsd:notbinary</literal>
	  property with <literal xmlns:xlink="http://www.w3.org/1999/xlink">propset</literal>:</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn propset fbsd:notbinary yes foo.data</userinput></screen>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="svn-advanced-use-maintaining-a-project-branch">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Maintaining a Project Branch</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">A project branch is one that is synced to head (or
	  another branch) is used to develop a project then commit it
	  back to head.  In <acronym xmlns:xlink="http://www.w3.org/1999/xlink">SVN</acronym>,
	  <quote xmlns:xlink="http://www.w3.org/1999/xlink">dolphin</quote> branching is used for this.  A
	  <quote xmlns:xlink="http://www.w3.org/1999/xlink">dolphin</quote> branch is one that diverges for a
	  while and is finally committed back to the original branch.
	  During development code migration in one direction (from
	  head to the branch only).  No code is committed back to head
	  until the end.  Once you commit back at the end, the branch
	  is dead (although you can have a new branch with the same
	  name after you delete the branch if you want).</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">As per <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://people.freebsd.org/~peter/svn_notes.txt">http://people.freebsd.org/~peter/svn_notes.txt</link>,
	  work that is intended to be merged back into HEAD should be
	  in <filename xmlns:xlink="http://www.w3.org/1999/xlink">base/projects/</filename>.  If you are doing
	  work that is beneficial to the FreeBSD community in some way
	  but not intended to be merged directly back into HEAD then
	  the proper location is
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">base/user/<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">your-name</replaceable>/</filename>.
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://svnweb.freebsd.org/base/projects/GUIDELINES.txt">This
	    page</link> contains further details.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">To create a project branch:</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn copy svn+ssh://svn.freebsd.org/base/head svn+ssh://svn.freebsd.org/base/projects/spif</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">To merge changes from HEAD back into the project
	  branch:</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd copy_of_spif</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn merge svn+ssh://svn.freebsd.org/base/head</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn commit</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">It is important to resolve any merge conflicts before
	  committing.</para>
	<!--
	<para>To collapse everything back at the end:</para>

	<screen>&prompt.user; <userinput>svn write me</userinput></screen>

	-->
      </sect3>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Some Tips</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">In commit logs etc., <quote xmlns:xlink="http://www.w3.org/1999/xlink">rev 179872</quote> should be
	spelled <quote xmlns:xlink="http://www.w3.org/1999/xlink">r179872</quote> as per convention.</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Speeding up svn is possible by adding the following to
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">~/.ssh/config</filename>:</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink">Host *
ControlPath ~/.ssh/sockets/master-%l-%r@%h:%p
ControlMaster auto
ControlPersist yes</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">and then typing</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><userinput xmlns:xlink="http://www.w3.org/1999/xlink">mkdir ~/.ssh/sockets</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Checking out a working copy with a stock Subversion client
	without FreeBSD-specific patches
	(<varname xmlns:xlink="http://www.w3.org/1999/xlink">OPTIONS_SET=FREEBSD_TEMPLATE</varname>) will mean
	that <literal xmlns:xlink="http://www.w3.org/1999/xlink">$FreeBSD$</literal> tags will not
	be expanded.  Once the correct version has been installed,
	trick Subversion into expanding them like so:</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn propdel -R svn:keywords .</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn revert -R .</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">This will wipe out uncommitted patches.</para>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="conventions">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">Setup, Conventions, and Traditions</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">There are a number of things to do as a new developer.
      The first set of steps is specific to committers only.  These
      steps must be done by a mentor for those who are not
      committers.</para>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="conventions-committers">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">For New Committers</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Those who have been given commit rights to the FreeBSD
	repositories must follow these steps.</para>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="commit-notes">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Get mentor approval before committing each of these
	    changes!</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">The <filename xmlns:xlink="http://www.w3.org/1999/xlink">.ent</filename> and
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">.xml</filename> files mentioned below exist in
	    the FreeBSD Documentation Project SVN repository at <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="svn.FreeBSD.org/doc/"><literal xmlns:xlink="http://www.w3.org/1999/xlink">svn.FreeBSD.org/doc/</literal></link>.</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">New files that do not have the
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD=%H</literal>
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">svn:keywords</command> property will be rejected
	    when attempting to commit them to the repository.  Be sure
	    to read
	    <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="svn-daily-use-adding-and-removing"/>
	    regarding adding and removing files.  Verify that
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">~/.subversion/config</filename> contains the
	    necessary <quote xmlns:xlink="http://www.w3.org/1999/xlink">auto-props</quote> entries from
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">auto-props.txt</filename> mentioned
	    there.</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">All <filename xmlns:xlink="http://www.w3.org/1999/xlink">src</filename> commits should go to
	    FreeBSD-CURRENT first before being merged to FreeBSD-STABLE.
	    The FreeBSD-STABLE branch must maintain
	    <acronym xmlns:xlink="http://www.w3.org/1999/xlink">ABI</acronym> and <acronym xmlns:xlink="http://www.w3.org/1999/xlink">API</acronym>
	    compatibility with earlier versions of that branch.  Do
	    not merge changes that break this compatibility.</para>
	</listitem>
      </itemizedlist>

      <procedure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="commit-steps">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Steps for New Committers</title>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">Add an Author Entity</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">doc/head/share/xml/authors.ent</filename>
	    &#8212; Add an author entity.  Later steps depend on this
	    entity, and missing this step will cause the
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">doc/</filename> build to fail.  This is a
	    relatively easy task, but remains a good first test of
	    version control skills.</para>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">Update the List of Developers and
	    Contributors</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">doc/head/en_US.ISO8859-1/articles/contributors/contrib.committers.xml</filename>
	    &#8212;
	    Add an entry to the <quote xmlns:xlink="http://www.w3.org/1999/xlink">Developers</quote> section
	    of the <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="../../../../doc/en_US.ISO8859-1/articles/contributors/staff-committers.html">Contributors
	      List</link>.  Entries are sorted by last name.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">doc/head/en_US.ISO8859-1/articles/contributors/contrib.additional.xml</filename>
	    &#8212; Remove the entry from the
	    <quote xmlns:xlink="http://www.w3.org/1999/xlink">Additional Contributors</quote> section.  Entries
	    are sorted by last name.</para>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">Add a News Item</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">doc/head/share/xml/news.xml</filename>
	    &#8212; Add an entry.  Look for the other entries that
	    announce new committers and follow the format.  Use the
	    date from the commit bit approval email from
	    <email xmlns:xlink="http://www.w3.org/1999/xlink">core@FreeBSD.org</email>.</para>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">Add a <acronym xmlns:xlink="http://www.w3.org/1999/xlink">PGP</acronym> Key</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">doc/head/share/pgpkeys/pgpkeys.ent</filename>
	    and
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">doc/head/share/pgpkeys/pgpkeys-developers.xml</filename>
	    - Add your <acronym xmlns:xlink="http://www.w3.org/1999/xlink">PGP</acronym> or
	    Gnu<acronym xmlns:xlink="http://www.w3.org/1999/xlink">PG</acronym> key.  Those who do not yet have a
	    key should see <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="pgpkeys-creating"/>.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Dag-Erling C. Smørgrav <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">des@FreeBSD.org</email> has written a shell script
	    (<filename xmlns:xlink="http://www.w3.org/1999/xlink">doc/head/share/pgpkeys/addkey.sh</filename>) to
	    make this easier.  See the <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://svnweb.FreeBSD.org/doc/head/share/pgpkeys/README">README</link>
	    file for more information.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Use
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">doc/head/share/pgpkeys/checkkey.sh</filename> to
	    verify that keys meet minimal best-practices
	    standards.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">After adding and checking a key, add both updated
	    files to source control and then commit them.  Entries in
	    this file are sorted by last name.</para>

	  <note xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">It is very important to have a current
	      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">PGP</acronym>/Gnu<acronym xmlns:xlink="http://www.w3.org/1999/xlink">PG</acronym> key in
	      the repository.  The key may be required for positive
	      identification of a committer.  For example, the
	      FreeBSD Administrators <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">admins@FreeBSD.org</email> might need it for account recovery.  A
	      complete keyring of <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">FreeBSD.org</systemitem> users is
	      available for download from <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="../../../../doc/pgpkeyring.txt">http://www.FreeBSD.org/doc/pgpkeyring.txt</link>.</para>
	  </note>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">Update Mentor and Mentee Information</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">base/head/share/misc/committers-<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">repository</replaceable>.dot</filename>
	    &#8212; Add an entry to the current committers section,
	    where <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">repository</replaceable> is
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">doc</literal>, <literal xmlns:xlink="http://www.w3.org/1999/xlink">ports</literal>, or
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">src</literal>, depending on the commit privileges
	    granted.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Add an entry for each additional mentor/mentee
	    relationship in the bottom section.</para>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">Generate a <application xmlns:xlink="http://www.w3.org/1999/xlink">Kerberos</application>
	    Password</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">See <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="kerberos-ldap"/> to generate or
	    set a <application xmlns:xlink="http://www.w3.org/1999/xlink">Kerberos</application> for use with
	    other FreeBSD services like the bug tracking database.</para>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">Optional: Enable Wiki Account</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://wiki.freebsd.org">FreeBSD
	      Wiki</link> Account &#8212; A wiki account allows
	    sharing projects and ideas.  Those who do not yet have an
	    account can contact <email xmlns:xlink="http://www.w3.org/1999/xlink">clusteradm@FreeBSD.org</email>
	    to obtain one.</para>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">Optional: Update Wiki Information</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Wiki Information - After gaining access to the wiki,
	    some people add entries to the <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://wiki.freebsd.org/HowWeGotHere">How We
	      Got Here</link>,
	    <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://wiki.freebsd.org/IrcNicks">Irc
	      Nicks</link>, and <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://wiki.freebsd.org/DogsOfFreeBSD">Dogs
	      of FreeBSD</link> pages.</para>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">Optional: Update Ports with Personal
	    Information</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">ports/astro/xearth/files/freebsd.committers.markers</filename>
	    and
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">src/usr.bin/calendar/calendars/calendar.freebsd</filename>
	    - Some people add entries for themselves to these files to
	    show where they are located or the date of their
	    birthday.</para>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">Optional: Prevent Duplicate Mailings</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Subscribers to <link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/svn-src-all">svn-src-all</link>,
	    <link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/svn-ports-all">svn-ports-all</link> or <link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/svn-doc-all">svn-doc-all</link> might wish
	    to unsubscribe to avoid receiving duplicate copies of
	    commit messages and followups.</para>
	</step>
      </procedure>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="conventions-everyone">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">For Everyone</title>

      <procedure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="conventions-everyone-steps">
	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Introduce yourself to the other developers, otherwise
	    no one will have any idea who you are or what you are
	    working on.  The introduction need not be a comprehensive
	    biography, just write a paragraph or two about who you
	    are, what you plan to be working on as a developer in
	    FreeBSD, and who will be your mentor.  Email this to the
	    FreeBSD developers mailing list and you will be on your way!</para>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Log into <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">freefall.FreeBSD.org</systemitem> and
	    create a
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/forward/<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">user</replaceable></filename>
	    (where <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">user</replaceable> is your username)
	    file containing the e-mail address where you want mail
	    addressed to
	    <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">yourusername</replaceable>@FreeBSD.org to be
	    forwarded.  This includes all of the commit messages as
	    well as any other mail addressed to the FreeBSD committer's mailing list and
	    the FreeBSD developers mailing list.  Really large mailboxes which have
	    taken up permanent residence on
	    <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">hub</systemitem> often get
	    <quote xmlns:xlink="http://www.w3.org/1999/xlink">accidentally</quote> truncated without warning, so
	    forward it or read it and you will not lose it.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Due to the severe load dealing with SPAM places on the
	    central mail servers that do the mailing list processing
	    the front-end server does do some basic checks and will
	    drop some messages based on these checks.  At the moment
	    proper DNS information for the connecting host is the only
	    check in place but that may change.  Some people blame
	    these checks for bouncing valid email.  If you want these
	    checks turned off for your email you can place a file
	    named <filename xmlns:xlink="http://www.w3.org/1999/xlink">.spam_lover</filename> in your home
	    directory on <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">freefall.FreeBSD.org</systemitem>
	    to disable the checks for your email.</para>
	</step>
      </procedure>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">Those who are developers but not committers will
	  not be subscribed to the committers or developers mailing
	  lists.  The subscriptions are derived from the access
	  rights.</para>
      </note>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="mentors">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Mentors</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">All new developers have a mentor assigned to them for
	the first few months.  A mentor is responsible for teaching
	the mentee the rules and conventions of the project and
	guiding their first steps in the developer community.  The
	mentor is also personally responsible for the mentee's actions
	during this initial period.</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">For committers: do not commit anything without first
	getting mentor approval.  Document that approval with an
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">Approved by:</literal> line in the commit
	message.</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">When the mentor decides that a mentee has learned the
	ropes and is ready to commit on their own, the mentor
	announces it with a commit to
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">mentors</filename>.</para>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="commit-log-message">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">Commit Log Messages</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">This section contains some suggestions and traditions for
      how commit logs are formatted.</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">As well as including an informative message with each
      commit you may need to include some additional
      information.</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">This information consists of one or more lines
      containing the key word or phrase, a colon, tabs for formatting,
      and then the additional information.</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">The key words or phrases are:</para>

    <informaltable xmlns:xlink="http://www.w3.org/1999/xlink" frame="none" pgwide="1">
      <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	<tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">PR:</literal></entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">The problem report (if any) which is affected
	      (typically, by being closed) by this commit.  Only
	      include one PR per line as the automated scripts which
	      parse this line cannot understand more than
	      one.</entry>
	  </row>

	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">Differential Revision:</literal></entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">The full URL of the Phabricator review.  For
	      example:
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">https://reviews.freebsd.org/D1708</literal>.</entry>
	  </row>

	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">Submitted by:</literal></entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">The name and e-mail address of the person
		that submitted the fix; for developers, just the
		username on the FreeBSD cluster.</para>

	      <para xmlns:xlink="http://www.w3.org/1999/xlink">If the submitter is the maintainer of the port
		to which you are committing, include "(maintainer)"
		after the email address.</para>

	      <para xmlns:xlink="http://www.w3.org/1999/xlink">Avoid obfuscating the email address of the
		submitter as this adds additional work when searching
		logs.</para></entry>
	  </row>

	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">Reviewed by:</literal></entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">The name and e-mail address of the person or
	      people that reviewed the change; for developers,
	      just the username on the FreeBSD cluster.  If a
	      patch was submitted to a mailing list for review,
	      and the review was favorable, then just include
	      the list name.</entry>
	  </row>

	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">Approved by:</literal></entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">The name and e-mail address of the person or
	      people that approved the change; for developers, just
	      the username on the FreeBSD cluster.  It is customary to
	      get prior approval for a commit if it is to an area of
	      the tree to which you do not usually commit.  In
	      addition, during the run up to a new release all commits
	      <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">must</emphasis> be approved by the release
	      engineering team.</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">If these are your first commits then you should have
	      passed them past your mentor first, and you should list
	      your mentor, as in
	      ``<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">username-of-mentor</replaceable>
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">(mentor)</literal>''.</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">If a team approved these commits then include the
	      team name followed by the username of the approver in
	      parentheses.  For example: ``<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">re@
		(username)</replaceable>``</para></entry>
	  </row>

	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">Obtained from:</literal></entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">The name of the project (if any) from which
	      the code was obtained.  Do not use this line for the
	      name of an individual person.</entry>
	  </row>

	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">MFC after:</literal></entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">If you wish to receive an e-mail reminder to
	      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">MFC</acronym> at a later date, specify the
	      number of days, weeks, or months after which an
	      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">MFC</acronym> is planned.</entry>
	  </row>

	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">Relnotes:</literal></entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">If the change is a candidate for inclusion in
	      the release notes for the next release from the branch,
	      set to <literal xmlns:xlink="http://www.w3.org/1999/xlink">yes</literal>.</entry>
	  </row>

	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">Security:</literal></entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">If the change is related to a security
	      vulnerability or security exposure, include one or more
	      references or a description of the issue.  If possible,
	      include a VuXML URL or a CVE ID.</entry>
	  </row>
	</tbody>
      </tgroup>
    </informaltable>

    <example xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Commit Log for a Commit Based on a PR</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">You want to commit a change based on a PR submitted by
	John Smith containing a patch.  The end of the commit message
	should look something like this.</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">...

	    PR:                    12345
	    Submitted by:	   John Smith &lt;John.Smith@example.com&gt;</programlisting>
    </example>

    <example xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Commit Log for a Commit Needing Review</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">You want to change the virtual memory system.  You have
	posted patches to the appropriate mailing list (in this
	case, <literal xmlns:xlink="http://www.w3.org/1999/xlink">freebsd-arch</literal>) and the changes have
	been approved.</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">...

	    Reviewed by:       -arch</programlisting>
    </example>

    <example xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Commit Log for a Commit Needing Approval</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">You want to commit a port.  You have collaborated with
	the listed MAINTAINER, who has told you to go ahead and
	commit.</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">...

	    Approved by:	    <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">abc</replaceable> (maintainer)</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Where <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">abc</replaceable> is the account name
	of the person who approved.</para>
    </example>

    <example xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Commit Log for a Commit Bringing in Code from
	OpenBSD</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">You want to commit some code based on work done in the
	OpenBSD project.</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">...

	    Obtained from:      OpenBSD</programlisting>
    </example>

    <example xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Commit Log for a Change to FreeBSD-CURRENT with a Planned
	Commit to FreeBSD-STABLE to Follow at a Later Date.</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">You want to commit some code which will be merged from
	FreeBSD-CURRENT into the FreeBSD-STABLE branch after two
	weeks.</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">...

MFC after:      <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">2 weeks</replaceable></programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Where <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">2</replaceable> is the number of days,
	weeks, or months after which an <acronym xmlns:xlink="http://www.w3.org/1999/xlink">MFC</acronym> is
	planned.  The <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">weeks</replaceable> option may be
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">day</literal>, <literal xmlns:xlink="http://www.w3.org/1999/xlink">days</literal>,
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">week</literal>, <literal xmlns:xlink="http://www.w3.org/1999/xlink">weeks</literal>,
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">month</literal>, <literal xmlns:xlink="http://www.w3.org/1999/xlink">months</literal>.</para>
    </example>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">In many cases you may need to combine some of these.</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">Consider the situation where a user has submitted a PR
      containing code from the NetBSD project.  You are looking at the
      PR, but it is not an area of the tree you normally work in, so
      you have decided to get the change reviewed by the
      <literal xmlns:xlink="http://www.w3.org/1999/xlink">arch</literal> mailing list.  Since the change is
      complex, you opt to <acronym xmlns:xlink="http://www.w3.org/1999/xlink">MFC</acronym> after one month to
      allow adequate testing.</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">The extra information to include in the commit would look
      something like</para>

    <example xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Example Combined Commit Log</title>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">PR:                 54321
Submitted by:       John Smith &lt;John.Smith@example.com&gt;
Reviewed by:        -arch
Obtained from:      NetBSD
MFC after:          1 month
Relnotes:           yes</programlisting>
    </example>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="pref-license">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">Preferred License for New Files</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">Currently the FreeBSD Project suggests and uses the following
      text as the preferred license scheme:</para>

    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">/*-
 * Copyright (c) [year] [your name]
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions
 * are met:
 * 1. Redistributions of source code must retain the above copyright
 *    notice, this list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright
 *    notice, this list of conditions and the following disclaimer in the
 *    documentation and/or other materials provided with the distribution.
 *
 * THIS SOFTWARE IS PROVIDED BY THE AUTHOR AND CONTRIBUTORS ``AS IS'' AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED.  IN NO EVENT SHALL THE AUTHOR OR CONTRIBUTORS BE LIABLE
 * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
 * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
 * OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
 * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
 * LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
 * OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
 * SUCH DAMAGE.
 *
 * [id for your version control system, if any]
 */</programlisting>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">The FreeBSD project strongly discourages the so-called
      "advertising clause" in new code.  Due to the large number of
      contributors to the FreeBSD project, complying with this clause for
      many commercial vendors has become difficult.  If you have code
      in the tree with the advertising clause, please consider
      removing it.  In fact, please consider using the above license
      for your code.</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">The FreeBSD project discourages completely new licenses and
      variations on the standard licenses.  New licenses require the
      approval of the Core Team <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">core@FreeBSD.org</email> to reside in the
      main repository.  The more different licenses that are used in
      the tree, the more problems that this causes to those wishing to
      utilize this code, typically from unintended consequences from a
      poorly worded license.</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">Project policy dictates that code under some non-BSD
      licenses must be placed only in specific sections of the
      repository, and in some cases, compilation must be conditional
      or even disabled by default.  For example, the GENERIC kernel
      must be compiled under only licenses identical to or
      substantially similar to the BSD license.  GPL, APSL, CDDL, etc,
      licensed software must not be compiled into GENERIC.</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">Developers are reminded that in open source, getting "open"
      right is just as important as getting "source" right, as
      improper handling of intellectual property has serious
      consequences.  Any questions or concerns should immediately be
      brought to the attention of the core team.</para>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="tracking.license.grants">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">Keeping Track of Licenses Granted to the FreeBSD
      Project</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">Various software or data exist in the repositories where
      the FreeBSD project has been granted a special licence to be able
      to use them.  A case in point are the Terminus fonts for use
      with <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">vt</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry>.  Here the author Dimitar Zhekov has allowed us
      to use the "Terminus BSD Console" font under a 2-clause BSD
      license rather than the regular Open Font License he normally
      uses.</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">It is clearly sensible to keep a record of any such
      license grants.  To that end, the Core Team <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">core@FreeBSD.org</email> has decided to keep
      an archive of them.  Whenever the FreeBSD project is granted a
      special license we require the Core Team <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">core@FreeBSD.org</email> to be notified.  Any
      developers involved in arranging such a license grant, please
      send details to the Core Team <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">core@FreeBSD.org</email> including:</para>

    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">Contact details for people or organizations granting the
	  special license.</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">What files, directories etc. in the repositories are
	  covered by the license grant including the revision numbers
	  where any specially licensed material was committed.</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">The date the license comes into effect from.  Unless
	  otherwise agreed, this will be the date the license was
	  issued by the authors of the software in question.</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">The license text.</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">A note of any restrictions, limitations or exceptions
	  that apply specifically to FreeBSD's usage of the licensed
	  material.</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">Any other relevant information.</para>
      </listitem>
    </itemizedlist>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">Once the Core Team <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">core@FreeBSD.org</email> is satisfied that all the necessary
      details have been gathered and are correct, the secretary will
      send a PGP-signed acknowledgement of receipt including the
      license details.  This receipt will be persistently archived and
      serve as our permanent record of the license grant.</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">The license archive should contain only details of license
      grants; this is not the place for any discussions around
      licensing or other subjects.  Access to data within the license
      archive will be available on request to the Core Team <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">core@FreeBSD.org</email>.</para>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="developer.relations">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">Developer Relations</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">If you are working directly on your own code or on code
      which is already well established as your responsibility, then
      there is probably little need to check with other committers
      before jumping in with a commit.  If you see a bug in an area of
      the system which is clearly orphaned (and there are a few such
      areas, to our shame), the same applies.  If, however, you are
      about to modify something which is clearly being actively
      maintained by someone else (and it is only by watching the
      <literal xmlns:xlink="http://www.w3.org/1999/xlink"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">repository</replaceable>-committers</literal>
      mailing list that you can really get a feel for just what is and
      is not) then consider sending the change to them instead, just
      as you would have before becoming a committer.  For ports, you
      should contact the listed <varname xmlns:xlink="http://www.w3.org/1999/xlink">MAINTAINER</varname> in the
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>.  For other parts of the
      repository, if you are unsure who the active maintainer might
      be, it may help to scan the revision history to see who has
      committed changes in the past.  An example script that lists
      each person who has committed to
      a given file along with the number of commits each person has
      made can be found at on <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">freefall</systemitem> at
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">~eadler/bin/whodid</filename>.  If your queries go
      unanswered or the committer otherwise indicates a lack of
      interest in the area affected, go ahead and commit it.</para>

    <note xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">Avoid sending private emails to maintainers.  Other people
	might be interested in the conversation, not just the final
	output.</para>
    </note>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">If you are unsure about a commit for any reason at all, have
      it reviewed by <literal xmlns:xlink="http://www.w3.org/1999/xlink">-hackers</literal> before committing.
      Better to have it flamed then and there rather than when it is
      part of the repository.  If you do happen to commit something
      which results in controversy erupting, you may also wish to
      consider backing the change out again until the matter is
      settled.  Remember &#8211; with a version control system we can
      always change it back.</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">Do not impugn the intentions of someone you disagree with.
      If they see a different solution to a problem than you, or even
      a different problem, it is not because they are stupid, because
      they have questionable parentage, or because they are trying to
      destroy your hard work, personal image, or FreeBSD, but simply
      because they have a different outlook on the world.  Different
      is good.</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">Disagree honestly.  Argue your position from its merits,
      be honest about any shortcomings it may have, and be open to
      seeing their solution, or even their vision of the problem,
      with an open mind.</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">Accept correction.  We are all fallible.  When you have made
      a mistake, apologize and get on with life.  Do not beat up
      yourself, and certainly do not beat up others for your mistake.
      Do not waste time on embarrassment or recrimination, just fix
      the problem and move on.</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">Ask for help.  Seek out (and give) peer reviews.  One of
      the ways open source software is supposed to excel is in the
      number of eyeballs applied to it; this does not apply if nobody
      will review code.</para>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="if-in-doubt">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">If in Doubt...</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">When you are not sure about something, whether it be a
      technical issue or a project convention be sure to ask.  If you
      stay silent you will never make progress.</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">If it relates to a technical issue ask on the public
      mailing lists.  Avoid the temptation to email the individual
      person that knows the answer.  This way everyone will be able to
      learn from the question and the answer.</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">For project specific or administrative questions you should
      ask, in order: </para>

    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">Your mentor or former mentor.</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">An experienced committer on IRC, email, etc.</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">Any team with a "hat", as they should give you a
	  definitive answer.</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">If still not sure, ask on FreeBSD developers mailing list.</para>
      </listitem>
    </itemizedlist>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">Once your question is answered, if no one pointed you to
      documentation that spelled out the answer to your question,
      document it, as others will have the same question.</para>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bugzilla">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">Bugzilla</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">The FreeBSD Project utilizes
      <application xmlns:xlink="http://www.w3.org/1999/xlink">Bugzilla</application> for tracking bugs and change
      requests.  Be sure that if you commit a fix or suggestion found
      in the PR database to close it.  It is also considered nice if
      you take time to close any PRs associated with your commits, if
      appropriate.</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">Committers with
      non-<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="domainname">FreeBSD.org</systemitem>
      Bugzilla accounts can have the old account merged with the
      <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="domainname">FreeBSD.org</systemitem> account by
      entering a new bug.  Choose
      <literal xmlns:xlink="http://www.w3.org/1999/xlink">Supporting Services</literal> as the Product, and
      <literal xmlns:xlink="http://www.w3.org/1999/xlink">Bug Tracker</literal> as the Component.</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">You can find out more about
      <application xmlns:xlink="http://www.w3.org/1999/xlink">Bugzilla</application> at:</para>

    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="../../../../doc/en_US.ISO8859-1/articles/pr-guidelines/index.html">FreeBSD
	    Problem Report Handling Guidelines</link></para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="../../../../support.html">http://www.FreeBSD.org/support.html</link></para>
      </listitem>
    </itemizedlist>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">Phabricator</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">The FreeBSD Project utilizes <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://reviews.freebsd.org">Phabricator</link>
      for code review requests.  See the <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://wiki.freebsd.org/CodeReview">CodeReview</link>
      wiki page for details.</para>

  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="people">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">Who's Who</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">Besides the repository meisters, there are other FreeBSD
      project members and teams whom you will probably get to know in
      your role as a committer.  Briefly, and by no means
      all-inclusively, these are:</para>

    <variablelist xmlns:xlink="http://www.w3.org/1999/xlink">
      <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	<term xmlns:xlink="http://www.w3.org/1999/xlink">Documentation Engineering Team <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">doceng@FreeBSD.org</email></term>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">doceng is the group responsible for the documentation
	    build infrastructure, approving new documentation
	    committers, and ensuring that the FreeBSD website and
	    documentation on the FTP site is up to date with respect
	    to the <application xmlns:xlink="http://www.w3.org/1999/xlink">subversion</application> tree.  It is
	    not a conflict resolution body.
	    The vast majority of documentation related discussion
	    takes place on the <link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-doc">FreeBSD documentation project mailing list</link>.  More details regarding the
	    doceng team can be found in its <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.FreeBSD.org/internal/doceng.html">charter</link>.
	    Committers interested in contributing to the documentation
	    should familiarize themselves with the <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="../../../../doc/en_US.ISO8859-1/books/fdp-primer/index.html">Documentation
	      Project Primer</link>.</para>
	</listitem>
      </varlistentry>

      <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	<term xmlns:xlink="http://www.w3.org/1999/xlink">Bruce Evans <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">bde@FreeBSD.org</email></term>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Bruce is the Style Police-Meister.  When you do a
	    commit that could have been done better, Bruce will be
	    there to tell you.  Be thankful that someone is.  Bruce is
	    also very knowledgeable on the various standards
	    applicable to FreeBSD.</para>
	</listitem>
      </varlistentry>

      <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	<term xmlns:xlink="http://www.w3.org/1999/xlink">Glen Barber <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">gjb@FreeBSD.org</email>, Konstantin Belousov <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">kib@FreeBSD.org</email>, Marc Fonvieille <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">blackend@FreeBSD.org</email>, Xin Li <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">delphij@FreeBSD.org</email>, Craig Rodrigues <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">rodrigc@FreeBSD.org</email>, Hiroki Sato <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">hrs@FreeBSD.org</email>, Gleb Smirnoff <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">glebius@FreeBSD.org</email>, Marius Strobl <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">marius@FreeBSD.org</email>, Robert Watson <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">rwatson@FreeBSD.org</email></term>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">These are the members of the Release Engineering Team <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">re@FreeBSD.org</email>.  This team is
	    responsible for setting release deadlines and controlling
	    the release process.  During code freezes, the release
	    engineers have final authority on all changes to the
	    system for whichever branch is pending release status.  If
	    there is something you want merged from FreeBSD-CURRENT to
	    FreeBSD-STABLE (whatever values those may have at any given
	    time), these are the people to talk to about it.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Hiroki is also the keeper of the release documentation
	    (<filename xmlns:xlink="http://www.w3.org/1999/xlink">src/release/doc/*</filename>).  If you commit a
	    change that you think is worthy of mention in the release
	    notes, please make sure he knows about it.  Better still,
	    send him a patch with your suggested commentary.</para>
	</listitem>
      </varlistentry>

      <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	<term xmlns:xlink="http://www.w3.org/1999/xlink">Dag-Erling C. Smørgrav <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">des@FreeBSD.org</email></term>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Dag-Erling is the
	    <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="../../../../security/">FreeBSD Security
	      Officer</link> and oversees the
	    Security Officer Team <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">security-officer@FreeBSD.org</email>.</para>
	</listitem>
      </varlistentry>

      <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	<term xmlns:xlink="http://www.w3.org/1999/xlink">Garrett Wollman <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">wollman@FreeBSD.org</email></term>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">If you need advice on obscure network internals or
	    are not sure of some potential change to the networking
	    subsystem you have in mind, Garrett is someone to talk
	    to.  Garrett is also very knowledgeable on the various
	    standards applicable to FreeBSD.</para>
	</listitem>
      </varlistentry>

      <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	<term xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD committer's mailing list</term>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/svn-src-all">svn-src-all</link>, <link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/svn-ports-all">svn-ports-all</link> and
	    <link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/svn-doc-all">svn-doc-all</link> are the mailing lists that the
	    version control system uses to send commit messages to.
	    You should <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">never</emphasis> send email directly
	    to these lists.  You should only send replies to this list
	    when they are short and are directly related to a
	    commit.</para>
	</listitem>
      </varlistentry>

      <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	<term xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD developers mailing list</term>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">All committers are subscribed to -developers.  This
	    list was created to be a forum for the committers
	    <quote xmlns:xlink="http://www.w3.org/1999/xlink">community</quote> issues.  Examples are Core
	    voting, announcements, etc.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">The FreeBSD developers mailing list is for the exclusive use of FreeBSD
	    committers.  In order to develop FreeBSD, committers must
	    have the ability to openly discuss matters that will be
	    resolved before they are publicly announced.  Frank
	    discussions of work in progress are not suitable for open
	    publication and may harm FreeBSD.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">All FreeBSD committers are expected not to
	    not publish or forward messages from the
	    FreeBSD developers mailing list outside the list membership without
	    permission of all of the authors.  Violators will be
	    removed from the
	    FreeBSD developers mailing list, resulting in a suspension of commit
	    privileges.  Repeated or flagrant violations may result in
	    permanent revocation of commit privileges.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">This list is <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">not</emphasis> intended as a
	    place for code reviews or for any technical discussion.
	    In fact using it as such hurts the FreeBSD Project as it
	    gives a sense of a closed list where general decisions
	    affecting all of the FreeBSD using community are made without
	    being <quote xmlns:xlink="http://www.w3.org/1999/xlink">open</quote>.  Last, but not least
	    <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">never, never ever, email the FreeBSD developers mailing list and
	    CC:/BCC: another FreeBSD list</emphasis>.  Never, ever email
	    another FreeBSD email list and CC:/BCC: the FreeBSD developers mailing list.
	    Doing so can greatly diminish the benefits of this
	    list.</para>
	</listitem>
      </varlistentry>
    </variablelist>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ssh.guide">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">SSH Quick-Start Guide</title>

    <procedure xmlns:xlink="http://www.w3.org/1999/xlink">
      <step xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">If you do not wish to type your password in every time
	  you use <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ssh</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>, and you use RSA or DSA keys to
	  authenticate, <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ssh-agent</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> is there for your
	  convenience.  If you want to use <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ssh-agent</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>, make
	  sure that you run it before running other applications.  X
	  users, for example, usually do this from their
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">.xsession</filename> or
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">.xinitrc</filename>.  See <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ssh-agent</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> for
	  details.</para>
      </step>

      <step xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">Generate a key pair using <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ssh-keygen</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>.  The key
	  pair will wind up in your
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">$HOME/.ssh/</filename>
	  directory.</para>
      </step>

      <step xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">Send your public key
	  (<filename xmlns:xlink="http://www.w3.org/1999/xlink">$HOME/.ssh/id_dsa.pub</filename>
	  or
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">$HOME/.ssh/id_rsa.pub</filename>)
	  to the person setting you up as a committer so it can be put
	  into
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">yourlogin</replaceable></filename>
	  in
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ssh-keys/</filename> on
	  <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">freefall</systemitem>.</para>
      </step>
    </procedure>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">Now you should be able to use <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ssh-add</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> for
      authentication once per session.  This will prompt you for
      your private key's pass phrase, and then store it in your
      authentication agent (<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ssh-agent</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>).  If you no longer
      wish to have your key stored in the agent, issuing
      <command xmlns:xlink="http://www.w3.org/1999/xlink">ssh-add -d</command> will remove it.</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">Test by doing something such as <command xmlns:xlink="http://www.w3.org/1999/xlink">ssh
	freefall.FreeBSD.org ls /usr</command>.</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">For more information, see
      <package xmlns:xlink="http://www.w3.org/1999/xlink">security/openssh</package>,
      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ssh</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>, <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ssh-add</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>, <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ssh-agent</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>,
      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ssh-keygen</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>, and <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">scp</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>.</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">For information on adding, changing, or removing <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ssh</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>
      keys, see <uri xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://wiki.freebsd.org/clusteradm/ssh-keys">this
	article</uri>.</para>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="coverity">
    <title xmlns:xlink="http://www.w3.org/1999/xlink"><trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Coverity</trademark> Availability for FreeBSD Committers</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">All FreeBSD developers can obtain access to
      <application xmlns:xlink="http://www.w3.org/1999/xlink">Coverity</application> analysis results of all FreeBSD
      Project software.  All who are interested in obtaining access to
      the analysis results of the automated
      <application xmlns:xlink="http://www.w3.org/1999/xlink">Coverity</application> runs, can sign up at <uri xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://scan.coverity.com/">Coverity
	Scan</uri>.</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">The FreeBSD wiki includes a mini-guide for developers who are
      interested in working with the <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Coverity</trademark> analysis reports: <uri xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://wiki.freebsd.org/CoverityPrevent">http://wiki.freebsd.org/CoverityPrevent</uri>.
      Please note that this mini-guide is only readable by FreeBSD
      developers, so if you cannot access this page, you will have to
      ask someone to add you to the appropriate Wiki access
      list.</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">Finally, all FreeBSD developers who are going to use
      <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Coverity</trademark> are always encouraged to ask for more details and
      usage information, by posting any questions to the mailing list
      of the FreeBSD developers.</para>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="rules">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">The FreeBSD Committers' Big List of Rules</title>

    <orderedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">Respect other committers.</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">Respect other contributors.</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">Discuss any significant change
	  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">before</emphasis> committing.</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">Respect existing maintainers (if listed in the
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">MAINTAINER</varname> field in
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> or in
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">MAINTAINER</filename> in the top-level
	  directory).</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">Any disputed change must be backed out pending
	  resolution of the dispute if requested by a maintainer.
	  Security related changes may override a maintainer's wishes
	  at the Security Officer's discretion.</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">Changes go to FreeBSD-CURRENT before FreeBSD-STABLE unless
	  specifically permitted by the release engineer or unless
	  they are not applicable to FreeBSD-CURRENT.  Any non-trivial or
	  non-urgent change which is applicable should also be allowed
	  to sit in FreeBSD-CURRENT for at least 3 days before merging so
	  that it can be given sufficient testing.  The release
	  engineer has the same authority over the FreeBSD-STABLE branch
	  as outlined for the maintainer in rule #5.</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">Do not fight in public with other committers; it looks
	  bad.  If you must <quote xmlns:xlink="http://www.w3.org/1999/xlink">strongly disagree</quote> about
	  something, do so only in private.</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">Respect all code freezes and read the
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">committers</literal> and
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">developers</literal> mailing lists in a timely
	  manner so you know when a code freeze is in effect.</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">When in doubt on any procedure, ask first!</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">Test your changes before committing them.</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">Do not commit to anything under the
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">src/contrib</filename>,
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">src/crypto</filename>, or
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">src/sys/contrib</filename> trees without
	  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">explicit</emphasis> approval from the respective
	  maintainer(s).</para>
      </listitem>
    </orderedlist>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">As noted, breaking some of these rules can be grounds for
      suspension or, upon repeated offense, permanent removal of
      commit privileges.  Individual members of core have the power to
      temporarily suspend commit privileges until core as a whole has
      the chance to review the issue.  In case of an
      <quote xmlns:xlink="http://www.w3.org/1999/xlink">emergency</quote> (a committer doing damage to the
      repository), a temporary suspension may also be done by the
      repository meisters.  Only a 2/3 majority of core has the
      authority to suspend commit privileges for longer than a week or
      to remove them permanently.  This rule does not exist to set
      core up as a bunch of cruel dictators who can dispose of
      committers as casually as empty soda cans, but to give the
      project a kind of safety fuse.  If someone is out of control, it
      is important to be able to deal with this immediately rather
      than be paralyzed by debate.  In all cases, a committer whose
      privileges are suspended or revoked is entitled to a
      <quote xmlns:xlink="http://www.w3.org/1999/xlink">hearing</quote> by core, the total duration of the
      suspension being determined at that time.  A committer whose
      privileges are suspended may also request a review of the
      decision after 30 days and every 30 days thereafter (unless the
      total suspension period is less than 30 days).  A committer
      whose privileges have been revoked entirely may request a review
      after a period of 6 months has elapsed.  This review policy is
      <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">strictly informal</emphasis> and, in all cases, core
      reserves the right to either act on or disregard requests for
      review if they feel their original decision to be the right
      one.</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">In all other aspects of project operation, core is a subset
      of committers and is bound by the
      <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">same rules</emphasis>.  Just because someone is in
      core this does not mean that they have special dispensation to
      step outside any of the lines painted here; core's
      <quote xmlns:xlink="http://www.w3.org/1999/xlink">special powers</quote> only kick in when it acts as a
      group, not on an individual basis.  As individuals, the core
      team members are all committers first and core second.</para>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Details</title>

      <orderedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="respect">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Respect other committers.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">This means that you need to treat other committers as
	    the peer-group developers that they are.  Despite our
	    occasional attempts to prove the contrary, one does not
	    get to be a committer by being stupid and nothing rankles
	    more than being treated that way by one of your peers.
	    Whether we always feel respect for one another or not (and
	    everyone has off days), we still have to
	    <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">treat</emphasis> other committers with respect
	    at all times, on public forums and in private
	    email.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Being able to work together long term is this
	    project's greatest asset, one far more important than any
	    set of changes to the code, and turning arguments about
	    code into issues that affect our long-term ability to work
	    harmoniously together is just not worth the trade-off by
	    any conceivable stretch of the imagination.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">To comply with this rule, do not send email when you
	    are angry or otherwise behave in a manner which is likely
	    to strike others as needlessly confrontational.  First
	    calm down, then think about how to communicate in the most
	    effective fashion for convincing the other person(s) that
	    your side of the argument is correct, do not just blow off
	    some steam so you can feel better in the short term at the
	    cost of a long-term flame war.  Not only is this very bad
	    <quote xmlns:xlink="http://www.w3.org/1999/xlink">energy economics</quote>, but repeated displays of
	    public aggression which impair our ability to work well
	    together will be dealt with severely by the project
	    leadership and may result in suspension or termination of
	    your commit privileges.  The project leadership will take
	    into account both public and private communications
	    brought before it.  It will not seek the disclosure of
	    private communications, but it will take it into account
	    if it is volunteered by the committers involved in the
	    complaint.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">All of this is never an option which the project's
	    leadership enjoys in the slightest, but unity comes first.
	    No amount of code or good advice is worth trading that
	    away.</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Respect other contributors.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">You were not always a committer.  At one time you were
	    a contributor.  Remember that at all times.  Remember what
	    it was like trying to get help and attention.  Do not
	    forget that your work as a contributor was very important
	    to you.  Remember what it was like.  Do not discourage,
	    belittle, or demean contributors.  Treat them with
	    respect.  They are our committers in waiting.  They are
	    every bit as important to the project as committers.
	    Their contributions are as valid and as important as your
	    own.  After all, you made many contributions before you
	    became a committer.  Always remember that.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Consider the points raised under
	    <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="respect"/> and apply them also to
	    contributors.</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Discuss any significant change
	    <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">before</emphasis> committing.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">The repository is not where changes should be
	    initially submitted for correctness or argued over, that
	    should happen first in the mailing lists and the commit
	    should only happen once something resembling consensus has
	    been reached.  This does not mean that you have to ask
	    permission before correcting every obvious syntax error or
	    manual page misspelling, simply that you should try to
	    develop a feel for when a proposed change is not quite
	    such a no-brainer and requires some feedback first.
	    People really do not mind sweeping changes if the result
	    is something clearly better than what they had before,
	    they just do not like being <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">surprized</emphasis>
	    by those changes.  The very best way of making sure that
	    you are on the right track is to have your code reviewed
	    by one or more other committers.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">When in doubt, ask for review!</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Respect existing maintainers if listed.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Many parts of FreeBSD are not <quote xmlns:xlink="http://www.w3.org/1999/xlink">owned</quote> in
	    the sense that any specific individual will jump up and
	    yell if you commit a change to <quote xmlns:xlink="http://www.w3.org/1999/xlink">their</quote> area,
	    but it still pays to check first.  One convention we use
	    is to put a maintainer line in the
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> for any package or subtree
	    which is being actively maintained by one or more people;
	    see <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="../../../../doc/en_US.ISO8859-1/books/developers-handbook/policies.html">http://www.FreeBSD.org/doc/en_US.ISO8859-1/books/developers-handbook/policies.html</link>
	    for documentation on this.  Where sections of code have
	    several maintainers, commits to affected areas by one
	    maintainer need to be reviewed by at least one other
	    maintainer.  In cases where the
	    <quote xmlns:xlink="http://www.w3.org/1999/xlink">maintainer-ship</quote> of something is not clear,
	    you can also look at the repository logs for the file(s)
	    in question and see if someone has been working recently
	    or predominantly in that area.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Other areas of FreeBSD fall under the control of someone
	    who manages an overall category of FreeBSD evolution, such as
	    internationalization or networking.  See <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="../../../../administration.html">http://www.FreeBSD.org/administration.html</link>
	    for more information on this.</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Any disputed change must be backed out pending
	    resolution of the dispute if requested by a maintainer.
	    Security related changes may override a maintainer's
	    wishes at the Security Officer's discretion.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">This may be hard to swallow in times of conflict (when
	    each side is convinced that they are in the right, of
	    course) but a version control system makes it unnecessary
	    to have an ongoing dispute raging when it is far easier to
	    simply reverse the disputed change, get everyone calmed
	    down again and then try to figure out what is the best way
	    to proceed.  If the change turns out to be the best thing
	    after all, it can be easily brought back.  If it turns out
	    not to be, then the users did not have to live with the
	    bogus change in the tree while everyone was busily
	    debating its merits.  People <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">very</emphasis>
	    rarely call for back-outs in the repository since
	    discussion generally exposes bad or controversial changes
	    before the commit even happens, but on such rare occasions
	    the back-out should be done without argument so that we
	    can get immediately on to the topic of figuring out
	    whether it was bogus or not.</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Changes go to FreeBSD-CURRENT before FreeBSD-STABLE unless
	    specifically permitted by the release engineer or unless
	    they are not applicable to FreeBSD-CURRENT.  Any non-trivial
	    or non-urgent change which is applicable should also be
	    allowed to sit in FreeBSD-CURRENT for at least 3 days before
	    merging so that it can be given sufficient testing.  The
	    release engineer has the same authority over the
	    FreeBSD-STABLE branch as outlined in rule #5.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">This is another <quote xmlns:xlink="http://www.w3.org/1999/xlink">do not argue about it</quote>
	    issue since it is the release engineer who is ultimately
	    responsible (and gets beaten up) if a change turns out to
	    be bad.  Please respect this and give the release engineer
	    your full cooperation when it comes to the FreeBSD-STABLE
	    branch.  The management of FreeBSD-STABLE may frequently seem
	    to be overly conservative to the casual observer, but also
	    bear in mind the fact that conservatism is supposed to be
	    the hallmark of FreeBSD-STABLE and different rules apply
	    there than in FreeBSD-CURRENT.  There is also really no point
	    in having FreeBSD-CURRENT be a testing ground if changes are
	    merged over to FreeBSD-STABLE immediately.  Changes need a
	    chance to be tested by the FreeBSD-CURRENT developers, so
	    allow some time to elapse before merging unless the
	    FreeBSD-STABLE fix is critical, time sensitive or so obvious
	    as to make further testing unnecessary (spelling fixes to
	    manual pages, obvious bug/typo fixes, etc.)  In other
	    words, apply common sense.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Changes to the security branches (for example,
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">releng/9.3</literal>) must be approved by a
	    member of the Security Officer Team <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">security-officer@FreeBSD.org</email>, or in some cases, by a
	    member of the Release Engineering Team <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">re@FreeBSD.org</email>.</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Do not fight in public with other committers; it looks
	    bad.  If you must <quote xmlns:xlink="http://www.w3.org/1999/xlink">strongly disagree</quote> about
	    something, do so only in private.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">This project has a public image to uphold and that
	    image is very important to all of us, especially if we are
	    to continue to attract new members.  There will be
	    occasions when, despite everyone's very best attempts at
	    self-control, tempers are lost and angry words are
	    exchanged.  The best thing that can be done in such cases
	    is to minimize the effects of this until everyone has
	    cooled back down.  That means that you should not air your
	    angry words in public and you should not forward private
	    correspondence to public mailing lists or aliases.  What
	    people say one-to-one is often much less sugar-coated than
	    what they would say in public, and such communications
	    therefore have no place there - they only serve to inflame
	    an already bad situation.  If the person sending you a
	    flame-o-gram at least had the grace to send it privately,
	    then have the grace to keep it private yourself.  If you
	    feel you are being unfairly treated by another developer,
	    and it is causing you anguish, bring the matter up with
	    core rather than taking it public.  Core will do its best
	    to play peace makers and get things back to sanity.  In
	    cases where the dispute involves a change to the codebase
	    and the participants do not appear to be reaching an
	    amicable agreement, core may appoint a mutually-agreeable
	    third party to resolve the dispute.  All parties involved
	    must then agree to be bound by the decision reached by
	    this third party.</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Respect all code freezes and read the
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">committers</literal> and
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">developers</literal> mailing list on a timely
	    basis so you know when a code freeze is in effect.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Committing unapproved changes during a code freeze is
	    a really big mistake and committers are expected to keep
	    up-to-date on what is going on before jumping in after a
	    long absence and committing 10 megabytes worth of
	    accumulated stuff.  People who abuse this on a regular
	    basis will have their commit privileges suspended until
	    they get back from the FreeBSD Happy Reeducation Camp we
	    run in Greenland.</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">When in doubt on any procedure, ask first!</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Many mistakes are made because someone is in a hurry
	    and just assumes they know the right way of doing
	    something.  If you have not done it before, chances are
	    good that you do not actually know the way we do things
	    and really need to ask first or you are going to
	    completely embarrass yourself in public.  There is no
	    shame in asking
	    <quote xmlns:xlink="http://www.w3.org/1999/xlink">how in the heck do I do this?</quote>  We already
	    know you are an intelligent person; otherwise, you would
	    not be a committer.</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Test your changes before committing them.</para>

	  <!-- XXX Needs update re sparc64 + pc98
	    Also, needs more details on which machines are available for testing
	  -->
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">This may sound obvious, but if it really were so
	    obvious then we probably would not see so many cases of
	    people clearly not doing this.  If your changes are to the
	    kernel, make sure you can still compile both GENERIC and
	    LINT.  If your changes are anywhere else, make sure you
	    can still make world.  If your changes are to a branch,
	    make sure your testing occurs with a machine which is
	    running that code.  If you have a change which also may
	    break another architecture, be sure and test on all
	    supported architectures.  Please refer to the
	    <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.FreeBSD.org/internal/">FreeBSD
	      Internal Page</link> for a list of available resources.
	    As other architectures are added to the FreeBSD supported
	    platforms list, the appropriate shared testing resources
	    will be made available.</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Do not commit to anything under the
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">src/contrib</filename>,
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">src/crypto</filename>, and
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">src/sys/contrib</filename> trees without
	    <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">explicit</emphasis> approval from the respective
	    maintainer(s).</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">The trees mentioned above are for contributed software
	    usually imported onto a vendor branch.  Committing
	    something there, even if it does not take the file off the
	    vendor branch, may cause unnecessary headaches for those
	    responsible for maintaining that particular piece of
	    software.  Thus, unless you have
	    <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">explicit</emphasis> approval from the maintainer
	    (or you are the maintainer), do <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">not</emphasis>
	    commit there!</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Please note that this does not mean you should not try
	    to improve the software in question; you are still more
	    than welcome to do so.  Ideally, you should submit your
	    patches to the vendor.  If your changes are
	    FreeBSD-specific, talk to the maintainer; they may be
	    willing to apply them locally.  But whatever you do, do
	    <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">not</emphasis> commit there by yourself!</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Contact the Core Team <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">core@FreeBSD.org</email> if you wish to take up
	    maintainership of an unmaintained part of the tree.</para>
	</listitem>
      </orderedlist>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Policy on Multiple Architectures</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD has added several new architecture ports during
	recent release cycles and is truly no longer an <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">i386</trademark> centric
	operating system.  In an effort to make it easier to keep
	FreeBSD portable across the platforms we support, core has
	developed the following mandate:</para>

      <blockquote xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">Our 32-bit reference platform is i386, and our
	  64-bit reference platform is sparc64.  Major design
	  work (including major API and ABI changes) must prove
	  itself on at least one 32-bit and at least one 64-bit
	  platform, preferably the primary reference platforms,
	  before it may be committed to the source tree.</para>
      </blockquote>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">The i386 and sparc64 platforms were chosen
	due to being more readily available to developers and as
	representatives of more diverse processor and system designs -
	big versus little endian, register file versus register stack,
	different DMA and cache implementations, hardware page tables
	versus software TLB management etc.</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">The ia64 platform has many of the same
	complications that sparc64 has, but is still limited in
	availability to developers.</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">We will continue to re-evaluate this policy as cost and
	availability of the 64-bit platforms change.</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Developers should also be aware of our Tier Policy for
	the long term support of hardware architectures.  The rules
	here are intended to provide guidance during the development
	process, and are distinct from the requirements for features
	and architectures listed in that section.  The Tier rules for
	feature support on architectures at release-time are more
	strict than the rules for changes during the development
	process.</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Other Suggestions</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">When committing documentation changes, use a spell checker
	before committing.  For all XML docs, verify that the
	formatting directives are correct by running
	<command xmlns:xlink="http://www.w3.org/1999/xlink">make lint</command> and
	<package xmlns:xlink="http://www.w3.org/1999/xlink">textproc/igor</package>.</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">For manual pages, run <package xmlns:xlink="http://www.w3.org/1999/xlink">sysutils/manck</package>
	and <package xmlns:xlink="http://www.w3.org/1999/xlink">textproc/igor</package>
	over the manual page to verify all of the cross
	references and file references are correct and that the man
	page has all of the appropriate <varname xmlns:xlink="http://www.w3.org/1999/xlink">MLINK</varname>s
	installed.</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Do not mix style fixes with new functionality.  A style
	fix is any change which does not modify the functionality of
	the code.  Mixing the changes obfuscates the functionality
	change when asking for differences between revisions, which
	can hide any new bugs.  Do not include whitespace changes with
	content changes in commits to <filename xmlns:xlink="http://www.w3.org/1999/xlink">doc/</filename> .
	The extra clutter in the diffs
	makes the translators' job much more difficult.  Instead, make
	any style or whitespace changes in separate commits that are
	clearly labeled as such in the commit message.</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Deprecating Features</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">When it is necessary to remove functionality from software
	in the base system the following guidelines should be followed
	whenever possible:</para>

      <orderedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Mention is made in the manual page and possibly the
	    release notes that the option, utility, or interface is
	    deprecated.  Use of the deprecated feature generates a
	    warning.</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">The option, utility, or interface is preserved until
	    the next major (point zero) release.</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">The option, utility, or interface is removed and no
	    longer documented.  It is now obsolete.  It is also
	    generally a good idea to note its removal in the release
	    notes.</para>
	</listitem>
      </orderedlist>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="archs">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">Support for Multiple Architectures</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD is a highly portable operating system intended to
      function on many different types of hardware architectures.
      Maintaining clean separation of Machine Dependent (MD) and
      Machine Independent (MI) code, as well as minimizing MD code, is
      an important part of our strategy to remain agile with regards
      to current hardware trends.  Each new hardware architecture
      supported by FreeBSD adds substantially to the cost of code
      maintenance, toolchain support, and release engineering.  It
      also dramatically increases the cost of effective testing of
      kernel changes.  As such, there is strong motivation to
      differentiate between classes of support for various
      architectures while remaining strong in a few key architectures
      that are seen as the FreeBSD <quote xmlns:xlink="http://www.w3.org/1999/xlink">target audience</quote>.</para>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Statement of General Intent</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">The FreeBSD Project targets "production quality commercial
	off-the-shelf (COTS) workstation, server, and high-end
	embedded systems".  By retaining a focus on a narrow set of
	architectures of interest in these environments, the FreeBSD
	Project is able to maintain high levels of quality, stability,
	and performance, as well as minimize the load on various
	support teams on the project, such as the ports team,
	documentation team, security officer, and release engineering
	teams.  Diversity in hardware support broadens the options for
	FreeBSD consumers by offering new features and usage
	opportunities (such as support for 64-bit CPUs, use in
	embedded environments, etc.), but these benefits must always
	be carefully considered in terms of the real-world maintenance
	cost associated with additional platform support.</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">The FreeBSD Project differentiates platform targets into
	four tiers.  Each tier includes a specification of the
	requirements for an architecture to be in that tier,
	as well as specifying the obligations of developers with
	regards to the platform.  In addition, a policy is defined
	regarding the circumstances required to change the tier
	of an architecture.</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Tier 1: Fully Supported Architectures</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Tier 1 platforms are fully supported by the security
	officer, release engineering, and toolchain maintenance staff.
	New features added to the operating system must be fully
	functional across all Tier 1 architectures for every release
	(features which are inherently architecture-specific, such as
	support for hardware device drivers, may be exempt from this
	requirement).  In general, all Tier 1 platforms must have
	build and Tinderbox support either in the FreeBSD.org cluster,
	or be easily available for all developers.  Embedded platforms
	may substitute an emulator available in the FreeBSD cluster
	for actual hardware.</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Tier 1 architectures are expected to be Production Quality
	with respects to all aspects of the FreeBSD operating system,
	including installation and development environments.</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Tier 1 architectures are expected to be completely
	integrated into the source tree and have all features
	necessary to produce an entire system relevant for that target
	architecture.  Tier 1 architectures generally have at least 6
	active developers.</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Tier 1 architectures are expected to be fully supported by
	the ports system.  All the ports should build on a Tier 1
	platform, or have the appropriate filters to prevent the
	inappropriate ones from building there.  The packaging system
	must support all Tier 1 architectures.  To ensure an
	architecture's Tier 1 status, proponents of that architecture
	must show that all relevant packages can be built on that
	platform.</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Tier 1 embedded architectures must be able to cross-build
	packages on at least one other Tier 1 architecture.  The
	packages must be the most relevant for the platform, but may
	be a non-empty subset of those that build natively.</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Tier 1 architectures must be fully documented.  All basic
	operations need to be covered by the handbook or other
	documents.  All relevant integration documentation must also
	be integrated into the tree, or readily available.</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Current Tier 1 platforms are i386 and
	amd64.</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Tier 2: Developmental Architectures</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Tier 2 platforms are not supported by the security officer
	and release engineering teams.  Platform maintainers are
	responsible for toolchain support in the tree.  The toolchain
	maintainers are expected to work with the platform maintainers
	to refine these changes.  Major new toolchain components are
	allowed to break support for Tier 2 architectures if the
	FreeBSD-local changes have not been incorporated upstream.
	The toolchain maintainers are expected to provide prompt
	review of any proposed changes and cannot block, through their
	inaction, changes going into the tree.  New features added to
	FreeBSD should be feasible to implement on these platforms,
	but an implementation is not required before the feature may
	be added to the FreeBSD source tree.  New features that may be
	difficult to implement on Tier 2 architectures should provide
	a means of disabling them on those architectures.  The
	implementation of a Tier 2 architecture may be committed to
	the main FreeBSD tree as long as it does not interfere with
	production work on Tier 1 platforms, or substantially with
	other Tier 2 platforms.  Before a Tier 2 platform can be added
	to the FreeBSD base source tree, the platform must be able to
	boot multi-user on actual hardware.  Generally, there must be
	at least three active developers working on the
	platform.</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Tier 2 architectures are usually systems targeted at Tier
	1 support, but that are still under development.
	Architectures reaching end of life may also be moved from Tier
	1 status to Tier 2 status as the availability of resources to
	continue to maintain the system in a Production Quality state
	diminishes.  Well supported niche architectures may also be
	Tier 2.</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Tier 2 architectures have basic support for them
	integrated into the ports infrastructure.  They may have cross
	compilation support added, at the discretion of portmgr.  Some
	ports must built natively into packages if the package system
	supports that architecture.  If not integrated into the base
	system, some external patches for the architecture for ports
	must be available.</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Tier 2 architectures can be integrated into the FreeBSD
	handbook.  The basics for how to get a system running must be
	documented, although not necessarily for every single board or
	system a Tier 2 architecture supports.  The supported hardware
	list must exist and should be relatively recent.  It should be
	integrated into the FreeBSD documentation.</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Current Tier 2 platforms are arm, ia64
	(through FreeBSD 10),
	pc98, powerpc, and sparc64.</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Tier 3: Experimental Architectures</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Tier 3 platforms are not supported by the security officer
	and release engineering teams.  At the discretion of the
	toolchain maintainers, they may be supported in the toolchain.
	Tier 3 platforms are architectures in the early stages of
	development, for non-mainstream hardware platforms, or which
	are considered legacy systems unlikely to see broad future
	use.  Initial support for Tier 3 platforms should be worked on
	in external SCM repositories.
	The transition to FreeBSD's subversion should take place after
	the platform boots multi-user on hardware; sharing via
	subversion is needed for wider exposure; and multiple
	developers are actively working on the platform.
	Platforms that transition to Tier 3 status may be
	removed from the tree if they are no longer actively supported
	by the FreeBSD developer community at the discretion of the
	release engineer.</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Tier 3 platforms may have ports support, either integrated
	or external, but do not require it.</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Tier 3 platforms must have the basics documented for how
	to build a kernel and how to boot it on at least one target
	hardware or emulation environment.  This documentation need
	not be integrated into the FreeBSD tree.</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Current Tier 3 platforms are mips.</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Tier 4: Unsupported Architectures</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Tier 4 systems are not supported in any form by the
	project.</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">All systems not otherwise classified into a support tier
	are Tier 4 systems.  The ia64 platform is transitioning
	to Tier 4 status in FreeBSD 11.</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Policy on Changing the Tier of an Architecture</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Systems may only be moved from one tier to another by
	approval of the FreeBSD Core Team, which shall make that
	decision in collaboration with the Security Officer, Release
	Engineering, and toolchain maintenance teams.</para>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ports">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">Ports Specific FAQ</title>

    <qandaset xmlns:xlink="http://www.w3.org/1999/xlink">
      <qandadiv xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ports-qa-adding">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Adding a New Port</title>

	<qandaentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ports-qa-add-new">
	  <question xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">How do I add a new port?</para>
	  </question>

	  <answer xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">First, please read the section about repository
	      copies.</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">The easiest way to add a new port is the
	      <command xmlns:xlink="http://www.w3.org/1999/xlink">addport</command> script located in the
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">ports/Tools/scripts</filename> directory.  It
	      adds a port from the directory specified, determining
	      the category automatically from the port
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>.  It also adds an entry to
	      the port's category <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>.  It
	      was written by Michael Haro <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">mharo@FreeBSD.org</email>, Will Andrews <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">will@FreeBSD.org</email>, and
	      Renato Botelho <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">garga@FreeBSD.org</email>.  When sending questions about this
	      script to the <link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-ports">FreeBSD ports mailing list</link>, please also CC Chris Rees <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">crees@FreeBSD.org</email>,
	      the current maintainer.</para>
	  </answer>
	</qandaentry>

	<qandaentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ports-qa-add-new-extra">
	  <question xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">Any other things I need to know when I add a new
	      port?</para>
	  </question>

	  <answer xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">Check the port, preferably to make sure it compiles
	      and packages correctly.  This is the recommended
	      sequence:</para>

	    <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make install</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make package</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make deinstall</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">pkg add <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">package you built above</replaceable></userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make deinstall</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make reinstall</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make package</userinput></screen>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">The <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="../../../../doc/en_US.ISO8859-1/books/porters-handbook/index.html">Porters
		Handbook</link> contains more detailed
	      instructions.</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">Use <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" vendor="ports"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">portlint</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> to check the syntax of the
	      port.  You do not necessarily have to eliminate all
	      warnings but make sure you have fixed the simple
	      ones.</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">If the port came from a submitter who has not
	      contributed to the Project before, add that person's
	      name to the <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="../../../../doc/en_US.ISO8859-1/articles/contributors/contrib-additional.html">Additional
		Contributors</link> section of the FreeBSD
	      Contributors List.</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">Close the PR if the port came in as a PR.  To close
	      a PR, change the state to <literal xmlns:xlink="http://www.w3.org/1999/xlink">Issue
	      Resolved</literal> and the resolution as
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">Fixed</literal>.</para>
	  </answer>
	</qandaentry>
      </qandadiv>

      <qandadiv xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ports-qa-removing">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Removing an Existing Port</title>

	<qandaentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ports-qa-remove-one">
	  <question xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">How do I remove an existing port?</para>
	  </question>

	  <answer xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">First, please read the section about repository
	      copies.  Before you remove the port, you have to verify
	      there are no other ports depending on it.</para>

	    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">Make sure there is no dependency on the port
		  in the ports collection:</para>

		<itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
		  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		    <para xmlns:xlink="http://www.w3.org/1999/xlink">The port's PKGNAME should appear in exactly
		      one line in a recent INDEX file.</para>
		  </listitem>

		  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		    <para xmlns:xlink="http://www.w3.org/1999/xlink">No other ports should contain any reference
		      to the port's directory or PKGNAME in their
		      Makefiles</para>
		  </listitem>
		</itemizedlist>
	      </listitem>

	      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">Then, remove the port:</para>

		<procedure xmlns:xlink="http://www.w3.org/1999/xlink">
		  <step xmlns:xlink="http://www.w3.org/1999/xlink">
		    <para xmlns:xlink="http://www.w3.org/1999/xlink">Remove the port's files and directory with
		      <command xmlns:xlink="http://www.w3.org/1999/xlink">svn remove</command>.</para>
		  </step>

		  <step xmlns:xlink="http://www.w3.org/1999/xlink">
		    <para xmlns:xlink="http://www.w3.org/1999/xlink">Remove the <varname xmlns:xlink="http://www.w3.org/1999/xlink">SUBDIR</varname> listing
		      of the port in the parent directory
		      <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>.</para>
		  </step>

		  <step xmlns:xlink="http://www.w3.org/1999/xlink">
		    <para xmlns:xlink="http://www.w3.org/1999/xlink">Add an entry to
		      <filename xmlns:xlink="http://www.w3.org/1999/xlink">ports/MOVED</filename>.</para>
		  </step>

		  <step xmlns:xlink="http://www.w3.org/1999/xlink">
		    <para xmlns:xlink="http://www.w3.org/1999/xlink">Remove the port from
		      <filename xmlns:xlink="http://www.w3.org/1999/xlink">ports/LEGAL</filename> if it is
		      there.</para>
		  </step>
		</procedure>
	      </listitem>
	    </itemizedlist>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">Alternatively, you can use the
	      <command xmlns:xlink="http://www.w3.org/1999/xlink">rmport</command> script, from
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">ports/Tools/scripts</filename>.  This script
	      was written by Vasil Dimov <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">vd@FreeBSD.org</email>.  When sending questions
	      about this script to the <link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-ports">FreeBSD ports mailing list</link>, please also CC
	      Chris Rees <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">crees@FreeBSD.org</email>, the current maintainer.</para>
	  </answer>
	</qandaentry>
      </qandadiv>

      <qandadiv xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ports-qa-re-adding">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Re-adding a Deleted Port</title>

	<qandaentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ports-qa-resurrect">
	  <question xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">How do I re-add a deleted port?</para>
	  </question>

	  <answer xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">This is essentially the reverse of deleting a
	      port.</para>

	    <important xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">Do not use <command xmlns:xlink="http://www.w3.org/1999/xlink">svn add</command> to add the
		port.  Follow these steps.  If they are unclear, or
		are not working, ask for help, do not just
		<command xmlns:xlink="http://www.w3.org/1999/xlink">svn add</command> the port.</para>
	    </important>

	    <procedure xmlns:xlink="http://www.w3.org/1999/xlink">
	      <step xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">Figure out when the port was removed.  Use this
		  <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://people.freebsd.org/~crees/removed_ports/index.xml">list</link>,
		  or look for the port on <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.freshports.org/">freshports</link>,
		  and then copy the last living revision of the
		  port:</para>

		<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/ports/<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">category</replaceable></userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn cp 'svn+ssh://svn.freebsd.org/ports/head/<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">category</replaceable>/<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">portname</replaceable>/@<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">XXXXXX</replaceable>' <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">portname</replaceable></userinput></screen>

		<para xmlns:xlink="http://www.w3.org/1999/xlink">Pick the revision that is just before the
		  removal.  For example, if the revision where it was
		  removed is <literal xmlns:xlink="http://www.w3.org/1999/xlink">269874</literal>, use
		  <literal xmlns:xlink="http://www.w3.org/1999/xlink">269873</literal>.</para>

		<para xmlns:xlink="http://www.w3.org/1999/xlink">It is also possible to specify a date.  In that
		  case, pick a date that is before the removal but
		  after the last commit to the port.</para>

		<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/ports/<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">category</replaceable></userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn cp 'svn+ssh://svn.freebsd.org/ports/head/<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">category</replaceable>/<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">portname</replaceable>/@{<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">YYYY-MM-DD</replaceable>}' <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">portname</replaceable></userinput></screen>
	      </step>

	      <step xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">Make the changes necessary to get the port
		  working again.  If it was deleted because the
		  distfiles are no longer available, either
		  volunteer to host the distfiles, or find someone
		  else to do so.</para>
	      </step>

	      <step xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">If some files have been added, or were removed
		  during the resurrection process, use <command xmlns:xlink="http://www.w3.org/1999/xlink">svn
		    add</command> or <command xmlns:xlink="http://www.w3.org/1999/xlink">svn remove</command> to
		  make sure all the files in the port will be
		  committed.</para>
	      </step>

	      <step xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">Restore the <varname xmlns:xlink="http://www.w3.org/1999/xlink">SUBDIR</varname> listing of
		  the port in the parent directory
		  <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>, keeping the entries
		  sorted.</para>
	      </step>

	      <step xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">Delete the port entry from
		  <filename xmlns:xlink="http://www.w3.org/1999/xlink">ports/MOVED</filename>.</para>
	      </step>

	      <step xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">If the port had an entry in
		  <filename xmlns:xlink="http://www.w3.org/1999/xlink">ports/LEGAL</filename>, restore it.</para>
	      </step>

	      <step xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">svn commit</command> these changes,
		  preferably in one step.</para>
	      </step>
	    </procedure>

	    <tip xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">The <command xmlns:xlink="http://www.w3.org/1999/xlink">addport</command> script mentioned in
		<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="ports-qa-adding"/> now detects when the
		port to add has previously existed, and attempts to
		handle all except the <filename xmlns:xlink="http://www.w3.org/1999/xlink">ports/LEGAL</filename>
		step automatically.</para>
	    </tip>
	  </answer>
	</qandaentry>
      </qandadiv>

      <qandadiv xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ports-qa-repocopies">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Repository Copies</title>

	<qandaentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ports-qa-repocopy-when">
	  <question xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">When do we need a repository copy?</para>
	  </question>

	  <answer xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">When you want to add a port that is related to any
	      port that is already in the tree in a separate
	      directory, you have to do a repository copy.  Here
	      <wordasword xmlns:xlink="http://www.w3.org/1999/xlink">related</wordasword> means it is a different
	      version or a slightly modified version.  Examples are
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">print/ghostscript*</filename> (different
	      versions) and <filename xmlns:xlink="http://www.w3.org/1999/xlink">x11-wm/windowmaker*</filename>
	      (English-only and internationalized version).</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">Another example is when a port is moved from one
	      subdirectory to another, or when you want to change the
	      name of a directory because the author(s) renamed their
	      software even though it is a descendant of a port
	      already in a tree.</para>
	  </answer>
	</qandaentry>

	<qandaentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ports-qa-repocopy-how">
	  <question xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">What do I need to do?</para>
	  </question>

	  <answer xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">With Subversion, a repo copy can be done by any
	      committer:</para>

	    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">Doing a repo copy:</para>

		<procedure xmlns:xlink="http://www.w3.org/1999/xlink">
		  <step xmlns:xlink="http://www.w3.org/1999/xlink">
		    <para xmlns:xlink="http://www.w3.org/1999/xlink">Verify that the target directory does
		      not exist.</para>
		  </step>

		  <step xmlns:xlink="http://www.w3.org/1999/xlink">
		    <para xmlns:xlink="http://www.w3.org/1999/xlink">Use <command xmlns:xlink="http://www.w3.org/1999/xlink">svn up</command> to make
		      certain the original files, directories, and
		      checkout information is current.</para>
		  </step>

		  <step xmlns:xlink="http://www.w3.org/1999/xlink">
		    <para xmlns:xlink="http://www.w3.org/1999/xlink">Use <command xmlns:xlink="http://www.w3.org/1999/xlink">svn move</command> or
		      <command xmlns:xlink="http://www.w3.org/1999/xlink">svn copy</command> to do the repo
		      copy.</para>
		  </step>

		  <step xmlns:xlink="http://www.w3.org/1999/xlink">
		    <para xmlns:xlink="http://www.w3.org/1999/xlink">Upgrade the copied port to the new version.
		      Remember to add or change the
		      <varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGNAMEPREFIX</varname> or
		      <varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGNAMESUFFIX</varname> so there are no
		      duplicate ports with the same name.  In some
		      rare cases it may be necessary to change the
		      <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTNAME</varname> instead of adding
		      <varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGNAMEPREFIX</varname> or
		      <varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGNAMESUFFIX</varname>, but this
		      should only be done when it is really needed
		      &#8212; e.g., using an existing port as the base
		      for a very similar program with a different
		      name, or upgrading a port to a new upstream
		      version which actually changes the distribution
		      name, like the transition from
		      <filename xmlns:xlink="http://www.w3.org/1999/xlink">textproc/libxml</filename> to
		      <filename xmlns:xlink="http://www.w3.org/1999/xlink">textproc/libxml2</filename>.  In most
		      cases, adding or changing
		      <varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGNAMEPREFIX</varname> or
		      <varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGNAMESUFFIX</varname> should
		      suffice.</para>
		  </step>

		  <step xmlns:xlink="http://www.w3.org/1999/xlink">
		    <para xmlns:xlink="http://www.w3.org/1999/xlink">Add the new subdirectory to the
		      <varname xmlns:xlink="http://www.w3.org/1999/xlink">SUBDIR</varname> listing in the parent
		      directory <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>.  You
		      can run <command xmlns:xlink="http://www.w3.org/1999/xlink">make checksubdirs</command> in
		      the parent directory to check this.</para>
		  </step>

		  <step xmlns:xlink="http://www.w3.org/1999/xlink">
		    <para xmlns:xlink="http://www.w3.org/1999/xlink">If the port changed categories, modify the
		      <varname xmlns:xlink="http://www.w3.org/1999/xlink">CATEGORIES</varname> line of the port's
		      <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> accordingly</para>
		  </step>

		  <step xmlns:xlink="http://www.w3.org/1999/xlink">
		    <para xmlns:xlink="http://www.w3.org/1999/xlink">Add an entry to
		      <filename xmlns:xlink="http://www.w3.org/1999/xlink">ports/MOVED</filename>, if you remove
		      the original port.</para>
		  </step>

		  <step xmlns:xlink="http://www.w3.org/1999/xlink">
		    <para xmlns:xlink="http://www.w3.org/1999/xlink">Commit all changes on one commit.</para>
		  </step>
		</procedure>
	      </listitem>

	      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">When removing a port:</para>

		<procedure xmlns:xlink="http://www.w3.org/1999/xlink">
		  <step xmlns:xlink="http://www.w3.org/1999/xlink">
		    <para xmlns:xlink="http://www.w3.org/1999/xlink">Perform a thorough check of the ports
		      collection for any dependencies on the old port
		      location/name, and update them.  Running
		      <command xmlns:xlink="http://www.w3.org/1999/xlink">grep</command> on
		      <filename xmlns:xlink="http://www.w3.org/1999/xlink">INDEX</filename> is not enough because
		      some ports have dependencies enabled by
		      compile-time options.  A full
		      <command xmlns:xlink="http://www.w3.org/1999/xlink">grep -r</command> of the ports
		      collection is recommended.</para>
		  </step>

		  <step xmlns:xlink="http://www.w3.org/1999/xlink">
		    <para xmlns:xlink="http://www.w3.org/1999/xlink">Remove the old port and the
		      old <varname xmlns:xlink="http://www.w3.org/1999/xlink">SUBDIR</varname> entry.</para>
		  </step>

		  <step xmlns:xlink="http://www.w3.org/1999/xlink">
		    <para xmlns:xlink="http://www.w3.org/1999/xlink">Add an entry to
		      <filename xmlns:xlink="http://www.w3.org/1999/xlink">ports/MOVED</filename>.</para>
		  </step>
		</procedure>
	      </listitem>

	      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">After repo moves (<quote xmlns:xlink="http://www.w3.org/1999/xlink">rename</quote>
		  operations where a port is copied and the old
		  location is removed):</para>

		<procedure xmlns:xlink="http://www.w3.org/1999/xlink">
		  <step xmlns:xlink="http://www.w3.org/1999/xlink">
		    <para xmlns:xlink="http://www.w3.org/1999/xlink">Follow the same steps that are outlined in
		      the previous two entries, to activate the new
		      location of the port and remove the old
		      one.</para>
		  </step>
		</procedure>
	      </listitem>
	    </itemizedlist>
	  </answer>
	</qandaentry>
      </qandadiv>

      <qandadiv xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ports-qa-freeze">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Ports Freeze</title>

	<qandaentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ports-qa-freeze-what">
	  <question xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">What is a <quote xmlns:xlink="http://www.w3.org/1999/xlink">ports freeze</quote>?</para>
	  </question>

	  <answer xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">A <quote xmlns:xlink="http://www.w3.org/1999/xlink">ports freeze</quote> was a restricted state
	      the ports tree was put in before a release.  It was used
	      to ensure a higher quality for the packages shipped with
	      a release.  It usually lasted a couple of weeks.  During
	      that time, build problems were fixed, and the release
	      packages were built.  This practice is no longer used,
	      as the packages for the releases are built from the
	      current stable, quarterly branch.  For more information
	      on how to merge commits to the quarterly branch, see
	      <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="ports-qa-misc-request-mfh"/>.</para>
	  </answer>
	</qandaentry>
      </qandadiv>

      <qandadiv xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ports-qa-new-category">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Creating a New Category</title>

	<qandaentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ports-qa-new-category-how">
	  <question xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">What is the procedure for creating a new
	      category?</para>
	  </question>

	  <answer xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">Please see <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="../../../../doc/en_US.ISO8859-1/books/porters-handbook/makefile-categories.html#PROPOSING-CATEGORIES">
		Proposing a New Category</link> in the Porter's
	      Handbook.  Once that procedure has been followed and the
	      PR has been assigned to Ports Management Team <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">portmgr@FreeBSD.org</email>, it is their
	      decision whether or not to approve it.  If they do, it
	      is their responsibility to do the following:</para>

	    <procedure xmlns:xlink="http://www.w3.org/1999/xlink">
	      <step xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">Perform any needed moves.  (This only applies
		  to physical categories.)</para>
	      </step>

	      <step xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">Update the <varname xmlns:xlink="http://www.w3.org/1999/xlink">VALID_CATEGORIES</varname>
		  definition in
		  <filename xmlns:xlink="http://www.w3.org/1999/xlink">ports/Mk/bsd.port.mk</filename>.</para>
	      </step>

	      <step xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">Assign the PR back to you.</para>
	      </step>
	    </procedure>
	  </answer>
	</qandaentry>

	<qandaentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ports-qa-new-category-physical">
	  <question xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">What do I need to do to implement a new physical
	      category?</para>
	  </question>

	  <answer xmlns:xlink="http://www.w3.org/1999/xlink">
	    <procedure xmlns:xlink="http://www.w3.org/1999/xlink">
	      <step xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">Upgrade each moved port's
		  <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>.  Do not connect the
		  new category to the build yet.</para>

		<para xmlns:xlink="http://www.w3.org/1999/xlink">To do this, you will need to:</para>

		<procedure xmlns:xlink="http://www.w3.org/1999/xlink">
		  <step xmlns:xlink="http://www.w3.org/1999/xlink">
		    <para xmlns:xlink="http://www.w3.org/1999/xlink">Change the port's
		      <varname xmlns:xlink="http://www.w3.org/1999/xlink">CATEGORIES</varname> (this was the
		      point of the exercise, remember?)  The new
		      category should be listed
		      <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">first</emphasis>.  This will help to
		      ensure that the <varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGORIGIN</varname> is
		      correct.</para>
		  </step>

		  <step xmlns:xlink="http://www.w3.org/1999/xlink">
		    <para xmlns:xlink="http://www.w3.org/1999/xlink">Run a <command xmlns:xlink="http://www.w3.org/1999/xlink">make describe</command>.
		      Since the top-level
		      <command xmlns:xlink="http://www.w3.org/1999/xlink">make index</command> that you will be
		      running in a few steps is an iteration of
		      <command xmlns:xlink="http://www.w3.org/1999/xlink">make describe</command> over the entire
		      ports hierarchy, catching any errors here will
		      save you having to re-run that step later
		      on.</para>
		  </step>

		  <step xmlns:xlink="http://www.w3.org/1999/xlink">
		    <para xmlns:xlink="http://www.w3.org/1999/xlink">If you want to be really thorough, now
		      might be a good time to run
		      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" vendor="ports"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">portlint</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>.</para>
		  </step>
		</procedure>
	      </step>

	      <step xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">Check that the <varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGORIGIN</varname>s are
		  correct.  The ports system uses each port's
		  <varname xmlns:xlink="http://www.w3.org/1999/xlink">CATEGORIES</varname> entry to create its
		  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGORIGIN</varname>, which is used to
		  connect installed packages to the port directory
		  they were built from.  If this entry is wrong,
		  common port tools like <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pkg_version</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> and
		  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" vendor="ports"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">portupgrade</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> fail.</para>

		<para xmlns:xlink="http://www.w3.org/1999/xlink">To do this, use the
		  <filename xmlns:xlink="http://www.w3.org/1999/xlink">chkorigin.sh</filename> tool, as follows:
		  <command xmlns:xlink="http://www.w3.org/1999/xlink">env
		  PORTSDIR=<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">/path/to/ports</replaceable>
		  sh -e
		  <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">/path/to/ports</replaceable>/Tools/scripts/chkorigin.sh</command>.
		  This will check <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">every</emphasis> port in
		  the ports tree, even those not connected to the
		  build, so you can run it directly after the move
		  operation.  Hint: do not forget to look at the
		  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGORIGIN</varname>s of any slave ports of
		  the ports you just moved!</para>
	      </step>

	      <step xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">On your own local system, test the proposed
		  changes: first, comment out the
		  <varname xmlns:xlink="http://www.w3.org/1999/xlink">SUBDIR</varname> entries in the old ports'
		  categories' <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>s; then
		  enable building the new category in
		  <filename xmlns:xlink="http://www.w3.org/1999/xlink">ports/Makefile</filename>.  Run
		  <command xmlns:xlink="http://www.w3.org/1999/xlink">make checksubdirs</command> in the affected
		  category directories to check the
		  <varname xmlns:xlink="http://www.w3.org/1999/xlink">SUBDIR</varname> entries.  Next, in the
		  <filename xmlns:xlink="http://www.w3.org/1999/xlink">ports/</filename>
		  directory, run <command xmlns:xlink="http://www.w3.org/1999/xlink">make index</command>.  This
		  can take over 40 minutes on even modern systems;
		  however, it is a necessary step to prevent problems
		  for other people.</para>
	      </step>

	      <step xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">Once this is done, you can commit the updated
		  <filename xmlns:xlink="http://www.w3.org/1999/xlink">ports/Makefile</filename> to connect the
		  new category to the build and also commit the
		  <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> changes for the old
		  category or categories.</para>
	      </step>

	      <step xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">Add appropriate entries to
		  <filename xmlns:xlink="http://www.w3.org/1999/xlink">ports/MOVED</filename>.</para>
	      </step>

	      <step xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">Update the documentation by modifying the
		  following:</para>

		<itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
		  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		    <para xmlns:xlink="http://www.w3.org/1999/xlink">the <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="../../../../doc/en_US.ISO8859-1/books/porters-handbook/makefile-categories.html#PORTING-CATEGORIES">list
			of categories</link> in the Porter's
		      Handbook</para>
		  </listitem>

		  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		    <para xmlns:xlink="http://www.w3.org/1999/xlink">
		      <filename xmlns:xlink="http://www.w3.org/1999/xlink">doc/en_US.ISO8859-1/htdocs/ports</filename>.
		      Note that these are now displayed by sub-groups,
		      as specified in
		      <filename xmlns:xlink="http://www.w3.org/1999/xlink">doc/en_US.ISO8859-1/htdocs/ports/categories.descriptions</filename>.</para>
		  </listitem>
		</itemizedlist>

		<para xmlns:xlink="http://www.w3.org/1999/xlink">(Note: these are in the docs, not the ports,
		  repository).  If you are not a docs committer, you
		  will need to submit a PR for this.</para>
	      </step>

	      <step xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">Only once all the above have been done, and no
		  one is any longer reporting problems with the new
		  ports, should the old ports be deleted from their
		  previous locations in the repository.</para>
	      </step>
	    </procedure>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">It is not necessary to manually update the
	      <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="../../../../ports/index.html">ports web
		pages</link> to reflect the new category.  This is
	      done automatically via the change to
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">en_US.ISO8859-1/htdocs/ports/categories</filename>
	      and the automated rebuild of
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">INDEX</filename>.</para>
	  </answer>
	</qandaentry>

	<qandaentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ports-qa-new-category-virtual">
	  <question xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">What do I need to do to implement a new virtual
	      category?</para>
	  </question>

	  <answer xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">This is much simpler than a physical category.  You
	      only need to modify the following:</para>

	    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">the <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="../../../../doc/en_US.ISO8859-1/books/porters-handbook/makefile-categories.html#PORTING-CATEGORIES">list
		    of categories</link> in the Porter's
		  Handbook</para>
	      </listitem>

	      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">en_US.ISO8859-1/htdocs/ports/categories</filename></para>
	      </listitem>
	    </itemizedlist>
	  </answer>
	</qandaentry>
      </qandadiv>

      <qandadiv xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ports-qa-misc-questions">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Miscellaneous Questions</title>

	<qandaentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ports-qa-misc-correctly-building">
	  <question xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">How do I know if my port is building correctly or
	      not?</para>
	  </question>

	  <answer xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">The packages are built multiple times each week.  If
	      a port fails, the maintainer will receive an email from
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">pkg-fallout@FreeBSD.org</literal>.</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">Reports for all the package builds (official,
	      experimental, and non-regression) are aggregated at
	      <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://pkg-status.freebsd.org/">pkg-status.FreeBSD.org</link>.</para>
	  </answer>
	</qandaentry>

	<qandaentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ports-qa-misc-INDEX">
	  <question xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">I added a new port.  Do I need to add it to the
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">INDEX</filename>?</para>
	  </question>

	  <answer xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">No.  The file can either be generated by running
	      <command xmlns:xlink="http://www.w3.org/1999/xlink">make index</command>, or a pre-generated
	      version can be downloaded with
	      <command xmlns:xlink="http://www.w3.org/1999/xlink">make fetchindex</command>.</para>
	  </answer>
	</qandaentry>

	<qandaentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ports-qa-misc-no-touch">
	  <question xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">Are there any other files I am not allowed to
	      touch?</para>
	  </question>

	  <answer xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">Any file directly under <filename xmlns:xlink="http://www.w3.org/1999/xlink">ports/</filename>,
	      or any file under a subdirectory that starts with an
	      uppercase letter (<filename xmlns:xlink="http://www.w3.org/1999/xlink">Mk/</filename>,
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">Tools/</filename>, etc.).  In particular, the
	      Ports Management Team <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">portmgr@FreeBSD.org</email> is very protective of
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">ports/Mk/bsd.port*.mk</filename> so do not
	      commit changes to those files unless you want to face
	      their wra(i)th.</para>
	  </answer>
	</qandaentry>

	<qandaentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ports-qa-misc-updated-distfile">
	  <question xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">What is the proper procedure for updating the
	      checksum for a port's distfile when the file changes
	      without a version change?</para>
	  </question>

	  <answer xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">When the checksum for a port's distfile is updated
	      due to the author updating the file without changing the
	      port's revision, the commit message should include a
	      summary of the relevant diffs between the original and
	      new distfile to ensure that the distfile has not been
	      corrupted or maliciously altered.  If the current
	      version of the port has been in the ports tree for a
	      while, a copy of the old distfile will usually be
	      available on the ftp servers; otherwise the author or
	      maintainer should be contacted to find out why the
	      distfile has changed.</para>
	  </answer>
	</qandaentry>

	<qandaentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ports-qa-misc-request-mfh">
	  <question xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">What is the procedure to request authorization for
	      merging a commit to the quarterly branch?</para>
	  </question>

	  <answer xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">When doing the commit, add the branch name to the
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">MFH:</literal> line, for example:</para>

	    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">MFH:	<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">2014Q1</replaceable></programlisting>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">It will automatically notify Ports Security Team <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">ports-secteam@FreeBSD.org</email> and
	      Ports Management Team <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">portmgr@FreeBSD.org</email>.  They will then decide if the commit can be
	      merged and answer with the procedure.</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">If the commit has already been made, send an email
	      to Ports Security Team <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">ports-secteam@FreeBSD.org</email> and Ports Management Team <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">portmgr@FreeBSD.org</email> with the revision
	      number and a small description of why the commit needs
	      to be merged.</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">A script is provided to automate merging a specific
	      commit: <filename xmlns:xlink="http://www.w3.org/1999/xlink">ports/Tools/scripts/mfh</filename>.
	      It is used as follows:</para>

	    <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">/usr/ports/Tools/scripts/mfh 2015Q1 380362</userinput>
 U   2015Q1
Checked out revision 380443.
A    2015Q1/security
Updating '2015Q1/security/rubygem-sshkit':
A    2015Q1/security/rubygem-sshkit
A    2015Q1/security/rubygem-sshkit/Makefile
A    2015Q1/security/rubygem-sshkit/distinfo
A    2015Q1/security/rubygem-sshkit/pkg-descr
Updated to revision 380443.
--- Merging r380362 into '2015Q1':
U    2015Q1/security/rubygem-sshkit/Makefile
U    2015Q1/security/rubygem-sshkit/distinfo
--- Recording mergeinfo for merge of r380362 into '2015Q1':
 U   2015Q1
--- Recording mergeinfo for merge of r380362 into '2015Q1/security':
 G   2015Q1/security
--- Eliding mergeinfo from '2015Q1/security':
 U   2015Q1/security
--- Recording mergeinfo for merge of r380362 into '2015Q1/security/rubygem-sshkit':
 G   2015Q1/security/rubygem-sshkit
--- Eliding mergeinfo from '2015Q1/security/rubygem-sshkit':
 U   2015Q1/security/rubygem-sshkit
 M      2015Q1
M       2015Q1/security/rubygem-sshkit/Makefile
M       2015Q1/security/rubygem-sshkit/distinfo
Index: 2015Q1/security/rubygem-sshkit/Makefile
===================================================================
--- 2015Q1/security/rubygem-sshkit/Makefile     (revision 380443)
+++ 2015Q1/security/rubygem-sshkit/Makefile     (working copy)
@@ -2,7 +2,7 @@
 # $FreeBSD$

 PORTNAME=      sshkit
-PORTVERSION=   1.6.1
+PORTVERSION=   1.7.0
 CATEGORIES=    security rubygems
 MASTER_SITES=  RG

Index: 2015Q1/security/rubygem-sshkit/distinfo
===================================================================
--- 2015Q1/security/rubygem-sshkit/distinfo     (revision 380443)
+++ 2015Q1/security/rubygem-sshkit/distinfo     (working copy)
@@ -1,2 +1,2 @@
-SHA256 (rubygem/sshkit-1.6.1.gem) = 8ca67e46bb4ea50fdb0553cda77552f3e41b17a5aa919877d93875dfa22c03a7
-SIZE (rubygem/sshkit-1.6.1.gem) = 135680
+SHA256 (rubygem/sshkit-1.7.0.gem) = 90effd1813363bae7355f4a45ebc8335a8ca74acc8d0933ba6ee6d40f281a2cf
+SIZE (rubygem/sshkit-1.7.0.gem) = 136192
Index: 2015Q1
===================================================================
--- 2015Q1      (revision 380443)
+++ 2015Q1      (working copy)

Property changes on: 2015Q1
___________________________________________________________________
Modified: svn:mergeinfo
   Merged /head:r380362
Do you want to commit? (no = start a shell) [y/n]</screen>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">At that point, the script will either open a shell
	      for you to fix things, or open your text editor with the
	      commit message all prepared and then commit the
	      merge.</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">The script assumes that you can connect to
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">svn.FreeBSD.org</literal> with
	      <application xmlns:xlink="http://www.w3.org/1999/xlink">SSH</application> directly, so if your
	      local login name is different than your FreeBSD cluster
	      account, you need a few lines in your
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">~/.ssh/config</filename>:</para>

	    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">Host svn.freebsd.org # Can be *.freebsd.org
    User <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">freebsd-login</replaceable></programlisting>
	  </answer>
	</qandaentry>
      </qandadiv>
    </qandaset>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="non-committers">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">Issues Specific to Developers Who Are Not
      Committers</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">A few people who have access to the FreeBSD machines do not
      have commit bits.  Almost all of this document will apply to
      these developers as well (except things specific to commits and
      the mailing list memberships that go with them).  In particular,
      we recommend that you read:</para>

    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="admin">Administrative
	    Details</link></para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="conventions-everyone">Conventions</link></para>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">You should get your mentor to add you to the
	    <quote xmlns:xlink="http://www.w3.org/1999/xlink">Additional Contributors</quote>
	    (<filename xmlns:xlink="http://www.w3.org/1999/xlink">doc/en_US.ISO8859-1/articles/contributors/contrib.additional.xml</filename>),
	    if you are not already listed there.</para>
	</note>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="developer.relations">Developer
	    Relations</link></para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="ssh.guide">SSH Quick-Start
	    Guide</link></para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="rules">The FreeBSD Committers' Big List
	    of Rules</link></para>
      </listitem>
    </itemizedlist>

  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="google-analytics">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">Information About Google Analytics</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">As of December 12, 2012, Google Analytics was enabled on the
      FreeBSD Project website to collect anonymized usage statistics
      regarding usage of the site.  The information collected is
      valuable to the FreeBSD Documentation Project, in order to
      identify various problems on the FreeBSD website.</para>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="google-analytics-policy">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Google Analytics General Policy</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">The FreeBSD Project takes visitor privacy very
	seriously.  As such, the FreeBSD Project website honors the
	<quote xmlns:xlink="http://www.w3.org/1999/xlink">Do Not Track</quote> header <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">before</emphasis>
	fetching the tracking code from Google.  For more information,
	please see the
	<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.FreeBSD.org/privacy.html">FreeBSD
	  Privacy Policy</link>.</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Google Analytics access is <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">not</emphasis> arbitrarily
	allowed &#8212; access must be requested, voted on by the
	Documentation Engineering Team <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">doceng@FreeBSD.org</email>, and explicitly granted.</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Requests for Google Analytics data must include a specific purpose.
	For example, a valid reason for requesting access would be
	<quote xmlns:xlink="http://www.w3.org/1999/xlink">to see the most frequently used web browsers when
	  viewing FreeBSD web pages to ensure page rendering speeds are
	  acceptable.</quote></para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Conversely, <quote xmlns:xlink="http://www.w3.org/1999/xlink">to see what web browsers are most
	  frequently used</quote> (without stating
	<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">why</emphasis>) would be rejected.</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">All requests must include the timeframe for which the data
	would be required.  For example, it must be explicitly stated
	if the requested data would be needed for a timeframe covering
	a span of 3 weeks, or if the request would be one-time
	only.</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Any request for Google Analytics data without a clear, reasonable
	reason beneficial to the FreeBSD Project will be
	rejected.</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="google-analytics-data">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Data Available Through Google Analytics</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">A few examples of the types of Google Analytics data available
	include:</para>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Commonly used web browsers</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Page load times</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Site access by language</para>
	</listitem>
      </itemizedlist>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="misc">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">Miscellaneous Questions</title>

    <qandaset xmlns:xlink="http://www.w3.org/1999/xlink">
      <qandaentry xmlns:xlink="http://www.w3.org/1999/xlink">
	<question xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Why are trivial or cosmetic changes to files on a
	    vendor branch a bad idea?</para>
	</question>

	<answer xmlns:xlink="http://www.w3.org/1999/xlink">
	  <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">From now on, every new vendor release of that file
		will need to have patches merged in by hand.</para>
	    </listitem>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">From now on, every new vendor release of that file
		will need to have patches
		<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">verified</emphasis> by hand.</para>
	    </listitem>
	  </itemizedlist>
	</answer>
      </qandaentry>

      <qandaentry xmlns:xlink="http://www.w3.org/1999/xlink">
	<question xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">How do I add a new file to a branch?</para>
	</question>

	<answer xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">To add a file onto a branch, simply checkout or update
	    to the branch you want to add to and then add the file
	    using the add operation as you normally would.  This works
	    fine for the <literal xmlns:xlink="http://www.w3.org/1999/xlink">doc</literal> and
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">ports</literal> trees.  The
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">src</literal> tree uses SVN and requires more
	    care because of the <literal xmlns:xlink="http://www.w3.org/1999/xlink">mergeinfo</literal>
	    properties.  See the
	    <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="subversion-primer">Subversion Primer</link>
	    for details on how to perform an MFC.</para>
	</answer>
      </qandaentry>

      <qandaentry xmlns:xlink="http://www.w3.org/1999/xlink">
	<question xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">How do I access <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">people.FreeBSD.org</systemitem> to
	    put up personal or project information?</para>
	</question>

	<answer xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">people.FreeBSD.org</systemitem> is
	    the same as <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">freefall.FreeBSD.org</systemitem>.
	    Just create a <filename xmlns:xlink="http://www.w3.org/1999/xlink">public_html</filename> directory.
	    Anything you place in that directory will automatically be
	    visible under <uri xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://people.FreeBSD.org/">http://people.FreeBSD.org/</uri>.</para>
	</answer>
      </qandaentry>

      <qandaentry xmlns:xlink="http://www.w3.org/1999/xlink">
	<question xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Where are the mailing list archives stored?</para>
	</question>

	<answer xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">The mailing lists are archived under
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/g/mail</filename> which will show up as
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/hub/g/mail</filename> with <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pwd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>.  This
	    location is accessible from any machine on the FreeBSD
	    cluster.</para>
	</answer>
      </qandaentry>

      <qandaentry xmlns:xlink="http://www.w3.org/1999/xlink">
	<question xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">I would like to mentor a new committer.  What process
	    do I need to follow?</para>
	</question>

	<answer xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">See the <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.freebsd.org/internal/new-account.html">New
	      Account Creation Procedure</link> document on the
	    internal pages.</para>
	</answer>
      </qandaentry>

      <qandaentry xmlns:xlink="http://www.w3.org/1999/xlink">
	<question xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Are there any perks of being an FreeBSD committer?</para>
	</question>

	<answer xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Recognition as a competent software engineer is the
	    longest lasting value.  In addition, getting a chance
	    to work with some of the best people that every engineer
	    would dream of meeting is a great perk!</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD committers can get a free 4-CD or DVD set at
	    conferences from
	    <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.freebsdmall.com">FreeBSD Mall,
	      Inc.</link>.</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">In addition, developers may request a cloaked hostmask
	    for their account on the Freenode IRC network in the form
	    of
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">freebsd/developer/</literal><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">freefall
	      name</replaceable>
	    or
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">freebsd/developer/</literal><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">NickServ
	      name</replaceable>.
	    To request a cloak, send an email
	    to <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">irc@FreeBSD.org</email> with your requested hostmask and
	    NickServ account name.</para>
	</answer>
      </qandaentry>
    </qandaset>
  </sect1>
</article>
