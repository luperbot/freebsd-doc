<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>7. Commit Log Messages</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Committer's Guide" /><link rel="up" href="index.html" title="Committer's Guide" /><link rel="prev" href="conventions.html" title="6. Setup, Conventions, and Traditions" /><link rel="next" href="pref-license.html" title="8. Preferred License for New Files" /><link rel="copyright" href="trademarks.html" title="Legal Notice" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">7. Commit Log Messages</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="conventions.html">Prev</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="pref-license.html">Next</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="commit-log-message"></a>7. Commit Log Messages</h2></div></div></div><p>This section contains some suggestions and traditions for
      how commit logs are formatted.</p><p>As well as including an informative message with each
      commit you may need to include some additional
      information.</p><p>This information consists of one or more lines
      containing the key word or phrase, a colon, tabs for formatting,
      and then the additional information.</p><p>The key words or phrases are:</p><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /></colgroup><tbody><tr><td><code class="literal">PR:</code></td><td>The problem report (if any) which is affected
	      (typically, by being closed) by this commit.  Only
	      include one PR per line as the automated scripts which
	      parse this line cannot understand more than
	      one.</td></tr><tr><td><code class="literal">Differential Revision:</code></td><td>The full URL of the Phabricator review.  For
	      example:
	      <code class="literal">https://reviews.freebsd.org/D1708</code>.</td></tr><tr><td><code class="literal">Submitted by:</code></td><td>
	      <p>The name and e-mail address of the person
		that submitted the fix; for developers, just the
		username on the FreeBSD cluster.</p>

	      <p>If the submitter is the maintainer of the port
		to which you are committing, include "(maintainer)"
		after the email address.</p>

	      <p>Avoid obfuscating the email address of the
		submitter as this adds additional work when searching
		logs.</p></td></tr><tr><td><code class="literal">Reviewed by:</code></td><td>The name and e-mail address of the person or
	      people that reviewed the change; for developers,
	      just the username on the FreeBSD cluster.  If a
	      patch was submitted to a mailing list for review,
	      and the review was favorable, then just include
	      the list name.</td></tr><tr><td><code class="literal">Approved by:</code></td><td><p>The name and e-mail address of the person or
	      people that approved the change; for developers, just
	      the username on the FreeBSD cluster.  It is customary to
	      get prior approval for a commit if it is to an area of
	      the tree to which you do not usually commit.  In
	      addition, during the run up to a new release all commits
	      <span class="emphasis"><em>must</em></span> be approved by the release
	      engineering team.</p>

	    <p>If these are your first commits then you should have
	      passed them past your mentor first, and you should list
	      your mentor, as in
	      ``<em class="replaceable"><code>username-of-mentor</code></em>
	      <code class="literal">(mentor)</code>''.</p>

	    <p>If a team approved these commits then include the
	      team name followed by the username of the approver in
	      parentheses.  For example: ``<em class="replaceable"><code>re@
		(username)</code></em>``</p></td></tr><tr><td><code class="literal">Obtained from:</code></td><td>The name of the project (if any) from which
	      the code was obtained.  Do not use this line for the
	      name of an individual person.</td></tr><tr><td><code class="literal">MFC after:</code></td><td>If you wish to receive an e-mail reminder to
	      <acronym class="acronym">MFC</acronym> at a later date, specify the
	      number of days, weeks, or months after which an
	      <acronym class="acronym">MFC</acronym> is planned.</td></tr><tr><td><code class="literal">Relnotes:</code></td><td>If the change is a candidate for inclusion in
	      the release notes for the next release from the branch,
	      set to <code class="literal">yes</code>.</td></tr><tr><td><code class="literal">Security:</code></td><td>If the change is related to a security
	      vulnerability or security exposure, include one or more
	      references or a description of the issue.  If possible,
	      include a VuXML URL or a CVE ID.</td></tr></tbody></table></div><div class="example"><a id="idp67760720"></a><div class="example-title">Example 1. Commit Log for a Commit Based on a PR</div><div class="example-contents"><p>You want to commit a change based on a PR submitted by
	John Smith containing a patch.  The end of the commit message
	should look something like this.</p><pre class="programlisting">...

	    PR:                    12345
	    Submitted by:	   John Smith &lt;John.Smith@example.com&gt;</pre></div></div><br class="example-break" /><div class="example"><a id="idp67762256"></a><div class="example-title">Example 2. Commit Log for a Commit Needing Review</div><div class="example-contents"><p>You want to change the virtual memory system.  You have
	posted patches to the appropriate mailing list (in this
	case, <code class="literal">freebsd-arch</code>) and the changes have
	been approved.</p><pre class="programlisting">...

	    Reviewed by:       -arch</pre></div></div><br class="example-break" /><div class="example"><a id="idp67764304"></a><div class="example-title">Example 3. Commit Log for a Commit Needing Approval</div><div class="example-contents"><p>You want to commit a port.  You have collaborated with
	the listed MAINTAINER, who has told you to go ahead and
	commit.</p><pre class="programlisting">...

	    Approved by:	    <em class="replaceable"><code>abc</code></em> (maintainer)</pre><p>Where <em class="replaceable"><code>abc</code></em> is the account name
	of the person who approved.</p></div></div><br class="example-break" /><div class="example"><a id="idp67767120"></a><div class="example-title">Example 4. Commit Log for a Commit Bringing in Code from
	OpenBSD</div><div class="example-contents"><p>You want to commit some code based on work done in the
	OpenBSD project.</p><pre class="programlisting">...

	    Obtained from:      OpenBSD</pre></div></div><br class="example-break" /><div class="example"><a id="idp67768656"></a><div class="example-title">Example 5. Commit Log for a Change to FreeBSD-CURRENT with a Planned
	Commit to FreeBSD-STABLE to Follow at a Later Date.</div><div class="example-contents"><p>You want to commit some code which will be merged from
	FreeBSD-CURRENT into the FreeBSD-STABLE branch after two
	weeks.</p><pre class="programlisting">...

MFC after:      <em class="replaceable"><code>2 weeks</code></em></pre><p>Where <em class="replaceable"><code>2</code></em> is the number of days,
	weeks, or months after which an <acronym class="acronym">MFC</acronym> is
	planned.  The <em class="replaceable"><code>weeks</code></em> option may be
	<code class="literal">day</code>, <code class="literal">days</code>,
	<code class="literal">week</code>, <code class="literal">weeks</code>,
	<code class="literal">month</code>, <code class="literal">months</code>.</p></div></div><br class="example-break" /><p>In many cases you may need to combine some of these.</p><p>Consider the situation where a user has submitted a PR
      containing code from the NetBSD project.  You are looking at the
      PR, but it is not an area of the tree you normally work in, so
      you have decided to get the change reviewed by the
      <code class="literal">arch</code> mailing list.  Since the change is
      complex, you opt to <acronym class="acronym">MFC</acronym> after one month to
      allow adequate testing.</p><p>The extra information to include in the commit would look
      something like</p><div class="example"><a id="idp67780560"></a><div class="example-title">Example 6. Example Combined Commit Log</div><div class="example-contents"><pre class="programlisting">PR:                 54321
Submitted by:       John Smith &lt;John.Smith@example.com&gt;
Reviewed by:        -arch
Obtained from:      NetBSD
MFC after:          1 month
Relnotes:           yes</pre></div></div><br class="example-break" /></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="conventions.html">Prev</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="pref-license.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">6. Setup, Conventions, and Traditions </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 8. Preferred License for New Files</td></tr></table></div><p xmlns="" align="center"><small>All FreeBSD documents are available for download
    at <a href="http://ftp.FreeBSD.org/pub/FreeBSD/doc/">http://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="" align="center"><small>Questions that are not answered by the
    <a href="http://www.FreeBSD.org/docs.html">documentation</a> may be
    sent to &lt;<a href="mailto:freebsd-questions@FreeBSD.org">freebsd-questions@FreeBSD.org</a>&gt;.<br />
    Send questions about this document to &lt;<a href="mailto:freebsd-doc@FreeBSD.org">freebsd-doc@FreeBSD.org</a>&gt;.</small></p></body></html>