==================================
3.2.?Writing the Description Files
==================================

.. raw:: html

   <div class="navheader">

3.2.?Writing the Description Files
`Prev <quick-porting.html>`__?
Chapter?3.?Quick Porting
?\ `Next <porting-checksum.html>`__

--------------

.. raw:: html

   </div>

.. raw:: html

   <div class="sect1">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

3.2.?Writing the Description Files
----------------------------------

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

There are two description files that are required for any port, whether
they actually package or not. They are ``pkg-descr`` and ``pkg-plist``.
Their ``pkg-`` prefix distinguishes them from other files.

.. raw:: html

   <div class="sect2">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

3.2.1.?\ ``pkg-descr``
~~~~~~~~~~~~~~~~~~~~~~

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

This is a longer description of the port. One to a few paragraphs
concisely explaining what the port does is sufficient.

.. raw:: html

   <div class="note" xmlns="">

Note:
~~~~~

This is *not* a manual or an in-depth description on how to use or
compile the port! *Please be careful when copying from the ``README`` or
manpage*. Too often they are not a concise description of the port or
are in an awkward format. For example, manpages have justified spacing,
which looks particularly bad with monospaced fonts.

.. raw:: html

   </div>

A well-written ``pkg-descr`` describes the port completely enough that
users would not have to consult the documentation or visit the website
to understand what the software does, how it can be useful, or what
particularly nice features it has. Mentioning certain requirements like
a graphical toolkit, heavy dependencies, runtime environment, or
implementation languages help users decide whether this port will work
for them.

Include a URL to the official WWW homepage. Prepend *one* of the
websites (pick the most common one) with ``WWW:`` (followed by single
space) so that automated tools will work correctly. If the URI is the
root of the website or directory, it must be terminated with a slash.

.. raw:: html

   <div class="note" xmlns="">

Note:
~~~~~

If the listed webpage for a port is not available, try to search the
Internet first to see if the official site moved, was renamed, or is
hosted elsewhere.

.. raw:: html

   </div>

This example shows how ``pkg-descr`` looks:

.. code:: programlisting

    This is a port of oneko, in which a cat chases a poor mouse all over
    the screen.
     :
    (etc.)

    WWW: http://www.oneko.org/

.. raw:: html

   </div>

.. raw:: html

   <div class="sect2">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

3.2.2.?\ ``pkg-plist``
~~~~~~~~~~~~~~~~~~~~~~

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

This file lists all the files installed by the port. It is also called
the “packing list” because the package is generated by packing the files
listed here. The pathnames are relative to the installation prefix
(usually ``/usr/local``).

Here is a small example:

.. code:: programlisting

    bin/oneko
    man/man1/oneko.1.gz
    lib/X11/app-defaults/Oneko
    lib/X11/oneko/cat1.xpm
    lib/X11/oneko/cat2.xpm
    lib/X11/oneko/mouse.xpm

Refer to the
`pkg-create(8) <http://www.FreeBSD.org/cgi/man.cgi?query=pkg-create&sektion=8>`__
manual page for details on the packing list.

.. raw:: html

   <div class="note" xmlns="">

Note:
~~~~~

It is recommended to keep all the filenames in this file sorted
alphabetically. It will make verifying changes when upgrading the port
much easier.

.. raw:: html

   </div>

.. raw:: html

   <div class="tip" xmlns="">

Tip:
~~~~

Creating a packing list manually can be a very tedious task. If the port
installs a large numbers of files, `creating the packing list
automatically <plist-autoplist.html>`__ might save time.

.. raw:: html

   </div>

There is only one case when ``pkg-plist`` can be omitted from a port. If
the port installs just a handful of files, list them in ``PLIST_FILES``,
within the port's ``Makefile``. For instance, we could get along without
``pkg-plist`` in the above ``oneko`` port by adding these lines to the
``Makefile``:

.. code:: programlisting

    PLIST_FILES=    bin/oneko \
            man/man1/oneko.1.gz \
            lib/X11/app-defaults/Oneko \
            lib/X11/oneko/cat1.xpm \
            lib/X11/oneko/cat2.xpm \
            lib/X11/oneko/mouse.xpm

.. raw:: html

   <div class="note" xmlns="">

Note:
~~~~~

Usage of ``PLIST_FILES`` should not be abused. When looking for the
origin of a file, people usually try to grep through the ``pkg-plist``
files in the ports tree. Listing files in ``PLIST_FILES`` in the
``Makefile`` makes that search more difficult.

.. raw:: html

   </div>

.. raw:: html

   <div class="tip" xmlns="">

Tip:
~~~~

If a port needs to create an empty directory, or creates directories
outside of ``${PREFIX}`` during installation, refer to `Section?7.2.1,
“Cleaning Up Empty
Directories” <plist-cleaning.html#plist-dir-cleaning>`__ for more
information.

.. raw:: html

   </div>

The price for this way of listing a port's files and directories is that
the keywords described in
`pkg-create(8) <http://www.FreeBSD.org/cgi/man.cgi?query=pkg-create&sektion=8>`__
and `Section?7.6, “Expanding Package List with
Keywords” <plist-keywords.html>`__ cannot be used. Therefore, it is
suitable only for simple ports and makes them even simpler. At the same
time, it has the advantage of reducing the number of files in the ports
collection. Please consider using this technique before resorting to
``pkg-plist``.

Later we will see how ``pkg-plist`` and ``PLIST_FILES`` can be used to
fulfill `more sophisticated tasks <plist.html>`__.

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   <div class="navfooter">

--------------

+----------------------------------+-------------------------------+---------------------------------------+
| `Prev <quick-porting.html>`__?   | `Up <quick-porting.html>`__   | ?\ `Next <porting-checksum.html>`__   |
+----------------------------------+-------------------------------+---------------------------------------+
| Chapter?3.?Quick Porting?        | `Home <index.html>`__         | ?3.3.?Creating the Checksum File      |
+----------------------------------+-------------------------------+---------------------------------------+

.. raw:: html

   </div>

All FreeBSD documents are available for download at
http://ftp.FreeBSD.org/pub/FreeBSD/doc/

| Questions that are not answered by the
  `documentation <http://www.FreeBSD.org/docs.html>`__ may be sent to
  <freebsd-questions@FreeBSD.org\ >.
|  Send questions about this document to <freebsd-doc@FreeBSD.org\ >.
