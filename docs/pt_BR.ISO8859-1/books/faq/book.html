<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>Perguntas mais freqüentes sobre FreeBSD 2.X, 3.X e 4.X</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><meta name="description" content="Estas são as Perguntas Mais Freqüentes (FAQ) para as versões 2.X, 3.X e 4.X do FreeBSD. Deve-se assumir que todos os assuntos aqui tratados são relevantes para FreeBSD 2.0.5 ou posterior, a não ser que o contrário esteja explicitamente denotado. Todos os assuntos assinalados com &lt;XXX&gt; estão em processo de desenvolvimento. Se você estiver interessado em ajudar este projeto, envie e-mail para lista de discussão do projeto de documentação do FreeBSD. A versão mais atualizada deste documento está sempre disponível no servidor WWW do FreeBSD. Também pode ser obtida como um único grande arquivo HTML via HTTP; ou, como texto puro, ou nos formatos postscript, PDF, etc. no servidor FTP do FreeBSD. Você também pode querer realizar uma busca nas Perguntas Mais Freqüentes (FAQ)." /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div xml:lang="pt_br" class="book" lang="pt_br"><div xmlns="" class="titlepage"><div><div><h1 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp61068368"></a>Perguntas mais freqüentes sobre FreeBSD 2.X, 3.X e
      4.X</h1></div><div><div xmlns="http://www.w3.org/1999/xhtml" class="author"><h3 class="author"><span class="orgname">Projeto de Documentação do FreeBSD</span></h3></div></div><div>Revisão: <a href="https://svnweb.freebsd.org/changeset/doc/"><span class="svnref"></span></a></div><div><p xmlns="http://www.w3.org/1999/xhtml" class="copyright">Copyright © 1995-2002 Projeto de Documentação do FreeBSD</p></div><div><div xmlns="http://www.w3.org/1999/xhtml" class="legalnotice"><a id="legalnotice"></a><p><span class="emphasis"><em>Versão Traduzida para Português do
    Brasil</em></span></p><p>Esta é uma tradução não-oficial
    do Aviso Legal Padrão do Projeto de Documentação
    do FreeBSD para o Português do Brasil.  Ela não
    foi publicada pelo Projeto de Documentação do FreeBSD,
    e legalmente não representa os termos de
    distribuição de documentação que
    utiliza o Aviso Legal Padrão do Projeto de
    Documentação do FreeBSD -- somente o texto original
    do Aviso Legal Padrão do Projeto de Documentação,
    em inglês, faz isso.  Logo, a versão traduzida
    não deve ser utilizada como um aviso legal válido.
    Esperamos, contudo, que esta tradução ajude aos
    falantes de Português do Brasil a entender melhor o Aviso
    Legal Padrão do Projeto de Documentação
    do FreeBSD.</p><p>SEMPRE verifique a versão em Inglês mais recente
    do Aviso Legal Padrão do Projeto de Documentação
    do FreeBSD na versão em Inglês do Manual do
    FreeBSD.</p><p>Redistribuição e utilização do
    código fonte (SGML DocBook) ou formato "compilado" (SGML,
    HTML, PDF, PostScript, RTF e assim por diante) com ou sem
    modificação, são permitidas contanto que
    as seguintes condições sejam cumpridas:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>As redistribuições do código fonte
        (SGML DocBook) devem reter o aviso de copyright acima, esta
	lista de condições e a seguinte nota de
	responsabilidade assim como as primeiras linhas deste arquivo
	não modificadas.</p></li><li class="listitem"><p>As redistribuições em forma compilada
        (transformada para outros DTDs, convertida para PDF,
        PostScript, RTF e outros formatos) devem reproduzir o aviso de
        copyright acima, esta lista de condições e a
        seguinte nota de responsabilidade na
        documentação e/ou outros materiais fornecidos
        com a distribuição.</p></li></ol></div><div xmlns="" class="important"><h3 class="admontitle">Importante: </h3><p xmlns="http://www.w3.org/1999/xhtml">ESTA DOCUMENTAÇÃO É FORNECIDA PELO
      PROJETO DE DOCUMENTAÇÃO DO FREEBSD "NO ESTADO" E
      QUAISQUER GARANTIAS EXPLÍCITAS OU IMPLÍCITAS,
      INCLUINDO, MAS NÃO LIMITADAS AS GARANTIAS
      IMPLÍCITAS DE COMERCIALIZAÇÃO E A DE
      ADEQUAÇÃO PARA UMA FINALIDADE PARTICULAR
      SÃO DESMENTIDAS.  EM NENHUM EVENTO O PROJETO DE
      DOCUMENTAÇÃO DO FREEBSD PODERÁ SER
      RESPONSABILIZADO POR QUAISQUER DANOS DIRETOS, INDIRETOS,
      INCIDENTAIS, ESPECIAIS, EXEMPLARES, OU CONSEQÜENTES (INCLUINDO,
      MAS NÃO LIMITADO A, OBTENÇÃO DE BENS OU
      SERVIÇOS SUBSTITUTOS; PERDA DE USO, DE DADOS, OU DE
      LUCROS;  OU A INTERRUPÇÃO DE NEGÓCIOS) DE
      QUALQUER FORMA CAUSADO E EM QUALQUER TEORIA DE RESPONSABILIDADE,
      SE EM CONTRATO, EM RESPONSABILIDADE ESTRITA, OU PROCESSUAL
      (PASSÍVEL DE PROCESSO, INCLUINDO NEGLIGÊNCIA OU
      NÃO) LEVANTADA DE QUALQUER FORMA PELO USO DESTA
      DOCUMENTAÇÃO, MESMO QUE AVISADO DA POSSIBILIDADE
      DE TAIS DANOS.</p></div><p><span class="emphasis"><em>English Version</em></span></p><p>This is an unofficial translation of the Standard FreeBSD
    Documentation Project Legal Notice into Brazilian Portuguese.
    It was not published by The FreeBSD Documentation Project, and
    does not legally state the distribution terms for documentation
    that uses the Standard FreeBSD Documentation Project Legal
    Notice -- only the original English text of the Standard FreeBSD
    Documentation Project Legal Notice does that.  Therefore, the
    translated version should not be used as a valid legal notice.
    However, we hope that this translation will help Brazilian
    Portuguese speakers understand the Standard FreeBSD Documentation
    Project Legal Notice better.</p><p>Make sure to ALWAYS check the latest English version of the Standard
    FreeBSD Documentation Project Legal Notice in the English
    documentation version of the FreeBSD Handbook.</p><p>Redistribution and use in source (SGML DocBook) and "compiled"
    forms (SGML, HTML, PDF, PostScript, RTF and so forth) with or without
    modification, are permitted provided that the following conditions are
    met:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Redistributions of source code (SGML DocBook) must retain the
        above copyright notice, this list of conditions and the following
        disclaimer as the first lines of this file unmodified.</p></li><li class="listitem"><p>Redistributions in compiled form (transformed to other DTDs,
        converted to PDF, PostScript, RTF and other formats) must
        reproduce the above copyright notice, this list of conditions and
        the following disclaimer in the documentation and/or other
        materials provided with the distribution.</p></li></ol></div><div xmlns="" class="important"><h3 class="admontitle">Importante: </h3><p xmlns="http://www.w3.org/1999/xhtml">THIS DOCUMENTATION IS PROVIDED BY THE FREEBSD DOCUMENTATION
      PROJECT "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING,
      BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND
      FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL
      THE FREEBSD DOCUMENTATION PROJECT BE LIABLE FOR ANY DIRECT, INDIRECT,
      INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
      BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS
      OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
      ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR
      TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE
      USE OF THIS DOCUMENTATION, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH
      DAMAGE.</p></div></div></div><div><div xmlns="http://www.w3.org/1999/xhtml" class="abstract"><div class="abstract-title">Resumo</div><p>Estas são as Perguntas Mais Freqüentes
	(<code class="literal">FAQ</code>) para as versões 2.X, 3.X e 4.X
	do FreeBSD.  Deve-se assumir que todos os assuntos aqui
	tratados são relevantes para FreeBSD 2.0.5 ou
	posterior, a não ser que o contrário esteja
	explicitamente denotado.  Todos os assuntos assinalados com
	&lt;XXX&gt; estão em processo de desenvolvimento.  Se
	você estiver interessado em ajudar este projeto, envie
	e-mail para <a class="link" href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-doc" target="_top">lista de discussão do 
  projeto de documentação do FreeBSD</a>.  A versão mais atualizada deste
	documento está sempre disponível no <a class="link" href="../../../../index.html" target="_top">servidor WWW do
	  FreeBSD</a>.  Também pode ser obtida como um
	único grande arquivo <a class="link" href="book.html" target="_top">HTML</a> via HTTP;  ou, como texto puro,
	ou nos formatos postscript, PDF, etc. no <a class="link" href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/" target="_top">servidor FTP do
	  FreeBSD</a>.  Você também pode querer
	<a class="link" href="../../../../search/index.html" target="_top">realizar uma busca
	  nas Perguntas Mais Freqüentes
	  (<code class="literal">FAQ</code>)</a>.</p></div></div></div><div class="docformatnavi">
      [
      <a href="index.html">Documento HTML em partes</a>
      /
      
	  Documento HTML completo
	
      ]
    </div><hr /></div><div class="toc"><div class="toc-title">Índice</div><dl class="toc"><dt><span class="chapter"><a href="#introduction">1. Introdução</a></span></dt><dt><span class="chapter"><a href="#support">2. Documentação e Suporte</a></span></dt><dt><span class="chapter"><a href="#install">3. Instalação</a></span></dt><dt><span class="chapter"><a href="#hardware">4. Compatibilidade de Hardware</a></span></dt><dt><span class="chapter"><a href="#troubleshoot">5. Resolução de Problemas</a></span></dt><dt><span class="chapter"><a href="#commercial">6. Aplicações Comerciais</a></span></dt><dt><span class="chapter"><a href="#applications">7. Aplicações de Usuário</a></span></dt><dt><span class="chapter"><a href="#kernelconfig">8. Configuraçãao do
      <span class="foreignphrase"><em class="foreignphrase">Kernel</em></span></a></span></dt><dt><span class="chapter"><a href="#disks">9. Discos, Sistemas de Arquivos e Carregadores de
      Inicialização (<span class="foreignphrase"><em class="foreignphrase">Boot
	Loaders</em></span>)</a></span></dt><dt><span class="chapter"><a href="#admin">10. Administração do Sistema</a></span></dt><dt><span class="chapter"><a href="#x">11. O sistema X, sistema de interface gráfica e os
      Consoles Virtuais</a></span></dt><dt><span class="chapter"><a href="#networking">12. Redes</a></span></dt><dt><span class="chapter"><a href="#security">13. Segurança</a></span></dt><dt><span class="chapter"><a href="#ppp">14. PPP</a></span></dt><dt><span class="chapter"><a href="#serial">15. Comunicações Seriais</a></span></dt><dt><span class="chapter"><a href="#misc">16. Perguntas Variadas</a></span></dt><dt><span class="chapter"><a href="#funnies">17. As gracinhas do FreeBSD</a></span></dt><dt><span class="chapter"><a href="#advanced">18. Tópicos Avançados</a></span></dt><dt><span class="chapter"><a href="#acknowledgments">19. Reconhecimentos</a></span></dt></dl></div><div class="list-of-tables"><div class="toc-title">Lista de Tabelas</div><dl><dt>3.1. <a href="#idp62862672">Tamanho máximo dos arquivos.</a></dt><dt>12.1. <a href="#idp67584464">Interfaces de rede baseadas no chipset DEC
	      PCI</a></dt></dl></div><div class="list-of-examples"><div class="toc-title">Lista de Exemplos</div><dl><dt>11.1. <a href="#idp67138768">Seção <span class="quote">&#8220;<span class="quote">Pointer</span>&#8221;</span>
		      no XF86Config para o mouse com bolinha de
		      scroll, da série 3.3.x do XFree86, usando
		      a tradução se;rie 3.3.x do
		      XFree86, usando a tradução por
		      meio do moused</a></dt><dt>11.2. <a href="#idp67140304">Seção
		      <span class="quote">&#8220;<span class="quote">InputDevice</span>&#8221;</span> do XF86Config para
		      usar a tradução do X Server na
		      série 4.X do XFree86.</a></dt><dt>11.3. <a href="#idp67141840">Exemplo de <span class="quote">&#8220;<span class="quote">.emacs</span>&#8221;</span> para usar
		      paginamento em mouse com bolinha de
		      scroll.</a></dt><dt>11.4. <a href="#idp67154128">Seção <span class="quote">&#8220;<span class="quote">Pointer</span>&#8221;</span>
		      do <code class="filename">XF86Config</code> com um mouse
		      com scroll na série 3.3.x do
		      XFree86.</a></dt><dt>11.5. <a href="#idp67156176">Seção
		      <span class="quote">&#8220;<span class="quote">InputDevice</span>&#8221;</span> do
		      <code class="filename">XF86Config</code> com um mouse com
		      scroll na série 4.x do XFree86.</a></dt><dt>11.6. <a href="#idp67158224">Arquivo <span class="quote">&#8220;<span class="quote">.emacs</span>&#8221;</span> para usar
		      paginamento em mouse com bolinha de
		      scroll.</a></dt><dt>11.7. <a href="#idp67169360">Configuração do
		  <span class="application">Emacs</span> para
		  <span class="application">Imwheel</span></a></dt><dt>11.8. <a href="#idp67172432">Configuração do
		  <span class="application">Xemacs</span> para
		  <span class="application">Imwheel</span></a></dt></dl></div><div class="chapter"><div xmlns="" class="titlepage"><div><div><h1 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="introduction"></a>Capítulo 1. Introdução</h1></div></div></div><p>Bem vindo às Perguntas Mais Freqüentes
      (<code class="literal">FAQ</code>) para as versões 2.X à 4.X
      do FreeBSD!</p><p>Como é de costume em Perguntas Mais Freqüentes
      (<code class="literal">FAQ</code>) da Usenet, este documento pretende
      cobrir as perguntas mais freqüentes relacionadas ao sistema
      operacional FreeBSD (e claro, respondê-las todas!).
      Embora originalmente tais documentos tivessem apenas a
      finalidade de reduzir a utilização da largura de
      banda da rede ao evitar que o mesmo tipo de pergunta antiga
      fosse sempre repetida, <code class="literal">FAQs</code> tornaram-se
      reconhecidamente uma fonte valiosa de
      informações.</p><p>Inúmeros esforços foram feitos para tornar
      este <code class="literal">FAQ</code> o mais informativo possível;
      se você tiver alguma sugestão de como esse
      documento pode ser melhorado, sinta-se a vontade para enviar
      suas sugestões por e-mail para o Responsável pelo <code class="literal">FAQ</code>
  <code class="email">&lt;<a xmlns="" class="email" href="mailto:faq@FreeBSD.org">faq@FreeBSD.org</a>&gt;</code>.</p><div class="qandaset"><a id="idp61535440"></a><dl><dt>1.1. <a href="#idp61536080">O que é FreeBSD?</a></dt><dt>1.2. <a href="#idp61550672">Qual o objetivo do Projeto FreeBSD?</a></dt><dt>1.3. <a href="#idp61571664">A licença FreeBSD tem alguma
	    restrição?</a></dt><dt>1.4. <a href="#idp61582800">O FreeBSD pode substituir meu sistema operacional
	    atual?</a></dt><dt>1.5. <a href="#idp61610960">Por que o sistema se chama FreeBSD?</a></dt><dt>1.6. <a href="#idp61638608">Qual a versão mais recente do FreeBSD?</a></dt><dt>1.7. <a href="#idp61662032">O que é FreeBSD-CURRENT?</a></dt><dt>1.8. <a href="#idp61723344">Qual o conceito por trás do
	    FreeBSD-STABLE?</a></dt><dt>1.9. <a href="#idp61736528">Quando são realizados lançamentos
	    FreeBSD?</a></dt><dt>1.10. <a href="#idp61755600">Quem é responsável pelo FreeBSD?</a></dt><dt>1.11. <a href="#idp61774928">Onde posso obter o FreeBSD?</a></dt><dt>1.12. <a href="#idp61808976">Como eu acesso o banco de dados de Relatórios
	    de Problemas?</a></dt><dt>1.13. <a href="#idp61829712">Como eu me torno um espelho do sítio WWW
	    FreeBSD?</a></dt><dt>1.14. <a href="#idp61842256">Que outras fontes de informações sobre o
	    FreeBSD existem?</a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%" /><col /></colgroup><tbody><tr class="question"><td align="left" valign="top"><a id="idp61536080"></a><a id="what-is-FreeBSD"></a><p><strong>1.1.</strong></p></td><td align="left" valign="top"><p>O que é FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Em síntese, FreeBSD é um sistema
	    operacional <span class="foreignphrase"><em class="foreignphrase">UN*X-like</em></span> para
	    plataformas i386 e Alpha/AXP, baseado no
	    <span class="quote">&#8220;<span class="quote">4.4BSD-Lite</span>&#8221;</span> da Universidade da
	    Califórnia em Berkeley, com alguns aprimoramentos
	    adotados do <span class="quote">&#8220;<span class="quote">4.4BSD-Lite2</span>&#8221;</span>.  O FreeBSD
	    também é baseado, indiretamente, na
	    conversão de William Jolitz conhecida como
	    <span class="quote">&#8220;<span class="quote">386BSD</span>&#8221;</span> para a plataforma i386 do
	    <span class="quote">&#8220;<span class="quote">Net/2</span>&#8221;</span> da Universidade da Califórnia,
	    em Berkeley;  apesar que pouquíssimo código
	    originado do 386BSD ainda exista no FreeBSD.  Uma
	    descrição mais abrangente do que é
	    FreeBSD e como o sistema funciona, pode ser encontrada na
	    <a class="link" href="../../../../index.html" target="_top">página
	      principal do FreeBSD</a>.</p><p>O FreeBSD é amplamente utilizado por empresas,
	    Provedores de Serviço Internet, pesquisadores,
	    profissionais de informática, estudantes e
	    usuários domésticos no mundo todo, para
	    trabalho, educação e
	    recreação.  Alguns destes exemplos podem ser
	    observados na <a class="link" href="../../../../gallery/index.html" target="_top">Galeria
	      FreeBSD,</a>.</p><p>Para informações mais detalhadas sobre o
	    FreeBSD, por favor, leia o <a class="link" href="../handbook/index.html" target="_top">Manual do FreeBSD</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp61550672"></a><a id="FreeBSD-goals"></a><p><strong>1.2.</strong></p></td><td align="left" valign="top"><p>Qual o objetivo do Projeto FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>O objetivo do Projeto FreeBSD é oferecer
	    <span class="foreignphrase"><em class="foreignphrase">software</em></span> que possa ser
	    utilizado para qualquer finalidade e sem
	    obrigações anexadas à esse
	    código.  Muitos de nós investimos
	    significantemente no código (e no projeto como um
	    todo), e com certeza não nos importaríamos
	    em receber algum tipo de compensação
	    financeira neste momento ou qualquer outro no futuro, mas
	    ninguém no projeto insistirá nisso.
	    Acreditamos que a nossa primeira e mais importante
	    missão é oferecer código para toda e
	    qualquer pessoa, que possa ser utilizado para qualquer
	    propósito, de forma que esse código
	    ofereça o maior número possível de
	    benefícios e formas de uso.  Nós acreditamos
	    que este é um dos objetivos fundamentais do
	    <span class="foreignphrase"><em class="foreignphrase">Software</em></span> Livre, e é
	    um dos quais nós apoiamos com entusiasmo.</p><p>O código fonte em nossa árvore que
	    é distribuído sob a <a class="link" href="http://www.FreeBSD.org/copyright/COPYING" target="_top">Licença
	      Pública Geral GNU (GPL)</a> ou sob a <a class="link" href="http://www.FreeBSD.org/copyright/COPYING.LIB" target="_top">
	      Licença Pública Geral de Bibliotecas GNU
	      (LGPL)</a> inclue, pode-se dizer, algumas
	    obrigações anexadas a ele;  contudo tais
	    restrições visam garantir o acesso livre a
	    esse código, e não o contrário.
	    Devido à complexidades adicionais que envolvem a
	    utilização comercial de software licenciado
	    sob GPL, nós procuramos substituir tais softwares
	    sob a mais relaxada <a class="link" href="http://www.FreeBSD.org/copyright/freebsd-license.html" target="_top">licença
	      de direito autoral FreeBSD</a> sempre que
	    possível;.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp61571664"></a><a id="bsd-license-restrictions"></a><p><strong>1.3.</strong></p></td><td align="left" valign="top"><p>A licença FreeBSD tem alguma
	    restrição?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Sim.  Entrentanto, essas restrições
	    não definem regras a respeito de como o
	    código deve ser utilizado, mas de como você
	    deve tratar o Projeto FreeBSD ao utilizar código
	    distribuído pelo mesmo.  Se você tem
	    sérias dúvidas sobre o licençiamento,
	    sinta-se a vontade para ler a <a class="link" href="http://www.FreeBSD.org/copyright/freebsd-license.html" target="_top">
	      licença</a>.  Para os meramente curiosos, a
	    licença pode ser resumida em:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Não alegue que o código foi escrito
		por você.</p></li><li class="listitem"><p>Não nos processe se o código
		falhar.</p></li></ul></div></td></tr><tr class="question"><td align="left" valign="top"><a id="idp61582800"></a><a id="replace-current-OS"></a><p><strong>1.4.</strong></p></td><td align="left" valign="top"><p>O FreeBSD pode substituir meu sistema operacional
	    atual?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Para maioria das pessoas, sim.  Mas essa não
	    é uma pergunta tão simples assim.</p><p>A maioria das pessoas, na verdade, não utiliza
	    um sistema operacional.  As aplicações
	    utilizadas pelos usuários é que realmente
	    usam o sistema operacional.  O FreeBSD é projetado
	    de forma a oferecer um ambiente robusto e completo para as
	    aplicações.  Suporta uma enorme variedade de
	    navegadores internet, de suítes de
	    escritório, clientes de e-mail, programas de
	    manipulação gráfica, ambientes de
	    programação, servidores e serviços de
	    rede, e praticamente tudo mais que você pode
	    desejar.  A maioria destas aplicações podem
	    ainda ser gerenciadas através da <a class="link" href="http://www.freebsd.org/ports/" target="_top">Coleção
	      de <code class="literal">Ports</code></a>.</p><p>Em circunstâncias nas quais precise usar uma
	    aplicação disponível apenas para um
	    determinado sistema operacional, não é
	    possível substituir aquele sistema operacional.
	    Entretanto, há uma boa chance que alguma
	    aplicação similar à que você
	    precisa, exista para FreeBSD.  Se você quer ter,
	    desde um sólido conjunto de
	    aplicações para escritório,
	    até um robusto e altamente escalável
	    servidor Internet, ou simplesmente uma
	    estação de trabalho confiável, onde
	    você possa realizar seu trabalho sem
	    interrupções, FreeBSD provavelmente vai
	    suprir todas as suas necessidades.  Inúmeras
	    pessoas pelo mundo todo, desde usuários novatos
	    à administradores de sistemas UNIX experientes usam
	    FreeBSD como seu único sistema operacional para
	    <span class="foreignphrase"><em class="foreignphrase">desktop</em></span>.</p><p>Se você está migrando para FreeBSD a
	    partir de algum outro ambiente UNIX, provavelmente
	    já sabe quase tudo o que precisa pra começar
	    a se envolver com o sistema.  Entretanto, se o seu
	    histórico em computação envolveu
	    somente sistemas operacionais baseados em ambientes
	    gráficos como Windows e antigos Mac OS, será
	    necessário investir algum tempo a mais aprendendo a
	    maneira UNIX de fazer as coisas.  Este
	    <code class="literal">FAQ</code> e o <a class="link" href="../handbook/index.html" target="_top">Manual do FreeBSD</a>
	    são excelentes formas de começar sua
	    jornada.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp61610960"></a><a id="why-called-FreeBSD"></a><p><strong>1.5.</strong></p></td><td align="left" valign="top"><p>Por que o sistema se chama FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Pode ser utilizado sem nenhum encargo
		monetário, inclusive para uso comercial.</p></li><li class="listitem"><p>O código fonte completo do sistema
		operacional é livremente distribuído, e
		pode ser adquirido gratuitamente.  O menor
		número possível de
		restrições foram colocadas sobre o uso
		do sistema, sua distribuição e sua
		incorporação à outro projeto
		(comercial ou não).</p></li><li class="listitem"><p>Qualquer pessoa que tiver feito alguma
		correção ou aprimoramento do
		código do sistema pode livremente enviar suas
		alterações e ter seu código
		adicionado à árvore de código
		fonte do sistema (obviamente sujeito a prévias
		análises).</p></li></ul></div><p>É importante ressaltar que a palavra de origem
	    inglesa <span class="quote">&#8220;<span class="quote">free</span>&#8221;</span> em português pode ser
	    traduzida como <span class="quote">&#8220;<span class="quote">livre</span>&#8221;</span> e
	    <span class="quote">&#8220;<span class="quote">gratuito</span>&#8221;</span>.  Além disso, a palavra
	    <span class="quote">&#8220;<span class="quote">free</span>&#8221;</span> está sendo usada aqui com dois
	    significados: <span class="quote">&#8220;<span class="quote">sem custo</span>&#8221;</span> e <span class="quote">&#8220;<span class="quote">você
	      pode fazer o que quiser</span>&#8221;</span>.  <span class="quote">&#8220;<span class="quote">Free</span>&#8221;</span> no
	    nome do sistema operacional remete aos dois significados
	    da palavra.  O sistema pode ser utilizado <span class="quote">&#8220;<span class="quote">sem
	      nenhum custo</span>&#8221;</span>, e pode ser utilizado <span class="quote">&#8220;<span class="quote">da
	      forma que você quiser</span>&#8221;</span>.  Exceto por algumas
	    poucas coisinhas que você não pode fazer com
	    o FreeBSD (por exemplo, fingir que foi você quem o
	    escreveu), você pode realmente fazer o que bem
	    entender com o sistema.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp61638608"></a><a id="latest-version"></a><p><strong>1.6.</strong></p></td><td align="left" valign="top"><p>Qual a versão mais recente do FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>A versão <a class="link" href="ftp://ftp.FreeBSD.org/pub/FreeBSD/releases/i386/10.1-RELEASE/" target="_top">10.1</a>
	    é a versão <span class="emphasis"><em>RELEASE</em></span> mais
	    recente;  lançada em November 2014.  Esta
	    também é a versão
	    <span class="emphasis"><em>STABLE</em></span> mais recente.</p><p>Resumidamente, <span class="emphasis"><em>-STABLE</em></span> é a
	    série voltada para Provedores de Serviço de
	    Internet, usuários corporativos, ou qualquer
	    usuário que deseje estabilidade e um número
	    mínimo de alterações e novas
	    características adotadas do
	    <span class="foreignphrase"><em class="foreignphrase">snapshot</em></span>
	    <span class="emphasis"><em>-CURRENT</em></span>.  Lançamentos podem
	    vir de qualquer um dos ramos de desenvolvimento;  a
	    série <span class="emphasis"><em>-CURRENT</em></span>, todavia,
	    deveria ser utilizada apenas por usuários
	    preparados para um ambiente em constante
	    modificação, instável em muitas de
	    suas características e extremamente sem garantias
	    (ao menos, quando comparado ao
	    <span class="emphasis"><em>-STABLE</em></span>).</p><p>Lançamentos são realizados <a class="link" href="#release-freq" title="1.9.">de alguns em alguns meses</a>.
	    Muitos usuários mantém o código fonte
	    de seus sistemas em mais sincronia com a árvore de
	    desenvolvimento do FreeBSD (veja as perguntas sobre <a class="link" href="#current" title="1.7.">FreeBSD-CURRENT</a> e <a class="link" href="#stable" title="1.8.">FreeBSD-STABLE</a>) que isto,  fazer
	    isto é uma demonstração de interesse
	    e compromisso visto que o código fonte sofre
	    constantes modificações.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp61662032"></a><a id="current"></a><p><strong>1.7.</strong></p></td><td align="left" valign="top"><p>O que é FreeBSD-CURRENT?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><a class="link" href="../handbook/cutting-edge.html#CURRENT" target="_top">FreeBSD-CURRENT</a>
	    é a versão de desenvolvimento do sistema
	    operacional, que brevemente se tornará a
	    série 5.0-<code class="literal">RELEASE</code>.  Exatamente
	    por ser uma série de desenvolvimento, e portanto
	    sem garantias de estabilidade, o uso desse sistema
	    operacional é de interesse exclusivo de
	    desenvolvedores que trabalham no sistema, usuários
	    extremamente experientes que acompanham e analisam
	    (testam) o novo sistema ou daqueles que o fazem por
	    <span class="foreignphrase"><em class="foreignphrase">hobby</em></span>.  Veja a <a class="link" href="../handbook/cutting-edge.html#CURRENT" target="_top">seção
	      relevante</a> no <a class="link" href="../handbook/index.html" target="_top">Manual do FreeBSD</a>.</p><p>Se você não tem familiaridade com o
	    sistema operacional, não é um usuário
	    experiente ou não consegue distinguir a
	    diferença entre um problema de verdade e um
	    problema temporário, então é
	    desaconselhável que você use o
	    FreeBSD-CURRENT.  Essa série, as vezes, evolui de
	    forma extremamente rápida, e pode se tornar
	    extremamente instável e subutilizável por
	    vários dias seguidos.  Usuários do
	    FreeBSD-CURRENT devem ser capazes de analisar qualquer
	    problema no sistema, e apenas relatar a falha se o
	    problema tratar-se de um erro ou um engano no
	    desenvolvimento do mesmo ao invés de
	    <span class="quote">&#8220;<span class="quote">pequenos problemas temporários de
	      instabilidade
	      (<span class="foreignphrase"><em class="foreignphrase">glitches</em></span>)</span>&#8221;</span>.
	    Perguntas sobre o porquê de <span class="quote">&#8220;<span class="quote">make world
	      produzir erros a respeito de grupos</span>&#8221;</span> são
	    devidamente ignoradas ou escrachadas na lista de
	    discussão da série -CURRENT.</p><p>Diariamente, <a class="link" href="../../../../releases/snapshots.html" target="_top"><span class="foreignphrase"><em class="foreignphrase">snapshots</em></span></a>
	    são lançados baseados no estado atual de
	    desenvolvimento dos ramos -CURRENT e -STABLE.  Atualmente,
	    distribuições ocasionais de
	    <span class="foreignphrase"><em class="foreignphrase">snapshots</em></span> estão
	    sendo disponibilizadas.  Os objetivos por trás do
	    lançamento de cada
	    <span class="foreignphrase"><em class="foreignphrase">snapshot</em></span> são:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Testar a versão mais recente do programa de
		instalação.</p></li><li class="listitem"><p>Dar a oportunidade para aqueles que querem usar o
		-CURRENT ou o -STABLE - mas não tem tempo ou
		não tem uma conexão Internet
		rápida o suficiente para estarem diariamente
		sincronizados com a versão mais atualizada do
		código no projeto.</p></li><li class="listitem"><p>Manter um ponto de referência fixo, em
		relação ao código em
		desenvolvimento e o código disponível
		até então, para o caso de nós
		seriamente <span class="quote">&#8220;<span class="quote">quebrarmos</span>&#8221;</span> alguma coisa.
		(Embora CVS normalmente previna que desastres
		horríveis como este aconteçam :)</p></li><li class="listitem"><p>Garantir que todas as novas características
		e funções do sistema que precisem ser
		testadas, tenham o maior número possível
		de pessoas potencialmente testando-as.</p></li></ul></div><p>Sob nenhuma circunstância, nenhum
	    <span class="foreignphrase"><em class="foreignphrase">snapshot</em></span> -CURRENT pode ser
	    considerado software de <span class="quote">&#8220;<span class="quote">qualidade de
	      produção</span>&#8221;</span> para qualquer que seja o
	    propósito, e por mais maduro que o código
	    -CURRENT atual possa parecer.  Se a intenção
	    é usar um sistema estável e completamente
	    testado, você deverá usar apenas
	    lançamentos, ou
	    <span class="foreignphrase"><em class="foreignphrase">snapshots</em></span> do ramo
	    -STABLE.</p><p>Os <span class="foreignphrase"><em class="foreignphrase">snapshots</em></span>
	    lançados podem ser diretamente acessados em <a class="link" href="ftp://current.FreeBSD.org/pub/FreeBSD/" target="_top">
	      ftp://current.FreeBSD.org/pub/FreeBSD/</a> para a
	    série 5.0-CURRENT e em <a class="link" href="ftp://releng4.FreeBSD.org/pub/FreeBSD" target="_top">
	      releng4.FreeBSD.org</a> para
	    <span class="foreignphrase"><em class="foreignphrase">snapshots</em></span> da série
	    4-STABLE.  <span class="foreignphrase"><em class="foreignphrase">Snapshots</em></span> para a
	    série 3-STABLE não estão sendo
	    produzidos na data em que este documento foi escrito (Maio
	    de 2000).</p><p>Normalmente, os snapshots são gerados uma vez
	    ao dia, para todas as séries em desenvolvimento
	    ativo.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp61723344"></a><a id="stable"></a><p><strong>1.8.</strong></p></td><td align="left" valign="top"><p>Qual o conceito por trás do
	    FreeBSD-STABLE?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Nos primórdios do projeto quando o FreeBSD
	    2.0.5 foi lançado, a árvore de
	    desenvolvimento do sistema foi dividida em dois ramos.  Um
	    ramo foi chamado <a class="link" href="../handbook/current-stable.html#STABLE" target="_top">-STABLE</a>
	    e o outro <a class="link" href="../handbook/current-stable.html#CURRENT" target="_top">-CURRENT</a>.
	    O FreeBSD-STABLE é direcionado para Provedores de
	    Serviços de Internet e para outros empreendimentos
	    comerciais que não pretendem conviver com
	    mudanças bruscas ou testar novas
	    características experimentais do sistema.  Ele
	    recebe apenas código que tenha sido totalmente
	    testado, correções de problemas e outras
	    pequenas inovações incrementais.  O
	    FreeBSD-CURRENT, por outro lado, tem sido uma linha sem
	    interrupções visando ao 5.0-RELEASE (e
	    além) desde o lançamento 2.0.  Se uma
	    pequena ilustração em arte ASCII ajudasse,
	    isto seria o que pareceria:</p><pre class="programlisting">                 2.0
                  |
                  |
                  |  [2.1-STABLE]
 *BRANCH*       2.0.5 -&gt; 2.1 -&gt; 2.1.5 -&gt; 2.1.6 -&gt; 2.1.7.1  [2.1-STABLE termina]
                  |                            (Mar 1997)
                  |
                  |
                  |  [2.2-STABLE]
 *BRANCH*       2.2.1 -&gt; 2.2.2-RELEASE -&gt; 2.2.5 -&gt; 2.2.6 -&gt; 2.2.7 -&gt; 2.2.8 [fim]
                  |       (Mar 1997)    (Out 97) (Abr 98) (Jul 98) (Dez 98)
                  |
                  |
               3.0-SNAPs  (inicio Q1 1997)
                  |
                  |
               3.0-RELEASE (Out 1998)
                  |
                  |  [3.0-STABLE]
 *BRANCH*      3.1-RELEASE  (Fev 1999) -&gt; 3.2 -&gt; 3.3 -&gt; 3.4 -&gt; 3.5 -&gt; 3.5.1
                  |                     (Mai 1999) (Set 1999) (Dez 1999) (Jun 2000) (Jul 2000)
                  |
                  |  [4.0-STABLE]
 *BRANCH*        4.0  (Mar 2000) -&gt; 4.1 -&gt; 4.1.1 -&gt; 4.2 -&gt; 4.3 -&gt; 4.4 -&gt; ... Lançamentos 4.x futuro ...
                  |
                  |              (Jul 2000)   (Set 2000)   (Nov 2000)
                 \|/
                  +
          [5.0-CURRENT continua]</pre><p>O ramo 2.2-STABLE saiu de produção com o
	    lançamento 2.2.8.  O ramo 3-STABLE saiu de
	    produção com o lançamento 3.5.1, que
	    foi também o último -RELEASE 3.X.  As
	    únicas modificações ainda realizadas
	    em quaisquer destes ramos são praticamente
	    relacionados apenas à correções de
	    segurança.</p><p>O 4-STABLE é o ramo -STABLE em desenvolvimento
	    ativo.  A versão mais recente da série
	    4-STABLE é 10.1-RELEASE, lançada em
	    November 2014.</p><p>O ramo 5-CURRENT está lentamente progredindo
	    para o que se tornará o FreeBSD 5.0-RELEASE e
	    além.  Veja <a class="link" href="#current" title="1.7.">O que é
	      FreeBSD-CURRENT?</a> para obter mais
	    informações sobre este ramo.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp61736528"></a><a id="release-freq"></a><p><strong>1.9.</strong></p></td><td align="left" valign="top"><p>Quando são realizados lançamentos
	    FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>O Time de engenharia de Lançamento
  <code class="email">&lt;<a xmlns="" class="email" href="mailto:re@FreeBSD.org">re@FreeBSD.org</a>&gt;</code> lança uma nova versão do
	    FreeBSD, em média, a cada 4 meses.  As datas de
	    lançamento são anunciadas com uma certa
	    antecedência, de forma que os desenvolvedores
	    trabalhando no sistema saibam quando seus projetos
	    precisam estar terminados e testados.  Um período
	    de testes antecede cada novo lançamento, de forma a
	    garantir que a adição de novas
	    características não comprometa a
	    estabilidade do lançamento.  Muitos usuários
	    consideram tais precauções uma das
	    principais vantagens do projeto FreeBSD, mesmo admitindo
	    que, as vezes, esperar que as novidades sejam adotadas
	    pelo ramo -STABLE possa ser um pouco frustante.</p><p>Mais informações sobre o processo de
	    engenharia de lançamento (incluindo a
	    programação de novos lançamentos)
	    podem ser obtidas nas páginas de <a class="link" href="http://www.FreeBSD.org/releng/index.html" target="_top">engenharia
	      de lançamento</a> no sítio WWW do
	    FreeBSD.</p><p>Para as pessoas que precisam, ou desejam um pouco mais
	    de emoção,
	    <span class="foreignphrase"><em class="foreignphrase">snapshots</em></span> binários
	    são feitos diariamente como discutido acima.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp61755600"></a><a id="responsible"></a><p><strong>1.10.</strong></p></td><td align="left" valign="top"><p>Quem é responsável pelo FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>As principais decisões relacionadas ao Projeto
	    FreeBSD, como os objetivos e direção geral
	    do projeto, e quem tem permissão para adicionar
	    código à árvore de código,
	    são tomadas por um <a class="link" href="../../articles/contributors/article.html#STAFF-CORE" target="_top">grupo
	      central (<code class="literal">core team</code>)</a> composto
	    de 9 pessoas.  Existe um grupo muito maior, composto de
	    mais de 200 desenvolvedores, denominados <a class="link" href="../../articles/contributors/article.html#STAFF-COMMITTERS" target="_top"><span class="foreignphrase"><em class="foreignphrase">committers</em></span></a>,
	    que tem autorização para fazer
	    alterações diretamente na árvore de
	    código do FreeBSD.</p><p>Entretanto, a maioria das alterações
	    não triviais são previamente discutidas nas
	    <a class="link" href="#mailing" title="2.3."> listas de
	      discussões</a>, e não existe
	    restrição quanto a quem pode participar das
	    discussões.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp61774928"></a><a id="where-get"></a><p><strong>1.11.</strong></p></td><td align="left" valign="top"><p>Onde posso obter o FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Todo lançamento significativo do FreeBSD
	    está disponível via FTP anônimo no
	    <a class="link" href="ftp://ftp.FreeBSD.org/pub/FreeBSD/" target="_top">sítio
	      FTP do Projeto FreeBSD</a>:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Para obter o lançamento 3.X-STABLE
		corrente, 3.5.1-RELEASE, veja <a class="link" href="ftp://ftp.FreeBSD.org/pub/FreeBSD/releases/i386/3.5.1-RELEASE/" target="_top">diretório
		  3.5.1-RELEASE</a>.</p></li><li class="listitem"><p>O lançamento 4-STABLE corrente,
		10.1-RELEASE pode ser encontrado no <a class="link" href="ftp://ftp.FreeBSD.org/pub/FreeBSD/releases/i386/10.1-RELEASE/" target="_top">diretório
		  10.1-RELEASE</a>.</p></li><li class="listitem"><p><a class="link" href="ftp://releng4.FreeBSD.org/pub/FreeBSD/" target="_top"><span class="foreignphrase"><em class="foreignphrase">Snapshots</em></span>
		  4.X</a> são normalmente criados uma vez
		ao dia.</p></li><li class="listitem"><p>Lançamentos <a class="link" href="ftp://current.FreeBSD.org/pub/FreeBSD/" target="_top"><span class="foreignphrase"><em class="foreignphrase">Snapshot</em></span>
		  5.0</a> são feitos uma vez ao dia no ramo
		<a class="link" href="#current" title="1.7.">-CURRENT</a>, útil
		apenas tanto para aqueles que gostam de viver no
		limite quanto para aqueles que precisam usar a
		versão mais recente possível com todas
		as últimas características; sejam pessoas
		conduzindo testes ou desenvolvedores.</p></li></ul></div><p>Informação sobre como obter o FreeBSD em
	    CD, DVD, e outras mídias, pode ser encontrada no
	    <a class="link" href="../handbook/mirrors.html" target="_top">Manual do FreeBSD</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp61808976"></a><a id="access-pr"></a><p><strong>1.12.</strong></p></td><td align="left" valign="top"><p>Como eu acesso o banco de dados de Relatórios
	    de Problemas?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>A base de dados de Relatórios de Problemas
	    é um banco de pedidos de alterações
	    realizados pelos usuários.  Todos os pedidos de
	    alteração já realizados podem ser
	    consultados (ou novos submetidos) através de
	    nossas interfaces PR WWW para <a class="link" href="http://www.FreeBSD.org/send-pr.html" target="_top">submeter
	    (novos pedidos)</a> e <a class="link" href="http://www.FreeBSD.org/cgi/query-pr-summary.cgi?query" target="_top">consultar
	      (já submetidos)</a>.
	    O comando <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=send-pr&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">send-pr</span>(1)</span></a> também pode ser usado
	    para submeter relatórios de problema e pedidos
	    de alteração por meio de correio
	    eletrônico.</p><p>Antes de enviar um relatório de problema, por
	    favor, leia o artigo <a class="link" href="../../articles/problem-reports/article.html" target="_top">Escrevendo
	      Relatórios de Problemas para o FreeBSD</a>,
	    que dá boas dicas de como escrever um bom
	    relatório de problema.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp61829712"></a><a id="become-web-mirror"></a><p><strong>1.13.</strong></p></td><td align="left" valign="top"><p>Como eu me torno um espelho do sítio WWW
	    FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Existam várias formas de espelhar o
	    sítio WWW do FreeBSD.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Você pode obter os arquivos já
		formatados a partir de um servidor CVSup FreeBSD
		usando o aplicativo <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/net/cvsup/pkg-descr">net/cvsup</a>.  O arquivo
		<code class="filename">/usr/share/examples/cvsup/www-supfile</code>
		oferece um exemplo de configuração do
		CVSup para espelhar o servidor WWW do projeto
		FreeBSD.</p></li><li class="listitem"><p>Você pode obter o código fonte do
		sítio WWW do projeto FreeBSD a partir de
		qualquer servidor FTP do projeto usando sua ferramento
		de espelhamento ftp favorita.  Considere que estes
		fontes devem ser processados para publicá-los
		em formato WWW tradicional.  Você pode
		começar a espelhar o projeto a partir de <a class="link" href="ftp://ftp.FreeBSD.org/pub/FreeBSD/FreeBSD-current/www" target="_top">ftp://ftp.FreeBSD.org/pub/FreeBSD/FreeBSD-current/www</a>.</p></li></ul></div></td></tr><tr class="question"><td align="left" valign="top"><a id="idp61842256"></a><a id="other-info-sources"></a><p><strong>1.14.</strong></p></td><td align="left" valign="top"><p>Que outras fontes de informações sobre o
	    FreeBSD existem?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Por gentileza, queira verificar a lista de <a class="link" href="http://www.FreeBSD.org/docs.html" target="_top">Documentação</a>
	    no sítio WWW principal <a class="link" href="http://www.FreeBSD.org" target="_top">FreeBSD</a>.</p></td></tr></tbody></table></div></div><div class="chapter"><div xmlns="" class="titlepage"><div><div><h1 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="support"></a>Capítulo 2. Documentação e Suporte</h1></div></div></div><div class="qandaset"><a id="idp61852496"></a><dl><dt>2.1. <a href="#idp61852752">Quais bons livros existem sobre FreeBSD?</a></dt><dt>2.2. <a href="#idp61859536">A documentação está
	    disponível em outros formatos, como texto puro
	    (ASCII) ou Postscript?</a></dt><dt>2.3. <a href="#idp62102224">Onde posso obter informações sobre as
	    listas de discussão FreeBSD?</a></dt><dt>2.4. <a href="#idp62113104">Que grupos de notícias (news
	      groups) existem sobre o FreeBSD?</a></dt><dt>2.5. <a href="#idp62132048">Existem canais de bate-papo retransmitido via Internet
	    (IRC) FreeBSD?</a></dt><dt>2.6. <a href="#idp62181968">Onde eu consigo treinamento em e suporte comercial ao
	    FreeBSD?</a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%" /><col /></colgroup><tbody><tr class="question"><td align="left" valign="top"><a id="idp61852752"></a><a id="books"></a><p><strong>2.1.</strong></p></td><td align="left" valign="top"><p>Quais bons livros existem sobre FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>O projeto FreeBSD produz um grande número de
	    documentos disponíveis em <a class="link" href="http://www.freebsd.org/docs.html" target="_top">http://www.FreeBSD.org/docs.html</a>.
	    Além destes, outros livros recomendados são
	    referenciados nas Bibliografias disponíveis ao
	    final deste <code class="literal">FAQ</code> e do
	    Manual do FreeBSD.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp61859536"></a><a id="doc-formats"></a><p><strong>2.2.</strong></p></td><td align="left" valign="top"><p>A documentação está
	    disponível em outros formatos, como texto puro
	    (ASCII) ou Postscript?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Claro.  A documentação pode ser obtida
	    em uma variedade de formatos e opções de
	    compressão no servidor FTP do FreeBSD, sob o
	    diretório <a class="link" href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/" target="_top">/pub/FreeBSD/doc/</a>.</p><p>A documentação é organizada em
	    diversas categorias, como:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>O nome do documento, como <code class="literal">faq</code>
		ou <code class="literal">Manual do FreeBSD</code>.</p></li><li class="listitem"><p>A codificação e língua do
		conteúdo do documento.  Tal
		categorização é baseada nos nomes
		de localização, que podem ser
		encontrados sob <code class="filename">/usr/share/locale</code>
		no seu FreeBSD.  Atualmente existem documentos nas
		seguintes línguas e
		codificações:</p><div class="informaltable"><table border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Nome</th><th>Significado</th></tr></thead><tbody><tr><td><code class="literal">en_US.ISO8859-1</code></td><td>Inglês Americano</td></tr><tr><td><code class="literal">de_DE.ISO8859-1</code></td><td>Alemão</td></tr><tr><td><code class="literal">es_ES.ISO8859-1</code></td><td>Espanhol</td></tr><tr><td><code class="literal">fr_FR.ISO8859-1</code></td><td>Francês</td></tr><tr><td><code class="literal">ja_JP.eucJP</code></td><td>Japonês (codificação
			EUC)</td></tr><tr><td><code class="literal">ru_RU.KOI8-R</code></td><td>Russo (codificação
			KOI8-R)</td></tr><tr><td><code class="literal">zh_TW.Big5</code></td><td>Chinês (codificação
			Big5)</td></tr></tbody></table></div><div xmlns="" class="note"><h3 class="admontitle">Nota: </h3><p xmlns="http://www.w3.org/1999/xhtml">Alguns documentos podem não estar
		  disponíveis em todas as
		  línguas.</p></div></li><li class="listitem"><p>Formato da documentação.  A
		documentação é produzida em
		vários formatos.  Cada qual com suas vantagens
		e desvantagens.  Alguns formatos são mais
		apropriados para leitura on-line, enquanto outros
		são mais agradéveis estéticamente
		em formato impresso.  Disponibilizar a
		documentação em todos estes formatos,
		garante que os leitores poderão sempre ler os
		trechos de seu interesse, tanto no monitor do seu
		computador quanto em papel impresso.  Atualmente os
		formatos disponíveis são:</p><div class="informaltable"><table border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Formato</th><th>Significado</th></tr></thead><tbody><tr><td><code class="literal">html-split</code></td><td>Uma série de pequenos documentos
			HTML, devidamente ligados.</td></tr><tr><td><code class="literal">html</code></td><td>Um único grande arquivo HTML
			contendo todo o documento.</td></tr><tr><td><code class="literal">pdb</code></td><td>Formato de banco de dados pra Palm Pilot,
			para ser usado com o visualizador <a class="link" href="http://www.iSilo.com/" target="_top">iSilo</a>.</td></tr><tr><td><code class="literal">pdf</code></td><td>PDF (Formato de Documento
			Portável) da Adobe</td></tr><tr><td><code class="literal">ps</code></td><td>Postscript</td></tr><tr><td><code class="literal">rtf</code></td><td>RTF (Formato de Texto Enriquecido) da
			Microsoft<a href="#ftn.idp61965904" class="footnote" id="idp61965904"><sup class="footnote">[a]</sup></a>
		      </td></tr><tr><td><code class="literal">txt</code></td><td>Texto puro</td></tr></tbody><tbody class="footnotes"><tr><td colspan="2"><div id="ftn.idp61965904" class="footnote"><p><a href="#idp61965904" class="para"><sup class="para">[a] </sup></a>A númeração de
			    página não é
			    automaticamente atualizada quando este
			    tipo de arquivo é aberto no Word.
			    Digite <span class="keycap"><strong>CTRL</strong></span>+<span class="keycap"><strong>A</strong></span>,
			    <span class="keycap"><strong>CTRL</strong></span>+<span class="keycap"><strong>END</strong></span>,
			    <span class="keycap"><strong>F9</strong></span> depois de abrir o
			    documento no Word, para atualizar a
			    numeração das
			    páginas.</p></div></td></tr></tbody></table></div></li><li class="listitem"><p>As técnicas de compressão e
		empacotamento dos arquivos.  Atualmente, 3 destes
		formatos estão em uso:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Para o formato <code class="literal">html-split</code>,
		    os arquivos são todos empacotados com
		    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=tar&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">tar</span>(1)</span></a>.  O resultado é um arquivo
		    <code class="literal">.tar</code> que é
		    posteriormente comprimido usando as
		    técnicas de compressão detalhadas a
		    seguir.</p></li><li class="listitem"><p>Todos os outros formatos geram apenas um
		    arquivo, nomeado
		    <code class="filename">book.formato</code>
		    (por exemplo, <code class="filename">book.pdb</code>,
		    <code class="filename">book.html</code>, e outros).</p><p>Estes arquivos são, então
		    comprimidos utilizando três técnicas
		    de compressão:</p><div class="informaltable"><table border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Tipo</th><th>Descrição</th></tr></thead><tbody><tr><td><code class="literal">zip</code></td><td>Formato Zip.  Se você quiser
			    descomprimir este formato no FreeBSD,
			    será necessário instalar o
			    <code class="literal">port</code> <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/archivers/unzip/pkg-descr">archivers/unzip</a>
			    antes.</td></tr><tr><td><code class="literal">gz</code></td><td>Formato GNU Zip.  Para descomprimir
			    estes arquivos, use o comando
			    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=gunzip&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">gunzip</span>(1)</span></a> que faz parte do
			    FreeBSD.</td></tr><tr><td><code class="literal">bz2</code></td><td>Formato BZip2.  Esse formato é
			    menos popular que os outros, mas
			    geralmente produz arquivos menores.
			    Instale o <code class="literal">port</code>
			    <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/archivers/bzip2/pkg-descr">archivers/bzip2</a>
			    para descomprimir arquivos deste
			    formato.</td></tr></tbody></table></div><p>Portanto, o Manual do FreeBSD em formato
		    Postscript comprimido com o BZip2 será
		    armazenado como <code class="filename">book.ps.bz2</code>
		    sob o diretório
		    <code class="filename">handbook/</code>.</p></li><li class="listitem"><p>A documentação formatada
		    está disponível ainda como um pacote
		    FreeBSD.</p></li></ol></div></li></ul></div><p>Após escolher o formato e o mecanismo de
	    compressão, você deve decidir se vai ou
	    não pegar o documento em formato de
	    <span class="emphasis"><em>pacote</em></span> FreeBSD.</p><p>A vantagem de baixar e instalar os pacotes é
	    que a documentação pode então ser
	    gerenciada usando os comandos de gerenciamento de pacotes
	    FreeBSD, como <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pkg_add&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">pkg_add</span>(1)</span></a> e <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pkg_delete&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">pkg_delete</span>(1)</span></a>.</p><p>Se decidir baixar e instalar o pacote, então
	    você deve conhecer o nome do arquivo antes de
	    começar.  Os arquivos de
	    documentação-como-pacotes estão
	    estocados em um diretório chamado
	    <code class="filename">packages</code>.  Cada arquivo de pacote
	    segue o padrão de nome
	    <code class="filename">document-name.lang.encoding.format.tgz</code>.</p><p>Por exemplo, o <code class="literal">FAQ</code>, em
	    língua Inglesa e formato PDF, estará no
	    pacote de nome
	    <code class="filename">faq.en_US.ISO8859-1.pdf.tgz</code>.</p><p>Sabendo isto, você pode usar o seguinte comando
	    pra instalar o pacote contendo o <code class="literal">FAQ</code> na
	    língua Inglesa e formato PDF:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>pkg_add
	      ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/packages/faq.en_US.ISO8859-1.pdf.tgz</code></strong></pre><p>Depois disso, você pode usar o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pkg_info&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">pkg_info</span>(1)</span></a>
	    pra determinar onde o documento foi instalado.</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>pkg_info -f faq.en_US.ISO8859-1.pdf</code></strong>
Information for faq.en_US.ISO8859-1.pdf:

Packing list:
        Package name: faq.en_US.ISO8859-1.pdf
        CWD to /usr/share/doc/en_US.ISO8859-1/books/faq
File: book.pdf
        CWD to .
File: +COMMENT (ignored)
File: +DESC (ignored)</pre><p>Como pode ver, <code class="filename">book.pdf</code>
	    terá sido instalado sob
	    <code class="filename">/usr/share/doc/en_US.ISO8859-1/books/faq</code>.</p><p>Se você preferir não usar pacotes,
	    será necessário baixar os arquivos
	    comprimidos, depois descomprimí-los e copiar os
	    documentos apropriados para os lugares corretos.</p><p>Por exemplo, a versão do <code class="literal">FAQ</code>
	    dividido em vários arquivos HTML, comprimido usando
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=gzip&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">gzip</span>(1)</span></a>, pode ser encontrado no arquivo
	    <code class="filename">doc/en_US.ISO8859-1/books/faq/book.html-split.tar.gz</code>.
	    Para baixar e descomprimir aquele arquivo, você
	    deveria fazer o seguinte.</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>fetch ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/en_US.ISO8859-1/books/faq/book.html-split.tar.gz</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>gzip -d book.html-split.tar.gz</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>tar xvf book.html-split.tar</code></strong></pre><p>Será criada, então, uma série de
	    arquivos <code class="filename">.html</code>.  O principal arquivo
	    é chamado <code class="filename">index.html</code> contendo
	    o índice, material introdutório e links para
	    outras partes do documento.  Posteriormente, você
	    pode copiar ou mover esses arquivos pra onde você
	    quiser.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp62102224"></a><a id="mailing"></a><p><strong>2.3.</strong></p></td><td align="left" valign="top"><p>Onde posso obter informações sobre as
	    listas de discussão FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Você pode encontrar uma vasta gama de
	    informações na <a class="link" href="../handbook/eresources.html#ERESOURCES-MAIL" target="_top">seção
	      do Manual do FreeBSD sobre listas de
	      discussão</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp62113104"></a><a id="newsgroups"></a><p><strong>2.4.</strong></p></td><td align="left" valign="top"><p>Que grupos de notícias (<span class="foreignphrase"><em class="foreignphrase">news
	      groups</em></span>) existem sobre o FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Informações completas podem ser
	    encontradas na <a class="link" href="../handbook/eresources-news.html" target="_top">seção
	      do Manual do FreeBSD sobre grupos de notícias
	      (<span class="foreignphrase"><em class="foreignphrase">newsgroups</em></span>)</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp62132048"></a><a id="irc"></a><p><strong>2.5.</strong></p></td><td align="left" valign="top"><p>Existem canais de bate-papo retransmitido via Internet
	    (<acronym class="acronym">IRC</acronym>) FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Sim, a maioria das grandes redes de bate-papo
	    retransmitido via Internet (<acronym class="acronym">IRC</acronym>) tem um
	    canal de bate-papo sobre FreeBSD:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>O canal <code class="literal">#FreeBSD</code> na <a class="link" href="http://www.efnet.org/index.php" target="_top">EFNet</a>
		é essencialmente um fórum sobre FreeBSD,
		mas não entre no canal se você procura
		suporte técnico, nem se você está
		procurando uma maneira de evitar a leitura de
		páginas de manual ou fazer suas próprias
		pesquisas.  Este é essencialmente um canal de
		bate-papo geral.  Assuntos como sexo, esportes ou
		armas nucleares são tão comuns quanto
		FreeBSD no canal.  Lembre-se, Você Foi Avisado!
		Para conectar-se, use o servidor
		<code class="systemitem">irc.chat.org</code>.</p></li><li class="listitem"><p>O canal <code class="literal">#FreeBSDhelp</code> na <a class="link" href="http://www.efnet.org/index.php" target="_top">EFNet</a>
		é dedicado a suporte e auxilio de
		usuários de FreeBSD.  Os participantes neste
		canal são bem mais receptivos a perguntas que
		os do canal <code class="literal">#FreeBSD</code>.</p></li><li class="listitem"><p>O canal <code class="literal">#FreeBSD</code> na <a class="link" href="http://www.dal.net/" target="_top">DALNET</a> pode ser
		acessado em <code class="systemitem">irc.dal.net</code> nos Estados
		Unidos, e <code class="systemitem">irc.eu.dal.net</code> na
		Europa.</p></li><li class="listitem"><p>O canal <code class="literal">#FreeBSD</code> na <a class="link" href="http://www.undernet.org/" target="_top">UNDERNET</a> pode
		ser acessado em <code class="literal">us.undernet.org</code> nos
		Estados Unidos, e <code class="literal">eu.undernet.org</code>
		na Europa.  Partindo do princípio que esse
		é um canal de ajuda, esteja preparado para ler
		todos os documentos a que for referido.</p></li><li class="listitem"><p>O canal <code class="literal">#FreeBSD</code> na <a class="link" href="http://www.hybnet.net/" target="_top">HybNet</a>
		<span class="emphasis"><em>é</em></span> um canal de ajuda.  Uma
		lista de servidores pode ser encontrada no <a class="link" href="http://www.hybnet.net/" target="_top">sítio WWW da
		  HybNet</a>.</p></li></ul></div><p>Cada um destes canais é independente, e
	    exatamente por estarem em redes distintas, não
	    é conectada ou relacionada entre si.  Os estilos de
	    bate-papo em cada um dos canais são bastante
	    distintos, pode ser necessário testar cada um para
	    descobrir qual á mais adequado ao seu estilo
	    pessoal de bate-papo.  Como em toda rede de bate-papo
	    retransmitido via Internet (<acronym class="acronym">IRC</acronym>), nem
	    considere acessar os canais se você ofende-se
	    facilmente ou se você não se dá bem
	    com muita gente jovem (e alguns bem velhos) que usam as
	    mais irregulares formas de escrita e
	    conversação possível, quase sempre
	    assassinando sem o menor pudor todos os princípios
	    verbais - de qualquer língua que seja.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp62181968"></a><a id="training"></a><p><strong>2.6.</strong></p></td><td align="left" valign="top"><p>Onde eu consigo treinamento em e suporte comercial ao
	    FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>DaemonNews oferece treinamento em e suporte comercial
	    ao FreeBSD.  Mais informações podem ser
	    obtidas no sítio WWW <a class="link" href="http://www.bsdmall.com/" target="_top">BSD Mall</a>.</p><p>FreeBSD Services oferece suporte comercial ao FreeBSD
	    no Reino Unido (além de vender o FreeBSD em
	    mídia DVD).  Veja o <a class="link" href="http://www.freebsd-services.com" target="_top">sítio
	      WWW</a> deles para maiores
	    informações.</p><p>A FreeBSD Mall oferece suporte comercial ao FreeBSD.
	    Maiores informações podem ser obtidas no
	    <a class="link" href="http://www.freebsdmall.com/" target="_top">sítio
	      WWW deles</a>.</p><p>Qualquer outra organização que
	    ofereça treinamento em ou suporte ao FreeBSD deve
	    entrar em contato com o projeto para serem listadas
	    aqui.</p></td></tr></tbody></table></div></div><div class="chapter"><div xmlns="" class="titlepage"><div><div><h1 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="install"></a>Capítulo 3. Instalação</h1></div><div><span xmlns="http://www.w3.org/1999/xhtml" class="personname"><span class="firstname">Nik</span> <span class="surname">Clayton</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="affiliation"></span></div></div></div><div class="qandaset"><a id="idp62211408"></a><dl><dt>3.1. <a href="#idp62212432">De qual arquivo eu devo baixar o FreeBSD da
	    rede?</a></dt><dt>3.2. <a href="#idp62255184">O que eu devo fazer se as imagens de disquete
	    não couberem em um único disco?</a></dt><dt>3.3. <a href="#idp62281040">Onde estão as instruções para
	    instalar o FreeBSD?</a></dt><dt>3.4. <a href="#idp62299728">O que é preciso para usar o FreeBSD?</a></dt><dt>3.5. <a href="#idp62307152">Eu tenho apenas 4 MB de memória RAM.  Posso
	    usar o FreeBSD?</a></dt><dt>3.6. <a href="#idp62318672">Como eu crio meu próprio disquete de
	    instalação?</a></dt><dt>3.7. <a href="#idp62342480">O Windows 95/98 pode co-existir com o FreeBSD?</a></dt><dt>3.8. <a href="#idp62350416">O Windows 95/98 sobrescreveu meu gerenciador de
	    inicialização
	    (boot)! Como eu instalo ele
	    de volta?</a></dt><dt>3.9. <a href="#idp62396624">O meu IBM Thinkpad série A, T ou X trava
	    sempre, quando eu tento inicializar
	    (boot) o FreeBSD.  Como eu
	    resolvo isso?</a></dt><dt>3.10. <a href="#idp62519120">Posso instalar o FreeBSD em um disco com bad
	    blocks?</a></dt><dt>3.11. <a href="#idp62542800">Eu acabei de atualizar o sistema da série 3.X
	    para 4.X, e a minha primeira inicialização
	    (boot) falhou com a
	    mensagem bad sector table not
	      supported</a></dt><dt>3.12. <a href="#idp62553680">Como eu faço se um disco tem
	    informações criadas pelo
	    bad144 antes de atualizar o sistema, e
	    depois de atualizado para o FreeBSD 4.0 ou posterior, a
	    inicialização falha?</a></dt><dt>3.13. <a href="#idp62575312">Como eu removo o bad144 do meu
	    sistema anterior ao 4.X de forma que eu possa
	    atualizá-lo com segurança?</a></dt><dt>3.14. <a href="#idp62584272">Coisas estranhas acontecem quando inicio o sistema com
	    o disco de instalação!  O que está
	    acontecendo?</a></dt><dt>3.15. <a href="#idp62607568">Eu inicializei o FreeBSD a partir do meu CDROM ATAPI,
	    mas o programa de instalação diz que o CDROM
	    não foi encontrado.  Para onde ele foi?</a></dt><dt>3.16. <a href="#idp62622416">Posso instalar o FreeBSD no meu laptop via PLIP (IP em
	    Linha Paralela)?</a></dt><dt>3.17. <a href="#idp62631120">Qual geometria eu devo utilizar para um disco?</a></dt><dt>3.18. <a href="#idp62667472">Existem restrições quanto ao
	    particionamento de discos?</a></dt><dt>3.19. <a href="#idp62676048">O FreeBSD suporta programas gerenciadores de
	    discos?</a></dt><dt>3.20. <a href="#idp62703184">Quando eu inicio o FreeBSD, eu obtenho a mensagem
	    Missing Operating System.  O que
	    está acontecendo?</a></dt><dt>3.21. <a href="#idp62716624">Porque eu não consigo passar da tela
	    F? do gerenciador de
	    inicialização
	    (boot)?</a></dt><dt>3.22. <a href="#idp62725072">Eu preciso instalar todos os fontes do sistema
	    operacional?</a></dt><dt>3.23. <a href="#idp62749904">Eu preciso criar um
	    kernel
	    personalizado?</a></dt><dt>3.24. <a href="#idp62762448">Eu devo usar criptografia DES, Blowfish, ou MD5 para
	    senhas do sistema? Como eu defino qual delas o
	    usuário deve usar?</a></dt><dt>3.25. <a href="#idp62781648">Por que o disco de inicialização
	    (boot) inicia, mas trava na
	    tela Probing Devices...?</a></dt><dt>3.26. <a href="#idp62796368">Por que ocorre o erro panic: can't mount
	      root, quando eu reinicio o sistema, depois
	    de tê-lo instalado.</a></dt><dt>3.27. <a href="#idp62847696">Quais são as limitações de
	    memória?</a></dt><dt>3.28. <a href="#idp62857424">Qual a limitação para o sistema de
	    arquivos FFS?</a></dt><dt>3.29. <a href="#idp62915664">Por que a mensagem de erro
	    archsw.readin.failed me perturba
	    sempre, depois que eu recompilo e carrego um
	    kernel novo?</a></dt><dt>3.30. <a href="#idp62924496">Como eu atualizo meu sistema da série 3.X para 4.X?</a></dt><dt>3.31. <a href="#idp65334864">Onde estão essas
	    &#8220;especificações de
	      segurança&#8221;?</a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%" /><col /></colgroup><tbody><tr class="question"><td align="left" valign="top"><a id="idp62212432"></a><a id="floppy-download"></a><p><strong>3.1.</strong></p></td><td align="left" valign="top"><p>De qual arquivo eu devo baixar o FreeBSD da
	    rede?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Até a versão 3.1 era necessário
	    apenas um disquete para instalação do
	    FreeBSD, o disco era o
	    <code class="filename">floppies/boot.flp</code>.  Contudo, depois
	    que o 3.1 foi lançado, o Projeto adicionou ao
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> genérico o
	    suporte a uma grande variedade de dispositivos, de forma
	    que ele passou a consumir mais espaço.  Por este
	    motivo, desde a série 3.X são
	    necessários dois disquetes, o
	    <code class="filename">floppies/kernel.flp</code> e o
	    <code class="filename">floppies/mfsroot.flp</code>.  Essas imagens
	    precisam ser copiadas para disquetes, usando ferramentas
	    como o <code class="command">fdimage</code> ou o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dd&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">dd</span>(1)</span></a>.</p><p>Caso seja necessário baixar da rede a
	    distribuição do sistema (por exemplo, para
	    uma instalação por meio de um sistema de
	    arquivos DOS), você terá que obter as
	    seguintes estruturas da distribuição
	    padrão:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>bin/</p></li><li class="listitem"><p>manpages/</p></li><li class="listitem"><p>compat*/</p></li><li class="listitem"><p>doc/</p></li><li class="listitem"><p>src/ssys.*</p></li></ul></div><p>Para obter instruções completas sobre o
	    procedimento de instalação do FreeBSD e
	    maiores detalhes sobre os meios de
	    instalação, por gentileza, consulte a <a class="link" href="../handbook/install.html" target="_top">seção de
	      instalação</a> no
	    Manual do FreeBSD.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp62255184"></a><a id="floppy-image-too-large"></a><p><strong>3.2.</strong></p></td><td align="left" valign="top"><p>O que eu devo fazer se as imagens de disquete
	    não couberem em um único disco?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Um disquete de 3.5 polegadas (1,44 MB) armazena
	    até 1474560 bytes de dados.  O tamanho da imagem de
	    inicialização é de exatamente 1474560
	    bytes.</p><p>Erros comuns, cometidos na
	    preparação dos discos de
	    inicialização, são:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Baixar a imagem de disco via
		<acronym class="acronym">FTP</acronym> sem utilizar o modo de
		transferência
		<span class="emphasis"><em>binário</em></span>.</p><p>Alguns clientes de FTP - especialmente navegadores
		de Internet - costumam usar por padrão o modo
		de transferência <span class="emphasis"><em>ascii</em></span> nas
		sessões FTP, e para normalizar o arquivo de
		acordo com o sistema, eles tentam alterar os
		caracteres finais de cada linha do arquivo.
		Invariavelmente esse comportamento resulta em baixar
		uma imagem de inicialização
		(<span class="foreignphrase"><em class="foreignphrase">boot</em></span>) corrompida.
		Verifique o tamanho da imagem que você tem em
		mãos, se é exatamente do mesmo tamanho
		da imagem no servidor.  Caso o tamanho não seja
		<span class="emphasis"><em>exatamente</em></span> o mesmo, você
		pode suspeitar do arquivo que você
		baixou.</p><p>Para garantir que esse problema não ocorra,
		digite <span class="emphasis"><em>binary</em></span> na prompt de
		comando do seu cliente FTP, ou defina as
		preferências do programa para utilizar o modo
		binário.  Aí sim, faça baixe da
		rede a imagem de inicialização.</p></li><li class="listitem"><p>Usar o comando <code class="command">copy</code> do DOS (ou
		simplesmente copiar, por meio da Interface
		Gráfica do sistema) para transferir a imagem de
		inicialização para o disquete.</p><p>Programas como o <code class="command">copy</code>
		não vão funcionar para copiar a imagem
		de inicialização direto para o disquete,
		exatamente porque a imagem foi criada de forma que ela
		seja carregada diretamente.  A imagem tem o
		conteúdo completo que o disquete deve ter, com
		seus dados alocados trilha-a-trilha, e portanto
		não pode ser copiado para o disquete como um
		simples arquivo.  Você tem que copiar a imagem
		para o disquete usando alguma ferramenta de
		<span class="quote">&#8220;<span class="quote">cópia crua</span>&#8221;</span> (raw copy, como o
		<code class="command">fdimage</code> ou o
		<code class="command">rawrite</code>) como descrito no <a class="link" href="../handbook/install.html" target="_top">guia de
		  instalação do FreeBSD</a>.</p></li></ul></div></td></tr><tr class="question"><td align="left" valign="top"><a id="idp62281040"></a><a id="install-instructions-location"></a><p><strong>3.3.</strong></p></td><td align="left" valign="top"><p>Onde estão as instruções para
	    instalar o FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>As instruções de
	    instalação do FreeBSD podem ser encontradas
	    na <a class="link" href="../handbook/install.html" target="_top">seção de
	      instalação do FreeBSD no
	      Manual do FreeBSD</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp62299728"></a><a id="need-to-run"></a><p><strong>3.4.</strong></p></td><td align="left" valign="top"><p>O que é preciso para usar o FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Você vai precisar, no mínimo de um PC 386
	    com 5MB de memória RAM e no mínimo 60 MB em
	    disco.  Essa configuração permite o uso de
	    uma placa de vídeo MDA simples, mas para usar o
	    X11R6 é necessário uma placa de vídeo
	    VGA ou mais avançada.</p><p>Para mais informações consulte <a class="xref" href="#hardware" title="Capítulo 4. Compatibilidade de Hardware">Capítulo 4, <em>Compatibilidade de Hardware</em></a></p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp62307152"></a><a id="four-meg-ram-install"></a><p><strong>3.5.</strong></p></td><td align="left" valign="top"><p>Eu tenho apenas 4 MB de memória RAM.  Posso
	    usar o FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>O FreeBSD 2.1.7 foi a última versão do
	    sistema que rodava com apenas 4MB de memória.  A
	    partir do FreeBSD 2.2, é necessário no
	    mínimo 5MB de memória para usar o
	    sistema.</p><p>Praticamente todas as versões do FreeBSD podem
	    <span class="emphasis"><em>rodar</em></span> com 4MB de memória RAM,
	    contudo, a instalação do sistema operacional
	    não pode ser feita com apenas 4MB.  Você pode
	    colocar mais memória para o processo de
	    instalação do sistema, e depois de
	    instalado, voltar a máquina para apenas 4MB de
	    memória, ou como alternativa, instale o seu disco
	    rígido em uma máquina com mais de 4MB,
	    efetue a instalação do sistema, e depois
	    instale o seu disco de volta na máquina com apenas
	    4MB.</p><p>O FreeBSD 2.1.7 não irá instalar em
	    sistemas que usam 640 Kb de memória base + 3 MB de
	    memória extendida.  Se sua placa mãe pode
	    fazer o remapeamento da memória
	    <span class="quote">&#8220;<span class="quote">subutilizada</span>&#8221;</span> que vai sobrar dos 640kB da
	    região de 1MB, ai sim, você vai conseguir
	    usar o FreeBSD 2.1.7.  Entre no Setup da sua BIOS, procure
	    a opção ``remap'' e habilite-a.  Talvez
	    você tenha que desabilitar a opção de
	    ROM shadowing.  Com certeza é mais fácil
	    você conseguir mais 4MB apenas para a
	    instalação, compilar um
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> customizado e
	    portanto menor, e ai sim, tirar esses 4MB sobresalentes e
	    usar o sistema com apenas os 4MB originais.  Também
	    é possível instalar o FreeBSD 2.0.5 e depois
	    <span class="quote">&#8220;<span class="quote">atualizá-lo</span>&#8221;</span> para o 2.1.7 com a
	    opção ``upgrade'' disponível no
	    programa de instalação do FreeBSD
	    2.1.7.</p><p>Depois de instalado o sistema, você pode
	    compilar um <span class="foreignphrase"><em class="foreignphrase">kernel</em></span>
	    personalizado, que provavelmente irá permitir que o
	    sistema seja usado com 4MB de memória apenas.
	    Existem relatos de sucesso na utilização do
	    sistema com apenas 2MB de memória, contudo, nesse
	    caso é praticamente impossível usar alguma
	    outra aplicação junto ao sistema
	    operacional.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp62318672"></a><a id="custom-boot-floppy"></a><p><strong>3.6.</strong></p></td><td align="left" valign="top"><p>Como eu crio meu próprio disquete de
	    instalação?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Atualmente não existe uma forma de
	    <span class="emphasis"><em>simplesmente criar</em></span> um disco de
	    instalação personalizado.  Para criar um
	    disquete personalizado você terá que preparar
	    todo um novo <code class="literal">release</code>, o qual, aí
	    sim, teria instruções de
	    instalação.</p><p>Para montar um <code class="literal">release</code>
	    personalizado siga as instruções do artigo
	    de <a class="link" href="../../articles/releng/article.html" target="_top">Engenharia de
	      <code class="literal">Release</code></a> article.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp62342480"></a><a id="windows-coexist"></a><p><strong>3.7.</strong></p></td><td align="left" valign="top"><p>O Windows 95/98 pode co-existir com o FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Sim.  Primeiro você deve instalar o seu Windows,
	    e depois instalar o FreeBSD.  O gerenciador de
	    inicialização
	    (<span class="foreignphrase"><em class="foreignphrase">boot</em></span>) do FreeBSD vai ser
	    instalado na MBR do seu disco, e vai conseguir controlar o
	    inicialização entre o FreeBSD e seu Windows.
	    Se você instalar o Windows depois do FreeBSD, a
	    instalação dele irá sobrescrever o
	    setor de inicialização
	    (<span class="foreignphrase"><em class="foreignphrase">boot</em></span>) do seu disco, e
	    conseqüentemente seu gerenciador de
	    inicialização
	    (<span class="foreignphrase"><em class="foreignphrase">boot</em></span>), sem avisar ou pedir
	    qualquer confirmação.  Se esse for o caso,
	    leia a próxima seção.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp62350416"></a><a id="win95-damaged-boot-manager"></a><p><strong>3.8.</strong></p></td><td align="left" valign="top"><p>O Windows 95/98 sobrescreveu meu gerenciador de
	    inicialização
	    (<span class="foreignphrase"><em class="foreignphrase">boot</em></span>)! Como eu instalo ele
	    de volta?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Você pode reinstalar o gerenciador de
	    inicialização
	    (<span class="foreignphrase"><em class="foreignphrase">boot</em></span>) do FreeBSD de uma
	    das 3 maneiras:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Sob o DOS, entre no diretório tools/ da sua
		distribuição do FreeBSD (seu CDROM por
		exemplo) e procure o programa
		<code class="filename">bootinst.exe</code>.  Depois, execute-o
		da seguinte forma:</p><pre class="screen"><code class="prompt">...\TOOLS&gt;</code> <strong class="userinput"><code>bootinst.exe boot.bin</code></strong></pre><p>e o gerenciador de inicialização
		(<span class="foreignphrase"><em class="foreignphrase">boot</em></span>) será
		reinstalado.</p></li><li class="listitem"><p>Faça a inicialização do
		FreeBSD pelos disquetes de instalação ou
		pelo CDROM novamente.  Entre na opção
		"Custom" do menu de
		instalação, escolha a o ítem de
		partições (Partition), selecione o drive
		do disco que continha o seu gerenciador de
		inicialização
		(<span class="foreignphrase"><em class="foreignphrase">boot</em></span>) (normalmente, se
		trata do primeiro disco) e então você
		entra no editor de partições.  Não
		faça nenhuma alteração, apenas
		aperte a tecla W (Write).  O programa de
		instalação irá pedir a
		confirmação, se você quer gravar
		suas informações mesmo sem ter feito
		nenhuma alteração.  Escolha Sim.  O
		programa irá perguntar se você deseja
		instalar o gerenciador de inicialização
		(<span class="foreignphrase"><em class="foreignphrase">boot</em></span>) do FreeBSD ou se
		você deseja deixar o setor de
		inicialização
		(<span class="foreignphrase"><em class="foreignphrase">boot</em></span>) intacto (ou
		instalar um setor de inicialização
		(<span class="foreignphrase"><em class="foreignphrase">boot</em></span>) padrão)
		exatamente como no instante da primeira
		instalação do FreeBSD.  Escolha
		<span class="quote">&#8220;<span class="quote">Boot Manager</span>&#8221;</span>.  Agora o gerenciador de
		inicialização
		(<span class="foreignphrase"><em class="foreignphrase">boot</em></span>) será
		reinstalado no disco.  Saia do programa de
		instalação e reinicie o processo de
		inicialização pelo HD
		normalmente.</p></li><li class="listitem"><p>Inicie o FreeBSD com o disquete (ou CD) de
		inicialização tradicional, escolha a
		opção <span class="quote">&#8220;<span class="quote">Fixit</span>&#8221;</span> no menu do
		sysinstall.  Escolha entre o disquete de
		correção ou o segundo CDROM (a
		opção <span class="quote">&#8220;<span class="quote">live</span>&#8221;</span> na
		distribuição padrão do FreeBSD)
		no menu a seguir, e entre na shell de
		correção do sistema.  Em seguida execute
		o comando:</p><pre class="screen"><code class="prompt">Fixit#</code> <strong class="userinput"><code>fdisk -B -b /boot/boot0 bootdevice</code></strong></pre><p>substituindo <em class="replaceable"><code>bootdevice</code></em>
		pela device controladora do seu disco, como por
		exemplo, <code class="filename">ad0</code> (para o primeiro
		disco IDE),<code class="filename">ad4</code> (para o
		primeiro disco IDE na controladora secundária),
		<code class="filename">da0</code> (para o primeiro disco
		SCSI), etc.</p></li></ul></div></td></tr><tr class="question"><td align="left" valign="top"><a id="idp62396624"></a><a id="boot-on-thinkpad"></a><p><strong>3.9.</strong></p></td><td align="left" valign="top"><p>O meu IBM Thinkpad série A, T ou X trava
	    sempre, quando eu tento inicializar
	    (<span class="foreignphrase"><em class="foreignphrase">boot</em></span>) o FreeBSD.  Como eu
	    resolvo isso?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Um bug nas primeiras versões da BIOS da IBM
	    nessas máquinas, erroneamente identifica as
	    partições FreeBSD como
	    partições FAT especiais.  Quando a BIOS
	    tenta reconhecer a partição FreeBSD, o
	    sistema trava.</p><p>De acordo com a IBM<a href="#ftn.idp62402512" class="footnote" id="idp62402512"><sup class="footnote">[1]</sup></a>,
	    os seguintes modelos/BIOS tem esse problema
	    corrigido:</p><div class="informaltable"><table border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Modelo</th><th>Revisão da BIOS</th></tr></thead><tbody><tr><td>T20</td><td>IYET49WW ou posterior</td></tr><tr><td>T21</td><td>KZET22WW ou posterior</td></tr><tr><td>A20p</td><td>IVET62WW ou posterior</td></tr><tr><td>A20m</td><td>IWET54WW ou posterior</td></tr><tr><td>A21p</td><td>KYET27WW ou posterior</td></tr><tr><td>A21m</td><td>KXET24WW ou posterior</td></tr><tr><td>A21e</td><td>KUET30WW</td></tr></tbody></table></div><p>Existem relatos de que as revisões posteriores
	    das BIOS IBM re-introduziram esse bug.  <a class="link" href="http://www.FreeBSD.org/cgi/getmsg.cgi?fetch=200565+208320+/usr/local/www/db/text/2001/freebsd-mobile/20010429.freebsd-mobile" target="_top">Essa
	      mensagem</a>  enviada por Jacques Vidrine para a
	    <a class="link" href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-mobile" target="_top">lista de discussão de 
  temas específicos ao uso do FreeBSD em notebooks e demais 
  equipamentos móveis.</a> descreve uma série de procedimentos que
	    podem funcionar no seu laptop IBM, caso seja uma
	    versão um pouco mais nova, e que não consiga
	    inicializar (<span class="foreignphrase"><em class="foreignphrase">boot</em></span>) o
	    FreeBSD corretamente.  Você pode ainda fazer uma
	    atualização ou desatualização
	    (upgrade ou downgrade) da BIOS.</p><p>Se a BIOS é mais antiga, e você
	    não considera sua atualização, existe
	    uma opção que pode sanar seu problema.  A
	    instalação do FreeBSD pode ser feita
	    alterando-se a identificação da
	    partição (partition ID) do sistema, e depois
	    instalar novos setores de inicialização
	    (<span class="foreignphrase"><em class="foreignphrase">boot</em></span>) que podem controlar
	    uma partition ID diferente.</p><p>O primeiro passo é restaurar o seu laptop ao
	    ponto onde ele pode fazer os auto-testes, ou seja, os
	    testes básicos de I/O da BIOS.  Para fazer isso,
	    basta ligar o computador de forma que ele não
	    consiga encontrar a partição primária
	    do FreeBSD.  A maneira mais simples de faze-lo, é
	    retirando o disco rígido do seu laptop, e
	    temporariamente ligando-o em um ThinkPad mais antigo (como
	    oThinkPad 600) ou em um PC comum, com um cabo de
	    conversão apropriado.  Uma vez feito isso, basta
	    apagar a partição FreeBSD e colocar o disco
	    de volta no laptop.  Agora sim, o ThinkPad deve estar de
	    volta ao estado onde ele pode reconhecer o disco.</p><p>Com a máquina funcionando, basta seguir as
	    próximas instruções para fazer o seu
	    FreeBSD instalar:</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Baixe da rede os arquivos
		<code class="filename">boot1</code> e
		<code class="filename">boot2</code> no site <a class="link" href="http://people.FreeBSD.org/~bmah/ThinkPad/" target="_top">http://people.FreeBSD.org/~bmah/ThinkPad/</a>.
		Coloque esses arquivos em algum lugar onde você
		possa acessá-los posteriormente.</p></li><li class="step"><p>Instale o FreeBSD normalmente no ThinkPad.
		<span class="emphasis"><em>Não</em></span> use o modo
		<code class="literal">Dangerously Dedicated</code>.
		<span class="emphasis"><em>Não</em></span> reinicie o sistema
		quando o processo de instalação for
		concluído.</p></li><li class="step"><p>Vá para a <span class="quote">&#8220;<span class="quote">Shell Holográfica
		  de Emergência</span>&#8221;</span> (<span class="keycap"><strong>ALT</strong></span>+<span class="keycap"><strong>F4</strong></span>) ou inicie uma shell
		de recuperação -
		<span class="quote">&#8220;<span class="quote">fixit</span>&#8221;</span></p></li><li class="step"><p>Use o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=fdisk&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">fdisk</span>(8)</span></a> para alterar a partition ID de
		<code class="literal">165</code> para <code class="literal">166</code>
		(166 é o ID usado pelo OpenBSD).</p></li><li class="step"><p>Coloque os arquivos <code class="filename">boot1</code> e
		<code class="filename">boot2</code> no sistema de arquivos
		local.</p></li><li class="step"><p>Use o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=disklabel&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">disklabel</span>(8)</span></a> para escrever o
		<code class="filename">boot1</code> e o
		<code class="filename">boot2</code> na sua
		partição FreeBSD.</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>disklabel -B -b boot1 -s boot2 ad0sn</code></strong></pre><p><em class="replaceable"><code>n</code></em> é o
		número da partição onde o FreeBSD
		está instalado.</p></li><li class="step"><p>Reinicie o sistema.  O gerenciador de
		inicialização
		(<span class="foreignphrase"><em class="foreignphrase">boot</em></span>)
		oferecerá a opção de iniciar o
		<code class="literal">OpenBSD</code>, mas na verdade essa
		opção estará iniciando o
		FreeBSD.</p></li></ol></div><p>Agora, se você quer manter os sistemas
	    operacionais OpenBSD e FreeBSD no mesmo laptop ThinkPad,
	    pode considerar isso um exercício prático
	    que fica a critério do leitor.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp62519120"></a><a id="install-bad-blocks"></a><p><strong>3.10.</strong></p></td><td align="left" valign="top"><p>Posso instalar o FreeBSD em um disco com bad
	    blocks?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Até a versão 3.0, o FreeBSD tinha um
	    utilitário chamado <code class="command">bad144</code>, que
	    automaticamente remapeava os bad blocks.  Atualmente, os
	    discos IDE modernos são capazes de fazer isso
	    sozinhos, portanto o <code class="command">bad144</code> foi
	    retirado da árvore do FreeBSD.  Se sua
	    intenção é instalar o FreeBSD 3.0 ou
	    alguma versão mais recente, nós sinceramente
	    aconselhamos que você compre um novo disco.  Se
	    você não quer comprar um disco novo,
	    então use o FreeBSD 2.X.</p><p>Se você esta tendo problemas de bad block com
	    algum disco IDE moderno, provavelmente o disco será
	    perdido em breve, já que ele está tão
	    corrompido que a controladora interna não
	    está conseguindo corrigir e remapear os bad blocks.
	    Sugerimos que você compre um disco novo logo, e
	    realize cópia de segurança
	    (<span class="foreignphrase"><em class="foreignphrase">backup</em></span>) dos dados,
	    enquanto o disco ainda funciona.</p><p>Se o drive de disco é SCSI e está
	    apresentando bad blocks, leia <a class="link" href="#awre" title="5.1.">essa
	      resposta</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp62542800"></a><a id="bad144-3x-4x"></a><p><strong>3.11.</strong></p></td><td align="left" valign="top"><p>Eu acabei de atualizar o sistema da série 3.X
	    para 4.X, e a minha primeira inicialização
	    (<span class="foreignphrase"><em class="foreignphrase">boot</em></span>) falhou com a
	    mensagem <span class="errorname">bad sector table not
	      supported</span></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>O FreeBSD 3.X e anteriores suportavam o programa
	    <code class="command">bad144</code>, que automaticamente remapeava
	    bad blocks.  O FreeBSD 4.X e posteriores não
	    suportam mais esse programa, devido ao fato que os
	    controladores de discos IDE atuais conseguem remapear bad
	    blocks automaticamente.  Leia <a class="link" href="#install-bad-blocks" title="3.10.">essa pergunta</a> para
	    mais informações.</p><p>Para corrigir esse problema depois de uma
	    atualização, é necessário
	    mover fisicamente o disco com problemas para um outro
	    sistema FreeBSD funcional e usar o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=disklabel&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">disklabel</span>(8)</span></a> da
	    forma discutida a seguir.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp62553680"></a><a id="find-bad144"></a><p><strong>3.12.</strong></p></td><td align="left" valign="top"><p>Como eu faço se um disco tem
	    informações criadas pelo
	    <code class="command">bad144</code> antes de atualizar o sistema, e
	    depois de atualizado para o FreeBSD 4.0 ou posterior, a
	    inicialização falha?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Use o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=disklabel&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">disklabel</span>(8)</span></a> para identificar esse ambiente.
	    <code class="command">disklabel -r drive
		device</code> vai te mostrar o
	    conteúdo do disco.  Procure o campo
	    <code class="literal">flags</code>.  Se encontrar a
	    informação <code class="literal">flags: badsect</code>
	    é porque esse disco está usando o bad144.
	    Por exemplo, o disco a seguir tem o
	    <code class="command">bad144</code> habilitado:</p><pre class="screen"><code class="prompt">#</code> disklabel -r wd0
# /dev/rwd0c:
type: ESDI
disk: wd0s1
label:
flags: badsect
bytes/sector: 512
sectors/track: 63</pre></td></tr><tr class="question"><td align="left" valign="top"><a id="idp62575312"></a><a id="disable-bad144"></a><p><strong>3.13.</strong></p></td><td align="left" valign="top"><p>Como eu removo o <code class="command">bad144</code> do meu
	    sistema anterior ao 4.X de forma que eu possa
	    atualizá-lo com segurança?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Use o comando <code class="command">disklabel -e -rwd0</code>
	    para editar as informações do seu disco.
	    Basta retirar a palavra <code class="literal">badsect</code> do seu
	    campo flags, salvar a alteração e sair do
	    programa.  O bad144 ainda estará ocupando algum
	    espaço no seu disco, mas ele estará
	    funcional para série 4.X e posteriores.</p><p>Caso seu disco tenha um número muito alto de
	    bad blocks, é recomendado a troca do disco.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp62584272"></a><a id="boot-floppy-strangeness"></a><p><strong>3.14.</strong></p></td><td align="left" valign="top"><p>Coisas estranhas acontecem quando inicio o sistema com
	    o disco de instalação!  O que está
	    acontecendo?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Se sua máquina está desligando ou
	    espontâneamente reiniciando sempre que você
	    tenta iniciar o sistema com o disco de
	    instalação, aqui vão algumas
	    perguntas que você deveria fazer a si mesmo:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>O disco de instalação foi feito a
		partir de um disquete novo, recém formatado e
		completamente livre de erros (de preferência
		algum disco que acabou de sair da caixa, ao
		contrário desse seu disco que estava perdido
		há quase 3 anos debaixo da cama)?</p></li><li class="listitem"><p>Você baixou da rede a imagem em modo
		binário?  (não se envergonhe, até
		o melhor de nós já baixou um arquivo
		binário em modo ASCII ao menos uma vez na
		vida!)</p></li><li class="listitem"><p>No Windows 95 ou 98, você usou o
		<code class="command">fdimage</code> ou o
		<code class="command">rawrite</code> em modo DOS? Esses sistemas
		operacionais as vezes interferem na forma com que os
		programas escrevem dados diretamente no hardware,
		exatamente o que o processo de criação
		da imagem de disco faz, mesmo que você execute
		um prompt do DOS no ambiente gráfico o problema
		pode ocorrer.</p></li></ol></div><p>Ainda existem notícias de arquivos de imagens
	    sendo corrompidos pelo Netscape, durante o
	    <span class="foreignphrase"><em class="foreignphrase">download</em></span>, por isso é
	    mais seguro utilizar um cliente de FTP diferente.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp62607568"></a><a id="no-install-cdrom"></a><p><strong>3.15.</strong></p></td><td align="left" valign="top"><p>Eu inicializei o FreeBSD a partir do meu CDROM ATAPI,
	    mas o programa de instalação diz que o CDROM
	    não foi encontrado.  Para onde ele foi?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>A causa desse problema curioso é a
	    configuração errada do seu drive de CDROM.
	    Hoje em dia muitos PCs vem com o CDROM instalado como
	    escravo na segunda controladora IDE, sem nenhum disco ou
	    drive óptico do tipo mestre na mesma controladora.
	    De acordo com as especificações ATAPI esse
	    tipo de configuração é incorreta e
	    ilegal.  Alguns sistemas, como o Windows, simplesmente
	    ignoram uma série de especificações
	    legais na arquitetura de computadores pessoais, e acabam
	    oferecendo suporte a essa configuração
	    errônea - o que mais tarde pode causar outros
	    conflitos.  Depois que o sistema inicia, a BIOS passa a
	    ignorar esse drive, e por isso o FreeBSD não
	    consegue encontrá-lo, para completar a
	    instalação.</p><p>Reconfigure o seu computador de forma que o CDROM
	    esteja como mestre na sua controladora IDE, ou que exista
	    um outro periférico como mestre na controladora
	    onde o CD estiver como escravo.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp62622416"></a><a id="install-PLIP"></a><p><strong>3.16.</strong></p></td><td align="left" valign="top"><p>Posso instalar o FreeBSD no meu laptop via PLIP (IP em
	    Linha Paralela)?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Claro.  Use o cabo laplink padrão.  Caso
	    necessário, verifique a <a class="link" href="../handbook/plip.html" target="_top">seção de
	      PLIP</a> do Manual do FreeBSD para obter detalhes
	    sobre a instalação do FreeBSD via rede em
	    porta paralela.</p><p>Se você está usando o FreeBSD 3.X ou
	    anterior, dê uma olhada na página de <a class="link" href="http://www.FreeBSD.org/docs.html#PAO" target="_top">Computação
	      Móvel</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp62631120"></a><a id="geometry"></a><p><strong>3.17.</strong></p></td><td align="left" valign="top"><p>Qual geometria eu devo utilizar para um disco?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><div xmlns="" class="note"><h3 class="admontitle">Nota: </h3><p xmlns="http://www.w3.org/1999/xhtml">Por <span class="quote">&#8220;<span class="quote">geometria</span>&#8221;</span>, nós entendemos
	      o número de cilindros, cabeças e
	      setores/trilhas de um disco.  Por conveniência,
	      vamos nos referir à esses dados como C/H/S
	      (Cylinders/Heads/Sectores).  É a partir dessa
	      informação que a BIOS dos PCs definem
	      quais áreas de um disco podem ser usadas para
	      leitura/escrita.</p></div><p>A geometria de disco costuma causar uma série
	    de confusões entre administradores de sistemas
	    menos experientes.  Para começar, a geometria
	    <span class="emphasis"><em>física</em></span> de um disco SCSI
	    é totalmente irrelevante, pois o FreeBSD trabalha
	    com blocos de discos.  Na verdade, não existe
	    exatamente <span class="quote">&#8220;<span class="quote">a</span>&#8221;</span> geometria física de um
	    disco, visto que a densidade de um setor varia de acordo
	    com os discos.  Os fabricantes chamam de <span class="quote">&#8220;<span class="quote">geometria
	      física</span>&#8221;</span> as especificações
	    que eles definem para que o menor espaço
	    possível em disco seja desperdiçado.  Em
	    discos IDE, o FreeBSD trabalha com as
	    informações de C/H/S, mas todos os
	    dispositivos modernos, internamente convertem essa
	    informações em referências a blocos de
	    disco.</p><p>O que importa, portanto, é a geometria
	    <span class="emphasis"><em>lógica</em></span>.  O valor lógico
	    é a resposta que a BIOS obtém quando
	    pergunto <span class="quote">&#8220;<span class="quote">qual sua geometria?</span>&#8221;</span> ao disco.
	    É esse valor, então, que é usado para
	    definir a forma de acesso ao dispositivo de armazenamento.
	    O FreeBSD usa as informações da BIOS quando
	    inicializa (<span class="foreignphrase"><em class="foreignphrase">boot</em></span>), e por
	    isso é extremamente importante obter essa
	    informação de maneira correta.  No geral, se
	    você tem mais de um sistema operacional no mesmo
	    disco, eles devem concordar no valor lógico da
	    geometria do disco, caso contrário você
	    terá sérios problemas ao iniciar o
	    sistema.</p><p>Em discos SCSI, a geometria à ser utilizada
	    depende do suporte à tradução
	    extendida definido na sua controladora de disco
	    (normalmente esse suporte é chamado de
	    <span class="quote">&#8220;<span class="quote">support for DOS disks &gt;1GB</span>&#8221;</span>, que
	    identifica o suporte à discos DOS cuja capacidade
	    de armazenamento é maior que 1GB - ou alguma
	    identificação similar.).  Se essa
	    opção está desabilitada, então
	    o C/H/S do disco será de
	    <em class="replaceable"><code>N</code></em> cilindros, 64 cabeças
	    e 32 setores/trilhas, onde o valor
	    <em class="replaceable"><code>N</code></em> equivale a capacidade (em MB)
	    do disco.  Por exemplo, um disco de 2GB teria 2048
	    cilindros, 64 cabeças e 32 setores/trilhas.</p><p>Se a opção <span class="emphasis"><em>estiver</em></span>
	    habilitada (normalmente ela é habilitada por
	    padrão, para sanar algumas limitações
	    de sistemas baseados em MSDOS), e a capacidade do disco
	    forma maior que 1GB, os valores C/H/S do disco
	    serão M cilindros, 63 setores por trilha
	    (<span class="emphasis"><em>não</em></span> 64) e 255 cabeças,
	    sendo 'M' a capacidade do disco, em MB, dividido por
	    7.844238 (!).  Então, por exemplo, o mesmo disco de
	    2GB nessa situação teria 261 cilindros, 63
	    setores por trilha e 255 cabeças.</p><p>Se você não entendeu o porque disso, ou
	    se o seu FreeBSD falha no momento de reconhecer a
	    geometria correta do seu disco durante a
	    instalação, existe uma forma de tentar
	    resolver esse problema.  Crie uma pequena
	    partição do tipo DOS no seu disco, e
	    verifique se a BIOS consegue identificar corretamente a
	    geometria do mesmo.  Caso consiga, a
	    instalação vai se completar com
	    tranqüilidade, e a pequena partição DOS
	    pode sempre ser deletada, com o editor de
	    partições do FreeBSD.</p><p>Como alternativa, existe uma aplicação
	    gratuitamente disponível com a
	    distribuição do FreeBSD, chamada de
	    <code class="filename">pfdisk.exe</code>.  Ela pode ser encontrada
	    sob o diretório <code class="filename">tools</code> no CDROM
	    do FreeBSD ou nos servidores FTP do projeto.  Esse
	    programa serve para descobrir qual a geometria usada por
	    outros sistemas operacionais no disco local.  Nesse caso,
	    esse valor pode ser definido no editor de
	    partições do FreeBSD.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp62667472"></a><a id="disk-divide-restrictions"></a><p><strong>3.18.</strong></p></td><td align="left" valign="top"><p>Existem restrições quanto ao
	    particionamento de discos?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Sim, existem.  A principal delas, é que a
	    partição <span class="quote">&#8220;<span class="quote">root</span>&#8221;</span> não pode
	    ter mais de 1024 cilindros, senão a BIOS não
	    consegue iniciar o <span class="foreignphrase"><em class="foreignphrase">kernel</em></span>
	    do sistema a partir dessa partição.  (Note
	    que essa é uma limitação das BIOS dos
	    computadores pessoais, e não do FreeBSD).</p><p>Em um disco SCSI, essa limitação implica
	    que a partição raiz (root) deve estar
	    alocada nos primeiros 1024MB do disco (ou nos primeiros
	    4096MB, caso o suporte a tradução extendida
	    esteja habilitada - veja pergunta anterior).  Em discos
	    IDE, o valor correspondente equivale a 504MB para
	    partição raiz (root).</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp62676048"></a><a id="disk-manager"></a><p><strong>3.19.</strong></p></td><td align="left" valign="top"><p>O FreeBSD suporta programas gerenciadores de
	    discos?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>O FreeBSD reconhece apenas o <span class="quote">&#8220;<span class="quote">Ontrack Disk
	      Manager</span>&#8221;</span>.  Outros gerenciadores de discos
	    não são suportados.</p><p>Se sua intenção é usar o disco
	    com FreeBSD, você não precisa de um
	    gerenciador de discos.  Basta configurar o disco para o
	    total de espaço que a BIOS reconhece (normalmente
	    504MB) e o FreeBSD vai conseguir identificar o tamanho
	    real do disco.  Se você estiver usando um disco
	    antigo com uma controladora MFM, será
	    necessário avisar ao FreeBSD quantos cilindros o
	    disco tem.</p><p>Caso queira usar o disco com FreeBSD e algum outro
	    sistema operacional, provavelmente também
	    não será necessário um gerenciador de
	    discos.  Certifique-se apenas que a partição
	    de inicialização
	    (<span class="foreignphrase"><em class="foreignphrase">boot</em></span>) do FreeBSD e a
	    partição do outro sistema operacional
	    estejam nos primeiros 1024 cilindros do disco.
	    Normalmente, para administradores de sistemas que tomam
	    decisões racionais, 20MB de espaço em uma
	    partição de inicialização
	    (<span class="foreignphrase"><em class="foreignphrase">boot</em></span>) é mais que o
	    suficiente.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp62703184"></a><a id="missing-os"></a><p><strong>3.20.</strong></p></td><td align="left" valign="top"><p>Quando eu inicio o FreeBSD, eu obtenho a mensagem
	    <span class="errorname">Missing Operating System</span>.  O que
	    está acontecendo?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Esse é um caso tópico do FreeBSD e o DOS
	    ou qualquer outro sistema operacional discordando de suas
	    definições em relação a <a class="link" href="#geometry" title="3.17.">geometria</a> do disco.
	    Provavelmente você terá que reinstalar o
	    FreeBSD, mas se seguir as instruções citadas
	    nas perguntas anteriores, raramente esse problema vai
	    acontecer.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp62716624"></a><a id="stop-at-boot-manager"></a><p><strong>3.21.</strong></p></td><td align="left" valign="top"><p>Porque eu não consigo passar da tela
	    <code class="prompt">F?</code> do gerenciador de
	    inicialização
	    (<span class="foreignphrase"><em class="foreignphrase">boot</em></span>)?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Esse é mais um sintoma do problema descrito na
	    pergunta anterior.  A geometria que a sua BIOS reconhece
	    não equivale ao valor definido no FreeBSD! Se a sua
	    controladora de disco ou sua BIOS suportam o modo de
	    tradução de cilindros (normalmente chamado
	    de <span class="quote">&#8220;<span class="quote">&gt;1GB drive support</span>&#8221;</span>), tente alterar
	    essa opção e reinstalar o FreeBSD.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp62725072"></a><a id="need-complete-sources"></a><p><strong>3.22.</strong></p></td><td align="left" valign="top"><p>Eu preciso instalar todos os fontes do sistema
	    operacional?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Geralmente não, mas é altamente
	    recomendável que você instale ao menos os
	    fontes <code class="literal">base</code>, que incluem
	    inúmeros arquivos mencionados ao longo desse
	    documento, como as fontes do sistema,
	    <code class="literal">sys</code> que inclui as fontes do
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> do FreeBSD, sem os
	    quais não se pode criar um
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> personalizado.
	    Não existe qualquer dependência do sistema
	    operacional em relação aos seus fontes;  com
	    a única exceção do programa
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=config&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">config</span>(8)</span></a>, o resto do sistema operacional não
	    precisa dos fontes para funcionar.  Os outros fontes do
	    sistema operacional - exceto os fontes do
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> - podem ser montados
	    remotamente (via NFS, por exemplo) em qualquer lugar, e
	    ainda assim novos binários podem ser compilados a
	    partir dos mesmos.  Devido a restrição
	    única dos fontes do
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span>, é
	    recomendável que os outros fontes não sejam
	    diretamente montados sob <code class="filename">/usr/src</code> mas
	    sim, que sejam montados separadamente e depois
	    interligados com links simbólicos
	    apropriados.</p><p>Tendo todos os fontes disponíveis, e sabendo
	    reconstruir o sistema a partir dos mesmos, será
	    muito mais fácil manter o FreeBSD sincronizado e
	    atualizado com futuros releases.</p><p>Para escolher um subconjunto dos fontes do sistema,
	    escolha a opção <code class="literal">Custom</code>
	    quando estiver na opção
	    <code class="literal">Distributions</code> do programa de
	    instalação do sistema.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp62749904"></a><a id="need-kernel"></a><p><strong>3.23.</strong></p></td><td align="left" valign="top"><p>Eu preciso criar um
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span>
	    personalizado?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Construir um novo
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> costumava ser uma
	    obrigação na instalação do
	    FreeBSD, mas hoje em dia existe uma interface de
	    configuração do
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> muito mais
	    amigável, que permite a redefinição
	    de recursos do sistema.  Para acessar essa ferramenta,
	    basta inicializar (<span class="foreignphrase"><em class="foreignphrase">boot</em></span>) o
	    sistema com a opção <code class="option">-c</code> no
	    prompt de (<code class="literal">boot:</code>).  Em especial, os
	    principais periféricos ISA - normalmente os mais
	    problemáticos - podem ser facilmente configurados
	    com essa opção.</p><p>Ainda é recomendável que se construa um
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> personalizado,
	    apenas com suporte aos equipamentos e
	    características do sistema que você precisa,
	    de forma a economizar recursos no sistema (especialmente
	    memória RAM), mas essa recompilação
	    não é mais uma obrigação na
	    maioria dos sistemas - mas é sem dúvida um
	    hábito saudável.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp62762448"></a><a id="password-encryption"></a><p><strong>3.24.</strong></p></td><td align="left" valign="top"><p>Eu devo usar criptografia DES, Blowfish, ou MD5 para
	    senhas do sistema? Como eu defino qual delas o
	    usuário deve usar?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>O formato padrão para senhas no FreeBSD
	    é a criptografia <span class="emphasis"><em>MD5</em></span>.  Esse
	    padrão é considerado mais seguro do que os
	    formatos tradicionais de senhas Unix, que normalmente eram
	    baseados no algorítimo <span class="emphasis"><em>DES</em></span>.  O
	    FreeBSD ainda pode trabalhar com senhas em formato DES
	    caso você precise compartilhá-las com
	    sistemas que ainda armazenam suas senhas no formato antigo
	    - e menos seguro - dos sistemas Unix originais (para isso
	    você terá que instalar a
	    distribuição <span class="quote">&#8220;<span class="quote">crypto</span>&#8221;</span> via
	    sysinstall ou apartir do código fonte).  Instalando
	    as bibliotecas crypto será possivel utilizar outros
	    tipos de criptografia, como o formato Blowfish, que
	    é ainda mais seguro do que o MD5.  A
	    definição de qual codificação
	    utilizar é definida no campo
	    <span class="quote">&#8220;<span class="quote">passwd_format</span>&#8221;</span> do arquivo de
	    configurações de login, o
	    <code class="filename">/etc/login.conf</code>.  Esse campo deve ter
	    o valor <span class="quote">&#8220;<span class="quote">des</span>&#8221;</span>, <span class="quote">&#8220;<span class="quote">blf</span>&#8221;</span> (caso suas
	    bibliotecas estejam disponíveis) ou
	    <span class="quote">&#8220;<span class="quote">md5</span>&#8221;</span>.  Veja a página de manuais do
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=login.conf&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">login.conf</span>(5)</span></a> para maiores
	    informações.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp62781648"></a><a id="boot-floppy-hangs"></a><p><strong>3.25.</strong></p></td><td align="left" valign="top"><p>Por que o disco de inicialização
	    (<span class="foreignphrase"><em class="foreignphrase">boot</em></span>) inicia, mas trava na
	    tela <code class="literal">Probing Devices...</code>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Se você tem um drive Zip IDE ou um Jaz conectado
	    ao seu computador, remova-o e tente de novo.  A
	    inicialização
	    (<span class="foreignphrase"><em class="foreignphrase">boot</em></span>) de
	    instalação do sistema se confunde as vezes
	    quando esses dispositivos estão disponíveis
	    no computador.  Depois da instalação os
	    drives são reconhecidos e controlados normalmente.
	    Provavelmente - esperamos - esse problema será
	    corrigido nas próximas versões.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp62796368"></a><a id="panic-on-install-reboot"></a><p><strong>3.26.</strong></p></td><td align="left" valign="top"><p>Por que ocorre o erro <span class="errorname">panic: can't mount
	      root</span>, quando eu reinicio o sistema, depois
	    de tê-lo instalado.</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Esse problema costuma ocorrer por conta de uma pequena
	    confusão entre os blocos do setor de
	    inicialização
	    (<span class="foreignphrase"><em class="foreignphrase">boot</em></span>) do disco, e as
	    definições de disco no
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span>.  É um erro
	    típico apenas de sistemas com dois discos IDE,
	    quando os mesmos estão definidos como disco mestre
	    e escravo, mas em controladoras distintas, e com o FreeBSD
	    instalado na controladora secundária.  Os blocos de
	    inicialização
	    (<span class="foreignphrase"><em class="foreignphrase">boot</em></span>) acham que o sistema
	    está instalado no segundo disco IDE (o segundo
	    disco reconhecido pela BIOS) enquanto o
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> assume o primeiro
	    disco na segunda controladora IDE.  Depois do
	    reconhecimento dos equipamentos do sistema o
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> tenta montar a
	    partição raiz no disco que o bloco de
	    inicialização
	    (<span class="foreignphrase"><em class="foreignphrase">boot</em></span>) acredita ser o disco
	    de inicialização
	    (<span class="foreignphrase"><em class="foreignphrase">boot</em></span>), wd1, ao
	    invés do disco correto na segunda controladora,
	    wd2, e por isso o processo de inicialização
	    falha.</p><p>Para corrigir esse problema, você tem três
	    opções:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>No FreeBSD 3.3 e posteriores, reincie o sistema e
		aperte <span class="keycap"><strong>Enter</strong></span> na tela <code class="literal">Booting
		  kernel in 10 seconds;  hit [Enter] to
		  interrupt</code>.  Você será
		direcionado ao <code class="literal">boot loader</code>.</p><p>Depois, digite <code class="literal"> set
		  root_disk_unit="disk_number"</code>.
		<em class="replaceable"><code>disk_number</code></em> deverá
		ser <code class="literal">0</code> se o FreeBSD estiver
		instalado como mestre na primeira controladora IDE,
		<code class="literal">1</code> se for o escravo na primeira
		controladora, <code class="literal">2</code> se for o mestre da
		segunda controladora IDE, e <code class="literal">3</code> se
		for o escravo na segunda controladora.</p><p>Depois digite <code class="literal">boot</code>, e seu sistema deve ser iniciado corretamente.</p><p>Para tornar essa alteração
		permanente, (para que você não tenha que
		digitar isso na mão toda vez que seu FreeBSD
		tiver que reiniciar) basta colocar a linha <code class="literal">
		  root_disk_unit="disk_number"</code>
		no arquivo
		<code class="filename">/boot/loader.conf.local</code>.</p></li><li class="listitem"><p>Se você estiver usando o FreeBSD 3.2 ou
		alguma versão anterior, digite
		<code class="literal">1:wd(2,a)kernel</code> na prompt de
		inicialização do sistema e aperte
		<span class="keycap"><strong>Enter</strong></span>.  Se o sistema iniciar
		normalmente, execute o comando <code class="command">echo
		  "1:wd(2,a)kernel" &gt; /boot.config</code> para
		tornar essa alteração permanente.</p></li><li class="listitem"><p>Mude o disco com o FreeBSD para primeira
		controladora IDE.</p></li><li class="listitem"><p><a class="link" href="../handbook/kernelconfig.html" target="_top">Recompile o
		  <span class="foreignphrase"><em class="foreignphrase">kernel</em></span></a>,
		altere as linhas de configuração wd
		para: </p><pre class="programlisting">controller      wdc0    at isa? port "IO_WD1" bio irq 14 vector wdintr
disk            wd0     at wdc0 drive 0
# disk            wd1     at wdc0 drive 1 # comment out this line

controller      wdc1    at isa? port "IO_WD2" bio irq 15 vector wdintr
disk            wd1     at wdc1 drive 0 # change from wd2 to wd1
disk            wd2     at wdc1 drive 1 # change from wd3 to wd2</pre><p>E instale o novo
		<span class="foreignphrase"><em class="foreignphrase">kernel</em></span>.  Se você
		mudou seu disco e quer voltar ele para
		configuração original, mude a ordem
		deles no PC e reinicie o sistema.  Seu sistema deve
		iniciar com sucesso.</p></li></ol></div></td></tr><tr class="question"><td align="left" valign="top"><a id="idp62847696"></a><a id="memory-limits"></a><p><strong>3.27.</strong></p></td><td align="left" valign="top"><p>Quais são as limitações de
	    memória?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>A limitação de memória é
	    de 4 gigabytes.  Essa definição foi testada,
	    veja a <a class="link" href="ftp://ftp.cdrom.com/archive-info/configuration" target="_top">configuração
	      do wcarchive</a> para obter mais detalhes.  Se
	    você pretende instalar essa quantidade de
	    memória no FreeBSD, seja cuidadoso.  Dê
	    preferência para memórias ECC e reduza a
	    capacidade de carga usando modules de memória de 9
	    chips, ai invés dos módulos de 18
	    chips.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp62857424"></a><a id="ffs-limits"></a><p><strong>3.28.</strong></p></td><td align="left" valign="top"><p>Qual a limitação para o sistema de
	    arquivos FFS?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Para o sistema de arquivos FFS, o limite
	    máximo, na teoria é de 8 terabytes (para
	    blocos de 2K), ou 16TB para o tamanho padrão dos
	    blocos, que é de 8K.  Na prática os limites
	    variam de 1TB a 4TB de acordo com algumas
	    modificações no sistema de arquivos.</p><p>O tamanho máximo para um arquivo no sistema FFS
	    é de 1G de blocos (4TB) caso os blocos sejam de
	    4K.</p><div class="table"><a id="idp62862672"></a><div class="table-title">Tabela 3.1. Tamanho máximo dos arquivos.</div><div class="table-contents"><table summary="Tamanho máximo dos arquivos." border="1"><colgroup><col /><col /><col /><col /><col /></colgroup><thead><tr><th>Tamanho do bloco</th><th>2.2.7-stable</th><th>3.0-current</th><th>Funciona com</th><th>Deve funcionar</th></tr></thead><tbody><tr><td>4K</td><td>4T-1</td><td>4T-1</td><td>4T-1</td><td>&gt;4T</td></tr><tr><td>8K</td><td>&gt;32G</td><td>8T-1</td><td>&gt;32G</td><td>32T-1</td></tr><tr><td>16K</td><td>&gt;128G</td><td>16T-1</td><td>&gt;128G</td><td>32T-1</td></tr><tr><td>32K</td><td>&gt;512G</td><td>32T-1</td><td>&gt;512G</td><td>64T-1</td></tr><tr><td>64K</td><td>&gt;2048G</td><td>64T-1</td><td>&gt;2048G</td><td>128T-1</td></tr></tbody></table></div></div><br class="table-break" /><p>Quando o sistema de arquivos possui blocos de 4K, o
	    triplo de blocos indiretores funcionam, e o limite
	    máximo do sistema de arquivos deveria ser atingido,
	    mas a triplicação dos blocos indiretores
	    (representados aproximadamente pelo resultado de 1K^3 +
	    1K^2 + 1K) se limita ao valor (errôneo) de 1G-1 no
	    número de blocos do sistema de arquivos.  O limite
	    do número de blocos deveria ser 2G-1.  Mas por
	    causa de alguns problemas com o número dos blocos
	    no sistema de arquivos, esse valor não pode ser
	    alcançado quando o tamanho dos blocos no sistema de
	    arquivos é 4K.</p><p>Em blocos com tamanho de 8K ou maiores, o limite geral
	    é de 2G-1 no número de blocos do sistema de
	    arquivos, exceto no FreeBSD -STABLE onde o triplo indireto
	    do número de blocos pode ser alcançado, de
	    forma que o limite máximo do sistema de arquivos
	    seja representado pela equação
	    ((blocksize/4)^2 + (blocksize/4)), e sob o -CURRENT onde a
	    exceção desse limite pode causar
	    problemas.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp62915664"></a><a id="archsw-readin-failed-error"></a><p><strong>3.29.</strong></p></td><td align="left" valign="top"><p>Por que a mensagem de erro
	    <span class="errorname">archsw.readin.failed</span> me perturba
	    sempre, depois que eu recompilo e carrego um
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> novo?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Você pode carregar um novo
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> ao especifica-lo
	    diretamente no segundo estágio do processo de
	    inicialização, simplesmente apertando
	    qualquer tecla quando o pipe ( | ) aparecer, antes que o
	    loader seja carregado.  Provavelmente você atualizou
	    todo o sistema operacional, mas recompilou apenas o
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span>, <span class="emphasis"><em>sem dar
	      um make world</em></span>.  Essa ação
	    é arriscada e não é suportada.
	    Faça um Make World!!!!</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp62924496"></a><a id="upgrade-3x-4x"></a><p><strong>3.30.</strong></p></td><td align="left" valign="top"><p>Como eu atualizo meu sistema da série 3.X para 4.X?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>É <span class="emphasis"><em>altamente</em></span>
	    recomendável que você use
	    <span class="foreignphrase"><em class="foreignphrase">snapshots</em></span> binários
	    para fazer isso.  <span class="foreignphrase"><em class="foreignphrase">Snapshots</em></span>
	    binário do 4-STABLE podem ser encontrados em <a class="link" href="ftp://releng4.FreeBSD.org/" target="_top">ftp://releng4.FreeBSD.org/</a>.</p><p>Devido às inúmeras
	    alterações da série 3.X para
	    série 4-STABLE, uma atualização
	    direta, a partir dos fontes, corre grande riscos de
	    falhar.  A atualização dos fontes pode ser
	    feita, inclusive desde as primórdias versões
	    2.X até as mais recentes 4-STABLE ou até
	    mesmo 5-CURRENT, mas essa atualização deve
	    ser realizada em vários estágios.  Primeiro,
	    atualize a sua série 3.X pra versão mais
	    recente, a 3-STABLE (<code class="literal">RELENG_3</code>).  Depois
	    atualize para o 4.1.1-RELEASE
	    (<code class="literal">RELENG_4_1_1_RELEASE</code>).  Finalmente,
	    tente atualizar para o 4-STABLE
	    (<code class="literal">RELENG_4</code>).</p><p>Se você pretende atualizar seu sistema a partir
	    dos fontes, por gentileza, refira-se ao <a class="link" href="../handbook/cutting-edge.html" target="_top">Manual do FreeBSD</a>
	    para maiores informações.</p><div xmlns="" class="caution"><h3 class="admontitle">Cuidado: </h3><p xmlns="http://www.w3.org/1999/xhtml">A atualização direta por meio dos
	      fontes nunca é aconselhável para
	      usuários inexperientes, a
	      atualização da série 3.X para 4.X
	      portanto é menos aconselhável ainda,
	      portanto, caso você não tenha
	      experiências com esse processo de
	      atualização, leia todas as
	      instruções disponíveis no
	      Manual do FreeBSD com cuidado.</p></div></td></tr><tr class="question"><td align="left" valign="top"><a id="idp65334864"></a><a id="security-profiles"></a><p><strong>3.31.</strong></p></td><td align="left" valign="top"><p>Onde estão essas
	    <span class="quote">&#8220;<span class="quote">especificações de
	      segurança</span>&#8221;</span>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Uma <span class="quote">&#8220;<span class="quote">especificação de
	      segurança</span>&#8221;</span> se refere a um conjunto de
	    configurações e de opções no
	    sistema, que tendem a garantir um nível
	    desejável de segurança, por meio de definir
	    ou desabilitar algumas opções e programas no
	    FreeBSD.  Para maiores detalhes, veja a
	    seção de <a class="link" href="../handbook/install-post.html#SECURITYPROFILE" target="_top">
	      Especificação de Segurança</a>
	    no <a class="link" href="../handbook/install-post.html" target="_top">capítulo de
	      pós-instalação</a> do
	    Manual do FreeBSD.</p></td></tr></tbody></table></div><div class="footnotes"><br /><hr class="footnote-hr" /><div id="ftn.idp62402512" class="footnote"><p><a href="#idp62402512" class="para"><sup class="para">[1] </sup></a>Em um e-mail
		enviado por Keith Frechettei
		<code class="email">&lt;<a xmlns="" class="email" href="mailto:kfrechet@us.ibm.com">kfrechet@us.ibm.com</a>&gt;</code>.</p></div></div></div><div class="chapter"><div xmlns="" class="titlepage"><div><div><h1 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="hardware"></a>Capítulo 4. Compatibilidade de Hardware</h1></div></div></div><div class="qandaset"><a id="idp65339728"></a><dl><dt>4.1. <a href="#idp65344208">O FreeBSD suporta outras arquiteturas além da
	    x86?</a></dt><dt>4.2. <a href="#idp65376848">Preciso adquirir um novo hardware para um sistema com
	    FreeBSD.  Qual o melhor modelo/marca/tipo?</a></dt><dt>4.3. <a href="#idp65381200">Que tipos de discos rígido o FreeBSD
	    suporta?</a></dt><dt>4.4. <a href="#idp65383632">Quais controladoras SCSI são suportadas pelo
	    FreeBSD?</a></dt><dt>4.5. <a href="#idp65386448">Quais drives de CDROM são suportados pelo
	    FreeBSD?</a></dt><dt>4.6. <a href="#idp65398224">Quais drives de CD-RW são suportados pelo
	    FreeBSD?</a></dt><dt>4.7. <a href="#idp65403472">O FreeBSD suporta ZIP Drives?</a></dt><dt>4.8. <a href="#idp65412688">O FreeBSD suporta discos JAZ, EZ ou outras unidades
	    removíveis?</a></dt><dt>4.9. <a href="#idp65424848">Que dispositivos seriais de múltiplas portas
	    são suportados pelo FreeBSD?</a></dt><dt>4.10. <a href="#idp65428944">O FreeBSD suporta meu teclado USB?</a></dt><dt>4.11. <a href="#idp65458768">Eu tenho um mouse de barramento não tradicional.
	    Como o configuro?</a></dt><dt>4.12. <a href="#idp65465040">Como eu uso o meu mouse (&#8220;mouse port&#8221; ou
	    &#8220;keyboard&#8221;) PS/2?</a></dt><dt>4.13. <a href="#idp65491152">É possível usar mouse de alguma forma,
	    fora do sistema X Windows?</a></dt><dt>4.14. <a href="#idp65503568">Como eu copio e colo com o mouse em um console modo
	    texto?</a></dt><dt>4.15. <a href="#idp65507408">O FreeBSD suporta mouse USB?</a></dt><dt>4.16. <a href="#idp65531088">Eu tenho um mouse do tipo Wheel com uma rodinha e
	    botões adicionais.  Posso usá-lo no
	    FreeBSD?</a></dt><dt>4.17. <a href="#idp65534800">Por que meu mouse PS/2 do tipo Wheel fica louco,
	    pulando pela tela?</a></dt><dt>4.18. <a href="#idp65538640">Como eu uso o mouse/bolinha-de-rolagem/touchpad no meu
	    laptop?</a></dt><dt>4.19. <a href="#idp65541712">Que tipos de dispositivos de fitas são
	    suportados pelo FreeBSD?</a></dt><dt>4.20. <a href="#idp65544144">O FreeBSD suporta bibliotecas de fitas?</a></dt><dt>4.21. <a href="#idp65553488">Quais placas de som são suportadas pelo
	    FreeBSD?</a></dt><dt>4.22. <a href="#idp65556688">Qual a solução para falta de som da
	    minha placa es1370 com o controlador pcm?</a></dt><dt>4.23. <a href="#idp65559760">Quais placas de rede o FreeBSD suporta?</a></dt><dt>4.24. <a href="#idp65562320">Eu não tenho um co-processador
	    matemático.  Isso é ruim?</a></dt><dt>4.25. <a href="#idp65570640">Que outros dispositivos o FreeBSD suporta?</a></dt><dt>4.26. <a href="#idp65573200">O FreeBSD suporta gerenciamento de energia no meu
	    laptop?</a></dt><dt>4.27. <a href="#idp65581904">Por que placas Micron travam na
	    inicialização(boot)?</a></dt><dt>4.28. <a href="#idp65585360">Por que o FreeBSD não reconhece nenhuma
	    controladora SCSI Adaptec?</a></dt><dt>4.29. <a href="#idp65588432">Por que o FreeBSD não encontra o meu Modem Plug
	    &amp; Play interno?</a></dt><dt>4.30. <a href="#idp65619536">O FreeBSD suporta software modems, como os
	    Winmodems?</a></dt><dt>4.31. <a href="#idp65623248">Como eu faço para o interpretador(prompt) de
	    inicialização(boot): aparecer no console
	    serial?</a></dt><dt>4.32. <a href="#idp65629520">Por que a placa de rede PCI da 3Com não
	    funciona com motherboards Micron?</a></dt><dt>4.33. <a href="#idp65637328">O FreeBSD suporta Multiprocessamento Simétrico
	    (SMP)?</a></dt><dt>4.34. <a href="#idp65641424">O disquete de inicialização(boot) trava
	    em um computador cuja placa-mãe é a ASUS
	    K7V.  O que eu faço?</a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%" /><col /></colgroup><tbody><tr class="question"><td align="left" valign="top"><a id="idp65344208"></a><a id="architectures"></a><p><strong>4.1.</strong></p></td><td align="left" valign="top"><p>O FreeBSD suporta outras arquiteturas além da
	    x86?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Sim.  Atualmente o FreeBSD tem suporte para
	    arquiteturas Intel x86 e DEC (agora Compaq) Alpha.
	    Também existe um interesse conhecido no
	    <code class="literal">port</code> FreeBSD para plataforma SPARC.
	    Caso exista interesse em participar desse projeto ou saber
	    mais informações sobre
	    <code class="literal">port</code> para esta arquitetura, queira
	    juntar-se à lista de discussão do <a class="link" href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-sparc64" target="_top">lista de discussão sobre
  o <span class="foreignphrase"><em class="foreignphrase">port</em></span> do FreeBSD para a plataforma
  SPARC</a>.
	    As plataformas IA-64 e Power-PC foram recentemente
	    adicionadas à lista de arquiteturas que
	    serão futuramente suportadas;  entre na lista do
	    <a class="link" href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-ia64" target="_top">lista de discussão
  sobre o <span class="foreignphrase"><em class="foreignphrase">port</em></span> do FreeBSD para a
  plataforma IA64</a> e/ou <a class="link" href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-ppc" target="_top">lista de discussão sobre o 
  <span class="foreignphrase"><em class="foreignphrase">port</em></span> do FreeBSD para 
  PowerPC</a> para mais informações
	    sobre tais arquiteturas.  Para discussões gerais
	    sobre outras arquiteturas, entre na lista de
	    discussão <a class="link" href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-platforms" target="_top">lista de
  discussão sobre o <span class="foreignphrase"><em class="foreignphrase">port</em></span> do FreeBSD 
  para plataformas que não sejam Intel</a>.</p><p>Caso seu computador seja de uma arquitetura não
	    suportada pelo FreeBSD e precise de uma
	    solução imediata, nós sugerimos uma
	    olhada no <a class="link" href="http://www.netbsd.org/" target="_top">NetBSD</a> ou <a class="link" href="http://www.openbsd.org/" target="_top">OpenBSD</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp65376848"></a><a id="which-hardware-to-get"></a><p><strong>4.2.</strong></p></td><td align="left" valign="top"><p>Preciso adquirir um novo hardware para um sistema com
	    FreeBSD.  Qual o melhor modelo/marca/tipo?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Essa é uma discussão tradicional nas
	    listas do FreeBSD.  Partindo do princípio que os
	    tipos de equipamentos e suas características
	    alteram-se de forma muita rápida, e que nós
	    tentamos suportar essas mudanças e torná-las
	    suportadas, é <span class="emphasis"><em>fortemente
	      recomendado</em></span> que você sempre leia as
	    <a class="link" href="http://www.FreeBSD.org/releases/10.1R/hardware.html" target="_top">Notas de
	      Hardware</a> e faça uma busca nos <a class="link" href="http://www.freebsd.org/search/#mailinglists" target="_top">histórico
	      das listas de discussão</a> antes de
	    perguntar sobre os melhores e mais novos equipamentos
	    disponíveis.  É muito provável que as
	    informações que você quer sobre
	    determinado equipamento tenham sido discutidas há
	    menos de uma semana.</p><p>Caso você esteja procurando
	    informações sobre
	    <span class="foreignphrase"><em class="foreignphrase">laptops</em></span>, verifique o
	    histórico da lista FreeBSD-mobile.  Do
	    contrário, o histórico da FreeBSD-questions
	    será o mais indicado, ou de alguma lista
	    específica sobre o tipo de hardware em
	    questão.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp65381200"></a><a id="supported-hard-drives"></a><p><strong>4.3.</strong></p></td><td align="left" valign="top"><p>Que tipos de discos rígido o FreeBSD
	    suporta?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>O FreeBSD suporta discos EIDE e SCSI (com alguma
	    controladora compatível;  veja a próxima
	    pergunta) e todos os outros discos que usam a interface de
	    controle original da <span class="quote">&#8220;<span class="quote">Western Digital</span>&#8221;</span> (MFM,
	    RLL, ESDI, e é claro IDE).  Algumas controladoras
	    ESDI que usam interfaces de controle proprietária
	    não funcionarão no FreeBSD: mude para
	    controladoras do tipo WD1002/3/6/7 ou algum clone dessa
	    interface.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp65383632"></a><a id="supported-scsi-controllers"></a><p><strong>4.4.</strong></p></td><td align="left" valign="top"><p>Quais controladoras SCSI são suportadas pelo
	    FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Veja a lista completa de equipamentos suportados nas
	    <a class="link" href="http://www.FreeBSD.org/releases/10.1R/hardware.html" target="_top">Notas de
	      Hardware</a> atuais.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp65386448"></a><a id="supported-cdrom-drives"></a><p><strong>4.5.</strong></p></td><td align="left" valign="top"><p>Quais drives de CDROM são suportados pelo
	    FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Quaisquer drives SCSI ligados à controladoras
	    suportadas são controladas pelo FreeBSD.</p><p>As seguintes interfaces proprietárias de CDROM
	    também são suportadas:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Mitsumi LU002 (8bits), LU005 (16bits) e FX001D
		(16bits velocidade 2x (2x Speed)).</p></li><li class="listitem"><p>Sony CDU 31/33A.</p></li><li class="listitem"><p>CDROM Sound Blaster não-SCSI.</p></li><li class="listitem"><p>CDROM Matsushita/Panasonic.</p></li><li class="listitem"><p>CDROMs IDE compatíveis com o padrão
		ATAPI.</p></li></ul></div><p>Todo equipamento não-SCSI é
	    reconhecidamente mais lento do que os SCSI, e alguns
	    drives de CDROM ATAPI podem não funcionar
	    corretamente.</p><p>A partir da versão 2.2, todos os CDROM do
	    FreeBSD distribuídos pela FreeBSD Mall podem ser
	    iniciados (booting) diretamente pela unidade de CD.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp65398224"></a><a id="supported-cdrw-drives"></a><p><strong>4.6.</strong></p></td><td align="left" valign="top"><p>Quais drives de CD-RW são suportados pelo
	    FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>O FreeBSD suporta qualquer tipo de unidade CD-RW ou
	    CD-R IDE compatíveis com o padrão ATAPI.  No
	    FreeBSD 4.0 e posteriores, leia a página de manual
	    do <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=burncd&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">burncd</span>(8)</span></a>.Em versões anteriores, veja os
	    exemplos de utilização desses equipamentos
	    em <code class="filename">/usr/share/examples/atapi</code>.</p><p>O FreeBSD também suporta qualquer drive de CD-R
	    ou CD-RW do tipo SCSI.  Instale o aplicativo
	    <code class="command">cdrecord</code> a partir da
	    coleção de <code class="literal">ports</code> ou como
	    pacote, e tenha certeza de ter o device
	    <code class="filename">pass</code> compilado no seu
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp65403472"></a><a id="zip-support"></a><p><strong>4.7.</strong></p></td><td align="left" valign="top"><p>O FreeBSD suporta ZIP Drives?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>O FreeBSD suporta ZIP Drives do tipo SCSI, é
	    claro.  Essa unidade deve ser configurada apenas nos SCSI
	    ID números 5 ou 6, mas se a sua BIOS tem suporte
	    à inicializãço(boot) pela unidade
	    SCSI, essa característica pode ser usada sem
	    problemas.  Não está claro exatamente quais
	    adaptadores SCSI suportam a característica de
	    inicializãço(boot) em IDs diferentes de 0 ou
	    1, portanto será necessário consultar o
	    manual do seu equipamento para obter
	    informações mais precisas sobre esse
	    recurso.</p><p>Os ZIP Drives padrão ATAPI (IDE) são
	    suportados pelo FreeBSD desde a versão 2.2.6 e em
	    todas as posteriores.</p><p>O FreeBSD tem suporte ainda a ZIP Drives de Porta
	    Paralela desde a versão 3.0.  Caso seu sistema seja
	    dessa versão ou superior, verifique o suporte a
	    <code class="filename">scbus0</code>,
	    <code class="filename">da0</code>,
	    <code class="filename">ppbus0</code>,
	    <code class="filename">vp0</code> no seu
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> (o
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> GENERIC tem todos
	    esses suportes, exceto à device
	    <code class="filename">vp0</code>).  Com esses suportes
	    presentes no <span class="foreignphrase"><em class="foreignphrase">kernel</em></span>, o
	    drive de Porta Paralela deve estar disponível em
	    <code class="filename">/dev/da0s4</code>.  Os discos ZIP podem
	    ser montados usando o comando <code class="command">mount /dev/da0s4
	      /mnt</code> OU (discos formatados como DOS)
	    <code class="command">mount_msdos /dev/da0s4 /mnt</code>, como
	    é de costume.</p><p>Verifique também o <a class="link" href="#jaz"><code class="literal">FAQ</code> sobre discos
	      removíveis</a> disponível ainda nesse
	    capítulo, e <a class="link" href="#disklabel">as notas
	      sobre <span class="quote">&#8220;<span class="quote">formatação</span>&#8221;</span></a> no
	    capítulo de Administração.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp65412688"></a><a id="jaz-zip-removable-support"></a><p><strong>4.8.</strong></p></td><td align="left" valign="top"><p>O FreeBSD suporta discos JAZ, EZ ou outras unidades
	    removíveis?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Fora a versão IDE dos discos EZ, os outros
	    discos são todos do tipo SCSI, e portanto devem
	    todos ser reconhecidos como discos SCSI no FreeBSD.  O
	    drive EZ tipo IDE deve ser reconhecido como disco
	    IDE.</p><p><a id="jaz"></a>Não há uma certeza
	    quanto à forma que o FreeBSD trata uma
	    alteração de mídia enquanto o sistema
	    está em pleno uso, então é
	    necessário desmontar a unidade antes de trocar de
	    disco e garantir que qualquer unidade externa esteja
	    ligada quando o sistema for bootado, de forma que o
	    FreeBSD possa reconhecê-las.</p><p>Veja essa <a class="link" href="#disklabel">nota sobre
	      <span class="quote">&#8220;<span class="quote">formatação</span>&#8221;</span></a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp65424848"></a><a id="multiport-serial-support"></a><p><strong>4.9.</strong></p></td><td align="left" valign="top"><p>Que dispositivos seriais de múltiplas portas
	    são suportados pelo FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Existe uma lista dessas unidades na
	    seção de <a class="link" href="../handbook/install.html#INSTALL-MISC" target="_top">Dispositivos
	      Diversos</a> do Manual do FreeBSD.</p><p>Alguns dispositivos clones parecem também
	    funcionar normalmente no sistema, em especial equipamentos
	    que se dizem ser AST compatíveis.</p><p>Verifique a página de manual do <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sio&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">sio</span>(4)</span></a> para
	    obter mais informações quanto à
	    configuração desses dispositivos.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp65428944"></a><a id="usbkbd"></a><p><strong>4.10.</strong></p></td><td align="left" valign="top"><p>O FreeBSD suporta meu teclado USB?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>O suporte a dispositivos USB foi adicionado no FreeBSD
	    desde a versão 3.1.  Contudo, na versão 3.1,
	    o suporte ainda é muito preliminar, e alguns
	    equipamentos podem não funcionar antes da
	    versão 3.2.  Caso você queira usar o suporte
	    a teclados USB, tente o seguinte.</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>No FreeBSD 3.2 ou posterior.</p></li><li class="step"><p>Adicione as seguintes linhas no arquivo de
		configuração do seu
		<span class="foreignphrase"><em class="foreignphrase">kernel</em></span>, e
		recompile-o.</p><pre class="programlisting">device  uhci
device  ohci
device  usb
device  ukbd
options KBD_INSTALL_CDEV</pre><p>Em versões anteriores à 4.0,
		use:</p><pre class="programlisting">controller      uhci0
controller      ohci0
controller      usb0
controller      ukbd0
options         KBD_INSTALL_CDEV</pre></li><li class="step"><p>No diretório <code class="filename">/dev</code>,
		crie os seguintes devices:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cd /dev</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>./MAKEDEV kbd0 kbd1</code></strong></pre></li><li class="step"><p>Edite o <code class="filename">/etc/rc.conf</code> e
		adicione as seguintes linhas:</p><pre class="programlisting">usbd_enable="YES"
usbd_flags=""</pre></li></ol></div><p>Depois de reiniciado(rebooting) o sistema, o teclado
	    AT aparece como <code class="filename">/dev/kbd0i</code> e o
	    teclado USB aparece como
	    <code class="filename">/dev/kbd1</code> , se ambos estiverem
	    conectados ao sistema.  Se estiver somente o teclado USB,
	    ele estará como
	    <code class="filename">/dev/ukbd0</code>.</p><p>Caso queira usar o teclado USB no console, é
	    necessário informar explicitamente ao driver do
	    console que ele deve usar esse teclado.  Isso pode ser
	    feito com o seguinte comando em tempo de
	    inicialização do sistema:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>kbdcontrol -k /dev/kbd1 &lt; /dev/ttyv0 &gt; /dev/null</code></strong></pre><p>Note que se o teclado USB for o único teclado
	    disponível, ele será acessado via
	    <code class="filename">/dev/kbd0</code>, portanto a linha de
	    comando deve-se parecer com:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>kbdcontrol -k /dev/kbd0 &lt; /dev/ttyv0 &gt; /dev/null</code></strong></pre><p>O arquivo <code class="filename">/etc/rc.i386</code> é
	    um bom lugar para colocar o comando acima.</p><p>Depois de configurado, o teclado USB deve funcionar
	    também no ambiente X, sem nenhuma outra
	    configuração especial.</p><p>Conectar e desconectar o teclado USB com o sistema
	    ligado ainda não é um comportamento
	    completamente suportado, portando é
	    aconselhável ligar o teclado antes de iniciar o
	    sistema e apenas desligá-lo depois que o computador
	    estiver desligado, para evitar possíveis
	    problemas.</p><p>Veja a página de manual do <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ukbd&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">ukbd</span>(4)</span></a> para
	    maiores informações.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp65458768"></a><a id="busmouse"></a><p><strong>4.11.</strong></p></td><td align="left" valign="top"><p>Eu tenho um mouse de barramento não tradicional.
	    Como o configuro?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>O FreeBSD suporta o barramento de mouse tradicional do
	    tipo InPort fabricados pela Microsoft, Logitech e ATI.  O
	    suporte a esse periférico é compilado por
	    padrão no <span class="foreignphrase"><em class="foreignphrase">kernel</em></span>
	    GENERIC do FreeBSD na versão 2.X, mas não
	    é suportado por padrão na versão 3.0
	    e posteriores.  Se você quer recompilar um
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> com suporte ao
	    barramento de mouse, adicionando a linha ao seu arquivo de
	    configuração:</p><p>No FreeBSD 3.0 e anteriores, adicione:</p><pre class="programlisting">device mse0 at isa? port 0x23c tty irq5 vector mseintr</pre><p>Na série 3.X do FreeBSD, a linha deve
	    ser:</p><pre class="programlisting">device mse0 at isa? port 0x23c tty irq5</pre><p>E na série 4.X e posteriores, a linha deve
	    ser:</p><pre class="programlisting">device mse0 at isa? port 0x23c irq5</pre><p>Barramentos de mouse costumam ter uma interface
	    dedicada que permite definir o endereço de
	    memória e a IRQ que a placa vai funcionar.  Nesse
	    caso, refira-se ao manual do seu equipamento e à
	    página de manual do <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mse&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">mse</span>(4)</span></a> para maiores
	    informações.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp65465040"></a><a id="ps2mouse"></a><p><strong>4.12.</strong></p></td><td align="left" valign="top"><p>Como eu uso o meu mouse (<span class="quote">&#8220;<span class="quote">mouse port</span>&#8221;</span> ou
	    <span class="quote">&#8220;<span class="quote">keyboard</span>&#8221;</span>) PS/2?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Em versões posteriores ao 2.2.5, o
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> do FreeBSD inclui
	    por padrão o suporte ao device
	    <code class="filename">psm</code>, que controlará seu
	    mouse PS/2 desde o momento de inicialização
	    do sistema.</p><p>Caso seu FreeBSD seja 2.1.X ou similar, o suporte a
	    PS/2 pode ser incluído no
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span>, no momento da
	    instalação, ou mesmo depois desse processo,
	    com a opção <code class="option">-c</code> na tela de
	    <code class="command">boot:</code> do sistema.  O suporte nesse caso
	    é desabilitado por padrão e por isso deve
	    ser explicitamente habilitado.</p><p>Caso sua versão de FreeBSD seja antiga,
	    adicione a seguinte linha ao seu
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> e
	    recompile-o:</p><p>No FreeBSD 3.0 e anteriores, a linha é:</p><pre class="programlisting">device psm0 at isa? port "IO_KBD" conflicts tty irq 12 vector psmintr</pre><p>No FreeBSD 3.1 e posteriores da mesma série, a
	    linha deve ser:</p><pre class="programlisting">device psm0 at isa? tty irq 12</pre><p>No FreeBSD 4.0 e posteriores, a linha é:</p><pre class="programlisting">device psm0 at atkbdc? irq 12</pre><p>Veja a seção de <a class="link" href="../handbook/kernelconfig.html" target="_top">configuração
	      do <span class="foreignphrase"><em class="foreignphrase">kernel</em></span></a> no
	    Manual do FreeBSD caso você não tenha
	    experiência com a compilação do
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span>.</p><p>Uma vez detectado o <code class="filename">psm0</code>
	    durante a inicialização
	    (<span class="foreignphrase"><em class="foreignphrase">boot</em></span>) do seu sistema,
	    tenha certeza de que existe uma entrada
	    <code class="filename">psm0</code> no
	    <code class="filename">/dev</code>.  Faça o seguinte:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cd /dev; sh MAKEDEV psm0</code></strong></pre><p>logado como usuário
	    <code class="systemitem">root</code>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp65491152"></a><a id="moused"></a><p><strong>4.13.</strong></p></td><td align="left" valign="top"><p>É possível usar mouse de alguma forma,
	    fora do sistema X Windows?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Se estiver utilizando o driver padrão de
	    console, o syscons, pode-se usar o mouse para copiar &amp;
	    colar texto.  Execute o mouse daemon,
	    <code class="command">moused</code>, para habilitar o mouse nos
	    consoles virtuais da seguinte forma:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>moused -p /dev/xxxx -t yyyy</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>vidcontrol -m on</code></strong></pre><p>Onde <em class="replaceable"><code>xxxx</code></em> deve ser
	    substituído pelo nome de device do seu mouse e
	    <em class="replaceable"><code>yyyy</code></em> pelo tipo de protocolo do
	    mesmo.  Veja a página de manual do <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=moused&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">moused</span>(8)</span></a>
	    para maiores informações quanto aos tipos de
	    protocolos suportados.</p><p>É provável que você queira usar o
	    mouse daemon automaticamente, sempre que o FreeBSD for
	    iniciado.  Na versão 2.2.1, defina as seguintes
	    variáveis, no arquivo
	    <code class="filename">/etc/sysconfig</code>.</p><pre class="programlisting">mousedtype="yyyy"
mousedport="xxxx"
mousedflags=""</pre><p>Da versão 2.2.2 até a 3.0, defina as
	    seguintes variáveis no
	    <code class="filename">/etc/rc.conf</code>.</p><pre class="programlisting">moused_type="yyyy"
moused_port="xxxx"
moused_flags=""</pre><p>Da versão 3.1 em diante, caso você tenha
	    um mouse PS/2 é necessário apenas adicionar
	    a opção
	    <code class="literal">moused_enable="YES"</code> no
	    arquivo <code class="filename">/etc/rc.conf</code>.</p><p>E se a intenção é usar o mouse em
	    todos os terminais virtuais ao invés de apenas no
	    console, insira a seguinte linha no
	    <code class="filename">/etc/rc.conf</code>.</p><pre class="programlisting">allscreens_flags="-m on"</pre><p>Desde a versão 2.2.6 do FreeBSD, o mouse daemon
	    é capaz de detectar o tipo de protocolo do mouse
	    automaticamente, a não ser que o dispositivo em
	    questão seja um mouse serial muito velho.  Defina
	    <code class="literal">auto</code> para que o programa identifique o
	    protocolo do mouse automaticamente.</p><p>Quando o daemon está rodando, o acesso ao
	    dispositivo deve ser coordenado entre ele e qualquer outra
	    aplicação, como o X-Windows, por exemplo.
	    Leia uma <a class="link" href="#x-and-moused" title="11.3.">outra
	      pergunta</a> sobre esse assunto.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp65503568"></a><a id="text-mode-cut-paste"></a><p><strong>4.14.</strong></p></td><td align="left" valign="top"><p>Como eu copio e colo com o mouse em um console modo
	    texto?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Uma vez configurado o mouse (<a class="link" href="#moused" title="4.13.">veja a pergunta anterior</a>),
	    aperte o botão 1 (botão esquerdo) do mouse e
	    mova o cursor por toda a região desejada,
	    selecionando o texto em questão.  Depois, basta
	    apertar o botão 2 (do meio) ou o botão 3
	    (direito) para colar o conteúdo selecionado
	    anteriormente.</p><p>A partir da versão 2.2.6 o botão 2 cola
	    o texto copiado, enquanto o botão 3 ``extende'' a
	    região selecionada.  Caso seu mouse não
	    tenha o botão do meio, é possível
	    remapear (ou emular) os botões do periférico
	    usando algumas opções específicas do
	    mouse daemon.  Veja a página de manual do
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=moused&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">moused</span>(8)</span></a> para maiores detalhes.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp65507408"></a><a id="usbmouse"></a><p><strong>4.15.</strong></p></td><td align="left" valign="top"><p>O FreeBSD suporta mouse USB?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>No FreeBSD 3.1 existe um suporte preliminar à
	    recursos USB que não funciona muito bem dependendo
	    da situação.  A partir da versão 4.0
	    o FreeBSD suporta dispositivos USB por padrão. Caso
	    queira usar um mouse USB no FreeBSD 3.X, siga as seguintes
	    instruções.</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Atualize seu sistema para FreeBSD 3.2 ou
		posterior.</p></li><li class="step"><p>Adicione o seguinte suporte ao seu
		<span class="foreignphrase"><em class="foreignphrase">kernel</em></span>, e
		recompile-o:</p><pre class="programlisting">device  uhci
device  ohci
device  usb
device  ums</pre><p>Em versões anteriores à 4.0 o
		suporte à ser adicionado é:</p><pre class="programlisting">controller        uhci0
controller        ohci0
controller        usb0
device            ums0</pre></li><li class="step"><p>Entre no diretório
		<code class="filename">/dev</code> e crie os devices
		necessários:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cd /dev</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>./MAKEDEV ums0</code></strong></pre></li><li class="step"><p>Edite o <code class="filename">/etc/rc.conf</code> e
		adicione as linhas:</p><pre class="programlisting">moused_enable="YES"
moused_type="auto"
moused_port="/dev/ums0"
moused_flags=""
usbd_enable="YES"
usbd_flags=""</pre><p>Veja a <a class="link" href="#moused" title="4.13.">seção
		  anterior</a> para uma discussão mais
		detalhada sobre o moused.</p></li><li class="step"><p>Para configurar o mouse USB no X, edite o
		<code class="filename">XF86Config</code> e, caso esteja usando
		o XFree86 3.3.2 ou posterior, adicione as seguintes
		linhas na seção
		<span class="emphasis"><em>Pointer</em></span>:</p><pre class="programlisting">Device	  "/dev/sysmouse"
Protocol        "Auto"</pre><p>Caso esteja usando uma versão anterior do
		Xfree86, adicione também na seção
		<span class="emphasis"><em>Pointer</em></span> as seguintes
		linhas:</p><pre class="programlisting">Device	  "/dev/sysmouse"
Protocol        "SysMouse"</pre></li></ol></div><p>Leia também uma <a class="link" href="#x-and-moused" title="11.3.">outra pergunta</a> sobre o uso
	    do mouse em ambiente X.</p><p>Conectar e desconectar o teclado USB com o sistema
	    ligado ainda não é um comportamento
	    completamente suportado, portando é
	    aconselhável ligar o teclado antes de iniciar o
	    sistema e apenas desligá-lo depois que o computador
	    estiver desligado, para evitar possíveis
	    problemas.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp65531088"></a><a id="mouse-wheel-buttons"></a><p><strong>4.16.</strong></p></td><td align="left" valign="top"><p>Eu tenho um mouse do tipo Wheel com uma rodinha e
	    botões adicionais.  Posso usá-lo no
	    FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>A resposta, infelizmente é,
	    <span class="quote">&#8220;<span class="quote">Depende</span>&#8221;</span>.  Esse tipo de mouse tem algumas
	    características especiais que requerem o uso de
	    <span class="foreignphrase"><em class="foreignphrase">drivers</em></span> especiais na
	    maioria dos casos.  A não ser que o device do seu
	    mouse tenha suporte específico, ou se a
	    aplicação em questão reconhecer esse
	    tipo de equipamento, ele irá funcionar simplesmente
	    como um mouse tradicional de dois ou três
	    botões.</p><p>Mais informações sobre o uso de mouse do
	    tipo Wheel em ambiente X Windows, refira-se a essa <a class="link" href="#x-and-wheel" title="11.4.">seção</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp65534800"></a><a id="psmerr"></a><p><strong>4.17.</strong></p></td><td align="left" valign="top"><p>Por que meu mouse PS/2 do tipo Wheel fica louco,
	    pulando pela tela?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>O suporte ao mouse PS/2 no FreeBSD 3.2 e anteriores
	    é falho quanto a mouses do tipo Wheel, incluindo o
	    modelo M-S48 da Logitech e seus similares OEM.  Aplique o
	    seguinte patch no arquivo
	    <code class="filename">/sys/i386/isa/psm.c</code> e recompile seu
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span>:</p><pre class="programlisting">Index: psm.c
===================================================================
RCS file: /src/CVS/src/sys/i386/isa/Attic/psm.c,v
retrieving revision 1.60.2.1
retrieving revision 1.60.2.2
diff -u -r1.60.2.1 -r1.60.2.2
--- psm.c        1999/06/03 12:41:13 1.60.2.1
+++ psm.c        1999/07/12 13:40:52 1.60.2.2
@@ -959,14 +959,28 @@
     sc-&gt;mode.packetsize = vendortype[i].packetsize;

     /* set mouse parameters */
+#if 0
+    /*
+     * A version of Logitech FirstMouse+ won't report wheel movement,
+     * if SET_DEFAULTS is sent...  Don't use this command.
+     * This fix was found by Takashi Nishida.
+     */
     i = send_aux_command(sc-&gt;kbdc, PSMC_SET_DEFAULTS);
     if (verbose &gt;= 2)
         printf("psm%d: SET_DEFAULTS return code:%04x\n", unit, i);
+#endif
     if (sc-&gt;config &amp; PSM_CONFIG_RESOLUTION) {
         sc-&gt;mode.resolution
             = set_mouse_resolution(sc-&gt;kbdc,
-                (sc-&gt;config &amp; PSM_CONFIG_RESOLUTION) - 1);
+                       (sc-&gt;config &amp; PSM_CONFIG_RESOLUTION) - 1);
+    } else if (sc-&gt;mode.resolution &gt;= 0) {
+        sc-&gt;mode.resolution
+            = set_mouse_resolution(sc-&gt;kbdc, sc-&gt;dflt_mode.resolution);
+    }
+    if (sc-&gt;mode.rate &gt; 0) {
+        sc-&gt;mode.rate = set_mouse_sampling_rate(sc-&gt;kbdc, sc-&gt;dflt_mode.rate);
     }
+    set_mouse_scaling(sc-&gt;kbdc, 1);

     /* request a data packet and extract sync. bits */
     if (get_mouse_status(sc-&gt;kbdc, stat, 1, 3) &lt; 3) {</pre><p>Em versões posteriores à 3.2, o suporte
	    deve funcionar.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp65538640"></a><a id="laptop-mouse-trackball"></a><p><strong>4.18.</strong></p></td><td align="left" valign="top"><p>Como eu uso o mouse/bolinha-de-rolagem/touchpad no meu
	    laptop?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Por gentileza, <a class="link" href="#ps2mouse" title="4.12.">leia a
	      pergunta anterior</a>.  Verifique também a
	    <a class="link" href="http://www.FreeBSD.org/docs.html#PAO" target="_top">página
	      de Computação Móvel</a> do
	    Projeto.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp65541712"></a><a id="tape-support"></a><p><strong>4.19.</strong></p></td><td align="left" valign="top"><p>Que tipos de dispositivos de fitas são
	    suportados pelo FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>O FreeBSD suporta dispositivos de fitas do tipo SCSI e
	    QIC-36 (com interface QIC-02).  Tal suporte inclui drives
	    8-mm (também conhecidos como Exabyte) e unidades de
	    fita DAT.</p><p>Alguns dispositivos 8-mm mais antigos não
	    são compatíveis com o padrão SCSI-2 e
	    por isso podem não funcionar bem no FreeBSD.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp65544144"></a><a id="tape-changer-support"></a><p><strong>4.20.</strong></p></td><td align="left" valign="top"><p>O FreeBSD suporta bibliotecas de fitas?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>O FreeBSD suporta alternadores (também
	    conhecidos com carrosséis) SCSI, usando o device
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ch&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">ch</span>(4)</span></a> e o comando <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chio&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">chio</span>(1)</span></a>.  Os detalhes
	    relativos a como controlar o alternador de fitas podem ser
	    encontrados na página de manual do
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chio&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">chio</span>(1)</span></a>.</p><p>Caso você não esteja usando o
	    <span class="application">AMANDA</span> ou qualquer outro
	    produto que entenda o funcionamento dos alternadores,
	    lembre-se que tal equipamento simplesmente alterna a
	    posição da fita, de um compartimento para
	    outro, e portanto deve-se saber em qual compartimento a
	    fita está e para qual ela deve voltar.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp65553488"></a><a id="sound-card-support"></a><p><strong>4.21.</strong></p></td><td align="left" valign="top"><p>Quais placas de som são suportadas pelo
	    FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>O FreeBSD suporta as placas SoundBlaster, SoundBlaster
	    Pro, SoundBlaster 16, Pro Audio Spectrum 16, AdLib e
	    Gravis UltraSound.  Existe ainda um suporte - limitado,
	    é verdade - para as placas MPU-401 e placas MIDI
	    compatíveis.  Placas de som que estiverem em
	    conformidade com a especificação MSS
	    (Microsoft Sound System) também são
	    suportadas pela controladora pcm do
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span>.</p><div xmlns="" class="note"><h3 class="admontitle">Nota: </h3><p xmlns="http://www.w3.org/1999/xhtml">Esse suporte é específico para apenas
	      som! Exceto no caso das placas SoundBlaster, o suporte
	      não inclui controle de joysticks, CDROMs ou SCSI.
	      A interface SCSI da SoundBlaster e alguns CDROMs
	      não-SCSI são suportados, mas o sistema
	      não pode iniciar(booting) a partir desses
	      dispositivos.</p></div></td></tr><tr class="question"><td align="left" valign="top"><a id="idp65556688"></a><a id="es1370-silent-pcm"></a><p><strong>4.22.</strong></p></td><td align="left" valign="top"><p>Qual a solução para falta de som da
	    minha placa es1370 com o controlador pcm?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Basta aumentar o volume do seu som ;-) Use os
	    seguintes comandos, sempre que o sistema iniciar:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mixer pcm 100 vol 100 cd 100</code></strong></pre></td></tr><tr class="question"><td align="left" valign="top"><a id="idp65559760"></a><a id="network-cards"></a><p><strong>4.23.</strong></p></td><td align="left" valign="top"><p>Quais placas de rede o FreeBSD suporta?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Veja a seção de <a class="link" href="../handbook/install.html#INSTALL-NICS" target="_top">Placas
	      Ethernet</a> do Manual do FreeBSD para uma lista
	    detalhada dos dispostivos suportados.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp65562320"></a><a id="no-math-coprocessor"></a><p><strong>4.24.</strong></p></td><td align="left" valign="top"><p>Eu não tenho um co-processador
	    matemático.  Isso é ruim?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><div xmlns="" class="note"><h3 class="admontitle">Nota: </h3><p xmlns="http://www.w3.org/1999/xhtml">Vale apenas para proprietários de
	      386/486SX/486SLC - outras máquinas terão
	      um co-processador integrado à CPU.</p></div><p>No geral, a falta de um co-processador
	    matemático não traz nenhum problema, mas
	    existem algumas circunstâncias onde você
	    encontrará sérias limitações,
	    seja no desempenho ou na precisão da
	    emulação dos seus cálculos (veja a
	    seção de <a class="link" href="#emul" title="7.4.">emulação FP</a>).  Por
	    exemplo, a renderização de círculos e
	    arcos no ambiente gráfico será uma tarefa
	    muito lenta.  É recomendável comprar um
	    co-processador matemático;  vale a pena.</p><div xmlns="" class="note"><h3 class="admontitle">Nota: </h3><p xmlns="http://www.w3.org/1999/xhtml">Alguns co-processadores matemáticos
	      são melhores que outros. É estranho ter
	      que dizer isso, mas ninguém nunca se deu mal ao
	      comprar co-processadores Intel, portanto tenha certeza
	      absoluta que o produto vai funcionar com o FreeBSD antes
	      de comprar um clone.</p></div></td></tr><tr class="question"><td align="left" valign="top"><a id="idp65570640"></a><a id="other-device-support"></a><p><strong>4.25.</strong></p></td><td align="left" valign="top"><p>Que outros dispositivos o FreeBSD suporta?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Veja o <a class="link" href="../handbook/install.html#INSTALL-MISC" target="_top">Manual do FreeBSD</a>
	    para obter uma listagem dos outros dispostivos
	    suportados.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp65573200"></a><a id="power-management-support"></a><p><strong>4.26.</strong></p></td><td align="left" valign="top"><p>O FreeBSD suporta gerenciamento de energia no meu
	    laptop?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>O FreeBSD suporta <acronym class="acronym">APM</acronym> em alguns
	    computadores.  Por gentileza, refira-se ao arquivo
	    <code class="filename">LINT</code> de configuração do
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span>;  procure pela
	    palavra <acronym class="acronym">APM</acronym>.  Mais
	    informações na página de manual do
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=apm&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">apm</span>(4)</span></a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp65581904"></a><a id="micron-hang-boot"></a><p><strong>4.27.</strong></p></td><td align="left" valign="top"><p>Por que placas Micron travam na
	    inicialização(boot)?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Algumas placas-mãe Micron não tem
	    conformidade na implementação de sua BIOS e
	    por isso confundem o FreeBSD no momento da
	    inicialização(boot), pois os equipamentos em
	    questão não foram configurados nos
	    endereços que a BIOS reportou.</p><p>Procure a opção <span class="quote">&#8220;<span class="quote">Plug and Play
	      Operating System</span>&#8221;</span> - ou algo parecido - na sua
	    BIOS e desabilite-a para corrigir o problema.  Mais
	    informações sobre esse problema podem ser
	    encontradas em <a class="link" href="http://cesdis.gsfc.nasa.gov/linux/drivers/vortex.html#micron" target="_top">http://cesdis.gsfc.nasa.gov/linux/drivers/vortex.html#micron</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp65585360"></a><a id="newer-adaptec-support"></a><p><strong>4.28.</strong></p></td><td align="left" valign="top"><p>Por que o FreeBSD não reconhece nenhuma
	    controladora SCSI Adaptec?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>As séries mais novas (AIC789x) dos chips
	    Adaptec tem suporte no modo CAM SCSI, que será
	    redefinido na versão 3.0 do FreeBSD.  Na
	    versão 2.2-STABLE, você pode aplicar as
	    correções disponíveis em <a class="link" href="ftp://ftp.FreeBSD.org/pub/FreeBSD/development/cam/" target="_top">ftp://ftp.FreeBSD.org/pub/FreeBSD/development/cam/</a>.
	    Caso você precise instalar um sistema com essas
	    controladoras, existe um disquete de
	    inicialização(boot) com suporta a CAM,
	    disponível em <a class="link" href="http://people.FreeBSD.org/~abial/cam-boot/" target="_top">
	      http://people.FreeBSD.org/~abial/cam-boot/</a>.  Nos
	    dois casos leia o arquivo README antes de tomar qualquer
	    ação.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp65588432"></a><a id="internal-plugnplay-modem"></a><p><strong>4.29.</strong></p></td><td align="left" valign="top"><p>Por que o FreeBSD não encontra o meu Modem Plug
	    &amp; Play interno?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Será necessário adicionar o ID PnP do
	    modem na lista de drivers seriais do sistema para que ele
	    reconheça-o normalmente.  Isso requer hackear um
	    pouco o sistema.  Pra habilitar o suporte Plug &amp; Play,
	    compile um novo <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> com
	    a opção <code class="literal">controller pnp0</code> e
	    reinicie o seu FreeBSD.  O
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> irá mostrar
	    os IDs PnP de todos os dispositivos que ele encontrar, no
	    momento da inicialização(boot).  Copie o ID
	    PnP do modem em questão para a tabela no arquivo
	    <code class="filename">/sys/i386/isa/sio.c</code>, por volta da
	    linha 2777.  Procure a expressão
	    <code class="literal">SUP1310</code> na estrutura
	    <code class="literal">siopnp_ids[]</code> para encontrar essa
	    tabela.  Recompile o seu
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span>, instale-o e
	    reinicie o sistema.  Seu modem deve ser encontrado.</p><p>Provavelmente será necessário configurar
	    o dispositivo PnP manualmente, usando o comando
	    <code class="literal">pnp</code> no momento do boot, como a
	    seguir:</p><pre class="programlisting">pnp 1 0 enable os irq0 3 drq0 0 port0 0x2f8</pre><p>para forçar detecção do
	    modem.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp65619536"></a><a id="support-winmodem"></a><p><strong>4.30.</strong></p></td><td align="left" valign="top"><p>O FreeBSD suporta software modems, como os
	    Winmodems?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>O FreeBSD suporta alguns software modems por meio de
	    programas adicionais.  A aplicação <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/comms/ltmdm/pkg-descr">comms/ltmdm</a> disponível
	    na coleção de <code class="literal">Ports</code> do
	    FreeBSD suporta os modems baseados no popular chipset
	    Lucent LT.  A aplicação <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/comms/mwavem/pkg-descr">comms/mwavem</a> suporta o modem
	    em laptops IBM Thinkpad 600 e 700.</p><p>Não é possível instalar o FreeBSD
	    via software modem, visto que os programas adicionais para
	    controlar esse equipamento só podem ser
	    configurados depois que o sistema operacional já
	    está instalado.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp65623248"></a><a id="serial-console-prompt"></a><p><strong>4.31.</strong></p></td><td align="left" valign="top"><p>Como eu faço para o interpretador(prompt) de
	    inicialização(boot): aparecer no console
	    serial?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Construa um <span class="foreignphrase"><em class="foreignphrase">kernel</em></span>
		com a opção <code class="literal">options
		  COMCONSOLE</code>.</p></li><li class="listitem"><p>Crie o arquivo /boot.config e coloque os
		caracteres <code class="option">-P</code> como o único
		texto no arquivo.  </p></li><li class="listitem"><p>Desligue o teclado do computador.</p></li></ol></div><p>Leia o arquivo
	    <code class="filename">/usr/src/sys/i386/boot/biosboot/README.serial</code>
	    para mais informações.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp65629520"></a><a id="micron-3comnic-failure"></a><p><strong>4.32.</strong></p></td><td align="left" valign="top"><p>Por que a placa de rede PCI da 3Com não
	    funciona com motherboards Micron?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Algumas placas-mãe Micron não tem
	    conformidade na implementação de sua BIOS e
	    por isso confundem o FreeBSD no momento do boot, pois os
	    equipamentos em questão não foram
	    configurados nos endereços que a BIOS
	    reportou.</p><p>Procure a opção <span class="quote">&#8220;<span class="quote">Plug and Play
	      Operating System</span>&#8221;</span> - ou algo parecido - na sua
	    BIOS e desabilite-a para corrigir o problema.</p><p>Mais informações sobre esse problema
	    podem ser encontradas em <a class="link" href="http://cesdis.gsfc.nasa.gov/linux/drivers/vortex.html#micron" target="_top">http://cesdis.gsfc.nasa.gov/linux/drivers/vortex.html#micron</a></p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp65637328"></a><a id="smp-support"></a><p><strong>4.33.</strong></p></td><td align="left" valign="top"><p>O FreeBSD suporta Multiprocessamento Simétrico
	    (SMP)?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>SMP é suportado a partir do FreeBSD 3.0-STABLE.
	    O suporte ao SMP (multiprocessamento simétrico)
	    não está disponível por padrão
	    no <span class="foreignphrase"><em class="foreignphrase">kernel</em></span>
	    <span class="emphasis"><em>GENERIC</em></span>, portanto é
	    necessário compilar um novo
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> para habilitar o
	    suporte SMP.  Veja o arquivo
	    <code class="filename">/sys/i386/conf/LINT</code> para descobrir
	    quais opções são necessárias
	    adicionar ao seu
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp65641424"></a><a id="asusk7v-boot-failure"></a><p><strong>4.34.</strong></p></td><td align="left" valign="top"><p>O disquete de inicialização(boot) trava
	    em um computador cuja placa-mãe é a ASUS
	    K7V.  O que eu faço?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Entre na configuração da BIOS da sua
	    placa e desligue a opção <span class="quote">&#8220;<span class="quote">boot virus
	      protection</span>&#8221;</span>.</p></td></tr></tbody></table></div></div><div class="chapter"><div xmlns="" class="titlepage"><div><div><h1 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="troubleshoot"></a>Capítulo 5. Resolução de Problemas</h1></div></div></div><div class="qandaset"><a id="idp65649104"></a><dl><dt>5.1. <a href="#idp65649360">O que fazer quando meu disco rígido tiver bad
	    blocks?
	  </a></dt><dt>5.2. <a href="#idp65665360">Por que o FreeBSD não reconhece a minha
	    controladora SCSI EISA Bustek 742a?</a></dt><dt>5.3. <a href="#idp65670608">Por que o FreeBSD não detecta a controladora
	    SCSI do Netserver HP??</a></dt><dt>5.4. <a href="#idp65688528">O que está havendo com minha controladora IDE
	    CMD640?</a></dt><dt>5.5. <a href="#idp65693136">Eu sempre vejo mensagens como ed1:
	      timeout.  O que elas significam?</a></dt><dt>5.6. <a href="#idp65696336">Por que minha placa 3COM 3C509 parou de funcionar sem
	    motivo aparente?</a></dt><dt>5.7. <a href="#idp65698768">Minha impressora paralela está ridiculamente
	    lenta.  O que devo fazer?</a></dt><dt>5.8. <a href="#idp65722448">Por que alguns programas ocasionalmente morrem com
	    erro de Signal 11 ?</a></dt><dt>5.9. <a href="#idp65744464">O meu sistema trava com o erro Fatal trap
	      12: page fault in kernel mode, ou
	    panic:, e sai mostrando uma
	    quantidade enorme de informações.  O que eu
	    faço?</a></dt><dt>5.10. <a href="#idp65748816">Por que a tela fica preta e perde sincronia quando eu
	    inicio o sistema?</a></dt><dt>5.11. <a href="#idp65765072">Por que o FreeBSD só detecta 64MB de
	    memória RAM se eu tenho 128MB instalados?</a></dt><dt>5.12. <a href="#idp65774160">Por que o FreeBSD 2.0 entre em pânico com a
	    mensagem kmem_map too
	      small!?</a></dt><dt>5.13. <a href="#idp65781456">Por que o erro /kernel: proc: table is
	      fullocorre?</a></dt><dt>5.14. <a href="#idp65833808">Por que acontece o erro CMAP
	      busy quando eu reinicio com um novo
	    kernel?</a></dt><dt>5.15. <a href="#idp65838416">O que a mensagem ahc0: brkadrint, Illegal
	      Host Access at seqaddr 0x0
	    significa??</a></dt><dt>5.16. <a href="#idp65842128">Quando eu inicio o sistema, encontro o erro
	    ahc0: illegal cable configuration,
	    mas o meu cabo está certo.  O que está
	    havendo?</a></dt><dt>5.17. <a href="#idp65844688">Por que o Sendmail retorna um erro que diz
	    &#8220;mail loops back to
		myself&#8221;?</a></dt><dt>5.18. <a href="#idp65857232">Porque algumas aplicações que usam tela
	    inteira não se comportam muito bem em
	    estações remotas?</a></dt><dt>5.19. <a href="#idp65880272">Por que meu computador apresenta a mensagem
	    calcru: negative time...?</a></dt><dt>5.20. <a href="#idp65886800">Acontece da pcm não ser encontrada, com a
	    mensagem pcm0 not found ou
	    então minha placa de som é encontrada na
	    pcm1 mas no meu
	    kernel a entrada se refere
	    a device pcm0.  O que está
	    havendo?</a></dt><dt>5.21. <a href="#idp65902544">Porque a minha placa PnP não é mais
	    encontrada (ou é encontrada como
	    unknown) desde a
	    atualização para o FreeBSD 4.X?</a></dt><dt>5.22. <a href="#idp65932112">Qual a causa do erro nlist
	      failed quando eu executo, por exemplo, o
	    top ou o
	    systat?</a></dt><dt>5.23. <a href="#idp65946704">Porque demora tanto para a conexão se
	    estabelecer via ssh ou
	    telnet?</a></dt><dt>5.24. <a href="#idp65954000">O que a mensagem stray IRQ quer
	    dizer?</a></dt><dt>5.25. <a href="#idp65960656">Por que a mensagem file: table is
	      full aparece repetidas vezes no
	    dmesg?</a></dt><dt>5.26. <a href="#idp65972688">Por que o relógio do meu laptop mantem a hora
	    incorreta?</a></dt><dt>5.27. <a href="#idp66001360">Por que o meu laptop não funciona muito bem na
	    hora de identificar cartões PCMCIA?</a></dt><dt>5.28. <a href="#idp66005200">Por que o bootloader do FreeBSD mostra a mensagem
	    Read error e pára
	    completamente logo após a tela da BIOS?</a></dt><dt>5.29. <a href="#idp66011472">Outro sistema operacional destruiu o meu gerenciador
	    de inicialização(Boot Manager).  Como eu o
	    recupero?
	  </a></dt><dt>5.30. <a href="#idp66023376">O que o erro swap_pager: indefinite wait
	      buffer: quer dizer?</a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%" /><col /></colgroup><tbody><tr class="question"><td align="left" valign="top"><a id="idp65649360"></a><a id="awre"></a><p><strong>5.1.</strong></p></td><td align="left" valign="top"><p>O que fazer quando meu disco rígido tiver bad
	    blocks?
	  </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Com controladoras SCSI, o drive (HD) deveria ser capaz
	    de remapear blocos ruins e corrigí-los
	    automaticamente.  Porém, muitos desses discos
	    mantém essa função desabilitada por
	    alguma razão misteriosa...</p><p>Para habilitar essa função é
	    necessário editar o primeiro modo de página
	    do dispositivo, o qual pode ser feito com o comando abaixo
	    (como <code class="systemitem">root</code>)</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>scsi -f /dev/rsd0c -m 1 -e -P 3</code></strong></pre><p>E mudando os valores de AWRE e ARRE de 0 para
	    1:-</p><pre class="programlisting">AWRE (Auto Write Reallocation Enbld):  1
ARRE (Auto Read Reallocation Enbld):  1</pre><p>Os parágrafos seguintes foram enviados por Ted
	    Mittelstaedt <code class="email">&lt;<a xmlns="" class="email" href="mailto:tedm@toybox.placo.com">tedm@toybox.placo.com</a>&gt;</code>:</p><p>Para os discos IDE, qualquer bad block é
	    considerado um sinal de dificuldade em potencial.  Todos
	    os discos IDE modernos já vêm com um
	    remapeador interno que realoca bad blocks por outros
	    blocos em bom estado, automaticamente.  Todos os disco
	    rígido IDE fabricados hoje em dia oferecem
	    garantias extensas.</p><p>Se ainda quiser tentar salvar um drive IDE com bad
	    blocks, pode fazer um download do programa de
	    diagnóstico e correção do
	    próprio fabricante do disco rígido.
	    Às vezes estes programas podem fixar e
	    forçar eletronicamente o disco a marcar estes
	    blocos ruins e desativá-los.</p><p>Em discos ESDI, RLL e MFM, a existência de bad
	    blocks é normal e não representa nenhum
	    sinal de dificuldade,geralmente.  Em um PC, a placa
	    controladora das unidades de disco e, a BIOS se encarregam
	    da tarefa de re-mapear os bad blocks.  Isso funciona em
	    sistemas operacionais como DOS que usa código da
	    BIOS para acessar o disco.  Porém, o driver
	    (software controlador) do FreeBSD não trabalha ou
	    acessa comandos da BIOS para para interagir com o drive
	    (HD), então um mecanismo chamado bad144, existente
	    no FreeBSD, acaba substituindo esta funcionalidade.  O
	    bad144 só trabalha com o drive wd (portanto,
	    não é suportado no FreeBSD 4.0), e
	    não pode ser usado com drive SCSI.  O bad144
	    trabalha marcando e organizando setores ruins encontrados
	    no HD, em um arquivo especial no disco.</p><p>Uma característica do bad144 - o bloco
	    danificado é colocado em um arquivo especial
	    situado na última trilha do disco.  Como este
	    arquivo contém uma lista de setores defeituosos que
	    pode incluir valores perto do início do disco, onde
	    o /kernel pode estar alocado, esse arquivo deverá
	    ser acessível ao bootstrap para que o programa -
	    por meio da BIOS - leia o
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span>;  isso significa que
	    o disco usado com bad144 não deve exceder 1024
	    cilindros, 16 cabeças, e 63 setores, logo, temos um
	    limite efetivo de 500MB para discos mapeados com o
	    bad144..</p><p>Para ativar o uso do bad144, simplesmente defina a
	    opção de procurar por <span class="quote">&#8220;<span class="quote">Bad
	      Block</span>&#8221;</span> como ON na tela do fdisk do FreeBSD,
	    durante a instalação.  Essas
	    instruções funcionam a partir do FreeBSD
	    2.2.7, e o disco deve ter menos que 1024 cilindros.
	    Geralmente recomenda-se que a unidade de disco esteja em
	    operação durante pelo menos 4 horas antes de
	    executar o bad144, permitindo assim a expansão
	    térmica do HD.</p><p>Se o disco tem mais de 1024 cilindros (como um disco
	    ESDI grande) a controladora ESDI usa um tipo de
	    tradução especial em modo DOS.  A device wd
	    também entende esses mesmos modos de
	    tradução e conversão, isso se o
	    <span class="quote">&#8220;<span class="quote">tradutor</span>&#8221;</span> de geometria for ativado como
	    <span class="quote">&#8220;<span class="quote">geometria fixa</span>&#8221;</span>, quando particionado pelo
	    fdisk.  Você também não deve usar o
	    modo <span class="quote">&#8220;<span class="quote">dangerously dedicated</span>&#8221;</span> para criar
	    partições do FreeBSD, pois isso ignora o
	    tipo de geometria.  Embora o fdisk use a geometria
	    definida pelo usuário, ele continua reconhecendo o
	    tamanho verdadeiro do disco, e tentará criar uma
	    partição maior para o FreeBSD.  Se a
	    geometria de disco for alterada para geometria
	    traduzida(translated geometry), a partição
	    DEVE ser criada manualmente, informando os números
	    de blocos do HD.</p><p>Um truque rápido é usar um disco grande
	    ESDI com uma controladora ESDI, iniciar(booting) o sistema
	    com um disco DOS e formatar uma partição
	    DOS.  Depois reiniciar o sistema com um disco de
	    instalação do FreeBSD, e anotar o
	    número e tamanho dos blocos que serão
	    apresentados na tela do fdisk para a
	    partição DOS.  Redefina a geometria do disco
	    com os valores anotados, apague a partição
	    DOS e crie uma partição FreeBSD
	    <span class="quote">&#8220;<span class="quote">cooperativa</span>&#8221;</span>.  Defina essa
	    partição como bootável e habilite o
	    reconhecimento de bad blocks.  Na
	    instalação, o bad144 é carregado
	    antes que qualquer outro sistema de arquivos seja criado
	    (você pode ver isso com um
	    <span class="keycap"><strong>Alt</strong></span>+<span class="keycap"><strong>F2</strong></span>).
	    Se houver problemas na criação do arquivo de
	    definições de setor danificado (o arquivo de
	    badsector) é porque a geometria definida é
	    maior do que o seu valor real - reinicie o sistema e
	    comece todos os procedimentos novamente, inclusive o
	    particionamento e formatação da
	    partição DOS.</p><p>Se o remapeamento já estiver habilitado e os
	    problemas com bad block continuarem, considere a
	    substituição imediata do disco, pois os
	    danos e os bad blocks aumentarão consideravelmente
	    com o passar do tempo.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp65665360"></a><a id="bustek742a-eisa-scsi"></a><p><strong>5.2.</strong></p></td><td align="left" valign="top"><p>Por que o FreeBSD não reconhece a minha
	    controladora SCSI EISA Bustek 742a?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>As informações a seguir são para
	    o modelo 742a, mas provavelmente também servem para
	    as placas Buslogic.  (Bustek = Buslogic).</p><p>Existem duas <span class="quote">&#8220;<span class="quote">versões</span>&#8221;</span>
	    tradicionais da placa 742a.  São os equipamentos de
	    revisão A-G e de revisão H;  as letras de
	    cada revisão são colocadas depois do
	    número de fabricação, ao lado das
	    placas.  A placa 742a possui 2 chips ROM acoplados, o
	    primeiro é o chip da BIOS e o segundo é o do
	    Firmware.  Para o FreeBSD a versão da BIOS é
	    irrelevante, mas a versão do Firmware é uma
	    informação fundamental.  É
	    interessante dizer que, se você fizer uma chamada ao
	    departamento de suporte da Buslogic, eles irão te
	    enviar um upgrade desses ROMs, e é muito bom sempre
	    manter a versão mais recente do ROM do seu Firmware
	    para a versão de revisão do seu
	    equipamento.</p><p>As placas cuja letra de revisão é A-G
	    aceitam apenas atualizações da BIOS/Firmware
	    de versão 2.41/2.21 respectivamente.  A
	    revisão H (REV H) aceita as versões mais
	    recentes da BIOS/Firmware até a versão
	    4.70/3.37.  A principal diferença entre as
	    versões do Firmware é que a versão
	    3.37 tem suporte a<span class="quote">&#8220;<span class="quote">round robin</span>&#8221;</span>.</p><p>As placas Buslogic também tem um número
	    serial.  Caso seu equipamento seja antigo, tente abrir uma
	    chamada no departamento de RMA da Buslogic e informe-os o
	    número de série da sua placa.  Se ela
	    estiver entre os seriais de abrangência, a Buslogic
	    vai aceitar seu equipamento para revisão.</p><p>O FreeBSD 2.1 aceita apenas as revisões de
	    Firmware até o 2.21.  Caso o seu Firmware seja mais
	    antigo do que o 2.21 sua placa não será
	    reconhecida como Buslogic.  Contudo, é
	    possível que o equipamento seja reconhecido como
	    Adaptec 1540, já que os Firmware mais antigos da
	    Buslogic possuem um modo de
	    <span class="quote">&#8220;<span class="quote">emulação</span>&#8221;</span> da AHA1540, o que
	    não é uma boa coisa, para uma placa
	    EISA.</p><p>Caso seu Firmware seja antigo e você conseguiu
	    obter uma revisão para a versão 2.21,
	    não se esqueça que é
	    necessário alterar o jumper W1 da
	    posição A-B (padrão) para
	    posição B-C ao atualizar a placa.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp65670608"></a><a id="hpnetserver-scsi-failure"></a><p><strong>5.3.</strong></p></td><td align="left" valign="top"><p>Por que o FreeBSD não detecta a controladora
	    SCSI do Netserver HP??</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Isso já é um problema conhecido.  A
	    controladora SCSI on-board EISA dos servidores HP
	    Netserver estão no slot EISA número 11,
	    portanto todos os <span class="quote">&#8220;<span class="quote">verdadeiros</span>&#8221;</span> slots EISA
	    estão na sua frente.  O endereço definido
	    para os slots EISA &gt;= 10 ocupa um endereço
	    compartilhado com o barramento PCI, e portanto entra em
	    conflito com seus recursos.  Essa é uma
	    situação onde a configuração
	    automática do FreeBSD não se comporta muito
	    bem.</p><p>Portanto o que você deve fazer, é fingir
	    que não existe limitação quanto ao
	    intervalo de endereços, definindo a
	    opção option <code class="literal">EISA_SLOTS</code>
	    do <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> para o valor 12.
	    Configure e compile um novo
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span>, conforme descrito
	    no <a class="link" href="../handbook/kernelconfig.html" target="_top">capítulo de
	      configuração do
	      <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> no
	      Manual do FreeBSD</a>.</p><p>Obviamente esse problema é ainda maior quando
	    se trata de uma nova instalação.  Para
	    corrigir esse problema é necessário uma
	    pequena alteração no modo
	    <span class="emphasis"><em>UserConfig</em></span>.  Não use a
	    interface de configuração
	    <span class="quote">&#8220;<span class="quote">visual</span>&#8221;</span> do
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span>, use a Interface de
	    Linha de Comando (CLI), simplesmente digitando:</p><pre class="programlisting">eisa 12
quit</pre><p>na tela do modo CLI, e continue a
	    instalação do FreeBSD como de costume.  De
	    qualquer forma, é recomendável recompilar e
	    instalar um novo <span class="foreignphrase"><em class="foreignphrase">kernel</em></span>
	    depois da instalação do sistema..</p><p>Futuras versões do FreeBSD terão esse
	    problema corrigido automaticamente.</p><div xmlns="" class="note"><h3 class="admontitle">Nota: </h3><p xmlns="http://www.w3.org/1999/xhtml">Não use discos em modo <code class="literal">dangerously
		dedicated</code> com um HP Netserver.  Veja <a class="link" href="#dedicate">essa nota</a> para maiores
	      informações.</p></div></td></tr><tr class="question"><td align="left" valign="top"><a id="idp65688528"></a><a id="cmd640-ide"></a><p><strong>5.4.</strong></p></td><td align="left" valign="top"><p>O que está havendo com minha controladora IDE
	    CMD640?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Está com defeito!  Não suporta mais
	    comandos nos dois canais de forma simultânea.</p><p>Existe uma correção disponível e
	    automaticamente habilitada, se você usa uma
	    controladora com esse chip.  Para maiores detalhes,
	    refira-se a página de manual da controladora de
	    disco (<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=wd&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">wd</span>(4)</span></a>).</p><p>Se o FreeBSD em questão é o FreeBSD
	    2.2.1 ou 2.2.2 com essa controladora em questão, e
	    você quer usar o segundo canal, compile um novo
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> com a
	    opção <code class="literal">options "CMD640"</code>
	    habilitada.  Essa configuração é
	    padrão para o FreeBSD 2.2.5 e posteriores.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp65693136"></a><a id="ed1-timeout"></a><p><strong>5.5.</strong></p></td><td align="left" valign="top"><p>Eu sempre vejo mensagens como <span class="errorname">ed1:
	      timeout</span>.  O que elas significam?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Normalmente esse problema é causado por um
	    conflito de interrupções (por exemplo, duas
	    placas usando a mesma IRQ).  O FreeBSD até a
	    versão 2.0.5R costumava ser tolerante quanto a esse
	    problema e a placa de rede continuava funcionando mesmo
	    com IRQ conflitantes.  Contudo desde a versão
	    2.0.5R os conflitos de interrupções
	    não são mais tolerados.  Inicie o sistema
	    com a opção de boot -c e mude as device
	    ed0/de0/...  para o valor correspondente ao da
	    placa.</p><p>Caso esteja usando um conector BNC na sua placa de
	    rede, é provável que existam device timeout
	    por causa de má terminação do
	    barramento.  Pra tirar isso a limpo coloque um terminador
	    direto na placa (sem cabos) e veja se as mensagens de erro
	    param.</p><p>Algumas placas compatíveis NE2000
	    apresentarão esse problema caso a porta UTP
	    não receba sinal de link, ou se o cabo estiver
	    desconectado.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp65696336"></a><a id="bad-3c509"></a><p><strong>5.6.</strong></p></td><td align="left" valign="top"><p>Por que minha placa 3COM 3C509 parou de funcionar sem
	    motivo aparente?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Esse cartão tem um hábito
	    horrível de perder suas informações
	    de configuração.  Redefina as
	    informações da placa usando o programa de
	    DOS chamado <code class="command">3c5x9.exe</code>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp65698768"></a><a id="printer-slow"></a><p><strong>5.7.</strong></p></td><td align="left" valign="top"><p>Minha impressora paralela está ridiculamente
	    lenta.  O que devo fazer?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Se o único problema é a lerdeza
	    terrível da sua impressora, tente mudar seu <a class="link" href="../handbook/printing-intro-setup.html#PRINTING-PARALLEL-PORT-MODE" target="_top">modo
	      da porta de impressão</a> conforme discutido
	    na seção de <a class="link" href="../handbook/printing-intro-setup.html" target="_top">Configuração
	      de Impressoras</a> no Manual do FreeBSD.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp65722448"></a><a id="signal11"></a><p><strong>5.8.</strong></p></td><td align="left" valign="top"><p>Por que alguns programas ocasionalmente morrem com
	    erro de <span class="errorname">Signal 11</span> ?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Erros de sinal 11 são fruto de tentativas de
	    acesso indevido a memória.  Esse acesso normalmente
	    é controlado pelo sistema operacional, e quando o
	    sistema não permite acessar determinados
	    endereços, o processo é morto com signal 11.
	    Se isso estiver acontecendo em intervalos
	    aleatórios de tempo, é preciso investigar as
	    causas com cuidado.</p><p>Esse problema normalmente é atribuído
	    a:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Se o problema ocorre apenas em um programa
		específico que você mesmo esta
		desenvolvendo, se trata de um bug no código do
		seu programa.</p></li><li class="listitem"><p>Se o problema é com algum programa que faz
		parte da base do FreeBSD, é possível que
		também seja um problema de bug no código
		em questão.  Contudo, esses problemas costumam
		ser corrigidos antes que os usuários
		tradicionais percebam sua existência - e
		necessitem ler este <code class="literal">FAQ</code> - afinal,
		é para isso que o -CURRENT existe.</p></li></ol></div><p>Em especial, uma indicação que esse
	    problema <span class="emphasis"><em>não</em></span> é um bug
	    do FreeBSD, é um erro repetitivo no mesmo instante
	    da compilação, mas o problema que o
	    compilador apresenta muda de linha a cada nova
	    compilação.</p><p>Por exemplo, suponha que você esteja executando
	    um <span class="quote">&#8220;<span class="quote">make buildworld</span>&#8221;</span>, e a
	    compilação falha na hora de compilar o
	    <code class="filename">ls.c</code> em <code class="filename">ls.o</code>. Se
	    você rodar o <span class="quote">&#8220;<span class="quote">make buildworld</span>&#8221;</span> de novo
	    e a compilação falha exatamente no mesmo
	    trecho do código, então o problema realmente
	    é com o fonte da aplicação, nesse
	    caso atualize os fontes do FreeBSD e tente novamente.
	    Agora se a compilação falhar em um trecho
	    diferente do código, é quase certo que o
	    problema seja físico, ou seja, com o seu
	    equipamento.</p><p>O que deve ser feito:</p><p>Em primeiro lugar, deve-se usar um debugador, como o
	    gdb, por exemplo, para encontrar o ponto exato do
	    código que está tentando acessar um
	    endereço problemático de memória, e
	    corrigi-lo.</p><p>Em segundo lugar, verifique se a culpa não
	    é do seu equipamento.</p><p>As causas mais comuns para o problema incluem::</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Os seus discos rígidos podem estar
		superaquecidos: Verifique se o sistema de
		ventilação do seu PC está
		funcionando.  Verifique coolers internos (da fonte) e
		externos, e verifique se não existe
		superaquecimento de outros componentes do
		computador.</p></li><li class="listitem"><p>O processador está superaquecido: Pode ser
		porque foi feito um overclock no processador em
		questão, ou no caso mais tradicional, pode ser
		que o cooler tenha parado de funcionar ou que esteja
		sujo e portanto funcionando em rotação
		baixa.  Em ambos os casos, o primeiro passo é
		garantir que o processador esteja rodando sob as
		mesmas condições que ele foi
		construído para funcionar - por exemplo, com a
		velocidade do clock original e com a
		ventilação adequada.</p><p>Caso tenha sido feito overclock no processador,
		lembre-se que é mais barato usar um computador
		um pouco mais lento, do que trocar o processador da
		máquina por causa de um chip fritado ;-)
		Além do que a maioria das pessoas não
		são simpatizantes de overclock, mesmo que
		você considere a ação segura ou
		não.</p></li><li class="listitem"><p>Caso tenha múltiplos pentes de
		memória SIMM/DIMM, tente desligá-los e
		experimente usar cada pente de uma vez,
		indiviualmente.  Com isso é possível
		descobrir se o problema é com algum chip
		DIMM/SIMM ou se o problema é a
		combinação entre os pentes.</p></li><li class="listitem"><p>Configurações super otimistas na
		BIOS da sua placa mãe são outra causa
		provável.  Algumas BIOS tem
		opções que permitem alterar a velocidade
		e frequência de vários recursos.
		Normalmente os valores padrão na BIOS
		são os mais conservadores, e portanto devem ser
		o bastante para controlar corretamente o equipamento;
		contudo algumas opções como por exemplo
		<span class="quote">&#8220;<span class="quote">RAM Speed: Turbo</span>&#8221;</span> ou alguma
		opção parecida coloca o estado de espera
		para o acesso a memória em um valor muito
		baixo, e as vezes, por mais otimista que você
		seja, sua memória pode não ser
		rápida o bastante.  O ideal é definir os
		valores padrão da sua BIOS, mas é
		interessante anotar os valores atuais primeiro!</p></li><li class="listitem"><p>Alimentação insuficiente de energia
		na placa-mãe.  Caso exista alguma placa que
		não esteja sendo utilizada, algum disco
		rígido ou CDROM, é interessante
		desliga-los temporariamente do computador, ou
		simplesmente remover o cabo de energia desses
		equipamentos.  Mesmo em sub utilização,
		essas placas e discos estão sob constante
		alimentação e talvez sua fonte consiga
		suprir uma carga menor.  Ou tente trocar a fonte do
		seu PC, de preferência por uma com maior poder
		de alimentação (por exemplo, se a sua
		fonte é de 250 Watts troque por uma de 300
		Watts).</p></li></ol></div><p>Leia ainda o <code class="literal">FAQ</code> SIG11
	    (disponível a seguir) que tem outras boas
	    explicações sobre esses problemas.  O
	    <code class="literal">FAQ</code> também discute como alguns
	    programas de teste de memória podem pensar que um
	    pente problemático está funcionando
	    corretamente.</p><p>Finalmente, se nenhum dos casos acima ajudou a
	    solucionar seu problema, pode ser que exista um bug no
	    FreeBSD.  Você deve seguir as
	    intruçõoes para enviar um relatório
	    de problemas para o Projeto FreeBSD.</p><p>Existe um <code class="literal">FAQ</code> extenso que cobre
	    esse assunto, disponível <a class="link" href="http://www.bitwizard.nl/sig11/" target="_top"> no
	      <code class="literal">FAQ</code> dos problemas com
	      SIG11.</a></p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp65744464"></a><a id="trap-12-panic"></a><p><strong>5.9.</strong></p></td><td align="left" valign="top"><p>O meu sistema trava com o erro <span class="errorname">Fatal trap
	      12: page fault in kernel mode</span>, ou
	    <span class="errorname">panic:</span>, e sai mostrando uma
	    quantidade enorme de informações.  O que eu
	    faço?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>A equipe de desenvolvimento do FreeBSD tem muito
	    interesse nesse tipo de erro, mas é
	    necessário obter algumas informações
	    suplementares, do que apenas o erro que você
	    está tendo.  Copie sua mensagem de erro inteira,
	    consulte o <code class="literal">FAQ</code> sobre <a class="link" href="#kernel-panic-troubleshooting" title="18.13."><span class="foreignphrase"><em class="foreignphrase">kernel</em></span>
	      panics</a>, compile um
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> em modo de
	    debugação e tente analisar o problema.
	    Parece uma tarefa difícil, mas não é
	    necessário conhecimento de
	    programação; basta seguir as
	    instruções.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp65748816"></a><a id="screen-loses-sync"></a><p><strong>5.10.</strong></p></td><td align="left" valign="top"><p>Por que a tela fica preta e perde sincronia quando eu
	    inicio o sistema?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Esse é um problema conhecido da placa de
	    vídeo ATI Mach 64.  O problema é que essa
	    placa usa o endereço <code class="literal">2e8</code>, o
	    mesmo utilizado pela quarta porta serial dos computadores
	    pessoais.  Devido a um bug (ou uma vantagem?) da
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sio&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">sio</span>(4)</span></a> ,essa porta será sempre reconhecida,
	    ainda que não exista a quarta porta serial no seu
	    computador, ou <span class="emphasis"><em>mesmo</em></span> se o sio3 (a
	    quarta porta) estiver desabilitado.</p><p>Até que o bug seja corrigido, você pode
	    usar essa solução:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Entre no modo de configuração do
		<span class="foreignphrase"><em class="foreignphrase">kernel</em></span> com
		opção <code class="option">-c</code> na tela de
		inicialização(boot).  (Isto colocara o
		<span class="foreignphrase"><em class="foreignphrase">kernel</em></span> no modo de
		configuração).</p></li><li class="listitem"><p>Desabilite a <code class="filename">sio0</code>,
		<code class="filename">sio1</code>,
		<code class="filename">sio2</code> e
		<code class="filename">sio3</code> (todas elas).  Dessa
		forma será ativada, logo, você não
		terá -&gt; problemas.</p></li><li class="listitem"><p>Digite exit para continuar o boot.</p></li></ol></div><p>Caso queira usar as portas seriais, será
	    necessário construir um
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> customizado, com as
	    seguintes alterações: no fonte
	    <code class="filename">/usr/src/sys/i386/isa/sio.c</code> encontre
	    a ocorrência da expressão
	    <code class="literal">0x2e8</code> e apague essa expressão e
	    a vírgula que a antecede (mantenha a outra).
	    Depois compile o novo
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> normalmente.</p><p>Mesmo depois dessa correção, é
	    provável que o X Windows ainda não funcione
	    como esperado.  Se for o caso, garanta que a versão
	    do Xfree86 em questão seja ao menos o XFree86 3.3.3
	    ou uma versão superior.   Esse XFree86 e os
	    posteriores tem suporte nativo às placas de
	    vídeo Mach64, e tem inclusive um X Server dedicado
	    para tal equipamento.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp65765072"></a><a id="reallybigram"></a><p><strong>5.11.</strong></p></td><td align="left" valign="top"><p>Por que o FreeBSD só detecta 64MB de
	    memória RAM se eu tenho 128MB instalados?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Devido à maneira que o FreeBSD obtém as
	    informações quanto ao tamanho da
	    memória disponível por intermédio da
	    BIOS, pode acontecer de apenas 16 bits válidos
	    serem detectados (65535 Kbytes = 64MB) ou até
	    menos, dependendo da BIOS (em alguns casos, apenas 16MB).
	    Mesmo nessa situação o FreeBSD tenta
	    detectar mais que 64MB de memória, mas esse
	    reconhecimento pode falhar.</p><p>Pra corrigir esse problema pode ser usada a
	    opção do
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> descrita a seguir.
	    Existe uma forma de obter informações
	    completas quanto ao tamanho da memória, a partir da
	    BIOS, mas devido a algumas limitações isso
	    nem sempre é possível hoje em dia.
	    Futuramente será.  De qualquer forma, temos ainda a
	    opção do
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> para
	    situações onde toda a memória
	    não puder ser reconhecida.</p><p><code class="literal">options
	      "MAXMEM=n"</code></p><p>Onde <em class="replaceable"><code>n</code></em> equivale à
	    memória (em Kilobytes) disponível no
	    sistema.  Para 128 MB de memória, use o valor
	    <code class="literal">131072</code>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp65774160"></a><a id="panic-kmemmap-too-small"></a><p><strong>5.12.</strong></p></td><td align="left" valign="top"><p>Por que o FreeBSD 2.0 entre em pânico com a
	    mensagem <span class="errorname">kmem_map too
	      small!</span>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><div xmlns="" class="note"><h3 class="admontitle">Nota: </h3><p xmlns="http://www.w3.org/1999/xhtml">A mensagem em questão também pode ser
	      <code class="literal">mb_map too small!</code></p></div><p>Essa mensagem de pânico indica que o sistema
	    ficou sem memória suficiente pros buffers de rede
	    (especificamente, os mbuf clusters).  A quantidade de
	    memória virtual disponível para os clusters
	    mbuf pode ser elevada com a opção::</p><p><code class="literal">options
	      "NMBCLUSTERS=n"</code></p><p>no arquivo de configuração do seu
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span>, onde
	    <em class="replaceable"><code>n</code></em> equivale ao valor entre
	    512-4096, dependendo do número de conexões
	    TCP simultâneas que você espera poder
	    suportar.  O valor 2048 é recomendável, e
	    provavelmente será o bastante para sanar o problema
	    que causa o pânico em questão O número
	    de clusters mbuf em uso pode ser monitorado com o comando
	    <code class="command">netstat -m</code> (veja <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=netstat&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">netstat</span>(1)</span></a>).  O
	    valor padrão para a variável NMBCLUSTERS no
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> do FreeBSD é
	    <code class="literal">512 + MAXUSERS * 16</code>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp65781456"></a><a id="proc-table-full"></a><p><strong>5.13.</strong></p></td><td align="left" valign="top"><p>Por que o erro <span class="errorname">/kernel: proc: table is
	      full</span>ocorre?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>O <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> do FreeBSD
	    limita o número máximo de processos
	    simultâneos existentes no sistema.  O número
	    em questão é baseado na opção
	    <code class="literal">MAXUSERS</code>.  do sistema.  A
	    opção <code class="literal">MAXUSERS</code> afeta
	    ainda inúmeros outros limites do
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> do FreeBSD, como por
	    exemplo os buffers disponíveis para o stack de rede
	    do sistema (veja <a class="link" href="#panic-kmemmap-too-small" title="5.12.">esta</a> resposta
	    anterior).  Se o computador estiver sob grande carga,
	    provavelmente será necessário aumentar o
	    <code class="literal">MAXUSERS</code>.  Essa alteração
	    aumentará os limites do sistema em
	    adição ao número de processos
	    permitido.</p><p>Desde a versão 4.4 do FreeBSD, o valor para
	    <code class="literal">MAXUSERS</code> se tornou configurável,
	    não sendo mais necessário recompilar o
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> para
	    alterá-lo, bastando definir a variável
	    <code class="varname">kern.maxusers</code> no arquivo
	    <code class="filename">/boot/loader.conf</code>.  Em
	    versõoes mais recentes do FreeBSD, deve-se ajustar
	    o <code class="literal">MAXUSERS</code> em sua
	    configuração do
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span>.</p><p>Caso seu sistema não esteja muito carregado,
	    mas o número de processos simultâneos ainda
	    assim é alto basta definir a variável
	    <code class="varname">kern.maxproc</code> com o sysctl.  Em casos
	    especiais, onde esses inúmeros processos
	    estão sendo executados por um único
	    usuário, será preciso alterar ainda alterar
	    o valor da variável
	    <code class="varname">kern.maxprocperuid</code> para um a menos do
	    que o valor de <code class="varname">kern.maxproc</code>.  (deve ser
	    ao menos 1 processo a menos, visto que ao menos o
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=init&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">init</span>(8)</span></a> do sistema vai estar sempre em
	    execução.)</p><p>Para tornar uma alteração de
	    variável do sysctl permanente, defina-a no arquivo
	    <code class="filename">/etc/sysctl.conf</code> nas versões
	    mais recentes do FreeBSD, ou então no arquivo
	    <code class="filename">/etc/rc.local</code> em versões mais
	    antigas do sistema.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp65833808"></a><a id="cmap-busy-panic"></a><p><strong>5.14.</strong></p></td><td align="left" valign="top"><p>Por que acontece o erro <span class="errorname">CMAP
	      busy</span> quando eu reinicio com um novo
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>A lógica que tenta detectar uma data errada nos
	    arquivos <code class="filename">/var/db/kvm_*.db</code> as vezes
	    é falha, o que leva o sistema a entrar em
	    pânico.</p><p>Se for o caso, reinicie seu sistema em modo
	    monousuário e faça:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>rm /var/db/kvm_*.db</code></strong></pre></td></tr><tr class="question"><td align="left" valign="top"><a id="idp65838416"></a><a id="brkadrint-illegal-host-access"></a><p><strong>5.15.</strong></p></td><td align="left" valign="top"><p>O que a mensagem <span class="errorname">ahc0: brkadrint, Illegal
	      Host Access at seqaddr 0x0</span>
	    significa??</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Trata-se de um conflito com o Ultrastor SCSI Host
	    Adapter.</p><p>Durante o processo de
	    inicialização(boot), entre no menu de
	    configuração do
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> e desabilite a
	    <code class="filename">uha0</code>, que esta causando o
	    problema.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp65842128"></a><a id="aci0-illegal-cable"></a><p><strong>5.16.</strong></p></td><td align="left" valign="top"><p>Quando eu inicio o sistema, encontro o erro
	    <span class="errorname">ahc0: illegal cable configuration</span>,
	    mas o meu cabo está certo.  O que está
	    havendo?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>A placa-mãe em questão não
	    consegue se dar bem com o suporte a
	    terminação automática do barramento.
	    Altere sua BIOS SCSI para a terminação
	    correta, de acordo com a configuração do
	    equipamento, ao invés de usar
	    terminação automática.  O driver
	    AIC7XXX não consegue descobrir se o reconhecimento
	    externo dos cabos (e conseqüente
	    auto-terminação) está
	    disponível, e portanto ele simplesmente assume que
	    o suporte existe, caso a configuração da
	    EEPROM serial esteja definida como automatic termination.
	    Sem o reconhecimento de cabo externo o driver irá
	    sempre configurar a terminação de forma
	    incorreta, o que compromete a confiabilidade do barramento
	    SCSI.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp65844688"></a><a id="mail-loopback"></a><p><strong>5.17.</strong></p></td><td align="left" valign="top"><p>Por que o Sendmail retorna um erro que diz
	    <span class="quote">&#8220;<span class="quote"><span class="errorname">mail loops back to
		myself</span></span>&#8221;</span>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Essa pergunta é respondida no
	    <code class="literal">FAQ</code> do próprio Sendmail, e
	    diz:-</p><div class="literallayout"><p>        * Eu estou tendo problemas de configurações local "Local configuration error" como essas:<br />
<br />
        553 relay.domain.net config error: mail loops back to myself<br />
        554 &lt;user@domain.net&gt;...  Local configuration error<br />
<br />
	Como posso resolver esse problema?<br />
<br />
	Você definiu que as mensagens enviadas para o domínio<br />
	em questão (domain.net) devem ser repassadas para uma outra<br />
	estação específica (nesse caso para<br />
	relay.domain.net) usando um registro MX, mas essa máquina de<br />
	relay não se reconhece como a estação<br />
	responsável pelas mensagens do domínio domain.net.<br />
	Adicione domain.net no arquivo /etc/mail/local-host-names<br />
	(caso você esteja usando FEATURE(use_cw_file)) ou então<br />
	adicione a linha "Cw domain.net" em /etc/mail/sendmail.cf.<br />
            </p></div><p>Atualmente a versão mais recente do <a class="link" href="ftp://rtfm.mit.edu/pub/usenet/news.answers/mail/sendmail-faq" target="_top"><code class="literal">FAQ</code>
	      do sendmail</a> é mantida em sincronia com as
	    versões mais atuais do MTA, mas ela ainda é
	    enviada regularmente para os grupos de notícias
	    <a class="link" href="news:comp.mail.sendmail" target="_top">comp.mail.sendmail</a>,
	    <a class="link" href="news:comp.mail.misc" target="_top">comp.mail.misc</a>,
	    <a class="link" href="news:comp.mail.smail" target="_top">comp.mail.smail</a>,
	    <a class="link" href="news:comp.answers" target="_top">comp.answers</a>, e
	    <a class="link" href="news:news.answers" target="_top">news.answers</a>.
	    Ainda é possível receber um cópia por
	    e-mail do <code class="literal">FAQ</code>, enviando uma mensagem
	    para <code class="email">&lt;<a xmlns="" class="email" href="mailto:mail-server@rtfm.mit.edu">mail-server@rtfm.mit.edu</a>&gt;</code> com o comando
	    <code class="literal">send
	      usenet/news.answers/mail/sendmail-faq</code> no corpo
	    da mensagem.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp65857232"></a><a id="remote-fullscreen"></a><p><strong>5.18.</strong></p></td><td align="left" valign="top"><p>Porque algumas aplicações que usam tela
	    inteira não se comportam muito bem em
	    estações remotas?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>A estação remota deve estar definindo o
	    terminal como algum tipo diferente do
	    <code class="literal">cons25</code> que é o tipo de terminal
	    usado pelo console do FreeBSD.</p><p>Existem inúmeras correções para
	    esse problema:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Depois de logar-se na estação
		remota, defina a variável de ambiente TERM como
		<code class="literal">ansi</code> ou <code class="literal">sco</code> caso
		a máquina em questão tenha
		informações quanto a esse tipo de
		terminal.</p></li><li class="listitem"><p>Use um emulador VT100 como o
		<span class="application">screen</span> no console do
		FreeBSD.  O <span class="application">screen</span> oferece
		a possibilidade de usar múltiplas
		sessões concorrentes em um mesmo terminal, e
		é um grande programa.  Cada janela do
		<span class="application">screen</span>  se comporta como um
		terminal VT100, portanto a variável TERM deve
		ser definida como <code class="literal">vt100</code>.</p></li><li class="listitem"><p>Instale a base do <code class="literal">cons25</code> na
		estação remota.  A maneira correta de
		faze-lo depende do sistema operacional em
		questão na estação remota.
		Consulte os manuais de administração do
		sistema remoto em questão para descobrir como
		faze-lo.</p></li><li class="listitem"><p>Levante um X server do lado FreeBSD da coisa e
		acesse a estação remota usando um
		terminal baseado no ambiente X, como o
		<code class="command">xterm</code> ou o <code class="command">rxvt</code>.
		A variável TERM deve ser definida
		como<code class="literal">xterm</code> ou
		<code class="literal">vt100</code> no lado remoto.</p></li></ul></div></td></tr><tr class="question"><td align="left" valign="top"><a id="idp65880272"></a><a id="calcru-negative"></a><p><strong>5.19.</strong></p></td><td align="left" valign="top"><p>Por que meu computador apresenta a mensagem
	    <span class="errorname">calcru: negative time...</span>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Esse comportamento pode ser causado por diversos
	    motivos relacionados a interrupções de
	    <span class="foreignphrase"><em class="foreignphrase">hardware</em></span> e/ou software.
	    Pode ser devido a algum bug, mas também pode
	    acontecer por causa da natureza de alguns devices.  Por
	    exemplo, usar TCP/IP via porta paralela com uma MTU muito
	    grande é uma boa forma de provocar esse
	    comportamento.  Aceleradores gráficos também
	    são eficientes para criar esse tipo de problema,
	    nesse caso, sendo necessário analisar as
	    configurações de interrupções
	    do software.</p><p>Um efeito colateral desse problema são
	    processos que morrem<span class="quote">&#8220;<span class="quote">SIGXCPU exceeded cpu time
	      limit</span>&#8221;</span>.</p><p>No FreeBSD 3.0 e sistemas posteriores a 29 de Novembro
	    de 1998, caso o problema não possa ser solucionado
	    de outra forma, uma correção pode ser
	    definir a seguinte variável do sysctl:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>sysctl -w kern.timecounter.method=1</code></strong></pre><p>Isso causa um impacto de performance, mas dependendo
	    do problema que causava esse comportamento, é
	    provável que nem consiga-se notar a mudança
	    nessa performance.  Se o problema continuar, mantenha a
	    variável do sysctl habilitada e defina a
	    opção <code class="literal">NTIMECOUNTER</code> no
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> para valores
	    crescentes.  Se chegar a um ponto em que foi
	    necessário definir
	    <code class="literal">NTIMECOUNTER=20</code> e o problema ainda
	    não tiver sido resolvido, as
	    interrupções são serias demais e seu
	    comportamento não é confiável.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp65886800"></a><a id="pcm0-not-found"></a><p><strong>5.20.</strong></p></td><td align="left" valign="top"><p>Acontece da pcm não ser encontrada, com a
	    mensagem <span class="errorname">pcm0 not found</span> ou
	    então minha placa de som é encontrada na
	    <code class="filename">pcm1</code> mas no meu
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> a entrada se refere
	    a <code class="literal">device pcm0</code>.  O que está
	    havendo?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Isso acontece no FreeBSD 3.X com placas de som PCI.  A
	    <code class="filename">pcm0</code> é reservada
	    exclusivamente para placas de som ISA e por isso se a
	    placa em questão é PCI, ela será
	    reconhecida como <code class="filename">pcm1</code> e a
	    mensagem em questão pode acontecer.
	  </p><div xmlns="" class="note"><h3 class="admontitle">Nota: </h3><p xmlns="http://www.w3.org/1999/xhtml">Não é possível evitar a
	      mensagem de advertência simplesmente alterando o
	      seu <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> e definindo
	      <code class="literal">device pcm1</code> pois isso
	      resultará na <code class="filename">pcm1</code> sendo
	      reservada para placas ISA, e o seu equipamento PCI
	      será reconhecido na <code class="filename">pcm2</code>
	      (e a mensagem de advertência <span class="errorname">pcm1 not
		found</span> continuará).</p></div><p>
	    Caso sua placa de som seja PCI ainda será preciso
	    criar a device <code class="filename">snd1</code> ao
	    invés da <code class="filename">snd0</code>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cd /dev</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>./MAKEDEV snd1</code></strong></pre><p>Esse comportamento não ocorre na série
	    4.X do FreeBSD, muito trabalho foi feito para tornar o
	    sistema mais <span class="emphasis"><em>PnP-centric</em></span> e a device
	    <code class="filename">pcm0</code> não é mais
	    reservada exclusivamente para placas ISA.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp65902544"></a><a id="pnp-not-found"></a><p><strong>5.21.</strong></p></td><td align="left" valign="top"><p>Porque a minha placa PnP não é mais
	    encontrada (ou é encontrada como
	    <code class="literal">unknown</code>) desde a
	    atualização para o FreeBSD 4.X?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>O FreeBSD 4.X é muito mais
	    <span class="emphasis"><em>PnP-centric</em></span> do que as versões
	    anteriores, e isso causou alguns efeitos distintos em
	    algumas placas PnP (como algumas placas de som e alguns
	    modems interno por exemplo) que não funcionam mais
	    da forma como funcionavam no FreeBSD 3.X.</p><p>O motivo para esse comportamento é explicado no
	    seguinte e-mail, que foi enviada na lista
	    freebsd-questions pelo Reter Wemm, respondendo uma
	    pergunta sobre um modem interno que não era mais
	    reconhecido no FreeBSD depois de atualizar o sistema para
	    versão 4.X (os comentários entre
	    <code class="literal">[]</code>foram adicionados com a
	    intenção de explicar melhor o contexto da
	    mensagem).</p><div xmlns="" class="note"><h3 class="admontitle">Nota: </h3><p xmlns="http://www.w3.org/1999/xhtml">Os índices dessa citação foram
	      atualizados de seu texto original</p></div><div class="blockquote"><blockquote class="blockquote"><p>A bios PNP configurou ele [o modem] e o deixou
	      conectado na porta em questão, por isso o estilo
	      antigo [no 3.X] <span class="quote">&#8220;<span class="quote">reconhece</span>&#8221;</span> o equipamento
	      ISA.</p><p>No FreeBSD 4 o código ISA é bem mais
	      PnP-centric.  Era possível [no 3.X] encontrar uma
	      placa ISA que funcionava com <span class="quote">&#8220;<span class="quote">determinada</span>&#8221;</span>
	      device e depois, o id PNP da mesma device encontrava a
	      mesma placa novamente, como se fosse uma outra usando os
	      mesmos recursos do sistema, e por isso ele falhava, como
	      se fosse um conflito de recursos.  Portanto, agora ele
	      desabilita o suporta às placas
	      programáveis de forma que essa confusão e
	      dupla detecção de
	      <span class="foreignphrase"><em class="foreignphrase">hardware</em></span> não
	      ocorra.  Essa mudança implica também na
	      necessidade de se saber previamente os ids PnP para cada
	      tipo de equipamento suportado, aumentando um pouco mais
	      a lista de TODO do suporte PnP no sistema.</p></blockquote></div><p>Para fazer o equipamento voltar a funcionar, é
	    necessário encontrar seu PnP id e
	    adicioná-lo a lista de devices ISA reconhecidas
	    como PnP.  Essa informação pode ser obtida
	    usando <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pnpinfo&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">pnpinfo</span>(8)</span></a> que detecta a
	    configuração dos equipamentos.  Por exemplo,
	    veja a saída do <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pnpinfo&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">pnpinfo</span>(8)</span></a> de um modem
	    interno:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>pnpinfo</code></strong>
Checking for Plug-n-Play devices...

Card assigned CSN #1
Vendor ID PMC2430 (0x3024a341), Serial Number 0xffffffff
PnP Version 1.0, Vendor Version 0
Device Description: Pace 56 Voice Internal Plug &amp; Play Modem

Logical Device ID: PMC2430 0x3024a341 #0
        Device supports I/O Range Check
TAG Start DF
    I/O Range 0x3f8 .. 0x3f8, alignment 0x8, len 0x8
        [16-bit addr]
    IRQ: 4  - only one type (true/edge)</pre><p>[algumas linhas com TAG foram eliminadas]</p><pre class="screen">TAG End DF
End Tag

Successfully got 31 resources, 1 logical fdevs
-- card select # 0x0001

CSN PMC2430 (0x3024a341), Serial Number 0xffffffff

Logical device #0
IO:  0x03e8 0x03e8 0x03e8 0x03e8 0x03e8 0x03e8 0x03e8 0x03e8
IRQ 5 0
DMA 4 0
IO range check 0x00 activate 0x01</pre><p>A informação que você quer
	    é a linha <span class="quote">&#8220;<span class="quote">Vendor ID</span>&#8221;</span> no começo
	    da saída do comando.  O valor hexadecimal entre
	    parênteses (0x3024a341 esse caso) é PnP id e
	    o conjunto de caracteres que o antecede (PMC2430) é
	    a identificação ASCII única.</p><p>Alternativamente, se o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pnpinfo&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">pnpinfo</span>(8)</span></a> não
	    listou sua placa em questão, o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pciconf&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">pciconf</span>(8)</span></a> pode
	    ser usado preferivelmente.  Esta é a saída
	    do comando <code class="command">pciconf -vl</code> de uma placa de
	    som onboard:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>pciconf -vl</code></strong>
chip1@pci0:31:5:        class=0x040100 card=0x00931028 chip=0x24158086 rev=0x02 hdr=0x00
    vendor   = 'Intel Corporation'
    device   = '82801AA 8xx Chipset AC'97 Audio Controller'
    class    = multimedia
    subclass = audio</pre><p>Aqui deve-se usar o valor do <code class="varname">chip</code>,
	    <span class="quote">&#8220;<span class="quote">0x24158086</span>&#8221;</span>.</p><p>Tais informações (Vendor ID ou valor do
	    chip) precisam ser adicionadas ao arquivo
	    <code class="filename">/usr/src/sys/isa/sio.c</code>.</p><p>Primeiro faça uma cópia de
	    segurança do <code class="filename">sio.c</code> no caso de
	    algo dar errado e também para que você possa
	    fazer um patch para enviar junto com o seu
	    Relatório de Problemas (você vai enviar um
	    PR, não vai?) e depois edite o
	    <code class="filename">sio.c</code> e procure a linha</p><pre class="programlisting">static struct isa_pnp_id sio_ids[] = {</pre><p>Depois analise as linhas logo abaixo para encontrar o
	    lugar apropriado para sua placa.  As entradas na tabela
	    ficam todas parecidas com essa logo abaixo, e são
	    ordenadas de acordo com a identificação
	    ASCII do fabricante do produto a qual deve ser
	    incluída como comentário na coluna do lado
	    do código em questão, e junto com a
	    <span class="emphasis"><em>descrição da placa</em></span> ou
	    parte dela, conforme identificada na saída do
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pnpinfo&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">pnpinfo</span>(8)</span></a>:</p><pre class="programlisting">{0x0f804f3f, NULL},     /* OZO800f - Zoom 2812 (56k Modem) */
{0x39804f3f, NULL},     /* OZO8039 - Zoom 56k flex */
{0x3024a341, NULL},     /* PMC2430 - Pace 56 Voice Internal Modem */
{0x1000eb49, NULL},     /* ROK0010 - Rockwell ? */
{0x5002734a, NULL},     /* RSS0250 - 5614Jx3(G) Internal Modem */</pre><p>Adicione o ID hexadecimal do fabricante da placa no
	    local apropriado, salve o arquivo e recompile o
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span>, depois reinicie o
	    sistema.  Agora a sua placa deve ter sido encontrada como
	    uma device <code class="literal">sio</code> exatamente como era
	    encontrada no FreeBSD 3.X</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp65932112"></a><a id="nlist-failed"></a><p><strong>5.22.</strong></p></td><td align="left" valign="top"><p>Qual a causa do erro <span class="errorname">nlist
	      failed</span> quando eu executo, por exemplo, o
	    <code class="command">top</code> ou o
	    <code class="command">systat</code>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>O problema é que o programa que você
	    está tentando executar tenta ler alguma
	    informação específica do
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span>, baseando-se no
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> symbol em
	    questão, mas por algum motivo, essa
	    informação não pode ser encontrada;
	    esse erro é causado por um dos seguintes
	    problemas:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>O <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> e o
		userland do sistema não estão em
		sincronia (por exemplo, você compilou um
		<span class="foreignphrase"><em class="foreignphrase">kernel</em></span> novo e o
		instalou sem de dar um
		<code class="buildtarget">installworld</code>, ou vice-versa),
		e por isso a tabela de informações dos
		<span class="foreignphrase"><em class="foreignphrase">kernel</em></span> symbols é
		diferente do que o programa pensa que é.  Se
		esse for o caso basta completar os procedimentos de
		atualização do sistema (veja o arquivo
		<code class="filename">/usr/src/UPDATING</code> para a correta
		seqüência de ações).</p></li><li class="listitem"><p>O <code class="command">/boot/loader</code> não
		está sendo usado para carregar o
		<span class="foreignphrase"><em class="foreignphrase">kernel</em></span> dessa
		estação, ao invés dele, o boot2
		(veja <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=boot&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">boot</span>(8)</span></a>) está sendo usado
		diretamente.  Apesar de não ter problema algum
		deixar de usar o <code class="command">/boot/loader</code>, ele
		costuma se comportar melhor na hora de tornar os
		<span class="foreignphrase"><em class="foreignphrase">kernel</em></span> symbols
		disponíveis para aplicações em
		nível de usuário.</p></li></ul></div></td></tr><tr class="question"><td align="left" valign="top"><a id="idp65946704"></a><a id="connection-delay"></a><p><strong>5.23.</strong></p></td><td align="left" valign="top"><p>Porque demora tanto para a conexão se
	    estabelecer via <code class="command">ssh</code> ou
	    <code class="command">telnet</code>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>O sintoma: existe um atraso muito grande entre o
	    estabelecimento da conexão TCP e o momento que o
	    programa cliente pede a senha (ou no caso do
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=telnet&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">telnet</span>(1)</span></a>, quando a tela de login aparece).</p><p>O problema: o programa servidor dessa
	    transação leva muito tempo tentando resolver
	    o nome da estação cliente que está se
	    conectando.  A maioria dos servidores, incluindo os
	    servidores Telnet e SSH que vem junto com o FreeBSD tentam
	    resolver o número IP do cliente no nome da
	    estação, para, entre outras coisas, gravar
	    essa informação em um arquivo de log para
	    referências futuras por parte do
	    administrador.</p><p>A solução: Se o problema acontece apenas
	    quando você (o cliente) tenta se conectar no
	    servidor, o problema é com o lado cliente da
	    transação; se o problema acontece com
	    qualquer estação que tente se conectar ao
	    computador (servidor) então o problema é do
	    lado servidor.</p><p>Se o problema é com o cliente, a única
	    maneira de corrigir o problema é configurar
	    corretamente o servidor DNS que responde autoritativamente
	    pelo endereço da estação.  Se for uma
	    rede local considere esse comportamento um problema do
	    servidor, e continue lendo;  se a conexão deve ser
	    estabelecida na rede global (internet) , então
	    entre em contato com o seu Provedor de Serviços
	    Internet e solicite que eles corrijam o problema.</p><p>Se o problema é do lado servidor, e a rede em
	    questão, se trata de uma rede local, será
	    necessário configurar o servidor de forma que ele
	    consiga resolver os endereços dos clientes em
	    nomes.  Veja as páginas de manual do <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=hosts&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">hosts</span>(5)</span></a>
	    e <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=named&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">named</span>(8)</span></a> para obter mais informações.
	    Se a conexão é na Internet, provavelmente o
	    resolvedor (lado cliente do serviço de nomes) do
	    seu servidor não está funcionando
	    corretamente.  Pra fazer o teste, tente descobrir o
	    endereço IP do site <code class="systemitem">www.yahoo.com</code>
	    por exemplo.  Se não funcionar, esta ai o
	    problema.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp65954000"></a><a id="stray-irq"></a><p><strong>5.24.</strong></p></td><td align="left" valign="top"><p>O que a mensagem <span class="errorname">stray IRQ</span> quer
	    dizer?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Stray IRQs são sintomas de
	    <span class="foreignphrase"><em class="foreignphrase">hardware</em></span> que interrompe o
	    pedido de interrupção no meio de um ciclo de
	    autorização de
	    interrupção.</p><p>Existem três formas de tratar o problema:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Aprenda a conviver com as mensagens de
		advertência.  De qualquer forma, todas as
		mensagens exceto as 5 primeiras para cada IRQ
		são suprimidas pelo sistema mesmo.</p></li><li class="listitem"><p>Evite o inconveniente alterando de 5 para 0 na
		função
		<code class="function">isa_strayintr()</code> o número
		de mensagens antes de suprimir as
		advertências.</p></li><li class="listitem"><p>Evite as advertências instalando algum
		equipamento de porta paralela que use a IRQ 7 e o
		driver PPP (é o usual, na maioria dos sistemas)
		e instale algum driver IDE ou qualquer outro
		dispositivo que use a IRQ 15 e seu respectivo
		suporte.</p></li></ul></div></td></tr><tr class="question"><td align="left" valign="top"><a id="idp65960656"></a><a id="file-table-full"></a><p><strong>5.25.</strong></p></td><td align="left" valign="top"><p>Por que a mensagem <span class="errorname">file: table is
	      full</span> aparece repetidas vezes no
	    dmesg?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
	    Esse erro indica que você excedeu o número
	    máximo de descrevedores (descriptors) de arquivos
	    no sistema.  Leia a seção <a class="link" href="../handbook/configtuning-kernel-limits.html#KERN-MAXFILES" target="_top">
	      kern.maxfiles </a>da<a class="link" href="../handbook/configtuning-kernel-limits.html" target="_top">
	      capítulo de Ajuste de Limites do
	      <span class="foreignphrase"><em class="foreignphrase">Kernel</em></span></a> no
	    Manual do FreeBSD do FreeBSD para obter mais
	    informações sobre o problema.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp65972688"></a><a id="laptop-clock-skew"></a><p><strong>5.26.</strong></p></td><td align="left" valign="top"><p>Por que o relógio do meu laptop mantem a hora
	    incorreta?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Rode o comando <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dmesg&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">dmesg</span>(8)</span></a>, e procure algumas linhas
	    com a expressão  <code class="literal">Timecounter</code>.  A
	    última linha encontrada será o
	    relógio que o FreeBSD escolheu, e com certeza ele
	    será <code class="literal">TSC</code>.</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>dmesg | grep Timecounter</code></strong>
Timecounter "i8254"  frequency 1193182 Hz
Timecounter "TSC"  frequency 595573479 Hz</pre><p>Essa informação pode ser confirmada ao
	    verificar a variável
	    <code class="varname">kern.timecounter.hardware</code> do
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sysctl&amp;sektion=3"><span class="citerefentry"><span class="refentrytitle">sysctl</span>(3)</span></a>.</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>sysctl kern.timecounter.hardware</code></strong>
kern.timecounter.hardware: TSC</pre><p>A BIOS do laptop altera a frequência do
	    relógio TSC de forma a modificar a velocidade do
	    processador quando o computador estiver sendo utilizado
	    com baterias, ou se o mesmo entrar em modo de economia de
	    energia.  O FreeBSD não faz distinção
	    entre frequência do clock e modos especiais de
	    trabalho, e por isso pode atrasar ou adiantar a hora do
	    sistema.</p><p>Esse exemplo, o laptop em questão tem dois
	    relógios; portanto o <code class="literal">i8254</code> pode
	    ser definido como padrão na variável
	    <code class="varname">kern.timecounter.hardware</code> do
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sysctl&amp;sektion=3"><span class="citerefentry"><span class="refentrytitle">sysctl</span>(3)</span></a>.</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>sysctl -w kern.timecounter.hardware=i8254</code></strong>
kern.timecounter.hardware: TSC -&gt; i8254</pre><p>Agora o seu laptop deve conseguir manter a data e hora
	    de forma mais precisa.</p><p>Pra tornar essa alteração
	    automática, adicione a seguinte linha no arquivo
	    <code class="filename">/etc/sysctl.conf</code>.</p><pre class="programlisting">kern.timecounter.hardware=i8254</pre></td></tr><tr class="question"><td align="left" valign="top"><a id="idp66001360"></a><a id="null-null"></a><p><strong>5.27.</strong></p></td><td align="left" valign="top"><p>Por que o meu laptop não funciona muito bem na
	    hora de identificar cartões PCMCIA?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Esse problema é comum em laptops que tem mais
	    de um sistema operacional instalado.  Alguns sistemas
	    não-BSD fazem os cartões PCMCIA ficarem em
	    um estado inconsistente, causando um reconhecimento
	    problemático dos dispositivos por parte do
	    <code class="command">pccardd</code>, como por exemplo, detectando
	    os cartões como
	    <span class="errorname">"(null)""(null)"</span> ao invés da
	    sua marca e modelo verdadeiros.</p><p>É necessário desligar completamente a
	    alimentação de energia do equipamento para
	    garantir que o mesmo seja completamente resetado.
	    Desligue completamente o laptop (não suspenda seu
	    funcionamento, não o deixe entrar em modo de
	    espera, conhecido como standby, a
	    alimentação deve ser completamente
	    interrompida), espere alguns - poucos - minutos e reinicie
	    o laptop.  Tudo deve correr bem.</p><p>Alguns laptops são grandes mentirosos quando
	    afirmam estar desligados.  Se o procedimento acima
	    não funcionar, tire a bateria do laptop, espere
	    alguns minutos e ligue o sistema novamente.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp66005200"></a><a id="boot-read-error"></a><p><strong>5.28.</strong></p></td><td align="left" valign="top"><p>Por que o bootloader do FreeBSD mostra a mensagem
	    <span class="errorname">Read error</span> e pára
	    completamente logo após a tela da BIOS?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>O inicializador do FreeBSD reconheceu a geometria de
	    disco de forma incorreta e por isso esse valor deve ser
	    definido manualmente com o fdisk(8) ao criar ou modificar
	    uma partição FreeBSD.</p><p>A geometria correta do disco pode ser verificada na
	    BIOS do computador.  Procure pelo número de
	    cilindros, cabeças e de setores do disco em
	    questão.
	  </p><p>No fdisk do <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sysinstall&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sysinstall</span>(8)</span></a>, aperte a tecla
	    <span class="keycap"><strong>G</strong></span> para definir a geometria do disco
	    manualmente.
	  </p><p>Irá aparecer uma janela de diálogo
	    perguntando o número de cilindros, cabeças e
	    setores do disco.  Defina esses valores, conforme anotados
	    da BIOS do sistema e separados por barras.</p><p>5000 cilindros, 250 cabeças e 60 setores, por
	    exemplo, seria definido como
	    <strong class="userinput"><code>5000/250/60.</code></strong>
	  </p><p>Aperte ENTER para confirmar os valores e depois aperte
	    a tecla <span class="keycap"><strong>W</strong></span> para escrever as novas
	    informações na tabela de
	    partições do disco.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp66011472"></a><a id="bootmanager-restore"></a><p><strong>5.29.</strong></p></td><td align="left" valign="top"><p>Outro sistema operacional destruiu o meu gerenciador
	    de inicialização(Boot Manager).  Como eu o
	    recupero?
	  </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Entre no <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sysinstall&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sysinstall</span>(8)</span></a> e escolha o menu
	    Configure, seguido do Fdisk.  Escolha o disco onde o
	    gerenciador de boot costumava ficar e aperte a barra de
	    <span class="keycap"><strong>espaços(space)</strong></span>.  Depois aperte a
	    tecla <span class="keycap"><strong>W</strong></span> para escrever as novas
	    informações no disco.  Vai aparecer uma
	    tela, perguntando o que deve ser instalado na MBR do
	    disco.  Escolha o Gerenciador de
	    inicialização(Boot Manager), e ele
	    será reinstalado.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp66023376"></a><a id="indefinite-wait-buffer"></a><p><strong>5.30.</strong></p></td><td align="left" valign="top"><p>O que o erro <span class="errorname">swap_pager: indefinite wait
	      buffer:</span> quer dizer?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Quer dizer que existe um processo tentando paginar uma
	    área da memória para o disco, e que esse
	    processo demorou mais de 20 segundos;  portanto falhou.
	    É provável que a causa desse erro sejam
	    blocos defeituosos no disco, falha nos cabos, ou
	    até mesmo algum outro erro de I/O relacionado ao
	    <span class="foreignphrase"><em class="foreignphrase">hardware</em></span>.  Se o disco
	    estiver danificado, serão apresentadas mensagens de
	    erro referentes ao mesmo em
	    <code class="filename">/var/log/messages</code>  e também na
	    saída do <code class="command">dmesg</code>.  Do
	    contrário, verifique seus cabos e
	    conectores.</p></td></tr></tbody></table></div></div><div class="chapter"><div xmlns="" class="titlepage"><div><div><h1 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="commercial"></a>Capítulo 6. Aplicações Comerciais</h1></div></div></div><div xmlns="" class="note"><h3 class="admontitle">Nota: </h3><p xmlns="http://www.w3.org/1999/xhtml">Esta seção se encontra ainda muito
	escassa, embora esperamos, naturalmente, que as empresas
	façam adições a ela!  :) Os
	desenvolvedores do FreeBSD não tem interesses
	financeiros em nenhuma das empresas listadas aqui, mas apenas
	as listam como um serviço público (e sente que o
	interesse comercial no FreeBSD pode ter muitos efeitos
	positivos na viabilidade do uso do sistema a longo prazo).
	Nós encorajamos que os vendedores de softwares
	comerciais mandem seus softwares para inclusão.
	Consulte <a class="link" href="../../../../commercial/index.html" target="_top"> a
	  página de Fabricantes</a> para obter uma lista
	maior.</p></div><div class="qandaset"><a id="idp66029520"></a><dl><dt>6.1. <a href="#idp66029776">Onde eu posso conseguir Office
	      Suite) para o FreeBSD?</a></dt><dt>6.2. <a href="#idp66041680">Onde posso conseguir o Motif para o FreeBSD?</a></dt><dt>6.3. <a href="#idp66076368">Onde posso adquirir o CDE para o FreeBSD?</a></dt><dt>6.4. <a href="#idp66081104">Existe algum servidor X comercial de
	    alta-performance?</a></dt><dt>6.5. <a href="#idp66107216">Existe algum sistema de Banco de Dados para o
	    FreeBSD?</a></dt><dt>6.6. <a href="#idp66111184">Posso rodar o Oracle no FreeBSD?</a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%" /><col /></colgroup><tbody><tr class="question"><td align="left" valign="top"><a id="idp66029776"></a><a id="officesuite"></a><p><strong>6.1.</strong></p></td><td align="left" valign="top"><p>Onde eu posso conseguir <span class="foreignphrase"><em class="foreignphrase">Office
	      Suite</em></span>) para o FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="link" href="http://www.freebsdmall.com/" target="_top">A FreeBSD
		  Mall</a> oferece uma versão nativa do
		<a class="link" href="http://www.vistasource.com/" target="_top">VistaSource</a>
		ApplixWare 5 para o FreeBSD.</p><p>O ApplixWare é uma poderosa suíte
		comercial de aplicações para
		escritório no FreeBSD.  Ela contém um
		processador de texto, planilha de cálculos, um
		programa de apresentação e um pacote
		para desenho vetorial e outros aplicativos.</p><p>O ApplixWare é vendido com parte integrante
		da edição de Desktops BSD da FreeBSD
		Mall.</p></li><li class="listitem"><p>A versão para Linux do <a class="link" href="http://www.sun.com/staroffice/" target="_top">StarOffice</a>
		funciona sem problemas no FreeBSD.  A maneira mais
		fácil de instalar a versão para Linux do
		StarOffice é pela <a class="link" href="../handbook/ports.html" target="_top">Coleção
		  de <code class="literal">Ports</code> do FreeBSD</a>.
		Versões futuras da suíte Open-Source de
		escritório,<a class="link" href="http://www.openoffice.org/" target="_top">OpenOffice</a>
		deverão funcionar também.</p></li></ul></div></td></tr><tr class="question"><td align="left" valign="top"><a id="idp66041680"></a><a id="motif"></a><p><strong>6.2.</strong></p></td><td align="left" valign="top"><p>Onde posso conseguir o Motif para o FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>O Open Group lançou o código fonte do
	    Motif 2.1.30, que pode ser instalado como o pacote
	    <code class="literal">open-motif</code>, ou então ser
	    compilado pelo <code class="literal">Ports</code>.  Consulte a
	    <a class="link" href="../handbook/ports.html" target="_top"> seção
	      sobre o <code class="literal">Ports</code> no
	      Manual do FreeBSD</a> para obter mais
	    informações sobre o assunto.

	    </p><div xmlns="" class="note"><h3 class="admontitle">Nota: </h3><p xmlns="http://www.w3.org/1999/xhtml">O Open Motif pode ser redistribuído apenas
		se sua distribuição estiver sendo usada
		em sistemas operacionais <a class="link" href="http://www.opensource.org/" target="_top">open
		  source</a>.</p></div><p>
	  </p><p>Em contrapartida, existem distribuições
	    comerciais do Motif disponíveis.  Tais
	    distribuições contudo não são
	    gratuitas, mas suas licenças permitem que ele seja
	    utilizando em softwares de código fechado.  Contate
	    a <a class="link" href="#apps2go">Apps2go</a> para obter
	    informações quanto a versão mais
	    barata do ELF Motif 2.1.20 para FreeBSD (tanto para i386
	    quanto para Alpha).<a id="apps2go"></a></p><p>Existem duas distribuições, a
	    <span class="quote">&#8220;<span class="quote">development edition</span>&#8221;</span> e a <span class="quote">&#8220;<span class="quote">runtime
	      edition</span>&#8221;</span> (bem mais barata).  Tais
	    distribuições incluem:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>OSF/Motif manager, xmbind, panner, wsm.</p></li><li class="listitem"><p>Kit de Desenvolvimento com uil, mrm, xm, xmcxx,
		arquivos include e arquivos.</p></li><li class="listitem"><p>Bibliotecas ELF estáticas e dinâmicas
		(para serem usadas com FreeBSD 3.0 e
		superiores).</p></li><li class="listitem"><p>Applets de demonstração.</p></li></ul></div><p>Lembre-se de especificar que você quer a
	    versão para FreeBSD do Motif quando encomendado
	    (não esqueça de mencionar a arquitetura que
	    você quer também)!  Versões para
	    NetBSD e OpenBSD também são vendidas pela
	    <span class="emphasis"><em>Apps2go</em></span>.  Atualmente o produto
	    é apenas disponível para download via
	    FTP.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Mais informações:</span></dt><dd><p><a class="link" href="http://www.apps2go.com/" target="_top">
		    Página WWW da Apps2go</a></p></dd><dt><span class="term">ou</span></dt><dd><p>
		  <code class="email">&lt;<a xmlns="" class="email" href="mailto:sales@apps2go.com">sales@apps2go.com</a>&gt;</code> ou
		  <code class="email">&lt;<a xmlns="" class="email" href="mailto:support@apps2go.com">support@apps2go.com</a>&gt;</code>
		</p></dd><dt><span class="term">ou</span></dt><dd><p>fone [EUA] (817) 431 8775 ou +1 817
		  431-8775</p></dd></dl></div><p>Contate <a class="link" href="#metrox">Metro Link</a> para
	    obter informações quanto a versão ELF
	    ou a versão a.out do Motif 2.1 para o
	    FreeBSD.</p><p>Tal distribuição inclui:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Gerenciador OSF/Motif, xmbind, panner, wsm.</p></li><li class="listitem"><p>Kit de desenvolvimento com uil, mrm, xm, xmcxx,
		arquivos include e arquivos Imake.</p></li><li class="listitem"><p>Bibliotecas estáticas e dinâmicas
		(não se esqueça de especificar que
		você quer o formato ELF, caso queira usar com o
		FreeBSD 3.0 e posteriores; ou o formato a.out para
		usar com FreeBSD 2.2.8 e anteriores).</p></li><li class="listitem"><p>Applets de Demonstração.</p></li><li class="listitem"><p>Páginas de manual previamente
		formatadas.</p></li></ul></div><p>Certifique-se de especificar que você quer a
	    versão para FreeBSD do Motif quando
	    encomendá-lo!  Versões para Linux
	    também são vendidas pela <span class="emphasis"><em>Metro
	      Link</em></span>.  O produto está
	    disponível em CDROM ou download via FTP.</p><p>Contate a <a class="link" href="#xig">Xi Graphics</a> para
	    obter informações quanto a versão
	    a.out do Motif 2.0 para o FreeBSD.</p><p>A distribuição inclui:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Gerenciador OSF/Motif, xmbind, panner, wsm.</p></li><li class="listitem"><p>Kit de desenvolvimento com uil, mrm, xm, xmcxx,
		arquivos include e arquivos Imake.</p></li><li class="listitem"><p>Bibliotecas estáticas e dinâmicas
		(para o FreeBSD 2.2.8 e anteriores).</p></li><li class="listitem"><p>Applets de Demonstração.</p></li><li class="listitem"><p>Páginas de manual previamente
		formatadas.</p></li></ul></div><p>certifique-se de especificar que você quer a
	    versão para FreeBSD do Motif quando
	    encomendá-lo!  Versões para BSDI e para
	    Linux também são vendidas pela <span class="emphasis"><em>Xi
	      Graphics</em></span>.  Atualmente o produto se trata de
	    um conjunto de 4 disquetes...  futuramente se
	    tornará uma distribuição única
	    em CD, como o CDE da mesma empresa.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp66076368"></a><a id="cde"></a><p><strong>6.3.</strong></p></td><td align="left" valign="top"><p>Onde posso adquirir o CDE para o FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><a class="link" href="#xig">A Xi Graphics</a> costumava
	    vender o CDE para o FreeBSD, mas não o faz
	    mais.</p><p><a class="link" href="http://www.kde.org/" target="_top">O KDE</a>
	    é um Desktop de código fonte aberto para X11
	    similar ao CDE em muitos aspectos.  Talvez você
	    também aprecie o visual e as características
	    do <a class="link" href="http://www.xfce.org/" target="_top">xfce</a>.  KDE e
	    xfce estão ambos disponíveis no <a class="link" href="../../../../ports/index.html" target="_top">sistema de
	      <code class="literal">ports</code> do FreeBSD</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp66081104"></a><a id="commercial-xserver"></a><p><strong>6.4.</strong></p></td><td align="left" valign="top"><p>Existe algum servidor X comercial de
	    alta-performance?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Sim, a <a class="link" href="http://www.xig.com/" target="_top">Xi
	      Graphics</a> e a <a class="link" href="http://www.metrolink.com/" target="_top">Metro Link</a>
	    vendem produtos da Accelerated-X para o FreeBSD e para
	    outros sistemas baseados em Intel.</p><p>O que a Metro Link oferece é um servidor X de
	    alta-performance que possui um esquema de
	    configuração extremamente fácil,
	    fazendo uso da suíte de ferramentas de
	    gerenciamento de pacotes do FreeBSD, com suporte a
	    múltiplas placas de vídeo simultâneas
	    e é distribuído apenas em forma
	    binária, por meio conveniente de um download via
	    FTP.  Sem esquecer que, o produto oferecido pela Metro
	    Link está disponível a um preço muito
	    razoável, $39 dólares.<a id="metrox"></a></p><p>A Metro Link vende também o Motif e formato ELF
	    e a.out para o FreeBSD (veja pergunta anterior).</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">informações:</span></dt><dd><p><a class="link" href="http://www.metrolink.com/" target="_top">
		    Página WWW da Metro Link</a></p></dd><dt><span class="term">ou</span></dt><dd><p><code class="email">&lt;<a xmlns="" class="email" href="mailto:sales@metrolink.com">sales@metrolink.com</a>&gt;</code> ou
		  <code class="email">&lt;<a xmlns="" class="email" href="mailto:tech@metrolink.com">tech@metrolink.com</a>&gt;</code>
		</p></dd><dt><span class="term">ou</span></dt><dd><p>fone [EUA] (954) 938-0283 ou +1 954
		  938-0283</p></dd></dl></div><p>O produto oferecido pela Xi Graphics é um
	    servidor X de alta performance, que oferece uma interface
	    fácil de configuração e com suporte a
	    múltiplas placas de vídeo simultâneas,
	    e é distribuído apenas de forma
	    binária em uma distribuição
	    única para FreeBSD e Linux.  A Xi Graphics oferece
	    ainda um servidor X de alta performance com suporte
	    desenvolvido especificamente para laptops.<a id="xig"></a></p><p>Existe uma versão
	    de<span class="quote">&#8220;<span class="quote">demonstração de
	      compatibilidade</span>&#8221;</span> disponível na
	    versão 5.0 do servidor gráfico.</p><p>A Xi Graphics vende ainda o Motif e o CDE para o
	    FreeBSD (veja acima).</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Mais informações:</span></dt><dd><p><a class="link" href="http://www.xig.com/" target="_top"> Página
		    WWW da Xi Graphics</a></p></dd><dt><span class="term">ou</span></dt><dd><p><code class="email">&lt;<a xmlns="" class="email" href="mailto:sales@xig.com">sales@xig.com</a>&gt;</code> ou
		  <code class="email">&lt;<a xmlns="" class="email" href="mailto:support@xig.com">support@xig.com</a>&gt;</code>
		</p></dd><dt><span class="term">ou</span></dt><dd><p>fone [EUA] (800) 946 7433 ou +1 303
		  298-7478.</p></dd></dl></div></td></tr><tr class="question"><td align="left" valign="top"><a id="idp66107216"></a><a id="database-systems"></a><p><strong>6.5.</strong></p></td><td align="left" valign="top"><p>Existe algum sistema de Banco de Dados para o
	    FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Sim!  Veja a seção de <a class="link" href="../../../../commercial/software_bycat.html#CATEGORY_DATABASE" target="_top">
	      Fabricantes Comerciais</a> do Web site do
	    FreeBSD.</p><p>Dê uma olhada também na
	    seção de <a class="link" href="../../../../ports/databases.html" target="_top">
	      Databases</a> da Coleção de
	    <code class="literal">Ports</code> do FreeBSD.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp66111184"></a><a id="oracle-support"></a><p><strong>6.6.</strong></p></td><td align="left" valign="top"><p>Posso rodar o Oracle no FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Pode.  As páginas a seguir descrevem exatamente
	    como configurar o Oracle para Linux no FreeBSD:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="link" href="http://www.scc.nl/~marcel/howto-oracle.html" target="_top">
		  http://www.scc.nl/~marcel/howto-oracle.html</a></p></li><li class="listitem"><p><a class="link" href="http://www.lf.net/lf/pi/oracle/install-linux-oracle-on-freebsd" target="_top">
		  http://www.lf.net/lf/pi/oracle/install-linux-oracle-on-freebsd</a></p></li></ul></div></td></tr></tbody></table></div></div><div class="chapter"><div xmlns="" class="titlepage"><div><div><h1 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="applications"></a>Capítulo 7. Aplicações de Usuário</h1></div></div></div><div class="qandaset"><a id="idp66116688"></a><dl><dt>7.1. <a href="#idp66116944">Então, onde estão todas as
	    aplicações de usuários?</a></dt><dt>7.2. <a href="#idp66145104">Onde eu encontro a libc.so.3.0?</a></dt><dt>7.3. <a href="#idp66147536"> Por que eu estou tendo problemas cuja mensagem de
	    erro mostra &#8220;Error: can't find
	      libc.so.4.0&#8221;?.</a></dt><dt>7.4. <a href="#idp66149968"> Por que o ghostscript gera um monte de erros no meu
	    386/486SX?</a></dt><dt>7.5. <a href="#idp66182992">Por que aplicações do SCO/iBCS2
	    bombardeiam o ``socksys''? (FreeBSD 3.0 e anteriores,
	    apenas).</a></dt><dt>7.6. <a href="#idp66196304"> Como eu configuro um sistema de INN (Internet News)
	    na minha estação?
	  </a></dt><dt>7.7. <a href="#idp66208336">Qual versão do Microsoft FrontPage eu devo
	    usar?</a></dt><dt>7.8. <a href="#idp66211664">O FreeBSD suporta Java?</a></dt><dt>7.9. <a href="#idp66214224">Por que eu não consigo compilar determinado
	    port na minha estação
	    3.X-STABLE?</a></dt><dt>7.10. <a href="#idp66218832">Onde posso encontrar o arquivo ld.so?</a></dt><dt>7.11. <a href="#idp66233936">Eu atualizei meus fontes.  E agora, como eu atualizo
	    meus Ports instalados?</a></dt><dt>7.12. <a href="#idp66248144">Por que o /bin/sh é
	    tão pequeno?  Por que o FreeBSD não usa o
	    bash ou outro interpretador de comandos
	    (shell)?</a></dt><dt>7.13. <a href="#idp66268368">Por que o Netscape e o Opera demoram tanto para
	    iniciar?</a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%" /><col /></colgroup><tbody><tr class="question"><td align="left" valign="top"><a id="idp66116944"></a><a id="user-apps"></a><p><strong>7.1.</strong></p></td><td align="left" valign="top"><p>Então, onde estão todas as
	    aplicações de usuários?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Por gentileza, dê uma olhada <a class="link" href="../../../../ports/index.html" target="_top">na página do
	      <code class="literal">Ports</code></a> para
	    informações sobre pacotes de programas
	    disponíveis na Coleção de
	    <code class="literal">Ports</code> do FreeBSD.  A lista atualmente
	    ultrapassa 24,000 aplicações e
	    está crescendo diariamente, então retorne
	    à página e verifique freqüentemente as
	    aplicações, ou entã inscreva-se na
	    lista de discussão
	    <code class="literal">freebsd-announce</code> <a class="link" href="#mailing" title="2.3.">mailing list</a> para
	    atualizações periódicas ou novas
	    adições.</p><p>A maioria dos <code class="literal">ports</code> devem estar
	    disponíveis para as versões 2.2, 3.x e 4.x,
	    e muitos deles devem funcionar também em sistemas
	    2.1.x.  Cada vez que um lançamento do FreeBSD
	    é produzido, um
	    <span class="foreignphrase"><em class="foreignphrase">snapshot</em></span> da árvore
	    do <code class="literal">ports</code> do momento da
	    lançamento também é incluída
	    no diretório <code class="filename">ports/</code>.</p><p>O FreeBSD também suporta o conceito de
	    <span class="quote">&#8220;<span class="quote">pacote</span>&#8221;</span>, que essencialmente nada mais
	    é do que uma distribuição
	    binária compactada com o gzip e com um pouco de
	    inteligência extra embutido nesse pacote, para fazer
	    o trabalho que é requerido para uma
	    instalação customizada.  Um pacote pode ser
	    instalado e desinstalado repetidas vezes de forma
	    fácil, sem ter que se conhecer os detalhes
	    horrendos dos arquivos que ele inclui.</p><p>Use o menu de instalação de pacotes em
	    <code class="filename">/stand/sysinstall</code> (sobre a
	    opção do pos-configuration menu) ou invoque
	    o comando <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pkg_add&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">pkg_add</span>(1)</span></a> nos arquivos de pacotes
	    específicos  que voc;ê quer instalar.  Os
	    pacotes podem ser identificados normalmente pelo sufixo
	    <code class="filename">.tgz</code> e o pessoal da
	    distribuição em CDROM tem um
	    diretório <code class="filename">/packages/All </code> no cd
	    que conté esses arquivos.  Eles podem também
	    ser baixados pela rede para várias versões
	    do FreeBSD nos seguintes endereços: do (sobre a
	    opção PostConfiguration do menu) ou invoque
	    o comando <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pkg_add&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">pkg_add</span>(1)</span></a></p><div class="variablelist"><dl class="variablelist"><dt><span class="term">para o 2.2.8-RELEASE/2.2.8-STABLE </span></dt><dd><p><a class="link" href="ftp://ftp.FreeBSD.org/pub/FreeBSD/ports/i386/packages-2.2.8/" target="_top">
		    ftp://ftp.FreeBSD.org/pub/FreeBSD/ports/i386/packages-2.2.8/</a></p></dd><dt><span class="term">para o 3.X-RELEASE/3.X-STABLE</span></dt><dd><p><a class="link" href="ftp://ftp.FreeBSD.org/pub/FreeBSD/ports/i386/packages-3-stable/" target="_top">
		    ftp://ftp.FreeBSD.org/pub/FreeBSD/ports/i386/packages-3-stable/</a></p></dd><dt><span class="term">para o 4.X-RELEASE/4-STABLE</span></dt><dd><p><a class="link" href="ftp://ftp.FreeBSD.org/pub/FreeBSD/ports/i386/packages-4-stable/" target="_top">
		    ftp://ftp.FreeBSD.org/pub/FreeBSD/ports/i386/packages-4-stable/</a></p></dd><dt><span class="term">para o 5.X-CURRENT</span></dt><dd><p><a class="link" href="ftp://ftp.FreeBSD.org/pub/FreeBSD/ports/i386/packages-5-current/" target="_top">
		    ftp://ftp.FreeBSD.org/pub/FreeBSD/ports/i386/packages-5-current</a></p></dd></dl></div><p>ou em um sítio espelho mais perto de
	    você.</p><p>Note que nem todos os <code class="literal">Ports</code> podem
	    estar disponíveis em formato de pacotes, visto que
	    a atualização da Coleção de
	    <code class="literal">Ports</code> do FreeBSD é muito
	    freqüente, e novos programas são
	    constantemente adicionados, e outros são
	    atualizados.  É sempre bom verificar periodicamente
	    quais pacotes estão disponíveis no servidor
	    FTP mestre do projeto FreeBSD, o <a class="link" href="ftp://ftp.FreeBSD.org/pub/FreeBSD/" target="_top">ftp.FreeBSD.org.</a>
	   </p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp66145104"></a><a id="missing-libcso30"></a><p><strong>7.2.</strong></p></td><td align="left" valign="top"><p>Onde eu encontro a libc.so.3.0?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Você está tentando usar um pacote
	    construído para o FreeBSD 2.2 ou para
	    versões posteriores, em um sistema 2.1.X.  Por
	    gentileza, dê uma olhada na seção
	    anterior e pegue o <code class="literal">port</code>/pacote correto
	    para o seu sistema.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp66147536"></a><a id="missing-libcso40"></a><p><strong>7.3.</strong></p></td><td align="left" valign="top"><p> Por que eu estou tendo problemas cuja mensagem de
	    erro mostra <span class="quote">&#8220;<span class="quote">Error: can't find
	      libc.so.4.0</span>&#8221;</span>?.</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Acidentalmente você pegou um pacote
	    construído para FreeBSD 4.X ou para o 5.X e
	    está tentando instala-lo no seu FreeBSD 2.X ou 3.X.
	    Por favor, pegue a versão correta dos
	    pacotes.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp66149968"></a><a id="emul"></a><p><strong>7.4.</strong></p></td><td align="left" valign="top"><p> Por que o ghostscript gera um monte de erros no meu
	    386/486SX?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Deixe-me adivinhar.  Você não tem um
	    co-processador matemático, certo?  Será
	    necessário adicionar um co-processador
	    matemático alternativo ao seu
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span>; você pode
	    fazer isso adicionando a seguinte linha no arquivo de
	    configuração do seu
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span>, e depois
	    recompilá-lo:</p><pre class="programlisting">options GPL_MATH_EMULATE</pre><div xmlns="" class="note"><h3 class="admontitle">Nota: </h3><p xmlns="http://www.w3.org/1999/xhtml">Quando você fizer isto, será
	      necessário remover a opção
	      <code class="literal">MATH_EMULATE</code></p></div></td></tr><tr class="question"><td align="left" valign="top"><a id="idp66182992"></a><a id="sco-socksys"></a><p><strong>7.5.</strong></p></td><td align="left" valign="top"><p>Por que aplicações do SCO/iBCS2
	    bombardeiam o ``socksys''? (FreeBSD 3.0 e anteriores,
	    apenas).</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Primeiro, é necessário editar o arquivo
	    <code class="filename">/etc/sysconfig</code> (ou
	    <code class="filename">/etc/rc.conf</code>, veja o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=rc.conf&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">rc.conf</span>(5)</span></a>)
	    e modificar a última seção, alterando
	    para <code class="literal">YES</code> a seguinte
	    variável:</p><pre class="programlisting"># Set to YES if you want ibcs2 (SCO) emulation loaded at startup
ibcs2=NO</pre><p>Essa alteração fará o sistema
	    carregar os módulos de
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> do ibcs2 na
	    inicialização.</p><p>Depois, será necessário alterar o
	    /compat/ibcs2/dev para parecer com:</p><pre class="screen">lrwxr-xr-x  1 root  wheel         9 Oct 15 22:20 X0R@ -&gt; /dev/null
lrwxr-xr-x  1 root  wheel         7 Oct 15 22:20 nfsd@ -&gt; socksys
-rw-rw-r--  1 root  wheel         0 Oct 28 12:02 null
lrwxr-xr-x  1 root  wheel         9 Oct 15 22:20 socksys@ -&gt; /dev/null
crw-rw-rw-  1 root  wheel   41,   1 Oct 15 22:14 spx</pre><p>É necessário que o socksys aponte para
	    <code class="filename">/dev/null</code> (veja <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=null&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">null</span>(4)</span></a>) para
	    fingir o processo de abertura e fechamento do device.  O
	    código mais recente (<code class="literal">-CURRENT</code>)
	    se encarregará dos outros detalhes.  Essa maneira
	    de trabalhar o socksys é bem mais limpa do que a
	    forma que era usada anteriormente.  Se você quer que
	    o driver <code class="filename">spx</code> fique
	    disponível para um socket X local, defina a
	    opção <code class="literal">SPX_HACK</code> no
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> do FreeBSD quando
	    você o recompilar.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp66196304"></a><a id="configure-inn"></a><p><strong>7.6.</strong></p></td><td align="left" valign="top"><p> Como eu configuro um sistema de INN (Internet News)
	    na minha estação?
	  </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Depois de instalar o pacote <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/news/inn/pkg-descr">news/inn</a> ou o
	    <code class="literal">port</code>, um excelente lugar para iniciar
	    é  <a class="link" href="http://www.cis.ohio-state.edu/~barr/INN.html" target="_top">Dave
	      Barr's INN Page</a> onde voçe
	    encontrará o <code class="literal">FAQ</code> do INN.
	  </p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp66208336"></a><a id="ms-frontpage"></a><p><strong>7.7.</strong></p></td><td align="left" valign="top"><p>Qual versão do Microsoft FrontPage eu devo
	    usar?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Use os <code class="literal">Ports</code>, Luke!  Uma
	    versão previamente corrigida do Apache,<a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/apache13-fp/pkg-descr">apache13-fp</a>, está
	    disponível na árvore do
	    <code class="literal">Ports</code>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp66211664"></a><a id="java"></a><p><strong>7.8.</strong></p></td><td align="left" valign="top"><p>O FreeBSD suporta Java?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Veja a página  <a class="link" href="../../../../java/index.html" target="_top">
	      http://www.FreeBSD.org/java/</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp66214224"></a><a id="ports-3x"></a><p><strong>7.9.</strong></p></td><td align="left" valign="top"><p>Por que eu não consigo compilar determinado
	    <code class="literal">port</code> na minha estação
	    3.X-STABLE?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Caso esteja usando uma versão do FreeBSD
	    significativamente mais velha do que o -CURRENT ou o
	    -STABLE, será necessário usar o kit de
	    atualização dos <code class="literal">Ports</code>,
	    disponível em  <a class="link" href="../../../../ports/index.html" target="_top">http://www.FreeBSD.org/ports/</a>.
	    Caso esteja atualizado mas ainda assim você tem
	    dificuldades, é provável que alguém
	    disponibilizou uma versão do programa que funciona
	    perfeitamente no -CURRENT mas que não compila
	    corretamente no -STABLE.  Por gentileza, envie um
	    Relatório de Problemas com o comando <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=send-pr&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">send-pr</span>(1)</span></a>
	    porque a coleção de <code class="literal">Ports</code>
	    deve funcionar tanto no -STABLE quanto no -CURRENT.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp66218832"></a><a id="find-ldso"></a><p><strong>7.10.</strong></p></td><td align="left" valign="top"><p>Onde posso encontrar o arquivo ld.so?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Algumas aplicações cujo formato
	    binário é o a.out, como o Netscape
	    Navigator, necessitam das bibliotecas a.out.  Uma
	    versão do FreeBSD nativamente construído com
	    bibliotecas ELF não instala as bibliotecas a.out
	    por padrão.  Você terá problemas por
	    não ter o <code class="filename">/usr/libexec/ld.so</code>,
	    se esse for o caso do seu sistema.  Estas bibliotecas
	    estão disponíveis embutidas na
	    distribuição compat22.  Utilize o
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sysinstall&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sysinstall</span>(8)</span></a> para instalá-los.  Pode-se
	    instalá-lo apartir do código fonte do
	    FreeBSD:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cd /usr/src/lib/compat/compat22</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>make install clean</code></strong></pre><p>Se quiser instalar as bibliotecas mais recentes do
	    compat22 sempre que executar o <code class="command">make
	      world</code>, edite
	    <code class="filename">/etc/make.conf</code> para incluir
	    <code class="varname">COMPAT22=YES</code>.  Bibliotecas de
	    compatibilidade antigas raramente sofrem mudanças ,
	    as vezes nunca, então geralmente não
	    é necessário.</p><p> Também veja as páginas de ERRATAS para
	    o 3.1-RELEASE e 3.2-RELEASE.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp66233936"></a><a id="ports-update"></a><p><strong>7.11.</strong></p></td><td align="left" valign="top"><p>Eu atualizei meus fontes.  E agora, como eu atualizo
	    meus <code class="literal">Ports</code> instalados?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>FreeBSD não inclui uma ferramenta de
	    atualização do <code class="literal">ports</code>, mas
	    existem algumas ferramentas que tornam o processo de
	    atualização dos <code class="literal">Ports</code> uma
	    tarefa, digamos, fácil.  É possível
	    ainda instalar algumas ferramentas adicionais que
	    facilitam o gerenciamento dos <code class="literal">Ports</code>
	    instalados</p><p>O comando <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pkg_version&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">pkg_version</span>(1)</span></a> pode gerar um script que
	    atualizará os <code class="literal">ports</code> instalados
	    para as últimas versões da árvore de
	    <code class="literal">Ports</code>.</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>pkg_version -c &gt; /tmp/myscript</code></strong></pre><p>O script de saída <span class="emphasis"><em>deve</em></span> ser
	    editado manualmente antes de ser usado.  As versões
	    mais recentes do <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pkg_version&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">pkg_version</span>(1)</span></a> forçam a
	    edição do arquivo, colocando um  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=exit&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">exit</span>(1)</span></a>
	    no começo do script.</p><p>A saída do script deve ser salva pois ela gera
	    informações sobre os pacotes que são
	    dependências dos que estão sendo atualizados.
	    Tais dependências podem precisar ser atualizadas ou
	    não, dependendo de cada uma delas.  Os casos comuns
	    onde as dependências precisam ser atualizadas
	    é quando a versão das bibliotecas
	    compartilhadas foram alteradas, portanto o
	    <code class="literal">port</code> que usava aquela biblioteca
	    precisa ser atualizado para que a nova versão seja
	    usada.</p><p>Caso tenha espaço o bastante em disco , pode
	    ser interessante usar a ferramenta
	    <code class="command">portupgrade</code> para automatizar o processo
	    de atualização das aplicações
	    instalados por meio de <code class="literal">ports</code> ou
	    pacotes.  Posto que ele foi programado em Ruby, o
	    <code class="command">portupgrade</code> é um candidato
	    improvável à se tornar parte da
	    árvore principal do FreeBSD.  Mas isso não
	    evita que qualquer pessoa use o programa.  Alias, ele
	    é uma ótima ferramenta.  Ele está
	    disponível em <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/sysutils/portupgrade/pkg-descr">sysutils/portupgrade</a>.</p><p>Se a estação fica constantemente
	    conectada, é interessante usar o sistema
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=periodic&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">periodic</span>(8)</span></a> para gerar um relatório semanal
	    sobre as versões do <code class="literal">Ports</code> que
	    podem ser atualizadas.  Pra configurar o sistema para
	    isso, insira a linha
	    <code class="literal">weekly_status_pkg_enable="YES"</code> no
	    <code class="filename">/etc/periodic.conf</code>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp66248144"></a><a id="minimal-sh"></a><p><strong>7.12.</strong></p></td><td align="left" valign="top"><p>Por que o <code class="command">/bin/sh</code> é
	    tão pequeno?  Por que o FreeBSD não usa o
	    <code class="command">bash</code> ou outro interpretador de comandos
	    (<span class="foreignphrase"><em class="foreignphrase">shell</em></span>)?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Porque o POSIX diz que é assim que deve ser um
	    interpretador de comandos
	    (<span class="foreignphrase"><em class="foreignphrase">shell</em></span>)?</p><p>A reposta mais complicada: muitas pessoas precisam
	    escrever scripts <span class="foreignphrase"><em class="foreignphrase">shell</em></span> que
	    sejam portáveis através de muitos sistemas.
	    É por isso que o POSIX especifica o interpretador
	    de comandos (<span class="foreignphrase"><em class="foreignphrase">shell</em></span>) e
	    comandos utilitários com tanto detalhe.  A maioria
	    dos scripts são escritos para o interpretador de
	    comandos Bourne (Bourne
	    <span class="foreignphrase"><em class="foreignphrase">shell</em></span>), e várias
	    interfaces importantes de programação
	    (<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=make&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">make</span>(1)</span></a>, <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=system&amp;sektion=3"><span class="citerefentry"><span class="refentrytitle">system</span>(3)</span></a>, <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=popen&amp;sektion=3"><span class="citerefentry"><span class="refentrytitle">popen</span>(3)</span></a> e
	    análogos em linguagens de alto-nível como
	    Perl e Tcl) o usam como interpretador de comandos
	    (<span class="foreignphrase"><em class="foreignphrase">shell</em></span>) padrão.  Por
	    ser tão amplamente utilizado é importante
	    que o interpretador de comandos
	    (<span class="foreignphrase"><em class="foreignphrase">shell</em></span>) Bourne seja
	    rápido para carregar, seja determinístico em
	    seu comportamento, e que tenha uma pequena
	    alocação de memória.
	   </p><p>A implementação atual é o nosso
	    melhor esforço para encontrar a maior parte destes
	    requerimentos simultaneamente.  Como forma de manter o
	    <code class="command">/bin/sh</code> do menor tamanho
	    possível, não incluímos muitas das
	    características convenientes que outros
	    interpretadores de comando
	    (<span class="foreignphrase"><em class="foreignphrase">shell</em></span>) possuem.  É
	    por isso que a Coleção de
	    <code class="literal">Ports</code> disponibiliza outros
	    interpretadores de comandos
	    (<span class="foreignphrase"><em class="foreignphrase">shell</em></span>) com
	    características mais abrangentes, como o bash, o
	    csh, o tcsh, e o zsh. (Você pode comparar a
	    utilização de memória entre todos
	    esses interpretadores de comandos
	    (<span class="foreignphrase"><em class="foreignphrase">shell</em></span>), analisando as
	    colunas <span class="quote">&#8220;<span class="quote">VSZ</span>&#8221;</span> e <span class="quote">&#8220;<span class="quote">RSS</span>&#8221;</span> na
	    saída do comando <code class="command">ps -u</code>.)</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp66268368"></a><a id="netscape-slow-startup"></a><p><strong>7.13.</strong></p></td><td align="left" valign="top"><p>Por que o Netscape e o Opera demoram tanto para
	    iniciar?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>A resposta tradicional é que o DNS no seu
	    computador está mal configurado.  O Netscape e o
	    Opera fazem verificação de DNS ao iniciar, e
	    por isso não se tornarão disponíveis
	    até que obtenham uma resposta do servidor DNS ou
	    até que eles determinem que a estação
	    não está conectada na rede.</p></td></tr></tbody></table></div></div><div class="chapter"><div xmlns="" class="titlepage"><div><div><h1 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="kernelconfig"></a>Capítulo 8. Configuraçãao do
      <span class="foreignphrase"><em class="foreignphrase">Kernel</em></span></h1></div></div></div><div class="qandaset"><a id="idp66271696"></a><dl><dt>8.1. <a href="#idp66271952">Eu gostaria de configurar meu
	    kernel.  É
	    difícil?</a></dt><dt>8.2. <a href="#idp66283216">A compilação do meu
	    kernel falha porque
	    está faltando o _hw_float.  Como
	    eu resolvo o problema?</a></dt><dt>8.3. <a href="#idp66289232">Por que meu kernel
	    é tão grande (cerca de 10MB)?</a></dt><dt>8.4. <a href="#idp66309200">Porque estão ocorrendo conflitos de
	    interrupção com portas multi-seriais?</a></dt><dt>8.5. <a href="#idp66321488">Porque todo kernel que
	    eu tento construir falha na compilação,
	    mesmo o GENERIC?</a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%" /><col /></colgroup><tbody><tr class="question"><td align="left" valign="top"><a id="idp66271952"></a><a id="make-kernel"></a><p><strong>8.1.</strong></p></td><td align="left" valign="top"><p>Eu gostaria de configurar meu
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span>.  É
	    difícil?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>De modo algum!  Veja a <a class="link" href="../handbook/kernelconfig.html" target="_top">seção
	      "kernel config" do Manual do FreeBSD</a>.</p><div xmlns="" class="note"><h3 class="admontitle">Nota: </h3><p xmlns="http://www.w3.org/1999/xhtml">Recomenda-se que você faça uma
	      cópia datada do seu <code class="filename">kernel</code>
	      na forma <code class="filename">/kernel.AAMMDD</code> e o
	      diretório <code class="filename">/modules</code> para
	      <code class="filename">/modules.AAMMDD</code> depois que estiver
	      tudo funcionando.  Desta forma se você fizer
	      alguma bobagem quando mexer com a sua
	      configuração, pode-se iniciar aquele
	      <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> ao invés de
	      ter que desfazer tudo novamente no
	      <code class="filename">kernel.GENERIC</code>.  Isso é
	      particularmente importante se você estiver dando
	      boot em um equipamento não suportado pelo
	      <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> genérico
	      (<code class="literal">GENERIC</code>).</p></div></td></tr><tr class="question"><td align="left" valign="top"><a id="idp66283216"></a><a id="missing-hw-float"></a><p><strong>8.2.</strong></p></td><td align="left" valign="top"><p>A compilação do meu
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> falha porque
	    está faltando o <code class="literal">_hw_float</code>.  Como
	    eu resolvo o problema?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Deixa eu adivinhar.  Você removeu o
	    <code class="filename">npx0</code> (veja <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=npx&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">npx</span>(4)</span></a>) do
	    arquivo de configuração do
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> porque você
	    não possui um co-processador aritmético,
	    certo?  Errado!  :-) O <code class="filename">npx0</code>
	    é <span class="emphasis"><em>OBRIGATÓRIO</em></span>.  Mesmo
	    que você não tenha um co-processador
	    aritmético, o dispositivo
	    <code class="filename">npx0</code> <span class="emphasis"><em>deve</em></span>
	    ser incluido.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp66289232"></a><a id="why-kernel-big"></a><p><strong>8.3.</strong></p></td><td align="left" valign="top"><p>Por que meu <span class="foreignphrase"><em class="foreignphrase">kernel</em></span>
	    é tão grande (cerca de 10MB)?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Provavelmente, seu
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> foi compilado em
	    <span class="emphasis"><em>modo de depuração
	      (<code class="literal">debug</code>)</em></span>.  Um
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> construído em
	    modo de depuração (<code class="literal">debug</code>)
	    contêm muitos símbolos usados para
	    depuração que aumentam muito o seu tamanho.
	    Note que se você está executando um FreeBSD
	    3.0 ou superior, terá pouca, ou nenhuma,  perda de
	    performance por usar um
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> em modo de
	    depuração (<code class="literal">debug</code>), sendo
	    útil ter um para o caso de pane no sistema.
	  </p><p>Entretanto, se você possui pouco espaço
	    em disco, ou simplesmente não quer executar um
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> para
	    depuração,  certifique-se que os dois itens
	    abaixo sejam verdadeiros:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Não existe a seguinte linha no arquivo de
		configuração do
		<span class="foreignphrase"><em class="foreignphrase">kernel</em></span></p><pre class="programlisting">makeoptions DEBUG=-g</pre></li><li class="listitem"><p>Você não está executando
		<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=config&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">config</span>(8)</span></a> com a opção
		<code class="option">-g</code>.</p></li></ul></div><p>Ambas as situações acima fazem com que o
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> seja compilado no
	    modo de depuração
	    (<code class="literal">debug</code>).  Tão logo você
	    tenha certeza que não se enquadra naqueles itens, o
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> poderá ser
	    compilado normalmente e notadamente diminuirá o
	    tamanho;  a maioria dos
	    <span class="foreignphrase"><em class="foreignphrase">kernels</em></span> tendem a ficar em
	    torno de 1.5MB a 2MB.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp66309200"></a><a id="multiport-serial-interrupts"></a><p><strong>8.4.</strong></p></td><td align="left" valign="top"><p>Porque estão ocorrendo conflitos de
	    interrupção com portas multi-seriais?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Quando se compila um
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> com suporte a porta
	    multi-serial, ele avisa que somente a primeira porta
	    é testada e as demais são ignoradas devido a
	    conflitos de interrupção.  Como eu conserto
	    isto?</p><p>O problema, neste caso, é que o FreeBSD possui
	    código para evitar que o
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> fique com lixo
	    (<span class="foreignphrase"><em class="foreignphrase">trashed kernel</em></span>) por causa
	    de conflitos de hardware ou software.  A maneira de
	    corrigir isto é excluindo as
	    definiçõs de IRQ em todas as portas exceto
	    uma.  Veja o exemplo:</p><pre class="programlisting">#
# Multiport high-speed serial line - 16550 UARTS
#
device sio2 at isa? port 0x2a0 tty irq 5 flags 0x501 vector siointr
device sio3 at isa? port 0x2a8 tty flags 0x501 vector siointr
device sio4 at isa? port 0x2b0 tty flags 0x501 vector siointr
device sio5 at isa? port 0x2b8 tty flags 0x501 vector siointr</pre></td></tr><tr class="question"><td align="left" valign="top"><a id="idp66321488"></a><a id="generic-kernel-build-failure"></a><p><strong>8.5.</strong></p></td><td align="left" valign="top"><p>Porque todo <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> que
	    eu tento construir falha na compilação,
	    mesmo o GENERIC?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Existem várias causas possíveis para
	    esse problema.  Elas são, sem uma ordem particular:
	  </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Você não está usando os
		comandos <code class="command">make buildkernel</code> e
		<code class="command">make installkernel</code>, e seus fontes
		estão estruturados de forma diferente daqueles
		usados para construir o sistema atual (por exemplo,
		está sendo um 4.3-RELEASE em um sistema
		4.0-RELEASE).  Se estiver sendo feita uma
		atualização, leia o arquivo
		<code class="filename">/usr/src/UPDATING</code>, prestando
		atenção ao final da seção
		<span class="quote">&#8220;<span class="quote">COMMON ITEMS</span>&#8221;</span>.</p></li><li class="listitem"><p>Você está usando os comandos
		<code class="command">make buildkernel</code> e <code class="command">make
		  installkernel</code>, mas não garantiu a
		correta finalização do comando
		<code class="command">make buildworld</code>.  O <code class="command">make
		  buildkernel</code> depende de arquivos gerados
		pelo <code class="command">make buildworld</code> para fazer seu
		trabalho corretamente.</p></li><li class="listitem"><p>Mesmo que você esteja tentando construir um
		<a class="link" href="#stable" title="1.8.">FreeBSD-STABLE</a>, é
		possível que os fontes tenham sido pegos quando
		estavam sendo modificados, ou inconsistentes por
		alguma outra razão; somente os releases
		são absolutamente garantidos de serem
		compilados, embora o <a class="link" href="#stable" title="1.8.">FreeBSD-STABLE</a> possa ser
		compilado com sucesso na grande maioria das vezes.
		Caso já não tenha conseguido,  tente
		buscar os fontes novamente e veja se o problema
		já não foi resolvido.  Tente um servidor
		diferente, para o caso daquele que está sendo
		usado estar com problemas.</p></li></ul></div></td></tr></tbody></table></div></div><div class="chapter"><div xmlns="" class="titlepage"><div><div><h1 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="disks"></a>Capítulo 9. Discos, Sistemas de Arquivos e Carregadores de
      Inicialização (<span class="foreignphrase"><em class="foreignphrase">Boot
	Loaders</em></span>)</h1></div></div></div><div class="qandaset"><a id="idp66332752"></a><dl><dt>9.1. <a href="#idp66333008">Como eu mudo todo o meu sistema operacional para um
	    disco novo?</a></dt><dt>9.2. <a href="#idp66387536">Um disco no modo &#8220;dangerously dedicated&#8221;
	    pode ser prejudicial a minha saúde?</a></dt><dt>9.3. <a href="#idp66441296">Em quais partições podemos seguramente
	    usar o softupdates?  Eu tenho ouvido falar de problemas em
	    se usar o softupdates na partição
	    /?</a></dt><dt>9.4. <a href="#idp66448976">O que é inapropriado no meu ccd?</a></dt><dt>9.5. <a href="#idp66453584">Porque eu não posso editar o disklabel do meu
	    ccd?</a></dt><dt>9.6. <a href="#idp66465232">Posso montar outros tipos de partições
	    externas sobre FreeBSD?</a></dt><dt>9.7. <a href="#idp66478288">Como montar uma partição DOS
	    secundária?</a></dt><dt>9.8. <a href="#idp66483664">Existe um sistema de arquivos criptografado para o
	    FreeBSD?</a></dt><dt>9.9. <a href="#idp66486480">Como posso usar o carregador do NT para iniciar o
	    FreeBSD?</a></dt><dt>9.10. <a href="#idp66523088">Como posso iniciar o FreeBSD e o Linux com o
	    LILO?</a></dt><dt>9.11. <a href="#idp66533072">Como eu inicio o FreeBSD e o Linux usando o
	    BootEasy?</a></dt><dt>9.12. <a href="#idp66536016">Como eu altero a tela de inicialização
	    (boot) de
	    ??? para algo mais
	    significativo?</a></dt><dt>9.13. <a href="#idp66540368">Possuo uma nova unidade de disco removível,
	    como posso usa-la?</a></dt><dt>9.14. <a href="#idp66566864">Por que eu tive o erro Incorrect super
	      block na hora de montar um CDROM?</a></dt><dt>9.15. <a href="#idp66571216">Device not configured ocorre na
	    hora de montar o CDROM?</a></dt><dt>9.16. <a href="#idp66574032">Porque todos caracteres não-Inglês
	    são apresentados como &#8220;?&#8221; no sistema
	    de arquivos do CD que acabou de ser montado no
	    FreeBSD?</a></dt><dt>9.17. <a href="#idp66586320">Eu queimei um CD no FreeBSD e agora esse disco
	    não pode ser lido em nenhum outro sistema
	    operacional.  Por que?</a></dt><dt>9.18. <a href="#idp66589392">Como posso criar uma imagem de um CD de dados?</a></dt><dt>9.19. <a href="#idp66592592">Por que um CD de áudio não pode ser
	    montado com o comando mount?</a></dt><dt>9.20. <a href="#idp66604880">Como eu monto um CD com múltiplas
	    sessões de gravação?</a></dt><dt>9.21. <a href="#idp66608976">Como posso permitir que usuários comuns montem
	    disquetes, CDROMs e outros tipos de mídia
	    removível?</a></dt><dt>9.22. <a href="#idp66646224">Os comandos du e
	    df apresentam quantias distintas de
	    espaço em disco disponível.  O que
	    está havendo?</a></dt><dt>9.23. <a href="#idp66658384">Como eu posso adicionar mais espaço para
	    swap?</a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%" /><col /></colgroup><tbody><tr class="question"><td align="left" valign="top"><a id="idp66333008"></a><a id="new-huge-disk"></a><p><strong>9.1.</strong></p></td><td align="left" valign="top"><p>Como eu mudo todo o meu sistema operacional para um
	    disco novo?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>A melhor maneira de migrar seu sistema de um disco
	    para o outro é reinstalar completamente o SO na
	    nova unidade de armazenamento e depois migrar os dados dos
	    usuários do disco antigo para nova
	    instalação.  Essa forma é a mais
	    recomendada, caso o sistema tenha sido -STABLE por mais de
	    uma versão, ou caso tenha atualizado um Release ao
	    invés de ter instalado um novo sistema.  O booteasy
	    pode ser facilmente instalado com o comando
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=boot0cfg&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">boot0cfg</span>(8)</span></a>, de forma a permitir que o sistema possa
	    iniciar dois sistemas distintos, até que você
	    esteja satisfeito com o novo sistema.  Pule o
	    próximo parágrafo para saber algumas formas
	    seguras de migrar os dados dos usuários para o novo
	    disco.</p><p>Você pode ter decidido por não refazer
	    uma nova instalação; nesse caso será
	    necessário reparticionar o novo disco com o
	    <code class="filename">/stand/sysinstall</code>, ou <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=fdisk&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">fdisk</span>(8)</span></a>
	    ou <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=disklabel&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">disklabel</span>(8)</span></a>.  Também é
	    necessário instalar o booteasy em ambas as unidades
	    com o comando <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=boot0cfg&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">boot0cfg</span>(8)</span></a>, de forma que você
	    possa alternar a inicialização entre o novo
	    sistema e a configuração atual do mesmo,
	    até que a cópia dos dados tenha sido
	    efetuada.</p><p>Agora, com um novo disco configurado, você
	    está pronto para começar a mover os dados da
	    antiga para nova unidade de armazenamento.  Infelizmente
	    os dados não podem simplesmente ser copiados ao
	    acaso.  Existem alguns arquivos especiais (como os
	    arquivos de dispositivos <code class="filename">/dev</code>),
	    flags, e links que tendem a não funcionar no novo
	    sistema, visto que esses arquivos ocupam inodes ou tem
	    informações específicas da unidade, e
	    por isso não podem ser copiados como um arquivo
	    comum.  É necessário usar ferramentas que
	    entendam esse comportamento.  Isso significa que
	    você terá que usar o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dump&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">dump</span>(8)</span></a>.  É
	    sempre uma boa idéia realizar esse processo de
	    cópia de dados em modo mono-usuário, contudo
	    tal precaução não é
	    obrigatória - é apenas sinal de
	    cuidado.</p><p>Não é aconselhável usar nenhuma
	    outra ferramenta a não ser o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dump&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">dump</span>(8)</span></a> e
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=restore&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">restore</span>(8)</span></a> para copiar o sistema de arquivos da
	    partição raiz ("/").  O
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=tar&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">tar</span>(1)</span></a> pode funcionar de forma satisfatória,
	    mas pode ser que não.  Também é
	    ótima idéia usar o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dump&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">dump</span>(8)</span></a> e
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=restore&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">restore</span>(8)</span></a> para copiar (ou mover completamente) os
	    dados em uma partição para uma outra
	    partição vazia.  Os passos
	    necessários para usar o dump para copiar os dados
	    de uma partição existente para uma nova
	    partição são:</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Crie um novo sistema de arquivos com o
		<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=newfs&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">newfs</span>(8)</span></a> na nova partição.</p></li><li class="step"><p>Monte a partição em um ponto de
		montagem temporário.</p></li><li class="step"><p>Entre (cd) no ponto de montagem em
		questão.</p></li><li class="step"><p>Finalmente mova os dados da partição
		existente para a nova partição com o
		<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dump&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">dump</span>(8)</span></a>.</p></li></ol></div><p>Por exemplo, se a intenção é
	    copiar os dados da partição raiz para a
	    partição
	    <code class="filename">/dev/ad1s1a</code>, cujo ponto de
	    montagem temporário é o
	    <code class="filename">/mnt</code>, faça o seguinte:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>newfs /dev/ad1s1a</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>mount /dev/ad1s1a /mnt</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>cd /mnt</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>dump 0af - / | restore xf -</code></strong></pre><p>Redefinir a estrutura das partições com
	    o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dump&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">dump</span>(8)</span></a> é um processo um pouco mais
	    trabalhoso.  Caso você queira, por exemplo, unir o
	    conteúdo da partição
	    <code class="filename">/var</code> com as partições
	    de nível acima, crie uma partição que
	    seja grande o bastante para alocar o conteúdo de
	    ambas, copie a partição principal como no
	    exemplo descrito acima e depois copie as
	    sub-partições para os diretórios
	    vazios que o primeiro comando deve ter criado:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>newfs /dev/ad1s1a</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>mount /dev/ad1s1a /mnt</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>cd /mnt</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>dump 0af - / | restore xf -</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>cd var</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>dump 0af - /var | restore xf -</code></strong></pre><p>Para separar um diretório de sua estrutura
	    atual, ou seja, no mesmo exemplo ainda, alocar os dados de
	    <code class="filename">/var</code> em uma partição
	    própria quando na definição atual o
	    /var é apenas um diretório comum, é
	    necessário montar a sub partição no
	    diretório apropriado do ponto de montagem
	    temporário, simulando assim o sistema de arquivos a
	    ser criado a partir da raiz (montada no diretório
	    temporário), depois basta copiar os dados do
	    diretório antigo para nova
	    partição:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>newfs /dev/ad1s1a</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>newfs /dev/ad1s1d</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>mount /dev/ad1s1a /mnt</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>mkdir /mnt/var</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>mount /dev/ad1s1d /mnt/var</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>cd /mnt</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>dump 0af - / | restore xf -</code></strong></pre><p>Talvez você prefira usar <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=cpio&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">cpio</span>(1)</span></a>,
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pax&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">pax</span>(1)</span></a>, <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=tar&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">tar</span>(1)</span></a> ao invés de <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dump&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">dump</span>(8)</span></a>
	    na hora de copiar os dados de usuários.  Quando
	    este <code class="literal">FAQ</code> foi escrito, esses comandos
	    costumavam perder atributos especiais dos arquivos ou
	    mesmo alterar algumas permissões ou autoridade
	    (dono dos arquivos), portanto use esses comandos com
	    cuidado.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp66387536"></a><a id="dangerously-dedicated"></a><p><strong>9.2.</strong></p></td><td align="left" valign="top"><p>Um disco no modo <span class="quote">&#8220;<span class="quote">dangerously dedicated</span>&#8221;</span>
	    pode ser prejudicial a minha saúde?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><a id="dedicate"></a>O processo de
	    instalação permite a escolha entre dois
	    modos distintos de particionar o(s) disco(s)
	    rígido.  A maneira tradicional permite que outros
	    sistemas operacionais na mesma estação
	    possam acessar essas partições, criando
	    entradas na tabela do fdisk (entradas chamadas de
	    <span class="quote">&#8220;<span class="quote">slices</span>&#8221;</span> no FreeBSD) sob uma
	    partição FreeBSD própria.  Uma
	    característica desse particionamento é
	    permitir múltiplos sistemas operacionais e permitir
	    a instalação de um gerenciador de
	    inicialização
	    (<span class="foreignphrase"><em class="foreignphrase">boot</em></span>) para alternar entre
	    esses sistemas.  A segunda maneira, a alternativa ao modo
	    tradicional faz uso do disco todo para o FreeBSD e
	    não faz esforços para se tornar
	    compatível com outros sistemas operacionais.</p><p>Então, por que esse modo é chamado de
	    <span class="quote">&#8220;<span class="quote">modo perigosamente dedicado</span>&#8221;</span>?  Um disco
	    particionado dessa forma não tem algumas
	    características tradicionais que os PCs poderiam
	    considerar entradas válidas do fdisk.  Dependendo
	    das circunstâncias o PC pode reclamar e gerar
	    advertências sobre o disco em questão, assim
	    que o primeiro contato com essa unidade seja feito, ou
	    pior, o PC pode ainda danificar o processo de
	    inicialização
	    (<span class="foreignphrase"><em class="foreignphrase">boot</em></span>) do BSD
	    (<span class="foreignphrase"><em class="foreignphrase">bootstrap</em></span>) sem pedir
	    confirmação da alteração ou
	    até mesmo sem avisar o usuário dessa
	    mudança.  O <span class="quote">&#8220;<span class="quote">modo perigosamente
	      dedicado</span>&#8221;</span> ainda costuma confundir várias
	    BIOS, inclusive as BIOS AWARD (encontradas, por exemplo no
	    HP Netserver e em sistemas Micronics assim como em muitos
	    outros) e as BIOS Symbios/NCR (da popular série
	    53C8xx de controladoras SCSI).  Não são
	    apenas esses dois modelos que podem apresentar
	    dificuldades com esse modo de particionamento de disco, a
	    lista completa é ainda maior.  O principal sintoma
	    desse tipo de confusão é a presença
	    de mensagens de <span class="errorname">read error</span>
	    apresentada pelo <span class="foreignphrase"><em class="foreignphrase">bootstrap</em></span>
	    do FreeBSD quando ele tem dificuldades de encontrar-se;
	    outro sintoma é a falta de sistema operacional no
	    momento da inicialização do PC.</p><p>Então porque esse modo de particionamento de
	    disco existe?  Esse modo economiza o uso de alguns poucos
	    kbytes de espaço em disco, e pode, em contrapartida
	    gerar grandes problemas em uma nova
	    instalação do sistema.  O modo
	    <span class="quote">&#8220;<span class="quote">perigosamente dedicado</span>&#8221;</span> em sua origem
	    é um desejo antigo dos usuários do FreeBSD,
	    especialmente durante a instalação, que
	    é simplesmente poder ignorar a
	    <span class="quote">&#8220;<span class="quote">geometria</span>&#8221;</span> de disco reconhecida pela BIOS e
	    usar o disco todo de forma independente, sem prestar
	    satisfação ao sistema básico de
	    entrada/saída do PC.</p><p>O conceito de <span class="quote">&#8220;<span class="quote">Geometria</span>&#8221;</span> é
	    ultrapassado, mas infelizmente ainda faz parte do
	    coração da BIOS dos Computadores Pessoais,
	    sendo extremamente necessário para a
	    interação do computador com seus discos.
	    Quando o FreeBSD cria as partições, ele tem
	    que gravar sua localização de forma
	    correspondente a maneira que a BIOS irá
	    procurá-la.  Se essa informação
	    não é acessível à BIOS, pode
	    ser que o sistema não consiga iniciar-se.</p><p><span class="quote">&#8220;<span class="quote">O modo Dangerously dedicated</span>&#8221;</span> tenta
	    evitar esse desconforto fazendo a operação
	    se tornar mais simples.  Em muitos casos essa forma de
	    particionamento funciona, mas ela foi criada para ser
	    usada como última alternativa à necessidade
	    de definir a geometria do disco - em 99% dos casos existem
	    formas mais vantajosas de resolver problemas com
	    geometria.</p><p>Mas então, como evitar a necessidade do modo
	    <span class="quote">&#8220;<span class="quote">DD</span>&#8221;</span> na instalação do sistema?
	    Comece anotando os valores pra geometria que a BIOS diz
	    estar usando pros discos locais.  Esses valores podem ser
	    apresentados pelo kernel do FreeBSD, especificando a
	    opção <code class="option">-v</code> no prompt de
	    <code class="literal">boot:</code> usando <code class="command">boot
	      -v</code> nas configurações do loader
	    do sistema operacional.  Antes do programa de
	    instalação ser carregado o kernel apresenta
	    a listagem dos valores para a Geometria de discos
	    reconhecida pela BIOS do computador;  não se
	    precipite nem se preocupe, essas informações
	    podem ser visualizadas paginando a tela para as
	    notações anteriores, sendo possível
	    assim verificar esses valores.  Normalmente as unidades de
	    disco da BIOS são apresentadas na mesma ordem que o
	    FreeBSD as encontra, sendo primeiro as unidades IDE
	    seguido das SCSI.</p><p>No momento do particionamento do disco, verifique se a
	    geometria apresentada pelo FDISK corresponde ao valor
	    apresentado pela BIOS;  caso não corresponda use a
	    tecla <span class="keycap"><strong>g</strong></span> para redefinir esses valores.
	    Também pode ser necessário definir a
	    geometria manualmente em casos onde o disco em
	    questão está vazio e sem nenhum outro tipo
	    de partição criada, ou se o disco foi
	    instalado em um outro computador e foi colocado na
	    estação atual recentemente.  Note que esse
	    tipo de complicação não é
	    comum, e quando acontece, acontece apenas com o disco onde
	    o FreeBSD está iniciando;  Qualquer outro disco
	    existente no computador será controlado
	    perfeitamente pelo FreeBSD em qualquer
	    situação.</p><p>Uma vez existindo a concordância de Geometria
	    entre a BIOS e o FreeBSD, com certeza seus problemas
	    terão acabado, e não existia a necessidade
	    de usar o modo <span class="quote">&#8220;<span class="quote">DD</span>&#8221;</span>.  Contudo, se em casos
	    extremos ainda ocorrerem erros de <span class="errorname">read
	      error</span> então pode cruzar os dedos e
	    usar o modo dedicado (DD), afinal não há
	    nada a perder, visto que das formas tradicionais sua BIOS
	    insiste em não cooperar de forma correta.</p><p>Para voltar um disco particionado em modo
	    <span class="quote">&#8220;<span class="quote">dangerously dedicated</span>&#8221;</span> para uso normal em um
	    PC existem duas alternativas.  A primeira é alocar
	    dados nulos (NULL bytes) o bastante na MBR do disco, de
	    forma que qualquer instalação posterior
	    acredite que o disco está vazio.  Isso pode ser
	    feito, por exemplo, da seguinte maneira:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>dd if=/dev/zero of=/dev/rda0 count=15</code></strong></pre><p>E a segunda forma, a
	    <span class="quote">&#8220;<span class="quote">opção</span>&#8221;</span> não documentada
	    do DOS:</p><pre class="screen"><code class="prompt">C:\&gt;</code> <strong class="userinput"><code>fdisk /mbr</code></strong></pre><p>instalará um novo registro mestre de
	    inicialização no disco em questão,
	    sobrepondo inclusive o
	    <span class="foreignphrase"><em class="foreignphrase">bootstrap</em></span> do BSD.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp66441296"></a><a id="safe-softupdates"></a><p><strong>9.3.</strong></p></td><td align="left" valign="top"><p>Em quais partições podemos seguramente
	    usar o softupdates?  Eu tenho ouvido falar de problemas em
	    se usar o softupdates na partição
	    <code class="filename">/</code>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>A resposta breve: o softupdates pode ser usado com
	    segurança em todas as
	    partições.</p><p>A resposta mais completa: existiam algumas
	    restrições quanto ao uso do softupdates na
	    partição raiz do sistema.  Tais
	    restrições se deviam a duas
	    características causadas pelo softupdates, que eram
	    a pouquíssima chance de perder alguns dados da
	    partição raiz se acontecesse algum system
	    crash;   apesar das probabilidades de perda de dados serem
	    mínimas, elas existem;   não existe uma
	    danificação ou corrosão do sistema de
	    arquivos, apenas alguns arquivos podem ser simplesmente
	    perdidos.  E a segunda característica é a
	    diminuição temporária de
	    espaço em disco.</p><p>Quando o softupdates está ativado o kernel pode
	    levar até trinta segundos para realmente escrever
	    alguns dados fisicamente em disco.  Caso algum arquivo
	    grande seja apagado, ela permanece temporariamente em
	    disco até que o kernel realmente o apague, o que
	    pode causar uma condição de corrida
	    simples(simple race condition).  Imagine, apenas para
	    ilustrar, que você apague um arquivo enorme do
	    disco, e logo em seguida crie um outro arquivo tão
	    grande quanto o primeiro;  a gravação de
	    metadados no disco pode não ter sido realizada
	    ainda quando o segundo arquivo é criado, ou seja o
	    primeiro não foi realmente definido como um arquivo
	    apagado.  Nesse caso é provável que
	    você receba uma mensagem dizendo que não
	    existe espaço o bastante em disco para o segundo
	    arquivo, quando você tem certeza absoluta que o
	    espaço que acabou de ser liberado ao apagar o
	    primeiro arquivo é o suficiente para alocar o
	    segundo!  Aí você tenta gravar o segundo
	    arquivo mais uma vez, alguns meros segundos depois, e o
	    processo de criação do mesmo, simplesmente
	    funciona como esperado.  Esse tipo de comportamento
	    já levou mais de um usuário a
	    balançar sua cabeça e duvidar de sua
	    própria sanidade, ou mesmo da sanidade do sistema
	    de arquivos do FreeBSD;  em caso extremos, de
	    dúvidas do bom estado de ambos, a sanidade do
	    sistema de arquivos e do próprio usuário
	    ;-)</p><p>Se o sistema falhar antes do kernel aceitar um
	    conjunto de dados que tem que ser escrito no disco antes
	    do mesmo ser gravado, é provável que exista
	    perda dos dados em questão.  Esse risco é
	    extremamente baixo, e geralmente é
	    contornável.  O uso, por exemplo, das
	    opções de cache de gravação
	    das unidades de disco IDE é um fator que causa a
	    possibilidade desse tipo de desconforto, portanto é
	    altamente recomendável que essa opção
	    seja desativada nos discos IDE quando for usar o
	    softupdates.</p><p>Esse comportamento afeta todas as
	    partições que estiverem com softupdates.
	    Portanto, o que isso implica para a partição
	    raiz?</p><p>A maioria das informações vitais da
	    partição raiz mudam com pouquíssima
	    freqüência.  Arquivos como o
	    <code class="filename">/kernel</code> e o conteúdo do
	    <code class="filename">/etc</code> são alterados apenas
	    durante a manutenção do sistema operacional,
	    ou quando os usuários alteram suas senhas.  Caso o
	    sistema falhe durante essa janela de trinta segundos,
	    depois que uma dessas alterações foi feita,
	    é possível que alguns dados sejam perdidos.
	    Esse risco é baixíssimo e praticamente
	    indiferente para maioria das aplicações, mas
	    deve-se atentar que o risco existe.  Caso seu sistema
	    não tolere nem uma possibilidade tão baixa
	    de riscos, não use o softupdates na
	    partição raiz!</p><p>A <code class="filename">/</code> normalmente é uma das
	    menores partições do sistema.  Por
	    padrão o FreeBSD coloca o diretório
	    <code class="filename">/tmp</code> na partição
	    <code class="filename">/</code>, comportamento este que pode ser
	    modificado por administradores de sistemas mais
	    experientes.  Caso seu <code class="filename">/tmp</code> costume
	    ocupar muito espaço, pode ser criado um link
	    simbólico para o <code class="filename">/var/tmp</code>, o
	    comportamento inverso também é válido
	    e bastante seguro, caso o /tmp seja uma
	    partição grande o bastante para alocar os
	    dados do /var/tmp também.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp66448976"></a><a id="inappropriate-ccd"></a><p><strong>9.4.</strong></p></td><td align="left" valign="top"><p>O que é inapropriado no meu ccd?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Os sintomas desse tipo de dúvida:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ccdconfig -C</code></strong>
ccdconfig: ioctl (CCDIOCSET): /dev/ccd0c: Inappropriate file type or format</pre><p>Esse problema normalmente ocorre quando se tenta
	    concatenar as partições <code class="literal">c</code>
	    cujo tipo padrão é
	    <code class="literal">unused</code>.  O ccd requer que a
	    partição que ele esteja usando seja do tipo
	    FS_BSDFFS.  Edite o disklabel dos discos em questão
	    e altere o tipo das partições para
	    <code class="literal">4.2BSD</code>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp66453584"></a><a id="ccd-disklabel"></a><p><strong>9.5.</strong></p></td><td align="left" valign="top"><p>Porque eu não posso editar o disklabel do meu
	    ccd?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Os sintomas desse tipo de dúvida:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>disklabel ccd0</code></strong>
(it prints something sensible here, so let us try to edit it)
<code class="prompt">#</code> <strong class="userinput"><code>disklabel -e ccd0</code></strong>
(edit, save, quit)
disklabel: ioctl DIOCWDINFO: No disk label on disk;
use "disklabel -r" to install initial label</pre><p>Isso acontece por que o disklabel que o ccd retorna
	    é na verdade um valor <span class="quote">&#8220;<span class="quote">falso</span>&#8221;</span>, que
	    não está realmente gravado no disco.  Esse
	    problema pode ser resolvido ao reescrever explicitamente
	    esse dado, da seguinte forma:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>disklabel ccd0 &gt; /tmp/disklabel.tmp</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>disklabel -Rr ccd0 /tmp/disklabel.tmp</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>disklabel -e ccd0</code></strong>
(agora irá funcionar)</pre></td></tr><tr class="question"><td align="left" valign="top"><a id="idp66465232"></a><a id="mount-foreign-fs"></a><p><strong>9.6.</strong></p></td><td align="left" valign="top"><p>Posso montar outros tipos de partições
	    externas sobre FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><div class="variablelist"><dl class="variablelist"><dt><span class="term">Digital UNIX</span></dt><dd><p>CDROMs do tipo UFS podem ser montados
		  diretamente no FreeBSD, já a montagem de
		  partições de disco do Digital UNIX que
		  usam o UFS pode ser um pouco mais complexa,
		  dependendo dos detalhes do particionamento de disco
		  para o sistema operacional em questão.</p></dd><dt><span class="term">Linux</span></dt><dd><p>A partir do 2.2, o FreeBSD suporta
		  partições do tipo
		  <code class="literal">ext2fs</code>.  Veja o
		  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mount_ext2fs&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mount_ext2fs</span>(8)</span></a> para obter mais
		  informações.</p></dd><dt><span class="term">NT</span></dt><dd><p>Existe suporte somente-leitura as
		  partições NTFS no FreeBSD.  Para obter
		  mais informações leia esse tutorial,
		  escrito por Mark Ovens em <a class="link" href="http://ukug.uk.FreeBSD.org/~mark/ntfs_install.html" target="_top">http://ukug.uk.FreeBSD.org/~mark/ntfs_install.html</a>.</p></dd></dl></div><p>Mais informações sobre esse assunto
	    seriam bem vindas :-)</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp66478288"></a><a id="mount-dos"></a><p><strong>9.7.</strong></p></td><td align="left" valign="top"><p>Como montar uma partição DOS
	    secundária?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>As partições secundárias do DOS
	    são encontradas depois que TODAS as
	    partições primárias foram definidas.
	    Por exemplo, se você tem a partição
	    <span class="quote">&#8220;<span class="quote">E</span>&#8221;</span> como a segunda partição
	    DOS no segundo disco SCSI, será necessário
	    criar um arquivo especial para essa <span class="quote">&#8220;<span class="quote">quinta
	      partição</span>&#8221;</span> (slice 5) no /dev, depois
	    montar /dev/da1s5:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cd /dev</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>sh MAKEDEV da1s5</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>mount -t msdos /dev/da1s5 /dos/e</code></strong></pre></td></tr><tr class="question"><td align="left" valign="top"><a id="idp66483664"></a><a id="crypto-filesystem"></a><p><strong>9.8.</strong></p></td><td align="left" valign="top"><p>Existe um sistema de arquivos criptografado para o
	    FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Sim, veja o <code class="literal">port</code> <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/security/cfs/pkg-descr">security/cfs</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp66486480"></a><a id="nt-bootloader"></a><p><strong>9.9.</strong></p></td><td align="left" valign="top"><p>Como posso usar o carregador do NT para iniciar o
	    FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Esse procedimento é um pouco diferente entre o
	    FreeBSD 2.2.X e o 3.X (que tem um sistema de inicío
	    (<span class="foreignphrase"><em class="foreignphrase">boot</em></span>) de 3 fases).</p><p>A idéia geral se consiste em copiar os
	    primeiros setores da partição raiz nativa do
	    FreeBSD e transforma-los em um arquivo, para ser colocado
	    dentro da partição DOS/NT.  Se assumir-mos
	    que você vai chamar esse arquivo de
	    <code class="filename">c:\bootsect.bsd</code> (inspirado por
	    <code class="filename">c:\bootsect.dos</code>), pode-se
	    então editar o arquivo
	    <code class="filename">c:\boot.ini</code> de forma a
	    carregá, mais ou menos assim:</p><pre class="programlisting">[boot loader]
timeout=30
default=multi(0)disk(0)rdisk(0)partition(1)\WINDOWS
[operating systems]
multi(0)disk(0)rdisk(0)partition(1)\WINDOWS="Windows NT"
C:\BOOTSECT.BSD="FreeBSD"
C:\="DOS"</pre><p>No 2.2.X esse procedimento assume que o DOS, o NT, o
	    FreeBSD, ou o que quer que seja, tenha sido instalado em
	    suas partições respectivas do fdisk no
	    <span class="emphasis"><em>mesmo</em></span> disco.  Esse exemplo foi
	    testado em um sistema onde o DOS &amp; NT estavam
	    instalados na primeira partição do fdisk, e
	    o FreeBSD na segunda.  O FreeBSD havia sido configurado
	    para iniciar a partir de sua partição
	    nativa, e não pela MBR do disco.</p><p>Monte um disquete formatado em DOS (caso ele tenha
	    sido convertido para NTFS) ou em FAT, por exemplo, sob o
	    ponto de montagem <code class="filename">/mnt</code>.</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>dd if=/dev/rda0a of=/mnt/bootsect.bsd bs=512 count=1</code></strong></pre><p>Reinicie o computador no DOS ou NT.  Sobre o NTFS,
	    copie o arquivo <code class="filename">bootsect.bsd</code> e/ou
	    arquivo <code class="filename">bootsect.lnx</code> do disquete para
	    <code class="filename">C:\</code>.  Modifique os atributos
	    originais(permissões) do
	    <code class="filename">boot.ini</code> com:</p><pre class="screen"><code class="prompt">C:\&gt;</code> <strong class="userinput"><code>attrib -s -r c:\boot.ini</code></strong></pre><p>Edite e adicione as entradas apropriadas no
	    <code class="filename">boot.ini</code> seguindo o exemplo anterior
	    e volte os atributos originais:</p><pre class="screen"><code class="prompt">C:\&gt;</code> <strong class="userinput"><code>attrib +s +r c:\boot.ini</code></strong></pre><p>Se o FreeBSD estiver inicializando pela MBR,
	    reconstrua-a com o comando <code class="command">fdisk</code> do DOS
	    depois de configurar os sistemas para iniciar a partir de
	    suas partições nativas.</p><p>No FreeBSD 3.X esse procedimento é mais
	    simples.</p><p>Se o FreeBSD estiver instalado no mesmo disco que a
	    partição de inicialização
	    (<span class="foreignphrase"><em class="foreignphrase">boot</em></span>) do NT está
	    instalada, copie o <code class="filename">/boot/boot1</code> para
	    <code class="filename">C:\BOOTSECT.BSD</code>.  Contundo, se o
	    FreeBSD estiver em uma partição distinta, o
	    <code class="filename">/boot/boot1</code> não irá
	    funcionar, nesse caso, o <code class="filename">/boot/boot0</code>
	    será necessário.

	    </p><div xmlns="" class="warning"><h3 class="admontitle">Atenção: </h3><p xmlns="http://www.w3.org/1999/xhtml">NÃO COPIE SIMPLESMENTE O
		<code class="filename">/boot/boot0</code> NO LUGAR DO
		<code class="filename">/boot/boot1</code>, POIS A TABELA DE
		PARTIÇÃO SERÁ REESCRITA, E O
		COMPUTADOR SE TORNARÁ NÃO
		INICIALIZÁVEL!!</p></div><p> O <code class="filename">/boot/boot0</code> precisa ser
	    instalado com o sysinstall, selecionando o gerenciador de
	    inicialização
	    (<span class="foreignphrase"><em class="foreignphrase">boot</em></span>) do FreeBSD na tela
	    que o programa pergunta se você deseja usar um
	    gerenciador de inicialização(boot manager).
	    Isso se deve ao fato que o
	    <code class="filename">/boot/boot0</code> contém
	    informações sobre a área da tabela de
	    partições definidas como caracteres nulos,
	    mas o sysinstall copia a tabela de partições
	    antes de copiar o <code class="filename">/boot/boot0</code> para a
	    MBR.</p><p>Quando o gerenciador de inicialização
	    (<span class="foreignphrase"><em class="foreignphrase">boot</em></span>) do FreeBSD é
	    executado, ele grava qual último sistema
	    operacional foi carregado, definindo uma flag de sistema
	    ativo na tabela de partição referente aquele
	    sistema, e depois ele escreve todos os 512 bytes do
	    próprio gerenciador de inicialização
	    (<span class="foreignphrase"><em class="foreignphrase">boot</em></span>) de volta na MBR,
	    portanto se o <code class="filename">/boot/boot0</code>
	    simplesmente for copiado para
	    <code class="filename">C:\BOOTSECT.BSD</code> será definida
	    uma tabela de partição vazia com a flag de
	    partição ativa, na MBR.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp66523088"></a><a id="lilo-bootloader"></a><p><strong>9.10.</strong></p></td><td align="left" valign="top"><p>Como posso iniciar o FreeBSD e o Linux com o
	    LILO?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Caso o FreeBSD e o Linux estejam no mesmo disco, basta
	    seguir as instruções de
	    instalação do LILO para carregar sistemas
	    operacionais não-Linux.  De forma breve, tais
	    instruções são</p><p>Carregue o Linux e adicione as seguintes linhas no
	    <code class="filename">/etc/lilo.conf</code>:</p><pre class="programlisting">other=/dev/hda2
	table=/dev/hda
	label=FreeBSD</pre><p>(A definição acima assume que a sua
	    partição FreeBSD é conhecida pelo
	    Linux como <code class="filename">/dev/hda2</code>; altere esse
	    valor para sua necessidade).  Depois basta executar o
	    comando <code class="command">lilo</code> como usuário
	    <code class="systemitem">root</code> e deve estar pronto.</p><p>Caso o FreeBSD esteja em um outro disco, será
	    preciso criar uma entrada
	    <code class="literal">loader=/boot/chain.b</code> no LILO.  Por
	    exemplo:</p><pre class="programlisting">other=/dev/dab4
        table=/dev/dab
        loader=/boot/chain.b
        label=FreeBSD</pre><p>Em alguns casos é necessário especificar
	    o número da unidade da BIOS para que o loader do
	    FreeBSD consiga carregar o sistema com sucesso, a partir
	    do segundo disco.  Por exemplo, caso o disco SCSI com o
	    FreeBSD seja reconhecido pela BIOS como o disco 1, na tela
	    do carregadir de inicialização
	    (<span class="foreignphrase"><em class="foreignphrase">boot loader</em></span>) do FreeBSD
	    será necessário definir:</p><pre class="screen">Boot: <strong class="userinput"><code>1:da(0,a)/kernel</code></strong></pre><p>No FreeBSD 2.2.5 e posteriores, o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=boot&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">boot</span>(8)</span></a>  pode
	    ser configurado para que ele automaticamente defina essa
	    informação na hora da
	    inicialização
	    (<span class="foreignphrase"><em class="foreignphrase">boot</em></span>).</p><p>The <a class="link" href="http://sunsite.unc.edu/LDP/HOWTO/mini/Linux+FreeBSD.html" target="_top">
	      Linux+FreeBSD mini-HOWTO</a> é uma boa
	    referência sobre a utilização do
	    FreeBSD com o Linux.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp66533072"></a><a id="booteasy-loader"></a><p><strong>9.11.</strong></p></td><td align="left" valign="top"><p>Como eu inicio o FreeBSD e o Linux usando o
	    BootEasy?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Instale o LILO no começo da sua
	    partição de inicialização
	    (<span class="foreignphrase"><em class="foreignphrase">boot</em></span>) do Linux ao
	    invés de instala-lo na MBR.  Agora o LILO pode ser
	    carregado a partir do BootEasy.</p><p>Com Windows 9x e Linux essa é uma
	    ação recomendada sempre, para garantir que o
	    Linux possa ser iniciado de forma mais fácil caso
	    seja necessário reinstalar o Windows (que é
	    um sistema operacional que não espera nenhum outro
	    sistema na MBR).</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp66536016"></a><a id="changing-bootprompt"></a><p><strong>9.12.</strong></p></td><td align="left" valign="top"><p>Como eu altero a tela de inicialização
	    (<span class="foreignphrase"><em class="foreignphrase">boot</em></span>) de
	    <code class="literal">???</code> para algo mais
	    significativo?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Você não pode alterar esse comportamento
	    no gerenciador de inicialização
	    (<span class="foreignphrase"><em class="foreignphrase">boot</em></span>) padrão sem
	    reescreve-lo.  Existem inúmeros outros
	    gerenciadores de inicialização
	    (<span class="foreignphrase"><em class="foreignphrase">boot</em></span>) na categoria
	    <code class="filename">sysutils</code> da da coleção
	    de <code class="literal">ports</code>, que oferecem esse
	    recurso.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp66540368"></a><a id="removable-drives"></a><p><strong>9.13.</strong></p></td><td align="left" valign="top"><p>Possuo uma nova unidade de disco removível,
	    como posso usa-la?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Ainda que seja uma unidade removível como um
	    ZIP Drive, um EZ Drive (ou até um disquete, caso
	    queira usa-lo dessa maneira), ou um novo disco, uma vez
	    instalado e reconhecido pelo sistema e assim que o
	    cartucho/disquete/outra-coisa esteja ligado a unidade em
	    questão, as coisas passam a funcionar da mesma
	    forma para qualquer tipo de dispositivo.</p><p><a id="disklabel"></a>(essa seção
	    é baseada no <a class="link" href="http://www.vmunix.com/mark/FreeBSD/ZIP-FAQ.html" target="_top">ZIP
	      <code class="literal">FAQ</code> de Mark Mayo</a>)</p><p>Caso o dispositivo seja um ZIP Drive ou um disquete
	    cujo sistema de arquivos já tenha sido criado como
	    sendo do tipo DOS, o seguinte comando é o bastante
	    para montá-lo:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mount -t msdos /dev/fd0c /floppy</code></strong></pre><p>caso seja um disquete, ou então:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mount -t msdos /dev/da2s4 /zip</code></strong></pre><p>caso seja um disco ZIP com as
	    configurações de fábrica.</p><p>Para outros tipos de disco, veja como eles são
	    tratados, usando o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=fdisk&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">fdisk</span>(8)</span></a> ou
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sysinstall&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sysinstall</span>(8)</span></a>.</p><p>Os próximos exemplos serão para um ZIP
	    Drive controlado pela device da2, ou seja, correspondente
	    ao terceiro disco SCSI.</p><p>A não ser que se trate de um disquete ou de um
	    disco removível que se planeje compartilhar com
	    outras pessoas, provavelmente é mais sensata a
	    idéia de colocar um sistema de arquivos do tipo BSD
	    nesse disco.  Um sistema de arquivos desse tipo
	    possibilita usar o suporte a nomes longos de arquivos, ter
	    uma performance de, pelo menos 2x, e oferece muito mais
	    estabilidade e confiança.  O primeiro passo
	    é redefinir a partição DOS da unidade
	    removível de forma que a mesma passe a ser do tipo
	    BSD;  o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=fdisk&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">fdisk</span>(8)</span></a> ou
	    <code class="filename">/stand/sysinstall</code> podem ser usados
	    para esse fim, em um disco pequeno onde não se
	    queira preocupações quanto a possibilidade
	    de manter suporte a múltiplos sistemas
	    operacionais.  Nesse caso simplesmente elimine toda a
	    partição FAT do disco e use o particionador
	    do BSD:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>dd if=/dev/zero of=/dev/rda2 count=2</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>disklabel -Brw da2 auto</code></strong></pre><p>O disklabel ou <code class="filename">/stand/sysinstall</code>
	    podem ser usados para criar múltiplas
	    partições do tipo BSD.  Certamente o
	    usuário vai querer criar mais de uma
	    partição BSD se a intenção for
	    criar espaço de Swap.  De qualquer forma, esse tipo
	    de ação é irrelevante em um disco
	    removível do tipo ZIP.</p><p>Finalmente, crie um novo sistema de arquivos como
	    esse, que usa todo o disco em um ZIP Drive:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>newfs /dev/rda2c</code></strong></pre><p>e monte-o:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mount /dev/da2c /zip</code></strong></pre><p>provavelmente é uma boa idéia adicionar
	    uma entrada no <code class="filename">/etc/fstab</code> para
	    facilitar o processo de montagem dessa unidade(veja
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=fstab&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">fstab</span>(5)</span></a>)de forma que seja apenas necessário
	    digitar o comando <code class="command">mount /zip</code> no
	    futuro:</p><pre class="programlisting">/dev/da2c /zip ffs rw,noauto 0 0</pre></td></tr><tr class="question"><td align="left" valign="top"><a id="idp66566864"></a><a id="mount-cd-superblock"></a><p><strong>9.14.</strong></p></td><td align="left" valign="top"><p>Por que eu tive o erro <span class="errorname">Incorrect super
	      block</span> na hora de montar um CDROM?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>É necessário avisar ao <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mount&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mount</span>(8)</span></a> que
	    tipo de unidade está sendo montada.  Essa
	    definição é tratada com mais detalhes
	    em <a class="link" href="../handbook/creating-cds.html" target="_top"> na
	      seção de mídias ópticas do
	      Manual do FreeBSD </a>, mais precisamente na
	    seção <a class="link" href="../handbook/creating-cds.html#MOUNTING-CD" target="_top">Usando
	      CDs de Dados</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp66571216"></a><a id="cdrom-not-configured"></a><p><strong>9.15.</strong></p></td><td align="left" valign="top"><p><span class="errorname">Device not configured</span> ocorre na
	    hora de montar o CDROM?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Geralmente esse tipo de comportamento indica que
	    não existe nenhum CD na unidade de CDROM, ou
	    então, que o CD em questão não
	    é visível ao barramento de dados do seu PC,
	    comum quando um CD-RW não pode ser lido por um
	    drive tradicional.  Por gentileza, queira referir-se a
	    <a class="link" href="../handbook/creating-cds.html#MOUNTING-CD" target="_top">Usando
	      CDs de Dados </a> da seção do
	    Manual do FreeBSD para uma discussão mais
	    detalhada sobre esse assunto.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp66574032"></a><a id="cdrom-unicode-filenames"></a><p><strong>9.16.</strong></p></td><td align="left" valign="top"><p>Porque todos caracteres não-Inglês
	    são apresentados como <span class="quote">&#8220;<span class="quote">?</span>&#8221;</span> no sistema
	    de arquivos do CD que acabou de ser montado no
	    FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Provavelmente seu CDROM usa extensões
	    <span class="quote">&#8220;<span class="quote">Joliet</span>&#8221;</span> para armazenar
	    informações sobre tipos de arquivos e
	    diretórios.  Esse assunto é discutido no
	    capítulo de <a class="link" href="../handbook/creating-cds.html" target="_top">
	      Criação e Uso de CDROMs do
	      Manual do FreeBSD</a>, mais precisamente na
	    seção <a class="link" href="../handbook/creating-cds.html#MOUNTING-CD" target="_top">de Uso
	      de CDs de Dados</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp66586320"></a><a id="burncd-isofs"></a><p><strong>9.17.</strong></p></td><td align="left" valign="top"><p>Eu queimei um CD no FreeBSD e agora esse disco
	    não pode ser lido em nenhum outro sistema
	    operacional.  Por que?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Provavelmente você queimou um CD de forma crua
	    (usando raw mode) no seu sistema, ao invés de criar
	    um sistema de arquivos do tipo ISO 9660.  Dê uma
	    olhada no <a class="link" href="../handbook/creating-cds.html" target="_top">
	      Capítulo de Criação de CDROMs do
	      Manual do FreeBSD</a>, em específico na
	    seção <a class="link" href="../handbook/creating-cds.html#RAWDATA-CD" target="_top">criando
	      CDS de dados puros</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp66589392"></a><a id="copy-cd"></a><p><strong>9.18.</strong></p></td><td align="left" valign="top"><p>Como posso criar uma imagem de um CD de dados?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>A criação de imagens de CDs de dados
	    é discutida na seção <a class="link" href="../handbook/creating-cds.html#IMAGING-CD" target="_top">duplicando
	      CDs de dados do Manual do FreeBSD</a>.  Para mais
	    informações sobre unidades ópticas,
	    por gentileza, queira referir-se a seção
	    <a class="link" href="../handbook/creating-cds.html" target="_top">
	      Criação de CDs</a> no capítulo
	    de Armazenamento do Manual do FreeBSD.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp66592592"></a><a id="mount-audio-CD"></a><p><strong>9.19.</strong></p></td><td align="left" valign="top"><p>Por que um CD de áudio não pode ser
	    montado com o comando <code class="command">mount</code>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Ao tentar montar um CD de áudio, o mais
	    provável é que ocorra um erro do tipo
	    <span class="errorname">cd9660: /dev/acd0c: Invalid
	      argument</span>.  Isso se deve ao fato que o
	    comando <code class="command">mount</code> trabalha exclusivamente
	    com sistema de arquivos, o que não é o caso
	    de CDs de áudio.  CDs de áudio contém
	    apenas dados, e por isso é necessário alguma
	    aplicação capaz de ler tais CDs.  Use algum
	    programa como o <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/audio/xmcd/pkg-descr">audio/xmcd</a>na
	    coleção de <code class="literal">Ports</code> do
	    FreeBSD para ler dados em CDs desse tipo.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp66604880"></a><a id="multi-session-CD"></a><p><strong>9.20.</strong></p></td><td align="left" valign="top"><p>Como eu monto um CD com múltiplas
	    sessões de gravação?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Por padrão, o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mount&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mount</span>(8)</span></a> tenta montar a
	    última trilha de dados (sessão) de um CD.
	    Caso queira montar uma sessão anterior pode-se usar
	    o argumento <code class="option">-s</code> na linha de comando em
	    questão.  Por gentileza, refira-se a página
	    de manual do comando <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mount_cd9660&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mount_cd9660</span>(8)</span></a> para obter
	    exemplos específicos do uso dessa e de outras
	    opções.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp66608976"></a><a id="user-floppymount"></a><p><strong>9.21.</strong></p></td><td align="left" valign="top"><p>Como posso permitir que usuários comuns montem
	    disquetes, CDROMs e outros tipos de mídia
	    removível?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Usuários comuns podem ter a permissão de
	    montar dispositivos.  Veja como:</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Como <code class="systemitem">root</code> defina a
		variável <code class="varname">vfs.usermount</code> do
		sysctl para <code class="literal">1</code>.</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>sysctl -w vfs.usermount=1</code></strong></pre></li><li class="step"><p>Como <code class="systemitem">root</code> defina as
		permissões apropriadas nos dispositivos
		associados ao controle da mídia
		removível.</p><p>Por exemplo, para permitir que os usuários
		possam montar a primeira unidade de disquete,
		use:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>chmod 666 /dev/fd0</code></strong></pre><p>Para permitir que os usuários do grupo
		<code class="systemitem">operator</code> montem a unidade de
		CDROM, use:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>chgrp operator /dev/cd0c</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>chmod 640 /dev/cd0c</code></strong></pre></li><li class="step"><p>Finalmente, para tornar essa
		alteração permanente, adicione a linha
		<code class="literal"> vfs.usermount=1</code>
		no arquivo
		<code class="filename">/etc/sysctl.conf</code>.</p></li></ol></div><p>Agora todos os usuários podem montar qualquer
	    disquete no <code class="filename">/dev/fd0</code> em algum
	    ponto de montagem que lhes pertença:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>mkdir ~/my-mount-point</code></strong>
<code class="prompt">%</code> <strong class="userinput"><code>mount -t msdos /dev/fd0 ~/my-mount-point</code></strong></pre><p>Os usuários no grupo
	    <code class="systemitem">operator</code> agora tem permissão
	    para montar os CDs no <code class="filename">/dev/cd0c</code>
	    em qualquer ponto de montagem que lhes
	    pertença:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>mkdir ~/my-mount-point</code></strong>
<code class="prompt">%</code> <strong class="userinput"><code>mount -t msdos /dev/cd0c ~/my-mount-point</code></strong></pre><p>Desmontar o dispositivo é extremamente
	    simples:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>umount ~/my-mount-point</code></strong></pre><p>Contudo, habilitar a opção
	    <code class="varname">vfs.usermount</code>, contudo, causa algumas
	    implicâncias quanto ao quesito segurança;.  A
	    forma mais racional de acessar mídia do tipo MSDOS
	    no FreeBSD é usando a aplicação
	    <a class="link" href="http://www.FreeBSD.org/cgi/ports.cgi?query=%5Emtools-&amp;stype=name" target="_top">mtools
	    </a>, disponível na Coleção de
	    <code class="literal">Ports</code>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp66646224"></a><a id="du-vs-df"></a><p><strong>9.22.</strong></p></td><td align="left" valign="top"><p>Os comandos <code class="command">du</code> e
	    <code class="command">df</code> apresentam quantias distintas de
	    espaço em disco disponível.  O que
	    está havendo?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>É necessário entender o que os comandos
	    <code class="command">du</code> e <code class="command">df</code> realmente
	    fazem.  O <code class="command">du</code> percorre a árvore
	    de diretórios medindo o tamanho de cada arquivo e
	    apresentando o total da soma de todos os arquivos
	    encontrados em um dado diretório, e posteriormente
	    apresentando a soma de ambos subdiretórios no
	    diretório de nível seguinte,
	    <code class="command">df</code> simplesmente pergunta ao sistema de
	    arquivos quanto espaço ainda lhe resta.  Parece o
	    mesmo comportamento, mas um arquivo alocado fora de um
	    diretório, por exemplo, afeta os dados apresentados
	    pelo <code class="command">df</code>, mas não afeta o
	    <code class="command">du</code>.</p><p>Quando um programa está usando algum arquivo, e
	    este é apagado, o arquivo não é
	    retirado do sistema de arquivos até que o programa
	    em questão pare de usá-lo.  Contudo, esse
	    arquivo é imediatamente deletado da listagem de
	    diretórios; isso pode ser mais bem observado com
	    algum paginador como o <code class="command">more</code>.  Por
	    exemplo, assuma que existe um arquivo grande o bastante
	    que sua presença seja perceptível claramente
	    na saída dos comandos <code class="command">du</code> e
	    <code class="command">df</code>.  (Considerando que hoje em dia os
	    discos são bem grandes, o arquivo em questão
	    deve ser um arquivo de tamanho <span class="emphasis"><em>extremamente
	      considerável!</em></span>) Caso o arquivo seja
	    apagado em quanto ele esteja sendo paginado com o
	    <code class="command">more</code>, pode-se perceber que o
	    <code class="command">more</code> não passa a reclamar que o
	    arquivo não pode mais ser visualizado no mesmo
	    instante.  Contudo, a listagem, do diretório em
	    questão não apresentará mais esse
	    arquivo, de forma que nenhum usuário ou outro
	    programa possa acessá-lo.  A entrada do arquivo no
	    diretório é simplesmente removida.  O
	    <code class="command">du</code> vai mostrar que esse arquivo
	    não existe mais &#8212; -- afinal, o du percorreu
	    todo o diretório e não encontrou esse
	    arquivo listado -- contudo o <code class="command">df</code> mostra
	    que o arquivo continua no disco, pois o sistema de
	    arquivos sabe que o <code class="command">more</code> continua
	    usando aquele espaço de dados que se encontram no
	    disco.  Uma vez terminada a sessão do
	    <code class="command">more</code>,<code class="command">du</code> e
	    <code class="command">df</code> concordarão entre si.</p><p>Note que em sistemas de arquivos com softupdates, a
	    liberação de espaço em disco
	    também pode ser atrasada em até 30 segundos
	    dependendo da situação; apenas depois desse
	    tempo, a alteração em disco será
	    visível!</p><p>Esse comportamento é comum e fácil de
	    ser observado em Servidores Web.  Muitos usuários
	    configuram algum Servidor Web no FreeBSD e se esquecem de
	    rotacionar os arquivos de log da aplicação,
	    os quais entopem o <code class="filename">/var</code>.  O novo
	    administrador do sistema deleta os arquivos de log em
	    questão, mas o sistema operacional continua
	    reclamando que a partição está cheia,
	    até que o Servidor Web seja desligado e religado,
	    de forma que a aplicação libera o arquivo e
	    permite que o sistema apague o arquivo, recuperando o
	    espaço em disco em questão.  Para prevenir
	    que isso ocorra, configure o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=newsyslog&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">newsyslog</span>(8)</span></a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp66658384"></a><a id="add-swap-space"></a><p><strong>9.23.</strong></p></td><td align="left" valign="top"><p>Como eu posso adicionar mais espaço para
	    <span class="foreignphrase"><em class="foreignphrase">swap</em></span>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>No capítulo <a class="link" href="../handbook/config-tuning.html" target="_top">Configuração
	      e Ajuste Fino
	      (<span class="foreignphrase"><em class="foreignphrase">Tuning</em></span>)</a> do
	    Manual do FreeBSD, pode ser encontrada uma <a class="link" href="../handbook/adding-swap-space.html" target="_top">seção
	    </a> descrevendo como fazer isto.</p></td></tr></tbody></table></div></div><div class="chapter"><div xmlns="" class="titlepage"><div><div><h1 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="admin"></a>Capítulo 10. Administração do Sistema</h1></div></div></div><div class="qandaset"><a id="idp66700240"></a><dl><dt>10.1. <a href="#idp66700496">Onde estão os arquivos que configuram a
	    inicialização do sistema ?</a></dt><dt>10.2. <a href="#idp66718288">Como posso adicionar um usuário de forma
	    simples?</a></dt><dt>10.3. <a href="#idp66723792">Depois de editar o crontab, mensagens como
	    root: not found ficam aparecendo
	    sempre.  Por que?</a></dt><dt>10.4. <a href="#idp66742352">Porque o erro you are not in the correct
	      group to su root ocorre, quando eu tento
	    virar root com o su ?</a></dt><dt>10.5. <a href="#idp66753488">Cometi um erro no rc.conf, ou em
	    algum outro arquivo de inicialização, e
	    agora não posso corrigir essa
	    alteração porque o sistema de arquivos
	    é apenas-leitura.  O que devo fazer?</a></dt><dt>10.6. <a href="#idp66766032">Porque estou tendo problemas ao configurar minha
	    impressora?</a></dt><dt>10.7. <a href="#idp66770256">Como posso corrigir o mapeamento de teclados do meu
	    sistema?</a></dt><dt>10.8. <a href="#idp66773328">O que causa mensagens como: unknown:
	      &lt;PNP0303&gt; can't assign resources na
	    inicialização do sistema?</a></dt><dt>10.9. <a href="#idp66782032">Porque eu não consigo fazer as quotas de
	    usuários funcionarem de forma correta?</a></dt><dt>10.10. <a href="#idp66793168">O FreeBSD suporta as primitivas de IPC do System
	    V?</a></dt><dt>10.11. <a href="#idp66839376">Como posso usar o sendmail para entregar mensagens com
	    UUCP?</a></dt><dt>10.12. <a href="#idp66863440">Como eu configuro e-mail em uma conexão dialup
	    com a rede?</a></dt><dt>10.13. <a href="#idp66890704">Que outros servidores de correio eletrônico
	    posso usar no lugar do Sendmail?</a></dt><dt>10.14. <a href="#idp66900944">Esqueci a senha de root!  O que eu faço?</a></dt><dt>10.15. <a href="#idp66905680">Como posso evitar que a seqüência de teclas
	    Control+Alt+Delete
	    reinicie o sistema?</a></dt><dt>10.16. <a href="#idp66912464">Como posso converter arquivos de texto do DOS para o
	    formato do Unix?</a></dt><dt>10.17. <a href="#idp66920400">Como eu mato processos pelo seu nome?</a></dt><dt>10.18. <a href="#idp66923216">Por que motivos o su está me atazanando pelo
	    fato de não pertencer à ACL do
	    root?</a></dt><dt>10.19. <a href="#idp66934096">Como eu desinstalo o Kerberos?</a></dt><dt>10.20. <a href="#idp66939344">Como posso adicionar pseudo-terminais ao
	    sistema?</a></dt><dt>10.21. <a href="#idp66950224">Por que motivo não consigo criar a device
	    snd0?</a></dt><dt>10.22. <a href="#idp66955856">Como posso reler o /etc/rc.conf e
	    reiniciar o /etc/rc sem rebootar o
	    sistema?</a></dt><dt>10.23. <a href="#idp66965712">O que é uma sandbox?</a></dt><dt>10.24. <a href="#idp66982224">O que é securelevel
	    (nível de segurança do sistema)?</a></dt><dt>10.25. <a href="#idp67021264">Tentei atualizar meu sistema para o último
	    -STABLE, mas ele se tornou -RC ou -PRERELEASE!  O que
	    está havendo?</a></dt><dt>10.26. <a href="#idp67026896">Tentei instalar um novo
	    kernel, mas a rotina de
	    chflags falhou.  O que posso fazer?</a></dt><dt>10.27. <a href="#idp67040080">Não consigo alterar mais de um segundo na hora
	    no meu sistema.  O que posso fazer?</a></dt><dt>10.28. <a href="#idp67057104">Por que motivo o rpc.statd
	    está usando 256 megabytes de memória?</a></dt><dt>10.29. <a href="#idp67063888">Por que eu não posso retirar a flag
	    schg dos arquivos?</a></dt><dt>10.30. <a href="#idp67068112">Por que a autenticação do SSH via
	    .shosts não funciona por
	    padrão nas versões recentes do
	    FreeBSD?</a></dt><dt>10.31. <a href="#idp67081936">O que é o vnlru?</a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%" /><col /></colgroup><tbody><tr class="question"><td align="left" valign="top"><a id="idp66700496"></a><a id="startup-config-files"></a><p><strong>10.1.</strong></p></td><td align="left" valign="top"><p>Onde estão os arquivos que configuram a
	    inicialização do sistema ?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Do FreeBSD 2.0.5R até o 2.2.1R, o arquivo de
	    configurações primário é o
	    <code class="filename">/etc/sysconfig</code>.  Todas as
	    opções devem ser definidas nesse arquivo ou
	    então em outros, como o
	    <code class="filename">/etc/rc</code> (veja o manual para o
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=rc&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">rc</span>(8)</span></a>) e o <code class="filename">/etc/netstart</code></p><p>Dê uma olhada no
	    <code class="filename">/etc/sysconfig</code> e altere as
	    variáveis de acordo com o que você quer
	    configurar no seu sistema.  O arquivo é repleto de
	    comentários que auxiliam a correta
	    definição dos valores a serem
	    definidos.</p><p>A partir do 2.2.1 até o 3.0, o
	    <code class="filename">/etc/sysconfig</code> foi renomeado para
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=rc.conf&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">rc.conf</span>(5)</span></a>, que é auto-descritivo, e cuja
	    sintaxe foi melhorada no processo de
	    substituição.  O
	    <code class="filename">/etc/netstart</code> agora se chama
	    <code class="filename">/etc/rc.network</code>, de forma que todos
	    os arquivos possam ser copiados com um simples comando
	    como um <code class="command">cp /usr/src/etc/rc* /etc</code></p><p>E depois, a partir do FreeBSD 3.1, o
	    <code class="filename">/etc/rc.conf</code> foi alterado para o
	    <code class="filename">/etc/defaults/rc.conf</code>.
	    <span class="emphasis"><em>Não edite esse arquivo!</em></span> Ao
	    invés disso, para todas as entradas que você
	    queira alterar no
	    <code class="filename">/etc/defaults/rc.conf</code>, basta apenas
	    copiar a linha relativa à essa entrada para o
	    <code class="filename">/etc/rc.conf</code> e depois modificar seu
	    valor.</p><p>Por exemplo, caso deseje iniciar o named, o servidor
	    DNS disponível no FreeBSD, a partir do FreeBSD 3.1
	    basta fazer isso:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>echo named_enable="YES" &gt;&gt; /etc/rc.conf</code></strong></pre><p>Para iniciar serviços locais no FreeBSD 3.1 e
	    posteriores, basta colocar os scripts shell de
	    inicialização desses serviços no
	    diretório <code class="filename">/usr/local/etc/rc.d</code>.
	    Tais shell scripts devem ser executáveis e
	    terminarem com a extensão .sh.  No FreeBSD 3.0 ou
	    anteriores, o arquivo <code class="filename">/etc/rc.local</code>
	    era a única opção para iniciar
	    serviços/processos locais automaticamente.</p><p>O arquivo <code class="filename">/etc/rc.serial</code> é
	    usado para a inicialização de portas seriais
	    (por exemplo, para definir as características das
	    portas, e assim por diante).</p><p>O arquivo <code class="filename">/etc/rc.i386</code> é
	    usado para configurações específicas
	    de sistemas Intel e compatíveis, como por exemplo,
	    emulação iBCS2 ou definições
	    do sistema de console dos PC.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp66718288"></a><a id="adding-users"></a><p><strong>10.2.</strong></p></td><td align="left" valign="top"><p>Como posso adicionar um usuário de forma
	    simples?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Use o comando <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=adduser&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">adduser</span>(8)</span></a>.  Caso prefira uma forma
	    mais complexa (e mais completa), use o comando
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pw&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">pw</span>(8)</span></a>.</p><p>Para remover o usuário do sistema, use o
	    comando <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=rmuser&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">rmuser</span>(8)</span></a>.  Mais uma vez, o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pw&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">pw</span>(8)</span></a>
	    também funciona muito bem nesse caso.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp66723792"></a><a id="root-not-found-cron-errors"></a><p><strong>10.3.</strong></p></td><td align="left" valign="top"><p>Depois de editar o crontab, mensagens como
	    <span class="errorname">root: not found</span> ficam aparecendo
	    sempre.  Por que?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Normalmente esse é um problema causado ao se
	    editar o crontab do sistema
	    (<code class="filename">/etc/crontab</code>) e depois usar o
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=crontab&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">crontab</span>(1)</span></a> para instala-lo:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>crontab /etc/crontab</code></strong></pre><p>Essa não é a forma correta de fazer as
	    coisas.  O crontab do sistema tem um formato distinto do
	    crontab dos usuários, o qual o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=crontab&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">crontab</span>(1)</span></a>
	    atualiza (o manual do <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=crontab&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">crontab</span>(5)</span></a> explica tais
	    diferenças de forma mais detalhada).</p><p>Caso você tenha cometido esse engano, o novo
	    crontab é uma simples cópia do
	    <code class="filename">/etc/crontab</code>, ou seja, com um formato
	    errado.  Apague-o com o comando:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>crontab -r</code></strong></pre><p>Da próxima vez que editar o
	    <code class="filename">/etc/crontab</code>, nenhuma
	    ação precisa ser tomada para avisar o
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=cron&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">cron</span>(8)</span></a> das alterações.  Ele vai
	    perceber as mudanças automaticamente.</p><p>Caso queira executar alguma tarefa diária,
	    semanal ou mensal, é mais indicado adicionar alguns
	    scripts de shell sob o
	    <code class="filename">/usr/local/etc/periodic</code> e deixar o
	    programa <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=periodic&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">periodic</span>(8)</span></a>, chamado a partir da tabela cron
	    do sistema, cuidar das suas tarefas assim como ele faz com
	    as outras tarefas pertinentes ao sistema.</p><p>A única razão para esse erro é
	    que a tabela de cron do sistema tem um campo a mais, que
	    especifica o usuário que deve executar o comando.
	    No crontab do sistema padrão do FreeBSD, esse
	    usuário é o <code class="systemitem">root</code>, em
	    todas as entradas.  Quando essa crontab é usada
	    como a tabela de cron do <code class="systemitem">root</code> (que
	    é diferente da tabela de cron do sistema), o
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=cron&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">cron</span>(8)</span></a> assume que a string <code class="systemitem">root</code>
	    fosse um primeiro comando, mas esse comando não
	    existe, por isso ocorre o erro.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp66742352"></a><a id="su-wheel-group"></a><p><strong>10.4.</strong></p></td><td align="left" valign="top"><p>Porque o erro <span class="errorname">you are not in the correct
	      group to su root</span> ocorre, quando eu tento
	    virar <code class="systemitem">root</code> com o su ?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Essa é uma característica de
	    segurança do FreeBSD.  Para se tornar
	    <code class="systemitem">root</code> com o su (ou qualquer outro
	    usuário com privilégios de super
	    usuário), é preciso fazer parte do grupo
	    <code class="systemitem">wheel</code>.  Sem essa
	    característica, qualquer usuário com uma
	    conta válida no sistema que soubesse a senha de
	    <code class="systemitem">root</code> poderia obter privilégios
	    de super usuário.  Por causa do comportamento
	    atual, essa afirmação não é
	    verdadeira, uma vez que o su não vai nem permitir
	    que o usuário dê a senha de
	    <code class="systemitem">root</code>, caso ele não esteja no
	    grupo <code class="systemitem">wheel</code>.</p><p>Para permitir que algum usuário se torne
	    <code class="systemitem">root</code>, basta que ele faça parte
	    do grupo <code class="systemitem">wheel</code>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp66753488"></a><a id="rcconf-readonly"></a><p><strong>10.5.</strong></p></td><td align="left" valign="top"><p>Cometi um erro no <code class="filename">rc.conf</code>, ou em
	    algum outro arquivo de inicialização, e
	    agora não posso corrigir essa
	    alteração porque o sistema de arquivos
	    é apenas-leitura.  O que devo fazer?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Nessa situação, o comportamento esperado
	    é que o sistema entre em modo monousuário e
	    peça o caminho completo para o seu interpretador de
	    comandos (sua shell).  Basta confirmar a shell
	    padrão, que ele oferece, com um simples
	    <code class="literal">ENTER</code>, e depois executar um
	    <code class="command">mount /</code> para remontar o sistema de
	    arquivos raiz ( / ) em modo leitura/escrita (rw).
	    Também pode ser necessário executar um
	    <code class="command">mount -a -t ufs</code> para montar o sistema
	    de arquivos onde o seu editor de texto preferido vai estar
	    disponível.  Caso seu editor esteja em um sistema
	    de arquivos da rede, será necessário
	    configurar a rede manualmente, ou usar um editor
	    disponível localmente, como o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ed&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ed</span>(1)</span></a>.</p><p>Caso queira usar um editor de tela inteira como o
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=vi&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">vi</span>(1)</span></a> ou <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=emacs&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">emacs</span>(1)</span></a>, será necessário
	    definir a variável de ambiente TERM como do tipo
	    cons25, bastando um simples export TERM=cons25, de forma
	    que tais editores possam carregar as
	    informações corretas da base de dados do
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=termcap&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">termcap</span>(5)</span></a>.</p><p>Depois disso, o <code class="filename">/etc/rc.conf</code> pode
	    ser editado normalmente, e a sintaxe problemática,
	    corrigida.  A mensagem de erro apresentada imediatamente
	    após o carregamento do
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> indica o
	    número da linha e o arquivo onde o erro
	    aconteceu.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp66766032"></a><a id="printer-setup"></a><p><strong>10.6.</strong></p></td><td align="left" valign="top"><p>Porque estou tendo problemas ao configurar minha
	    impressora?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Por gentileza, dê uma olhada nas páginas
	    sobre impressão do Manual do FreeBSD.  O
	    documento deve responder a maioria de suas dúvidas.
	    Veja a entrada sobre <a class="link" href="../handbook/printing.html" target="_top">Impressão no
	      Manual do FreeBSD</a>.</p><p>Algumas impressoras precisam de um driver local,
	    baseado em estações, para prover qualquer
	    tipo de impressão.  Essas impressoras são
	    chamadas de <span class="quote">&#8220;<span class="quote">WinPrinters</span>&#8221;</span> e não
	    são suportadas nativamente pelo FreeBSD.  Se sua
	    impressora não funciona sob DOS ou com Windows NT
	    4.0, provavelmente ela é uma WinPrinter.  A
	    única esperança de se obter uma impressora
	    desse tipo funcionando, é verificar se o
	    <code class="literal">port</code> <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/print/pnm2ppa/pkg-descr">print/pnm2ppa</a> tem suporte para
	    ela.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp66770256"></a><a id="keyboard-mappings"></a><p><strong>10.7.</strong></p></td><td align="left" valign="top"><p>Como posso corrigir o mapeamento de teclados do meu
	    sistema?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Por gentileza, refira-se à seção
	    usando <a class="link" href="../handbook/using-localization.html" target="_top">localização
	      do Manual do FreeBSD</a>, mais precisamente na
	    parte sobre a <a class="link" href="../handbook/using-localization.html#SETTING-CONSOLE" target="_top">configuração
	      do console</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp66773328"></a><a id="pnp-resources"></a><p><strong>10.8.</strong></p></td><td align="left" valign="top"><p>O que causa mensagens como: <span class="errorname">unknown:
	      &lt;PNP0303&gt; can't assign resources</span> na
	    inicialização do sistema?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>O trecho a seguir é citação de
	    uma mensagem enviada na lista freebsd-current.</p><div class="blockquote"><table border="0" class="blockquote" style="width: 100%; cellspacing: 0; cellpadding: 0;" summary="Block quote"><tr><td width="10%" valign="top"> </td><td width="80%" valign="top"><p>A mensagem <span class="quote">&#8220;<span class="quote">can't assign resources</span>&#8221;</span>
	      indica que os equipamentos em questão são
	      do tipo ISA, e que não existem entradas indicando
	      drivers não-PnP compiladas no
	      <span class="foreignphrase"><em class="foreignphrase">kernel</em></span>.  Esses
	      equipamentos podem ser controladoras de teclados,
	      controladora de interrupção
	      programável e várias outras peças
	      da infra-estrutura padrão do sistema.  Os
	      recursos não podem ser atribuídos por
	      já existirem drivers usando tais
	      endereços.</p></td><td width="10%" valign="top"> </td></tr><tr><td width="10%" valign="top"> </td><td colspan="2" align="right" valign="top">--<span class="attribution">Garrett Wollman, 24 Abril 2001</span></td></tr></table></div></td></tr><tr class="question"><td align="left" valign="top"><a id="idp66782032"></a><a id="user-quotas"></a><p><strong>10.9.</strong></p></td><td align="left" valign="top"><p>Porque eu não consigo fazer as quotas de
	    usuários funcionarem de forma correta?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Não habilite quotas na
		<code class="filename">/</code>,</p></li><li class="listitem"><p>Coloque o arquivo de quotas indicando o sistema de
		arquivos onde se deseja estabelecer as quotas, por
		exemplo:</p><div class="informaltable"><table border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Sistemas de arquivos</th><th>Arquivos de quotas</th></tr></thead><tbody><tr><td><code class="filename">/usr</code></td><td><code class="filename">/usr/admin/quotas</code></td></tr><tr><td><code class="filename">/home</code></td><td><code class="filename">/home/admin/quotas</code></td></tr><tr><td>&#8230;</td><td>&#8230;</td></tr></tbody></table></div></li></ol></div></td></tr><tr class="question"><td align="left" valign="top"><a id="idp66793168"></a><a id="sysv-ipc"></a><p><strong>10.10.</strong></p></td><td align="left" valign="top"><p>O FreeBSD suporta as primitivas de IPC do System
	    V?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Sim, o FreeBSD suporta IPC ao estilo do System V.
	    Esse suporte inclui compartilhamento de memória,
	    mensagens e semáforos.  É necessário
	    adicionar as seguintes linhas no arquivo de
	    configurações do seu
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span>, para ativar o
	    suporte:</p><pre class="programlisting">options    SYSVSHM	  # habilita memória compartilhada
options    SYSVSEM          # habilita semáforos
options    SYSVMSG          # habilita mensagens</pre><div xmlns="" class="note"><h3 class="admontitle">Nota: </h3><p xmlns="http://www.w3.org/1999/xhtml">No FreeBSD 3.2 e posteriores, tais
	      opções já fazem parte do
	      <span class="foreignphrase"><em class="foreignphrase">kernel</em></span>
	      <span class="emphasis"><em>GENERIC</em></span>, o que significa que tal
	      suporte já deve estar compilado no seu
	      sistema.</p></div><p>Recompile e instale o novo
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp66839376"></a><a id="uucpmail"></a><p><strong>10.11.</strong></p></td><td align="left" valign="top"><p>Como posso usar o sendmail para entregar mensagens com
	    UUCP?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>A configuração do sendmail
	    disponível por padrão no FreeBSD é
	    direcionada para sites que estejam conectados à
	    Internet.  Servidores que pretendem entregar suas
	    mensagens via UUCP devem instalar um novo arquivo de
	    configurações do sendmail.</p><p>Alterar o <code class="filename">/etc/mail/sendmail.cf</code>
	    manualmente é considerado tarefa para os mais
	    puristas.  A versão 8 do sendmail tem uma nova
	    abordagem de arquivos de configuração por
	    meio de pré processamento com o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=m4&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">m4</span>(1)</span></a>, onde os
	    modelos de configuração são
	    manipulados em um nível mais alto de
	    abstração.  Use os arquivos de
	    configuração disponíveis sob
	    /usr/src/usr.sbin/sendmail/cf.</p><p>Caso seu sistema não tenha sido instalado com
	    os fontes, os arquivos de configuração do
	    sendmail foram divididos em pacotes separados.  Assumindo
	    que você tenha o CDROM do FreeBSD montado,
	    faça o seguinte:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cd /cdrom/src</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>cat scontrib.?? | tar xzf - -C /usr/src contrib/sendmail</code></strong></pre><p>Não se desespere, são apenas algumas
	    centenas de Kilobytes em tamanho.  O arquivo README no
	    diretório cf serve de introdução
	    básica ao uso do m4.</p><p>Para entregar mensagens via UUCP, o melhor conselho
	    é usar o <code class="literal">mailtertable</code>.  Trata-se
	    de uma base de dados que o sendmail usa para basear suas
	    decisões de roteamento de mensagens.</p><p>Primeiro, é necessário criar seu arquivo
	    <code class="filename">.mc</code>.  O diretório
	    <code class="filename">/usr/src/usr.sbin/sendmail/cf/cf</code>
	    é o diretório home para esse tipo de
	    arquivo.  Dê uma olhada, já existem alguns
	    exemplos disponíveis por lá.  Se assumirmos
	    que você chamou o arquivo de
	    <code class="filename">foo.mc</code>, para converte-lo para um
	    arquivo <code class="filename">sendmail.cf</code> válido
	    basta:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cd /usr/src/usr.sbin/sendmail/cf/cf</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>make foo.cf</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>cp foo.cf /etc/mail/sendmail.cf</code></strong></pre><p>Um arquivo <code class="filename">.mc</code> típico, se
	    parece com algo mais ou menos assim:</p><pre class="programlisting">VERSIONID(`<em class="replaceable"><code>Número da sua versão</code></em>')
OSTYPE(bsd4.4)

FEATURE(accept_unresolvable_domains)
FEATURE(nocanonify)
FEATURE(mailertable, `hash -o /etc/mail/mailertable')

define(`UUCP_RELAY', <em class="replaceable"><code>your.uucp.relay</code></em>)
define(`UUCP_MAX_SIZE', 200000)
define(`confDONT_PROBE_INTERFACES')

MAILER(local)
MAILER(smtp)
MAILER(uucp)

Cw    <em class="replaceable"><code>your.alias.host.name</code></em>
Cw    <em class="replaceable"><code>youruucpnodename.UUCP</code></em></pre><p>As linhas contendo as entradas
	    <code class="literal">accept_unresolvable_domains</code>,
	    <code class="literal">nocanonify</code>, e
	    <code class="literal">confDONT_PROBE_INTERFACES</code> previnem o
	    uso do DNS durante a entrega das mensagens.  A
	    cláusula <code class="literal">UUCP_RELAY</code> é
	    necessária por razões bizarras, nem pergunte
	    quais.  Apenas coloque o nome de uma estação
	    que possa manipular endereços com
	    pseudo-domínio .UUCP;  normalmente o
	    endereço de relay de e-mail do seu Provedor de
	    Serviço Internet deve servir.</p><p>Depois disso, é necessário usar o
	    arquivo <code class="filename">/etc/mail/mailertable</code>.  Caso
	    exista apenas um link para fora, por onde todos os e-mails
	    são roteados, as seguintes definições
	    são o bastante:</p><pre class="programlisting">#
# makemap hash /etc/mail/mailertable.db &lt; /etc/mail/mailertable
.	 uucp-dom:<em class="replaceable"><code>your.uucp.relay</code></em></pre><p>Um exemplo mais complexo, se pareceria com:</p><pre class="programlisting">#
# makemap hash /etc/mail/mailertable.db &lt; /etc/mail/mailertable
#
horus.interface-business.de   uucp-dom:horus
.interface-business.de        uucp-dom:if-bus
interface-business.de         uucp-dom:if-bus
.heep.sax.de                  smtp8:%1
horus.UUCP                    uucp-dom:horus
if-bus.UUCP                   uucp-dom:if-bus
.                             uucp-dom:</pre><p>Como pode-se perceber, se trata de um arquivo usado na
	    vida real.  As primeiras três linhas tratam
	    situações especiais onde as mensagens
	    endereçadas aquele domínio não devem
	    ser roteadas pela saída padrão, mas ao
	    invés disso, ser entregues para algum servidor UUCP
	    vizinho, de forma a encurtar o caminho para entrega dos
	    e-mails.  A linha seguinte trata mensagens para rede
	    Ethernet local, para domínios onde os mails possam
	    ser entregues via SMTP.  Finalmente, os vizinhos UUCP
	    são mencionados na notação do
	    pseudo-domínio .UUCP, que permite um
	    <code class="literal">uucp-neighbor!recipient</code>
	    sobrescrever as regras padrão.  A última
	    linha é sempre um ponto, que indica que todos os
	    e-mails que não foram tratados pelas entradas
	    anteriores cuja entrega seja do tipo UUCP, devem ser
	    tratados por um dos vizinhos UUCP que sirva como gateway
	    universal com o resto do mundo.  Todas as
	    estações antecedendo a entrada
	    <code class="literal">uucp-dom:</code> devem ser nomes de vizinhos
	    UUCP válidos, que podem ser checados com o comando
	    <code class="literal">uuname</code>.</p><p>Para lembrar que esse arquivo precisa ser convertido
	    em base de dados do tipo DBM, o comando necessário
	    para tomar essa ação está comentado
	    no início do arquivo mailertable.  Esse comando
	    deve ser executado sempre que o mailertable for
	    alterado.</p><p>Dica final: caso tenha dúvidas se uma rota de
	    e-mail em particular irá funcionar, lembre-se que a
	    opção <code class="option">-bt</code> do sendmail
	    permite que ele seja iniciado em modo de testes de
	    endereço; simplesmente digite
	    <code class="literal">3,0</code> seguido do endereço que
	    você quer testar o roteamento de mensagens.  A
	    última linha irá indicar o agente de
	    transferência interno que foi usado, a
	    estação de destino com a qual esse agente de
	    entrega irá se comunicar, e o seu endereço.
	    Para sair desse modo, digite Control-D.</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>sendmail -bt</code></strong>
ADDRESS TEST MODE (ruleset 3 NOT automatically invoked)
Enter &lt;ruleset&gt; &lt;address&gt;
<code class="prompt">&gt;</code> <strong class="userinput"><code>3,0 foo@example.com</code></strong>
canonify           input: foo @ example . com
...
parse            returns: $# uucp-dom $@ <em class="replaceable"><code>your.uucp.relay</code></em> $: foo &lt; @ example . com . &gt;
<code class="prompt">&gt;</code> <strong class="userinput"><code>^D</code></strong></pre></td></tr><tr class="question"><td align="left" valign="top"><a id="idp66863440"></a><a id="ispmail"></a><p><strong>10.12.</strong></p></td><td align="left" valign="top"><p>Como eu configuro e-mail em uma conexão dialup
	    com a rede?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Se a sua conexão discada lhe atribui um
	    endereço IP estático, não é
	    necessário configurar nenhuma opção
	    extra.  Ajuste o nome da sua estação para o
	    nome que a identifica na Internet, e o sendmail
	    fará o resto.</p><p>Mas se a conexão PPP lhe atribui
	    endereços dinâmicos, provavelmente o seu
	    Provedor de Serviço Internet oferece uma conta de
	    correio eletrônico em seus servidores.  Vamos
	    assumir que o nome do domínio do seu provedor
	    é <code class="systemitem">example.net</code>, e
	    que o nome do seu usuário é
	    <code class="systemitem">user</code>.  Vamos assumir também
	    que o nome da sua estação seja <code class="systemitem">bsd.home</code> e que o Provedor de
	    Serviço Internet defina que o endereço
	    <code class="systemitem">relay.example.net</code> deva ser
	    usado para relay de mensagens eletrônicas.</p><p>Para acessar as mensagens da sua caixa de correio,
	    é necessário usar um agente de busca.  O
	    <span class="application">Fetchmail</span> é uma boa
	    escolha, já que ele suporta vários
	    protocolos distintos.  Normalmente o provedor em
	    questão oferece serviço de POP3.  Caso sua
	    conexão PPP seja estabelecida à nível
	    de usuário (user-PPP), para acessar suas mensagens
	    automaticamente ao estabelecer-se uma conexão com a
	    rede, basta adicionar a seguinte entrada no arquivo
	    <code class="filename">/etc/ppp/ppp/linkup</code>:</p><pre class="programlisting">MYADDR:
  !bg su user -c fetchmail</pre><p>Caso esteja usando o
	    <span class="application">sendmail</span> (como foi descrito
	    anteriormente) para entregar suas mensagens para
	    endereços não-locais, insira o
	    comando:</p><pre class="programlisting">  !bg su user -c "sendmail -q"</pre><p>depois da entrada apresentada anteriormente.  Esse
	    comando irá forçar o
	    <span class="application">sendmail</span> a processar sua fila
	    de e-mail tão logo uma conexão com a 
	    rede seja estabelecida.</p><p>Assumindo que exista uma conta para o
	    <code class="systemitem">user</code> na máquina <code class="systemitem">bsd.home</code>.  No diretório home
	    do <code class="systemitem">user</code> na estação
	    <code class="systemitem">bsd.home</code>, crie um arquivo
	    <code class="filename">.fetchmailrc</code>  com o seguinte
	    conteúdo:</p><pre class="programlisting">poll example.net protocol pop3 fetchall pass MySecret</pre><p>Esse arquivo não deve ter permissão de
	    leitura para nenhum outro usuário, a não ser
	    o <code class="systemitem">user</code> já que ele
	    contém a <code class="literal">sua senha</code>.</p><p>Para garantir que o cabeçalho
	    <code class="literal">from:</code> esteja sempre correto, é
	    necessário indicar ao
	    <span class="application">sendmail</span> que o endereço
	    <code class="literal">user@example.net</code>  deve ser usado ao
	    invés de <code class="literal">user@bsd.home</code>.
	    Também é interessante configurar o
	    <span class="application">sendmail</span> para entregar suas
	    mensagens via <code class="systemitem">relay.example.net</code>, permitindo
	    transmissão de mensagens de forma mais
	    rápida.</p><p>O seguinte arquivo <code class="filename">.mc</code> deve ser o
	    bastante:</p><pre class="programlisting">VERSIONID(`bsd.home.mc version 1.0')
OSTYPE(bsd4.4)dnl
FEATURE(nouucp)dnl
MAILER(local)dnl
MAILER(smtp)dnl
Cwlocalhost
Cwbsd.home
MASQUERADE_AS(`example.net')dnl
FEATURE(allmasquerade)dnl
FEATURE(masquerade_envelope)dnl
FEATURE(nocanonify)dnl
FEATURE(nodns)dnl
define(`SMART_HOST', `relay.example.net')
Dmbsd.home
define(`confDOMAIN_NAME',`bsd.home')dnl
define(`confDELIVERY_MODE',`deferred')dnl</pre><p>Por gentileza, refira-se à seção
	    anterior para obter detalhes sobre como transformar esse
	    arquivo <code class="filename">.mc</code> em um arquivo
	    <code class="filename">sendmail.cf</code>.  Não se
	    esqueça também de reiniciar o
	    <span class="application">sendmail</span> depois de alterar o
	    <code class="filename">sendmail.cf</code>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp66890704"></a><a id="sendmail-alternative"></a><p><strong>10.13.</strong></p></td><td align="left" valign="top"><p>Que outros servidores de correio eletrônico
	    posso usar no lugar do Sendmail?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>O <a class="link" href="http://www.sendmail.org/" target="_top">Sendmail</a> é
	    o programa servidor de correio eletrônico
	    padrão no FreeBSD, mas ele pode ser facilmente
	    substituído por qualquer outro MTA (por
	    instância, um MTA instalado a partir do
	    <code class="literal">ports</code>).</p><p>Existem vários MTA's que servem de alternativa
	    ao Sendmail na Coleção de
	    <code class="literal">Ports</code> do FreeBSD, sendo o <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/mail/exim/pkg-descr">mail/exim</a>, <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/mail/postfix/pkg-descr">mail/postfix</a>, <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/mail/qmail/pkg-descr">mail/qmail</a>, <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/mail/zmailer/pkg-descr">mail/zmailer</a>, os mais
	    populares.</p><p>A diversidade é sempre uma boa
	    indicação, e o fato de ter vários
	    servidores de e-mail disponíveis é
	    ótimo.  Conteúdo, evite perguntas como
	    <span class="quote">&#8220;<span class="quote">O Sendmail é melhor que o Qmail?</span>&#8221;</span> nas
	    listas de discussão.  Se você realmente quer
	    saber, procure no histórico das listas.  As
	    vantagens e desvantagens de cada MTA já foram
	    discutidas inúmeras vezes.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp66900944"></a><a id="forgot-root-pw"></a><p><strong>10.14.</strong></p></td><td align="left" valign="top"><p>Esqueci a senha de root!  O que eu faço?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Em primeiro lugar, não entre em pânico!
	    Reinicie o seu FreeBSD, digite <strong class="userinput"><code>boot
	      -s</code></strong> na tela do Boot: (ou apenas
	    <strong class="userinput"><code>-s</code></strong> para as versões
	    anteriores à 3.2 do FreeBSD) para entrar e modo
	    monousuário.  Quando o sistema perguntar sobre que
	    shell usar, aperte ENTER.  Você estará em uma
	    prompt de comandos;  digite <code class="command">mount -u /</code>
	    para montar o sistema de arquivos raiz com
	    leitura/escrita, e depois <code class="command">mount -a</code> para
	    remontar todos os seus sistemas de arquivos.  Execute o
	    comando <code class="command">passwd root</code> para modificar a
	    senha de root do sistema, e depois digite <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=exit&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">exit</span>(1)</span></a>
	    para continuar  a inicialização em modo
	    multiusuário.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp66905680"></a><a id="CAD-reboot"></a><p><strong>10.15.</strong></p></td><td align="left" valign="top"><p>Como posso evitar que a seqüência de teclas
	    <span class="keycap"><strong>Control</strong></span>+<span class="keycap"><strong>Alt</strong></span>+<span class="keycap"><strong>Delete</strong></span>
	    reinicie o sistema?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Caso esteja usando o syscons (o driver padrão
	    para o console) em um sistema FreeBSD 2.2.7 ou posterior,
	    construa e instale um novo
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> com a
	    opção:</p><pre class="programlisting">options SC_DISABLE_REBOOT</pre><p>Caso use o driver de console PCVT em um FreeBSD 2.2.5
	    ou posterior, use a seguinte linha:</p><pre class="programlisting">options PCVT_CTRL_ALT_DEL</pre><p>Em versões anteriores às citadas, edite
	    o mapeamento do seu teclado, usado para o console, e
	    substitua a palavra <code class="literal">boot</code> por
	    <code class="literal">nop</code>.  O mapeamento de teclado
	    padrão está em
	    <code class="filename">/usr/share/syscons/keymaps/us.iso.kbd</code>.
	    O <code class="filename">/etc/rc.conf</code> deve ser
	    instruído de forma que esse arquivo seja lido.  Se
	    você estiver usando um outro mapa específico
	    para o seu país, edite esse mapa ao invés do
	    padrão.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp66912464"></a><a id="dos-to-unix-txt"></a><p><strong>10.16.</strong></p></td><td align="left" valign="top"><p>Como posso converter arquivos de texto do DOS para o
	    formato do Unix?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Use esse comando do perl:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>perl -i.bak -npe 's/\r\n/\n/g' file...  </code></strong></pre><p>onde <code class="literal">file</code> indica o arquivo ou
	    arquivos a serem processados.  As
	    modificações são feitas no
	    próprio arquivo e o original é salvo com a
	    extensão .bak.</p><p>O comando <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=tr&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">tr</span>(1)</span></a> também pode ser
	    usado:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>tr -d '\r' &lt; dos-text-file &gt; unix-file</code></strong></pre><p>Onde <em class="replaceable"><code>dos-text-file</code></em> é
	    o arquivo com o texto em formato DOS, enquanto o
	    <em class="replaceable"><code>unix-file</code></em> armazenará a
	    saída convertida.  Usar o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=tr&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">tr</span>(1)</span></a> é um
	    pouco mais rápido do que usar o perl.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp66920400"></a><a id="kill-by-name"></a><p><strong>10.17.</strong></p></td><td align="left" valign="top"><p>Como eu mato processos pelo seu nome?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Use o comando <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=killall&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">killall</span>(1)</span></a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp66923216"></a><a id="root-acl"></a><p><strong>10.18.</strong></p></td><td align="left" valign="top"><p>Por que motivos o su está me atazanando pelo
	    fato de não pertencer à ACL do
	    <code class="systemitem">root</code>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Esse erro é proveniente do sistema de
	    autenticação da distrição do
	    Kerberos.  O problema não é uma
	    perturbação fatal.  Basta executar o su com
	    a opção -K ou então desinstalar o
	    Kerberos, como será descrito na próxima
	    questão.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp66934096"></a><a id="uninstall-kerberos"></a><p><strong>10.19.</strong></p></td><td align="left" valign="top"><p>Como eu desinstalo o Kerberos?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Para remover o Kerberos do sistema, reinstale a
	    distribuição <code class="literal">bin</code> da
	    versão que está sendo usada.  Caso tenha o
	    CDROM do FreeBSD, monte-o (vamos assumir, em /cdrom) e
	    execute os comandos:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cd /cdrom/bin</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>./install.sh</code></strong></pre><p>Ou então, apague todas as opções
	    <span class="quote">&#8220;<span class="quote">MAKE_KERBEROS</span>&#8221;</span> do
	    <code class="filename">/etc/make.conf</code> e recompile todo o
	    sistema com um build world.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp66939344"></a><a id="add-pty"></a><p><strong>10.20.</strong></p></td><td align="left" valign="top"><p>Como posso adicionar pseudo-terminais ao
	    sistema?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Caso tenha inúmeras conexões telnet,
	    ssh, X, ou tela de usuário, é
	    provável que você atingirá o limite
	    dos seus pseudo-terminais.  Aqui estão as
	    instruções de como adicionar mais
	    pseudo-terminais:</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Construa e instale um novo
		<span class="foreignphrase"><em class="foreignphrase">kernel</em></span> com a
		linha</p><pre class="programlisting">pseudo-device pty 256</pre><p>em seu arquivo de
		configurações.</p></li><li class="step"><p>Execute os comandos</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cd /dev</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>sh MAKEDEV pty{1,2,3,4,5,6,7}</code></strong></pre><p>de forma a criar 256 novos devices para os novos
		terminais.</p></li><li class="step"><p>Edite o <code class="filename">/etc/ttys</code>  e adicione
		uma linha para cada um dos 256 terminais.  Tais
		entradas devem ter o formato correspondente às
		entradas já existentes, por exemplo:</p><pre class="programlisting">ttyqc none network</pre><p>A ordem de definição das letras
		é expressa como
		<code class="literal">tty[pqrsPQRS][0-9a-v]</code>, ao
		ilustrarmos em expressões regulares.</p></li><li class="step"><p>Reinicie o sistema com o novo
		<span class="foreignphrase"><em class="foreignphrase">kernel</em></span>, e
		pronto.</p></li></ol></div></td></tr><tr class="question"><td align="left" valign="top"><a id="idp66950224"></a><a id="create-snd0"></a><p><strong>10.21.</strong></p></td><td align="left" valign="top"><p>Por que motivo não consigo criar a device
	    snd0?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Simples, porque não existe a device
	    <code class="filename">snd</code>.  Esse nome é usado
	    para identificar o conjunto de devices que compõem
	    os drivers de som do FreeBSD, como as devices
	    <code class="filename">mixer</code>,
	    <code class="filename">sequencer</code>, e
	    <code class="filename">dsp</code>.</p><p>Para criar tais devices, basta executar:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cd /dev</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>sh MAKEDEV snd0</code></strong></pre></td></tr><tr class="question"><td align="left" valign="top"><a id="idp66955856"></a><a id="reread-rc"></a><p><strong>10.22.</strong></p></td><td align="left" valign="top"><p>Como posso reler o <code class="filename">/etc/rc.conf</code> e
	    reiniciar o <code class="filename">/etc/rc</code> sem rebootar o
	    sistema?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Vá para o modo monousuário e volte para
	    o modo multiusuário.</p><p>É simples; no console, faça:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>shutdown now</code></strong>
(Note: without -r or -h)

<code class="prompt">#</code> <strong class="userinput"><code>return</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>exit</code></strong></pre></td></tr><tr class="question"><td align="left" valign="top"><a id="idp66965712"></a><a id="sandbox"></a><p><strong>10.23.</strong></p></td><td align="left" valign="top"><p>O que é uma sandbox?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><span class="quote">&#8220;<span class="quote">Sandbox</span>&#8221;</span> é um jargão usado
	    em discussões pertinentes à segurança
	    de sistemas.  Pode significar duas coisas:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Um processo enquadrado em um conjunto de paredes
		virtuais que são criadas para prevenir que
		algum usuário, ao explorar alguma
		inconformidade do processo, possa também
		explorar e obter privilégios no sistema
		operacional como um todo.</p><p>O processo deve conseguir <span class="quote">&#8220;<span class="quote">rodar</span>&#8221;</span>
		dentro dessas paredes, ou seja, nada que o processo
		possa fazer ao executar seu código, pode ser
		capaz de violar tais paredes.  Dessa forma não
		é necessária uma auditoria detalhada do
		código e das ações do processo
		para que se possa realizar algumas
		afirmações pertinentes à
		segurança de tal sistema.</p><p>Tais paredes podem ser a
		identificação de um usuário
		(userid), por exemplo.  Essa é a
		definição de sandbox usada nas
		páginas de manuais do named e de
		security.</p><p>Observe o serviço <code class="literal">ntalk</code>,
		como exemplo (veja o /etc/inetd.conf).  Esse
		serviço costumava ser executado com userid do
		<code class="systemitem">root</code>.  Hoje em dia o processo
		roda com o userid do <code class="systemitem">tty</code>.  O
		usuário <code class="systemitem">tty</code>, portanto,
		é uma sandbox criada para dificultar qualquer
		atividade de um usuário malicioso que por
		ventura consiga acesso ao sistema por meio do ntalk.
		Com essa sandbox, uma violação de
		segurança bem sucedida via
		<code class="literal">ntalk</code> dificultaria qualquer
		ação tomada além das
		possíveis com o userid do
		<code class="systemitem">tty</code>.</p></li><li class="listitem"><p>Um processo criado dentro de um ambiente de
		simulação.  Essa é uma
		situação mais complexa.  Basicamente
		implica que qualquer pessoa má intencionada que
		consiga explorar tal processo, acreditará que
		pode obter acesso à todo o ambiente, nas na
		verdade, estará apenas acessando um sistema de
		simulação, não alterando nenhum
		dado real.</p><p>A forma mais comum de conseguir criar um ambiente
		simulado como esse, é criando um
		subdiretório à partir de onde o processo
		consiga acessar (uma cópia de) qualquer arquivo
		do sistema que por ventura ele precise, e executar
		esse processo simulando um diretório raiz (ou
		seja, para o processo, o <code class="filename">/</code>
		será o subdiretório determinado, e
		não o verdadeiro <code class="filename">/</code> do
		sistema).</p><p>Outra situação comum é montar
		um sistema de arquivos base com apenas
		permissão de leitura, e depois criar um outro
		sistema de arquivos em uma camada superior, com acesso
		de escrita/leitura, dando ao processo a
		impressão de poder ler/escrever em todo o
		sistema de arquivos.  Apenas o processo em
		questão percebe esse ambiente, enquanto os
		outros não são necessariamente
		ludibriados.</p><p>A intenção é que tais sandbox
		sejam tão transparentes que qualquer
		usuário (ou hacker) não consiga perceber
		que está dentro de uma.</p></li></ul></div><p>Os sistemas Unix costumam implementar esses dois
	    principais tipos de sandbox, um em nível de
	    processo e o outro, muito comum, em nível de
	    userid.</p><p>Cada processo Unix é completamente separado dos
	    outros, por meio de algum tipo de parede de
	    segurança.  Um processo nunca modifica o
	    espaço de endereçamento de outro, diferente
	    do ambiente Windows onde cada processo pode facilmente
	    sobrescrever endereços de outros processos, fazendo
	    o sistema travar.</p><p>Cada processo Unix é de propriedade de um
	    userid em particular.  Caso o userid não seja do
	    <code class="systemitem">root</code>, ele serve de parede de
	    segurança em relação aos processos
	    pertencentes a outros usuários.  Os userid
	    também são usados para proteger dados
	    armazenados em disco.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp66982224"></a><a id="securelevel"></a><p><strong>10.24.</strong></p></td><td align="left" valign="top"><p>O que é <code class="literal">securelevel</code>
	    (nível de segurança do sistema)?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><code class="literal">securelevel</code> (nível de
	    segurança do sistema) é um mecanismo de
	    segurança implementado no
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> do FreeBSD.
	    Basicamente, quando o <code class="literal">securelevel</code>
	    é positivo, o <span class="foreignphrase"><em class="foreignphrase">kernel</em></span>
	    restringe algumas tarefas do sistema;  nem mesmo o
	    superusuário (por exemplo, o
	    <code class="systemitem">root</code>) tem permissão de
	    realizar tais tarefas.  Na data que este
	    <code class="literal">FAQ</code> foi escrito, o mecanismo de
	    <code class="literal">securelevel</code> do FreeBSD era capaz de,
	    entre outras coisas, limitar as habilidades de:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>retirar algumas flags de arquivos, como a
		<code class="literal">schg</code> (flag de imutabilidade do
		sistema),</p></li><li class="listitem"><p>escrever na memória do
		<span class="foreignphrase"><em class="foreignphrase">kernel</em></span> por meio do
		<code class="filename">/dev/mem</code> e
		<code class="filename">/dev/kmem</code>,</p></li><li class="listitem"><p>carregar módulos do
		<span class="foreignphrase"><em class="foreignphrase">kernel</em></span>, e</p></li><li class="listitem"><p>alterar regras de Firewall do
		<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ipfirewall&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">ipfirewall</span>(4)</span></a>.</p></li></ul></div><p>Para verificar o estado do
	    <code class="literal">securelevel</code> (nível de
	    segurança do sistema) em um sistema em funcionando,
	    simplesmente execute o seguinte comando:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>sysctl kern.securelevel</code></strong></pre><p>A saída apresentará o nome da
	    variável do <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sysctl&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sysctl</span>(8)</span></a> (nesse caso,
	    <code class="varname">kern.securelevel</code>) e um número.
	    Esse último será o valor atual do
	    nível de segurança do
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> do FreeBSD.  Caso
	    esse valor seja positivo (maior que 0), ao menos algumas
	    das características dos níveis de
	    segurança estarão habilitadas.</p><p>Os níveis de segurança não podem
	    ser diminuídos em um sistema que está
	    funcionando se isso fosse possível o
	    <code class="literal">securelevel</code> (nível de
	    segurança do sistema) perderia sua funcionalidade.
	    Caso seja necessário executar alguma tarefa que
	    necessite que o nível de segurança seja
	    não-positivo (por exemplo, um
	    <code class="buildtarget">installworld</code> ou alterar a data do
	    sistema) será preciso alterar as
	    definições de <code class="literal">securelevel</code>
	    (nível de segurança do sistema) no
	    <code class="filename">/etc/rc.conf</code> (mais precisamente, as
	    variáveis <code class="varname">kern_securelevel</code> e
	    <code class="varname">kern_securelevel_enable</code>) e reiniciar o
	    sistema.</p><p>Para obter mais informações quanto aos
	    níveis de segurança e sobre as
	    funções específicas de cada
	    nível, por gentileza, consulte a página de
	    manual do <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=init&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">init</span>(8)</span></a>.</p><div xmlns="" class="warning"><h3 class="admontitle">Atenção: </h3><p xmlns="http://www.w3.org/1999/xhtml">O <code class="literal">securelevel</code> (nível de
	      segurança do sistema) não é uma
	      bala de prata;  ele tem várias deficiências
	      óbvias.  A mais frequênte é provocar
	      uma falsa sensação de
	      segurança.</p><p xmlns="http://www.w3.org/1999/xhtml">Um dos maiores problemas, e portanto que deve ser
	      bem observada pelo administrador do sistema, é
	      que, para que o <code class="literal">securelevel</code>
	      (nível de segurança do sistema) se torne
	      efetivo, todos os arquivos usados pelo processo de
	      inicialização até que os
	      níveis de segurança se tornem positivos,
	      devem estar seguros.  Se um usuário que deseja
	      atacar o sistema, conseguir que seu código seja
	      executado antes que o nível de segurança
	      seja definido (o que ocorre pouco depois do processo de
	      inicialização, visto que algumas
	      funções que o sistema precisa realizar,
	      não podem ser iniciadas com um nível
	      elevado de segurança), a proteção
	      do <code class="literal">securelevel</code> (nível de
	      segurança do sistema) será invalidada.
	      Por outro lado, a tarefa de assegurar que todos os
	      arquivos necessários pelo processo de
	      inicialização estejam em conformidade,
	      não é tecnicamente impossível, mas,
	      O processo de manutenção de um ambiente em
	      tais condições se tornaria um pesadelo,
	      visto que seria necessário baixar o sistema, no
	      mínimo para modo monousuário sempre que
	      fosse necessário modificar os arquivos de
	      configuração do mesmo.</p><p xmlns="http://www.w3.org/1999/xhtml">Esse e outros pontos são freqüentemente
	      discutidos nas listas do FreeBSD, em especial na
	      freebsd-security.  Por gentileza, queira fazer uma busca
	      no histórico da lista, <a class="link" href="../../../../search/index.html" target="_top">clicando
		aqui</a>, para uma discussão extensa sobre
	      o assunto.  Algumas pessoas estão
	      esperançosas de que o securelevel logo
	      será afastado, em favor de um mecanismo de
	      segurança mais refinado, mas as coisas ainda
	      estão confusas a este respeito.</p><p xmlns="http://www.w3.org/1999/xhtml">Considere-se advertido.</p></div></td></tr><tr class="question"><td align="left" valign="top"><a id="idp67021264"></a><a id="release-candidate"></a><p><strong>10.25.</strong></p></td><td align="left" valign="top"><p>Tentei atualizar meu sistema para o último
	    -STABLE, mas ele se tornou -RC ou -PRERELEASE!  O que
	    está havendo?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>A resposta mais curta: É só um nome, RC
	    é um acrônimo para <span class="quote">&#8220;<span class="quote">Release
	      Candidate</span>&#8221;</span>.  Significa que uma nova versão
	    está eminente.  No FreeBSD, -PRERELEASE é
	    tipicamente um sinonimo de código congelado antes
	    de uma nova versão.  (Em algumas versões, o
	    título -BETA foi usado sob as mesmas
	    circunstâncias em que o -PRERELEASE seria).</p><p>A resposta longa: O FreeBSD normalmente deriva suas
	    versões de duas fontes de origem.  As
	    versões principais, ponto-zero, como o 3.0-RELEASE
	    e o 4.0-RELEASE que são marcadas inicialmente como
	    o topo da cadeia de desenvolvimento, normalmente chamados
	    de <a class="link" href="#current" title="1.7.">-CURRENT</a>.  As
	    versões menores (como 3.1-RELEASE ou 4.2-RELEASE),
	    são criados a partir do
	    <span class="foreignphrase"><em class="foreignphrase">snapshot</em></span> mais recente da
	    ramificação ativa marcada como <a class="link" href="#stable" title="1.8.">-STABLE</a>.  A partir do
	    4.3-RELEASE, cada versão conta também com
	    sua própria ramificação, que pode ser
	    acessada por usuários que queiram apenas um
	    nível extremamente conservador de desenvolvimento
	    (tipicamente, apenas consultores de
	    segurança).</p><p>Quando uma versão está para ser criada,
	    a ramificação de onde ela se derivará
	    deve passar por um certo processo.  Parte desse processo
	    é o congelamento do código.  Quando o
	    processo de congelamento do código se inicia, o
	    nome desta ramificação é alterado
	    para indicar que ela está para se tornar uma
	    versão.  Por exemplo, se a
	    ramificação usada chamava-se 4.5-STABLE, ela
	    passa a se chamar 4.6-PRERELEASE para indicar que o
	    código está congelado, e indicar que testes
	    extras, pré versão, estão
	    acontecendo.  Durante esse período
	    alterações pertinentes a
	    correções de problemas são
	    realizadas.  Quando o novo código está
	    pronto para ser lançado, ele passa a ser chamado de
	    -RC (nesse exemplo, 4.6-RC), indicando que provavelmente a
	    nova versão será criada a partir do
	    código atual.  Nesse estágio, apenas os
	    problemas mais sérios são corrigidos.
	    Depois que a versão é finalmente
	    lançado (4.6-RELEASE nesse exemplo) e a nova
	    ramificação com o nome dessa versão
	    foi criada, ela passa a se chamar -STABLE;  4.6-STABLE no
	    nosso exemplo.</p><p>Para obter mais informações sobre a
	    numeração das versões e sobre as
	    várias ramificações CVS, por
	    gentileza, refira-se ao artigo sobre a <a class="link" href="../../articles/releng/article.html" target="_top">Engenharia de
	      Releases</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp67026896"></a><a id="kernel-chflag-failure"></a><p><strong>10.26.</strong></p></td><td align="left" valign="top"><p>Tentei instalar um novo
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span>, mas a rotina de
	    chflags falhou.  O que posso fazer?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>A resposta curta: provavelmente você está
	    com o <code class="literal">securelevel</code> (nível de
	    segurança do sistema) acima do 0.  Reinicie o
	    sistema em modo mono usuário e instale o
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span>.</p><p>A resposta mais completa: O FreeBSD não permite
	    que as flags do sistema sejam alteradas caso o
	    <code class="literal">securelevel</code> (nível de
	    segurança do sistema) seja maior que 0.  O
	    nível atual do <code class="literal">securelevel</code>
	    (nível de segurança do sistema) pode ser
	    verificado com o comando:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>sysctl kern.securelevel</code></strong></pre><p>O <code class="literal">securelevel</code> (nível de
	    segurança do sistema) não pode ser
	    diminuído; é necessário iniciar o
	    sistema em modo mono usuário, ou alterar o
	    nível de segurança em
	    <code class="filename">/etc/rc.conf</code>, depois reiniciar.  Veja
	    a página de manual do <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=init&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">init</span>(8)</span></a> para obter
	    informações mais detalhadas sobre o
	    <code class="literal">securelevel</code> (nível de
	    segurança do sistema), e veja também o
	    <code class="filename">/etc/defaults/rc.conf</code> e a
	    página de manual do <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=rc.conf&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">rc.conf</span>(5)</span></a> para obter mais
	    informações quanto ao rc.conf.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp67040080"></a><a id="kernel-securelevel-time"></a><p><strong>10.27.</strong></p></td><td align="left" valign="top"><p>Não consigo alterar mais de um segundo na hora
	    no meu sistema.  O que posso fazer?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>A resposta curta: provavelmente o sistema está
	    com <code class="literal">securelevel</code> (nível de
	    segurança do sistema) acima do 1.  Reinicie o
	    sistema em modo mono usuário e altere a
	    data.</p><p>A resposta mais completa: O FreeBSD não permite
	    que a hora do sistema seja alterada por mais de um segundo
	    quando o <code class="literal">securelevel</code> (nível de
	    segurança do sistema) do
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> é maior que
	    1.  O nível atual do <code class="literal">securelevel</code>
	    (nível de segurança do sistema) pode ser
	    verificado com o comando:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>sysctl kern.securelevel</code></strong></pre><p>O <code class="literal">securelevel</code> (nível de
	    segurança do sistema) não pode ser
	    diminuído; é necessário iniciar o
	    sistema em modo mono usuário, ou alterar o
	    nível de segurança em
	    <code class="filename">/etc/rc.conf</code>, depois reiniciar.  Veja
	    a página de manual do <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=init&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">init</span>(8)</span></a> para obter
	    informações mais detalhadas sobre o
	    <code class="literal">securelevel</code> (nível de
	    segurança do sistema), e veja também o
	    <code class="filename">/etc/defaults/rc.conf</code> e a
	    página de manual do <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=rc.conf&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">rc.conf</span>(5)</span></a> para obter mais
	    informações quanto ao rc.conf.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp67057104"></a><a id="statd-mem-leak"></a><p><strong>10.28.</strong></p></td><td align="left" valign="top"><p>Por que motivo o <code class="command">rpc.statd</code>
	    está usando 256 megabytes de memória?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Não, mão existe nenhuma falha no uso da
	    memória, e ele nã é usando 256MB de
	    RAM.  Ele simplesmente gosta de (ele sempre faz isso)
	    mapear uma quantia obscena de memória em seu
	    endereçamento, simplesmente por conveniência.
	    Não existe nada terrivelmente errado com esse
	    comportamento, de um ponto de vista técnico;  a
	    única questão é que assim o
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=top&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">top</span>(1)</span></a> e o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ps&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ps</span>(1)</span></a> ficam completamente
	    perdidos.</p><p>O <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=rpc.statd&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">rpc.statd</span>(8)</span></a> mapeia seu arquivo de status
	    (localizado sob o <code class="filename">/var</code>) no seu
	    endereçamento para economiza
	    preocupações sobre esse remapeamento em um
	    segundo momento, quando o arquivo precisa crescer.  O
	    mapeamento é feito a um valor enorme.  Analisando o
	    código fonte, podemos evidenciar que o tamanho do
	    argumento do <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mmap&amp;sektion=2"><span class="citerefentry"><span class="refentrytitle">mmap</span>(2)</span></a> é
	    <code class="literal">0x10000000</code>, ou exatos 256MB em sistemas
	    de arquitetura IA32.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp67063888"></a><a id="unsetting-schg"></a><p><strong>10.29.</strong></p></td><td align="left" valign="top"><p>Por que eu não posso retirar a flag
	    <code class="literal">schg</code> dos arquivos?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>O sistema está sendo executado em um
	    nível de segurança elevado (maior que 0).
	    Diminua o nível de segurança e tente
	    novamente.  Para obter mais informações, por
	    gentileza, refira-se à seção sobre
	    <a class="link" href="#securelevel" title="10.24."><code class="literal">securelevel</code>
	      (nível de segurança do sistema)</a> do
	    <code class="literal">FAQ</code>, e à página de manual
	    do <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=init&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">init</span>(8)</span></a></p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp67068112"></a><a id="ssh-shosts"></a><p><strong>10.30.</strong></p></td><td align="left" valign="top"><p>Por que a autenticação do SSH via
	    <code class="filename">.shosts</code> não funciona por
	    padrão nas versões recentes do
	    FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>O motivo é simples.  A
	    autenticação via
	    <code class="filename">.shosts</code> não funciona mais por
	    padrão porque o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ssh&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ssh</span>(1)</span></a> não está
	    instalado com suid de root por padrão.
	    Razões óbvias de segurança.  Para
	    <span class="quote">&#8220;<span class="quote">corrigir</span>&#8221;</span> isto, pode-se fazer o
	    seguinte:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Para uma alteração permanente,
		defina <code class="varname">ENABLE_SUID_SSH</code> como
		<code class="literal">true</code> no arquivo
		<code class="filename">/etc/make.conf</code> e recompile o ssh
		(ou execute um make world).</p></li><li class="listitem"><p>Uma correção temporária pode
		ser mudar os modos de permissão do 
		<code class="filename">/usr/bin/ssh</code> para
		<code class="literal">4555</code> simplesmente executando o
		comando <code class="command">chmod 4555 /usr/bin/ssh</code>
		logado como <code class="systemitem">root</code>.  Depois, defina
		<code class="varname">ENABLE_SUID_SSH= true</code> no
		<code class="filename">/etc/make.conf</code> para que as
		alterações tenham efeito todas as vezes
		que um make world for feito.</p></li></ul></div></td></tr><tr class="question"><td align="left" valign="top"><a id="idp67081936"></a><a id="vnlru"></a><p><strong>10.31.</strong></p></td><td align="left" valign="top"><p>O que é o <code class="literal">vnlru</code>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>O <code class="literal">vnlru</code> limpa e libera os vnodes
	    quando o sistema atinge o limite do
	    <code class="varname">kern.maxvnodes</code>.  Essa thread do
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> se mantém
	    inativa a maior parte do tempo, e só se inicia caso
	    exista uma grande quantidade de memória RAM, e o
	    sistema esteja acessando dezenas de milhares de arquivos
	    pequenos.</p></td></tr></tbody></table></div></div><div class="chapter"><div xmlns="" class="titlepage"><div><div><h1 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="x"></a>Capítulo 11. O sistema X, sistema de interface gráfica e os
      Consoles Virtuais</h1></div></div></div><div class="qandaset"><a id="idp67086544"></a><dl><dt>11.1. <a href="#idp67086800">Quero rodar a interface gráfica X, como
	    procedo?</a></dt><dt>11.2. <a href="#idp67095632">Tentei rodar o X, mas o erro
	    KDENABIO failed (Operation not
	      permitted) sempre aparece, quando eu digito
	    o comando startx.  O que posso
	    fazer?</a></dt><dt>11.3. <a href="#idp67104208">Por que meu mouse não funciona com o X?</a></dt><dt>11.4. <a href="#idp67114448">Meu mouse possui aquela bolinha (esfera)
	    simpática de scroll.  Posso usa-lo no X?</a></dt><dt>11.5. <a href="#idp67178064">Por quê os menus e caixas de diálogo do
	    X, sistema de interface gráfica não
	    funcionam direito?</a></dt><dt>11.6. <a href="#idp67190864">O que é um console virtual, e como eu crio mais
	    consoles?</a></dt><dt>11.7. <a href="#idp67216592">Como posso acessar os consoles virtuais quando eu
	    estiver no X?</a></dt><dt>11.8. <a href="#idp67226320">Como eu inicio o XDM no processo de
	    inicialização?</a></dt><dt>11.9. <a href="#idp67246288">Por que eu enfrento um Couldn't open
	      console ao executar o xconsole? </a></dt><dt>11.10. <a href="#idp67262800">Antes eu conseguia usar o XFree86 com um
	    usuário sem privilégios.  Porque agora o
	    servidor diz que eu tenho que ser
	    root?</a></dt><dt>11.11. <a href="#idp67275088">Por que meu mouse PS/2 não se comporta
	    corretamente no X?</a></dt><dt>11.12. <a href="#idp67289808">Por que meu mouse PS/2 da MouseSystems não
	    funciona?</a></dt><dt>11.13. <a href="#idp67302480">Ao compilar uma aplicação X, o
	    imake não consegue encontrar o
	    Imake.tmpl.  Onde ele
	    está?</a></dt><dt>11.14. <a href="#idp67338960">Estou construindo uma aplicação
	    gráfica que depende do XFree86 3.3.X, mas eu estou
	    com o XFree86 4.X instalado.  O que fazer?</a></dt><dt>11.15. <a href="#idp67342160">Como posso inverter as funções dos
	    botões do mouse?</a></dt><dt>11.16. <a href="#idp67345488">Como instalar uma Splash Screen e onde posso
	    encontra-las?</a></dt><dt>11.17. <a href="#idp67390928">Posso usar as teclas do Windows® que meu teclado
	    possui, sob o X?</a></dt><dt>11.18. <a href="#idp67422800">Como posso obter a aceleração de
	    equipamentos 3D para o OpenGL?</a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%" /><col /></colgroup><tbody><tr class="question"><td align="left" valign="top"><a id="idp67086800"></a><a id="running-X"></a><p><strong>11.1.</strong></p></td><td align="left" valign="top"><p>Quero rodar a interface gráfica X, como
	    procedo?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>A maneira mais fácil é simplesmente
	    especificar o desejo de usar o X durante o processo de
	    instalação do FreeBSD.</p><p>Depois disso, leia e siga as instruções
	    documentadas na ferramenta <code class="command">xf86config</code>,
	    que auxilia o usuário a configurar o XFree86 para
	    os diversos monitores, placas de vídeo, mouse e
	    etc, suportados pelo X, sistema de interface
	    gráfica.</p><p>Também pode ser interessante dar uma olhada no
	    servidor Xaccel.  Confira a seção do
	    <code class="literal">FAQ</code> pertinente à <a class="link" href="#xig">Xi Graphics</a> ou <a class="link" href="#metrox">Metro Link</a> para obter mais
	    detalhes.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp67095632"></a><a id="running-X-securelevels"></a><p><strong>11.2.</strong></p></td><td align="left" valign="top"><p><span class="emphasis"><em>Tentei</em></span> rodar o X, mas o erro
	    <span class="errorname">KDENABIO failed (Operation not
	      permitted)</span> sempre aparece, quando eu digito
	    o comando <code class="command">startx</code>.  O que posso
	    fazer?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Seu sistema está rodando com um
	    <code class="literal">securelevel</code> (nível de
	    segurança do sistema) elevado, não
	    está? É impossível iniciar o X com um
	    secureleve elevado.  Para saber exatamente os motivos
	    dessa inviabilidade, por gentileza, de uma olhada na
	    página de manual do <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=init&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">init</span>(8)</span></a>.</p><p>Então, a pergunta pode ser sobre o que
	    você deve fazer nesse caso; basicamente, existem
	    duas escolhas: diminua seu <code class="literal">securelevel</code>
	    (nível de segurança do sistema), colocando-o
	    de volta para zero (normalente via
	    <code class="filename">/etc/rc.conf</code>), ou então inicie
	    o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=xdm&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">xdm</span>(1)</span></a> durante o processo de
	    inicialização do sistema (antes que o
	    <code class="literal">securelevel</code> (nível de
	    segurança do sistema) seja elevado).</p><p>Veja a pergunta <a class="xref" href="#xdm-boot" title="11.8.">P: 11.8</a>, para obter
	    mais informações sobre como iniciar o
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=xdm&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">xdm</span>(1)</span></a> durante o boot.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp67104208"></a><a id="x-and-moused"></a><p><strong>11.3.</strong></p></td><td align="left" valign="top"><p>Por que meu mouse não funciona com o X?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Caso esteja usando o syscons (o driver padrão
	    do console), o FreeBSD pode ser configurado para suportar
	    um cursor de mouse em cada tela virtual.  Com o
	    intúito de evitar conflitos com o X, o syscons
	    suporta um dispositivo virtual, chamado
	    <code class="filename">/dev/sysmouse</code>.  Todos os eventos
	    relacionados ao mouse, que o sistema recebe, são
	    antes enviados para o device sysmouse, por meio do moused.
	    Se a intenção é usar o mouse em um ou
	    mais consoles virtuais, e também usar o X, leia
	    <a class="xref" href="#moused" title="4.13.">P: 4.13</a> e
	    configure o moused.</p><p>Depois, edite o <code class="filename">/etc/XF86Config</code> e
	    garanta que existam as seguintes linhas no arquivo:</p><pre class="programlisting">Section         Pointer
Protocol        "SysMouse"
Device          "/dev/sysmouse"
.....</pre><p>O exemplo acima refere-se ao XFree86 3.3.2 e
	    posteriores.  Para versões anteriores, a
	    cláusula <span class="emphasis"><em>Protocol</em></span> deve ser
	    substituída por
	    <span class="emphasis"><em>MouseSystems</em></span>.</p><p>Alguns preferem usar a device
	    <code class="filename">/dev/mouse</code> sob o X.  Para que
	    isso funcione, faça um link de
	    <code class="filename">/dev/mouse</code> para
	    <code class="filename">/dev/sysmouse</code> (veja a
	    página de manual do <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sysmouse&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">sysmouse</span>(4)</span></a>).</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cd /dev</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>rm -f mouse</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>ln -s sysmouse mouse</code></strong></pre></td></tr><tr class="question"><td align="left" valign="top"><a id="idp67114448"></a><a id="x-and-wheel"></a><p><strong>11.4.</strong></p></td><td align="left" valign="top"><p>Meu mouse possui aquela bolinha (esfera)
	    simpática de scroll.  Posso usa-lo no X?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Pode, mas é necessário customizar os
	    programas do X.  Veja a página do Colas Nahaboo
	    sobre o assunto (<a class="link" href="http://www.inria.fr/koala/colas/mouse-wheel-scroll/" target="_top">
	      http://www.inria.fr/koala/colas/mouse-wheel-scroll/</a>.</p><p>Caso queira usar o programa
	    <span class="application">imwheel</span>, simplesmente siga os
	    seguintes passos:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Traduza os eventos da esfera de scroll:</p><p>O programa <span class="application">imwheel</span>
		funciona assim: ele traduz os botões 4 e 5 do
		mouse em eventos do teclado do computador.  Dessa
		forma é necessário assegurar que o
		driver do mouse esteja traduzindo os eventos da esfera
		de scroll para os eventos dos botões 4 e 5, ou
		seja assimilar suas funções.  Existem
		duas formas de fazer isso, a primeira é usando
		o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=moused&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">moused</span>(8)</span></a> para fazer essas
		assimilações, e a segunda, é usar
		o próprio X para traduzir os eventos.</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p>Usando o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=moused&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">moused</span>(8)</span></a> para traduzir os
		    eventos da bolinha de scroll.</p><p>Para que o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=moused&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">moused</span>(8)</span></a> faça as
		    assimilações de eventos, basta
		    adicionar as opções <code class="option">-z
		      4</code> nas opções de linhas de
		    comando, usadas para iniciar o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=moused&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">moused</span>(8)</span></a>.
		    Por exemplo, se normalmente você inicia o
		    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=moused&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">moused</span>(8)</span></a> via <code class="command">moused -p
		      /dev/psm0</code> basta substituir o comando
		    por <code class="command">moused -p /dev/psm0 -z 4</code>.
		    Se o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=moused&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">moused</span>(8)</span></a> é executado
		    automaticamente durante o processo de
		    inicialização do FreeBSD, por meio
		    das entradas definidas no
		    <code class="filename">/etc/rc.conf</code>, basta adicionar
		    <code class="option">-z 4</code> na variável
		    <code class="varname">moused_flags</code> do
		    <code class="filename">/etc/rc.conf</code>.</p><p>Você precisa agora dizer para o X que
		    você tem o botão 5 no mouse.  Para
		    fazer isto, simplesmente adicione a linha
		    <code class="literal">Buttons 5</code> para a
		    seção <span class="quote">&#8220;<span class="quote">Pointer</span>&#8221;</span> do
		    <code class="filename">/etc/XF86Config</code>.  Por
		    exemplo, você pode seguir a
		    seção <span class="quote">&#8220;<span class="quote">Pointer</span>&#8221;</span> em
		    <code class="filename">/etc/XF86Config</code>.</p><div class="example"><a id="idp67138768"></a><div class="example-title">Exemplo 11.1. Seção <span class="quote">&#8220;<span class="quote">Pointer</span>&#8221;</span>
		      no XF86Config para o mouse com bolinha de
		      scroll, da série 3.3.x do XFree86, usando
		      a tradução se;rie 3.3.x do
		      XFree86, usando a tradução por
		      meio do moused</div><div class="example-contents"><pre class="programlisting">Section "Pointer"
Protocol        "SysMouse"
Device          "/dev/sysmouse"
Buttons         5
EndSection</pre></div></div><br class="example-break" /><div class="example"><a id="idp67140304"></a><div class="example-title">Exemplo 11.2. Seção
		      <span class="quote">&#8220;<span class="quote">InputDevice</span>&#8221;</span> do XF86Config para
		      usar a tradução do X Server na
		      série 4.X do XFree86.</div><div class="example-contents"><pre class="programlisting">Section "InputDevice"
Identifier      "Mouse1"
Driver          "mouse"
Option          "Protocol" "auto"
Option          "Device" "/dev/sysmouse"
Option          "Buttons" "5"
EndSection</pre></div></div><br class="example-break" /><div class="example"><a id="idp67141840"></a><div class="example-title">Exemplo 11.3. Exemplo de <span class="quote">&#8220;<span class="quote">.emacs</span>&#8221;</span> para usar
		      paginamento em mouse com bolinha de
		      scroll.</div><div class="example-contents"><pre class="programlisting">;; wheel mouse
(global-set-key [mouse-4] 'scroll-down)
(global-set-key [mouse-5] 'scroll-up)</pre></div></div><br class="example-break" /></li><li class="listitem"><p>Usando o X Server para traduzir os eventos da
		    esfera de scroll.</p><p>Se você não usa o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=moused&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">moused</span>(8)</span></a>
		    ou simplesmente não quer que ele
		    faça a tradução de eventos,
		    é possível que o servidor X
		    faça o trabalho, no lugar do
		    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=moused&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">moused</span>(8)</span></a>.  Essa ação requer
		    algumas alterações no seu arquivo
		    <code class="filename">/etc/XF86Config</code>.  Primeiro,
		    é necessário definir o protocolo
		    apropriado para o mouse.  A maioria dos mouses com
		    esferas de scroll usam o protocolo
		    <span class="quote">&#8220;<span class="quote">IntelliMouse</span>&#8221;</span>.  De qualquer forma, o
		    XFree86 não suporta outros protocolos como
		    o <span class="quote">&#8220;<span class="quote">MouseManPlusPS/2</span>&#8221;</span> dos MouseMan+
		    Logitechfor.  Uma vez definido o protocolo,
		    é necessário criar uma entrada
		    apropriada na seção
		    <span class="quote">&#8220;<span class="quote">Pointer</span>&#8221;</span>.</p><p>Depois, é preciso definir que o
		    servidor X deve remapear os eventos 4 e 5 do
		    mouse.  A opção
		    <code class="varname">ZAxisMapping</code> é usada
		    para essa finalidade.</p><p>Por exemplo, caso não estejas usando o
		    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=moused&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">moused</span>(8)</span></a> e exista um IntelliMouse ligado na
		    PS/2 do seu computador, use o seguinte, no
		    <code class="filename">/etc/XF86Config</code>.</p><div class="example"><a id="idp67154128"></a><div class="example-title">Exemplo 11.4. Seção <span class="quote">&#8220;<span class="quote">Pointer</span>&#8221;</span>
		      do <code class="filename">XF86Config</code> com um mouse
		      com scroll na série 3.3.x do
		      XFree86.</div><div class="example-contents"><pre class="programlisting">Section "Pointer"
Protocol        "IntelliMouse"
Device          "/dev/psm0"
ZAxisMapping    4 5
EndSection</pre></div></div><br class="example-break" /><div class="example"><a id="idp67156176"></a><div class="example-title">Exemplo 11.5. Seção
		      <span class="quote">&#8220;<span class="quote">InputDevice</span>&#8221;</span> do
		      <code class="filename">XF86Config</code> com um mouse com
		      scroll na série 4.x do XFree86.</div><div class="example-contents"><pre class="programlisting">Section "InputDevice"
Identifier      "Mouse1"
Driver          "mouse"
Option          "Protocol" "auto"
Option          "Device" "/dev/psm0"
Option          "ZAxisMapping" "4 5"
EndSection</pre></div></div><br class="example-break" /><div class="example"><a id="idp67158224"></a><div class="example-title">Exemplo 11.6. Arquivo <span class="quote">&#8220;<span class="quote">.emacs</span>&#8221;</span> para usar
		      paginamento em mouse com bolinha de
		      scroll.</div><div class="example-contents"><pre class="programlisting">;; wheel mouse
(global-set-key [mouse-4] 'scroll-down)
(global-set-key [mouse-5] 'scroll-up)</pre></div></div><br class="example-break" /></li></ol></div></li><li class="listitem"><p>Instale o
		<span class="application">imwheel</span></p><p>Depois, instale o
		<span class="application">imwheel</span> à partir da
		coleção de <code class="literal">ports</code> do
		FreeBSD; ele pode ser encontrado sob a categoria
		<code class="filename">x11</code>.  A finalidade desse programa
		é assimilar os eventos dos botões 4 e 5
		do mouse, com os eventos de alguma tecla do teclado.
		Por exemplo, o programa deve enviar o evento da tecla
		<span class="keycap"><strong>Page Up</strong></span> quando a esfera for deslocada
		para frente.  O <span class="application">imwheel</span> usa
		um arquivo de configurações para
		assimilar esses eventos à uma tecla, de forma
		que possam ser configuradas ações
		diferentes (teclas diferentes) para
		aplicações diferentes.  O arquivo de
		configuração padrão do
		<span class="application">imwheel</span> é instalado
		em <code class="filename">/usr/X11R6/etc/imwheelrc</code>.  Ele
		pode ser copiado para
		<code class="filename">~/.imwheelrc</code> e editado, caso se
		deseja customizar o arquivo de
		configuração.  O formato esperado para o
		arquivo é documentado na página de
		manual do <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=imwheel&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">imwheel</span>(1)</span></a>.</p></li><li class="listitem"><p>Configure o <span class="application">Emacs</span> para
		trabalhar em conjunto com o
		<span class="application">Imwheel</span>
		(<span class="emphasis"><em>optional</em></span>)</p><p>Se você usa o
		<span class="application">emacs</span> ou o
		<span class="application">Xemacs</span>, será
		necessário adicionar uma breve
		seção ao arquivo
		<code class="filename">~/.emacs</code>.  No
		<span class="application">emacs</span>, adicione o
		seguinte:</p><div class="example"><a id="idp67169360"></a><div class="example-title">Exemplo 11.7. Configuração do
		  <span class="application">Emacs</span> para
		  <span class="application">Imwheel</span></div><div class="example-contents"><pre class="programlisting">;;; For imwheel
(setq imwheel-scroll-interval 3)
(defun imwheel-scroll-down-some-lines ()
  (interactive)
  (scroll-down imwheel-scroll-interval))
(defun imwheel-scroll-up-some-lines ()
  (interactive)
  (scroll-up imwheel-scroll-interval))
(global-set-key [?\M-\C-\)] 'imwheel-scroll-up-some-lines)
(global-set-key [?\M-\C-\(] 'imwheel-scroll-down-some-lines)
;;; end imwheel section</pre></div></div><br class="example-break" /><p>Pro <span class="application">Xemacs</span>, adicione o
		seguinte, no seu arquivo
		<code class="filename">~/.emacs</code>:</p><div class="example"><a id="idp67172432"></a><div class="example-title">Exemplo 11.8. Configuração do
		  <span class="application">Xemacs</span> para
		  <span class="application">Imwheel</span></div><div class="example-contents"><pre class="programlisting">;;; For imwheel
(setq imwheel-scroll-interval 3)
(defun imwheel-scroll-down-some-lines ()
  (interactive)
  (scroll-down imwheel-scroll-interval))
(defun imwheel-scroll-up-some-lines ()
  (interactive)
  (scroll-up imwheel-scroll-interval))
(define-key global-map [(control meta \))] 'imwheel-scroll-up-some-lines)
(define-key global-map [(control meta \()] 'imwheel-scroll-down-some-lines)
;;; end imwheel section</pre></div></div><br class="example-break" /></li><li class="listitem"><p>Execute o
		<span class="application">Imwheel</span></p><p>Basta digitar <code class="command">imwheel</code> em algum
		terminal X (xterm) para inicia-lo, uma vez que tudo
		esteja pronto.  Imediatamente o programa vai estar
		efetivo e vai se tornar um processo em segundo plano.
		Caso queira sempre iniciar o
		<span class="application">imwheel</span>, basta adicionar o
		comando no seu arquivo <code class="filename">.xinitrc</code>
		ou no <code class="filename">.xsession</code>.  É
		possível que o
		<span class="application">imwheel</span> mostre algumas
		mensagens de advertência sobre arquivos PID;
		elas podem ser seguramente ignoradas, visto que
		são mensagens que se aplicam à
		versão para Linux.</p></li></ol></div></td></tr><tr class="question"><td align="left" valign="top"><a id="idp67178064"></a><a id="window-menu-weird"></a><p><strong>11.5.</strong></p></td><td align="left" valign="top"><p>Por quê os menus e caixas de diálogo do
	    X, sistema de interface gráfica não
	    funcionam direito?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Tente desativar a tecla <span class="keycap"><strong>Num
	      Lock</strong></span>.</p><p>Se por padrão seu <span class="keycap"><strong>Num Lock</strong></span>
	    é ativo na hora do processo de
	    inicialização, adicione a seguinte linha a
	    seção <code class="literal">Keyboard</code> do seu
	    arquivo <code class="filename">XF86Config</code>.</p><pre class="programlisting"># Deixar o servidor fazer o trabalho do NumLock.  Deve ser usado apenas em versoes anteriores a R6
    ServerNumLock</pre></td></tr><tr class="question"><td align="left" valign="top"><a id="idp67190864"></a><a id="virtual-console"></a><p><strong>11.6.</strong></p></td><td align="left" valign="top"><p>O que é um console virtual, e como eu crio mais
	    consoles?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Consoles virtuais simplesmente permitem que se tenha
	    várias sessões simultâneas em uma
	    mesma máquina, sem a necessidade de fazer nada
	    complicado como configurar uma rede ou usar um servidor
	    X.</p><p>Quando o sistema é iniciado, a primeira
	    ação é apresentar um prompt de login
	    na tela do usuário, tão logo todas as
	    mensagens do processo de inicialização sejam
	    apresentadas.  Nesse momento é possível
	    entrar com seu nome de usuário e senha para
	    começar trabalhar (ou brincar!) no primeiro console
	    virtual.</p><p>Em algum momento, é provável que se
	    deseje iniciar uma outra sessão, talvez para ler a
	    documentação de alguma
	    aplicação que está sendo usada, ou
	    para ler e-mail enquanto a transferência FTP se
	    conclúi, enfim, qualquer ação
	    (a)típica de um sistema multitarefa.  Nesse caso,
	    basta pressionar <span class="keycap"><strong>Alt</strong></span>+<span class="keycap"><strong>F2</strong></span>
	    (segure a tecla <span class="keycap"><strong>Alt</strong></span> e depois aperte a
	    tecla <span class="keycap"><strong>F2</strong></span>), e outro prompt de login
	    estará esperando você no segundo
	    <span class="quote">&#8220;<span class="quote">console virtual</span>&#8221;</span>!  Quando quizer alternar de
	    volta à sessão original, digite <span class="keycap"><strong>Alt</strong></span>+<span class="keycap"><strong>F1</strong></span>.</p><p>A instalação padrão do FreeBSD
	    oferece três consoles virtuais já habilitados
	    (8 a partir do 3.3-RELEASE), e as teclas <span class="keycap"><strong>Alt</strong></span>+<span class="keycap"><strong>F1</strong></span>,

	    <span class="keycap"><strong>Alt</strong></span>+<span class="keycap"><strong>F2</strong></span>,
	    e <span class="keycap"><strong>Alt</strong></span>+<span class="keycap"><strong>F3</strong></span>
	    irá alternar entre esses consoles.</p><p>Para habilitar mais consoles, edite o
	    <code class="filename">/etc/ttys</code> (veja a página de
	    manual do <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ttys&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">ttys</span>(5)</span></a>) e adicione as entradas da
	    <code class="filename">ttyv4</code> à
	    <code class="filename">ttyvc</code> depois do comentário
	    sobre <span class="quote">&#8220;<span class="quote">Virtual terminals</span>&#8221;</span>:</p><pre class="programlisting"># Edite as entradas existentes para ttyv3 e mude de "off" para "on"
ttyv3   "/usr/libexec/getty Pc"         cons25  on secure
ttyv4   "/usr/libexec/getty Pc"         cons25  on secure
ttyv5   "/usr/libexec/getty Pc"         cons25  on secure
ttyv6   "/usr/libexec/getty Pc"         cons25  on secure
ttyv7   "/usr/libexec/getty Pc"         cons25  on secure
ttyv8   "/usr/libexec/getty Pc"         cons25  on secure
ttyv9   "/usr/libexec/getty Pc"         cons25  on secure
ttyva   "/usr/libexec/getty Pc"         cons25  on secure
ttyvb   "/usr/libexec/getty Pc"         cons25  on secure</pre><p>Use quantos consoles desejar.  Quanto mais, maior o
	    uso de recursos; essa é uma
	    consideração relevante quando se tem 8MB de
	    RAM ou menos.  Também pode ser interessante mudar o
	    terminal de <code class="literal">secure</code> para
	    <code class="literal">insecure</code>.</p><div xmlns="" class="important"><h3 class="admontitle">Importante: </h3><p xmlns="http://www.w3.org/1999/xhtml">Caso se deseje usar um servidor X, é
	      necessário garantir que exista ao menos um
	      terminal virtual fora de uso (ou desligado).  Com isso,
	      entenda que, se sua inteção for usar
	      consoles virtuais nas suas doze teclas de
	      funções, nada feito; apenas onze
	      poderão ser usadas caso deseje-se usar o X na
	      mesma máquina.</p></div><p>A maneira mais simples de desabilitar um console,
	    é desligando-o.  Por exemplo, caso existam 12
	    terminais definidos, como mencionado na
	    situação acima, e se queira usar o servidor
	    X, o mais interessante é mudar as
	    configurações do terminal 12 de:</p><pre class="programlisting">ttyvb   "/usr/libexec/getty Pc"        cons25  on  secure</pre><p>para:</p><pre class="programlisting">ttyvb   "/usr/libexec/getty Pc"        cons25  off  secure</pre><p>Caso seu teclado tenha apenas dez teclas de
	    funções, basta encerrar as
	    definições com:</p><pre class="programlisting">ttyv9   "/usr/libexec/getty Pc"         cons25  off secure
ttyva   "/usr/libexec/getty Pc"         cons25  off secure
ttyvb   "/usr/libexec/getty Pc"         cons25  off secure</pre><p>(Claro que as linhas poderiam simplesmente ser
	    apagadas.)</p><p>Uma vez editado o <code class="filename">/etc/ttys</code>, o
	    passo seguinte é garantir que existam devices o
	    bastante pros terminais virtuais.  A forma mais
	    fácil de fazer isso é:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cd /dev</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>sh MAKEDEV vty12</code></strong></pre><p>Em seguida, a maneira mais fácil (e mais limpa)
	    de ativar cada um dos consoles virtuais é reiniciar
	    o sistema.  Mas se reiniciar o FreeBSD não é
	    a intenção, basta desligar o servidor X,
	    sistema de interface gráfica e executar (logado
	    como <code class="systemitem">root</code>):</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>kill -HUP 1</code></strong></pre><p>É obrigatório tirar por completo o X,
	    sistema de interface gráfica do ar antes de dar
	    esse comando, caso o X esteja sendo usado.  Se isso
	    não for feito, o sistema vai parecer que
	    travou.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp67216592"></a><a id="vty-from-x"></a><p><strong>11.7.</strong></p></td><td align="left" valign="top"><p>Como posso acessar os consoles virtuais quando eu
	    estiver no X?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Use <span class="keycap"><strong>Ctrl</strong></span>+<span class="keycap"><strong>Alt</strong></span>+<span class="keycap"><strong>F<em class="replaceable"><code>n</code></em></strong></span> para alternar de volta para algum console
	    virtual.  Por exemplo,
	    <span class="keycap"><strong>Ctrl</strong></span>+<span class="keycap"><strong>Alt</strong></span>+<span class="keycap"><strong>F1</strong></span> retornaria ao primeiro console virtual.</p><p>Uma vez de volta ao console textual, pode-se usar
	    <span class="keycap"><strong>Alt</strong></span>+<span class="keycap"><strong>F<em class="replaceable"><code>n</code></em></strong></span> normalmente, para alternar entre os consoles
	    virtuais.</p><p>Pra voltar para sessão X basta alternar para o
	    console virtual onde o X está sendo executado.
	    Caso o X tenha sido iniciado por linha de comando (por
	    exemplo, com o comando <code class="command">startx</code>) a
	    sessão terá sido assimilada ao
	    próximo console virtual fora de uso, e não
	    ao console onde o comando foi digitado.  Caso existam oito
	    terminais virtuais ativos, o X estará sendo
	    executado no nono.  Nesse caso as teclas
	    <span class="keycap"><strong>Alt</strong></span>+<span class="keycap"><strong>F9</strong></span> retornarão ao sistema
	    gráfico.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp67226320"></a><a id="xdm-boot"></a><p><strong>11.8.</strong></p></td><td align="left" valign="top"><p>Como eu inicio o XDM no processo de
	    inicialização?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Existem duas formas clássicas de iniciar o
	    <a class="link" href="http://www.FreeBSD.org/cgi/man.cgi?manpath=xfree86&amp;query=xdm" target="_top">xdm</a>.
	    A primeira consiste em inciá-lo a partir do
	    <code class="filename">/etc/ttys</code> (veja a página de
	    manual do <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ttys&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">ttys</span>(5)</span></a>) usando o exemplo disponível
	    no arquivo; a segunda forma é simplesmente executar
	    o xdm a partir do <code class="filename">rc.local</code> (veja a
	    página de manual do <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=rc&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">rc</span>(8)</span></a>) ou então por
	    um script <code class="filename">X.sh</code> em
	    <code class="filename">/usr/local/etc/rc.d</code>.  As duas
	    maneiras são igualmente válidas, mas algumas
	    podem ser mais eficientes em algumas
	    situações, onde a outra forma não
	    seria ideal.  Nos dois casos, o resultado será o
	    mesmo: o X iniciará o mostrando uma tela de login:
	    gráfica.</p><p>O método de inicialização via
	    ttys oferece a vantagem de definir explicitamente em qual
	    vtyX o servidor gráfico vai ser carregado, passando
	    a responsabilidade da reinicialização do X
	    para o init, no momento do logout.  O método via
	    rc.local oferece facilidades caso seja necessário
	    encerrar o processo xdm, no caso, por exemplo, de
	    ocorrerem problemas ao carregar o servidor
	    gráfico.</p><p>Ao usar o rc.local para carregar o
	    <code class="command">xdm</code>, ele não deve ser
	    acompanhado de nenhum argumento (deve ser iniciado como um
	    daemon e deve ser iniciado DEPOIS que o getty já
	    estiver em execussão, senão é
	    provável que ocorram conflitos entre ambos, podendo
	    travar o console.  A melhor forma de assegurar o correto
	    funcionamento desse método é fazer com que o
	    script espere 10 segundos (por exemplo, com um sleep 10;)
	    antes de iniciar o xdm.</p><p>Se a inteção é iniciar o
	    <code class="command">xdm</code> a partir do
	    <code class="filename">/etc/ttys</code>, ainda existe a
	    probabilidade de conflitos entre o <code class="command">xdm</code>
	    e o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=getty&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">getty</span>(8)</span></a>.  Uma forma interessante de evitar esse
	    tipo de desconforto, é definir, no arquivo
	    <code class="filename">/usr/X11R6/lib/X11/xdm/Xservers</code>, o
	    número do <code class="literal">vt</code> onde o X deve ser
	    iniciado, da seguinte forma:</p><pre class="programlisting">:0 local /usr/X11R6/bin/X vt4</pre><p>O exemplo acima indica que o servidor X será
	    ativado no <code class="filename">/dev/ttyv3</code>.  Note que
	    existe um offset de um vt, já que o X começa
	    a contar os terminais (vty) a partir do um, enquando o
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> do FreeBSD os conta
	    a partir do zero.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp67246288"></a><a id="xconsole-failure"></a><p><strong>11.9.</strong></p></td><td align="left" valign="top"><p>Por que eu enfrento um <span class="errorname">Couldn't open
	      console</span> ao executar o xconsole? </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Se o <span class="application">X</span> for iniciado com um
	    <code class="command">startx</code>, as permissões do
	    <code class="filename">/dev/console</code> não
	    serão redefinidas, resultando em
	    situações onde um <code class="command">xterm
	      -C</code> ou mesmo o <code class="command">xconsole</code>
	    não funcionarão corretamente.</p><p>O motivo disso é a forma como as
	    permissões são definidas por padrão.
	    Em sistemas multiusuário, normalmente não se
	    espera que qualquer pessoa possa escrever no console do
	    sistema.  Para os usuários que estão se
	    logando diretamente na máquina, em algum VTY,
	    existe o arquivo <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=fbtab&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">fbtab</span>(5)</span></a> que resolve esse tipo de
	    problema.</p><p>Se for apropriado, garanta que exista uma linha
	    assim</p><pre class="programlisting">/dev/ttyv0 0600 /dev/console</pre><p>No arquivo <code class="filename">/etc/fbtab</code> (veja a
	    página de manual do <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=fbtab&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">fbtab</span>(5)</span></a>).   Essa linha
	    garantirá que qualquer usuário que se logar
	    no <code class="filename">/dev/ttyv0</code> será
	    também proprietário do console.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp67262800"></a><a id="xfree86-root"></a><p><strong>11.10.</strong></p></td><td align="left" valign="top"><p>Antes eu conseguia usar o XFree86 com um
	    usuário sem privilégios.  Porque agora o
	    servidor diz que eu tenho que ser
	    <code class="systemitem">root</code>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Todo servidor gráfico precisa ser executado
	    como <code class="systemitem">root</code> para que o sistema permita
	    acesso direto aos equipamentos de vídeo.  Acontece
	    que nas versões mais antigas, o XFree86
	    (versões &lt;= 3.3.6) instalava o servidor de forma
	    que ele era automaticamente executado como
	    <code class="systemitem">root</code> (setuid de
	    <code class="systemitem">root</code>).  Óbviamente esse
	    comportamente implica em riscos de segurança em
	    qualquer caso onde o programa em questão seja
	    complexo e grande; esse é o caso dos servidores X.
	    As versões mais atuais do XFree86 não
	    instalam os servidores gráficos com todo esse
	    poder, exatamente por esse motivo.</p><p>É claro que rodar o X como usuário
	    <code class="systemitem">root</code> não é uma
	    idéia muito aceitável, especialmente em
	    relação à segurança.  Existem
	    duas formas de usar o X como usuário comum.  A
	    primeira é usar o <code class="command">xdm</code> ou
	    qualquer outro gerenciador de display (como o
	    <code class="command">kdm</code>); a segunda é usar o
	    <code class="command">Xwrapper</code>.</p><p>O <code class="command">xdm</code> é um daemon que
	    controla logins gráficos.  Normalmente ele é
	    iniciado no processo de inicialização e
	    é responsável pela
	    autenticação dos usuários, e por
	    inciar suas sessões; essencialmente é a
	    união gráfica do <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=getty&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">getty</span>(8)</span></a> como o
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=login&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">login</span>(1)</span></a>.  Para mais informações sobre
	    o <code class="command">xdm</code>, por gentileza, refira-se
	    à <a class="link" href="http://www.xfree86.org/support.html" target="_top">documentação
	      do XFree86</a> e à questão do <a class="link" href="#xdm-boot" title="11.8."><code class="literal">FAQ</code> sobre
	      xdm</a>.</p><p>O <code class="command">Xwrapper</code> é um
	    intermediador do servidor gráfico; é um
	    programa bem pequeno que possibilita a
	    inicialização manual do servidor
	    gráfico por qualquer usuário, garantindo
	    razoável segurança à
	    operação.  O programa ainda faz algumas
	    verificações na linha de comando definida
	    pelo usuário, para garantir a sanidade das
	    intenções do mesmo.  Se todas as
	    intenções forem aprovadas, ele executa o X.
	    Se por qualquer razão, a idéia de usar um
	    gerenciador de displays não te agrada, o
	    <code class="command">Xwrapper</code> é feito para
	    você.  Caso a coleção de
	    <code class="literal">Ports</code> esteja instalada, o programa pode
	    ser encontrado em
	    <code class="filename">/usr/ports/x11/wrapper</code>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp67275088"></a><a id="ps2-x"></a><p><strong>11.11.</strong></p></td><td align="left" valign="top"><p>Por que meu mouse PS/2 não se comporta
	    corretamente no X?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>O seu mouse e a device que o controla devem ter
	    desincronizado.</p><p>Nas versões 2.2.5 e anteriores, a simples
	    alternância entre o X e o terminal, e voltar para o
	    X, força a resincronização do mouse.
	    Se o problema se tornar frequênte, adicione a
	    seguinte opção ao arquivo de
	    configuração do seu
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span>, e o
	    recompile:</p><pre class="programlisting">options PSM_CHECKSYNC</pre><p>Veja a seção sobre a <a class="link" href="#make-kernel" title="8.1.">compilação do
	      <span class="foreignphrase"><em class="foreignphrase">kernel</em></span></a>, caso
	    você não tenha experiência com
	    isso.</p><p>Com essa opção as chances de ter
	    problemas com a sincronia do mouse são bem
	    pequenas.  Contudo, se ainda assim o problema persistir,
	    clique em qualquer botão durante o movimento do
	    mouse.  É o bastante para resincroniza-lo.</p><p>Infelizmente essa opção pode não
	    funcionar em alguns sistemas, dependendo de qual driver
	    controle o seu mouse PS/2; especialmente se a device de
	    controle for do tipo ALPS GlidePoint.</p><p>Na versão 2.2.6 e posteriores, a
	    verificação de sincronia se tornou
	    razoávelmente melhor, e é padrão nos
	    mouses PS/2.  Deve funcionar corretamente com GlidePoint,
	    inclusive (como o código de
	    verificação de sincronia ter se tornado
	    padrão, a opção PSM_CHECKSYNC
	    não existe mais).  Contudo, em
	    situações muito raras, o driver de controle
	    do mouse pode, errôneamente reportar problemas de
	    sincronização, mostrando a seguinte mensagem
	    do <span class="foreignphrase"><em class="foreignphrase">kernel</em></span>:</p><pre class="programlisting">psmintr: out of sync (xxxx != yyyy)</pre><p>Pensando que seu mouse não está
	    funcionando corretamente.</p><p>Se for o caso, desligue o código de
	    verificação de sincronia do mouse PS/2,
	    definindo a flag 0x100 na device de controle do mesmo.
	    Entre no modo <span class="emphasis"><em>UserConfig</em></span> definindo a
	    opção <code class="option">-c</code> na tela do
	    processo de inicialização:</p><pre class="screen">boot: <strong class="userinput"><code>-c</code></strong></pre><p>Depois, na linha de comando do
	    <span class="emphasis"><em>UserConfig</em></span>, digite:</p><pre class="screen">UserConfig&gt; <strong class="userinput"><code>flags psm0 0x100</code></strong>
UserConfig&gt; <strong class="userinput"><code>quit</code></strong></pre></td></tr><tr class="question"><td align="left" valign="top"><a id="idp67289808"></a><a id="ps2-mousesystems"></a><p><strong>11.12.</strong></p></td><td align="left" valign="top"><p>Por que meu mouse PS/2 da MouseSystems não
	    funciona?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Existem notícias que alguns modelos de mouse
	    PS/2 da MouseSystems funcionam corretamente apenas em modo
	    de alta resolução.  Do contrário, o
	    cursor do mouse costuma pular para diagonal superior
	    esquerda da tela com certa frequência.</p><p>Infelizmente não existe solução
	    à esse problema, nas versões 2.0.X e 2.1.X.
	    Contudo, das versões 2.2 à 2.2.5, basta
	    aplicar o seguinte patch, no
	    <code class="filename">/sys/i386/isa/psm.c</code> e recompilar o
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span>.  Veja a
	    seção sobre <a class="link" href="#make-kernel" title="8.1.">
	      compilação do
	      <span class="foreignphrase"><em class="foreignphrase">kernel</em></span></a> caso
	    não tenha experiência com o assunto.</p><pre class="programlisting">@@ -766,6 +766,8 @@
     if (verbose &gt;= 2)
         log(LOG_DEBUG, "psm%d: SET_DEFAULTS return code:%04x\n",
             unit, i);
+    set_mouse_resolution(sc-&gt;kbdc, PSMD_RES_HIGH);
+
 #if 0
     set_mouse_scaling(sc-&gt;kbdc);        /* 1:1 scaling */
     set_mouse_mode(sc-&gt;kbdc);                /* stream mode */</pre><p>Na versão 2.2.6 e versões posteriores,
	    basta especificar a flag 0x04 para device de controle do
	    mouse PS/2, colocando-o em modo de alta
	    resolução.  Entre no modo
	    <span class="emphasis"><em>UserConfig</em></span> com a opçãp
	    <code class="option">-c</code> na tela do processo de
	    inicialização:</p><pre class="screen">boot: <strong class="userinput"><code>-c</code></strong></pre><p>Depois, na linha de comando do
	    <span class="emphasis"><em>UserConfig</em></span> digite:</p><pre class="screen">UserConfig&gt; <strong class="userinput"><code>flags psm0 0x04</code></strong>
UserConfig&gt; <strong class="userinput"><code>quit</code></strong></pre><p>Veja a pergunta anterior, sobre outra causa
	    possível de problemas com o mouse.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp67302480"></a><a id="imake-tmpl"></a><p><strong>11.13.</strong></p></td><td align="left" valign="top"><p>Ao compilar uma aplicação X, o
	    <code class="command">imake</code> não consegue encontrar o
	    <code class="filename">Imake.tmpl</code>.  Onde ele
	    está?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>O <code class="filename">Imake.tmpl</code> é parte do
	    pacote Imake, uma aplicação padrão
	    para construção de aplicações
	    gráficas.  O <code class="filename">Imake.tmpl</code>, assim
	    como vários outros arquivos de cabeçalhos
	    necessários para compilar aplicações
	    gráficas, é parte da
	    distribuição do X.  Eles podem ser
	    instalados pelo sysinstall ou manualmente a partir dos
	    arquivos da distribuição.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp67338960"></a><a id="xfree86-version"></a><p><strong>11.14.</strong></p></td><td align="left" valign="top"><p>Estou construindo uma aplicação
	    gráfica que depende do XFree86 3.3.X, mas eu estou
	    com o XFree86 4.X instalado.  O que fazer?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Pra definir que a construção do
	    <code class="literal">Port</code> deve ser linkada às
	    bibliotecas do XFree86 4.X, adicione o seguinte, no seu
	    <code class="filename">/etc/make.conf</code>, (se o arquivo
	    não existir, crie-o):</p><pre class="programlisting">XFREE86_VERSION=	4</pre></td></tr><tr class="question"><td align="left" valign="top"><a id="idp67342160"></a><a id="mouse-button-reverse"></a><p><strong>11.15.</strong></p></td><td align="left" valign="top"><p>Como posso inverter as funções dos
	    botões do mouse?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Execute o comando <code class="command">xmodmap -e "pointer = 3 2
	      1"</code> à partir do
	    <code class="filename">.xinitrc</code> ou do
	    <code class="filename">.xsession</code>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp67345488"></a><a id="install-splash"></a><p><strong>11.16.</strong></p></td><td align="left" valign="top"><p>Como instalar uma Splash Screen e onde posso
	    encontra-las?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>A partir da lançamento do FreeBSD 3.1, uma nova
	    característica foi adicionada ao sistema,
	    permitindo que alguns arquivos de imagens sejam usados
	    como <span class="quote">&#8220;<span class="quote">Splash Screens</span>&#8221;</span> durante as mensagens do
	    processo de inicialização.  Tais imagens
	    devem ser arquivos do tipo bitmap com 256 cores
	    (<code class="filename">*.BMP</code>) ou então ZSoft PCX
	    (<code class="filename">*.PCX</code>).  Devem ainda ter
	    resolução de 320x200 pixels (ou menos), para
	    funcionarem corretamente em adaptadores de vídeo
	    VGA tradicionais.  Caso o
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> tenha sido compilado
	    com suporte à VESA, então podem ser usados
	    bitmaps maiores, até 1024.768 px.  O suporte
	    à VESA pode ser diretamente compilado no
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span>, com a
	    opção VESA no arquivo de
	    configuração, ou carregado como
	    módulo, com o kld, durante o processo de
	    inicialização do sistema.</p><p>Para definir a <span class="quote">&#8220;<span class="quote">Splash Screens</span>&#8221;</span>, basta
	    modificar alguns arquivos de inicialização
	    que controlam o processo de inicialização do
	    FreeBSD.  Tais arquivos foram alterados na versão
	    3.2 do FreeBSD, existindo portanto duas formas de carregar
	    uma <span class="quote">&#8220;<span class="quote">Splash Screens</span>&#8221;</span>:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>No FreeBSD 3.1</p><p>O primeiro passo é escolher o seu bitmap, e
		sua versão.  Até o FreeBSD 3.1, apenas
		os bitmaps do tipo Windows eram suportados.  Assim que
		escolher (ou criar) sua <span class="quote">&#8220;<span class="quote">Splash Screens</span>&#8221;</span>,
		copie-a para <code class="filename">/boot/splash.bmp</code>.
		Depois, basta editar (ou criar, caso não
		exista) o arquivo <code class="filename">/boot/loader.rc</code>
		e adicionar as seguintes linhas:</p><pre class="programlisting">load kernel
load -t splash_image_data /boot/splash.bmp
load splash_bmp
autoboot</pre></li><li class="listitem"><p>No FreeBSD 3.2 e posteriores</p><p>Além de adicionar suporte a <span class="quote">&#8220;<span class="quote">Splash
		  Screens</span>&#8221;</span> de formato PCX, o FreeBSD 3.2 passou
		a oferecer uma maneira mais interessante de configurar
		o processo de inicialização.  Caso
		prefira, o método descrito acima, para o
		FreeBSD 3.1 também funciona.  Nesse caso, se a
		imagem for do tipo PCX basta substituir a entrada
		<code class="literal">splash_bmp</code> por
		<code class="literal">splash_pcx</code>.  Caso queira usar a
		nova configuração do processo de
		inicialização, basta criar um arquivo
		<code class="filename">/boot/loader.rc</code> com o seguinte
		conteúdo:</p><pre class="programlisting">include /boot/loader.4th
start</pre><p>e depois, um
		<code class="filename">/boot/loader.conf</code> com o
		seguinte:</p><pre class="programlisting">splash_bmp_load="YES"
bitmap_load="YES"</pre><p>Essa configuração assume que o
		<code class="filename">/boot/splash.bmp</code> deve ser usado
		como sua <span class="quote">&#8220;<span class="quote">Splash Screens</span>&#8221;</span>.  Caso prefira
		usar um arquivo PCX, copie para o
		<code class="filename">/boot/splash.pcx</code>, e crie um
		<code class="filename">/boot/loader.rc</code>, da forma como
		foi indicado anteriormente; depois crie um
		<code class="filename">/boot/loader.conf</code> com o
		seguinte:</p><pre class="programlisting">splash_pcx_load="YES"
bitmap_load="YES"
bitmap_name="/boot/splash.pcx"</pre></li></ul></div><p>Agora você só precisa de uma imagem, para
	    servir de <span class="quote">&#8220;<span class="quote">Splash Screens</span>&#8221;</span>.  Pra isso,
	    dê uma navegada na galeria disponível em
	    <a class="link" href="http://www.baldwin.cx/splash/" target="_top">http://www.baldwin.cx/splash/</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp67390928"></a><a id="windows-keys"></a><p><strong>11.17.</strong></p></td><td align="left" valign="top"><p>Posso usar as teclas do Windows® que meu teclado
	    possui, sob o X?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Pode.  Basta usar o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=xmodmap&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">xmodmap</span>(1)</span></a> para redefinir a
	    função das teclas.</p><p>Assumindo que todos os teclados <span class="quote">&#8220;<span class="quote"><span class="trademark">Windows</span>®</span>&#8221;</span> sejam
	    padrão, os códigos de mapeamento pras 3
	    teclas são:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>115 - <span class="trademark">Windows</span>®, entre a
		tecla Ctr e a Alt do lado esquerdo.</p></li><li class="listitem"><p>116 - <span class="trademark">Windows</span>®, à
		direita a tecla AltGr.</p></li><li class="listitem"><p>117 - <span class="keycap"><strong>Menu</strong></span>, do lado esquerdo da
		tecla Ctrl esquerda</p></li></ul></div><p>Por exemplo, para fazer com que a tecla Windows®
	    esquerda imprima uma vírgula, faça o
	    seguinte:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>xmodmap -e "keycode 115 = comma"</code></strong></pre><p>É provável que seu gerenciador de
	    janelas tenha que ser reiniciado, para visualizar o
	    resultado.</p><p>Pra forçar o carregamento automático do
	    mapeamento das teclas <span class="trademark">Windows</span>®, coloque os
	    comandos do <code class="command">xmodmap</code> no arquivo
	    <code class="filename">~/.xinitrc</code> ou de preferência,
	    crie um arquivo <code class="filename">~/.xmodmaprc</code> e inclua
	    as opções do <code class="command">xmodmap</code> uma
	    por linha, nesse arquivo.  Depois adicione:</p><pre class="programlisting">xmodmap $HOME/.xmodmaprc</pre><p>No seu <code class="filename">~/.xinitrc</code>.</p><p>Por exemplo, pode-se mapear as 3 teclas em
	    questão para fazer o papel das teclas
	    <span class="keycap"><strong>F13</strong></span>, <span class="keycap"><strong>F14</strong></span>, e
	    <span class="keycap"><strong>F15</strong></span>, respectivamente.  Dessa forma, seria
	    fácil mapear as aplicações de forma
	    que as teclas tivessem ações no seu sistema,
	    como veremos agora.</p><p>Adicione o seguinte conteúdo, no arquivo
	    <code class="filename">~/.xmodmaprc</code>.</p><pre class="programlisting">keycode 115 = F13
keycode 116 = F14
keycode 117 = F15</pre><p>Se o gerenciador de janelas em questão for o
	    <code class="command">fvwm2</code>, por exemplo, pode-se mapear as
	    teclas de forma que o <span class="keycap"><strong>F13</strong></span> minimize (ou
	    maximize) a janela que o cursor está apontando, a
	    tecla <span class="keycap"><strong>F14</strong></span> de forma que ela traga a janela
	    marcada pelo cursor para frente (ou volte para
	    trás, caso já esteja à frente), e o
	    <span class="keycap"><strong>F15</strong></span> pode alternar o menu da área
	    detrabalho principal, o que é bem útil
	    quando a tela não é visível.</p><p>As seguintes definições no
	    <code class="filename">~/.fvwmrc</code> implementam a
	    configuração acima descrita:</p><pre class="programlisting">Key F13	FTIWS    A	Iconify
Key F14        FTIWS    A        RaiseLower
Key F15        A        A        Menu Workplace Nop</pre></td></tr><tr class="question"><td align="left" valign="top"><a id="idp67422800"></a><a id="x-3d-acceleration"></a><p><strong>11.18.</strong></p></td><td align="left" valign="top"><p>Como posso obter a aceleração de
	    equipamentos 3D para o OpenGL?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>A disponibilidade da aceleração 3D
	    depende da versão do XFree86 e da placa de
	    vídeo.  Caso a placa seja NVIDIA, verifique a
	    página da <a class="link" href="http://nvidia.netexplorer.org/" target="_top">Iniciativa de
	      Driver NVIDIA para o FreeBSD</a>, que discute a
	    aceleração 3D em chips NVIDIA com XFree86-4.
	    Pra outras placas em conjunto com o XFree86-4, incluindo a
	    Matrox G200/G400, a ATI Rage 128/Radeon, as 3dfx Voodoo 3,
	    4, 5, e Banshee, refira-se à página sobre
	    <a class="link" href="http://gladstone.uoregon.edu/~eanholt/dri/" target="_top">Renderização
	      Direta do XFree86-4 no FreeBSD</a>.  Usuários
	    do XFree86 na versão 3.3 podem usar o
	    <code class="literal">port</code> do Utah-GLX que pode ser
	    encontrado em <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/graphics/utah-glx/pkg-descr">graphics/utah-glx</a> para
	    conseguir alguma (limitada) aceleração 3D
	    para o OpenGL em placas Matrox Gx00, ATI Rage Pro, SiS
	    6326, i810, Savage, e algumas NVIDIA antigas.</p></td></tr></tbody></table></div></div><div class="chapter"><div xmlns="" class="titlepage"><div><div><h1 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="networking"></a>Capítulo 12. Redes</h1></div></div></div><div class="qandaset"><a id="idp67427792"></a><dl><dt>12.1. <a href="#idp67428048">Onde obter informações a respeito do
	    processo de processo de inicialização sem
	    disco rígido (diskless
	      booting)?</a></dt><dt>12.2. <a href="#idp67447760">Um sistema FreeBSD pode ser utilizado como roteador
	    dedicado para uma rede?</a></dt><dt>12.3. <a href="#idp67450832">Posso conectar minha máquina com Win95 à
	    Internet, através do meu FreeBSD?</a></dt><dt>12.4. <a href="#idp67460688">O FreeBSD suporta SLIP e PPP?</a></dt><dt>12.5. <a href="#idp67478992">O FreeBSD suporta NAT ou Masquerading?</a></dt><dt>12.6. <a href="#idp67486544">Como posso conectar duas estações
	    FreeBSD por linha paralela, usando o PLIP?</a></dt><dt>12.7. <a href="#idp67489104">Por que eu não posso criar um dispositivo
	    /dev/ed0?</a></dt><dt>12.8. <a href="#idp67492048">Como eu configuro aliases (apelidos) de
	    Ethernet?</a></dt><dt>12.9. <a href="#idp67501776">Como eu configuro minha placa 3Com 3C503 para utilizar
	    outra interface de conexão ?</a></dt><dt>12.10. <a href="#idp67506512">Por que eu tenho problemas com NFS no FreeBSD?</a></dt><dt>12.11. <a href="#idp67513680">Por que não é possível montar
	    sistemas de arquivos NFS de máquinas Linux?</a></dt><dt>12.12. <a href="#idp67516624">Por que não é possível montar
	    sistemas de arquivos NFS de máquinas Sun?</a></dt><dt>12.13. <a href="#idp67560656">Por que o mountd informa
	    repetidamente que can't change
	      attributes e bad exports
	      list utilizando o servidor de NFS do
	    FreeBSD?</a></dt><dt>12.14. <a href="#idp67566032">Por que existem problemas na comunicação
	    (via protocolo PPP) com máquinas NeXTStep?</a></dt><dt>12.15. <a href="#idp67574224">Como habilitar o suporte a IP multicast?</a></dt><dt>12.16. <a href="#idp67582160">Quais interfaces de rede são baseadas no
	    chipset DEC PCI?</a></dt><dt>12.17. <a href="#idp67614928">Por que preciso utilizar um FQDN (Nomes de
	    domínio completamente qualificados) pras
	    estações da minha rede?</a></dt><dt>12.18. <a href="#idp67625808">Por que obtenho o erro, Permission
	      denied, para todas as
	    operações de rede?</a></dt><dt>12.19. <a href="#idp67632976">Qual o acréscimo de sobrecarga ocasionado pelo
	    IPFW?</a></dt><dt>12.20. <a href="#idp67636176">Minha regra de fwd do IPFW, que deveria redirecionar
	    um serviço para outra estação,
	    não está funcionando.  Por que?</a></dt><dt>12.21. <a href="#idp67648592">Como redirecionar requisições de
	    serviço de uma máquina para outra?</a></dt><dt>12.22. <a href="#idp67657808">Onde obtenho uma ferramenta de gerenciamento de
	    banda?</a></dt><dt>12.23. <a href="#idp67662544">O que causa o erro /dev/bpf0: device not
	      configured?</a></dt><dt>12.24. <a href="#idp67669840">Como montar o disco de uma estação
	    Windows na minha rede, de forma semelhante ao smbmount em
	    sistemas Linux?</a></dt><dt>12.25. <a href="#idp67677776">O que são as mensagens sobre
	    &#8220;icmp-response bandwidth limit 300/200 pps&#8221;
	    em meus registros de logs?</a></dt><dt>12.26. <a href="#idp67688656">Do que se trata estas mensagens de erro
	    arp: unknown hardware address
	      format?</a></dt><dt>12.27. <a href="#idp67691216">Acabei de instalar o CVSup, mas ao tentar usá-lo,
	    aparecem erros.  O que está havendo?</a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%" /><col /></colgroup><tbody><tr class="question"><td align="left" valign="top"><a id="idp67428048"></a><a id="diskless-booting"></a><p><strong>12.1.</strong></p></td><td align="left" valign="top"><p>Onde obter informações a respeito do
	    processo de processo de inicialização sem
	    disco rígido (<span class="foreignphrase"><em class="foreignphrase">diskless
	      booting</em></span>)?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>O processo de processo de inicialização
	    sem disco implica na possibilidade de uma máquina
	    FreeBSD ser inicializada através da rede, lendo os
	    arquivos necessários à partir de um
	    servidor, ao invés de um disco rígido.  Para
	    maiores detalhes, por favor, consulte o ítem <a class="link" href="../handbook/diskless.html" target="_top"><span class="foreignphrase"><em class="foreignphrase">diskless
		booting</em></span> no
	      Manual do FreeBSD</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp67447760"></a><a id="router"></a><p><strong>12.2.</strong></p></td><td align="left" valign="top"><p>Um sistema FreeBSD pode ser utilizado como roteador
	    dedicado para uma rede?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Pode.  Por gentileza, refira-se à <a class="link" href="../handbook/routing.html" target="_top">documentação
	      do Manual do FreeBSD sobre configurações
	      avançadas de rede</a>, mais especificamente,
	    a seção sobre <a class="link" href="../handbook/routing.html#DEDICATED-ROUTER" target="_top">roteamento
	      e gateways</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp67450832"></a><a id="win95-connection"></a><p><strong>12.3.</strong></p></td><td align="left" valign="top"><p>Posso conectar minha máquina com Win95 à
	    Internet, através do meu FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Normalmente, as pessoas que propõem esse tipo
	    de questão possuem dois computadores em casa, um
	    com FreeBSD e outro com Win95.  A idéia é
	    utilizar a maquina com FreeBSD para se conectar à
	    Internet, e então oferecer acesso Internet a
	    máquina Win95 através do FreeBSD.  Essa
	    é apenas uma extensão especial da
	    questão anterior.</p><p>... e a resposta é sim!  No FreeBSD 3.x, o
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> em modo usuário oferece a
	    opção <code class="option">-nat</code>.  Se o
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> for executado com essa opção,
	    basta definir a variável
	    <code class="literal">gateway_enable</code> para
	    <span class="emphasis"><em>YES</em></span> no arquivo
	    <code class="filename">/etc/rc.conf</code>, e configurar
	    corretamente a máquina Windows.  Isso é o
	    bastante.</p><p>Para obter mais informações, por
	    gentileza, refira-se a página de manual do
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a></p><p>Se o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> estiver sendo usado em modo
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span>
	    (<span class="foreignphrase"><em class="foreignphrase">kernel-mode</em></span>) ou a
	    conexão com a Internet for via Ethernet, a
	    opção mais viável será
	    utilizar o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=natd&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">natd</span>(8)</span></a>.  Por favor, consulte a
	    seção <a class="link" href="#natd" title="12.5.">natd</a> dessa
	    documentação.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp67460688"></a><a id="slip-ppp-support"></a><p><strong>12.4.</strong></p></td><td align="left" valign="top"><p>O FreeBSD suporta SLIP e PPP?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Claro.  Veja as páginas de manual do
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=slattach&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">slattach</span>(8)</span></a>, <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sliplogin&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sliplogin</span>(8)</span></a>, <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a>, e
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pppd&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">pppd</span>(8)</span></a>.  O <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> e o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pppd&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">pppd</span>(8)</span></a> oferecem
	    suporte à conexões entrantes e de
	    saída (conexões incoming/outgoing), enquanto
	    o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=slattach&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">slattach</span>(8)</span></a> à conexões de
	    saída (outgoing).</p><p>Para obter mais informações sobre a
	    correta utilização desses recursos, por
	    gentileza, refira-se ao Capítulo sobre <a class="link" href="../handbook/ppp-and-slip.html" target="_top">PPP e SLIP do
	      Manual do FreeBSD</a>.</p><p>Se o seu acesso à Internet for apenas por meio
	    de uma conta Shell, pode ser interessante dar uma olhada
	    no <code class="literal">port</code> da aplicação
	    <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/net/slirp/pkg-descr">net/slirp</a>.  Esse
	    <code class="literal">port</code> oferece acesso (limitado) à
	    serviços como FTP e HTTP direto da máquina
	    local.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp67478992"></a><a id="natd"></a><p><strong>12.5.</strong></p></td><td align="left" valign="top"><p>O FreeBSD suporta NAT ou Masquerading?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Se no seu caso, existe uma subrede (uma ou mais
	    máquinas locais interconectadas em rede), mas o seu
	    Provedor de Internet disponibiliza apenas um IP (ou se o
	    endereço IP em questão é
	    dinâmico), com certeza é interessante dar uma
	    olhada no <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=natd&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">natd</span>(8)</span></a>.  O <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=natd&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">natd</span>(8)</span></a> possibilita que
	    uma subrede inteira acesse a Internet através de um
	    único endereço IP.</p><p>O <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> oferece suporte interno à essa
	    mesma funcionalidade, através da
	    opção <code class="option">-nat</code> do programa.  A
	    biblioteca <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=libalias&amp;sektion=3"><span class="citerefentry"><span class="refentrytitle">libalias</span>(3)</span></a> é usada tanto pelo
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> quanto pelo <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=natd&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">natd</span>(8)</span></a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp67486544"></a><a id="parallel-connect"></a><p><strong>12.6.</strong></p></td><td align="left" valign="top"><p>Como posso conectar duas estações
	    FreeBSD por linha paralela, usando o PLIP?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Por gentileza, refira-se à seção
	    sobre <a class="link" href="../handbook/plip.html" target="_top">PLIP do
	      Manual do FreeBSD</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp67489104"></a><a id="create-dev-net"></a><p><strong>12.7.</strong></p></td><td align="left" valign="top"><p>Por que eu não posso criar um dispositivo
	    /dev/ed0?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Porque não é preciso!  Na estrutura de
	    redes de Berkeley, as interfaces de rede são
	    acessadas somente (e diretamente) pelo código do
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span>.  Por favor
	    verifique o arquivo <code class="filename">/etc/rc.network</code> e
	    as páginas do manual para os diversos programas de
	    rede ali mencionados, para maiores
	    informações.  Se isto deixá-lo
	    completamente confuso, consulte um livro que descreva a
	    administração de rede em um outro sistema
	    operacional baseado no modelo BSD.  Com poucas
	    exceções significativas, a
	    administração de rede em sistemas FreeBSD
	    é basicamente a mesma da utilizada em sistemas como
	    o SunOS 4.0 ou o Ultrix.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp67492048"></a><a id="ethernet-aliases"></a><p><strong>12.8.</strong></p></td><td align="left" valign="top"><p>Como eu configuro aliases (apelidos) de
	    Ethernet?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Se a intenção é definir um
	    apelido IP para uma subrede previamente configurada, basta
	    adicionar a máscara <code class="literal">0xffffffff</code>
	    junto à sintaxe usual para definição
	    de alias no <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ifconfig&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ifconfig</span>(8)</span></a>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ifconfig ed0 alias 192.0.2.2 netmask 0xffffffff</code></strong></pre><p>Do contrário, basta definir o endereço
	    de rede e a netmask em questão, da forma
	    tradicional:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ifconfig ed0 alias 172.16.141.5 netmask 0xffffff00</code></strong></pre></td></tr><tr class="question"><td align="left" valign="top"><a id="idp67501776"></a><a id="port-3c503"></a><p><strong>12.9.</strong></p></td><td align="left" valign="top"><p>Como eu configuro minha placa 3Com 3C503 para utilizar
	    outra interface de conexão ?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Se você deseja utilizar uma outra interface de
	    conexão, deverá especificar alguns
	    parâmetros adicionais na linha de comando do
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ifconfig&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ifconfig</span>(8)</span></a>.  A porta padrão é a
	    <code class="literal">link0</code>.  Para usar a porta AUI ao
	    invés da porta BNC utilize a flag
	    <code class="literal">link2</code>.  Tais flags devem ser definidas
	    através das variáveis ifconfig_*  no arquivo
	    <code class="filename">/etc/rc.conf</code>.  (consulte o
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=rc.conf&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">rc.conf</span>(5)</span></a>).</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp67506512"></a><a id="nfs"></a><p><strong>12.10.</strong></p></td><td align="left" valign="top"><p>Por que eu tenho problemas com NFS no FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Certas interfaces de rede para PC são melhores
	    do que outras (para adotarmos um eufemismo) e as vezes
	    podem causar problemas em aplicações que
	    utilizam a rede de modo intensivo, como o NFS.</p><p>Consulte o item <a class="link" href="../handbook/nfs.html" target="_top">NFS</a> do
	    Manual do FreeBSD para obter mais
	    informações sobre o assunto.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp67513680"></a><a id="nfs-linux"></a><p><strong>12.11.</strong></p></td><td align="left" valign="top"><p>Por que não é possível montar
	    sistemas de arquivos NFS de máquinas Linux?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Algumas versões do código NFS do Linux
	    aceitam requisições de montagem provenientes
	    apenas de portas privilegiadas, experimente o
	    comando:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mount -o -P linuxbox:/blah /mnt</code></strong></pre></td></tr><tr class="question"><td align="left" valign="top"><a id="idp67516624"></a><a id="nfs-sun"></a><p><strong>12.12.</strong></p></td><td align="left" valign="top"><p>Por que não é possível montar
	    sistemas de arquivos NFS de máquinas Sun?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Estações de trabalho Sun rodando SunOS
	    4.X aceitam requisições de montagem
	    provenientes apenas de portas privilegiadas, experimente o
	    comando:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mount -o -P sunbox:/blah /mnt</code></strong></pre></td></tr><tr class="question"><td align="left" valign="top"><a id="idp67560656"></a><a id="exports-errors"></a><p><strong>12.13.</strong></p></td><td align="left" valign="top"><p>Por que o <code class="command">mountd</code> informa
	    repetidamente que <span class="errorname">can't change
	      attributes</span> e <span class="errorname">bad exports
	      list</span> utilizando o servidor de NFS do
	    FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>O problema mais freqüente é o não
	    entendimento correto do formato do arquivo
	    <code class="filename">/etc/exports</code>.  Por gentileza, leia
	    com atenção a página de manual do
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=exports&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">exports</span>(5)</span></a> e a documentação sobre
	    <a class="link" href="../handbook/nfs.html" target="_top">NFS</a> no
	    Manual do FreeBSD, especialmente a seção
	    sobre a <a class="link" href="../handbook/nfs.html#CONFIGURING-NFS" target="_top">configuração
	      do NFS</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp67566032"></a><a id="ppp-nextstep"></a><p><strong>12.14.</strong></p></td><td align="left" valign="top"><p>Por que existem problemas na comunicação
	    (via protocolo PPP) com máquinas NeXTStep?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Experimente desabilitar a variável TCP
	    extensions no arquivo <code class="filename">/etc/rc.conf</code>
	    (consulte <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=rc.conf&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">rc.conf</span>(5)</span></a>) alterando a variável
	    abaixo para NO:</p><pre class="programlisting">tcp_extensions=NO</pre><p>Máquinas Annex da Xylogic também
	    apresentam um problema similar neste aspecto, e você
	    deve adotar a mesma solução para conectar-se
	    a estes sistemas.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp67574224"></a><a id="ip-multicast"></a><p><strong>12.15.</strong></p></td><td align="left" valign="top"><p>Como habilitar o suporte a IP multicast?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Desde o FreeBSD 2.0 que operações
	    Multicast são completamente suportadas por
	    padrão.  Se a itenção é fazer
	    o sistema FreeBSD atuar como um roteador multicast,
	    será necessário que o
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> do sistema seja
	    recompilado com a opção
	    <code class="literal">MROUTING</code> e que o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mrouted&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mrouted</span>(8)</span></a> seja
	    executado.  O FreeBSD, à partir da versão
	    2.2, pode iniciar o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mrouted&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mrouted</span>(8)</span></a> durante o processo de
	    inicialização se a variável
	    <code class="literal">mrouted_enable</code> estiver configurada com
	    o parâmetro <code class="literal">"YES"</code> no arquivo
	    <code class="filename">/etc/rc.conf</code>.</p><p>As ferramentas MBONE estão disponíveis
	    em sua própria categoria na coleção
	    de <code class="literal">ports</code>, <a class="link" href="http://www.FreeBSD.org/ports/mbone.html" target="_top">mbone</a>.
	    Se você está procurando as ferramentas de
	    conferência <code class="command">vic</code> e
	    <code class="command">vat</code>, procure neste
	    diretório!</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp67582160"></a><a id="dec-pci-chipset"></a><p><strong>12.16.</strong></p></td><td align="left" valign="top"><p>Quais interfaces de rede são baseadas no
	    chipset DEC PCI?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Esta é uma lista compilada por Glen Foster
	    <code class="email">&lt;<a xmlns="" class="email" href="mailto:gfoster@driver.nsta.org">gfoster@driver.nsta.org</a>&gt;</code>, com algumas
	    adições recentes:</p><div class="table"><a id="idp67584464"></a><div class="table-title">Tabela 12.1. Interfaces de rede baseadas no chipset DEC
	      PCI</div><div class="table-contents"><table summary="Interfaces de rede baseadas no chipset DEC&#10;&#9;      PCI" border="1"><colgroup><col /><col /></colgroup><thead><tr><th>Vendedor</th><th>Modelo</th></tr></thead><tbody><tr><td>ASUS</td><td>PCI-L101-TB</td></tr><tr><td>Accton</td><td>ENI1203</td></tr><tr><td>Cogent</td><td>EM960PCI</td></tr><tr><td>Compex</td><td>ENET32-PCI</td></tr><tr><td>D-Link</td><td>DE-530</td></tr><tr><td>Dayna</td><td>DP1203, DP2100</td></tr><tr><td>DEC</td><td>DE435, DE450</td></tr><tr><td>Danpex</td><td>EN-9400P3</td></tr><tr><td>JCIS</td><td>Condor JC1260</td></tr><tr><td>Linksys</td><td>EtherPCI</td></tr><tr><td>Mylex</td><td>LNP101</td></tr><tr><td>SMC</td><td>EtherPower 10/100 (Model 9332)</td></tr><tr><td>SMC</td><td>EtherPower (Model 8432)</td></tr><tr><td>TopWare</td><td>TE-3500P</td></tr><tr><td>Znyx (2.2.x)</td><td>ZX312, ZX314, ZX342, ZX345, ZX346,
		    ZX348</td></tr><tr><td>Znyx (3.x)</td><td>ZX345Q, ZX346Q, ZX348Q, ZX412Q, ZX414, ZX442,
		    ZX444, ZX474, ZX478, ZX212, ZX214
		    (10mbps/hd)</td></tr></tbody></table></div></div><br class="table-break" /></td></tr><tr class="question"><td align="left" valign="top"><a id="idp67614928"></a><a id="fqdn-hosts"></a><p><strong>12.17.</strong></p></td><td align="left" valign="top"><p>Por que preciso utilizar um FQDN (Nomes de
	    domínio completamente qualificados) pras
	    estações da minha rede?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Provavelmente você vai estar trabalhando com
	    estações em domínios diferentes.  Por
	    exemplo, se você esta em foo.bar.edu e deseja
	    alcançar uma estação chamada
	    <code class="systemitem">mumble</code> no domínio <code class="systemitem">foo.bar.edu</code>, deverá
	    referir-se à essa esse host através do seu
	    nome de domínio qualificado, <code class="systemitem">mumble.foo.bar.edu</code>, ao invés
	    de apenas <code class="systemitem">mumble</code>.</p><p>Normalmente era possível alcançar a
	    estação apenas por seu nome.  Essa
	    função era realizada pelos resolvedores BIND
	    do ISC.  Contudo, as versões atuais do
	    <span class="application">BIND</span> (veja o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=named&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">named</span>(8)</span></a>) que
	    acompanham o FreeBSD não oferecem mais
	    abreviações padrão para
	    domínios que não sejam FQDN, com a
	    única exceção do domínio que
	    sua própria estação faz parte.  Dessa
	    forma, o host <code class="systemitem">mumble</code>, se não for
	    localizado como <code class="systemitem">mumble.foo.bar.edu</code>, será
	    localizado através de uma busca direta à
	    partir da raiz dos servidores de
	    resolução.</p><p>Este comportamento é diferente do verificado
	    anteriormente onde a pesquisa continuaria através
	    de <code class="systemitem">mumble.bar.edu</code> e
	    <code class="systemitem">mumble.edu</code>.  Consulte a
	    RFC 1535 para descobrir porque isso é considerado
	    uma prática ruím, e até mesmo uma
	    brecha de segurança.</p><p>Uma alternativa é adicionar a linha
	    abaixo:</p><pre class="programlisting">search foo.bar.edu bar.edu</pre><p>ao invés da linha previamente existente</p><pre class="programlisting">domain foo.bar.edu</pre><p>em seu arquivo <code class="filename">/etc/resolv.conf</code>
	    (consulte <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=resolv.conf&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">resolv.conf</span>(5)</span></a>).  Contudo verifique se a
	    ordem de pesquisa não vai além da fronteira
	    entre a administração pública e a
	    local, conforme definido na RFC 1535.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp67625808"></a><a id="network-permission-denied"></a><p><strong>12.18.</strong></p></td><td align="left" valign="top"><p>Por que obtenho o erro, <span class="errorname">Permission
	      denied</span>, para todas as
	    operações de rede?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Se o <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> do seu
	    FreeBSD foi compilado com a opção
	    <code class="literal">IPFIREWALL</code>, você deve compreender
	    que a política padrão, à partir da
	    versão 2.1.7 (atualmente alterada durante o
	    desenvolvimento da versão 2.1-STABLE) é
	    negar todos os pacotes que não forem explicitamente
	    permitidos.</p><p>A seu firewall foi erroneamente configurado, de forma
	    não intencional, a operacionalidade do sistema pode
	    ser restaurada, simplesmente digitando o seguinte
	    (conectado como <code class="systemitem">root</code>):</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ipfw add 65534 allow all from any to any</code></strong></pre><p>A variável
	    <code class="literal">firewall_type="open"</code> também pode
	    ser definida, no arquivo
	    <code class="filename">/etc/rc.conf</code>.</p><p>Para maiores informações sobre a
	    configuração de firewall, por gentileza,
	    consulte a seção correspondente no <a class="link" href="../handbook/firewalls.html" target="_top">Manual do FreeBSD</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp67632976"></a><a id="ipfw-overhead"></a><p><strong>12.19.</strong></p></td><td align="left" valign="top"><p>Qual o acréscimo de sobrecarga ocasionado pelo
	    IPFW?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Por gentileza, refira-se ao capítulo sobre
	    <a class="link" href="../handbook/firewalls.html" target="_top">Firewalls</a>
	    do Manual do FreeBSD mais específicamente, a
	    seção sobre <a class="link" href="../handbook/firewalls.html#IPFW-OVERHEAD" target="_top">Overhead
	      &amp; Otimização do IPFW</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp67636176"></a><a id="ipfw-fwd"></a><p><strong>12.20.</strong></p></td><td align="left" valign="top"><p>Minha regra de fwd do IPFW, que deveria redirecionar
	    um serviço para outra estação,
	    não está funcionando.  Por que?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Provavelmente porque a verdadeira
	    intenção é traduzir os pacotes que
	    chegam na sua estação, e rescrevê-los
	    para renviar para a outra máquina, e não
	    simplesmente redirecionar o pacote.  Normalmente o ideal
	    é fazer NAT (tradução de
	    endereços de rede).  Uma regra de reenvio de
	    pacotes, faz exatamente o que ela deve fazer: reenviar
	    pacotes.  As regras não alteram (rescrevem) o
	    conteúdo ou cabeçalhos dos dados presentes
	    no pacote.  Por exemplo, digamos que a questão seja
	    a seguinte regra:</p><pre class="screen">01000 fwd <em class="replaceable"><code>10.0.0.1</code></em> from any to <em class="replaceable"><code>foo 21</code></em></pre><p>Quando um pacote destinado à
	    estação <em class="replaceable"><code>foo</code></em>
	    chegar no FreeBSD que filtra essa regra, ele será
	    encaminhado para a máquina cujo endereço IP
	    é <em class="replaceable"><code>10.0.0.1</code></em>, mas o
	    endereço de destino original do pacote será
	    mantido, ou seja, os pacotes chegando em
	    <em class="replaceable"><code>10.0.0.1</code></em> ainda terão a
	    estação <em class="replaceable"><code>foo</code></em> como
	    destino final, marcado em seu cabeçalho TCP.  O
	    endereço de destino não é alterado
	    (reescrito) para a máquina
	    <em class="replaceable"><code>10.0.0.1</code></em>, o que propicia um
	    comportamento de verificação de checksum do
	    cabeçalho IP.  O comportamento normal é que
	    a máquina <em class="replaceable"><code>10.0.0.1</code></em>
	    descarte o pacote, já que o endereço de
	    destino do mesmo não é o endereço da
	    estação em questão.  Esse
	    comportamento costuma confundir alguns usuários
	    menos experientes, não correspondendo a
	    ação com suas expectativas.  Essa é
	    uma característica do IPFW, e não um
	    problema.</p><p>Consulte o <code class="literal">FAQ</code> sobre <a class="link" href="#service-redirect" title="12.21.">Redirecionamento de
	      Serviços</a>, a página de manual do
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=natd&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">natd</span>(8)</span></a>, ou uma das diversas ferramentas de
	    redirecionamento disponíveis na
	    Coleção de <code class="literal">Ports</code>, para
	    verificar a forma correta de obter o comportamento
	    desejado.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp67648592"></a><a id="service-redirect"></a><p><strong>12.21.</strong></p></td><td align="left" valign="top"><p>Como redirecionar requisições de
	    serviço de uma máquina para outra?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Serviços como FTP (e outros) podem ser
	    redirecionados com o pacote <code class="literal">socket</code>,
	    disponível na árvore de
	    Coleção do <code class="literal">Ports</code>, sob a
	    categoria <span class="quote">&#8220;<span class="quote">sysutils</span>&#8221;</span>.  Simplesmente substitua
	    a linha de comando do serviço a ser redirecionado
	    para executar a ferramenta <code class="literal">socket</code>, como
	    no exemplo abaixo:</p><pre class="programlisting">ftp stream tcp nowait nobody /usr/local/bin/socket socket <em class="replaceable"><code>ftp.example.com</code></em> <em class="replaceable"><code>ftp</code></em></pre><p>Onde ftp.foo.com e ftp são a máquina
	    (host) e a porta de conexão que será
	    utilizada para o redirecionamento, respectivamente.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp67657808"></a><a id="bandwidth-mgr-tool"></a><p><strong>12.22.</strong></p></td><td align="left" valign="top"><p>Onde obtenho uma ferramenta de gerenciamento de
	    banda?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Existem três ferramentas de gerenciamento de
	    banda disponíveis para o FreeBSD.  O
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dummynet&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">dummynet</span>(4)</span></a>, integrada ao FreeBSD (ou mais
	    especificamente ao <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ipfw&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">ipfw</span>(4)</span></a>);, o <a class="link" href="http://www.csl.sony.co.jp/person/kjc/programs.html" target="_top">ALTQ</a>,
	    disponível gratuitamente, e o <a class="link" href="http://www.etinc.com/" target="_top">Bandwidth Manager da
	      Emerging Technologies</a>, um produto
	    comercial.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp67662544"></a><a id="bpf-not-configured"></a><p><strong>12.23.</strong></p></td><td align="left" valign="top"><p>O que causa o erro <span class="errorname">/dev/bpf0: device not
	      configured</span>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Você está tentando usar um programa que
	    precisa do Berkeley Packet Filter (veja a página de
	    manual do <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=bpf&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">bpf</span>(4)</span></a> para obter maiores
	    informações), mas ele não está
	    compilado no <span class="foreignphrase"><em class="foreignphrase">kernel</em></span>.
	    Adicione a seguinte linha no arquivo de
	    configuração do seu
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> e
	    recompile-o:</p><pre class="programlisting">pseudo-device bpf        # Berkeley Packet Filter</pre><p>Depois que reiniciar o sistema com o novo
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span>, basta criar a
	    interface do dispositivo, o que pode ser feito ao executar
	    o seguinte comando, no diretório
	    <code class="filename">/dev</code>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>sh MAKEDEV bpf0</code></strong></pre><p>Por gentileza, refira-se à seção
	    sobre <a class="link" href="../handbook/kernelconfig-nodes.html" target="_top">Criação
	      de interface de Dispositivos</a> do
	    Manual do FreeBSD, para obter mais
	    informações sobre o assunto.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp67669840"></a><a id="mount-smb-share"></a><p><strong>12.24.</strong></p></td><td align="left" valign="top"><p>Como montar o disco de uma estação
	    Windows na minha rede, de forma semelhante ao smbmount em
	    sistemas Linux?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Use o conjunto de ferramentas
	    <span class="application">SMBFS</span>.  Se trata de um conjunto
	    de modificações no
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span>, e uma série
	    de aplicações específicas.  O
	    programa e outras informações podem ser
	    obtidos na Coleção de
	    <code class="literal">Ports</code> do FreeBSD, em <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/net/smbfs/pkg-descr">net/smbfs</a>, ou no sistema base
	    do FreeBSD a partir da versão 4.5-RELEASE.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp67677776"></a><a id="icmp-response-bw-limit"></a><p><strong>12.25.</strong></p></td><td align="left" valign="top"><p>O que são as mensagens sobre
	    <span class="quote">&#8220;<span class="quote">icmp-response bandwidth limit 300/200 pps</span>&#8221;</span>
	    em meus registros de logs?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>É o resultado de seu
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> informando-o que
	    alguma atividade esta provocando o envio de um
	    número de respostas ICMP ou TCP reset (RST)
	    superior ao número que o
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> julga adequado.
	    Respostas ICMP são, geralmente, comportamento
	    ocasionado pela tentativa de conexão em portas UDP
	    não utilizadas.  As respostas TCP reset são
	    o resultado gerado pelas tentativas de conexão em
	    portas TCP não poníveis.  Entre outras
	    causas, algumas das atividades que podem ocasionar esse
	    tipo de mensage, são:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Ataques de negação de serviço
		(DoS) por força bruta (em
		oposição a ataques baseados em um
		único pacote que visa explorar uma
		vulnerabilidade específica).</p></li><li class="listitem"><p>Varreduras de porta (<span class="foreignphrase"><em class="foreignphrase">port
		  scans</em></span>) que visam rastrear um elevado
		número de portas (em oposição a
		ataques que tentam varrer apenas um pequeno
		número de portas conhecidas).</p></li></ul></div><p>O primeiro número (valor) na mensagem indica
	    quantos pacotes foram enviados pelo
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> antes do limite
	    passar a vigorar e o segundo valor indica o limite
	    estabelecido no <span class="foreignphrase"><em class="foreignphrase">kernel</em></span>.
	    Você pode controlar este limite através da
	    variável <code class="varname">net.inet.icmp.icmplim</code>
	    do sysctl com instruções como esta abaixo,
	    onde estabelecemos um limite de 300 pacotes por
	    segundo:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>sysctl -w net.inet.icmp.icmplim=300</code></strong></pre><p>Se a intenção é não
	    registrar essas mensagens nos arquivos de registros, mas
	    ainda assim manter a capacidade do
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> limitar as
	    respostas, a variável
	    <code class="varname">net.inet.icmp.icmplim_output</code> do sysctl
	    pode ser usada para desabilitar o registro:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>sysctl -w net.inet.icmp.icmplim_output=0</code></strong></pre><p>Finalmente se a inteção é
	    desabilitar esse comportamento por completo, basta definir
	    a variável <code class="varname">net.inet.icmp.icmplim</code>
	    do sysctl (conforme o exemplo acima) como 0.  Desabilitar
	    o recurso de limite de resposta é desencorajado
	    pelas razões acima expostas.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp67688656"></a><a id="unknown-hw-addr-format"></a><p><strong>12.26.</strong></p></td><td align="left" valign="top"><p>Do que se trata estas mensagens de erro
	    <span class="errorname">arp: unknown hardware address
	      format</span>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Significa que alguma interface de rede no mesmo
	    barramento Ethernet que você, está usando um
	    endereço de MAC cujo formato não é
	    reconhecido pelo FreeBSD.  Provavelmente isso deve estar
	    sendo causado por algum outro usuário, fazendo
	    experiências com placas Ethernet em algum lugar na
	    sua mesma rede.  Em redes com Cable Modens esse
	    comportamento é ainda mais comum; não
	    é prejudicial e não atrapalha a performance
	    do seu FreeBSD.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp67691216"></a><a id="cvsup-missing-libs"></a><p><strong>12.27.</strong></p></td><td align="left" valign="top"><p>Acabei de instalar o CVSup, mas ao tentar usá-lo,
	    aparecem erros.  O que está havendo?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Primeiro, verifique se as mensagens de erro em
	    questão são como essas:</p><pre class="programlisting">/usr/libexec/ld-elf.so.1: Shared object "libXaw.so.6" not found</pre><p>Esse tipo de erro se deve à
	    instalação do <code class="literal">port</code>
	    <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/net/cvsup/pkg-descr">net/cvsup</a> em
	    estações sem o XFree86.  Se a
	    inteção é usar a interface
	    gráfica oferecida pelo
	    <span class="application">CVSup</span>, então instale o
	    <span class="application">XFree86</span> imediatamente.  Do
	    contrário, se a intenção é
	    usar o <span class="application">CVSup</span> apenas por linha
	    de comando, basta desinstalar a aplicação
	    anterior e instalar o <code class="literal">port</code> <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/net/cvsup-without-gui/pkg-descr">net/cvsup-without-gui</a>.  A
	    seção sobre <a class="link" href="http://www.freebsd.org/doc/en_US.ISO8859-1/books/handbook/cvsup.html" target="_top">CVSup</a>
	    do Manual do FreeBSD cobre essas questões de
	    forma mais detalhada.</p></td></tr></tbody></table></div></div><div class="chapter"><div xmlns="" class="titlepage"><div><div><h1 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="security"></a>Capítulo 13. Segurança</h1></div></div></div><div class="qandaset"><a id="idp67698256"></a><dl><dt>13.1. <a href="#idp67698512">O BIND (named) está
	    escutando na porta 53 e em outras portas elevadas.  O que
	    está havendo?</a></dt><dt>13.2. <a href="#idp67724624">O Sendmail está ouvindo na porta 587
	    além da tradicional porta 25!  O que está
	    havendo?</a></dt><dt>13.3. <a href="#idp67727056">O que é a conta do usuário
	    toor que tem UID 0?  Meu sistema foi
	    comprometido?</a></dt><dt>13.4. <a href="#idp67737936">Por que o suidperl não
	    está funcionando corretamente?</a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%" /><col /></colgroup><tbody><tr class="question"><td align="left" valign="top"><a id="idp67698512"></a><a id="extra-named-port"></a><p><strong>13.1.</strong></p></td><td align="left" valign="top"><p>O BIND (<code class="command">named</code>) está
	    escutando na porta 53 e em outras portas elevadas.  O que
	    está havendo?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>O FreeBSD, a partir da versão 3.0, utiliza
	    portas não privilegiadas e elevadas,
	    aleatoriamente, para responder à
	    requisições de DNS.  Se a
	    intenção é usar a porta 53 para
	    responder a estas requisições, para adequar
	    o comportamento do BIND à um
	    <span class="foreignphrase"><em class="foreignphrase">firewall</em></span> ou apenas para
	    sentir-se melhor, experimente acrescentar a
	    instruçõo abaixo no arquivo
	    <code class="filename">/etc/namedb/named.conf</code>:</p><pre class="programlisting">options {
            query-source address * port 53;
            };</pre><p>O <code class="literal">*</code> deve ser substituído por
	    um endereço IP único, caso se deseje
	    restringir ainda mais este comportamento.</p><p>De qualquer forma, parabéns.  É uma
	    pratica saudável verificar registros não
	    usuais no conteúdo de saída do
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sockstat&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">sockstat</span>(1)</span></a> </p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp67724624"></a><a id="sendmail-port-587"></a><p><strong>13.2.</strong></p></td><td align="left" valign="top"><p>O Sendmail está ouvindo na porta 587
	    além da tradicional porta 25!  O que está
	    havendo?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>As versões mais novas do Sendmail tem suporte
	    à uma característica que se chama
	    <span class="foreignphrase"><em class="foreignphrase">Mail Submission</em></span>, que ouve
	    na porta 587.  Esse serviço não é
	    completamente suportado ainda, mas sua popularidade vem
	    crescendo.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp67727056"></a><a id="toor-account"></a><p><strong>13.3.</strong></p></td><td align="left" valign="top"><p>O que é a conta do usuário
	    <code class="systemitem">toor</code> que tem UID 0?  Meu sistema foi
	    comprometido?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Não se preocupe.  O usuário
	    <code class="systemitem">toor</code> é uma conta
	    <span class="quote">&#8220;<span class="quote">alternativa</span>&#8221;</span> com poderes de super
	    usuário (toor é root escrito ao
	    contrário).  Normalmente esse usuário era
	    criado quando o interpretador de comandos <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=bash&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">bash</span>(1)</span></a> era
	    instalado, mas agora o usuário existe por
	    padrão no sistema.  A intenção
	    é que o usuário seja usado com um
	    interpretador de comandos fora do padrão, de forma
	    que o ambiente de linha de comando do usuário
	    <code class="systemitem">root</code> não tenha que ser
	    alterada.  Essa é uma situação
	    importante quando nos referimos à interpretadores
	    de comandos que não fazem parte da base do sistema
	    operacional (por exemplo, que foram instaladas do
	    <code class="literal">Ports</code> ou como pacotes, já que
	    normalmente, elas são instaladas sob o
	    <code class="filename">/usr/local/bin</code> que por padrão
	    está em um sistema de arquivos diferente da raiz do
	    sistema.  Em uma situação onde o
	    interpretador de comandos do usuário estiver sob
	    <code class="filename">/usr/local/bin</code> ou sob
	    <code class="filename">/usr</code> (ou onde quer que seja) e esse
	    sistema de arquivos não puder ser montado por
	    alguma razão, o usuário
	    <code class="systemitem">root</code> estará impossibilitado de
	    se logar no sistema para corrigir o problema (contudo, ao
	    entrar em modo mono tarefa, o sistema pede o caminho
	    completo para algum interpretador de comandos.
	  </p><p>Alguns administradores costumam usar o
	    <code class="systemitem">toor</code> para tarefas do dia-a-dia, com
	    um interpretador de comandos
	    (<span class="foreignphrase"><em class="foreignphrase">shell</em></span>) não comum, e
	    deixando o <code class="systemitem">root</code> com seu interpretador
	    de comandos (<span class="foreignphrase"><em class="foreignphrase">shell</em></span>)
	    padrão para realizar tarefas de emergência ou
	    de modo mono usuário.  Por padrão, o
	    usuário <code class="systemitem">toor</code> não pode
	    ser usado, já que ele não tem uma senha
	    definida.  Para habilitar a conta, logue-se como
	    <code class="systemitem">root</code> no sistema e defina uma senha
	    para o <code class="systemitem">toor</code>.
	  </p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp67737936"></a><a id="suidperl"></a><p><strong>13.4.</strong></p></td><td align="left" valign="top"><p>Por que o <code class="command">suidperl</code> não
	    está funcionando corretamente?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Por motivos de segurança, a
	    instalação padrão do
	    <code class="command">suidperl</code> não tem o bit suid
	    definido.  Os administradores de sistemas podem reaver o
	    comportamento esperado com o seguinte comando:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>chmod u+s /usr/bin/suidperl</code></strong></pre><p>Se a intenção é que o
	    <code class="command">suidperl</code> seja compilado com suid
	    durante as atualizações do sistema, edite o
	    <code class="filename">/etc/make.conf</code> e adicione a linha
	    <code class="varname">ENABLE_SUIDPERL=true</code> no arquivo, antes
	    de começar um <code class="command">make
	      buildworld</code>.</p></td></tr></tbody></table></div></div><div class="chapter"><div xmlns="" class="titlepage"><div><div><h1 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="ppp"></a>Capítulo 14. PPP</h1></div></div></div><div class="qandaset"><a id="idp67744848"></a><dl><dt>14.1. <a href="#idp67745104">Não consigo fazer meu ppp(8) funcionar.  O
	    que estou fazendo de errado?</a></dt><dt>14.2. <a href="#idp67759696">Por que o ppp(8) fica pendurado quando eu o
	    inicializo?</a></dt><dt>14.3. <a href="#idp67766096">Porque o ppp(8) não disca em
	    modo-auto
	  </a></dt><dt>14.4. <a href="#idp67801680">O que No route to host
	    significa?</a></dt><dt>14.5. <a href="#idp67807440">Porque minha conexão cai depois de (em média)
	    3 minutos?</a></dt><dt>14.6. <a href="#idp67814224">Por que minha conexão cai quando está
	    sobrecarregada?</a></dt><dt>14.7. <a href="#idp67816784">Por que minha conexão cai após um
	    período aleatório de tempo?</a></dt><dt>14.8. <a href="#idp67819984">Por que minha conexão fica pendurada depois de
	    um período aleatório de tempo?</a></dt><dt>14.9. <a href="#idp67839312">A extremidade remota não está
	    respondendo.  O que eu posso fazer?</a></dt><dt>14.10. <a href="#idp67845328">O ppp(8) está travado.  O que eu posso
	    fazer?</a></dt><dt>14.11. <a href="#idp67852880">Por que não acontece nada depois da mensagem
	    &#8220;Login OK!&#8221;?</a></dt><dt>14.12. <a href="#idp67862608">Eu vejo os mesmos erros sobre magic is the
	      same.  O que significa?</a></dt><dt>14.13. <a href="#idp67881680">As negociações LCP continuam até
	    que a conexão seja fechada.  O que está
	    errado?</a></dt><dt>14.14. <a href="#idp67903184">Por que o ppp(8) trava logo apó a
	    conexão?</a></dt><dt>14.15. <a href="#idp67907920">Por que o ppp(8) trava quando executo
	    comandos shell pelo ppp(8)?</a></dt><dt>14.16. <a href="#idp67919824">Como uma conexão por ppp(8) usando um nunca
	    termina?</a></dt><dt>14.17. <a href="#idp67928400">Por que o ppp(8) disca sem nenhuma razão no
	    modo -auto?</a></dt><dt>14.18. <a href="#idp67939152">O que estes erros de CCP significam?</a></dt><dt>14.19. <a href="#idp67947344">Por que o ppp(8) trava durante a
	    transferência de arquivo com erros de
	    IO(Input/Output)?</a></dt><dt>14.20. <a href="#idp67951568">Por que o ppp(8) não loga minha velocidade
	    de conexão?</a></dt><dt>14.21. <a href="#idp67964368">Por que o ppp(8) ignora o caracter
	    \ no meu script de
	    conversação?</a></dt><dt>14.22. <a href="#idp67978192">Por que o ppp(8) dá um seg-fault, mas eu
	    não vejo nenhum arquivo
	    ppp.core?</a></dt><dt>14.23. <a href="#idp68004176">Por que o processo que força a discagem em auto
	    mode nunca conecta?</a></dt><dt>14.24. <a href="#idp68039120">Por que a maioria dos jogos não funciona com a
	    opção -nat?</a></dt><dt>14.25. <a href="#idp68066000">Alguém fez uma lista de número de portas
	    úteis?</a></dt><dt>14.26. <a href="#idp68089424">O que são erros FCS?</a></dt><dt>14.27. <a href="#PPPoEwithNAT">Por que a conexão do MacOS e Windows98 travam
	    ao rodar o PPPoE no gateway?</a></dt><dt>14.28. <a href="#idp68117328">Nada disso me ajudou - Eu estou desesperado!  O que eu
	    posso fazer?</a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%" /><col /></colgroup><tbody><tr class="question"><td align="left" valign="top"><a id="idp67745104"></a><a id="userppp"></a><p><strong>14.1.</strong></p></td><td align="left" valign="top"><p>Não consigo fazer meu <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> funcionar.  O
	    que estou fazendo de errado?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Deve-se primeiro ler a man page do <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> e <a class="link" href="../handbook/ppp-and-slip.html#USERPPP" target="_top">
	      seção PPP do Manual do FreeBSD</a>.
	    Habilite os logs com o comando</p><pre class="programlisting">set log Phase Chat Connect Carrier lcp ipcp ccp command</pre><p>Este comando pode ser digitado no prompt do <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a>
	    ou pode ser colocado no
	    <code class="filename">/etc/ppp/ppp.conf</code> (A
	    seção <code class="literal">default</code> no
	    início do arquivo é o melhor lugar para
	    colocar isso).  Tenha certeza de que
	    seu<code class="filename">/etc/syslog.conf</code> (veja
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=syslog.conf&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">syslog.conf</span>(5)</span></a>) tenha as linhas</p><pre class="programlisting">!ppp *.*/var/log/ppp.log</pre><p>e que o arquivo <code class="filename">/var/log/ppp.log</code>
	    exista.  Agora pode-se ver o que está acontecendo
	    analisando seu arquivo de log.  Não se preocupe se
	    isso não faz sentido mas se precisar de ajuda, esta
	    informação fará sentido a
	    eles.</p><p>Se a sua versão do <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> não
	    suporta o comando set log ,deve-se fazer o download da
	    <a class="link" href="http://people.FreeBSD.org/~brian/" target="_top">
	      versão mais recente</a>.  O FreeBSD 2.1.5 (e
	    posteriores) suporta a compilação do
	    código mais recente.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp67759696"></a><a id="ppp-hangs"></a><p><strong>14.2.</strong></p></td><td align="left" valign="top"><p>Por que o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> fica pendurado quando eu o
	    inicializo?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Isso normalmente acontece porque seu hostname
	    não esta sendo resolvido.  A melhor maneira de
	    corrigir isso é certificar-se de que o
	    <code class="filename">/etc/hosts</code> está sendo
	    consultado pelo resolvedor; editando primeiro o
	    <code class="filename">/etc/host.conf</code> e colocando
	    <code class="literal">hosts</code> na primeira linha.  Para isso,
	    simplesmente adicione no <code class="filename">/etc/hosts/</code>
	    uma entrada para sua máquina local.  Se não
	    tem nenhuma rede local, mude a linha do
	    <code class="systemitem">localhost</code>:</p><pre class="programlisting">127.0.0.1        foo.example.com foo localhost</pre><p>Senão, adicione uma outra entrada para seu
	    host.  Consulte as man pages relevantes para maiores
	    detalhes.</p><p>Ao terminar, deve ser possível dar um
	    <code class="command">ping -c1 `nomedohost`</code> com sucesso.
		</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp67766096"></a><a id="ppp-nodial-auto"></a><p><strong>14.3.</strong></p></td><td align="left" valign="top"><p>Porque o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> não disca em
	    modo<code class="literal">-auto</code>
	  </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Primeiro verifique se há uma rota
	    padrão.  Ao executar um <code class="command">netstat
	      -rn</code> (veja <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=netstat&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">netstat</span>(1)</span></a>), devem aparecer duas
	    entradas como essas:</p><pre class="programlisting">Destination        Gateway            Flags     Refs     Use     Netif Expire
default            10.0.0.2           UGSc        0        0      tun0
10.0.0.2           10.0.0.1           UH          0        0      tun0</pre><p>Assume-se o uso do endereço recomendado pelo
	    Manual do FreeBSD, páginas de manual ou no
	    arquivo ppp.conf.sample.  Se a rota padrão
	    não foi definida, é possível que a
	    versão do <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> seja antiga, uma vez que
	    não entendem a palavra <code class="literal">HISADDR</code>
	    no arquivo ppp.conf.  Se a versão do seu FreeBSD
	    for anterior a  2.2.5, mude a linha</p><pre class="programlisting">add 0 0 HISADDR</pre><p>para</p><pre class="programlisting">add 0 0 10.0.0.2</pre><p>Outra razão para a rota padrão estar
	    ausente, pode ser porquê você equivocadamente
	    definiu uma rota default em seu arquivo
	    <code class="filename">/etc/rc.conf</code> (veja <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=rc.conf&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">rc.conf</span>(5)</span></a>)
	    (este arquivo era chamado
	    <code class="filename">/etc/sysconfig</code> nas versões
	    anteriores a 2.2.2) e omitiu a linha</p><pre class="programlisting">delete ALL</pre><p>no <code class="filename">ppp.conf</code>.  Se este for o
	    problema, volte para <a class="link" href="../handbook/ppp-and-slip.html#USERPPP-FINAL" target="_top">
	      seção de configurações
	      Finais do Manual do FreeBSD.</a></p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp67801680"></a><a id="no-route-to-host"></a><p><strong>14.4.</strong></p></td><td align="left" valign="top"><p>O que <span class="errorname">No route to host</span>
	    significa?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Este erro é causado pela falta das linhas</p><pre class="programlisting">MYADDR:
  delete ALL
  add 0 0 HISADDR</pre><p>no seu arquivo
	    <code class="filename">/etc/ppp/ppp.linkup</code>.  Isso somente
	    é necessário se você tem um IP
	    dinâmico ou não sabe o endereço do seu
	    gateway.  Se você esta usando o modo interativo,
	    pode-se digitar o seguinte, depois de ter entrado no
	    <code class="literal">modo packet</code> (O modo packet é
	    indicado pelo <acronym class="acronym">PPP</acronym> maiísculo no
	    prompt):
	  </p><pre class="programlisting">delete ALL
add 0 0 HISADDR</pre><p>Consulte a <a class="link" href="../handbook/ppp-and-slip.html#USERPPP-DYNAMICIP" target="_top">
	      seção PPP e Endereços IPs
	      dinâmicos</a> do Manual do FreeBSD para
	    maiores detalhes
	  </p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp67807440"></a><a id="connection-threeminutedrop"></a><p><strong>14.5.</strong></p></td><td align="left" valign="top"><p>Porque minha conexão cai depois de (em média)
	    3 minutos?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>O default timeout do PPP é de 3 minutos.  Isso pode
	    ser ajustado com a linha</p><pre class="programlisting">set timeout <em class="replaceable"><code>NNN</code></em></pre><p>Onde NNN é o número em
	    segundos de inatividade antes da conexão ser
	    fechada.  Se <em class="replaceable"><code>NNN</code></em> é zero a conexão
	    nunca será fechada devido a um timeout.  É
	    possível colocar esse comando no
	    <code class="filename">ppp.conf</code> ou digitá-lo no modo
	    interativo.  Também é
	    possível que isso seja ajustado enquanto sua
	    conexão esta ativa conectando
	    pelo socket do servidor <span class="application">ppp</span> usando
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=telnet&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">telnet</span>(1)</span></a> ou <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pppctl&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">pppctl</span>(8)</span></a>.  Consulte a man
	    page do <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> para maiores detalhes.
	  </p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp67814224"></a><a id="ppp-drop-heavy-load"></a><p><strong>14.6.</strong></p></td><td align="left" valign="top"><p>Por que minha conexão cai quando está
	    sobrecarregada?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Se você tem o relatório da qualidade da
	    ligação (opção LPR)
	    configurado é possível que muitos pacotes
	    LQR entre sua máquina e a origem estejam sendo
	    perdidos.  O ppp deduz que sua linha deve ser ruim e
	    desconecta.  Antes da versão 2.2.5 do FreeBSD, o
	    LQR era habilitado por default.  Agora ele é
	    desabilitado por default.  O LQR pode ser desabilitado com
	    a linha</p><pre class="programlisting">disable lqr</pre></td></tr><tr class="question"><td align="left" valign="top"><a id="idp67816784"></a><a id="ppp-drop-random"></a><p><strong>14.7.</strong></p></td><td align="left" valign="top"><p>Por que minha conexão cai após um
	    período aleatório de tempo?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Às vezes, em uma linha telefônica com
	    ruídos, ou quando a linha tem espera de
	    ligações,  seu modem pode desligar, pensando
	    (incorretamente) que perdeu o sinal de linha.</p><p>Existem ajustes em grande parte dos modems
	    determinando o quão tolerante ele deve ser a
	    respeito de perdas de sinal de linha.  No USR Sportster,
	    por exemplo, isso é medido  pelo registrador S10 em
	    décimos de segundo.  Para fazer com que seu modem
	    não caia, poderia-se adicionar a seguinte string
	    dial up para envio/espera:</p><pre class="programlisting">set dial "...... ATS10=10OK......"
	   </pre><p>Consulte o manual do seu modem para detalhes.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp67819984"></a><a id="ppp-hangs-random"></a><p><strong>14.8.</strong></p></td><td align="left" valign="top"><p>Por que minha conexão fica pendurada depois de
	    um período aleatório de tempo?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Muitas pessoas experimentam conexões presas sem
	    aparentemente nenhuma explicação.</p><p>Se você usa um modem externo, você
	    simplesmente pode tentar um <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ping&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ping</span>(8)</span></a> para ver se a luz
	    <acronym class="acronym">TD</acronym> fica piscando quando você
	    transmite dados.  Se piscar (e a luz do
	    <acronym class="acronym">RD</acronym> não), o problema é com
	    a extremidade remota.  Se o <acronym class="acronym">TD</acronym>
	    não piscar, o problema é local.  Com um
	    modem interno você precisará usar o comando
	    <code class="literal">set server</code> no seu arquivo ppp.conf.
	    Quando ocorrer de cair, conecte com o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> usando o
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pppctl&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">pppctl</span>(8)</span></a>.  Se a conexão de sua rede voltar de
	    repente (o ppp voltou devido a atividade no
	    diagnóstico do socket) ou se você não
	    consegue conectar (assumindo que o comando <code class="literal">set
	      socket</code> foi iniciado com sucesso) o problema
	    é local.  Se você puder conectar e ainda as
	    coisas estiverem "penduradas" habilite os logs do async
	    local com o comando <code class="literal">set log local async</code>
	    e use o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ping&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ping</span>(8)</span></a> de outra janela ou terminal para
	    forçar a atividade da conexão.  Os logs
	    async irão mostrar os dados que estão sendo
	    transmitidos e recebidos durante a ligação.
	    Se os dados estão indo e não estão
	    voltando, o problema é remoto.</p><p>Tendo estabelecido que o problema é local ou
	    remoto, você tem agora duas possibilidades:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Se o problema é remoto, leia a
		secção <a class="xref" href="#ppp-remote-not-responding" title="14.9.">P: 14.9</a>.</p></li><li class="listitem"><p>Se o problema for remoto, leia a
		secção <a class="xref" href="#ppp-hung" title="14.10.">P: 14.10</a>.</p></li></ul></div></td></tr><tr class="question"><td align="left" valign="top"><a id="idp67839312"></a><a id="ppp-remote-not-responding"></a><p><strong>14.9.</strong></p></td><td align="left" valign="top"><p>A extremidade remota não está
	    respondendo.  O que eu posso fazer?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Há muito pouco que pode ser feito em
	    relação a isso.  A maioria dos provedores
	    irão recusar ajuda-lo se você não usar
	    o Windows.  Você pode habilitar a
	    <code class="literal">lqr</code> no seu arquivo
	    <code class="filename">ppp.conf</code>, permitindo ao <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a>
	    detectar a falha remota e desligar-se, mas essa
	    detecção é relativamente lenta e
	    consequentemente inútil.  Pode-se querer evitar
	    dizer ao seu provedor que você está rodando o
	    user-ppp....</p><p>Primeiro tente desabilitar toda compressão
	    local adicionando o seguinte em sua
	    configuração:</p><pre class="programlisting">disable pred1 deflate deflate24 protocomp acfcomp shortseq vj
deny pred1 deflate deflate24 protocomp acfcomp shortseq vj</pre><p>Então reconecte para assegurar de que isso
	    não fez diferença.  Se as coisas melhoraram
	    ou se o problema foi resolvido completamente, determine
	    quais ajustes fizeram a diferença através de
	    tentativas e erros.  Isto fornecerá uma boa cartada
	    quando você contactar seu provedor (embora possa
	    parecer que você não esteja rodando um
	    produto Microsoft).</p><p>Antes de contactar seu provedor, habilite  o log async
	    localmente e aguarde até que sua conexão
	    caia novamente.  Isto pode usar um bocado de espaço
	    em disco.  A última leitura de dados da porta pode
	    ser de seu interesse.  São geramente dados em
	    ascii, e podem mesmo descrever o problema (<span class="quote">&#8220;<span class="quote">Memory
	      fault, core dumped</span>&#8221;</span>?).</p><p>Se seu provedor for prestativo, ele deve ser capaz de
	    habilitar o log da extremidade da conexão dele,
	    então quando a proxima queda de link ocorrer, eles
	    podem ser capazes de dizer porque o seu lado esta tendo
	    problemas.  Sinta-se livre para enviar os detalhes para
	    Brian Somers ou peça para seu provedor
	    contactá-lo diretamente.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp67845328"></a><a id="ppp-hung"></a><p><strong>14.10.</strong></p></td><td align="left" valign="top"><p>O <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> está travado.  O que eu posso
	    fazer?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>A melhor coisa a fazer aqui é recompilar o
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> adicionando <code class="literal">CFLAGS+=-g </code>e
	    <code class="literal">STRIP=</code> no final do Makefile, depois
	    faça <code class="command">make clean &amp;&amp; make &amp;&amp;
	      make install</code>.  Quando o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> ficar
	    travado, procure o id do processo com um <code class="command">ps ajxww
	      | fgrep ppp</code> e execute <code class="command">gdb ppp
	    </code>PID.  No prompt do gdb você pode
	    então usar o <code class="command">bt</code> para obter um
	    rastreamento da pilha.</p><p>Envie os resultados para:
	    <code class="email">&lt;<a xmlns="" class="email" href="mailto:brian@Awfulhak.org">brian@Awfulhak.org</a>&gt;</code>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp67852880"></a><a id="ppp-loginok-thennothing"></a><p><strong>14.11.</strong></p></td><td align="left" valign="top"><p>Por que não acontece nada depois da mensagem
	    <span class="quote">&#8220;<span class="quote">Login OK!</span>&#8221;</span>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Antes da versão 2.2.5 do FreeBSD, uma vez que a
	    conexão foi estabelecida, o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> espera que o
	    modem remoto inicie o protocolo do controle de linha
	    (LCP), Muitos provedores não iniciarão a
	    negociação e esperarção que o
	    cliente a faça.  Para forçar o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a>
	    para iniciar o LCP, use a seguinte linha:</p><pre class="programlisting">set openmode active</pre><div xmlns="" class="note"><h3 class="admontitle">Nota: </h3><p xmlns="http://www.w3.org/1999/xhtml">Nota: isto geralmente não prejudica em nada
	      se a negociação for iniciada por ambos os
	      lados, assim, a opção openmode é
	      agora ativada por padrão.  Entretanto, na
	      próxima seção será explicado
	      quando isso realmente <span class="emphasis"><em>proporciona</em></span>
	      algum problema.</p></div></td></tr><tr class="question"><td align="left" valign="top"><a id="idp67862608"></a><a id="ppp-same-magic"></a><p><strong>14.12.</strong></p></td><td align="left" valign="top"><p>Eu vejo os mesmos erros sobre <code class="literal">magic is the
	      same</code>.  O que significa?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Ocasionalmente, depois da conexão, você
	    pode ver mensagens no log dizendo <span class="quote">&#8220;<span class="quote">"magic is the
	      same"</span>&#8221;</span>.  Às vezes essas mensagens
	    são sem importância e as vezes um lado ou o
	    outro sai.  A maioria das implementações do
	    ppp não consegue continuar com esse problema, e
	    mesmo se a conexão estiver para ser estabelecida,
	    você verá repetidas requisições
	    de configuração e reconhecimentos de
	    configuração no arquivo de log até
	    que o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> eventualmente desista e feche a
	    conexão.</p><p>Isto normalmente acontece em máquinas com
	    discos lentos que estão dando spawning getty na
	    porta e executam o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> através de um login
	    script ou programa depois do login.  Eu também ouvi
	    relatórios disso estar acontecendo consistentemente
	    ao usar slirp.  A razão é que no tempo entre
	    saída do <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=getty&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">getty</span>(8)</span></a> e a
	    inicialização do <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a>, o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> do
	    lado cliente começa a emitir pacotes do protocolo
	    do controle da linha LCP).  Porque o ECHO ainda esta
	    ligado na porta do servidor, o cliente então
	    vê esses pacotes serem <span class="quote">&#8220;<span class="quote">refletidos</span>&#8221;</span> de
	    volta.</p><p>Uma parte da negociação LCP deve
	    estabelecer um número mágico para cada lado
	    da ligação de modo que as
	    <span class="quote">&#8220;<span class="quote">reflexões</span>&#8221;</span> possam ser detectadas.  O
	    protocolo diz que quando um ponto tenta negociar o mesmo
	    número mágico, um NAK deve ser emitido e um
	    novo número mágico deve ser escolhido.
	    Durante o período que a porta do server tem o ECHO
	    ligado, o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> cliente manda pacotes LCP, vê o
	    mesmo número mágico nos pacotes refletidos e
	    manda NAKs a ele.  Ve-se também o NAK que foi
	    refletido (que significa que o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> deve mudar o seu
	    número mágico).  Isto produz um
	    número potencialmente enorme de mudanças de
	    números mágicos que estão sendo
	    empilhados no buffer do tty do servidor.  Tão logo
	    o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> se inicia no servidor, ele é inundado
	    com  mudanças de números mágicos
	    imediatamente ao negociar o LCP, e desiste.  Enquanto
	    isso, o cliente não vê por muito tempo as
	    reflexões e fica feliz apenas por algum tempo,
	    até receber a desconexão do servidor.</p><p>Isto pode ser evitado permitindo que a
	    negociação seja iniciada pelo servidor
	    (peer), adicionando a seguinte linha no seu arquivo
	    ppp.conf:</p><pre class="programlisting">set openmode passive</pre><p>Isso diz ao <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> para esperar que o servidor
	    inicie as negociações LCP.  Alguns
	    servidores, entretanto, podem nunca iniciar as
	    negociações.  Se este for o caso, você
	    deve fazer algo como:</p><pre class="programlisting">set openmode active 3</pre><p>Isto diz ao <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> para ser passivo durante 3
	    segundos, e então começar a enviar
	    requisições LCP.  Se o servidor (peer)
	    começar a enviar requisições durante
	    esse período, o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> irá responder
	    imediatamente, ao invés de aguardar pelo
	    período completo de 3 segundos.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp67881680"></a><a id="ppp-lcp-constant"></a><p><strong>14.13.</strong></p></td><td align="left" valign="top"><p>As negociações LCP continuam até
	    que a conexão seja fechada.  O que está
	    errado?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Há atualmente uma característica
	    faltando no ppp onde ele não associa respostas LCP
	    , CCP &amp; IPCP com suas requisições
	    originais.  Como consequência, se uma
	    implementação ppp é 6 segundos mais
	    lenta do que o outro lado, esse lado emitirá duas
	    requisões adicionais de configuração
	    LCP.  Isto é fatal.</p><p>Considere duas implementações,
	    <code class="systemitem">A</code> e <code class="systemitem">B</code>.
	    <code class="systemitem">A</code> emite requisições LCP
	    imediatamente após a conexão e
	    <code class="systemitem">B</code> leva 7 segundos para iniciar.  Quando
	    <code class="systemitem">B</code> inicia, <code class="systemitem">A</code> emitiu 3 LCP
	    REQs.  Nós estamos supondo que a linha ECHO esteja
	    desabilitada, senão nós veríamos
	    problemas com número mágico como descritos
	    na seção anterior.  <code class="systemitem">B</code> emite
	    um REQ, entao um ACK para o primeiro dos REQs de
	    <code class="systemitem">A</code>.  Isto resulta em <code class="systemitem">A</code>
	    entrando no estado <acronym class="acronym">OPENED</acronym> e enviando um
	    ACK (o primeiro) de volta a <code class="systemitem">B</code>.  Enquanto
	    isso, <code class="systemitem">B</code> envia de volta mais dois ACKs em
	    resposta aos dois REQs adicionais enviados por
	    <code class="systemitem">A</code> antes de <code class="systemitem">B</code> ter
	    iniciado.  <code class="systemitem">B</code> então recebe o
	    primeiro ACK de <code class="systemitem">A</code> e também entra
	    no estado de <acronym class="acronym">OPENED</acronym>.
	    <code class="systemitem">A</code> recebe o segundo ACK de
	    <code class="systemitem">B</code> e retorna ao estado de
	    <acronym class="acronym">REQ-SENT</acronym>, enviando um outro (seguinte)
	    REQ conforme a RFC ordena.  Então, recebe o
	    terceiro ACK e entra no estado OPENED.  Enquanto isso,
	    <code class="systemitem">B</code> recebe REQ (posterior) de
	    <code class="systemitem">A</code>, tendo como resultado uma
	    reversão para o estado <acronym class="acronym">ACK-SENT</acronym>
	    e enviando um outro (segundo) REQ e (depois) ACK conforme
	    a RFC.  Conseguindo o REQ, <code class="systemitem">A</code> entra em
	    <acronym class="acronym">REQ-SENT</acronym> e envia outro REQ.
	    Imediatamente recebe o ACK seguinte e entra em
	    <acronym class="acronym">OPENED</acronym>.</p><p>Isto continuará até que um dos lados
	    descubra que eles não estão indo a lugar
	    algum e desista.</p><p>A melhor maneira de evitar isso é configurar um
	    lado para ser <code class="literal">passivo</code> - isso faz com
	    que um lado espere pelo outro para iniciar uma
	    negociação.  Isto pode ser feito com o
	    comando</p><pre class="programlisting">set openmode passive</pre><p>Deve-se ter cuidado com esta opção.
	    Você também deve usar o comando</p><pre class="programlisting">set stopped N</pre><p>para limitar a quantidade de tempo que o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a>
	    esperará pelo outro lado iniciar a
	    negociação.  Alternativamente o
	    comando</p><pre class="programlisting">set openmode active N</pre><p>(onde <em class="replaceable"><code>N</code></em> é o
	    número de segundos para esperar antes de iniciar as
	    negociações) pode ser usado.  Consulte as
	    páginas de manual para detalhes.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp67903184"></a><a id="ppp-lockups"></a><p><strong>14.14.</strong></p></td><td align="left" valign="top"><p>Por que o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> trava logo apó a
	    conexão?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Antes da versão 2.2.5 do FreeBSD, era
	    possível que sua ligação fosse
	    desabilitada logo após a conexão, devido a
	    incapacidade de negociação da
	    compressão Predictor1 do <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a>.  Isto
	    aconteceria somente se ambos os lados tentassem negociar
	    protocolos diferentes do controle da compressão
	    (CCP).  Este problema atualmente esta corrigido, mas se
	    você ainda roda uma versão antiga do
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a>, o problema pode ser resolvido com a
	    linha:</p><pre class="programlisting">disable pred1</pre></td></tr><tr class="question"><td align="left" valign="top"><a id="idp67907920"></a><a id="ppp-shell-test-lockup"></a><p><strong>14.15.</strong></p></td><td align="left" valign="top"><p>Por que o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> trava quando executo
	    comandos shell pelo <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Quando executa-se o <code class="command">shell</code> com o
	    comando <code class="command">!</code> , o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> executa um
	    shell (ou se você passar quaisquer argumentos, o
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> executará aqueles argumentos).  Ppp
	    aguardará o comando terminar antes de continuar.
	    Se você tentar usar a sua ligaço ppp enquanto
	    é executado o comando, a ligação
	    aparacerá congelada.  Isto porque o ppp
	    estará esperando pelo finalização da
	    comando.</p><p>Se você desejar executar comandos assim, use o
	    comando <code class="command">!bg</code>.  Ele executará o
	    comando em background e o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> poderá
	    continuar a servir a conexão normalmente.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp67919824"></a><a id="ppp-nullmodem"></a><p><strong>14.16.</strong></p></td><td align="left" valign="top"><p>Como uma conexão por <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> usando um nunca
	    termina?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Não há nenhuma maneira para que o
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> determine automaticamente que uma
	    conexão direta caiu.  Isto é devido
	    às linhas que são usadas na série de
	    cable null modems.  Ao usar esse tipo de conexão o
	    LQR deve sempre ser habilitado com a linha:</p><pre class="programlisting">enable lqr</pre><p>A LQR é aceita por padrão, se negociada
	    com o outro lado.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp67928400"></a><a id="ppp-auto-noreasondial"></a><p><strong>14.17.</strong></p></td><td align="left" valign="top"><p>Por que o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> disca sem nenhuma razão no
	    modo -auto?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Se o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> esta discando inesperadamente,
	    você deve determinar a causa, e setar os filtros de
	    discagem (dfilters) para evitar esse comportamento.</p><p>Para determinar a causa, use a seguinte linha:</p><pre class="programlisting">set log +tcp/ip</pre><p>Isto registrará todo o tráfego
	    através da conexão.  A próxima vez
	    que a linha acima for ativada, você verá a
	    razão logada.</p><p>Você pode agora desabilitar a discagem sob estas
	    circunstâncias.  Geralmente, este tipo de problema
	    ocorre devido aos lookups do DNS.  Para evitar que os
	    lookups do DNS estabeleçam uma conexão (isto
	    <span class="emphasis"><em>não</em></span> impedirá que o
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> passe os pacotes através de uma
	    conexão já estabelecida) use o
	    seguinte:</p><pre class="programlisting">set dfilter 1 deny udp src eq 53
set dfilter 2 deny udp dst eq 53
set dfilter 3 permit 0/0 0/0</pre><p>Nem sempre isso é apropriado, porque irá
	    interromper suas capacidades de discagem por demanda - a
	    maioria dos programas precisarão de lookup do DNS
	    antes de fazer alguma outra coisa relacionada a
	    rede.</p><p>No caso do DNS, você deve tentar determinar o
	    que esta realmente tentando resolver um hostname.  Na
	    maioria das vezes o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sendmail&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sendmail</span>(8)</span></a> é o culpado.
	    Você deve certificar-se que o sendmail não
	    deve fazer nenhum DNS lookup em seu arquivo de
	    configuração.  Veja na seção
	    <a class="link" href="#ispmail" title="10.12.">Configuração de
	      Mail</a> para detalhes de como criar seu
	    próprio arquivo de configuração e o
	    que deve conter nele.  Você pode também
	    adicionar a seguinte linha ao seu arquivo
	    <code class="filename">.mc</code>:</p><pre class="programlisting">define(`confDELIVERY_MODE', `d')dnl
	  </pre><p>Isto fará o sendmail enfileirar tudo,
	    até que a fila esteja funcionando (normalmente o
	    sendmail é invocado com <code class="option">-bd -q30m</code>,
	    dizendo a ele para rodar a fila (queue) a cada 30minutos)
	    ou até que o <code class="command">sendmail</code> -q seja
	    feito (talvez do arquivo ppp.linkup)</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp67939152"></a><a id="ccp-errors"></a><p><strong>14.18.</strong></p></td><td align="left" valign="top"><p>O que estes erros de CCP significam?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Eu estou vendo os seguintes erros em
	    meus logs:</p><pre class="programlisting">CCP: CcpSendConfigReq
CCP: Received Terminate Ack (1) state = Req-Sent (6)</pre><p>Isto é porque o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> esta tentando
	    negociar a compressão Predictor1, e o outro ponto
	    não quer negociar nenhuma compressão.  As
	    mensagens são inofensivas, mas se você
	    desejar remove-las, poderá desabilitar a
	    compressão Predictor1 também
	    localmente:</p><pre class="programlisting">disable pred1</pre></td></tr><tr class="question"><td align="left" valign="top"><a id="idp67947344"></a><a id="ppp-lockup-ioerrors"></a><p><strong>14.19.</strong></p></td><td align="left" valign="top"><p>Por que o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> trava durante a
	    transferência de arquivo com erros de
	    IO(Input/Output)?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>No FreeBSD 2.2.2 e anteriores, havia um bug no driver
	    tun, que impedia pacotes de entrada de um tamanho maior do
	    que o MTU da interface.  O O recebimento de pacotes
	    maiores que o MTU da interface resulta em erro de IO que
	    é logado através do syslogd.</p><p>A especificação do ppp diz que um MTU de
	    1500 deve ser <span class="emphasis"><em>sempre</em></span> aceito como
	    mínimo.  Apesar de todas as
	    negociações de LCP, é possível
	    diminuir o MTU para menos de 1500, independentemente
	    disso, seu provedor irá transmitir pacotes de 1500
	    para você, e isso travará sua
	    conexão.</p><p>O problema pode ser contornado por nunca ajustar um
	    MTU menor que 1500 sobre o FreeBSD 2.2.2 ou
	    anteriores.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp67951568"></a><a id="ppp-connectionspeed"></a><p><strong>14.20.</strong></p></td><td align="left" valign="top"><p>Por que o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> não loga minha velocidade
	    de conexão?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>A fim de logar todas as linhas de
	    <span class="quote">&#8220;<span class="quote">conversação</span>&#8221;</span> de seu modem
	    você deve habilitar o seguinte:</p><pre class="programlisting">set log +connect</pre><p>Isto irá fazer o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> logar tudo,
	    até a ultima requisição
	    <span class="quote">&#8220;<span class="quote">expect</span>&#8221;</span>.</p><p>Se você desejar ver sua velocidade de
	    conexão e estiver usando PAP ou CHAP (e
	    consequentemente não tenha qualquer coisa para o
	    <span class="quote">&#8220;<span class="quote">chat</span>&#8221;</span> depois do CONNECT no script de
	    discagem - no <code class="literal">set login</code> script),
	    você deve certificar-se que instruiu o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> a
	    ``a esperar" a linha inteira CONNECT, algo como:</p><pre class="programlisting">set dial "ABORT BUSY ABORT NO\\sCARRIER TIMEOUT 4 \
  \"\" ATZ OK-ATZ-OK ATDT\\T TIMEOUT 60 CONNECT \\c \\n"</pre><p>Aqui nosso CONNECT, não envia nada, ele espera
	    então um line-feed, forçando o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> a
	    ler toda a resposta do CONNECT.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp67964368"></a><a id="ppp-ignores-backslash"></a><p><strong>14.21.</strong></p></td><td align="left" valign="top"><p>Por que o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> ignora o caracter
	    <code class="literal">\</code> no meu script de
	    conversação?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>O Ppp analiza cada linha no seu arquivo de
	    configuração, então isso pode ser
	    interpretado como string tal como <code class="literal">set phone "123
	      456 789"</code> corretamente e compreende de fato que
	    o número é um
	    <span class="emphasis"><em>único</em></span> argumento.  A fim de
	    especificar um caracter<code class="literal">"</code>,
	    você deve escapar desse comportamento, usando um a
	    barra invertida <code class="literal">\</code>.</p><p>Quando o script de conversação analizar
	    cada argumento, ele reinterpretará o argumento a
	    fim de encontrar quaisquer sequências especiais como
	    <code class="literal">\P</code> ou <code class="literal">\T</code> (veja a man
	    page).  Como resultado desta dupla análise,
	    você deve conseguir usar o número correto de
	    espaços.</p><p>Se você deseja enviar um caracter
	    <code class="literal">\</code> para dizer a seu modem, você
	    precisará de algo assim:</p><pre class="programlisting">set dial "\"\" ATZ OK-ATZ-OK AT\\\\X OK"</pre><p>resultando a seguinte sequência:</p><pre class="programlisting">ATZ
OK
AT\X
OK</pre><p>ou</p><pre class="programlisting">set phone 1234567
set dial "\"\" ATZ OK ATDT\\T"</pre><p>resultando na seguindo sequência:</p><pre class="programlisting">ATZ
OK
ATDT1234567</pre></td></tr><tr class="question"><td align="left" valign="top"><a id="idp67978192"></a><a id="ppp-segfault-nocore"></a><p><strong>14.22.</strong></p></td><td align="left" valign="top"><p>Por que o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> dá um seg-fault, mas eu
	    não vejo nenhum arquivo
	    <code class="filename">ppp.core</code>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>O Ppp (ou qualquer programa desta natureza) nunca
	    dever dar core dump.  Porque o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> roda com um
	    e-userid (effective user id) 0, o sistema operacional
	    não irá escrever a imagem do core do
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> em disco antes de terminá-lo.  Mas se
	    acontecer de o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> terminar devido a uma falha de
	    segmentação ou algum outro sinal que
	    normalmente causaria um core dumped,
	    <span class="emphasis"><em>e</em></span> você tem certeza de que esta
	    usando uma versão mais recente do ppp (veja o
	    começo desta seção), você deve
	    fazer o seguinte:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>tar xfz ppp-*.src.tar.gz</code></strong>
<code class="prompt">%</code> <strong class="userinput"><code>cd ppp*/ppp</code></strong>
<code class="prompt">%</code> <strong class="userinput"><code>echo STRIP= &gt;&gt;Makefile</code></strong>
<code class="prompt">%</code> <strong class="userinput"><code>echo CFLAGS+=-g &gt;&gt;Makefile</code></strong>
<code class="prompt">%</code> <strong class="userinput"><code>make clean all</code></strong>
<code class="prompt">%</code> <strong class="userinput"><code>su</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>make install</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>chmod 555 /usr/sbin/ppp</code></strong></pre><p>Você agora tem uma versão
	    debugável do <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> instalada.  Você
	    precisará ser <code class="systemitem">root</code> para rodar
	    o ppp porque todos os seus privilégios foram
	    revogados.  Quando você iniciar o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a>, tome
	    nota com cuidado de qual era o seu diretório
	    corrente naquele instante.</p><p>Agora, quando o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> receber uma
	    violação de segmento (seg-fault), você
	    terá um arquivo chamado ppp.core.  Você deve
	    então fazer o seguinte:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>su</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>gdb /usr/sbin/ppp ppp.core</code></strong>
<code class="prompt">(gdb)</code> <strong class="userinput"><code>bt</code></strong>
.......
<code class="prompt">(gdb)</code> <strong class="userinput"><code>f 0</code></strong>
......
<code class="prompt">(gdb)</code> <strong class="userinput"><code>i args</code></strong>
......
<code class="prompt">(gdb)</code> <strong class="userinput"><code>l</code></strong>
.......</pre><p>Toda essa informação deve ser dada com a
	    sua pergunta, sendo possível agora diagnosticar o
	    problema.</p><p>Se você é familiarizado com o gdb,
	    você pode desejar encontrar alguns outros bits e
	    partes como as que causaram o dump e também os
	    endereços e valores das variáveis
	    revelantes.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp68004176"></a><a id="ppp-autodialprocess-noconnect"></a><p><strong>14.23.</strong></p></td><td align="left" valign="top"><p>Por que o processo que força a discagem em auto
	    mode nunca conecta?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Este era um problema conhecido na
	    configuração <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> para negociar um IP
	    local dinâmico com o outro ponto no auto mode.  Isto
	    foi corrigido na versão mais recente.  Procure na
	    man page do <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> por
	    <code class="literal">iface</code>.</p><p>O problema era que quando este programa inicial chamava
	    o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=connect&amp;sektion=2"><span class="citerefentry"><span class="refentrytitle">connect</span>(2)</span></a>, o número IP da interface tun
	    estava atribuído ao endpoint do soquete.  O
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> cria o primeiro
	    pacote de saída e escreve-o no dispositivo tun.  O
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> então lê o pacote e estabelece a
	    conexão.  Se em consequência da
	    atribuição dinâmica do IP do
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> o endereço da interface for mudado, o
	    endpoint do soquete original será inválido.
	    Todos os pacotes subsequentes emitidos ao outro ponto
	    serão geralmente descartados.  Mesmo se não
	    forem descartados, nenhuma das respostas irá voltar
	    pela rota da máquina de origem, isto porque o
	    número IP já não pertence a essa
	    máquina.</p><p>Há diversas maneiras teóricas para
	    abordargem desse problema.  Seria mais agradável se
	    o ponto reatribuísse,  se possível o mesmo
	    número IP <code class="literal">:-)</code> A versão
	    atual do <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> faz isso, mas a maioria das outras
	    implementações não.</p><p>O método mais fácil do nosso lado, seria
	    nunca mudar o número IP da interface tun, mas ao
	    invés disso, mudar todos os pacotes de saída
	    de modo que a origem do número IP é mudada
	    da interface IP para o IP negociado dinâmicamente.
	    Isto é essencialmente o que a opção
	    <code class="literal">iface-alias</code> na versão mais
	    recente do ppp faz (com a ajuda da <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=libalias&amp;sektion=3"><span class="citerefentry"><span class="refentrytitle">libalias</span>(3)</span></a> e da
	    opção <code class="option">-nat</code> do <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a>) -
	    esta mantendo endereços anteriores da interface e
	    fazendo NAT do último endereço
	    negociado.</p><p>Uma outra alternativa (e provavelmente a mais
	    confiável) seria implementar uma chamada de sistema
	    que mudasse todos os soquetes ligados de um IP para outro.
	    O <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> usaria essa chamada para modificar os
	    soquetes de todos os programas em execução
	    quando um novo endereço IP é negociado.  O
	    mesmo sistema de chamadas poderia ser usado por clientes
	    dhcp quando são forçados a religar seus
	    soquetes.</p><p>Ainda, outra possibilidade é permitir a
	    interface para ser ativada sem um número IP.  Os
	    pacotes de saída seriam dados um número IP
	    255.255.255.255 até que a primeira SIOCAIFADDR
	    ioctl esteja pronta.  Isto resultaria na completa
	    ligação com o soquete.  Seria até o
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> mudar o número IP de origem, mas somente
	    se foi setado para 255.255.255.255, e somente o
	    número IP e o IP checksum deveriam ser mudados.
	    Isto porém, é um pequeno hack do
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> que deve estar
	    enviando maus pacotes para uma interface configurada, na
	    suposição de que algum outro mecanismo
	    é capaz de corrigir as coisas de forma
	    restrospectiva.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp68039120"></a><a id="ppp-nat-games"></a><p><strong>14.24.</strong></p></td><td align="left" valign="top"><p>Por que a maioria dos jogos não funciona com a
	    opção -nat?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>A razão para os jogos e outros programas
	    não funcionarem quando a libalias esta em uso
	    é porque a máquina de fora irá tentar
	    abrir uma conexão ou enviar pacotes UDP (não
	    solicitados) para a máquina de dentro.  O software
	    NAT não sabe que deve enviar esses pacotes para a
	    máquina interna.</p><p>Para que as coisas funcionem, certifique-se de que a
	    única coisa que esta rodando é o software
	    que você esta tendo problemas, a seguir rode o
	    tcpdump na interface tun do gateway ou habilite <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a>
	    tcp/ip logging (<code class="literal">set log+tcp/ip</code>) na
	    gateway.</p><p>Quando você iniciar o software, você deve
	    ver pacotes passando através da máquina
	    gateway.  Quando alguma coisa volta vindo de fora,
	    será descartado (este é o problema).  Tome
	    nota do número da porta desses pacotes e a seguir
	    feche o software.  Faça isso algumas vezes para ver
	    se os números da porta são consistentes.  Se
	    eles forem, a seguinte linha no
	    <code class="filename">/etc/ppp/ppp.conf</code> fará o
	    software funcional:</p><pre class="programlisting">nat port <em class="replaceable"><code>proto</code></em><em class="replaceable"><code>máquinainterna</code></em>:
<em class="replaceable"><code>porta</code></em><em class="replaceable"><code>porta</code></em></pre><p>Onde <em class="replaceable"><code>proto</code></em> é ou
	    <code class="literal">tcp</code> ou <code class="literal">udp</code>,
	    <em class="replaceable"><code>máquinainterna</code></em> é
	    a máquina de onde você quer que os pacotes
	    sejam enviados e <em class="replaceable"><code>porta</code></em> é
	    número da porta de destino dos pacotes.</p><p>Você não poderá usar o software em
	    outras máquinas sem mudar o comando acima, e rodar
	    o software em duas máquinas internas ao mesmo tempo
	    é fora de questão - Apesar de tudo, o lado
	    de fora esta vendo toda sua rede interna como sendo
	    somente uma máquina.</p><p>Se os números da porta não são
	    consistentes, há ainda mais 3
	    opções.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Enviar o suporte na libalias.  Exemplos de 'casos
		especiais' podem ser encontrados em
		<code class="filename">/usr/src/lib/libalias/alias_*.c </code>
		(<code class="filename">alias_ftp.c</code> eh um bom tipo de
		protocolo).  Isto geralmente envolve ler determinados
		pacotes reconhecidos na saída, identificando a
		instrução que chama a máquina
		externa para iniciar a conexão de volta para a
		máquina interna em uma porta (aleatória)
		específica e setar a <span class="quote">&#8220;<span class="quote">rota</span>&#8221;</span> na
		tabela de aliases de modo que os pacotes subsequentes
		saibam para onde ir.</p><p>Esta solução é a mais
		difícil, mas é a melhor e irá
		fazer o software trabalhar com múltipla
		máquinas.</p></li><li class="listitem"><p>Use um proxy.  A aplicação
		poderá suportar sock5 por exemplo, ou (como no
		caso do <span class="quote">&#8220;<span class="quote">cvsup</span>&#8221;</span>) pode ter uma
		opção <span class="quote">&#8220;<span class="quote">passive</span>&#8221;</span> que evita
		sempre requisições feitas pelo outro
		ponto de volta para a máquina local.</p></li><li class="listitem"><p>Redirecione tudo para a máquina interna
		usando <code class="literal">nat addr</code>.  Pode-se dizer que
		essa seja a apelação.</p></li></ol></div></td></tr><tr class="question"><td align="left" valign="top"><a id="idp68066000"></a><a id="useful-port-numbers"></a><p><strong>14.25.</strong></p></td><td align="left" valign="top"><p>Alguém fez uma lista de número de portas
	    úteis?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Não ainda, mas a intensão é
	    produzir tal lista (se algum interesse for mostrado).  Em
	    cada exemplo, <em class="replaceable"><code>internal</code></em> deve ser
	    substítuido pelo IP da máquina que esta
	    jogando o jogo.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><span class="application">Asheron's Call</span></p><p><code class="literal">nat port udp 
		    internal:65000
		  65000</code></p><p>Mude manualmente o número da porta dentro
		do jogo para 65000.  Se você começar com
		um determinado número de máquinas que
		você deseja jogar atribua uma porta para cada
		(por ex 65001, 65002, etc) e adicione uma
		<code class="literal">porta nat</code> para cada uma.</p></li><li class="listitem"><p><span class="application">Half Life</span></p><p><code class="literal">nat port udp
		  internal:27005
		  27015</code></p></li><li class="listitem"><p><span class="application"> PCAnywhere
		  8.0</span></p><p><code class="literal">nat port udp
		  internal:5632 5632
		</code></p><p><code class="literal">nat port tcp
		  internal:5631 5631
		</code></p></li><li class="listitem"><p><span class="application">Quake</span></p><p><code class="literal">nat port udp
		  internal:6112
		  6112</code></p><p>Alternativamente, você pode querer ir em
		<a class="link" href="www.battle.net" target="_top"> www.batle.net</a>
		para dar uma olhada no suporte de proxy do
		quake.</p></li><li class="listitem"><p><span class="application">Quake 2</span></p><p><code class="literal">nat port udp
		  internal:27901
		  27901</code></p><p><code class="literal">nat port udp
		  internal:60021
		  60021</code></p><p><code class="literal">nat port udp
		  internal:60040
		  60040</code></p></li><li class="listitem"><p><span class="application">Red Alert</span></p><p><code class="literal">nat port udp
		  internal:8675
		  8675</code></p><p><code class="literal">nat port udp
		  internal:5009 5009
		</code></p></li></ul></div></td></tr><tr class="question"><td align="left" valign="top"><a id="idp68089424"></a><a id="fcs-errors"></a><p><strong>14.26.</strong></p></td><td align="left" valign="top"><p>O que são erros FCS?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>FCS significa <code class="literal">F</code>rame
	    <code class="literal">C</code>heck <code class="literal">S</code>equence.
	    Cada pacote do ppp tem um checksum anexado para
	    assegurar-se de que os dados que estão sendo
	    recebidos sejam os dados que estão sendo emitidos.
	    Se o FCS de um pacote de entrada estiver incorreto, o
	    pacote sera perdido e a contagem do HDLC FCS é
	    aumentada.  Os valores de erro HDLC podem ser mostrados
	    usando o comando <code class="literal">show hdlc</code>.</p><p>Se a sua ligação é ruim  ou se o
	    driver serial esta perdendo pacotes), você
	    irá ver ocasionalmente erros FCS.  Isto geralmente
	    não é motivo para se preocupar, embora
	    diminua substancialmente os protocolos de
	    compressão.  Se você tem um modem externo,
	    certifique-se que seu cabo esteja protegido corretamente
	    de interferências - Isso pode erradicar o
	    problema.</p><p>Se sua ligação congelar assim que
	    você conectar e vier um grande número de
	    erros FCS, pode ser porque seu link não esta com o
	    bit 8 limpo.  Certifique-se que seu modem não
	    esteja usando o controle de fluxo do software (XON/XOFF).
	    Se o seu datalink deve usar software de controle de fluxo,
	    use o comando <code class="literal">set accmap 0x000a0000</code>
	    para dizer ao ppp para ignorar os caracteres
	    <code class="literal">^Q</code> e <code class="literal">^S</code>.</p><p>Uma outra razão para estar vendo muitos erros
	    FCS pode ser que a extremidade remota parou de comunicar
	    com o <acronym class="acronym">PPP</acronym>.  Você pode querer
	    habilitar registros <code class="literal">async</code> neste ponto
	    para determinar se os dados entrantes são realmente
	    um alerta de início de sessão do prompt da
	    shell.  Se você tiver um prompt shell na extremidade
	    remota, é possível terminar o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> sem
	    deixar cair a linha usando o comando <code class="literal">close
	      lcp</code> (o comando <code class="literal">term</code>
	    irá reconectar você shell da máquina
	    remota).  Se nada em seus logs indicar o porque de sua
	    ligação ter sido terminada, você pode
	    perguntar ao administrador remoto (do seu provedor?)
	    porque a sessão foi terminada.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="PPPoEwithNAT"></a><a id="macos-win98-pppoe-freeze"></a><p><strong>14.27.</strong></p></td><td align="left" valign="top"><p>Por que a conexão do MacOS e Windows98 travam
	    ao rodar o PPPoE no gateway?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Agradecimentos a Michael Wozniak
	    <code class="email">&lt;<a xmlns="" class="email" href="mailto:mwozniak@netcom.ca">mwozniak@netcom.ca</a>&gt;</code> por descobrir o
	    problema, e a Dan Flemming
	    <code class="email">&lt;<a xmlns="" class="email" href="mailto:danflemming@mac.com">danflemming@mac.com</a>&gt;</code> pela
	    solução do Mac:</p><p>Isto é devido ao que é chamado de
	    roteador <span class="quote">&#8220;<span class="quote">Buraco Negro</span>&#8221;</span> (<span class="foreignphrase"><em class="foreignphrase">Black
	      Hole</em></span>).  MacOS e Windows98 (e talvez
	    outros SO's da Microsoft) envia m pacotes TCP com um
	    tamanho de segmento requisitado muito grande para ser
	    contido em um frame do PPPoE (MTU por default na ethernet
	    é de 1500) <span class="emphasis"><em>e</em></span> tenha o
	    <span class="quote">&#8220;<span class="quote">não fragmento</span>&#8221;</span> do bit ajustado
	    (default do TCP) e o roteador Telco não esta
	    enviando ICMP <span class="quote">&#8220;<span class="quote">deve ser fragmentado</span>&#8221;</span> de volta
	    ao sitio www que você esta tentando carregar.
	    (Alternativamente o roteador está enviando pacotes
	    ICMP corretamente, mas o firewall no sitio www esta
	    deixando perdê-los).  Quando o servidor www esta
	    enviando seus frames que não cabem no pipe do PPPoE
	    o roteador Telco deixa-os perder e sua página
	    não é carregada (algumas páginas
	    gráficas carregam porque são menores que um
	    MSS).  Esta parece ser a configuração
	    default da maioria dos Telco PPPoE (somente eles sabem
	    como programar o roteador).</p><p>Um maneira de fixar isso é usando o regedit em
	    sua seu Windows 95/98 e adicionar a seguinte entrada de
	    registro:</p><pre class="programlisting">HKEY_LOCAL_MACHINE\System\CurrentControlSet\Services\Class\NetTrans\0000\MaxMTU</pre><p>Deve ser uma string com um valor <span class="quote">&#8220;<span class="quote">1436</span>&#8221;</span>,
	    porque há relatos de que alguns roteadores ADSL
	    são incapazes de tratar os pacotes maiores que
	    esse.  Esta chave de registro foi mudada para
	    <code class="literal">Tcpip\Parameters\Interfaces\ID-para-o-adptador\MTU</code>
	    no windows 2000 e tornou-se um DWORD.</p><p>Consulte os documentos da Microsoft <a class="link" href="http://support.microsoft.com/support/kb/articles/Q158/4/74.asp" target="_top">
	      Q158474 - Windows TCPIP Entradas de registroi</a> e
	    <a class="link" href="http://support.microsoft.com/support/kb/articles/Q120/6/42.asp" target="_top">
	      Q120642 - TCPIP &amp; NBT Parametros de
	      configuração para Windows NT</a> para
	    maiores informacoes sobre alterações de MTU
	    no Windows para funcionar com um roteador NAT.</p><p>Uma outra possibilidade do regedit sob o Windows 2000
	    é setar
	    <code class="literal">Tcpip\Parameters\Interfaces\ID-para-o-adaptador\EnablePMTUBHDetect</code>
	    DWORD para 1 como mencionado no documento original da
	    Microsoft 120642 comentado acima.</p><p>Infelizmente o MacOS não oferece uma
	    mudança TCP/IP nas configurações da
	    interface.  Entretanto, há um software comercial
	    disponível, o OTAdvancedTuner (OT para
	    OpenTransport, a pilha TCP/IP do MacOS) feito pela <a class="link" href="http://www.softworks.com/" target="_top"> Sustainable
	      Softworks</a>, ele permite aos usuários
	    customizar as configurações TCP/IP.  Os
	    usuários de NAT do MacOS devem selecionar o
	    <code class="literal">ip_interface_MTU</code> no menu drop-down,
	    colocar <code class="literal">1450</code> em vez de
	    <code class="literal">1500</code>, clique na caixa próximo ao
	    <code class="literal">Save as Auto Configure</code>, e clique em
	    <code class="literal">Make Active</code>.</p><p>Versões mais recentes do <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> (2.3 ou
	    mais recente) tem o comando <code class="command">enable
	      tcpmssfixup</code> que irá automaticamente
	    ajustar um valor apropriado ao MSS.  Esta facilidade
	    é habilitada por default.  Se você for
	    apaixonado pela versão mais antiga do <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a>
	    você pode querer dar uma olhada no
	    <code class="literal">port</code> do
	    <span class="application">tcpmssd</span>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp68117328"></a><a id="desperation"></a><p><strong>14.28.</strong></p></td><td align="left" valign="top"><p>Nada disso me ajudou - Eu estou desesperado!  O que eu
	    posso fazer?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Se tudo falhar, envie o máximo de
	    informacões que você puder, incluindo seus
	    arquivos de configuração, a forma como
	    está iniciando o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a>, os trechos relevantes
	    de seu arquivo de log e a saída do comando
	    <code class="command">netstat -rn</code> (antes e depois de
	    conectado) para a lista <a class="link" href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-questions" target="_top">lista de 
  discussão para perguntas gerais sobre o FreeBSD</a> ou para o grupo de
	    notícias <a class="link" href="news:comp.unix.bsd.freebsd.misc" target="_top">comp.unix.bsd.freebsd.misc</a>.
	    Alguém deve ajudar a solucionar seu
	    problema.</p></td></tr></tbody></table></div></div><div class="chapter"><div xmlns="" class="titlepage"><div><div><h1 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="serial"></a>Capítulo 15. Comunicações Seriais</h1></div></div></div><p>Essa seção cobre as perguntas mais comuns
      sobre comunicação serial com o FreeBSD.  PPP e
      SLIP são abordados na seção
    <a class="xref" href="#networking" title="Capítulo 12. Redes">Capítulo 12, <em>Redes</em></a>.</p><div class="qandaset"><a id="idp68123728"></a><dl><dt>15.1. <a href="#idp68123984">Como eu posso dizer se o FreeBSD encontrou minhas
	    portas seriais?</a></dt><dt>15.2. <a href="#idp68148944">Como eu posso dizer se o FreeBSD encontrou minha placa
	    de fax modem?</a></dt><dt>15.3. <a href="#idp68151120">Eu acabei de atualizar para a versão 2.0.5 e as
	    minhas
	    tty0X
	    desapareceram!  Como eu resolvo esse problema?</a></dt><dt>15.4. <a href="#idp68153936">Como eu acesso as portas seriais no FreeBSD?</a></dt><dt>15.5. <a href="#idp68165968">Como eu habilito suporte para uma placa serial de
	    múltiplas portas?</a></dt><dt>15.6. <a href="#idp68181456">O FreeBSD pode trabalhar com placas seriais de
	    múltiplas portas compartilhando irqs?</a></dt><dt>15.7. <a href="#idp68183504">Posso definir os parâmetros seriais
	    padrão para uma porta?</a></dt><dt>15.8. <a href="#idp68196304">Como eu habilito logins dial-up no meu modem?</a></dt><dt>15.9. <a href="#idp68251088">Como eu conecto um terminal burro ao meu
	    FreeBSD?</a></dt><dt>15.10. <a href="#idp68258768">Por que eu não posso executar o
	    tip ou o cu?</a></dt><dt>15.11. <a href="#idp68276560">Meu modem modelo Hayes não é suportado -
	    o que eu posso fazer?</a></dt><dt>15.12. <a href="#idp68301520">Como posso entrar nestes comandos AT?</a></dt><dt>15.13. <a href="#idp68318288">Porque o sinal &lt;@&gt; para a
	    capacidade pn não
	    funciona?</a></dt><dt>15.14. <a href="#idp68323280">Como eu posso discar um número de telefone pela
	    linha de comando?</a></dt><dt>15.15. <a href="#idp68330704">Tenho que definir a taxa de bits por segundo sempre
	    que fazer isso?</a></dt><dt>15.16. <a href="#idp68342992">Como posso facilmente acessar vários hosts
	    através de um terminal
	      server?</a></dt><dt>15.17. <a href="#idp68350544">O &#8220;tip&#8221; pode tentar discar mais de uma
	    linha por vez?</a></dt><dt>15.18. <a href="#idp68359632">Por que eu tenho que pressionar duas vezes o
	    CTRL+P
	    para enviar CTRL+P
	    uma única vez?</a></dt><dt>15.19. <a href="#idp68377936">Por que tudo o que eu digito inesperadamente
	    está em CAIXA ALTA?</a></dt><dt>15.20. <a href="#idp68392272">Como eu posso transferir arquivos com o
	    tip?</a></dt><dt>15.21. <a href="#idp68397776">Como eu posso executar o zmodem com o
	    tip?</a></dt><dt>15.22. <a href="#idp68408400">O FreeBSD pode vir a não encontrar minhas
	    portas seriais, mesmo quando as
	    configurações estão corretas?</a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%" /><col /></colgroup><tbody><tr class="question"><td align="left" valign="top"><a id="idp68123984"></a><a id="found-serial"></a><p><strong>15.1.</strong></p></td><td align="left" valign="top"><p>Como eu posso dizer se o FreeBSD encontrou minhas
	    portas seriais?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Assim que o kernel do FreeBSD é carregado, ele
	    irá varrer as portas seriais do seu sistema
	    procurando dispositivos nas portas configuradas no kernel.
	    Pode-se observar atentamente as mensagens que o sistema
	    exibe, ou então executar o seguinte comando:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>dmesg | grep sio</code></strong></pre><p>assim que o sistema estiver em funcionamento e
	    execução.</p><p>Aqui estão alguns exemplos dos resultados do
	    comando executado acima:</p><pre class="programlisting">sio0 at 0x3f8-0x3ff irq 4 on isa
sio0: type 16550A
sio1 at 0x2f8-0x2ff irq 3 on isa
sio1: type 16550A</pre><p>Eles mostram duas portas seriais.  A primeira
	    está na irq 4, está usando o endereço
	    de porta <code class="literal">0x3f8</code>, e tem um chip modelo
	    UART 16550A.  O segundo utiliza o mesmo tipo de chip mas
	    está na irq 3 e seu endereço de porta
	    é <code class="literal">0x2f8</code>.  Modems internos
	    são tratados como se fossem portas seriais --
	    exceto que sempre tem um modem <span class="quote">&#8220;<span class="quote">conectado</span>&#8221;</span>
	    à porta.</p><p>O <span class="foreignphrase"><em class="foreignphrase">kernel</em></span>
	    <code class="filename">GENERIC</code> tem suporte para duas portas
	    seriais utilizando os mesmos irqs e
	    configurações de endereços de portas
	    do exemplo acima.  Se tais configurações
	    não estão certas para seu sistema, ou se
	    você adicionou placas de modem ou tem mais portas
	    seriais para o qual o
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> foi configurado,
	    apenas recompile seu
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span>.  Veja a a
	    seção de <a class="link" href="#make-kernel" title="8.1.">compilação do
	      <span class="foreignphrase"><em class="foreignphrase">kernel</em></span></a> para obter
	    mais detalhes.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp68148944"></a><a id="found-modem"></a><p><strong>15.2.</strong></p></td><td align="left" valign="top"><p>Como eu posso dizer se o FreeBSD encontrou minha placa
	    de fax modem?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Refira-se à resposta da pergunta
	    anterior.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp68151120"></a><a id="missing-tty0X"></a><p><strong>15.3.</strong></p></td><td align="left" valign="top"><p>Eu acabei de atualizar para a versão 2.0.5 e as
	    minhas
	    <code class="filename">tty0X</code>
	    desapareceram!  Como eu resolvo esse problema?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Não se preocupe, eles foram incluídos
	    com os dispositivos
	    <code class="filename">ttydX</code>.
	    No entanto, você deve mudar todos os arquivos da
	    configuração antiga que você
	    tiver.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp68153936"></a><a id="access-serial-ports"></a><p><strong>15.4.</strong></p></td><td align="left" valign="top"><p>Como eu acesso as portas seriais no FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>A terceira porta serial, <code class="filename">sio2</code>
	    (veja <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sio&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">sio</span>(4)</span></a>, conhecida como COM3 no DOS),
	    está na <code class="filename">/dev/cuaa2</code> para os
	    dispositivos dial-out, e na
	    <code class="filename">/dev/ttyd2</code> para os dispositivos
	    dial-in.  Qual é a diferença entre essas
	    duas classes de dispositivos?</p><p>Você utiliza
	    <code class="filename">ttydX</code>
	    para dial-ins.  Quando o
	    <code class="filename">/dev/ttydX</code>
	    se abre no modo de bloqueio, um processo irá
	    aguardar que o dispositivo
	    <code class="filename">cuaaX</code>
	    correspondente torne-se inativo, e aguarda a
	    detecção do <span class="foreignphrase"><em class="foreignphrase">carrier
	      detect</em></span> da linha para ativar-se.  Quando
	    a
	    <code class="filename">cuaaX</code>
	    se abre, ela deixa claro que a porta não esta ainda
	    em uso pelo dispositivo
	    <code class="filename">ttydX</code>.
	    Se a porta estiver disponível, ela é
	    <span class="quote">&#8220;<span class="quote">roubada</span>&#8221;</span> do dispositivo
	    <code class="filename">ttydX</code>.
	    Além disso, o dispositivo
	    <code class="filename">cuaaX</code>
	    não se importa com o carrier detect.  Com esse
	    esquema de auto-resposta do modem, você pode ter
	    usuários remotos conectando e você pode ainda
	    discar para fora com o mesmo modem, que o sistema
	    irá cuidar de todos os conflitos.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp68165968"></a><a id="enable-multiport-serial"></a><p><strong>15.5.</strong></p></td><td align="left" valign="top"><p>Como eu habilito suporte para uma placa serial de
	    múltiplas portas?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Novamente, a seção de
	    configuração do
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> provê
	    informações sobre a
	    configuração de seu
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span>.  Para uma placa
	    serial de múltiplas portas, coloque uma linha
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sio&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">sio</span>(4)</span></a> para cada porta serial da placa, no arquivo de
	    configuração do
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span>.  Mas coloque o irq
	    e as espeficicações do vetor apenas em uma
	    das entradas.  Todas as portas da placa devem compartilhar
	    uma irq.  Para consistência, utilize a última
	    porta serial para especificar a irq.  Além disso,
	    especifique a opção
	    <code class="literal">COM_MULTIPORT</code>.</p><p>O exemplo seguinte é para uma placa serial AST
	    4-portas na irq 7:</p><pre class="programlisting">options "COM_MULTIPORT"
device sio4 at isa? port 0x2a0 tty flags 0x781
device sio5 at isa? port 0x2a8 tty flags 0x781
device sio6 at isa? port 0x2b0 tty flags 0x781
device sio7 at isa? port 0x2b8 tty flags 0x781 irq 7 vector siointr</pre><p>As flags indicam que a porta master tem um
	    <span class="quote">&#8220;<span class="quote">minor number</span>&#8221;</span> 7 (<code class="literal">0x700</code>),
	    diagnósticos habilitados durante o escaneamento
	    (<code class="literal">0x080</code>), e todas as portas compartilham
	    uma irq (<code class="literal">0x001</code>).</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp68181456"></a><a id="multiport-serial-share-irq"></a><p><strong>15.6.</strong></p></td><td align="left" valign="top"><p>O FreeBSD pode trabalhar com placas seriais de
	    múltiplas portas compartilhando irqs?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Ainda não.  Você deverá utilizar
	    uma irq diferente para cada placa.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp68183504"></a><a id="default-serial-params"></a><p><strong>15.7.</strong></p></td><td align="left" valign="top"><p>Posso definir os parâmetros seriais
	    padrão para uma porta?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>O
	    <code class="filename">ttydX</code>
	    (<code class="filename">cuaaX</code>)
	    é um dispositivo regular que você vai querer
	    abrir para suas aplicações.  Quando um
	    processo abre um dispositivo, ele tem um conjunto
	    padrão de configurações de terminais
	    de E/S.  Você pode ver essas
	    configurações  com o comando</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>stty -a -f /dev/ttyd1</code></strong></pre><p>Ao alterar as configurações para esse
	    dispositivo, elas se manterão em efeito até
	    que o dispositivo seja fechado.  Quando ele for reaberto,
	    vai para o estado padrão.  Para fazer
	    mudanças nos ajustes padrão, pode-se abrir e
	    ajustar as configurações do <span class="quote">&#8220;<span class="quote">estado
	      inicial</span>&#8221;</span> do dispositivo.  Por exemplo, para ligar
	    o modo <acronym class="acronym">CLOCAL</acronym>, 8 bits, e o controle de
	    fluxo <acronym class="acronym">XON/XOFF</acronym> padrão para a
	    ttyd5, faça:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>stty -f /dev/ttyid5 clocal cs8 ixon ixoff</code></strong></pre><p>Um bom lugar para fazer isso é no
	    <code class="filename">/etc/rc.serial</code>.  Agora, uma
	    aplicação terá estas
	    configurações por padrão quando abrir
	    o <code class="filename">ttyd5</code>.  No entanto, pode-se ainda
	    modificar estas configurações a seu
	    gosto.</p><p>Você pode prevenir certas
	    configurações de serem modificadas por uma
	    aplicação fazendo ajustes no dispositivo de
	    <span class="quote">&#8220;<span class="quote">lock state</span>&#8221;</span>.  Por exemplo, para travar a
	    velocidade do <code class="filename">ttyd5</code> em 57600 bps,
	    faça:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>stty -f /dev/ttyld5 57600</code></strong></pre><p>Agora, uma aplicação, ao abrir o
	    <code class="filename">ttyd5</code>, se tentar modificar a
	    velocidade da porta, ficará travada a 57600
	    bps.</p><p>Naturalmente você deve garantir que os
	    dispositivos de estado inicial e o estado de trava
	    (<code class="literal">lock</code>) tenham permissão de
	    escrita apenas para o <code class="systemitem">root</code>.  O script
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=MAKEDEV&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">MAKEDEV</span>(8)</span></a> <span class="emphasis"><em>NÃO</em></span> faz isso
	    quando ele cria as entradas de dispositivos.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp68196304"></a><a id="enable-dialup"></a><p><strong>15.8.</strong></p></td><td align="left" valign="top"><p>Como eu habilito logins dial-up no meu modem?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Então você quer tornar-se um provedor de
	    serviços internet, não é?  Primeiro,
	    você precisa de um ou mais modems que auto-respondam
	    às chamadas.  Seu modem precisa confirmar o
	    <span class="quote">&#8220;<span class="quote">carrier detect</span>&#8221;</span> quando ele for detectado e
	    não fazê-lo todo o tempo.  Ele
	    precisará desligar o telefone e resetar a si mesmo
	    quando a linha <acronym class="acronym">DTR</acronym> (Data Terminal
	    Ready) alternar de ligado para desligado.  Ele
	    provavelmente deve utilizar o controle de fluxo
	    <code class="filename">RTS/CTS</code> ou nenhum controle local de
	    fluxo.  Finalmente, ele deve utilizar uma velocidade
	    constante entre o computador e si mesmo, mas (para ser
	    simpático com seus usuários) ele deve
	    negociar uma velocidade entre si mesmo e o modem
	    remoto.</p><p>Para muitos modems compatíveis com o conjunto
	    de comandos do Hayes este comando criará estas
	    configurações e as armazenará na
	    memória não volátil:</p><pre class="programlisting">AT &amp;C1 &amp;D3 &amp;K3 &amp;Q6 S0=1 &amp;W</pre><p>Veja a seção <a class="link" href="#direct-at" title="15.12.">
	      enviando comandos AT</a> abaixo para mais
	    informações sobre como fazer estas
	    configurações sem o auxílio de um
	    programa de terminal MS-DOS.</p><p>Depois, faça uma entrada em
	    <code class="filename">/etc/ttys</code> (veja <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ttys&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">ttys</span>(5)</span></a>) para o
	    modem.  Este arquivo lista todas as portas nas quais o
	    sistema irá aguardar pelos logins.  Adicione uma
	    parecida com essa:</p><pre class="programlisting">ttyd1 "/usr/libexec/getty std.57600" dialup on insecure</pre><p>Esta linha indica que a segunda porta serial
	    (<code class="filename">/dev/ttyd1</code>) tem um modem
	    conectado e rodando a 57600 bps e sem paridade
	    (<code class="literal">std.57600</code>, que vem do arquivo
	    <code class="filename">/etc/gettytab</code>, veja
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=gettytab&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">gettytab</span>(5)</span></a>).  O tipo de terminal para esta porta
	    é <code class="literal">dialup</code>.  A porta esta
	    <code class="literal">ligada</code> e é
	    <code class="literal">insegura</code> - quer dizer que o login do
	    usuário <code class="systemitem">root</code> não
	    é permitido.  Para portas dialin como esta,
	    utiliza-se a entrada
	    <code class="filename">ttydX</code></p><p>É uma prática comum utilizar
	    <code class="literal">dialup</code> como o tipo do terminal.  Muitos
	    usuários configuram um
	    <span class="foreignphrase"><em class="foreignphrase">prompt</em></span> para seus arquivos
	    <code class="filename">.profile</code> ou
	    <code class="filename">.login</code> para o tipo de terminal
	    existente se o tipo iniciante é dialup.  O exemplo
	    mostra a porta como insegura.  Para tornar-se
	    <code class="systemitem">root</code> nesta porta, você tem que
	    logar-se como um usuário regular, e então
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=su&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">su</span>(1)</span></a> para tornar-se <code class="systemitem">root</code>.  Se
	    você usar <code class="literal">seguro</code>, então o
	    <code class="systemitem">root</code> vai poder efetuar o login
	    diretamente.</p><p>Após efetuar as operações no
	    <code class="filename">/etc/ttys</code>, você precisa enviar
	    um sinal de <span class="foreignphrase"><em class="foreignphrase">hangup</em></span> ou
	    <acronym class="acronym">HUP</acronym> para o processo
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=init&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">init</span>(8)</span></a>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>kill -HUP 1</code></strong></pre><p>Esse comando forçará a releitura do
	    arquivo <code class="filename">/etc/ttys</code>.  O processo init
	    iniciará os processos getty em todas as portas
	    configuradas em <code class="literal">on</code> (ligadas).
	    Você pode descobrir se seus logins estão
	    disponíveis para sua porta digitando:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>ps -ax | grep '[t]tyd1'</code></strong></pre><p>Você deve ver algo como:</p><pre class="programlisting">747 ??  I      0:00.04 /usr/libexec/getty std.57600 ttyd1</pre></td></tr><tr class="question"><td align="left" valign="top"><a id="idp68251088"></a><a id="dumb-terminal"></a><p><strong>15.9.</strong></p></td><td align="left" valign="top"><p>Como eu conecto um terminal burro ao meu
	    FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Se você esta usando outro computador como um
	    terminal de seu sistema FreeBSD, consiga um cabo
	    <span class="quote">&#8220;<span class="quote">null modem</span>&#8221;</span> para ser usado entre as duas
	    portas seriais.  Se você esta utilizando um terminal
	    próprio, veja as instruções que o
	    acompanham.</p><p>Então, modifique o
	    <code class="filename">/etc/ttys</code> (veja <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ttys&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">ttys</span>(5)</span></a>), como
	    acima.  Por exemplo, se você esta ligando um
	    terminal WYSE 50 à quinta porta serial, utilize uma
	    entrada como esta::</p><pre class="programlisting">ttyd4 "/usr/libexec/getty std.38400" wyse50 on secure</pre><p>Esse exemplo mostra que a porta em
	    <code class="filename">/dev/ttyd4</code> tem um terminal wyse50
	    conectado a 38400 bps (bits por segundo) sem nenhuma
	    paridade (<code class="literal">std.38400</code> de
	    <code class="filename">/etc/gettytab</code>, veja
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=gettytab&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">gettytab</span>(5)</span></a>)) e o login do <code class="systemitem">root</code>
	    é permitido (<code class="literal">seguro</code>).</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp68258768"></a><a id="cannot-tip"></a><p><strong>15.10.</strong></p></td><td align="left" valign="top"><p>Por que eu não posso executar o
	    <code class="command">tip</code> ou o <code class="command">cu</code>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Em seu sistema, os programas <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=tip&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">tip</span>(1)</span></a> e <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=cu&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">cu</span>(1)</span></a>
	    são provavelmente executáveis somente pro
	    <code class="systemitem">uucp</code> e para o grupo
	    <code class="systemitem">dialer</code>.  Você pode utilizar o
	    grupo <code class="systemitem">dialer</code> para controlar quem
	    acessa o seu modem ou sistemas remotos.  Basta adicionar
	    você mesmo ao grupo dialer.</p><p>Alternativamente, você pode permitir a todos no
	    seu sistema executarem o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=tip&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">tip</span>(1)</span></a> e o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=cu&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">cu</span>(1)</span></a>
	    digitando:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>chmod 4511 /usr/bin/cu</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>chmod 4511 /usr/bin/tip</code></strong></pre></td></tr><tr class="question"><td align="left" valign="top"><a id="idp68276560"></a><a id="hayes-unsupported"></a><p><strong>15.11.</strong></p></td><td align="left" valign="top"><p>Meu modem modelo Hayes não é suportado -
	    o que eu posso fazer?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>De fato a manpage para o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=tip&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">tip</span>(1)</span></a> esta
	    desatualizada.  Há um discador generico do Hayes
	    já incorporado.  Apenas insira
	    <code class="literal">at=hayes</code> em seu arquivo
	    <code class="filename">/etc/remote</code> (veja
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=remote&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">remote</span>(5)</span></a>).</p><p>O drive do Hayes não é inteligente o
	    bastante para reconhecer algumas das avançadas
	    características dos modems mais novos - mensagens
	    como <code class="literal">BUSY</code>, <code class="literal">NO
	      DIALTONE</code>, ou <code class="literal">CONNECT 115200</code>
	    estarão apenas confundindo-o.  Você deve
	    desabilitar estas mensagens quando utilizar o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=tip&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">tip</span>(1)</span></a>
	    (com o comando <code class="literal">ATX0&amp;W</code>).</p><p>Além disso, o timeout para discagem com o
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=tip&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">tip</span>(1)</span></a> é de 60 segundos.  Seu modem deve
	    utilizar um valor menor, senão o tip pensará
	    que existe um problema de comunicação.
	    Tente <code class="literal">ATS7=45&amp;W</code>.</p><p>De fato, como o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=tip&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">tip</span>(1)</span></a> não foi compilado
	    para suportar HAYES, essa funcionalidade não
	    é completamente suportada.  A solução
	    é editar o arquivo <code class="filename">tipconf.h</code>
	    no diretório
	    <code class="filename">/usr/src/usr.bin/tip/tip</code>.  Obviamente
	    você precisa da distribuição fonte
	    para fazer isso.</p><p>Edite a linha <code class="literal">#define HAYES 0</code>
	    alterando-a para <code class="literal">#define HAYES 1</code>.
	    Depois digite <code class="command">make</code> e <code class="command">make
	      install</code>.  Tudo funcionará bem depois
	    disso.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp68301520"></a><a id="direct-at"></a><p><strong>15.12.</strong></p></td><td align="left" valign="top"><p>Como posso entrar nestes comandos AT?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Faça o que é chamado de uma entrada
	    <span class="quote">&#8220;<span class="quote">direta</span>&#8221;</span> no seu
	    <code class="filename">/etc/remote</code> (veja <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=remote&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">remote</span>(5)</span></a>).
	    Por exemplo, se o seu modem está definido na
	    primeira porta serial,
	    <code class="filename">/dev/cuaa0</code>, coloque a seguinte
	    linha:</p><pre class="programlisting">cuaa0:dv=/dev/cuaa0:br#19200:pa=none</pre><p>Utilize a taxa de velocidade mais alta que seu modem
	    suportar na capacidade br.  Então digite
	    <code class="command">tip cuaa0</code>
	    (veja <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=tip&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">tip</span>(1)</span></a>) e você estará conectado ao
	    seu modem.</p><p>Se não existir nenhum
	    <code class="filename">/dev/cuaa0</code> no sistema,
	    faça isso:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cd /dev</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>sh MAKEDEV cuaa0</code></strong></pre><p>Ou utilize cu como <code class="systemitem">root</code> com o
	    seguinte comando:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cu -lline -sspeed</code></strong></pre><p>com a <em class="replaceable"><code>line</code></em> sendo a porta
	    serial (por exemplo, <code class="filename">/dev/cuaa0</code>)
	    e <em class="replaceable"><code>speed</code></em> sendo a velocidade (por
	    exemplo, <code class="literal">57600</code>).  Quando terminar com
	    os comandos AT, digite <code class="literal">~.</code> para
	    sair.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp68318288"></a><a id="gt-failure"></a><p><strong>15.13.</strong></p></td><td align="left" valign="top"><p>Porque o sinal <code class="literal">&lt;@&gt;</code> para a
	    capacidade pn não
	    funciona?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>O sinal <code class="literal">&lt;@&gt;</code> no número
	    de telefone diz ao tip para procurar em
	    <code class="filename">/etc/phones</code> por um número de
	    telefone.  Mas o sinal <code class="literal">&lt;@&gt;</code>
	    é também um caracter especial em arquivos
	    como o <code class="filename">/etc/remote</code>.  Escape dele com
	    um <code class="literal">\</code> (barra invertida):</p><pre class="programlisting">pn=\@</pre></td></tr><tr class="question"><td align="left" valign="top"><a id="idp68323280"></a><a id="dial-command-line"></a><p><strong>15.14.</strong></p></td><td align="left" valign="top"><p>Como eu posso discar um número de telefone pela
	    linha de comando?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Coloque o que é chamado de uma entrada
	    <span class="quote">&#8220;<span class="quote">genérica</span>&#8221;</span> no arquivo
	    <code class="filename">/etc/remote</code> (veja <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=remote&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">remote</span>(5)</span></a>).
	    Por exemplo:</p><pre class="programlisting">tip115200|Disque para qualquer número em 115200 bps:\
        :dv=/dev/cuaa0:br#115200:at=hayes:pa=none:du:
tip57600|Disque para qualquer número em 57600 bps:\
        :dv=/dev/cuaa0:br#57600:at=hayes:pa=none:du:</pre><p>Depois você pode fazer algo como <code class="command">tip
	      -115200 5551234</code>.  Se preferir o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=cu&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">cu</span>(1)</span></a> ao
	    invés do <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=tip&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">tip</span>(1)</span></a>, utilize uma entrada
	    genérica:</p><pre class="programlisting">cu115200|Use o cu para discar qualquer número em 115200bps:\
        :dv=/dev/cuaa1:br#57600:at=hayes:pa=none:du:</pre><p>e digite <code class="command">cu 5551234 -s
	      115200</code>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp68330704"></a><a id="set-bps"></a><p><strong>15.15.</strong></p></td><td align="left" valign="top"><p>Tenho que definir a taxa de bits por segundo sempre
	    que fazer isso?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Coloque uma entrada para <code class="literal">tip1200</code> ou
	    para <code class="literal">cu1200</code>, mas vá em frente e
	    utilize quaisquer taxas de bps (bits por segundo) que
	    sejam apropriadas para a capacidade br.  O <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=tip&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">tip</span>(1)</span></a> diz
	    que um bom padrão é 1200 bps porquê
	    ele procura uma entrada <code class="literal">tip1200</code>.  De
	    qualquer forma, você não precisa utilizar
	    1200 bps.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp68342992"></a><a id="terminal-server"></a><p><strong>15.16.</strong></p></td><td align="left" valign="top"><p>Como posso facilmente acessar vários hosts
	    através de um <code class="literal">terminal
	      server</code>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Ao invés de esperar até a
	    conexão, digitando <code class="literal">CONNECT
	      host</code> sempre, use a
	    opção <code class="literal">cm</code> do tip.  Por
	    exemplo, estas entradas em
	    <code class="filename">/etc/remote</code> (veja
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=remote&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">remote</span>(5)</span></a>):</p><pre class="programlisting">pain|pain.deep13.com|Forrester's machine:\
        :cm=CONNECT pain\n:tc=deep13:
muffin|muffin.deep13.com|Frank's machine:\
        :cm=CONNECT muffin\n:tc=deep13:
deep13:Gizmonics Institute terminal server:\
        :dv=/dev/cuaa2:br#38400:at=hayes:du:pa=none:pn=5551234:</pre><p>permitirá a você digitar <code class="command">tip
	      pain</code> ou <code class="command">tip muffin</code> para se
	    conectar aos hosts <code class="systemitem">pain</code> ou
	    <code class="systemitem">muffin</code>; e <code class="command">tip deep13</code>
	    para se conectar ao <code class="literal">terminal
	      server</code>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp68350544"></a><a id="tip-multiline"></a><p><strong>15.17.</strong></p></td><td align="left" valign="top"><p>O <span class="quote">&#8220;<span class="quote">tip</span>&#8221;</span> pode tentar discar mais de uma
	    linha por vez?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Normalmente esse é um problema tradicional onde
	    uma universidade possue várias linhas de modems e
	    vários milhares de estudantes tentando
	    usá-las...</p><p>Faça uma entrada para sua universidade
	    em<code class="filename">/etc/remote</code> (veja <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=remote&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">remote</span>(5)</span></a>) e
	    utilize a <code class="literal">&lt;\@&gt;</code> para a
	    característica <code class="literal">pn</code>:</p><pre class="programlisting">big-university:\
        :pn=\@:tc=dialout
dialout:\
        :dv=/dev/cuaa3:br#9600:at=courier:du:pa=none:</pre><p>Então, liste os números de telefones
	    para a universidade em <code class="filename">/etc/phones</code>
	    (veja <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=phones&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">phones</span>(5)</span></a>):</p><pre class="programlisting">big-university 5551111
big-university 5551112
big-university 5551113
big-university 5551114</pre><p>O <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=tip&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">tip</span>(1)</span></a> tentará usar cada um na ordem
	    listada, e depois desistirá.  Se você quer
	    manter-se tentando, execute o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=tip&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">tip</span>(1)</span></a> em um loop
	    while.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp68359632"></a><a id="multi-controlp"></a><p><strong>15.18.</strong></p></td><td align="left" valign="top"><p>Por que eu tenho que pressionar duas vezes o
	    <span class="keycap"><strong>CTRL</strong></span>+<span class="keycap"><strong>P</strong></span>
	    para enviar <span class="keycap"><strong>CTRL</strong></span>+<span class="keycap"><strong>P</strong></span>
	    uma única vez?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><span class="keycap"><strong>CTRL</strong></span>+<span class="keycap"><strong>P</strong></span>
	    é o padrão para <span class="quote">&#8220;<span class="quote">force
	      character</span>&#8221;</span>, utilizado para dizer ao <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=tip&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">tip</span>(1)</span></a>
	    que o próximo caracter é um dado literal.
	    Você pode definir o force character para qualquer
	    outro caracter com o escape <code class="literal">~s</code>, que
	    quer dizer <span class="quote">&#8220;<span class="quote">defina uma variável</span>&#8221;</span>.</p><p>Digite <code class="literal">~sforce=single-char
	      </code> seguido de uma
	    <span class="emphasis"><em>newline</em></span>.
	    <em class="replaceable"><code>single-charcaracter</code></em> é
	    qualquer caracter único.  Se você deixar
	    <em class="replaceable"><code>single-char</code></em>, então o
	    <span class="quote">&#8220;<span class="quote">force character</span>&#8221;</span> será o caracter
	    nulo, que você pode ao digitar <span class="keycap"><strong>CTRL</strong></span>+<span class="keycap"><strong>2</strong></span>
	    ou <span class="keycap"><strong>CTRL</strong></span>+<span class="keycap"><strong>SPACE</strong></span>.
	    Um valor muito bom para o
	    <em class="replaceable"><code>single-char</code></em> é <span class="keycap"><strong>SHIFT</strong></span>+<span class="keycap"><strong>CTRL</strong></span>+<span class="keycap"><strong>6</strong></span>,
	    o qual eu vi sendo usado em alguns servidores de
	    terminais.</p><p>Você pode ter o <span class="quote">&#8220;<span class="quote">force character</span>&#8221;</span>
	    que você quiser especificando o seguinte em seu
	    arquivo <code class="filename">$HOME/.tiprc</code> o
	    seguinte:</p><pre class="programlisting">force=<em class="replaceable"><code>single-char</code></em></pre></td></tr><tr class="question"><td align="left" valign="top"><a id="idp68377936"></a><a id="uppercase"></a><p><strong>15.19.</strong></p></td><td align="left" valign="top"><p>Por que tudo o que eu digito inesperadamente
	    está em CAIXA ALTA?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Você deve ter pressionado <span class="keycap"><strong>CTRL</strong></span>+<span class="keycap"><strong>A</strong></span>,
	    o <span class="quote">&#8220;<span class="quote">raise character do <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=tip&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">tip</span>(1)</span></a></span>&#8221;</span>,
	    especialmente projetado para pessoas com teclas
	    <span class="keycap"><strong>Caps Lock</strong></span> que não funcionam.  Use
	    o <code class="literal">~s</code> como acima, e defina a
	    variável <span class="quote">&#8220;<span class="quote">raisechar</span>&#8221;</span> para algo
	    razoável.  De fato, você pode definir isso
	    para o <span class="emphasis"><em>force character</em></span> também,
	    se você nunca espera utilizar ambas as
	    características.</p><p>Aqui está um exemplo de arquivo
	    <code class="filename">.tiprc</code> perfeito para os
	    usuários de Emacs que precisam digitar muitos
	    <span class="keycap"><strong>CTRL</strong></span>+<span class="keycap"><strong>2</strong></span>
	    e <span class="keycap"><strong>CTRL</strong></span>+<span class="keycap"><strong>A</strong></span>:</p><pre class="programlisting">force=^^
raisechar=^^</pre><p>O ^^ é obtido com <span class="keycap"><strong>SHIFT</strong></span>+<span class="keycap"><strong>CTRL</strong></span>+<span class="keycap"><strong>6</strong></span>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp68392272"></a><a id="tip-filetransfer"></a><p><strong>15.20.</strong></p></td><td align="left" valign="top"><p>Como eu posso transferir arquivos com o
	    <code class="command">tip</code>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Se você está conversando com outro
	    sistema Unix, você pode enviar e receber arquivos
	    com <code class="literal">~p</code> (put) e com
	    <code class="literal">~t</code> (take).  Estes comandos executam o
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=cat&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">cat</span>(1)</span></a> e o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=echo&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">echo</span>(1)</span></a> no sistema remoto para
	    aceitar e enviar arquivos.  Sua sintaxe é:</p><pre class="programlisting">~p &lt;local-file&gt; [&lt;remote-file&gt;]
~t &lt;remote-file&gt; [&lt;local-file&gt;]</pre><p>Não há nenhuma checagem de erro,
	    então você provavelmente deve usar um outro
	    protocolo, como o zmodem</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp68397776"></a><a id="zmodem-tip"></a><p><strong>15.21.</strong></p></td><td align="left" valign="top"><p>Como eu posso executar o zmodem com o
	    <span class="application">tip</span>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Primeiro, instale um dos programas zmodem da
	    coleção de <code class="literal">ports</code> (tais
	    como <span class="application">lrzsz</span> ou o
	    <span class="application">rzsz</span>).</p><p>Para receber arquivos, inicie o programa de envio no
	    destino remoto.  Então, pressione ENTER e digite
	    <code class="literal">~C rz</code> (ou <code class="literal">~C lrz</code>
	    caso tenha instalado o <span class="application">lrzsz</span>)
	    para iniciar o recebimento local</p><p>Para enviar arquivos, inicie o programa do lado
	    remoto.  Depois, aperte ENTER e digite <code class="literal">~C sz
	      arquivos</code> (ou
	    <code class="literal">~C lsz
	      arquivos</code>) para
	    envia-los ao sistema remoto.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp68408400"></a><a id="cannot-find-serial"></a><p><strong>15.22.</strong></p></td><td align="left" valign="top"><p>O FreeBSD pode vir a não encontrar minhas
	    portas seriais, mesmo quando as
	    configurações estão corretas?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Sim, se sua placa-mãe for Acer UARTS.  Elas
	    não escaneiam corretamente o barramento serial,
	    não permitindo que o FreeBSD encontre as Serial
	    Input/Output (sio) da placa.  O patch disponível em
	    <a class="link" href="http://www.lemis.com/serial-port-patch.html" target="_top">www.lemis.com</a>
	    pode corrigir esse problema.</p></td></tr></tbody></table></div></div><div class="chapter"><div xmlns="" class="titlepage"><div><div><h1 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="misc"></a>Capítulo 16. Perguntas Variadas</h1></div></div></div><div class="qandaset"><a id="idp68412112"></a><dl><dt>16.1. <a href="#idp68412368">O FreeBSD usa bem mais espaço de swap do que o
	    Linux.  Por quê?</a></dt><dt>16.2. <a href="#idp68414800">Por que o top me mostra
	    pouquíssima memória livre, mesmo quando eu
	    não tenho muitos programas rodando?</a></dt><dt>16.3. <a href="#idp68420432">Por que usar (alias, o que são) os formatos
	    executáveis a.out e ELF?</a></dt><dt>16.4. <a href="#idp68448848">Certo, mas por que existem tantos formatos
	    diferentes?</a></dt><dt>16.5. <a href="#idp68470736">Por que o chmod não modifica as
	    permissões dos links simbólicos?</a></dt><dt>16.6. <a href="#idp68484944">Por que os nomes de login (ou username) são
	    restritos à 8 caracteres no FreeBSD 2.2.X e
	    anteriores?</a></dt><dt>16.7. <a href="#idp68494672">Posso rodar binários do DOS sob FreeBSD?</a></dt><dt>16.8. <a href="#idp68503376">O que eu preciso para traduzir um documento do FreeBSD
	    para a minha língua nativa?</a></dt><dt>16.9. <a href="#idp68506576">Por que meu e-mail para qualquer endereço em
	    FreeBSD.org sempre falha?</a></dt><dt>16.10. <a href="#idp68516816">Onde eu consigo uma conta gratuíta em um
	    FreeBSD?</a></dt><dt>16.11. <a href="#idp68520784">O que é sup, e como eu uso
	    isso?</a></dt><dt>16.12. <a href="#idp68524496">Qual o nome daquele capetinha vermelho
	    simpático?</a></dt><dt>16.13. <a href="#idp68541392">Posso usar a imagem do BSD daemon?</a></dt><dt>16.14. <a href="#idp68544848">Vocês tem algumas imagens do BSD daemon que eu
	    poderia usar?</a></dt><dt>16.15. <a href="#idp68551504">O que significa MFC?</a></dt><dt>16.16. <a href="#idp68554704">O que significa BSD?</a></dt><dt>16.17. <a href="#idp68559568">O que significa POLA?</a></dt><dt>16.18. <a href="#idp68562384">O que é um repo-copy?</a></dt><dt>16.19. <a href="#idp68567120">Porque eu devo me preocupar com a cor do quartinho de
	    bicicletas (bikeshed)?</a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%" /><col /></colgroup><tbody><tr class="question"><td align="left" valign="top"><a id="idp68412368"></a><a id="more-swap"></a><p><strong>16.1.</strong></p></td><td align="left" valign="top"><p>O FreeBSD usa bem mais espaço de swap do que o
	    Linux.  Por quê?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Só parece que o FreeBSD usa mais swap do que o
	    Linux.  Na verdade não usa.  A principal
	    diferença entre o FreeBSD e o Linux nesse quesito
	    é que o FreeBSD vai sempre remanejar - de forma
	    pró-ativa - toda memória que estiver
	    completamente inativa e subutilizada, para o swap, dessa
	    forma garantindo sempre mais memória principal
	    disponível para utilização.  O Linux
	    tende a remanejar páginas de memória para o
	    swap apenas como última alternativa.  A
	    utilização mais acentuada do swap é
	    balanceada pela utilização mais eficiente da
	    memória principal.</p><p>Note que, pelo fato do FreeBSD ser próativo
	    nesse quesito, ele não decide arbitrariamente fazer
	    swap das páginas quando o sistema está de
	    fato inativo.  Portanto você não corre o
	    risco de encontrar todo seu sistema despaginado pela
	    manhã, depois de uma noite inteira de
	    inatividade.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp68414800"></a><a id="top-freemem"></a><p><strong>16.2.</strong></p></td><td align="left" valign="top"><p>Por que o <code class="command">top</code> me mostra
	    pouquíssima memória livre, mesmo quando eu
	    não tenho muitos programas rodando?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>A resposta simples é que memória
	    principal livre é memória
	    desperdiçada.  Toda memória que não
	    estiver ativamente alocada pelos seus programas são
	    utilizadas pelo Kernel do FreeBSD como cache de disco.  Os
	    valores que o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=top&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">top</span>(1)</span></a> mostra como
	    <code class="literal">Inact</code>, <code class="literal">Cache</code>, e
	    <code class="literal">Buf</code> são dados referentes ao
	    cache de disco, em estágios distintos de
	    utilização.  Esses dados cacheados garantem
	    que o sistema não tenha que fazer acesso em um
	    disco local (muito mais lento que a memória) para
	    utilizar os dados que foram acessados recentemente,
	    garantindo assim melhora significativa na performance
	    geral.  Na maioria dos casos, se o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=top&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">top</span>(1)</span></a> mostrar que
	    existe pouca memória disponível, isso
	    é uma boa indicação, a não ser
	    que seja uma quantidade <span class="emphasis"><em>extremamente</em></span>
	    baixa.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp68420432"></a><a id="aout-elf"></a><p><strong>16.3.</strong></p></td><td align="left" valign="top"><p>Por que usar (alias, o que são) os formatos
	    executáveis a.out e ELF?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Para entender porque o FreeBSD usa o formato
	    <code class="filename">ELF</code>, você deve primeiro saber
	    um pouco sobre os 3 formatos de executáveis Unix
	    <span class="quote">&#8220;<span class="quote">dominantes</span>&#8221;</span> atualmente:</p><div xmlns="" class="note"><h3 class="admontitle">Nota: </h3><p xmlns="http://www.w3.org/1999/xhtml">Até a versão 3.x o FreeBSD usava o
	      formato a.out.</p></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=a.out&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">a.out</span>(5)</span></a></p><p>O mais antigo e <span class="quote">&#8220;<span class="quote">classico</span>&#8221;</span>formato de
		objetos Unix.  Ele usa um cabeçalho curto e
		compacto, com um <span class="quote">&#8220;<span class="quote">magic number</span>&#8221;</span> no
		início que é frequentemente utilizado
		para identificar seu formato (mais detalhes veja
		<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=a.out&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">a.out</span>(5)</span></a>).  Ele contém três segmentos
		a serem carregados: .text, .data, e .bss acrescidos de
		uma tabela de símbolos e uma tabela de
		caractereres adicionais.</p></li><li class="listitem"><p><acronym class="acronym">COFF</acronym></p><p>O formato de objetos SVR3.  Seu cabeçalho
		se consiste agora em uma tabela de
		seções, dessa forma garantindo que
		você tenha outras seções
		além de .text, .data, e .bss.</p></li><li class="listitem"><p><acronym class="acronym">ELF</acronym></p><p>O sucessor do <acronym class="acronym">COFF</acronym>,
		atribuído de Múltiplas
		seções e valores de 32-bit ou 64-bit.
		Um de seus principais inconvenientes:  O formato
		<acronym class="acronym">ELF</acronym> foi originalmente desenvolvido
		presumindo-se que existiria apenas um único ABI
		por arquitetura.  A presunção é
		incorreta, e nem mesmo em relação ao
		mundo comercial do SYSV (onde encontramos ao menos
		três ABIs distintas: SVR4, Solaris, SCO) isso
		acontece.</p><p>O FreeBSD tenta se virar com esse problema com um
		utilitário que <span class="emphasis"><em>identifica</em></span>
		um executável <acronym class="acronym">ELF</acronym>
		relacionando-o ao ABI com o qual ele é
		compatível.  Veja a página de manual do
		<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=brandelf&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">brandelf</span>(1)</span></a> para maiores
		informações.</p></li></ul></div><p>O FreeBSD vem de tradição
	    <span class="quote">&#8220;<span class="quote">clássica</span>&#8221;</span> e por isso sempre usou o
	    formado <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=a.out&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">a.out</span>(5)</span></a> que é uma tecnologia que foi
	    experimentada e aprovada por várias
	    gerações de sistemas BSD.  Apesar de,
	    há algum tempo também ser possível
	    para o FreeBSD trabalhar nativamente com binários
	    <acronym class="acronym">ELF</acronym>  (e também
	    <span class="foreignphrase"><em class="foreignphrase">kernels</em></span>), o FreeBSD
	    inicialmente resistiu à
	    <span class="quote">&#8220;<span class="quote">pressão</span>&#8221;</span> em assumir o
	    <acronym class="acronym">ELF</acronym>  como formato padrão.  Por
	    quê?  Bem, quando o campo do Linux resolveu fazer
	    sua dolorosa transição para o formato
	    <acronym class="acronym">ELF</acronym>, não sobrou muito para ser
	    aproveitado dos formatos <code class="filename">a.out</code>
	    especialmente por causa das limitações de
	    tabelas que podiam ser utilizadas em seus
	    cabeçalhos, e isso tornou o desenvolvimento de
	    bibliotecas compartilhadas extremamente árduo para
	    fabricantes e desenvolvedores em geral.  Depois disso, as
	    ferramentas <acronym class="acronym">ELF</acronym> começaram
	    à oferecer soluções para o
	    compartilhamento de bibliotecas, soluções
	    que fossem extremamente satisfatórias, e a
	    migração, apesar dos custos
	    necessários que a envolvia, foi aceita, e a
	    transição para <acronym class="acronym">ELF</acronym> passou
	    a ser o <span class="quote">&#8220;<span class="quote">caminho à ser
	      seguido</span>&#8221;</span>.</p><p>No caso do FreeBSD, o nosso mecanismo de bibliotecas
	    compartilhadas tem uma base mais próxima do estilo
	    do <span class="application">SunOS</span>, da Sun, e é
	    extremamente fácil de ser utilizado.  Contudo,
	    à partir da série 3.0, o FreeBSD
	    oficialmente adotou o formato de binários
	    <acronym class="acronym">ELF</acronym> como padrão.  Apesar do
	    formato <code class="filename">a.out</code> sempre ter servido
	    muito bem às nossas necessidades, o pessoal da GNU,
	    autores de algumas das ferramentas de
	    compilação que nós usamos,
	    simplesmente deixaram de suportar o formato
	    <code class="filename">a.out</code>.  Tal fato nos forçou
	    à manter versões distintas do compilador e
	    do linkador, e nos permitiriam usufruir dos
	    esforços que nós achássemos
	    interessantes nos desenvolvimentos GNU.  Finalmente, a
	    demanda pelo ISO-C++, notáveis compiladores e
	    descompiladores, também contribuiram para uma
	    adoção nativa dos binários
	    <acronym class="acronym">ELF</acronym> nas versões futuras do
	    FreeBSD.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp68448848"></a><a id="binary-formats"></a><p><strong>16.4.</strong></p></td><td align="left" valign="top"><p>Certo, mas por que existem tantos formatos
	    diferentes?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>De volta às origens, em um passado obscuro,
	    existiam apenas hardwares mais simples.  Esse hardware
	    simples, suportava sistemas simples e pequenos.  A a.out
	    era completamente adequada para o serviço de
	    representar o formato binário nesses sistemas (os
	    PDP-11).  Conforme as pessoas iam portando o Unix desse
	    sistema mais simples, eles mantinham o formato a.out
	    porque era bom o bastante para portar para arquiteturas
	    como o Motorola 68k, VAXen, etc.</p><p>Então, algum engenheiro de hardware brilhante,
	    decidiu que se ele pudesse forçar o software
	    à dar conta de algumas coisinhas, alguns
	    truquezinhos, ele poderia então passar por cima de
	    algumas restrições de design, e permitir que
	    a base de sua CPU tivesse um desempenho melhor.  Para
	    poder trabalhar como esse novo tipo de hardware (que hoje
	    é conhecido como RISC), a
	    <code class="filename">a.out</code> não se encaixava muito
	    bem em suas funções, e então muitos
	    formatos foram desenvolvidos afim de obter melhor
	    performance desse hardware, que a simples
	    <code class="filename">a.out</code> não podia comportar.
	    Coisas como <acronym class="acronym">COFF</acronym>,
	    <acronym class="acronym">ECOFF</acronym> e outras ainda mais obscuras
	    foram inventadas, e todas suas limitações
	    foram exploradas, até que se resultasse o formato
	    <acronym class="acronym">ELF</acronym>.</p><p>Em adição, o tamanho dos programas
	    passou a crescer, e os discos (assim como a memória
	    física) ainda eram relativamente pequenos,
	    então nasceu o conceito de compartilhamento de
	    bibliotecas.  O sistema de Memória Virtual (VM)
	    também se tornou mais sofisticado.  Cada um desses
	    avanços eram feitos utilizando-se o formato
	    <code class="filename">a.out</code>, e o seu uso crescia mais e
	    mais com cada nova característica.  Depois, as
	    pessoas começaram a querer que as coisas fossem
	    dinâmicamente carregadas em tempo de
	    execussão, ou então queriam poder descartar
	    algum trecho de seus programas depois que seu
	    código de inicialização tivesse sido
	    executado, de modo à economizar memória
	    principal ou mesmo Swap.  As linguagens de
	    programação se tornaram mais sofisticadas,
	    então as pessoas queriam códigos com
	    chamadas automáticas antes do programa principal
	    (main).  Começou-se então a hackear a
	    <code class="filename">a.out</code> de forma que ela pudesse suprir
	    essas necessidades.  E de fato por algum tempo ela as
	    supriu.  Depois a <code class="filename">a.out</code> passou a
	    não suportar mais determinados problemas sem
	    resultar em uma sobrecarga ou complexidade exagerada de
	    código.  Por outro lado, o formato
	    <acronym class="acronym">ELF</acronym> resolvia a maioria desses
	    problemas, mas seria doloroso demais simplesmente
	    abandonar um formato e sistema que, basicamente
	    funcionavam bem.  Então o formato
	    <acronym class="acronym">ELF</acronym> teve que esperar até que
	    fosse ainda mais doloroso continuar com o formato
	    <code class="filename">a.out</code> do que migrar para
	    <acronym class="acronym">ELF</acronym>.</p><p>Contudo, com o passar do tempo, as ferramentas de
	    desenvolvimento às quais o FreeBSD derivava suas
	    próprias ferramentas de desenvolvimento
	    (especialmente o assembler e o carregador - loader) se
	    envolveram em duas árvores paralelas.  A
	    árvore do FreeBSD adicionou inúmeras
	    bibliotecas compartilhadas, e arrumou inúmeros
	    bugs.  E a rapaziada do GNU, que originalmente escreviam
	    algumas dessas ferramentas, passaram a rescreve-las e
	    adicionaram suporte para compilação
	    derivada, adoções de formatos diferentes,
	    etc.  Depois pensou-se em desenvolver um formato derivado,
	    visando o FreeBSD, mas não obteve-se sorte o
	    bastante, especialmente porque os fontes antigos do
	    "ld" do FreeBSD não davam conta da
	    tarefa.  A corrente de novas ferramentas GNU (as chamadas
	    binutils) agora suportam compilação
	    derivada, formato <acronym class="acronym">ELF</acronym>, bibliotecas
	    compartilhadas, extensões de C++, etc, etc.  Em
	    adição ainda, muitos fabricantes passaram
	    à lançar binários
	    <acronym class="acronym">ELF</acronym>, e então, por que continuar
	    nos chateando com o formato <code class="filename">a.out</code>?  A
	    <code class="filename">a.out</code> é um cavalo velho e
	    muito cansado, que já provou ser extremamente
	    útil no passado, mas agora está na hora de
	    tira-lo do pasto, como recompensa por seus longos e
	    fiéis anos de serviço.</p><p>O formato <acronym class="acronym">ELF</acronym> é mais
	    expressivo do que o <code class="filename">a.out</code>, e vai
	    permitir muito mais extensibilidade à base do
	    sistema.  As ferramentas <acronym class="acronym">ELF</acronym> são
	    mantidas de forma mais confiável, e oferecem
	    suporte à compilação derivada, o que
	    é importante para muita gente.  O formato
	    <acronym class="acronym">ELF</acronym> é um pouco mais lento do que
	    o formato <code class="filename">a.out</code>, mas é quase
	    impossível comparar ambos, existem inúmeros
	    detalhes que os fazem diferentes, desde o mapeamento de
	    páginas de memória, até a forma como
	    eles tratam o código de inicialização
	    de um binário (init code).  Nenhuma dessas
	    questões é importante, mas existem
	    diferenças.  Com o tempo, o suporte para o formato
	    <code class="filename">a.out</code> vai ser retirado do
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> GENERIC, e
	    eventualmente será retirado em definitivo do
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span>, uma vez que a
	    necessidade de rodar programas <code class="filename">a.out</code>
	    tenham se tornado passado.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp68470736"></a><a id="chmod-symlinks"></a><p><strong>16.5.</strong></p></td><td align="left" valign="top"><p>Por que o chmod não modifica as
	    permissões dos links simbólicos?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Links simbólicos não tem
	    permissões, e por padrão, o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chmod&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">chmod</span>(1)</span></a>
	    não vai seguir os links afim de mudar as
	    permissões do arquivo original.  Portanto, se
	    você tem um arquivo qualquer, e um link
	    simbólico para esse arquivo, o seguinte comando vai
	    lhe servir.</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>chmod g-w &lt;link simbólico&gt;</code></strong></pre><p>Contudo, as permissões para o arquivo original
	    não serão alteradas.  Mas se você usar
	    a opção <code class="option">-H</code> ou
	    <code class="option">-L</code> em conjunto com <code class="option">-R</code>,
	    você vai poder alterá-la.  Veja as
	    páginas de manuais do <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chmod&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">chmod</span>(1)</span></a> e do
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=symlink&amp;sektion=7"><span class="citerefentry"><span class="refentrytitle">symlink</span>(7)</span></a> para mais informações.</p><div xmlns="" class="warning"><h3 class="admontitle">Atenção: </h3><p xmlns="http://www.w3.org/1999/xhtml">A opção <code class="option">-R</code> resulta em
	      um <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chmod&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">chmod</span>(1)</span></a> <acronym class="acronym">RECURSIVO</acronym>.  Tome
	      muito cuidado quando for definir diretórios ou
	      links simbólicos com <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chmod&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">chmod</span>(1)</span></a>.  Se você
	      quer alterar as permissões dentro do
	      diretório referenciado pelo symlink, então
	      basta usar o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chmod&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">chmod</span>(1)</span></a> sem qualquer outra
	      opção, mas com uma barra
	      <code class="filename">/</code>.  Por exemplo, se
	      <code class="filename">A</code> for um link simbólico para
	      o arquivo original <code class="filename">B</code>, então
	      para alterar sua permissão basta um
	      simples:</p><pre xmlns="http://www.w3.org/1999/xhtml" class="screen"><code class="prompt">%</code> <strong class="userinput"><code>chmod 555 A/</code></strong></pre><p xmlns="http://www.w3.org/1999/xhtml">Com essa barra, o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chmod&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">chmod</span>(1)</span></a> vai seguir o link
	      simbólico para mudar as permissões do
	      arquivo original.</p></div></td></tr><tr class="question"><td align="left" valign="top"><a id="idp68484944"></a><a id="login-8char"></a><p><strong>16.6.</strong></p></td><td align="left" valign="top"><p>Por que os nomes de login (ou username) são
	    restritos à 8 caracteres no FreeBSD 2.2.X e
	    anteriores?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Você pode pensar que seria bem
	    confortável simplesmente mudar o
	    <code class="literal">UT_NAMESIZE</code> e depois recompilar todo o
	    sistema operacional, ai tudo iria funcionar
	    maravilhosamente bem.  Infelizmente não é
	    assim que as coisas funcionam, existem estruturas de
	    aplicações e utilitários (incluindo
	    ferramentas do sistema) que foram codificadas utilizando
	    números pequenos (nem sempre <code class="literal">8</code>
	    ou <code class="literal">9</code>, mas alguns valores mais
	    arbitrários como <code class="literal">15</code> e
	    <code class="literal">20</code>) em estruturas e buffers.  Você
	    não vai ter problemas apenas com arquivos de logs,
	    que serão inutilizados (devido ao tamanho
	    variável dos dados gravados, quando apenas um
	    tamanho constante era esperado), mas vai também ter
	    problemas com clientes NIS de máquinas Sun, e
	    potencialmente provocar outros problemas ao interagir com
	    outros sistemas Unix.</p><p>No FreeBSD 3.0 e posteriores, o tamanho máximo
	    do nome de usuário foi elevado para 16 caracteres,
	    e todas as ferramentas e trechos do código
	    principal do sistema que poderiam apresentar problemas em
	    relação à isso, foram encontradas e
	    corrigidas.  O fato dessa alteração mudar
	    tantos fatores importantes no sistema é que,
	    nenhuma mudança tinha sido feita até a
	    versão 3.0.</p><p>Se você confia completamente em suas habilitades
	    para procurar e corrigir esses prováveis problemas
	    sozinho, então basta aumentar o tamanho do nome de
	    usuário no arquivo
	    <code class="filename">/usr/include/utmp.h</code> e mudar a
	    UT_NAMESIZE para o valor desejado.  Você
	    também vai ter que atualizar o MAXLOGNAME no
	    <code class="filename">/usr/include/sys/param.h</code>  para ficar
	    de acordo com a mudança no UT_NAMESIZE.
	    Finalmente, se você vai recompilar os fontes,
	    não se esqueça que o /usr/include é
	    atualizado sempre.  Mude então os arquivos
	    apropriados em /usr/src(...) para garantir que você
	    vai estar alterando sempre a fonte do problema, e
	    não apenas a instância instalada, no
	    sistema.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp68494672"></a><a id="dos-binaries"></a><p><strong>16.7.</strong></p></td><td align="left" valign="top"><p>Posso rodar binários do DOS sob FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Sim, à partir da versão 3.0, você
	    pode utilizar o emulador <span class="application">doscmd</span>
	    da BSDI.  A emulação DOS desse aplicativo
	    foi totalmente redefinida depois da sua
	    integração do FreeBSD.  Entre na
	    <a class="link" href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-emulation" target="_top">lista de 
  discussão sobre a emulação de outros sistemas operacionais no 
  FreeBSD</a> se você tem interesse em se juntar ao
	    grupo que se esforça nessa jornada.</p><p>Em sistemas anteriores ao 3.0, existe um
	    utilitário não muito interessante, chamado
	    <span class="application">pcemu</span> no
	    <code class="literal">Ports</code>.  O
	    <span class="application">pcemu</span> emula um 8088 e algumas
	    função de BIOS que são o bastante
	    para rodar aplicações DOS que sejam
	    textuais.  Ele requer o X, sistema de interface grafica
	    (XFree86).</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp68503376"></a><a id="translation"></a><p><strong>16.8.</strong></p></td><td align="left" valign="top"><p>O que eu preciso para traduzir um documento do FreeBSD
	    para a minha língua nativa?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Veja o <a class="link" href="../fdp-primer/translations.html" target="_top"><code class="literal">FAQ</code>
	      de Tradução</a> no
	    <span class="foreignphrase"><em class="foreignphrase">FreeBSD Documentation Project
	      Primer</em></span>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp68506576"></a><a id="freebsd-mail-bounces"></a><p><strong>16.9.</strong></p></td><td align="left" valign="top"><p>Por que meu e-mail para qualquer endereço em
	    FreeBSD.org sempre falha?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>O sistema de correio eletrônico do site
	    FreeBSD.org implementa algumas das
	    restrições do Postfix, verificando nas
	    mensagens que estão chegando, se elas estão
	    sendo entregues por algum servidor mal configurado, ou se
	    representa algum tipo de <code class="literal">SPAM</code> em
	    potencial.  As suas mensagens podem estar voltando por
	    algum dos seguintes motivos:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>A mensagem está sendo enviada de um
		domínio ou bloco de endereços IP
		reconhecidamente utilizados para
		<code class="literal">SPAM</code>.</p><p>Os servidores de correio eletrônico do
		projeto FreeBSD rejeitam mensagens de qualquer fonte
		de <code class="literal">SPAM</code> conhecida.  Se você
		utiliza os serviços de uma empresa que costuma
		fazer <code class="literal">SPAM</code> ou permitir que seus
		clientes o façam, por gentileza, mude o seu
		provedor de serviços, para um que não
		permite tal prática.</p></li><li class="listitem"><p>O corpo da mensagem contém apenas
		HTML.</p><p>Mensagens de correio eletrônico devem ser
		enviadas apenas como texto puro.  Mensagens de e-mail
		não são web sites.  Configure o seu
		cliente de correio eletrônico de modo que ele
		apenas envie mensagens de texto puro.</p></li><li class="listitem"><p>Os servidores da FreeBSD.org não conseguem
		resolver o seu endereço IP para o nome da
		estação que está entregando a
		mensagem eletrônica.</p><p>Por padrão, ter registros de DNS reverso
		é um dos requisitos para que nossos servidores
		recebam sua mensagem.  Configure o DNS reverso para o
		IP do seu servidor de e-mail.  Lembre-se que, alguns
		serviços residênciais (como ADSL, dialup,
		cable, etc) não permitem que você mesmo
		configure o seu reverso.  Nesse caso, envie sua
		mensagem pelo servidor de e-mail do seu provedor de
		serviços, ou peça ao provedor que ajuste
		o reverso do seu IP.</p></li><li class="listitem"><p>O nome da estação enviada no
		cabeçalho inicial EHLO/HELO, parte do protocolo
		de envio SMTP não pode ser resolvido em um
		endereço IP correspondente.</p><p>O servidor que está tentando entregar a
		mensagem deve ter o registro de nomes configurado
		corretamente, de forma que o nome da
		estação possa ser resolvido em um
		endereço IP.  Caso sua estação
		não tenha um registro DNS configurado, utilize
		o servidor de correio eletrônico do seu provedor
		de serviços.</p></li><li class="listitem"><p>Sua mensagem teve uma identificação
		que terminava com o conjunto de caracteres
		<span class="quote">&#8220;<span class="quote">localhost</span>&#8221;</span>.</p><p>Alguns clientes de correio eletrônico geram
		ID - identificações - das mensagens de
		forma imprópria.  Nesse caso, o seu servidor de
		correio deve redefinir o ID da mensagem, ou você
		deve reconfigura-lo de modo que ele gere tal
		identificação de forma
		aceitável.</p></li></ul></div></td></tr><tr class="question"><td align="left" valign="top"><a id="idp68516816"></a><a id="free-account"></a><p><strong>16.10.</strong></p></td><td align="left" valign="top"><p>Onde eu consigo uma conta gratuíta em um
	    FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>O Projeto FreeBSD não permite acesso
	    público a nenhum dos seus servidores, contudo
	    algumas empresas oferecem acesso irrestrito à
	    sistemas Unix.  Os preços variam, e alguns
	    serviços limitados podem ser
	    disponibilizados.</p><p>A <a class="link" href="http://www.arbornet.org/" target="_top">Arbornet,
	      Inc</a>, também conhecida como M-Net,
	    provê acesso à sistemas Unix desde 1983.
	    Inicialmente rodando sob um System III em arquitetura
	    Altos, o site mudou seu sistema para BSD/OS em 1991.  Em
	    junho de 2000 o site mudou novamente seu sistema para
	    FreeBSD.  A M-Net pode ser acessada via telnet e SSH, e
	    proporciona acesso básico a uma gama completa de
	    softwares do FreeBSD.  Contudo, o acesso à rede
	    é limitado aos membros e patronos da
	    instituição, que fazem doações
	    à empresa, uma vez que a mesma é uma
	    organização sem fins lucrativos.  A M-Net
	    também oferece um Boletim periódico e Chat
	    interativo.</p><p>A <a class="link" href="http://www.grex.org/" target="_top">Grex</a>
	    também oferece um acesso parecido com o da M-Net,
	    inclusive com os mesmos serviços, contudo a
	    máquina é uma Sun 4M e seu sistema Unix
	    é o SunOS.  Vale pela curiosidade, e para
	    comparação entre os sistemas.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp68520784"></a><a id="sup-define"></a><p><strong>16.11.</strong></p></td><td align="left" valign="top"><p>O que é <code class="command">sup</code>, e como eu uso
	    isso?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><a class="link" href="http://www.FreeBSD.org/cgi/ports.cgi?^sup" target="_top">SUP</a>
	    significa Protocolo de Atualização de
	    Programa (Software Update Protocol ), e foi desenvolvido
	    pela CMU para manter suas árvores de
	    desenvolvimento sempre sincronizadas.  Nós
	    utilizamos esse protocolo para manter alguns sites remotos
	    em sincronia com os nossos servidores centrais de
	    desenvolvimento.</p><p>SUP náo é amigável com a banda de
	    tramissão (consome muita banda) , e por isso foi
	    aposentado.  Atualmente recomendados que você
	    faça uso do <a class="link" href="../handbook/synching.html#CVSUP" target="_top">CVSup</a> para
	    manter seus fontes atualizados.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp68524496"></a><a id="daemon-name"></a><p><strong>16.12.</strong></p></td><td align="left" valign="top"><p>Qual o nome daquele capetinha vermelho
	    simpático?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Ele não tem um nome, é simplesmente
	    chamado de <span class="quote">&#8220;<span class="quote">the BSD daemon</span>&#8221;</span>.  Se você
	    insiste em dar um nome à ele, por gentileza,
	    chame-o de <span class="quote">&#8220;<span class="quote">beastie</span>&#8221;</span> ;-) Note que
	    <span class="quote">&#8220;<span class="quote">beastie</span>&#8221;</span> se pronuncia
	    <span class="quote">&#8220;<span class="quote">BSD</span>&#8221;</span>.</p><p>Você pode saber mais sobre o BSD daemon na sua
	    <a class="link" href="http://www.mckusick.com/beastie/index.html" target="_top">home
	      page</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp68541392"></a><a id="use-beastie"></a><p><strong>16.13.</strong></p></td><td align="left" valign="top"><p>Posso usar a imagem do BSD daemon?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Talvez.  O BSD daemon é de direitos autorais de
	    Marshall Kirk McKusick.  Você deve pedir a
	    permissão do McKusick para usar a imagem do BSD
	    Daemon, e pedir para saber os <a class="link" href="http://www.mckusick.com/beastie/mainpage/copyright.html" target="_top">termos
	      de utilização da figura
	      pública</a> do nosso querido capetinha
	    ;-)</p><p>Resumindo, você pode fazer uso da imagem dele,
	    dependendo da maneira, para uso pessoal, por exemplo.  Se
	    os créditos apropriados forem dados, tudo bem.
	    Para fazer uso comercial da imagem, ai sim você deve
	    falar com o McKusick, e dar uma olhada na home page do
	    <a class="link" href="http://www.mckusick.com/beastie/index.html" target="_top">
	      BSD Daemon</a> para mais detalhes..</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp68544848"></a><a id="daemon-images"></a><p><strong>16.14.</strong></p></td><td align="left" valign="top"><p>Vocês tem algumas imagens do BSD daemon que eu
	    poderia usar?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Você vai encontrar algumas figuras em eps e Xfig
	    sob o diretório
	    <code class="filename">/usr/share/examples/BSD_daemon/</code>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp68551504"></a><a id="define-MFC"></a><p><strong>16.15.</strong></p></td><td align="left" valign="top"><p>O que significa <acronym class="acronym">MFC</acronym>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>MFC é um acrônimo para <span class="quote">&#8220;<span class="quote">obtido a
	      partir do ramo -CURRENT</span>&#8221;</span> (<span class="foreignphrase"><em class="foreignphrase">Merged
	      From -CURRENT</em></span>).  É usado nos logs
	    do CVS para identificar uma mudança que seja
	    originada e migrada da série de desenvolvimento
	    (-CURRENT) para série estável
	    (-STABLE).</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp68554704"></a><a id="define-BSD"></a><p><strong>16.16.</strong></p></td><td align="left" valign="top"><p>O que significa <acronym class="acronym">BSD</acronym>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>O significado da sigla BSD é algo, em uma
	    língua secreta que apenas os membros podem saber.
	    Literalmente não seria possível traduzir BSD
	    para uma língua que você pudesse entender,
	    mas poderíamos tentar explicar seu significado como
	    algo bem próximo de <span class="quote">&#8220;<span class="quote">Equipe de
	      Fórmula-1</span>&#8221;</span>, <span class="quote">&#8220;<span class="quote">Penguins são
	      aperitivos saborosos</span>&#8221;</span>, e também
	    <span class="quote">&#8220;<span class="quote">Nós temos mais senso de humor do que o
	      Linux</span>&#8221;</span>.  :-)</p><p>A versão séria é que BSD é
	    um acrônimo para <span class="quote">&#8220;<span class="quote">Berkeley Software
	      Distribution</span>&#8221;</span>, que é o nome que o Grupo de
	    Pesquisa de Ciência da Computação da
	    Universidade de Berkeley - Berkeley
	    <acronym class="acronym">CSRG</acronym> (Computer Systems Research Group)
	    - escolheu para sua própria
	    distribuição do Unix.
	  </p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp68559568"></a><a id="define-pola"></a><p><strong>16.17.</strong></p></td><td align="left" valign="top"><p>O que significa <acronym class="acronym">POLA</acronym>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>É o Princípio de Menor
	    Alteração.  Significa que durante o processo
	    de desenvolvimento do FreeBSD, toda e qualquer
	    modificação que seja visível para o
	    usuário, deve ser menos surpreendente
	    possível, mantendo assim uma compatibilidade
	    prévia com a forma de utilização do
	    sistema.  Por exemplo, não se pode alterar
	    arbitráriamente as variáveis dos scripts de
	    configuração do sistema, em
	    <code class="filename">/etc/defaults/rc.conf</code>, pois esse tipo
	    de ação violaria a POLA.  O desenvolvimento
	    do FreeBSD apenas considera POLA quando as
	    alterações são visíveis pelo
	    usuário.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp68562384"></a><a id="define-repocopy"></a><p><strong>16.18.</strong></p></td><td align="left" valign="top"><p>O que é um repo-copy?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Um repo-copy (que é uma forma breve de chamar
	    um <span class="quote">&#8220;<span class="quote">repository copy</span>&#8221;</span>) é simplesmente a
	    cópia direta de arquivos em um repositório
	    CVS.</p><p>Sem um repo-copy, uma alteração por
	    parte de algum mantenedor, se tornaria uma cópia
	    comum, originada via <code class="command">cvs</code>, seguida de um
	    <code class="command">rm</code> para deletar o arquivo original que
	    tivesse sido modificado.</p><p>Esse processo contudo, resulta em uma não
	    constatação histórica do arquivo
	    antigo, nos novos registros de log.  O Projeto FreeBSD
	    considera extremamente importante a
	    manutenção desse histórico, e por
	    isso as cópias de repositório são
	    frequentemente utilizadas.  Nesse processo, um dos
	    repositórios centrais vai copiar os arquivos
	    diretamente para outro repositório, e não
	    simplesmente fazer uma sincronia com o programa
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=cvs&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">cvs</span>(1)</span></a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp68567120"></a><a id="bikeshed-painting"></a><p><strong>16.19.</strong></p></td><td align="left" valign="top"><p>Porque eu devo me preocupar com a cor do quartinho de
	    bicicletas (bikeshed)?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>A resposta mais curta, é que você
	    não deve.  A resposta longa é que, só
	    porque você é capaz de fazer quarto para
	    guardar sua própria bicicleta, você
	    não pode fazer as outras pessoas pararem de
	    construir seus próprios quartinhos também,
	    simplesmente porque você não gosta da cor que
	    as pessoas os pintam.  Essa metáfora indica que
	    você não tem que argumentar nem reclamar
	    sobre cada coisinha, só porque tem conhecimento o
	    bastante para critica-la.  Algumas pessoas dizem que a
	    quantidade de barulho provocada por uma
	    alteração é inversamente proporcional
	    à complexidade da mudança.</p><p>A resposta ainda mais completa, e maior, é que,
	    depois de muita discussão sobre quando o
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sleep&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">sleep</span>(1)</span></a> deveria trabalhar com argumentos de segundos
	    fracionados, Poul-Henning Kamp enviou uma mensagem, longa, chamada
	    de <span class="quote">&#8220;<span class="quote"><a class="link" href="http://www.FreeBSD.org/cgi/getmsg.cgi?fetch=506636+517178+/usr/local/www/db/text/1999/freebsd-hackers/19991003.freebsd-hackers" target="_top">Um
		quarto de bicicleta (qualquer cor serve) em um gramado
		mais verde...</a></span>&#8221;</span>.  As partes devidas da
	    mensagem estão citadas abaixo.</p><div class="blockquote"><table border="0" class="blockquote" style="width: 100%; cellspacing: 0; cellpadding: 0;" summary="Block quote"><tr><td width="10%" valign="top"> </td><td width="80%" valign="top"><p><span class="quote">&#8220;<span class="quote">O que é isso sobre a cor do quartinho
		da bicicleta?</span>&#8221;</span> Alguns de vocês me
	      perguntaram.</p><p>É uma longa história, ou melhor,
	      é uma antiga história, mas pode ser meio
	      curta na verdade.  Um cara chamado C. Northcote
	      Parkinson escreveu um livro em meados de 1960 chamado de
	      <span class="quote">&#8220;<span class="quote">A Lei de Parkinson</span>&#8221;</span>, que continha
	      vários insights sobre as dinâmicas da
	      administração.</p><p>[trechos irrelevantes foram cortados]</p><p>Vamos deixar de falar sobre o livro em sí,
	      mas vamos tratar apenas um exemplo.  O exemplo
	      específico, do caso do quartinho da bicileta, tem
	      outro componente de vital importância, que
	      é uma usina nuclear.  Isso ilustra a época
	      que o livro foi escrito.</p><p>Parkinson mostra como você pode fazer para
	      chegar em um corpo de diretores de uma empresa e
	      convencê-los a construir uma usina atômica
	      multi-milhionária ou até mesmo
	      bilhionária, mas diz que se você abordar os
	      diretores da mesma forma, tentando aprovar a
	      construção de um quartinho de bicicleta,
	      você vai cair em uma discussão profunda, e
	      sem fim.</p><p>Parkinson explica que isso acontece porque uma usina
	      atômica é tão vasta, tão cara
	      e tão complicada que as pessoas simplesmente
	      preferem não discutir, e mesmo que tentem
	      fazê-lo, eles assumem que alguém já
	      observou todos os detalhes possíveis antes que
	      tal proposta chegasse à tal ponto.  Richard P.
	      Feunmann dá alguns exemplos interessantes, sobre
	      o que acontece em Los Alamos em seus livros.</p><p>Por outro lado, um barracão de bicicleta pode
	      ser construído por qualquer um, em um fim de
	      semana qualquer, e ainda sobraria tempo ao seu
	      desenvolvedor para assistir o jogo na TV.  Então,
	      não importa o quão bem preparado
	      você esteja, alguém vai sempre querer
	      aparecer diante de uma situação dessas, e
	      querer discutir as coisas mais pequenas
	      possíveis.  Na Dinamarca isso se chama
	      <span class="quote">&#8220;<span class="quote">Deixar sua marquinha</span>&#8221;</span>.  Envolve
	      prestígio e orgulho pessoal, envolve a
	      possibilidade de apontar para algum lugar (qualquer
	      lugar que seja) e apontar dizendo
	      <span class="quote">&#8220;<span class="quote"><span class="emphasis"><em>Aquilo!  Eu fiz
		  aquilo</em></span></span>&#8221;</span> (o que quer que aquilo
	      seja).  Isso é comum em políticos, mas
	      aparece em qualquer pessoa a quem se dê a chance.
	      Simplesmente pense em pegadas, no cimento
	      fresco."</p></td><td width="10%" valign="top"> </td></tr><tr><td width="10%" valign="top"> </td><td colspan="2" align="right" valign="top">--<span class="attribution">Poul-Henning Kamp na freebsd-hackers, em 2 de Outubro
	      de 1999</span></td></tr></table></div><p>Na verdade, um "quartinho de bicicletas" ou
	    "barracão de bicicletas" é uma
	    tradução literal para a expressão
	    <span class="quote">&#8220;<span class="quote">bikeshed</span>&#8221;</span>; comumente utilizada na
	    língua inglesa.  Um <span class="quote">&#8220;<span class="quote">bikeshed</span>&#8221;</span>, no
	    significado definido pelo dicionário norte
	    americano é um pequeno quarto ou
	    barração não raramente encontrado no
	    fundo de uma casa, que é utilizado para guardar
	    bicicletas e outras coisas pequenas.  Normalmente os norte
	    americanos constroem esses quartinhos eles mesmos, de
	    madeira, no fundo de suas casas ou próximos
	    à garagem de automóveis.  A expressão
	    é normalmente utilizada pelos desenvolvedores do
	    FreeBSD quando se começa uma discussão sobre
	    algum assunto que não é tão
	    importante para o bom funcionamento de alguma outra coisa,
	    como por exemplo, qual a importância da cor de um
	    quartinho de bicicletas, quando o mesmo já
	    está construído e servindo bem ao seu
	    propósito?</p></td></tr></tbody></table></div></div><div class="chapter"><div xmlns="" class="titlepage"><div><div><h1 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="funnies"></a>Capítulo 17. As gracinhas do FreeBSD</h1></div></div></div><div class="qandaset"><a id="idp68582864"></a><dl><dt>17.1. <a href="#idp68583120">Quão fresco é o FreeBSD?</a></dt><dt>17.2. <a href="#idp68587344">Quem está arranhando meus pentes de
	    memória??</a></dt><dt>17.3. <a href="#idp68597072">Quantos FreeBSD hackers
	    são necessários para trocar uma
	    lâmpada?</a></dt><dt>17.4. <a href="#idp68688720">Para onde vão os dados que são escritos
	    no dispositivo /dev/null ?</a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%" /><col /></colgroup><tbody><tr class="question"><td align="left" valign="top"><a id="idp68583120"></a><a id="very-very-cool"></a><p><strong>17.1.</strong></p></td><td align="left" valign="top"><p>Quão fresco é o FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>P.  Alguém já fez algum tipo de teste de
	    temperatura ao rodar o FreeBSD?  Eu sei que o Linux
	    costuma ser mais fresco que o DOS, mas nunca ouvi falar
	    nada a respeito do FreeBSD.  Parece que ele é um
	    sistema muito
	    <span class="emphasis"><em><span class="foreignphrase"><em class="foreignphrase">caliente</em></span></em></span>!</p><p>R.  Não, mas nós já fizemos
	    vários testes de sabor com usuários vendados
	    que, além de tudo, haviam tomado 250 microgramas de
	    LSD-25.  35% dos voluntários disseram que o FreeBSD
	    tinha um sabor parecido com laranja, enquanto o Linux
	    tinha sabor de névoa púrpura.  Nenhum dos
	    dois grupos comentou nada significante sobre a
	    variação de temperatura.  Eventualmente,
	    tivemos que jogar o resultado desses testes fora,
	    já que descobrimos que vários desses
	    voluntários estavam vagando fora do quarto,
	    prejudicando os resultados.  Acreditamos que hoje, a
	    maioria desses voluntários trabalhe na Apple.  Eles
	    devem estar criando novas interfaces gráficas do
	    tipo <span class="quote">&#8220;<span class="quote">arranha e cheira</span>&#8221;</span>.  É um
	    trabalho divertido e clássico, do qual nós
	    fazemos parte!</p><p>Falando sério, o FreeBSD e o Linux usam as
	    instruções <acronym class="acronym">HLT</acronym> (halt)
	    quando o sistema está inativo.  Isto diminui
	    consideravelmente o consumo de energia e,
	    conseqüentemente, o aquecimento que ele proporciona.
	    Além disso, se seu sistema possui APM (sistema
	    avançado de gerenciamento de energia) configurado,
	    o FreeBSD coloca a CPU em modo de consumo menor de
	    energia.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp68587344"></a><a id="letmeoutofhere"></a><p><strong>17.2.</strong></p></td><td align="left" valign="top"><p>Quem está arranhando meus pentes de
	    memória??</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>P.  Existe alguma <span class="quote">&#8220;<span class="quote">bruxaria</span>&#8221;</span> que o
	    FreeBSD faz ao compilar o
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> que, por ventura,
	    estaria fazendo meus pentes de memória fazer
	    barulhos estranhos, como se estivessem sendo arranhados?
	    Durante a compilação do sistema (e um
	    pouquinho depois, assim que a unidade de disquete é
	    reconhecida, e após a inicialização
	    também), um barulho estranho de arranhos
	    começa a emanar de algum lugar que parece ser os
	    pentes de memória.</p><p>R.  Claro!  Com muita frequência, você vai
	    ouvir falar dos <span class="quote">&#8220;<span class="quote">daemons</span>&#8221;</span> na
	    documentação do BSD.  O que a maioria das
	    pessoas não sabem é que essa é uma
	    referência genuína às entidades
	    não-corporais que estão possuindo o seu
	    computador.  O barulho que parece o som de alguma coisa
	    sendo arranhada, na verdade são sussuros em tons
	    extremamente agudos que os <span class="quote">&#8220;<span class="quote">daemônios</span>&#8221;</span>
	    emanam, ao decidir entre si as melhores maneiras de tratar
	    as várias tarefas referentes à
	    administração do seu sistema.</p><p>Se o barulho te dominar, um bom <code class="command">fdisk
	      /mbr</code> no DOS pode fazer você se livrar
	    dos sons, mas não se surpreenda se a
	    reação dos
	    <span class="foreignphrase"><em class="foreignphrase">daemons</em></span> forem adversas, ao
	    tentar evitar que você faça isso.  Na
	    verdade, há qualquer momento, é
	    possível que você ouça a voz
	    satânica do Bill Gates pelo auto-falante interno do
	    seu PC.  Se isso acontecer, CORRA!  Corra sem parar e
	    não olhe para trás por qualquer que seja o
	    motivo!  Depois de se liberarem das influências
	    contrastantes dos <span class="foreignphrase"><em class="foreignphrase">daemons</em></span>
	    BSD, os demônios gêmeos do DOS e do Windows
	    costumam ter sucesso ao repossuir total controle do seu
	    computador, e depois disso, o tempo garantirá que
	    eles consigam a dominação total da sua alma.
	    Agora que você já conhece a verdade,
	    esperamos que sua escolha seja conviver com os barulhinos
	    agudos.  Ou não?</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp68597072"></a><a id="changing-lightbulbs"></a><p><strong>17.3.</strong></p></td><td align="left" valign="top"><p>Quantos FreeBSD <span class="foreignphrase"><em class="foreignphrase">hackers</em></span>
	    são necessários para trocar uma
	    lâmpada?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Mil cento e sessenta e nove:</p><p>Vinte e três para reclamarem no -CURRENT que
	    estão sem luz;</p><p>Quatro para dizer que é um problema na
	    configuração, e que essa pergunta deveria
	    ser feita na freebsd-questions;</p><p>Três para enviar Relatório de Problemas
	    sobre a lâmpada, dos quais ao menos um, não
	    está completamente concluído, e consiste
	    apenas de um breve <span class="quote">&#8220;<span class="quote">tá escuro</span>&#8221;</span>;</p><p>Um para adicionar uma lâmpada que nunca foi
	    testada, que danifica todo o <code class="literal">buildworld
	    </code> e depois de 5 minutos tem que ser
	    retirada;</p><p>Oito para reclamarem para os autores dos
	    Relatórios de Problemas por não ter
	    incluído correções em seus
	    relatórios;</p><p>Cinco para reclamar que o
	    <code class="literal">buildworld</code> não está
	    funcionando;</p><p>Trinta e um para responder que funciona para eles, e
	    que os problemáticos devem ter feito CVSup na hora
	    errada;</p><p>Um para enviar uma correção para a nova
	    lâmpada na freebsd-hackers;</p><p>Um para reclamar que ele tinha correções
	    para essa lâmpada há 3 anos, mas que quando
	    elas foram enviadas para o -CURRENT, foram simplesmente
	    ignoradas, e que sua experiência com o sistema de
	    Relatório de Problemas não foram as melhores
	    possíveis; além disso a nova lâmpada
	    proposta não era reflexiva;</p><p>Trinta e sete para gritarem em alto e bom som que as
	    lâmpadas não fazem parte da base do sistema,
	    e que os desenvolvedores não tem o direito de sair
	    fazendo esse tipo de coisa sem antes consultar a
	    comunidade, e O QUE O -CORE ESTA FAZENDO SOBRE
	    ISSO!?</p><p>Duzendos para reclamar da cor do quartinho de
	    bicicletas;</p><p>Três para dizer que a correção
	    enviada não está de acordo com os
	    padrões que o código do
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> deve ter, conforme
	    documentado na página de manual do
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=style&amp;sektion=9"><span class="citerefentry"><span class="refentrytitle">style</span>(9)</span></a>;</p><p>Dezessete para reclamar que a nova lâmpada
	    proposta está licenciada sob a Licença
	    Pública Geral GNU (GPL);</p><p>Quinhentos e oitenta e seis para entrarem de corpo e
	    alma em uma discussão sobre as vantagens
	    comparativas entre a licença Pública Geral
	    GNU (GPL), a licença BSD, a licença do MIT,
	    a NPL e a higiene pessoal dos fundadores da
	    <span class="foreignphrase"><em class="foreignphrase">Free Software
	      Foundation</em></span>;</p><p>Sete para copiar vários trechos da
	    discussão para a lista de discussão
	    freebsd-chat e para a freebsd-advocacy;</p><p>Um para trocar a nova lâmpada sugerida, apesar
	    de a nova brilha bem menos que a antiga;</p><p>Dois para retirarem a lâmpada furiosos, dizendo
	    que o FreeBSD está melhor no escuro do que com uma
	    lâmpada tão fraca;</p><p>Quarenta e seis para contestarem vorazmente sobre a
	    retirada da lâmpada fraca e escreverem um
	    relatório para o -core;</p><p>Onze para dar a idéia de criar uma
	    lâmpada menorzinha, que poderia caber no Tamagotchi
	    deles, se um dia nós decidirmos portar o FreeBSD
	    para tal plataforma;</p><p>Setenta e três para reclamar da razão
	    sinal versus ruído na freebsd-chat e na
	    freebsd-hackers, e se retirarem das listas em
	    protesto;</p><p>Treze para enviarem mensagens com o conteúdo
	    "unsubscribe", "Como eu saio da lista?", ou "Por favor, me
	    tirem da lista", seguidas do rodapé tradicional do
	    servidor de discussão com as
	    instruções para sair da lista;</p><p>Um, para adicionar uma nova lâmpada que funciona
	    bem, enquanto todos os outros estão ocupados demais
	    com a discussão para perceber que alguém
	    já trocou a lâmpada por uma funcional;</p><p>Trinta e um para afirmar que a nova lâmpada
	    brilha em média 0.364% mais, se comparada com as
	    lâmpadas TenDRA (contudo, ela terá que ser
	    refeita em formato de cubo) e que o FreeBSD deveria mudar
	    para TenDRA ao invés do GCC;</p><p>Um para reclamar que a nova lâmpada não
	    é honesta;</p><p>Nove (incluindo aqueles que enviaram os
	    Relatórios de Problemas) para perguntar <span class="quote">&#8220;<span class="quote">o
	      que significa MFC?</span>&#8221;</span>;</p><p>Cinquenta e sete para reclamar que ficaram no escuro
	    por duas semanas até que a lâmpada fosse
	    trocada.</p><p><span class="emphasis"><em>Um adendo do Nik Clayton:</em></span></p><p><span class="emphasis"><em>Eu estava rindo um bocado
	      aqui.</em></span></p><p><span class="emphasis"><em>Aí pensei, "Peraí, não
	      deveria ter ao menos  '1 para documentar a nova
	      lâmpada' em algum lugar?</em></span></p><p><span class="emphasis"><em>Daí eu fui iluminado
	      :-)</em></span></p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp68688720"></a><a id="dev-null"></a><p><strong>17.4.</strong></p></td><td align="left" valign="top"><p>Para onde vão os dados que são escritos
	    no dispositivo <code class="filename">/dev/null</code> ?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Esses dados são enviados para um dissipador
	    especial da CPU que os converte em calor, para que depois
	    sejam ventilados pelo <span class="emphasis"><em>cooler</em></span> do
	    computador. É por isso que o esfriamento do
	    processador é cada vez mais importante; quanto mais
	    rápido os processadores se tornam, menos
	    importância os usuários dão à
	    seus dados, por isso cada vez mais lixo é enviado
	    para o <code class="filename">/dev/null</code>, gerando um
	    superaquecimento das CPUs.  Se o
	    <code class="filename">/dev/null</code> for apagado (dessa forma
	    desabilitando o dissipador de dados da CPU), o sistema vai
	    rodar a uma temperatura mais amena.  Contudo, o computador
	    vai manter tanto lixo inútil existente, que o
	    sistema vai logo começar a falhar.  Se você
	    tiver uma conexão de rede bem rápida,
	    dá para resfriar o computador lendo todos os dados
	    criados na <code class="filename">/dev/random</code> e enviando-os
	    para algum lugar da rede.  Contudo existe o risco de
	    superaquecer sua rede ou do Provedor de Serviço
	    Internet ficar meio bravo com você, já que
	    todo esse calor normalmente é recebido pelo
	    equipamento do provedor.  Mas não se preocupe, os
	    provedores tem grandes ventiladores para esfriar suas
	    máquinas, então se você não
	    insistir nisso com muita frequência, vai ficar tudo
	    bem.</p><p><span class="emphasis"><em>Adendo de Paul Robinson:</em></span></p><p>Existem outros métodos.  Como todo bom
	    administrador de sistemas sabe, faz parte da
	    prática comum enviar dados das mais variadas
	    espécies para a tela.  Isto mantêm todos os
	    <span class="foreignphrase"><em class="foreignphrase">pixies</em></span>
	    (<span class="foreignphrase"><em class="foreignphrase">pixie</em></span> significa fadinhas
	    em inglês) de tela felizes.  Os
	    <span class="foreignphrase"><em class="foreignphrase">pixies</em></span> de tela (normalmente
	    escritos com erro de ortografia, como 'pixels') são
	    divididos de acordo com o tipo de boné que eles
	    usam (vermelho, verde ou azul) e costumam aparecer ou
	    sumir (mostrando a cor de seus bonés) sempre que
	    eles ganham alguma coisinha para comer.  As placas de
	    vídeo transformam os dados em comida de
	    <span class="foreignphrase"><em class="foreignphrase">pixies</em></span>, e manda essa comida
	    para eles.  Quanto mais cara for a placa de vídeo,
	    melhor é a qualidade da comida.  Dessa forma, mais
	    felizes ficam os <span class="foreignphrase"><em class="foreignphrase">pixies</em></span>.
	    Os <span class="foreignphrase"><em class="foreignphrase">pixies</em></span> também
	    precisam ser constantemente estimulados &#8211; é
	    para isso que existem as proteções de
	    telas.</p><p>Então, para seguir a sugestão anterior,
	    é interessante mandar todos os dados que
	    saírem do <code class="filename">/dev/random</code> para a
	    tela do console, para alimentar os
	    <span class="foreignphrase"><em class="foreignphrase">pixies</em></span>.  Isso não
	    causa nenhum aquecimento do computador, e em
	    contrapartida, faz os
	    <span class="foreignphrase"><em class="foreignphrase">pixies</em></span> viverem mais
	    felizes, e ainda pode ser que faça você se
	    livrar rapidamente de todos os dados existentes no
	    <code class="filename">/dev/random</code>, mesmo considerando que a
	    tela fique um pouco confusa.</p><p>Como um ex-administrador de um provedor que teve
	    algumas más experiências tentando manter a
	    estabilidade da temperatura da sala dos servidores, eu
	    recomendo sinceramente que as pessoas não tentem
	    enviar todos os seus dados para a rede.  Existem umas
	    pequenas fadinhas encantadas que fazem a alternância
	    dos pacotes de redes, e que fazem o roteamento desses
	    mesmos pacotes.  Algumas vezes essas fadinhas ficam meio
	    revoltadas com os usuários malvados que ficam
	    mandando seus dados inúteis para a rede.</p></td></tr></tbody></table></div></div><div class="chapter"><div xmlns="" class="titlepage"><div><div><h1 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="advanced"></a>Capítulo 18. Tópicos Avançados</h1></div></div></div><div class="qandaset"><a id="idp68699728"></a><dl><dt>18.1. <a href="#idp68699984">Como eu posso aprender mais sobre as
	    características internas do FreeBSD?</a></dt><dt>18.2. <a href="#idp68702928">Como posso contribuir com o projeto FreeBSD?</a></dt><dt>18.3. <a href="#idp68705488">O que são SNAPs e RELEASEs?</a></dt><dt>18.4. <a href="#idp68727504">Como faço a minha própria
	    distribuição personalizada?</a></dt><dt>18.5. <a href="#idp68730192">Por que o make world sobrescreve os
	    binários já instalados?</a></dt><dt>18.6. <a href="#idp68735440">Por que quando meu sistema inicializa, ele diz
	    &#8220;(bus speed defaulted)&#8221;?</a></dt><dt>18.7. <a href="#idp68738640">Posso acompanhar a série -CURRENT mesmo tendo
	    acesso limitado à Internet?</a></dt><dt>18.8. <a href="#idp68741840">Como o FreeBSD foi dividido em arquivos de
	    240k?</a></dt><dt>18.9. <a href="#idp68745424">Eu escrevi uma extensão para o
	    kernel; a quem eu
	    envio?</a></dt><dt>18.10. <a href="#idp68757200">Como as placas Plug N Play ISA são detectadas e
	    inicializadas?</a></dt><dt>18.11. <a href="#idp68770384">Vocês podem definir um número principal
	    para um driver de dispositivo que eu escrevi?</a></dt><dt>18.12. <a href="#idp68774096">E sobre políticas alternativas de layout de
	    diretórios?</a></dt><dt>18.13. <a href="#idp68776784">O que fazer com os dados que eu vejo quando tenho um
	    kernel panic?</a></dt><dt>18.14. <a href="#idp68858960">Por que a dlsym() não funciona mais nos
	    executáveis ELF?</a></dt><dt>18.15. <a href="#idp68863952">Como eu posso aumentar ou reduzir o espaço de
	    endereçamento disponível para o
	    kernel?</a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%" /><col /></colgroup><tbody><tr class="question"><td align="left" valign="top"><a id="idp68699984"></a><a id="learn-advanced"></a><p><strong>18.1.</strong></p></td><td align="left" valign="top"><p>Como eu posso aprender mais sobre as
	    características internas do FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p> Atualmente não há nenhum livro
	    específico sobre as características internas
	    do Sistema Operacional FreeBSD.  Contudo, a maior parte do
	    conhecimento genérico sobre UNIX pode ser aplicado
	    diretamente a ele.  Além disso existem livros
	    específicos para sistemas BSD cuja leitura é
	    recomendada.</p><p>Para uma lista, verifique a sessão de <a class="link" href="../handbook/bibliography-osinternals.html" target="_top">
	      bibliografia sobre características internas dos
	      sistemas operacionais</a> no
	    Manual do FreeBSD.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp68702928"></a><a id="how-to-contribute"></a><p><strong>18.2.</strong></p></td><td align="left" valign="top"><p>Como posso contribuir com o projeto FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Por gentileza, consulte o artigo <a class="link" href="../../articles/contributing/article.html" target="_top">Contribuindo
	      com o Projeto FreeBSD</a> para obter algumas dicas
	    sobre o assunto.  Toda ajuda é mais que bem
	    vinda!</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp68705488"></a><a id="define-snap-release"></a><p><strong>18.3.</strong></p></td><td align="left" valign="top"><p>O que são SNAPs e RELEASEs?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Atualmente existem três séries
	    ativas/semi-ativas no <a class="link" href="http://www.FreeBSD.org/cgi/cvsweb.cgi" target="_top">Repositório
	      CVS</a> do projeto FreeBSD (a RELENG_2 que é
	    provavelmente alterada somente duas vezes ao ano, sendo
	    esta a razão de termos somente três
	    séries em desenvolvimento):</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="literal">RELENG_2_2</code>   ou
		<span class="emphasis"><em>2.2-STABLE</em></span></p></li><li class="listitem"><p><code class="literal">RELENG_3</code>     ou
		<span class="emphasis"><em>3.X-STABLE</em></span></p></li><li class="listitem"><p><code class="literal">RELENG_4</code>     ou
		<span class="emphasis"><em>4-STABLE</em></span></p></li><li class="listitem"><p><code class="literal">HEAD</code>        ou
		<span class="emphasis"><em>-CURRENT</em></span>    ou
		<span class="emphasis"><em>5.0-CURRENT</em></span></p></li></ul></div><p><code class="literal">HEAD</code> não é um nome de
	    uma tag de série, como os outros dois; é
	    somente uma constante simbólica para
	    <span class="quote">&#8220;<span class="quote"><span class="emphasis"><em>o atual desenvolvimento corrente, mas
		não de série</em></span></span>&#8221;</span> a qual
	    nós simplesmente nos referimos como
	    <span class="quote">&#8220;<span class="quote">-CURRENT</span>&#8221;</span>.</p><p>Neste momento, a <span class="quote">&#8220;<span class="quote">-CURRENT</span>&#8221;</span> se refere ao
	    desenvolvimento atual do FreeBSD 5.0.  A série
	    <code class="literal">4-STABLE</code>, <span class="symbol">RELENG_4</span>
	    originou-se da <span class="quote">&#8220;<span class="quote">-CURRENT</span>&#8221;</span> em Março de
	    2000.</p><p>A série <code class="literal">2.2-STABLE</code>,
	    <span class="symbol">RELENG_2_2</span>, originou-se da
	    <span class="quote">&#8220;<span class="quote">-CURRENT</span>&#8221;</span> em Novembro de 1996, e foi
	    praticamente descontinuada.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp68727504"></a><a id="custrel"></a><p><strong>18.4.</strong></p></td><td align="left" valign="top"><p>Como faço a minha própria
	    distribuição personalizada?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Por gentileza, consulte o artigo sobre a <a class="link" href="../../articles/releng/article.html" target="_top">Engenharia de
	      Releases.</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp68730192"></a><a id="makeworld-clobbers"></a><p><strong>18.5.</strong></p></td><td align="left" valign="top"><p>Por que o <code class="command">make world</code> sobrescreve os
	    binários já instalados?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Porque essa é a idéia geral sobre como
	    ele deve funcionar; como seu nome sugere, o <code class="command">make
	      world</code> reconstrói todo o sistema
	    binário a partir do zero, garantindo que o
	    usuário tenha um ambiente limpo e consistente ao
	    final da operação (é por isso que o
	    processo demora tanto).</p><p>Se a variável de ambiente
	    <code class="literal">DESTDIR</code> estiver definida enquanto um
	    <code class="command">make world</code> ou <code class="command">make
	      installworld</code> estiver sendo executado, os
	    binários recém criados serão
	    distribuídos no diretório definido em
	    <code class="literal">${DESTDIR}</code>, criando no mesmo uma
	    réplica do conteúdo do / do sistema.
	    Algumas alterações aleatórias nas
	    bibliotecas compartilhadas podem ocasionar falhas na hora
	    de reconstruir o sistema com o <code class="command">make
	      world</code>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp68735440"></a><a id="bus-speed-defaulted"></a><p><strong>18.6.</strong></p></td><td align="left" valign="top"><p>Por que quando meu sistema inicializa, ele diz
	    <span class="quote">&#8220;<span class="quote">(bus speed defaulted)</span>&#8221;</span>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Os controladores SCSI Adaptec 1542 permitem que o
	    usuário defina a velocidade de acesso ao barramento
	    por meio de software.  Algumas versões mais antigas
	    deste dispositivo tentavam determinar automaticamente a
	    maior velocidade possível e tentavam ajustar sua
	    velocidade à esse limite máximo.
	    Descobriu-se contudo, que esse comportamento as vezes era
	    prejudicial, e fazia com que algumas máquinas
	    não funcionassem de forma adequada, por este motivo
	    essa característica agora vem desabilitada por
	    default, para ativá-la é necessário
	    definir a opção <span class="symbol">TUNE_1542</span>
	    no <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> do FreeBSD.  Essa
	    opção, em sistemas onde ela se aplica,
	    provavelmente assegura que seus discos sejam acessados de
	    forma mais rápida e eficiente; contudo, em sistemas
	    onde o uso desse algoritmo é inviável, pode
	    resultar em perda de dados.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp68738640"></a><a id="ctm"></a><p><strong>18.7.</strong></p></td><td align="left" valign="top"><p>Posso acompanhar a série -CURRENT mesmo tendo
	    acesso limitado à Internet?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Sim, é possível acompanhar a
	    série de desenvolvimento <code class="literal">sem
	      precisar</code> baixar sempre todo o codigo fonte do
	    sistema, basta utilizar o <a class="link" href="../handbook/synching.html#CTM" target="_top">recurso de
	      CTM</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp68741840"></a><a id="split-240k"></a><p><strong>18.8.</strong></p></td><td align="left" valign="top"><p>Como o FreeBSD foi dividido em arquivos de
	    240k?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>O comando split que acompanha as novas versões
	    dos sistemas BSD têm uma opção
	    <code class="option">-b</code> que permite dividir os arquivos em
	    limites arbitrários de bytes.</p><p>Eis um exemplo tirado do
	    <code class="filename">/usr/src/Makefile</code>.</p><pre class="programlisting">bin-tarball:
(cd ${DISTDIR}; \
tar cf - . \
gzip --no-name -9 -c | \
split -b 240640 - \
${RELEASEDIR}/tarballs/bindist/bin_tgz.)</pre></td></tr><tr class="question"><td align="left" valign="top"><a id="idp68745424"></a><a id="submitting-kernel-extensions"></a><p><strong>18.9.</strong></p></td><td align="left" valign="top"><p>Eu escrevi uma extensão para o
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span>; a quem eu
	    envio?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Por gentileza, consulte o artigo <span class="quote">&#8220;<span class="quote"><a class="link" href="../../articles/contributing/article.html" target="_top">Contribuindo
		com o Projeto FreeBSD</a></span>&#8221;</span> para obter mais
	    informações sobre como enviar código
	    fonte ao projeto.</p><p>E obrigado pelo seu interesse! :)</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp68757200"></a><a id="pnp-initialize"></a><p><strong>18.10.</strong></p></td><td align="left" valign="top"><p>Como as placas Plug N Play ISA são detectadas e
	    inicializadas?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Por: Frank Durda IV
	    <code class="email">&lt;<a xmlns="" class="email" href="mailto:uhclem@nemesis.lonestar.org">uhclem@nemesis.lonestar.org</a>&gt;</code></p><p>Simplificando, existem poucas portas de E/S que todas
	    as placas PnP respondem quando o sistema indaga se algum
	    dispositivo está usando-a.  Então, quando a
	    rotina de procura do PnP começa, ele pergunta se
	    há alguma placa PnP presente, e todas as placas PnP
	    respondem com seus respectivos números de modelo
	    para uma leitura de E/S da mesma porta.  A rotina de
	    procura recebe então um sinal wired-OR
	    representando um <span class="quote">&#8220;<span class="quote">sim</span>&#8221;</span> à pergunta em
	    questão.  Ao menos um bit positivo constitui essa
	    resposta.  Então o código de procura
	    é capaz de fazer com que as placas com o modelo de
	    identificação (atribuído pela
	    Microsoft/Intel) inferior a X sejam colocados em modo
	    <span class="quote">&#8220;<span class="quote">off-line</span>&#8221;</span>.  Ele então irá
	    verificar se alguma placa respondeu a consulta.  Se a
	    resposta for <code class="literal">0</code> o sistema assume que
	    não há placas com
	    identificação acima de X.  Depois a rotina
	    de busca verifica se há alguma placa cujo ID
	    é inferior a <code class="literal">X</code>.  Se a resposta
	    for positiva, a rotina de busca sabe que ainda existem
	    placas identificadas com um valor menor que X.  Aí
	    a busca tenta identificar placas com ID superior à
	    X (limite / 4) e ordena que entrem em modo off-line.
	    Repete-se o ciclo de pesquisas e
	    identificações nessa forma
	    semi-binária até que um número
	    necessário de interações seja
	    concluído.  Ao final do processo o sistema
	    terá identificado todas as placas PnP presentes na
	    máquina em questão, com o número de
	    interações necessárias sempre menor
	    que 2^64.</p><p>Os IDs (códigos de identificação)
	    são dois campos de 32-bits (portanto, 2^64)
	    acrescidos de 8 bits que é o checksum
	    (verificação de consistência de
	    dados).  Os primeiros 32 bits identificam o fabricante da
	    placa.  Nenhum fabricante assume isso, mas podemos
	    perceber que diferentes tipos de placas do mesmo
	    fabricante costumam ter diferentes
	    identificações de 32-bit.  O motivo correto,
	    não se sabe, mas percebe-se que 32 bits exclusivos
	    para os fabricantes chega a ser um exagero.</p><p>Os últimos 32 bits é um número
	    serial que torna a identificação dessa placa
	    única.  O fabricante não pode nunca produzir
	    uma placa que tenha os 32 bits finais iguais, a não
	    ser que os 32 bits iniciais sejam distintos.  Dessa forma
	    é possível existir várias placas do
	    mesmo tipo e fabricante, e ainda assim todos os 64 bits
	    dessas placas serem únicos.</p><p>Os grupos de 32 bits nunca podem ser todos zero.  Isso
	    permite ao wired-OR identificar bits não nulos
	    durante a procura binária inicial.</p><p>Uma vez que o sistema tenha identificado todas as IDs
	    presentes, ele vai reativar cada placa, uma por vez (pela
	    mesma porta de E/S) e achar os recursos que cada uma
	    necessita, quais opções de
	    interrupções estão
	    disponíveis, etc.  Uma busca é feita em
	    todas as placas para obter estas
	    informações.</p><p>Tal informação é então
	    combinada com as informações encontradas nos
	    arquivos ECU, no sistema, ou então da MLB BIOS.  O
	    suporte da BIOS PnP e da ECU costuma ser sintética,
	    portanto os periféricos não são
	    exatamente PnP como é dito.  Contudo, ao examinar as
	    informações da da BIOS e da ECU, as rotinas
	    de busca podem identificar dispositivos ditos PnP e evitar
	    que eles requeiram recursos também
	    necessários por outros dispositivos, que por sua
	    vez não podem realocar tais valores
	    automaticamente.</p><p>Os dispositivos PnP são visitados mais uma vez
	    e recebem seus endereços de E/S, DMA, IRQ e
	    endereçamentos atribuídos na memória.
	    Os dispositivos permaneceram naquela ordem até a
	    próxima inicialização do sistema,
	    apesar de que nada impede que eles sejam movidos quando se
	    desejar.</p><p>Essa explicação é muito
	    simplista, mas provavelmente você entendeu a
	    idéia geral do comportamento PnP.</p><p>A Microsoft fez um exame sobre algumas das portas
	    primárias de status de impressoras para fazer PnP,
	    dentro da lógica que nenhuma placa poderia
	    decodificar aqueles endereços para os ciclos
	    opostos de E/S.  Eu encontrei uma placa genuína de
	    impressora IBM que enviou dados decodificados da porta de
	    status durante o começo do período da
	    proposta de revisão do PnP, mas a Microsoft
	    <span class="quote">&#8220;<span class="quote">ficou brava</span>&#8221;</span>.  Então eles resolveram
	    fazer um envio para a porta de status da impressora, de
	    forma a justar o endereço usado (naquele instante +
	    <code class="literal">0x800</code>) e uma terceira porta de E/S para
	    a leitura que tecnicamente pode ser localizada em qualquer
	    lugar entre <code class="literal">0x200</code> e
	    <code class="literal">0x3ff</code>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp68770384"></a><a id="major-numbers"></a><p><strong>18.11.</strong></p></td><td align="left" valign="top"><p>Vocês podem definir um número principal
	    para um driver de dispositivo que eu escrevi?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Isso depende se você pretende tornar o driver
	    disponível para o público.  Se sim,
	    então por favor nos mande uma cópia do
	    código-fonte do driver, mais as devidas
	    modificações para o
	    <code class="filename">files.i386</code>, um exemplo do arquivo de
	    configuração, e os devidos códigos do
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=MAKEDEV&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">MAKEDEV</span>(8)</span></a> para criar qualquer arquivo especial que
	    seu dispositivo precise.  Se você não pode,
	    ou está impedido por causa de
	    restrições de licença, então o
	    character major number 32 e o block major number 8
	    estão reservados especificadamente para este
	    propósito; por favor, use-os.  De qualquer maneira,
	    nós gostaríamos de obter maiores
	    informações sobre seu driver na
	    <a class="link" href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-hackers" target="_top">lista de discussão
  de assuntos técnicos relacionados ao FreeBSD</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp68774096"></a><a id="alternate-directory-layout"></a><p><strong>18.12.</strong></p></td><td align="left" valign="top"><p>E sobre políticas alternativas de layout de
	    diretórios?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Em resposta a questão da política de
	    formatos alternativos para diretórios, o esquema
	    que está atualmente em uso está
	    imutável desde quando eu o escrevi em 1983.  Eu
	    escrevi aquela política para o FFS (fast
	    filesystem) original, e nunca o revisei.  Ele funciona bem
	    em evitar que os os grupos de cilindros sejam
	    completamente preenchidos.  Como muitos de vocês
	    notaram, ele funciona mediocremente para procura.  A
	    maioria dos sistemas de arquivos são criados
	    à partir de arquivos que foram criados por uma
	    primeira procura em profundidade (depth first search,
	    também conhecido como ftw).  Estes
	    diretórios acabam sendo distribuídos pelo
	    grupo de cilindros, criando assim um cenário
	    horrível em relação a futuras
	    primeiras buscas de profundidade.  Se pudéssemos
	    saber o número total de diretórios a serem
	    criados, a solução seria criar (total /
	    fs_ncg) por grupo de cilindros antes de movê-los.
	    Evidentemente, seria necessário criar um conjunto
	    de métodos heurísticos para adivinhar esse
	    número.  Mesmo usando um pequeno número
	    fixo, digamos 10, ele produziria um aumento na ordem de
	    magnitude.  Para diferenciar restaurações de
	    operações normais (quando o algoritmo atual
	    é provavelmente mais sensível), você
	    poderia usar o agrupamento acima de 10 se eles fossem
	    finalizados dentro de uma janela de dez segundos.  De
	    qualquer maneira, minha conclusão é que isso
	    é uma área pronta para
	    experimentações. </p><p>Kirk McKusick, Setembro de 1998</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp68776784"></a><a id="kernel-panic-troubleshooting"></a><p><strong>18.13.</strong></p></td><td align="left" valign="top"><p>O que fazer com os dados que eu vejo quando tenho um
	    kernel panic?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><span class="emphasis"><em>[Esta seção foi
	      extraída de um e-mail escrito por Bill Paul na
	      <a class="link" href="#mailing" title="2.3.">freebsd-current</a> por
	      Dag-Erling C. Smørgrav, que arrumou alguns problemas de
	      impressão e adicionou os comentários entre
	      chaves]</em></span></p><pre class="programlisting">From: Bill Paul &lt;wpaul@skynet.ctr.columbia.edu&gt;
Subject: Re: the fs fun never stops
To: Ben Rosengart
Date: Sun, 20 Sep 1998 15:22:50 -0400 (EDT)
Cc: current@FreeBSD.org</pre><p><span class="emphasis"><em>Ben Rosengart posted the following panic
	      message]</em></span></p><pre class="programlisting">&gt; Fatal trap 12: page fault while in kernel mode
&gt; fault virtual address   = 0x40
&gt; fault code              = supervisor read, page not present
&gt; instruction pointer     = 0x8:0xf014a7e5
                                ^^^^^^^^^^
&gt; stack pointer           = 0x10:0xf4ed6f24
&gt; frame pointer           = 0x10:0xf4ed6f28
&gt; code segment            = base 0x0, limit 0xfffff, type 0x1b
&gt;                         = DPL 0, pres 1, def32 1, gran 1
&gt; processor eflags        = interrupt enabled, resume, IOPL = 0
&gt; current process         = 80 (mount)
&gt; interrupt mask          =
&gt; trap number             = 12
&gt; panic: page fault</pre><p>[Quando] você vê uma mensagem como essa,
	    não é suficiente somente reproduzí-la
	    e enviá-la em um e-mail.  O valor do ponteiro de
	    instrução (instruction pointer) que eu
	    destaquei acima é muito importante; infelizmente,
	    ele também depende de configuração.
	    Em outras palavras, os valores variam de acordo com a
	    exata imagem do <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> que
	    você estiver usando.  Se você estiver usando
	    uma imagem GENERIC do
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> de um dos
	    <span class="foreignphrase"><em class="foreignphrase">snapshots</em></span>, então
	    é possível que alguém acompanhe a
	    função ofensiva, mas se você
	    está rodando um
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> customizado
	    então só <span class="emphasis"><em>você</em></span>
	    pode nos dizer aonde a falha ocorreu.</p><p>O que você deve fazer é isso:</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Anote o valor do ponteiro de
		instrução.  Observe que o 0x8: parte do
		começo não é significante.  Nesse
		caso é o <code class="literal">0xf0xxxxxx</code> que
		nós queremos.</p></li><li class="step"><p>Quando o sistema reinicializar, faça o seguinte:

		</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>nm -n /kernel.that.caused.the.panic | grep f0xxxxxx</code></strong></pre><p>

		Onde <code class="literal">f0xxxxxx</code> é o valor do
		ponteiro de instrução.  As chances
		são que você não terá um
		resultado exato visto que os símbolos na tabela
		de símbolos do
		<span class="foreignphrase"><em class="foreignphrase">kernel</em></span> são para
		os pontos de entrada (entry points) de
		funções e o endereço do ponteiro
		de instrução estarão em algum
		lugar dentro de uma função, não
		no começo.  Se você não receber um
		resultado exato, omita o último dígito
		do valor do ponteiro de instrução e
		tente novamente, ex:

		</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>nm -n /kernel.that.caused.the.panic | grep f0xxxxx</code></strong></pre><p>

		Se isso não produz nenhum resultado, corte
		outro dígito.  Repita até que você
		tenha algum tipo de retorno.  O resultado será
		uma possível lista de funções que
		causaram o panic.  Isso é menos do que um
		mecanismo exato para rastreamento de um ponto de
		falha, mas é melhor que nada.</p></li></ol></div><p>Eu vejo pessoas constantemente mostrando mensagens de
	    panic como essa, mas eu raramente vejo alguém
	    comparar o ponteiro de instrução com uma
	    função na tabela de símbolos do
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span>.</p><p>A melhor maneira de rastrear a causa de um panic
	    é guardar as mensagens de falha (crash dump), e
	    então usar o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=gdb&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">gdb</span>(1)</span></a> para gerar um stack trace
	    da falha.</p><p>Em qualquer caso, o método que eu normalmente
	    uso é esse:</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Definir um arquivo de configuração
		do <span class="foreignphrase"><em class="foreignphrase">kernel</em></span>,
		opcionalmente adiconando a <code class="literal">options
		  DDB</code> se você acha que precisa do
		debugger do <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> para
		algo.  (Eu uso isso principalmente para ajustar
		breakpoints se eu suspeito que há uma
		condição de laço infinito
		(infinite loop ou algo do tipo).</p></li><li class="step"><p>Use <code class="command">config -g
		  KERNELCONFIG</code>
		configurar o diretório da
		construção.</p></li><li class="step"><p><code class="command">cd /sys/compile/
		  KERNELCONFIG; make
		</code></p></li><li class="step"><p>Espere o <span class="foreignphrase"><em class="foreignphrase">kernel</em></span>
		acabar de compilar.</p></li><li class="step"><p><code class="command">make install</code></p></li><li class="step"><p>reboot</p></li></ol></div><p>O processo do <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=make&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">make</span>(1)</span></a> terá
	    construído dois
	    <span class="foreignphrase"><em class="foreignphrase">kernels</em></span>.
	    <code class="filename">kernel</code> e
	    <code class="filename">kernel.debug</code>.  O
	    <code class="filename">kernel</code> foi instalado como
	    <code class="filename">/kernel</code>, enquanto o
	    <code class="filename">kernel.debug</code> pode ser usado como
	    fonte símbolos de debug para o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=gdb&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">gdb</span>(1)</span></a>.</p><p>Para ter certeza que você irá capturar o
	    crash dump, você precisa editar o
	    <code class="filename">/etc/rc.conf</code> e ajustar o
	    <code class="literal">dumpdev</code> para apontar para sua
	    partição swap.  Isso fará com que os
	    scripts <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=rc&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">rc</span>(8)</span></a> usem o comando <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dumpon&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">dumpon</span>(8)</span></a> para
	    habilitar os crash dumps.  Você pode também
	    executar o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dumpon&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">dumpon</span>(8)</span></a> manualmente.  Depois de um panic,
	    o crash dump pode ser recuperado usando o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=savecore&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">savecore</span>(8)</span></a>;
	    se variavel <code class="literal">dumpdev</code> estiver definida no
	    <code class="filename">/etc/rc.conf</code>, os scripts <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=rc&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">rc</span>(8)</span></a>
	    irão executar o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=savecore&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">savecore</span>(8)</span></a> automaticamente e
	    colocar o crash dump em
	    <code class="filename">/var/crash</code>.</p><div xmlns="" class="note"><h3 class="admontitle">Nota: </h3><p xmlns="http://www.w3.org/1999/xhtml">Os crash dumps do FreeBSD são geralmente do
	      mesmo tamanho da memória RAM física da sua
	      máquina.  Isto é, se você tem 64MB
	      de RAM, você terá um crash dump de 64MB.
	      Então você deve ter certeza que há
	      espaço suficiente em
	      <code class="filename">/var/crash</code> para alocar o dump.
	      Alternativamente, você executa o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=savecore&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">savecore</span>(8)</span></a>
	      manualmente e pode fazê-lo recuperar o crash dump
	      para onde você tenha mais espaço.  É
	      possível limitar o tamanho do crash dump
	      utilizando a opção <code class="literal">options
		MAXMEM=(foo)</code> para ajustar a quantia de
	      memória que o
	      <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> irá usar
	      para algo um pouco mais sensível.  Por exemplo,
	      se você tem 128MB de RAM, você pode limitar
	      o uso de memória do
	      <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> para 16MB para que
	      o tamanho do seu crash dump tenha somente 16MB ao
	      invés de 128MB.</p></div><p>Uma vez que você recuperou o crash dump,
	    você pode ter um stack trace com o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=gdb&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">gdb</span>(1)</span></a> como
	    segue:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>gdb -k /sys/compile/KERNELCONFIG/kernel.debug /var/crash/vmcore.0</code></strong>
<code class="prompt">(gdb)</code> <strong class="userinput"><code>where</code></strong></pre><p>Note que há várias telas com
	    informações valiosas; seria ideal o uso do
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=script&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">script</span>(1)</span></a> para capturar todas elas.  Usando a imagem
	    (unstripped) do <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> com
	    todos os símbolos de debug deve mostrar a linha
	    exata do código-fonte do
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> onde o panic
	    ocorreu.  Geralmente é mais interessante ler o
	    stack trace de baixo para cima a fim de rastrear a exata
	    seqüência de eventos que levaram ao crash.
	    Você também pode usar o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=gdb&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">gdb</span>(1)</span></a> para
	    exibir os conteúdos de várias
	    variáveis ou estruturas a fim de examinar o estado
	    do sistema no instante do crash.</p><p>Agora, se você é realmente louco e tem um
	    segundo computador, você também pode
	    configurar o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=gdb&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">gdb</span>(1)</span></a> para executar um debug remoto,
	    tanto que você pode usar o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=gdb&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">gdb</span>(1)</span></a> em um sistema
	    para debugar o <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> em
	    outro sistema, incluindo o ajuste de breakpoints,
	    rastreamento passo-a-passo pelo código do
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span>, do mesmo modo que
	    você pode fazer com um programa do modo de
	    usuário normal.  Eu ainda não brinquei com
	    isso pois não tive a chance de configurar duas lado
	    a lado com o único propósito de
	    debugging.</p><p><span class="emphasis"><em>[Adendo de Bill: "Eu esqueci de
	      mencionar uma coisa: se você tem DDB habilitado e
	      o <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> em modo de
	      debug, você pode forçar um panic (e um
	      crash dump) apenas digitando ´panic´ no
	      prompt do ddb.  Ele pode parar no debugger novamente
	      durante a fase de panic.  Se isso acontecer, digite
	      ´continue´ e ele finalizará o crash
	      dump."-ed]</em></span></p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp68858960"></a><a id="dlsym-failure"></a><p><strong>18.14.</strong></p></td><td align="left" valign="top"><p>Por que a dlsym() não funciona mais nos
	    executáveis ELF?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>A toolchain (cadeia de ferramentas) ELF não
	    faz, por padrão, os símbolos definidos em um
	    executável visível para o linkador
	    dinâmico (dynamic linker).  Conseqüentemente, a
	    procura em nomes obtidos de chamadas com a
	    <code class="function">dlsym()</code> para <code class="function">dlopen(NULL,
	      flags)</code>  irá falhar ao buscar tais
	    símbolos.</p><p>Se a intenção é usar a
	    <code class="function">dlsym()</code> para buscar símbolos
	    que possam existir nos executáveis principais do
	    processo, é necessário linkar o programa com
	    a opção <code class="option">-export-dynamic</code> com
	    o linker ELF (<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ld&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ld</span>(1)</span></a>).</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp68863952"></a><a id="change-kernel-address-space"></a><p><strong>18.15.</strong></p></td><td align="left" valign="top"><p>Como eu posso aumentar ou reduzir o espaço de
	    endereçamento disponível para o
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Por padrão, o espaço de
	    endereçamento (address space) do
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> é 256 MB no
	    FreeBSD 3.x e 1 GB no FreeBSD 4.x.  Em um servidor de rede
	    com tráfego intensivo (por exemplo, um servidor FTP
	    ou HTTP de muito tráfego) pode acontecer de, por
	    exemplo, 256MB de memória não ser o
	    suficiente.</p><p>Mas então, como aumentar esse espaço?
	    Existem duas formas.  Primeiro, é necessário
	    dizer ao <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> que ele
	    deve reservar uma grande quantidade de espaço em
	    memória para ele mesmo.  Segundo, considerando que
	    o <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> é carregado
	    no topo do espaço de endereçamento, é
	    preciso diminuir o endereço de forma que não
	    conflite com as páginas anteriores de
	    memória, e que no lugar disso, ele seja carregado
	    em seu novo local.</p><p>O primeiro objetivo é facilmente atingido
	    aumentando as definições de valores do
	    <code class="literal">NKPDE</code> no arquivo
	    <code class="filename">src/sys/i386/include/pmap.h</code>.  Aqui
	    está o arquivo, como deve ser, para 1GB de
	    endereço de memória:</p><pre class="programlisting">#ifndef NKPDE
#ifdef SMP
#define NKPDE                   254     /* addressable number of page tables/pde's */
#else
#define NKPDE                   255     /* addressable number of page tables/pde's */
#endif  /* SMP */
#endif</pre><p>Para achar o valor correto de
	    <code class="literal">NKPDE</code>, divida o número desejado
	    (em megabytes) por quatro, então subtraia um para
	    máquinas mono processadas e dois para
	    máquinas com SMP.</p><p>Para atingir o segundo objetivo é
	    necessário descobrir o endereço correto de
	    carregamento.  Para isso basta subtrair o tamanho do
	    espaço de endereçamento desejado (em bytes)
	    de 0x100100000; o resultado é 0xc0100000 para um
	    endereço de espaço de 1 GB.  Ajuste
	    <span class="symbol">LOAD_ADDRESS</span> em
	    <code class="filename">src/sys/i386/conf/Makefile.i386</code> para
	    esse valor, agora ajuste o contador de
	    posiçõo listada no inicio do
	    <code class="filename">src/sys/i386/conf/kernel.script</code> para
	    o mesmo valor, como a seguir:</p><pre class="programlisting">OUTPUT_FORMAT("elf32-i386", "elf32-i386", "elf32-i386")
OUTPUT_ARCH(i386)
ENTRY(btext)
SEARCH_DIR(/usr/lib); SEARCH_DIR(/usr/obj/elf/home/src/tmp/usr/i386-unknown-freebsdelf/lib);
SECTIONS
{
  /* Read-only sections, merged into text segment: */
  . = 0xc0100000 + SIZEOF_HEADERS;
  .interp     : { *(.interp)    }</pre><p>Agora recompile e reinstale seu
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span>.  Provavelmente
	    aparecerão problemas com o <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ps&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ps</span>(1)</span></a> e com o
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=top&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">top</span>(1)</span></a>, executar um <code class="command">make world</code> deve
	    solucionar tais problemas (ou então, a
	    recompilação manual da
	    <code class="filename">libkvm</code>, do <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ps&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ps</span>(1)</span></a> e do <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=top&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">top</span>(1)</span></a>,
	    depois de incluir o <code class="filename">pmap.h</code> alterado
	    em <code class="filename">/usr/include/vm/</code>.</p><p>OBS: o tamanho do espaço em memória do
	    <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> deve ser um
	    múltiplo de quatro megabytes.</p><p><span class="emphasis"><em>[Adendo por David Greenman: Acho que o
	      endereço de espaço do
	      <span class="foreignphrase"><em class="foreignphrase">kernel</em></span> precisa ser uma
	      potência de dois, mas eu não estou certo
	      disso.  O código do processo de
	      inicialização antigo costumava mexer com
	      os bits de endereço de alta ordem, o que
	      implicava em uma granularidade de
	      256MB]</em></span></p></td></tr></tbody></table></div></div><div class="chapter"><div xmlns="" class="titlepage"><div><div><h1 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="acknowledgments"></a>Capítulo 19. Reconhecimentos</h1></div></div></div><div class="blockquote"><table border="0" class="blockquote" style="width: 100%; cellspacing: 0; cellpadding: 0;" summary="Block quote"><tr><td width="10%" valign="top"> </td><td width="80%" valign="top"><p>Se você encontrar algum problema no
	<code class="literal">FAQ</code> ou se desejar submeter uma nova
	entrada, por favor envie um e-mail para o Responsável pelo <code class="literal">FAQ</code>
  <code class="email">&lt;<a xmlns="" class="email" href="mailto:faq@FreeBSD.org">faq@FreeBSD.org</a>&gt;</code>.  Nós
	apreciamos o seu feedback e não podemos tornar este
	<code class="literal">FAQ</code> melhor sem a sua ajuda!</p></td><td width="10%" valign="top"> </td></tr><tr><td width="10%" valign="top"> </td><td colspan="2" align="right" valign="top">--<span class="attribution">Grupo Central (FreeBSD Core
	  Team)</span></td></tr></table></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">Jordan K. Hubbard</span></dt><dd><p>Atualizações e ajustes ocasionais na
	    ordenação das informações do
	    <code class="literal">FAQ</code>.</p></dd><dt><span class="term">Doug White</span></dt><dd><p>Pelos serviços prestados acima e além da
	    chamada do dever em freebsd-questions</p></dd><dt><span class="term">Jörg Wunsch</span></dt><dd><p>Pelos serviços prestados acima e além da
	    chamada do dever na Usenet</p></dd><dt><span class="term">Garrett Wollman</span></dt><dd><p>Rede (<span class="foreignphrase"><em class="foreignphrase">networking</em></span>) e
	    formatação</p></dd><dt><span class="term">Jim Lowe</span></dt><dd><p>Informações sobre
	    <span class="quote">&#8220;<span class="quote">Multicast</span>&#8221;</span></p></dd><dt><span class="term">Peter da Silva</span></dt><dd><p>Escravo de digitação mecânica do
	    <code class="literal">FAQ</code> FreeBSD</p></dd><dt><span class="term">A Equipe FreeBSD</span></dt><dd><p>Reclamações, rabujices e envio de
	    informações</p></dd></dl></div><p>E a todos os outros que nós nos esquecemos, nossas
      desculpas e obrigado do coração!</p></div></div></body></html>