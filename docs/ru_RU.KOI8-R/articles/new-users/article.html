<?xml version="1.0" encoding="koi8-r"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=koi8-r" /><title>Пособие для новичков во FreeBSD и UNIX(R)</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><meta name="description" content="Поздравляем вас с установкой FreeBSD! Это вводное пособие предназначено для тех, кто является новичком в мире FreeBSD и UNIX-так что оно начнётся с основ." /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div xml:lang="ru" class="article" lang="ru"><div xmlns="" class="titlepage"><div><div><h1 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp68682064"></a>Пособие для новичков во FreeBSD и <span class="trademark">UNIX</span>(R)</h1></div><div><div xmlns="http://www.w3.org/1999/xhtml" class="authorgroup"><div class="author"><h3 class="author"><span class="firstname">Annelise</span> <span class="surname">Anderson</span></h3><div class="affiliation"><div class="address"><p><code class="email">&lt;<a xmlns="" class="email" href="mailto:andrsn@andrsn.stanford.edu">andrsn@andrsn.stanford.edu</a>&gt;</code></p></div></div></div></div></div><div>Издание: <a href="https://svnweb.freebsd.org/changeset/doc/"><span class="svnref"></span></a></div><div><div xmlns="http://www.w3.org/1999/xhtml" class="legalnotice"><a id="trademarks"></a><p>FreeBSD это зарегистрированная торговая
  марка FreeBSD Foundation.</p><p>IBM, AIX, OS/2, PowerPC,
  PS/2, S/390 и ThinkPad это торговые марки International Business Machines
  Corporation в Соединенных Штатах, других странах, или по всему
  миру.</p><p>Microsoft, FrontPage, IntelliMouse, MS-DOS,
  Outlook, Windows, Windows Media и Windows NT это или зарегистрированные
  торговые марки или торговые марки Microsoft Corporation в Соединенных
  Штатах и/или других странах.</p><p>Motif, OSF/1 и UNIX это
  зарегистрированные торговые марки, а IT DialTone и The Open Group это
  торговые марки Open Group в Соединенных Штатах и других
  странах.</p><p>Многие из обозначений, используемые
  производителями и продавцами для обозначения своих продуктов, заявляются
  в качестве торговых марок.  Когда такие обозначения появляются в этом
  документе, и Проекту FreeBSD известно о торговой марке, к обозначению
  добавляется знак <span class="quote"><<<span class="quote">TM</span>>></span> или
  <span class="quote"><<<span class="quote">(R)</span>>></span>.</p></div></div><div>  15 августа 1997  .</div><div><div xmlns="http://www.w3.org/1999/xhtml" class="abstract"><div class="abstract-title">Аннотация</div><p>Поздравляем вас с установкой FreeBSD!  Это вводное пособие
	предназначено для тех, кто является новичком в мире FreeBSD
	<span class="emphasis"><em>и</em></span> <span class="trademark">UNIX</span>(R)-так что оно начнётся с
	основ.</p></div></div></div><hr /></div><div class="toc"><div class="toc-title">Содержание</div><dl class="toc"><dt><span class="sect1"><a href="#in-and-out">1. Регистрация в системе и выход из неё</a></span></dt><dt><span class="sect1"><a href="#adding-a-user">2. Добавление пользователя с привилегиями root</a></span></dt><dt><span class="sect1"><a href="#looking-around">3. Просмотр окружения</a></span></dt><dt><span class="sect1"><a href="#getting-help">4. Получение помощи и информации</a></span></dt><dt><span class="sect1"><a href="#editing-text">5. Редактирование текста</a></span></dt><dt><span class="sect1"><a href="#other-useful-commands">6. Другие полезные команды</a></span></dt><dt><span class="sect1"><a href="#next-steps">7. Следующие шаги</a></span></dt><dt><span class="sect1"><a href="#your-working-environment">8. Ваше рабочее окружение</a></span></dt><dt><span class="sect1"><a href="#other">9. Остальное</a></span></dt><dt><span class="sect1"><a href="#comments-welcome">10. Пожелания приветствуются</a></span></dt></dl></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="in-and-out"></a>1. Регистрация в системе и выход из неё</h2></div></div></div><p>Зарегистрируйтесь в системе (когда увидите приглашение
      <code class="prompt">login:</code>) как пользователь, которого вы создали во время
      установки, или войдите в систему как пользователь
      <code class="systemitem">root</code>.  (В вашей установленной системе уже имеется
      учётная запись для пользователя <code class="systemitem">root</code>; который может переходить хоть куда
      и делать всё, что угодно, в том числе удаление необходимых для работы
      файлов, так что будьте внимательны!)  Обозначения <code class="prompt">%</code> и
      <code class="prompt">#</code> в последующем тексте означают приглашения системы (ваше
      может отличаться от него), причём <code class="prompt">%</code> обозначает обычного
      пользователя, а <code class="prompt">#</code> пользователя <code class="systemitem">root</code>.</p><p>Чтобы выйти из системы (и получить новое приглашение
      <code class="prompt">login:</code>) наберите</p><div class="informalexample"><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>exit</code></strong></pre></div><p>столько раз, сколько нужно.  Да, нажимайте <span class="keysym">enter</span>
      после набора команд, и помните, что <span class="trademark">UNIX</span>(R) чувствителен к регистру
      букв-набирайте <code class="command">exit</code>, но не
      <code class="command">EXIT</code>.</p><p>Для завершения работы машины наберите</p><div class="informalexample"><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>/sbin/shutdown -h now</code></strong></pre></div><p>Или, для перезагрузки нужно набрать</p><div class="informalexample"><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>/sbin/shutdown -r now</code></strong></pre></div><p>или</p><div class="informalexample"><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>/sbin/reboot</code></strong></pre></div><p>Перезагрузку можно также выполнить нажатием клавиш
      <span class="keycap"><strong>Ctrl</strong></span>+<span class="keycap"><strong>Alt</strong></span>+<span class="keycap"><strong>Delete</strong></span>.  Подождите некоторое время, чтобы
      дать этой команде отработать.  В последних релизах FreeBSD она
      эквивалента выдаче команды <code class="command">/sbin/reboot</code> и гораздо,
      гораздо лучше, чем нажатие кнопки сброса.  Вы ведь не хотите всё
      переустанавливать заново, не так ли?</p></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="adding-a-user"></a>2. Добавление пользователя с привилегиями root</h2></div></div></div><p>Если при установке системы вы не создали ни одного пользователя, и
      поэтому вошли в систему как <code class="systemitem">root</code>, то теперь вы должны создать
      пользователя по команде</p><div class="informalexample"><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>adduser</code></strong></pre></div><p>При первом использовании утилиты <code class="command">adduser</code> она может запрашивать
      сохранение некоторых параметров для использования их по умолчанию.
      вы можете сделать оболочкой, используемой по умолчанию, командный
      процессор <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=csh&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">csh</span>(1)</span></a>, а не <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sh&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">sh</span>(1)</span></a>, если по умолчанию вам
      предлагается <code class="command">sh</code>.  В противном случае просто нажимайте
      enter для принятия всех предлагаемых по умолчанию вариантов.  Эти
      значения по умолчанию сохраняются в файле
      <code class="filename">/etc/adduser.conf</code>, в форме, доступной для
      редактирования.</p><p>Предположим, что вы создали пользователя <code class="systemitem">jack</code> с
      полным именем <span class="emphasis"><em>Jack Benimble</em></span>.  Назначьте пользователю
      <code class="systemitem">jack</code> пароль, если информационная безопасность имеет значение (даже если
      это дети, которые могут стучать по клавиатуре).  Когда вам будет задан
      вопрос по включению пользователя <code class="systemitem">jack</code> в другие группы, наберите
      <code class="systemitem">wheel</code></p><div class="informalexample"><pre class="screen">Login group is ``jack''. Invite jack into other groups: <strong class="userinput"><code>wheel</code></strong></pre></div><p>Это позволит входить в систему как пользователь
      <code class="systemitem">jack</code> и использовать команду <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=su&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">su</span>(1)</span></a> для того,
      чтобы стать пользователем <code class="systemitem">root</code>.  Тогда вас не будут больше обвинять в
      том, чтобы вы входите в систему как пользователь <code class="systemitem">root</code>.</p><p>Вы можете прекратить работы с <code class="command">adduser</code> в любой
      момент, нажав <span class="keycap"><strong>Ctrl</strong></span>+<span class="keycap"><strong>C</strong></span>, а в завершении ввода у вас будет шанс
      подтвердить заведение нового пользователя или набрать <span class="keycap"><strong>n</strong></span>
      в качестве отрицательного ответа.  Вам может захотеться создать второго
      нового пользователя, для того, чтобы при редактировании файлов
      для входа пользователя <code class="systemitem">jack</code> имелся горячий резерв на тот случай,
      если что-то пойдёт не так.</p><p>После того, как вы это сделаете, воспользуйтесь командой
      <code class="command">exit</code> для возврата к приглашению ко входу в систему и
      зарегистрируйтесь в ней как пользователь <code class="systemitem">jack</code>.
      Вообще говоря, лучше всего основную массу работы выполнять, работая как
      обычный пользователь, который не имеет мощь и опасность пользователя
      <code class="systemitem">root</code>.</p><p>Если вы уже создали пользователя и хотите, чтобы он мог выполнять
      команду <code class="command">su</code> для получения привилегий <code class="systemitem">root</code>, вы можете
      войти в систему как <code class="systemitem">root</code> и отредактировать файл
      <code class="filename">/etc/group</code>, добавив пользователя <code class="systemitem">jack</code> в первую
      строчку (в группу <code class="systemitem">wheel</code>).  Однако сначала вам
      нужно поупражняться с программой <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=vi&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">vi</span>(1)</span></a>, текстовым
      редактором,-или использовать более простой редактор, <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ee&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ee</span>(1)</span></a>,
      имеющийся в последней версии FreeBSD.</p><p>Для удаления пользователя воспользуйтесь командой
      <code class="command">rmuser</code>.</p></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="looking-around"></a>3. Просмотр окружения</h2></div></div></div><p>Войдя в систему как обычный пользователь, оглянитесь вокруг и
      попробуйте выполнить некоторые команды, дающие доступ к источникам
      информации и помощи внутри FreeBSD.</p><p>Вот некоторые команды и то, что они делают:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="command">id</code></span></dt><dd><p>Говорит вам, кто вы!</p></dd><dt><span class="term"><code class="command">pwd</code></span></dt><dd><p>Показывает, где вы находитесь-текущий рабочий
	    каталог.</p></dd><dt><span class="term"><code class="command">ls</code></span></dt><dd><p>Выдаёт список файлов, находящихся в текущем каталоге.</p></dd><dt><span class="term"><code class="command">ls -F</code></span></dt><dd><p>Выдаёт перечень файлов, находящихся в текущем каталоге,
	    добавляя символы <code class="literal">*</code> после выполнимых файлов,
	    <code class="literal">/</code> после каталогов и <code class="literal">@</code> после
	    символических ссылок.</p></dd><dt><span class="term"><code class="command">ls -l</code></span></dt><dd><p>Выдаёт перечень файлов в расширенном формате-размер, дата
	    и права доступа.</p></dd><dt><span class="term"><code class="command">ls -a</code></span></dt><dd><p>Вместе со всеми выдаёт и список скрытых
	    <span class="quote"><<<span class="quote">dot</span>>></span>-файлов (начинающихся с точки).  Если вы
	    являетесь пользователем <code class="systemitem">root</code>, то <span class="quote"><<<span class="quote">dot</span>>></span>-файлы выдаются
	    и без указания флага <code class="option">-a</code>.</p></dd><dt><span class="term"><code class="command">cd</code></span></dt><dd><p>Смена каталогов.  <code class="command">cd
	    ..</code> перемещает на один уровень
	    выше; обратите внимание на промежуток после <code class="command">cd</code>.
	    <code class="command">cd /usr/local</code> перейдёт в
	    указанное место.  <code class="command">cd ~</code>
	    перейдёт в домашний каталог человека, который вошёл в
	    систему-к примеру, <code class="filename">/usr/home/jack</code>.
	    попробуйте выполнить команду <code class="command">cd
	    /cdrom</code>, а затем
	    <code class="command">ls</code> для проверки того, что ваш CDROM смонтирован
	    и работает.</p></dd><dt><span class="term"><code class="command">less
	  <em class="replaceable"><code>filename</code></em></code></span></dt><dd><p>Позволяет вам просмотреть файл (с именем
	    <em class="replaceable"><code>filename</code></em>) без внесения в него изменений.
	    Попробуйте выполнить команду <code class="command">less
	    /etc/fstab</code>.  Для выхода
	    наберите <code class="command">q</code>.</p></dd><dt><span class="term"><code class="command">cat
	  <em class="replaceable"><code>filename</code></em></code></span></dt><dd><p>Выдаёт содержимое <em class="replaceable"><code>filename</code></em> на экран.
	    если он слишком длинный и вы можете увидеть только его конец,
	    нажмите <span class="keycap"><strong>ScrollLock</strong></span> и используйте клавишу
	    <span class="keycap"><strong>стрелка вверх</strong></span> для движения назад; вы можете
	    также использовать <span class="keycap"><strong>ScrollLock</strong></span> и со страницами
	    справки.  Нажмите <span class="keycap"><strong>ScrollLock</strong></span> снова для прекращения
	    прокрутки.  Вам может захотеться попробовать команду
	    <code class="command">cat</code> с некоторыми из dot-файлов в вашем домашнем
	    каталоге-<code class="command">cat
	    .cshrc</code>, <code class="command">cat
	    .login</code>, <code class="command">cat
	    .profile</code>.</p></dd></dl></div><p>В файле <code class="filename">.cshrc</code> вы заметите алиасы для некоторых
      из команд <code class="command">ls</code> (они очень удобны).  Вы можете создать
      другие алиасы, отредактировав файл <code class="filename">.cshrc</code>.  Вы
      можете сделать эти алиасы доступными всем пользователям системы, поместив
      их в общесистемный конфигурационный файл для <code class="command">csh</code>,
      <code class="filename">/etc/csh.cshrc</code>.</p></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="getting-help"></a>4. Получение помощи и информации</h2></div></div></div><p>Вот несколько полезных источников получения помощи.  Здесь
      <em class="replaceable"><code>Text</code></em> обозначает что-то по вашему выбору, что
      вы вводите-обычно команду или имя файла.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="command">apropos <em class="replaceable"><code>text</code></em></code></span></dt><dd><p>Всё, что содержит строку <em class="replaceable"><code>text</code></em> в
	    <span class="database">базе whatis</span>.</p></dd><dt><span class="term"><code class="command">man <em class="replaceable"><code>text</code></em></code></span></dt><dd><p>Страница справки по <em class="replaceable"><code>text</code></em>.  Это
	    главный источник документации в <span class="trademark">UNIX</span>(R)-системах.
	    <code class="command">man ls</code> покажет вам все
	    способы использования команды <code class="command">ls</code>.  Нажимайте
	    <span class="keycap"><strong>Enter</strong></span> для передвижения по тексту,
	    <span class="keycap"><strong>Ctrl</strong></span>+<span class="keycap"><strong>B</strong></span> для
	    возврата на страницу назад,
	    <span class="keycap"><strong>Ctrl</strong></span>+<span class="keycap"><strong>F</strong></span> для
	    продвижения вперёд, <span class="keycap"><strong>q</strong></span> или
	    <span class="keycap"><strong>Ctrl</strong></span>+<span class="keycap"><strong>C</strong></span> для
	    выхода.</p></dd><dt><span class="term"><code class="command">which <em class="replaceable"><code>text</code></em></code></span></dt><dd><p>Покажет, в каком месте из маршрута поиска пользователя
	    находится команда <em class="replaceable"><code>text</code></em>.</p></dd><dt><span class="term"><code class="command">locate <em class="replaceable"><code>text</code></em></code></span></dt><dd><p>Все маршруты, где находится строчка
	    <em class="replaceable"><code>text</code></em>.</p></dd><dt><span class="term"><code class="command">whatis <em class="replaceable"><code>text</code></em></code></span></dt><dd><p>Описывает, что делает команда <em class="replaceable"><code>text</code></em>
	    и её справочная страница.  Команда <code class="command">whatis *</code>
	    расскажет вам обо всех двоичных файлах в текущем каталоге.</p></dd><dt><span class="term"><code class="command">whereis <em class="replaceable"><code>text</code></em></code></span></dt><dd><p>Ищет файл <em class="replaceable"><code>text</code></em> и выдаёт полный путь
	    до него.</p></dd></dl></div><p>Вы можете захотеть попробовать использоваться команду
      <code class="command">whatis</code> с некоторыми полезными командами типа
      <code class="command">cat</code>, <code class="command">more</code>, <code class="command">grep</code>,
      <code class="command">mv</code>, <code class="command">find</code>,
      <code class="command">tar</code>, <code class="command">chmod</code>,
      <code class="command">chown</code>, <code class="command">date</code>, и
      <code class="command">script</code>.  Команда <code class="command">more</code> позволит
      вам читать постранично, как и в DOS, например, <code class="command">ls -l |
      more</code> или <code class="command">more
      <em class="replaceable"><code>filename</code></em></code>.  Знак
      <code class="literal">*</code> работает как общий шаблон-например,
      <code class="command">ls w*</code> выдаст перечень файлов, начинающихся с буквы
      <code class="literal">w</code>.</p><p>Некоторые из этих команд работают не очень хорошо?  Обе команды
      <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=locate&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">locate</span>(1)</span></a> и <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=whatis&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">whatis</span>(1)</span></a> зависят от базы данных, которая
      перестраивается еженедельно.  Если ваша машина будет оставаться включенной
      на выходные (и она работает под FreeBSD), то вы можете пожелать
      запускать определённые команды раз в день, неделю, месяц.  Запускайте их
      как <code class="systemitem">root</code> и дайте каждой отработать, прежде чем запускать
      следующую.</p><div class="informalexample"><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>periodic daily</code></strong>
<em class="lineannotation"><span class="lineannotation">выдача опущена</span></em>
<code class="prompt">#</code> <strong class="userinput"><code>periodic weekly</code></strong>
<em class="lineannotation"><span class="lineannotation">выдача опущена</span></em>
<code class="prompt">#</code> <strong class="userinput"><code>periodic monthly</code></strong>
<em class="lineannotation"><span class="lineannotation">выдача опущена</span></em></pre></div><p>Если вам надоело ждать, нажмите
      <span class="keycap"><strong>Alt</strong></span>+<span class="keycap"><strong>F2</strong></span> для перехода
      в другую <em class="firstterm">виртуальную консоль</em>, и войдите в систему
      снова.  В конце концов, это многопользовательская и многозадачная
      система.  Тем не менее эти команды, скорее всего, в процессе работы будут
      выдавать сообщения вам на экран; вы можете набрать
      <code class="command">clear</code> в приглашении для очистки экрана.  Пока они
      работают, вы можете смотреть в содержимое файлов
      <code class="filename">/var/mail/root</code> и
      <code class="filename">/var/log/messages</code>.</p><p>Выполнение таких команд является частью системного
      администрирования-и как единственный пользователь <span class="trademark">UNIX</span>(R)-системы вы
      являетесь собственным системным администратором.  Практически всё, для
      чего вам нужно быть пользователем <code class="systemitem">root</code>, это системное администрирование.
      Эти обязанности не описываются достаточно хорошо даже в тех больших
      толстых книгах по <span class="trademark">UNIX</span>(R), в которых слишком много места отдаётся описанию
      работы с меню в оконных менеджерах.  Вам может понадобиться одна из двух
      лучших книг по системному администрированию, либо автора Эви Немет
      <em class="citetitle">UNIX System Administration
      Handbook</em> (Prentice-Hall, 1995, ISBN
      0-13-15051-7)-второе издание с красной обложкой; или
      автора AEleen Frisch <em class="citetitle">Essential System
      Administration</em> (O'Reilly &amp; Associates, 2002,
      ISBN 0-596-00343-9).  Я использую книгу Немет.</p></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="editing-text"></a>5. Редактирование текста</h2></div></div></div><p>Для конфигурации вашей системы вам нужно редактировать текстовые
      файлы.  Большинство из них будут находиться в каталоге
      <code class="filename">/etc</code>; и вам необходимо командой
      <code class="command">su</code> получить полномочия пользователя <code class="systemitem">root</code>, чтобы их
      править.  Вы можете использовать простой редактор <code class="command">ee</code>,
      однако в смысле перспективности лучше изучить текстовый редактор
      <code class="command">vi</code>.  В каталоге
      <code class="filename">/usr/src/contrib/nvi/docs/tutorial</code> есть прекрасный
      учебник по vi, если у вас есть исходники системы.</p><p>Перед тем, как редактировать файл, наверное, вы должны сохранить
      резервную копию.  Предположим, что вы собираетесь отредактировать файл
      <code class="filename">/etc/rc.conf</code>.  Вы можете воспользоваться командой
      <code class="command">cd /etc</code> для перехода в каталог
      <code class="filename">/etc</code> и выполнить следующее:</p><div class="informalexample"><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cp rc.conf rc.conf.orig</code></strong></pre></div><p>При этом файл <code class="filename">rc.conf</code> скопируется в
      <code class="filename">rc.conf.orig</code>, и в последующем вы сможете скопировать
      <code class="filename">rc.conf.orig</code> в файл
      <code class="filename">rc.conf</code> для восстановления оригинала.  Но ещё лучше
      его переместить (переименовать), после чего скопировать обратно:</p><div class="informalexample"><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mv rc.conf rc.conf.orig</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>cp rc.conf.orig rc.conf</code></strong></pre></div><p>потому что команда <code class="command">mv</code> сохраняет исходную
      информацию о дате и владельце файла.  Теперь вы можете редактировать
      <code class="filename">rc.conf</code>.  Если вы захотите восстановить исходное
      состояние, то выполните <strong class="userinput"><code>mv rc.conf rc.conf.myedit</code></strong>
      (полагаем, что вы хотите сохранить отредактированную версию), а
      затем</p><div class="informalexample"><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mv rc.conf.orig rc.conf</code></strong></pre></div><p>для возврата всего на место.</p><p>Для редактирования файла наберите</p><div class="informalexample"><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>vi <em class="replaceable"><code>filename</code></em></code></strong></pre></div><p>Передвигайтесь по тексту при помощи клавиш со стрелками.
      <span class="keycap"><strong>Esc</strong></span> (клавиша отмены) переводит редактор
      <code class="command">vi</code> в командный режим.  Вот некоторые из них:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="command">x</code></span></dt><dd><p>удалить символ, на котором находится курсор</p></dd><dt><span class="term"><code class="command">dd</code></span></dt><dd><p>удалить целую строку (даже если на экране она не помещается в
	    целую строку)</p></dd><dt><span class="term"><code class="command">i</code></span></dt><dd><p>вставка текста в позиции курсора</p></dd><dt><span class="term"><code class="command">a</code></span></dt><dd><p>вставка текста после курсора</p></dd></dl></div><p>Сразу после набора <code class="command">i</code> или <code class="command">a</code> вы
      можете вводить текст.  <code class="command">Esc</code> возвратит вас обратно в
      командный режим, где вы можете набрать</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="command">:w</code></span></dt><dd><p>для записи ваших изменений на диск и продолжения
	    редактирования</p></dd><dt><span class="term"><code class="command">:wq</code></span></dt><dd><p>для записи и выхода</p></dd><dt><span class="term"><code class="command">:q!</code></span></dt><dd><p>для выхода без сохранения изменений</p></dd><dt><span class="term"><code class="command">/<em class="replaceable"><code>text</code></em></code></span></dt><dd><p>для перемещения курсора на <em class="replaceable"><code>text</code></em>;
	    <code class="command">/</code><span class="keycap"><strong>Enter</strong></span> (клавиша ввода) для
	    поиска следующего экземпляра
	    <em class="replaceable"><code>text</code></em>.</p></dd><dt><span class="term"><code class="command">G</code></span></dt><dd><p>для перехода в конец файла</p></dd><dt><span class="term"><code class="command"><em class="replaceable"><code>n</code></em>G</code></span></dt><dd><p>Для перехода к строке <em class="replaceable"><code>n</code></em> в файле,
	    где <em class="replaceable"><code>n</code></em> является числом</p></dd><dt><span class="term"><span class="keycap"><strong>Ctrl</strong></span>+<span class="keycap"><strong>L</strong></span></span></dt><dd><p>для перерисовки экрана</p></dd><dt><span class="term"><span class="keycap"><strong>Ctrl</strong></span>+<span class="keycap"><strong>b</strong></span> и
	  <span class="keycap"><strong>Ctrl</strong></span>+<span class="keycap"><strong>f</strong></span></span></dt><dd><p>для перемотки на экран назад и вперёд, как при работе с
	    <code class="command">more</code> и <code class="command">view</code>.</p></dd></dl></div><p>Поупражняйтесь с редактором <code class="command">vi</code> в своём домашнем
      каталоге, создав новый файл по команде <code class="command">vi
      <em class="replaceable"><code>filename</code></em></code>, добавляя и удаляя текст,
      сохраняя файл и вызывая его снова.  Редактор <code class="command">vi</code>
      преподносит некоторые сюрпризы, потому что он на самом деле достаточно
      сложный, и иногда вы можете неправильно вызвать команду, которая сделает
      нечто, чего вы не ожидали.  (Некоторым людям действительно нравится
      <code class="command">vi</code>-он более мощный, чем EDIT из
      DOS-посмотрите команду <code class="command">:r</code>.)  Для того, чтобы
      удостовериться, что вы находитесь в режиме команд, нажимайте
      <span class="keycap"><strong>Esc</strong></span> один или несколько раз, и начинайте снова с этого
      места, если возникли какие-то проблемы, часто сохраняйте текст командой
      <code class="command">:w</code> и используйте <code class="command">:q!</code> для того,
      чтобы прекратить работу и начать всё сначала (с вашей последней команды
      <code class="command">:w</code>), если это нужно.</p><p>Теперь вы можете выполнить <code class="command">cd</code> для перехода в каталог
      <code class="filename">/etc</code>, <code class="command">su</code> в пользователя <code class="systemitem">root</code>,
      использовать <code class="command">vi</code> для редактирования файла
      <code class="filename">/etc/group</code> и добавлять пользователя в группу <code class="systemitem">wheel</code>,
      чтобы он имел полномочия пользователя root.  Просто добавьте запятую и
      имя входа пользователя в конце первой строки этого файла, нажмите
      <span class="keycap"><strong>Esc</strong></span> и воспользуйтесь <code class="command">:wq</code> для записи
      файла на диск и выхода.  Работает всегда.  (Вы не поставили пробел после
      запятой, ведь так?)</p></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="other-useful-commands"></a>6. Другие полезные команды</h2></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="command">df</code></span></dt><dd><p>выдаёт данные о занятом файлами пространстве и смонтированных
	    файловых системах.</p></dd><dt><span class="term"><code class="command">ps aux</code></span></dt><dd><p>показывает работающие процессы.  <code class="command">ps ax</code>
	    является частоупотребительной формой.</p></dd><dt><span class="term"><code class="command">rm <em class="replaceable"><code>filename</code></em></code></span></dt><dd><p>удаляет <em class="replaceable"><code>filename</code></em>.</p></dd><dt><span class="term"><code class="command">rm -R <em class="replaceable"><code>dir</code></em></code></span></dt><dd><p>удаляет каталог <em class="replaceable"><code>dir</code></em> и все его
	    подкаталоги-осторожно!</p></dd><dt><span class="term"><code class="command">ls -R</code></span></dt><dd><p>выдаёт список файлов в текущем каталоге и всех его
	    подкаталогах; я использовал вариант, <code class="command">ls -AFR &gt;
	    where.txt</code>, для получения перечня всех файлов в
	    <code class="filename">/</code> и (отдельно) <code class="filename">/usr</code> до
	    того, как узнал о более эффективном способе поиска файлов.</p></dd><dt><span class="term"><code class="command">passwd</code></span></dt><dd><p>для изменения пароля пользователя (или пароля <code class="systemitem">root</code>)</p></dd><dt><span class="term"><code class="command">man hier</code></span></dt><dd><p>справочная страница по файловой структуре <span class="trademark">UNIX</span>(R)</p></dd></dl></div><p>Используйте <code class="command">find</code> для поиска
      <code class="filename">filename</code> в <code class="filename">/usr</code> или в любом из
      её подкаталогов при помощи команды</p><div class="informalexample"><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>find /usr -name "<em class="replaceable"><code>filename</code></em>"</code></strong></pre></div><p>Вы можете использовать <code class="literal">*</code> в качестве шаблона внутри
      <em class="parameter"><code>"<em class="replaceable"><code>filename</code></em>"</code></em>
      (это выражение должно быть в кавычках).  Если вы укажете команде
      <code class="command">find</code> на поиск в <code class="filename">/</code>, а не в
      <code class="filename">/usr</code>, то она будет искать файл(ы) во всех
      смонтированных файловых системах, включая CDROM и раздел DOS.</p><p>Прекрасным пособием, описывающим команды и утилиты <span class="trademark">UNIX</span>(R), является
      книга Abrahams &amp; Larson, <em class="citetitle">Unix for the
      Impatient</em> (2nd ed., Addison-Wesley, 1996).  Масса информации
      по <span class="trademark">UNIX</span>(R) есть и в Internet.</p></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="next-steps"></a>7. Следующие шаги</h2></div></div></div><p>Теперь вы должны иметь инструменты, которые необходимо держать под
      рукой и умеете редактировать файлы, так что вы должны суметь запустить
      всё, что угодно.  Много полезной информации содержится в Руководстве по
      FreeBSD (которое, скорее всего, есть на вашем жёстком диске) и <a class="link" href="../../../../index.html" target="_top">Web-сайте FreeBSD</a>.  На CDROM, а
      также Web-сайте находятся различные пакеты и порты.  В Руководстве
      рассказывается более подробно о том, как их использовать (получить
      пакет, если он существует, командой <code class="command">pkg_add
      /cdrom/packages/All/<em class="replaceable"><code>packagename</code></em></code>,
      где <em class="replaceable"><code>packagename</code></em> является именем файла
      пакета).  На CDROM находится перечни пакетов и портов с их краткими
      описаниями в файлах <code class="filename">cdrom/packages/index</code>,
      <code class="filename">cdrom/packages/index.txt</code> и
      <code class="filename">cdrom/ports/index</code>, а более полные описания можно
      найти в <code class="filename">/cdrom/ports/*/*/pkg/DESCR</code>, где знаки
      <code class="literal">*</code> обозначают тематические подкаталоги с программами
      и названиями программ, соответственно.</p><p>Если вы посчитаете, что Руководство является слишком сложной книгой
      (что с <code class="command">lndir</code> и всё) по установке портов с CDROM, вот
      рецепт, который обычно срабатывает:</p><p>Найдите нужный вам порт, скажем, <code class="command">kermit</code>.  На CDROM
      для него должен существовать каталог.  Скопируйте этот подкаталог в
      каталог <code class="filename">/usr/local</code> (хорошее место для программного
      обеспечения, которое вы добавляете, и которое должно быть доступно всем
      пользователям) такой командой:</p><div class="informalexample"><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cp -R /cdrom/ports/comm/kermit /usr/local</code></strong></pre></div><p>В результате должен образоваться подкаталог
      <code class="filename">/usr/local/kermit</code>, содержащий все файлы, что есть в
      подкаталоге <code class="command">kermit</code> на CDROM.</p><p>Затем создайте каталог <code class="filename">/usr/ports/distfiles</code>,
      если он ещё не существует, при помощи команды <code class="command">mkdir</code>.
      Теперь проверьте содержимое <code class="filename">/cdrom/ports/distfiles</code>
      на предмет наличия файла с именем, говорящем о том, что это тот порт,
      который вы хотите иметь.  Скопируйте этот файл в каталог
      <code class="filename">/usr/ports/distfiles</code>; в последних версиях вы можете
      пропустить этот шаг, и FreeBSD выполнит его за вас.  В случае с
      <code class="command">kermit</code>, дистрибутивного файла не существует.</p><p>После этого по команде <code class="command">cd</code> перейдите в подкаталог
      <code class="filename">/usr/local/kermit</code>, в котором есть файл
      <code class="filename">Makefile</code>.  Наберите</p><div class="informalexample"><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>make all install</code></strong></pre></div><p>Во время выполнения порт обратится к FTP для получения всех архивных
      файлов, нужных ему и которых не найдено на CDROM или в каталоге
      <code class="filename">/usr/ports/distfiles</code>.  Если сеть у вас ещё не
      работает, и файла для порта в каталоге
      <code class="filename">/cdrom/ports/distfiles</code> нет, вам потребуется получить
      дистрибутивный файл на другой машине и скопировать его в каталог
      <code class="filename">/usr/ports/distfiles</code>.  Прочтите
      <code class="filename">Makefile</code> (при помощи команд
      <code class="command">cat</code>, <code class="command">more</code> или
      <code class="command">view</code>), чтобы понять, как называется файл и куда нужно
      обратиться (основной сайт распространения), чтобы его получить.
      (Используйте двоичный тип передачи файлов!)  Затем перейдите обратно
      в каталог <code class="filename">/usr/local/kermit</code>, найдите каталог с
      <code class="filename">Makefile</code> и наберите <code class="command">make all
      install</code>.</p></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="your-working-environment"></a>8. Ваше рабочее окружение</h2></div></div></div><p>Ваш командный процессор является самой важной частью вашего рабочего
      окружения.  Оболочка
      занимается интерпретацией команд, которые вы вводите в командной строке,
      и таким образом взаимодействует с остальной частью операционной системы.
      Вы можете также писать скрипты командного процессора, то есть
      последовательности команд, которые должны выполняться
      без вашего участия.</p><p>Вместе с FreeBSD устанавливаются два командный процессора:
      <code class="command">csh</code> и <code class="command">sh</code>.
      <code class="command">csh</code> хорош для работы в командной строке, однако
      скрипты должны писаться на языке оболочек <code class="command">sh</code> (или
      <code class="command">bash</code>).  Вы можете выяснить, какой командный процессор
      у вас используется, набрав <code class="command">echo $SHELL</code>.</p><p>Оболочка <code class="command">csh</code> подходящая, однако
      <code class="command">tcsh</code> может всё, что умеет <code class="command">csh</code> и
      ещё больше.  Она позволяет вам восстанавливать прошлые команды клавишами
      со стрелками и редактировать их.  В нём есть автозавершение имён файлов
      по нажатию клавиши табуляции (в <code class="command">csh</code> используется
      клавиша <span class="keycap"><strong>Esc</strong></span>) и он позволяет вам переключаться в каталог,
      в котором вы были ранее, по команде <code class="command">cd -</code>.  Также
      в <code class="command">tcsh</code> гораздо легче изменять системное приглашение.
      Это гораздо упрощает жизнь.</p><p>Вот три шага по установке нового командного процессора:</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Установите командный процессор как порт или пакет, как вы обычно
	  это делаете с другим портом или пакетом.</p></li><li class="step"><p>Работая как пользователь <code class="systemitem">root</code>, отредактируйте файл
	  <code class="filename">/etc/shells</code>, добавив в него строку с новой
	  оболочкой, в нашем случае это
	  <code class="filename">/usr/local/bin/tcsh</code>, и сохраните файл.
	  (Некоторые порты могут делать это за вас.)</p></li><li class="step"><p>Воспользуйтесь командой <code class="command">chsh</code> для смены
	  постоянно используемой вами оболочки на <code class="command">tcsh</code>, либо
	  наберите <code class="command">tcsh</code> в командной строке для смены
	  вашей оболочки без повторного входа в систему.</p></li></ol></div><div xmlns="" class="note"><h3 class="admontitle">Примечание: </h3><p xmlns="http://www.w3.org/1999/xhtml">Менять командный процессор для пользователя <code class="systemitem">root</code> на что-то,
	отличающееся от <code class="command">sh</code> или <code class="command">csh</code>,
	в ранних версиях FreeBSD и во многих других версиях <span class="trademark">UNIX</span>(R) может быть опасно; вы
	можете лишиться работающей оболочки при переходе системы в
	однопользовательский режим.  Решением является использование
	<code class="command">su -m</code> для того, чтобы стать пользователем <code class="systemitem">root</code>, что
	даст в качестве оболочки <code class="command">tcsh</code>, но вы будете являться
	пользователем <code class="systemitem">root</code>, потому что оболочка является частью окружения.  Вы
	можете сделать это постоянным, добавив в ваш файл
	<code class="filename">.tcshrc</code> в качестве алиаса по такой команде:</p><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting">alias su su -m</pre></div><p>При запуске <code class="command">tcsh</code> он будет считывать файлы
      <code class="filename">/etc/csh.cshrc</code> и
      <code class="filename">/etc/csh.login</code>, как и <code class="command">csh</code>.  Эта
      оболочка также читает файл <code class="filename">.login</code> из вашего
      домашнего каталога, а также файл <code class="filename">.cshrc</code>, если только
      вы не создали файл <code class="filename">.tcshrc</code>.  Это вы можете сделать
      простым копированием файла <code class="filename">.cshrc</code> в
      <code class="filename">.tcshrc</code>.</p><p>Теперь, когда у вас установлен командный процессор
      <code class="command">tcsh</code>, вы можете настроить приглашение командной
      строки.  Все подробности можно найти на странице справки по
      <code class="command">tcsh</code>, но всё же вот строка, которая помещается в ваш
      файл <code class="filename">.tcshrc</code>, которая может показать, сколько команд
      вы уже набрали, сколько сейчас времени и в каком каталоге вы находитесь.
      Она также выдаёт <code class="literal">&gt;</code>, если вы являетесь обычным
      пользователем, и <code class="literal">#</code>, если вы являетесь пользователем
      <code class="systemitem">root</code>, однако tsch будет делать это в любом случае:</p><p>set prompt = "%h %t %~ %# "</p><p>Эта строка должна быть поставлена на то же самое место, что и
      существующая строка установки приглашения, если она есть, либо после
      строки "if($?prompt) then", если её нет.  Закомментируйте старую
      строку; вы всегда сможете вернуться к ней обратно, если предпочтёте её.
      Не забудьте о пробелах и кавычках.  Вы можете заставить перечитать
      <code class="filename">.tcshrc</code>, набрав
      <code class="command">source .tcshrc</code>.</p><p>Перечень других установленных переменных окружения вы можете
      получить, набрав <code class="command">env</code> в приглашении командной строки.
      В результате, кроме всего прочего, будут показаны редактор, используемый
      по умолчанию, программа постраничной выдачи и тип терминала.  Командой,
      полезной при входе в систему с удалённого места и невозможности запуска
      программы, потому что терминал не обладает некоторыми возможностями,
      является команда <code class="command">setenv TERM vt100</code>.</p></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="other"></a>9. Остальное</h2></div></div></div><p>Работая как пользователь <code class="systemitem">root</code>, вы можете отмонтировать CDROM по
      команде <code class="command">/sbin/umount /cdrom</code>, вытащить его из привода,
      вставить другой диск и смонтировать его командой
      <code class="command">/sbin/mount_cd9660 /dev/cd0a /cdrom</code>, при этом
      предполагается, что <span class="hardware">cd0a</span> является именем устройства
      для вашего привода CDROM.  Самые последние версии FreeBSD позволяют вам
      монтировать CDROM просто по команде
      <code class="command">/sbin/mount /cdrom</code>.</p><p>Использование живой файловой системы-она находится на втором
      диске FreeBSD из набора CDROM-полезно при нехватке пространства.
      То, что находится в этой файловой системе, меняется от релиза к релизу.
      Вы можете попытаться поиграть в игры с CDROM.  При этом применяется
      команда <code class="command">lndir</code>, которая устанавливается с X Window
      System, и служит для указания программам, где искать необходимые файлы,
      потому что они находятся в файловой системе <code class="filename">/cdrom</code>,
      а не в <code class="filename">/usr</code> и её подкаталогах, где должны
      находиться.  Прочтите справку по команде
      <code class="command">man lndir</code>.</p></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="comments-welcome"></a>10. Пожелания приветствуются</h2></div></div></div><p>Если вы используете это руководство, мне будет интересно знать, в
      каком месте оно написано непонятно и что упущено из того, что, по вашему
      мнению, должно быть включено ценного.  Мои благодарности Eugene W. Stark,
      профессору информатики в SUNY-Stony Brook, и John Fieber за ценные
      советы.</p><p>Annelise Anderson,
      <code class="email">&lt;<a xmlns="" class="email" href="mailto:andrsn@andrsn.stanford.edu">andrsn@andrsn.stanford.edu</a>&gt;</code></p></div></div></body></html>