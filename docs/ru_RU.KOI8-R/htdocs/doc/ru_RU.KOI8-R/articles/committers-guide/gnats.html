<?xml version="1.0" encoding="koi8-r" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=koi8-r" /><title>7. GNATS</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Справочник коммиттера" /><link rel="up" href="index.html" title="Справочник коммиттера" /><link rel="prev" href="developer.relations.html" title="6. Взаимодействие между разработчиками" /><link rel="next" href="people.html" title="8. Кто есть кто" /><link rel="copyright" href="trademarks.html" title="Юридическое уведомление" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">7. GNATS</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="developer.relations.html">Пред.</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="people.html">След.</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="gnats"></a>7. GNATS</h2></div></div></div><p>Для отслеживания ошибок и запросов на изменения проект FreeBSD
      использует <span class="application">GNATS</span>.  Если вы исправили ошибку
      или внесли изменения, описанные в одном из сообщений об ошибках (PR),
      не забудьте закрыть это сообщение, используя команду
      <code class="command">edit-pr <em class="replaceable"><code>pr-number</code></em></code> на машине
      <code class="systemitem">freefall</code>.  Хорошо будет, если вы потратите немного
      времени на поиск и закрытие других PR по этой теме.  Вы и сами можете
      пользоваться <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=send-pr&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">send-pr</span>(1)</span></a> для предложения изменений, которые, по
      вашему мнению, могут потребовать более подробного обсуждения с
      коллегами.</p><p>Более подробно о <span class="application">GNATS</span> можно прочитать
      по адресам:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="uri"><a class="uri" href="http://www.cs.utah.edu/csinfo/texinfo/gnats/gnats.html" target="_top">http://www.cs.utah.edu/csinfo/texinfo/gnats/gnats.html</a></code></p></li><li class="listitem"><p><a class="link" href="../../../../support.html" target="_top">http://www.FreeBSD.org/support.html</a></p></li><li class="listitem"><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=send-pr&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">send-pr</span>(1)</span></a></p></li></ul></div><p>Вы можете пользоваться локальной копией GNATS, поддерживая ее
      синхронность при помощи CVSup.  При этом вы можете использовать
      команды GNATS локально, а также пользоваться другими интерфейсами,
      такими как <code class="command">tkgnats</code>, что позволит вам работать с
      базой сообщений об ошибках без соединения с Интернет.</p><div class="procedure"><a id="idp72950096"></a><div class="procedure-title">Процедура 1. Использование локальной копии GNATS</div><ol class="procedure" type="1"><li class="step"><p>Если вы еще не поддерживаете зеркало дерева GNATS, добавьте в ваш
	  <code class="filename">supfile</code> строку</p><pre class="programlisting">gnats release=current prefix=/usr</pre><p>Учтите, что эта строка должна предшествовать любым строкам,
	  содержащим параметр <span class="quote"><<<span class="quote">tag=</span>>></span>, поскольку дерево GNATS не
	  находится под управлением CVS и не имеет символьных меток.</p><p>После запуска cvsup в каталоге <code class="filename">/usr/gnats</code>
	  будет создана копия дерева GNATS FreeBSD.  Вы можете использовать
	  файл <span class="emphasis"><em>refuse</em></span> для копирования отдельных категорий.
	  Например, если вас интересуют только сообщения категории
	  <code class="literal">docs</code>, добавьте в файл
	  <code class="filename">/usr/local/etc/cvsup/sup/refuse</code><a href="#ftn.idp72961360" class="footnote" id="idp72961360"><sup class="footnote">[1]</sup></a> строку</p><pre class="programlisting">gnats/[a-ce-z]*</pre><p>Прочие примеры в этом разделе подразумевают, что вы
	  синхронизируете только категорию <code class="literal">docs</code>.</p></li><li class="step"><p>Установите порт GNATS из
	  <code class="filename">ports/databases/gnats</code>.  После установки вы
	  обнаружите различные служебные каталоги в дереве
	  <code class="filename">$PREFIX/share/gnats</code>.</p></li><li class="step"><p>Создайте символьные ссылки на синхронизированные каталоги GNATS
	  в служебный каталог GNATS:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cd /usr/local/share/gnats/gnats-db</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>ln -s /usr/gnats/docs</code></strong></pre><p>Проделайте эту операцию для всех синхронизируемых категорий.</p></li><li class="step"><p>Обновите служебный файл GNATS <code class="filename">categories</code>,
	  расположенный в каталоге
	  <code class="filename">$PREFIX/share/gnats/gnats-db/gnats-adm</code>:</p><pre class="programlisting"># This category is mandatory
pending:Category for faulty PRs:gnats-admin:
#
# FreeBSD categories
#
docs:Documentation Bug:freebsd-doc:</pre></li><li class="step"><p>Запустите <code class="filename">$PREFIX/libexec/gnats/gen-index</code>
	  для создания индекса.  Вывод этой команды должен быть перенаправлен
	  в файл
	  <code class="filename">$PREFIX/share/gnats/gnats-db/gnats-adm/index</code>.
	  Эту операцию можно выполнять периодически при помощи <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=cron&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">cron</span>(8)</span></a>
	  или запускать <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=cvsup&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">cvsup</span>(1)</span></a> из скрипта, который затем сгенерирует
	  новый индекс:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>/usr/local/libexec/gnats/gen-index \
	&gt; /usr/local/share/gnats/gnats-db/gnats-adm/index</code></strong></pre></li><li class="step"><p>Протестируйте созданную конфигурацию запросом к базе данных
	  GNATS.  Следующая команда выведет список открытых сообщений об
	  ошибках в категории <code class="literal">docs</code>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>query-pr -c docs -s open</code></strong></pre><p>Другие интерфейсы, например, порт
	  <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/databases/tkgnats/pkg-descr">databases/tkgnats</a> также должны
	  работать.</p></li><li class="step"><p>Выберите PR и закройте его.</p></li></ol></div><div xmlns="" class="note"><h3 class="admontitle">Примечание: </h3><p xmlns="http://www.w3.org/1999/xhtml">Описанная процедура позволяет вам выбирать и просматривать
	сообщения об ошибках локально.  Для редактирования или закрытия вам
	потребуется зайти на машину <code class="systemitem">freefall</code>.</p></div><div class="footnotes"><br /><hr class="footnote-hr" /><div id="ftn.idp72961360" class="footnote"><p><a href="#idp72961360" class="para"><sup class="para">[1] </sup></a>Точный путь к файлу зависит от установок <code class="literal">*default
		base</code> в вашем файле
		<code class="filename">supfile</code>.</p></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="developer.relations.html">Пред.</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="people.html">След.</a></td></tr><tr><td width="40%" align="left" valign="top">6. Взаимодействие между разработчиками </td><td width="20%" align="center"><a accesskey="h" href="index.html">Начало</a></td><td width="40%" align="right" valign="top"> 8. Кто есть кто</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Этот, и другие документы, могут быть скачаны с
    <a href="http://ftp.FreeBSD.org/pub/FreeBSD/doc/">http://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>.</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>По вопросам, связанным с FreeBSD, прочитайте
    <a href="http://www.FreeBSD.org/ru/docs.html">документацию</a> прежде чем писать в
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    По вопросам, связанным с этой документацией, пишите в рассылку
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.<br></br></small></p></body></html>