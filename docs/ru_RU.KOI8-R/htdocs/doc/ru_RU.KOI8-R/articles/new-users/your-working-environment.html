<?xml version="1.0" encoding="koi8-r" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=koi8-r" /><title>8. Ваше рабочее окружение</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Пособие для новичков во FreeBSD и UNIX(R)" /><link rel="up" href="index.html" title="Пособие для новичков во FreeBSD и UNIX(R)" /><link rel="prev" href="next-steps.html" title="7. Следующие шаги" /><link rel="next" href="other.html" title="9. Остальное" /><link rel="copyright" href="trademarks.html" title="Юридическое уведомление" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">8. Ваше рабочее окружение</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="next-steps.html">Пред.</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="other.html">След.</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="your-working-environment"></a>8. Ваше рабочее окружение</h2></div></div></div><p>Ваш командный процессор является самой важной частью вашего рабочего
      окружения.  Оболочка
      занимается интерпретацией команд, которые вы вводите в командной строке,
      и таким образом взаимодействует с остальной частью операционной системы.
      Вы можете также писать скрипты командного процессора, то есть
      последовательности команд, которые должны выполняться
      без вашего участия.</p><p>Вместе с FreeBSD устанавливаются два командный процессора:
      <code class="command">csh</code> и <code class="command">sh</code>.
      <code class="command">csh</code> хорош для работы в командной строке, однако
      скрипты должны писаться на языке оболочек <code class="command">sh</code> (или
      <code class="command">bash</code>).  Вы можете выяснить, какой командный процессор
      у вас используется, набрав <code class="command">echo $SHELL</code>.</p><p>Оболочка <code class="command">csh</code> подходящая, однако
      <code class="command">tcsh</code> может всё, что умеет <code class="command">csh</code> и
      ещё больше.  Она позволяет вам восстанавливать прошлые команды клавишами
      со стрелками и редактировать их.  В нём есть автозавершение имён файлов
      по нажатию клавиши табуляции (в <code class="command">csh</code> используется
      клавиша <span class="keycap"><strong>Esc</strong></span>) и он позволяет вам переключаться в каталог,
      в котором вы были ранее, по команде <code class="command">cd -</code>.  Также
      в <code class="command">tcsh</code> гораздо легче изменять системное приглашение.
      Это гораздо упрощает жизнь.</p><p>Вот три шага по установке нового командного процессора:</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Установите командный процессор как порт или пакет, как вы обычно
	  это делаете с другим портом или пакетом.</p></li><li class="step"><p>Работая как пользователь <code class="systemitem">root</code>, отредактируйте файл
	  <code class="filename">/etc/shells</code>, добавив в него строку с новой
	  оболочкой, в нашем случае это
	  <code class="filename">/usr/local/bin/tcsh</code>, и сохраните файл.
	  (Некоторые порты могут делать это за вас.)</p></li><li class="step"><p>Воспользуйтесь командой <code class="command">chsh</code> для смены
	  постоянно используемой вами оболочки на <code class="command">tcsh</code>, либо
	  наберите <code class="command">tcsh</code> в командной строке для смены
	  вашей оболочки без повторного входа в систему.</p></li></ol></div><div xmlns="" class="note"><h3 class="admontitle">Примечание: </h3><p xmlns="http://www.w3.org/1999/xhtml">Менять командный процессор для пользователя <code class="systemitem">root</code> на что-то,
	отличающееся от <code class="command">sh</code> или <code class="command">csh</code>,
	в ранних версиях FreeBSD и во многих других версиях <span class="trademark">UNIX</span>(R) может быть опасно; вы
	можете лишиться работающей оболочки при переходе системы в
	однопользовательский режим.  Решением является использование
	<code class="command">su -m</code> для того, чтобы стать пользователем <code class="systemitem">root</code>, что
	даст в качестве оболочки <code class="command">tcsh</code>, но вы будете являться
	пользователем <code class="systemitem">root</code>, потому что оболочка является частью окружения.  Вы
	можете сделать это постоянным, добавив в ваш файл
	<code class="filename">.tcshrc</code> в качестве алиаса по такой команде:</p><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting">alias su su -m</pre></div><p>При запуске <code class="command">tcsh</code> он будет считывать файлы
      <code class="filename">/etc/csh.cshrc</code> и
      <code class="filename">/etc/csh.login</code>, как и <code class="command">csh</code>.  Эта
      оболочка также читает файл <code class="filename">.login</code> из вашего
      домашнего каталога, а также файл <code class="filename">.cshrc</code>, если только
      вы не создали файл <code class="filename">.tcshrc</code>.  Это вы можете сделать
      простым копированием файла <code class="filename">.cshrc</code> в
      <code class="filename">.tcshrc</code>.</p><p>Теперь, когда у вас установлен командный процессор
      <code class="command">tcsh</code>, вы можете настроить приглашение командной
      строки.  Все подробности можно найти на странице справки по
      <code class="command">tcsh</code>, но всё же вот строка, которая помещается в ваш
      файл <code class="filename">.tcshrc</code>, которая может показать, сколько команд
      вы уже набрали, сколько сейчас времени и в каком каталоге вы находитесь.
      Она также выдаёт <code class="literal">&gt;</code>, если вы являетесь обычным
      пользователем, и <code class="literal">#</code>, если вы являетесь пользователем
      <code class="systemitem">root</code>, однако tsch будет делать это в любом случае:</p><p>set prompt = "%h %t %~ %# "</p><p>Эта строка должна быть поставлена на то же самое место, что и
      существующая строка установки приглашения, если она есть, либо после
      строки "if($?prompt) then", если её нет.  Закомментируйте старую
      строку; вы всегда сможете вернуться к ней обратно, если предпочтёте её.
      Не забудьте о пробелах и кавычках.  Вы можете заставить перечитать
      <code class="filename">.tcshrc</code>, набрав
      <code class="command">source .tcshrc</code>.</p><p>Перечень других установленных переменных окружения вы можете
      получить, набрав <code class="command">env</code> в приглашении командной строки.
      В результате, кроме всего прочего, будут показаны редактор, используемый
      по умолчанию, программа постраничной выдачи и тип терминала.  Командой,
      полезной при входе в систему с удалённого места и невозможности запуска
      программы, потому что терминал не обладает некоторыми возможностями,
      является команда <code class="command">setenv TERM vt100</code>.</p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="next-steps.html">Пред.</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="other.html">След.</a></td></tr><tr><td width="40%" align="left" valign="top">7. Следующие шаги </td><td width="20%" align="center"><a accesskey="h" href="index.html">Начало</a></td><td width="40%" align="right" valign="top"> 9. Остальное</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Этот, и другие документы, могут быть скачаны с
    <a href="http://ftp.FreeBSD.org/pub/FreeBSD/doc/">http://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>.</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>По вопросам, связанным с FreeBSD, прочитайте
    <a href="http://www.FreeBSD.org/ru/docs.html">документацию</a> прежде чем писать в
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    По вопросам, связанным с этой документацией, пишите в рассылку
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.<br></br></small></p></body></html>