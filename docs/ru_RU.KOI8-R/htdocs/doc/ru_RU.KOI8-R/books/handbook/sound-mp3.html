<?xml version="1.0" encoding="koi8-r" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=koi8-r" /><title>8.3. Звук MP3</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Руководство FreeBSD" /><link rel="up" href="multimedia.html" title="Глава 8. Мультимедиа" /><link rel="prev" href="sound-setup.html" title="8.2. Настройка звуковой карты" /><link rel="next" href="video-playback.html" title="8.4. Воспроизведение видео" /><link rel="copyright" href="legalnotice.html" title="Юридическое уведомление" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">8.3. Звук MP3</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="sound-setup.html">Пред.</a> </td><th width="60%" align="center">Глава 8. Мультимедиа</th><td width="20%" align="right"> <a accesskey="n" href="video-playback.html">След.</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="sound-mp3"></a>8.3. Звук MP3</h2></div><div><span class="authorgroup">Предоставил <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Chern</span> <span class="surname">Lee</span></span>. </span></div></div></div><p>MP3 (MPEG Layer 3 Audio) достигает качества звука, близкого к CD, и
      нет причин не воспользоваться им на вашей рабочей
      станции.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="mp3-players"></a>8.3.1. Проигрыватели MP3</h3></div></div></div><p>На данный момент наиболее популярным MP3-проигрывателем для
	X11 является
	<span class="application">XMMS</span> (X Multimedia System). Скины приложения
	<span class="application">WinAMP</span> могут быть использованы для
	<span class="application">XMMS</span> так как графический интерфейс
	пользователя практически идентичен интерфейсу программы
	<span class="application">WinAMP</span> от Nullsoft.
	<span class="application">XMMS</span> поддерживает также собственные
	расширения.</p><p><span class="application">XMMS</span> может быть установлен из порта или
	пакета <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/multimedia/xmms/pkg-descr">multimedia/xmms</a>.</p><p>Интерфейс <span class="application">XMMS</span> интуитивно понятен и
	включает в себя список песен, графический эквалайзер и многое другое.
	Те, кто знаком с <span class="application">WinAMP</span>, найдут
	<span class="application">XMMS</span> очень простым в использовании.</p><p>Порт <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/audio/mpg123/pkg-descr">audio/mpg123</a> является
	альтернативой, это MP3-проигрыватель для командной строки.</p><p><span class="application">mpg123</span> может быть запущен с указанием
	звукового устройства и файла MP3 в командной строке как показано
	ниже:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mpg123 -a <em class="replaceable"><code>/dev/dsp1.0</code></em> Foobar-GreatestHits.mp3</code></strong>
High Performance MPEG 1.0/2.0/2.5 Audio Player for Layer 1, 2 and 3.
Version 0.59r (1999/Jun/15). Written and copyrights by Michael Hipp.
Uses code from various people. See 'README' for more!
THIS SOFTWARE COMES WITH ABSOLUTELY NO WARRANTY! USE AT YOUR OWN RISK!


Playing MPEG stream from Foobar-GreatestHits.mp3 ...
MPEG 1.0 layer III, 128 kbit/s, 44100 Hz joint-stereo
</pre><p><code class="literal">/dev/dsp1.0</code> должно быть заменено соответствующим
	устройством <code class="filename">dsp</code> для вашей системы.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="rip-cd"></a>8.3.2. Копирование аудио дорожек с CD</h3></div></div></div><p>Перед тем как преобразовывать CD или дорожку CD в MP3, аудио данные
	на CD должны быть скопированы на жёсткий диск. Это можно сделать путём
	копирования данных CDDA (CD Digital Audio) в файл WAV.</p><p>Утилита <code class="command">cdda2wav</code>, которая является частью пакета
	<a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/sysutils/cdrtools/pkg-descr">sysutils/cdrtools</a>, может быть
	использована для копирования аудио информации с CD, а также различной
	связанной информации.</p><p>Когда музыкальный CD находится в приводе, следующая команда может
	быть выполнена под <code class="systemitem">root</code> для того,
	чтобы скопировать весь CD в отдельные (один на каждую дорожку) WAV
	файлы:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cdda2wav -D <em class="replaceable"><code>0,1,0</code></em> -B</code></strong></pre><p><span class="application">cdda2wav</span> поддерживает ATAPI (IDE)
	приводы CDROM. Для копирования с IDE привода, укажите имя устройства
	вместо номеров SCSI. Например, для того, чтобы скопировать 7-ую
	аудио дорожку с IDE-привода:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cdda2wav -D <em class="replaceable"><code>/dev/acd0</code></em> -t 7</code></strong></pre><p>Параметр <code class="option">-D <em class="replaceable"><code>0,1,0</code></em></code>
	указывает устройство SCSI <code class="filename">0,1,0</code>,
	соответственно результату работы <code class="command">cdrecord
	-scanbus</code>.</p><p>Для того, чтобы копировать отдельные дорожки, используйте параметр
	<code class="option">-t</code> как показано ниже:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cdda2wav -D <em class="replaceable"><code>0,1,0</code></em> -t 7</code></strong></pre><p>Этот пример показывает как скопировать 7-ю дорожку музыкального CD.
	Для того чтобы скопировать набор дорожек, например, с первой по
	седьмую, укажите диапазон:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cdda2wav -D <em class="replaceable"><code>0,1,0</code></em> -t 1+7</code></strong></pre><p>Утилита <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dd&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">dd</span>(1)</span></a> также может быть использована для копирования
	аудио дорожек на приводах ATAPI, для того, чтобы узнать больше об этом,
	прочитайте <a class="xref" href="creating-cds.html#duplicating-audiocds" title="17.6.5. Копирование аудио CD">Раздел 17.6.5, <<Копирование аудио CD>></a>.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="mp3-encoding"></a>8.3.3. Создание файлов MP3</h3></div></div></div><p>На сегодняшний день наилучшим выбором программы для создания mp3
	является <span class="application">lame</span>.
	<span class="application">Lame</span> находится в дереве портов в подкаталоге
	<a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/audio/lame/pkg-descr">audio/lame</a>.</p><p>Используя скопированные файлы WAV, следующая команда преобразует
	<code class="filename">audio01.wav</code> в
	<code class="filename">audio01.mp3</code>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>lame -h -b <em class="replaceable"><code>128</code></em> \
--tt "<em class="replaceable"><code>Foo Song Title</code></em>" \
--ta "<em class="replaceable"><code>FooBar Artist</code></em>" \
--tl "<em class="replaceable"><code>FooBar Album</code></em>" \
--ty "<em class="replaceable"><code>2001</code></em>" \
--tc "<em class="replaceable"><code>Ripped and encoded by Foo</code></em>" \
--tg "<em class="replaceable"><code>Genre</code></em>" \
<em class="replaceable"><code>audio01.wav audio01.mp3</code></em></code></strong></pre><p>Частота 128 килобит является стандартом "де факто" для MP3. Многие,
	однако, используют более высокие частоты для получения лучшего
	качества, 160 или 192 килобита. Чем выше частота, тем больше дискового
	пространства будет занимать получаемый MP3, но качество будет выше.
	Параметр <code class="option">-h</code> включает режим <span class="quote"><<<span class="quote">лучшее качество, но
	меньше скорость</span>>></span>. Параметры, начинающиеся с <code class="option">--t</code>
	указывают теги ID3, которые обычно содержат информацию о песне,
	включаемую в файл MP3. О дополнительных настройках преобразования можно
	узнать, прочитав страницу руководства lame.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="mp3-decoding"></a>8.3.4. Декодирование MP3</h3></div></div></div><p>Для того, чтобы записать музыкальный CD из файлов MP3, они должны
	быть преобразованы в несжатый формат WAV. Как
	<span class="application">XMMS</span>, так и
	<span class="application">mpg123</span> поддерживают вывод MP3 в
	распакованный формат файлов.</p><p>Запись на диск в <span class="application">XMMS</span>:</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Запустите <span class="application">XMMS</span>:</p></li><li class="step"><p>Нажмите правой кнопкой мыши в главном окне
	    <span class="application">XMMS</span> для того, чтобы показать меню.</p></li><li class="step"><p>Выберите <code class="literal">Preferences</code> (либо
	    <code class="literal">Свойства</code>, если у вас локализованная версия
	    <span class="application">XMMS</span>) в
	    <code class="literal">Options</code>.</p></li><li class="step"><p>Измените расширение вывода на <span class="quote"><<<span class="quote">Disk Writer Plugin</span>>></span>
	    (или <span class="quote"><<<span class="quote">Расширение записи на диск</span>>></span>, если у вас
	    локализованная версия <span class="application">XMMS</span>).</p></li><li class="step"><p>Нажмите <code class="literal">Configure</code> (или
	    <span class="quote"><<<span class="quote">Настройка</span>>></span>, если у вас локализованная версия
	    <span class="application">XMMS</span>).</p></li><li class="step"><p>Введите (или выберите при помощи обзора) каталог, в который
	    следует сохранять распакованные файлы.</p></li><li class="step"><p>Загрузите файл MP3 в <span class="application">XMMS</span> как вы это
	    делаете обычно. Установите громкость на 100% и отключите
	    эквалайзер.</p></li><li class="step"><p>Нажмите <code class="literal">Воспроизвести</code> -
	    <span class="application">XMMS</span> будет выглядеть так же как и при
	    обычном воспроизведении MP3, но самой музыки слышно не будет. На
	    самом деле MP3 воспроизводится в файл.</p></li><li class="step"><p>Убедитесь, что вы установили расширение вывода таким, как оно
	    было до этого, для того, чтобы снова слушать MP3.</p></li></ol></div><p>Запись в stdout в <span class="application">mpg123</span>:</p><div class="procedure"><ul class="procedure"><li class="step"><p>Запустите <code class="command">mpg123 -s <em class="replaceable"><code>audio01.mp3</code></em> &gt; audio01.pcm</code></p></li></ul></div><p><span class="application">XMMS</span> записывает файл в формате WAV, в то
	время как <span class="application">mpg123</span> преобразовывает MP3 в
	простые аудио данные PCM. Оба формата могут быть использованы
	<span class="application">cdrecord</span> для создания музыкальных
	CD.
	Для использования <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=burncd&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">burncd</span>(8)</span></a> вам потребуются простые аудио данные
	PCM. Если же вы будете использовать файлы в формате WAV, то заметите
	небольшой щелчок в начале каждой аудио дорожки, этот щелчок - заголовок
	файла в формате WAV. Вы очень просто можете избавиться от него путём
	удаления заголовка WAV при помощи утилиты
	<span class="application">SoX</span> (она может быть установлена из порта
	<a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/audio/sox/pkg-descr">audio/sox</a> или соответствующего
	пакета:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>sox -t wav -r 44100 -s -w -c 2 <em class="replaceable"><code>track.wav track.raw</code></em></code></strong></pre><p>Прочтите <a class="xref" href="creating-cds.html" title="17.6. Запись и использование оптических носителей (CD)">Раздел 17.6, <<Запись и использование оптических носителей (CD)>></a> для того, чтобы узнать
	больше о записи CD в FreeBSD.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="sound-setup.html">Пред.</a> </td><td width="20%" align="center"><a accesskey="u" href="multimedia.html">Наверх</a></td><td width="40%" align="right"> <a accesskey="n" href="video-playback.html">След.</a></td></tr><tr><td width="40%" align="left" valign="top">8.2. Настройка звуковой карты </td><td width="20%" align="center"><a accesskey="h" href="index.html">Начало</a></td><td width="40%" align="right" valign="top"> 8.4. Воспроизведение видео</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Этот, и другие документы, могут быть скачаны с
    <a href="http://ftp.FreeBSD.org/pub/FreeBSD/doc/">http://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>.</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>По вопросам, связанным с FreeBSD, прочитайте
    <a href="http://www.FreeBSD.org/ru/docs.html">документацию</a> прежде чем писать в
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    По вопросам, связанным с этой документацией, пишите в рассылку
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.<br></br></small></p></body></html>