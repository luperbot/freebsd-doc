<?xml version="1.0" encoding="koi8-r" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=koi8-r" /><title>17.10. Создание резервных копий на дискетах</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Руководство FreeBSD" /><link rel="up" href="disks.html" title="Глава 17. Устройства хранения" /><link rel="prev" href="backups-tapebackups.html" title="17.9. Создание и использование архивных копий на магнитной ленте" /><link rel="next" href="backup-strategies.html" title="17.11. Стратегии резервного копирования" /><link rel="copyright" href="legalnotice.html" title="Юридическое уведомление" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">17.10. Создание резервных копий на дискетах</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="backups-tapebackups.html">Пред.</a> </td><th width="60%" align="center">Глава 17. Устройства хранения</th><td width="20%" align="right"> <a accesskey="n" href="backup-strategies.html">След.</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="backups-floppybackups"></a>17.10. Создание резервных копий на дискетах</h2></div></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="floppies-using"></a>17.10.1. Можно ли использовать дискеты для создания резервных копий моих
	данных?</h3></div></div></div><a id="idp91779920" class="indexterm"></a><a id="idp91780432" class="indexterm"></a><p>На самом деле дискеты не подходят для создания резервных копий,
	потому что:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Носитель ненадёжен, особенно если речь идет о больших сроках
	    хранения.</p></li><li class="listitem"><p>Создание резервных копий и восстановление данных происходит
	    очень медленно.</p></li><li class="listitem"><p>Дискеты имеют весьма ограниченную емкость (дни, когда весь
	    винчестер копировался на десяток или около того дискет, давно
	    прошли).</p></li></ul></div><p>Несмотря на все это, если у вас нет другого способа сделать
	резервную копию ваших данных, то дискеты все же лучше, чем
	ничего.</p><p>Если вы используете дискеты, то проверьте, что они должны быть
	хорошего качества.  Дискеты, которые валялись по всему офису в течении
	нескольких лет, не подойдут.  Идеально использовать новые от известного
	производителя.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="floppies-creating"></a>17.10.2. Итак, как же сделать резервную копию данных на дискетах?</h3></div></div></div><p>Самым лучшим методом создания резервной копии на дискете является
	использование утилиты <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=tar&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">tar</span>(1)</span></a> с опцией
	<code class="option">-M</code> (многотомные архивы), которая позволяет размещать
	архивы на нескольких дискетах.</p><p>Для копирования всех файлов в текущем каталоге и подкаталогах
	выполните следующее (работая как пользователь
	<code class="systemitem">root</code>):</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>tar Mcvf /dev/fd0 *</code></strong></pre><p>Когда первая дискета окажется полностью заполненной, программа
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=tar&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">tar</span>(1)</span></a> выдаст запрос на следующий том (так как работа
	утилиты <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=tar&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">tar</span>(1)</span></a> не зависит от носителя, она имеет дело с
	томами; здесь это означает дискету).</p><pre class="screen">Prepare volume #2 for /dev/fd0 and hit return:</pre><p>Это сообщение будет повторяться (со все увеличивающимся номером
	тома) до тех пор, пока все указанные файлы не будут
	заархивированы.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="floppies-compress"></a>17.10.3. Можно ли резервные копии подвергнуть компрессии?</h3></div></div></div><a id="idp91796944" class="indexterm"></a><a id="idp91797584" class="indexterm"></a><a id="idp91798224" class="indexterm"></a><p>К сожалению, <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=tar&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">tar</span>(1)</span></a> при создании многотомных архивов
	не позволяет использовать опцию <code class="option">-z</code>.  Вы конечно же,
	можете скомпрессировать все файлы утилитой <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=gzip&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">gzip</span>(1)</span></a>,
	программой <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=gzip&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">gzip</span>(1)</span></a> скопировать их на дискеты, а затем
	распаковать файлы снова утилитой <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=gunzip&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">gunzip</span>(1)</span></a>!</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="floppies-restoring"></a>17.10.4. Как восстановить данные из моих резервных копий?</h3></div></div></div><p>Для полного восстановления архива воспользуйтесь такой
	командой:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>tar Mxvf /dev/fd0</code></strong></pre><p>Есть два подхода к восстановлению только нужных вам файлов.  В
	первом вы можете начать с первой дискеты и выдать такую команду:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>tar Mxvf /dev/fd0 <em class="replaceable"><code>filename</code></em></code></strong></pre><p>Программа <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=tar&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">tar</span>(1)</span></a> будет выдавать запрос на подачу
	последующих дискет до тех пор, пока не найдет требуемый файл.</p><p>Как альтернатива, если вы знаете, на какой дискете расположен файл,
	то вы можете просто подать ее и дать ту же самую команду, что и выше.
	Заметьте, что если первый файл на дискете является продолжением
	предыдущего, то <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=tar&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">tar</span>(1)</span></a> выдаст предупреждение о том, что
	не может его восстановить, хотя вы этого и не просили делать!</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="backups-tapebackups.html">Пред.</a> </td><td width="20%" align="center"><a accesskey="u" href="disks.html">Наверх</a></td><td width="40%" align="right"> <a accesskey="n" href="backup-strategies.html">След.</a></td></tr><tr><td width="40%" align="left" valign="top">17.9. Создание и использование архивных копий на магнитной ленте </td><td width="20%" align="center"><a accesskey="h" href="index.html">Начало</a></td><td width="40%" align="right" valign="top"> 17.11. Стратегии резервного копирования</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Этот, и другие документы, могут быть скачаны с
    <a href="http://ftp.FreeBSD.org/pub/FreeBSD/doc/">http://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>.</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>По вопросам, связанным с FreeBSD, прочитайте
    <a href="http://www.FreeBSD.org/ru/docs.html">документацию</a> прежде чем писать в
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    По вопросам, связанным с этой документацией, пишите в рассылку
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.<br></br></small></p></body></html>