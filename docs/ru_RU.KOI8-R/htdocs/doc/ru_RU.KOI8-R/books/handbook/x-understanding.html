<?xml version="1.0" encoding="koi8-r" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=koi8-r" /><title>6.2. Основы X</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Руководство FreeBSD" /><link rel="up" href="x11.html" title="Глава 6. X Window System" /><link rel="prev" href="x11.html" title="Глава 6. X Window System" /><link rel="next" href="x-install.html" title="6.3. Установка X11" /><link rel="copyright" href="legalnotice.html" title="Юридическое уведомление" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">6.2. Основы X</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="x11.html">Пред.</a> </td><th width="60%" align="center">Глава 6. X Window System</th><td width="20%" align="right"> <a accesskey="n" href="x-install.html">След.</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="x-understanding"></a>6.2. Основы X</h2></div></div></div><p>Первое знакомство с X может оказаться чем-то вроде шока для тех, кто
      работал с другими графическими системами, такими, как <span class="trademark">Microsoft</span>(R) <span class="trademark">Windows</span>(R)
      или <span class="trademark">Mac OS</span>(R).</p><p>Хотя нет необходимости вникать во все детали различных компонентов X и
      их взаимодействия, некоторые базовые знания делают возможным
      использование сильных сторон X.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp80661840"></a>6.2.1. Почему именно X?</h3></div></div></div><p>X не является первой оконной системой для <span class="trademark">UNIX</span>(R), но она
	самая популярная из них.  До работы над X команда ее разработчиков трудилась
	над другой оконной системой.  Та система называлась <span class="quote"><<<span class="quote">W</span>>></span>
	(от <span class="quote"><<<span class="quote">Window</span>>></span>).  X была просто следующей
	буквой в романском алфавите.</p><p>X можно называть <span class="quote"><<<span class="quote">X</span>>></span>, <span class="quote"><<<span class="quote">X Window System</span>>></span>,
	<span class="quote"><<<span class="quote">X11</span>>></span> и множеством других терминов.  Факт использования названия
	<span class="quote"><<<span class="quote">X Windows</span>>></span> для X11 может задеть интересы некоторых
	людей; дополнительную информацию по этому поводу можно найти на
	странице справочной системы <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=X&amp;sektion=7"><span class="citerefentry"><span class="refentrytitle">X</span>(7)</span></a>.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp80667216"></a>6.2.2. Модель клиент/сервер в X</h3></div></div></div><p>X изначально разрабатывалась, чтобы быть системой, ориентированной
	на работу в сети с использованием модели
	<span class="quote"><<<span class="quote">клиент-сервер</span>>></span>.</p><p>В модели работы X <span class="quote"><<<span class="quote">X-сервер</span>>></span> работает на компьютере с
	клавиатурой, монитором и мышью.  Область ответственности сервера
	включает управление
	дисплеем, обработку ввода с клавиатуры, мыши и других устройств
	ввода или вывода (например, <span class="quote"><<<span class="quote">планшет</span>>></span> может быть
	использован в качестве устройства ввода, а видеопроектор в качестве
	альтернативного устройства вывода).  Каждое
	X-приложение (например, <span class="application">XTerm</span> или
	<span class="application"><span class="trademark">Netscape</span>(R)</span>) является
	<span class="quote"><<<span class="quote">клиентом</span>>></span>.  Клиент посылает сообщения серверу, такие,
	как <span class="quote"><<<span class="quote">Пожалуйста, нарисуй окно со следующими координатами</span>>></span>,
	а сервер посылает в ответ сообщения типа <span class="quote"><<<span class="quote">Пользователь только что
	щёлкнул мышью на кнопке OK</span>>></span>.</p><p>В случае
	использования дома или в офисе, сервер и клиенты X как правило будут работать на
	том же самом компьютере.  Однако реально возможно запускать X-сервер
	на менее мощном настольном компьютере, а приложения X (клиенты) на,
	скажем, мощной и дорогой машине, обслуживающей целый офис.  В этом
	сценарии X-клиент и сервер общаются через сеть.</p><p>Некоторых это вводит в заблуждение, потому что терминология X
	в точности обратна тому, что они ожидают.  Они полагают, что
	<span class="quote"><<<span class="quote">X-сервер</span>>></span> будет большой мощной машиной, стоящей на полу,
	а <span class="quote"><<<span class="quote">X-клиентом</span>>></span> является машина, стоящая на их
	столах.</p><p>Важно помнить, что X-сервером является машина с монитором и
	клавиатурой, а X-клиенты являются программами, выводящими окна.</p><p>В протоколе нет ничего, что заставляет машины клиента и сервера
	работать под управлением одной и той же операционной системы, или
	даже быть одним и тем же типом компьютера.  Определённо возможно
	запускать X-сервер в <span class="trademark">Microsoft</span>(R) <span class="trademark">Windows</span>(R) или <span class="trademark">Mac OS</span>(R) от Apple, и есть
	множество свободно распространяемых и коммерческих приложений, которые
	это реализуют.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp80680144"></a>6.2.3. Оконный менеджер</h3></div></div></div><p>Философия построения X очень похожа на философию построения <span class="trademark">UNIX</span>(R),
	<span class="quote"><<<span class="quote">инструменты, не политика</span>>></span>.  Это значит, что X не пытаются
	диктовать то, как должна быть выполнена работа.  Вместо этого
	пользователю предоставляются инструменты, а за пользователем остается
	принятие решения о том, как использовать эти инструменты.</p><p>Этот подход расширен в X тем, что не задается, как окна должны
	выглядеть на экране, как их двигать мышью, какие комбинации клавиш
	должны использоваться для переключения между окнами (то есть
	<span class="keycap"><strong>Alt</strong></span>+<span class="keycap"><strong>Tab</strong></span>, в случае использования <span class="trademark">Microsoft</span>(R) <span class="trademark">Windows</span>(R)), как должны
	выглядеть заголовки окон, должны ли в них быть кнопки для закрытия, и
	прочее.</p><p>Вместо этого X делегирует ответственность за это приложению,
	которое называется <span class="quote"><<<span class="quote">Window Manager</span>>></span> (Менеджер Окон).  Есть
	десятки оконных менеджеров для X: <span class="application">AfterStep</span>,
	<span class="application">Blackbox</span>, <span class="application">ctwm</span>,
	<span class="application">Enlightenment</span>,
	<span class="application">fvwm</span>, <span class="application">Sawfish</span>,
	<span class="application">twm</span>,
	<span class="application">WindowMaker</span> и другие.  Каждый из этих
	оконных менеджеров предоставляет различные внешние виды и удобства;
	некоторые из них поддерживают <span class="quote"><<<span class="quote">виртуальные рабочие столы</span>>></span>;
	некоторые из них позволяют изменять назначения комбинаций
	клавиш, используемых для управления рабочим столом; в некоторых есть
	кнопка <span class="quote"><<<span class="quote">Start</span>>></span> или нечто подобное; некоторые поддерживают
	<span class="quote"><<<span class="quote">темы</span>>></span>, позволяя изменять внешний вид, поменяв тему.
	Эти оконные менеджеры, а также множество
	других, находятся в категории <code class="filename">x11-wm</code> коллекции
	портов.</p><p>Кроме того, оболочки <span class="application">KDE</span> и
	<span class="application">GNOME</span> имеют собственные оконные
	менеджеры, которые интегрированы в оболочку.</p><p>Каждый оконный менеджер также имеет собственный механизм настройки;
	некоторые предполагают наличие вручную созданного конфигурационного
	файла; некоторые предоставляют графические инструменты для выполнения
	большинства работ по настройке; по крайней мере один
	(<span class="application">Sawfish</span>) имеет конфигурационный файл,
	написанный на диалекте языка Lisp.</p><div xmlns="" class="note"><h3 class="admontitle">Политика фокусирования: </h3><p xmlns="http://www.w3.org/1999/xhtml">Другой особенностью, за которую отвечает оконный менеджер,
	  является <span class="quote"><<<span class="quote">политика фокусирования</span>>></span> мыши.  Каждая оконная
	  система должна иметь некоторый способ выбора окна для активации
	  получения нажатий клавиш, а также визуальную индикацию того, какое
	  окно активно.</p><p xmlns="http://www.w3.org/1999/xhtml">Широко известная политика фокусировки называется
	  <span class="quote"><<<span class="quote">щелчок-для-фокуса</span>>></span> (<span class="quote"><<<span class="quote">click-to-focus</span>>></span>).
	  Эта модель используется в
	  <span class="trademark">Microsoft</span>(R) <span class="trademark">Windows</span>(R), когда окно становится активным после получения
	  щелчка мыши.</p><p xmlns="http://www.w3.org/1999/xhtml">X не поддерживает никакой конкретной политики фокусирования.
	  Вместо этого менеджер окон управляет тем, какое окно владеет фокусом
	  в каждый конкретный момент времени.  Различные оконные менеджеры
	  поддерживают разные методы фокусирования.  Все они поддерживают метод
	  щелчка для фокусирования, и большинство из них поддерживают некоторые
	  другие методы.</p><p xmlns="http://www.w3.org/1999/xhtml">Самыми популярными политики фокусирования являются:</p><div xmlns="http://www.w3.org/1999/xhtml" class="variablelist"><dl class="variablelist"><dt><span class="term">фокус следует за мышью (focus-follows-mouse)</span></dt><dd><p>Фокусом владеет то окно, что находится под
		указателем мыши.  Это не обязательно будет окно, которое
		находится поверх всех остальных.  Фокус меняется при
		указании на другое окно, при этом также нет нужды щёлкать на
		нём.</p></dd><dt><span class="term">нечеткий фокус (sloppy-focus)</span></dt><dd><p>С политикой focus-follows-mouse если мышь помещается
		поверх корневого окна (или заднего фона), то никакое окно
		фокус не получает, а нажатия клавиш просто пропадают.
		При использовании политики нечёткого фокуса он меняется
		только когда курсор попадает на новое окно, но не когда
		уходит с текущего окна.</p></dd><dt><span class="term">щелчок для выбора фокуса (click-to-focus)</span></dt><dd><p>Активное окно выбирается щелчком мыши.  Затем окно
		может быть <span class="quote"><<<span class="quote">поднято</span>>></span> и появится поверх всех
		других окон.  Все нажатия клавиш теперь будут направляться
		в это окно, даже если курсор переместится к другому.</p></dd></dl></div><p xmlns="http://www.w3.org/1999/xhtml">Многие оконные менеджеры поддерживают и другие политики, а также
	  вариации перечисленных.  Обязательно обращайтесь к документации по
	  оконному менеджеру.</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp80711120"></a>6.2.4. Виджеты</h3></div></div></div><p>Подход X, заключающийся в предоставлении инструментов, а не
	политики, распространяется и на виджеты, которые располагаются на
	экране в каждом приложении.</p><p><span class="quote"><<<span class="quote">Виджет</span>>></span> (widget) является термином для всего в
	пользовательском интерфейсе, на чём можно
	щёлкать или каким-то образом управлять; кнопки, зависимые (radio
	buttons) и независимые (check boxes) опции, иконки, списки и так
	далее.  В <span class="trademark">Microsoft</span>(R) <span class="trademark">Windows</span>(R) это называется <span class="quote"><<<span class="quote">элементами
	управления</span>>></span> (<span class="quote"><<<span class="quote">controls</span>>></span>).</p><p><span class="trademark">Microsoft</span>(R) <span class="trademark">Windows</span>(R) и <span class="trademark">Mac OS</span>(R) от Apple имеют очень жёсткую
	политику относительно виджетов.  Предполагается, что разрабатываемые
	приложения обязательно должны иметь похожий внешний вид.  Что касается
	X, то было решено, что не нужно требовать обязательного использования
	какого-то определённого графического стиля или набора виджетов.</p><p>В результате не стоит ожидать от X-приложений
	похожести во внешнем виде.  Существует несколько популярных наборов
	виджетов и их разновидностей, включая оригинальный набор виджетов
	Athena от MIT, <span class="application"><span class="trademark">Motif</span>(R)</span> (по
	образу которого был разработан набор виджетов в <span class="trademark">Microsoft</span>(R) <span class="trademark">Windows</span>(R),
	все эти скошенные углы и три разновидности серого цвета),
	<span class="application">OpenLook</span> и другие.</p><p>В большинстве появляющихся в настоящее время приложений для X будет
	использоваться современно выглядящий набор виджетов, либо Qt,
	используемый в <span class="application">KDE</span>, либо
	GTK+, используемый проектом
	<span class="application">GNOME</span>.  В этом отношении наблюдается
	унификация внешнего вида рабочего стола в <span class="trademark">UNIX</span>(R), что определённо
	облегчает жизнь начинающему пользователю.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="x11.html">Пред.</a> </td><td width="20%" align="center"><a accesskey="u" href="x11.html">Наверх</a></td><td width="40%" align="right"> <a accesskey="n" href="x-install.html">След.</a></td></tr><tr><td width="40%" align="left" valign="top">Глава 6. X Window System </td><td width="20%" align="center"><a accesskey="h" href="index.html">Начало</a></td><td width="40%" align="right" valign="top"> 6.3. Установка X11</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Этот, и другие документы, могут быть скачаны с
    <a href="http://ftp.FreeBSD.org/pub/FreeBSD/doc/">http://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>.</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>По вопросам, связанным с FreeBSD, прочитайте
    <a href="http://www.FreeBSD.org/ru/docs.html">документацию</a> прежде чем писать в
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    По вопросам, связанным с этой документацией, пишите в рассылку
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.<br></br></small></p></body></html>