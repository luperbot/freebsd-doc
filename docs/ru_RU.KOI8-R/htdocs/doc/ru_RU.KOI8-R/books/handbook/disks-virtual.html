<?xml version="1.0" encoding="koi8-r" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=koi8-r" /><title>17.13. Сетевые файловые системы, файловые системы в памяти и с отображением в файл</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Руководство FreeBSD" /><link rel="up" href="disks.html" title="Глава 17. Устройства хранения" /><link rel="prev" href="backup-basics.html" title="17.12. Основы технологии резервного копирования" /><link rel="next" href="snapshots.html" title="17.14. Мгновенные копии файловых систем" /><link rel="copyright" href="legalnotice.html" title="Юридическое уведомление" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">17.13. Сетевые файловые системы, файловые системы в памяти и с отображением
      в файл</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="backup-basics.html">Пред.</a> </td><th width="60%" align="center">Глава 17. Устройства хранения</th><td width="20%" align="right"> <a accesskey="n" href="snapshots.html">След.</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="disks-virtual"></a>17.13. Сетевые файловые системы, файловые системы в памяти и с отображением
      в файл</h2></div><div><span class="authorgroup">Реорганизацию и улучшения выполнил <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Marc</span> <span class="surname">Fonvieille</span></span>. </span></div></div></div><a id="idp92024016" class="indexterm"></a><a id="idp92024528" class="indexterm"></a><p>Кроме дисков, которые вы физически устанавливаете в ваш компьютер;
      дискеты, компакт-диски, винчестеры и так далее, FreeBSD воспринимает и
      другие типы дисков - <em class="firstterm">виртуальные диски</em>.</p><a id="idp92030672" class="indexterm"></a><a id="idp92031184" class="indexterm"></a><a id="idp92031696" class="indexterm"></a><p>Сюда могут быть отнесены сетевые файловые системы, такие, как
      <a class="link" href="network-nfs.html" title="25.3. Network File System (NFS)">Network File System</a> и Coda, а также
      файловые системы с организацией в памяти и создаваемые в файлах.</p><p>В зависимости от версии FreeBSD, которую вы используете, для создания
      и работы с файловыми системами, отображаемыми в оперативную память или
      файлы, вам нужно будет пользоваться разными инструментами.</p><div xmlns="" class="note"><h3 class="admontitle">Примечание: </h3><p xmlns="http://www.w3.org/1999/xhtml">Пользователи FreeBSD 4.X для создания требуемых устройств
	должны использовать <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=MAKEDEV&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">MAKEDEV</span>(8)</span></a>.  Во FreeBSD 5.0 и более
	поздних версиях для создания файлов устройств используется
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=devfs&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">devfs</span>(5)</span></a>, которая выполняет это прозрачно для
	пользователей.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="disks-vnconfig"></a>17.13.1. Файловая система в файле во FreeBSD 4.X</h3></div></div></div><a id="idp92037456" class="indexterm"></a><p>Утилита <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=vnconfig&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">vnconfig</span>(8)</span></a> конфигурирует и позволяет использовать
	дисковые устройства на основе псевдо-устройств vnode.
	<em class="firstterm">vnode</em> представляет собой файл и отвечает за
	работу с файлом.  Это означает, что <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=vnconfig&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">vnconfig</span>(8)</span></a> использует файлы
	для создания и работы с файловой системой.  Одним из возможных
	способов использования является монтирование образов дискет или
	образов компакт-дисков, сброшенных в файлы.</p><p>Для использования <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=vnconfig&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">vnconfig</span>(8)</span></a> в конфигурационном файле ядра
	вам нужно включить поддержку <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=vn&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">vn</span>(4)</span></a>:</p><pre class="programlisting">pseudo-device vn</pre><p>Чтобы смонтировать имеющийся образ файловой системы:</p><div class="example"><a id="idp92047824"></a><div class="example-title">Пример 17.3. Использование vnconfig для монтирования имеющегося образа
	  файловой системы во FreeBSD 4.X</div><div class="example-contents"><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>vnconfig vn<em class="replaceable"><code>0</code></em> <em class="replaceable"><code>diskimage</code></em></code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>mount /dev/vn<em class="replaceable"><code>0</code></em>c <em class="replaceable"><code>/mnt</code></em></code></strong></pre></div></div><br class="example-break" /><p>Для создания нового образа файловой системы с помощью
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=vnconfig&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">vnconfig</span>(8)</span></a>:</p><div class="example"><a id="idp92052816"></a><div class="example-title">Пример 17.4. Создание нового диска в файле с помощью
	  <code class="command">vnconfig</code></div><div class="example-contents"><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>dd if=/dev/zero of=<em class="replaceable"><code>newimage</code></em> bs=1k count=<em class="replaceable"><code>5</code></em>k</code></strong>
5120+0 records in
5120+0 records out
<code class="prompt">#</code> <strong class="userinput"><code>vnconfig -s labels -c vn<em class="replaceable"><code>0</code></em> <em class="replaceable"><code>newimage</code></em></code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>bsdlabel -r -w vn<em class="replaceable"><code>0</code></em> auto</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>newfs vn<em class="replaceable"><code>0</code></em>c</code></strong>
Warning: 2048 sector(s) in last cylinder unallocated
/dev/vn0c:	10240 sectors in 3 cylinders of 1 tracks, 4096 sectors
	5.0MB in 1 cyl groups (16 c/g, 32.00MB/g, 1280 i/g)
super-block backups (for fsck -b #) at:
 32
<code class="prompt">#</code> <strong class="userinput"><code>mount /dev/vn<em class="replaceable"><code>0</code></em>c <em class="replaceable"><code>/mnt</code></em></code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>df <em class="replaceable"><code>/mnt</code></em></code></strong>
Filesystem  1K-blocks	  Used	  Avail Capacity  Mounted on
/dev/vn0c	 4927	     1	   4532     0%	  /mnt</pre></div></div><br class="example-break" /></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="disks-mdconfig"></a>17.13.2. Файловые системы, отображаемые в файлы</h3></div></div></div><a id="idp92062800" class="indexterm"></a><p>Во FreeBSD 5.X и более поздних для конфигурации и подключения дисков
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=md&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">md</span>(4)</span></a>, отображаемых в оперативную память, используется утилита
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mdconfig&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mdconfig</span>(8)</span></a>.  Для работы с <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mdconfig&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mdconfig</span>(8)</span></a> вам нужно подгрузить
	модуль <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=md&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">md</span>(4)</span></a> или добавить поддержку этих устройств в файл
	конфигурации ядра:</p><pre class="programlisting">device md</pre><p>Утилита <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mdconfig&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mdconfig</span>(8)</span></a> поддерживает три типа виртуальных дисков,
	отображаемых в память: диски в памяти, которая выделяется запросами
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=malloc&amp;sektion=9"><span class="citerefentry"><span class="refentrytitle">malloc</span>(9)</span></a> и диски в памяти, использующие в качестве устройств
	хранения файлы или раздел подкачки.  Одним из возможных использований
	таких дисков является монтирование файлов с образами дискет или
	CD.</p><p>Для монтирования образа существующей файловой системы:</p><div class="example"><a id="idp92078544"></a><div class="example-title">Пример 17.5. Использование <code class="command">mdconfig</code> для монтирования файла
	  с образом существующей файловой системы</div><div class="example-contents"><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mdconfig -a -t vnode -f <em class="replaceable"><code>diskimage</code></em> -u <em class="replaceable"><code>0</code></em></code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>mount /dev/md<em class="replaceable"><code>0</code></em> <em class="replaceable"><code>/mnt</code></em></code></strong></pre></div></div><br class="example-break" /><p>Для создания образа новой файловой системы при помощи
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mdconfig&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mdconfig</span>(8)</span></a>:</p><div class="example"><a id="idp92083920"></a><div class="example-title">Пример 17.6. Создание нового диска, отображаемого в файл, при помощи
	  <code class="command">mdconfig</code></div><div class="example-contents"><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>dd if=/dev/zero of=<em class="replaceable"><code>newimage</code></em> bs=1k count=<em class="replaceable"><code>5</code></em>k</code></strong>
5120+0 records in
5120+0 records out
<code class="prompt">#</code> <strong class="userinput"><code>mdconfig -a -t vnode -f <em class="replaceable"><code>newimage</code></em> -u <em class="replaceable"><code>0</code></em></code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>bsdlabel -w md<em class="replaceable"><code>0</code></em> auto</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>newfs md<em class="replaceable"><code>0</code></em>a</code></strong>
/dev/md0c: 5.0MB (10224 sectors) block size 16384, fragment size 2048
	using 4 cylinder groups of 1.25MB, 80 blks, 192 inodes.
super-block backups (for fsck -b #) at:
 160, 2720, 5280, 7840
<code class="prompt">#</code> <strong class="userinput"><code>mount /dev/md<em class="replaceable"><code>0</code></em>a <em class="replaceable"><code>/mnt</code></em></code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>df <em class="replaceable"><code>/mnt</code></em></code></strong>
Filesystem 1K-blocks Used Avail Capacity  Mounted on
/dev/md0a       4710    4  4330     0%    /mnt</pre></div></div><br class="example-break" /><p>Если в параметре <code class="option">-u</code> вы не задали номер устройства,
	то <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mdconfig&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mdconfig</span>(8)</span></a> для выбора неиспользуемого устройства будет
	использовать функцию автоматическое выделения в <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=md&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">md</span>(4)</span></a>.  Имя
	выделенного устройства будет выдано на стандартное устройство выводы в
	виде, например, <code class="filename">md4</code>.  Для получения более
	полной информации о <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mdconfig&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mdconfig</span>(8)</span></a>, пожалуйста, обратитесь к
	соответствующей странице справочной системы.</p><p>Утилита <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mdconfig&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mdconfig</span>(8)</span></a> весьма полезна, однако для создания файла
	с файловой системой требуется произвести много действий.  Вместе с
	FreeBSD 5.0 поставляется утилита под названием <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mdmfs&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mdmfs</span>(8)</span></a>,
	которая создаёт диск <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=md&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">md</span>(4)</span></a> при помощи <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mdconfig&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mdconfig</span>(8)</span></a>, размещает
	на нём файловую систему UFS при помощи <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=newfs&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">newfs</span>(8)</span></a> и монтирует её
	командой <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mount&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mount</span>(8)</span></a>.  Например, если вы хотите создать и
	смонтировать такой же образ файловой системе, как выше, просто наберите
	такую команду:</p><div class="example"><a id="idp92105808"></a><div class="example-title">Пример 17.7. Настройка и монтирование диска, отображаемого в файл, при помощи
	  команды <code class="command">mdmfs</code></div><div class="example-contents"><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>dd if=/dev/zero of=<em class="replaceable"><code>newimage</code></em> bs=1k count=<em class="replaceable"><code>5</code></em>k</code></strong>
5120+0 records in
5120+0 records out
<code class="prompt">#</code> <strong class="userinput"><code>mdmfs -F <em class="replaceable"><code>newimage</code></em> -s <em class="replaceable"><code>5</code></em>m md<em class="replaceable"><code>0</code></em> <em class="replaceable"><code>/mnt</code></em></code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>df <em class="replaceable"><code>/mnt</code></em></code></strong>
Filesystem 1K-blocks Used Avail Capacity  Mounted on
/dev/md0        4718    4  4338     0%    /mnt</pre></div></div><br class="example-break" /><p>Если вы используете параметр <code class="option">md</code> без номера
	устройства, то <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mdmfs&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mdmfs</span>(8)</span></a> будет использовать автоматическую
	нумерацию <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=md&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">md</span>(4)</span></a> для автоматического выбора неиспользуемого
	устройства.  Более полную информацию о <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mdmfs&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mdmfs</span>(8)</span></a> можно найти на
	страницах справочной системы.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="disks-md-freebsd4"></a>17.13.3. Файловая система в памяти во FreeBSD 4.X</h3></div></div></div><a id="idp92120016" class="indexterm"></a><p>Драйвер <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=md&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">md</span>(4)</span></a> является простым и эффективным способом создания
	файловых систем в памяти во FreeBSD 4.X.  Для выделения памяти
	используется <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=malloc&amp;sektion=9"><span class="citerefentry"><span class="refentrytitle">malloc</span>(9)</span></a>.</p><p>Просто возьмите файловую систему, которую вы приготовили при
	помощи, скажем, <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=vnconfig&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">vnconfig</span>(8)</span></a> и:</p><div class="example"><a id="idp92136656"></a><div class="example-title">Пример 17.8. Диск md в памяти во FreeBSD 4.X</div><div class="example-contents"><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>dd if=<em class="replaceable"><code>newimage</code></em> of=/dev/md<em class="replaceable"><code>0</code></em></code></strong>
5120+0 records in
5120+0 records out
<code class="prompt">#</code> <strong class="userinput"><code>mount /dev/md<em class="replaceable"><code>0</code></em>c <em class="replaceable"><code>/mnt</code></em></code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>df <em class="replaceable"><code>/mnt</code></em></code></strong>
Filesystem  1K-blocks	  Used	  Avail Capacity  Mounted on
/dev/md0c	 4927	     1	   4532     0%	  /mnt</pre></div></div><br class="example-break" /><p>Для получения более полной информации, пожалуйста, обратитесь к
	страницам справочной системы по <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=md&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">md</span>(4)</span></a>.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="disks-md-freebsd5"></a>17.13.4. Файловые системы с отображением в память</h3></div></div></div><a id="idp92143568" class="indexterm"></a><p>При работе с файловыми системами, отображаемыми в файл или память,
	используются одни и те же утилиты: <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mdconfig&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mdconfig</span>(8)</span></a> или <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mdmfs&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mdmfs</span>(8)</span></a>.
	Обычно для отображаемых в память файловых систем следует использовать
	опцию <span class="quote"><<<span class="quote">хранение на области подкачки</span>>></span>.  Это не означает,
	что такая файловая система будет сразу сброшена на диск: место под нее
	будет выделено из общего пула памяти, и при необходимости может
	перемещаться в область подкачки.  Также, возможно выделение места под
	файловую систему в основной памяти (через <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=malloc&amp;sektion=9"><span class="citerefentry"><span class="refentrytitle">malloc</span>(9)</span></a>); однако,
	следует помнить, что использование таких файловых систем, в
	особенности большого размера, может привести к панике системы от
	исчерпания ядерной памяти.</p><div class="example"><a id="idp92147920"></a><div class="example-title">Пример 17.9. Создание нового диска с отображением в память при помощи
	  <code class="command">mdconfig</code></div><div class="example-contents"><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mdconfig -a -t swap -s <em class="replaceable"><code>5</code></em>m -u <em class="replaceable"><code>1</code></em></code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>newfs -U md<em class="replaceable"><code>1</code></em></code></strong>
/dev/md1: 5.0MB (10240 sectors) block size 16384, fragment size 2048
	using 4 cylinder groups of 1.27MB, 81 blks, 192 inodes.
	with soft updates
super-block backups (for fsck -b #) at:
 160, 2752, 5344, 7936
<code class="prompt">#</code> <strong class="userinput"><code>mount /dev/md<em class="replaceable"><code>1</code></em> <em class="replaceable"><code>/mnt</code></em></code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>df <em class="replaceable"><code>/mnt</code></em></code></strong>
Filesystem 1K-blocks Used Avail Capacity  Mounted on
/dev/md1        4718    4  4338     0%    /mnt</pre></div></div><br class="example-break" /><div class="example"><a id="idp92158288"></a><div class="example-title">Пример 17.10. Создание нового диска с отображением в память при помощи
	  <code class="command">mdmfs</code></div><div class="example-contents"><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mdmfs -s <em class="replaceable"><code>5</code></em>m md<em class="replaceable"><code>2</code></em> <em class="replaceable"><code>/mnt</code></em></code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>df <em class="replaceable"><code>/mnt</code></em></code></strong>
Filesystem 1K-blocks Used Avail Capacity  Mounted on
/dev/md2        4846    2  4458     0%    /mnt</pre></div></div><br class="example-break" /></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp92162512"></a>17.13.5. Отключение диска, отображаемого в память, от системы</h3></div></div></div><a id="idp92163152" class="indexterm"></a><p>Если файловые системы, отображаемые в память или файл, больше не
	используются, вам нужно высвободить все ресурсы для системы.  Первым
	делом нужно размонтировать файловую систему, затем воспользоваться
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mdconfig&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mdconfig</span>(8)</span></a> для отключения диска от системы и освободить
	ресурсы.</p><p>К примеру, чтобы отключить и освободить все ресурсы, используемые
	<code class="filename">/dev/md4</code>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mdconfig -d -u <em class="replaceable"><code>4</code></em></code></strong></pre><p>Для выдачи информации об отконфигурированных устройствах
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=md&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">md</span>(4)</span></a> используется команда <code class="command">mdconfig -l</code>.</p><p>Во FreeBSD 4.X для отключения устройства используется команда
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=vnconfig&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">vnconfig</span>(8)</span></a>.  Например, для отключения и освобождения всех
	ресурсов, используемых <code class="filename">/dev/vn4</code>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>vnconfig -u vn<em class="replaceable"><code>4</code></em></code></strong></pre></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="backup-basics.html">Пред.</a> </td><td width="20%" align="center"><a accesskey="u" href="disks.html">Наверх</a></td><td width="40%" align="right"> <a accesskey="n" href="snapshots.html">След.</a></td></tr><tr><td width="40%" align="left" valign="top">17.12. Основы технологии резервного копирования </td><td width="20%" align="center"><a accesskey="h" href="index.html">Начало</a></td><td width="40%" align="right" valign="top"> 17.14. Мгновенные копии файловых систем</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Этот, и другие документы, могут быть скачаны с
    <a href="http://ftp.FreeBSD.org/pub/FreeBSD/doc/">http://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>.</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>По вопросам, связанным с FreeBSD, прочитайте
    <a href="http://www.FreeBSD.org/ru/docs.html">документацию</a> прежде чем писать в
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    По вопросам, связанным с этой документацией, пишите в рассылку
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.<br></br></small></p></body></html>