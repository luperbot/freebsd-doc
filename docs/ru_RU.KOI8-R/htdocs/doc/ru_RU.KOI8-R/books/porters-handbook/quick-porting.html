<?xml version="1.0" encoding="koi8-r" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=koi8-r" /><title>Глава 3. Быстрое портирование</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Руководство FreeBSD по созданию портов" /><link rel="up" href="index.html" title="Руководство FreeBSD по созданию портов" /><link rel="prev" href="own-port.html" title="Глава 2. Как самому сделать новый порт" /><link rel="next" href="porting-desc.html" title="3.2. Создание информационных файлов" /><link rel="copyright" href="legalnotice.html" title="Юридическое уведомление" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Глава 3. Быстрое портирование</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="own-port.html">Пред.</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="porting-desc.html">След.</a></td></tr></table><hr /></div><div class="chapter"><div xmlns="" class="titlepage"><div><div><h1 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="quick-porting"></a>Глава 3. Быстрое портирование</h1></div></div></div><div class="toc"><div class="toc-title">Содержание</div><dl class="toc"><dt><span class="sect1"><a href="quick-porting.html#porting-makefile">3.1. Создание файла <code class="filename">Makefile</code></a></span></dt><dt><span class="sect1"><a href="porting-desc.html">3.2. Создание информационных файлов</a></span></dt><dt><span class="sect1"><a href="porting-checksum.html">3.3. Создание файла с контрольной суммой</a></span></dt><dt><span class="sect1"><a href="porting-testing.html">3.4. Тестирование порта</a></span></dt><dt><span class="sect1"><a href="porting-portlint.html">3.5. Проверка вашего порта утилитой
      <code class="command">portlint</code></a></span></dt><dt><span class="sect1"><a href="porting-submitting.html">3.6. Посылка нового порта</a></span></dt></dl></div><p>В этом разделе описано, как создать новый порт на скорую
    руку.  Во многих случаях этого бывает не достаточно, так что вам
    нужно будет прочитать документ дальше.</p><p>Во-первых, скачайте оригинальный tar-файл и поместите его в
    каталог <code class="varname">DISTDIR</code>, который по умолчанию есть не
    что иное, как <code class="filename">/usr/ports/distfiles</code>.</p><div xmlns="" class="note"><h3 class="admontitle">Примечание: </h3><p xmlns="http://www.w3.org/1999/xhtml">Здесь предполагается, что программное обеспечение
      компилируется без проблем как есть, то есть для работы
      приложения на вашей системе FreeBSD не потребовалось абсолютно
      никаких изменений.  Если требовалось что-то изменить, то вам
      придется обратиться также и к следующему разделу.</p></div><div xmlns="" class="note"><h3 class="admontitle">Примечание: </h3><p xmlns="http://www.w3.org/1999/xhtml">Перед началом портирования рекомендуется установить
      переменную <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=make&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">make</span>(1)</span></a> <code class="varname">DEVELOPER</code> в
      <code class="filename">/etc/make.conf</code>.</p><pre xmlns="http://www.w3.org/1999/xhtml" class="screen"><code class="prompt">#</code> <strong class="userinput"><code>echo DEVELOPER=yes &gt;&gt; /etc/make.conf</code></strong></pre><p xmlns="http://www.w3.org/1999/xhtml">Эта настройка включает <span class="quote"><<<span class="quote">режим разработчика</span>>></span>, в
      котором отображаются предупреждения при использовании
      устаревших конструкций и задействуются некоторые дополнительные
      проверки при вызове команды <code class="command">make</code>.</p></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="porting-makefile"></a>3.1. Создание файла <code class="filename">Makefile</code></h2></div></div></div><p>Минимальный <code class="filename">Makefile</code> будет выглядеть
      примерно так:</p><pre class="programlisting"># $FreeBSD$

PORTNAME=	oneko
PORTVERSION=	1.1b
CATEGORIES=	games
MASTER_SITES=	ftp://ftp.cs.columbia.edu/archives/X11R5/contrib/

MAINTAINER=	youremail@example.com
COMMENT=	Cat chasing a mouse all over the screen

.include &lt;bsd.port.mk&gt;</pre><div xmlns="" class="note"><h3 class="admontitle">Примечание: </h3><p xmlns="http://www.w3.org/1999/xhtml">В некоторых случаях в заголовке
	<code class="filename">Makefile</code> существующего порта могут
	содержаться дополнительные строки, такие как название порта и
	дата его создания.  Эта дополнительная информация была
	объявлена устаревшей и находится в процессе удаления.</p></div><p>Посмотрим, сможете ли вы его понять.  Не обращайте внимание
      на содержимое строчки
      <code class="literal">$FreeBSD$</code>, она будет заполнена
      автоматически системой <span class="application">Subversion</span>,
      когда порт будет импортирован в наше дерево портов.  Вы можете
      найти более подробный пример в разделе <a class="link" href="porting-samplem.html" title="Глава 13. Примерный Makefile">пример Makefile</a>.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="own-port.html">Пред.</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="porting-desc.html">След.</a></td></tr><tr><td width="40%" align="left" valign="top">Глава 2. Как самому сделать новый порт </td><td width="20%" align="center"><a accesskey="h" href="index.html">Начало</a></td><td width="40%" align="right" valign="top"> 3.2. Создание информационных файлов</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Этот, и другие документы, могут быть скачаны с
    <a href="http://ftp.FreeBSD.org/pub/FreeBSD/doc/">http://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>.</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>По вопросам, связанным с FreeBSD, прочитайте
    <a href="http://www.FreeBSD.org/ru/docs.html">документацию</a> прежде чем писать в
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    По вопросам, связанным с этой документацией, пишите в рассылку
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.<br></br></small></p></body></html>