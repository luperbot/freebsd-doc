<?xml version="1.0" encoding="koi8-r"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=koi8-r" /><title>Часто задаваемые вопросы по FreeBSD 8.X, 9.X и 10.X</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><meta name="description" content="Этот документ является так называемым FAQ (Frequently Asked Questions), то есть списком Часто Задаваемых Вопросов по FreeBSD версий 8.X, 9.X и 10.X. Мы прилагаем все усилия, чтобы сделать этот FAQ максимально информативным; если у вас есть идеи по его усовершенствованию, шлите их на адрес Список рассылки Проекта Документации FreeBSD. Последняя редакция этого документа всегда доступна с Web-сервера FreeBSD. Его также можно получить в виде одного большого HTML-файла по HTTP или в ряде других форматов с FTP-сервера." /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div xml:lang="ru" class="book" lang="ru"><div xmlns="" class="titlepage"><div><div><h1 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp68661584"></a>Часто задаваемые вопросы по FreeBSD
      8.<em class="replaceable"><code>X</code></em>, 9.<em class="replaceable"><code>X</code></em> и 10.<em class="replaceable"><code>X</code></em></h1></div><div><div xmlns="http://www.w3.org/1999/xhtml" class="author"><h3 class="author"><span class="orgname">Проект документации FreeBSD</span></h3></div></div><div>Издание: <a href="https://svnweb.freebsd.org/changeset/doc/"><span class="svnref"></span></a></div><div><p xmlns="http://www.w3.org/1999/xhtml" class="copyright">Авторские права © 1995-2015 The FreeBSD Documentation Project</p></div><div><div xmlns="http://www.w3.org/1999/xhtml" class="legalnotice"><a id="legalnotice"></a><p>Распространение и использование исходных (SGML DocBook) и
    <span class="quote"><<<span class="quote">скомпилированных</span>>></span> форм (SGML, HTML, PDF, PostScript,
    RTF и прочих)
    с модификацией или без оной, разрешены при соблюдении следующих
    соглашений:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Распространяемые копии исходного кода (SGML DocBook) должны
        сохранять вышеупомянутые объявления copyright, этот список
	положений и следующий отказ от ответственности в первых строках
	этого файла в неизменном виде.</p></li><li class="listitem"><p>Распространяемые копии скомпилированных форм (преобразованные в
        другие DTD, конвертированные в PDF, PostScript, RTF и другие форматы)
	должны повторять вышеупомянутые объявления copyright, этот список
	положений и следующий отказ от ответственности в документации
	и/или других материалах, поставляемых с дистрибьюцией.</p></li></ol></div><div xmlns="" class="important"><h3 class="admontitle">Важно: </h3><p xmlns="http://www.w3.org/1999/xhtml">ЭТА ДОКУМЕНТАЦИЯ ПОСТАВЛЯЕТСЯ ПРОЕКТОМ ДОКУМЕНТАЦИИ FREEBSD
      "КАК ЕСТЬ" И ЛЮБЫЕ ЯВНЫЕ ИЛИ НЕЯВНЫЕ ГАРАНТИИ, ВКЛЮЧАЯ, НО НЕ
      ОГРАНИЧИВАЯСЬ НЕЯВНЫМИ ГАРАНТИЯМИ, КОММЕРЧЕСКОЙ ЦЕННОСТИ И ПРИГОДНОСТИ
      ДЛЯ КОНКРЕТНОЙ ЦЕЛИ ОТРИЦАЮТСЯ. НИ ПРИ КАКИХ УСЛОВИЯХ ПРОЕКТ
      ДОКУМЕНТИРОВАНИЯ FREEBSD НЕ НЕСЕТ ОТВЕТСТВЕННОСТИ ЗА ЛЮБОЙ ПРЯМОЙ, КОСВЕННЫЙ,
      СЛУЧАЙНЫЙ, СПЕЦИАЛЬНЫЙ, ОБРАЗЦОВЫЙ ИЛИ ПОСЛЕДУЮЩИЙ УЩЕРБЫ (ВКЛЮЧАЯ,
      НО НЕ ОГРАНИЧИВАЯСЬ ПОСТАВКОЙ ТОВАРОВ ЗАМЕНЫ ИЛИ УСЛУГ; ПОТЕРЮ ДАННЫХ
      ИЛИ ИХ НЕПРАВИЛЬНУЮ ПЕРЕДАЧУ ИЛИ ПОТЕРИ; ПРИОСТАНОВЛЕНИЕ БИЗНЕСА),
      И ТЕМ НЕ МЕНЕЕ ВЫЗВАННЫЕ И В ЛЮБОЙ ТЕОРИИ ОТВЕТСТВЕННОСТИ,
      НЕЗАВИСИМО ОТ КОНТРАКТНОЙ, СТРОГОЙ ОТВЕТСТВЕННОСТИ, ИЛИ
      ПРАВОНАРУШЕНИИ (ВКЛЮЧАЯ ХАЛАТНОСТЬ ИЛИ ИНЫМ СПОСОБОМ), ВОЗНИКШЕМ
      ЛЮБЫМ ПУТЕМ ПРИ ИСПОЛЬЗОВАНИИ ЭТОЙ ДОКУМЕНТАЦИИ, ДАЖЕ ЕСЛИ
      БЫ БЫЛО СООБЩЕНО О ВОЗМОЖНОСТИ ТАКОГО УЩЕРБА.</p></div></div></div><div><div xmlns="http://www.w3.org/1999/xhtml" class="legalnotice"><a id="trademarks"></a><p>FreeBSD это зарегистрированная торговая
  марка FreeBSD Foundation.</p><p>Adobe, Acrobat, Acrobat Reader и
  PostScript это или зарегистрированные торговые марки или торговые марки Adobe
  Systems Incorporated в Соединенных Штатах и/или других
  странах.</p><p>IBM, AIX, OS/2, PowerPC,
  PS/2, S/390 и ThinkPad это торговые марки International Business Machines
  Corporation в Соединенных Штатах, других странах, или по всему
  миру.</p><p>IEEE, POSIX и 802 это зарегистрированные
  торговые марки Institute of Electrical and Electronics Engineers,
  Inc. в Соединенных Штатах.</p><p>Intel, Celeron, EtherExpress, i386,
  i486, Itanium, Pentium и Xeon это торговые марки или зарегистрированные
  торговые марки Intel Corporation или ее дочерних компаний в Соединенных
  Штатах и других странах.</p><p>Linux это зарегистрированная торговая марка
  Linus Torvalds.</p><p>Microsoft, FrontPage, IntelliMouse, MS-DOS,
  Outlook, Windows, Windows Media и Windows NT это или зарегистрированные
  торговые марки или торговые марки Microsoft Corporation в Соединенных
  Штатах и/или других странах.</p><p>NetBSD это зарегистрированная торговая марка
  NetBSD Foundation.</p><p>Motif, OSF/1 и UNIX это
  зарегистрированные торговые марки, а IT DialTone и The Open Group это
  торговые марки Open Group в Соединенных Штатах и других
  странах.</p><p>Silicon Graphics, SGI, и OpenGL это
  зарегистрированные торговые марки Silicon Graphics, Inc., в Соединенных
  Штатах и/или других странах по всему миру.</p><p>Sun, Sun Microsystems, Java, Java Virtual Machine,
  JDK, JRE, JSP, JVM, Netra, Solaris, StarOffice,
  SunOS это торговые марки или
  зарегистрированные торговые марки Sun Microsystems, Inc. в Соединенных
  Штатах и других странах.</p><p>Многие из обозначений, используемые
  производителями и продавцами для обозначения своих продуктов, заявляются
  в качестве торговых марок.  Когда такие обозначения появляются в этом
  документе, и Проекту FreeBSD известно о торговой марке, к обозначению
  добавляется знак <span class="quote"><<<span class="quote">TM</span>>></span> или
  <span class="quote"><<<span class="quote">(R)</span>>></span>.</p></div></div><div><div xmlns="http://www.w3.org/1999/xhtml" class="abstract"><div class="abstract-title">Аннотация</div><p>Этот документ является так называемым
	<acronym class="acronym">FAQ</acronym> (Frequently Asked Questions),
	то есть списком Часто Задаваемых Вопросов по FreeBSD версий
	8.<em class="replaceable"><code>X</code></em>, 9.<em class="replaceable"><code>X</code></em> и 10.<em class="replaceable"><code>X</code></em>.
	Мы прилагаем все усилия, чтобы сделать этот
	<acronym class="acronym">FAQ</acronym> максимально
	информативным; если у вас есть идеи по его усовершенствованию,
	шлите их на адрес <a class="link" href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-doc" target="_top">Список рассылки Проекта Документации FreeBSD</a>.</p><p>Последняя редакция этого документа всегда доступна с <a class="link" href="http://www.FreeBSD.org/doc/en_US.ISO8859-1/books/faq/index.html" target="_top">
	Web-сервера FreeBSD</a>.  Его также
	можно получить в виде одного большого <a class="link" href="book.html" target="_top">
	HTML-файла</a> по HTTP или в ряде других форматов с <a class="link" href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/" target="_top">FTP-сервера</a>.</p></div></div></div><div class="docformatnavi">
      [
      <a href="index.html">По разделам</a>
      /
      
	  Одним файлом
	
      ]
    </div><hr /></div><div class="toc"><div class="toc-title">Содержание</div><dl class="toc"><dt><span class="chapter"><a href="#introduction">1. Вступление</a></span></dt><dt><span class="chapter"><a href="#support">2. Документация и поддержка</a></span></dt><dt><span class="chapter"><a href="#install">3. Установка</a></span></dt><dt><span class="chapter"><a href="#hardware">4. Аппаратная совместимость</a></span></dt><dd><dl><dt><span class="sect1"><a href="#compatibility-general">4.1. Вопросы общего характера</a></span></dt><dt><span class="sect1"><a href="#compatibility-processors">4.2. Аппаратные платформы и процессоры</a></span></dt><dt><span class="sect1"><a href="#compatibility-drives">4.3. Жёсткие диски, ленточные устройства и приводы CD и DVD</a></span></dt><dt><span class="sect1"><a href="#compatibility-kbd-mice">4.4. Клавиатуры и мыши</a></span></dt><dt><span class="sect1"><a href="#compatibility-other">4.5. Другое оборудование</a></span></dt></dl></dd><dt><span class="chapter"><a href="#troubleshoot">5. Устранение некоторых проблем</a></span></dt><dt><span class="chapter"><a href="#applications">6. Прикладные программы</a></span></dt><dt><span class="chapter"><a href="#kernelconfig">7. Конфигурирование ядра</a></span></dt><dt><span class="chapter"><a href="#disks">8. Диски, файловые системы и начальные загрузчики</a></span></dt><dt><span class="chapter"><a href="#all-about-zfs">9. ZFS</a></span></dt><dt><span class="chapter"><a href="#admin">10. Системное администрирование</a></span></dt><dt><span class="chapter"><a href="#x">11. X Window System и виртуальные консоли</a></span></dt><dt><span class="chapter"><a href="#networking">12. Работа в сети</a></span></dt><dt><span class="chapter"><a href="#security">13. Безопасность</a></span></dt><dt><span class="chapter"><a href="#ppp">14. PPP</a></span></dt><dt><span class="chapter"><a href="#serial">15. Коммуникационные адаптеры</a></span></dt><dt><span class="chapter"><a href="#misc">16. Разное</a></span></dt><dt><span class="chapter"><a href="#funnies">17. Юмор от FreeBSD</a></span></dt><dt><span class="chapter"><a href="#advanced">18. Сложные темы</a></span></dt><dt><span class="chapter"><a href="#acknowledgments">19. Наши благодарности</a></span></dt><dt><span class="bibliography"><a href="#bibliography">Bibliography</a></span></dt></dl></div><div class="chapter"><div xmlns="" class="titlepage"><div><div><h1 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="introduction"></a>Глава 1. Вступление</h1></div></div></div><div class="qandaset"><a id="idp70173776"></a><dl><dt>1.1. <a href="#idp70174416">FreeBSD - что это такое?</a></dt><dt>1.2. <a href="#idp70195408">Какова цель FreeBSD?</a></dt><dt>1.3. <a href="#idp70200528">Есть ли в лицензии FreeBSD какие-то ограничения?</a></dt><dt>1.4. <a href="#idp70233808">Может ли FreeBSD заменить операционную систему, используемую
	    мною сейчас?</a></dt><dt>1.5. <a href="#idp70263760">Почему система называется именно FreeBSD?</a></dt><dt>1.6. <a href="#idp70279504">В чём заключается разница между FreeBSD и NetBSD, OpenBSD
	    и другими операционными системами с открытыми кодами
	    семейства BSD?</a></dt><dt>1.7. <a href="#idp70312528">Какова последняя версия FreeBSD?</a></dt><dt>1.8. <a href="#idp70356944">Что такое FreeBSD-CURRENT?</a></dt><dt>1.9. <a href="#idp70413776">В чём смысл FreeBSD-STABLE?</a></dt><dt>1.10. <a href="#idp70432592">В какой момент выпускаются новые версии FreeBSD?</a></dt><dt>1.11. <a href="#idp70442832">Кто разрабатывает FreeBSD?</a></dt><dt>1.12. <a href="#idp70460624">Где можно найти FreeBSD?</a></dt><dt>1.13. <a href="#idp70482768">Как можно получить доступ к базе сообщений о проблемах (Problem
	    Report)?</a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%" /><col /></colgroup><tbody><tr class="question"><td align="left" valign="top"><a id="idp70174416"></a><a id="what-is-FreeBSD"></a><p><strong>1.1.</strong></p></td><td align="left" valign="top"><p>FreeBSD - что это такое?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>FreeBSD - это современная операционная система для настольных
	    компьютеров, ноутбуков, серверов и встраиваемых систем
	    с поддержкой большого количества <a class="link" href="http://www.FreeBSD.org/ru/platforms/" target="_top">платформ</a>.</p><p>В основе FreeBSD лежит операционная система
	    <span class="quote"><<<span class="quote">4.4BSD-Lite</span>>></span> Калифорнийского Университета (Беркли)
	    с некоторыми усовершенствованиями из <span class="quote"><<<span class="quote">4.4BSD-Lite2</span>>></span>.
	    Также она косвенно
	    базируется на 386BSD (BSD Net/2, перенесённой на платформу <span class="trademark">i386</span>TM
	    Уильямом Джолитцем (William Jolitz)), хотя от того первоначального
	    кода осталось очень мало.</p><p>FreeBSD используется компаниями, Интернет-провайдерами,
	    научными работниками, профессионалами в вычислительной технике,
	    студентами и рядовыми пользователями по всему миру для работы,
	    образования и отдыха.</p><p>Для более детального знакомства с FreeBSD обратитесь к
	    <a class="link" href="../../../../doc/ru_RU.KOI8-R/books/handbook/index.html" target="_top">Руководству
	      по FreeBSD</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp70195408"></a><a id="FreeBSD-goals"></a><p><strong>1.2.</strong></p></td><td align="left" valign="top"><p>Какова цель FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Цель проекта FreeBSD - предоставить быструю и стабильную
	    операционную систему общего назначения, которую можно
	    использовать в любых целях без каких-либо ограничений.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp70200528"></a><a id="bsd-license-restrictions"></a><p><strong>1.3.</strong></p></td><td align="left" valign="top"><p>Есть ли в лицензии FreeBSD какие-то ограничения?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Да.  Эти ограничения не касаются аспектов использования
	    кода, но главным образом описывают отношение к Проекту FreeBSD.
	    Текст лицензионного соглашения доступен <a class="link" href="http://www.FreeBSD.org/ru/copyright/freebsd-license.html" target="_top">здесь</a>,
	    и вкратце он может быть изложен следующим образом:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Не говорите, что это написано вами.</p></li><li class="listitem"><p>Не судитесь с нами, если что-то не работает.</p></li><li class="listitem"><p>Не удаляйте и не изменяйте лицензию.</p></li></ul></div><p>Многие из нас вкладывают в проект значительные усилия и
	    определённо были бы не против получения финансовой поддержки, но
	    требовать её мы не будем.  Мы надеемся, что наша основная и самая
	    значительная <span class="quote"><<<span class="quote">миссия</span>>></span> - предоставить код всем
	    желающим, для любых целей, так чтобы он нашел самое широкое
	    применение и принёс наибольшую пользу.  Это, на наш взгляд, одна
	    из самых фундаментальных целей Free Software, которую мы с
	    энтузиазмом поддерживаем.</p><p>Часть исходного кода нашей системы, подпадающая под действие
	    <a class="link" href="http://www.FreeBSD.org/copyright/COPYING" target="_top">GNU General
	    Public License (GPL)</a> или <a class="link" href="http://www.FreeBSD.org/copyright/COPYING.LIB" target="_top">GNU Library
	    General Public License (LGPL)</a>, имеет несколько
	    больше ограничений, хотя и представляет собой навязывание доступа к
	    исходным текстам, а не наоборот, как обычно.  Из-за дополнительных
	    сложностей, которые могут возникнуть в случае коммерческого
	    использования программного обеспечения GPL, мы стараемся, где
	    только это возможно, заменить подобное программное обеспечение
	    аналогичным, но подпадающим под менее строгую <a class="link" href="http://www.FreeBSD.org/copyright/freebsd-license.html" target="_top">
	    лицензию FreeBSD</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp70233808"></a><a id="replace-current-OS"></a><p><strong>1.4.</strong></p></td><td align="left" valign="top"><p>Может ли FreeBSD заменить операционную систему, используемую
	    мною сейчас?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Для большинства людей, да.  Но этот ответ не так уж
	    однозначен.</p><p>Большинство пользователей на самом деле не используют
	    операционную систему.  Они работают с приложениями.  Именно
	    прикладные программы и используют операционную систему.  FreeBSD
	    разработана для того, чтобы дать надежное и полнофункциональное
	    окружение для приложений.  Она поддерживает широкий спектр
	    Web-браузеров, офисных пакетов, программ для работы с электронной
	    почтой, графических пакетов, программных сред, сетевых серверов и
	    многое другое.  Большинство этих
	    приложений могут быть получено из <a class="link" href="http://www.FreeBSD.org/ports/" target="_top">Коллекции
	    Портов</a>.</p><p>Если приложение доступно только для одной операционной
	    системы, то нельзя всего лишь заменить эту операционную
	    систему.  Однако есть вероятность, что похожая
	    программа существует для FreeBSD.  В качестве сервера для офиса,
	    или сервера Интернет, или надежной рабочей станции FreeBSD
	    практически всегда справится со всем, что вам нужно.  Многие
	    пользователи по всему миру, включая как новичков, так и опытных
	    администраторов <span class="trademark">UNIX</span>(R), используют FreeBSD в качестве своей
	    единственной настольной операционной системы.</p><p>Пользователи при переходе на FreeBSD с другого варианта
	    <span class="trademark">UNIX</span>(R) найдут для себя FreeBSD очень похожей.  Пользователей
	    <span class="trademark">Windows</span>(R) и <span class="trademark">Mac OS</span>(R), напротив, может заинтересовать <a class="link" href="http://www.pcbsd.org/" target="_top">PC-BSD</a>,
	    дистрибутив на основе FreeBSD.  Пользователям, которые не
	    использовали до этого <span class="trademark">UNIX</span>(R), понадобится затратить
	    дополнительное время на изучение подхода <span class="trademark">UNIX</span>(R) к работе.
	    Этот <acronym class="acronym">FAQ</acronym> и <a class="link" href="../../../../doc/ru_RU.KOI8-R/books/handbook/index.html" target="_top">Руководство по
	      FreeBSD</a> являются прекрасным способом начать это
	    изучение.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp70263760"></a><a id="why-called-FreeBSD"></a><p><strong>1.5.</strong></p></td><td align="left" valign="top"><p>Почему система называется именно FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Она может использоваться безо всяческих выплат, даже
		для извлечения выгоды.</p></li><li class="listitem"><p>Все исходные тексты операционной системы свободно
		доступны, на её использование в других разработках (как
		коммерческих, так и некоммерческих) и дальнейшее
		распространение наложены минимальные ограничения.</p></li><li class="listitem"><p>Любой, у кого есть усовершенствования или исправления,
		может предоставить свой код и он будет (правда, с парой
		оговорок) добавлен в исходные тексты системы.</p></li></ul></div><p>Следует отметить, что слово <span class="quote"><<<span class="quote">free</span>>></span>
	    используется здесь в двух смыслах: один означает
	    <span class="quote"><<<span class="quote">бесплатно</span>>></span>, а другой <span class="quote"><<<span class="quote">делать всё,
	    что хотите</span>>></span>.  За исключением пары вещей, которые вы
	    <span class="emphasis"><em>не можете</em></span> делать с FreeBSD, например,
	    претендовать на то, что являетесь её разработчиком, на самом
	    деле можно делать с ней всё, что вам заблагорассудится.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp70279504"></a><a id="differences-to-other-bsds"></a><p><strong>1.6.</strong></p></td><td align="left" valign="top"><p>В чём заключается разница между FreeBSD и NetBSD, OpenBSD
	    и другими операционными системами с открытыми кодами
	    семейства BSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Джеймс Ховард (James Howard) создал хорошее описание
	    истории и различий между различными проектами под
	    названием <a class="link" href="http://www.freebsdworld.gr/freebsd/bsd-family-tree.html" target="_top">Семейное
	      древо BSD</a>, в котором даётся подробный ответ на
	    этот вопрос.  Некоторая информация там устарела, но
	    историческая часть остаётся точной.</p><p>Многие из проектов семейства BSD обмениваются
	    изменениями и готовым кодом даже сегодня.  Все они
	    происходят от общего предка.</p><p>Цели проекта FreeBSD описаны выше в <a class="xref" href="#FreeBSD-goals" title="1.2.">Вопрос: 1.2</a>.  Цели других наиболее
	    известных проектов семейства BSD можно кратко описать
	    так:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>OpenBSD в первую очередь ориентируется на
		безопасность операционной системы.  Команда OpenBSD
		написала <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ssh&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ssh</span>(1)</span></a> и <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pf&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">pf</span>(4)</span></a>, которые затем были
		портированы во FreeBSD.</p></li><li class="listitem"><p>NetBSD ориентируется на простое портирование на
		другие аппаратные платформы.</p></li><li class="listitem"><p>DragonFly BSD отделилась от FreeBSD 4.8,
		и с тех пор в ней были разработаны многие интересные
		собственные функциональные возможности, включая
		файловую систему HAMMER и поддержку <span class="quote"><<<span class="quote">vkernels</span>>></span>
		- запуска ядра в пользовательском режиме.</p></li></ul></div></td></tr><tr class="question"><td align="left" valign="top"><a id="idp70312528"></a><a id="latest-version"></a><p><strong>1.7.</strong></p></td><td align="left" valign="top"><p>Какова последняя версия FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>На любом этапе разработки FreeBSD может существовать
	    несколько параллельных веток.  Релизы 10.<em class="replaceable"><code>X</code></em> выполняются
	    из ветки <span class="emphasis"><em>10-STABLE</em></span>, а релизы 9.<em class="replaceable"><code>X</code></em> выполняются из
	    <span class="emphasis"><em>9-STABLE</em></span>.</p><p>До выпуска 9.0 линейка 9.<em class="replaceable"><code>X</code></em> была
	    известна как <span class="emphasis"><em>-STABLE</em></span>.
	    Однако к моменту выхода 11.<em class="replaceable"><code>X</code></em> линейка 9.<em class="replaceable"><code>X</code></em>
	    получит статус <span class="quote"><<<span class="quote">extended support</span>>></span> (расширенная
	    поддержка), и исправления будут вноситься только для серьезных
	    проблем, к примеру исправления, связанные с безопасностью.
	    </p><p>Версия <a class="link" href="ftp://ftp.FreeBSD.org/pub/FreeBSD/releases/i386/i386/10.1-RELEASE/" target="_top">10.1</a>,
	    дата выхода Январь 2014, является последним релизом
	    в ветке <span class="emphasis"><em>10-STABLE</em></span>.  Версия <a class="link" href="ftp://ftp.FreeBSD.org/pub/FreeBSD/releases/i386/9.3-RELEASE/" target="_top">9.3</a>,
	    дата выхода Сентябрь 2013, является последним
	    релизом в ветке <span class="emphasis"><em>9-STABLE</em></span>.</p><p>Если вкратце, то ветка <span class="emphasis"><em>-STABLE</em></span>
	    предназначена поставщикам услуг Internet, корпоративным
	    пользователям, а также всем тем, кому в первую очередь нужна
	    надёжность и минимальное количество отличий от последнего
	    релиза по сравнению с новыми (и, возможно, ненадёжно работающими)
	    возможностями последнего снэпшота <span class="emphasis"><em>-CURRENT</em></span>.
	    Релизы можно делать из любой ветки, но 
	    <span class="emphasis"><em>-CURRENT</em></span> предназначен для
	    пользователей, которые готовы к постоянным (по сравнению
	    со <span class="emphasis"><em>-STABLE</em></span>) изменениям в работе
	    системы.</p><p>Релизы делаются <a class="link" href="#release-freq" title="1.10.">раз в
	    несколько месяцев</a>.  Хотя многие стараются отслеживать
	    актуальное состояние исходных текстов FreeBSD (обратите внимание на
	    вопросы о <a class="link" href="#current" title="1.8.">FreeBSD-CURRENT</a> и <a class="link" href="#stable" title="1.9.">FreeBSD-STABLE</a>), делать это не обязательно,
	    так как исходные тексты постоянно меняются.</p><p>Более полную информацию о релизах FreeBSD можно получить
	    на странице <a class="link" href="http://www.FreeBSD.org/ru/releng/index.html" target="_top">Информации
	      о подготовке релизов</a> и на странице Справочника
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=release&amp;sektion=7"><span class="citerefentry"><span class="refentrytitle">release</span>(7)</span></a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp70356944"></a><a id="current"></a><p><strong>1.8.</strong></p></td><td align="left" valign="top"><p>Что такое <span class="emphasis"><em>FreeBSD-CURRENT</em></span>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><a class="link" href="../../../../doc/ru_RU.KOI8-R/books/handbook/current-stable.html#current" target="_top">
	    FreeBSD-CURRENT</a> - это версия операционной системы,
	    находящаяся в стадии разработки, которая должна потом стать
	    новой веткой FreeBSD-STABLE.  Таким образом, она представляет
	    реальный интерес только для разработчиков системы и её фанатов.
	    Обратитесь к <a class="link" href="../../../../doc/ru_RU.KOI8-R/books/handbook/current-stable.html#current" target="_top">
	    соответствующему
	    разделу</a> <a class="link" href="../../../../doc/ru_RU.KOI8-R/books/handbook/index.html" target="_top">
	    Руководства</a> для прояснения деталей работы с
	    <span class="emphasis"><em>-CURRENT</em></span>.</p><p>Пользователям, не знакомым с FreeBSD, не
	    следует использовать FreeBSD-CURRENT.  Эта ветвь зачастую меняется
	    очень быстро и иногда из-за ошибок может быть не работоспособна.
	    Те, кто используют FreeBSD-CURRENT, должны быть в состоянии
	    изучить проблему, найти причину и сообщить о этом.</p><p>Из веток <span class="emphasis"><em>-CURRENT</em></span> и
	    <span class="emphasis"><em>-STABLE</em></span> выпускаются <a class="link" href="../../../../snapshots/" target="_top">снэпшоты</a> FreeBSD.
	    Их предназначение:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Тестирование самой последней версии программы установки
		системы.</p></li><li class="listitem"><p>Дать людям, которые хотят работать с
		<span class="emphasis"><em>-CURRENT</em></span> или <span class="emphasis"><em>-STABLE</em></span>,
		но не имеют времени или возможности (пропускной способности)
		для отслеживания ежедневных изменений, простой способ её
		установки.</p></li><li class="listitem"><p>Фиксация точки для последующих ссылок в случае,
		если позже мы что-нибудь очень сильно сломаем.  (Хотя
		Subversion, как
		правило, не позволяет случиться ничему такому ужасному.)</p></li><li class="listitem"><p>Все новые возможности, которым требуется тестирование,
		должны иметь как можно больше потенциальных тестеров.</p></li></ul></div><p>Не утверждается, что всякий снэпшот
	    <span class="emphasis"><em>-CURRENT</em></span> имеет качество
	    <span class="quote"><<<span class="quote">готового продукта</span>>></span>.  Если нужна стабильно
	    работающая и полностью оттестированная система, то
	    придерживайтесь использования полных релизов или
	    используйте снэпшоты <span class="emphasis"><em>-STABLE</em></span>.</p><p>Снэпшот-релизы доступны непосредственно <a class="link" href="../../../../snapshots/" target="_top">отсюда</a>.</p><p>Официальные снэпшоты постоянно генерируются
	    для всех активно разрабатываемых веток.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp70413776"></a><a id="stable"></a><p><strong>1.9.</strong></p></td><td align="left" valign="top"><p>В чём смысл <span class="emphasis"><em>FreeBSD-STABLE</em></span>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>После того, как была выпущена FreeBSD 2.0.5, разработка FreeBSD
	    разделилась на две части.  Одна ветка получила название <a class="link" href="../../../../doc/ru_RU.KOI8-R/books/handbook/current-stable.html#stable" target="_top">-STABLE</a>,
	    а другая <a class="link" href="../../../../doc/ru_RU.KOI8-R/books/handbook/current-stable.html#current" target="_top">-CURRENT</a>.
	    <span class="emphasis"><em>FreeBSD-STABLE</em></span> предназначена для
	    провайдеров услуг Интернет и
	    других коммерческих пользователей, для которых неожиданные
	    изменения или экспериментальные возможности
	    весьма нежелательны.  В неё вносятся только хорошо оттестированные
	    исправления и другие небольшие последовательные усовершенствования.
	    С другой стороны, <span class="emphasis"><em>FreeBSD-CURRENT</em></span> являлась
	    единой веткой, не
	    разрываемой с момента выхода версии 2.0 и ведущей к
	    10.1-RELEASE и последующим релизам.  Для получения
	    более подробной информации по веткам обратитесь к
	    разделу статьи <span class="quote"><<<span class="quote"><a class="link" href="../../../../doc/ru_RU.KOI8-R/articles/releng/release-proc.html#rel-branch" target="_top">
	    Подготовка релизов FreeBSD: Создание ветки
	    релиза</a></span>>></span>.  Статус веток и расписание
	    предстоящих релизов можно получить на странице <a class="link" href="http://www.FreeBSD.org/releng" target="_top">Информация о подготовке
	    релизов</a>.</p><p>Активно разрабатываемой веткой <span class="emphasis"><em>-STABLE</em></span>
	    является 10.1-STABLE.  Последним релизом в ветке
	    10.1-STABLE является
	    10.1-RELEASE, выпущенный Январь 2014.</p><p>Активно разрабатываемой веткой <span class="emphasis"><em>-CURRENT</em></span>
	    является ветка <span class="emphasis"><em>11-CURRENT</em></span>, которая движется к созданию следующего
	    поколения FreeBSD.
	    Прочтите ответ на вопрос <a class="link" href="#current" title="1.8.">Что такое
	    FreeBSD-CURRENT?</a> для получения более подробной информации об
	    этой ветке.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp70432592"></a><a id="release-freq"></a><p><strong>1.10.</strong></p></td><td align="left" valign="top"><p>В какой момент выпускаются новые версии FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Группа Выпуска Релизов FreeBSD <code class="email">&lt;<a xmlns="" class="email" href="mailto:re@FreeBSD.org">re@FreeBSD.org</a>&gt;</code> выпускает новую старшую версию FreeBSD в среднем
	    каждые 18 месяцев и младшие версии каждые 8 месяцев.  Даты
	    релизов обычно объявляются заранее, так что те, кто
	    работает над системой, знают, когда их проекты должны быть
	    закончены и протестированы.  Период тестирования предшествует
	    выходу каждого релиза, для того, чтобы удостовериться в том, что
	    добавление новых возможностей не повлияло на стабильность работы
	    релиза.  Многие пользователи расценивают такую осторожность
	    как одну из приятнейших черт FreeBSD, хотя необходимость дожидаться
	    <span class="emphasis"><em>-STABLE</em></span> для получения всех этих новых
	    возможностей может несколько разочаровывать.</p><p>Дополнительная информация о процессе подготовки релиза (в том
	    числе планы выпуска последующих релизов) может быть найдена на
	    страницах Web-сайта FreeBSD, посвящённых <a class="link" href="http://www.FreeBSD.org/releng/index.html" target="_top">выпуску
	    релизов</a>.</p><p>Для тех, кому нужно или хочется, еженедельно выпускаются
	    бинарные снапшоты, как описано выше.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp70442832"></a><a id="responsible"></a><p><strong>1.11.</strong></p></td><td align="left" valign="top"><p>Кто разрабатывает FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Решения, которые касаются ключевых моментов в проекте FreeBSD,
	    такие, как общее направление развития проекта или кто
	    может добавлять код к дереву исходных текстов, принимаются <a class="link" href="../../../../administration.html#t-core" target="_top">основной
	    командой</a> разработчиков (Core Team), состоящей из 9 человек.
	    Также существует многочисленная группа, состоящая из более чем 350
	    так называемых <a class="link" href="../../../../doc/en_US.ISO8859-1/articles/contributors/article.html#staff-committers" target="_top">
	    коммиттеров</a> (committers), которые могут вносить изменения
	    прямо в дерево исходных текстов FreeBSD.</p><p>Однако большинство нетривиальных изменений широко обсуждается
	    в <a class="link" href="#mailing" title="2.3.">списках рассылки</a>, и не существует
	    никаких ограничений на участие в подобных дискуссиях.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp70460624"></a><a id="where-get"></a><p><strong>1.12.</strong></p></td><td align="left" valign="top"><p>Где можно найти FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Все основные релизы FreeBSD доступны по FTP с <a class="link" href="ftp://ftp.FreeBSD.org/pub/FreeBSD/" target="_top">FTP-сервера
	    FreeBSD</a>:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Последний релиз <span class="emphasis"><em>10-STABLE</em></span>,
		10.1-RELEASE, можно найти в <a class="link" href="ftp://ftp.FreeBSD.org/pub/FreeBSD/releases/i386/i386/10.1-RELEASE" target="_top">каталоге
		  10.1-RELEASE</a>.</p></li><li class="listitem"><p><a class="link" href="../../../../snapshots/" target="_top">Снэпшот-релизы</a>
		для веток <a class="link" href="#current" title="1.8.">-CURRENT</a> и
		<a class="link" href="#stable" title="1.9.">-STABLE</a> выпускаются
		ежемесячно, но они нужны исключительно для
		разработчиков и тех, кто тестирует самые последние
		наработки.</p></li><li class="listitem"><p>Последний релиз <span class="emphasis"><em>9-STABLE</em></span>,
		9.3-RELEASE, можно найти в <a class="link" href="ftp://ftp.FreeBSD.org/pub/FreeBSD/releases/i386/9.3-RELEASE/" target="_top">каталоге
		  9.3-RELEASE</a>.</p></li></ul></div><p>Информация о получении/приобретении FreeBSD на CD, DVD и
	    других носителях доступна в <a class="link" href="../../../../doc/ru_RU.KOI8-R/books/handbook/mirrors.html" target="_top">Руководстве</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp70482768"></a><a id="access-pr"></a><p><strong>1.13.</strong></p></td><td align="left" valign="top"><p>Как можно получить доступ к базе сообщений о проблемах (Problem
	    Report)?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>База данных всех сообщений пользователей о проблемах
	    может быть запрошена с помощью нашего <a class="link" href="https://bugs.FreeBSD.org/search/" target="_top">Web-интерфейса</a>.</p><p>Можно использовать <a class="link" href="../../../../support/bugreports.html" target="_top">Web-интерфейс</a>
	    для отсылки сообщений об ошибках через браузер.</p><p>Перед тем, как посылать сообщение об ошибке,
	    прочтите статью <a class="link" href="../../../../doc/ru_RU.KOI8-R/articles/problem-reports/article.html" target="_top">Составление
	    сообщений о проблеме во FreeBSD</a> о том, как писать хорошие
	    сообщения об ошибках.</p></td></tr></tbody></table></div></div><div class="chapter"><div xmlns="" class="titlepage"><div><div><h1 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="support"></a>Глава 2. Документация и поддержка</h1></div></div></div><div class="qandaset"><a id="idp70504912"></a><dl><dt>2.1. <a href="#idp70505168">Есть ли хорошие книги по FreeBSD?</a></dt><dt>2.2. <a href="#idp70514640">Есть ли версии документации в другом формате, например,
	    в виде обычного текста ASCII или PostScript(R)?</a></dt><dt>2.3. <a href="#idp70756688">Где найти информацию по спискам рассылки FreeBSD?
	    Какие существуют телеконференции по FreeBSD?</a></dt><dt>2.4. <a href="#idp70764496">Существуют ли каналы IRC (Internet Relay Chat) по
	    FreeBSD?</a></dt><dt>2.5. <a href="#idp70819408">Есть ли какие-нибудь web-форумы для обсуждения FreeBSD?</a></dt><dt>2.6. <a href="#idp70829776">Где можно пройти платные курсы по FreeBSD и получить
	    поддержку?</a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%" /><col /></colgroup><tbody><tr class="question"><td align="left" valign="top"><a id="idp70505168"></a><a id="books"></a><p><strong>2.1.</strong></p></td><td align="left" valign="top"><p>Есть ли хорошие книги по FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>В рамках проекта создан широкий спектр документации,
	    которая доступна on-line по следующей ссылке: <code class="uri"><a class="uri" href="http://www.FreeBSD.org/docs.html" target="_top">http://www.FreeBSD.org/docs.html</a></code>.
	    Кроме того, в <a class="link" href="#bibliography" title="Bibliography">Библиографии</a> в конце этого
	    <acronym class="acronym">FAQ</acronym> и в <a class="link" href="../../../../doc/ru_RU.KOI8-R/books/handbook/bibliography.html" target="_top">Руководстве</a>
	    имеются ссылки на другие рекомендуемые для чтения
	    книги.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp70514640"></a><a id="doc-formats"></a><p><strong>2.2.</strong></p></td><td align="left" valign="top"><p>Есть ли версии документации в другом формате, например,
	    в виде обычного текста ASCII или <span class="trademark">PostScript</span>(R)?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Да.  Документация имеется в нескольких различных форматах и
	    упакованная разными способами на FTP-сервере FreeBSD, и находится
	    она в каталоге <a class="link" href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/" target="_top">
	    /pub/FreeBSD/doc/</a>.</p><p>Документация подразделяется на категории различными способами.
	    Это включает:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Имя документа, например, <code class="literal">faq</code> или
		<code class="literal">handbook</code>.</p></li><li class="listitem"><p>Язык и кодировка документа.  Они опираются на имена
		локализаций, которые находятся в каталоге
		<code class="filename">/usr/share/locale</code> в системе FreeBSD.
		На данный момент поддерживаются следующие
		языки и кодировки:</p><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Кодировка</th><th>Язык</th></tr></thead><tbody><tr><td><code class="literal">en_US.ISO8859-1</code></td><td>Английский (США)</td></tr><tr><td><code class="literal">bn_BD.ISO10646-1</code></td><td>Бенгальский или Бангла (Бангладеш)</td></tr><tr><td><code class="literal">da_DK.ISO8859-1</code></td><td>Датский (Дания)</td></tr><tr><td><code class="literal">de_DE.ISO8859-1</code></td><td>Немецкий (Германия)</td></tr><tr><td><code class="literal">el_GR.ISO8859-7</code></td><td>Греческий (Греция)</td></tr><tr><td><code class="literal">es_ES.ISO8859-1</code></td><td>Испанский (Испания)</td></tr><tr><td><code class="literal">fr_FR.ISO8859-1</code></td><td>Французский (Франция)</td></tr><tr><td><code class="literal">hu_HU.ISO8859-2</code></td><td>Венгерский (Венгрия)</td></tr><tr><td><code class="literal">it_IT.ISO8859-15</code></td><td>Итальянский (Италия)</td></tr><tr><td><code class="literal">ja_JP.eucJP</code></td><td>Японский (Япония, кодировка EUC)</td></tr><tr><td><code class="literal">mn_MN.UTF-8</code></td><td>Монгольский (Монголия, кодировка UTF-8)</td></tr><tr><td><code class="literal">nl_NL.ISO8859-1</code></td><td>Голландский (Нидерланды)</td></tr><tr><td><code class="literal">no_NO.ISO8859-1</code></td><td>Норвежский (Норвегия)</td></tr><tr><td><code class="literal">pl_PL.ISO8859-2</code></td><td>Польский (Польша)</td></tr><tr><td><code class="literal">pt_BR.ISO8859-1</code></td><td>Португальский (Бразилия)</td></tr><tr><td><code class="literal">ru_RU.KOI8-R</code></td><td>Русский (Россия, кодировка KOI8-R)</td></tr><tr><td><code class="literal">sr_YU.ISO8859-2</code></td><td>Сербский (Сербия)</td></tr><tr><td><code class="literal">tr_TR.ISO8859-9</code></td><td>Турецкий (Турция)</td></tr><tr><td><code class="literal">zh_CN.UTF-8</code></td><td>Упрощённый китайский (Китай, кодировка
			UTF-8)</td></tr><tr><td><code class="literal">zh_TW.UTF-8</code></td><td>Традиционный китайский (Тайвань, кодировка
			UTF-8)</td></tr></tbody></table></div><div xmlns="" class="note"><h3 class="admontitle">Примечание: </h3><p xmlns="http://www.w3.org/1999/xhtml">Некоторые документы могут иметься не на всех
		  языках.</p></div></li><li class="listitem"><p>Формат документа.  Мы создаём документацию в нескольких
		различных форматах.  У каждого из форматов имеются свои плюсы
		и свои минусы.  Некоторые форматы лучше подходят для чтения
		в on-line, когда как другие предназначены для получения
		эстетично выглядящей на бумаге копии.  Наличие документации
		во всех этих форматах обеспечивает возможность прочтения
		нашими пользователями любой её части как с экрана монитора, так
		и на бумаге после вывода на печать.  На данный момент
		поддерживаются следующие форматы;</p><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Формат</th><th>Значение</th></tr></thead><tbody><tr><td><code class="literal">html-split</code></td><td>Набор маленьких связанных друг с другом
			HTML-файлов.</td></tr><tr><td><code class="literal">html</code></td><td>Один большой HTML-файл, полностью содержащий
			документ.</td></tr><tr><td><code class="literal">pdf</code></td><td>Adobe's Portable Document Format</td></tr><tr><td><code class="literal">ps</code></td><td><span class="trademark">PostScript</span>(R)</td></tr><tr><td><code class="literal">rtf</code></td><td>Rich Text Format от <span class="trademark">Microsoft</span>(R)</td></tr><tr><td><code class="literal">txt</code></td><td>Обычный текст</td></tr></tbody></table></div><div xmlns="" class="note"><h3 class="admontitle">Примечание: </h3><p xmlns="http://www.w3.org/1999/xhtml">Номера страниц при загрузке Rich Text Format в
		  Word автоматически не обновляются.  Для обновления
		  нумерации нажмите <span class="keycap"><strong>Ctrl</strong></span>+<span class="keycap"><strong>A</strong></span>,
		  <span class="keycap"><strong>Ctrl</strong></span>+<span class="keycap"><strong>End</strong></span>,
		  <span class="keycap"><strong>F9</strong></span> после загрузки документа.</p></div></li><li class="listitem"><p>Способ сжатия и создания архива.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>В случае формата <code class="literal">html-split</code>, файлы
		    архивируются с помощью <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=tar&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">tar</span>(1)</span></a>.  Получающийся файл
		    <code class="filename">.tar</code> затем подвергается сжатию по
		    схемам, подробно описываемым далее.</p></li><li class="listitem"><p>Все другие форматы генерируют один файл.
		    Например, <code class="filename">article.pdf</code>,
		    <code class="filename">book.html</code>, и так далее.</p><p>Эти файлы затем сжимаются по двум схемам сжатия,
		    <code class="literal">zip</code> или <code class="literal">bz2</code>.
		    Для работы с этими файлами можно использовать
		    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=tar&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">tar</span>(1)</span></a>.</p><p>Таким образом, сжатая в <code class="literal">bzip2</code>
		    версия Руководства в формате <span class="trademark">PostScript</span>(R), будет
		    находиться в файле
		    с именем <code class="filename">book.ps.bz2</code> в каталоге
		    <code class="filename">handbook/</code>.</p></li></ol></div></li></ul></div><p>После выбора формата и способа компрессии, сгрузите
	    упакованные файлы, распакуйте их, а затем скопируйте
	    документацию в соответствующие места.</p><p>Например, версия <acronym class="acronym">FAQ</acronym> в виде
	    отдельных HTML-файлов, упакованная
	    при помощи <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=bzip2&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">bzip2</span>(1)</span></a>, находится в файле
	    <code class="filename">doc/ru_RU.KOI8-R/books/faq/book.html-split.tar.bz2</code>.
	    Для сгрузки и распаковки этого файла наберите:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>fetch ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/en_US.ISO8859-1/books/faq/book.html-split.tar.bz2</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>tar xvf book.html-split.tar.bz2</code></strong></pre><p>Если файл сжат, <span class="application">tar</span>
	    автоматически определит подходящий формат и корректно
	    распакует файл в набор файлов <code class="filename">.html</code>.
	    Главным является <code class="filename">index.html</code>, и в нём
	    находится оглавление, вводный материал и ссылки на
	    остальные части документа.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp70756688"></a><a id="mailing"></a><p><strong>2.3.</strong></p></td><td align="left" valign="top"><p>Где найти информацию по спискам рассылки FreeBSD?
	    Какие существуют телеконференции по FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Исчерпывающая информация содержится в <a class="link" href="../../../../doc/ru_RU.KOI8-R/books/handbook/eresources.html#eresources-mail" target="_top">разделе</a>
	    Руководства, который посвящён спискам рассылки, и в <a class="link" href="../../../../doc/ru_RU.KOI8-R/books/handbook/eresources-news.html" target="_top">разделе</a>
	    Руководства, касающемся телеконференций.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp70764496"></a><a id="irc"></a><p><strong>2.4.</strong></p></td><td align="left" valign="top"><p>Существуют ли каналы IRC (Internet Relay Chat) по
	    FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Да, большинство сетей IRC имеют канал FreeBSD:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Канал <code class="literal">#FreeBSDhelp</code> в сети <a class="link" href="http://www.efnet.org/index.php" target="_top">EFNet</a>
		предназначен для помощи пользователям FreeBSD.</p></li><li class="listitem"><p>Канал <code class="literal">#FreeBSD</code> в сети
		<a class="link" href="http://freenode.net/" target="_top">Freenode</a>
		предназначен для помощи общего характера, на нём
		в любое время присутствует много посетителей.
		Общение в течение уже некоторого времени известно своей
		тенденцией сводиться к разговорам не по теме, но приоритет
		отдается пользователям с вопросами по FreeBSD.  Другие
		пользователи помогут разобраться в основах,
		отсылая к Руководству по мере возможности и предлагая
		ссылки для более глубокого изучения интересующих тем.
		Это преимущественно англоговорящий канал, но туда
		приходят пользователи со всего мира.  Тем, для кого
		английский не является родным, следует сперва задать
		вопрос на английском и затем перейти на подходящий
		канал <code class="literal">##freebsd-lang</code>.</p></li><li class="listitem"><p>Канал <code class="literal">#FreeBSD</code> в сети <a class="link" href="http://www.dal.net/" target="_top">DALNET</a>
		доступен на сервере <code class="systemitem">irc.dal.net</code> в США и на
		<code class="systemitem">irc.eu.dal.net</code> в Европе.</p></li><li class="listitem"><p>Канал <code class="literal">#FreeBSD</code> в сети <a class="link" href="http://www.undernet.org/" target="_top">UNDERNET</a>
		доступен на серверах <code class="systemitem">us.undernet.org</code> в США и
		<code class="systemitem">eu.undernet.org</code> в Европе.  Так как это канал
		взаимопомощи, приготовьтесь к чтению документации, к которой
		вас отошлют.</p></li><li class="listitem"><p>Канал <code class="literal">#FreeBSD</code> в сети
		<a class="link" href="http://www.rusnet.org.ru/" target="_top">RUSNET</a>
		это канал для русскоговорящих посетителей, посвящённый
		помощи пользователям FreeBSD.  Также это хорошее место
		для нетехнических дискуссий.</p></li><li class="listitem"><p>Канал <code class="literal">#bsdchat</code> в сети
		<a class="link" href="http://freenode.net/" target="_top">Freenode</a>
		это канал для посетителей, говорящих на китайском
		традиционном языке (кодировка UTF-8), посвящённый
		помощи пользователям FreeBSD.  Также это хорошее место
		для нетехнических дискуссий.</p></li></ul></div><p>На FreeBSD wiki имеется <a class="link" href="http://wiki.freebsd.org/IrcChannels" target="_top">хороший список</a>
	    каналов IRC.</p><p>Все каналы разные и не имеют отношения друг к другу.
	    Поскольку их стили общения отличаются, попробуйте каждый,
	    пока не найдёте подходящий вашему стилю общения.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp70819408"></a><a id="forums"></a><p><strong>2.5.</strong></p></td><td align="left" valign="top"><p>Есть ли какие-нибудь web-форумы для обсуждения FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Официальные форумы FreeBSD расположены по адресу <a class="link" href="https://forums.FreeBSD.org/" target="_top">https://forums.FreeBSD.org/</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp70829776"></a><a id="training"></a><p><strong>2.6.</strong></p></td><td align="left" valign="top"><p>Где можно пройти платные курсы по FreeBSD и получить
	    поддержку?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><a class="link" href="http://www.ixsystems.com" target="_top">iXsystems, Inc.</a>,
	    дочерней компанией которой является <a class="link" href="http://www.freebsdmall.com/" target="_top">FreeBSD Mall</a>,
	    предоставляет <a class="link" href="http://www.ixsystems.com/bsdsupport" target="_top">поддержку</a>
	    FreeBSD и программного обеспечения PC-BSD на коммерческой
	    основе, в дополнение к разработке FreeBSD и решениям, требующим
	    тонкой настройки.</p><p>BSD Certification Group, Inc. предоставляет сертификацию
	    системного администрирования DragonFly BSD, FreeBSD,
	    NetBSD и OpenBSD.  Для получения дополнительной информации
	    посетите <a class="link" href="http://www.BSDCertification.org" target="_top">их
	      сайт</a>.</p><p>Чтобы попасть в этот список, другие организации,
	    осуществляющие обучение и поддержку, должны обратиться к
	    нам в Проект.</p></td></tr></tbody></table></div></div><div class="chapter"><div xmlns="" class="titlepage"><div><div><h1 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="install"></a>Глава 3. Установка</h1></div><div><span xmlns="http://www.w3.org/1999/xhtml" class="personname"><span class="firstname">Nik</span> <span class="surname">Clayton</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="affiliation"></span></div></div></div><div class="qandaset"><a id="idp70848080"></a><dl><dt>3.1. <a href="#idp70857296">Какую архитектуру нужно загрузить?  У меня есть
	    64-разрядный процессор Intel(R), но я вижу только
	    amd64.</a></dt><dt>3.2. <a href="#idp70864080">Какой файл нужно скачать для установки FreeBSD?</a></dt><dt>3.3. <a href="#idp70923600">Помогите! Установочный образ не загружается!</a></dt><dt>3.4. <a href="#idp70933968">Где инструкции по установке FreeBSD?</a></dt><dt>3.5. <a href="#idp70949200">Какие минимальные требования для запуска FreeBSD?</a></dt><dt>3.6. <a href="#idp70954192">Как сделать собственный установочный диск?</a></dt><dt>3.7. <a href="#idp70960848">Может ли Windows(R) сосуществовать с FreeBSD?</a></dt><dt>3.8. <a href="#idp70984912">Другая операционная система уничтожила мой загрузчик
	    операционной системы!  Как мне его вернуть?</a></dt><dt>3.9. <a href="#idp71005904">Я загрузился с компакт-диска, однако программа установки
	    сообщила, что CD-ROM не найден.  Куда он подевался?</a></dt><dt>3.10. <a href="#idp71012176">Нужно ли устанавливать исходные тексты системы?</a></dt><dt>3.11. <a href="#idp71026512">Нужно ли перекомпилировать ядро?</a></dt><dt>3.12. <a href="#idp71035088">Какой из паролей DES, Blowfish или MD5 я должен использовать,
	    и как указать, какого типа пароли используются
	    пользователями?</a></dt><dt>3.13. <a href="#idp71048528">Какие существуют ограничения для файловой системы FFS?</a></dt><dt>3.14. <a href="#idp71080656">Я скомпилировал новое ядро и при загрузке получил
	    сообщение об ошибке readin
	      failed.</a></dt><dt>3.15. <a href="#idp71089104">Существует ли инструмент для настройки системы после
	    её установки?</a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%" /><col /></colgroup><tbody><tr class="question"><td align="left" valign="top"><a id="idp70857296"></a><a id="which-architecture"></a><p><strong>3.1.</strong></p></td><td align="left" valign="top"><p>Какую архитектуру нужно загрузить?  У меня есть
	    64-разрядный процессор <span class="trademark">Intel</span>(R), но я вижу только
	    <code class="literal">amd64</code>.</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>amd64 - это термин, применяемый во FreeBSD
	    для обозначения 64-разрядной архитектуры x86 (также
	    известна как "x86-64" или "x64").  На большинстве
	    современных компьютеров следует использовать amd64.
	    Для более старых подойдёт i386.  При установке
	    системы на отличную от x86 архитектуру, выберите платформу,
	    наиболее подходящую для оборудования.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp70864080"></a><a id="floppy-download"></a><p><strong>3.2.</strong></p></td><td align="left" valign="top"><p>Какой файл нужно скачать для установки FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>На странице <a class="link" href="http://www.freebsd.org/ru/where.html" target="_top">Получение
	      FreeBSD</a> выберите <code class="literal">[iso]</code> с
	    соответствующей оборудованию архитектурой.</p><p>Можно использовать любой из:</p><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>файл</th><th>описание</th></tr></thead><tbody><tr><td><code class="filename">disc1.iso</code></td><td>Содержит достаточно для установки FreeBSD и
		    минимальный набор пакетов.</td></tr><tr><td><code class="filename">dvd1.iso</code></td><td>Наподобие <code class="filename">disc1.iso</code>,
		    но с дополнительными пакетами.</td></tr><tr><td><code class="filename">memstick.img</code></td><td>Образ с автозагрузкой для записи
		    на USB флешку.</td></tr><tr><td><code class="filename">bootonly.iso</code></td><td>Минимальный образ, требующий сетевое
		    подключение для завершения установки FreeBSD.</td></tr></tbody></table></div><p>Пользователям pc98 нужны образы дискет:
	    <code class="filename">floppies/boot.flp</code>,
	    <code class="filename">floppies/kern1.flp</code>,
	    <code class="filename">floppies/kern2.flp</code> и
	    <code class="filename">floppies/mfsroot1.flp</code>.  Эти образы
	    нужно перенести на дискеты с помощью таких утилит, как
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dd&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">dd</span>(1)</span></a>.</p><p>Полные инструкции по этой процедуре и об установке вообще можно
	    найти в <a class="link" href="../../../../doc/ru_RU.KOI8-R/books/handbook/install.html" target="_top">
	    разделе</a> Руководства, посвящённом установке FreeBSD.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp70923600"></a><a id="floppy-image-too-large"></a><p><strong>3.3.</strong></p></td><td align="left" valign="top"><p>Помогите! Установочный образ не загружается!</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Это может быть вызвано тем, что образ был загружен по
	    FTP не в режиме <span class="emphasis"><em>binary</em></span>.</p><p>В некоторых клиентских программах FTP по умолчанию
	    используется текстовый (<span class="emphasis"><em>ascii</em></span>) режим
	    передачи, в котором любые последовательности символов
	    "конец строки" заменяются на используемые в системе
	    клиента.  В таком случае образ загрузочного диска будет
	    неизбежно испорчен.  Проверьте контрольную сумму SHA-256
	    полученного файла: если он не <span class="emphasis"><em>точно</em></span>
	    такой же как на FTP-сервере, то ошибка произошла, скорее
	    всего, в процессе передачи.</p><p>В случае использования командной строки FTP-клиента
	    введите команду <span class="emphasis"><em>binary</em></span> в командной
	    строке FTP после подключения к серверу, но перед началом
	    передачи файла.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp70933968"></a><a id="install-instructions-location"></a><p><strong>3.4.</strong></p></td><td align="left" valign="top"><p>Где инструкции по установке FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Инструкции по установке FreeBSD 9.0
	    и более поздних версий могут быть найдены в <a class="link" href="../../../../doc/ru_RU.KOI8-R/books/handbook/bsdinstall.html" target="_top">главе</a>
	    Руководства, посвящённой установке FreeBSD.
	    Также имеются инструкции по установке <a class="link" href="../../../../doc/ru_RU.KOI8-R/books/handbook/install.html" target="_top">предыдущих</a>
	    версий FreeBSD.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp70949200"></a><a id="need-to-run"></a><p><strong>3.5.</strong></p></td><td align="left" valign="top"><p>Какие минимальные требования для запуска FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Для работы FreeBSD необходим ПК класса 486 и выше с
	    оперативной памятью объёмом не менее 64 Мбайт и
	    дисковым пространством не менее 1.1 Гбайт.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp70954192"></a><a id="custom-boot-floppy"></a><p><strong>3.6.</strong></p></td><td align="left" valign="top"><p>Как сделать собственный установочный диск?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Индивидуальный установочный носитель FreeBSD можно
	    создать, запустив процедуру построения индивидуального
	    релиза.  Следуйте инструкциям в статье о <a class="link" href="../../../../doc/ru_RU.KOI8-R/articles/releng/article.html" target="_top">подготовке
	    релизов FreeBSD</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp70960848"></a><a id="windows-coexist"></a><p><strong>3.7.</strong></p></td><td align="left" valign="top"><p>Может ли <span class="trademark">Windows</span>(R) сосуществовать с FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Да, если <span class="trademark">Windows</span>(R) установлена первой.  Загрузчик
	    FreeBSD будет управлять процессом выбора загрузки <span class="trademark">Windows</span>(R)
	    или FreeBSD.  Если <span class="trademark">Windows</span>(R) устанавливается следом, то это
	    приведёт к перезаписи загрузчика.  Если такое случится,
	    обратитесь к следующему разделу.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp70984912"></a><a id="bootmanager-restore"></a><p><strong>3.8.</strong></p></td><td align="left" valign="top"><p>Другая операционная система уничтожила мой загрузчик
	    операционной системы!  Как мне его вернуть?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Способ восстановления зависит от используемого
	    загрузчика.  Меню выбора загрузки, используемое во FreeBSD,
	    можно переустановить с помощью <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=boot0cfg&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">boot0cfg</span>(8)</span></a>.
	    Пример для восстановления меню загрузки на диске
	    <em class="replaceable"><code>ada0</code></em>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>boot0cfg -B ada0</code></strong></pre><p>Неинтерактивный загрузчик MBR можно установить
	    с помощью <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=gpart&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">gpart</span>(8)</span></a>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>gpart bootcode -b /boot/mbr ada0</code></strong></pre><p>Более сложные ситуации, включая использование дисков
	    GPT, рассматриваются в <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=gpart&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">gpart</span>(8)</span></a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp71005904"></a><a id="no-install-cdrom"></a><p><strong>3.9.</strong></p></td><td align="left" valign="top"><p>Я загрузился с компакт-диска, однако программа установки
	    сообщила, что CD-ROM не найден.  Куда он подевался?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Обычной причиной возникновения такой проблемы является
	    неправильно сконфигурированный привод CD-ROM.  Теперь зачастую ПК
	    продаются с CD-ROM, установленным как ведомое устройство на втором
	    контроллере IDE, но без ведущего устройства на этом контроллере.
	    Согласно спецификации ATAPI, такая конфигурация неверна, однако
	    <span class="trademark">Windows</span>(R) в таком случае всё же работает, и BIOS игнорирует это при
	    загрузке.  Вот почему BIOS может видеть CD-ROM при загрузке, а
	    FreeBSD для завершения установки - нет.</p><p>Переконфигурируйте систему так, чтобы CD-ROM оказался либо
	    основным устройством на том IDE-контроллере, на котором он
	    установлен, либо ведомым устройством на контроллере IDE, который
	    имеет ведущее устройство.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp71012176"></a><a id="need-complete-sources"></a><p><strong>3.10.</strong></p></td><td align="left" valign="top"><p>Нужно ли устанавливать исходные тексты системы?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>В общем случае, нет.  Для работы основной системы
	    присутствие исходных текстов не требуется.  Некоторые порты
	    наподобие <code class="filename">sysutils/lsof</code>
	    не будут собираться без установленных исходных текстов системы.
	    В частности, если порт собирает модуль ядра или напрямую
	    обращается к структурам ядра, в этом случае исходные тексты
	    должны быть установлены.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp71026512"></a><a id="need-kernel"></a><p><strong>3.11.</strong></p></td><td align="left" valign="top"><p>Нужно ли перекомпилировать ядро?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Обычно нет.  Поставляемое ядро <code class="literal">GENERIC</code>
	    содержит драйвера, необходимые для типичного компьютера.
	    Инструмент <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=freebsd-update&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">freebsd-update</span>(8)</span></a> не может использоваться
	    для обновления FreeBSD с собственным ядром.  Поэтому по
	    возможности стоит придерживаться использования ядра
	    <code class="literal">GENERIC</code>.  Для компьютеров с очень
	    небольшим объёмом ОЗУ, таких как встраиваемые системы,
	    может потребоваться собственное небольшое ядро, содержащее
	    только необходимые драйверы.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp71035088"></a><a id="password-encryption"></a><p><strong>3.12.</strong></p></td><td align="left" valign="top"><p>Какой из паролей DES, Blowfish или MD5 я должен использовать,
	    и как указать, какого типа пароли используются
	    пользователями?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Во FreeBSD 9 и выше по умолчанию используется
	    <span class="emphasis"><em>SHA512</em></span>.  Пароли DES остаются доступны
	    для обратной совместимости с более старыми операционными
	    системами, в которых используется менее защищённый формат
	    паролей.  FreeBSD также поддерживает пароли в форматах
	    Blowfish и MD5.  Управление выбором используемого формата
	    для новых паролей осуществляется через параметр входа
	    <code class="literal">passwd_format</code> в файле
	    <code class="filename">/etc/login.conf</code>, принимающий значения
	    <code class="literal">des</code>, <code class="literal">blf</code> (если они
	    есть) или <code class="literal">md5</code>.  Подробная информация о
	    параметрах входа находится на странице Справочника
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=login.conf&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">login.conf</span>(5)</span></a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp71048528"></a><a id="ffs-limits"></a><p><strong>3.13.</strong></p></td><td align="left" valign="top"><p>Какие существуют ограничения для файловой системы FFS?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Наибольший размер файловой системы FFS ограничен
	    практически количеством памяти, которая требуется для
	    работы <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=fsck&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">fsck</span>(8)</span></a>.  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=fsck&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">fsck</span>(8)</span></a> использует 1 бит на
	    фрагмент, и для стандартного размера фрагмента 4 Кбайт это
	    эквивалентно использованию 32 Мбайт памяти на терабайт
	    дискового пространства.  Это означает, что на архитектурах
	    с ограничением размера пользовательского процесса в 2 Гбайт
	    (например, <span class="trademark">i386</span>TM) максимальный размер файловой системы,
	    доступный для <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=fsck&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">fsck</span>(8)</span></a>, составляет ~60 Тбайт.</p><p>Без ограничения на память для <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=fsck&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">fsck</span>(8)</span></a> максимальный
	    размер файловой системы составляет 2 ^ 64
	    (блоков) * 32 Кбайт =&gt; 16 экса * 32 Кбайт
	    =&gt; 512 зеттабайт.</p><p>Максимальный размер файла на FFS приблизительно равен
	    2  петабайт со стандартным размером блока 32 Кбайт.
	    Каждый 32 Кбайтный блок может адресовать до 4096 блоков.
	    С использованием тройной косвенной адресации это составляет
	    32 Кбайт * 12 + 32 Кбайт * 4096 + 32 Кбайт *
	    4096^2 + 32 Кбайт * 4096^3.  Увеличение размера блока
	    до 64 Кбайт увеличит максимальный размер файла в 16
	    раз.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp71080656"></a><a id="archsw-readin-failed-error"></a><p><strong>3.14.</strong></p></td><td align="left" valign="top"><p>Я скомпилировал новое ядро и при загрузке получил
	    сообщение об ошибке <span class="errorname">readin
	      failed</span>.</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Ядро и компоненты системы не синхронизированы.  Такая
	    конфигурация не поддерживается.  Обязательно используйте
	    команды <code class="command">make buildworld</code> и <code class="command">make
	      buildkernel</code> для обновления ядра.</p><p>Загрузите систему, непосредственно указав ядро на
	    втором этапе загрузки, нажав любую клавишу до запуска
	    загрузчика при появлении символов
	    <code class="literal">|</code>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp71089104"></a><a id="general-configuration-tool"></a><p><strong>3.15.</strong></p></td><td align="left" valign="top"><p>Существует ли инструмент для настройки системы после
	    её установки?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Да, <span class="application">bsdconfig</span> предоставляет
	    замечательный интерфейс для пост-установочной настройки
	    FreeBSD.</p></td></tr></tbody></table></div></div><div class="chapter"><div xmlns="" class="titlepage"><div><div><h1 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="hardware"></a>Глава 4. Аппаратная совместимость</h1></div></div></div><div class="toc"><div class="toc-title">Содержание</div><dl class="toc"><dt><span class="sect1"><a href="#compatibility-general">4.1. Вопросы общего характера</a></span></dt><dt><span class="sect1"><a href="#compatibility-processors">4.2. Аппаратные платформы и процессоры</a></span></dt><dt><span class="sect1"><a href="#compatibility-drives">4.3. Жёсткие диски, ленточные устройства и приводы CD и DVD</a></span></dt><dt><span class="sect1"><a href="#compatibility-kbd-mice">4.4. Клавиатуры и мыши</a></span></dt><dt><span class="sect1"><a href="#compatibility-other">4.5. Другое оборудование</a></span></dt></dl></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="compatibility-general"></a>4.1. Вопросы общего характера</h2></div></div></div><div class="qandaset"><a id="idp71099728"></a><dl><dt>4.1.1. <a href="#idp71100496">Я хочу приобрести аппаратуру для моей системы FreeBSD.  Какая
	      модель/производитель/тип лучше всего?</a></dt><dt>4.1.2. <a href="#idp71121360">Какие существуют ограничения по памяти?
	      Поддерживает ли FreeBSD больше 4 Гбайт памяти (ОЗУ)?
	      Больше 16 Гбайт? Больше 48 Гбайт?</a></dt><dt>4.1.3. <a href="#idp71130832">Почему FreeBSD видит меньше 4 Гбайт памяти, когда
	      система установлена на машину i386TM?</a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%" /><col /></colgroup><tbody><tr class="question"><td align="left" valign="top"><a id="idp71100496"></a><a id="which-hardware-to-get"></a><p><strong>4.1.1.</strong></p></td><td align="left" valign="top"><p>Я хочу приобрести аппаратуру для моей системы FreeBSD.  Какая
	      модель/производитель/тип лучше всего?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Это постоянно обсуждается в списках рассылки FreeBSD и
	      является ожидаемым вопросом, так как аппаратура меняется
	      очень быстро.
	      Обратитесь к Hardware Notes для FreeBSD <a class="link" href="http://www.FreeBSD.org/releases/10.1R/hardware.html" target="_top">10.1</a>
	      или <a class="link" href="http://www.FreeBSD.org/releases/9.3R/hardware.html" target="_top">9.3</a>,
	      а также <a class="link" href="http://www.FreeBSD.org/search/#mailinglists" target="_top">архивам</a>
	      списков рассылки перед тем, как задавать вопросы о самом
	      последнем и лучшем оборудовании.  Весьма вероятно, что
	      обсуждение касаемо этого типа оборудования велось как
	      раз на прошлой неделе.</p><p>Перед приобретением лэптопа посмотрите архивы
	      <a class="link" href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-mobile" target="_top">Список рассылки FreeBSD, посвящённый переносным компьютерам</a> и <a class="link" href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-questions" target="_top">Список рассылки, посвящённый вопросам и ответам пользователей FreeBSD</a> или, по возможности, более
	      специфичные списки рассылки по данному типу
	      оборудования.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp71121360"></a><a id="memory-upper-limitation"></a><p><strong>4.1.2.</strong></p></td><td align="left" valign="top"><p>Какие существуют ограничения по памяти?
	      Поддерживает ли FreeBSD больше 4 Гбайт памяти (ОЗУ)?
	      Больше 16 Гбайт? Больше 48 Гбайт?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>FreeBSD как операционная система в целом поддерживает
	      столько же физической памяти (ОЗУ), сколько аппаратная
	      платформа, на которой она работает.  Имейте в виду, что
	      различные платформы имеют различные ограничения на память;
	      например, <span class="trademark">i386</span>TM без <acronym class="acronym">PAE</acronym> поддерживает
	      максимум 4 Гбайт памяти (и обычно еще меньше из-за
	      адресного пространства PCI), а <span class="trademark">i386</span>TM с PAE поддерживает
	      максимум 64 Гбайт.  Для FreeBSD 10 платформы AMD64
	      поддерживают до 4 Тбайт физической памяти.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp71130832"></a><a id="memory-i386-over-4gb"></a><p><strong>4.1.3.</strong></p></td><td align="left" valign="top"><p>Почему FreeBSD видит меньше 4 Гбайт памяти, когда
	      система установлена на машину <span class="trademark">i386</span>TM?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Общее адресное пространство для машин <span class="trademark">i386</span>TM является
	      32-разрядным; это означает, что адресоваться (т.е. быть
	      получено) может не более 4 Гбайт памяти.  Более того,
	      некоторые адреса в этом диапазоне зарезервированы для
	      различных целей аппаратным обеспечением, например, для
	      использования и управления устройствами PCI, для доступа
	      к видеопамяти, и так далее.  Таким образом, общий объем
	      памяти, используемой операционной системой для ядра и
	      приложений, ограничен размером, значительно меньшим, чем
	      4 Гбайт.  В такой конфигурации максимально доступная
	      физическая память составляет от 3.2 Гбайт до
	      3.7 Гбайт.</p><p>Для преодоления ограничения в 3.2 Гбайт-3.7 Гбайт
	      установленной памяти (т.е. для получения 4 Гбайт, но
	      также более 4 Гбайт) должен использоваться специальный
	      механизм, именуемый <acronym class="acronym">PAE</acronym>.  Сокращение PAE
	      расшифровывается как Physical Address Extension (расширение
	      физического адреса) и предоставляет для 32-разрядных x86
	      процессоров способ адресовать более 4 Гбайт памяти.
	      PAE переназначает память, которая иначе была бы перекрыта
	      адресными резервациями для аппаратных устройств выше
	      диапазона 4 Гбайт, и использует ее как дополнительную
	      физическую память (смотрите <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pae&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">pae</span>(4)</span></a>).  Использование PAE
	      имеет свои недостатки; такая модель доступа к памяти является
	      чуть более медленной по сравнению с обычным режимом (без PAE),
	      и также не работают динамически загружаемые модули (смотрите
	      <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=kld&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">kld</span>(4)</span></a>).  Это означает, что все драйверы должны
	      присутствовать статически в самом ядре.</p><p>Самый общий способ включить PAE - это собрать
	      новое ядро со специальным уже подготовленным файлом
	      конфигурации ядра, именуемым <code class="filename">PAE</code>,
	      который уже сконфигурирован для сборки безопасного ядра.
	      Имейте в виду, что некоторые строки в этом файле конфигурации
	      ядра являются слишком консервативными, и некоторые драйверы,
	      помеченные как неготовые для использования с PAE, на самом
	      деле являются годными.  На практике, если драйвер работает
	      на 64-разрядной архитектуре (такой как AMD64), он также
	      работает с PAE.  При создании своего собственного файла
	      конфигурации ядра можно включить PAE, добавив
	      следующую строку:</p><pre class="programlisting">options       PAE</pre><p>PAE не является широко используемым в настоящее время,
	      поскольку большинство нового x86 аппаратного обеспечения
	      также поддерживает работу в 64-разрядном режиме, также
	      известном как AMD64 или <span class="trademark">Intel</span>(R) 64.  Этот режим имеет
	      большее адресное пространство и не нуждается в таких трюках.
	      FreeBSD поддерживает AMD64, и рекомендуется использование
	      этой версии FreeBSD вместо версии <span class="trademark">i386</span>TM, если требуется больше
	      4 Гбайт памяти.</p></td></tr></tbody></table></div></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="compatibility-processors"></a>4.2. Аппаратные платформы и процессоры</h2></div></div></div><div class="qandaset"><a id="idp71170640"></a><dl><dt>4.2.1. <a href="#idp71171280">Поддерживает ли FreeBSD аппаратные платформы, отличные от
	      x86?</a></dt><dt>4.2.2. <a href="#idp71179984">Поддерживает ли FreeBSD многопроцессорные системы
	      (SMP)?</a></dt><dt>4.2.3. <a href="#idp71196240">Что такое микрокод?  Как установить обновления
	      микрокода для процессоров Intel(R)?</a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%" /><col /></colgroup><tbody><tr class="question"><td align="left" valign="top"><a id="idp71171280"></a><a id="architectures"></a><p><strong>4.2.1.</strong></p></td><td align="left" valign="top"><p>Поддерживает ли FreeBSD аппаратные платформы, отличные от
	      x86?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Да.  Поддержка FreeBSD подразделяется на множество классов.
	      Архитектуры первого класса, такие как i386 или amd64,
	      полностью поддерживаются.  Архитектуры 2 и 3 класса
	      поддерживаются по мере возможности.  Полное описание
	      классов доступно в <a class="link" href="../../../../doc/ru_RU.KOI8-R/articles/committers-guide/archs.html" target="_top">справочнике
	      коммиттера</a>.</p><p>Полный список поддерживаемых архитектур находится
	      на <a class="link" href="http://www.FreeBSD.org/ru/platforms/" target="_top">странице</a>,
	      посвящённой платформам.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp71179984"></a><a id="smp-support"></a><p><strong>4.2.2.</strong></p></td><td align="left" valign="top"><p>Поддерживает ли FreeBSD многопроцессорные системы
	      (SMP)?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>FreeBSD поддерживает симметричное мультипроцессирование
	      (SMP) на всех невстраиваемых платформах (например,
	      i386, amd64 и так далее).  SMP
	      также поддерживается для arm и MIPS, хотя некоторые
	      процессоры могут это не поддерживать.  В реализации SMP
	      во FreeBSD используется мелкодисперсная синхронизация, и
	      производительность масштабируется почти линейно с ростом
	      количества процессоров.</p><p>За подробной информацией обращайтесь к странице
	      Справочника <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=smp&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">smp</span>(4)</span></a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp71196240"></a><a id="microcode"></a><p><strong>4.2.3.</strong></p></td><td align="left" valign="top"><p>Что такое микрокод?  Как установить обновления
	      микрокода для процессоров <span class="trademark">Intel</span>(R)?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Микрокод - это программа, реализующая набор инструкций
	      процессора на аппаратном уровне.  Она позволяет исправлять
	      ошибки процессора без замены микросхемы.</p><p>Установите <code class="filename">sysutils/devcpu-data</code>,
	      а затем добавьте:</p><pre class="programlisting">microcode_update_enable="YES"</pre><p>в <code class="filename">/etc/rc.conf</code></p></td></tr></tbody></table></div></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="compatibility-drives"></a>4.3. Жёсткие диски, ленточные устройства и приводы CD и DVD</h2></div></div></div><div class="qandaset"><a id="idp71209936"></a><dl><dt>4.3.1. <a href="#idp71210960">Какие типы винчестеров поддерживает FreeBSD?</a></dt><dt>4.3.2. <a href="#idp71220816">Какие поддерживаются контроллеры SCSI или SAS?</a></dt><dt>4.3.3. <a href="#idp71241040">Какие типы стримеров поддерживаются?</a></dt><dt>4.3.4. <a href="#idp71246160">Поддерживает ли FreeBSD роботов для смены лент?</a></dt><dt>4.3.5. <a href="#idp71262032">Какие приводы CD-ROM и CD-RW поддерживаются во
	      FreeBSD?</a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%" /><col /></colgroup><tbody><tr class="question"><td align="left" valign="top"><a id="idp71210960"></a><a id="supported-hard-drives"></a><p><strong>4.3.1.</strong></p></td><td align="left" valign="top"><p>Какие типы винчестеров поддерживает FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>FreeBSD работает с дисками стандартов EIDE, SATA, SCSI и
	      SAS (с совместимыми контроллерами; смотрите следующий раздел),
	      и всеми дисками, использующими оригинальный интерфейс <span class="quote"><<<span class="quote">Western
	      Digital</span>>></span> (MFM, RLL, ESDI и, конечно же, IDE).  Некоторые
	      контроллеры ESDI, использующие собственные интерфейсы, могут и не
	      работать: к таким относятся WD1002/3/6/7 и их клоны.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp71220816"></a><a id="supported-scsi-controllers"></a><p><strong>4.3.2.</strong></p></td><td align="left" valign="top"><p>Какие поддерживаются контроллеры SCSI или SAS?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Полный список приведён в Hardware Notes для FreeBSD
	      <a class="link" href="http://www.FreeBSD.org/releases/10.1R/hardware.html" target="_top">10.1</a>
	      или <a class="link" href="http://www.FreeBSD.org/releases/9.3R/hardware.html" target="_top">9.3</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp71241040"></a><a id="tape-support"></a><p><strong>4.3.3.</strong></p></td><td align="left" valign="top"><p>Какие типы стримеров поддерживаются?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>FreeBSD поддерживает все стандартные интерфейсы
	      стримеров SCSI.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp71246160"></a><a id="tape-changer-support"></a><p><strong>4.3.4.</strong></p></td><td align="left" valign="top"><p>Поддерживает ли FreeBSD роботов для смены лент?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>FreeBSD поддерживает роботизированные устройства SCSI через
	      устройство <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ch&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">ch</span>(4)</span></a> и команду <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chio&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">chio</span>(1)</span></a>.  Подробная
	      информация об управлении такими роботами находится на
	      странице Справочника <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chio&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">chio</span>(1)</span></a>.</p><p>В то время как <span class="application">AMANDA</span> и
	      ещё ряд программных продуктов умеют работать с роботами,
	      другие приложения могут только переносить ленты с одного
	      места на другое.  В этом случае надо отслеживать, в каком
	      слоте находится нужная лента, и в какой слот нужно вернуть ленту,
	      находящуюся в стримере.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp71262032"></a><a id="supported-cdrom-drives"></a><p><strong>4.3.5.</strong></p></td><td align="left" valign="top"><p>Какие приводы CD-ROM и CD-RW поддерживаются во
	      FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Поддерживаются любые SCSI-устройства чтения компакт дисков,
	      подключенные к поддерживаемому контроллеру.  Поддерживается
	      большинство ATAPI-совместимых IDE CD-ROM.</p><p>FreeBSD поддерживает все ATAPI-совместимые IDE-приводы CD-R
	      или CD-RW.  Более полная информация находится на странице
	      Справочника <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=burncd&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">burncd</span>(8)</span></a>.</p><p>FreeBSD поддерживает также все SCSI-приводы CD-R и CD-RW.
	      Используйте команду <code class="command">cdrecord</code> из
	      пакета <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/sysutils/cdrtools/pkg-descr">sysutils/cdrtools</a>.</p></td></tr></tbody></table></div></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="compatibility-kbd-mice"></a>4.4. Клавиатуры и мыши</h2></div></div></div><div class="qandaset"><a id="idp71283280"></a><dl><dt>4.4.1. <a href="#idp71283920">Можно ли использовать мышь вне X Window?</a></dt><dt>4.4.2. <a href="#idp71330000">Как можно вырезать и копировать текст с помощью мыши в
	      текстовой консоли?</a></dt><dt>4.4.3. <a href="#idp71339856">У моей мыши есть дополнительные колёсико и кнопочки.  Можно ли
	      их использовать во FreeBSD?</a></dt><dt>4.4.4. <a href="#idp71347536">Как использовать клавишу delete в sh
	      и csh?</a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%" /><col /></colgroup><tbody><tr class="question"><td align="left" valign="top"><a id="idp71283920"></a><a id="moused"></a><p><strong>4.4.1.</strong></p></td><td align="left" valign="top"><p>Можно ли использовать мышь вне X Window?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Стандартный драйвер консоли <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=syscons&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">syscons</span>(4)</span></a>
	      предоставляет возможность использования указателя мыши
	      в текстовых консолях для выделения и переноса текста.
	      Запустите демон мыши <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=moused&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">moused</span>(8)</span></a> и включите
	      отображение указателя мыши в виртуальной консоли:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>moused -p /dev/xxxx -t yyyy</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>vidcontrol -m on</code></strong></pre><p>Здесь <em class="replaceable"><code>xxxx</code></em> - это имя устройства
	      мыши, а <em class="replaceable"><code>yyyy</code></em> - тип протокола,
	      используемого мышью.  Даемон мыши может автоматически определять
	      тип протокола большинства мышей, за исключением старых, работающих
	      по последовательному интерфейсу.  Для выполнения автоматического
	      определения в качестве протокола укажите <code class="literal">auto</code>.
	      Если автоматическое определение не работает, то обратитесь к
	      справочным страницам по <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=moused&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">moused</span>(8)</span></a> для получения списка
	      поддерживаемых типов протоколов.</p><p>Для мыши типа PS/2 добавьте строчку
	      <code class="literal">moused_enable="YES"</code> в файл
	      <code class="filename">/etc/rc.conf</code> для запуска даемона мыши во
	      время загрузки системы.  Кроме того, для использования
	      даемона мыши во всех виртуальных терминалах, а не только на консоли,
	      добавьте <code class="literal">allscreens_flags="-m on"</code> в файле
	      <code class="filename">/etc/rc.conf</code>.</p><p>После запуска даемона мыши, доступ к мыши должен
	      согласовываться между даемоном мыши и другими программами типа X
	      Window.  Обратитесь к вопросу из <acronym class="acronym">FAQ</acronym>
	      <a class="link" href="#x-and-moused" title="11.4.">
	      Почему моя мышь не работает с X?</a> для получения более полной
	      информации по этому вопросу.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp71330000"></a><a id="text-mode-cut-paste"></a><p><strong>4.4.2.</strong></p></td><td align="left" valign="top"><p>Как можно вырезать и копировать текст с помощью мыши в
	      текстовой консоли?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Удалить данные с помощью мыши нельзя.  Однако их
	      можно скопировать и вставить.  После
	      запуска даемона мыши, как описано в ответе на <a class="link" href="#moused" title="4.4.1.">предыдущий вопрос</a>, нажмите
	      кнопку 1 (левую) и двигайте мышь для выделения текста.
	      Затем нажмите кнопку 2 (среднюю) для его вставки с
	      позиции текстового курсора.  Нажатие кнопки 3 (правой)
	      <span class="quote"><<<span class="quote">расширит</span>>></span> выбранную текстовую область.</p><p>Если у вашей мыши отсутствует средняя кнопка, её можно
	      сэмулировать либо переназначить кнопки опциями даемона мыши.
	      Обратитесь к справочным страницам по <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=moused&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">moused</span>(8)</span></a> для получения
	      полной информации.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp71339856"></a><a id="mouse-wheel-buttons"></a><p><strong>4.4.3.</strong></p></td><td align="left" valign="top"><p>У моей мыши есть дополнительные колёсико и кнопочки.  Можно ли
	      их использовать во FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Ответ, к сожалению, <span class="quote"><<<span class="quote">в зависимости от
	      обстоятельств</span>>></span>.  Эти мышки с дополнительными возможностями,
	      как правило, требуют наличия специальных драйверов.  До тех пор,
	      пока драйвер мыши или прикладная программа не будут иметь отдельную
	      поддержку такой мыши, она будет работать как стандартная двух- или
	      трёхкнопочная мышь.</p><p>Возможные способы использования колёсиков мыши при работе в X
	      Window описаны в <a class="link" href="#x-and-wheel" title="11.5.">другом
	      разделе</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp71347536"></a><a id="keyboard-delete-key"></a><p><strong>4.4.4.</strong></p></td><td align="left" valign="top"><p>Как использовать клавишу delete в <code class="command">sh</code>
	      и <code class="command">csh</code>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Для <span class="application">Bourne Shell</span> добавьте
	      следующие строки в <code class="filename">~/.shrc</code>.  Смотрите
	      <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sh&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">sh</span>(1)</span></a> и <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=editrc&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">editrc</span>(5)</span></a>.</p><pre class="programlisting">bind ^? ed-delete-next-char # для консоли
bind ^[[3~ ed-delete-next-char # для xterm</pre><p>Для <span class="application">C Shell</span> добавьте следующие
	      строки в <code class="filename">~/.cshrc</code>.  Смотрите
	      <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=csh&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">csh</span>(1)</span></a>.</p><pre class="programlisting">bindkey ^? delete-char # для консоли
bindkey ^[[3~ delete-char # для xterm</pre><p>За дополнительной информацией обращайтесь к <a class="link" href="http://www.ibb.net/~anne/keyboard.html" target="_top">этой
	      странице</a>.</p></td></tr></tbody></table></div></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="compatibility-other"></a>4.5. Другое оборудование</h2></div></div></div><div class="qandaset"><a id="idp71380176"></a><dl><dt>4.5.1. <a href="#idp71380688">Есть ли решение проблемы отсутствия звука при использовании
	      звуковых адаптеров pcm(4)?</a></dt><dt>4.5.2. <a href="#idp71390288">Поддерживает ли FreeBSD управление энергосбережением на
	      лэптопах?</a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%" /><col /></colgroup><tbody><tr class="question"><td align="left" valign="top"><a id="idp71380688"></a><a id="es1370-silent-pcm"></a><p><strong>4.5.1.</strong></p></td><td align="left" valign="top"><p>Есть ли решение проблемы отсутствия звука при использовании
	      звуковых адаптеров <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pcm&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">pcm</span>(4)</span></a>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Некоторые звуковые адаптеры при каждой
	      загрузке сбрасывают уровень громкости в 0.  Выполняйте следующую
	      команду при каждой загрузке машины:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mixer pcm 100 vol 100 cd 100</code></strong></pre></td></tr><tr class="question"><td align="left" valign="top"><a id="idp71390288"></a><a id="power-management-support"></a><p><strong>4.5.2.</strong></p></td><td align="left" valign="top"><p>Поддерживает ли FreeBSD управление энергосбережением на
	      лэптопах?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>FreeBSD поддерживает функции <acronym class="acronym">ACPI</acronym>,
	      реализованные в современном оборудовании.
	      Дополнительная информация находится
	      на странице Справочника <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=acpi&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">acpi</span>(4)</span></a>.</p></td></tr></tbody></table></div></div></div><div class="chapter"><div xmlns="" class="titlepage"><div><div><h1 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="troubleshoot"></a>Глава 5. Устранение некоторых проблем</h1></div></div></div><div class="qandaset"><a id="idp71412432"></a><dl><dt>5.1. <a href="#idp71413328">Почему FreeBSD определяет неправильное количество памяти
	    на аппаратуре i386TM?</a></dt><dt>5.2. <a href="#idp71427920">Программы аварийно завершают работу с ошибкой Signal
	    11.</a></dt><dt>5.3. <a href="#idp71475280">Моя система аварийно завершает работу с сообщениями
	    Fatal trap 12: page fault in kernel mode
	    либо panic:, и выдаёт много дополнительной
	    информации.  Что мне делать?</a></dt><dt>5.4. <a href="#idp71484240">Что означает сообщение об ошибке maxproc
	    limit exceeded by uid %i, please see tuning(7) and
	    login.conf(5)?</a></dt><dt>5.5. <a href="#idp71514448">Полноэкранные приложения на удалённой машине работают
	    неправильно!</a></dt><dt>5.6. <a href="#idp71530832">Почему подключение через ssh или
	    telnet к моему компьютеру занимает так
	    долго времени?</a></dt><dt>5.7. <a href="#idp74192592">Почему в dmesg(8) регулярно выводятся сообщения
	    file: table is full?</a></dt><dt>5.8. <a href="#idp74201296">Почему часы на моем компьютере показывают неправильное
	    время?</a></dt><dt>5.9. <a href="#idp74239312">Что означает сообщение swap_pager: indefinite
	    wait buffer:?</a></dt><dt>5.10. <a href="#idp74242640">Что означают сообщения lock order
	    reversal?</a></dt><dt>5.11. <a href="#idp74254800">Что означают сообщения Called ... with
	    the following non-sleepable locks held?</a></dt><dt>5.12. <a href="#idp74261584">Почему процесс
	    buildworld/installworld
	    завершается с сообщением
	    touch: not found?</a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%" /><col /></colgroup><tbody><tr class="question"><td align="left" valign="top"><a id="idp71413328"></a><a id="pae"></a><p><strong>5.1.</strong></p></td><td align="left" valign="top"><p>Почему FreeBSD определяет неправильное количество памяти
	    на аппаратуре <span class="trademark">i386</span>TM?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Наиболее вероятная причина заключается в различии между
	    адресами физической и виртуальной памяти.</p><p>Существующее соглашение для большинства оборудования ПК
	    заключается в использовании пространства памяти, лежащей в
	    диапазоне между 3.5 ГБ и 4 ГБ для специальных нужд
	    (обычно для нужд PCI).  Это пространство адресов используется
	    для доступа к PCI оборудованию.  Как результат, реальная
	    физическая память не может быть получена в данном адресном
	    пространстве.</p><p>Какие действия выполняются с памятью в данном регионе,
	    зависит от оборудования.  К сожалению, некоторое
	    оборудование ничего не выполняет и возможность использовать
	    эти 500 МБ ОЗУ полностью потеряна.</p><p>К счастью, большинство оборудования перераспределяет
	    память к более верхней позиции, так что она всё ещё может
	    использоваться.  Тем не менее, это может вызвать некоторое
	    замешательство при просмотре сообщений, выдаваемых при
	    загрузке.</p><p>На 32-битной версии FreeBSD кажется, что эта память
	    потерялась, поскольку она переназначится в диапазон выше
	    4 ГБ, который не доступен для 32 битного ядра.
	    В данном случае, решение заключается в сборке ядра с PAE.
	    За дополнительной информацией обращайтесь к статье об
	    ограничениях памяти.</p><p>На 64nbsp;битной версии FreeBSD или в случае использования ядра с
	    включённым PAE FreeBSD корректно определит и перераспределит память,
	    так, что она станет годной к использованию.  Тем не менее, во
	    время загрузки может показаться, что FreeBSD определяет больше
	    памяти, чем реально имеется в системе из-за описанного
	    перераспределения.  Это нормально, и информация
	    о доступной памяти будет скорректирована по окончанию процесса
	    загрузки.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp71427920"></a><a id="signal11"></a><p><strong>5.2.</strong></p></td><td align="left" valign="top"><p>Программы аварийно завершают работу с ошибкой <span class="errorname">Signal
	    11</span>.</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Ошибки выполнения, связанные с сигналом 11, происходят,
	    когда процесс пытается обратиться к области памяти, доступ к
	    которой ему не был дан операционной системой.  Если что-то подобное
	    происходит в случайные, казалось бы, промежутки времени,
	    следует начать поиск причины.</p><p>Эти проблемы могут быть классифицированы следующим
	    образом:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Если проблема возникает только в определённом
		самостоятельно разработанном приложении, то скорее
		всего это ошибка в коде.</p></li><li class="listitem"><p>Если это проблема в части базового комплекта системы
		FreeBSD, то это тоже может быть ошибка в программном коде, хотя
		в большинстве случаев такие проблемы обнаруживаются и ошибки
		исправляются задолго до того, как обычным читателям
		<acronym class="acronym">FAQ</acronym>
		доводится использовать этот код (именно для этого предназначена
		версия -CURRENT).</p></li></ol></div><p>Вероятно, это не связано с ошибкой во FreeBSD,
	    если проблема проявляется при компиляции программы, и при
	    этом ошибка компилятора каждый раз разная.</p><p>Например, если запуск <code class="command">make
	      buildworld</code> завершился неудачей при попытке
	    компиляции <code class="filename">ls.c</code> в
	    <code class="filename">ls.o</code> и при повторном запуске
	    компиляция снова прервалась на том же месте, то это ошибка
	    процесса построения.  Обновите исходные тексты и попробуйте
	    снова.  Если же компиляция прерывается в каком-то другом
	    месте, то причина наиболее вероятно кроется в
	    оборудовании.</p><p>В первом случае воспользуйтесь отладчиком, к примеру,
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=gdb&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">gdb</span>(1)</span></a>, для нахождения точки программы, в которой
	    делается попытка доступа к неверному адресу, и исправьте
	    эту ошибку.</p><p>Во втором случае проверьте, какой компонент вашего
	    оборудования неисправен.</p><p>Среди часто приводящих к этому причин:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Диски могут перегреваться.  Проверьте работу
		вентиляторов.</p></li><li class="listitem"><p>Процессор перегревается.  Это может произойти
		при разгоне процессора или при поломке процессорного
		вентилятора.  В любом из вариантов убедитесь, что
		ваше оборудование работает так, как ему положено по
		крайней мере на момент поиска причин неисправности.
		В противном случае сбросьте частоту на настройки по
		умолчанию.</p><p>Что касается разгона, дешевле обходится медленная
		система, чем сгоревшая система, требующая замены!
		Также общественность не симпатизирует проблемам на
		таких системах.</p></li><li class="listitem"><p>Хитроумная память.  Если установлены различные
		микросхемы SIMM/DIMM, вытащите их все и попробуйте
		по одной до локализации проблемы в проблематичной
		микросхеме DIMM/SIMM, либо их комбинации.</p></li><li class="listitem"><p>Чересчур оптимистичные настройки материнской платы.
		Настройки BIOS и перемычки на материнской плате
		предоставляют возможность задавать различные частоты и
		задержки.  Часто бывает достаточно настроек по
		умолчанию, но иногда установка слишком малых периодов
		ожидания для ОЗУ или установка параметра <span class="quote"><<<span class="quote">RAM
		  Speed: Turbo</span>>></span> вызывает странное поведение.
		Возможным решением может стать установка параметров
		BIOS по умолчанию с предварительной записью текущих
		значений.</p></li><li class="listitem"><p>Неустойчивое или недостаточное электропитание
		материнской платы.  Уберите неиспользуемые адаптеры
		ввода/вывода, винчестеры и приводы компакт-дисков или
		отключите их от кабеля электропитания для проверки,
		что блок питания может работать с меньшей нагрузкой.
		Или попробуйте воспользоваться другим блоком
		питания, желательно большей мощности.  Например, если
		имеющийся блок питания рассчитан на 250 Ватт,
		попробуйте другой мощностью 300 Ватт).</p></li></ol></div><p>Прочитайте раздел про <a class="link" href="#signal11" title="5.2.">Signal 11</a> для дальнейшего
	    объяснения и обсуждения, как аппаратура или программное
	    обеспечение для тестирования памяти могут пропускать
	    сбойную память.  Подробная информация по этому вопросу
	    содержится в <a class="link" href="http://www.bitwizard.nl/sig11/" target="_top"><acronym class="acronym">FAQ</acronym>
	      по проблеме SIG11</a>.</p><p>Наконец, если ничего не помогает, то, возможно, это
	    из-за ошибки во FreeBSD.  Следуйте <a class="link" href="#access-pr" title="1.13.">этим
	      инструкциям</a> для отправки сообщения о проблеме.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp71475280"></a><a id="trap-12-panic"></a><p><strong>5.3.</strong></p></td><td align="left" valign="top"><p>Моя система аварийно завершает работу с сообщениями
	    <span class="errorname">Fatal trap 12: page fault in kernel mode</span>
	    либо <span class="errorname">panic:</span>, и выдаёт много дополнительной
	    информации.  Что мне делать?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Разработчики FreeBSD интересуются такими ошибками, но
	    им нужно больше информации, чем просто текст ошибки.
	    Скопируйте весь текст сообщения.
	    Затем обратитесь к разделу <acronym class="acronym">FAQ</acronym> об
	    <a class="link" href="#kernel-panic-troubleshooting" title="18.6.">аварийных завершениях
	    работы ядра</a>, постройте отладочное ядро и получите
	    трассу вызовов.  Это может звучать трудной задачей, зато не
	    требует навыков программирования.  Просто следуйте
	    указаниям.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp71484240"></a><a id="proc-table-full"></a><p><strong>5.4.</strong></p></td><td align="left" valign="top"><p>Что означает сообщение об ошибке <span class="errorname">maxproc
	    limit exceeded by uid %i, please see tuning(7) and
	    login.conf(5)</span>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Ядро FreeBSD позволяет одновременно существовать
	    ограниченному числу процессов.  Это зависит от значения
	    переменной <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sysctl&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sysctl</span>(8)</span></a> <code class="varname">kern.maxusers</code>.
	    <code class="varname">kern.maxusers</code> также влияет на другие
	    ограничения ядра, такие как буферы работы с сетью.
	    Если система сильно загружена, поднимите
	    <code class="varname">kern.maxusers</code>.  Кроме максимального
	    числа процессов это также увеличит значения других
	    параметров, ограничивающих систему.</p><p>Для корректировки значения
	    <code class="varname">kern.maxusers</code> обратитесь к разделу <a class="link" href="../../../../doc/ru_RU.KOI8-R/books/handbook/configtuning-kernel-limits.html#kern-maxfiles" target="_top">
	    Ограничения файлов/процессов</a> Руководства.  В нём
	    говорится об открытых файлах, но те же ограничения касаются
	    процессов.</p><p>Если система загружена слабо, но в ней запущено
	    слишком много процессов, поправьте параметр
	    <code class="varname">kern.maxproc</code>,  определив его значение в
	    <code class="filename">/boot/loader.conf</code>.  Изменение не вступит
	    в силу до перезагрузки системы.  За дополнительной информацией,
	    касающейся настройки параметров, обращайтесь к странице
	    Справочника <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=loader.conf&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">loader.conf</span>(5)</span></a>.  Если эти процессы запущены
	    одним и тем же пользователем, поправьте
	    значение <code class="varname">kern.maxprocperuid</code>, чтобы оно
	    было на единицу меньше, чем новое значение
	    <code class="varname">kern.maxproc</code>.  Оно должно быть меньше по
	    крайней мере на единицу, потому что системная программа
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=init&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">init</span>(8)</span></a> должна работать всегда.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp71514448"></a><a id="remote-fullscreen"></a><p><strong>5.5.</strong></p></td><td align="left" valign="top"><p>Полноэкранные приложения на удалённой машине работают
	    неправильно!</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>На удалённой машине тип терминала может отличаться
	    от <code class="literal">xterm</code>, который требуется для
	    использования консоли FreeBSD.  Либо же ядро может иметь
	    неправильные значения ширины и высоты терминала.</p><p>Проверьте, чтобы переменная окружения
	    <code class="envar">TERM</code> имела значение
	    <code class="literal">xterm</code>.  Если удалённая машина его не
	    поддерживает, попробуйте <code class="literal">vt100</code>.</p><p>Запустите <code class="command">stty -a</code>, чтобы узнать,
	    какие размеры терминала заданы в ядре.  Если значения
	    неправильные, их можно поменять командой
	    <code class="command">stty rows <em class="replaceable"><code>RR</code></em> cols
	    <em class="replaceable"><code>CC</code></em></code>.</p><p>Либо же, если на клиентской машине установлен
	    <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/x11/xterm/pkg-descr">x11/xterm</a>, запуск
	    <code class="command">resize</code> позволит узнать у терминала
	    правильные размеры и применить эти значения.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp71530832"></a><a id="connection-delay"></a><p><strong>5.6.</strong></p></td><td align="left" valign="top"><p>Почему подключение через <code class="command">ssh</code> или
	    <code class="command">telnet</code> к моему компьютеру занимает так
	    долго времени?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Симптом: между моментом установления TCP-соединения и
	    выдачей клиентским программным обеспечением запроса на ввод
	    пароля (или, в случае использования <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=telnet&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">telnet</span>(1)</span></a>, выдачей
	    приглашения на вход) проходит большой промежуток времени.</p><p>Проблема: скорее всего, задержка вызвана программным
	    обеспечением на стороне сервера, которое пытается преобразовать
	    IP-адрес клиента в имя хоста.  Многие серверы, включая
	    <span class="application">Telnet</span> и <span class="application">SSH</span>,
	    поставляемые с FreeBSD, делают это для того, чтобы, кроме всего
	    прочего, записать имя хоста в файле журнала для справки
	    администратора.</p><p>Лечение: Если проблема возникает при подключении
	    клиента к любому серверу, то причина в клиенте.  Если
	    проблема возникает только при чьей-либо попытке
	    подключиться к серверу, то проблема в сервере.</p><p>Если проблема с клиентом, то единственным методом ее решения
	    является исправление DNS, чтобы сервер смог распознать вашу
	    машину.  Если это происходит в локальной сети, то предположите,
	    что это проблема с сервером, и продолжайте чтение.  Если
	    это происходит в сети Интернет, обратитесь к вашему
	    провайдеру.</p><p>Если проблема с сервером в локальной
	    сети, настройте сервер для разрешения запросов на
	    преобразование адреса в имя хоста в диапазоне локальных
	    адресов.  Обратитесь к страницам Справочника по <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=hosts&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">hosts</span>(5)</span></a>
	    и <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=named&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">named</span>(8)</span></a> для получения более подробной информации.
	    Если это происходит в сети Интернет, то проблема
	    может заключаться в некорректной работе ресолвера локального сервера.
	    Для проверки попробуйте получить адрес другого хоста, такого как
	    <code class="systemitem">www.yahoo.com</code>.  Если это не работает, то
	    в этом и состоит проблема.</p><p>Из-за свежей установки FreeBSD, также возможно, что
	    информация о домене и сервере имён отсутствует в
	    <code class="filename">/etc/resolv.conf</code>.  Это часто будет
	    вызывать задержку в работе <span class="application">SSH</span>,
	    так как опция <code class="literal">UseDNS</code> по умолчанию
	    установлена в значение <code class="literal">yes</code> в
	    <code class="filename">/etc/ssh/sshd_config</code>.  Если именно это является
	    причиной проблемы, то добавьте недостающую
	    информацию в <code class="filename">/etc/resolv.conf</code>, либо в
	    качестве временной меры установите <code class="literal">UseDNS</code>
	    в <code class="literal">no</code> в файле
	    <code class="filename">sshd_config</code>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp74192592"></a><a id="file-table-full"></a><p><strong>5.7.</strong></p></td><td align="left" valign="top"><p>Почему в <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dmesg&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">dmesg</span>(8)</span></a> регулярно выводятся сообщения
	    <span class="errorname">file: table is full</span>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Такое сообщение об ошибке сигнализирует о том, что в
	    системе закончились доступные файловые дескрипторы.
	    Обратитесь к разделу <a class="link" href="../../../../doc/ru_RU.KOI8-R/books/handbook/configtuning-kernel-limits.html#kern-maxfiles" target="_top">
	    kern.maxfiles</a> главы о <a class="link" href="../../../../doc/ru_RU.KOI8-R/books/handbook/configtuning-kernel-limits.html" target="_top">
	    Настройке ограничений ядра</a> Руководства для выяснения всех
	    подробностей и устранения этой проблемы.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp74201296"></a><a id="computer-clock-skew"></a><p><strong>5.8.</strong></p></td><td align="left" valign="top"><p>Почему часы на моем компьютере показывают неправильное
	    время?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>На компьютере установлено по меньшей мере два
	    таймера, и FreeBSD выбрала не тот.</p><p>Запустите <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dmesg&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">dmesg</span>(8)</span></a> и посмотрите строки, содержащие слово
	    <code class="literal">Timecounter</code>.  FreeBSD выбирает таймер с
	    наибольшим значением качества.</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>dmesg | grep Timecounter</code></strong>
Timecounter "i8254" frequency 1193182 Hz quality 0
Timecounter "ACPI-fast" frequency 3579545 Hz quality 1000
Timecounter "TSC" frequency 2998570050 Hz quality 800
Timecounters tick every 1.000 msec</pre><p>Удостоверьтесь в этом, проверив
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sysctl&amp;sektion=3"><span class="citerefentry"><span class="refentrytitle">sysctl</span>(3)</span></a>-переменную
	    <code class="varname">kern.timecounter.hardware</code>.</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>sysctl kern.timecounter.hardware</code></strong>
kern.timecounter.hardware: ACPI-fast</pre><p>Это может быть неработающий таймер ACPI.  Самым простым
	    решением будет отключить таймер ACPI в
	    <code class="filename">/boot/loader.conf</code>:</p><pre class="programlisting">debug.acpi.disabled="timer"</pre><p>Либо же BIOS может изменить частоту TSC-может, для изменения
	    скорости работы процессора при работе от батареек или переводя в
	    режим пониженного электропитания, но FreeBSD не отслеживает это и
	    в результате часы начинают спешить или отставать.</p><p>В этом примере имеется также и таймер <code class="literal">i8254</code>,
	    и он может быть выбран записью его имени в
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sysctl&amp;sektion=3"><span class="citerefentry"><span class="refentrytitle">sysctl</span>(3)</span></a>-переменную
	    <code class="varname">kern.timecounter.hardware</code>.</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>sysctl kern.timecounter.hardware=i8254</code></strong>
kern.timecounter.hardware: TSC -&gt; i8254</pre><p>Теперь компьютер должен аккуратнее следить за временем.</p><p>Чтобы это изменение вступало в силу во время загрузки системы,
	    добавьте в файл <code class="filename">/etc/sysctl.conf</code> такую
	    строчку:</p><pre class="programlisting">kern.timecounter.hardware=i8254</pre></td></tr><tr class="question"><td align="left" valign="top"><a id="idp74239312"></a><a id="indefinite-wait-buffer"></a><p><strong>5.9.</strong></p></td><td align="left" valign="top"><p>Что означает сообщение <span class="errorname">swap_pager: indefinite
	    wait buffer:</span>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Это значит, что процесс пытается сбросить страницу памяти на
	    диск, и попытка сделать это оканчивается неудачно в течение
	    более 20 секунд.  Это может быть вызвано испорченными блоками
	    на диске, кабелями, подключением или другим оборудованием
	    ввода/вывода.  Если диск сам по себе испорчен, вы
	    также увидите ошибки работы с диском в
	    <code class="filename">/var/log/messages</code> и в выводе
	    <code class="command">dmesg</code>.  В противном случае проверьте кабели и
	    подключения.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp74242640"></a><a id="lock-order-reversal"></a><p><strong>5.10.</strong></p></td><td align="left" valign="top"><p>Что означают сообщения <span class="errorname">lock order
	    reversal</span>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Ядро FreeBSD использует несколько блокировок для арбитража
	    доступа к соответствующим ресурсам.  Когда несколько
	    потоков в ядре пытаются захватить несколько блокировок
	    подряд, всегда существует возможность появления мёртвой
	    блокировки (deadlock), где два потока захватили по одной
	    блокировке и заблокированы в ожидании освобождения другим
	    потоком второй блокировки.  Такой проблемы синхронизации
	    можно избежать, если все потоки захватывают блокировки в
	    одинаковом порядке.</p><p>Система диагностирования блокировок <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=witness&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">witness</span>(4)</span></a>,
	    которая по умолчанию включена во FreeBSD-CURRENT и выключена
	    для стабильных веток и релизов, определяет возможность
	    появления мёртвых блокировок из-за ошибок их использования,
	    включая захват нескольких блокировок в различном порядке
	    в разных частях ядра.  Инфраструктура <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=witness&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">witness</span>(4)</span></a>
	    пытается обнаруживать эту проблему по мере её появления
	    и сообщает о ней на системную консоль в сообщении
	    <span class="errorname">lock order reversal</span> (которое также
	    часто называют <acronym class="acronym">LOR</acronym>).</p><p>В силу консервативности <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=witness&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">witness</span>(4)</span></a> возможны ложные
	    срабатывания.  При правильном срабатывании такое сообщение
	    <span class="emphasis"><em>не</em></span> означает, что система находится в
	    состоянии мёртвой блокировки; его следует рассматривать
	    как предупреждение о том, что в этом месте могла бы
	    произойти мёртвая блокировка.</p><div xmlns="" class="note"><h3 class="admontitle">Примечание: </h3><p xmlns="http://www.w3.org/1999/xhtml">Плохие <acronym class="acronym">LOR</acronym> обычно быстро
	      исправляют, поэтому перед написанием сообщения в списки
	      рассылки следует проверить архивы http://lists.FreeBSD.org/mailman/listinfo/freebsd-current.</p></div></td></tr><tr class="question"><td align="left" valign="top"><a id="idp74254800"></a><a id="called-with-non-sleepable-locks-held"></a><p><strong>5.11.</strong></p></td><td align="left" valign="top"><p>Что означают сообщения <span class="errorname">Called ... with
	    the following non-sleepable locks held</span>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Это означает, что функция, которая может находиться в
	      <span class="quote"><<<span class="quote">спящем</span>>></span> состоянии была вызвана во время
	      использования мьютекс (или другого не <span class="quote"><<<span class="quote">засыпающего</span>>></span>)
	      блокирования.</p><p>Причина этого - ошибка, потому что мьютексы не предполагают
	      находиться в удерживаемом состоянии длительные промежутки
	      времени, а блокировать только на короткие периоды синхронизации.
	      Это правило позволяет драйверам устройств использовать мьютексы
	      для синхронизации с остальной частью ядра во время прерываний.
	      Прерывания (во FreeBSD) могут находиться не в <span class="quote"><<<span class="quote">спящем
	      состоянии</span>>></span>.  Следовательно необходимо, чтобы не было
	      подсистем в ядре, которые бы занимались блокировкой длительный
	      период, используя мьютекс.</p><p>Для нахождения таких ошибок в ядро могут быть добавлены
	      assertions, которые будут взаимодействовать с подсистемой
	      <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=witness&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">witness</span>(4)</span></a>
	      для генерирования предупреждения или фатальной ошибки (в
	      зависимости от системной конфигурации) в случаях когда
	      производится потенциально блокирующий вызов с удержанием
	      мьютекса.</p><p>В общем, такие предупреждения не критичны, но тем не менее,
	      с неудачной синхронизацией (timing) они могут вызвать нежелательные
	      эффекты, начиная от незначительной задержки в ответной реакции системы
	      до полной блокировки системы.</p><p>Дополнительная информация о синхронизации во FreeBSD
	      находится на странице Справочника <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=locking&amp;sektion=9"><span class="citerefentry"><span class="refentrytitle">locking</span>(9)</span></a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp74261584"></a><a id="touch-not-found"></a><p><strong>5.12.</strong></p></td><td align="left" valign="top"><p>Почему процесс
	    <code class="buildtarget">buildworld</code>/<code class="buildtarget">installworld</code>
	    завершается с сообщением
	    <span class="errorname">touch: not found</span>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Эта ошибка не означает, что не найдена утилита <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=touch&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">touch</span>(1)</span></a>.
	    Ошибка наверняка появляется из-за того, что даты модификации файлов
	    установлены в будущем.  Если CMOS часы установлены на локальное
	    время, отрегулируйте часовой механизм ядра, запустив
	    команду <code class="command">adjkerntz -i</code> в
	    однопользовательском режиме.</p></td></tr></tbody></table></div></div><div class="chapter"><div xmlns="" class="titlepage"><div><div><h1 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="applications"></a>Глава 6. Прикладные программы</h1></div></div></div><div class="qandaset"><a id="idp74267216"></a><dl><dt>6.1. <a href="#idp74267472">Где находятся все прикладные программы?</a></dt><dt>6.2. <a href="#idp74272592">Как загрузить дерево Портов? Следует ли использовать
	    SVN?</a></dt><dt>6.3. <a href="#idp74287952">Поддерживает ли FreeBSD среду JavaTM?</a></dt><dt>6.4. <a href="#idp74291024">Почему этот порт не компилируется на моей машине с
	    9.X - или 10.X -STABLE?</a></dt><dt>6.5. <a href="#idp74297296">Я попытался сформировать файл INDEX
	    командой make index,
	    однако попытка окончилась неудачей.  Почему?</a></dt><dt>6.6. <a href="#idp74308048">Я обновил исходные тексты.  Как теперь обновить
	    установленные порты?</a></dt><dt>6.7. <a href="#idp74310608">Нужно ли мне перекомпилировать все порты каждый раз,
	    когда я выполняю мажорное обновление (со сменой старшей
	    версии FreeBSD)?</a></dt><dt>6.8. <a href="#idp74313936">Нужно ли мне перекомпилировать все порты каждый раз,
	    когда я выполняю минорное обновление (без изменения старшей
	    версии FreeBSD)?</a></dt><dt>6.9. <a href="#idp74316112">Почему возможности /bin/sh так малы?
	    Почему бы во FreeBSD не использовать bash или
	    какой-либо другой командный процессор?</a></dt><dt>6.10. <a href="#idp74334672">Как создать аудио-CD из файлов MIDI?</a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%" /><col /></colgroup><tbody><tr class="question"><td align="left" valign="top"><a id="idp74267472"></a><a id="user-apps"></a><p><strong>6.1.</strong></p></td><td align="left" valign="top"><p>Где находятся все прикладные программы?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Обратитесь на <a class="link" href="../../../../ports/index.html" target="_top">страницу портов</a>,
	    содержащую информацию о программных продуктах, перенесённых
	    во FreeBSD.  На данный момент в этом списке находится более
	    24,000 приложений и он ежедневно увеличивается, так
	    что почаще туда заглядывайте или подпишитесь на <a class="link" href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-announce" target="_top">Список рассылки анонсов FreeBSD</a>,
	    в котором публикуется информация о появлении новых
	    приложений.</p><p>Большинство портов должно нормально работать во всех
	    поддерживаемых версиях FreeBSD.  Неработающие порты
	    специально помечаются соответствующим образом.
	    При выходе нового релиза FreeBSD в него в каталог
	    <code class="filename">ports/</code> включается актуальная на
	    момент выхода Коллекция Портов.</p><p>FreeBSD умеет работать со сжатыми двоичными пакетами для
	    упрощения установки и удаления портов.  Используйте
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pkg&amp;sektion=7"><span class="citerefentry"><span class="refentrytitle">pkg</span>(7)</span></a> для управления процессом установки
	    пакетов.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp74272592"></a><a id="how-do-download-ports-tree"></a><p><strong>6.2.</strong></p></td><td align="left" valign="top"><p>Как загрузить дерево Портов? Следует ли использовать
	    SVN?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Любым из указанных способов:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Используйте portsnap в большинстве случаев.
		Обратитесь к разделу <a class="link" href="../../../../doc/ru_RU.KOI8-R/books/handbook/ports-using.html" target="_top">Использование
		  Коллекции Портов</a> для получения инструкций по
		использованию этого инструмента.</p></li><li class="listitem"><p>Используйте SVN, если нужны собственные патчи для
		дерева портов.  Обратитесь к разделу <a class="link" href="../../../../doc/ru_RU.KOI8-R/books/handbook/svn.html" target="_top">Использование
		  Subversion</a> для получения дополнительной
		информации.</p></li><li class="listitem"><p>Используйте <acronym class="acronym">CTM</acronym> как это описано
		в разделе <a class="link" href="../../../../doc/ru_RU.KOI8-R/books/handbook/ctm.html" target="_top">Использование
		  <acronym class="acronym">CTM</acronym></a> для получения
		изменений по почте при нестабильном соединении.</p></li></ul></div></td></tr><tr class="question"><td align="left" valign="top"><a id="idp74287952"></a><a id="java"></a><p><strong>6.3.</strong></p></td><td align="left" valign="top"><p>Поддерживает ли FreeBSD среду <span class="trademark">Java</span>TM?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Да.  Для получения дополнительной информации посетите
	    страницу <a class="link" href="../../../../java/index.html" target="_top">http://www.FreeBSD.org/java/</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp74291024"></a><a id="ports-4x"></a><p><strong>6.4.</strong></p></td><td align="left" valign="top"><p>Почему этот порт не компилируется на моей машине с
	    9.<em class="replaceable"><code>X</code></em> - или 10.<em class="replaceable"><code>X</code></em> -STABLE?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Если установленная версия FreeBSD, значительно отстаёт от
	    <span class="emphasis"><em>-CURRENT</em></span> или <span class="emphasis"><em>-STABLE</em></span>,
	    обновите Коллекцию Портов с использованием указаний в
	    разделе <a class="link" href="../../../../doc/ru_RU.KOI8-R/books/handbook/ports-using.html" target="_top">Использование
	      Коллекции Портов</a>.  Если система в актуальном
	    состоянии, значит кто-то мог внести изменение в
	    порт, с которым он работает в <span class="emphasis"><em>-CURRENT</em></span>,
	    но не работает в <span class="emphasis"><em>-STABLE</em></span>.  <a class="link" href="https://bugs.FreeBSD.org/submit/" target="_top">Пошлите</a>
	    сообщение об ошибке, так как Коллекция Портов должна
	    работать как в <span class="emphasis"><em>-CURRENT</em></span>, так и в
	    ветках <span class="emphasis"><em>-STABLE</em></span>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp74297296"></a><a id="make-index"></a><p><strong>6.5.</strong></p></td><td align="left" valign="top"><p>Я попытался сформировать файл <code class="filename">INDEX</code>
	    командой <code class="command">make index</code>,
	    однако попытка окончилась неудачей.  Почему?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Первым делом убедитесь, что Коллекция Портов
	    находится в актуальном состоянии.  Ошибки, которые отражаются на
	    построении файла <code class="filename">INDEX</code> из актуальной копии
	    Коллекции Портов, бросаются в глаза и поэтому практически всегда
	    исправляются немедленно.</p><p>В редких случаях <code class="filename">INDEX</code> не перестраивается
	    из-за странных комбинаций значений переменных
	    <code class="varname">WITH_<em class="replaceable"><code>*</code></em></code> или
	    <code class="varname">WITHOUT_<em class="replaceable"><code>*</code></em></code>, заданных в
	    файле <code class="filename">make.conf</code>.  Если вы думаете, что это ваш
	    случай, прежде чем сообщать об этом в <a class="link" href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-ports" target="_top">Список рассылки, посвящённый Портам FreeBSD</a>, попытайтесь
	    сформировать <code class="filename">INDEX</code> с
	    отключенными значениями этих переменных.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp74308048"></a><a id="ports-update"></a><p><strong>6.6.</strong></p></td><td align="left" valign="top"><p>Я обновил исходные тексты.  Как теперь обновить
	    установленные порты?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>С FreeBSD не поставляется инструмент обновления портов,
	    но есть несколько инструментов, немного облегчающих этот
	    процесс.  Кроме того, для упрощения работы с портами
	    доступны дополнительные инструменты; смотрите раздел
	    Руководства FreeBSD <a class="link" href="../../../../doc/ru_RU.KOI8-R/books/handbook/ports-using.html" target="_top">Использование
	      Коллекции Портов</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp74310608"></a><a id="ports-major-upgrade"></a><p><strong>6.7.</strong></p></td><td align="left" valign="top"><p>Нужно ли мне перекомпилировать все порты каждый раз,
	    когда я выполняю мажорное обновление (со сменой старшей
	    версии FreeBSD)?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Да!  На свежеобновленной системе программное
	    обеспечение, скомпилированное под более старый релиз, будет
	    по прежнему работать, но только до тех пор, пока вы не начнете
	    устанавливать другие порты или обновлять существующие.</p><p>Когда система обновлена, различные совместно используемые
	    библиотеки, загружаемые модули и другие части системы замещаются
	    более новыми версиями.  Приложения, скомпонованные с более
	    старыми версиями, могут перестать запускаться либо начнут
	    функционировать неправильно.</p><p>Для получения дополнительной информации обращайтесь к <a class="link" href="../../../../doc/en_US.ISO8859-1/books/handbook/updating-upgrading-freebsdupdate.html#freebsdupdate-upgrade" target="_top">разделу,
	    посвящённому обновлениям,</a> руководства FreeBSD.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp74313936"></a><a id="ports-minor-upgrade"></a><p><strong>6.8.</strong></p></td><td align="left" valign="top"><p>Нужно ли мне перекомпилировать все порты каждый раз,
	    когда я выполняю минорное обновление (без изменения старшей
	    версии FreeBSD)?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>В общем случае, нет.  Разработчики FreeBSD делают всё
	    возможное для сохранения двоичной совместимости между всеми
	    релизами в пределах одной старшей версии.  Любые исключения
	    из этого правила документируются в "Примечаниях к релизу", и
	    там же даются советы, которых следует придерживаться.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp74316112"></a><a id="minimal-sh"></a><p><strong>6.9.</strong></p></td><td align="left" valign="top"><p>Почему возможности <code class="command">/bin/sh</code> так малы?
	    Почему бы во FreeBSD не использовать <code class="command">bash</code> или
	    какой-либо другой командный процессор?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Многим
	    требуется, чтобы разрабатываемые скрипты для командного процессора
	    были переносимы между многими системами.  Именно поэтому в <span class="trademark">POSIX</span>(R)
	    очень подробно описан командный процессор и набор утилит.
	    Большинство скриптов пишутся на языке процессора Bourne shell
	    (<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sh&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">sh</span>(1)</span></a>), к
	    тому же некоторые важные программные вызовы (<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=make&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">make</span>(1)</span></a>,
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=system&amp;sektion=3"><span class="citerefentry"><span class="refentrytitle">system</span>(3)</span></a>, <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=popen&amp;sektion=3"><span class="citerefentry"><span class="refentrytitle">popen</span>(3)</span></a> и их аналоги на языках скриптов
	    высокого уровня, таких как Perl или Tcl) предполагают для
	    интерпретации команд использование именно Bourne shell.  Так как
	    Bourne shell используется столь широко и часто, то очень важно,
	    чтобы он стартовал очень быстро, его поведение было строго
	    регламентировано и при этом потребности в оперативной памяти были
	    малы.</p><p>В имеющейся реализации мы приложили максимум усилий для
	    воплощения в жизнь всех этих требований одновременно.  Для того,
	    чтобы сохранить <code class="command">/bin/sh</code> небольшим по размеру,
	    мы не включили многие из обычных возможностей, которые имеются в
	    других командных процессорах.  Для этого имеются в наличии
	    командные процессоры, обладающие гораздо большими возможностями,
	    такие как <code class="command">bash</code>, <code class="command">scsh</code>,
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=tcsh&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">tcsh</span>(1)</span></a> и <code class="command">zsh</code>.  Сравните
	    использование памяти этими оболочками, посмотрев в колонки
	    <span class="quote"><<<span class="quote">VSZ</span>>></span> и <span class="quote"><<<span class="quote">RSS</span>>></span> вывода команды
	    <code class="command">ps -u</code>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp74334672"></a><a id="midi-sound-files"></a><p><strong>6.10.</strong></p></td><td align="left" valign="top"><p>Как создать аудио-CD из файлов MIDI?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Для создания аудио-CD из MIDI-файлов сначала установите из
	    портов программу <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/audio/timidity++/pkg-descr">audio/timidity++</a>, затем установите набор
	    патчей GUS от Эрика Уэлша (Eric A. Welsh), доступный по адресу
	    <code class="uri"><a class="uri" href="http://alleg.sourceforge.net/digmid.html" target="_top">http://alleg.sourceforge.net/digmid.html</a></code>.  После корректной установки
	    <span class="application">TiMidity++</span> MIDI-файлы могут
	    быть преобразованы в WAV-файлы следующей командой:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>timidity -Ow -s 44100 -o /tmp/juke/01.wav 01.mid</code></strong></pre><p>WAV-файлы затем могут быть преобразованы в другие форматы или
	    записаны как аудио-CD, что описано в <a class="link" href="../../../../doc/ru_RU.KOI8-R/books/handbook/creating-cds.html" target="_top">Руководстве
	    FreeBSD</a>.</p></td></tr></tbody></table></div></div><div class="chapter"><div xmlns="" class="titlepage"><div><div><h1 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="kernelconfig"></a>Глава 7. Конфигурирование ядра</h1></div></div></div><div class="qandaset"><a id="idp74345168"></a><dl><dt>7.1. <a href="#idp74345424">Я хочу изменить настройки ядра.  Это сложно?</a></dt><dt>7.2. <a href="#idp74350032">Почему моё ядро такое большое?</a></dt><dt>7.3. <a href="#idp74370128">Почему мне не удаётся откомпилировать ни один вариант ядра,
	    даже GENERIC?</a></dt><dt>7.4. <a href="#idp74378576">Какой планировщик используется
	    в работающей системе?</a></dt><dt>7.5. <a href="#idp74390352">Что такое kern.sched.quantum?</a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%" /><col /></colgroup><tbody><tr class="question"><td align="left" valign="top"><a id="idp74345424"></a><a id="make-kernel"></a><p><strong>7.1.</strong></p></td><td align="left" valign="top"><p>Я хочу изменить настройки ядра.  Это сложно?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Вовсе нет! Обратитесь к <a class="link" href="../../../../doc/ru_RU.KOI8-R/books/handbook/kernelconfig.html" target="_top">соответствующему
	    разделу</a> Руководства, который посвящён этому вопросу.</p><div xmlns="" class="note"><h3 class="admontitle">Примечание: </h3><p xmlns="http://www.w3.org/1999/xhtml">Новый файл <code class="filename">kernel</code> будет установлен
	      в каталог <code class="filename">/boot/kernel</code>
	      вместе со своими
	      модулями, а старое ядро и его модули будут сдвинуты в каталог
	      <code class="filename">/boot/kernel.old</code>.  Если сделана
	      ошибка в конфигурации, просто загрузите предыдущую
	      версию ядра.</p></div></td></tr><tr class="question"><td align="left" valign="top"><a id="idp74350032"></a><a id="why-kernel-big"></a><p><strong>7.2.</strong></p></td><td align="left" valign="top"><p>Почему моё ядро такое большое?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Конфигурация ядра <code class="literal">GENERIC</code>, которая
	    содержится в дистрибутиве FreeBSD, компилируется в
	    <span class="emphasis"><em>отладочном режиме</em></span>.  В таком режиме
	    ядра содержат много символьной информации в разных файлах,
	    которая используется для отладки и сильно увеличивает размер
	    <code class="filename">/boot/kernel/</code>.
	    Заметьте, что уменьшения
	    производительности при использовании отладочного ядра нет или
	    оно незначительно, однако отладочное ядро полезно иметь под
	    рукой на случай аварийного завершения работы системы.</p><p>Однако при нехватке дискового пространства существует
	    несколько вариантов уменьшения размера <code class="filename">&gt;/boot/kernel/</code>.</p><p>Чтобы не устанавливать файлы с символьной
	    информацией, убедитесь в наличии следующей строки в
	    <code class="filename">/etc/src.conf</code>:</p><pre class="programlisting">WITHOUT_KERNEL_SYMBOLS=yes</pre><p>Для получения дополнительной информации смотрите страницу
	    Справочника <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=src.conf&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">src.conf</span>(5)</span></a>.</p><p>Если вы не хотите компилировать отладочное ядро,
	    убедитесь в выполнении следующих условий:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>В конфигурационном файле ядра нет такой 
		строчки:</p><pre class="programlisting">makeoptions DEBUG=-g</pre></li><li class="listitem"><p>Вы не запускали утилиту <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=config&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">config</span>(8)</span></a> с опцией
		<code class="option">-g</code>.</p></li></ul></div><p>В любой из вышеописанных ситуаций ядро будет построено с
	    отладочным режимом.</p><p>Чтобы скомпилировать и установить только нужные модули,
	    укажите их в <code class="filename">/etc/make.conf</code>:</p><pre class="programlisting">MODULES_OVERRIDE= <em class="replaceable"><code>accf_http ipfw</code></em></pre><p>Замените <span class="emphasis"><em>accf_httpd ipfw</em></span> на нужный
	    список модулей.  Это уменьшит размер каталога с ядром, а
	    также время сборки.  Для получения дополнительной информации
	    почитайте <code class="filename">/usr/share/examples/etc/make.conf</code>.
	  </p><p>Для дальнейшего уменьшения размера также можно удалить
	    ненужные устройства из ядра.  Для получения дополнительной
	    информации смотрите <a class="xref" href="#make-kernel" title="7.1.">Вопрос: 7.1</a>.</p><p>Для вступления любого из этих действий в силу следуйте
	    указаниям по <a class="link" href="../../../../doc/ru_RU.KOI8-R/books/handbook/kernelconfig-building.html" target="_top">сборке
	      и установке</a> нового ядра.</p><p>Большинство ядер (<code class="filename">/boot/kernel/kernel</code>),
	    как правило, занимают от 12 до 16 Мбайт.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp74370128"></a><a id="generic-kernel-build-failure"></a><p><strong>7.3.</strong></p></td><td align="left" valign="top"><p>Почему мне не удаётся откомпилировать ни один вариант ядра,
	    даже <code class="filename">GENERIC</code>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Есть несколько причин, приводящих к возникновению этой
	    проблемы:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Дерево исходных текстов отличается от того, что
		использовалось для построения работающей в данный
		момент системы.  Перед обновлением прочитайте
		файл <code class="filename">/usr/src/UPDATING</code>,
		обращая особое внимание на раздел
		<span class="quote"><<<span class="quote">COMMON ITEMS</span>>></span> в его конце.</p></li><li class="listitem"><p>Команда <code class="command">make buildkernel</code>
		не завершилась успешно.
		Корректное выполнение цели
		<code class="command">make buildkernel</code>
		зависит от файлов, полученных после выполнения
		<code class="command">make buildworld</code>.</p></li><li class="listitem"><p>Даже при построении <a class="link" href="#stable" title="1.9.">FreeBSD-STABLE</a> возможно, что
		дерево исходных текстов было загружено в тот момент,
		когда оно модифицировалось или было неработоспособно.
		Построение гарантируется только для релизов, хотя в
		большинстве случаев <a class="link" href="#stable" title="1.9.">FreeBSD-STABLE</a>
		строится без проблем.  Попробуйте сгрузить дерево
		исходных текстов повторно и посмотрите, разрешилась
		ли проблема.  Если с сервером есть проблемы,
		попробуйте другое зеркало.</p></li></ul></div></td></tr><tr class="question"><td align="left" valign="top"><a id="idp74378576"></a><a id="scheduler-in-use"></a><p><strong>7.4.</strong></p></td><td align="left" valign="top"><p>Какой планировщик используется
	    в работающей системе?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Название используемого планировщика доступно напрямую
	    в виде значения sysctl-параметра
	    <code class="varname">kern.sched.name</code>:</p><pre class="screen"><code class="prompt">%</code> sysctl <em class="replaceable"><code>kern.sched.name</code></em>
kern.sched.name: ULE</pre></td></tr><tr class="question"><td align="left" valign="top"><a id="idp74390352"></a><a id="scheduler-kern-quantum"></a><p><strong>7.5.</strong></p></td><td align="left" valign="top"><p>Что такое <code class="varname">kern.sched.quantum</code>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><code class="varname">kern.sched.quantum</code> определяет максимальное
	    количество тактов, которое процесс может выполняться, не будучи
	    прерванным.</p></td></tr></tbody></table></div></div><div class="chapter"><div xmlns="" class="titlepage"><div><div><h1 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="disks"></a>Глава 8. Диски, файловые системы и начальные загрузчики</h1></div></div></div><div class="qandaset"><a id="idp74394064"></a><dl><dt>8.1. <a href="#idp74394320">Как добавить в систему новый диск?</a></dt><dt>8.2. <a href="#idp74405200">Как перенести систему на большой новый диск?</a></dt><dt>8.3. <a href="#idp74447824">На каких разделах можно без опаски использовать механизм
	    Soft Updates?  Я слышал, что использование Soft Updates на
	    / могут приводить к
	    проблемам.  Что насчёт журналируемых Soft Updates?</a></dt><dt>8.4. <a href="#idp74460496">Можно ли смонтировать другие файловые системы?</a></dt><dt>8.5. <a href="#idp74476112">Как смонтировать вторичный раздел DOS?</a></dt><dt>8.6. <a href="#idp74480592">Существует ли криптографическая файловая система для
	    FreeBSD?</a></dt><dt>8.7. <a href="#idp74489040">Как загрузить FreeBSD и Linux(R) с помощью
	    GRUB?</a></dt><dt>8.8. <a href="#idp74500816">Как загрузить FreeBSD и Linux(R) с помощью
	    BootEasy?</a></dt><dt>8.9. <a href="#idp74507344">Как сменить приглашение загрузчика с ??? на
	    что-нибудь более значащее?</a></dt><dt>8.10. <a href="#idp74510288">Как использовать устройство для чтения сменных дисков?</a></dt><dt>8.11. <a href="#idp74521808">При монтировании компакт-диска выдаётся сообщение
	    Incorrect super block.</a></dt><dt>8.12. <a href="#idp74533072">При монтировании компакт-диска выдаётся сообщение
	    Device not configured.</a></dt><dt>8.13. <a href="#idp74536016">Когда я монтирую CD-ROM, все неанглийские символы в именах
	    файлов выводятся как <<?>>.</a></dt><dt>8.14. <a href="#idp74539344">Записанный во FreeBSD CD не читается ни в какой
	    другой операционной системой.  Почему?</a></dt><dt>8.15. <a href="#idp74550224">Как создать образ CD с данными?</a></dt><dt>8.16. <a href="#idp74553296">Почему я не могу смонтировать (командой
	    mount аудио CD?</a></dt><dt>8.17. <a href="#idp74561232">Как выполнить mount для многосеансового
	    CD?</a></dt><dt>8.18. <a href="#idp74565584">Как разрешить обычным пользователям монтировать
	    компакт-диски, DVD, USB-диски и другие сменные носители?</a></dt><dt>8.19. <a href="#idp74595280">Команды du и df
	    показывают разный объем доступного дискового пространства.
	    Что происходит?</a></dt><dt>8.20. <a href="#idp74610000">Как добавить дополнительную виртуальную память?</a></dt><dt>8.21. <a href="#idp74612688">Почему FreeBSD считает, что размер моего диска меньше, чем
	    заявляет его производитель?</a></dt><dt>8.22. <a href="#idp74619856">Почему возможно заполнение раздела больше чем на 100%?</a></dt><dt>8.23. <a href="#idp74626384">Почему загрузка FreeBSD задерживается на длительное время
	    на системах с большим объёмом ОЗУ?</a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%" /><col /></colgroup><tbody><tr class="question"><td align="left" valign="top"><a id="idp74394320"></a><a id="adding-disks"></a><p><strong>8.1.</strong></p></td><td align="left" valign="top"><p>Как добавить в систему новый диск?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Обратитесь к разделу <a class="link" href="../../../../doc/ru_RU.KOI8-R/books/handbook/disks-adding.html" target="_top">Добавление
	    дисков</a> Руководства FreeBSD.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp74405200"></a><a id="new-huge-disk"></a><p><strong>8.2.</strong></p></td><td align="left" valign="top"><p>Как перенести систему на большой новый диск?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Самый лучший способ заключается в переустановке
	    операционной системы на новый диск с последующим переносом
	    пользовательских данных.  Это настоятельно рекомендуется
	    при отслеживании ветки <span class="emphasis"><em>-STABLE</em></span> в
	    течение более одного релиза или при обновлении релиза
	    вместо установки нового.  Установите booteasy на оба диска
	    с помощью <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=boot0cfg&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">boot0cfg</span>(8)</span></a> и выполняйте загрузку с любого
	    из них, пока не будете довольны новой конфигурацией.
	    Пропустите следующий абзац, чтобы перейти к вопросу
	    переноса данных после этой операции.</p><p>Либо разбейте на разделы и разметьте новый диск с
	    помощью <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sade&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sade</span>(8)</span></a> или <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=gpart&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">gpart</span>(8)</span></a>.  Если диски
	    отформатированы в MBR, то booteasy можно установить на оба
	    диска с помощью <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=boot0cfg&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">boot0cfg</span>(8)</span></a> для того, чтобы иметь
	    возможность выполнять загрузку как старой, так и новой
	    системы после выполнения копирования.</p><p>После подготовки диска данные нельзя просто так взять
	    и перенести.  Используйте для этого инструменты,
	    которые учитывают файлы устройств и системные флаги,
	    например, <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dump&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">dump</span>(8)</span></a>.  И хотя рекомендуется выполнять
	    перенос данных в однопользовательском режиме, это не
	    является обязательным условием.</p><p>Если на дисках стоит <acronym class="acronym">UFS</acronym>, никогда
	    не используйте ничего, кроме <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dump&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">dump</span>(8)</span></a> и <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=restore&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">restore</span>(8)</span></a>
	    для переноса корневой файловой системы.  Эти команды
	    также следует использовать при переносе отдельного раздела
	    на другой пустой раздел.  Последовательность шагов при
	    использовании <code class="command">dump</code> для переноса данных
	    с раздела <acronym class="acronym">UFS</acronym> на новый раздел:</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>выполните команду <code class="command">newfs</code> над новым
		разделом.</p></li><li class="step"><p>командой <code class="command">mount</code> смонтируйте его во
		временный каталог.</p></li><li class="step"><p>командой <code class="command">cd</code> перейдите в этот
		каталог.</p></li><li class="step"><p>выполните команду <code class="command">dump</code> над старым
		разделом, направив вывод в новый раздел.</p></li></ol></div><p>Например, чтобы перенести корневую файловую
	    систему на устройство <code class="filename">/dev/ada1s1a</code>
	    с использованием каталога <code class="filename">/mnt</code>
	    в качестве временной точки монтирования, наберите:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>newfs /dev/ad1as1a</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>mount /dev/ad1as1a /mnt</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>cd /mnt</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>dump 0af - / | restore rf -</code></strong></pre><p>Переразбиение разделов с использованием
	    <code class="command">dump</code> требует несколько
	    больше усилий.  Для объединения раздела типа
	    <code class="filename">/var</code> с его вышестоящим
	    разделом, создайте новый
	    раздел, достаточно большой для размещения их обоих, переместите
	    вышестоящий раздел так, как это описано выше, а затем переместите
	    нижестоящий раздел в пустой каталог, созданный при первом
	    перемещении:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>newfs /dev/ada1s1a</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>mount /dev/ad1as1a /mnt</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>cd /mnt</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>dump 0af - / | restore rf -</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>cd var</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>dump 0af - /var | restore rf -</code></strong></pre><p>Для отделения каталога от вышестоящего, скажем, для
	    размещения <code class="filename">/var</code> в
	    собственном разделе, которого не было,
	    создайте оба раздела, затем смонтируйте нижестоящий раздел в
	    подходящий каталог во временную точку монтирования, а затем
	    переместите старый единый раздел:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>newfs /dev/ada1s1a</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>newfs /dev/ada1s1d</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>mount /dev/ada1s1a /mnt</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>mkdir /mnt/var</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>mount /dev/ada1s1d /mnt/var</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>cd /mnt</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>dump 0af - / | restore rf -</code></strong></pre><p>Для перемещения пользовательских данных также имеются
	    программы <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=cpio&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">cpio</span>(1)</span></a> и <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pax&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">pax</span>(1)</span></a>.  Известно, что они
	    теряют информацию о флагах файлов, так что используйте их
	    с осторожностью.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp74447824"></a><a id="safe-softupdates"></a><p><strong>8.3.</strong></p></td><td align="left" valign="top"><p>На каких разделах можно без опаски использовать механизм
	    Soft Updates?  Я слышал, что использование Soft Updates на
	    <code class="filename">/</code> могут приводить к
	    проблемам.  Что насчёт журналируемых Soft Updates?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Краткий ответ: обычно Soft Updates можно использовать
	    без опаски на всех разделах.</p><p>Подробный ответ: Soft Updates имеют две характеристики,
	    которые могут быть нежелательны на некоторых разделах.  Во-первых,
	    раздел с Soft Updates имеет небольшой шанс потери данных по время
	    аварийного останова системы.  Раздел не будет попорчен,
	    поскольку данные будет просто потеряны.  Во-вторых, Soft Updates могут приводить к
	    временной нехватке дискового пространства.</p><p>При использовании Soft Updates ядро может задерживать
	    до тридцати секунд запись изменений на физический диск.
	    При удалении большого файла он остается на диске, пока
	    ядро не выполнит фактическое удаление.  Это может привести
	    к очень простой гонке.  Предположим, удаляется один
	    большой файл и тут же создаётся другой большой файл.
	    Первый файл на самом деле ещё не удалён с диска, поэтому
	    для второго файла на диске может не хватить места.  Это
	    приведёт к ошибке о том, что на разделе нет достаточного
	    пространства, несмотря на то, что только что освободилось
	    много места.  Через пару секунд создание файла сработает,
	    как и ожидалось.</p><p>Если система может аварийно остановиться после того, как ядро
	    примет набор данных для записи на диск, но перед тем, как данные
	    реально запишутся, то данные могут потеряться.
	    Такой риск чрезвычайно мал, но в целом управляем.</p><p>Эти проблемы влияют на все разделы, использующие Soft Updates.
	    Итак, что это означает для корневого раздела?</p><p>Жизненно важная информация на корневом разделе меняется очень
	    редко.  Если в системе
	    произойдет сбой в период тридцатисекундного окна после выполнения
	    такого изменения, возможно, что данные окажутся потерянными.  Этот
	    риск незначителен для большинства применений, но его нужно
	    учитывать.  Если система не может принять такой риск,
	    не используйте Soft Updates с корневой файловой системой!</p><p><code class="filename">/</code> традиционно
	    является одним из самых маленьких разделов.  Если каталог
	    <code class="filename">/tmp</code> размещён в <code class="filename">/</code> и у
	    вас заполнен <code class="filename">/tmp</code>, то могут
	    периодически возникать проблемы с дисковым пространством.
	    Создание символической ссылки <code class="filename">/tmp</code>,
	    указывающей на <code class="filename">/var/tmp</code> решит эту проблему.</p><p>В заключение, <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dump&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">dump</span>(8)</span></a> не работает в режиме реального
	    времени (-L) с файловой системой, для которой включены
	    журналируемые Soft Updates (<acronym class="acronym">SU+J</acronym>).</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp74460496"></a><a id="mount-foreign-fs"></a><p><strong>8.4.</strong></p></td><td align="left" valign="top"><p>Можно ли смонтировать другие файловые системы?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>FreeBSD поддерживает ряд других файловых систем.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">UFS</span></dt><dd><p>Компакт-диски с файловой системой UFS могут быть
		  смонтированы без всяких проблем.  Монтирование файловых
		  систем Digital UNIX или других систем, поддерживающих UFS,
		  может быть более сложным, в зависимости от особенностей
		  разбиения диска конкретной операционной системой.</p></dd><dt><span class="term">ext2/ext3</span></dt><dd><p>FreeBSD поддерживает разделы <code class="literal">ext2fs</code>
		  и <code class="literal">ext3fs</code>.
		  За дополнительной информацией обратитесь к странице
		  Справочника <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ext2fs&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">ext2fs</span>(5)</span></a>.</p></dd><dt><span class="term">NTFS</span></dt><dd><p>Поддержка NTFS через FUSE доступна через порт
		  <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/sysutils/fusefs-ntfs/pkg-descr">sysutils/fusefs-ntfs</a>.
		  Для получения более полной информации смотрите
		  документацию к <a class="link" href="http://www.tuxera.com/community/ntfs-3g-manual/" target="_top"><span class="application">ntfs-3g</span></a>.</p></dd><dt><span class="term">FAT</span></dt><dd><p>Во FreeBSD имеется драйвер для работы с FAT в режиме
		  чтения-записи.  Для получения дополнительной информации
		  обратитесь к странице справочника <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mount_msdosfs&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mount_msdosfs</span>(8)</span></a>.</p></dd><dt><span class="term">ZFS</span></dt><dd><p>FreeBSD включает в себя портированную из <span class="trademark">Sun</span>TM
		  реализацию файловой системы ZFS.  В настоящее время
		  рекомендуется использовать её только на платформе
		  amd64 с достаточным объемом памяти.  Для получения
		  более полной информации обратитесь к странице Справочника
		  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=zfs&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">zfs</span>(8)</span></a>.</p></dd></dl></div><p>FreeBSD включает сетевую файловую систему
	      <acronym class="acronym">NFS</acronym>.  В Коллекции портов FreeBSD имеется
	    несколько приложений FUSE для поддержки многих других
	    файловых систем.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp74476112"></a><a id="mount-dos"></a><p><strong>8.5.</strong></p></td><td align="left" valign="top"><p>Как смонтировать вторичный раздел DOS?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Вторичные разделы DOS находятся после <span class="emphasis"><em>всех</em></span>
	    первичных разделов.
	    Например, если <span class="quote"><<<span class="quote">E</span>>></span> является вторым разделом
	    DOS на втором диске SCSI, то здесь будет файл устройства для
	    пятого <span class="quote"><<<span class="quote">слайса</span>>></span> в каталоге <code class="filename">/dev</code>.
	    Чтобы смонтировать:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mount -t msdosfs /dev/da1s5 /dos/e</code></strong></pre></td></tr><tr class="question"><td align="left" valign="top"><a id="idp74480592"></a><a id="crypto-filesystem"></a><p><strong>8.6.</strong></p></td><td align="left" valign="top"><p>Существует ли криптографическая файловая система для
	    FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Да, <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=gbde&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">gbde</span>(8)</span></a> и <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=geli&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">geli</span>(8)</span></a>.
	    Смотрите раздел <a class="link" href="../../../../doc/ru_RU.KOI8-R/books/handbook/disks-encrypting.html" target="_top">Шифрование
	      дисковых разделов</a> Руководства FreeBSD.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp74489040"></a><a id="grub-loader"></a><p><strong>8.7.</strong></p></td><td align="left" valign="top"><p>Как загрузить FreeBSD и <span class="trademark">Linux</span>(R) с помощью
	    <span class="application">GRUB</span>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Для загрузки FreeBSD с использованием
	    <span class="application">GRUB</span> добавьте следующие строки
	    в <code class="filename">/boot/grub/menu.lst</code> или
	    <code class="filename">/boot/grub/grub.conf</code>, в зависимости
	    от используемого дистрибутива <span class="trademark">Linux</span>(R).</p><pre class="programlisting">title FreeBSD 9.1
root <em class="replaceable"><code>(hd0,a)</code></em>
kernel /boot/loader</pre><p>Где <em class="replaceable"><code>hd0,a</code></em> указывает на
	    корневой раздел на первом диске.  Чтобы указать номер
	    слайса, напишите что-то вроде
	    <em class="replaceable"><code>(hd0,2,a)</code></em>.  По умолчанию, если
	    номер слайса не указан, <span class="application">GRUB</span>
	    ищет первый слайс c разделом <code class="literal">a</code>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp74500816"></a><a id="booteasy-loader"></a><p><strong>8.8.</strong></p></td><td align="left" valign="top"><p>Как загрузить FreeBSD и <span class="trademark">Linux</span>(R) с помощью
	    <span class="application">BootEasy</span>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Установите LILO в начало загрузочного раздела <span class="trademark">Linux</span>(R),
	    а не в Master Boot Record.  После этого LILO можно будет
	    запустить LILO из <span class="application">BootEasy</span>.</p><p>Это рекомендуется делать при одновременном
	    использовании <span class="trademark">Windows</span>(R) и <span class="trademark">Linux</span>(R), чтобы упростить
	    восстановление работоспособности <span class="trademark">Linux</span>(R) в случае
	    переустановки <span class="trademark">Windows</span>(R).</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp74507344"></a><a id="changing-bootprompt"></a><p><strong>8.9.</strong></p></td><td align="left" valign="top"><p>Как сменить приглашение загрузчика с <code class="literal">???</code> на
	    что-нибудь более значащее?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Этого нельзя сделать со стандартным загрузчиком, не
	    переписав его.  В категории <code class="filename">sysutils</code>
	    Коллекции Портов есть ряд других менеджеров
	    загрузки.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp74510288"></a><a id="removable-drives"></a><p><strong>8.10.</strong></p></td><td align="left" valign="top"><p>Как использовать устройство для чтения сменных дисков?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Если у вас уже есть файловая система на устройстве,
	    то используйте такую команду:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mount -t msdosfs /dev/da0s1 /mnt</code></strong></pre><p>Если это устройство будет использоваться только на
	    системах FreeBSD, то разбейте его на разделы
	    <acronym class="acronym">UFS</acronym> или <acronym class="acronym">ZFS</acronym>.  Это
	    обеспечит поддержку длинных имён файлов, увеличение
	    производительности и надёжность.  Если устройство будет
	    использоваться с другими операционными системами, то лучше
	    сделать более совместимый выбор, например, msdosfs.</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>dd if=/dev/zero of=/dev/da0 count=2</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>gpart create -s GPT /dev/da0</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>gpart add -t freebsd-ufs /dev/da0</code></strong></pre><p>Наконец, остаётся создать новую файловую систему:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>newfs /dev/da0p1</code></strong></pre><p>и смонтировать её:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mount /dev/da0s1 /mnt</code></strong></pre><p>Хорошо ещё добавить строку в файл
	    <code class="filename">/etc/fstab</code> (прочтите справку по <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=fstab&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">fstab</span>(5)</span></a>),
	    чтобы в будущем можно было просто давать команду
	    <code class="command">mount /mnt</code>:</p><pre class="programlisting">/dev/da0p1 /mnt ufs rw,noauto 0 0</pre></td></tr><tr class="question"><td align="left" valign="top"><a id="idp74521808"></a><a id="mount-cd-superblock"></a><p><strong>8.11.</strong></p></td><td align="left" valign="top"><p>При монтировании компакт-диска выдаётся сообщение
	    <span class="errorname">Incorrect super block</span>.</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Необходимо указать тип монтируемого устройства.
	    Это описано в в разделе Руководства <a class="link" href="../../../../doc/ru_RU.KOI8-R/books/handbook/creating-cds.html#mounting-cd" target="_top">Использование
	      CD с данными</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp74533072"></a><a id="cdrom-not-configured"></a><p><strong>8.12.</strong></p></td><td align="left" valign="top"><p>При монтировании компакт-диска выдаётся сообщение
	    <code class="literal">Device not configured</code>.</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Обычно это означает, что в приводе нет компакт-диска либо
	    устройство не обнаружено на шине.  Обратитесь к разделу
	    <a class="link" href="../../../../doc/ru_RU.KOI8-R/books/handbook/creating-cds.html#mounting-cd" target="_top">
	    Использование CD с данными</a> в Руководстве, где подробно
	    обсуждается этот вопрос.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp74536016"></a><a id="cdrom-unicode-filenames"></a><p><strong>8.13.</strong></p></td><td align="left" valign="top"><p>Когда я монтирую CD-ROM, все неанглийские символы в именах
	    файлов выводятся как <span class="quote"><<<span class="quote">?</span>>></span>.</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Скорее всего, на компакт-диске для хранения информации о
	    файлах и каталогах используется расширение <span class="quote"><<<span class="quote">Joliet</span>>></span>.
	    Это описано в разделе Руководства об <a class="link" href="../../../../doc/ru_RU.KOI8-R/books/handbook/creating-cds.html#mounting-cd" target="_top">использовании
	      CD с данными</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp74539344"></a><a id="burncd-isofs"></a><p><strong>8.14.</strong></p></td><td align="left" valign="top"><p>Записанный во FreeBSD CD не читается ни в какой
	    другой операционной системой.  Почему?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Это означает, что на CD был записан непосредственно
	    необработанный файл без создания файловой системы
	    ISO 9660.  Прочтите раздел Руководства о <a class="link" href="../../../../doc/ru_RU.KOI8-R/books/handbook/creating-cds.html#rawdata-cd" target="_top">записи
	      данных непосредственно на компакт-диски</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp74550224"></a><a id="copy-cd"></a><p><strong>8.15.</strong></p></td><td align="left" valign="top"><p>Как создать образ CD с данными?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Это описано в разделе Руководства о <a class="link" href="../../../../doc/ru_RU.KOI8-R/books/handbook/creating-cds.html#imaging-cd" target="_top">копировании
	      CD с данными</a>.  Более полную информацию о работе с
	    компакт-дисками можно найти в разделе о <a class="link" href="../../../../doc/ru_RU.KOI8-R/books/handbook/creating-cds.html" target="_top">создании
	      компакт-дисков</a>
	    в главе Руководства об устройствах хранения данных.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp74553296"></a><a id="mount-audio-CD"></a><p><strong>8.16.</strong></p></td><td align="left" valign="top"><p>Почему я не могу смонтировать (командой
	    <code class="command">mount</code> аудио CD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Попытка смонтировать аудио CD приведёт к сообщению об
	    ошибке вида: <span class="errorname">cd9660: /dev/acd0c: Invalid
	    argument</span>.  Причина этого заключается в том,
	    что команда <code class="command">mount</code> работает только с
	    файловыми системами.  На аудио CD файловых систем нет;
	    они содержат только данные.  Используйте вместо этого
	    программу, которая умеет читать аудио CD, например, порт
	    <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/audio/xmcd/pkg-descr">audio/xmcd</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp74561232"></a><a id="multi-session-CD"></a><p><strong>8.17.</strong></p></td><td align="left" valign="top"><p>Как выполнить <code class="command">mount</code> для многосеансового
	    CD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>По умолчанию <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mount&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mount</span>(8)</span></a> будет пытаться смонтировать
	    последнюю дорожку (сеанс) CD с данными.  Для загрузки
	    более раннего сеанса используйте параметр командной строки
	    <code class="option">-s</code>.  За конкретными примерами обращайтесь
	    к странице Справочника <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mount_cd9660&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mount_cd9660</span>(8)</span></a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp74565584"></a><a id="user-floppymount"></a><p><strong>8.18.</strong></p></td><td align="left" valign="top"><p>Как разрешить обычным пользователям монтировать
	    компакт-диски, DVD, USB-диски и другие сменные носители?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Как пользователь <code class="systemitem">root</code>, установите
	    системную переменную <code class="varname">vfs.usermount</code> в
	    значение <code class="literal">1</code>.</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>sysctl vfs.usermount=1</code></strong></pre><p>Чтобы это срабатывало во время загрузки системы,
	    добавьте строчку <code class="literal">vfs.usermount=1</code> в файл
	    <code class="filename">/etc/sysctl.conf</code>.</p><p>Пользователи могут монтировать только те устройства,
	    к которым у них имеется доступ на чтение.  Чтобы разрешить
	    пользователям монтировать устройство, должны быть заданы
	    разрешения в <code class="filename">/etc/devfs.conf</code>.</p><p>Например, чтобы разрешить пользователям монтировать
	    первое устройство USB, добавьте такую строчку:</p><pre class="programlisting"># Allow all users to mount a USB drive.
	    own       /dev/da0       root:operator
	    perm      /dev/da0       0666</pre><p>Теперь все пользователи могут монтировать устройства
	    с правами доступа на чтение в собственные каталоги:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>mkdir ~/my-mount-point</code></strong>
<code class="prompt">%</code> <strong class="userinput"><code>mount -t msdosfs /dev/da0 ~/my-mount-point</code></strong></pre><p>Размонтирование устройства осуществляется просто:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>umount ~/my-mount-point</code></strong></pre><p>Использование <code class="varname">vfs.usermount</code>, однако, имеет
	    некоторые негативные стороны, связанные с вопросами безопасности.
	    Более правильным способом работы с носителями в формате <span class="trademark">MS-DOS</span>(R)
	    является использование пакета <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/emulators/mtools/pkg-descr">emulators/mtools</a>
	    из Коллекции Портов.</p><div xmlns="" class="note"><h3 class="admontitle">Примечание: </h3><p xmlns="http://www.w3.org/1999/xhtml">Имя устройства, использованное в предыдущих
	      примерах, должно быть изменено в соответствии с
	      конфигурацией.</p></div></td></tr><tr class="question"><td align="left" valign="top"><a id="idp74595280"></a><a id="du-vs-df"></a><p><strong>8.19.</strong></p></td><td align="left" valign="top"><p>Команды <code class="command">du</code> и <code class="command">df</code>
	    показывают разный объем доступного дискового пространства.
	    Что происходит?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Это связано с тем, как эти команды на самом деле
	    работают.  <code class="command">du</code> проходит по дереву
	    каталогов, замеряя, насколько большой объем занимает
	    каждый файл, и выдает общий объем.  <code class="command">df</code>
	    просто запрашивает файловую систему об оставшемся объеме.
	    Это выглядит как одно и то же, однако файл без записи в
	    каталоге затронет <code class="command">df</code>, но не повлияет на
	    <code class="command">du</code>.</p><p>Когда программа использует файл и этот файл удаляется,
	    то на самом деле он не удаляется из файловой системы, пока
	    программа не прекратит его использовать.  Однако файл тут
	    же удаляется из списка каталога.  Представим себе файл
	    достаточно большого размера, чтобы его присутствие влияло
	    на вывод <code class="command">du</code> и <code class="command">df</code>.
	    Если файл удаляется в процессе работы с ним команды
	    <code class="command">more</code>, команда <code class="command">more</code>
	    не сообщает сразу же, что не может просматривать файл.
	    Запись о файле просто удалена из каталога, так что другие
	    программы или пользователи не смогут к нему обратиться.
	    Тем не менее, <code class="command">du</code> покажет, что файл
	    исчез, поскольку она просматривает дерево каталогов, а
	    файла там нет. <code class="command">df</code> показывает, что файл
	    всё ещё здесь, так как файловая система знает, что
	    <code class="command">more</code> всё ещё использует это
	    пространство.  Как только закончится работа с
	    <code class="command">more</code>, команды <code class="command">du</code> и
	    <code class="command">df</code> придут в соответствие.</p><p>Такая ситуация часта на Web-серверах.  Многие устанавливают
	    Web-сервер на FreeBSD и забывают обновлять файлы протоколов.
	    Журнал доступа заполняет <code class="filename">/var</code>.  Новый
	    администратор удаляет файл, но система все еще сообщает о том, что
	    раздел заполнен.  Остановка и перезапуск программы Web-сервера
	    освободит файл, позволяя системе освободить дисковое пространство.
	    Для предотвращения этого настройте <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=newsyslog&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">newsyslog</span>(8)</span></a>.</p><p>Заметьте, что подсистема отложенных обновлений
	    (Soft Updates) может задерживать освобождение дискового
	    пространства, и может потребоваться до 30 секунд, чтобы
	    изменения стали заметны.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp74610000"></a><a id="add-swap-space"></a><p><strong>8.20.</strong></p></td><td align="left" valign="top"><p>Как добавить дополнительную виртуальную память?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>В этом разделе <a class="link" href="../../../../doc/ru_RU.KOI8-R/books/handbook/adding-swap-space.html" target="_top">Руководства</a>
	    описывается, как это сделать.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp74612688"></a><a id="manufacturer-disk-size"></a><p><strong>8.21.</strong></p></td><td align="left" valign="top"><p>Почему FreeBSD считает, что размер моего диска меньше, чем
	    заявляет его производитель?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Производители дисков считают гигабайт равным миллиарду байт,
	    а FreeBSD приравнивает его к 1073741824 байт.  Это объясняет,
	    почему, к примеру, в сообщениях при загрузке FreeBSD указывается, что
	    ёмкость диска, объём которого должен быть равным 80 Гбайт,
	    составляет 76319 Мбайт.</p><p>Заметьте также, что FreeBSD будет (по умолчанию) <a class="link" href="#disk-more-than-full" title="8.22.">резервировать</a> 8% ёмкости
	    диска.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp74619856"></a><a id="disk-more-than-full"></a><p><strong>8.22.</strong></p></td><td align="left" valign="top"><p>Почему возможно заполнение раздела больше чем на 100%?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Часть каждого раздела UFS (по умолчанию 8%) зарезервировано для
	    использования операционной системой и пользователем
	    <code class="systemitem">root</code>.  Утилита <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=df&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">df</span>(1)</span></a> не учитывает это
	    при подсчёте значения в колонке <code class="literal">Capacity</code>, так
	    что оно может превышать 100%.  Обратите внимание, что колонка
	    <code class="literal">Blocks</code> всегда больше, чем сумма значений в
	    колонках <code class="literal">Used</code> и <code class="literal">Avail</code>,
	    обычно на 8%.</p><p>Для получения более подробной информации обратитесь к описанию
	    опции <code class="option">-m</code> в справке по <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=tunefs&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">tunefs</span>(8)</span></a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp74626384"></a><a id="slow-boot-memtest"></a><p><strong>8.23.</strong></p></td><td align="left" valign="top"><p>Почему загрузка FreeBSD задерживается на длительное время
	    на системах с большим объёмом ОЗУ?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>FreeBSD выполняет короткую проверку памяти на раннем
	    этапе загрузки.  Обычно эта проверка занимает всего
	    несколько секунд, но если система имеет много десятков
	    или сотен Гбайт памяти, это можно занять до нескольких
	    минут.  Эту проверку можно отключить, установив
	    <code class="literal">hw.memtest.tests</code> в значение
	    <code class="literal">0</code> в
	    <code class="filename">/boot/loader.conf</code>.</p><p>Для получения дополнительной информации смотрите
	    страницу Справочника <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=loader.conf&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">loader.conf</span>(5)</span></a>.</p></td></tr></tbody></table></div></div><div class="chapter"><div xmlns="" class="titlepage"><div><div><h1 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="all-about-zfs"></a>Глава 9. ZFS</h1></div></div></div><div class="qandaset"><a id="idp74631760"></a><dl><dt>9.1. <a href="#idp74632016">Какой минимальный объём ОЗУ нужно иметь для ZFS?</a></dt><dt>9.2. <a href="#idp74642384">Что такое ZIL и когда оно используется?</a></dt><dt>9.3. <a href="#idp74646352">Нужен ли мне SSD для ZIL?</a></dt><dt>9.4. <a href="#idp74648400">Что такое L2ARC?</a></dt><dt>9.5. <a href="#idp74659792">Целесообразно ли включение дедупликации?</a></dt><dt>9.6. <a href="#idp74662608">Я не могу создать или удалить файлы на пуле ZFS.
	    Как я могу это исправить?</a></dt><dt>9.7. <a href="#idp74667088">Поддерживается ли TRIM в ZFS для твердотельных
	    накопителей?</a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%" /><col /></colgroup><tbody><tr class="question"><td align="left" valign="top"><a id="idp74632016"></a><a id="how-much-ram-for-zfs"></a><p><strong>9.1.</strong></p></td><td align="left" valign="top"><p>Какой минимальный объём ОЗУ нужно иметь для ZFS?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Для комфортного использования требуется 4 Гбайт
	    ОЗУ, но конкретная нагрузка может сильно различаться.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp74642384"></a><a id="what-is-zil"></a><p><strong>9.2.</strong></p></td><td align="left" valign="top"><p>Что такое ZIL и когда оно используется?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><acronym class="acronym">ZIL</acronym> ((<acronym class="acronym">ZFS</acronym>
	    intent log) - это журнал записи, используемый для
	    фиксации операций записи.  Обычно операции собираются
	    в группу транзакций и при заполнении группы пишутся на
	    диск (<span class="quote"><<<span class="quote">Transaction Group Commit</span>>></span>).  Однако
	    системные вызовы типа <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=fsync&amp;sektion=2"><span class="citerefentry"><span class="refentrytitle">fsync</span>(2)</span></a> требуют фиксацию
	    записи данных на устройстве перед возвратом управления.
	    ZIL нужен для подтверждения такой записи, но когда данные
	    ещё не находятся на диске.  Группа транзакций помечается
	    временной меткой.  В случае системного сбоя ищется
	    последняя неповреждённая метка и из ZIL извлекаются
	    недостающие данные.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp74646352"></a><a id="need-ssd-for-zil"></a><p><strong>9.3.</strong></p></td><td align="left" valign="top"><p>Нужен ли мне SSD для ZIL?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>По умолчанию ZFS хранит ZIL в пуле со всеми данными.
	    Если приложение имеет большой процент записи, вынос ZIL
	    на отдельное устройство с очень быстрой синхронной
	    последовательной записью может улучшить общую
	    производительность.  В остальных случаях SSD вряд ли
	    сможет что-то сильно улучшить.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp74648400"></a><a id="what-is-l2arc"></a><p><strong>9.4.</strong></p></td><td align="left" valign="top"><p>Что такое L2ARC?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><acronym class="acronym">L2ARC</acronym> - это кеш на чтение,
	    хранимый на быстром устройстве, таком как
	    <acronym class="acronym">SSD</acronym>.  Этот кеш не сохраняется между
	    перезагрузками.  Следует заметить, что ОЗУ выступает
	    как кеш первого уровня, а L2ARC задействуется только
	    при нехватке ОЗУ.</p><p>Для L2ARC нужно пространство в ARC для его индексации.
	    Таким образом, рабочий набор, который идеально помещается
	    в ARC, не будет помещаться при использовании L2ARC, потому
	    что часть ARC будет отведена под индекс L2ARC с
	    вытеснением части рабочего набора в L2ARC, более
	    медленный, чем ОЗУ.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp74659792"></a><a id="should-enable-dedup"></a><p><strong>9.5.</strong></p></td><td align="left" valign="top"><p>Целесообразно ли включение дедупликации?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>В общем случае нет.</p><p>Дедупликация занимает значительный объём ОЗУ и может
	    увеличить задержки операций ввода/вывода.  Если данные
	    не являются сильно дублированными (образы виртуальных
	    машин или пользовательские бекапы), то, возможно,
	    дедупликация даст больше вреда.  Другое соображение
	    касается невозможности отменить статус дедупликации.
	    Если данные записаны при включённой дедупликации, её
	    выключение не приведёт к обратной репликации объединённых
	    блоков до момента следующей перезаписи.</p><p>Дедупликация также может приводить к некоторым
	    неожиданным ситуациям. В частности, удаление файлов
	    может сильно замедлиться.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp74662608"></a><a id="zpool-fully-full"></a><p><strong>9.6.</strong></p></td><td align="left" valign="top"><p>Я не могу создать или удалить файлы на пуле ZFS.
	    Как я могу это исправить?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Такое может произойти при 100% заполненности пула.
	    ZFS требуется свободное место на диске для записи
	    метаданных транзакций.  Для восстановления
	    работоспособного состояния пула обрежьте файл перед его
	    удалением.</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>truncate -s 0 <em class="replaceable"><code>unimportant-file</code></em></code></strong></pre><p>Обрезание файла работает по той причине, что новая
	   транзакция при этом не запускается; вместо этого создаются
	   новые свободные блоки.</p><div xmlns="" class="note"><h3 class="admontitle">Примечание: </h3><p xmlns="http://www.w3.org/1999/xhtml">На системах с дополнительной настройкой ZFS dataset,
	      такой как дедупликация, свободное место может не быть
	      доступно сразу.</p></div></td></tr><tr class="question"><td align="left" valign="top"><a id="idp74667088"></a><a id="zfs-ssd-trim"></a><p><strong>9.7.</strong></p></td><td align="left" valign="top"><p>Поддерживается ли TRIM в ZFS для твердотельных
	    накопителей?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Поддержка ZFS TRIM была добавлена во
	    FreeBSD 10-CURRENT в ревизии
	    r<a xmlns="" href="https://svnweb.freebsd.org/changeset/base/240868"><span class="svnref">240868</span></a> и стала доступна
	    в ветках -STABLE в r<a xmlns="" href="https://svnweb.freebsd.org/changeset/base/252162"><span class="svnref">252162</span></a> и
	    r<a xmlns="" href="https://svnweb.freebsd.org/changeset/base/251419"><span class="svnref">251419</span></a>.</p><p>ZFS TRIM включена по умолчанию и может быть отключена
	    посредством добавления такой строки в
	    <code class="filename">/etc/sysctl.conf</code>:</p><pre class="programlisting">vfs.zfs.trim_disable=1</pre><div xmlns="" class="note"><h3 class="admontitle">Примечание: </h3><p xmlns="http://www.w3.org/1999/xhtml">ZFS TRIM может не работать на всех конфигурациях,
	      в частности для файловой системы ZFS на устройствах с
	      использованием GELI.</p></div></td></tr></tbody></table></div></div><div class="chapter"><div xmlns="" class="titlepage"><div><div><h1 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="admin"></a>Глава 10. Системное администрирование</h1></div></div></div><div class="qandaset"><a id="idp74673232"></a><dl><dt>10.1. <a href="#idp74673488">Где расположены файлы конфигурации системы?</a></dt><dt>10.2. <a href="#idp74683088">Как проще всего добавить пользователя?</a></dt><dt>10.3. <a href="#idp74688720">Почему после редактирования моего файла
	    crontab я получаю сообщения вида
	    root: not found?</a></dt><dt>10.4. <a href="#idp74702416">Команда su выдает ошибку
	    you are not in the correct group to su
	      root, когда я пытаюсь сменить привилегии на
	    root.</a></dt><dt>10.5. <a href="#idp74756944">Я сделал ошибку в файле rc.conf или в
	    каком-то другом файле начальной загрузки, и теперь не могу его
	    отредактировать из-за того, что файловая система находится в
	    режиме только для чтения.  Что мне делать?</a></dt><dt>10.6. <a href="#idp74766160">У меня проблемы с установкой принтера.</a></dt><dt>10.7. <a href="#idp74768720">Раскладка клавиатуры неверна.</a></dt><dt>10.8. <a href="#idp74776144">Почему не получается заставить работать дисковые квоты?</a></dt><dt>10.9. <a href="#idp74793552">Поддерживает ли FreeBSD вызовы IPC из System V?</a></dt><dt>10.10. <a href="#idp74797904">Какое другое программное обеспечение для почтового
	    сервера можно использовать вместо
	    Sendmail?</a></dt><dt>10.11. <a href="#idp74806352">Я забыл пароль пользователя root!  Что
	    делать?</a></dt><dt>10.12. <a href="#idp74871632">Как запретить перезагрузку по нажатию Control+Alt+Delete?</a></dt><dt>10.13. <a href="#idp74880336">Как преобразовать текстовые файлы DOS в формат UNIX(R)?</a></dt><dt>10.14. <a href="#idp74894288">Как перечитать содержимое /etc/rc.conf
	    и перестартовать /etc/rc без перезагрузки
	    системы?</a></dt><dt>10.15. <a href="#idp74907856">Я пытался обновить мою систему до последней
	    -STABLE, а получил
	    -BETAx,
	    -RC или
	    -PRERELEASE!  Что происходит?</a></dt><dt>10.16. <a href="#idp74920528">Я попытался установить новое ядро, однако утилита
	    chflags(1) не сработала.  Как это обойти?</a></dt><dt>10.17. <a href="#idp74932432">Не получается изменить системное время больше чем на одну
	    секунду!  Как это обойти?</a></dt><dt>10.18. <a href="#idp74939472">В rpc.statd; есть ошибка работы с памятью!
	    Он использует 256 Мбайт оперативной памяти!</a></dt><dt>10.19. <a href="#idp74950480">Почему я не могу снять с файла флаг schg?</a></dt><dt>10.20. <a href="#idp74954576">Что такое vnlru?</a></dt><dt>10.21. <a href="#idp74961872">Что означают различные состояния памяти, показываемые утилитой
	    top?</a></dt><dt>10.22. <a href="#idp74971472">Сколько свободной памяти доступно?</a></dt><dt>10.23. <a href="#idp74975312">Что такое /var/empty?</a></dt><dt>10.24. <a href="#idp74980304">Я поменял /etc/newsyslog.conf.
	    Как проверить правильность изменений?</a></dt><dt>10.25. <a href="#idp74984400">Как поправить часовой пояс?</a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%" /><col /></colgroup><tbody><tr class="question"><td align="left" valign="top"><a id="idp74673488"></a><a id="startup-config-files"></a><p><strong>10.1.</strong></p></td><td align="left" valign="top"><p>Где расположены файлы конфигурации системы?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Основным конфигурационным файлом является
	    <code class="filename">/etc/defaults/rc.conf</code>, который описан
	    в <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=rc.conf&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">rc.conf</span>(5)</span></a>).  Этот файл подключают системные
	    скрипты запуска, такие как <code class="filename">/etc/rc</code> и
	    <code class="filename">/etc/rc.d</code>, которые описаны в
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=rc&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">rc</span>(8)</span></a>.  <span class="emphasis"><em>Не редактируйте этот
	      файл!</em></span>  Вместо изменения параметра в
	    <code class="filename">/etc/defaults/rc.conf</code> скопируйте
	    эту строку в <code class="filename">/etc/rc.conf</code> и поменяйте
	    значение там.</p><p>Пример запуска <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=named&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">named</span>(8)</span></a>, поставляемого с системой
	    сервера DNS:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>echo 'named_enable="YES"' &gt;&gt; /etc/rc.conf</code></strong></pre><p>Чтобы запустить местные сервисы, поместите скрипты в каталог
	    <code class="filename">/usr/local/etc/rc.d</code>.
	    У этих скриптов
	    должен быть выставлен бит выполнимости, по умолчанию
	    используются права доступа <code class="literal">555</code>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp74683088"></a><a id="adding-users"></a><p><strong>10.2.</strong></p></td><td align="left" valign="top"><p>Как проще всего добавить пользователя?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Используйте команду <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=adduser&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">adduser</span>(8)</span></a> или <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pw&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">pw</span>(8)</span></a> в случае
	    выполнения более сложных операций.</p><p>Чтобы удалить пользователя, используйте команду
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=rmuser&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">rmuser</span>(8)</span></a> или, если это будет необходимо, <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pw&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">pw</span>(8)</span></a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp74688720"></a><a id="root-not-found-cron-errors"></a><p><strong>10.3.</strong></p></td><td align="left" valign="top"><p>Почему после редактирования моего файла
	    <code class="filename">crontab</code> я получаю сообщения вида
	    <span class="errorname">root: not found</span>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Обычно это случается при редактировании системного
	    файла crontab.</p><p>Это неправильный подход, потому что системный crontab
	    имеет формат, отличный от пользовательских crontab.
	    Системный crontab имеет дополнительное поле, указывающее,
	    под каким пользователем запускать команду.  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=cron&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">cron</span>(8)</span></a>
	    полагает, что имя пользователя является первым словом в
	    команде на выполнение.  Поскольку такой команды не
	    существует, отображается это сообщение об ошибке.</p><p>Чтобы удалить лишний неправильный crontab:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>crontab -r</code></strong></pre></td></tr><tr class="question"><td align="left" valign="top"><a id="idp74702416"></a><a id="su-wheel-group"></a><p><strong>10.4.</strong></p></td><td align="left" valign="top"><p>Команда <code class="command">su</code> выдает ошибку
	    <span class="errorname">you are not in the correct group to su
	      root</span>, когда я пытаюсь сменить привилегии на
	    <code class="systemitem">root</code>.</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Это особенность работы системы защиты.  Для того,
	    чтобы сменить пользовательский идентификатор с помощью
	    <code class="command">su</code> на пользователя <code class="systemitem">root</code> или любого другого
	    с привилегиями суперпользователя, учётная запись должна
	    являться членом группы <code class="systemitem">wheel</code>.  Если бы этого не
	    было, то любой, имеющий доступ к системе и узнавший пароль
	    пользователя <code class="systemitem">root</code>, смог бы получить в
	    системе уровень доступа суперпользователя.</p><p>Чтобы разрешить кому-либо менять привилегии на
	    <code class="systemitem">root</code>, включите
	    его в группу <code class="systemitem">wheel</code> с помощью
	    <code class="command">pw</code>.</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>pw groupmod wheel -m lisa</code></strong></pre><p>В примере выше пользователь <code class="systemitem">lisa</code> будет добавлен в группу
	    <code class="systemitem">wheel</code>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp74756944"></a><a id="rcconf-readonly"></a><p><strong>10.5.</strong></p></td><td align="left" valign="top"><p>Я сделал ошибку в файле <code class="filename">rc.conf</code> или в
	    каком-то другом файле начальной загрузки, и теперь не могу его
	    отредактировать из-за того, что файловая система находится в
	    режиме только для чтения.  Что мне делать?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Перезапустите систему, используя в приглашении
	    загрузчика команду <strong class="userinput"><code>boot -s</code></strong> для
	    входа в однопользовательский режим.  При получении
	    приглашения на ввод полного пути до командного процессора
	    нажмите <code class="literal">Enter</code>, а затем выполните
	    команду <code class="command">mount -urw /</code> для повторного
	    монтирования корневой файловой системы в режиме
	    чтения/записи.  Вам может также потребоваться выполнить
	    команду <code class="command">mount -a -t ufs</code> для
	    монтирования файловой системы, в которой расположен ваш
	    любимый текстовый редактор.  Если редактор расположен на
	    сетевой файловой системе, либо выполните сетевые настройки
	    вручную до монтирования сетевой файловой системы, либо
	    воспользоваться редактором, находящимся в локальной
	    файловой системе, таким, как <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ed&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ed</span>(1)</span></a>.</p><p>Чтобы использовать полноэкранный редактор, такой как
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=vi&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">vi</span>(1)</span></a> или <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=emacs&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">emacs</span>(1)</span></a>, выполните команду
	    <code class="command">export TERM=xterm</code> во FreeBSD 9.0+ или
	    <code class="command">export TERM=cons25</code> во FreeBSD 8.X, чтобы
	    такие редакторы смогли корректно взять данные из базы
	    данных <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=termcap&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">termcap</span>(5)</span></a>.</p><p>После выполнения этих шагов отредактируйте файл
	    <code class="filename">/etc/rc.conf</code> для исправления ошибки.
	    Сообщение об ошибке, выводимое сразу же после сообщений
	    при загрузке ядра, должно указать на номер строки в файле,
	    которая содержит ошибку.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp74766160"></a><a id="printer-setup"></a><p><strong>10.6.</strong></p></td><td align="left" valign="top"><p>У меня проблемы с установкой принтера.</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Обратитесь к соответствующему <a class="link" href="../../../../doc/ru_RU.KOI8-R/books/handbook/printing.html" target="_top">разделу</a>
	    Руководства, посвящённому печати, за советами по
	    разрешению проблем.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp74768720"></a><a id="keyboard-mappings"></a><p><strong>10.7.</strong></p></td><td align="left" valign="top"><p>Раскладка клавиатуры неверна.</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Обратитесь к разделу Руководства, посвящённому
	    <a class="link" href="../../../../doc/ru_RU.KOI8-R/books/handbook/using-localization.html" target="_top">
	    использованию локализации</a>, а именно к части, описывающей
	    <a class="link" href="../../../../doc/ru_RU.KOI8-R/books/handbook/using-localization.html#setting-console" target="_top">
	    настройку консоли</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp74776144"></a><a id="user-quotas"></a><p><strong>10.8.</strong></p></td><td align="left" valign="top"><p>Почему не получается заставить работать дисковые квоты?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Возможно, что ядро не сконфигурировано должным
	        образом для работы с квотами.  В этом случае добавьте
	        следующую строчку в конфигурационный файл ядра и
		пересоберите ядро:</p><pre class="programlisting">options QUOTA</pre><p>Прочтите <a class="link" href="../../../../doc/ru_RU.KOI8-R/books/handbook/quotas.html" target="_top">главу
		руководства по квотам</a> для полной
		информации.</p></li><li class="listitem"><p>Не включайте квотирование на разделе
		<code class="filename">/</code>.</p></li><li class="listitem"><p>Помещайте файл с квотами в ту файловую систему,
		которую он обслуживает:</p><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Файловая система</th><th>Файл квот</th></tr></thead><tbody><tr><td><code class="filename">/usr</code></td><td><code class="filename">/usr/admin/quotas</code></td></tr><tr><td><code class="filename">/home</code></td><td><code class="filename">/home/admin/quotas</code></td></tr><tr><td>...</td><td>...</td></tr></tbody></table></div></li></ol></div></td></tr><tr class="question"><td align="left" valign="top"><a id="idp74793552"></a><a id="sysv-ipc"></a><p><strong>10.9.</strong></p></td><td align="left" valign="top"><p>Поддерживает ли FreeBSD вызовы IPC из System V?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Да, во FreeBSD в ядро <code class="filename">GENERIC</code>
	    включена поддержка IPC в стиле System V, в том числе
	    совместно используемой памяти, сообщений и семафоров.
	    В вашем собственном ядре поддержка может быть включена
	    посредством загрузки модулей ядра
	    <code class="filename">sysvshm.ko</code>,
	    <code class="filename">sysvsem.ko</code> и
	    <code class="filename">sysvmsg.ko</code> или добавлением в
	    конфигурационный файл ядра следующих строк:</p><pre class="programlisting">options    SYSVSHM	  # enable shared memory
options    SYSVSEM	  # enable for semaphores
options    SYSVMSG	  # enable for messaging</pre><p>Перекомпилируйте и переустановите ядро.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp74797904"></a><a id="sendmail-alternative"></a><p><strong>10.10.</strong></p></td><td align="left" valign="top"><p>Какое другое программное обеспечение для почтового
	    сервера можно использовать вместо
	    <span class="application">Sendmail</span>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Сервер <a class="link" href="http://www.sendmail.org/" target="_top"><span class="application">Sendmail</span></a>
	    является программным обеспечением для работы почтового
	    сервера во FreeBSD, используемым по умолчанию, но его можно
	    заменить другим MTA, установленным из Коллекции Портов.
	    В дереве портов имеется <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/mail/exim/pkg-descr">mail/exim</a>,
	    <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/mail/postfix/pkg-descr">mail/postfix</a> и
	    <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/mail/qmail/pkg-descr">mail/qmail</a>.  Проверьте архивы списков
	    рассылки на предмет обсуждения достоинств и недостатков
	    имеющихся MTA.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp74806352"></a><a id="forgot-root-pw"></a><p><strong>10.11.</strong></p></td><td align="left" valign="top"><p>Я забыл пароль пользователя <code class="systemitem">root</code>!  Что
	    делать?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Без паники!  Перезапустите систему, наберите
	    <strong class="userinput"><code>boot -s</code></strong> в приглашении
	    <code class="literal">Boot:</code> для входа в однопользовательский
	    режим.  На вопрос об используемой оболочке нажмите
	    <span class="keycap"><strong>Enter</strong></span> для получения приглашения
	    <code class="prompt">#</code>.  Введите <code class="command">mount -urw /</code>,
	    чтобы перемонтировать корневую файловую систему в режиме
	    чтения/записи, после чего выполните команду <code class="command">mount
	      -a</code> для монтирования всех файловых систем.
	    Запустите команду <code class="command">passwd root</code>, чтобы
	    сменить пароль пользователя <code class="systemitem">root</code>, а затем <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=exit&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">exit</span>(1)</span></a>
	    для продолжения процесса загрузки.</p><div xmlns="" class="note"><h3 class="admontitle">Примечание: </h3><p xmlns="http://www.w3.org/1999/xhtml">Если при входе в однопользовательский режим
	      предлагается ввести пароль пользователя <code class="systemitem">root</code>, это означает, что
	      консоль была помечена как <code class="literal">insecure</code> в
	      <code class="filename">/etc/ttys</code>.  В этом случае
	      потребуется загрузиться с установочного диска FreeBSD,
	      выбрать <span class="guimenuitem">Live CD</span> или
	      <span class="guimenuitem">Shell</span> в начале процесса
	      установки и выполнить указанные выше команды.  В этом
	      случае смонтируйте нужный раздел и выполните туда
	      chroot.  Например, замените команду <code class="command">mount
	        -urw /</code> на <code class="command">mount /dev/ada0p1 /mnt;
	        chroot /mnt</code> для системы, расположенной на
	      <em class="replaceable"><code>ada0p1</code></em>.</p></div><div xmlns="" class="note"><h3 class="admontitle">Примечание: </h3><p xmlns="http://www.w3.org/1999/xhtml">Если корневой раздел не получается смонтировать в
	      однопользовательском режиме, то возможно, что разделы
	      являются зашифрованными, и смонтировать их без ключей
	      доступа не представляется возможным.  За дополнительной
	      информацией обращайтесь к разделу <a class="link" href="../../../../doc/ru_RU.KOI8-R/books/handbook/disks-encrypting.html" target="_top">Руководства</a>,
	      посвященному шифрованию дисков во FreeBSD.</p></div></td></tr><tr class="question"><td align="left" valign="top"><a id="idp74871632"></a><a id="CAD-reboot"></a><p><strong>10.12.</strong></p></td><td align="left" valign="top"><p>Как запретить перезагрузку по нажатию <span class="keycap"><strong>Control</strong></span>+<span class="keycap"><strong>Alt</strong></span>+<span class="keycap"><strong>Delete</strong></span>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>При использовании стандартного драйвера консоли
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=syscons&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">syscons</span>(4)</span></a> перегенерируйте и установите новое ядро
	    с таким параметром в конфигурационном файле:</p><pre class="programlisting">options SC_DISABLE_REBOOT</pre><p>Этого также можно достичь установкой следующего <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sysctl&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sysctl</span>(8)</span></a>,
	    что не требует перезагрузки или пересборки ядра:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>sysctl hw.syscons.kbd_reboot=0</code></strong></pre><div xmlns="" class="note"><h3 class="admontitle">Примечание: </h3><p xmlns="http://www.w3.org/1999/xhtml">Оба этих метода являются взаимоисключающими.  Данный
	      <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sysctl&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sysctl</span>(8)</span></a> не существует, если ядро скомпилировано
	      с параметром <code class="literal">SC_DISABLE_REBOOT</code>.</p></div></td></tr><tr class="question"><td align="left" valign="top"><a id="idp74880336"></a><a id="dos-to-unix-txt"></a><p><strong>10.13.</strong></p></td><td align="left" valign="top"><p>Как преобразовать текстовые файлы DOS в формат <span class="trademark">UNIX</span>(R)?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Воспользуйтесь следующей командой <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=perl&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">perl</span>(1)</span></a>:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>perl -i.bak -npe 's/\r\n/\n/g' file(s)</code></strong></pre><p>где <em class="replaceable"><code>file(s)</code></em> - это один или
	    несколько файлов для обработки.
	    Преобразование делается в том же самом файле, оригинальные файлы
	    сохраняются с расширением <code class="filename">.bak</code>.</p><p>Либо используйте <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=tr&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">tr</span>(1)</span></a>:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>tr -d '\r' &lt; dos-text-file &gt; unix-file</code></strong></pre><p>где <em class="replaceable"><code>dos-text-file</code></em> - это имя файла,
	    содержащего текст DOS, а в файл
	    <em class="replaceable"><code>unix-file</code></em> будет помещён уже
	    преобразованный текст.  Этот способ может работать гораздо
	    быстрее, чем при использовании <code class="command">perl</code>.</p><p>Еще один способ отформатировать тестовые файлы DOS
	    состоит в использовании <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/converters/dosunix/pkg-descr">converters/dosunix</a> из Коллекции
	    Портов.  Для получения дополнительной информации ознакомьтесь
	    с документацией порта.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp74894288"></a><a id="reread-rc"></a><p><strong>10.14.</strong></p></td><td align="left" valign="top"><p>Как перечитать содержимое <code class="filename">/etc/rc.conf</code>
	    и перестартовать <code class="filename">/etc/rc</code> без перезагрузки
	    системы?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Перейдите в однопользовательский режим, а затем возвратитесь обратно
	    в многопользовательский.</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>shutdown now</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>return</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>exit</code></strong></pre></td></tr><tr class="question"><td align="left" valign="top"><a id="idp74907856"></a><a id="release-candidate"></a><p><strong>10.15.</strong></p></td><td align="left" valign="top"><p>Я пытался обновить мою систему до последней
	    <span class="emphasis"><em>-STABLE</em></span>, а получил
	    <span class="emphasis"><em>-BETA<em class="replaceable"><code>x</code></em></em></span>,
	    <span class="emphasis"><em>-RC</em></span> или
	    <span class="emphasis"><em>-PRERELEASE</em></span>!  Что происходит?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Краткий ответ: это же просто название.
	    <span class="emphasis"><em>RC</em></span> означает
	    <span class="quote"><<<span class="quote">Release Candidate</span>>></span>.  Это значит, что вскоре
	    произойдет выход релиза.  Во FreeBSD появление
	    <span class="emphasis"><em>-PRERELEASE</em></span>, как
	    правило, равнозначно прекращению внесения изменений в код системы
	    перед появлением релиза.  (Для некоторых релизом метка
	    <span class="emphasis"><em>-BETA</em></span> использовалась точно так же, как и
	    <span class="emphasis"><em>-PRERELEASE</em></span>.)</p><p>Подробный ответ: во FreeBSD релизы выпускаются из одного из
	    двух мест.  Крупные релизы, точка-ноль, такие, как
	    9.0-RELEASE и 10.0-RELEASE, ответвляются от основного потока
	    разработки, более известного как <a class="link" href="#current" title="1.8.">-CURRENT</a>.  Мелкие релизы, такие, как
	    6.3-RELEASE или 5.2-RELEASE, являлись снэпшотами активной ветки
	    <a class="link" href="#stable" title="1.9.">-STABLE</a>.  Начиная с 4.3-RELEASE,
	    каждый релиз также имеет свою ветвь, которой могут следовать те,
	    кому необходим сверхконсервативный метод обновления (как правило,
	    внесение только тех исправлений, которые касаются вопросов
	    обеспечения безопасности).</p><p>Когда делается релиз, то ветвь, из которой он выпускается,
	    подвергается некоторой подготовке.  Частью этого процесса является
	    замораживание кода.  Когда инициируется замораживание кода, то имя
	    ветки изменяется для того, чтобы отразить факт близости релиза.
	    Например, если ветка называлась 6.2-STABLE, то её имя будет
	    изменено на 6.3-PRERELEASE, чтобы обозначить момент прекращения
	    внесения изменений в код системы и период дополнительного
	    тестирования перед выходом релиза.  В это время исправления ошибок
	    могут быть внесены в код системы для того, чтобы быть включенными в
	    релиз.  Когда исходный код подготовлен к выпуску релиза, имя будет
	    изменено на 6.3-RC для обозначения того, что релиз будет сделан,
	    скорее всего, именно из этого кода.  Когда код находится на этапе
	    RC, в нём могут исправляться только самые критичные ошибки.  Как
	    только релиз (в нашем примере 6.3-RELEASE) и ветка релиза будут
	    созданы, ветвь будет переименована в 6.3-STABLE.</p><p>Для получения дополнительной информации о номерах версий и
	    различных ветках Subversion обратитесь к статье о <a class="link" href="../../../../doc/ru_RU.KOI8-R/articles/releng/article.html" target="_top">выпуске
	    релизов</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp74920528"></a><a id="kernel-chflag-failure"></a><p><strong>10.16.</strong></p></td><td align="left" valign="top"><p>Я попытался установить новое ядро, однако утилита
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chflags&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">chflags</span>(1)</span></a> не сработала.  Как это обойти?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Краткий ответ: Режим безопасности имеет значение
	    больше нуля.  Для установки ядра перезагрузите машину и
	    войдите в однопользовательский режим.</p><p>Подробный ответ: FreeBSD запрещает менять системные
	    флаги при работе на уровнях безопасности, превышающих 0.
	    Чтобы проверить текущий уровень безопасности:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>sysctl kern.securelevel</code></strong></pre><p>Уровень безопасности нельзя понизить в
	    многопользовательском режиме, поэтому для установки ядра
	    загрузитесь в однопользовательский режим, или измените
	    уровень безопасности в <code class="filename">/etc/rc.conf</code>,
	    а затем выполните перезагрузку.  Обратитесь к странице
	    Справочника по <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=init&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">init</span>(8)</span></a> за подробной информацией о
	    <code class="literal">securelevel</code> и посмотрите
	    <code class="filename">/etc/defaults/rc.conf</code> и справочную
	    страницу по <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=rc.conf&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">rc.conf</span>(5)</span></a> для выяснения подробностей о
	    файле <code class="filename">rc.conf</code>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp74932432"></a><a id="kernel-securelevel-time"></a><p><strong>10.17.</strong></p></td><td align="left" valign="top"><p>Не получается изменить системное время больше чем на одну
	    секунду!  Как это обойти?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Краткий ответ: Система работает на уровне безопасности
	    со значением выше 1.  Для смены даты перезагрузите машину
	    и войдите в однопользовательский режим.</p><p>Подробный ответ: FreeBSD запрещает менять системное время
	    больше чем на одну секунду на уровне безопасности выше 1.
	    Чтобы определить уровень безопасности:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>sysctl kern.securelevel</code></strong></pre><p>Уровень безопасности нельзя понизить в
	    многопользовательском режиме.  Для изменения даты
	    перезагрузите систему в однопользовательский режим,
	    либо измените уровень безопасности в
	    <code class="filename">/etc/rc.conf</code>, а затем выполните
	    перезагрузку.  Обратитесь к странице Справочника по
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=init&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">init</span>(8)</span></a> за подробной информацией о
	    <code class="literal">securelevel</code> и посмотрите
	    <code class="filename">/etc/defaults/rc.conf</code> и справочную
	    страницу по <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=rc.conf&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">rc.conf</span>(5)</span></a> для выяснения подробностей о
	    файле <code class="filename">rc.conf</code>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp74939472"></a><a id="statd-mem-leak"></a><p><strong>10.18.</strong></p></td><td align="left" valign="top"><p>В <code class="command">rpc.statd</code>; есть ошибка работы с памятью!
	    Он использует 256 Мбайт оперативной памяти!</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Нет, там нет ошибок и он не использует 256 Мбайт памяти.
	    Для удобства <code class="command">rpc.statd</code> отображает неприлично
	    большой кусок памяти в своё адресное пространство.  Здесь нет
	    ничего неправильного с технической точки зрения, это просто
	    сбивает с толку программы вроде <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=top&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">top</span>(1)</span></a> и <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ps&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ps</span>(1)</span></a></p><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=rpc.statd&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">rpc.statd</span>(8)</span></a> отображает свой статусный файл
	    (находящийся на <code class="filename">/var</code>)
	    в свое адресное
	    пространство.  Для того, чтобы постоянно не беспокоиться о будущих
	    переотражениях, когда файл вырастет в размерах, он просто
	    отображает его с огромным размером заранее.  Это просто заметить
	    в исходных текстах, где как вы можете увидеть параметр длина
	    к функции <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mmap&amp;sektion=2"><span class="citerefentry"><span class="refentrytitle">mmap</span>(2)</span></a> имеет значение
	    <code class="literal">0x10000000</code>, или одна шестнадцатая адресного
	    пространства для IA32, то есть 256 Мбайт.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp74950480"></a><a id="unsetting-schg"></a><p><strong>10.19.</strong></p></td><td align="left" valign="top"><p>Почему я не могу снять с файла флаг <code class="literal">schg</code>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Система работает с уровнем защиты выше нуля.  Понизьте
	    уровень защиты и попробуйте еще раз.  Для получения более
	    подробной информации обратитесь к <a class="link" href="#securelevel" title="13.2.">разделу <acronym class="acronym">FAQ</acronym>
	      об уровне защиты</a> и
	    справочной странице <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=init&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">init</span>(8)</span></a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp74954576"></a><a id="vnlru"></a><p><strong>10.20.</strong></p></td><td align="left" valign="top"><p>Что такое <code class="literal">vnlru</code>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><code class="literal">vnlru</code> сбрасывает и освобождает
	    vnode, когда система достигает ограничения по параметру
	    <code class="varname">kern.maxvnodes</code>.  Этот поток ядра в
	    основном работает вхолостую и активируется только при
	    наличии огромного объема ОЗУ и обращении к десяткам тысяч
	    файлов небольшого размера.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp74961872"></a><a id="top-memory-states"></a><p><strong>10.21.</strong></p></td><td align="left" valign="top"><p>Что означают различные состояния памяти, показываемые утилитой
	    <code class="command">top</code>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="literal">Active</code>: по статистике страницы недавно
		использовались.</p></li><li class="listitem"><p><code class="literal">Inactive</code>: по статистике страницы
		 недавно не использовались.</p></li><li class="listitem"><p><code class="literal">Cache</code>: (наиболее часто)
		страницы, которых перемещены из числа неактивных в статус, в
		котором они содержат данные, но которые могут часто сразу же
		использоваться повторно (как с их старым содержимым, так и
		повторно с новым).  Это может быть некоторое непосредственное
		перемещение из состояния <code class="literal">active</code> в состояние
		<code class="literal">cache</code>, если известно, что страница чиста (не
		модифицировалась), но такое
		перемещение определяется политикой, зависящей от выбора
		алгоритма разработчиком VM-системы.</p></li><li class="listitem"><p><code class="literal">Free</code>: страницы, не содержащие данных,
		и которые могут быть использованы при некоторых условиях,
		когда страницы кэша могут не подойти.  Свободные страницы
		могут повторно использоваться в состояниях прерывания или
		процессах.</p></li><li class="listitem"><p><code class="literal">Wired</code>: страницы, зафиксированные в
		памяти, обычно для использования ядром, а также иногда для
		специального использования процессами.</p></li></ul></div><p>Страницы чаще всего записываются на диск (типа синхронизации
	    VM), когда они находятся в неактивном состоянии, однако страницы
	    в активном состоянии также могут сбрасываться.  Это зависит от
	    наличия и возможности отслеживания со стороны ЦП бита
	    'модифицированности', и в некоторых ситуациях это может быть лучше
	    для блока синхронизируемых страниц VM, вне зависимости от их
	    активности.  В большинстве встречающихся ситуаций лучше всего
	    представлять неактивную очередь как очередь сравнительно
	    неиспользуемых страниц, которые могут быть, а могут и не быть в
	    процессе записи на диск.  Кэшируемые страницы уже
	    синхронизированы, не отображаются, но доступны для
	    непосредственного использования процессом со своей старой или новой
	    привязкой.  Свободные страницы доступны на уровне прерывания,
	    однако кэшируемые или свободные страницы могут использоваться в
	    процессе повторно.  Кэшируемые страницы недостаточно заблокированы
	    для того, чтобы быть доступными на уровне прерывания.</p><p>Есть ещё некоторые другие флаги (например, флаг занятости или
	    счётчик занятости), которые могут изменить некоторые описанные
	    правила.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp74971472"></a><a id="free-memory-amount"></a><p><strong>10.22.</strong></p></td><td align="left" valign="top"><p>Сколько свободной памяти доступно?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Есть несколько понятий <span class="quote"><<<span class="quote">свободной памяти</span>>></span>.  В
	    одном случае это объём памяти, непосредственно доступной в данный
	    момент без страничной выгрузки чего-либо.  Этот объём равен
	    примерно размеру очереди кэша + размер очереди на высвобождение (с
	    учётом допустимых отклонений, зависящих от настроек системы).  В
	    другом случае <span class="quote"><<<span class="quote">свободная память</span>>></span> обозначает общий
	    объём пространства <acronym class="acronym">VM</acronym>.  Он может сложно
	    вычисляться, но зависит от объёма раздела подкачки и памяти.
	    Другие определения <span class="quote"><<<span class="quote">свободной памяти</span>>></span> также возможны,
	    но они достаточно бесполезны, ведь в любом случае важно сохранять
	    низкий уровень подкачки и избегать исчерпания раздела
	    подкачки.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp74975312"></a><a id="var-empty"></a><p><strong>10.23.</strong></p></td><td align="left" valign="top"><p>Что такое <code class="filename">/var/empty</code>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><code class="filename">/var/empty</code> представляет собой
	    каталог, который используется в программе <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sshd&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sshd</span>(8)</span></a>
	    при выполнении разделения полномочий.  Каталог
	    <code class="filename">/var/empty</code> пуст, его владельцем
	    является <code class="systemitem">root</code>,
	    и на нём установлен флаг <code class="literal">schg</code>.
	    Этот каталог не должен удаляться.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp74980304"></a><a id="newsyslog-expectations"></a><p><strong>10.24.</strong></p></td><td align="left" valign="top"><p>Я поменял <code class="filename">/etc/newsyslog.conf</code>.
	    Как проверить правильность изменений?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Чтобы посмотреть, что будет делать <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=newsyslog&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">newsyslog</span>(8)</span></a>,
	    используйте следующую команду:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>newsyslog -nrvv</code></strong></pre></td></tr><tr class="question"><td align="left" valign="top"><a id="idp74984400"></a><a id="timezone"></a><p><strong>10.25.</strong></p></td><td align="left" valign="top"><p>Как поправить часовой пояс?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Используйте <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=tzsetup&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">tzsetup</span>(8)</span></a>.</p></td></tr></tbody></table></div></div><div class="chapter"><div xmlns="" class="titlepage"><div><div><h1 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="x"></a>Глава 11. X Window System и виртуальные консоли</h1></div></div></div><div class="qandaset"><a id="idp74988496"></a><dl><dt>11.1. <a href="#idp74988752">Что такое X Window System?</a></dt><dt>11.2. <a href="#idp75002704">Я хочу запустить Xorg, как это сделать?</a></dt><dt>11.3. <a href="#idp75008592">Я попытался запустить X, но получил
	    сообщение No devices detected. после
	    ввода команды
	    startx.  Что мне теперь делать?</a></dt><dt>11.4. <a href="#idp75017808">Почему моя мышь не работает с X?</a></dt><dt>11.5. <a href="#idp75039056">У моей мыши есть колёсико.  Могу ли я его использовать
	    при работе в X?</a></dt><dt>11.6. <a href="#idp75048912">Как заставить работать тачпад Synaptics в X?</a></dt><dt>11.7. <a href="#idp75063504">Как использовать удалённые X-дисплеи?</a></dt><dt>11.8. <a href="#idp75067600">Что такое виртуальные консоли и как изменить их
	    количество?</a></dt><dt>11.9. <a href="#idp75092944">Как осуществляется доступ к виртуальным консолям из X?</a></dt><dt>11.10. <a href="#idp75110608">Как запустить XDM во время
	    загрузки?</a></dt><dt>11.11. <a href="#idp75133520">При запуске xconsole выдаётся сообщение
	    Couldn't open console.</a></dt><dt>11.12. <a href="#idp75146704">Моя мышь PS/2 в X работает неправильно.</a></dt><dt>11.13. <a href="#idp75154896">Как поменять местами кнопки мыши?</a></dt><dt>11.14. <a href="#idp75158224">Как установить экранную заставку и где такие заставки можно
	    найти?</a></dt><dt>11.15. <a href="#idp75160912">Можно ли в X использовать клавишу
	    Windows?</a></dt><dt>11.16. <a href="#idp75185744">Как заставить работать аппаратное ускорение 3D-графики для
	    OpenGL(R)?</a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%" /><col /></colgroup><tbody><tr class="question"><td align="left" valign="top"><a id="idp74988752"></a><a id="whatis-X"></a><p><strong>11.1.</strong></p></td><td align="left" valign="top"><p>Что такое X Window System?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>X Window System (обычно <code class="literal">X11</code>)
	    является наиболее общедоступной оконной системой, которая
	    может работать на <span class="trademark">UNIX</span>(R) и <span class="trademark">UNIX</span>(R)-подобных системах, в том
	    числе и во FreeBSD.  Разработкой стандартов на используемый
	    <a class="link" href="http://en.wikipedia.org/wiki/X_Window_System_core_protocol" target="_top">X-протокол</a>
	    занимается организация <a class="link" href="http://www.x.org/wiki/" target="_top">The X.Org Foundation</a>,
	    с текущей эталонной реализацией version 11 release
	    7.7, поэтому название часто сокращается до
	    <code class="literal">X11</code>.</p><p>Для разных архитектур и операционных систем существует
	    множество реализаций этой системы.  Реализацию кода для
	    серверной части называют <code class="literal">X-сервером</code>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75002704"></a><a id="running-X"></a><p><strong>11.2.</strong></p></td><td align="left" valign="top"><p>Я хочу запустить Xorg, как это сделать?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Для установки Xorg выполните одно из действий:</p><p>Используйте мета-порт <code class="filename">x11/xorg</code>, который выполняет
	    построение и установку всех компонентов Xorg.</p><p>Используйте <code class="filename">x11/xorg-minimal</code>, который
	    выполняет построение и установку только необходимых
	    компонентов Xorg.</p><p>Установите Xorg из пакетов FreeBSD.</p><pre class="screen"><strong class="userinput"><code><code class="prompt">#</code> pkg install xorg</code></strong></pre><p>После установки Xorg следуйте указаниям в разделе <a class="link" href="../../../../doc/ru_RU.KOI8-R/books/handbook/x-config.html" target="_top">Конфигурация
	    X11</a> Руководства FreeBSD.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75008592"></a><a id="running-X-securelevels"></a><p><strong>11.3.</strong></p></td><td align="left" valign="top"><p>Я <span class="emphasis"><em>попытался</em></span> запустить X, но получил
	    сообщение <span class="errorname">No devices detected.</span> после
	    ввода команды
	    <code class="command">startx</code>.  Что мне теперь делать?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Вероятно, в системе установлен повышенный уровень
	    безопасности (<code class="literal">securelevel</code>).  При
	    повышенном уровне защиты систему X запустить невозможно,
	    потому что X требуются права на операции записи в
	    устройство <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=io&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">io</span>(4)</span></a>.  Дополнительная информация
	    находится на странице Справочника <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=init&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">init</span>(8)</span></a>.</p><p>Существует два решения проблемы: установить значение
	    <code class="literal">securelevel</code> обратно в ноль или
	    запускать <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=xdm&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">xdm</span>(1)</span></a> (или любой другой оконный менеджер)
	    во время загрузки, до того как повышается значение
	    <code class="literal">securelevel</code>.</p><p>Обратитесь к <a class="xref" href="#xdm-boot" title="11.10.">Вопрос: 11.10</a> для получения более
	    полной информации о запуске <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=xdm&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">xdm</span>(1)</span></a> во время загрузки.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75017808"></a><a id="x-and-moused"></a><p><strong>11.4.</strong></p></td><td align="left" valign="top"><p>Почему моя мышь не работает с X?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>При использовании стандартного драйвера консоли
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=syscons&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">syscons</span>(4)</span></a> во FreeBSD можно включить поддержку указателя
	    мыши во всех виртуальных экранах.  Во избежание конфликтов
	    с X, драйвер <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=syscons&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">syscons</span>(4)</span></a> поддерживает виртуальное
	    устройство <code class="filename">/dev/sysmouse</code>.  Все события
	    от реального устройства мыши пишутся в устройство
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sysmouse&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">sysmouse</span>(4)</span></a> через <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=moused&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">moused</span>(8)</span></a>.  Чтобы использовать
	    мышь на одной и более виртуальных консолях, и при этом
	    продолжать использовать X, посмотрите <a class="xref" href="#moused" title="4.4.1.">Вопрос: 4.4.1</a> и настройте
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=moused&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">moused</span>(8)</span></a>.</p><p>Затем отредактируйте
	    <code class="filename">/etc/X11/xorg.conf</code>,
	    чтобы в нём были следующие строки:</p><pre class="programlisting">Section "InputDevice"
   Option	  "Protocol" "SysMouse"
   Option	  "Device" "/dev/sysmouse"
.....</pre><p>Начиная с версии Xorg 7.4 раздел
	    <code class="literal">InputDevice</code> в файле
	    <code class="filename">xorg.conf</code> игнорируется, и вместо него
	    используется механизм автоматически определяемых устройств.
	    Чтобы восстановить прежнее поведение, добавьте в раздел
	    <code class="literal">ServerLayout</code> или
	    <code class="literal">ServerFlags</code> такую строку:</p><pre class="programlisting">Option "AutoAddDevices" "false"</pre><p>Некоторые предпочитают использовать в X устройство
	    <code class="filename">/dev/mouse</code>.  Чтобы оно работало, файл
	    устройства <code class="filename">/dev/mouse</code> должен являться
	    ссылкой на <code class="filename">/dev/sysmouse</code> (посмотрите
	    справку по <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sysmouse&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">sysmouse</span>(4)</span></a>).  Это можно сделать, добавив
	    следующую строку в <code class="filename">/etc/devfs.conf</code>
	    (посмотрите справку по <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=devfs.conf&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">devfs.conf</span>(5)</span></a>):</p><pre class="programlisting">link    sysmouse    mouse</pre><p>Ссылка может быть создана путем перезапуска <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=devfs&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">devfs</span>(5)</span></a>
	    с использованием следующей команды (из под пользователя
	    <code class="systemitem">root</code>):</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>service devfs restart</code></strong></pre></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75039056"></a><a id="x-and-wheel"></a><p><strong>11.5.</strong></p></td><td align="left" valign="top"><p>У моей мыши есть колёсико.  Могу ли я его использовать
	    при работе в X?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Да, если X настроена для использования 5-кнопочной
	    мыши.  Для этого добавьте строчки <code class="literal">Buttons
	      5</code> и <code class="literal">ZAxisMapping 4 5</code> в
	    раздел <span class="quote"><<<span class="quote">InputDevice</span>>></span> файла
	    <code class="filename">/etc/X11/xorg.conf</code> как показано
	    в этом примере:</p><pre class="programlisting">Section "InputDevice"
   Identifier      "Mouse1"
   Driver	  "mouse"
   Option	  "Protocol" "auto"
   Option	  "Device" "/dev/sysmouse"
   Option	  "Buttons" "5"
   Option	  "ZAxisMapping" "4 5"
EndSection</pre><p>Для использования мыши в
	    <span class="application">Emacs</span> также добавьте в
	    <code class="filename">~/.emacs</code> следующие строки:</p><pre class="programlisting">;; wheel mouse
(global-set-key [mouse-4] 'scroll-down)
(global-set-key [mouse-5] 'scroll-up)</pre></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75048912"></a><a id="x-and-synaptic"></a><p><strong>11.6.</strong></p></td><td align="left" valign="top"><p>Как заставить работать тачпад Synaptics в X?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Для его работы понадобится настроить некоторые вещи.</p><p>Чтобы использовать драйвер synaptics из Xorg, для
	    начала удалите строку moused_enable из
	    <code class="filename">rc.conf</code>.</p><p>Для включения synaptics добавьте следующую строку в
	    <code class="filename">/boot/loader.conf</code>:</p><pre class="programlisting">hw.psm.synaptics_support="1"</pre><p>Добавьте следующее в
	    <code class="filename">/etc/X11/xorg.conf</code>:</p><pre class="programlisting">Section "InputDevice"
Identifier  "Touchpad0"
Driver      "synaptics"
Option      "Protocol" "psm"
Option      "Device" "/dev/psm0"
EndSection</pre><p>И не забыть добавить следующее в раздел
	    <span class="quote"><<<span class="quote">ServerLayout</span>>></span>:</p><pre class="programlisting">InputDevice    "Touchpad0" "SendCoreEvents"</pre></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75063504"></a><a id="no-remote-x11"></a><p><strong>11.7.</strong></p></td><td align="left" valign="top"><p>Как использовать удалённые X-дисплеи?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Из соображений обеспечения информационной безопасности
	    открывать удалённые окна на машине по умолчанию запрещено.</p><p>Для включения этой возможности запустите
	    <span class="application">X</span> с аргументом
	    <code class="option">-listen_tcp</code>:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>startx -listen_tcp</code></strong></pre></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75067600"></a><a id="virtual-console"></a><p><strong>11.8.</strong></p></td><td align="left" valign="top"><p>Что такое виртуальные консоли и как изменить их
	    количество?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Виртуальные консоли предоставляют несколько
	    одновременных сеансов работы с той же самой машиной без
	    установки какой бы то ни было сети или запуска X.</p><p>При запуске системы после вывода сообщений этапа
	    загрузки на консоль выдаётся приглашение для входа в
	    систему.  Введите своё имя и пароль, чтобы начать работу
	    на первой виртуальной консоли.</p><p>Чтобы запустить ещё один сеанс, скажем, чтобы
	    заглянуть в документацию по программе или для чтения
	    электронной почты во время ожидания завершения передачи
	    данных по FTP, нажмите <span class="keycap"><strong>F2</strong></span>, удерживая
	    <span class="keycap"><strong>Alt</strong></span>.  Это отобразит приглашение на
	    второй виртуальной консоли.  Чтобы вернуться к
	    первоначальному сеансу, нажмите <span class="keycap"><strong>Alt</strong></span>+<span class="keycap"><strong>F1</strong></span>.</p><p>По умолчанию во FreeBSD задействованы восемь виртуальных
	    консолей, а комбинации клавиш <span class="keycap"><strong>Alt</strong></span>+<span class="keycap"><strong>F1</strong></span>,
	    <span class="keycap"><strong>Alt</strong></span>+<span class="keycap"><strong>F2</strong></span>, <span class="keycap"><strong>Alt</strong></span>+<span class="keycap"><strong>F3</strong></span> и далее служат для
	    переключения между ними.</p><p>Чтобы увеличить количество виртуальных консолей,
	    отредактируйте <code class="filename">/etc/ttys</code> (смотрите
	    страницу Справочника <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ttys&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">ttys</span>(5)</span></a>), добавив туда записи
	    для терминалов с именами от <code class="filename">ttyv8</code> до
	    <code class="filename">ttyvc</code> после комментария про
	    <span class="quote"><<<span class="quote">Virtual terminals</span>>></span>:</p><pre class="programlisting"># Edit the existing entry for ttyv8 in /etc/ttys and change
# "off" to "on".
ttyv8   "/usr/libexec/getty Pc"	 xterm  on secure
ttyv9   "/usr/libexec/getty Pc"	 xterm  on secure
ttyva   "/usr/libexec/getty Pc"	 xterm  on secure
ttyvb   "/usr/libexec/getty Pc"	 xterm  on secure</pre><p>Чем больше виртуальных терминалов, тем больше ресурсов
	    используется.  Это может привести к проблемам на системах
	    с 8 Мбайт ОЗУ или меньше.  Подумайте о смене статуса
	    консолей с <code class="literal">secure</code> на
	    <code class="literal">insecure</code>.</p><div xmlns="" class="note"><h3 class="admontitle">Примечание: </h3><p xmlns="http://www.w3.org/1999/xhtml">Во FreeBSD до версии 9.0 использовался тип терминала
	      <span class="quote"><<<span class="quote">cons25</span>>></span> вместо <span class="quote"><<<span class="quote">xterm</span>>></span>.
	      При добавлении в <code class="filename">/etc/ttys</code> новых
	      записей используйте существующий формат.</p></div><div xmlns="" class="important"><h3 class="admontitle">Важно: </h3><p xmlns="http://www.w3.org/1999/xhtml">Чтобы запустить сервер X, нужно зарезервировать под
	      него хотя бы один виртуальный терминал со значением
	      <code class="literal">off</code>.  Это означает, что под
	      виртуальные консоли можно отвести только одиннадцать
	      функциональных клавиш, и ещё одна остаётся за
	      X-сервером.</p></div><p>Например, чтобы запустить X и 11 виртуальных консолей,
	    нужно настроить двенадцатый виртуальный терминал:</p><pre class="programlisting">ttyvb   "/usr/libexec/getty Pc"	 xterm  off secure</pre><p>Самым простым способом активировать виртуальные
	    консоли является перезагрузка.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75092944"></a><a id="vty-from-x"></a><p><strong>11.9.</strong></p></td><td align="left" valign="top"><p>Как осуществляется доступ к виртуальным консолям из X?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Используйте комбинацию клавиш
	    <span class="keycap"><strong>Ctrl</strong></span>+<span class="keycap"><strong>Alt</strong></span>+<span class="keycap"><strong>F<em class="replaceable"><code>n</code></em></strong></span>
	    для переключения обратно в виртуальную консоль.  Нажмите
	    <span class="keycap"><strong>Ctrl</strong></span>+<span class="keycap"><strong>Alt</strong></span>+<span class="keycap"><strong>F1</strong></span>,
	    чтобы вернуться на первую виртуальную консоль.</p><p>После того, как вы оказались в текстовой консоли,
	    используйте комбинации
	    <span class="keycap"><strong>Alt</strong></span>+<span class="keycap"><strong>F<em class="replaceable"><code>n</code></em></strong></span> для переключения между ними.</p><p>Чтобы вернуться в сеанс работы X, переключитесь
	    в виртуальную консоль, на которой запущена X Window.
	    Если X был запущен из командной строки с использованием
	    команды <code class="command">startx</code>, то сеанс работы X будет
	    привязан к следующей неиспользуемой виртуальной консоли, а
	    не к той текстовой консоли, с которой он был запущен.
	    В случае восьми активных виртуальных терминалов X будет
	    работать на девятом, поэтому используйте комбинацию
	    <span class="keycap"><strong>Alt</strong></span>+<span class="keycap"><strong>F9</strong></span>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75110608"></a><a id="xdm-boot"></a><p><strong>11.10.</strong></p></td><td align="left" valign="top"><p>Как запустить <span class="application">XDM</span> во время
	    загрузки?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Есть две философские школы, проповедующие различные методы
	    запуска <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=xdm&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">xdm</span>(1)</span></a>.  Последователи одного течения запускают
	    <code class="command">xdm</code> из <code class="filename">/etc/ttys</code>
	    (посмотрите <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ttys&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">ttys</span>(5)</span></a>), используя приводимый пример, тогда
	    как другие вставляют запуск <code class="command">xdm</code> в скрипт
	    <code class="filename">rc.local</code> (посмотрите справку по <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=rc&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">rc</span>(8)</span></a>)
	    или <code class="filename">X</code>, помещая последний в каталог
	    <code class="filename">/usr/local/etc/rc.d</code>.
	    Оба метода
	    равноправны, и один из них может работать в ситуациях, с
	    которыми не справляется другой и наоборот.  В обоих случаях
	    результат один и тот же: X выводит графическое приглашение
	    для входа в систему.</p><p>Плюсом метода с использованием <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ttys&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">ttys</span>(5)</span></a> является
	    документирование того, на каком vty будет запущен X и то,
	    что ответственность за перезапуск X-сервера при завершении
	    сеанса работы лежит на процессе <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=init&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">init</span>(8)</span></a>.  Метод с
	    использованием <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=rc&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">rc</span>(8)</span></a> позволяет просто прекратить работу
	    xdm командой <code class="command">kill</code> <code class="command">xdm</code>,
	    если при запуске X возникли какие-нибудь проблемы.</p><p>Из <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=rc&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">rc</span>(8)</span></a> <code class="command">xdm</code> должен быть запущен
	    без аргументов.  <code class="command">xdm</code>
	    должен быть запущен <span class="emphasis"><em>после</em></span> запуска
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=getty&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">getty</span>(8)</span></a>, иначе они будут конфликтовать, блокируя консоль.
	    Лучше всего выдержать паузу секунд на 10 и потом запустить
	    <code class="command">xdm</code>.</p><p>Если <code class="command">xdm</code> запускается из
	    <code class="filename">/etc/ttys</code>, остаётся вероятность
	    конфликта между <code class="command">xdm</code> и <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=getty&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">getty</span>(8)</span></a>.
	    Одним из способов избежать этого является добавление
	    номера <code class="literal">vt</code> в файл
	    <code class="filename">/usr/local/lib/X11/xdm/Xservers</code>:</p><pre class="programlisting">:0 local /usr/local/bin/X vt4</pre><p>В вышеприведённом случае X-серверу указывается работать на
	    <code class="filename">/dev/ttyv3</code>.  Заметьте, что номера
	    отличаются на единицу.  Дело в том, что X-сервер считает vty
	    от единицы, когда как отсчёт vty в ядре FreeBSD ведётся с нуля.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75133520"></a><a id="xconsole-failure"></a><p><strong>11.11.</strong></p></td><td align="left" valign="top"><p>При запуске <code class="command">xconsole</code> выдаётся сообщение
	    <span class="errorname">Couldn't open console</span>.</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Если <span class="application">X</span> запускается с
	    помощью <span class="application">startx</span>, права на
	    устройство <code class="filename">/dev/console</code>
	    <span class="emphasis"><em>не</em></span> изменяются, поэтому такие
	    программы как <span class="application">xterm -C</span> и
	    <span class="application">xconsole</span> не будут работать.</p><p>Это зависит от прав доступа, установленных для консоли по умолчанию.
	    В многопользовательской системе вовсе не нужно, чтобы любой
	    пользователь мог выводить информацию на системную консоль.  Для
	    пользователей, вошедших в систему через VTY, для решения этой проблемы
	    существует файл <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=fbtab&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">fbtab</span>(5)</span></a>.</p><p>В общем, раскомментируйте строчку в файле
	    <code class="filename">/etc/fbtab</code> (посмотрите справку по
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=fbtab&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">fbtab</span>(5)</span></a>):</p><pre class="programlisting">/dev/ttyv0 0600 /dev/console</pre><p>Этого будет достаточно для того, чтобы всякий, кто вошёл
	    в систему с терминала <code class="filename">/dev/ttyv0</code>, имел доступ к
	    консоли.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75146704"></a><a id="ps2-x"></a><p><strong>11.12.</strong></p></td><td align="left" valign="top"><p>Моя мышь PS/2 в X работает неправильно.</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Мышь и драйвер могли рассинхронизироваться.  В редких
	    случаях драйвер может ошибочно сообщать о проблемах
	    синхронизации:</p><pre class="programlisting">psmintr: out of sync (xxxx != yyyy)</pre><p>Если это случилось, отмените проверку согласования,
	    установив значение флага для драйвера мыши PS/2 в
	    <code class="literal">0x100</code>.  Проще всего это сделать
	    добавлением <code class="literal">hint.psm.0.flags="0x100"</code> в
	    <code class="filename">/boot/loader.conf</code> с перезагрузкой.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75154896"></a><a id="mouse-button-reverse"></a><p><strong>11.13.</strong></p></td><td align="left" valign="top"><p>Как поменять местами кнопки мыши?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Наберите
	    <code class="command">xmodmap -e "pointer = 3 2 1"</code>.
	    Добавьте эту команду в
	    <code class="filename">~/.xinitrc</code> или
	    <code class="filename">~/.xsession</code> для автоматического
	    запуска.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75158224"></a><a id="install-splash"></a><p><strong>11.14.</strong></p></td><td align="left" valign="top"><p>Как установить экранную заставку и где такие заставки можно
	    найти?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Подробный ответ находится в разделе <a class="link" href="../../../../doc/ru_RU.KOI8-R/books/handbook/boot-blocks.html#boot-splash" target="_top">Загрузочные
	    экранные заставки</a> Руководства FreeBSD.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75160912"></a><a id="windows-keys"></a><p><strong>11.15.</strong></p></td><td align="left" valign="top"><p>Можно ли в X использовать клавишу
	    <span class="keycap"><strong>Windows</strong></span>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Да.  Используйте <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=xmodmap&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">xmodmap</span>(1)</span></a> для привязки функций
	    к этим клавишам.</p><p>Если все клавиатуры Windows стандартны, то
	    эти три клавиши имеют следующие клавиатурные коды:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><span class="keycode">115</span> - клавиша
		<span class="keycap"><strong>Windows</strong></span> между клавишами <span class="keycap"><strong>Ctrl</strong></span>
		и <span class="keycap"><strong>Alt</strong></span> с левой стороны</p></li><li class="listitem"><p><span class="keycode">116</span> - клавиша
		<span class="keycap"><strong>Windows</strong></span> справа от
		<span class="keycap"><strong>AltGr</strong></span></p></li><li class="listitem"><p><span class="keycode">117</span> - клавиша
		<span class="keycap"><strong>Menu</strong></span>, слева от клавиши
		<span class="keycap"><strong>Ctrl</strong></span>, находящейся справа</p></li></ul></div><p>Чтобы заставить левую клавишу <span class="keycap"><strong>Windows</strong></span>
	    набирать запятую, попробуйте выполнить такую команду:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>xmodmap -e "keycode 115 = comma"</code></strong></pre><p>Для того, чтобы переопределения клавиш
	    <span class="keycap"><strong>Windows</strong></span> выполнялось автоматически каждый
	    раз при запуске X, поместите команды
	    <code class="command">xmodmap</code> в
	    <code class="filename">~/.xinitrc</code> либо, что
	    предпочтительней, создайте файл
	    <code class="filename">~/.xmodmaprc</code> и включите в него
	    параметры <code class="command">xmodmap</code> по одному на строку,
	    затем добавьте в <code class="filename">~/.xinitrc</code> такую
	    строку:</p><pre class="programlisting">xmodmap $HOME/.xmodmaprc</pre><p>Например, чтобы переопределить эти 3 клавиши так,
	    чтобы они выполняли функции клавиш <span class="keycap"><strong>F13</strong></span>,
	    <span class="keycap"><strong>F14</strong></span> и <span class="keycap"><strong>F15</strong></span>.  Это позволит
	    легко привязать их к полезным функциям в приложениях или
	    менеджере окон.</p><p>Чтобы сделать это, поместите такие строки в файл
	    <code class="filename">~/.xmodmaprc</code>:</p><pre class="programlisting">keycode 115 = F13
keycode 116 = F14
keycode 117 = F15</pre><p>При использовании оконного менеджера
	    <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/x11-wm/fvwm2/pkg-descr">x11-wm/fvwm2</a> клавиши можно
	    переопределить так, чтобы <span class="keycap"><strong>F13</strong></span> сворачивал
	    в иконку (и восстанавливал предыдущий размер) то окно, на
	    которое указывает курсор, <span class="keycap"><strong>F14</strong></span> перемещал
	    окно с курсором на передний план или, если оно уже
	    впереди, возвращал обратно, а <span class="keycap"><strong>F15</strong></span> вызывал
	    главное меню Workplace, даже если курсор находится не на
	    рабочем столе, что бывает полезно, когда не видно ни
	    одного кусочка рабочего стола.</p><p>Следующие записи в <code class="filename">~/.fvwmrc</code>
	    позволяют достичь описанных выше функций:</p><pre class="programlisting">Key F13	FTIWS	A	Iconify
Key F14	FTIWS	A	RaiseLower
Key F15	A	A	Menu Workplace Nop</pre></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75185744"></a><a id="x-3d-acceleration"></a><p><strong>11.16.</strong></p></td><td align="left" valign="top"><p>Как заставить работать аппаратное ускорение 3D-графики для
	    <span class="trademark">OpenGL</span>(R)?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Наличие 3D-ускорения зависит от версии сервера Xorg
	    и типа графического адаптера.  Для адаптера nVidia
	    используйте двоичный драйвер для FreeBSD, установив один из
	    нижеследующих портов:</p><p>Последние версии адаптеров nVidia поддерживаются
	    портом <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/x11/nvidia-driver/pkg-descr">x11/nvidia-driver</a>.</p><p>Более старые драйверы доступны как
	    <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/x11/nvidia-driver-###/pkg-descr">x11/nvidia-driver-<em xmlns="http://www.w3.org/1999/xhtml" class="replaceable"><code>###</code></em></a>.</p><p>nVidia предоставляет подробную информацию о том, какие
	    адаптеры поддерживаются тем или иным драйвером,
	    на своём сайте: <code class="uri"><a class="uri" href="http://www.nvidia.com/object/IO_32667.html" target="_top">http://www.nvidia.com/object/IO_32667.html</a></code>.</p><p>Для адаптеров Matrox G200/G400 следует
	    попробовать порт <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/x11-servers/mga_hal/pkg-descr">x11-servers/mga_hal</a>.</p><p>Для ATI Rage 128 и Radeon посмотрите страницы
	    Справочника <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ati&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">ati</span>(4)</span></a>, <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=r128&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">r128</span>(4)</span></a> и <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=radeon&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">radeon</span>(4)</span></a>.</p></td></tr></tbody></table></div></div><div class="chapter"><div xmlns="" class="titlepage"><div><div><h1 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="networking"></a>Глава 12. Работа в сети</h1></div></div></div><div class="qandaset"><a id="idp75196112"></a><dl><dt>12.1. <a href="#idp75196368">Где можно найти информацию о <<бездисковой
	    загрузке>>?</a></dt><dt>12.2. <a href="#idp75203792">Может ли машина с FreeBSD использоваться как
	    маршрутизатор?</a></dt><dt>12.3. <a href="#idp75206864">Можно ли подключить машину с Windows(R) к Internet с помощью
	    FreeBSD?</a></dt><dt>12.4. <a href="#idp75219664">Поддерживает ли FreeBSD протокол PPP?</a></dt><dt>12.5. <a href="#idp75223632">Поддерживает ли FreeBSD технологию NAT или Masquerading?</a></dt><dt>12.6. <a href="#idp75226704">Как настроить алиас в сети Ethernet?</a></dt><dt>12.7. <a href="#idp75234000">Почему я не могу смонтировать диск Linux(R) по NFS?</a></dt><dt>12.8. <a href="#idp75237968">Почему mountd продолжает выдавать сообщения
	    can't change attributes и bad
	    exports list на моём сервере NFS, работающем под
	    управлением FreeBSD?</a></dt><dt>12.9. <a href="#idp75251792">Как включить поддержку multicast IP?</a></dt><dt>12.10. <a href="#idp75254992">Почему я должен использовать FQDN для хостов не в моей
	    сети?</a></dt><dt>12.11. <a href="#idp75257680">Permission denied для любых действий,
	    связанных с работой сети.</a></dt><dt>12.12. <a href="#idp75264208">Почему моё правило <<fwd>> для
	    ipfw по перенаправлению сервиса на другую
	    машину не работает?</a></dt><dt>12.13. <a href="#idp75277648">Как можно перенаправить запросы с одной машины на другую?</a></dt><dt>12.14. <a href="#idp75283536">Где можно найти средства управления сетевым трафиком?</a></dt><dt>12.15. <a href="#idp75293136">Почему появляются сообщения
	    /dev/bpf0: device not configured?</a></dt><dt>12.16. <a href="#idp75296720">Как смонтировать диск Windows(R)-машины в моей локальной сети,
	    как это делает smbmount в Linux(R)?</a></dt><dt>12.17. <a href="#idp75313360">Что значат сообщения Limiting icmp/open
	    port/closed port response в файле журнала?</a></dt><dt>12.18. <a href="#idp75326928">Что это за сообщения arp: unknown hardware
	    address format?</a></dt><dt>12.19. <a href="#idp75329360">Почему я постоянно вижу сообщения вида
	    192.168.0.10 is on fxp1 but got reply from
	      00:15:17:67:cf:82 on rl0 и как мне их
	      отключить?</a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%" /><col /></colgroup><tbody><tr class="question"><td align="left" valign="top"><a id="idp75196368"></a><a id="diskless-booting"></a><p><strong>12.1.</strong></p></td><td align="left" valign="top"><p>Где можно найти информацию о <span class="quote"><<<span class="quote">бездисковой
	    загрузке</span>>></span>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><span class="quote"><<<span class="quote">Бездисковая загрузка</span>>></span> означает, что машина
	    с FreeBSD загружается по сети и читает необходимые файлы с
	    сервера, а не со своего диска.  Подробное описание есть в
	    <a class="link" href="../../../../doc/ru_RU.KOI8-R/books/handbook/network-diskless.html" target="_top">
	    соответствующей главе</a> Руководства.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75203792"></a><a id="router"></a><p><strong>12.2.</strong></p></td><td align="left" valign="top"><p>Может ли машина с FreeBSD использоваться как
	    маршрутизатор?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Да.  Обратитесь к разделу Руководства,
	    посвящённому <a class="link" href="../../../../doc/ru_RU.KOI8-R/books/handbook/advanced-networking.html" target="_top">сложным
	    вопросам работы в сети</a>, особенно в той части, что
	    касается <a class="link" href="../../../../doc/ru_RU.KOI8-R/books/handbook/network-routing.html" target="_top">маршрутизации
	    и маршрутизаторов</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75206864"></a><a id="win95-connection"></a><p><strong>12.3.</strong></p></td><td align="left" valign="top"><p>Можно ли подключить машину с <span class="trademark">Windows</span>(R) к Internet с помощью
	    FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Как правило, те, кто задают такие вопросы, имеют дома
	    два компьютера, один с FreeBSD, а другой с какой-то версией
	    <span class="trademark">Windows</span>(R).  Идея состоит в использовании FreeBSD для
	    подключения к Internet, а затем осуществлять выход в Internet
	    из <span class="trademark">Windows</span>(R) через FreeBSD.  На самом деле это просто частный
	    случай предыдущего вопроса, который хорошо отработан.</p><p>Для подключения к Internet с использованием
	    коммутируемого соединения нужно указать параметр
	    <code class="option">-nat</code> и установить в файле
	    <code class="filename">/etc/rc.conf</code> переменную
	    <code class="literal">gateway_enable</code> в значение
	    <span class="emphasis"><em>YES</em></span>.  Для получения
	    дополнительной информации обратитесь к страницам
	    справочной системы по команде <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> или <a class="link" href="../../../../doc/ru_RU.KOI8-R/books/handbook/userppp.html" target="_top">
	    разделу Руководства о PPP режима пользователя</a>.</p><p>Если подключение к Internet выполняется через
	    Ethernet, используйте <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=natd&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">natd</span>(8)</span></a>.  Вводная информация
	    находится в разделе Руководства <a class="link" href="../../../../doc/ru_RU.KOI8-R/books/handbook/network-natd.html" target="_top">natd</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75219664"></a><a id="slip-ppp-support"></a><p><strong>12.4.</strong></p></td><td align="left" valign="top"><p>Поддерживает ли FreeBSD протокол PPP?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Да.  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> может обслуживать как входящие, так и
	    исходящие соединения.</p><p>Более подробная информация об их использовании находится в
	    <a class="link" href="../../../../doc/ru_RU.KOI8-R/books/handbook/ppp-and-slip.html" target="_top">разделе
	    Руководства о протоколе PPP</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75223632"></a><a id="natd"></a><p><strong>12.5.</strong></p></td><td align="left" valign="top"><p>Поддерживает ли FreeBSD технологию NAT или Masquerading?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Да.  Для получения указаний по использованию NAT через
	    подключение PPP обратитесь к <a class="link" href="../../../../doc/ru_RU.KOI8-R/books/handbook/userppp.html" target="_top">разделу
	      Руководства о PPP</a>.  Чтобы использовать NAT вместе
	    с другим типом сетевого подключения, взгляните на раздел
	    Руководства <a class="link" href="../../../../doc/ru_RU.KOI8-R/books/handbook/network-natd.html" target="_top">natd</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75226704"></a><a id="ethernet-aliases"></a><p><strong>12.6.</strong></p></td><td align="left" valign="top"><p>Как настроить алиас в сети Ethernet?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Если алиас находится в той же самой сети, что и уже
	    настроенный на интерфейсе адрес, допишите к этой команде
	    <code class="literal">netmask 0xffffffff</code>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ifconfig <em class="replaceable"><code>ed0</code></em> alias <em class="replaceable"><code>192.0.2.2</code></em> netmask 0xffffffff</code></strong></pre><p>В противном случае укажите сетевой адрес и маску
	    обычным образом:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ifconfig <em class="replaceable"><code>ed0</code></em> alias <em class="replaceable"><code>172.16.141.5</code></em> netmask 0xffffff00</code></strong></pre><p>Дополнительная информация находится в <a class="link" href="../../../../doc/ru_RU.KOI8-R/books/handbook/configtuning-virtual-hosts.html" target="_top">Руководстве</a>
	    FreeBSD.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75234000"></a><a id="nfs-linux"></a><p><strong>12.7.</strong></p></td><td align="left" valign="top"><p>Почему я не могу смонтировать диск <span class="trademark">Linux</span>(R) по NFS?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Некоторые версии NFS для <span class="trademark">Linux</span>(R) поддерживают запросы на
	    монтирование только с привилегированного порта; попробуйте
	    выполнить следующую команду:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mount -o -P linuxbox:/blah /mnt</code></strong></pre></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75237968"></a><a id="exports-errors"></a><p><strong>12.8.</strong></p></td><td align="left" valign="top"><p>Почему <code class="command">mountd</code> продолжает выдавать сообщения
	    <span class="errorname">can't change attributes</span> и <span class="errorname">bad
	    exports list</span> на моём сервере NFS, работающем под
	    управлением FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>В большинстве случаев проблема заключается в недостаточном
	    понимании корректного формата файла
	    <code class="filename">/etc/exports</code>.  Просмотрите ещё раз
	    справочную информацию по <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=exports&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">exports</span>(5)</span></a> и раздел об <a class="link" href="../../../../doc/ru_RU.KOI8-R/books/handbook/network-nfs.html" target="_top">NFS</a> в Руководстве,
	    особенно в части <a class="link" href="../../../../doc/ru_RU.KOI8-R/books/handbook/network-nfs.html#configuring-nfs" target="_top">настройки
	    NFS</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75251792"></a><a id="ip-multicast"></a><p><strong>12.9.</strong></p></td><td align="left" valign="top"><p>Как включить поддержку multicast IP?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Установите пакет <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/net/mrouted/pkg-descr">net/mrouted</a> и
	    добавьте <code class="literal">mrouted_enable="YES"</code> в
	    <code class="filename">/etc/rc.conf</code> для запуска этого
	    сервиса во время загрузки.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75254992"></a><a id="fqdn-hosts"></a><p><strong>12.10.</strong></p></td><td align="left" valign="top"><p>Почему я должен использовать FQDN для хостов не в моей
	    сети?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>За ответом на этот вопрос обращайтесь к <a class="link" href="../../../../doc/ru_RU.KOI8-R/books/handbook/mail-trouble.html" target="_top">Руководству</a>
	    FreeBSD.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75257680"></a><a id="network-permission-denied"></a><p><strong>12.11.</strong></p></td><td align="left" valign="top"><p><span class="errorname">Permission denied</span> для любых действий,
	    связанных с работой сети.</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Если ядро скомпилировано с параметром
	    <code class="literal">IPFIREWALL</code>, имейте в виду, что
	    политикой по умолчанию является запрет прохождения
	    всех пакетов, которые явно не разрешены.</p><p>Если межсетевой экран был случайно сконфигурирован
	    неверным образом, то для восстановления работоспособности
	    сети наберите такую команду из-под пользователя
	    <code class="systemitem">root</code>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ipfw add 65534 allow all from any to any</code></strong></pre><p>Рассмотрите использование
	    <code class="literal">firewall_type='open'</code> в
	    файле <code class="filename">/etc/rc.conf</code>.</p><p>Дополнительная информация о настройке данного
	    межсетевого экрана находится в <a class="link" href="../../../../doc/ru_RU.KOI8-R/books/handbook/firewalls-ipfw.html" target="_top">соответствующей
	      главе</a> Руководства.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75264208"></a><a id="ipfw-fwd"></a><p><strong>12.12.</strong></p></td><td align="left" valign="top"><p>Почему моё правило <span class="quote"><<<span class="quote">fwd</span>>></span> для
	    <code class="command">ipfw</code> по перенаправлению сервиса на другую
	    машину не работает?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Возможно, потому, что вместо простого перенаправления
	    пакетов нужна трансляция сетевых адресов (NAT).  Правило
	    <span class="quote"><<<span class="quote">fwd</span>>></span> только перенаправляет пакеты и данные
	    внутри него не меняет.  Рассмотрим такое правило:</p><pre class="screen">01000 fwd <em class="replaceable"><code>10.0.0.1</code></em> from any to <em class="replaceable"><code>foo 21</code></em></pre><p>Когда пакет с адресом назначения
	    <em class="replaceable"><code>foo</code></em> достигает машины с этим
	    правилом, пакет перенаправляется на
	    <em class="replaceable"><code>10.0.0.1</code></em>, но в нём остаётся
	    адрес назначения <em class="replaceable"><code>foo</code></em>.  Адрес
	    назначения пакета не меняется на
	    <em class="replaceable"><code>10.0.0.1</code></em>.  Большинство машин,
	    скорее всего, отбросят полученный пакет, имеющий адрес
	    назначения, им не соответствующий.  Таким образом, правило
	    <span class="quote"><<<span class="quote">fwd</span>>></span> не часто работает так, как ожидает
	    пользователь.  Такое поведение является особенностью, а не
	    ошибкой.</p><p>Обратитесь к <a class="link" href="#service-redirect" title="12.13."><acronym class="acronym">FAQ</acronym> о
	    перенаправлении сервисов</a>, руководству по <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=natd&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">natd</span>(8)</span></a> или
	    одной из нескольких утилит для перенаправления из <a class="link" href="../../../../ports/index.html" target="_top">Коллекции Портов</a> для
	    того, чтобы сделать это правильно.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75277648"></a><a id="service-redirect"></a><p><strong>12.13.</strong></p></td><td align="left" valign="top"><p>Как можно перенаправить запросы с одной машины на другую?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Запросы FTP и других сервисов можно перенаправить с
	    помощью порта <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/sysutils/socket/pkg-descr">sysutils/socket</a>.
	    Замените запись для этого сервиса в
	    <code class="filename">/etc/inetd.conf</code> на вызов
	    <code class="command">socket</code>, как показано в этом примере для
	    <span class="application">ftpd</span>:</p><pre class="programlisting">ftp stream tcp nowait nobody /usr/local/bin/socket socket <em class="replaceable"><code>ftp.example.com</code></em> <em class="replaceable"><code>ftp</code></em></pre><p>где <em class="replaceable"><code>ftp.example.com</code></em> и
	    <em class="replaceable"><code>ftp</code></em> являются соответственно
	    хостом и портом для перенаправления.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75283536"></a><a id="bandwidth-mgr-tool"></a><p><strong>12.14.</strong></p></td><td align="left" valign="top"><p>Где можно найти средства управления сетевым трафиком?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Для FreeBSD имеются три средства управления трафиком.
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dummynet&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">dummynet</span>(4)</span></a> интегрирован в систему FreeBSD как составная
	    часть <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ipfw&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">ipfw</span>(4)</span></a>.  <a class="link" href="http://www.sonycsl.co.jp/person/kjc/programs.html" target="_top">
	    ALTQ</a> включен во FreeBSD как составная часть <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pf&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">pf</span>(4)</span></a>.
	    Bandwidth Manager компании <a class="link" href="http://www.etinc.com/" target="_top">Emerging Technologies</a>
	    является коммерческим продуктом.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75293136"></a><a id="bpf-not-configured"></a><p><strong>12.15.</strong></p></td><td align="left" valign="top"><p>Почему появляются сообщения
	    <span class="errorname">/dev/bpf0: device not configured</span>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Для работы приложения требуется Berkeley Packet
	    Filter (<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=bpf&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">bpf</span>(4)</span></a>), однако это устройство удалено из
	    вашего ядра.  Постройте новое ядро с добавлением в его
	    конфигурационный файл следующей строки:</p><pre class="programlisting">device bpf	# Berkeley Packet Filter</pre></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75296720"></a><a id="mount-smb-share"></a><p><strong>12.16.</strong></p></td><td align="left" valign="top"><p>Как смонтировать диск <span class="trademark">Windows</span>(R)-машины в моей локальной сети,
	    как это делает smbmount в <span class="trademark">Linux</span>(R)?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Используйте пакет <span class="application">SMBFS</span>.  В него
	    включён набор изменений в ядре и пользовательские программы.
	    Программы и информация доступны как <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mount_smbfs&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mount_smbfs</span>(8)</span></a> и
	    входят в состав базовой системы.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75313360"></a><a id="icmp-response-bw-limit"></a><p><strong>12.17.</strong></p></td><td align="left" valign="top"><p>Что значат сообщения <span class="errorname">Limiting icmp/open
	    port/closed port response</span> в файле журнала?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Данное сообщение ядра означает, что имеет место
	    некоторая активность, приводящая к отправке большого
	    количества ответных пакетов ICMP или сбросов TCP (RST).
	    Ответы ICMP часто генерируются в результате попыток
	    подключения к незанятым портам UDP.  Сбросы TCP
	    генерируются в результате попыток подключения к закрытым
	    портам TCP.  Помимо всего прочего, такие сообщения могут
	    быть вызваны следующими действиями:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Лобовая атака типа отказ в обслуживании DoS (в отличие от
		атак в один пакет, которые используют конкретную брешь в
		защите).</p></li><li class="listitem"><p>Сканирование портов в попытке осуществить подключение к
		большому количеству портов (в отличие от проб нескольких
		известных портов).</p></li></ul></div><p>Первое число в сообщении показывает количество пакетов,
	    которое ядро посылало бы при отсутствии ограничений, а
	    второе число указывает лимит.  Этот лимит меняется при
	    помощи <code class="varname">net.inet.icmp.icmplim</code>.  В этом
	    примере устанавливается лимит на <code class="literal">300</code>
	    пакетов в секунду:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>sysctl net.inet.icmp.icmplim=300</code></strong></pre><p>Для выключения подобных сообщений без отключения
	    самого ограничения используйте
	    <code class="varname">net.inet.icmp.icmplim_output</code>, чтобы
	    подавить вывода:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>sysctl net.inet.icmp.icmplim_output=0</code></strong></pre><p>И наконец, чтобы полностью выключить это ограничение,
	    сделайте <code class="varname">net.inet.icmp.icmplim</code> равным
	    <code class="literal">0</code>.  Выключение этого лимита не
	    приветствуется по причинам, изложенным выше.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75326928"></a><a id="unknown-hw-addr-format"></a><p><strong>12.18.</strong></p></td><td align="left" valign="top"><p>Что это за сообщения <span class="errorname">arp: unknown hardware
	    address format</span>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Это означает, что какое-то устройство в локальной сети
	    Ethernet использует MAC-адрес в формате, неизвестном FreeBSD.
	    Вероятно, это происходит из-за того, что кто-то в сети
	    экспериментирует с сетевым адаптером.  Чаще всего это
	    происходит в сетях с кабельными модемами.  Это безобидно и
	    не должно влиять на производительность системы FreeBSD.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75329360"></a><a id="arp-wrong-iface"></a><p><strong>12.19.</strong></p></td><td align="left" valign="top"><p>Почему я постоянно вижу сообщения вида
	    <span class="errorname">192.168.0.10 is on fxp1 but got reply from
	      00:15:17:67:cf:82 on rl0</span> и как мне их
	      отключить?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Это так, потому что пакет приходит извне сети, чего
	    не должно быть.  Чтобы отключить эти сообщения, установите
	    <code class="varname">net.link.ether.inet.log_arp_wrong_iface</code>
	    в значение <code class="literal">0</code>.</p></td></tr></tbody></table></div></div><div class="chapter"><div xmlns="" class="titlepage"><div><div><h1 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="security"></a>Глава 13. Безопасность</h1></div></div></div><div class="qandaset"><a id="idp75333712"></a><dl><dt>13.1. <a href="#idp75333968">Что означает термин sandbox (песочница)?</a></dt><dt>13.2. <a href="#idp75357904">Что такое уровень защиты (securelevel)?</a></dt><dt>13.3. <a href="#idp75376976">BIND (named) работает на
	    одном из портов с большим номером.  Что происходит?</a></dt><dt>13.4. <a href="#idp75387600">Даемон Sendmail ждёт
	    соединений как на стандартном порту 25, так и на
	    порту 587!  Что происходит?</a></dt><dt>13.5. <a href="#idp75390416">Что это за пользователь toor с UID 0?  Я
	    подвергся взлому?</a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%" /><col /></colgroup><tbody><tr class="question"><td align="left" valign="top"><a id="idp75333968"></a><a id="sandbox"></a><p><strong>13.1.</strong></p></td><td align="left" valign="top"><p>Что означает термин sandbox (песочница)?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><span class="quote"><<<span class="quote">Sandbox</span>>></span> - это термин, используемый при
	    обеспечении безопасности.  Он имеет два значения:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Процесс, помещённый внутрь некоторых виртуальных
		стен, которые предназначены для предотвращения взлома
		всей системы в результате взлома этого конкретного
		процесса.</p><p>Процесс может работать в границах этих стен.
		Поскольку, что бы этот процесс ни делал, он эти стены
		разрушить не может, особый аудит его кода не нужен для
		того, чтобы с уверенностью сказать, насколько его
		работа безопасна для системы.</p><p>Стеной может служить, например, идентификатор
		пользователя.  Вот определение, даваемое на страницах
		Справочника <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=security&amp;sektion=7"><span class="citerefentry"><span class="refentrytitle">security</span>(7)</span></a> и <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=named&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">named</span>(8)</span></a>.</p><p>Рассмотрим, например, службу <code class="literal">ntalk</code>
		(смотрите <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=inetd&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">inetd</span>(8)</span></a>).  Раньше эта
		служба запускалась с идентификатором пользователя
		<code class="systemitem">root</code>, а сейчас - <code class="systemitem">tty</code>.
		Пользователь <code class="systemitem">tty</code> - это та песочница,
		которая осложняет взлом системы через <code class="literal">ntalk</code>
		посредством использования этого идентификатора
		пользователя.</p></li><li class="listitem"><p>Процесс, помещённый внутрь симулируемой машины.  Это
		даёт больший уровень безопасности.  Это означает, что
		некто, взломавший процесс, может думать, что может сломать и
		систему в целом, однако фактически может сломать только
		симулятор этой машины и не может модифицировать никаких
		реальных данных.</p><p>Самым распространённым способом достигнуть такого
		результата является построение имитирующего окружения в
		каталоге и затем запуск процессов в этом каталоге через
		chroot (т.е. задав этот каталог в качестве
		<code class="filename">/</code> для этого процесса,
		а не реальный <code class="filename">/</code> всей
		системы).</p><p>Другим часто используемым методом является монтирование
		низлежащей файловой системы в режиме "только для чтения" и
		затем создание уровня файловой системы поверх неё, что даёт
		процессу видимость доступа по записи на ту файловую систему.
		Процесс будет полагать, что может записывать в те файлы, но
		это будет единственный процесс, который увидит результат
		- другие процессы не будут этого делать ни в коем
		случае.</p><p>Попытка сделать такой тип песочницы настолько прозрачна, что
		пользователь (или взломщик) даже не поймёт, что он в ней
		находится.</p></li></ul></div><p>В <span class="trademark">UNIX</span>(R) реализованы два типа <span class="quote"><<<span class="quote">песочниц</span>>></span>.  Один на
	    уровне процесса, и один на уровне идентификаторов
	    пользователей.</p><p>Каждый процесс в <span class="trademark">UNIX</span>(R) полностью защищён от других процессов.
	    Никакой процесс не может модифицировать адресное пространство
	    другого процесса.</p><p>В <span class="trademark">UNIX</span>(R) каждым процессом владеет некоторый идентификатор
	    пользователя.  Если этот пользователь не
	    <code class="systemitem">root</code>, он ограждает процесс от других,
	    владельцами которых являются другие пользователи.  Этот
	    идентификатор используется также для защиты данных на диске.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75357904"></a><a id="securelevel"></a><p><strong>13.2.</strong></p></td><td align="left" valign="top"><p>Что такое уровень защиты (securelevel)?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><code class="literal">securelevel</code> является механизмом
	    обеспечения безопасности, который реализован в ядре.  Когда
	    уровень защиты больше нуля,
	    ядро ограничивает выполнение некоторых операций; даже
	    суперпользователю <code class="systemitem">root</code>
	    запрещается их выполнять.  Механизм уровня защиты ограничивает
	    возможности по:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>снятию некоторых флагов с файлов, таких, как
		<code class="literal">schg</code> (системный флаг неизменяемости),</p></li><li class="listitem"><p>записи в память ядра через устройства
		<code class="filename">/dev/mem</code> и
		<code class="filename">/dev/kmem</code>,</p></li><li class="listitem"><p>загрузке модулей ядра и</p></li><li class="listitem"><p>изменению правил сетевого экрана.</p></li></ul></div><p>Для выяснения состояния уровня защиты в работающей
	    системе:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>sysctl -n kern.securelevel</code></strong></pre><p>Результат содержит текущее значение уровня защиты.
	    Если оно больше нуля, то по крайней мере некоторые
	    из защит этого механизма включены.</p><p>Уровень защиты работающей системы не может быть понижен,
	    поскольку это противоречит назначению этого механизма.
	    Если для задачи требуется неположительный
	    уровень защиты, измените значения переменных
	    <code class="varname">kern_securelevel</code> и
	    <code class="varname">kern_securelevel_enable</code> в файле
	    <code class="filename">/etc/rc.conf</code> и перезагрузите
	    систему.</p><p>Более подробная информация об уровнях защиты и о том, какие
	    специфические действия выполняют все уровни, может быть найдена на
	    справочных страницах о <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=init&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">init</span>(8)</span></a>.</p><div xmlns="" class="warning"><h3 class="admontitle">Предупреждение: </h3><p xmlns="http://www.w3.org/1999/xhtml">Уровень защиты не является панацеей; в нём есть много
	      недостатков.  Зачастую он даёт обманчивое чувство
	      безопасности.</p><p xmlns="http://www.w3.org/1999/xhtml">Одной из самых больших проблем является то, что для его
	      эффективной работы все файлы, используемые в процессе загрузки,
	      должны быть защищены.  Если атакующий сможет заставить систему
	      выполнять свой код до установки уровня защиты (что происходит
	      достаточно поздно во время процесса загрузки, так как некоторые
	      вещи, выполняемые системой в это время, не могут быть сделаны при
	      повышенном уровне защиты), то эта защита может быть отключена.
	      Хотя такая задача по защите всех файлов, используемых в процессе
	      загрузки, технически вполне осуществима, если это будет сделано,
	      то поддержка системы станет кошмаром, так как для изменения
	      конфигурационного файла придётся останавливать систему,
	      переводя её по крайней мере в однопользовательский режим.</p><p xmlns="http://www.w3.org/1999/xhtml">Это обстоятельство, а также ряд других, часто обсуждаются в
	      списках рассылки, в частности, во <a class="link" href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-security" target="_top">Список рассылки FreeBSD, посвящённый информационной безопасности</a>.
	      Поищите в <a class="link" href="../../../../search/index.html" target="_top">
	      архивах</a> более подробное обсуждение.  Предпочтителен
	      более гибкий механизм.</p></div></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75376976"></a><a id="extra-named-port"></a><p><strong>13.3.</strong></p></td><td align="left" valign="top"><p>BIND (<code class="command">named</code>) работает на
	    одном из портов с большим номером.  Что происходит?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Для исходящих запросов BIND использует случайно
	    выбираемый порт с большим номером.  В последних версиях
	    при каждом запросе выбирается новый случайный порт UDP.
	    Это может вызвать проблемы в некоторых сетевых конфигурациях,
	    особенно если фаервол блокирует входящие UDP пакеты на
	    определенных портах.  Чтобы обеспечить прохождение
	    пакетов через фаервол, попробуйте параметры
	    <code class="literal">avoid-v4-udp-ports</code> и
	    <code class="literal">avoid-v6-udp-ports</code>, чтобы предотвратить
	    случайный выбор номеров портов, пересекающихся с блокируемым
	    диапазоном.</p><div xmlns="" class="warning"><h3 class="admontitle">Предупреждение: </h3><p xmlns="http://www.w3.org/1999/xhtml">Если в <code class="filename">/etc/namedb/named.conf</code>
	      указан номер порта (такой как 53) в параметре
	      <code class="literal">query-source</code> или
	      <code class="literal">query-source-v6</code>, то случайный
	      выбор порта использоваться не будет.  Настоятельно
	      рекомендуется, чтобы эти параметры не использовались для
	      указания фиксированных номеров порта.</p></div><p>Кстати, поздравляем.  Прекрасно, что вы читаете вывод
	    команды <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sockstat&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">sockstat</span>(1)</span></a> и обращаете внимание на
	    аномалии!</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75387600"></a><a id="sendmail-port-587"></a><p><strong>13.4.</strong></p></td><td align="left" valign="top"><p>Даемон <span class="application">Sendmail</span> ждёт
	    соединений как на стандартном порту 25, так и на
	    порту 587!  Что происходит?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Последние версии <span class="application">Sendmail</span>
	    поддерживают механизм посылки почты, который работает по
	    порту 587.  Эта возможность пока широко не используется,
	    но её популярность растёт.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75390416"></a><a id="toor-account"></a><p><strong>13.5.</strong></p></td><td align="left" valign="top"><p>Что это за пользователь <code class="systemitem">toor</code> с UID 0?  Я
	    подвергся взлому?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Не волнуйтесь, <code class="systemitem">toor</code> является
	    <span class="quote"><<<span class="quote">альтернативной</span>>></span> учётной записью
	    суперпользователя (toor - это root, записанный задом
	    наперёд).  Его предлагается использовать с нестандартным
	    командным интерпретатором, так чтобы не нужно было менять
	    используемый по умолчанию командный процессор для
	    <code class="systemitem">root</code>.  Это
	    важно, так как оболочки, не являющиеся частью дистрибутива
	    системы, устанавливаются в каталог
	    <code class="filename">/usr/local/bin</code>, который по
	    умолчанию располагается в другой файловой системе.  Если
	    командный процессор для пользователя <code class="systemitem">root</code> располагается в
	    <code class="filename">/usr/local/bin</code> и файловая система,
	    содержащая <code class="filename">/usr/local/bin</code>, не
	    смонтирована, то <code class="systemitem">root</code> не сможет войти в
	    систему для исправления проблемы и понадобится
	    перезагрузиться в однопользовательском режиме, чтобы
	    указать командный процессор.</p><p>Некоторые используют <code class="systemitem">toor</code> для выполнения
	    повседневных административных работ с нестандартным
	    командным процессором, оставляя <code class="systemitem">root</code> со стандартной
	    оболочкой для работы в однопользовательском режиме или
	    выполнения аварийных работ.  По умолчанию пользователь не
	    сможет войти в систему как <code class="systemitem">toor</code>, потому что для него
	    не указан пароль, поэтому войдите из-под <code class="systemitem">root</code> и установите пароль
	    для <code class="systemitem">toor</code> до того
	    как использовать его для входа в систему.</p></td></tr></tbody></table></div></div><div class="chapter"><div xmlns="" class="titlepage"><div><div><h1 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="ppp"></a>Глава 14. PPP</h1></div></div></div><div class="qandaset"><a id="idp75400784"></a><dl><dt>14.1. <a href="#idp75401040">Не могу заставить работать ppp.  Что я делаю не так?</a></dt><dt>14.2. <a href="#idp75408464">Ppp просто зависает, когда я его запускаю</a></dt><dt>14.3. <a href="#idp75446992">Ppp не звонит в режиме -auto</a></dt><dt>14.4. <a href="#idp75457872">Что означает сообщение
	    No route to host?</a></dt><dt>14.5. <a href="#idp75463120">Соединение разрывается через 3 минуты</a></dt><dt>14.6. <a href="#idp75474384">Соединение разрывается при большой нагрузке</a></dt><dt>14.7. <a href="#idp75479248">Соединение разрывается в случайные промежутки времени</a></dt><dt>14.8. <a href="#idp75481680">Соединение часто рвётся в случайные промежутки
	    времени</a></dt><dt>14.9. <a href="#idp75501264">Удалённая система не отвечает</a></dt><dt>14.10. <a href="#idp75508816">Ppp зависает</a></dt><dt>14.11. <a href="#idp75546320">В протоколе есть сообщения о том, что <<magic being the
	    same>>.</a></dt><dt>14.12. <a href="#idp75563728">Согласование LCP продолжается, пока не закроется
	    соединение</a></dt><dt>14.13. <a href="#idp75586384">Когда я выполняю команду shell для тестирования соединения,
	    ppp блокируется</a></dt><dt>14.14. <a href="#idp75613264">Почему программа ppp, обслуживающая нуль-модем, никогда не
	    закрывается?</a></dt><dt>14.15. <a href="#idp75625040">В режиме -auto ppp неожиданно начинает
	    звонить</a></dt><dt>14.16. <a href="#idp75636176">Что означают ошибки CCP</a></dt><dt>14.17. <a href="#idp75640144">Почему ppp не протоколирует скорость соединения?</a></dt><dt>14.18. <a href="#idp75646928">Ppp игнорирует символ \
	    в chat-скрипте</a></dt><dt>14.19. <a href="#idp75659728">Процесс, вызвавший прозвонку в режиме -auto,
	    никогда не получает затребованного соединения</a></dt><dt>14.20. <a href="#idp75728080">Что такое ошибки FCS?</a></dt><dt>14.21. <a href="#idp75736400">Ничего не помогает - я уже отчаялся!</a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%" /><col /></colgroup><tbody><tr class="question"><td align="left" valign="top"><a id="idp75401040"></a><a id="userppp"></a><p><strong>14.1.</strong></p></td><td align="left" valign="top"><p>Не могу заставить работать ppp.  Что я делаю не так?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Первым делом прочтите страницу Справочника <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a>
	    и <a class="link" href="../../../../doc/ru_RU.KOI8-R/books/handbook/ppp-and-slip.html#userppp" target="_top">раздел
	      PPP</a> Руководства.  Для помощи с устранением
	    неполадок включите протоколирование следующей командой:</p><pre class="programlisting">set log Phase Chat Connect Carrier lcp ipcp ccp command</pre><p>Эту команду можно набрать в командной строке
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> или ввести в начале раздела
	    <code class="literal">default</code> в
	    <code class="filename">/etc/ppp/ppp.conf</code>.  Проверьте, что
	    файл <code class="filename">/etc/syslog.conf</code> содержит
	    указанные ниже строки и существует файл
	    <code class="filename">/var/log/ppp.log</code>:</p><pre class="programlisting">!ppp
*.*    /var/log/ppp.log</pre><p>Полную информацию о происходящем можно найти в файле
	    протокола.  Не беспокойтесь, если не всё будет понятно,
	    ведь это может быть понятно кому-то ещё.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75408464"></a><a id="ppp-hangs"></a><p><strong>14.2.</strong></p></td><td align="left" valign="top"><p>Ppp просто зависает, когда я его запускаю</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Обычно это происходит, когда имя хоста не может быть
	    преобразовано в адрес.  Наилучший способ исправить это -
	    удостовериться, что файл <code class="filename">/etc/hosts</code>
	    читается первым.  Для этого нужно проверить, что в файле
	    <code class="filename">/etc/host.conf</code> на первом месте стоит
	    строчка <code class="literal">hosts</code>.  Затем добавьте в файл
	    <code class="filename">/etc/hosts</code> запись о локальной машине.
	    Если локальная сеть отсутствует, измените строку для
	    <code class="systemitem">localhost</code>:</p><pre class="programlisting">127.0.0.1	foo.example.com foo localhost</pre><p>В противном случае добавьте для хоста ещё одну запись.
	    Обратитесь к соответствующим страницам Справочника за
	    подробным описанием.</p><p>В конце убедитесь, что эта команда выполняется
	    успешно: <code class="command">ping -c1 `hostname`</code>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75446992"></a><a id="ppp-nodial-auto"></a><p><strong>14.3.</strong></p></td><td align="left" valign="top"><p>Ppp не звонит в режиме -auto</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Сначала проверьте наличие маршрута по умолчанию.
	    Команда <code class="command">netstat -rn</code> должна показать
	    две строки:</p><pre class="programlisting">Destination	Gateway	    Flags    Refs     Use     Netif Expire
default 	10.0.0.2    UGSc	0	0      tun0
10.0.0.2	10.0.0.1    UH		0	0      tun0</pre><p>Если нет маршрута по умолчанию, убедитесь, что строка
	    <code class="literal">HISADDR</code> была добавлена в
	    <code class="filename">/etc/ppp/ppp.conf</code>.</p><p>Другая причина отсутствия строки с маршрутом по
	    умолчанию может крыться в том, что маршрут по умолчанию
	    был добавлен в <code class="filename">/etc/rc.conf</code>, и эта
	    строка отсутствует в
	    <code class="filename">/etc/ppp/ppp.conf</code>:</p><pre class="programlisting">delete ALL</pre><p>В таком случае обратитесь к соответствующему <a class="link" href="../../../../doc/ru_RU.KOI8-R/books/handbook/userppp.html#userppp-final" target="_top">разделу</a>
	    Руководства.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75457872"></a><a id="no-route-to-host"></a><p><strong>14.4.</strong></p></td><td align="left" valign="top"><p>Что означает сообщение
	    <span class="errorname">No route to host</span>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Обычно эта ошибка появляется из-за отсутствия в файле
	    <code class="filename">/etc/ppp/ppp.linkup</code> следующего
	    раздела:</p><pre class="programlisting">MYADDR:
  delete ALL
  add 0 0 HISADDR</pre><p>Он необходим только для динамического IP адреса или
	    когда адрес маршрутизатора не известен.  При использовании
	    интерактивного режима можно набрать следующие команды
	    после входа в пакетный режим.  Пакетный режим обозначается
	    заглавными буквами <acronym class="acronym">PPP</acronym>
	    в приглашении:</p><pre class="programlisting">delete ALL
add 0 0 HISADDR</pre><p>Обратитесь к разделу <a class="link" href="../../../../doc/ru_RU.KOI8-R/books/handbook/userppp.html#userppp-dynamicip" target="_top">PPP
	    и динамические IP адреса</a> Руководства за подробной
	    информацией.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75463120"></a><a id="connection-threeminutedrop"></a><p><strong>14.5.</strong></p></td><td align="left" valign="top"><p>Соединение разрывается через 3 минуты</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Таймаут для PPP по умолчанию равен 3 минутам.  Это может быть
	    изменено такой строкой:</p><pre class="programlisting">set timeout <em class="replaceable"><code>NNN</code></em></pre><p>где <em class="replaceable"><code>NNN</code></em> - время неактивности в
	    секундах, после которого соединение закрывается.  Если
	    <em class="replaceable"><code>NNN</code></em> равно нулю, соединение никогда
	    не разрывается по таймауту.  Эту команду можно поместить в файл
	    <code class="filename">ppp.conf</code> или набрать ее в интерактивном
	    режиме.  Изменение этого параметра также возможно при активном
	    соединении, если подключиться к сокету
	    <span class="application">ppp</span> сервера с помощью программ
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=telnet&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">telnet</span>(1)</span></a> или <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pppctl&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">pppctl</span>(8)</span></a>.  Обратитесь к страницам
	    Справочника, посвящённым <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75474384"></a><a id="ppp-drop-heavy-load"></a><p><strong>14.6.</strong></p></td><td align="left" valign="top"><p>Соединение разрывается при большой нагрузке</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Если включен Link Quality Reporting
	    (<acronym class="acronym">LQR</acronym>), то возможно слишком много
	    пакетов <acronym class="acronym">LQR</acronym> теряется в канале.
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> делает вывод, что канал плох, и разрывает
	    соединение.  <acronym class="acronym">LQR</acronym> по умолчанию выключен.
	    Включить <acronym class="acronym">LQR</acronym> можно так:</p><pre class="programlisting">enable lqr</pre></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75479248"></a><a id="ppp-drop-random"></a><p><strong>14.7.</strong></p></td><td align="left" valign="top"><p>Соединение разрывается в случайные промежутки времени</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Иногда на шумной линии или даже на линии с включенным
	    режимом ожидания звонка модем может вешать трубку,
	    ошибочно полагая, что потеряна несущая.</p><p>В большинстве модемов есть параметр, определяющий
	    чувствительность к временной потере несущей.
	    Обратитесь к документации модема.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75481680"></a><a id="ppp-hangs-random"></a><p><strong>14.8.</strong></p></td><td align="left" valign="top"><p>Соединение часто рвётся в случайные промежутки
	    времени</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Многие сообщают об обрывах соединений без видимой
	    причины.  Первым делом нужно выяснить, с какой стороны
	    рвётся соединение.</p><p>При использовании внешнего модема проверьте утилитой
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ping&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ping</span>(8)</span></a>,
	    мигает ли индикатор <acronym class="acronym">TD</acronym> при передаче
	    данных.  Если он мигает, а индикатор <acronym class="acronym">RD</acronym>
	    нет, проблема с той стороны.  Если <acronym class="acronym">TD</acronym>
	    не загорается, проблема является локальной.  Для
	    внутреннего модема используйте команду <code class="literal">set
	      server</code> в <code class="filename">ppp.conf</code>.  При
	    обрыве связи подключитесь к <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> с помощью
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pppctl&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">pppctl</span>(8)</span></a>.  Если сетевое подключение неожиданно
	    восстанавливается при проявлении активности на
	    диагностическом сокете или нет соединения, но команда
	    <code class="literal">set socket</code> в начальный момент была
	    выполнена успешно, то проблема имеет локальный характер.
	    Если получается подключиться, но связи всё равно нет,
	    включите вывод локальной отладочной информации командой
	    <code class="literal">set log local async</code> и используйте
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ping&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ping</span>(8)</span></a> в другом окне или терминале, чтобы проверить
	    связь.  В отладочном выводе будут показаны данные,
	    передаваемые и получаемые из канала связи.  Если данные
	    посылаются, но не принимаются обратно, то проблема с той
	    стороны.</p><p>Теперь, после выяснения местонахождения проблемы,
	    имеется два варианта действий:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Если проблема на удалённой машине, то прочтите <a class="xref" href="#ppp-remote-not-responding" title="14.9.">Вопрос: 14.9</a>.</p></li><li class="listitem"><p>Если проблема с вашей стороны, прочтите <a class="xref" href="#ppp-hung" title="14.10.">Вопрос: 14.10</a>.</p></li></ul></div></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75501264"></a><a id="ppp-remote-not-responding"></a><p><strong>14.9.</strong></p></td><td align="left" valign="top"><p>Удалённая система не отвечает</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Здесь мало что можно сделать.  Большинство провайдеров
	    отказываются помогать пользователям, которые не используют
	    ОС от <span class="trademark">Microsoft</span>(R).  Добавьте <code class="literal">enable lqr</code>
	    в <code class="filename">/etc/ppp/ppp.conf</code>, чтобы позволить
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> отследить ошибки в удалённой системе и закрыть
	    соединение.  Такое обнаружение достаточно медленно и
	    поэтому не так уж полезно.</p><p>Первым делом попробуйте отключить любое сжатие,
	    указав в конфигурационном файле следующее:</p><pre class="programlisting">disable pred1 deflate deflate24 protocomp acfcomp shortseq vj
deny pred1 deflate deflate24 protocomp acfcomp shortseq vj</pre><p>Теперь попробуйте установить соединение ещё раз и
	    удостоверьтесь, что ситуация не изменилась.  Если качество
	    соединения улучшилось или проблема оказалась полностью
	    решённой, выясните, настройка чего приводила к проблемам
	    методом проб и ошибок.  Это полезная информация для
	    провайдера, хотя при этом может обнаружиться, что вы
	    работаете не с продуктом <span class="trademark">Microsoft</span>(R).</p><p>Перед тем, как звонить провайдеру, включите вывод
	    отладочной информации и подождите, пока соединение снова
	    не прервётся.  Для этого может потребоваться некоторое
	    дисковое пространство.  Интерес могут представлять
	    последние прочитанные из порта данные.  Обычно это данные
	    в формате ASCII и они могут даже содержать описание
	    проблемы (<span class="errorname">Memory fault</span>,
	    <span class="errorname">Core dumped</span>).</p><p>Если провайдер согласен помочь, нужно будет включить
	    режим отладки с их стороны, и затем, когда связь прервётся
	    в следующий раз, они смогут сказать, почему с их стороны
	    возникли проблемы.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75508816"></a><a id="ppp-hung"></a><p><strong>14.10.</strong></p></td><td align="left" valign="top"><p>Ppp зависает</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>В этом случае перекомпилируйте <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> с
	    отладочной информацией, и затем используйте <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=gdb&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">gdb</span>(1)</span></a>
	    для получения стека вызовов для зависшего процесса
	    <span class="application">ppp</span>.  Чтобы откомпилировать
	    программу <span class="application">ppp</span> с отладочной
	    информацией, наберите такие команды:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cd /usr/src/usr.sbin/ppp</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>env DEBUG_FLAGS='-g' make clean</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>env DEBUG_FLAGS='-g' make install</code></strong></pre><p>Затем перезапустите <span class="application">ppp</span>
	    и дождитесь следующего зависания.  Когда отладочная сборка
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> зависнет, запустите
	    <span class="application">gdb</span> для зависшего
	    процесса:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>gdb ppp `pgrep ppp`</code></strong></pre><p>В приглашении <span class="application">gdb</span>
	    используйте команду <code class="command">bt</code> или
	    <code class="command">where</code> для получения стека вызовов.
	    Сохраните вывод сессии <span class="application">gdb</span>
	    и <span class="quote"><<<span class="quote">отключитесь</span>>></span> от работающего процесса,
	    выполнив команду <code class="command">quit</code> в
	    <span class="application">gdb</span>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75546320"></a><a id="ppp-same-magic"></a><p><strong>14.11.</strong></p></td><td align="left" valign="top"><p>В протоколе есть сообщения о том, что <span class="quote"><<<span class="quote">magic being the
	    same</span>>></span>.</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Иногда, сразу после установления соединения, в журнале
	    могут возникать сообщения <span class="errorname">Magic is the
	    same</span>.  Иногда эти сообщения проходят
	    безболезненно, а иногда одна из сторон прекращает работу.
	    Большинство реализаций PPP не может справиться с такой
	    ситуацией, и даже когда связь выглядит установившейся, вы
	    будeт только бесконечно повторяющиеся конфигурационные
	    запросы и подтверждения в файле протокола до тех пор, пока
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> окончательно не закроет соединение.</p><p>Обычно это происходит на серверах с медленными дисками, на
	    которых порт обслуживает программа <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=getty&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">getty</span>(8)</span></a>, а <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a>
	    выполняется из сценария регистрации или другой программы после
	    регистрации пользователя.  Были сообщения, что такое случается
	    постоянно при использовании slirp.  Причина заключается в том,
	    что во время, проходящее между завершением работы <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=getty&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">getty</span>(8)</span></a>
	    и запуском <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a>, <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> со стороны клиента начинает
	    посылать пакеты Line Control Protocol (LCP).  Так как режим эха
	    остаётся всё ещё включенным, <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> клиента получает
	    <span class="quote"><<<span class="quote">отражения</span>>></span> своих запросов.</p><p>Частью процесса согласования параметров LCP является
	    определение <span class="quote"><<<span class="quote">магического</span>>></span> числа для каждой стороны
	    соединения для обнаружения <span class="quote"><<<span class="quote">отражений</span>>></span>.  Согласно
	    спецификации, когда одна сторона пытается использовать
	    совпадающее "магическое" число, должен быть послан ответ NAK и
	    должно быть выбрано новое "магическое" число.  В тот момент,
	    когда на порту сервера включен режим эха, клиент <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a>
	    посылает пакеты LCP, получает то же самое "магическое" число в
	    отражённом пакете и отвечает на него NAK.  Он также видит
	    отражённый NAK (который также означает, что <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> должен
	    изменить своё "магическое" число).  В потенциале это может
	    вызвать появление огромного количества процессов смен
	    "магических" чисел, и все они накапливаются в буфере терминала.
	    Как только запустится сервер <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a>, он будет перегружен
	    запросами на смену "магических", немедленно решит, что этого
	    много для согласования LCP и прервёт соединение.  В то же самое
	    время, клиент, который больше не видит отражений, останавливается
	    для того, чтобы увидеть, что сервер закрыл соединение.</p><p>Этого можно избежать, позволив начинать согласование
	    противоположной стороне следующей строкой в файле
	    <code class="filename">ppp.conf</code>:</p><pre class="programlisting">set openmode passive</pre><p>Это заставит <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> ожидать начала согласования
	    LCP.  Некоторые серверы, однако, могут никогда не начать
	    согласование.  В этом случае попробуйте сделать
	    следующее:</p><pre class="programlisting">set openmode active 3</pre><p>Это заставит <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> пассивно ждать 3 секунды, и только затем
	    посылать запросы LCP.  Если противоположная сторона начнёт посылать в этот
	    момент запросы, <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> немедленно ответит, не ожидая истечения
	    трёхсекундного интервала.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75563728"></a><a id="ppp-lcp-constant"></a><p><strong>14.12.</strong></p></td><td align="left" valign="top"><p>Согласование LCP продолжается, пока не закроется
	    соединение</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>В настоящий момент одной из неприятных особенностей
	    реализации <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> является то, что она не связывает
	    сообщения LCP, CCP &amp; IPCP с запросами.  Как результат, если
	    реализация PPP с одной стороны более чем на 6 секунд медленнее,
	    чем с другой, противоположная сторона будет посылать
	    два дополнительных запроса на согласование параметров LCP.
	    Это фатально.</p><p>Предположим, что у нас работают две реализации, на машинах
	    <code class="systemitem">A</code> и <code class="systemitem">B</code>.  <code class="systemitem">A</code>
	    начинает посылать запросы LCP сразу же после соединения, а
	    <code class="systemitem">B</code> требуется 7 секунд для запуска.  Когда
	    <code class="systemitem">B</code> запускается, <code class="systemitem">A</code> послало 3
	    LCP-запроса.  Полагаем, что режим эха выключен, в противном
	    случае мы столкнулись бы с проблемами "магического" числа,
	    описанными в предыдущем разделе.  <code class="systemitem">B</code> посылает
	    REQ, затем ACK на первый REQ от <code class="systemitem">A</code>.  Это
	    приводит к тому, что <code class="systemitem">A</code> входит в состояние
	    <acronym class="acronym">OPENED</acronym> и посылает (первый) ACK обратно
	    <code class="systemitem">B</code>.  В то же самое время <code class="systemitem">B</code>
	    посылает обратно ещё два ACK в ответ на два дополнительных REQ,
	    посланные <code class="systemitem">A</code> до старта <code class="systemitem">B</code>.
	    <code class="systemitem">B</code> затем получает первый ACK от <code class="systemitem">A</code>
	    и возвращается в состояние <acronym class="acronym">REQ-SENT</acronym>, послав
	    ещё один (четвёртый) REQ согласно RFC.  Затем он получает
	    третий ACK и входит в состояние <acronym class="acronym">OPENED</acronym>.
	    В это же время <code class="systemitem">B</code> принимает
	    четвёртый REQ от <code class="systemitem">A</code>, что возвращает
	    его в состояние <acronym class="acronym">ACK-SENT</acronym> и посылает ещё один
	    (второй) REQ и (четвёртый) ACK согласно RFC.  <code class="systemitem">A</code>
	    получает REQ, переходит в состояние <acronym class="acronym">REQ-SENT</acronym>
	    и посылает ещё один REQ.  Он немедленно принимает последующий
	    ACK и входит в состояние <acronym class="acronym">OPENED</acronym>.</p><p>Это будет продолжаться до тех пор, пока одна из сторон не
	    обнаружит, что это ни к чему не приводит и не закроет
	    соединение.</p><p>Лучшим способом избежать этой ситуации является конфигурация
	    одной из сторон как <code class="literal">passive</code>, чтобы она ждала
	    другую для начала согласования.  Это можно сделать следующей
	    командой:</p><pre class="programlisting">set openmode passive</pre><p>С этой командой нужно быть осторожным.  Эту команду
	    можно также использовать для ограничения периода ожидания,
	    в течении которого <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> ждёт начала согласования с
	    противоположной стороны:</p><pre class="programlisting">set stopped <em class="replaceable"><code>N</code></em></pre><p>Как вариант, может быть использована следующая команда
	    (где <em class="replaceable"><code>N</code></em> - период ожидания в секундах
	    перед тем, как начать согласование):</p><pre class="programlisting">set openmode active <em class="replaceable"><code>N</code></em></pre><p>За дополнительной информацией обращайтесь к странице
	    Справочника.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75586384"></a><a id="ppp-shell-test-lockup"></a><p><strong>14.13.</strong></p></td><td align="left" valign="top"><p>Когда я выполняю команду shell для тестирования соединения,
	    ppp блокируется</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>При использовании <code class="command">shell</code> или
	    <code class="command">!</code> <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> запускает оболочку или
	    переданные параметры.  Программа
	    <span class="application">ppp</span> будет ждать окончания
	    выполнения команды, прежде чем продолжить.  При любой
	    попытке воспользоваться связью PPP во время выполнения
	    команды связь будет выглядеть заблокированной.  Это
	    происходит из-за того, что <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> ждёт завершения
	    команды.</p><p>Для выполнения подобных команд используйте вместо этого
	    <code class="command">!bg</code>.  В этом случае нужная команда будет
	    выполняться в фоновом режиме, а <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> сможет продолжить обслуживание
	    канала связи.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75613264"></a><a id="ppp-nullmodem"></a><p><strong>14.14.</strong></p></td><td align="left" valign="top"><p>Почему программа ppp, обслуживающая нуль-модем, никогда не
	    закрывается?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> не может определить, что соединение
	    было закрыто.  Это происходит из-за метода использования сигнальных
	    линий нуль-модемного кабеля.  При использовании такого типа
	    соединения всегда включайте LQR:</p><pre class="programlisting">enable lqr</pre><p>По умолчанию LQR включается, если это было затребовано с
	    противоположной стороны на этапе согласования параметров
	    соединения.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75625040"></a><a id="ppp-auto-noreasondial"></a><p><strong>14.15.</strong></p></td><td align="left" valign="top"><p>В режиме <code class="option">-auto</code> ppp неожиданно начинает
	    звонить</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Если <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> начинает неожиданно звонить,
	    определите причину и настройте фильтры дозвона для
	    предотвращения подобных звонков.</p><p>Для выяснения причины такого поведения, используйте
	    строку:</p><pre class="programlisting">set log +tcp/ip</pre><p>Это включит протоколирование всего трафика через
	    соединение.  В следующий раз, когда неожиданно будет
	    установлено соединение, в файл протокола будет следом
	    занесена причина с отметкой времени.</p><p>Теперь отключите дозвон при данных условиях.  Как
	    правило, такие проблемы возникают из-за обращений к DNS.
	    Для предотвращения обращений к DNS и установления
	    соединения (что <span class="emphasis"><em>не</em></span> запретит
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> пропускать пакеты через уже установленное
	    соединение), используйте такую комбинацию:</p><pre class="programlisting">set dfilter 1 deny udp src eq 53
set dfilter 2 deny udp dst eq 53
set dfilter 3 permit 0/0 0/0</pre><p>Это не всегда удобно, так как закрывает возможность
	    дозвона по запросу.  Большинству программ нужно обратиться
	    к DNS до того, как начать работать.</p><p>В случае DNS попытайтесь установить, что именно
	    пытается определить имя хоста.  В большинстве случаев
	    виновным оказывается <span class="application">Sendmail</span>.
	    Проверьте, чтобы в конфигурационном файле программы
	    <span class="application">Sendmail</span> не было указано
	    обращаться к DNS.  Обратитесь к разделу об <a class="link" href="../../../../doc/ru_RU.KOI8-R/books/handbook/smtp-dialup.html" target="_top">использовании
	      электронной почты при коммутируемом соединении</a> в
	    Руководстве FreeBSD за подробным описанием.  Вам может
	    понадобиться добавить в файл
	    <code class="filename">.mc</code> строку:</p><pre class="programlisting">define(`confDELIVERY_MODE', `d')dnl</pre><p>Это заставит <span class="application">Sendmail</span>
	    добавлять все сообщения в очередь до тех пор, пока не
	    будет запущена её обработка, как правило, каждые 30 минут,
	    или пока не будет выполнена команда
	    <code class="command">sendmail -q</code>, возможно, из файла
	    <code class="filename">/etc/ppp/ppp.linkup</code>).</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75636176"></a><a id="ccp-errors"></a><p><strong>14.16.</strong></p></td><td align="left" valign="top"><p>Что означают ошибки CCP</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>В файле протокола появляются такие сообщения об
	    ошибках:</p><pre class="programlisting">CCP: CcpSendConfigReq
CCP: Received Terminate Ack (1) state = Req-Sent (6)</pre><p>Это происходит, если <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> пытается установить
	    сжатие Predictor1, а противоположная сторона не хочет
	    устанавливать никакого сжатия.  Эти сообщения безобидны,
	    но их можно заглушить отключением сжатия:</p><pre class="programlisting">disable pred1</pre></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75640144"></a><a id="ppp-connectionspeed"></a><p><strong>14.17.</strong></p></td><td align="left" valign="top"><p>Почему ppp не протоколирует скорость соединения?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Для записи полного протокола взаимодействия с модемом
	    включите следующее:</p><pre class="programlisting">set log +connect</pre><p>Это заставит <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> протоколировать всё, вплоть
	    до последней прочтённой через <span class="quote"><<<span class="quote">expect</span>>></span>
	    строки.</p><p>Чтобы увидеть скорость соединения при использовании
	    PAP или CHAP, укажите <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> ожидать полную строку
	    CONNECT:</p><pre class="programlisting">set dial "ABORT BUSY ABORT NO\\sCARRIER TIMEOUT 4 \
  \"\" ATZ OK-ATZ-OK ATDT\\T TIMEOUT 60 CONNECT \\c \\n"</pre><p>Здесь мы получаем строку CONNECT, ничего не посылаем,
	    а затем ожидаем символа перевода строки, заставляя
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> читать целиком содержимое ответа CONNECT.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75646928"></a><a id="ppp-ignores-backslash"></a><p><strong>14.18.</strong></p></td><td align="left" valign="top"><p>Ppp игнорирует символ <code class="literal">\</code>
	    в chat-скрипте</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Программа <span class="application">ppp</span> разбирает
	    каждую строку в конфигурационных файлах и поэтому может
	    правильно интерпретировать строки вида
	    <code class="literal">set phone "123 456 789"</code> и обнаруживать,
	    что на самом деле номер является единственным аргументом.
	    Для того, чтобы указать символ <code class="literal">"</code>,
	    заэкранируйте его символом обратного слэша
	    (<code class="literal">\</code>).</p><p>Когда интерпретатор chat разбирает каждый параметр, он
	    ещё раз просматривает аргумент на предмет каких-либо
	    специальных последовательностей типа <code class="literal">\P</code>
	    или <code class="literal">\T</code>.  Вследствие этой двойной
	    интерпретации не забывайте об использовании нужного
	    количества экранирующих символов.</p><p>Чтобы передать сам символ <code class="literal">\</code>,
	    укажите что-то типа:</p><pre class="programlisting">set dial "\"\" ATZ OK-ATZ-OK AT\\\\X OK"</pre><p>Это приведёт к такой последовательности:</p><pre class="programlisting">ATZ
OK
AT\X
OK</pre><p>Или:</p><pre class="programlisting">set phone 1234567
set dial "\"\" ATZ OK ATDT\\T"</pre><p>Это даст такую последовательность:</p><pre class="programlisting">ATZ
OK
ATDT1234567</pre></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75659728"></a><a id="ppp-autodialprocess-noconnect"></a><p><strong>14.19.</strong></p></td><td align="left" valign="top"><p>Процесс, вызвавший прозвонку в режиме <code class="option">-auto</code>,
	    никогда не получает затребованного соединения</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Эта проблема проявлялась, когда <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> в
	    режиме <code class="option">-auto</code> был настроен на динамическое
	    согласование локального IP-адреса
	    с противоположной стороной.  Это было давно исправлено -
	    поищите на странице справочника слово <code class="literal">iface</code>.</p><p>Причиной было то, что когда эта программа использует
	    системный вызов <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=connect&amp;sektion=2"><span class="citerefentry"><span class="refentrytitle">connect</span>(2)</span></a>, для сокета назначается IP-адрес
	    интерфейса <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=tun&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">tun</span>(4)</span></a>.  Ядро создаёт первый исходящий пакет и
	    записывает его в устройство <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=tun&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">tun</span>(4)</span></a>.  Затем <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a>
	    читает пакет и устанавливает соединение.  Если в результате
	    согласования <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> динамического IP-адреса
	    адрес интерфейса изменится, сокет будет работать некорректно.
	    Любые IP-пакеты, передаваемые через сокет, будут отброшены.
	    Если даже этого не произойдёт, ответные данные не будут
	    достигать отправителя,
	    так как этот адрес больше ему не принадлежит.</p><p>Теоретически есть несколько способов решить эту проблему.
	    Лучше всего, если противоположная сторона назначит интерфейсу
	    тот же самый IP-адрес.  Текущая версия
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> именно так и поступает, но большинство других
	    реализаций этого не делают.</p><p>Самым простым решением будет просто никогда не менять
	    IP-адрес интерфейса <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=tun&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">tun</span>(4)</span></a>, а вместо этого изменять на
	    лету все исходящие пакеты так, чтобы IP-адрес источника менялся
	    с IP-адреса интерфейса на соответствующий с противоположной
	    стороны.  Это, в сущности, то же самое, что делает опция
	    <code class="literal">iface-alias</code> в самой последней версии
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> (с помощью библиотеки <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=libalias&amp;sektion=3"><span class="citerefentry"><span class="refentrytitle">libalias</span>(3)</span></a> и ключа
	    <code class="option">-nat</code> для <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a>) - она отслеживает
	    все назначенные ранее интерфейсу адреса и замещает их на
	    последний из назначенных.</p><p>Другой возможный (и, наверное, самый надёжный) способ - это
	    создать системный вызов, меняющий IP-адреса всем уже связанным
	    сокетам.  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> использовал бы этот вызов для модификации
	    сокетов всех работающих программ после согласования нового
	    IP-адреса.  Этот же самый системный вызов могли бы использовать
	    клиенты <acronym class="acronym">DHCP</acronym>, когда они осуществляют повторную
	    привязку к сокету, вызывая для этого функцию
	    <code class="function">bind()</code>.</p><p>Ещё одной возможностью является разрешение интерфейсу
	    становиться активным без IP-адреса.  Исходящим пакетам будет
	    даваться IP адрес <code class="systemitem">255.255.255.255</code>
	    до первого вызова <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ioctl&amp;sektion=2"><span class="citerefentry"><span class="refentrytitle">ioctl</span>(2)</span></a> <code class="literal">SIOCAIFADDR</code>,
	    приводящего к полной привязке сокета.  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> нужно будет
	    изменять исходящий IP-адрес и контрольную сумму пакета, только
	    если он установлен в <code class="systemitem">255.255.255.255</code>.
	    Это, однако, является некоторым хаком, так как ядро будет
	    посылать некорректные пакеты на не полностью
	    сконфигурированный интерфейс, в предположении, что существует
	    механизм исправления этих пакетов.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75728080"></a><a id="fcs-errors"></a><p><strong>14.20.</strong></p></td><td align="left" valign="top"><p>Что такое ошибки FCS?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>FCS является сокращением от Frame Check Sequence
	    (контроль последовательности кадров).  Каждый кадр PPP имеет
	    контрольную сумму для проверки того, что принятые данные совпадают
	    с переданными.  Если FCS принятого пакета некорректна, пакет
	    отбрасывается и счётчик FCS для HDLC увеличивается.  Значения
	    ошибок уровня HDLC можно вывести командой
	    <code class="literal">show hdlc</code>.</p><p>Если линия плохого качества или драйвер
	    коммуникационного адаптера отбрасывает пакеты, будут
	    появляться случайные ошибки FCS.  Это обычно не является
	    причиной для волнений, хотя это существенно замедляет
	    протоколы компрессии.</p><p>Если связь замирает сразу при установлении соединения
	    и наблюдается большое количество ошибок FCS, убедитесь,
	    чтобы модем не использовал программное управление потоком
	    (XON/XOFF).  Если же для соединения должно использоваться
	    программное управление потоком, то воспользуйтесь командой
	    <code class="literal">set accmap 0x000a0000</code> для указания
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a> экранировать
	    символы <code class="literal">^Q</code> и <code class="literal">^S</code>.</p><p>Другой причиной слишком большого количества ошибок FCS
	    может быть прекращение противоположной стороной сеанса
	    <acronym class="acronym">PPP</acronym>.  В этом случае включите
	    протоколирование <code class="literal">async</code> для проверки
	    того, не являются ли поступаемые из линии данные на самом
	    деле приглашением login или shell.  Если с противоположной
	    стороны находится приглашение shell, завершить <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a>
	    без обрыва связи можно командой
	    <code class="command">close lcp</code> и последующей командой
	    <code class="command">term</code>, чтобы переподключиться к
	    приглашению shell на удалённой машине.</p><p>Если ничего в файле протокола не говорит о причине
	    разрыва связи, спросите у администратора удалённой машины
	    или вашего провайдера, почему сеанс был закрыт.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75736400"></a><a id="desperation"></a><p><strong>14.21.</strong></p></td><td align="left" valign="top"><p>Ничего не помогает - я уже отчаялся!</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Если всё уже перепробовано, и ничего не получается,
	    пошлите подробности об ошибке, конфигурационные файлы,
	    способ запуска <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a>, соответствующие части файла
	    протокола, и вывод команды <code class="command">netstat -rn</code>
	    до и после соединения в <a class="link" href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-questions" target="_top">Список рассылки, посвящённый вопросам и ответам пользователей FreeBSD</a>.</p></td></tr></tbody></table></div></div><div class="chapter"><div xmlns="" class="titlepage"><div><div><h1 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="serial"></a>Глава 15. Коммуникационные адаптеры</h1></div></div></div><p>В этом разделе освещены вопросы о работе последовательных
      адаптеров во FreeBSD.  Протокол PPP рассматривается в разделе
      <a class="link" href="#networking" title="Глава 12. Работа в сети">Работа в сети</a>.</p><div class="qandaset"><a id="idp75742160"></a><dl><dt>15.1. <a href="#idp75742416">Какие многопортовые последовательные адаптеры поддерживаются во
	    FreeBSD?</a></dt><dt>15.2. <a href="#idp75751888">Как сделать, чтобы приглашение boot: выводилось на консоль на
	    последовательном порту?</a></dt><dt>15.3. <a href="#idp75754448">Как узнать, обнаружила ли FreeBSD последовательные порты
	    или внутренние модемы?</a></dt><dt>15.4. <a href="#idp75772368">Как осуществляется доступ к последовательным портам во
	    FreeBSD?</a></dt><dt>15.5. <a href="#idp75795280">Как включить поддержку многопортовых последовательных
	    адаптеров?</a></dt><dt>15.6. <a href="#idp75802320">Можно ли настроить для порта режим работы по умолчанию?</a></dt><dt>15.7. <a href="#idp75804880">Как сделать вход через модем?</a></dt><dt>15.8. <a href="#idp75807440">Как подключить терминал к FreeBSD?</a></dt><dt>15.9. <a href="#idp75818320">Почему не удаётся запустить tip или
	    cu?</a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%" /><col /></colgroup><tbody><tr class="question"><td align="left" valign="top"><a id="idp75742416"></a><a id="multiport-serial-support"></a><p><strong>15.1.</strong></p></td><td align="left" valign="top"><p>Какие многопортовые последовательные адаптеры поддерживаются во
	    FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Список таких устройств находится в главе Руководства
	    <a class="link" href="../../../../doc/ru_RU.KOI8-R/books/handbook/serial.html" target="_top">Последовательные
	    соединения</a>.</p><p>Большинство многопортовых PCI адаптеров на базе 16550 и их
	    клоны поддерживаются без дополнительных усилий.</p><p>Некоторые безымянные клоны таких адаптеров тоже работают
	    нормально, особенно те, которые заявляют о своей совместимости
	    с AST.</p><p>Прочтите страницы Справочника <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=uart&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">uart</span>(4)</span></a> и <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sio&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">sio</span>(4)</span></a> для получения
	    подробной информации о конфигурировании таких адаптеров.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75751888"></a><a id="serial-console-prompt"></a><p><strong>15.2.</strong></p></td><td align="left" valign="top"><p>Как сделать, чтобы приглашение boot: выводилось на консоль на
	    последовательном порту?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Подробная информация находится в <a class="link" href="../../../../doc/ru_RU.KOI8-R/books/handbook/serialconsole-setup.html" target="_top">этом
	    разделе Руководства</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75754448"></a><a id="found-serial"></a><p><strong>15.3.</strong></p></td><td align="left" valign="top"><p>Как узнать, обнаружила ли FreeBSD последовательные порты
	    или внутренние модемы?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>В процессе своей загрузки ядро FreeBSD будет пытаться
	    найти последовательные порты, с поддержкой которых ядро
	    сконфигурировано.  Внимательно просмотрите сообщения
	    загрузки либо выполните такую команду после того,
	    как система запустилась и работает:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>dmesg | grep -E "^sio[0-9]"</code></strong>
sio0: &lt;16550A-compatible COM port&gt; port 0x3f8-0x3ff irq 4 flags 0x10 on acpi0
sio0: type 16550A
sio1: &lt;16550A-compatible COM port&gt; port 0x2f8-0x2ff irq 3 on acpi0
sio1: type 16550A</pre><p>Здесь присутствуют два последовательных порта.  Первый
	    находится на IRQ4, порт ввода/вывода
	    <code class="literal">0x3f8</code>, и построен на микросхеме UART
	    типа 16550A.  Второй использует тот же тип микросхемы, но
	    находится на IRQ3 и использует адрес порта ввода/вывода
	    <code class="literal">0x2f8</code>.  Внутренние модемы выглядят
	    точно также, как последовательные порты, за исключением
	    того, что модем к ним подключен всегда.</p><p>В ядро <code class="filename">GENERIC</code> встроена поддержка
	    двух последовательных портов, с теми же IRQ и адресами
	    портов ввода/вывода, как указано в примере выше.  Если эти
	    настройки не соответствуют системе или имеется больше
	    внутренних модемов или последовательных портов, чем
	    описано в ядре, переконфигурируйте его, следуя инструкциям
	    в разделе <a class="link" href="#make-kernel" title="7.1.">о построении
	      ядра</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75772368"></a><a id="access-serial-ports"></a><p><strong>15.4.</strong></p></td><td align="left" valign="top"><p>Как осуществляется доступ к последовательным портам во
	    FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Третий последовательный порт, <code class="filename">sio2</code>
	    или <code class="filename">COM3</code>, обозначается как
	    <code class="filename">/dev/cuad2</code> для устройств, выполняющих
	    исходящие звонки, и <code class="filename">/dev/ttyd2</code> для
	    устройств, принимающих входящие звонки.  Какая разница
	    между этими двумя классами устройств?</p><p>При открытии <code class="filename">/dev/ttydX</code> в
	    блокирующем режиме процесс будет ожидать неактивности
	    соответствующего устройства <code class="filename">cuadX</code>, а
	    затем появления сигнала о наличии несущей.  При открытии
	    устройства <code class="filename">cuadX</code> он проверяет, что
	    последовательный порт не занят устройством
	    <code class="filename">ttydX</code>.  Если порт доступен, он
	    похищает его у устройства <code class="filename">ttydX</code>.
	    Также устройство <code class="filename">cuadX</code> не следит за
	    наличием несущей.  С такой схемой работы и модемом
	    в режиме автоответа удалённые пользователи могут входить
	    в систему, а локальные пользователи через тот же модем
	    могут по прежнему осуществлять исходящие звонки, а система
	    позаботится о возможных конфликтах.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75795280"></a><a id="enable-multiport-serial"></a><p><strong>15.5.</strong></p></td><td align="left" valign="top"><p>Как включить поддержку многопортовых последовательных
	    адаптеров?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Информация о конфигурировании ядра содержится в
	    соответствующем разделе, посвящённом этому вопросу.  Для
	    многопортовых последовательных адаптеров добавьте в файл
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=device.hints&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">device.hints</span>(5)</span></a> по строке <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sio&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">sio</span>(4)</span></a> на каждый порт.
	    Но IRQ должен быть указан только у одного порта.  Все порты
	    на адаптере должны использовать одно и то же значение IRQ.
	    Для обеспечения согласованности используйте для указания IRQ
	    последний последовательный порт.  Также укажите следующую
	    опцию в файле конфигурации ядра:</p><pre class="programlisting">COM_MULTIPORT</pre><p>В следующем примере указано содержимое
	    <code class="filename">/boot/device.hints</code> для 4-портового
	    последовательного адаптера AST на IRQ 12:</p><pre class="programlisting">hint.sio.4.at="isa"
hint.sio.4.port="0x2a0"
hint.sio.4.flags="0x701"
hint.sio.5.at="isa"
hint.sio.5.port="0x2a8"
hint.sio.5.flags="0x701"
hint.sio.6.at="isa"
hint.sio.6.port="0x2b0"
hint.sio.6.flags="0x701"
hint.sio.7.at="isa"
hint.sio.7.port="0x2b8"
hint.sio.7.flags="0x701"
hint.sio.7.irq="12"</pre><p>Флаги указывают, что управляющий порт имеет младший номер
	    устройства <code class="literal">7</code> (<code class="literal">0x700</code>),
	    и все порты совместно используют один и тот же номер IRQ
	    (<code class="literal">0x001</code>).</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75802320"></a><a id="default-serial-params"></a><p><strong>15.6.</strong></p></td><td align="left" valign="top"><p>Можно ли настроить для порта режим работы по умолчанию?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Смотрите раздел Руководства FreeBSD, посвящённый <a class="link" href="../../../../doc/ru_RU.KOI8-R/books/handbook/serial.html#serial-hw-config" target="_top">последовательным
	    соединениям</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75804880"></a><a id="enable-dialup"></a><p><strong>15.7.</strong></p></td><td align="left" valign="top"><p>Как сделать вход через модем?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Ознакомьтесь с разделом Руководства FreeBSD, посвящённым
	    <a class="link" href="../../../../doc/ru_RU.KOI8-R/books/handbook/dialup.html" target="_top">входящим
	    соединениям</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75807440"></a><a id="dumb-terminal"></a><p><strong>15.8.</strong></p></td><td align="left" valign="top"><p>Как подключить терминал к FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Информация по этому вопросу находится в разделе <a class="link" href="../../../../doc/ru_RU.KOI8-R/books/handbook/term.html" target="_top">Терминалы</a>
	    Руководства FreeBSD.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75818320"></a><a id="cannot-tip"></a><p><strong>15.9.</strong></p></td><td align="left" valign="top"><p>Почему не удаётся запустить <code class="command">tip</code> или
	    <code class="command">cu</code>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Встроенные утилиты <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=tip&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">tip</span>(1)</span></a> и <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=cu&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">cu</span>(1)</span></a> могут
	    получить доступ к каталогу
	    <code class="filename">/var/spool/lock</code>
	    только из-под пользователя
	    <code class="systemitem">uucp</code> и членов
	    группы <code class="systemitem">dialer</code>.
	    Используйте группу <code class="systemitem">dialer</code> для управления
	    доступом к модему или удалённым системам посредством
	    добавления в неё пользовательских учётных записей.</p><p>Либо же можно разрешить всем запускать
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=tip&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">tip</span>(1)</span></a> и <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=cu&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">cu</span>(1)</span></a>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>chmod 4511 /usr/bin/cu</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>chmod 4511 /usr/bin/tip</code></strong></pre></td></tr></tbody></table></div></div><div class="chapter"><div xmlns="" class="titlepage"><div><div><h1 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="misc"></a>Глава 16. Разное</h1></div></div></div><div class="qandaset"><a id="idp75829456"></a><dl><dt>16.1. <a href="#idp75829712">Почему FreeBSD использует много места в разделе подкачки
	    даже при большом объёме свободной памяти?</a></dt><dt>16.2. <a href="#idp75832144">Почему утилита top(1) показывает очень маленький объём
	    свободной памяти, даже когда запущено всего лишь несколько
	    приложений?</a></dt><dt>16.3. <a href="#idp75838544">Почему командой chmod невозможно
	    изменить права на символические ссылки?</a></dt><dt>16.4. <a href="#idp75864400">Можно ли запускать программы для DOS во FreeBSD?</a></dt><dt>16.5. <a href="#idp75868880">Что мне нужно сделать, чтобы перевести документацию FreeBSD на
	    родной язык?</a></dt><dt>16.6. <a href="#idp75871696">Почему возвращается моя электронная почта, отправленная на
	    любой из адресов FreeBSD.org?</a></dt><dt>16.7. <a href="#idp75885264">Где можно получить бесплатный доступ к FreeBSD?</a></dt><dt>16.8. <a href="#idp75895248">Как зовут этого маленького симпатичного красного парня?</a></dt><dt>16.9. <a href="#idp75903952">Могу ли я использовать изображение даемона BSD?</a></dt><dt>16.10. <a href="#idp75907792">Не найдется ли у вас изображений даемона BSD, которые можно
	    использовать?</a></dt><dt>16.11. <a href="#idp75910352">При просмотре списков рассылки, я встретил акроним или
	    другой термин, который мне не понятен.  Где я должен посмотреть,
	    что он значит?</a></dt><dt>16.12. <a href="#idp75921232">Почему я должен беспокоиться о цвете велосипедных навесов
	    (bikeshed)?</a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%" /><col /></colgroup><tbody><tr class="question"><td align="left" valign="top"><a id="idp75829712"></a><a id="more-swap"></a><p><strong>16.1.</strong></p></td><td align="left" valign="top"><p>Почему FreeBSD использует много места в разделе подкачки
	    даже при большом объёме свободной памяти?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>FreeBSD активно перемещает неиспользуемые страницы
	    памяти, к которым не было обращений, в раздел подкачки,
	    чтобы увеличить объём доступной физической памяти для
	    активного использования.  Такое активное использование
	    раздела подкачки компенсируется использованием дополнительной
	    свободной оперативной памяти для кеширования.</p><p>Заметьте, что хотя FreeBSD предпочитает использовать
	    раздел подкачки, страницы не перемещаются произвольно
	    при полностью неактивной системе.  По этой причине
	    система не будет находиться целиком в разделе подкачки
	    после ночного простаивания.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75832144"></a><a id="top-freemem"></a><p><strong>16.2.</strong></p></td><td align="left" valign="top"><p>Почему утилита <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=top&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">top</span>(1)</span></a> показывает очень маленький объём
	    свободной памяти, даже когда запущено всего лишь несколько
	    приложений?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Просто дело в том, что под свободной памятью
	    подразумевается никак не используемая память.  Вся память,
	    которая программам явно не выделялась, используется
	    ядром FreeBSD для дискового кэша.  Значения, показываемые
	    утилитой <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=top&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">top</span>(1)</span></a>, помеченные как <code class="literal">Inact</code>,
	    <code class="literal">Cache</code> и <code class="literal">Buf</code> - это
	    всё кэшированные данные разных степеней устаревания.  То,
	    что данные находятся в кэше, означает, что система не будет
	    обращаться к медленному диску снова за теми данными,
	    обращение к которым было недавно, повышая таким образом
	    общую производительность.  В общем случае маленькие значения
	    в пункте <code class="literal">Free</code>, показываемые утилитой
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=top&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">top</span>(1)</span></a> для свободной памяти - это хорошо, если,
	    конечно они не <span class="emphasis"><em>очень</em></span> маленькие.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75838544"></a><a id="chmod-symlinks"></a><p><strong>16.3.</strong></p></td><td align="left" valign="top"><p>Почему командой <code class="command">chmod</code> невозможно
	    изменить права на символические ссылки?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Символические ссылки не имеют атрибутов доступа, и по
	    умолчанию утилита <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chmod&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">chmod</span>(1)</span></a> следует по символической
	    ссылке, чтобы по возможности изменить права доступа на
	    исходный файл.  Для файла <code class="filename">foo</code> с
	    символической ссылкой <code class="filename">bar</code> на этот файл
	    эта команда всегда будет выполняться успешно.</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>chmod g-w bar</code></strong></pre><p>Однако права на файл <code class="filename">bar</code> не
	    изменятся.</p><p>Чтобы это работало, используйте опцию <code class="option">-H</code> или
	    <code class="option">-L</code> вместе с опцией <code class="option">-R</code>.
	    Обратитесь к страницам Справочника по команде <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chmod&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">chmod</span>(1)</span></a> и по
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=symlink&amp;sektion=7"><span class="citerefentry"><span class="refentrytitle">symlink</span>(7)</span></a>.</p><div xmlns="" class="warning"><h3 class="admontitle">Предупреждение: </h3><p xmlns="http://www.w3.org/1999/xhtml">Опция <code class="option">-R</code> выполняет <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chmod&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">chmod</span>(1)</span></a>
	      <span class="emphasis"><em>рекурсивно</em></span>.  Будьте внимательны,
	      задавая каталоги или символические ссылки на каталоги
	      в параметрах <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chmod&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">chmod</span>(1)</span></a>.  Чтобы изменить права на
	      каталог, на который указывает символическая ссылка,
	      используйте <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chmod&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">chmod</span>(1)</span></a> без опций и следуйте
	      символической ссылке с помощью лидирующего слэша
	      (<code class="filename">/</code>).  Например, если
	      <code class="filename">foo</code> является символической ссылкой
	      на каталог <code class="filename">bar</code>, то чтобы изменить
	      права на <code class="filename">foo</code> (на самом деле на
	      <code class="filename">bar</code>), выполните такую команду:</p><pre xmlns="http://www.w3.org/1999/xhtml" class="screen"><code class="prompt">%</code> <strong class="userinput"><code>chmod 555 foo/</code></strong></pre><p xmlns="http://www.w3.org/1999/xhtml">Если задан ведущий слэш, то <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chmod&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">chmod</span>(1)</span></a> будет
	      следовать символической ссылке <code class="filename">foo</code>,
	      меняя права на каталог <code class="filename">bar</code>.</p></div></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75864400"></a><a id="dos-binaries"></a><p><strong>16.4.</strong></p></td><td align="left" valign="top"><p>Можно ли запускать программы для DOS во FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Да.  Программа эмуляции DOS
	    <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/emulators/doscmd/pkg-descr">emulators/doscmd</a> включена в
	    Коллекцию Портов FreeBSD.</p><p>Если <span class="application">doscmd</span> не достаточно,
	    <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/emulators/pcemu/pkg-descr">emulators/pcemu</a> эмулирует 8088 и набор
	    сервисов BIOS, достаточный для запуска многих приложений
	    текстового режима DOS.  Требуется X Window System.</p><p>В Коллекции Портов FreeBSD также имеется
	    <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/emulators/dosbox/pkg-descr">emulators/dosbox</a>.  Программа в основном
	    предназначена для эмуляции старых игр, написанных под DOS,
	    для хранения файлов которых используется
	    локальная файловая система.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75868880"></a><a id="translation"></a><p><strong>16.5.</strong></p></td><td align="left" valign="top"><p>Что мне нужно сделать, чтобы перевести документацию FreeBSD на
	    родной язык?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Ознакомьтесь с <a class="link" href="../../../../doc/en_US.ISO8859-1/books/fdp-primer/translations.html" target="_top"><acronym class="acronym">FAQ</acronym>
	      по Переводам</a> из FreeBSD Documentation Project
	    Primer.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75871696"></a><a id="freebsd-mail-bounces"></a><p><strong>16.6.</strong></p></td><td align="left" valign="top"><p>Почему возвращается моя электронная почта, отправленная на
	    любой из адресов <code class="systemitem">FreeBSD.org</code>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>В почтовой системе <code class="systemitem">FreeBSD.org</code>
	    в <span class="application">Postfix</span> применяются некоторые
	    проверки входящей почты, и отвергаются сообщения,
	    которые были неправильно сформированы при пересылке либо
	    как-то иначе похожи на спам.
	    Некоторые из требований:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>IP-адрес клиента SMTP должен иметь обратное
		преобразование в символическое имя.</p></li><li class="listitem"><p>Полное имя хоста, указанное на этапе EHLO/HELO
		в процессе обмена сообщениями SMTP, должно разрешаться
		в IP-адрес клиента.</p></li></ul></div><p>Дополнительные советы по доставке письма:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Письмо должно быть отправлено в текстовом формате.
		Сообщение в почтовый список рассылки, как правило, не
		должно иметь размер больше 200 Кбайт.</p></li><li class="listitem"><p>Избегайте избыточного кросспостинга.  Выберите
		<span class="emphasis"><em>один</em></span> список рассылки, который
		кажется наиболее подходящим.</p></li></ul></div><p>Если у вас всё ещё остались трудности при работе
	    с почтовой инфраструктурой
	    <code class="systemitem">FreeBSD.org</code>,
	    отправьте сообщение с подробным описанием на адрес
	    <code class="email">&lt;<a xmlns="" class="email" href="mailto:postmaster@freebsd.org">postmaster@freebsd.org</a>&gt;</code>.  Укажите в нём
	    временной интервал для проверки логов -
	    и обратите внимание, что мы держим журнал почтовых логов
	    всего за неделю.
	    (Обязательно укажите часовой пояс или разницу в UTC.)</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75885264"></a><a id="free-account"></a><p><strong>16.7.</strong></p></td><td align="left" valign="top"><p>Где можно получить бесплатный доступ к FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Хотя FreeBSD не предоставляет бесплатный доступ ни к одному из
	    своих серверов, другие компании предоставляют <span class="trademark">UNIX</span>(R)-системы с
	    открытым доступом.  Стоимость этой услуги различна, также как и
	    ограниченный набор услуг.</p><p><a class="link" href="http://www.arbornet.org/" target="_top">Arbornet, Inc</a>,
	    также известный как <span class="emphasis"><em>M-Net</em></span>, предоставляет
	    свободный доступ к
	    <span class="trademark">UNIX</span>(R)-системам с 1983 года.  Начиная на платформе Altos с
	    работающей System III, сайт перешёл на BSD/OS в 1991.
	    В июне 2000 сайт сменил систему снова, теперь на FreeBSD.
	    <span class="emphasis"><em>M-Net</em></span> может быть доступна через протоколы
	    <span class="application">telnet</span> и <span class="application">SSH</span>
	    и предоставляет доступ к полному набору программного обеспечения
	    FreeBSD.  Однако доступ к сети ограничен для членов и спонсоров,
	    которые поддерживают систему, которая работает как неприбыльная
	    организация.  <span class="emphasis"><em>M-Net</em></span> предоставляет также
	    услуги электронной доски объявлений (BBS) и интерактивного
	    чата.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75895248"></a><a id="daemon-name"></a><p><strong>16.8.</strong></p></td><td align="left" valign="top"><p>Как зовут этого маленького симпатичного красного парня?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>У него нет определённого имени, он называется просто
	    <span class="quote"><<<span class="quote">даемон BSD</span>>></span>.  Если вам непременно нужно имя,
	    называйте его <span class="quote"><<<span class="quote">beastie</span>>></span>.  Заметьте, что
	    <span class="quote"><<<span class="quote">beastie</span>>></span> произносится как <span class="quote"><<<span class="quote">BSD</span>>></span>.</p><p>Больше о даемоне BSD можно узнать из его <a class="link" href="http://www.mckusick.com/beastie/index.html" target="_top">домашней
	      страницы</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75903952"></a><a id="use-beastie"></a><p><strong>16.9.</strong></p></td><td align="left" valign="top"><p>Могу ли я использовать изображение даемона BSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Вполне.  Права на даемона BSD имеет Marshall Kirk
	    McKusick.  Для выяснения подробностей относительно правил
	    его использования обратитесь к странице автора <a class="link" href="http://www.mckusick.com/beastie/mainpage/copyright.html" target="_top">Statement
	      on the Use of the BSD Daemon Figure</a>.</p><p>В общем, использовать изображение можно в
	    высокохудожественном стиле и в личных целях, если даются
	    соответствующие отсылки.  Перед использованием знака в
	    коммерческих целях обратитесь за разрешением к
	    Kirk McKusick <code class="email">&lt;<a xmlns="" class="email" href="mailto:mckusick@FreeBSD.org">mckusick@FreeBSD.org</a>&gt;</code>.  Дополнительная информация находится
	    на <a class="link" href="http://www.mckusick.com/beastie/index.html" target="_top">домашней
	      странице Даемона BSD</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75907792"></a><a id="daemon-images"></a><p><strong>16.10.</strong></p></td><td align="left" valign="top"><p>Не найдется ли у вас изображений даемона BSD, которые можно
	    использовать?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>В каталоге <code class="filename">/usr/share/examples/BSD_daemon/</code>
	    есть рисунки в форматах eps и Xfig.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75910352"></a><a id="glossary"></a><p><strong>16.11.</strong></p></td><td align="left" valign="top"><p>При просмотре списков рассылки, я встретил акроним или
	    другой термин, который мне не понятен.  Где я должен посмотреть,
	    что он значит?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Пожалуйста, обращайтесь к <a class="link" href="../../../../doc/ru_RU.KOI8-R/books/handbook/freebsd-glossary.html" target="_top">Глоссарию
	      FreeBSD</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75921232"></a><a id="bikeshed-painting"></a><p><strong>16.12.</strong></p></td><td align="left" valign="top"><p>Почему я должен беспокоиться о цвете велосипедных навесов
	    (bikeshed)?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>На самом деле, очень краткий ответ на этот вопрос заключается в том,
	    что вы этого делать не должны.  Если давать более подробный ответ, то ваше
	    умение делать навесы не должно означать, что вы должны препятствовать
	    другим делать их просто потому, что вам не нравится цвет, в который
	    они собираются их окрашивать.  Эта метафора означает, что вам не нужно
	    обсуждать каждую мелочь просто потому, что вы знаете о ней
	    достаточно много.  Некоторые люди отмечают, что объём шума, генерируемый
	    при появлении некоторого изменения, находится в обратной зависимости от
	    сложности самого изменения.</p><p>Более пространный и полный ответ заключается в том, что после очень
	    долгого обсуждения того, должна ли утилита <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sleep&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">sleep</span>(1)</span></a> обрабатывать
	    дробное число, заданное в качестве второго аргумента, Poul-Henning Kamp <code class="email">&lt;<a xmlns="" class="email" href="mailto:phk@FreeBSD.org">phk@FreeBSD.org</a>&gt;</code>
	    опубликовал большое сообщение, озаглавленное <span class="quote"><<<span class="quote"><a class="link" href="http://www.FreeBSD.org/cgi/getmsg.cgi?fetch=506636+517178+/usr/local/www/db/text/1999/freebsd-hackers/19991003.freebsd-hackers" target="_top">
	    Велосипедный навес (подставьте здесь цвет) на зелёной траве...</a></span>>></span>.
	    Соответствующие части этого сообщения цитируются ниже.</p><div class="blockquote"><table border="0" class="blockquote" style="width: 100%; cellspacing: 0; cellpadding: 0;" summary="Block quote"><tr><td width="10%" valign="top"> </td><td width="80%" valign="top"><p><span class="quote"><<<span class="quote">Что это за история с навесом для велосипеда?</span>>></span> Кто-то
		из вас задавал такой вопрос.</p><p>Это долгая история, или же это старая история, но на самом деле
		она коротка.  В начале 1960-х годов Паркинсон (C. Northcote Parkinson)
		написал книгу <span class="quote"><<<span class="quote">Закон Паркинсона</span>>></span>, которая содержит много
		интересных взглядов на процесс управления.</p><p><span class="emphasis"><em>[немного выдержек из краткого содержания книги]</em></span></p><p>В конкретном примере велосипедный навес сопоставляется с
		другим важным объектом - атомной электростанцией.
		Я полагаю, что это иллюстрирует древность книги.</p><p>Паркинсон показывает, что вы можете прийти на совещание
		руководителей и получить добро на строительство многомиллионной
		или даже многомиллиардной атомной электростанции, но если вы
		хотите построить навес для велосипеда, то погрязнете в бесконечных
		обсуждениях.</p><p>Паркинсон объясняет это тем, что атомная станция настолько большой,
		дорогой и сложный объект, что люди не могут его осознать и вместо того,
		чтобы попробовать это сделать, они полагаются на то, что кто-то уже
		проверил все мелочи до того, как всё зашло так далеко.  В своей книге
		Ричард П. Фейнманн (Richard P. Feynmann) даёт несколько интересных и
		очень поучительных примеров, связанных с Лос Аламос.</p><p>Велосипедный навес - это противоположный случай.  Любой может
		построить навес за один уикэнд, и у него ещё останется время посмотреть
		футбол по телевизору.  Так что не важно, насколько хорошо вы готовились
		к обсуждению, насколько убедительны будут ваши аргументы, кто-нибудь
		воспользуется шансом показать, что он не зря ест свой хлеб, что он
		обращает внимание, что он <span class="emphasis"><em>здесь</em></span>.</p><p>В Дании это называется <span class="quote"><<<span class="quote">оставить отпечаток своего
		пальца</span>>></span>.  Это касается личной гордости и престижа, это похоже
		на возможность указать куда-то и сказать: <span class="quote"><<<span class="quote"> Вон там! Это сделал
		<span class="emphasis"><em>я</em></span>.</span>>></span>  Это сильно выражено в политиках, но
		присутствует во многих людях, которые получают возможность сделать
		это.  Просто вспомните об отпечатках ног во влажном цементе.</p></td><td width="10%" valign="top"> </td></tr><tr><td width="10%" valign="top"> </td><td colspan="2" align="right" valign="top">--<span class="attribution">Poul-Henning Kamp <code class="email">&lt;<a xmlns="" class="email" href="mailto:phk@FreeBSD.org">phk@FreeBSD.org</a>&gt;</code> on freebsd-hackers,
		October 2, 1999</span></td></tr></table></div></td></tr></tbody></table></div></div><div class="chapter"><div xmlns="" class="titlepage"><div><div><h1 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="funnies"></a>Глава 17. Юмор от FreeBSD</h1></div></div></div><div class="qandaset"><a id="idp75933392"></a><dl><dt>17.1. <a href="#idp75933648">Насколько греется процессор при работе FreeBSD?</a></dt><dt>17.2. <a href="#idp75938896">Кто там скребётся в микросхемах памяти??</a></dt><dt>17.3. <a href="#idp75943376">Сколько требуется разработчиков FreeBSD, чтобы сменить
	    электрическую лампочку?</a></dt><dt>17.4. <a href="#idp75987792">Куда направляются данные, записываемые в
	    /dev/null?</a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%" /><col /></colgroup><tbody><tr class="question"><td align="left" valign="top"><a id="idp75933648"></a><a id="very-very-cool"></a><p><strong>17.1.</strong></p></td><td align="left" valign="top"><p>Насколько греется процессор при работе FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>В. Кто-нибудь делал замеры температуры при работе FreeBSD?  Я
	    знаю, что <span class="trademark">Linux</span>(R) греется меньше, чем DOS, но никогда не видел
	    упоминания FreeBSD.  Наверное, он сильно греется.</p><p>О. Нет, но мы сделали различные вкусовые тесты у добровольцев с
	    завязанными глазами, которые до этого приняли по 250 микрограмм
	    LSD-25.  35% добровольцев заявило, что FreeBSD имеет вкус апельсина,
	    тогда как вкус <span class="trademark">Linux</span>(R) расценивался как фиолетовый туман.  Ни одна
	    из групп не отметила значительной разницы в температуре.  Мы
	    хотели опубликовать полные результаты этого опроса, когда
	    обнаружили, что слишком много добровольцев покинули помещение во
	    время тестов, что несколько смазало результаты.  Думаем, что
	    большинство из них работают сейчас в Apple над их новым GUI
	    <span class="quote"><<<span class="quote">чеши и нюхай</span>>></span>.  Это старый добрый бизнес!</p><p>Если серьёзно, то FreeBSD использует инструкцию
	    <acronym class="acronym">HLT</acronym> (halt), когда система простаивает, что
	    уменьшает потребление энергии и, в свою очередь, выделение тепла.
	    Вдобавок, если у вас настроен
	    <acronym class="acronym">ACPI</acronym> (усовершенствованный интерфейс
	    управления конфигурацией и питанием), то FreeBSD может переводить
	    процессор в режим пониженного энергопотребления.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75938896"></a><a id="letmeoutofhere"></a><p><strong>17.2.</strong></p></td><td align="left" valign="top"><p>Кто там скребётся в микросхемах памяти??</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>В. Делает ли FreeBSD что-нибудь <span class="quote"><<<span class="quote">эдакое</span>>></span> при
	    компиляции ядра, что вызывает поскрипывание микросхем памяти?  При
	    компиляции (и в короткий промежуток времени после обнаружения
	    дисковода при старте системы) от микросхем памяти исходит странный
	    царапающий звук.</p><p>О. Да!  Вы, наверное, видели частое упоминание
	    <span class="quote"><<<span class="quote">даемонов</span>>></span> в документации по BSD, но не многие знают,
	    что это настоящие нематериальные существа, которые теперь
	    завладели вашим компьютером.  Царапающий звук, издаваемый
	    микросхемами памяти - это на самом деле высокочастотное
	    перешёптывание между даемонами, когда они решают, как лучше
	    справиться с различными задачами по администрированию
	    системы.</p><p>Если шум достиг ваших ушей, команда DOS <code class="command">fdisk
	    /mbr</code> их спугнёт, но не удивляйтесь, если они отреагируют
	    соответствующим образом и попытаются вас остановить.  Фактически,
	    если во время выполнения этой команды вы услышите сатанинский
	    голос Билла Гейтса из встроенного динамика, бегите и даже не
	    оглядывайтесь!  Избавленные от противостояния с даемонами BSD,
	    близнецы-демоны DOS и <span class="trademark">Windows</span>(R) часто могут захватить полный
	    контроль не только над вашей машиной и навлечь вечное проклятие на
	    вашу душу.  Теперь, когда вы это знаете, если бы у вас был выбор,
	    думаем, что вы бы предпочли слышать царапающий звук, не так
	    ли?</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75943376"></a><a id="changing-lightbulbs"></a><p><strong>17.3.</strong></p></td><td align="left" valign="top"><p>Сколько требуется разработчиков FreeBSD, чтобы сменить
	    электрическую лампочку?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Необходимо иметь ровно одну тысячу сто шестьдесят девять
	    разработчиков:</p><p>Двадцать три сообщат в -CURRENT о том, что не горит свет;</p><p>Четыре начнут утверждать, что это проблема конфигурации и такие
	    сообщения нужно посылать в -questions;</p><p>Трое оформят PR по этому поводу, причём одно их них будет
	    направлено в doc и будет содержать только строчку
	    <span class="quote"><<<span class="quote">здесь темно</span>>></span>;</p><p>Один закоммитит неоттестированную лампочку, что сломает
	    построение системы, а затем через пять минут вернёт всё
	    назад;</p><p>Восемь поругаются с авторами PR по поводу включения патчей в
	    PR;</p><p>Пять сообщат о том, что не проходит компиляция системы;</p><p>Тридцать один человек ответит, что у них всё работает и
	    наверное, те обновились в неподходящее время;</p><p>Один пошлёт патч для новой лампочки в -hackers;</p><p>Один пожалуется, что у него имелись патчики ещё три года назад,
	    но когда он послал их в -CURRENT, они были проигнорированы и он имел
	    неудачный опыт работы с системой PR; кроме того предлагаемая
	    лампочка не имеет отражателя.</p><p>Тридцать семь начнут кричать, что лампочки не относятся к
	    базовой системе, что коммиттеры не имеют права делать такие вещи
	    без опроса общественности и ЧТО ВООБЩЕ -CORE ДЕЛАЕТ ПО ЭТОМУ
	    ПОВОДУ?</p><p>Две сотни напишут о цвете велосипедного навеса;</p><p>Трое скажут, что этот патч не соответствует <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=style&amp;sektion=9"><span class="citerefentry"><span class="refentrytitle">style</span>(9)</span></a></p><p>Семнадцать возразят, что предлагаемая новая лампа подпадает под
	    лицензию GPL;</p><p>Пятьсот восемьдесят шесть раздуют флейм по поводу сравнения
	    лицензий GPL, BSD, MIT, NPL и личных мнений о неизвестных
	    основателей FSF;</p><p>Семеро пошлют различные части этих обсуждений в -chat и
	    -advocacy;</p><p>Один закоммитит предлагаемую лампу, хотя она светит хуже, чем
	    старая;</p><p>Двое откатят эти изменения с ужасной руганью в журнале коммитта
	    о том, что лучше FreeBSD будет сидеть в темноте, чем с тусклой
	    лампой.</p><p>Сорок шесть громко воспротивятся этому изменению и потребуют
	    объяснений от -core;</p><p>Одиннадцать попросят уменьшить размер лампочки, чтобы она
	    подошла к их Тамагочи на случай, если мы когда-нибудь соберёмся
	    переносить FreeBSD на эту платформу;</p><p>Семьдесят три заявят о SNR в -hackers и -chat и в знак протеста
	    отпишутся;</p><p>Тринадцать пошлют письма <span class="quote"><<<span class="quote">unsubscribe</span>>></span>, <span class="quote"><<<span class="quote">How
	    do I unsubscribe?</span>>></span> или <span class="quote"><<<span class="quote">Please remove me from the
	    list</span>>></span> с обычной подписью;</p><p>Один закоммитит работающую лампочку в то время, как все будут
	    слишком заняты руганью, чтобы это заметить;</p><p>Тридцать один человек напишет, что новая лампочка будет светить
	    на 0.364% ярче, если её откомпилировать с помощью TenDRA (хотя при
	    этом она приобретёт форму куба) и что FreeBSD должна перейти на
	    компилятор TenDRA, а не на GCC;</p><p>Один заметит, что у лампочки отсутствует цоколь;</p><p>Девять (включая авторов PR) спросят <span class="quote"><<<span class="quote">что такое
	    MFC?</span>>></span>;</p><p>Спустя две недели после смены лампочки пятьдесят семь человек
	    сообщат о том, что света всё равно нет.</p><p><span class="emphasis"><em>Nik Clayton <code class="email">&lt;<a xmlns="" class="email" href="mailto:nik@FreeBSD.org">nik@FreeBSD.org</a>&gt;</code> добавил:</em></span></p><p><span class="emphasis"><em>Я сильно смеялся над всем этим.</em></span></p><p><span class="emphasis"><em>И тогда я подумал, <span class="quote"><<<span class="quote">Постойте-ка, найдётся ли
	    кто-нибудь, чтобы задокументировать это?</span>>></span></em></span></p><p><span class="emphasis"><em>И на меня снизошло озарение :-)</em></span></p><p><span class="emphasis"><em>Thomas Abthorpe <code class="email">&lt;<a xmlns="" class="email" href="mailto:tabthorpe@FreeBSD.org">tabthorpe@FreeBSD.org</a>&gt;</code></em></span> говорит: <span class="quote"><<<span class="quote">Нет,
	    <span class="emphasis"><em>настоящие</em></span> хакеры FreeBSD не боятся
	    темноты!</span>>></span></p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75987792"></a><a id="dev-null"></a><p><strong>17.4.</strong></p></td><td align="left" valign="top"><p>Куда направляются данные, записываемые в
	    <code class="filename">/dev/null</code>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Они отправляются в специальную сточную трубу для данных
	    в CPU, где преобразуются в тепло, выдуваемое через охлаждающие
	    вентиляторы.  Вот почему охлаждение ЦП становится все более
	    важным; так как люди используют все более быстрые процессоры,
	    они все менее заботятся о данных, все большее их количество
	    оканчивает свой путь в <code class="filename">/dev/null</code>,
	    перегревая ЦП.  Если вы удалите <code class="filename">/dev/null</code>
	    (что соответственно отключит трубу данных в ЦП), то ваш
	    процессор может охладиться, но система начнет переполняться
	    излишними данными и начнет работать с ошибками.  Если у вас
	    быстрое сетевое подключение, вы можете охладить CPU, читая
	    данные из <code class="filename">/dev/random</code> и посылая их
	    куда-нибудь; однако вы рискуете перегреть ваше сетевое
	    соединение и <code class="filename">/</code> или
	    разозлить вашего провайдера, так как большинство данных
	    преобразуется в тепло на его оборудовании, но, как правило,
	    у него хорошее охлаждение, так что если вы не перестараетесь,
	    все должно быть в порядке.</p><p><span class="emphasis"><em>Пол Робинсон (Paul Robinson)
	    добавляет:</em></span></p><p>Есть и другие методы.  Как знает каждый хороший системный
	    администратор, частью хорошей практики является посылка данных на
	    экран интересным образом, чтобы феи, которые образуют картинку,
	    были счастливы.  Экранные феи (часто неправильно называемые
	    <span class="quote"><<<span class="quote">пикселами</span>>></span>) различаются по цвету головных уборов,
	    которые они носят
	    (красные, зеленые или синие), и прячутся или появляются (показывая,
	    таким образом, цвет своих шляп), когда получают немного пищи.
	    Видеоадаптеры преобразуют данные в еду для фей, а затем посылают
	    ее феям - чем дороже адаптер, тем лучше еда, тем лучше
	    ведут себя феи.  Они также нуждаются в постоянной стимуляции
	    - вот зачем нужны хранители экранов.</p><p>Продолжив наше предположение, вы можете просто выдавать
	    случайные данные на консоль, таким образом позволяя феям их
	    потреблять.  Это вовсе приводит к прекращению выделения тепла,
	    феи постоянно счастливы, а данные быстро исчезают, даже если
	    на вашем экране все выглядит несколько хаотично.</p><p>Как бывший администратор крупного провайдера, который имел
	    много проблем при попытке поддерживать постоянную температуру в
	    серверной комнате, я выступаю против того, чтобы люди посылали
	    ненужные им данные в сеть.  Волшебников, которые выполняют
	    коммутацию пакетов и маршрутизацию, это также затрудняет.</p></td></tr></tbody></table></div></div><div class="chapter"><div xmlns="" class="titlepage"><div><div><h1 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="advanced"></a>Глава 18. Сложные темы</h1></div></div></div><div class="qandaset"><a id="idp75994960"></a><dl><dt>18.1. <a href="#idp75995216">Как можно узнать больше о внутреннем устройстве FreeBSD?</a></dt><dt>18.2. <a href="#idp75998800">Как можно оказать помощь проекту FreeBSD?</a></dt><dt>18.3. <a href="#idp76001360">Что такое снапшоты и релизы?</a></dt><dt>18.4. <a href="#idp76026960">Можно ли работать с -CURRENT при
	    ограниченном доступе в Internet?</a></dt><dt>18.5. <a href="#idp76030288">Я написал некоторое добавление к ядру, кому его послать?</a></dt><dt>18.6. <a href="#idp76037584">Что делать при аварийном останове системы?</a></dt><dt>18.7. <a href="#idp76157776">Перестала работать функция dlsym()
	    для исполняемых файлов ELF!</a></dt><dt>18.8. <a href="#idp76167120">Как я могу увеличить или уменьшить адресное пространство
	    ядра в архитектуре i386?</a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%" /><col /></colgroup><tbody><tr class="question"><td align="left" valign="top"><a id="idp75995216"></a><a id="learn-advanced"></a><p><strong>18.1.</strong></p></td><td align="left" valign="top"><p>Как можно узнать больше о внутреннем устройстве FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Список относящихся к делу книг можно найти в разделе
	    Руководства <a class="link" href="../../../../doc/ru_RU.KOI8-R/books/handbook/bibliography-osinternals.html" target="_top">
	    Библиография по внутреннему устройству операционной
	    системы</a>.</p><p>Кроме того, большинство общих знаний о <span class="trademark">UNIX</span>(R) непосредственно
	    применимо к FreeBSD.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp75998800"></a><a id="how-to-contribute"></a><p><strong>18.2.</strong></p></td><td align="left" valign="top"><p>Как можно оказать помощь проекту FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Пожалуйста, обратитесь к соответствующей <a class="link" href="../../../../doc/ru_RU.KOI8-R/articles/contributing/article.html" target="_top">статье</a>,
	    в которой вы получите советы относительно того, как это сделать.
	    Ваша помощь более чем приветствуется!</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp76001360"></a><a id="define-snap-release"></a><p><strong>18.3.</strong></p></td><td align="left" valign="top"><p>Что такое снапшоты и релизы?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>В <a class="link" href="http://svnweb.FreeBSD.org/base/" target="_top">Хранилище
	      Subversion</a> сейчас находятся 4
	    активно/полуактивно развивающихся ветки FreeBSD.  (Более
	    ранние ветки изменяются очень редко, именно поэтому в
	    разработке только 4 активные ветки):</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><span class="symbol">stable/8/</span>, также известная как
		<span class="emphasis"><em>8-STABLE</em></span></p></li><li class="listitem"><p><span class="symbol">stable/9/</span>, также известная как
		<span class="emphasis"><em>9-STABLE</em></span></p></li><li class="listitem"><p><span class="symbol">stable/10/</span>, также известная как
		<span class="emphasis"><em>10-STABLE</em></span></p></li><li class="listitem"><p><span class="symbol">head/</span>, также известная как
		<span class="emphasis"><em>-CURRENT</em></span> и <span class="emphasis"><em>11-CURRENT</em></span></p></li></ul></div><p><code class="literal">HEAD</code> - это не настоящий тэг ветки.
	    Это символьная константа для обозначения текущего,
	    не ветвящегося, находящегося в разработке дерева, то есть
	    <span class="emphasis"><em>-CURRENT</em></span>.</p><p>На данный момент <span class="emphasis"><em>-CURRENT</em></span> является
	    находящимся в разработке деревом 11.<em class="replaceable"><code>X</code></em>;
	    ветка <span class="emphasis"><em>10-STABLE</em></span>, <span class="symbol">stable/10/</span>,
	    отделилась от <span class="emphasis"><em>-CURRENT</em></span> в январе 2014 года
	    года, а ветка <span class="emphasis"><em>9-STABLE</em></span>,
	    <span class="symbol">stable/9/</span>, отделилась от
	    <span class="emphasis"><em>-CURRENT</em></span> в сентябре 2011 года.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp76026960"></a><a id="ctm"></a><p><strong>18.4.</strong></p></td><td align="left" valign="top"><p>Можно ли работать с <span class="emphasis"><em>-CURRENT</em></span> при
	    ограниченном доступе в Internet?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Да, это можно делать <span class="emphasis"><em>без</em></span> скачивания
	    полного дерева исходных текстов с помощью <a class="link" href="../../../../doc/ru_RU.KOI8-R/books/handbook/synching.html#ctx" target="_top">системы
	    CTM</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp76030288"></a><a id="submitting-kernel-extensions"></a><p><strong>18.5.</strong></p></td><td align="left" valign="top"><p>Я написал некоторое добавление к ядру, кому его послать?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Обратитесь к статье о том, как <a class="link" href="../../../../doc/ru_RU.KOI8-R/articles/contributing/article.html" target="_top">помочь проекту
	    FreeBSD</a>, чтобы выяснить, как это сделать.</p><p>И спасибо Вам за Ваши усилия!</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp76037584"></a><a id="kernel-panic-troubleshooting"></a><p><strong>18.6.</strong></p></td><td align="left" valign="top"><p>Что делать при аварийном останове системы?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Вот типичная паника ядра:</p><pre class="programlisting">Fatal trap 12: page fault while in kernel mode
fault virtual address   = 0x40
fault code              = supervisor read, page not present
instruction pointer     = 0x8:0xf014a7e5
stack pointer           = 0x10:0xf4ed6f24
frame pointer           = 0x10:0xf4ed6f28
code segment            = base 0x0, limit 0xfffff, type 0x1b
                        = DPL 0, pres 1, def32 1, gran 1
processor eflags        = interrupt enabled, resume, IOPL = 0
current process         = 80 (mount)
interrupt mask          =
trap number             = 12
panic: page fault</pre><p>Этого сообщения не достаточно.  Здесь важно значение
	    указателя инструкций, но оно зависит от конфигурации,
	    поскольку значение меняется для каждого конкретного файла
	    ядра.  Если это ядро <code class="filename">GENERIC</code> из
	    одного из снэпшотов, то кто-то ещё может отследить
	    функцию, вызвавшую ошибку, но в случае со специально
	    сконфигурированным ядром только вы можете сказать нам,
	    где случилась ошибка.</p><p>Чтобы продолжить:</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Запишите значение указателя инструкций.  Заметьте,
		что часть <code class="literal">0x8:</code> в этом случае не
		важна: нам нужна часть <code class="literal">0xf0xxxxxx</code>.</p></li><li class="step"><p>Когда система перезагрузится, сделайте следующее:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>nm -n kernel.that.caused.the.panic | grep f0xxxxxx</code></strong></pre><p>где <code class="literal">f0xxxxxx</code> - это значение
		указателя инструкций.  Однако неприятность заключается в
		том, что вы не получите точного соответствия, так как в
		таблице имен ядра для точек входа в функции даны адреса
		на начало функций, а указатель инструкций будет указывать
		куда-то внутрь её тела.  Если вы не получили точного
		соответствия, опустите последнюю цифру в значении
		указателя инструкций и попробуйте снова:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>nm -n kernel.that.caused.the.panic | grep f0xxxxx</code></strong></pre><p>Если и это не привело ни к каким результатам, отрежьте
		следующую цифру.  Повторяйте, пока не получите хоть что-то.
		Результатом будет список функций, которые, возможно,
		привели к аварийному останову.  Этот механизм обнаружения
		ошибочного места довольно неточен, но это всё же лучше,
		чем ничего.</p></li></ol></div><p>Тем не менее, лучшим способом выяснить причину, вызвавшую
	    аварийный останов, является получение аварийного дампа системы,
	    а затем использование <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=kgdb&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">kgdb</span>(1)</span></a> для получения трассировки
	    вызовов в этом дампе.</p><p>В любом случае, метод таков:</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Убедитесь в том, что в файле конфигурации ядра имеется
		следующая строка:</p><pre class="programlisting">makeoptions     DEBUG=-g          # Build kernel with gdb(1) debug symbols</pre></li><li class="step"><p>Перейдите в каталог <code class="filename">/usr/src</code>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cd /usr/src</code></strong></pre></li><li class="step"><p>Скомпилируйте ядро:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>make buildkernel KERNCONF=<em class="replaceable"><code>MYKERNEL</code></em></code></strong></pre></li><li class="step"><p>Дождитесь завершения компиляции.</p></li><li class="step"><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>make installkernel KERNCONF=MYKERNEL</code></strong></pre></li><li class="step"><p>Выполните перезагрузку.</p></li></ol></div><div xmlns="" class="note"><h3 class="admontitle">Примечание: </h3><p xmlns="http://www.w3.org/1999/xhtml">Если не указать <code class="varname">KERNCONF</code>, то
	      будет собрано и
	      установлено ядро <code class="filename">GENERIC</code>.</p></div><p>В процессе выполнения команды <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=make&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">make</span>(1)</span></a> будут
	    построены два ядра,
	    <code class="filename">/usr/obj/usr/src/sys/MYKERNEL/kernel</code>
	    и
	    <code class="filename">/usr/obj/usr/src/sys/MYKERNEL/kernel.debug</code>.
	    <code class="filename">kernel</code> будет установлен как
	    <code class="filename">/boot/kernel/kernel</code>, тогда как
	    <code class="filename">kernel.debug</code> может быть использован в
	    качестве источника отладочных символов для <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=kgdb&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">kgdb</span>(1)</span></a>.</p><p>Чтобы получать аварийный дамп, отредактируйте файл
	    <code class="filename">/etc/rc.conf</code> так,
	    чтобы устройство <code class="literal">dumpdev</code> указывало на
	    раздел подкачки или имело значение <code class="literal">AUTO</code>.
	    В этом случае скрипты <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=rc&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">rc</span>(8)</span></a> будут вызывать команду
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dumpon&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">dumpon</span>(8)</span></a> для создания аварийных дампов.  Эту команду
	    можно также запускать вручную.  После
	    аварийной остановки аварийный дамп может быть получен с
	    помощью программы <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=savecore&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">savecore</span>(8)</span></a> если значение переменной
	    <code class="literal">dumpdev</code> было установлено в
	    <code class="filename">/etc/rc.conf</code>, скрипты <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=rc&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">rc</span>(8)</span></a> запустят
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=savecore&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">savecore</span>(8)</span></a> автоматически и поместят аварийный дамп в
	    каталог <code class="filename">/var/crash</code>.</p><div xmlns="" class="note"><h3 class="admontitle">Примечание: </h3><p xmlns="http://www.w3.org/1999/xhtml">Аварийные дампы FreeBSD обычно имеют размер, равный
	      объёму оперативной памяти.  Поэтому убедитесь в наличии
	      достаточного места для хранения дампа в каталоге
	      <code class="filename">/var/crash</code>.  Либо запустите вручную
	      <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=savecore&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">savecore</span>(8)</span></a>, чтобы создать аварийный дамп в другом
	      каталоге, где достаточно места.  Размер аварийного дампа
	      можно уменьшить, указав в конфигурации ядра
	      <code class="literal">options MAXMEM=N</code>, где
	      <em class="replaceable"><code>N</code></em> - значение в Кбайт
	      для объёма памяти, которое будет использоваться ядром.
	      Например, для 1 Гбайт ОЗУ установите ограничение на
	      использование памяти ядром в 128 Мбайт, так чтобы
	      размер аварийного дампа был равен 128 Мбайт, а не
	      1 Гбайт.</p></div><p>Как только аварийный дамп получен, трассировку вызовов
	    можно получить таким образом:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>kgdb /usr/obj/usr/src/sys/MYKERNEL/kernel.debug /var/crash/vmcore.0</code></strong>
<code class="prompt">(kgdb)</code> <strong class="userinput"><code>backtrace</code></strong></pre><p>Заметьте, что это может дать несколько экранов
	    полезной информации.  Лучше всего использовать
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=script&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">script</span>(1)</span></a> для перехвата всего вывода.  При
	    использовании необработанного файла ядра со всей
	    отладочной информацией может быть найдена конкретная
	    строка исходного текста ядра, при достижении которой
	    случилась аварийная остановка.  Для выяснения
	    последовательности событий, приведших к аварийному
	    останову, трассировка стека обычно читается снизу вверх.
	    Также можно использовать <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=kgdb&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">kgdb</span>(1)</span></a> для вывода значений
	    различных переменных или структур, чтобы выяснить
	    состояние системы во время аварии.</p><div xmlns="" class="tip"><h3 class="admontitle">Подсказка: </h3><p xmlns="http://www.w3.org/1999/xhtml">Если есть второй компьютер, то можно настроить
	      <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=kgdb&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">kgdb</span>(1)</span></a> для удалённой отладки, включая точки
	      останова и пошаговый проход по коду ядра.</p></div><div xmlns="" class="note"><h3 class="admontitle">Примечание: </h3><p xmlns="http://www.w3.org/1999/xhtml">Если включена поддержка <code class="literal">DDB</code> и
	      ядро переходит в режим отладки, можно намеренно вызвать
	      аварийный останов и создание аварийного дампа, набрав
	      <code class="literal">panic</code> в приглашении командной строки
	      <code class="literal">ddb</code>.  Выполнение фазы аварийного
	      останова может снова остановиться с вызовом отладчика.
	      В этом случае наберите <code class="literal">continue</code>, и
	      процесс будет завершён созданием аварийного дампа.</p></div></td></tr><tr class="question"><td align="left" valign="top"><a id="idp76157776"></a><a id="dlsym-failure"></a><p><strong>18.7.</strong></p></td><td align="left" valign="top"><p>Перестала работать функция <code class="function">dlsym()</code>
	    для исполняемых файлов ELF!</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>По умолчанию при работе с форматом ELF символы,
	    определённые в исполняемом файле, не доступны динамическому
	    загрузчику.  Поэтому при вызове функции
	    <code class="function">dlsym()</code>, которая осуществляет поиск по
	    дескриптору, полученному после вызова <code class="function">dlopen(NULL,
	    flags)</code>, желаемый результат достигнут не будет.</p><p>Чтобы осуществить поиск символов в исполняемом файле
	    процесса с помощью функции <code class="function">dlsym()</code>,
	    выполните компоновку исполняемого файла с параметром
	    <code class="option">--export-dynamic</code> компоновщика ELF
	    (<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ld&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ld</span>(1)</span></a>).</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp76167120"></a><a id="change-kernel-address-space"></a><p><strong>18.8.</strong></p></td><td align="left" valign="top"><p>Как я могу увеличить или уменьшить адресное пространство
	    ядра в архитектуре i386?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>По умолчанию размер адресного пространства ядра для
	    i386 равен 1 Гбайт (2 Гбайт для PAE).  Для
	    работы сервера с интенсивной сетевой нагрузкой или при
	    использовании ZFS этого может быть недостаточно.</p><p>Чтобы увеличить доступное пространство, добавьте
	    следующую строку в файл конфигурации ядра и пересоберите
	    ядро:</p><pre class="programlisting">options KVA_PAGES=<em class="replaceable"><code>N</code></em></pre><p>Чтобы получить нужное значение для
	    <em class="replaceable"><code>N</code></em>, разделите желаемый размер
	    адресного пространства (в мегабайтах) на четыре (для
	    2 Гбайт это будет <code class="literal">512</code>).</p></td></tr></tbody></table></div></div><div class="chapter"><div xmlns="" class="titlepage"><div><div><h1 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="acknowledgments"></a>Глава 19. Наши благодарности</h1></div></div></div><p>Этот небольшой скромный документ с ответами на часто задаваемые
      вопросы создавался, переписывался, редактировался, сокращался,
      растягивался, уродовался, потрошился, пристально разглядывался,
      полностью перетряхивался, обдумывался, отвергался, перестраивался,
      критиковался и снова укреплялся в течение последнего десятилетия силами
      сотен, если не тысяч, людей.  Постоянно.</p><p>Мы хотим поблагодарить всех их и приглашаем вас <a class="link" href="../../../../doc/ru_RU.KOI8-R/articles/contributing/article.html" target="_top">присоединиться</a>,
      чтобы сделать этот <acronym class="acronym">FAQ</acronym> ещё лучше.</p></div><div class="bibliography"><div xmlns="" class="titlepage"><div><div><h1 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="bibliography"></a>Bibliography</h1></div></div></div><div class="biblioentry"><a id="biblio-unleashed"></a><p>[biblio-unleashed] <span class="biblioset"><em>FreeBSD Unleashed</em>. <span class="authorgroup"><span class="firstname">Michael</span> <span class="surname">Urban</span>  <span class="firstname">Brian</span> <span class="surname">Tiemann</span>. </span><span class="publisher"><span class="publishername">Sams. </span></span><span class="edition">1st edition. </span><span class="pagenums">992 pages. </span><span class="pubdate">October 2001. </span><span class="biblioid">ISBN 0-67232-206-4. </span></span></p></div><div class="biblioentry"><a id="biblio-44sysman"></a><p>[biblio-44sysman] <span class="biblioset"><em>4.4BSD System Manager's Manual</em>. <span class="author"><span class="orgname">Computer Systems Research Group, University of
	California, Berkeley. </span></span><span class="publisher"><span class="publishername">O'Reilly and Associates. </span></span><span class="edition">1st edition. </span><span class="pubdate">June 1994. </span><span class="pagenums">804 pages. </span><span class="biblioid">ISBN 1-56592-080-5. </span></span></p></div><div class="biblioentry"><a id="biblio-44userman"></a><p>[biblio-44userman] <span class="biblioset"><em>4.4BSD User's Reference Manual</em>. <span class="author"><span class="orgname">Computer Systems Research Group, University of
	California, Berkeley. </span></span><span class="publisher"><span class="publishername">O'Reilly and Associates. </span></span><span class="edition">1st edition. </span><span class="pubdate">June 1994. </span><span class="pagenums">905 pages. </span><span class="biblioid">ISBN 1-56592-075-9. </span></span></p></div><div class="biblioentry"><a id="biblio-44suppman"></a><p>[biblio-44suppman] <span class="biblioset"><em>4.4BSD User's Supplementary Documents</em>. <span class="author"><span class="orgname">Computer Systems Research Group, University of
	California, Berkeley. </span></span><span class="publisher"><span class="publishername">O'Reilly and Associates. </span></span><span class="edition">1st edition. </span><span class="pubdate">June 1994. </span><span class="pagenums">712 pages. </span><span class="biblioid">ISBN 1-56592-076-7. </span></span></p></div><div class="biblioentry"><a id="biblio-44progman"></a><p>[biblio-44progman] <span class="biblioset"><em>4.4BSD Programmer's Reference Manual</em>. <span class="author"><span class="orgname">Computer Systems Research Group, University of
	California, Berkeley. </span></span><span class="publisher"><span class="publishername">O'Reilly and Associates. </span></span><span class="edition">1st edition. </span><span class="pubdate">June 1994. </span><span class="pagenums">866 pages. </span><span class="biblioid">ISBN 1-56592-078-3. </span></span></p></div><div class="biblioentry"><a id="biblio-44progsupp"></a><p>[biblio-44progsupp] <span class="biblioset"><em>4.4BSD Programmer's Supplementary Documents</em>. <span class="author"><span class="orgname">Computer Systems Research Group, University of
	California, Berkeley. </span></span><span class="publisher"><span class="publishername">O'Reilly and Associates. </span></span><span class="edition">1st edition. </span><span class="pubdate">June 1994. </span><span class="pagenums">596 pages. </span><span class="biblioid">ISBN 1-56592-079-1. </span></span></p></div><div class="biblioentry"><a id="biblio-44kernel"></a><p>[biblio-44kernel] <span class="biblioset"><em>The Design and Implementation of the 4.4BSD Operating System</em>. <span class="authorgroup"><span class="firstname">M. K.</span> <span class="surname">McKusick</span>, <span class="firstname">Kirk</span> <span class="surname">Marshall</span>, <span class="firstname">Keith</span> <span class="surname">Bostic</span>, <span class="firstname">Michael J</span> <span class="surname">Karels</span>,  <span class="firstname">John</span> <span class="surname">Quarterman</span>. </span><span class="publisher"><span class="publishername">Addison-Wesley. </span><span class="address">
	  <span class="city">Reading</span>
	  <span class="state">MA</span>
	. </span></span><span class="pubdate">1996. </span><span class="biblioid">ISBN 0-201-54979-4. </span></span></p></div><div class="biblioentry"><a id="biblio-freebsdkernel"></a><p>[biblio-freebsdkernel] <span class="biblioset"><em>The Design and Implementation of the FreeBSD Operating System</em>. <span class="authorgroup"><span class="firstname">M. K.</span> <span class="surname">McKusick</span>  <span class="firstname">George V.</span> <span class="surname">Neville-Neil</span>. </span><span class="publisher"><span class="publishername">Addison-Wesley. </span><span class="address">
	  <span class="city">Boston</span>
	  <span class="state">MA</span>
	. </span></span><span class="pubdate">2004. </span><span class="biblioid">ISBN 0-201-70245-2. </span></span></p></div><div class="biblioentry"><a id="biblio-nemeth3rd"></a><p>[biblio-nemeth3rd] <span class="biblioset"><em>Unix System Administration Handbook</em>. <span class="authorgroup"><span class="firstname">Evi</span> <span class="surname">Nemeth</span>, <span class="firstname">Garth</span> <span class="surname">Snyder</span>, <span class="firstname">Scott</span> <span class="surname">Seebass</span>, <span class="firstname">Trent R.</span> <span class="surname">Hein</span>,  <span class="firstname">John</span> <span class="surname">Quarterman</span>. </span><span class="publisher"><span class="publishername">Prentice-Hall. </span></span><span class="edition">3rd edition. </span><span class="pubdate">2000. </span><span class="biblioid">ISBN 0-13-020601-6. </span></span></p></div><div class="biblioentry"><a id="lehey3rd"></a><p>[lehey3rd] <span class="biblioset"><em>The Complete FreeBSD</em>. <span class="author"><span class="firstname">Greg</span> <span class="surname">Lehey</span>. </span><span class="publisher"><span class="publishername">Walnut Creek. </span></span><span class="edition">3rd edition. </span><span class="pubdate">June 1999. </span><span class="pagenums">773 pages. </span><span class="biblioid">ISBN 1-57176-246-9. </span></span></p></div><div class="biblioentry"><a id="biblio-mckusick-1"></a><p>[<abbr class="abbrev">McKusick et al, 1994</abbr>] <span class="biblioset"><em>Berkeley Software Architecture Manual, 4.4BSD
        Edition</em>. <span class="authorgroup"><span class="firstname">M. K.</span> <span class="surname">McKusick</span>, <span class="firstname">M. J.</span> <span class="surname">Karels</span>, <span class="firstname">S. J.</span> <span class="surname">Leffler</span>, <span class="firstname">W. N.</span> <span class="surname">Joy</span>,  <span class="firstname">R. S.</span> <span class="surname">Faber</span>. </span><span class="pagenums">5:1-42. </span></span></p></div><div class="biblioentry"><a id="biblio-ja-fbsdpc98"></a><p>[biblio-ja-fbsdpc98] <span class="biblioset"><em>FreeBSD for PC 98'ers (in Japanese)</em>. <span class="publisher"><span class="publishername">SHUWA System Co, LTD.. </span></span><span class="biblioid">ISBN 4-87966-468-5 C3055 P2900E. </span></span></p></div><div class="biblioentry"><a id="biblio-ja-fbsd"></a><p>[biblio-ja-fbsd] <span class="biblioset"><em>FreeBSD (in Japanese)</em>. <span class="publisher"><span class="publishername">CUTT. </span></span><span class="biblioid">ISBN 4-906391-22-2. </span></span></p></div><div class="biblioentry"><a id="biblio-ja-compintro"></a><p>[biblio-ja-compintro] <span class="biblioset"><em>Complete Introduction to FreeBSD (in Japanese)</em>. <span class="publisher"><span class="publishername">Shoeisha Co., Ltd. </span></span><span class="biblioid">ISBN 4-88135-473-6 P3600E. </span></span></p></div><div class="biblioentry"><a id="biblio-ja-unixstarterkit"></a><p>[biblio-ja-unixstarterkit] <span class="biblioset"><em>Personal UNIX Starter Kit FreeBSD (in Japanese)</em>. <span class="publisher"><span class="publishername">ASCII. </span></span><span class="biblioid">ISBN 4-7561-1733-3 P3000E. </span></span></p></div><div class="biblioentry"><a id="biblio-ja-fbsdhb"></a><p>[biblio-ja-fbsdhb] <span class="biblioset"><em>FreeBSD Handbook (Japanese translation)</em>. <span class="publisher"><span class="publishername">ASCII. </span></span><span class="biblioid">ISBN 4-7561-1580-2 P3800E. </span></span></p></div><div class="biblioentry"><a id="biblio-ge-fbsdmitmeth"></a><p>[biblio-ge-fbsdmitmeth] <span class="biblioset"><em>FreeBSD mit Methode (in German)</em>. <span class="publisher"><span class="publishername">Computer und Literature Verlag/Vertrieb Hanser. </span></span><span class="pubdate">1998. </span><span class="biblioid">ISBN 3-932311-31-0. </span></span></p></div><div class="biblioentry"><a id="biblio-ja-fbsdinstandutil"></a><p>[biblio-ja-fbsdinstandutil] <span class="biblioset"><em>FreeBSD install and Utilization Manual (in Japanese)</em>. <span class="publisher"><span class="publishername">Mainichi Communications Inc.. </span></span></span></p></div><div class="biblioentry"><a id="biblio-indo-intserv"></a><p>[biblio-indo-intserv] <span class="biblioset"><em>Building Internet Server with FreeBSD (in Indonesia Language)</em>. <span class="publisher"><span class="publishername">Elex Media Komputindo. </span></span><span class="authorgroup"><span class="firstname">Onno W</span> <span class="surname">Purbo</span>, <span class="firstname">Dodi</span> <span class="surname">Maryanto</span>, <span class="firstname">Syahrial</span> <span class="surname">Hubbany</span>,  <span class="firstname">Widjil</span> <span class="surname">Widodo</span>. </span></span></p></div><div class="biblioentry"><a id="biblio-fbsdcorpnetguide"></a><p>[biblio-fbsdcorpnetguide] <span class="biblioset"><em>The FreeBSD Corporate Networker's Guide</em>. <span class="publisher"><span class="publishername">Addison-Wesley. </span></span></span></p></div><div class="biblioentry"><a id="biblio-unixnutshell"></a><p>[biblio-unixnutshell] <span class="biblioset"><em>UNIX in a Nutshell</em>. <span class="publisher"><span class="publishername">O'Reilly &amp; Associates, Inc.. </span></span><span class="pubdate">1990. </span><span class="biblioid">ISBN 093717520X. </span></span></p></div><div class="biblioentry"><a id="biblio-cantfindadmin"></a><p>[biblio-cantfindadmin] <span class="biblioset"><em>What You Need To Know When You Can't Find Your Unix System Administrator</em>. <span class="publisher"><span class="publishername">O'Reilly &amp; Associates, Inc.. </span></span><span class="pubdate">1995. </span><span class="author"><span class="firstname">Linda</span> <span class="surname">Mui</span>. </span><span class="biblioid">ISBN 1-56592-104-6. </span></span></p></div><div class="biblioentry"><a id="biblio-ja-fbsdusrrefman"></a><p>[biblio-ja-fbsdusrrefman] <span class="biblioset"><em>FreeBSD User's Reference Manual (Japanese translation)</em>. <span class="publisher"><span class="publishername">Mainichi Communications Inc.. </span></span><span class="author"><span class="orgname">Jpman Project, Japan FreeBSD Users Group. </span></span><span class="pubdate">1998. </span><span class="biblioid">ISBN 4-8399-0088-4 P3800E. </span></span></p></div><div class="biblioentry"><a id="biblio-newcomeunix"></a><p>[biblio-newcomeunix] <span class="biblioset"><<<a class="link" href="http://unixhelp.ed.ac.uk/" target="_top">Online Guide
        for newcomers to the UNIX environment</a>>>. <span class="publisher"><span class="publishername"><a class="link" href="http://www.ed.ac.uk/" target="_top">Edinburgh University</a>. </span></span></span></p></div><div class="biblioentry"><a id="biblio-dnsandbind"></a><p>[biblio-dnsandbind] <span class="biblioset"><em>DNS and BIND</em>. <span class="publisher"><span class="publishername">O'Reilly &amp; Associates, Inc. </span></span><span class="biblioid">ISBN 1-56592-512-2. </span><span class="authorgroup"><span class="firstname">Paul Albitz</span> <span class="surname">Albitz</span>  <span class="firstname">Cricket</span> <span class="surname">Liu</span>. </span><span class="pubdate">1998. </span><span class="edition">3rd edition. </span></span></p></div><div class="biblioentry"><a id="biblio-sendmail"></a><p>[biblio-sendmail] <span class="biblioset"><em>Sendmail</em>. <span class="publisher"><span class="publishername">O'Reilly &amp; Associates, Inc. </span></span><span class="pubdate">1997. </span><span class="edition">2nd edition. </span><span class="author"><span class="firstname">Brian</span> <span class="surname">Costales</span>. </span><span class="biblioid">ISBN 1-56592-222-0. </span></span></p></div><div class="biblioentry"><a id="biblio-esssysadmin"></a><p>[biblio-esssysadmin] <span class="biblioset"><em>Essential System Administration</em>. <span class="author"><span class="firstname">AEleen</span> <span class="surname">Frisch</span>. </span><span class="edition">2nd edition. </span><span class="publisher"><span class="publishername">O'Reilly &amp; Associates. </span></span><span class="pubdate">1995. </span><span class="biblioid">ISBN 1-56592-127-5. </span></span></p></div><div class="biblioentry"><a id="biblio-tcpipnetworkadministration"></a><p>[biblio-tcpipnetworkadministration] <span class="biblioset"><em>TCP/IP Network Administration</em>. <span class="author"><span class="firstname">Craig</span> <span class="surname">Hunt</span>. </span><span class="edition">2nd edition. </span><span class="publisher"><span class="publishername">O'Reilly &amp; Associates, Inc. </span></span><span class="pubdate">1997. </span><span class="biblioid">ISBN 1-56592-322-7. </span></span></p></div><div class="biblioentry"><a id="biblio-managingnfsandnis"></a><p>[biblio-managingnfsandnis] <span class="biblioset"><em>Managing NFS and NIS</em>. <span class="author"><span class="firstname">Hal</span> <span class="surname">Stern</span>. </span><span class="publisher"><span class="publishername">O'Reilly &amp; Associates, Inc. </span></span><span class="pubdate">1991. </span><span class="biblioid">ISBN 0-937175-75-7. </span></span></p></div><div class="biblioentry"><a id="biblio-jpmanprojectjfug"></a><p>[biblio-jpmanprojectjfug] <span class="biblioset"><em><a class="link" href="http://www.pc.mycom.co.jp/FreeBSD/sam.html" target="_top">
        FreeBSD System Administration's Manual</a></em>. <span class="author"><span class="orgname"><a class="link" href="http://www.jp.FreeBSD.org" target="_top">Jpman Project, Japan FreeBSD
        Users Group</a>. </span></span><span class="publisher"><span class="publishername"><a class="link" href="http://www.pc.mycom.co.jp/" target="_top">Mainichi Communications
          Inc.</a>. </span></span><span class="pubdate">1998. </span><span class="biblioid">ISBN 4-8399-0109-0 P3300E. </span></span></p></div><div class="biblioentry"><a id="biblio-xwinsystoolkit"></a><p>[biblio-xwinsystoolkit] <span class="biblioset"><em>X Window System Toolkit</em>. <span class="publisher"><span class="publishername">Digital Press. </span></span><span class="author"><span class="firstname">Paul</span> <span class="surname">Asente</span>. </span><span class="biblioid">ISBN 1-55558-051-3. </span></span></p></div><div class="biblioentry"><a id="biblio-carefman"></a><p>[biblio-carefman] <span class="biblioset"><em>C: A Reference Manual</em>. <span class="publisher"><span class="publishername">Prentice Hall. </span></span><span class="pubdate">1995. </span><span class="edition">4th edition. </span><span class="authorgroup"><span class="firstname">Samuel P.</span> <span class="surname">Harbison</span>  <span class="firstname">Guy L. Jr.</span> <span class="surname">Steele</span>. </span><span class="biblioid">ISBN 0-13-326224-3. </span></span></p></div><div class="biblioentry"><a id="biblio-thecproglang"></a><p>[biblio-thecproglang] <span class="biblioset"><em>The C Programming Language</em>. <span class="publisher"><span class="publishername">Prentice Hall. </span></span><span class="pubdate">1998. </span><span class="authorgroup"><span class="firstname">Brian</span> <span class="surname">Kernighan</span>  <span class="firstname">Dennis</span> <span class="surname">Ritchie</span>. </span><span class="biblioid">ISBN 0-13-110362-9. </span></span></p></div><div class="biblioentry"><a id="biblio-portingunixsoft"></a><p>[biblio-portingunixsoft] <span class="biblioset"><em>Porting UNIX Software</em>. <span class="author"><span class="firstname">Greg</span> <span class="surname">Lehey</span>. </span><span class="publisher"><span class="publishername">O'Reilly &amp; Associates, Inc.. </span></span><span class="pubdate">1995. </span><span class="biblioid">ISBN 1-56592-126-7. </span></span></p></div><div class="biblioentry"><a id="biblio-thestandardclibrary"></a><p>[biblio-thestandardclibrary] <span class="biblioset"><em>The Standard C Library</em>. <span class="publisher"><span class="publishername">Prentice Hall. </span></span><span class="pubdate">1992. </span><span class="author"><span class="firstname">P. J.</span> <span class="surname">Plauger</span>. </span><span class="biblioid">ISBN 0-13-131509-9. </span></span></p></div><div class="biblioentry"><a id="biblio-advprogintheunixenv"></a><p>[biblio-advprogintheunixenv] <span class="biblioset"><em>Advanced Programming in the UNIX Environment</em>. <span class="publisher"><span class="publishername">Addison-Wesley. </span></span><span class="pubdate">1992. </span><span class="author"><span class="firstname">W. Richard</span> <span class="surname">Stevens</span>. </span><span class="biblioid">ISBN 0-201-56317-7. </span></span></p></div><div class="biblioentry"><a id="biblio-unixnetprog"></a><p>[biblio-unixnetprog] <span class="biblioset"><em>UNIX Network Programming</em>. <span class="author"><span class="firstname">W. Richard</span> <span class="surname">Stevens</span>. </span><span class="publisher"><span class="publishername">Prentice Hall. </span></span><span class="pubdate">1998. </span><span class="edition">2nd edition. </span><span class="biblioid">ISBN 0-13-490012-X. </span></span></p></div><div class="biblioentry"><a id="biblio-writeserialdriverforunix"></a><p>[biblio-writeserialdriverforunix] <span class="biblioset"><em>Writing Serial Drivers for UNIX</em>. <span class="author"><span class="firstname">Bill</span> <span class="surname">Wells</span>. </span><span class="pubdate">December 1994. </span><span class="publisher"><span class="publishername">Dr. Dobb's Journal. </span></span><span class="pagenums">pp68-71, pp97-99. </span></span></p></div><div class="biblioentry"><a id="biblio-unixsysarch"></a><p>[biblio-unixsysarch] <span class="biblioset"><em>UNIX System Architecture</em>. <span class="publisher"><span class="publishername">Prentice-Hall, Inc. </span></span><span class="pubdate">1990. </span><span class="author"><span class="firstname">Prabhat K.</span> <span class="surname">Andleigh</span>. </span><span class="biblioid">ISBN 0-13-949843-5. </span></span></p></div><div class="biblioentry"><a id="biblio-portingunixtothe386"></a><p>[biblio-portingunixtothe386] <span class="biblioset"><em>Porting UNIX to the 386</em>. <span class="author"><span class="firstname">William</span> <span class="surname">Jolitz</span>. </span><span class="publisher"><span class="publishername">Dr. Dobb's Journal. </span></span><span class="pubdate">January 1991-July 1992. </span></span></p></div><div class="biblioentry"><a id="biblio-tcpipillv1theprotocols"></a><p>[biblio-tcpipillv1theprotocols] <span class="biblioset"><em>TCP/IP Illustrated, Volume 1: The Protocols</em>. <span class="author"><span class="firstname">W. Richard</span> <span class="surname">Stevens</span>. </span><span class="publisher"><span class="publishername">Addison-Wesley. </span></span><span class="pubdate">1996. </span><span class="biblioid">ISBN 0-201-63346-9. </span></span></p></div><div class="biblioentry"><a id="biblio-unixsysformodrnarch"></a><p>[biblio-unixsysformodrnarch] <span class="biblioset"><em>Unix Systems for Modern Architectures</em>. <span class="publisher"><span class="publishername">Addison-Wesley. </span></span><span class="author"><span class="firstname">Curt</span> <span class="surname">Schimmel</span>. </span><span class="pubdate">1994. </span><span class="biblioid">ISBN 0-201-63338-8. </span></span></p></div><div class="biblioentry"><a id="biblio-tcpipillvol3"></a><p>[biblio-tcpipillvol3] <span class="biblioset"><em>TCP/IP Illustrated, Volume 3: TCP for Transactions, HTTP, NNTP and the UNIX Domain Protocols</em>. <span class="publisher"><span class="publishername">Addison-Wesley. </span></span><span class="pubdate">1996. </span><span class="author"><span class="firstname">W. Richard</span> <span class="surname">Stevens</span>. </span><span class="biblioid">ISBN 0-201-63495-3. </span></span></p></div><div class="biblioentry"><a id="biblio-unixinternthenewfrontiers"></a><p>[biblio-unixinternthenewfrontiers] <span class="biblioset"><em>UNIX Internals -- The New Frontiers</em>. <span class="author"><span class="firstname">Uresh</span> <span class="surname">Vahalia</span>. </span><span class="publisher"><span class="publishername">Prentice Hall. </span></span><span class="pubdate">1996. </span><span class="biblioid">ISBN 0-13-101908-2. </span></span></p></div><div class="biblioentry"><a id="biblio-tcpipillvol2theimplementation"></a><p>[biblio-tcpipillvol2theimplementation] <span class="biblioset"><em>TCP/IP Illustrated, Volume 2: The Implementation</em>. <span class="authorgroup"><span class="firstname">Gary R.</span> <span class="surname">Wright</span>  <span class="firstname">W. Richard</span> <span class="surname">Stevens</span>. </span><span class="pubdate">1995. </span><span class="publisher"><span class="publishername">Addison-Wesley. </span></span><span class="biblioid">ISBN 0-201-63354-X. </span></span></p></div><div class="biblioentry"><a id="biblio-firewallsandinternetsecurity"></a><p>[biblio-firewallsandinternetsecurity] <span class="biblioset"><em>Firewalls and Internet Security: Repelling the Wily Hacker</em>. <span class="authorgroup"><span class="firstname">William R.</span> <span class="surname">CHeswick</span>  <span class="firstname">Steven M.</span> <span class="surname">Bellovin</span>. </span><span class="publisher"><span class="publishername">Addison-Wesley. </span></span><span class="pubdate">1995. </span><span class="biblioid">ISBN 0-201-63357-4. </span></span></p></div><div class="biblioentry"><a id="biblio-practicalunixsecurity"></a><p>[biblio-practicalunixsecurity] <span class="biblioset"><em>Practical UNIX Security</em>. <span class="authorgroup"><span class="firstname">Simson</span> <span class="surname">Garfinkel</span>  <span class="firstname">Gene</span> <span class="surname">Spafford</span>. </span><span class="pubdate">1996. </span><span class="edition">2nd edition. </span><span class="publisher"><span class="publishername">O'Reilly &amp; Associates, Inc. </span></span><span class="biblioid">ISBN 1-56592-148-8. </span></span></p></div><div class="biblioentry"><a id="biblio-pgpprettygoodprivacy"></a><p>[biblio-pgpprettygoodprivacy] <span class="biblioset"><em>PGP Pretty Good Privacy</em>. <span class="author"><span class="firstname">Simson</span> <span class="surname">Garfinkel</span>. </span><span class="publisher"><span class="publishername">O'Reilly &amp; Associates, Inc. </span></span><span class="pubdate">1995. </span><span class="biblioid">ISBN 1-56592-098-8. </span></span></p></div><div class="biblioentry"><a id="biblio-pentiumprocarch"></a><p>[biblio-pentiumprocarch] <span class="biblioset"><em>Pentium Processor System Architecture</em>. <span class="authorgroup"><span class="firstname">Don</span> <span class="surname">Anderson</span>  <span class="firstname">Tom</span> <span class="surname">Shanley</span>. </span><span class="publisher"><span class="publishername">Addison-Wesley. </span></span><span class="pubdate">1995. </span><span class="edition">2nd edition. </span><span class="biblioid">ISBN 0-201-40992-5. </span></span></p></div><div class="biblioentry"><a id="biblio-progguidetothesvgacards"></a><p>[biblio-progguidetothesvgacards] <span class="biblioset"><em>Programmer's Guide to the EGA, VGA, and Super VGA Cards</em>. <span class="author"><span class="firstname">Richard F.</span> <span class="surname">Ferraro</span>. </span><span class="edition">3rd edition. </span><span class="publisher"><span class="publishername">Addison-Wesley. </span></span><span class="pubdate">1995. </span><span class="biblioid">ISBN 0-201-62490-7. </span></span></p></div><div class="biblioentry"><a id="biblio-80486"></a><p>[biblio-80486] <span class="biblioset"><em>80486 System Architecture</em>. <span class="author"><span class="firstname">Tom</span> <span class="surname">Shanley</span>. </span><span class="publisher"><span class="publishername">Addison-Wesley. </span></span><span class="pubdate">1995. </span><span class="edition">3rd edition. </span><span class="biblioid">ISBN 0-201-40994-1. </span></span></p></div><div class="biblioentry"><a id="biblio-isasysarch"></a><p>[biblio-isasysarch] <span class="biblioset"><em>ISA System Architecture</em>. <span class="author"><span class="firstname">Tom</span> <span class="surname">Shanley</span>. </span><span class="publisher"><span class="publishername">Addison-Wesley. </span></span><span class="edition">3rd edition. </span><span class="pubdate">1995. </span><span class="biblioid">ISBN 0-201-40996-8. </span></span></p></div><div class="biblioentry"><a id="biblio-pcisysarch"></a><p>[biblio-pcisysarch] <span class="biblioset"><em>PCI System Architecture</em>. <span class="author"><span class="firstname">Tom</span> <span class="surname">Shanley</span>. </span><span class="publisher"><span class="publishername">Addison-Wesley. </span></span><span class="pubdate">1995. </span><span class="edition">3rd edition. </span><span class="biblioid">ISBN 0-201-40993-3. </span></span></p></div><div class="biblioentry"><a id="biblio-theundocumentedpc"></a><p>[biblio-theundocumentedpc] <span class="biblioset"><em>The Undocumented PC</em>. <span class="author"><span class="firstname">Frank</span> <span class="surname">Van Gilluwe</span>. </span><span class="publisher"><span class="publishername">Addison-Wesley. </span></span><span class="pubdate">1994. </span><span class="biblioid">ISBN 0-201-62277-7. </span></span></p></div><div class="biblioentry"><a id="biblio-bellsystemtechnicaljournal"></a><p>[biblio-bellsystemtechnicaljournal] <span class="biblioset"><em>Bell System Technical Journal, Unix Time-Sharing System</em>. <span class="publisher"><span class="publishername">American Telephone &amp; Telegraph Company. </span></span><span class="pubdate">July-August 1978. </span><span class="edition">Vol 57, No 6, Part 2. </span><span class="biblioid">ISSN0005-8580. </span></span></p></div><div class="biblioentry"><a id="biblio-commentaryonunix"></a><p>[biblio-commentaryonunix] <span class="biblioset"><em>Lion's Commentary on UNIX</em>. <span class="author"><span class="firstname">John</span> <span class="surname">Lion</span>. </span><span class="publisher"><span class="publishername">ITP Media Group. </span></span><span class="pubdate">1996. </span><span class="edition">6th edition. </span><span class="biblioid">ISBN 1573980137. </span></span></p></div><div class="biblioentry"><a id="biblio-newhackerdict"></a><p>[biblio-newhackerdict] <span class="biblioset"><em>The New Hacker's Dictionary</em>. <span class="author"><span class="firstname">Eric S.</span> <span class="surname">Raymond</span>. </span><span class="publisher"><span class="publishername">MIT Press. </span></span><span class="pubdate">1996. </span><span class="edition">3rd edition. </span><span class="biblioid">ISBN 0-262-68092-0. </span></span></p></div><div class="biblioentry"><a id="biblio-aqtrcentofunix"></a><p>[biblio-aqtrcentofunix] <span class="biblioset"><em>A quarter century of UNIX</em>. <span class="author"><span class="firstname">Peter H.</span> <span class="surname">Salus</span>. </span><span class="publisher"><span class="publishername">Addison-Wesley. </span></span><span class="pubdate">1994. </span><span class="biblioid">ISBN 0-201-54777-5. </span></span></p></div><div class="biblioentry"><a id="biblio-unixhatershandbook"></a><p>[biblio-unixhatershandbook] <span class="biblioset"><em>The UNIX-HATERS Handbook</em>. <span class="authorgroup"><span class="firstname">Steven</span> <span class="surname">Strassman</span>, <span class="firstname">Daniel</span> <span class="surname">Weise</span>,  <span class="firstname">Simon</span> <span class="surname">Garfinkel</span>. </span><span class="publisher"><span class="publishername">IDG Books Worldwide, Inc. </span></span><span class="pubdate">1994. </span><span class="biblioid">ISBN 1-56884-203-1. </span></span></p></div><div class="biblioentry"><a id="biblio-lifewithunix"></a><p>[biblio-lifewithunix] <span class="biblioset"><em>Life with UNIX - special edition</em>. <span class="authorgroup"><span class="firstname">Don</span> <span class="surname">Libes</span>  <span class="firstname">Sandy</span> <span class="surname">Ressler</span>. </span><span class="publisher"><span class="publishername">Prentice-Hall. </span></span><span class="pubdate">1989. </span><span class="biblioid">ISBN 0-13-536657-7. </span></span></p></div><div class="biblioentry"><a id="biblio-bsdfamilytree"></a><p>[biblio-bsdfamilytree] <span class="biblioset"><em>
	<a class="link" href="https://svnweb.FreeBSD.org/base/head/share/misc/bsd-family-tree?view=co" target="_top">
          The BSD Family Tree</a></em>. <span class="pubdate">1997. </span></span></p></div><div class="biblioentry"><a id="absolutebsd"></a><p>[absolutebsd] <span class="biblioset"><em>Absolute BSD</em>. <span class="author"><span class="firstname">Michael</span> <span class="surname">Lucas</span>. </span><span class="publisher"><span class="publishername">No Starch Press. </span></span><span class="pubdate">June 2002. </span><span class="biblioid">ISBN 1-886411-74-3. </span></span></p></div><div class="biblioentry"><a id="biblio-ccppusersjournal"></a><p>[biblio-ccppusersjournal] <span class="biblioset"><em>The C/C++ Users Journal</em>. <span class="publisher"><span class="publishername">R&amp;D Publications Inc.. </span></span><span class="biblioid">ISSN 1075-2838. </span></span></p></div><div class="biblioentry"><a id="biblio-sysadminthejournalforunixsysadmins"></a><p>[biblio-sysadminthejournalforunixsysadmins] <span class="biblioset"><em>Sys Admin - The Journal for UNIX System Administrators</em>. <span class="publisher"><span class="publishername">Miller Freeman, Inc. </span></span><span class="biblioid">ISSN 1061-2688. </span></span></p></div></div></div></body></html>