<?xml version="1.0" encoding="koi8-r" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=koi8-r" /><title>6.3. Порты с ограничениями на распространение или с правовым обременением</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Руководство FreeBSD по созданию портов" /><link rel="up" href="special.html" title="Глава 6. Особые соглашения" /><link rel="prev" href="porting-shlibs.html" title="6.2. Динамические библиотеки" /><link rel="next" href="building.html" title="6.4. Механизмы построения" /><link rel="copyright" href="legalnotice.html" title="Юридическое уведомление" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">6.3. Порты с ограничениями на распространение или с правовым
      обременением</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="porting-shlibs.html">Пред.</a> </td><th width="60%" align="center">Глава 6. Особые соглашения</th><td width="20%" align="right"> <a accesskey="n" href="building.html">След.</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="porting-restrictions"></a>6.3. Порты с ограничениями на распространение или с правовым
      обременением</h2></div></div></div><p>Лицензии бывают разных видов, и некоторые накладывают
      ограничение на то, как приложение может быть оформлено в виде
      пакета, может ли оно продаваться для извлечения коммерческой
      выгоды, и так далее.</p><div xmlns="" class="important"><h3 class="admontitle">Важно: </h3><p xmlns="http://www.w3.org/1999/xhtml">На вас, как на человека, портирующего приложение, ложится
	обязанность прочесть лицензионные соглашения на программное
	обеспечение и удостовериться, что проект FreeBSD не будет
	являться их нарушителем, если будет заниматься
	распространением исходного кода или в бинарном виде по
	FTP/HTTP или на CD-ROM.  Если у вас возникли сомнения, то,
	пожалуйста, обратитесь в <a class="link" href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-ports" target="_top">Список рассылки, посвящённый Портам FreeBSD</a>.</p></div><p>В подобных ситуациях можно использовать переменные,
      описываемые в последующих разделах.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp76979920"></a>6.3.1. <code class="varname">NO_PACKAGE</code></h3></div></div></div><p>Эта переменная указывает, что мы не можем создавать для
	приложения двоичный пакет.  К примеру, лицензия не позволяет
	бинарное распространение или она может запрещать
	распространение пакетов, созданных из изменённых
	исходников.</p><p>Однако файлы <code class="varname">DISTFILES</code> могут свободно
	зеркалироваться по FTP/HTTP.  Они также могут
	распространяться, используя CD-ROM (или на похожих
	носителях), если не установлена переменная
	<code class="varname">NO_CDROM</code>.</p><p><code class="varname">NO_PACKAGE</code> должна также
	использоваться, если двоичный пакет, как правило, бесполезен,
	а приложение должно всегда компилироваться из исходного кода.
	К примеру, если в приложение во время компиляции жёстко
	включается конфигурационная информация, привязанная к
	конкретной системе, то задайте переменную
	<code class="varname">NO_PACKAGE</code>.</p><p>Значением переменной <code class="varname">NO_PACKAGE</code> должна
	быть строка, описывающая причину, по которой пакет не должен
	создаваться.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp76984272"></a>6.3.2. <code class="varname">NO_CDROM</code></h3></div></div></div><p>Эта переменная указывает на то, что, хотя мы имеем право
	создавать бинарные пакеты, мы не можем помещать эти пакеты
	или файлы <code class="varname">DISTFILES</code> порта на CD-ROM (или
	на похожие носители) для перепродажи.  Однако бинарные пакеты
	и файлы <code class="varname">DISTFILES</code> порта будут оставаться
	доступными посредством FTP/HTTP.</p><p>Если эта переменная устанавливается вместе с
	<code class="varname">NO_PACKAGE</code>, то только файлы порта
	<code class="varname">DISTFILES</code> будут доступны, и только
	посредством FTP/HTTP.</p><p>В качестве значения <code class="varname">NO_CDROM</code> должна
	указываться строка, описывающая причины, по которым порт не
	может распространяться на CD-ROM.  К примеру, это
	применяется, если лицензионное соглашение приложения
	предполагает только его <span class="quote"><<<span class="quote">некоммерческое</span>>></span>
	использование.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp76988624"></a>6.3.3. <code class="varname">NOFETCHFILES</code></h3></div></div></div><p>Файлы, определенные в переменной
	<code class="varname">NOFETCHFILES</code>, не будут извлекаться ни из
	одного из <code class="varname">MASTER_SITES</code>.  Примером такого
	файла является файл, поставляемый на CD-ROM.</p><p>Инструменты, проверяющие доступность этих файлов на
	<code class="varname">MASTER_SITES</code>, должны игнорировать эти
	файлы и не сообщать о них.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp76991568"></a>6.3.4. <code class="varname">RESTRICTED</code></h3></div></div></div><p>Задайте эту переменную, если лицензия на приложение не
	позволяет ни зеркалировать файлы
	<code class="varname">DISTFILES</code>, ни распространять бинарный
	пакет через FTP/HTTP или на CD-ROM.</p><p>Ни <code class="varname">NO_CDROM</code>, ни
	<code class="varname">NO_PACKAGE</code> не стоит устанавливать вместе с
	<code class="varname">RESTRICTED</code>, так как последняя переменная
	подразумевает первые две.</p><p>В качестве значения <code class="varname">RESTRICTED</code> должна
	указываться строка, описывающая причины, по которым порт
	нельзя распространять.  Обычно это означает, что порт
	использует закрытое программное обеспечение, а пользователь
	должен вручную сгрузить файлы <code class="varname">DISTFILES</code>,
	возможно, после заполнения регистрационной формы или
	подтверждения соглашения с условиями
	<acronym class="acronym">EULA</acronym>.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp76996432"></a>6.3.5. <code class="varname">RESTRICTED_FILES</code></h3></div></div></div><p>Если заданы <code class="varname">RESTRICTED</code> или
	<code class="varname">NO_CDROM</code>, то значение этой переменной по
	умолчанию соответствует <code class="literal">${DISTFILES}
	  ${PATCHFILES}</code>, в противном случае она пуста.
	Если ограничены в распространении лишь некоторые из
	дистрибутивных файлов, то в этой переменной задаётся их
	список.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp77003088"></a>6.3.6. <code class="varname">LEGAL_TEXT</code></h3></div></div></div><p>Если порт имеет правовое обременение, которое не
	покрывается перечисленными выше переменными, то переменной
	<code class="varname">LEGAL_TEXT</code> следует присвоить строку с
	описанием данного обременения.  Например, если было получено
	особое разрешение для FreeBSD на распространение двоичного
	файла, то эта переменная должна содержать соответствующее
	указание.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp77004752"></a>6.3.7. <code class="filename">/usr/ports/LEGAL</code> и
	<code class="varname">LEGAL</code></h3></div></div></div><p>Порт, содержащий любую из перечисленных выше переменных,
	также должен быть добавлен в
	<code class="filename">/usr/ports/LEGAL</code>.  Первый столбец
	содержит шаблон совпадения с дистрибутивными файлами,
	имеющими ограничения на распространение.  Второй столбец
	содержит корень порта.  Третий столбец содержит вывод
	<code class="command">make -VLEGAL</code>.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp77007184"></a>6.3.8. Примеры использования</h3></div></div></div><p>Предпочтительным способом реализации утверждения "архивы
	исходных текстов для этого порта должны загружаться
	самостоятельно" является следующее:</p><pre class="programlisting">.if !exists(${DISTDIR}/${DISTNAME}${EXTRACT_SUFX})
IGNORE=	may not be redistributed because of licensing reasons. Please visit <em class="replaceable"><code>some-website</code></em> to accept their license and download ${DISTFILES} into ${DISTDIR}
.endif</pre><p>Это одновременно и информирует пользователя, и
	устанавливает нужные метаданные на пользовательской машине
	для использования автоматическими программами.</p><p>Обратите внимание, что данная кляуза должна
	предшествовать подключению файла
	<code class="filename">bsd.port.pre.mk</code>.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="porting-shlibs.html">Пред.</a> </td><td width="20%" align="center"><a accesskey="u" href="special.html">Наверх</a></td><td width="40%" align="right"> <a accesskey="n" href="building.html">След.</a></td></tr><tr><td width="40%" align="left" valign="top">6.2. Динамические библиотеки </td><td width="20%" align="center"><a accesskey="h" href="index.html">Начало</a></td><td width="40%" align="right" valign="top"> 6.4. Механизмы построения</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Этот, и другие документы, могут быть скачаны с
    <a href="http://ftp.FreeBSD.org/pub/FreeBSD/doc/">http://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>.</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>По вопросам, связанным с FreeBSD, прочитайте
    <a href="http://www.FreeBSD.org/ru/docs.html">документацию</a> прежде чем писать в
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    По вопросам, связанным с этой документацией, пишите в рассылку
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.<br></br></small></p></body></html>