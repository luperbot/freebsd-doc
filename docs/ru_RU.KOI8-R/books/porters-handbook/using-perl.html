<?xml version="1.0" encoding="koi8-r" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=koi8-r" /><title>6.7. Использование Perl</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Руководство FreeBSD по созданию портов" /><link rel="up" href="special.html" title="Глава 6. Особые соглашения" /><link rel="prev" href="using-gettext.html" title="6.6. Использование GNU gettext" /><link rel="next" href="using-x11.html" title="6.8. Использование X11" /><link rel="copyright" href="legalnotice.html" title="Юридическое уведомление" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">6.7. Использование <span class="application">Perl</span></th></tr><tr><td width="20%" align="left"><a accesskey="p" href="using-gettext.html">Пред.</a> </td><th width="60%" align="center">Глава 6. Особые соглашения</th><td width="20%" align="right"> <a accesskey="n" href="using-x11.html">След.</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="using-perl"></a>6.7. Использование <span class="application">Perl</span></h2></div></div></div><p>Если <code class="varname">MASTER_SITES</code> установлена в значение
      <code class="varname">MASTER_SITE_PERL_CPAN</code>, то предпочтительным
      значением <code class="varname">MASTER_SITE_SUBDIR</code> является имя
      иерархии верхнего уровня.  Например, рекомендуемым значением
      для <code class="literal">p5-Module-Name</code> является
      <code class="literal">Module</code>.  Иерархию верхнего уровня можно
      посмотреть на сайте <a class="link" href="http://cpan.org/modules/by-module/" target="_top">cpan.org</a>.
      Это поддерживает порт в рабочем состоянии при изменении модуля
      автором.</p><p>Исключением этого правила является отсутствие
      соответствующего каталога или файла с дистрибутивом в этом
      каталоге.  В качестве <code class="varname">MASTER_SITE_SUBDIR</code> в
      этом случае разрешается использовать id автора.</p><p>В качестве значения все из настраиваемых knobs ниже
      принимают <code class="literal">YES</code> или строку с версией вида
      <code class="literal">5.8.0+</code>.  <code class="literal">YES</code> означает,
      что данный порт можно использовать с любой из поддерживаемых
      версий Perl.  Если порт работает только с некоторыми версиями
      Perl, то это можно обозначить при помощи строки с версией,
      указывающей на минимальную версию (пример:
      <code class="literal">5.7.3+</code>), максимальную версию (пример:
      <code class="literal">5.8.0-</code>) или точную версию (пример:
      <code class="literal">5.8.3</code>).</p><div class="table"><a id="idp77275088"></a><div class="table-title">Таблица 6.6. Переменные для портов, использующих
	<span class="application">Perl</span></div><div class="table-contents"><table summary="Переменные для портов, использующих&#10;&#9;Perl" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Переменная</th><th>Значение</th></tr></thead><tbody><tr><td><code class="varname">USE_PERL5</code></td><td>Perl 5 используется для построения и
	      работы.</td></tr><tr><td><code class="varname">USE_PERL5_BUILD</code></td><td>Perl 5 используется для построения.</td></tr><tr><td><code class="varname">USE_PERL5_RUN</code></td><td>Perl 5 используется во время работы.</td></tr><tr><td><code class="varname">PERL</code></td><td>Полный путь к интерпретатору Perl 5, либо в
	      системе, либо установленному из портов, но без номера
	      версии.  Используйте это, если вам нужно заменить
	      строки <span class="quote"><<<span class="quote"><code class="literal">#!</code></span>>></span> в
	      скриптах.</td></tr><tr><td><code class="varname">PERL_CONFIGURE</code></td><td>Конфигурация при помощи MakeMaker языка Perl.
	      Влечёт <code class="varname">USE_PERL5</code>.</td></tr><tr><td><code class="varname">PERL_MODBUILD</code></td><td>Конфигурация, построение и установка с
	      использованием Module::Build.  Влечёт
	      <code class="varname">PERL_CONFIGURE</code>.</td></tr></tbody></table><table summary="Переменные для портов, использующих&#10;&#9;Perl" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Переменные только для чтения</th><th>Значение</th></tr></thead><tbody><tr><td><code class="varname">PERL_VERSION</code></td><td>Полная версия установленного Perl
	      (например, <code class="literal">5.8.9</code>).</td></tr><tr><td><code class="varname">PERL_LEVEL</code></td><td>Установленная версия Perl в форме целого числа
	      вида <code class="literal">MNNNPP</code> (например,
	      <code class="literal">500809</code>).</td></tr><tr><td><code class="varname">PERL_ARCH</code></td><td>Место, в котором Perl хранит
	      архитектурно-зависимые библиотеки.  По умолчанию это
	      <code class="literal">${ARCH}-freebsd</code>.</td></tr><tr><td><code class="varname">PERL_PORT</code></td><td>Название установленного порта Perl, (к примеру,
	      <code class="literal">perl5</code>).</td></tr><tr><td><code class="varname">SITE_PERL</code></td><td>Имя каталога, куда помещаются специфичные для
	      сайта пакеты Perl.  Это значение добавляется к
	      <code class="varname">PLIST_SUB</code>.</td></tr></tbody></table></div></div><br class="table-break" /><div xmlns="" class="note"><h3 class="admontitle">Примечание: </h3><p xmlns="http://www.w3.org/1999/xhtml">Порты для модулей Perl, которые не имеют официального
	вебсайта, должны указывать <code class="systemitem">cpan.org</code>
	в строке WWW в файле <code class="filename">pkg-descr</code>.
	Предпочтительная форма URL
	<code class="literal">http://search.cpan.org/dist/Module-Name/</code>
	(включая завершающий слэш).</p></div><div xmlns="" class="note"><h3 class="admontitle">Примечание: </h3><p xmlns="http://www.w3.org/1999/xhtml">Не используйте <code class="literal">${SITE_PERL}</code> в
	объявлении зависимостей.  Использование этой конструкции
	подразумевает наличие подключенного
	<code class="filename">bsd.perl.mk</code>, что не всегда так.  Порты,
	зависимые от этого порта, получат неправильные зависимости,
	если файлы этого порта будут перемещены при последующем
	обновлении.  Правильный способ объявления зависимостей для
	модулей Perl показан в примере ниже.</p></div><div class="example"><a id="use-perl-dependency-example"></a><div class="example-title">Пример 6.2. Пример зависимости Perl</div><div class="example-contents"><pre class="programlisting">p5-IO-Tee&gt;=0.64:${PORTSDIR}/devel/p5-IO-Tee</pre></div></div><br class="example-break" /><p>Для портов Perl, которые устанавливают страницы
      справочника, в <code class="filename">pkg-plist</code> можно
      использовать макрос
      <code class="varname">PERL5_MAN<em class="replaceable"><code>x</code></em></code> (где
      <em class="replaceable"><code>x</code></em> принимает значение от
      <code class="literal">1</code> до <code class="literal">9</code>).
      Например,</p><pre class="programlisting">lib/perl5/5.14/man/man3/AnyEvent::I3.3.gz</pre><p>можно заменить на</p><pre class="programlisting">%%PERL5_MAN3%%/AnyEvent::I3.3.gz</pre></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="using-gettext.html">Пред.</a> </td><td width="20%" align="center"><a accesskey="u" href="special.html">Наверх</a></td><td width="40%" align="right"> <a accesskey="n" href="using-x11.html">След.</a></td></tr><tr><td width="40%" align="left" valign="top">6.6. Использование GNU <code class="literal">gettext</code> </td><td width="20%" align="center"><a accesskey="h" href="index.html">Начало</a></td><td width="40%" align="right" valign="top"> 6.8. Использование X11</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Этот, и другие документы, могут быть скачаны с
    <a href="http://ftp.FreeBSD.org/pub/FreeBSD/doc/">http://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>.</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>По вопросам, связанным с FreeBSD, прочитайте
    <a href="http://www.FreeBSD.org/ru/docs.html">документацию</a> прежде чем писать в
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    По вопросам, связанным с этой документацией, пишите в рассылку
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.<br></br></small></p></body></html>