<?xml version="1.0" encoding="koi8-r" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=koi8-r" /><title>Глава 3. Установка</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Часто задаваемые вопросы по FreeBSD 8.X, 9.X и 10.X" /><link rel="up" href="index.html" title="Часто задаваемые вопросы по FreeBSD 8.X, 9.X и 10.X" /><link rel="prev" href="support.html" title="Глава 2. Документация и поддержка" /><link rel="next" href="hardware.html" title="Глава 4. Аппаратная совместимость" /><link rel="copyright" href="legalnotice.html" title="Юридическое уведомление" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Глава 3. Установка</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="support.html">Пред.</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="hardware.html">След.</a></td></tr></table><hr /></div><div class="chapter"><div xmlns="" class="titlepage"><div><div><h1 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="install"></a>Глава 3. Установка</h1></div><div><span xmlns="http://www.w3.org/1999/xhtml" class="personname"><span class="firstname">Nik</span> <span class="surname">Clayton</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="affiliation"></span></div></div></div><div class="qandaset"><a id="idp72579792"></a><dl><dt>3.1. <a href="install.html#idp72580688">Какую архитектуру нужно загрузить?  У меня есть
	    64-разрядный процессор Intel(R), но я вижу только
	    amd64.</a></dt><dt>3.2. <a href="install.html#idp72587600">Какой файл нужно скачать для установки FreeBSD?</a></dt><dt>3.3. <a href="install.html#idp72651088">Помогите! Установочный образ не загружается!</a></dt><dt>3.4. <a href="install.html#idp72665680">Где инструкции по установке FreeBSD?</a></dt><dt>3.5. <a href="install.html#idp72672720">Какие минимальные требования для запуска FreeBSD?</a></dt><dt>3.6. <a href="install.html#idp72677712">Как сделать собственный установочный диск?</a></dt><dt>3.7. <a href="install.html#idp72692560">Может ли Windows(R) сосуществовать с FreeBSD?</a></dt><dt>3.8. <a href="install.html#idp72704208">Другая операционная система уничтожила мой загрузчик
	    операционной системы!  Как мне его вернуть?</a></dt><dt>3.9. <a href="install.html#idp72741712">Я загрузился с компакт-диска, однако программа установки
	    сообщила, что CD-ROM не найден.  Куда он подевался?</a></dt><dt>3.10. <a href="install.html#idp72747984">Нужно ли устанавливать исходные тексты системы?</a></dt><dt>3.11. <a href="install.html#idp72754128">Нужно ли перекомпилировать ядро?</a></dt><dt>3.12. <a href="install.html#idp72770896">Какой из паролей DES, Blowfish или MD5 я должен использовать,
	    и как указать, какого типа пароли используются
	    пользователями?</a></dt><dt>3.13. <a href="install.html#idp72784336">Какие существуют ограничения для файловой системы FFS?</a></dt><dt>3.14. <a href="install.html#idp72816464">Я скомпилировал новое ядро и при загрузке получил
	    сообщение об ошибке readin
	      failed.</a></dt><dt>3.15. <a href="install.html#idp72824912">Существует ли инструмент для настройки системы после
	    её установки?</a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%" /><col /></colgroup><tbody><tr class="question"><td align="left" valign="top"><a id="idp72580688"></a><a id="which-architecture"></a><p><strong>3.1.</strong></p></td><td align="left" valign="top"><p>Какую архитектуру нужно загрузить?  У меня есть
	    64-разрядный процессор <span class="trademark">Intel</span>(R), но я вижу только
	    <code class="literal">amd64</code>.</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>amd64 - это термин, применяемый во FreeBSD
	    для обозначения 64-разрядной архитектуры x86 (также
	    известна как "x86-64" или "x64").  На большинстве
	    современных компьютеров следует использовать amd64.
	    Для более старых подойдёт i386.  При установке
	    системы на отличную от x86 архитектуру, выберите платформу,
	    наиболее подходящую для оборудования.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp72587600"></a><a id="floppy-download"></a><p><strong>3.2.</strong></p></td><td align="left" valign="top"><p>Какой файл нужно скачать для установки FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>На странице <a class="link" href="http://www.freebsd.org/ru/where.html" target="_top">Получение
	      FreeBSD</a> выберите <code class="literal">[iso]</code> с
	    соответствующей оборудованию архитектурой.</p><p>Можно использовать любой из:</p><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>файл</th><th>описание</th></tr></thead><tbody><tr><td><code class="filename">disc1.iso</code></td><td>Содержит достаточно для установки FreeBSD и
		    минимальный набор пакетов.</td></tr><tr><td><code class="filename">dvd1.iso</code></td><td>Наподобие <code class="filename">disc1.iso</code>,
		    но с дополнительными пакетами.</td></tr><tr><td><code class="filename">memstick.img</code></td><td>Образ с автозагрузкой для записи
		    на USB флешку.</td></tr><tr><td><code class="filename">bootonly.iso</code></td><td>Минимальный образ, требующий сетевое
		    подключение для завершения установки FreeBSD.</td></tr></tbody></table></div><p>Пользователям pc98 нужны образы дискет:
	    <code class="filename">floppies/boot.flp</code>,
	    <code class="filename">floppies/kern1.flp</code>,
	    <code class="filename">floppies/kern2.flp</code> и
	    <code class="filename">floppies/mfsroot1.flp</code>.  Эти образы
	    нужно перенести на дискеты с помощью таких утилит, как
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dd&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">dd</span>(1)</span></a>.</p><p>Полные инструкции по этой процедуре и об установке вообще можно
	    найти в <a class="link" href="../../../../doc/ru_RU.KOI8-R/books/handbook/install.html" target="_top">
	    разделе</a> Руководства, посвящённом установке FreeBSD.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp72651088"></a><a id="floppy-image-too-large"></a><p><strong>3.3.</strong></p></td><td align="left" valign="top"><p>Помогите! Установочный образ не загружается!</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Это может быть вызвано тем, что образ был загружен по
	    FTP не в режиме <span class="emphasis"><em>binary</em></span>.</p><p>В некоторых клиентских программах FTP по умолчанию
	    используется текстовый (<span class="emphasis"><em>ascii</em></span>) режим
	    передачи, в котором любые последовательности символов
	    "конец строки" заменяются на используемые в системе
	    клиента.  В таком случае образ загрузочного диска будет
	    неизбежно испорчен.  Проверьте контрольную сумму SHA-256
	    полученного файла: если он не <span class="emphasis"><em>точно</em></span>
	    такой же как на FTP-сервере, то ошибка произошла, скорее
	    всего, в процессе передачи.</p><p>В случае использования командной строки FTP-клиента
	    введите команду <span class="emphasis"><em>binary</em></span> в командной
	    строке FTP после подключения к серверу, но перед началом
	    передачи файла.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp72665680"></a><a id="install-instructions-location"></a><p><strong>3.4.</strong></p></td><td align="left" valign="top"><p>Где инструкции по установке FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Инструкции по установке FreeBSD 9.0
	    и более поздних версий могут быть найдены в <a class="link" href="../../../../doc/ru_RU.KOI8-R/books/handbook/bsdinstall.html" target="_top">главе</a>
	    Руководства, посвящённой установке FreeBSD.
	    Также имеются инструкции по установке <a class="link" href="../../../../doc/ru_RU.KOI8-R/books/handbook/install.html" target="_top">предыдущих</a>
	    версий FreeBSD.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp72672720"></a><a id="need-to-run"></a><p><strong>3.5.</strong></p></td><td align="left" valign="top"><p>Какие минимальные требования для запуска FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Для работы FreeBSD необходим ПК класса 486 и выше с
	    оперативной памятью объёмом не менее 64 Мбайт и
	    дисковым пространством не менее 1.1 Гбайт.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp72677712"></a><a id="custom-boot-floppy"></a><p><strong>3.6.</strong></p></td><td align="left" valign="top"><p>Как сделать собственный установочный диск?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Индивидуальный установочный носитель FreeBSD можно
	    создать, запустив процедуру построения индивидуального
	    релиза.  Следуйте инструкциям в статье о <a class="link" href="../../../../doc/ru_RU.KOI8-R/articles/releng/article.html" target="_top">подготовке
	    релизов FreeBSD</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp72692560"></a><a id="windows-coexist"></a><p><strong>3.7.</strong></p></td><td align="left" valign="top"><p>Может ли <span class="trademark">Windows</span>(R) сосуществовать с FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Да, если <span class="trademark">Windows</span>(R) установлена первой.  Загрузчик
	    FreeBSD будет управлять процессом выбора загрузки <span class="trademark">Windows</span>(R)
	    или FreeBSD.  Если <span class="trademark">Windows</span>(R) устанавливается следом, то это
	    приведёт к перезаписи загрузчика.  Если такое случится,
	    обратитесь к следующему разделу.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp72704208"></a><a id="bootmanager-restore"></a><p><strong>3.8.</strong></p></td><td align="left" valign="top"><p>Другая операционная система уничтожила мой загрузчик
	    операционной системы!  Как мне его вернуть?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Способ восстановления зависит от используемого
	    загрузчика.  Меню выбора загрузки, используемое во FreeBSD,
	    можно переустановить с помощью <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=boot0cfg&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">boot0cfg</span>(8)</span></a>.
	    Пример для восстановления меню загрузки на диске
	    <em class="replaceable"><code>ada0</code></em>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>boot0cfg -B ada0</code></strong></pre><p>Неинтерактивный загрузчик MBR можно установить
	    с помощью <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=gpart&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">gpart</span>(8)</span></a>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>gpart bootcode -b /boot/mbr ada0</code></strong></pre><p>Более сложные ситуации, включая использование дисков
	    GPT, рассматриваются в <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=gpart&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">gpart</span>(8)</span></a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp72741712"></a><a id="no-install-cdrom"></a><p><strong>3.9.</strong></p></td><td align="left" valign="top"><p>Я загрузился с компакт-диска, однако программа установки
	    сообщила, что CD-ROM не найден.  Куда он подевался?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Обычной причиной возникновения такой проблемы является
	    неправильно сконфигурированный привод CD-ROM.  Теперь зачастую ПК
	    продаются с CD-ROM, установленным как ведомое устройство на втором
	    контроллере IDE, но без ведущего устройства на этом контроллере.
	    Согласно спецификации ATAPI, такая конфигурация неверна, однако
	    <span class="trademark">Windows</span>(R) в таком случае всё же работает, и BIOS игнорирует это при
	    загрузке.  Вот почему BIOS может видеть CD-ROM при загрузке, а
	    FreeBSD для завершения установки - нет.</p><p>Переконфигурируйте систему так, чтобы CD-ROM оказался либо
	    основным устройством на том IDE-контроллере, на котором он
	    установлен, либо ведомым устройством на контроллере IDE, который
	    имеет ведущее устройство.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp72747984"></a><a id="need-complete-sources"></a><p><strong>3.10.</strong></p></td><td align="left" valign="top"><p>Нужно ли устанавливать исходные тексты системы?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>В общем случае, нет.  Для работы основной системы
	    присутствие исходных текстов не требуется.  Некоторые порты
	    наподобие <code class="filename">sysutils/lsof</code>
	    не будут собираться без установленных исходных текстов системы.
	    В частности, если порт собирает модуль ядра или напрямую
	    обращается к структурам ядра, в этом случае исходные тексты
	    должны быть установлены.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp72754128"></a><a id="need-kernel"></a><p><strong>3.11.</strong></p></td><td align="left" valign="top"><p>Нужно ли перекомпилировать ядро?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Обычно нет.  Поставляемое ядро <code class="literal">GENERIC</code>
	    содержит драйвера, необходимые для типичного компьютера.
	    Инструмент <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=freebsd-update&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">freebsd-update</span>(8)</span></a> не может использоваться
	    для обновления FreeBSD с собственным ядром.  Поэтому по
	    возможности стоит придерживаться использования ядра
	    <code class="literal">GENERIC</code>.  Для компьютеров с очень
	    небольшим объёмом ОЗУ, таких как встраиваемые системы,
	    может потребоваться собственное небольшое ядро, содержащее
	    только необходимые драйверы.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp72770896"></a><a id="password-encryption"></a><p><strong>3.12.</strong></p></td><td align="left" valign="top"><p>Какой из паролей DES, Blowfish или MD5 я должен использовать,
	    и как указать, какого типа пароли используются
	    пользователями?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Во FreeBSD 9 и выше по умолчанию используется
	    <span class="emphasis"><em>SHA512</em></span>.  Пароли DES остаются доступны
	    для обратной совместимости с более старыми операционными
	    системами, в которых используется менее защищённый формат
	    паролей.  FreeBSD также поддерживает пароли в форматах
	    Blowfish и MD5.  Управление выбором используемого формата
	    для новых паролей осуществляется через параметр входа
	    <code class="literal">passwd_format</code> в файле
	    <code class="filename">/etc/login.conf</code>, принимающий значения
	    <code class="literal">des</code>, <code class="literal">blf</code> (если они
	    есть) или <code class="literal">md5</code>.  Подробная информация о
	    параметрах входа находится на странице Справочника
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=login.conf&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">login.conf</span>(5)</span></a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp72784336"></a><a id="ffs-limits"></a><p><strong>3.13.</strong></p></td><td align="left" valign="top"><p>Какие существуют ограничения для файловой системы FFS?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Наибольший размер файловой системы FFS ограничен
	    практически количеством памяти, которая требуется для
	    работы <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=fsck&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">fsck</span>(8)</span></a>.  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=fsck&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">fsck</span>(8)</span></a> использует 1 бит на
	    фрагмент, и для стандартного размера фрагмента 4 Кбайт это
	    эквивалентно использованию 32 Мбайт памяти на терабайт
	    дискового пространства.  Это означает, что на архитектурах
	    с ограничением размера пользовательского процесса в 2 Гбайт
	    (например, <span class="trademark">i386</span>TM) максимальный размер файловой системы,
	    доступный для <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=fsck&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">fsck</span>(8)</span></a>, составляет ~60 Тбайт.</p><p>Без ограничения на память для <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=fsck&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">fsck</span>(8)</span></a> максимальный
	    размер файловой системы составляет 2 ^ 64
	    (блоков) * 32 Кбайт =&gt; 16 экса * 32 Кбайт
	    =&gt; 512 зеттабайт.</p><p>Максимальный размер файла на FFS приблизительно равен
	    2  петабайт со стандартным размером блока 32 Кбайт.
	    Каждый 32 Кбайтный блок может адресовать до 4096 блоков.
	    С использованием тройной косвенной адресации это составляет
	    32 Кбайт * 12 + 32 Кбайт * 4096 + 32 Кбайт *
	    4096^2 + 32 Кбайт * 4096^3.  Увеличение размера блока
	    до 64 Кбайт увеличит максимальный размер файла в 16
	    раз.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp72816464"></a><a id="archsw-readin-failed-error"></a><p><strong>3.14.</strong></p></td><td align="left" valign="top"><p>Я скомпилировал новое ядро и при загрузке получил
	    сообщение об ошибке <span class="errorname">readin
	      failed</span>.</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Ядро и компоненты системы не синхронизированы.  Такая
	    конфигурация не поддерживается.  Обязательно используйте
	    команды <code class="command">make buildworld</code> и <code class="command">make
	      buildkernel</code> для обновления ядра.</p><p>Загрузите систему, непосредственно указав ядро на
	    втором этапе загрузки, нажав любую клавишу до запуска
	    загрузчика при появлении символов
	    <code class="literal">|</code>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp72824912"></a><a id="general-configuration-tool"></a><p><strong>3.15.</strong></p></td><td align="left" valign="top"><p>Существует ли инструмент для настройки системы после
	    её установки?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Да, <span class="application">bsdconfig</span> предоставляет
	    замечательный интерфейс для пост-установочной настройки
	    FreeBSD.</p></td></tr></tbody></table></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="support.html">Пред.</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="hardware.html">След.</a></td></tr><tr><td width="40%" align="left" valign="top">Глава 2. Документация и поддержка </td><td width="20%" align="center"><a accesskey="h" href="index.html">Начало</a></td><td width="40%" align="right" valign="top"> Глава 4. Аппаратная совместимость</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Этот, и другие документы, могут быть скачаны с
    <a href="http://ftp.FreeBSD.org/pub/FreeBSD/doc/">http://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>.</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>По вопросам, связанным с FreeBSD, прочитайте
    <a href="http://www.FreeBSD.org/ru/docs.html">документацию</a> прежде чем писать в
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    По вопросам, связанным с этой документацией, пишите в рассылку
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.<br></br></small></p></body></html>