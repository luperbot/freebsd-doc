<?xml version="1.0" encoding="koi8-r" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=koi8-r" /><title>5.4. Использование бинарных пакетов</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Руководство FreeBSD" /><link rel="up" href="ports.html" title="Глава 5. Установка приложений: порты и пакеты" /><link rel="prev" href="ports-finding-applications.html" title="5.3. Поиск программного обеспечения" /><link rel="next" href="pkgng-intro.html" title="5.5. Использование pkgng для управления бинарными пакетами" /><link rel="copyright" href="legalnotice.html" title="Юридическое уведомление" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">5.4. Использование бинарных пакетов</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ports-finding-applications.html">Пред.</a> </td><th width="60%" align="center">Глава 5. Установка приложений: порты и пакеты</th><td width="20%" align="right"> <a accesskey="n" href="pkgng-intro.html">След.</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="packages-using"></a>5.4. Использование бинарных пакетов</h2></div><div><span class="authorgroup">Текст предоставил <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Chern</span> <span class="surname">Lee</span></span>. </span></div></div></div><p>Во FreeBSD есть несколько утилит для управления пакетами:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Для установки, удаления и получения перечня установленных
	  пакетов на работающей системе может быть запущена утилита
	  <code class="command">sysinstall</code>.  Обратитесь к <a class="xref" href="install-post.html#packages" title="2.10.10. Установка пакетов (Install Packages)">Раздел 2.10.10, <<Установка пакетов (Install Packages)>></a> за более детальной информацией.</p></li><li class="listitem"><p>Утилиты командной строки для управления пакетами, которые
	  являются темой данного раздела.</p></li></ul></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp80036560"></a>5.4.1. Установка пакета</h3></div></div></div><a id="idp80037200" class="indexterm"></a><a id="idp80038352" class="indexterm"></a><p>Для установки бинарного пакета FreeBSD из локального файла или
	с сервера в сети используйте <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pkg_add&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">pkg_add</span>(1)</span></a>.</p><div class="example"><a id="idp80040400"></a><div class="example-title">Пример 5.1. Загрузка пакета вручную и его локальная установка</div><div class="example-contents"><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ftp -a <em class="replaceable"><code>ftp2.FreeBSD.org</code></em></code></strong>
Connected to ftp2.FreeBSD.org.
220 ftp2.FreeBSD.org FTP server (Version 6.00LS) ready.
331 Guest login ok, send your email address as password.
230-
230-     This machine is in Vienna, VA, USA, hosted by Verio.
230-         Questions? E-mail freebsd@vienna.verio.net.
230-
230-
230 Guest login ok, access restrictions apply.
Remote system type is UNIX.
Using binary mode to transfer files.
<code class="prompt">ftp&gt;</code> <strong class="userinput"><code>cd /pub/FreeBSD/ports/packages/sysutils/</code></strong>
250 CWD command successful.
<code class="prompt">ftp&gt;</code> <strong class="userinput"><code>get lsof-4.56.4.tgz</code></strong>
local: lsof-4.56.4.tgz remote: lsof-4.56.4.tgz
200 PORT command successful.
150 Opening BINARY mode data connection for 'lsof-4.56.4.tgz' (92375 bytes).
100% |**************************************************| 92375       00:00 ETA
226 Transfer complete.
92375 bytes received in 5.60 seconds (16.11 KB/s)
<code class="prompt">ftp&gt;</code> <strong class="userinput"><code>exit</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>pkg_add <em class="replaceable"><code>lsof-4.56.4.tgz</code></em></code></strong></pre></div></div><br class="example-break" /><p>Если у вас нет источника пакетов, например, такого как набор
	CD-ROM дисков с FreeBSD, то добавьте опцию <code class="option">-r</code> для
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pkg_add&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">pkg_add</span>(1)</span></a>.  Утилита автоматически определит правильный формат
	объектных файлов и релиз, а затем загрузит и установит пакет с сервера
	FTP без какого-либо дополнительного взаимодействия с
	пользователем.</p><a id="idp80047312" class="indexterm"></a><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>pkg_add -r <em class="replaceable"><code>lsof</code></em></code></strong></pre><p>Чтобы задействовать альтернативное зеркало пакетов FreeBSD,
	укажите его адрес в переменной окружения <code class="envar">PACKAGESITE</code>.
	Для загрузки файлов утилита <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pkg_add&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">pkg_add</span>(1)</span></a> использует <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=fetch&amp;sektion=3"><span class="citerefentry"><span class="refentrytitle">fetch</span>(3)</span></a>.
	Последняя учитывает значения различных переменных окружения, включая
	<code class="envar">FTP_PASSIVE_MODE</code>, <code class="envar">FTP_PROXY</code> и
	<code class="envar">FTP_PASSWORD</code>.  Если вы находитесь за сетевым экраном,
	или для работы с FTP/HTTP вам необходимо использовать прокси, то
	определите соответствующие переменные.  Обратитесь к справочной
	странице по <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=fetch&amp;sektion=3"><span class="citerefentry"><span class="refentrytitle">fetch</span>(3)</span></a> для получения полного списка переменных.
        Заметьте, что в примере выше вместо
        <code class="literal">lsof-4.56.4</code> используется <code class="literal">lsof</code>.
	В случае загрузки из сети номер версии в имени пакета должен быть
	опущен.</p><div xmlns="" class="note"><h3 class="admontitle">Примечание: </h3><p xmlns="http://www.w3.org/1999/xhtml">Если вы используете FreeBSD-CURRENT или FreeBSD-STABLE, то утилита
	  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pkg_add&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">pkg_add</span>(1)</span></a> загрузит последнюю версию устанавливаемой программы.
	  Если же вы используете версию -RELEASE, то <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pkg_add&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">pkg_add</span>(1)</span></a> установит
	  версию пакета, который был собран для конкретного релиза.  Это
	  поведение возможно изменить переопределив значение
	  <code class="envar">PACKAGESITE</code>.  Например, в системе
	  FreeBSD 8.1-RELEASE <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pkg_add&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">pkg_add</span>(1)</span></a> по умолчанию попытается
	  скачать пакеты с
	  <code class="literal">ftp://ftp.freebsd.org/pub/FreeBSD/ports/i386/packages-8.1-release/Latest/</code>.
	  Чтобы обязать <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pkg_add&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">pkg_add</span>(1)</span></a> загружать пакеты для
	  FreeBSD 8-STABLE, присвойте <code class="envar">PACKAGESITE</code> значение
	  <code class="literal">ftp://ftp.freebsd.org/pub/FreeBSD/ports/i386/packages-8-stable/Latest/</code>.</p></div><p>Файлы пакетов распространяются в форматах <code class="filename">.tgz</code>
	и <code class="filename">.tbz</code>.  Пакеты находятся по адресу <code class="uri"><a class="uri" href="ftp://ftp.FreeBSD.org/pub/FreeBSD/ports/packages" target="_top">ftp://ftp.FreeBSD.org/pub/FreeBSD/ports/packages</a></code> или
	в каталоге <code class="filename">/packages</code> дистрибутива FreeBSD на DVD.
	Структура каталогов с пакетами подобна тому, как организовано дерево
        <code class="filename">/usr/ports</code>.  Каждая категория имеет собственный
        каталог, и каждый пакет помещается в каталог
        <code class="filename">All</code>.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp80071248"></a>5.4.2. Управление пакетами</h3></div></div></div><a id="idp80071888" class="indexterm"></a><p>Для вывода перечня установленных пакетов и их описаний может
	быть задействована <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pkg_info&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">pkg_info</span>(1)</span></a>.</p><a id="idp80074192" class="indexterm"></a><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>pkg_info</code></strong>
colordiff-1.0.13    A tool to colorize diff output
docbook-1.2         Meta-port for the different versions of the DocBook DTD
...</pre><p>Утилита <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pkg_version&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">pkg_version</span>(1)</span></a> выводит отчёт о версиях всех
	установленных пакетов и сравнивает их версии с текущими версиями
	соответствующих приложений, доступных из локального дерева
	портов.</p><a id="idp80077392" class="indexterm"></a><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>pkg_version</code></strong>
colordiff                   =
docbook                     =
...</pre><p>Символы во второй колонке указывают сравнительную разницу в
        возрасте установленной версии и версии, находящейся в локальном дереве
        портов.</p><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Символ</th><th>Значение</th></tr></thead><tbody><tr><td>=</td><td>Версия установленного пакета соответствует версии,
                находящейся в локальном дереве портов.</td></tr><tr><td>&lt;</td><td>Версия установленного пакета старее, чем та, что имеется в
		локальном дереве портов.</td></tr><tr><td>&gt;</td><td>Версия установленного пакета новее чем та, что есть
		в дереве портов.  Скорее всего, локальное дерево портов
		устарело.</td></tr><tr><td>?</td><td>В индексном файле портов установленный пакет не
		найден.  Это может случиться если установленный порт был
		переименован или удалён из Коллекции Портов.</td></tr><tr><td>*</td><td>Имеется несколько версий пакета.</td></tr><tr><td>!</td><td>Установленный пакет есть в индексном файле, но по
		какой-то причине утилите <code class="command">pkg_version</code> не
		удалось сравнить номер версии установленного пакета
		и соответствующей записи в файле.</td></tr></tbody></table></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp80090320"></a>5.4.3. Удаление пакета</h3></div></div></div><a id="idp80090960" class="indexterm"></a><a id="idp80091856" class="indexterm"></a><p>Для удаления ранее установленных пакетов с программным
        обеспечением используйте утилиту <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pkg_delete&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">pkg_delete</span>(1)</span></a>.</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>pkg_delete <em class="replaceable"><code>xchat-1.7.1</code></em></code></strong></pre><p>Следует отметить, что для <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pkg_delete&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">pkg_delete</span>(1)</span></a> требуется полное
	имя пакета и номер версии; вышеприведенная команда не сработала бы,
	если б ей было указано <em class="replaceable"><code>xchat</code></em> вместо
	<em class="replaceable"><code>xchat-1.7.1</code></em>.  Для нахождения версии
	установленного пакета задействуйте утилиту <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pkg_version&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">pkg_version</span>(1)</span></a>.  Или
	же, напечатайте групповой символ (wildcard) вместо номера
	версии:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>pkg_delete <em class="replaceable"><code>xchat\*</code></em></code></strong></pre><p>в этом случае будут удалены все пакеты, имена которых начинаются
	на <code class="literal">xchat</code>.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp80104400"></a>5.4.4. Разное</h3></div></div></div><p>Вся информация о пакетах, включая перечни файлов и описания
	каждого установленного пакета, хранится в каталоге
	<code class="filename">/var/db/pkg</code>.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ports-finding-applications.html">Пред.</a> </td><td width="20%" align="center"><a accesskey="u" href="ports.html">Наверх</a></td><td width="40%" align="right"> <a accesskey="n" href="pkgng-intro.html">След.</a></td></tr><tr><td width="40%" align="left" valign="top">5.3. Поиск программного обеспечения </td><td width="20%" align="center"><a accesskey="h" href="index.html">Начало</a></td><td width="40%" align="right" valign="top"> 5.5. Использование <span class="application">pkgng</span> для управления
      бинарными пакетами</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Этот, и другие документы, могут быть скачаны с
    <a href="http://ftp.FreeBSD.org/pub/FreeBSD/doc/">http://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>.</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>По вопросам, связанным с FreeBSD, прочитайте
    <a href="http://www.FreeBSD.org/ru/docs.html">документацию</a> прежде чем писать в
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    По вопросам, связанным с этой документацией, пишите в рассылку
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.<br></br></small></p></body></html>