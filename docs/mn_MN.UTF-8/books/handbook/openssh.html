<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>15.10. OpenSSH</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD гарын авлага" /><link rel="up" href="security.html" title="Бүлэг 15. Аюулгүй байдал" /><link rel="prev" href="ipsec.html" title="15.9. IPsec дээгүүр VPN хийх" /><link rel="next" href="fs-acl.html" title="15.11. Файлын системийн хандалт хянах жагсаалтууд(ACL-үүд)" /><link rel="copyright" href="legalnotice.html" title="Хуулийн заалт" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">15.10. OpenSSH</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ipsec.html">Өмнөх</a> </td><th width="60%" align="center">Бүлэг 15. Аюулгүй байдал</th><td width="20%" align="right"> <a accesskey="n" href="fs-acl.html">Дараах</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="openssh"></a>15.10. OpenSSH</h2></div><div><span class="authorgroup">Хувь нэмэр болгон оруулсан <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Шерн</span> <span class="surname">Ли</span></span>. </span></div></div></div><a id="idp79957840" class="indexterm"></a><a id="idp79958352" class="indexterm"></a><p><span class="application">OpenSSH</span> нь алсын машинуудад аюулгүйгээр хандах
	сүлжээний холболтын хэрэгслүүдийн олонлог юм. <code class="command">rlogin</code>,
      <code class="command">rsh</code>, <code class="command">rcp</code>, болон
      <code class="command">telnet</code>-ийг энэ програмаар шууд орлуулан ашиглаж болно.
	Мөн TCP/IP холболтууд аюулгүйгээр SSH-ээр туннель хийгдэж/дамжуулагдаж
	болдог. <span class="application">OpenSSH</span> нь сэм чагналт, холболт булаан авалт, болон
	бусад сүлжээний түвшний халдлагуудыг үр дүнтэйгээр устгаж бүх трафикийг шифрлэдэг.</p><p><span class="application">OpenSSH</span>-г OpenBSD төсөл дэмжиж байдаг бөгөөд
	бүх сүүлийн үеийн алдааны засварууд болон шинэчлэлтүүд бүхий  SSH v1.2.12 дээр
	тулгуурласан байдаг. Энэ програм нь SSH протокол 1 болон 2-той хоёулантай нь
	нийцтэй.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp79962832"></a>15.10.1. OpenSSH-ийг ашиглах давуу тал</h3></div></div></div><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=telnet&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">telnet</span>(1)</span></a> эсвэл <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=rlogin&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">rlogin</span>(1)</span></a> ашиглаж байх үед сүлжээгээр
	илгээгдэж байгаа өгөгдөл цэвэр, шифрлэгдээгүй хэлбэрээр байдаг.
	Сүлжээний шиншлэгчид клиент болон серверийн хооронд хаана ч байсан гэсэн
	таны хэрэглэгч/нууц үгийн мэдээлэл эсвэл таны сессээр дамжсан өгөгдлийг
	хулгайлж чадна. <span class="application">OpenSSH</span> нь ийм асуудлаас
	хамгаалж төрөл бүрийн нэвтрэлт таних болон шифрлэх аргуудыг санал болгодог.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp79965776"></a>15.10.2. <span class="application">sshd</span>-г идэвхжүүлэх</h3></div></div></div><a id="idp79970896" class="indexterm"></a><p><span class="application">sshd</span> нь стандарт FreeBSD суулгацын явцад
	харуулагдах тохируулга юм. <span class="application">sshd</span> идэвхжсэн
	эсэхийг харахдаа <code class="filename">rc.conf</code> файлаас дараах мөрийг
	шалгаарай:</p><pre class="programlisting">sshd_enable="YES"</pre><p>Энэ нь дараагийн удаа таны систем эхлэхэд <span class="application">OpenSSH</span>-д
	зориулсан <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sshd&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sshd</span>(8)</span></a> дэмон програмыг дуудна. Мөн 
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=service&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">service</span>(8)</span></a> ашиглан <span class="application">OpenSSH</span>-г эхлүүлэх
	боломжтой байдаг:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>service sshd start</code></strong></pre></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp79977680"></a>15.10.3. SSH клиент</h3></div></div></div><a id="idp79978320" class="indexterm"></a><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ssh&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ssh</span>(1)</span></a> хэрэгсэл <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=rlogin&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">rlogin</span>(1)</span></a>-тэй адил
	ажилладаг.</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ssh user@example.com</code></strong>
Host key not found from the list of known hosts.
Are you sure you want to continue connecting (yes/no)? <strong class="userinput"><code>yes</code></strong>
Host 'example.com' added to the list of known hosts.
user@example.com's password: <strong class="userinput"><code>*******</code></strong></pre><p>Нэвтрэлт нь <code class="command">rlogin</code> эсвэл
        <code class="command">telnet</code> ашиглан үүсгэгдсэн сесс шиг үргэлжлэх болно.
	SSH нь хэрэглэгч холбогдоход серверийн жинхэнэ эсэхийг шалгахын тулд
	түлхүүр хээ шалгах системийг хэрэглэдэг. Хэрэглэгч зөвхөн эхний удаа холбогдоход
	<code class="literal">yes</code> гэж оруулахыг шаардана. Дараа дараагийн
	нэвтрэлт оролдлогууд бүгд хадгалсан хээ шалгах түлхүүртэй харьцуулагдан
	шалгагддаг. Хэрэв хадгалсан хээ нь дараа дараагийн нэвтрэлтийн оролдлогуудаас
	хүлээн авсан хээнээс өөр бол SSH клиент нь танд түгшүүр өгнө. Хээнүүд
	<code class="filename">~/.ssh/known_hosts</code> файлд эсвэл SSH v2-ийн хээнүүд
	<code class="filename">~/.ssh/known_hosts2</code> файлд
	хадгалагдана.</p><p>Анхдагчаар <span class="application">OpenSSH</span> серверүүдийн
	сүүлийн үеийн хувилбарууд зөвхөн SSH v2 холболтуудыг хүлээн авдаг.
	Клиент нь хэрэв боломжтой бол 2-р хувилбарыг ашиглах бөгөөд боломжгүй бол
	1-р хувилбарыг ашигладаг. <code class="option">-1</code> эсвэл
        <code class="option">-2</code> тохируулгуудыг 1-р эсвэл 2-р хувилбаруудад зориулан
	дамжуулан клиентэд зөвхөн аль нэгийг ашиглахыг хүчилж болно. 1-р хувилбарын
	нийцтэй байдал нь клиентэд хуучин хувилбаруудтай нийцтэй байх зорилгоор дэмжигдсэн
	байдаг.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp79995216"></a>15.10.4. Аюулгүй хуулбарлалт</h3></div></div></div><a id="idp79995984" class="indexterm"></a><a id="idp79997136" class="indexterm"></a><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=scp&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">scp</span>(1)</span></a> тушаал <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=rcp&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">rcp</span>(1)</span></a>-тэй адил ажилладаг; энэ нь файлыг алсын
	машинаас эсвэл машин уруу, ялгаатай нь аюулгүйгээр хуулдаг.</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code> scp user@example.com:/COPYRIGHT COPYRIGHT</code></strong>
user@example.com's password: <strong class="userinput"><code>*******</code></strong>
COPYRIGHT            100% |*****************************|  4735
00:00
<code class="prompt">#</code></pre><p>Өмнөх жишээн дээр энэ хостын хувьд хээ нь аль хэдийн хадгалагдсан болохоор
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=scp&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">scp</span>(1)</span></a>-ийг энд ашиглах үед шалгагддаг.</p><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=scp&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">scp</span>(1)</span></a>-ээр дамжуулсан нэмэлт өгөгдлүүд нь <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=cp&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">cp</span>(1)</span></a>-тэй адил бөгөөд
	эхний нэмэлт өгөгдөлд файл эсвэл файлууд, хоёр дахь дээр очих файлыг
	зааж өгдөг. Файл нь сүлжээгээр SSH-ээр татагддаг  болохоор файлын нэг эсвэл хэд хэдэн
	нэмэлт өгөгдлүүд <code class="option">user@host:&lt;path_to_remote_file&gt;</code>
	хэлбэрийг авдаг.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp80004944"></a>15.10.5. Тохиргоо</h3></div></div></div><a id="idp80005584" class="indexterm"></a><p><span class="application">OpenSSH</span> дэмон болон клиентийн
	системийн дагуух тохиргооны файлууд <code class="filename">/etc/ssh</code>
	санд байрладаг.</p><p><code class="filename">ssh_config</code> клиентийн тохируулгуудыг
	тохируулдаг бөгөөд <code class="filename">sshd_config</code> нь
	дэмонг тохируулдаг.</p><p>Мөн <code class="option">sshd_program</code>
	(анхдагчаар <code class="filename">/usr/sbin/sshd</code>) болон
	<code class="option">sshd_flags</code> <code class="filename">rc.conf</code>
	тохируулгууд тохиргооны түвшнүүдийг илүүтэйгээр хангадаг.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="security-ssh-keygen"></a>15.10.6. <span class="application">ssh-keygen</span></h3></div></div></div><p>Нууц үгүүдийг ашиглахын оронд <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ssh-keygen&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ssh-keygen</span>(1)</span></a> нь
	хэрэглэгчийг шалгаж танихад DSA эсвэл RSA түлхүүрүүдийг үүсгэхэд
	хэрэглэгдэж болно:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>ssh-keygen -t dsa</code></strong>
Generating public/private dsa key pair.
Enter file in which to save the key (/home/user/.ssh/id_dsa):
Created directory '/home/user/.ssh'.
Enter passphrase (empty for no passphrase):
Enter same passphrase again:
Your identification has been saved in /home/user/.ssh/id_dsa.
Your public key has been saved in /home/user/.ssh/id_dsa.pub.
The key fingerprint is:
bb:48:db:f2:93:57:80:b6:aa:bc:f5:d5:ba:8f:79:17 user@host.example.com</pre><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ssh-keygen&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ssh-keygen</span>(1)</span></a> нь шалгаж танихад хэрэглэгдэх нийтийн болон хувийн
	түлхүүр хослолыг үүсгэнэ. Хувийн түлхүүр <code class="filename">~/.ssh/id_dsa</code> эсвэл
        <code class="filename">~/.ssh/id_rsa</code>-д хадгалагдах бөгөөд харин нийтийн түлхүүр
	нь <code class="filename">~/.ssh/id_dsa.pub</code> эсвэл
        <code class="filename">~/.ssh/id_rsa.pub</code>-д DSA болон RSA түлхүүрийн төрлүүдэд
	зориулагдан хадгалагддаг. Тохируулга нь ажиллахын тулд нийтийн түлхүүр нь алсын машины
	<code class="filename">~/.ssh/authorized_keys</code> файлд DSA болон RSA түлхүүрүүдийн
	хоёулангийнх нь хувьд хийгдэх ёстой байдаг.
	Үүнтэй адилаар нийтийн түлхүүрүүдийн RSA хувилбар нь
	<code class="filename">~/.ssh/authorized_keys</code> файлд бас хийгдэх ёстой.</p><p>Энэ нь нууц үгүүдийн оронд SSH түлхүүрүүдийг ашиглан алсын машин уруу
	холбогдохыг зөвшөөрөх болно.</p><p>Хэрэв нэвтрэх үгнүүд <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ssh-keygen&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ssh-keygen</span>(1)</span></a>-д ашиглагдаж байгаа бол
	хувийн түлхүүрийг хэрэглэхийн тулд хэрэглэгчээс нууц үгийг нэвтрэх болгонд
	асуудаг. <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ssh-agent&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ssh-agent</span>(1)</span></a> нь урт нэвтрэх үгнүүдийг дахин дахин оруулах
	тэр зовлонг зөөллөж чадах бөгөөд <a class="xref" href="openssh.html#security-ssh-agent" title="15.10.7. ssh-agent болон ssh-add">Хэсэг 15.10.7, «<span class="application">ssh-agent</span> болон <span class="application">ssh-add</span>»</a>
	хэсэгт тайлбарлагдсан байгаа болно.</p><div xmlns="" class="warning"><h3 class="admontitle">Сануулга: </h3><p xmlns="http://www.w3.org/1999/xhtml">Төрөл бүрийн тохируулгууд болон файлууд нь
	таны систем дээр байгаа <span class="application">OpenSSH</span>-ийн
	хувилбаруудаас шалтгаалан өөр өөр байдаг; асуудалтай учрахгүйн тулд
	та <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ssh-keygen&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ssh-keygen</span>(1)</span></a> гарын авлагын хуудаснаас лавлах
	хэрэгтэй.</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="security-ssh-agent"></a>15.10.7. <span class="application">ssh-agent</span> болон <span class="application">ssh-add</span></h3></div></div></div><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ssh-agent&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ssh-agent</span>(1)</span></a> болон <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ssh-add&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ssh-add</span>(1)</span></a> хэрэгслүүд нь
	нэвтрэх үгнүүдийг дахин дахин бичүүлэлгүйгээр <span class="application">SSH</span>
	түлхүүрүүдийг санах ойд дуудан ашиглаж болох аргуудаар хангадаг.</p><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ssh-agent&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ssh-agent</span>(1)</span></a> хэрэгсэл нь түүн уруу дуудагдсан хувийн түлхүүр(үүд)
	ашиглан жинхэнэ эсэхийг шалгах танилтыг зохицуулна. <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ssh-agent&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ssh-agent</span>(1)</span></a> нь өөр програмыг
	ачаалахад хэрэглэгдэх ёстой. Хамгийн хялбартаа энэ нь  бүрхүүл
	эсвэл илүү дэвшилттэйгээр ашиглавал цонхны удирдагч ажиллуулж болох
	юм.</p><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ssh-agent&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ssh-agent</span>(1)</span></a>-ийг бүрхүүлд ашиглахын тулд үүнийг эхлээд
	бүрхүүлтэй цуг нэмэлт өгөгдөл маягаар ажиллуулах шаардлагатай. Хоёрдугаарт
	хэн бэ гэдэг мэдээллийг (identity) <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ssh-add&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ssh-add</span>(1)</span></a>-г ажиллуулан нэмэх хэрэгтэй бөгөөд
	түүнд хувийн түлхүүрийн нэвтрэх үгнүүдийг өгөх хэрэгтэй. Эдгээр алхмууд
	хийгдсэний дараа хэрэглэгч харгалзах нийтийн түлхүүр суулгагдсан
	дурын хост уруу <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ssh&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ssh</span>(1)</span></a> хийж чадах болно.
	Жишээ нь:</p><pre class="screen"><code class="prompt">%</code> ssh-agent <em class="replaceable"><code>csh</code></em>
<code class="prompt">%</code> ssh-add
Enter passphrase for /home/user/.ssh/id_dsa:
Identity added: /home/user/.ssh/id_dsa (/home/user/.ssh/id_dsa)
<code class="prompt">%</code></pre><p>X11 дээр <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ssh-agent&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ssh-agent</span>(1)</span></a> хэрэглэхийн тулд <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ssh-agent&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ssh-agent</span>(1)</span></a>-ийн
	дуудлага <code class="filename">~/.xinitrc</code>-д байх шаардлагатай.
	Ингэснээр X11-д ачаалагдсан бүх програмуудад <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ssh-agent&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ssh-agent</span>(1)</span></a>-ийн
	үйлчилгээнүүдийг  үзүүлэх болно. Жишээ <code class="filename">~/.xinitrc</code>
	файл иймэрхүү харагдах болно:</p><pre class="programlisting">exec ssh-agent <em class="replaceable"><code>startxfce4</code></em></pre><p>Энэ нь <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ssh-agent&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ssh-agent</span>(1)</span></a>-ийг ажиллуулах бөгөөд тэр нь эргээд
	X11 эхлэх бүрт <span class="application">XFCE</span>-ийг ажиллуулна.
	Ингэж хийгдсэний дараа өөрчлөлтүүд нь үйлчлэхийн тулд X11 дахин эхэлсний хойно
	өөрийн SSH түлхүүрүүдийг бүгдийг ачаалахын тулд ердөө л <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ssh-add&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ssh-add</span>(1)</span></a>-ийг
	ажиллуулаарай.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="security-ssh-tunneling"></a>15.10.8. SSH туннель хийх</h3></div></div></div><a id="idp80051664" class="indexterm"></a><p><span class="application">OpenSSH</span> нь шифрлэгдсэн сессийн үед өөр протоколыг
	хайрцаглах туннель үүсгэх чадвартай байдаг.</p><p>Дараах тушаал <span class="application">telnet</span>-д зориулж туннель үүсгэхийг
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ssh&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ssh</span>(1)</span></a>-д хэлж өгнө:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>ssh -2 -N -f -L 5023:localhost:23 user@foo.example.com</code></strong>
<code class="prompt">%</code></pre><p><code class="command">ssh</code> тушаал дараах тохируулгуудтай
	хэрэглэгдэнэ:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-2</code></span></dt><dd><p><code class="command">ssh</code>-ийг протоколын 2-р хувилбарыг
		ашиглахыг зааж өгнө. (хэрэв та хуучин SSH серверүүдтэй ажиллаж
		байгаа бол үүнийг битгий ашиглаарай)</p></dd><dt><span class="term"><code class="option">-N</code></span></dt><dd><p>Тушаал байхгүй эсвэл зөвхөн туннель гэдгийг заана. Хэрэв үүнийг
		орхивол <code class="command">ssh</code> ердийн сесс эхлүүлнэ.</p></dd><dt><span class="term"><code class="option">-f</code></span></dt><dd><p><code class="command">ssh</code>-ийг ард, далд ажиллуулахыг
		заана.</p></dd><dt><span class="term"><code class="option">-L</code></span></dt><dd><p>Локал туннелийг <em class="replaceable"><code>localport:remotehost:remoteport</code></em>
		загвараар зааж өгнө.</p></dd><dt><span class="term"><code class="option">user@foo.example.com</code></span></dt><dd><p>Алсын SSH сервер.</p></dd></dl></div><p>SSH туннель нь сонсох сокетийг <code class="systemitem">localhost</code>-ийн
	заагдсан порт дээр үүсгэн ажилладаг. Дараа нь локал хост/порт дээр хүлээн
	авсан дурын холболтыг SSH-ээр дамжуулан заасан алсын хост болон порт уруу
	илгээдэг.</p><p>Жишээн дээр <code class="systemitem">localhost</code> дээрх <em class="replaceable"><code>5023</code></em>
	порт нь алсын машины <code class="systemitem">localhost</code> дээрх <em class="replaceable"><code>23</code></em>
	порт уруу дамжуулагдаж байна. <em class="replaceable"><code>23</code></em> нь
	<span class="application">telnet</span> учир энэ нь SSH туннелээр аюулгүй
	<span class="application">telnet</span> сесс үүсгэнэ.</p><p>SMTP, POP3, FTP гэх зэрэг ямар ч аюултай TCP протоколуудын
	гүйцэтгэлийг хялбаршуулахад үүнийг ашиглаж болно.</p><div class="example"><a id="idp80079952"></a><div class="example-title">Жишээ 15.1. SMTP-д зориулан SSH ашиглан аюулгүй туннель үүсгэх</div><div class="example-contents"><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>ssh -2 -N -f -L 5025:localhost:25 user@mailserver.example.com</code></strong>
user@mailserver.example.com's password: <strong class="userinput"><code>*****</code></strong>
<code class="prompt">%</code> <strong class="userinput"><code>telnet localhost 5025</code></strong>
Trying 127.0.0.1...
Connected to localhost.
Escape character is '^]'.
220 mailserver.example.com ESMTP</pre><p>Үүнийг <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ssh-keygen&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ssh-keygen</span>(1)</span></a> болон нэмэлт хэрэглэгчийн бүртгэлүүдтэй
	цуг илүү үл үзэгдэх/төвөггүй SSH туннель хийх орчин үүсгэхэд ашиглаж болно.
	Түлхүүрүүд нь нууц үг бичихийн оронд ашиглагдаж болох бөгөөд туннелиуд
	нь тусдаа хэрэглэгч маягаар ажиллаж чадна.</p></div></div><br class="example-break" /><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp80084176"></a>15.10.8.1. SSH туннелийн практик жишээнүүд</h4></div></div></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp80084944"></a>15.10.8.1.1. POP3 сервер уруу аюулгүй хандах</h5></div></div></div><p>Ажил дээр чинь гаднаас холболтууд хүлээн авах SSH сервер байна.
		Бас тэр оффисийн сүлжээнд POP3 сервер ажиллуулж байгаа
		захидлын сервер байна. Таны гэр болон оффисийн хоорондын
		сүлжээ болон сүлжээний зам итгэж болохоор эсвэл итгэж болохооргүй
		байж магадгүй юм. Ийм учраас та өөрийн захидлыг аюулгүй аргаар
		шалгах хэрэгтэй юм. Үүний шийдэл нь өөрийн оффисийн SSH сервер
		уруу SSH холболт үүсгэж захидлын сервер уруу туннель хийх явдал
		юм.</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>ssh -2 -N -f -L 2110:mail.example.com:110 user@ssh-server.example.com</code></strong>
user@ssh-server.example.com's password: <strong class="userinput"><code>******</code></strong></pre><p>Туннель эхлэн ажилласны дараа та өөрийн захидлын клиентийнхээ
		POP3 хүсэлтүүдийг <code class="systemitem">localhost</code>-ийн 2110 порт уруу
		илгээхээр зааж өгч болно. Эндэх холболт туннелээр аюулгүйгээр дамжин
		<code class="systemitem">mail.example.com</code> уруу илгээгдэнэ.</p></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp80088528"></a>15.10.8.1.2. Хэцүү галт ханыг тойрон гарах</h5></div></div></div><p>Зарим сүлжээний администраторууд хэтэрхий чанга галт ханын дүрэм ашиглан
		зөвхөн ирж байгаа холболтууд төдийгүй гарч байгаа холболтуудыг ч бас
		шүүдэг. Танд алсын машинуудад зөвхөн SSH болон вэбээр аялах 22 болон
		80-р портуудад хандах боломжийг өгсөн байж болох юм.</p><p>Та хөгжим цацдаг Ogg Vorbis сервер зэрэг өөр (магадгүй ажилдаа холбоогүй)
		үйлчилгээ уруу хандахыг магадгүй хүсэж болох юм. Хэрэв энэ Ogg Vorbis
		сервер нь 22 эсвэл 80-аас бусад өөр порт дээр цацаж байгаа бол
		та түүнд хандаж чадахгүй юм.</p><p>Үүний шийдэл нь таны сүлжээний галт ханаас гаднах машин уруу SSH холболт үүсгэж
		үүнийг Ogg Vorbis сервер уруу туннель хийхэд ашиглах явдал юм.</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>ssh -2 -N -f -L 8888:music.example.com:8000 user@unfirewalled-system.example.org</code></strong>
user@unfirewalled-system.example.org's password: <strong class="userinput"><code>*******</code></strong></pre><p>Таны урсгал хүлээн авах клиент одоо <code class="systemitem">localhost</code>-ийн
		8888 порт уруу заагдах бөгөөд тэр цаашаагаа галт ханыг амжилттайгаар
		гэтлэн <code class="systemitem">music.example.com</code> уруу дамжуулагдана.</p></div></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp80093264"></a>15.10.9. <code class="varname">AllowUsers</code> тохируулга</h3></div></div></div><p>Ямар хэрэглэгчид хаанаас орохыг хязгаарлаж өгөх нь зүйтэй юм.
	<code class="literal">AllowUsers</code> тохируулга нь үүнд хүрэх сайн арга
	юм. Жишээ нь <code class="systemitem">root</code> хэрэглэгчийг зөвхөн
	<code class="systemitem">192.168.1.32</code>-оос орохыг
	зөвшөөрөхийн тулд доор дурдсантай адил тохируулгыг <code class="filename">/etc/ssh/sshd_config</code>
	файлд хийх нь зүйтэй юм:</p><pre class="programlisting">AllowUsers root@192.168.1.32</pre><p><code class="systemitem">admin</code> хэрэглэгчийг хаанаас ч орохыг зөвшөөрөхийн
	тулд ердөө л хэрэглэгчийн нэрийг өөрийг нь жагсааж өгнө:</p><pre class="programlisting">AllowUsers admin</pre><p>Олон хэрэглэгчид нэг мөрөнд жагсаагдах шаардлагатай:</p><pre class="programlisting">AllowUsers root@192.168.1.32 admin</pre><div xmlns="" class="note"><h3 class="admontitle">Тэмдэглэл: </h3><p xmlns="http://www.w3.org/1999/xhtml">Та энэ машин уруу нэвтрэх хэрэгцээтэй хэрэглэгч бүрийг жагсааж өгөх нь чухал юм,
		тэгэхгүй бол тэдгээр нь орж чадахгүй болно.</p></div><p><code class="filename">/etc/ssh/sshd_config</code>-д өөрчлөлтүүд хийснийхээ
	дараа <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sshd&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sshd</span>(8)</span></a>-д өөрийн тохиргооны файлуудыг дахин дуудахыг дараах тушаалыг
	ажиллуулж та хэлж өгөх ёстой:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>service sshd reload</code></strong></pre></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp80110416"></a>15.10.10. Нэмэлт унших материалууд</h3></div></div></div><p><a class="link" href="http://www.openssh.com/" target="_top">OpenSSH</a></p><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ssh&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ssh</span>(1)</span></a> <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=scp&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">scp</span>(1)</span></a> <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ssh-keygen&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ssh-keygen</span>(1)</span></a>
        <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ssh-agent&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ssh-agent</span>(1)</span></a> <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ssh-add&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ssh-add</span>(1)</span></a> <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ssh_config&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">ssh_config</span>(5)</span></a></p><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sshd&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sshd</span>(8)</span></a> <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sftp-server&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sftp-server</span>(8)</span></a> <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sshd_config&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">sshd_config</span>(5)</span></a></p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ipsec.html">Өмнөх</a> </td><td width="20%" align="center"><a accesskey="u" href="security.html">Дээш</a></td><td width="40%" align="right"> <a accesskey="n" href="fs-acl.html">Дараах</a></td></tr><tr><td width="40%" align="left" valign="top">15.9. IPsec дээгүүр VPN хийх </td><td width="20%" align="center"><a accesskey="h" href="index.html">Эхлэл</a></td><td width="40%" align="right" valign="top"> 15.11. Файлын системийн хандалт хянах жагсаалтууд(<acronym class="acronym">ACL</acronym>-үүд)</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Энэ болон бусад баримтуудыг
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>
    хаягаас татаж авч болно.</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>FreeBSD-ийн талаар
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;
    хаягтай холбоо барихаасаа өмнө
    <a href="http://www.FreeBSD.org/docs.html">баримтыг</a> уншина уу.<br></br>
    Энэ бичиг баримттай холбоотой асуулт байвал
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;
    хаягаар цахим захидал явуулна уу.<br></br>
    Энэ бичиг баримтын орчуулгатай холбоотой асуулт байвал
    &lt;<a href="mailto:admin@mnbsd.org">admin@mnbsd.org</a>&gt;
    хаягаар цахим захидал явуулна уу.</small></p></body></html>