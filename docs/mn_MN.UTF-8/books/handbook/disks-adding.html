<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>19.3. Диск нэмэх</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD гарын авлага" /><link rel="up" href="disks.html" title="Бүлэг 19. Хадгалалт" /><link rel="prev" href="disks-naming.html" title="19.2. Төхөөрөмжийн нэрс" /><link rel="next" href="raid.html" title="19.4. RAID" /><link rel="copyright" href="legalnotice.html" title="Хуулийн заалт" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">19.3. Диск нэмэх</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="disks-naming.html">Өмнөх</a> </td><th width="60%" align="center">Бүлэг 19. Хадгалалт</th><td width="20%" align="right"> <a accesskey="n" href="raid.html">Дараах</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="disks-adding"></a>19.3. Диск нэмэх</h2></div><div><span class="authorgroup">Анхлан хувь нэмэр болгон оруулсан <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Дэйвид</span> <span class="surname">О'Брайн</span></span>. </span></div></div></div><a id="idp81850576" class="indexterm"></a><p>Дараах хэсэг зөвхөн нэг хөтөчтэй машинд шинэ <acronym class="acronym">SCSI</acronym> диск хэрхэн
        нэмэх талаар тайлбарлах болно. Эхлээд компьютераа унтраагаад хөтчийг
	компьютер, хянагч болон хөтчийн үйлдвэрлэгчийн заавруудын дагуу суулгана.
	Үүнийг хийх маш олон төрлийн процедуруудаас болоод энэ тухай дэлгэрэнгүй
	мэдээлэл нь энэ баримтын хамрах хүрээнээс гадна юм.</p><p><code class="systemitem">root</code> хэрэглэгчээр нэвтрэх хэрэгтэй. Та хөтчийг
	суулгасны дараа шинэ диск олдсон эсэхийг <code class="filename">/var/run/dmesg.boot</code>-с
	шалгаарай. Шинээр нэмсэн хөтөч нь <code class="filename">da1</code> байх
	бөгөөд бид үүнийг <code class="filename">/1</code> дээр холбохыг хүснэ (хэрэв та IDE хөтөч
	нэмж байгаа бол төхөөрөмжийн нэр нь <code class="filename">ad1</code> болно).</p><a id="idp81854800" class="indexterm"></a><a id="idp81859536" class="indexterm"></a><a id="idp81860048" class="indexterm"></a><p>FreeBSD нь IBM-PC-тэй нийцтэй компьютеруудтай ажилладаг учраас
	PC BIOS хуваалтуудыг бодолцох ёстой. Эдгээр нь уламжлалт BSD хуваалтуудаас
	өөр юм. PC диск нь дөрөв хүртэлх тооны BSD хуваалттай байдаг. Хэрэв диск
	нь жинхэнээрээ FreeBSD-д зориулагдах бол та <span class="emphasis"><em>dedicated буюу
	зориулагдсан</em></span> горимыг ашиглаж болно. Үгүй бол FreeBSD нь
	PC BIOS хуваалтуудын аль нэгэн дээр байрлах болно. FreeBSD нь PC BIOS
	хуваалтуудыг уламжлалт BSD хуваалтуудтай эндүүрэхгүйн тулд
	<span class="emphasis"><em>зүсмэлүүд</em></span> гэж нэрлэдэг. Та бас FreeBSD-д зориулагдсан
	боловч өөр үйлдлийн систем суулгагдсан компьютер дээр ашигласан диск дээрх
	зүсмэлүүдийг хэрэглэж болох юм. Энэ нь FreeBSD биш өөр үйлдлийн системийн
	<code class="command">fdisk</code> хэрэгсэлтэй андуурахаас хамгаалах нэг сайн
	арга юм.</p><p>Зүсмэлийн хувьд бол хөтөч нь <code class="filename">/dev/da1s1e</code>
	гэж нэмэгдэх болно. Үүнийг SCSI диск, нэгжийн дугаар 1 (хоёр дахь SCSI диск),
	зүсмэл 1 (PC BIOS хуваалт 1) болон <code class="filename">e</code> BSD
	хуваалт гэж уншина. Зориулагдсан тохиолдолд хөтөч нь ердөө л <code class="filename">/dev/da1e</code>
	гэж нэмэгдэнэ.</p><p>Секторуудын тоог хадгалахын тулд 32 битийн бүхэл тоог ашигладгаас болоод
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=bsdlabel&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">bsdlabel</span>(8)</span></a> нь нэг дискний хувьд 2^32-1 сектор буюу ихэнх тохиолдолд
	2TB болж хязгаарлагддаг. <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=fdisk&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">fdisk</span>(8)</span></a> хэлбэршүүлэлт нь 2^32-1-с
	ихгүй эхлэх сектор болон 2^32-1-с ихгүй уртыг зөвшөөрч хуваалтуудыг 2TB,
	дискнүүдийг ихэнх тохиолдолд 4TB болгож хязгаарладаг. <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sunlabel&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sunlabel</span>(8)</span></a>
	хэлбэршүүлэлт нь нэг хуваалтын хувьд 2^32-1 сектороор, нийтдээ 16TB-ийн
	8 хуваалтаар хязгаарлагддаг. Илүү том дискнүүдийн хувьд <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=gpart&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">gpart</span>(8)</span></a>
      ашиглан <acronym class="acronym">GPT</acronym> хуваалтуудыг үүсгэж болно. <acronym class="acronym">GPT</acronym>
      нь 4 зүсмэлээр хязгаарлагддагүйгээрээ ашигтай байдаг.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp81868368"></a>19.3.1. <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sysinstall&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sysinstall</span>(8)</span></a>-г ашиглах нь</h3></div></div></div><a id="idp81869648" class="indexterm"></a><a id="idp81870928" class="indexterm"></a><div class="procedure"><ol class="procedure" type="1"><li class="step"><p class="title"><strong><span class="application">Sysinstall</span>-г жолоодох нь</strong></p><p>Та <code class="command">sysinstall</code>-н хялбар ашиглаж болох
		цэснүүдийн тусламжтайгаар шинэ дискийг хуваан хаяглаж болох юм.
		<code class="systemitem">root</code> хэрэгчээр нэвтрэх буюу эсвэл
		<code class="command">su</code> тушаалыг ашиглаарай.
		<code class="command">sysinstall</code>-г ажиллуулж
		<code class="literal">Configure</code> цэс уруу орно.
		<code class="literal">FreeBSD Configuration Menu</code> дотор
		доош шилжиж <code class="literal">Fdisk</code> тохируулгыг
		сонгоно.</p></li><li class="step"><p class="title"><strong><span class="application">fdisk</span> хуваалт засварлагч</strong></p><p><span class="application">fdisk</span>-ийн дотор байхдаа
		<span class="keycap"><strong>A</strong></span>-г дарвал дискийг бүхэлд нь FreeBSD-д
		ашиглах болно. Асуух үед нь хэрэв та <span class="quote">«<span class="quote">ирээдүйд суулгаж болзошгүй
		үйлдлийн системүүдтэй хамтран ажиллахаар үлдэхийг хүсвэл</span>»</span>
		<code class="literal">YES</code> гэж хариулаарай. <span class="keycap"><strong>W</strong></span>-г
		ашиглан өөрчлөлтүүдийг диск уруу бичнэ. Одоо FDISK засварлагчаас
		<span class="keycap"><strong>Q</strong></span>-г дарж гараарай. Дараа нь танаас
		<span class="quote">«<span class="quote">Master Boot Record буюу Мастер Ачаалагч Бичлэгийн</span>»</span>
		талаар асуух болно. Та ажиллаж байгаа систем дээр диск нэмж байгаа болохоор
		<code class="literal">None</code>-г сонгох хэрэгтэй.</p></li><li class="step"><p class="title"><strong>Дискний Шошго засварлагч</strong></p><a id="idp81885648" class="indexterm"></a><p>Дараа нь <span class="application">sysinstall</span>-с гарч дахин
		түүнийг эхлүүлэх хэрэгтэй. Дээрх заавруудыг дагаарай, гэхдээ
		энэ удаад <code class="literal">Label</code> тохируулгыг сонгоорой.
		Энэ нь <code class="literal">Disk Label Editor буюу дискний шошго засварлагч</code>
		уруу орно. Энд та уламжлалт BSD хуваалтуудыг үүсгэдэг. Диск нь
		<code class="literal">a-h</code> гэж хаяглагдсан найм хүртэлх хуваалтуудтай
		байж болно. Хуваалтын шошгонуудын цөөн хэд нь тусгай хэрэглээтэй байдаг.
		<code class="literal">a</code> хуваалт нь root хуваалтанд (<code class="filename">/</code>)
		ашиглагддаг. Тиймээс зөвхөн таны системийн диск (өөрөөр хэлбэл таны
		ачаалалт хийсэн диск) <code class="literal">a</code> хуваалттай байх
		ёстой. <code class="literal">b</code> хуваалт нь swap хуваалтуудад
		хэрэглэгддэг бөгөөд та swap хуваалттай олон дисктэй байж болох юм.
		<code class="literal">c</code> хуваалт нь зориулагдсан горимд
		бүх дискийг, зүсмэлийн горимд бүхэл FreeBSD зүсмэлийг эсвэл заадаг.
		Бусад хуваалтууд нь ерөнхий хэрэглээнд зориулагдсан.</p><p><span class="application">sysinstall</span>-ийн шошго засварлагч нь
		root биш, swap биш хуваалтуудад зориулж <code class="literal">e</code>
		хуваалтыг илүүтэй үздэг. Шошго засварлагч дотор байхдаа <span class="keycap"><strong>C</strong></span>-г
		даран ганц файлын систем үүсгэх хэрэгтэй. Асуух үед, хэрэв энэ нь
		FS (файлын систем) эсвэл swap байх юм бол <code class="literal">FS</code>-г
		сонгож холбох цэгийг (өөрөөр хэлбэл <code class="filename">/mnt</code>) бичээрэй.
		Хэрэв дискийг суулгацын дараах горимд нэмж байгаа бол
		<span class="application">sysinstall</span> нь танд зориулж оруулгуудыг
		<code class="filename">/etc/fstab</code> файлд үүсгэхгүй, тиймээс таны
		зааж өгсөн холбох цэг нь чухал биш юм.</p><p>Та одоо шинэ шошгыг диск уруу бичиж түүн дээр файлын систем үүсгэхэд
		бэлэн боллоо. Үүнийг <span class="keycap"><strong>W</strong></span>-г дарж хийнэ.
		<span class="application">sysinstall</span>-ын шинэ хуваалтыг
		холбож чадахгүй байна гэсэн алдааг өнгөрүүлэх хэрэгтэй. Шошго засварлагч
		болон <span class="application">sysinstall</span>-с бүр мөсөн
		гараарай.</p></li><li class="step"><p class="title"><strong>Төгсгөл</strong></p><p>Хамгийн сүүлийн алхам нь <code class="filename">/etc/fstab</code> файлыг
		засварлаж өөрийн шинэ дискний оруулгыг нэмэх явдал юм.</p></li></ol></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp81904976"></a>19.3.2. Тушаалын мөрийн хэрэгслүүдийг ашиглах нь</h3></div></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp81905616"></a>19.3.2.1. Зүсмэлүүдийг ашиглах нь</h4></div></div></div><p>Энэ тохиргоо нь таны дискийг өөрийн чинь компьютер дээр суулгагдсан
	байж болох бусад үйлдлийн системтэй зөв ажиллаж өөр бусад үйлдлийн системийн
	<code class="command">fdisk</code> хэрэгслүүдтэй эндүүрэхгүй байх боломжийг
	бүрдүүлдэг. Шинэ дискийг суулгахад энэ аргыг ашиглахыг зөвлөдөг.
	Хэрэв танд үнэхээр тохирох шалтгаан байгаа тохиолдолд <code class="literal">зориулагдсан</code>
	горимыг ашиглаарай!</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>dd if=/dev/zero of=/dev/da1 bs=1k count=1</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>fdisk -BI da1</code></strong> #Initialize your new disk
<code class="prompt">#</code> <strong class="userinput"><code>bsdlabel -B -w da1s1 auto</code></strong> #Label it.
<code class="prompt">#</code> <strong class="userinput"><code>bsdlabel -e da1s1</code></strong> # Edit the bsdlabel just created and add any partitions.
<code class="prompt">#</code> <strong class="userinput"><code>mkdir -p /1</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>newfs /dev/da1s1e</code></strong> # Repeat this for every partition you created.
<code class="prompt">#</code> <strong class="userinput"><code>mount /dev/da1s1e /1</code></strong> # Mount the partition(s)
<code class="prompt">#</code> <strong class="userinput"><code>vi /etc/fstab</code></strong> # Add the appropriate entry/entries to your <code class="filename">/etc/fstab</code>.</pre><p>Хэрэв танд IDE диск байвал <code class="filename">da</code>-г
	<code class="filename">ad</code> гэж солиорой.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp81915600"></a>19.3.2.2. Зориулагдсан</h4></div></div></div><a id="idp81916240" class="indexterm"></a><p>Хэрэв та шинэ хөтчийг өөр үйлдлийн системтэй цуг хуваалцахгүй бол
	<code class="literal">зориулагдсан</code> горимыг ашиглаж болох юм. Энэ горим нь
	Microsoft үйлдлийн системийн толгойг эргүүлж болохыг санаарай; гэхдээ
	тэдгээр нь ямар ч эвдрэл гэмтэл үүсгэхгүй. IBM-ийн <span class="trademark">OS/2</span>® нь харин
	олсон бүх ойлгохгүй байгаа ямар ч хуваалтыг хувьдаа <span class="quote">«<span class="quote">завших</span>»</span>
	болно.</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>dd if=/dev/zero of=/dev/da1 bs=1k count=1</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>bsdlabel -Bw da1 auto</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>bsdlabel -e da1</code></strong>				# create the `e' partition
<code class="prompt">#</code> <strong class="userinput"><code>newfs /dev/da1e</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>mkdir -p /1</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>vi /etc/fstab</code></strong>				# add an entry for /dev/da1e
<code class="prompt">#</code> <strong class="userinput"><code>mount /1</code></strong></pre><p>Өөр нэг арга нь:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>dd if=/dev/zero of=/dev/da1 count=2</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>bsdlabel /dev/da1 | bsdlabel -BR da1 /dev/stdin</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>newfs /dev/da1e</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>mkdir -p /1</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>vi /etc/fstab</code></strong>					# add an entry for /dev/da1e
<code class="prompt">#</code> <strong class="userinput"><code>mount /1</code></strong></pre></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="disks-naming.html">Өмнөх</a> </td><td width="20%" align="center"><a accesskey="u" href="disks.html">Дээш</a></td><td width="40%" align="right"> <a accesskey="n" href="raid.html">Дараах</a></td></tr><tr><td width="40%" align="left" valign="top">19.2. Төхөөрөмжийн нэрс </td><td width="20%" align="center"><a accesskey="h" href="index.html">Эхлэл</a></td><td width="40%" align="right" valign="top"> 19.4. RAID</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Энэ болон бусад баримтуудыг
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>
    хаягаас татаж авч болно.</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>FreeBSD-ийн талаар
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;
    хаягтай холбоо барихаасаа өмнө
    <a href="http://www.FreeBSD.org/docs.html">баримтыг</a> уншина уу.<br></br>
    Энэ бичиг баримттай холбоотой асуулт байвал
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;
    хаягаар цахим захидал явуулна уу.<br></br>
    Энэ бичиг баримтын орчуулгатай холбоотой асуулт байвал
    &lt;<a href="mailto:admin@mnbsd.org">admin@mnbsd.org</a>&gt;
    хаягаар цахим захидал явуулна уу.</small></p></body></html>