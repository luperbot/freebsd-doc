<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>28.2. Хэрэглэгчийн PPP ашиглах</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD гарын авлага" /><link rel="up" href="ppp-and-slip.html" title="Бүлэг 28. PPP болон SLIP" /><link rel="prev" href="ppp-and-slip.html" title="Бүлэг 28. PPP болон SLIP" /><link rel="next" href="ppp.html" title="28.3. Цөмийн PPP-г ашиглах" /><link rel="copyright" href="legalnotice.html" title="Хуулийн заалт" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">28.2. Хэрэглэгчийн PPP ашиглах</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ppp-and-slip.html">Өмнөх</a> </td><th width="60%" align="center">Бүлэг 28. PPP болон SLIP</th><td width="20%" align="right"> <a accesskey="n" href="ppp.html">Дараах</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="userppp"></a>28.2. Хэрэглэгчийн PPP ашиглах</h2></div><div><span class="authorgroup">Шинэчилж өргөжүүлсэн <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Том</span> <span class="surname">Рөүдс</span></span>. </span></div><div><span class="authorgroup">Анхлан хувь нэмэр болгон оруулсан <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Брайн</span> <span class="surname">Сомерс</span></span>. </span></div><div><span class="authorgroup">Зарим хэсгийг нэмсэн <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Ник</span> <span class="surname">Клэйтон</span></span>, <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Дирк</span> <span class="surname">Фромберг</span></span> ба <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Питер</span> <span class="surname">Чайлдс</span></span>. </span></div></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp87841104"></a>28.2.1. Хэрэглэгчийн PPP</h3></div></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp87841744"></a>28.2.1.1. Таамаглалууд</h4></div></div></div><p>Энэ баримт нь таныг дараах шаардлагуудыг хангасан гэж тооцдог:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a id="ppp-isp" class="indexterm"></a><a id="ppp-ppp2" class="indexterm"></a><p>PPP ашиглан таны холбогдох Интернэтийн үйлчилгээ үзүүлэгчээс (ISP)
		өгсөн бүртгэл.</p></li><li class="listitem"><p>Модем эсвэл өөр төхөөрөмж таны системд холбогдсон байгаа
		бөгөөд тэр нь танд өөрийн ISP-тай холбогдохыг зөвшөөрөхөөр зөв
		тохируулагдсан байгаа.</p></li><li class="listitem"><p>Таны ISP-ийн хандах dial-up дугаар(ууд).</p></li><li class="listitem"><a id="ppp-pap" class="indexterm"></a><a id="ppp-chap" class="indexterm"></a><a id="ppp-unix" class="indexterm"></a><a id="ppp-login" class="indexterm"></a><a id="ppp-password" class="indexterm"></a><p>Таны нэвтрэх нэр болон нууц үг. (ердийн <span class="trademark">UNIX</span>® загварын нэвтрэлт
		болон нууц үгийн хослол юм уу эсвэл PAP эсвэл CHAP нэвтрэлт болон
		нууц үгийн хослол).</p></li><li class="listitem"><a id="ppp-nameserver" class="indexterm"></a><p>Нэг буюу хэд хэдэн нэрийн серверүүдийн IP хаяг. Хэвийн үед
		үүнд зориулан ашиглахаар хоёр IP хаягийг таны ISP танд өгдөг. Хэрэв тэд
		танд ядаж ганцыг өгөөгүй бол та <code class="command">enable dns</code>
		тушаалыг <code class="filename">ppp.conf</code> файлд ашиглавал
		<span class="application">ppp</span> нэрийн серверүүдийг танд
		тохируулж өгөх болно. Энэ боломж нь DNS-тай тохиролцоог дэмждэг
		таны ISP-ийн PPP шийдлээс хамаарах юм.</p></li></ul></div><p>Дараах мэдээллийг таны ISP өгсөн байж болох боловч энэ нь заавал шаардлагагүй
		юм:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Таны ISP-ийн гарцын IP хаяг. Гарц нь таны холбогдох машин бөгөөд
		таны <span class="emphasis"><em>анхдагч чиглүүлэлт</em></span> гэж тохируулагдах
		болно. Хэрэв танд энэ мэдээлэл байхгүй бол бид нэгийг орлуулж болох
		бөгөөд таны ISP-ийн PPP сервер биднийг холбогдох үед зөв утгыг хэлж
		өгөх болно.</p><p>Энэ IP дугаар нь <span class="application">ppp</span>-ээр
	      <code class="literal">HISADDR</code> гэгдэнэ.</p></li><li class="listitem"><p>Таны ашиглах ёстой сүлжээний баг. Хэрэв таны ISP үүнийг өгөөгүй
		бол та аюулгүйгээр <code class="systemitem">255.255.255.255</code>
		гэж ашиглаж болно.</p></li><li class="listitem"><a id="ppp-static-ip" class="indexterm"></a><p>Хэрэв таны ISP танд статик IP хаяг болон хостын нэр өгсөн бол та
		тэдгээрийг оруулж болно. Үгүй бол бид нөгөө талын өгөх тохирох IP хаягийг
		ердөө л зөвшөөрөх болно.</p></li></ul></div><p>Хэрэв танд шаардлагатай мэдээллийн аль нь ч байхгүй бол өөрийн ISP уруугаа
		хандана уу.</p><div xmlns="" class="note"><h3 class="admontitle">Тэмдэглэл: </h3><p xmlns="http://www.w3.org/1999/xhtml">Энэ хэсэгт жишээнүүдийн олонхийн үзүүлж байгаа тохиргооны файлуудын
		агуулгуудад байгаа мөр бүр дугаарлагдсан байгаа болно. Эдгээр дугаарууд нь
		танилцуулга болон хэлэлцүүлэгт туслах зорилгоор зөвхөн ашиглагддаг бөгөөд
		яг үнэндээ жинхэнэ файл дээрээ тавигдах ёстой гэсэн үг биш юм.
		Tab ашиглан зөв догол хийх болон зайн тэмдэгтүүд нь бас чухал юм.</p></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp87867728"></a>28.2.1.2. Автомат <span class="application">PPP</span> тохиргоо</h4></div></div></div><a id="idp87872976" class="indexterm"></a><p><code class="command">ppp</code> болон <code class="command">pppd</code> нь
	(PPP-ийн цөмийн түвшний шийдэл, зөвхөн FreeBSD 7.X-ийн хувьд) <code class="filename">/etc/ppp</code> сан
	дахь тохиргооны файлуудыг ашигладаг. Хэрэглэгчийн ppp-д зориулсан жишээнүүдийг
	<code class="filename">/usr/share/examples/ppp/</code> сангаас олж болно.</p><p><code class="command">ppp</code>-г тохируулах нь таны өөрийн шаардлагуудаас
	хамаарч хэд хэдэн файлуудыг засварлахыг танаас шаарддаг. Тэдгээрт юу оруулах нь
	таны ISP IP хаягуудыг статикаар өгдөг үү (өөрөөр хэлбэл танд нэг IP хаяг өгөх
	бөгөөд зөвхөн тэрийг дандаа ашиглана) эсвэл динамикаар (өөрөөр хэлбэл таны IP хаяг
	таныг ISP-даа холбогдох бүрт өөрчлөгддөг) өгдөг үү гэдгээс зарим талаараа
	хамаардаг.</p><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="userppp-staticIP"></a>28.2.1.2.1. PPP болон статик IP хаягууд</h5></div></div></div><a id="idp87876944" class="indexterm"></a><p>Та <code class="filename">/etc/ppp/ppp.conf</code> тохиргооны
		файлыг засварлах хэрэгтэй. Энэ нь доорх жишээтэй төстэй харагдах
		ёстой.</p><div xmlns="" class="note"><h3 class="admontitle">Тэмдэглэл: </h3><p xmlns="http://www.w3.org/1999/xhtml"><code class="literal">:</code>-ээр төгссөн мөрүүд эхний баганаас эхэлнэ
		(мөрийн эхлэл)— бусад бүх мөрүүдэд доор үзүүлсэн шиг зай эсвэл
		tab-аар догол гаргасан байх ёстой.</p></div><pre class="programlisting">1     default:
2       set log Phase Chat LCP IPCP CCP tun command
3       ident user-ppp VERSION (built COMPILATIONDATE)
4       set device /dev/cuau0
5       set speed 115200
6       set dial "ABORT BUSY ABORT NO\\sCARRIER TIMEOUT 5 \
7                 \"\" AT OK-AT-OK ATE1Q0 OK \\dATDT\\T TIMEOUT 40 CONNECT"
8       set timeout 180
9       enable dns
10
11    provider:
12      set phone "(123) 456 7890"
13      set authname foo
14      set authkey bar
15      set login "TIMEOUT 10 \"\" \"\" gin:--gin: \\U word: \\P col: ppp"
16      set timeout 300
17      set ifaddr <em class="replaceable"><code>x.x.x.x</code></em> <em class="replaceable"><code>y.y.y.y</code></em> 255.255.255.255 0.0.0.0
18      add default HISADDR</pre><div class="variablelist"><dl class="variablelist"><dt><span class="term">Мөр 1:</span></dt><dd><p>Анхдагч оруулгыг тэмдэглэдэг. Энэ оруулга дахь тушаалууд нь
		ppp ажиллах үед автоматаар ажилладаг.</p></dd><dt><span class="term">Мөр 2:</span></dt><dd><p>Параметрүүдийг бүртгэл хийхийг идэвхжүүлнэ. Тохиргоо
		хангалттайгаар ажиллаж байгаа үед бүртгэлийн файлын их хэмжээнээс
		сэргийлэхийн тулд энэ мөрийг:</p><pre class="programlisting">set log phase tun</pre><p>гэж болгох ёстой.</p></dd><dt><span class="term">Мөр 3:</span></dt><dd><p>PPP-д нөгөө талдаа өөрийгөө хэрхэн таниулахыг хэлж өгдөг.
		PPP нь тохиролцож холбоосыг үүсгэх үедээ ямар нэгэн асуудалтай байгаа
		эсэхээ таниулсан мэдээллээр нөгөө талаа хангадаг бөгөөд нөгөө талын
		администратор иймэрхүү асуудлуудыг судалж байгаа үед энэ нь ашигтай
		байж болох юм.</p></dd><dt><span class="term">Мөр 4:</span></dt><dd><p>Модемийн холбогдсон төхөөрөмжийг тодорхойлдог.
		<code class="filename">COM1</code> нь
		  <code class="filename">/dev/cuau0</code>
		  бөгөөд
		  <code class="filename">COM2</code> нь
		  <code class="filename">/dev/cuau1</code> юм.</p></dd><dt><span class="term">Мөр 5:</span></dt><dd><p>Таны холбогдох хурдыг заадаг. Хэрэв 115200 ажиллахгүй
		бол (ямар ч шинэ модемтой энэ нь болох ёстой)
		38400-гаар оролдож үзээрэй.</p></dd><dt><span class="term">Мөр 6 &amp; 7:</span></dt><dd><a id="idp87896144" class="indexterm"></a><p>Залгах мөр. Хэрэглэгчийн PPP нь <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chat&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">chat</span>(8)</span></a> програмын
		адил хүлээгээд илгээх зарчмыг ашигладаг. Энэ хэлний боломжуудын тухай
		мэдээллийг гарын авлагын хуудаснаас лавлана уу.</p><p>Энэ тушаал нь уншигдахад хялбар байх зорилгоор дараагийн
		мөрөнд үргэлжилж байгааг анзаараарай. Хэрэв мөрийн сүүлийн
		тэмдэгт <code class="literal">\</code> байвал <code class="filename">ppp.conf</code>
		файл дахь ямар ч тушаал ийм байж болох юм.</p></dd><dt><span class="term">Мөр 8:</span></dt><dd><p>Энэ холбоосонд зориулж сул зогсох хугацааг тохируулна. 180
		секунд нь анхдагч байна, тэгэхээр энэ мөр нь цэвэр гоо сайхны зүйл юм.</p></dd><dt><span class="term">Мөр 9:</span></dt><dd><p>Локал танигчийн тохиргоог бататгахын тулд нөгөө талаасаа асуухыг
		PPP-д хэлнэ. Хэрэв та локал нэрийн серверийг ажиллуулах бол энэ
		мөрийг тайлбар болгох юм уу эсвэл арилгах ёстой.</p></dd><dt><span class="term">Мөр 10:</span></dt><dd><p>Уншихад хялбар байх зорилгоор хоосон мөр байна. PPP нь
		хоосон мөрүүдийг орхидог.</p></dd><dt><span class="term">Мөр 11:</span></dt><dd><p><span class="quote">«<span class="quote">provider</span>»</span> гэж нэрлэгдсэн үзүүлэгчид
		зориулсан оруулгыг тодорхойлдог. Үүнийг өөрийн <acronym class="acronym">ISP</acronym>-ийн
		нэрээр сольж болох юм. Ингэсний дараа та холболтыг эхлүүлэхийн
		тулд <code class="option">load <em class="replaceable"><code>ISP</code></em></code> гэж ашиглаж болох юм.</p></dd><dt><span class="term">Мөр 12:</span></dt><dd><p>Энэ үзүүлэгчийн хувьд утасны дугаарыг тохируулдаг. Олон утасны
		дугаарыг тодорхойлох хоёр цэг (<code class="literal">:</code>) юм уу эсвэл
		хоолой тэмдэгтийг (<code class="literal">|</code>) тусгаарлагч болгон ашиглан
		зааж өгч болно. Хоёр тусгаарлагчийн ялгаа <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a>-д тайлбарлагдсан
		байдаг. Дүгнэж хэлэхэд хэрэв та дугааруудыг ээлжлэн ашиглах бол тодорхойлох
		цэгийг ашиглана. Хэрэв та эхний дугаар уруу эхлээд үргэлж залгахыг хүсэж
		байгаа бөгөөд зөвхөн эхний дугаар нь амжилтгүй болсон тохиолдолд бусад дугааруудыг
		ашиглахыг хүсэж байгаа бол  хоолой тэмдэгтийг ашиглаарай. Утасны дугааруудыг
		тэр чигээр нь үзүүлсэн шиг үргэлж хаалтанд хийх хэрэгтэй.</p><p>Хэрэв та утасны дугаар дээр зай ашиглахаар бол утасны дугаарыг хаалтанд
		(<code class="literal">"</code>) хийх ёстой. Ингэхгүй бол энэ нь энгийн боловч баригдашгүй
		алдаанд хүргэж болох юм.</p></dd><dt><span class="term">Мөр 13 &amp; 14:</span></dt><dd><p>Хэрэглэгчийн нэр болон нууц үгийг тодорхойлно. <span class="trademark">UNIX</span>®
		загварын нэвтрэлт хүлээх мөрийг ашиглан холбогдох үед эдгээр
		утгууд нь <code class="command">set login</code> тушаалаар
		\U болон \P хувьсагчуудыг ашиглан хийгддэг. PAP эсвэл CHAP
		ашиглан холбогдож байгаа үед эдгээр утгууд нь нэвтрэлт танилт
		хийгдэхэд хэрэглэгддэг.</p></dd><dt><span class="term">Мөр 15:</span></dt><dd><a id="idp87926736" class="indexterm"></a><a id="idp87927248" class="indexterm"></a><p>Хэрэв та PAP эсвэл CHAP ашиглаж байгаа бол нэвтрэлт энэ
		үед байхгүй байх бөгөөд энэ мөр нь тайлбар болгогдох юм уу эсвэл
		арилгагдсан байх ёстой. Илүү дэлгэрэнгүй мэдээллийг
		<a class="link" href="userppp.html#userppp-PAPnCHAP" title="28.2.1.2.12. PAP болон CHAP нэвтрэлт шалгалт">PAP болон CHAP
		  нэвтрэлт танилт</a> холбоосоос үзнэ үү.</p><p>Нэвтрэлтийн мөр нь залгах мөр шиг чалчихтай төсөөтэй зарчимтай
		байдаг. Энэ жишээн дээр нэвтрэх сесс нь доор дурдсантай адил үйлчилгээний
		хувьд уг мөр ажиллаж байна:</p><pre class="screen">J. Random Provider
login: <em class="replaceable"><code>foo</code></em>
password: <em class="replaceable"><code>bar</code></em>
protocol: ppp</pre><p>Та энэ скриптийг өөрийн хэрэгцээндээ тааруулан өөрчлөх
		хэрэгтэй болно. Энэ скриптийг эхний удаа бичиж байхдаа та
		яриа хүссэнээр үргэлжилж байгаа эсэхийг тодорхойлж чадахаар
		байхын тулд <span class="quote">«<span class="quote">chat</span>»</span> буюу чалчих бүртгэлийг
		идэвхжүүлсэн эсэхээ баталгаажуулах хэрэгтэй.</p></dd><dt><span class="term">Мөр 16:</span></dt><dd><a id="idp87932240" class="indexterm"></a><p>Анхдагч сул зогсох хугацааг (секундээр) холболтод зориулж
		тохируулдаг. Энд холболт нь 300 секундын хугацаанд идэвхгүй байвал
		автоматаар хаагдах болно. Хэрэв та хугацааны хувьд хэзээ ч дуусахгүй
		байхыг хүсвэл энэ утгыг тэг болгох юм уу эсвэл <code class="option">-ddial</code>
		тушаалын мөрийн тохируулгыг ашиглах хэрэгтэй.</p></dd><dt><span class="term">Мөр 17:</span></dt><dd><a id="idp87934672" class="indexterm"></a><p>Интерфэйсийн хаягуудыг тохируулна. <em class="replaceable"><code>x.x.x.x</code></em>
		мөрийг таны интернэтийн үйлчилгээ үзүүлэгчийн танд хуваарилсан
		IP хаягаар солих шаардлагатай. <em class="replaceable"><code>y.y.y.y</code></em>
		мөрийг таны ISP өөрийн гарцыг (таны холбогдох машин) заасан тэр IP
		хаягаар солих шаардлагатай. Хэрэв таны ISP гарцын хаягийг
		танд өгөөгүй бол <code class="systemitem">10.0.0.2/0</code>
		гэж ашиглаарай. Хэрэв та <span class="quote">«<span class="quote">таасан</span>»</span> хаягийг
		ашиглах хэрэгтэй бол <a class="link" href="userppp.html#userppp-dynamicIP" title="28.2.1.2.2. PPP болон динамик IP хаягууд">PPP болон динамик IP
		  хаягууд</a> хэсэгт зориулсан заавруудын дагуу
		<code class="filename">/etc/ppp/ppp.linkup</code> файлдаа
		оруулга үүсгэсэн эсэхээ шалгаарай. Хэрэв энэ мөрийг орхивол
		<code class="command">ppp</code> нь <code class="option">-auto</code>
		горимд ажиллаж чадахгүй.</p></dd><dt><span class="term">Мөр 18:</span></dt><dd><p>Өөрийн ISP-ийн гарц уруу анхдагч чиглүүлэлтийг нэмнэ.
		<code class="literal">HISADDR</code> тусгай үгийг мөр 17 дээр
		заасан гарцын хаягаар сольдог. Энэ мөр нь 17-р мөрийн дараа байх
		нь чухал бөгөөд тэгэхгүй бол <code class="literal">HISADDR</code> нь
		эхлэн тохируулагдаж амжихгүй байх юм.</p><p>Хэрэв та ppp-г <code class="option">-auto</code> горимд
		ажиллуулахыг хүсэхгүй бол энэ мөрийг <code class="filename">ppp.linkup</code>
		файлд шилжүүлэх ёстой.</p></dd></dl></div><p>Та статик IP хаягтай бөгөөд ppp-г <code class="option">-auto</code>
		горимоор ажиллуулж байгаа бол <code class="filename">ppp.linkup</code> файлд
		оруулга нэмэх шаардлагагүй бөгөөд учир нь таныг холбогдохоос өмнө таны чиглүүлэлтийн
		хүснэгтийн оруулгууд нь аль хэдийн зөв байх учраас тэр юм. Гэхдээ та
		холболтын дараа програмуудыг ажиллуулах оруулга үүсгэхийг хүсэж болох
		юм. Энэ нь sendmail-ийн жишээн дээр сүүлд тайлбарлагдах болно.</p><p>Жишээ тохиргооны файлууд нь <code class="filename">/usr/share/examples/ppp/</code>
		санд байрлана.</p></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="userppp-dynamicIP"></a>28.2.1.2.2. PPP болон динамик IP хаягууд</h5></div></div></div><a id="idp87954256" class="indexterm"></a><a id="idp87955024" class="indexterm"></a><p>Хэрэв таны үйлчилгээ үзүүлэгч статик IP хаягуудыг олгодоггүй бол
		локал болон алсын хаягууд дээр тохирдог байхаар <code class="command">ppp</code> нь
		тохируулагдаж болно. IP хаягийг <span class="quote">«<span class="quote">таах</span>»</span>
		болон холболтын дараа IP Configuration Protocol (IPCP)
		буюу IP тохиргооны протокол ашиглан зөвөөр тохируулахыг
		<code class="command">ppp</code>-д зөвшөөрөх замаар үүнийг хийнэ.
		<code class="filename">ppp.conf</code> тохиргоо нь
		дараах өөрчлөлтийн хамтаар
		<a class="link" href="userppp.html#userppp-staticIP" title="28.2.1.2.1. PPP болон статик IP хаягууд">PPP болон статик IP
		    хаягууд</a> хэсэгтэй адил байна:</p><pre class="programlisting">17      set ifaddr 10.0.0.1/0 10.0.0.2/0 255.255.255.255 0.0.0.0</pre><p>Дахин хэлэхэд мөрийн дугаарыг битгий оруулаарай, энэ нь зөвхөн
		лавлагааны зорилгоор байгаа юм. Ядаж нэг хоосон зайгаар
		догол гаргах шаардлагатай.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Мөр 17:</span></dt><dd><p><code class="literal">/</code> тэмдэгтийн дараах дугаар нь
		ppp-ийн шаардах хаягийн битийн тоо юм. Та өөрийн нөхцөлдөө
		тохируулан IP дугааруудыг ашиглахыг хүсэж болох юм, гэхдээ
		дээрх жишээнүүд нь үргэлж ажиллах болно.</p><p>Сүүлийн нэмэлт өгөгдөл (<code class="literal">0.0.0.0</code>)
		нь PPP-д <code class="systemitem">10.0.0.1</code>-ийн оронд <code class="systemitem">0.0.0.0</code> хаяг ашиглан
		тохиролцоог эхлүүлэхийг хэлж байгаа бөгөөд зарим нэгэн ISP-уудын
		хувьд энэ нь шаардлагатай байдаг. Эхний чиглүүлэлтийг
		<code class="option">-auto</code> горимд тохируулахад PPP-д
		саад болдог учраас <code class="command">set ifaddr</code>
		тушаалд <code class="literal">0.0.0.0</code>-г эхний нэмэлт өгөгдөл
		болгон битгий ашиглаарай.</p></dd></dl></div><p>Хэрэв та <code class="option">-auto</code> горимд ажиллахгүй байгаа бол
		<code class="filename">/etc/ppp/ppp.linkup</code> файлд оруулга
		үүсгэх хэрэгтэй болно. <code class="filename">ppp.linkup</code> нь
		холболт тогтсоны дараа ашиглагддаг. Энэ үед <code class="command">ppp</code>
		нь интерфэйсийн хаягуудыг олгосон байх бөгөөд одоо чиглүүлэлтийн хүснэгтийн
		оруулгуудыг нэмэх боломжтой болсон байх болно:</p><pre class="programlisting">1     provider:
2      add default HISADDR</pre><div class="variablelist"><dl class="variablelist"><dt><span class="term">Мөр 1:</span></dt><dd><p>Холболт тогтоохдоо <code class="command">ppp</code> нь
		дараах дүрмүүдийн дагуу <code class="filename">ppp.linkup</code> файлд
		оруулгыг хайх болно: Эхлээд бидний <code class="filename">ppp.conf</code>
		файлд ашигласантай адил хаяг/шошготой таарахыг оролдоно.
		Хэрэв амжилтгүй болвол бидний гарцын IP хаягийн оруулгыг хайна.
		Энэ оруулга нь дөрвөн ширхэг найман битээс тогтох IP загварын
		хаяг/шошго юм. Хэрэв бид тэгсэн ч гэсэн оруулга олоогүй байгаа
		бол <code class="literal">MYADDR</code> оруулгыг хайна.</p></dd><dt><span class="term">Мөр 2:</span></dt><dd><p>Энэ мөр нь <code class="literal">HISADDR</code> уруу заасан
		анхдагч чиглүүлэлт нэмэхийг <code class="command">ppp</code>-д хэлж
		байна. <code class="literal">HISADDR</code> нь IPCP-ээр
		тохиролцсоны дагуу гарцын IP хаягаар солигдох болно.</p></dd></dl></div><p>Нарийвчилсан жишээний хувьд
		<code class="filename">/usr/share/examples/ppp/ppp.conf.sample</code>
	    	болон
		<code class="filename">/usr/share/examples/ppp/ppp.linkup.sample</code>
		файлууд дахь <code class="literal">pmdemand</code> оруулгыг харна уу.</p></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88023632"></a>28.2.1.2.3. Ирж байгаа дуудлагуудыг хүлээн авах</h5></div></div></div><a id="idp88024272" class="indexterm"></a><p>LAN-д холбогдсон машин дээр ирж байгаа дуудлагуудыг хүлээн авахаар
		болгож <span class="application">ppp</span>-г тохируулахдаа LAN уруу
		пакетуудыг дамжуулахыг хүсэж байгаа эсэхээсээ хамаарч үүнийг шийдэх
		ёстой. Хэрэв та ингэхийг хүсэж байгаа бол өөрийн LAN-ий дэд сүлжээнээс
		IP хаягийг нөгөө талдаа хуваарилж өгөх хэрэгтэй бөгөөд өөрийн
		<code class="filename">/etc/ppp/ppp.conf</code> файлд
		<code class="command">enable proxy</code> тушаалыг ашиглах хэрэгтэй.
		<code class="filename">/etc/rc.conf</code> файл доор дурдсаныг агуулж
		байгаа эсэхийг бас баталгаажуулах хэрэгтэй:</p><pre class="programlisting">gateway_enable="YES"</pre></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88027472"></a>28.2.1.2.4. Аль getty?</h5></div></div></div><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=getty&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">getty</span>(8)</span></a> ашиглан dial-up буюу гадагш залгах үйлчилгээнүүдийг
		идэвхжүүлэх тухай сайн тайлбарыг <a class="link" href="dialup.html" title="27.4. Dial-in буюу гаднаас залгах үйлчилгээ">Dial-up буюу гадагш
		залгах үйлчилгээнүүдэд зориулж FreeBSD-г тохируулах</a> хэсэг өгдөг.</p><p><code class="command">getty</code>-тэй төстэй програм нь
		dial-up шугамуудыг бодолцож хийсэн <code class="command">getty</code>-ийн
		илүү ухаалаг хувилбар болох <a class="link" href="http://mgetty.greenie.net/" target="_top">mgetty</a> (
              <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/comms/mgetty+sendfax/pkg-descr">comms/mgetty+sendfax</a>
               порт) юм.</p><p><code class="command">mgetty</code>-г ашиглахын давуу тал нь
		тэрээр модемуудтай идэвхтэйгээр <span class="emphasis"><em>ярилцдаг</em></span>
		явдал бөгөөд энэ нь юу гэсэн үг вэ гэхээр хэрэв таны порт хаагдсан
		бол модем чинь утсанд хариулахгүй гэсэн үг юм.</p><p><code class="command">mgetty</code>-ийн сүүлийн хувилбарууд нь
		(0.99beta-аас эхлэн) таны клиентүүдэд скриптгүйгээр таны серверт
		хандах хандалтыг зөвшөөрч PPP урсгалуудын автомат илрүүлэлтийг
		бас дэмждэг.</p><p><code class="command">mgetty</code>-ийн тухай дэлгэрэнгүй мэдээллийг
		<a class="link" href="userppp.html#userppp-mgetty" title="28.2.1.2.10. mgetty болон AutoPPP">Mgetty ба AutoPPP</a>
		хаягаас лавлана уу.</p></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88034768"></a>28.2.1.2.5. <span class="application">PPP</span> зөвшөөрлүүд</h5></div></div></div><p><code class="command">ppp</code> тушаалыг
		<code class="systemitem">root</code> хэрэглэгчээр хэвийн үед
		ажиллуулах ёстой. Гэхдээ хэрэв та <code class="command">ppp</code>-г
		доор тайлбарласны адилаар энгийн хэрэглэгчээр серверийн
		горимд ажиллуулах боломжтой болгохыг хүсэж байгаа бол
		хэрэглэгчийг <code class="command">ppp</code> ажиллуулах зөвшөөрөлтэй
		болгож тэдгээрийг <code class="filename">/etc/group</code> файлд
		<code class="systemitem">network</code> бүлэгт нэмэх ёстой.</p><p>Та <code class="command">allow</code> тушаалыг ашиглан тохиргооны файлын
		нэг буюу хэд хэдэн хэсгүүдэд хандах боломжийг бас өгөх шаардлагатай
		болно:</p><pre class="programlisting">allow users fred mary</pre><p>Хэрэв энэ тушаал нь <code class="literal">default</code> хэсэгт
		хэрэглэгдсэн бол заасан хэрэглэгчдэд бүх зүйл уруу хандах боломжийг
		олгоно.</p></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88044752"></a>28.2.1.2.6. Динамик IP-тай хэрэглэгчдэд зориулсан PPP бүрхүүлүүд</h5></div></div></div><a id="idp88045392" class="indexterm"></a><p>доор дурдсаныг агуулсан <code class="filename">/etc/ppp/ppp-shell</code>
		гэгдэх файлыг үүсгэнэ:</p><pre class="programlisting">#!/bin/sh
IDENT=`echo $0 | sed -e 's/^.*-\(.*\)$/\1/'`
CALLEDAS="$IDENT"
TTY=`tty`

if [ x$IDENT = xdialup ]; then
        IDENT=`basename $TTY`
fi

echo "PPP for $CALLEDAS on $TTY"
echo "Starting PPP for $IDENT"

exec /usr/sbin/ppp -direct $IDENT</pre><p>Энэ скрипт нь ажиллахаар болсон байх ёстой. Одоо энэ скрипт уруу
		<code class="filename">ppp-dialup</code> гэгдсэн симболын холбоосыг
		дараах тушаалуудыг ашиглан үүсгэх хэрэгтэй:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ln -s ppp-shell /etc/ppp/ppp-dialup</code></strong></pre><p>Та энэ скриптийг өөрийн бүх dialup хэрэглэгчдийн хувьд
		<span class="emphasis"><em>бүрхүүл</em></span> маягаар ашиглах ёстой.
		Энэ нь <code class="systemitem">pchilds</code> гэсэн хэрэглэгчийн
		нэртэй dialup PPP хэрэглэгчид зориулсан <code class="filename">/etc/passwd</code>
		файлд байгаа жишээ юм (нууц үгийн файлыг шууд битгий засаарай, <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=vipw&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">vipw</span>(8)</span></a>-г
		ашиглаарай).</p><pre class="programlisting">pchilds:*:1011:300:Peter Childs PPP:/home/ppp:/etc/ppp/ppp-dialup</pre><p>Дараах 0 байт файлуудыг агуулсан бүгд бичих боломжтой
		<code class="filename">/home/ppp</code> санг үүсгэнэ:</p><pre class="screen">-r--r--r--   1 root     wheel           0 May 27 02:23 .hushlogin
-r--r--r--   1 root     wheel           0 May 27 02:22 .rhosts</pre><p>Энэ нь <code class="filename">/etc/motd</code> файлыг үзүүлэхээс
		сэргийлдэг.</p></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88054096"></a>28.2.1.2.7. Статик IP-тай хэрэглэгчдэд зориулсан PPP бүрхүүлүүд</h5></div></div></div><a id="idp88054736" class="indexterm"></a><p>Дээр дурдсаны адил <code class="filename">ppp-shell</code> файл үүсгээд
		статикаар өгөгдсөн IP-тай бүртгэл бүрийн хувьд <code class="filename">ppp-shell</code>
		уруу симболын холбоос үүсгэнэ.</p><p>Жишээ нь хэрэв та <code class="systemitem">fred</code>, <code class="systemitem">sam</code>, болон
	      <code class="systemitem">mary</code> гэсэн гурван dialup хэрэглэгчтэй бөгөөд
		тэдгээрт зориулж /24 CIDR сүлжээнүүдийг чиглүүлж байгаа бол дараах
		тушаалыг ажиллуулж болох юм:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ln -s /etc/ppp/ppp-shell /etc/ppp/ppp-fred</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>ln -s /etc/ppp/ppp-shell /etc/ppp/ppp-sam</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>ln -s /etc/ppp/ppp-shell /etc/ppp/ppp-mary</code></strong></pre><p>Эдгээр хэрэглэгчдийн dialup бүртгэл бүр өөрсдийн бүрхүүлийг
		дээр үүсгэсэн симболын холбоос уруу заасан байх ёстой (жишээ нь
		<code class="systemitem">mary</code>-ийн бүрхүүл <code class="filename">/etc/ppp/ppp-mary</code>
		байх ёстой).</p></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88062416"></a>28.2.1.2.8. Динамик IP-тай хэрэглэгчдэд зориулж <code class="filename">ppp.conf</code>-г тохируулах</h5></div></div></div><p><code class="filename">/etc/ppp/ppp.conf</code> файл доор дурдсантай төстэй
		мөрүүдээс тогтох ёстой:</p><pre class="programlisting">default:
  set debug phase lcp chat
  set timeout 0

ttyu0:
  set ifaddr 203.14.100.1 203.14.100.20 255.255.255.255
  enable proxy

ttyu1:
  set ifaddr 203.14.100.1 203.14.100.21 255.255.255.255
  enable proxy</pre><div xmlns="" class="note"><h3 class="admontitle">Тэмдэглэл: </h3><p xmlns="http://www.w3.org/1999/xhtml">Догол үүсгэх нь чухал юм.</p></div><p><code class="literal">default:</code> хэсэг нь хэсэг бүрийн хувьд
		дуудагддаг. <code class="filename">/etc/ttys</code> файлд
		идэвхжүүлсэн dialup мөр бүрийн хувьд дээрх <code class="literal">ttyu0:</code>-д
		зориулсантай төстэй оруулга үүсгэнэ. Динамик хэрэглэгчдэд зориулсан
		IP хаягийн цөөрмөөс мөр болгон өөр өөр IP хаяг авах ёстой.</p></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88075088"></a>28.2.1.2.9. Статик IP-тай хэрэглэгчдэд зориулж <code class="filename">ppp.conf</code>-г тохируулах</h5></div></div></div><p>Дээрх жишээ <code class="filename">/usr/share/examples/ppp/ppp.conf</code>
		файлын агуулгатай цуг статикаар өгөгдсөн dialup хэрэглэгч
		бүрийн хувьд зохих хэсэг нэмэх шаардлагатай. Бид өөрсдийн
		<code class="systemitem">fred</code>, <code class="systemitem">sam</code>,
	      болон <code class="systemitem">mary</code> хэрэглэгчидтэй жишээгээ үргэлжлүүлэх
		болно.</p><pre class="programlisting">fred:
  set ifaddr 203.14.100.1 203.14.101.1 255.255.255.255

sam:
  set ifaddr 203.14.100.1 203.14.102.1 255.255.255.255

mary:
  set ifaddr 203.14.100.1 203.14.103.1 255.255.255.255</pre><p><code class="filename">/etc/ppp/ppp.linkup</code> файл хэрэв
		шаардлагатай бол статик IP-тай хэрэглэгч бүрийн хувьд чиглүүлэлтийн
		мэдээллийг бас агуулсан байх ёстой. Доорх мөр нь клиентийн ppp
		холбоосоор <code class="systemitem">203.14.101.0/24</code>
		сүлжээнд зориулж чиглүүлэлт нэмэх болно.</p><pre class="programlisting">fred:
  add 203.14.101.0 netmask 255.255.255.0 HISADDR

sam:
  add 203.14.102.0 netmask 255.255.255.0 HISADDR

mary:
  add 203.14.103.0 netmask 255.255.255.0 HISADDR</pre></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="userppp-mgetty"></a>28.2.1.2.10. <code class="command">mgetty</code> болон AutoPPP</h5></div></div></div><a id="idp88114384" class="indexterm"></a><a id="idp88115280" class="indexterm"></a><a id="idp88115792" class="indexterm"></a><p>Анхдагчаар <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/comms/mgetty+sendfax/pkg-descr">comms/mgetty+sendfax</a> порт
	      <code class="literal">AUTO_PPP</code>
	      тохируулга идэвхжүүлсэн байдлаар ирдэг нь
		<code class="command">mgetty</code>-д PPP холболтуудын LCP шатыг
		илрүүлж автоматаар ppp бүрхүүл ажиллуулах боломжийг олгодог.
		Гэхдээ анхдагч нэвтрэлт/нууц үгийн дараалал болдоггүй болохоор
		PAP аль эсвэл CHAP ашиглан хэрэглэгчдийн нэвтрэлтийг
		таних шаардлагатай юм.</p><p>Энэ хэсэг нь хэрэглэгч <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/comms/mgetty+sendfax/pkg-descr">comms/mgetty+sendfax</a> портыг
		амжилттайгаар эмхэтгэж өөрийн систем дээрээ суулгасан гэж үздэг.</p><p>Таны <code class="filename">/usr/local/etc/mgetty+sendfax/login.config</code>
		файл доор дурдсаныг агуулсан эсэхийг шалгаарай:</p><pre class="programlisting">/AutoPPP/ -     -		      /etc/ppp/ppp-pap-dialup</pre><p>Энэ нь илрүүлсэн PPP холболтууддаа
		<code class="filename">ppp-pap-dialup</code> скриптийг
		ажиллуулахыг <code class="command">mgetty</code>-д хэлнэ.</p><p>доор дурдсаныг агуулсан
		<code class="filename">/etc/ppp/ppp-pap-dialup</code> файлыг
		үүсгэнэ (файл ажиллах боломжтой байх ёстой):</p><pre class="programlisting">#!/bin/sh
exec /usr/sbin/ppp -direct pap$IDENT</pre><p><code class="filename">/etc/ttys</code>-д идэвхжүүлсэн
		dialup мөр бүрийн хувьд тохирох оруулгыг
		<code class="filename">/etc/ppp/ppp.conf</code> файлд
		үүсгэнэ. Энэ нь бидний үүсгэсэн тодорхойлолтуудтай аз жаргалтайгаар
		цуг байх болно.</p><pre class="programlisting">pap:
  enable pap
  set ifaddr 203.14.100.1 203.14.100.20-203.14.100.40
  enable proxy</pre><p>Энэ аргаар нэвтэрч байгаа хэрэглэгч бүр
		<code class="filename">/etc/ppp/ppp.secret</code> файлд
		хэрэглэгчийн нэр/нууц үгтэй байх шаардлагатай, эсвэл өөр нэг
		арга нь <code class="filename">/etc/passwd</code> файлаас хэрэглэгчдийг
		PAP-аар таньж нэвтрүүлэхийн тулд дараах тохируулгыг хийх явдал
		юм.</p><pre class="programlisting">enable passwdauth</pre><p>Хэрэв та зарим хэрэглэгчдэд статик IP хаяг өгөхийг хүсвэл
		та хаягийг <code class="filename">/etc/ppp/ppp.secret</code>
		файлд гурав дахь нэмэлт өгөгдөл болгон зааж өгч болно. Жишээнүүдийг
		<code class="filename">/usr/share/examples/ppp/ppp.secret.sample</code>-с
		үзнэ үү.</p></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88126544"></a>28.2.1.2.11. MS өргөтгөлүүд</h5></div></div></div><a id="idp88127184" class="indexterm"></a><a id="idp88127696" class="indexterm"></a><a id="idp88128208" class="indexterm"></a><p>DNS болон NetBIOS нэрийн серверийн хаягуудыг шаардлагын дагуу
		хангахаар PPP-г тохируулах боломжтой байдаг.</p><p>PPP хувилбар 1.x дээр эдгээр өргөтгөлүүдийг идэвхжүүлэхийн
		тулд дараах мөрүүдийг <code class="filename">/etc/ppp/ppp.conf</code>
		файлын тохирох хэсэгт нэмэх ёстой.</p><pre class="programlisting">enable msext
set ns 203.14.100.1 203.14.100.2
set nbns 203.14.100.5</pre><p>PPP хувилбар 2 болон түүнээс хойно гарсан хувилбарын хувьд:</p><pre class="programlisting">accept dns
set dns 203.14.100.1 203.14.100.2
set nbns 203.14.100.5</pre><p>Энэ нь анхдагч болон хоёрдох нэрийн серверийн
		хаягууд болон NetBIOS нэрийн серверийн хостыг клиентүүдэд хэлнэ.</p><p>Хувилбар 2 болон түүнээс дээшхид <code class="literal">set dns</code>
		мөрийг орхигдуулсан бол PPP нь <code class="filename">/etc/resolv.conf</code>
		файлд байгаа утгуудыг ашиглах болно.</p></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="userppp-PAPnCHAP"></a>28.2.1.2.12. PAP болон CHAP нэвтрэлт шалгалт</h5></div></div></div><a id="idp88138064" class="indexterm"></a><a id="idp88138576" class="indexterm"></a><p>Таны холболтын нэвтрэлт танилтын хэсгийг PAP юм уу эсвэл CHAP нэвтрэлт
		танилтын аргуудыг ашиглан хийдэг байхаар зарим ISP-ууд өөрсдийн
		системийг тохируулдаг. Хэрэв ийм бол таны ISP нь <code class="prompt">login:</code>
		хүлээх мөрийг таныг холбогдох үед харуулдаггүй бөгөөд PPP нэн даруй
		ярьж эхлэх болно.</p><p>PAP нь CHAP-аас аюулгүй байдлын хувьд дутуу байдаг бөгөөд
		нууц үг нь PAP-аар цэвэр текст маягаар илгээгддэг боловч цуваа шугамаар зөвхөн
		дамжуулагддаг болохоор аюулгүй байдал нь нууц үгүүдэд байдаг асуудал шиг биш
		байдаг. Эвдлэгчдэд зориулсан <span class="quote">«<span class="quote">сэм чагнах</span>»</span> зай
		бараг байдаггүй гэсэн үг юм.</p><p><a class="link" href="userppp.html#userppp-staticIP" title="28.2.1.2.1. PPP болон статик IP хаягууд">PPP
	    болон статик IP хаягууд</a> эсвэл <a class="link" href="userppp.html#userppp-dynamicIP" title="28.2.1.2.2. PPP болон динамик IP хаягууд">PPP болон динамик IP хаягууд</a> хэсгүүдийн
		хувьд дараах өөрчлөлтүүдийг хийх ёстой:</p><pre class="programlisting">13      set authname <em class="replaceable"><code>MyUserName</code></em>
14      set authkey <em class="replaceable"><code>MyPassword</code></em>
15      set login</pre><div class="variablelist"><dl class="variablelist"><dt><span class="term">Мөр 13:</span></dt><dd><p>Энэ мөр нь таны PAP/CHAP хэрэглэгчийн нэрийг заана.
		Та <em class="replaceable"><code>MyUserName</code></em>-д
		зөв утгыг оруулах хэрэгтэй болно.</p></dd><dt><span class="term">Мөр 14:</span></dt><dd><a id="idp88150480" class="indexterm"></a><p>Энэ мөр нь таны PAP/CHAP нууц үгийг заана. Та
		<em class="replaceable"><code>MyPassword</code></em>-д
		зөв утгыг оруулах хэрэгтэй болно. Та дараах шиг нэмэлт мөр
		нэмэхийг хүсэх юм уу:</p><pre class="programlisting">16      accept PAP</pre><p>эсвэл</p><pre class="programlisting">16      accept CHAP</pre><p>гэж болно. Ингэснээр үүнийг зориуд тодорхой болгох
		юм, гэхдээ PAP болон CHAP-ийг хоюуланг анхдагчаар хүлээн авдаг.</p></dd><dt><span class="term">Мөр 15:</span></dt><dd><p>Хэрэв та PAP эсвэл CHAP ашиглаж байгаа бол таны ISP
		хэвийн үед сервер уруу нэвтрэн орохыг шаарддаггүй. Тийм болохоор та өөрийн
		<span class="quote">«<span class="quote">set login</span>»</span> мөрийг хаах ёстой.</p></dd></dl></div></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88155856"></a>28.2.1.2.13. Өөрийн <code class="command">ppp</code> тохиргоог явцын дунд шууд өөрчлөх нь</h5></div></div></div><p><code class="command">ppp</code>-г ар талд далд ажиллаж байхад түүнтэй
		зөвхөн тохирох оношлогооны порт тохируулагдсан тохиолдолд харилцаж болдог.
		Үүнийг хийхийн тулд өөрийн тохиргоондоо дараах мөрийг нэмнэ:</p><pre class="programlisting">set server /var/run/ppp-tun<em class="replaceable"><code>%d</code></em> DiagnosticPassword 0177</pre><p>Энэ нь клиентүүдийн хандалтыг зөвшөөрөхийн өмнө тэднээс нууц үгийг
		асууж заасан <span class="trademark">UNIX</span>® домэйн сокет дээр сонсохыг PPP-д хэлнэ.
		Нэрэн дэх <code class="literal">%d</code> нь ашиглагдаж байгаа
		<code class="filename">tun</code> төхөөрөмжийн дугаараар
		солигдоно.</p><p>Сокет тохируулагдсаны дараа <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pppctl&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">pppctl</span>(8)</span></a> програм нь
		ажиллаж байгаа програмыг удирдахыг хүсэж байгаа скриптүүдэд
		ашиглагдаж болно.</p></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="userppp-nat"></a>28.2.1.3. PPP-ийн Network Address Translation буюу Сүлжээний Хаягийн Хөрвүүлэлт боломжийг ашиглах нь</h4></div></div></div><a id="idp88162128" class="indexterm"></a><p>PPP нь цөмийн divert буюу өөрчлөн дамжуулах боломжуудыг ашиглалгүйгээр
	дотоод NAT-ийг ашиглах чадвартай байдаг. <code class="filename">/etc/ppp/ppp.conf</code>
	файл дахь дараах мөрөөр энэ боломжийг идэвхжүүлж болно:</p><pre class="programlisting">nat enable yes</pre><p>Өөрөөр, PPP NAT-ийг тушаалын мөрийн <code class="literal">-nat</code>
	тохируулгаар идэвхжүүлж болох юм. Мөн <code class="filename">/etc/rc.conf</code>
	файлын хувьсагч <code class="literal">ppp_nat</code> гэж байх бөгөөд энэ нь
	анхдагчаар идэвхжүүлэгдсэн байна.</p><p>Хэрэв та энэ боломжийг ашиглаж байгаа бол ирж байгаа холболтуудын
	цааш дамжуулалтыг идэвхжүүлэх дараах <code class="filename">/etc/ppp/ppp.conf</code>
	файлын тохируулгуудын ашигтайг харж болох юм:</p><pre class="programlisting">nat port tcp 10.0.0.2:ftp ftp
nat port tcp 10.0.0.2:http http</pre><p>эсвэл гадна талд ерөөсөө битгий итгээрэй</p><pre class="programlisting">nat deny_incoming yes</pre></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="userppp-final"></a>28.2.1.4. Системийн сүүлийн тохиргоо</h4></div></div></div><a id="idp88168528" class="indexterm"></a><p>Та одоо <code class="command">ppp</code>-г тохируулчихлаа, гэхдээ
	яг ажиллахад бэлэн болохын өмнө хийх цөөн хэдэн зүйлс бий. Тэдгээр нь
	бүгд <code class="filename">/etc/rc.conf</code> файлыг засварлуулах
	болно.</p><p>Энэ файлтай дээрээс доош ажиллахдаа <code class="literal">hostname=</code>
	мөр тохируулагдсан эсэхийг шалгаарай, өөрөөр хэлбэл:</p><pre class="programlisting">hostname="foo.example.com"</pre><p>Хэрэв таны ISP танд статик IP хаяг болон нэр өгсөн бол та энэ нэрийг
	хостын нэрэндээ ашиглах нь магадгүй зүйтэй юм.</p><p><code class="literal">network_interfaces</code> хувьсагчийг хайгаарай.
	Хэрэв та өөрийн системийг ISP уруугаа шаардлага хүсэлтээр залгахаар тохируулахыг
	хүсвэл <code class="filename">tun0</code> төхөөрөмжийг жагсаалтад нэмсэн
	эсэхээ баталгаажуулаарай, хэрэв тэгж хүсээгүй бол түүнийг устгаарай.</p><pre class="programlisting">network_interfaces="lo0 tun0"
ifconfig_tun0=</pre><div xmlns="" class="note"><h3 class="admontitle">Тэмдэглэл: </h3><p xmlns="http://www.w3.org/1999/xhtml"><code class="literal">ifconfig_tun0</code> хувьсагч хоосон байх ёстой
		бөгөөд <code class="filename">/etc/start_if.tun0</code> гэж
		нэрлэгдсэн файлыг үүсгэх ёстой. Энэ файл нь дараах мөрийг
		агуулсан байх ёстой:</p><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting">ppp -auto mysystem</pre><p xmlns="http://www.w3.org/1999/xhtml">Энэ скрипт нь сүлжээ тохируулах үед таны ppp дэмонг автомат горимд
		эхлүүлэн ажилладаг. Хэрэв та энэ машин гарц болж байгаа LAN-тай бол
		<code class="option">-alias</code> сонголтыг ашиглахыг хүсэж болох юм.
		Илүү дэлгэрэнгүй мэдээллийг гарын авлагын хуудаснаас
		лавлана уу.</p></div><p>Таны <code class="filename">/etc/rc.conf</code> файлд чиглүүлэлтийн
	програм <code class="literal">NO</code> гэж дараах мөрөөр хийгдсэн эсэхийг
	шалгаарай:</p><pre class="programlisting">router_enable="NO"</pre><a id="idp88185808" class="indexterm"></a><p><code class="command">routed</code> дэмон нь эхлэхгүй байх нь чухал юм.
	Учир нь <code class="command">routed</code> нь <code class="command">ppp</code>-ийн
	үүсгэсэн анхдагч чиглүүлэлтийн хүснэгтийн оруулгуудыг устгадаг юм.</p><p><code class="literal">sendmail_flags</code> мөр <code class="option">-q</code>
	тохируулгыг агуулаагүй эсэхийг шалгах нь магадгүй зүйтэй юм. Тэгэхгүй бол
	<code class="command">sendmail</code> нь таны машиныг гадагш залгуулан үргэлж
	сүлжээний хайлт хийхийг оролдох болно. Та доор дурдсаныг тохируулж болох юм:</p><pre class="programlisting">sendmail_flags="-bd"</pre><a id="idp88190032" class="indexterm"></a><p>Үүний сул тал нь ppp холбоос тогтсон үед та доор дурдсаныг бичиж
	<code class="command">sendmail</code>-ээр захидлын дарааллыг дахин шалгуулж
	байх явдал юм:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>/usr/sbin/sendmail -q</code></strong></pre><p>Та үүнийг хийхийн тулд <code class="filename">ppp.linkup</code> файлд
	<code class="command">!bg</code> тушаалыг ашиглахыг хүсэж болох юм:</p><pre class="programlisting">1     provider:
2       delete ALL
3       add 0 0 HISADDR
4       !bg sendmail -bd -q30m</pre><a id="idp88194256" class="indexterm"></a><p>Хэрэв танд энэ таалагдахгүй байгаа бол SMTP урсгалыг хаахын тулд
	<span class="quote">«<span class="quote">dfilter</span>»</span>-г тохируулах боломжтой байдаг. Илүү дэлгэрэнгүй
	мэдээллийг жишээ файлуудаас лавлана уу.</p><p>Одоо машиныг дахин ачаалах л үлдлээ. Дахин ачаалсны дараа та
	доор дурдсаныг бичиж:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ppp</code></strong></pre><p>дараа нь PPP сессийг эхлүүлэхийн тулд <code class="command">dial provider</code>
	тушаалыг ажиллуулах юм уу эсвэл гадагшаа урсгал байгаа (бөгөөд та
	<code class="filename">start_if.tun0</code> скрипт үүсгээгүй) бол сессүүдийг
	автоматаар тогтоодгоор <code class="command">ppp</code>-г байлгахыг хүсэж байгаа бол
	доор дурдсаныг бичээрэй:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ppp -auto provider</code></strong></pre></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88207824"></a>28.2.1.5. Дүгнэлт</h4></div></div></div><p>Дүгнэхэд ppp-г эхний удаа тохируулахад дараах алхмууд шаардлагатай:</p><p>Клиент тал:</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Таны цөмд <code class="filename">tun</code> төхөөрөмж бүтээгдсэн
		эсэхийг шалгана.</p></li><li class="step"><p><code class="filename">/dev</code> санд
		<code class="filename">tunN</code>
		төхөөрөмжийн файл байгаа эсэхийг шалгана.</p></li><li class="step"><p><code class="filename">/etc/ppp/ppp.conf</code> файлд
		оруулга үүсгэнэ. <code class="filename">pmdemand</code> жишээ нь
		ихэнх ISP-уудын хувьд хангалттай байх ёстой.</p></li><li class="step"><p>Хэрэв та динамик IP хаягтай бол <code class="filename">/etc/ppp/ppp.linkup</code>
		файлд оруулга үүсгээрэй.</p></li><li class="step"><p>Өөрийн <code class="filename">/etc/rc.conf</code> файлыг
		шинэчилнэ.</p></li><li class="step"><p>Хэрэв танд хэрэгцээгээр залгах шаардлага байгаа бол
		<code class="filename">start_if.tun0</code> скрипт үүсгээрэй.</p></li></ol></div><p>Сервер тал:</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Таны цөмд <code class="filename">tun</code> төхөөрөмж бүтээгдсэн
		эсэхийг шалгана.</p></li><li class="step"><p><code class="filename">/dev</code> санд
		<code class="filename">tunN</code>
		төхөөрөмжийн файл байгаа эсэхийг шалгана.</p></li><li class="step"><p><code class="filename">/etc/passwd</code> файлд (<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=vipw&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">vipw</span>(8)</span></a> програмыг ашиглан)
		оруулга үүсгэнэ.</p></li><li class="step"><p>Энэ хэрэглэгчдийн гэрийн санд <code class="command">ppp -direct direct-server</code>
		юм уу эсвэл үүнтэй адилыг ажиллуулах хувийн тохиргоог (profile)
		үүсгэнэ.</p></li><li class="step"><p><code class="filename">/etc/ppp/ppp.conf</code> файлд оруулга үүсгэнэ.
		<code class="filename">direct-server</code> жишээ хангалттай байх
		ёстой.</p></li><li class="step"><p><code class="filename">/etc/ppp/ppp.linkup</code> файлд оруулга үүсгэнэ.</p></li><li class="step"><p>Өөрийн <code class="filename">/etc/rc.conf</code> файлыг шинэчилнэ.</p></li></ol></div></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ppp-and-slip.html">Өмнөх</a> </td><td width="20%" align="center"><a accesskey="u" href="ppp-and-slip.html">Дээш</a></td><td width="40%" align="right"> <a accesskey="n" href="ppp.html">Дараах</a></td></tr><tr><td width="40%" align="left" valign="top">Бүлэг 28. PPP болон SLIP </td><td width="20%" align="center"><a accesskey="h" href="index.html">Эхлэл</a></td><td width="40%" align="right" valign="top"> 28.3. Цөмийн PPP-г ашиглах</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Энэ болон бусад баримтуудыг
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>
    хаягаас татаж авч болно.</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>FreeBSD-ийн талаар
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;
    хаягтай холбоо барихаасаа өмнө
    <a href="http://www.FreeBSD.org/docs.html">баримтыг</a> уншина уу.<br></br>
    Энэ бичиг баримттай холбоотой асуулт байвал
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;
    хаягаар цахим захидал явуулна уу.<br></br>
    Энэ бичиг баримтын орчуулгатай холбоотой асуулт байвал
    &lt;<a href="mailto:admin@mnbsd.org">admin@mnbsd.org</a>&gt;
    хаягаар цахим захидал явуулна уу.</small></p></body></html>