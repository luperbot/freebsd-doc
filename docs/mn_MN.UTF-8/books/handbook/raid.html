<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>19.4. RAID</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD гарын авлага" /><link rel="up" href="disks.html" title="Бүлэг 19. Хадгалалт" /><link rel="prev" href="disks-adding.html" title="19.3. Диск нэмэх" /><link rel="next" href="usb-disks.html" title="19.5. USB хадгалалтын төхөөрөмжүүд" /><link rel="copyright" href="legalnotice.html" title="Хуулийн заалт" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">19.4. RAID</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="disks-adding.html">Өмнөх</a> </td><th width="60%" align="center">Бүлэг 19. Хадгалалт</th><td width="20%" align="right"> <a accesskey="n" href="usb-disks.html">Дараах</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="raid"></a>19.4. RAID</h2></div></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="raid-soft"></a>19.4.1. Програм хангамжийн RAID</h3></div></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="ccd"></a>19.4.1.1. Нийлүүлэгдсэн Дискний Драйвер (Concatenated Disk Driver буюу CCD) тохиргоо</h4></div><div><span class="authorgroup">Анхлан ажилласан <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Кристофер</span> <span class="surname">Шамвэй</span></span>. </span></div><div><span class="authorgroup">Хянан тохиолдуулсан <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Жим</span> <span class="surname">Браун</span></span>. </span></div></div></div><a id="idp81983824" class="indexterm"></a><a id="idp81984592" class="indexterm"></a><p>Бөөн хадгалалтын шийдлийг сонгохдоо бодолцох хамгийн чухал хүчин зүйлүүд нь
	хурд, найдвартай байдал болон өртөг юм. Энэ гурвыг гурвууланг нь тэнцүү байлгах нь
	ховор байдаг; ерөнхийдөө хурдан, найдвартай бөөн хадгалалтын төхөөрөмж нь үнэтэй
	бөгөөд үнийн хувьд хямдыг сонгох нь хурд эсвэл найдвартай байдлын аль нэгийг золиослох
	хэрэгтэй болдог.</p><p>Доор тайлбарласан системийг дизайн хийхдээ өртгийг хамгийн чухал хүчин зүйл гэж
		сонгож авсан бөгөөд үүний дараа хурд, хурдын дараа найдвартай байдлыг
		сонгосон. Энэ системийн өгөгдөл дамжуулах хурд нь эцсийн эцэст сүлжээгээр
		шахагддаг. Найдвартай байдал нь маш чухал боловч доор тайлбарласан CCD
		хөтөч нь CD-R-ууд дээр аль хэдийн бүтнээрээ нөөцлөгдсөн, амархнаар
		солигдож болох өгөгдөлд шууд үйлчилдэг.</p><p>Өөрийн шаардлагыг тодорхойлох нь бөөн хадгалалтын шийдлийг сонгох анхны
		алхам юм. Хэрэв таны шаардлага нь хурд эсвэл найдвартай байдлыг өртгөөс
		илүүтэй үзэж байгаа бол таны шийдэл энэ хэсэгт тайлбарласан шийдлээс
		өөр болох болно.</p><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="ccd-installhw"></a>19.4.1.1.1. Тоног төхөөрөмжийг суулгах нь</h5></div></div></div><p>IDE системийн дискнээс гадна гурван Western
            Digital 30GB, 5400 RPM IDE диск нь доор тайлбарласан
		CCD дискний гол цөм болж нийтдээ ойролцоогоор 90GB
		шууд хадгалалт болно. Туйлын хүслээр бол IDE диск бүр өөрийн IDE
		хянагч болон кабельтай байна, гэхдээ өртгийг багасгахын
		тулд нэмэлт IDE хянагчууд ашиглагдаагүй болно. Харин дискнүүд нь
		jumper буюу холбогчоор тохируулагдсан бөгөөд ингэснээр IDE хянагч
		бүр нэг мастер болон нэг боолтой байна.</p><p>Дахин ачаалах үед системийн BIOS залгагдсан дискнүүдийг автоматаар олохоор
		тохируулагдсан байдаг. Илүү чухал зүйл нь FreeBSD тэдгээрийг дахин ачаалахад
		олсон явдал юм:</p><pre class="programlisting">ad0: 19574MB &lt;WDC WD205BA&gt; [39770/16/63] at ata0-master UDMA33
ad1: 29333MB &lt;WDC WD307AA&gt; [59598/16/63] at ata0-slave UDMA33
ad2: 29333MB &lt;WDC WD307AA&gt; [59598/16/63] at ata1-master UDMA33
ad3: 29333MB &lt;WDC WD307AA&gt; [59598/16/63] at ata1-slave UDMA33</pre><div xmlns="" class="note"><h3 class="admontitle">Тэмдэглэл: </h3><p xmlns="http://www.w3.org/1999/xhtml">Хэрэв FreeBSD дискнүүдийг бүгдийг нь олохгүй байгаа бол
		та тэдгээрийг зөвөөр холбосон эсэхээ шалгаарай. IDE хөтчүүдийн
		ихэнх нь бас <span class="quote">«<span class="quote">Cable Select</span>»</span> холбогчтой байдаг.
		Энэ нь мастер/боол харилцаанд зориулагдсан холбогч
		<span class="emphasis"><em>биш</em></span> юм. Хөтчийн баримтаас зөв
		холбогчийг таних талаар лавлаарай.</p></div><p>Дараа нь тэдгээрийг файлын системийн хэсэг болгон залгах талаар
		бодох хэрэгтэй. Та <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=vinum&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">vinum</span>(4)</span></a> (<a class="xref" href="vinum-vinum.html" title="Бүлэг 22. Vinum Эзлэхүүн Менежер">Бүлэг 22, <em>Vinum Эзлэхүүн Менежер</em></a>) болон <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ccd&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">ccd</span>(4)</span></a> хоёуланг
		судлах хэрэгтэй. Энэ тохиргооны хувьд <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ccd&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">ccd</span>(4)</span></a>-г сонгосон.</p></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="ccd-setup"></a>19.4.1.1.2. CCD-г тохируулах нь</h5></div></div></div><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ccd&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">ccd</span>(4)</span></a> хөтөч нь хэд хэдэн адил дискнүүдийг авч тэдгээрийг
		нэг логик файл систем болгон нийлүүлэх боломжийг олгодог.
		<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ccd&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">ccd</span>(4)</span></a>-г ашиглахын тулд танд <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ccd&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">ccd</span>(4)</span></a> дэмжлэг
		цуг бүтээгдсэн цөм хэрэгтэй. Энэ мөрийг цөмийн тохиргооны файлдаа
		нэмээд цөмөө дахин бүтээж суулгаарай:</p><pre class="programlisting">device   ccd</pre><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ccd&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">ccd</span>(4)</span></a> дэмжлэг цөмийн дуудагдах модуль хэлбэрээр
		бас дуудагдаж болно.</p><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ccd&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">ccd</span>(4)</span></a>-г тохируулахын тулд та эхлээд дискнүүдийг
		хаяглах <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=bsdlabel&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">bsdlabel</span>(8)</span></a>-г ашиглах ёстой:</p><pre class="programlisting">bsdlabel -w ad1 auto
bsdlabel -w ad2 auto
bsdlabel -w ad3 auto</pre><p>Энэ нь бүх дискний дагуух <code class="filename">ad1c</code>, <code class="filename">ad2c</code> болон <code class="filename">ad3c</code>-д зориулж  bsdlabel үүсгэдэг.</p><p>Дараагийн алхам нь дискний шошгоны төрлийг өөрчлөх явдал юм.
		Та дискнүүдийг засварлахдаа <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=bsdlabel&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">bsdlabel</span>(8)</span></a>-г ашиглаж
		болно:</p><pre class="programlisting">bsdlabel -e ad1
bsdlabel -e ad2
bsdlabel -e ad3</pre><p>Энэ нь диск бүр дэх тухайн дискний шошгыг <code class="envar">EDITOR</code>
		орчны хувьсагчид заасан засварлагчаар, ихэнхдээ <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=vi&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">vi</span>(1)</span></a>-ээр
		онгойлгодог.</p><p>Өөрчлөлт хийгдээгүй дискний шошго иймэрхүү харагдах болно:</p><pre class="programlisting">8 partitions:
#        size   offset    fstype   [fsize bsize bps/cpg]
  c: 60074784        0    unused        0     0     0   # (Cyl.    0 - 59597)</pre><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ccd&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">ccd</span>(4)</span></a>-д зориулж ашиглахаар шинэ <code class="literal">e</code>
		хуваалтыг нэмнэ. Үүнийг ихэвчлэн <code class="literal">c</code> хуваалтаас хуулж
		болох боловч <code class="option">fstype</code> нь <strong class="userinput"><code>4.2BSD</code></strong>
		байх <span class="emphasis"><em>ёстой</em></span>. Дискний шошго одоо иймэрхүү харагдах
		ёстой:</p><pre class="programlisting">8 partitions:
#        size   offset    fstype   [fsize bsize bps/cpg]
  c: 60074784        0    unused        0     0     0   # (Cyl.    0 - 59597)
  e: 60074784        0    4.2BSD        0     0     0   # (Cyl.    0 - 59597)</pre></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="ccd-buildingfs"></a>19.4.1.1.3. Файлын системийг бүтээх нь</h5></div></div></div><p>Та бүх дискнүүдээ хаягласны дараа <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ccd&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">ccd</span>(4)</span></a>-г бүтээх
		ёстой. Үүнийг хийхийн тулд дараах тохируулгуудтай адилаар
		<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ccdconfig&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ccdconfig</span>(8)</span></a>-г ашиглана:</p><pre class="programlisting">ccdconfig ccd0<a id="co-ccd-dev"></a><span><img src="./imagelib/callouts/1.png" alt="1" border="0" /></span> 32<a id="co-ccd-interleave"></a><span><img src="./imagelib/callouts/2.png" alt="2" border="0" /></span> 0<a id="co-ccd-flags"></a><span><img src="./imagelib/callouts/3.png" alt="3" border="0" /></span> /dev/ad1e<a id="co-ccd-devs"></a><span><img src="./imagelib/callouts/4.png" alt="4" border="0" /></span> /dev/ad2e /dev/ad3e</pre><p>Тохируулга бүрийн хэрэглээ болон утгыг доор харуулав:</p><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#co-ccd-dev"><span><img src="./imagelib/callouts/1.png" alt="1" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Эхний нэмэлт өгөгдөл нь тохируулах төхөөрөмж байх бөгөөд энэ
		тохиолдолд <code class="filename">/dev/ccd0c</code> байна.
		<code class="filename">/dev/</code> хэсэг байхгүй ч байж болно.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-ccd-interleave"><span><img src="./imagelib/callouts/2.png" alt="2" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Файлын системд зориулсан interleave.  interleave нь
		дискний блокууд дээрх судлын хэмжээг тодорхойлдог бөгөөд нэг бүр нь
		ихэвчлэн 512 байт байдаг. Тэгэхээр 32 interleave нь 16,384 байт
		байна.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-ccd-flags"><span><img src="./imagelib/callouts/3.png" alt="3" border="0" /></span></a> </p></td><td valign="top" align="left"><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ccdconfig&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ccdconfig</span>(8)</span></a>-д зориулсан тугнууд. Хэрэв та хөтчийг
		толин тусгал үүсгэж идэвхжүүлэхийг хүсвэл тугийг энд зааж өгч
		болно. Энэ тохиргоо нь <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ccd&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">ccd</span>(4)</span></a>-н хувьд толин тусгал
		үүсгэлтийг хангадаггүй учир энэ нь 0 (тэг) гэж тохируулагдсан.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-ccd-devs"><span><img src="./imagelib/callouts/4.png" alt="4" border="0" /></span></a> </p></td><td valign="top" align="left"><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ccdconfig&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ccdconfig</span>(8)</span></a> уруу өгөгдөх сүүлийн нэмэлт өгөгдлүүд нь
		массивт оруулах төхөөрөмжүүд юм. Төхөөрөмж бүрийн хувьд бүрэн
		гүйцэд замын нэрийг ашиглах хэрэгтэй.</p></td></tr></table></div><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ccdconfig&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ccdconfig</span>(8)</span></a>-г ажиллуулсны дараа <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ccd&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">ccd</span>(4)</span></a> тохируулагдана.
		Файлын систем суулгагдаж болно. Тохируулгуудын талаар <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=newfs&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">newfs</span>(8)</span></a>-с
		лавлана уу, эсвэл ердөө л ингэж ажиллуулна: </p><pre class="programlisting">newfs /dev/ccd0c</pre></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="ccd-auto"></a>19.4.1.1.4. Бүгдийг автомат болгох нь</h5></div></div></div><p>Ерөнхийдөө та <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ccd&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">ccd</span>(4)</span></a>-г дахин ачаалах бүртээ холбохыг хүснэ.
		Үүнийг хийхийн тулд та эхлээд тохируулах хэрэгтэй. Өөрийн одоогийн
		тохиргоогоо дараах тушаал ашиглаж <code class="filename">/etc/ccd.conf</code>
		уруу бичих хэрэгтэй:</p><pre class="programlisting">ccdconfig -g &gt; /etc/ccd.conf</pre><p>Дахин ачаалах үед скрипт <code class="command">/etc/rc</code> нь
		хэрэв <code class="filename">/etc/ccd.conf</code> байвал
		<code class="command">ccdconfig -C</code> тушаалыг ажиллуулна.
		Энэ нь <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ccd&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">ccd</span>(4)</span></a>-г холбож болохоор болгож
		автоматаар тохируулна.</p><div xmlns="" class="note"><h3 class="admontitle">Тэмдэглэл: </h3><p xmlns="http://www.w3.org/1999/xhtml">Хэрэв та ганц хэрэглэгчийн горим уруу ачаалж байгаа бол
		<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ccd&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">ccd</span>(4)</span></a>-г <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mount&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mount</span>(8)</span></a> хийхээсээ өмнө массивыг
		тохируулахын тулд дараах тушаалыг ажиллуулах
		шаардлагатай:</p><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting">ccdconfig -C</pre></div><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ccd&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">ccd</span>(4)</span></a>-г автоматаар холбохын тулд <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ccd&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">ccd</span>(4)</span></a>-н оруулгыг
		<code class="filename">/etc/fstab</code> файлд байрлуулах хэрэгтэй. Ингэсэн
		тохиолдолд энэ нь ачаалах үед холбогдох болно:</p><pre class="programlisting">/dev/ccd0c              /media       ufs     rw      2       2</pre></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="vinum"></a>19.4.1.2. Vinum Эзлэхүүн Менежер</h4></div></div></div><a id="idp82056272" class="indexterm"></a><a id="idp82057040" class="indexterm"></a><p>Vinum Эзлэхүүн Менежер нь виртуал диск хөтчийг хийдэг блок төхөөрөмжийн драйвер
		юм. Энэ нь дискний тоног төхөөрөмжийг блок төхөөрөмжийн интерфэйсээс
		тусгаарлаж уян хатан байдал, ажиллагаа болон найдвартай байдлыг дискний
		хадгалалтын уламжлалт зүсмэлийн харагдалтаас илүүтэйгээр хангах тийм аргаар
		өгөгдлийг дүрсэлдэг. <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=vinum&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">vinum</span>(4)</span></a> нь RAID-0, RAID-1 болон RAID-5
		загваруудыг тус бүрт нь болон холбоотой байдлаар нь шийддэг.</p><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=vinum&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">vinum</span>(4)</span></a>-ийн талаар дэлгэрэнгүй мэдээллийг
		<a class="xref" href="vinum-vinum.html" title="Бүлэг 22. Vinum Эзлэхүүн Менежер">Бүлэг 22, <em>Vinum Эзлэхүүн Менежер</em></a>-с үзнэ үү.</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="raid-hard"></a>19.4.2. Тоног төхөөрөмжийн RAID</h3></div></div></div><a id="idp82066000" class="indexterm"></a><p>FreeBSD нь бас төрөл бүрийн тоног төхөөрөмжийн <acronym class="acronym">RAID</acronym>
	хянагчуудыг дэмждэг. Эдгээр төхөөрөмжүүд нь FreeBSD-д зориулсан тусгай програм
	хангамжаар массивыг удирдах шаардлагагүйгээр <acronym class="acronym">RAID</acronym> дэд
	системийг хянадаг.</p><p>Карт дээрх <acronym class="acronym">BIOS</acronym>-г ашиглан карт нь дискний үйлдлүүдийн
	ихэнхийг өөрөө хянадаг. Дараах нь Promise <acronym class="acronym">IDE</acronym> <acronym class="acronym">RAID</acronym>
	хянагчийг ашиглах тохиргооны товч тайлбар юм. Энэ карт суулгагдаж систем эхлэх үед
	мэдээллийг хүсэх мөрийг харуулна. Картны тохиргооны дэлгэц уруу орохын тулд
	заавруудыг дагана. Эндээс залгагдсан бүх хөтчүүдийг нэгтгэх боломж танд байх
	болно. Ингэж хийснийхээ дараа диск(нүүд) нь FreeBSD-д нэг хөтөч шиг харагдах
	болно. Бусад <acronym class="acronym">RAID</acronym> түвшингүүдийг бас
	тохируулж болно.
      </p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp82070352"></a>19.4.3. ATA RAID1 массивуудыг дахин бүтээх нь</h3></div></div></div><p>FreeBSD нь массив дахь гэмтсэн, ажиллагаагүй болсон дискийг шууд солих боломжийг
	олгодог. Энэ нь дахин ачаалахаасаа өмнө таныг ийм асуудлыг мэдэхийг шаарддаг.</p><p>Та магадгүй доор дурдсантай адилыг <code class="filename">/var/log/messages</code> эсвэл
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dmesg&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">dmesg</span>(8)</span></a> гаралт дээр харж болох юм:</p><pre class="programlisting">ad6 on monster1 suffered a hard error.
ad6: READ command timeout tag=0 serv=0 - resetting
ad6: trying fallback to PIO mode
ata3: resetting devices .. done
ad6: hard error reading fsbn 1116119 of 0-7 (ad6 bn 1116119; cn 1107 tn 4 sn 11)\\
status=59 error=40
ar0: WARNING - mirror lost</pre><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=atacontrol&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">atacontrol</span>(8)</span></a> ашиглан дэлгэрэнгүй мэдээллийг шалгана:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>atacontrol list</code></strong>
ATA channel 0:
	Master:      no device present
	Slave:   acd0 &lt;HL-DT-ST CD-ROM GCR-8520B/1.00&gt; ATA/ATAPI rev 0

ATA channel 1:
	Master:      no device present
	Slave:       no device present

ATA channel 2:
	Master:  ad4 &lt;MAXTOR 6L080J4/A93.0500&gt; ATA/ATAPI rev 5
	Slave:       no device present

ATA channel 3:
	Master:  ad6 &lt;MAXTOR 6L080J4/A93.0500&gt; ATA/ATAPI rev 5
	Slave:       no device present

<code class="prompt">#</code> <strong class="userinput"><code>atacontrol status ar0</code></strong>
ar0: ATA RAID1 subdisks: ad4 ad6 status: DEGRADED</pre><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Та дискийг аюулгүйгээр салган авахын тулд эхлээд ata сувгийг
		ажиллахгүй байгаа дисктэй цуг салгана:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>atacontrol detach ata3</code></strong></pre></li><li class="step"><p>Дискийг сольно.</p></li><li class="step"><p>ata сувгийг дахин залгана:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>atacontrol attach ata3</code></strong>
Master:  ad6 &lt;MAXTOR 6L080J4/A93.0500&gt; ATA/ATAPI rev 5
Slave:   no device present</pre></li><li class="step"><p>Шинэ дискийг массивт нөөц маягаар нэмнэ:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>atacontrol addspare ar0 ad6</code></strong></pre></li><li class="step"><p>Массивыг дахин бүтээнэ:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>atacontrol rebuild ar0</code></strong></pre></li><li class="step"><p>Дараах тушаалыг ашиглаж үйл явцыг шалгаж болно:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>dmesg | tail -10</code></strong>
[output removed]
ad6: removed from configuration
ad6: deleted from ar0 disk1
ad6: inserted into ar0 disk1 as spare

<code class="prompt">#</code> <strong class="userinput"><code>atacontrol status ar0</code></strong>
ar0: ATA RAID1 subdisks: ad4 ad6 status: REBUILDING 0% completed</pre></li><li class="step"><p>Энэ үйлдэл хийгдэж дуустал хүлээх хэрэгтэй.</p></li></ol></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="disks-adding.html">Өмнөх</a> </td><td width="20%" align="center"><a accesskey="u" href="disks.html">Дээш</a></td><td width="40%" align="right"> <a accesskey="n" href="usb-disks.html">Дараах</a></td></tr><tr><td width="40%" align="left" valign="top">19.3. Диск нэмэх </td><td width="20%" align="center"><a accesskey="h" href="index.html">Эхлэл</a></td><td width="40%" align="right" valign="top"> 19.5. USB хадгалалтын төхөөрөмжүүд</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Энэ болон бусад баримтуудыг
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>
    хаягаас татаж авч болно.</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>FreeBSD-ийн талаар
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;
    хаягтай холбоо барихаасаа өмнө
    <a href="http://www.FreeBSD.org/docs.html">баримтыг</a> уншина уу.<br></br>
    Энэ бичиг баримттай холбоотой асуулт байвал
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;
    хаягаар цахим захидал явуулна уу.<br></br>
    Энэ бичиг баримтын орчуулгатай холбоотой асуулт байвал
    &lt;<a href="mailto:admin@mnbsd.org">admin@mnbsd.org</a>&gt;
    хаягаар цахим захидал явуулна уу.</small></p></body></html>