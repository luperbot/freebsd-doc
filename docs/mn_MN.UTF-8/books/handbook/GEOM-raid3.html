<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>20.5. RAID3 - Parity бүхий байтын түвшний тусдаа судалжуулалт (Striping)</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD гарын авлага" /><link rel="up" href="GEOM.html" title="Бүлэг 20. GEOM: Модульчлагдсан Диск Хувиргах Тогтолцоо" /><link rel="prev" href="GEOM-mirror.html" title="20.4. RAID1 - Толин тусгал үүсгэх" /><link rel="next" href="geom-ggate.html" title="20.6. GEOM Хаалга Сүлжээний Төхөөрөмжүүд" /><link rel="copyright" href="legalnotice.html" title="Хуулийн заалт" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">20.5. <acronym class="acronym">RAID</acronym>3 - Parity бүхий байтын түвшний
      тусдаа судалжуулалт (Striping)</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="GEOM-mirror.html">Өмнөх</a> </td><th width="60%" align="center">Бүлэг 20. GEOM: Модульчлагдсан Диск Хувиргах Тогтолцоо</th><td width="20%" align="right"> <a accesskey="n" href="geom-ggate.html">Дараах</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="GEOM-raid3"></a>20.5. <acronym class="acronym">RAID</acronym>3 - Parity бүхий байтын түвшний
      тусдаа судалжуулалт (Striping)</h2></div><div><span class="authorgroup">Бичсэн <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Марк</span> <span class="surname">Глэдмэн</span></span> ба <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Дахиел</span> <span class="surname">Гэрзо</span></span>. </span></div><div><span class="authorgroup">Анхлан бичсэн <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Том</span> <span class="surname">Рөүдс</span></span> ба <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Мюррэй</span> <span class="surname">Стөүкли</span></span>. </span></div></div></div><a id="idp83866448" class="indexterm"></a><a id="idp83867216" class="indexterm"></a><p><acronym class="acronym">RAID</acronym>3 нь хэд хэдэн дискийн хөтчийг нэг
      эзлэхүүн рүү тусгайлан зориулагдсан parity бүхий дискийн хамтаар
      нэгтгэхэд хэрэглэгддэг арга юм. <acronym class="acronym">RAID</acronym>3 систем
      дээр өгөгдөл нь хуваагдан тодорхой тооны байтаар массив дахь бүх
      хөтчүүд рүү бичигддэг бөгөөд ингэхдээ тусгайлан зориулагдсан нэг
      parity диск рүү бичигддэггүй. Энэ нь <acronym class="acronym">RAID</acronym>3-аас
      1024KB уншихад массив дахь бүх диск рүү хандана гэсэн үг юм.
      Үйл ажиллагааг сайжруулахын тулд олон диск контроллер ашиглаж
      болно. <acronym class="acronym">RAID</acronym>3 массив нь массив дахь бүх хөтчийн
      хэмжээний 1 - 1/n бүхий хэмжээгээр хангаж 1 хөтчийн найдвартай
      ажиллагааг хангадаг. n нь массив дахь хатуу хөтчүүдийн тоо юм.
      Ийм тохиргоо нь том хэмжээтэй өгөгдөл буюу мультимедиа файлууд
      хадгалахад зохимжтой байдаг.</p><p><acronym class="acronym">RAID</acronym>3 массивыг бүтээхэд
      хамгийн багадаа 3 хатуу хөтчийг шаарддаг. Диск бүр ижил хэмжээтэй
      байх ёстой бөгөөд учир нь I/O хүсэлт бүр олон диск рүү
      зэрэг хандалт хийн унших бичих хэрэгтэй байдаг. Бас
      <acronym class="acronym">RAID</acronym>3-н онцлогоос хамаараад хөтчийн тоо
      3, 5, 9, 17, гэх мэтээр (2^n + 1) байх ёстой байдаг.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp83870800"></a>20.5.1. Тусдаа <acronym class="acronym">RAID</acronym>3 массив үүсгэх</h3></div></div></div><p>FreeBSD дээр <acronym class="acronym">RAID</acronym>3-н дэмжлэг
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=graid3&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">graid3</span>(8)</span></a> <acronym class="acronym">GEOM</acronym> классаар шийдэгдсэн
	байдаг. Тусдаа <acronym class="acronym">RAID</acronym>3 массивыг FreeBSD дээр
	үүсгэхийн тулд дараах алхмууд шаардлагатай.</p><div xmlns="" class="note"><h3 class="admontitle">Тэмдэглэл: </h3><p xmlns="http://www.w3.org/1999/xhtml">FreeBSD дээр <acronym class="acronym">RAID</acronym>3 массиваас онолын
	  хувьд ачаалах боломжтой хэдий ч тохиргооны хувьд ховор
	  бас тэгж хийхийг зөвлөдөггүй.</p></div><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Эхдээд дараах тушаалыг ашилаад <code class="filename">geom_raid3.ko</code>
	    цөмийн модулийг ачаална:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>graid3 load</code></strong></pre><p>Мөн өөрөөр гараар <code class="filename">geom_raid3.ko</code>
	    модулийг ачаалж болно:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>kldload geom_raid3.ko</code></strong></pre></li><li class="step"><p>Тохирох холбох цэг үүсгэх юм уу эсвэл байгаа эсэхийг
	    шалгана:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mkdir /multimedia/</code></strong></pre></li><li class="step"><p>Массив руу нэмэгдэх дискүүдийн хувьд
	    хөтчийн нэрийг тогтоогоод <acronym class="acronym">RAID</acronym>3
	    төхөөрөмж үүсгэнэ. Сүүлд жагсаагдсан төхөөрөмж
	    тусгайлан зориулагдсан parity диск байх болно.
	    Энэ жишээн дээр гурван хуваагдаагүй
	    <acronym class="acronym">ATA</acronym> хөтчийг ашиглаж байна:
	    <code class="filename">ada1</code>
	    ба <code class="filename">ada2</code>-г
	    өгөгдөлд,
	    <code class="filename">ada3</code>-г
	    parity-г зориулж байна.</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>graid3 label -v gr0 /dev/ada1 /dev/ada2 /dev/ada3</code></strong>
Metadata value stored on /dev/ada1.
Metadata value stored on /dev/ada2.
Metadata value stored on /dev/ada3.
Done.</pre></li><li class="step"><p>Шинэ үүсгэсэн <code class="filename">gr0</code>
	    төхөөрөмжийг хуваагаад түүн дээр UFS файлын
	    систем үүсгэнэ:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>gpart create -s GPT /dev/raid3/gr0</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>gpart add -t freebsd-ufs /dev/raid3/gr0</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>newfs -j /dev/raid3/gr0p1</code></strong></pre><p>Дэлгэц дээгүүр олон тоо урсах бөгөөд
	    хэсэг хугацааны дараа процесс дуусах болно. Эзлэхүүн
	    үүсч холбох боломжтой болно.</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mount /dev/raid3/gr0p1 /multimedia/</code></strong></pre><p><acronym class="acronym">RAID</acronym>3 массивыг одоо ашиглаж
	    болно.</p></li></ol></div><p>Дээрх тохиргоог систем дахин ачаалахад алдагдуулахгүйн
	тулд нэмэлт тохиргоо хэрэгтэй.</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Массивыг холбохоос өмнө <code class="filename">geom_raid3.ko</code>
	    модулийг ачаалах ёстой. Систем эхлэхэд цөмийн модулийг
	    автоматаар ачаалахын тулд дараах мөрийг
	    <code class="filename">/boot/loader.conf</code> файлд нэмж өгнө:</p><pre class="programlisting">geom_raid3_load="YES"</pre></li><li class="step"><p>Систем ачаалах процессын явцад массивын
	    файлын системийг автоматаар холбохын тулд
	    дараах эзлэхүүний мэдээллийг
	    <code class="filename">/etc/fstab</code> файлд нэмэх
	    хэрэгтэй:</p><pre class="programlisting">/dev/raid3/gr0p1	/multimedia	ufs	rw	2	2</pre></li></ol></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="GEOM-mirror.html">Өмнөх</a> </td><td width="20%" align="center"><a accesskey="u" href="GEOM.html">Дээш</a></td><td width="40%" align="right"> <a accesskey="n" href="geom-ggate.html">Дараах</a></td></tr><tr><td width="40%" align="left" valign="top">20.4. RAID1 - Толин тусгал үүсгэх </td><td width="20%" align="center"><a accesskey="h" href="index.html">Эхлэл</a></td><td width="40%" align="right" valign="top"> 20.6. GEOM Хаалга Сүлжээний Төхөөрөмжүүд</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Энэ болон бусад баримтуудыг
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>
    хаягаас татаж авч болно.</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>FreeBSD-ийн талаар
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;
    хаягтай холбоо барихаасаа өмнө
    <a href="http://www.FreeBSD.org/docs.html">баримтыг</a> уншина уу.<br></br>
    Энэ бичиг баримттай холбоотой асуулт байвал
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;
    хаягаар цахим захидал явуулна уу.<br></br>
    Энэ бичиг баримтын орчуулгатай холбоотой асуулт байвал
    &lt;<a href="mailto:admin@mnbsd.org">admin@mnbsd.org</a>&gt;
    хаягаар цахим захидал явуулна уу.</small></p></body></html>