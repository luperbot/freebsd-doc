<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>12.6. cron хэрэгслийг тохируулах нь</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD гарын авлага" /><link rel="up" href="config-tuning.html" title="Бүлэг 12. Тохиргоо ба Тааруулалт" /><link rel="prev" href="configtuning-starting-services.html" title="12.5. Үйлчилгээнүүдийг эхлүүлэх нь" /><link rel="next" href="configtuning-rcd.html" title="12.7. FreeBSD дээр rc(8) ашиглах нь" /><link rel="copyright" href="legalnotice.html" title="Хуулийн заалт" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">12.6. <code class="command">cron</code> хэрэгслийг тохируулах нь</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="configtuning-starting-services.html">Өмнөх</a> </td><th width="60%" align="center">Бүлэг 12. Тохиргоо ба Тааруулалт</th><td width="20%" align="right"> <a accesskey="n" href="configtuning-rcd.html">Дараах</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="configtuning-cron"></a>12.6. <code class="command">cron</code> хэрэгслийг тохируулах нь</h2></div><div><span class="authorgroup">Хувь нэмэр болгон оруулсан <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Том</span> <span class="surname">Рөүдс</span></span>. </span></div><div><span class="authorgroup">Орчуулсан  <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Цагаанхүүгийн</span> <span class="surname">Ганболд</span></span>. </span></div></div></div><a id="idp76869840" class="indexterm"></a><p>FreeBSD-ийн хамгийн ашигтай хэрэгслүүдийн нэг нь <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=cron&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">cron</span>(8)</span></a> юм.
	<code class="command">cron</code> хэрэгсэл ард ажилладаг бөгөөд
	<code class="filename">/etc/crontab</code> файлыг байнга шалгаж
	байдаг. <code class="command">cron</code> хэрэгсэл
	<code class="filename">/var/cron/tabs</code> сангаас шинэ
	<code class="filename">crontab</code> файлуудыг бас шалгадаг.
	Эдгээр <code class="filename">crontab</code> файлууд нь тусгай функцуудыг
	агуулдаг бөгөөд эдгээрийг <code class="command">cron</code> тодорхой хугацаанд
	ажиллуулах ёстой байдаг.</p><p><code class="command">cron</code> хэрэгсэл системийн crontab болон хэрэглэгчийн
	crontab гэсэн хоёр төрлийн тохиргооны файлыг ашигладаг. Энэ хоёр хэлбэршилтийн
	зөвхөн ялгаа нь зургаа дахь талбараас хойш юм. Системийн crontab дээр <code class="command">cron</code>
        тушаал зургаа дахь талбар дээр зааж өгсөн хэрэглэгчээр тушаалыг ажиллуулна.
      	Хэрэглэгчийн crontab дээр crontab үүсгэсэн хэрэглэгчээр бүх тушаалыг
      ажиллуулах ба зургаа дахь талбар нь хамгийн сүүлийн талбар юм; энэ нь аюулгүй байдлын
	нэг чухал боломж юм.</p><div xmlns="" class="note"><h3 class="admontitle">Тэмдэглэл: </h3><p xmlns="http://www.w3.org/1999/xhtml">Хэрэглэгчийн crontab-ууд нь хэрэглэгчдэд <code class="systemitem">root</code>
	эрхийн шаардлагагүйгээр бодлогуудыг  цагийн хуваариар ажиллуулах боломж олгодог.
	Хэрэглэгчийн crontab дахь тушаалууд нь crontab-ийг эзэмшиж байгаа хэрэглэгчийн
	эрхээр ажилладаг.</p><p xmlns="http://www.w3.org/1999/xhtml"><code class="systemitem">root</code> хэрэглэгч бас бусад хэрэглэгчийн нэгэн адил
	хэрэглэгчийн crontab-тай байж болно. <code class="systemitem">root</code> хэрэглэгчийн
	crontab нь <code class="filename">/etc/crontab</code>-аас
	(системийн crontab) тусдаа байна. Яагаад гэвэл системийн crontab нь заасан
	тушаалуудыг root эрхээр ажиллуулдаг учраас
	<code class="systemitem">root</code> хэрэглэгчийн хувьд ихэнхдээ хэрэглэгчийн crontab
	шаардлагагүй байдаг.</p></div><p>Системийн crontab <code class="filename">/etc/crontab</code> файлыг харцгаая:</p><pre class="programlisting"># /etc/crontab - root's crontab for FreeBSD
#
# $FreeBSD: src/etc/crontab,v 1.32 2002/11/22 16:13:39 tom Exp $
# <a id="co-comments"></a><span><img src="./imagelib/callouts/1.png" alt="1" border="0" /></span>
#
SHELL=/bin/sh
PATH=/etc:/bin:/sbin:/usr/bin:/usr/sbin <a id="co-env"></a><span><img src="./imagelib/callouts/2.png" alt="2" border="0" /></span>
HOME=/var/log
#
#
#minute	hour	mday	month	wday	who	command <a id="co-field-descr"></a><span><img src="./imagelib/callouts/3.png" alt="3" border="0" /></span>
#
#
*/5	*	*	*	*	root	/usr/libexec/atrun <a id="co-main"></a><span><img src="./imagelib/callouts/4.png" alt="4" border="0" /></span></pre><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#co-comments"><span><img src="./imagelib/callouts/1.png" alt="1" border="0" /></span></a> </p></td><td valign="top" align="left"><p>FreeBSD-ийн ихэнх тохиргооны файлуудын адил <code class="literal">#</code> тэмдэгтээр 
	эхэлсэн мөрүүд тайлбар юм. Тайлбарыг хүсэж байгаа үйлдэл нь юу болох яагаад хийгдэж
	байгааг сануулах зорилгоор файлд тавьж болдог. Тайлбаруудыг тушаал байгаа мөрд
	хийж болохгүй бөгөөд ингэсэн тохиолдолд тушаалын хэсэг мэтээр ойлгогдоно; тэдгээр нь
	шинэ мөрөнд байх ёстой. Хоосон мөрүүдийг тооцохгүй.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-env"><span><img src="./imagelib/callouts/2.png" alt="2" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Эхлээд орчин тодорхойлогдох шаардлагатай. Тэнцүүгийн (<code class="literal">=</code>)
	тэмдэг орчны тохиргоог тодорхойлоход ашиглагддаг бөгөөд энэ жишээн дээр
	<code class="envar">SHELL</code>,<code class="envar">PATH</code>, болон <code class="envar">HOME</code>
	тохируулгуудад ашиглагдаж байна. Хэрэв бүрхүүлийн мөрийг орхисон бол
	<code class="command">cron</code> анхдагч болох <code class="command">sh</code>-ийг ашигладаг.
	Хэрэв <code class="envar">PATH</code> хувьсагчийг  орхисон бол ямар ч анхдагч ашиглагдахгүй бөгөөд
	файлын байрлалууд абсолют байх хэрэгтэй. Хэрэв <code class="envar">HOME</code> мөрийг
	орхисон бол <code class="command">cron</code> ажиллуулж байгаа хэрэглэгчийн гэрийн санг
	ашигладаг.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-field-descr"><span><img src="./imagelib/callouts/3.png" alt="3" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Энэ мөр нь нийт долоон талбарыг тодорхойлдог. Энд жагсаагдсан утгууд нь
	<code class="literal">minute</code>, <code class="literal">hour</code>,
	<code class="literal">mday</code>, <code class="literal">month</code>,
	<code class="literal">wday</code>,
	<code class="literal">who</code>, болон <code class="literal">command</code> юм.
	Эдгээрийг нэрээс нь харахад ойлгомжтой. <code class="literal">minute</code> нь тушаал
	ажиллах минутаар илэрхийлэгдсэн хугацаа. <code class="literal">hour</code> нь
	<code class="literal">minute</code>-ын адил тохируулга бөгөөд цагаар илэрхийлэгддэг.
	<code class="literal">mday</code> нь сарын өдрийг заана.
	<code class="literal">month</code> нь <code class="literal">hour</code> болон
	<code class="literal">minute</code>-тай адил бөгөөд сарыг зааж өгнө.
	<code class="literal">wday</code> тохируулга нь долоо хоногийн
	өдрийг заана. Эдгээр бүх талбарууд нь тоон утга байх ёстой бөгөөд хорин дөрвөн
	цагийг дагадаг. <code class="literal">who</code> талбар нь тусгай бөгөөд зөвхөн
	<code class="filename">/etc/crontab</code> файлд байдаг. Энэ талбар нь аль
	хэрэглэгчийн эрхээр тушаал ажиллахыг заадаг.
	Сүүлийн талбар нь ажиллуулах тушаалд зориулагдсан байна.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-main"><span><img src="./imagelib/callouts/4.png" alt="4" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Энэ сүүлийн мөр нь дээр дурдсан утгуудыг тодорхойлдог. Энд бид
	хэд хэдэн <code class="literal">*</code> тэмдэгтүүд дараалсан <code class="literal">*/5</code>
	гэсэн жагсаалт байгааг анзаарах хэрэгтэй. Эдгээр <code class="literal">*</code>
	тэмдэгтүүд нь <span class="quote">«<span class="quote">эхний-эцсийн</span>»</span> гэсэн үг бөгөөд
	<span class="emphasis"><em>үргэлж</em></span> гэж ойлгогдож болно. Тэгвэл энэ мөрөөс
	үзэхэд <code class="command">atrun</code> тушаал нь <code class="systemitem">root</code>
	эрхээр 5 минут тутам аль өдөр сар байгаагаас үл хамааран ажиллана.
	<code class="command">atrun</code> тушаалын талаар дэлгэрэнгүй мэдээллийг
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=atrun&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">atrun</span>(8)</span></a> гарын авлагаас үзнэ үү.</p><p>Тушаалууд тэдгээрт өгч болох дурын тооны тугуудтай байж болно; гэхдээ
	олон мөр болон уртассан тушаалууд урагшаа ташуу <span class="quote">«<span class="quote">\</span>»</span> үргэлжлүүлэх
	тэмдэгтээр хуваагдсан байх ёстой.</p></td></tr></table></div><p>Энэ нь <code class="filename">crontab</code> файл болгоны хувьд үндсэн тохиргоо
	байна, гэхдээ нэг зүйл нь үүнээс өөр байна. Хэрэглэгчийг заадаг зургаа дахь талбар
	нь зөвхөн системийн <code class="filename">/etc/crontab</code> файлд байна.
	Энэ талбарыг хэрэглэгчийн <code class="filename">crontab</code> файлуудын хувьд
	орхих хэрэгтэй.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="configtuning-installcrontab"></a>12.6.1. Crontab суулгах нь</h3></div></div></div><div xmlns="" class="important"><h3 class="admontitle">Чухал: </h3><p xmlns="http://www.w3.org/1999/xhtml">Та энд тайлбарласан процедурыг ашиглан системийн crontab
	<code class="filename">/etc/crontab</code>-ийг засаж болон суулгах
	хэрэггүй. Зүгээр л өөрийн дуртай засварлагчийг ашигла:
	<code class="command">cron</code> хэрэгсэл файл өөрчлөгдсөнийг мэдээд тэр даруй
	шинэчлэгдсэн хувилбарыг ашиглаж эхэлнэ. Дэлгэрэнгүй мэдээллийг
	<a class="link" href="../../../../doc/mn_MN.UTF-8/books/faq/admin.html#ROOT-NOT-FOUND-CRON-ERRORS" target="_top">
	Энэ БХА-ын оруулгаас</a> үзнэ үү.</p></div><p>Хэрэглэгчийн бичсэн шинэ <code class="filename">crontab</code> файлыг суулгахын тулд
	эхлээд өөрийн дуртай засварлагчийг ашиглаад зөв хэлбэршилттэй файл үүсгээд дараа нь
	<code class="command">crontab</code> хэрэгслийг ашигла.
	Хамгийн их ашиглагддаг тушаал бол:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>crontab crontab-file</code></strong></pre><p>Энэ жишээн дээрх <code class="filename">crontab-file</code> нь
	урд нь үүсгэгдсэн <code class="filename">crontab</code>-ийн файлын нэр юм.</p><p>Суулгасан <code class="filename">crontab</code> файлуудыг үзүүлдэг
	тохируулга бас байдаг: <code class="option">-l</code> тохируулгыг
	<code class="command">crontab</code> уруу өгч ажиллуулаад гарах үр дүнг
	хараарай.</p><p>Өөрийн crontab файлыг загвар ашиглалгүйгээр эхнээс нь эхлүүлэхийг хүссэн
	хэрэглэгчдэд зориулсан <code class="command">crontab -e</code> тохируулга байдаг.
	Энэ нь сонгосон засварлагчийг хоосон файлтай ажиллуулдаг. Файл хадгалагдсаны
	дараа автоматаар <code class="command">crontab</code> тушаалаар суулгагддаг.
      </p><p>Хэрэглэгчийн <code class="filename">crontab</code>-ийг
	бүр мөсөн устгахыг хүсвэл <code class="command">crontab</code>-ийг <code class="option">-r</code>
	тохируулгатай ашиглаарай.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="configtuning-starting-services.html">Өмнөх</a> </td><td width="20%" align="center"><a accesskey="u" href="config-tuning.html">Дээш</a></td><td width="40%" align="right"> <a accesskey="n" href="configtuning-rcd.html">Дараах</a></td></tr><tr><td width="40%" align="left" valign="top">12.5. Үйлчилгээнүүдийг эхлүүлэх нь </td><td width="20%" align="center"><a accesskey="h" href="index.html">Эхлэл</a></td><td width="40%" align="right" valign="top"> 12.7. FreeBSD дээр rc(8) ашиглах нь</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Энэ болон бусад баримтуудыг
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>
    хаягаас татаж авч болно.</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>FreeBSD-ийн талаар
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;
    хаягтай холбоо барихаасаа өмнө
    <a href="http://www.FreeBSD.org/docs.html">баримтыг</a> уншина уу.<br></br>
    Энэ бичиг баримттай холбоотой асуулт байвал
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;
    хаягаар цахим захидал явуулна уу.<br></br>
    Энэ бичиг баримтын орчуулгатай холбоотой асуулт байвал
    &lt;<a href="mailto:admin@mnbsd.org">admin@mnbsd.org</a>&gt;
    хаягаар цахим захидал явуулна уу.</small></p></body></html>