<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>19.13. Сүлжээ, санах ой болон файл дээр тулгуурласан файлын системүүд</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD гарын авлага" /><link rel="up" href="disks.html" title="Бүлэг 19. Хадгалалт" /><link rel="prev" href="backup-basics.html" title="19.12. Нөөцлөлтийн үндсүүд" /><link rel="next" href="snapshots.html" title="19.14. Файлын системийн хормын хувилбарууд" /><link rel="copyright" href="legalnotice.html" title="Хуулийн заалт" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">19.13. Сүлжээ, санах ой болон файл дээр тулгуурласан файлын системүүд</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="backup-basics.html">Өмнөх</a> </td><th width="60%" align="center">Бүлэг 19. Хадгалалт</th><td width="20%" align="right"> <a accesskey="n" href="snapshots.html">Дараах</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="disks-virtual"></a>19.13. Сүлжээ, санах ой болон файл дээр тулгуурласан файлын системүүд</h2></div><div><span class="authorgroup">Дахин зохион байгуулж өргөжүүлсэн <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Марк</span> <span class="surname">Фонвил</span></span>. </span></div></div></div><a id="idp82801872" class="indexterm"></a><a id="idp82802384" class="indexterm"></a><p>Өөрийн компьютер уруу физикээр хийж болдог уян диск, CD-үүд, хатуу хөтчүүд гэх зэрэг
	дискнүүдээс гадна бусад хэлбэрийн дискнүүд буюу  <em class="firstterm">виртуал дискнүүд</em>ийг
	FreeBSD ойлгодог.</p><a id="idp82804304" class="indexterm"></a><a id="idp82804816" class="indexterm"></a><a id="idp82813648" class="indexterm"></a><p>Эдгээрт <a class="link" href="network-nfs.html" title="30.3. Сүлжээний Файлын Систем (NFS)">Network File System буюу сүлжээний файлын систем</a>
	болон Coda зэрэг сүлжээний файлын системүүд, санах ой дээр тулгуурласан файлын
	системүүд болон файл дээр тулгуурласан файлын системүүд орно.</p><p>FreeBSD-ийн ямар хувилбарыг ажиллуулж байгаагаас хамаарч та
	файл дээр болон санах ой дээр тулгуурласан файлын системүүдийг үүсгэж
	ашиглахдаа өөр өөр хэрэгслүүдийг хэрэглэх шаардлагатай болно.</p><div xmlns="" class="note"><h3 class="admontitle">Тэмдэглэл: </h3><p xmlns="http://www.w3.org/1999/xhtml">Хэрэглэгчийн хувьд мэдэгдэлгүйгээр төхөөрөмжийн цэгүүдийг хуваарилахын тулд
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=devfs&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">devfs</span>(5)</span></a>-г ашиглана.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="disks-mdconfig"></a>19.13.1. Файл дээр тулгуурласан файлын систем</h3></div></div></div><a id="idp82818512" class="indexterm"></a><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mdconfig&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mdconfig</span>(8)</span></a> хэрэгсэл нь FreeBSD дээр санах ой дээр тулгуурласан
	дискнүүд, <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=md&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">md</span>(4)</span></a>-г тохируулж идэвхжүүлэхэд хэрэглэгддэг.
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mdconfig&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mdconfig</span>(8)</span></a>-г ашиглахын тулд та <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=md&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">md</span>(4)</span></a> модулийг ачаалах
	хэрэгтэй, эсвэл өөрийн цөмийн тохиргооны файлдаа дэмжлэгийг нэмэх
	хэрэгтэй болно:</p><pre class="programlisting">device md</pre><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mdconfig&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mdconfig</span>(8)</span></a> тушаал нь гурван төрлийн санах ой дээр тулгуурласан
	виртуал дискийг дэмждэг: эдгээр нь <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=malloc&amp;sektion=9"><span class="citerefentry"><span class="refentrytitle">malloc</span>(9)</span></a>-р хуваарилагдсан санах
	ойн дискнүүд, файл эсвэл swap зай ашигласан санах ойн дискнүүд юм.
	Нэг боломжтой хэрэглээ нь файлд хадгалагдсан уян эсвэл CD дүрсийг
	холбох явдал юм.</p><p>Байгаа файлын системийн дүрсийг холбохдоо:</p><div class="example"><a id="idp82829776"></a><div class="example-title">Жишээ 19.3. <code class="command">mdconfig</code> ашиглан байгаа файлын системийн дүрсийг холбох нь</div><div class="example-contents"><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mdconfig -a -t vnode -f diskimage -u 0</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>mount /dev/md0 /mnt</code></strong></pre></div></div><br class="example-break" /><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mdconfig&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mdconfig</span>(8)</span></a> ашиглан шинэ файлын системийн дүрсийг үүсгэхдээ:</p><div class="example"><a id="idp82833488"></a><div class="example-title">Жишээ 19.4. <code class="command">mdconfig</code> тушаал ашиглан шинэ файл дээр тулгуурласан диск үүсгэх нь</div><div class="example-contents"><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>dd if=/dev/zero of=newimage bs=1k count=5k</code></strong>
5120+0 records in
5120+0 records out
<code class="prompt">#</code> <strong class="userinput"><code>mdconfig -a -t vnode -f newimage -u 0</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>bsdlabel -w md0 auto</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>newfs md0a</code></strong>
/dev/md0a: 5.0MB (10224 sectors) block size 16384, fragment size 2048
        using 4 cylinder groups of 1.25MB, 80 blks, 192 inodes.
super-block backups (for fsck -b #) at:
 160, 2720, 5280, 7840
<code class="prompt">#</code> <strong class="userinput"><code>mount /dev/md0a /mnt</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>df /mnt</code></strong>
Filesystem 1K-blocks Used Avail Capacity  Mounted on
/dev/md0a       4710    4  4330     0%    /mnt</pre></div></div><br class="example-break" /><p>Хэрэв та <code class="option">-u</code> тохируулгаар нэгжийн дугаарыг
	зааж өгөхгүй юм бол <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mdconfig&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mdconfig</span>(8)</span></a> нь хэрэглэгдээгүй төхөөрөмжийг
	сонгохын тулд <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=md&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">md</span>(4)</span></a> автомат хуваарилалтыг ашиглах болно.
	Хуваарилагдсан нэгжийн нэр нь stdout уруу <code class="filename">md4</code>
	мэтээр гарах болно. <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mdconfig&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mdconfig</span>(8)</span></a>-ийн тухай дэлгэрэнгүй
	мэдээллийг гарын авлагын хуудаснаас лавлана уу.</p><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mdconfig&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mdconfig</span>(8)</span></a> хэрэгсэл нь их ашигтай, гэхдээ энэ нь
	файл дээр тулгуурласан файлын систем үүсгэхийн тулд олон тушаалын мөрийг
	асуудаг. FreeBSD нь бас <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mdmfs&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mdmfs</span>(8)</span></a> гэж нэрлэгддэг хэрэгсэлтэй
	ирдэг, энэ програм нь <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=md&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">md</span>(4)</span></a>-г <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mdconfig&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mdconfig</span>(8)</span></a> тушаал
	ашиглан тохируулж <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=newfs&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">newfs</span>(8)</span></a> ашиглан UFS файлын систем түүн
	дээр тавьж <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mount&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mount</span>(8)</span></a> ашиглан түүнийг холбодог. Жишээ нь
	хэрэв та дээрхтэй ижил файлын системийн дүрсийг үүсгэж холбохыг
	хүсвэл ердөө л дараах тушаалыг бичээрэй:</p><div class="example"><a id="idp82856144"></a><div class="example-title">Жишээ 19.5. <code class="command">mdmfs</code> тушаал ашиглан файл дээр тулгуурласан дискийг тохируулж холбох нь</div><div class="example-contents"><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>dd if=/dev/zero of=newimage bs=1k count=5k</code></strong>
5120+0 records in
5120+0 records out
<code class="prompt">#</code> <strong class="userinput"><code>mdmfs -F newimage -s 5m md0 /mnt</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>df /mnt</code></strong>
Filesystem 1K-blocks Used Avail Capacity  Mounted on
/dev/md0        4718    4  4338     0%    /mnt</pre></div></div><br class="example-break" /><p>Хэрэв та <code class="option">md</code> тохируулгыг нэгжийн дугааргүй
	ашиглавал <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mdmfs&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mdmfs</span>(8)</span></a> нь ашиглагдаагүй төхөөрөмжийг автоматаар
	сонгохдоо <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=md&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">md</span>(4)</span></a> авто-нэгж боломжийг ашиглах болно.
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mdmfs&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mdmfs</span>(8)</span></a>-ийн тухай дэлгэрэнгүй мэдээллийг гарын авлагын
	хуудаснаас лавлана уу.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="disks-md-freebsd5"></a>19.13.2. Санах ой дээр тулгуурласан файлын систем</h3></div></div></div><a id="idp82867920" class="indexterm"></a><p>Санах ой дээр тулгуурласан файлын системийн хувьд
	<span class="quote">«<span class="quote">swap backing буюу swap дээрх тулгуурлалтыг</span>»</span>
	ихэнхдээ ашиглах хэрэгтэй. swap дээрх тулгуурлалтыг ашиглах нь санах ойн
	диск нь анхдагчаар диск уруу swap хийгдэнэ гэсэн үг биш бөгөөд харин ердөө л санах
	ойн диск нь санах ойн цөөрмөөс хуваарилагдаж хэрэв хэрэгцээтэй бол диск уруу
	swap хийгдэж болно гэсэн үг юм. Мөн <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=malloc&amp;sektion=9"><span class="citerefentry"><span class="refentrytitle">malloc</span>(9)</span></a> дээр тулгуурласан
	санах ойн дискийг үүсгэх боломжтой байдаг. Гэхдээ malloc дээр тулгуурласан
	санах ойн дискнүүдийг, ялангуяа том хэмжээтэйг нь ашиглах нь цөм санах ойгүй
	болох тохиолдолд системийг сүйрэлд хүргэж болох юм.</p><div class="example"><a id="idp82870608"></a><div class="example-title">Жишээ 19.6. <code class="command">mdconfig</code> тушаал ашиглан шинэ санах ой
		дээр тулгуурласан диск үүсгэх нь</div><div class="example-contents"><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mdconfig -a -t swap -s 5m -u 1</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>newfs -U md1</code></strong>
/dev/md1: 5.0MB (10240 sectors) block size 16384, fragment size 2048
        using 4 cylinder groups of 1.27MB, 81 blks, 192 inodes.
        with soft updates
super-block backups (for fsck -b #) at:
 160, 2752, 5344, 7936
<code class="prompt">#</code> <strong class="userinput"><code>mount /dev/md1 /mnt</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>df /mnt</code></strong>
Filesystem 1K-blocks Used Avail Capacity  Mounted on
/dev/md1        4718    4  4338     0%    /mnt</pre></div></div><br class="example-break" /><div class="example"><a id="idp82879184"></a><div class="example-title">Жишээ 19.7. <code class="command">mdmfs</code> тушаал ашиглан шинэ санах ой
		дээр тулгуурласан диск үүсгэх нь</div><div class="example-contents"><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mdmfs -s 5m md2 /mnt</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>df /mnt</code></strong>
Filesystem 1K-blocks Used Avail Capacity  Mounted on
/dev/md2        4846    2  4458     0%    /mnt</pre></div></div><br class="example-break" /></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp82882128"></a>19.13.3. Системээс санах ойн дискийг салгах нь</h3></div></div></div><a id="idp82882768" class="indexterm"></a><p>Санах ой дээр тулгуурласан эсвэл файл дээр тулгуурласан файлын систем
	ашиглагдахгүй байгаа бол та бүх эх үүсвэрүүдийг системд суллаж өгөх
	шаардлагатай. Эхний хийх ёстой зүйл нь файлын системийг салгаад дараа нь
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mdconfig&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mdconfig</span>(8)</span></a> ашиглан дискийг системээс салгаж эх үүсвэрүүдийг
	суллана.</p><p>Жишээ нь <code class="filename">/dev/md4</code>-г салгаж түүний хэрэглэсэн
	бүх эх үүсвэрүүдийг чөлөөлөхийн тулд дараах тушаалыг ажиллуулна:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mdconfig -d -u 4</code></strong></pre><p>Тохиргоо хийгдсэн <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=md&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">md</span>(4)</span></a> төхөөрөмжүүдийн тухай мэдээллийг
	<code class="command">mdconfig -l</code> тушаал ашиглан жагсааж болно.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="backup-basics.html">Өмнөх</a> </td><td width="20%" align="center"><a accesskey="u" href="disks.html">Дээш</a></td><td width="40%" align="right"> <a accesskey="n" href="snapshots.html">Дараах</a></td></tr><tr><td width="40%" align="left" valign="top">19.12. Нөөцлөлтийн үндсүүд </td><td width="20%" align="center"><a accesskey="h" href="index.html">Эхлэл</a></td><td width="40%" align="right" valign="top"> 19.14. Файлын системийн хормын хувилбарууд</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Энэ болон бусад баримтуудыг
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>
    хаягаас татаж авч болно.</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>FreeBSD-ийн талаар
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;
    хаягтай холбоо барихаасаа өмнө
    <a href="http://www.FreeBSD.org/docs.html">баримтыг</a> уншина уу.<br></br>
    Энэ бичиг баримттай холбоотой асуулт байвал
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;
    хаягаар цахим захидал явуулна уу.<br></br>
    Энэ бичиг баримтын орчуулгатай холбоотой асуулт байвал
    &lt;<a href="mailto:admin@mnbsd.org">admin@mnbsd.org</a>&gt;
    хаягаар цахим захидал явуулна уу.</small></p></body></html>