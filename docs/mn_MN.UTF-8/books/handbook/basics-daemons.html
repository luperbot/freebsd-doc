<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>4.8. Далд чөтгөр буюу дэмонууд, дохионууд, мөн процессуудыг зогсоох нь</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD гарын авлага" /><link rel="up" href="basics.html" title="Бүлэг 4. Юниксийн үндэс" /><link rel="prev" href="basics-processes.html" title="4.7. Процесс буюу програмын явц" /><link rel="next" href="shells.html" title="4.9. Shell буюу бүрхүүл" /><link rel="copyright" href="legalnotice.html" title="Хуулийн заалт" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">4.8. Далд чөтгөр буюу дэмонууд, дохионууд, мөн процессуудыг зогсоох нь</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="basics-processes.html">Өмнөх</a> </td><th width="60%" align="center">Бүлэг 4. Юниксийн үндэс</th><td width="20%" align="right"> <a accesskey="n" href="shells.html">Дараах</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="basics-daemons"></a>4.8. Далд чөтгөр буюу дэмонууд, дохионууд, мөн процессуудыг зогсоох нь</h2></div></div></div><p>Та хэрэв ямар нэг текст засварлагч дээр ажиллаж байхдаа файл нээх, хаах, хадгалах гэх мэт уг програмыг сайн хянаж чаддаг. Та яагаад тэгж
	чадаж байна вэ гэвэл, уг програм нь <em class="firstterm">терминал</em> дээр холбогдон ажиллаж танд тийм боломж олгож байгаа билээ.
      Зарим програм тэгэхэд үргэлж хүн гарнаас оруулалт хийх шаардлагагүй зориулалтаар бүтээгдсэн байдаг бөгөөд хамгийн эхний боломж гарангуут терминалаас салангид ажилладаг. Жишээлбэл вэб серверүүд өдөржин хүмүүсээс ирсэн хүсэлтэд хариулт өгч байдаг  бөгөөд ердийн үед танаас оруулга шаарддаггүй. Ийм төрлийн бас нэг програм бол захиа илгээгч програм юм.</p><p>Бид ийм програмыг <em class="firstterm">далд чөтгөр буюу дэмон</em> гэж нэрлэдэг.  Дэмонууд нь Грекийн домогт байдаг сайн муугийн аль нь ч биш бөгөөд жижигхэн мөртлөө хүмүүст хэрэгтэй юм хийж байдаг сүнсийг хэлдэг.
Вэб сервер болон захианы серверүүд үүнтэй ижил хүмүүст тустай юм хийдэг.  Тийм болохоор BSD нь спорт шаахайтай, жижигхэн, сэрээ барьсан чөтгөрийг олон жилээр дуртайяа өөрийнхөө билэг тэмдэг болгож байгаа билээ.</p><p>Далд ажиллаж байгаа буюу дэмон болж ажиллаж байгаа програмын нэрний ард <span class="quote">«<span class="quote">d</span>»</span> үсэг залгаж бичдэг зарчим бий. <span class="application">BIND</span> програмын бүтэн нэр нь
      Berkeley Internet Name Daemon бөгөөд үндсэн далд ажилладаг
	програмын нэр нь
      <code class="command">named</code>, мөн <span class="application">Apache</span> вэб серверийн далд ажилладаг програмын нэр нь <code class="command">httpd</code>, хэвлэх дарааллыг далд ажиллаж зохицуулж байдаг програмын нэр нь <code class="command">lpd</code> гэх мэт нэртэй байдаг.
Энэ нь ерөнхийдөө ингэж зарчим гаргасан болохоос хатуу тогтоосон дүрэм биш; жишээлбэл захиа илгээгч үндсэн програм <span class="application">Sendmail</span>-н далд ажилладаг програмыг та <code class="command">maild</code> гэж төсөөлж байгаа бол эндүүрэх бөгөөд харин
      <code class="command">sendmail</code> гэж нэрлэдэг.</p><p>Заримдаа та эдгээр дэмон процессуудтай холбогдож харилцах хэрэг гарна. Ингэх нэг арга нь түүн рүү (эсвэл бусад ажиллаж байгаа процесс уруу)
	<em class="firstterm">дохио</em> гэгддэг зүйл илгээх явдал юм. Маш олон төрлийн илгээж болох дохионууд байдаг — зарим дохионууд онцгой зориулалттай нийтэд нь хэрэгждэг,  зарим нь тухайн програмдаа зориулж өөр өөрөөр хөрвүүлэгддэг бөгөөд програмын заавар дээр ямар дохиог яаж хөрвүүлэн ойлгох вэ гэдгийг заасан байдаг.  Та өөрийнхөө эзэмшиж байгаа процесс уруугаа дохио илгээж болно. Хэрэв та бусдын эзэмшдэг процесс уруу  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=kill&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">kill</span>(1)</span></a> эсвэл <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=kill&amp;sektion=2"><span class="citerefentry"><span class="refentrytitle">kill</span>(2)</span></a> гэх зэрэг дохио илгээвэл таны эрх дутаж хэрэгждэггүй.
      Гэхдээ ийм эрхээр дутагддаггүй хэрэглэгч бол
      <code class="systemitem">root</code> хэрэглэгч бөгөөд хүн болгоны процесс уруу дохио илгээж чаддаг.</p><p>Мөн FreeBSD-ээс програм уруу зарим тохиолдолд дохио илгээдэг. Жишээлбэл, хэрэв муу зохиогдсон нэг програм санах ойг зориулсан хэмжээнээсээ илүү хэрэглээд эхэлбэл FreeBSD уг програм уруу  <em class="firstterm">Хэсгийн буруу
	хэрэглээ</em>  дохио илгээдэг (<code class="literal">SIGSEGV</code>).  Мөн хэрэв ямар нэгэн програм нь <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=alarm&amp;sektion=3"><span class="citerefentry"><span class="refentrytitle">alarm</span>(3)</span></a> гэдэг системийн сануулах програмыг ашигласан бол тухайн хугацаа нь хэтрэх үед Сэрүүлэг дохио уг програмд ирэх
      (<code class="literal">SIGALRM</code>) зэрэг олон дохио бий.</p><p>Процесийг зогсоох хоёр дохио байдаг,
      <code class="literal">SIGTERM</code> ба <code class="literal">SIGKILL</code> хоёр.
      <code class="literal">SIGTERM</code> нь арай эелдэг аргаар процессийг зогсоодог; процесс нь эхлээд дохиог <span class="emphasis"><em>хүлээж аваад</em></span> өөрийг нь хаах гэж байгаад мэдээд нээлттэй байгаа бүртгэл бичлэг файлуудаа хаагаад тэгээд хийж байгаа ерөнхий үйлдлээ зогсоодог. Зарим тохиолдолд  уг процесс нь таслагдаж болохооргүй үйлдэл хийж байх үедээ
<code class="literal">SIGTERM</code> дохиог хэрэгсэхгүй байдал үүсдэг.</p><p><code class="literal">SIGKILL</code> дохиог ямар ч процесс хэрэгсэхгүй байж чаддаггүй.  Өөрөөр хэлбэл энэ нь
      <span class="quote">«<span class="quote">Чиний юу хийж байх нь надад хамаагүй, одоо шууд зогсоо</span>»</span>
       гэсэн дохио юм.  Хэрэв та <code class="literal">SIGKILL</code> дохиог процесс уруу илгээвэл
      FreeBSD уг процессийг зогсоодог <a href="#ftn.idp70786896" class="footnote" id="idp70786896"><sup class="footnote">[4]</sup></a>.</p><p>Таны хэрэглэж болохоор бусад дохионууд нь
      <code class="literal">SIGHUP</code>, <code class="literal">SIGUSR1</code>, мөн
      <code class="literal">SIGUSR2</code>.  Эдгээр дохио нь ерөнхий зориулалтаар хэрэглэгддэг бөгөөд эдгээр дохиог хүлээж авсан програмууд тус тусдаа өөр өөр хариу үйлдэл хийдэг.</p><p>Жишээлбэл, та вэб серверийнхээ тохируулгын файлд өөрчлөлт хийгээд уг серверийг тохируулгын файлаа дахин шинээр уншуулахыг хүссэн гэж бодъё.  Та <code class="command">httpd</code> дэмоноо зогсоогоод дахин шинээр эхлүүлж болох боловч ажиллаж байгаа вэб серверийг зогсоож болохгүй нөхцөл байж болно. Ихэнх дэмонууд нь
      <code class="literal">SIGHUP</code> дохиог хүлээж авбал өөрийнхөө тохируулгынхаа файлыг уншина гэж тохируулагдсан байдаг. Тэгэхээр  <code class="command">httpd</code> дэмоноо зогсоогоод шинээр ачаалж байхын оронд
       <code class="literal">SIGHUP</code> дохиог илгээхэд хангалттай. Учир нь энэ дохионд тэгж хариулна гэсэн тогтоосон арга зам байхгүй тул дэмон болгон өөр өөр үйлчлэл үзүүлдгийг ойлгож тухайн дэмоны заавар бичгийг нь судлах хэрэгтэй. </p><p>дохио илгээхдээ <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=kill&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">kill</span>(1)</span></a> тушаалыг ашигладаг. </p><div class="procedure"><a id="idp70792912"></a><div class="procedure-title">Гүйцэтгэл 4.1. Процесс уруу дохио илгээх</div><p>Энэ жишээ нь  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=inetd&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">inetd</span>(8)</span></a> уруу хэрхэн дохио илгээхийг харуулах болно.
	  <code class="command">inetd</code> -н тохируулгын файл
	<code class="filename">/etc/inetd.conf</code> гэж байрласан бөгөөд  <code class="command">inetd</code>-ийг тохируулгын файлаа дахин уншуулахын тулд 	<code class="literal">SIGHUP</code> дохиог илгээх болно.</p><ol class="procedure" type="1"><li class="step"><p>Илгээх процессийн процесс ID дугаарыг мэдэх хэрэгтэй. 
Ингэхийн тулд <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pgrep&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">pgrep</span>(1)</span></a> тушаалыг ашиглана.</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>pgrep -l inetd</code></strong>
  198  inetd -wW</pre><p>За тэгэхээр, <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=inetd&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">inetd</span>(8)</span></a>-ийн PID дугаар нь 198 гэж энэ тохиолдолд хэлж байна.  Зарим тохиолдолд
	  <code class="literal">grep inetd</code> гэсэн тушаал нь өөрөө энэ гаралтад байж байдаг. Учир нь,  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ps&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ps</span>(1)</span></a> програм нь уг тушаалыг ажиллуулж байгаа процессийг олсон үед тэгж гаргаж харуулдаг.</p></li><li class="step"><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=kill&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">kill</span>(1)</span></a> тушаалыг хэрэглэж дохио илгээнэ.   <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=inetd&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">inetd</span>(8)</span></a> нь
	   <code class="systemitem">root</code> хэрэглэгчээр гүйцэтгэгдэж байгаа болохоор, та эхлээд  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=su&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">su</span>(1)</span></a> тушаалыг ашиглан
	   <code class="systemitem">root</code> хэрэглэгч болох хэрэгтэй.</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>su</code></strong>
<code class="prompt">Password:</code>
<code class="prompt">#</code> <strong class="userinput"><code>/bin/kill -s HUP 198</code></strong></pre><p>Ихэнх <span class="trademark">UNIX</span>® системийн тушаалуудын адил, <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=kill&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">kill</span>(1)</span></a> тушаал нь хэрэв амжилттай хэрэгжвэл ямар нэгэн төлвийн мэдээлэл харуулдаггүй.  Хэрэв та өөрийнхөө эзэмшдэггүй процесс уруу дохио илгээвэл  <span class="errorname">kill:
	    <em class="replaceable"><code>PID</code></em>: Operation not
	    permitted</span> буюу энэ үйлдлийг хийх эрх байхгүй байна гэсэн мэдэгдэл гарч ирнэ.  Хэрэв та  PID дугаараа буруу бичих, эсвэл буруу процесс уруу дохио илгээвэл, азгүй тохиолдолд уг дохио нь тухайн процесс уруу илгээгдэх бөгөөд, уг процесс нь азаар байхгүй байгаа тохиолдолд  <span class="errorname">kill:
	    <em class="replaceable"><code>PID</code></em>: No such process</span> буюу тийм процесс алга байна гэсэн мэдэгдэл гарч ирнэ.</p><div xmlns="" class="note"><h3 class="admontitle">Яагаад <code xmlns="http://www.w3.org/1999/xhtml" class="command">/bin/kill</code> тушаалыг хэрэглэх хэрэгтэй вэ?: </h3><p xmlns="http://www.w3.org/1999/xhtml">Ихэнх shells буюу бүрхүүлүүд <code class="command">kill</code> тушаалыг өөртөө агуулсан байдаг бөгөөд <code class="filename">/bin/kill</code> тушаалыг бичихийн оронд шууд бүрхүүлд буй тушаалыг нь гүйцэтгэх нь шулуухан байдаг.
	    Энэ нь амарчилсан ашигтай арга боловч бүрхүүл болгон өөрсдийн илгээх дохионы өөр өөр нэртэй байдгийг мэдэх хэрэгтэй. Тийм болохоор бүрхүүл болгоны дохионы бичлэгийг судлахын оронд шууд
	    <code class="command">/bin/kill ...</code> тушаалыг хэрэглэх нь зөв арга юм.</p></div></li></ol></div><p>Бусад дохио илгээх үйлдлүүд нь үүнтэй тун ижил бөгөөд
      <code class="literal">TERM</code> эсвэл <code class="literal">KILL</code> дохионуудын оронд шаардлагатай дохиогоо бичих хэрэгтэй.</p><div xmlns="" class="important"><h3 class="admontitle">Чухал: </h3><p xmlns="http://www.w3.org/1999/xhtml">Санаанд орсон тоотой дохио болгоныг устгана гэдэг бол буруу санаа юм.   <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=init&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">init</span>(8)</span></a> процесс ялангуяа 1 гэсэн процесс ID байх нь онцгой тохиолдол. Тийм болохоор
	<code class="command">/bin/kill -s KILL 1</code> гэвэл системийг шууд унтраана.  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=kill&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">kill</span>(1)</span></a> тушаалыг гүйцэтгэхээсээ өмнө <span class="keycap"><strong>Return</strong></span> товч дарахынхаа <span class="emphasis"><em>өмнө</em></span> <span class="emphasis"><em>үргэлж</em></span> ямар процесс уруу ямар дохио илгээж байгаагаа давхар шалгах хэрэгтэй.</p></div><div class="footnotes"><br /><hr class="footnote-hr" /><div id="ftn.idp70786896" class="footnote"><p><a href="#idp70786896" class="para"><sup class="para">[4] </sup></a>Бас тэр чигээрээ үнэн биш—учир нь зарим таслагдаж болдоггүй нөхцлүүд байдаг.  Жишээлбэл, хэрэв сүлжээнд байгаа компьютерийн нэг файлаас унших үйлдэл хийж байгаа процесс нь, хэрэв холбогдсон компьютер нь тодорхойгүй шалтгаанаар холбогдохгүй болох үед (цахилгаан тэжээлээс салгагдах, эсвэл сүлжээ эвдрэх), уг процесс нь
	  <span class="quote">«<span class="quote">тасрахгүй</span>»</span> нөхцөлд байдаг. Магадгүй хэсэг хугацааны дараа хүлээх хугацаа нь дуусна. Ингэж хүлээх хугацаа нь дууссаны дараа л уг процесс зогсох болно.</p></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="basics-processes.html">Өмнөх</a> </td><td width="20%" align="center"><a accesskey="u" href="basics.html">Дээш</a></td><td width="40%" align="right"> <a accesskey="n" href="shells.html">Дараах</a></td></tr><tr><td width="40%" align="left" valign="top">4.7. Процесс буюу програмын явц </td><td width="20%" align="center"><a accesskey="h" href="index.html">Эхлэл</a></td><td width="40%" align="right" valign="top"> 4.9. Shell буюу бүрхүүл</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Энэ болон бусад баримтуудыг
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>
    хаягаас татаж авч болно.</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>FreeBSD-ийн талаар
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;
    хаягтай холбоо барихаасаа өмнө
    <a href="http://www.FreeBSD.org/docs.html">баримтыг</a> уншина уу.<br></br>
    Энэ бичиг баримттай холбоотой асуулт байвал
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;
    хаягаар цахим захидал явуулна уу.<br></br>
    Энэ бичиг баримтын орчуулгатай холбоотой асуулт байвал
    &lt;<a href="mailto:admin@mnbsd.org">admin@mnbsd.org</a>&gt;
    хаягаар цахим захидал явуулна уу.</small></p></body></html>