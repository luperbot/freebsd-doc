<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>29.3. sendmail-г Тохируулах нь</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD гарын авлага" /><link rel="up" href="mail.html" title="Бүлэг 29. Цахим Шуудан" /><link rel="prev" href="mail-using.html" title="29.2. Цахим Захидлыг Хэрэглэх нь" /><link rel="next" href="mail-changingmta.html" title="29.4. Өөрийн Захидал Дамжуулах Агентийг Солих нь" /><link rel="copyright" href="legalnotice.html" title="Хуулийн заалт" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">29.3. <span class="application">sendmail</span>-г Тохируулах нь</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="mail-using.html">Өмнөх</a> </td><th width="60%" align="center">Бүлэг 29. Цахим Шуудан</th><td width="20%" align="right"> <a accesskey="n" href="mail-changingmta.html">Дараах</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="sendmail"></a>29.3. <span class="application">sendmail</span>-г Тохируулах нь</h2></div><div><span class="authorgroup">Хувь нэмрээ оруулсан <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Кристофер</span> <span class="surname">Шамвэй</span></span>. </span></div><div><span class="authorgroup">Орчуулсан <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Лодойсамбын</span> <span class="surname">Баянзул</span></span>. </span></div></div></div><a id="idp88905040" class="indexterm"></a><p>FreeBSD-н хувьд <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sendmail&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sendmail</span>(8)</span></a> бол анхдагч Mail Transfer Agent буюу Захидал Дамжуулах
Агент(MTA) юм. <span class="application">sendmail</span>-н үүрэг бол Mail User Agent буюу Хэрэглэгчийн
Захидлын Агент(<acronym class="acronym">MUA</acronym>)-с захидал хүлээн авч, тохиргооны файлд хэрхэн
зааж өгснөөс хамааран зохих захидал түгээгчид дамжуулна.
<span class="application">sendmail</span> нь мөн сүлжээний холболтуудыг хүлээн авч,
захидлыг дотоод захидлын хайрцагт эсвэл өөр програмд дамжуулах чадвартай.</p><p><span class="application">sendmail</span> дараах тохиргооны файлуудыг ашигладаг:</p><a id="idp88909008" class="indexterm"></a><a id="idp88909904" class="indexterm"></a><a id="idp88910800" class="indexterm"></a><a id="idp88911696" class="indexterm"></a><a id="idp88912592" class="indexterm"></a><a id="idp88913488" class="indexterm"></a><a id="idp88914384" class="indexterm"></a><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Файлын Нэр</th><th>Үүрэг</th></tr></thead><tbody><tr><td>
	      <code class="filename">/etc/mail/access</code>
	    </td><td><span class="application">sendmail</span>-н хандалтын өгөгдлийн сангийн файл</td></tr><tr><td>
	      <code class="filename">/etc/mail/aliases</code>
	    </td><td>Захидлын хайрцагны хуурамч дүрүүд</td></tr><tr><td>
	      <code class="filename">/etc/mail/local-host-names</code>
	    </td><td><span class="application">sendmail</span> эдгээр хостуудаас захидал хүлээж авна.</td></tr><tr><td>
	      <code class="filename">/etc/mail/mailer.conf</code>
	    </td><td>Захидал түгээгч програмын тохиргоо</td></tr><tr><td>
	      <code class="filename">/etc/mail/mailertable</code>
	    </td><td>Захидал түгээгчийн түгээлтийн хүснэгт</td></tr><tr><td>
	      <code class="filename">/etc/mail/sendmail.cf</code>
	    </td><td><span class="application">sendmail</span>-н гол тохиргооны файл</td></tr><tr><td>
	      <code class="filename">/etc/mail/virtusertable</code>
	    </td><td>Хийсвэр хэрэглэгчид болон домэйн хүснэгтүүд</td></tr></tbody></table></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88946512"></a>29.3.1. <code class="filename">/etc/mail/access</code></h3></div></div></div><p>Хандалтын өгөгдлийн санд ямар хостууд болон IP хаягуудаас
дотоод захидлын серверт хандах, ямар төрлийн хандалт хийхийг зааж
өгсөн байна. Хостуудыг <code class="option">OK</code>, <code class="option">REJECT</code>, <code class="option">RELAY</code> гэж тэмдэглэж
болно эсвэл <span class="application">sendmail</span>-н алдаа зохицуулах дэгд тодорхой алдааг зааж
өгөн дамжуулж болно. <code class="option">OK</code> гэсэн анхдагч утгаар тэмдэглэгдсэн
хостууд энэ хостод хаяглагдсан захидлыг дамжуулах эрхтэй. <code class="option">REJECT</code>
гэж тэмдэглэгдсэн хостуудаас үүсэх холболтыг хүлээж авахгүй.
<code class="option">RELAY</code> гэж тэмдэглэгдсэн хостуудын хувьд энэ захидлын серверээр
дамжуулан хааш нь ч хамаагүй захидал илгээж болно.</p><div class="example"><a id="idp88966864"></a><div class="example-title">Жишээ 29.1. <span class="application">sendmail</span> Хандалтын Өгөгдлийн санг Тохируулах нь</div><div class="example-contents"><pre class="programlisting">cyberspammer.com                550 We do not accept mail from spammers
FREE.STEALTH.MAILER@            550 We do not accept mail from spammers
another.source.of.spam          REJECT
okay.cyberspammer.com           OK
128.32                          RELAY</pre></div></div><br class="example-break" /><p>Энэ жишээн дээр бид таван бүртгэл харж байна.
Захидал илгээгчийн хувьд хүснэгтийн зүүн баганад байгаа утгатай дүйвэл
баруун баганад байгаа үйлдлийг гүйцэтгэнэ. Эхний хоёр жишээний хувьд
<span class="application">sendmail</span>-н алдаа зохицуулах дэгд алдааны мэдээллийг өгөх болно.
Хүснэгтийн зүүн баганад байгаа утгатай захидал дүйсэн тохиолдолд
алсын хостод энэ мэдээллийг өгөх болно. Дараагийн жишээн дээр,
<code class="systemitem">another.source.of.spam</code> гэсэн тодорхой хостоос ирэх захидлыг бүгдийг буцаах болно.
Түүний дараагийн жишээн дээр, <code class="systemitem">okay.cyberspammer.com</code> гэсэн хостоос
ирэх холболтуудыг хүлээж авах болно. Энд хостын нэр өмнөх мөрний
<code class="systemitem">cyberspammer.com</code>-г бодвол илүү тодорхой байна. Илүү тодорхой
заалт нь ерөнхий заалтыг дарж хүчингүй болгоно. Хамгийн сүүлийн жишээн дээр,
<code class="systemitem">128.32</code>-р эхэлсэн IP хаягтай хостуудаас ирэх захидлыг өртөөлөн дамжуулахыг
зааж байна. Эдгээр хостууд бусад серверт
хаягласан захидлыг энэ захидлын серверээр дамжуулах боломжтой гэсэн үг юм.</p><p>Энэ файлд өөрчлөлт оруулсны дараа, <code class="filename">/etc/mail/</code> дотор
<code class="command">make</code> тушаалыг өгөн өгөгдлийн санг шинэчлэх хэрэгтэй.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88972112"></a>29.3.2. <code class="filename">/etc/mail/aliases</code></h3></div></div></div><p>Хуурамч дүрүүдийн өгөгдлийн санд хэрэглэгчид, файлууд,
програмууд эсвэл бусад хуурамч дүрүүд рүү задардаг хийсвэр захидлын
хайрцгуудын жагсаалтыг хадгалж байдаг. <code class="filename">/etc/mail/aliases</code> дотор
хэрэглэж болох хэдэн жишээг дор үзүүлэв:</p><div class="example"><a id="idp88973648"></a><div class="example-title">Жишээ 29.2. Захидлын Хуурамч дүрүүд</div><div class="example-contents"><pre class="programlisting">root: localuser
ftp-bugs: joe,eric,paul
bit.bucket:  /dev/null
procmail: "|/usr/local/bin/procmail"</pre></div></div><br class="example-break" /><p>Бичих хэлбэр нь амархан; тодорхойлох хоёр цэгний зүүн талд
байгаа захидлын хайрцагны нэр нь баруун талд байгаа зүйл болон задарна.
Эхний жишээн дээр <code class="systemitem">root</code> захидлын хайрцгийг <code class="systemitem">localuser</code>
захидлын хайрцаг болгон задалж байна. Энэ нэрийг цааш дахин
хуурамч дүрийн өгөгдлийн сангаас хайх болно. Хэрэв энэ нэр олдохгүй бол,
захидлыг <code class="systemitem">localuser</code> нэртэй дотоод хэрэглэгчид хүргэх болно.
Дараагийн жишээн дээр захидлын жагсаалтыг үзүүлсэн байна. <code class="systemitem">ftp-bugs</code>
захидлын хайрцагт ирэх захидлыг <code class="systemitem">joe</code>, <code class="systemitem">eric</code>, ба
<code class="systemitem">paul</code> гэсэн гурван дотоод хэрэглэгчдэд задлах болно. Алсын захидлын
хайрцгийг <code class="email">&lt;<a xmlns="" class="email" href="mailto:user@example.com">user@example.com</a>&gt;</code> хэлбэрээр оруулж болохыг энд тэмдэглэх
хэрэгтэй. Дараагийн жишээн дээр захидлыг файлд, энэ жишээн дээр
<code class="filename">/dev/null</code>-д бичихийг зааж байна. Хамгийн сүүлийн жишээн дээр,
захидлын програмд илгээхийг, энэ тохиолдолд захидлыг <span class="trademark">UNIX</span>® хоолойгоор дамжуулан
<code class="filename">/usr/local/bin/procmail</code>-н стандарт оролтод өгч байна.</p><p>Энэ файлд өөрчлөлт оруулсны дараа, <code class="filename">/etc/mail/</code> дотор
<code class="command">make</code> тушаалыг өгөн өгөгдлийн санг шинэчлэх хэрэгтэй.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp89018960"></a>29.3.3. <code class="filename">/etc/mail/local-host-names</code></h3></div></div></div><p>Энэ бол <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sendmail&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sendmail</span>(8)</span></a> дотоод хостууд байдлаар хүлээн авах
хостуудын нэрийн жагсаалт юм. <span class="application">sendmail</span> захидлыг нь хүлээж авах
домэйн болон хостын нэрийг энэ файлд бичих хэрэгтэй. Жишээлбэл,
хэрэв энэ захидлын сервер <code class="systemitem">example.com</code> домэйн болон
<code class="systemitem">mail.example.com</code> хостын захидлыг
хүлээж авах ёстой бол, <code class="filename">local-host-names</code> файл дараах байдалтай
байна:</p><pre class="programlisting">example.com
mail.example.com</pre><p>Энэ файлд өөрчлөлт ороход, өөрчлөлтүүдийг хүчинтэй болгохын тулд
<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sendmail&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sendmail</span>(8)</span></a>-г дахин эхлүүлэх шаардлагатай.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp89024592"></a>29.3.4. <code class="filename">/etc/mail/sendmail.cf</code></h3></div></div></div><p><span class="application">sendmail</span>-н гол тохиргооны файл болох
<code class="filename">sendmail.cf</code> нь захидлын хаягийг дахин бичихээс эхлүүлээд
алсын захидлын серверт татгалзсан зурвас илгээх хүртэл бүх зүйлийг оруулаад
<span class="application">sendmail</span>-н ерөнхий үйл ажиллагааг хянана.
Мэдээжийн хэрэг, ийм олон талын үүрэгтэй энэ тохиргооны файл
нилээд ойлгомжгүй байх ба нарийвчлан авч үзэх нь энэ бүлгийн
мэдлээс хальсан асуудал болно. Нэг баярлууштай нь, стандарт захидлын
сервер байдлаар ашиглахад энэ файлд өөрчлөлт оруулах бараг шаардлагагүй
байдаг.</p><p><span class="application">sendmail</span>-н гол тохиргооны файлыг <span class="application">sendmail</span>-н
шинж чанар, төлвийг илэрхийлсэн <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=m4&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">m4</span>(1)</span></a> макронуудаас
үүсгэж болно. Дэлгэрэнгүйг <code class="filename">/usr/src/contrib/sendmail/cf/README</code> файлаас үзэж болно.</p><p>Энэ файлд өөрчлөлт ороход, өөрчлөлтүүдийг хүчинтэй болгохын тулд
<span class="application">sendmail</span>-г дахин эхлүүлэх шаардлагатай.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp89038544"></a>29.3.5. <code class="filename">/etc/mail/virtusertable</code></h3></div></div></div><p><code class="filename">virtusertable</code> нь хийсвэр домэйнууд ба захидлын хайрцгийн
хаягуудыг жинхэнэ захидлын хайрцгуудад буулгана. Эдгээр захидлын
хайрцгууд нь дотоод, алсын, <code class="filename">/etc/mail/aliases</code> дотор тодорхойлогдсон
хуурамч дүр эсвэл файл байж болно.</p><div class="example"><a id="idp89040336"></a><div class="example-title">Жишээ 29.3. Хийсвэр Домэйны Захидлын Буулгалтын Жишээ</div><div class="example-contents"><pre class="programlisting">root@example.com                root
postmaster@example.com          postmaster@noc.example.net
@example.com                    joe</pre></div></div><br class="example-break" /><p>Дээрх жишээн дээр, <code class="systemitem">example.com</code> домэйны хувь дахь
буулгалтыг үзүүлсэн байна. Энэ файлыг дээрээс нь доош нь,
эхний таарсныг авах байдлаар боловсруулна. Эхний мөрөнд
<code class="email">&lt;<a xmlns="" class="email" href="mailto:root@example.com">root@example.com</a>&gt;</code>-г <code class="systemitem">root</code> гэсэн дотоод захидлын хайрцагт буулгаж байна.
Дараагийн мөрөнд <code class="email">&lt;<a xmlns="" class="email" href="mailto:postmaster@example.com">postmaster@example.com</a>&gt;</code>-г <code class="systemitem">noc.example.net</code> хост дээр байгаа
<code class="systemitem">postmaster</code> захидлын хайрцагт буулгаж байна. Эцэст нь,
хэрэв <code class="systemitem">example.com</code>-той хаяг дээр дурдсаны алинд ч тохироогүй бол,
хамгийн сүүлийн мөрөнд тохирох болно. Энэ мөрөнд <code class="systemitem">example.com</code> домэйнтой
бүх захидлын хаяг тохирох бөгөөд бүгд <code class="systemitem">joe</code> гэсэн дотоод захидлын
хайрцагт буулгагдах болно.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="mail-using.html">Өмнөх</a> </td><td width="20%" align="center"><a accesskey="u" href="mail.html">Дээш</a></td><td width="40%" align="right"> <a accesskey="n" href="mail-changingmta.html">Дараах</a></td></tr><tr><td width="40%" align="left" valign="top">29.2. Цахим Захидлыг Хэрэглэх нь </td><td width="20%" align="center"><a accesskey="h" href="index.html">Эхлэл</a></td><td width="40%" align="right" valign="top"> 29.4. Өөрийн Захидал Дамжуулах Агентийг Солих нь</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Энэ болон бусад баримтуудыг
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>
    хаягаас татаж авч болно.</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>FreeBSD-ийн талаар
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;
    хаягтай холбоо барихаасаа өмнө
    <a href="http://www.FreeBSD.org/docs.html">баримтыг</a> уншина уу.<br></br>
    Энэ бичиг баримттай холбоотой асуулт байвал
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;
    хаягаар цахим захидал явуулна уу.<br></br>
    Энэ бичиг баримтын орчуулгатай холбоотой асуулт байвал
    &lt;<a href="mailto:admin@mnbsd.org">admin@mnbsd.org</a>&gt;
    хаягаар цахим захидал явуулна уу.</small></p></body></html>