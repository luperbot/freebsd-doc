<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>29.10. SMTP нэвтрэлт танилт</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD гарын авлага" /><link rel="up" href="mail.html" title="Бүлэг 29. Цахим Шуудан" /><link rel="prev" href="SMTP-dialup.html" title="29.9. Гадагш залгах холболтоор захидлыг ашиглах нь" /><link rel="next" href="mail-agents.html" title="29.11. Хэрэглэгчийн захидал дамжуулагчид" /><link rel="copyright" href="legalnotice.html" title="Хуулийн заалт" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">29.10. SMTP нэвтрэлт танилт</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="SMTP-dialup.html">Өмнөх</a> </td><th width="60%" align="center">Бүлэг 29. Цахим Шуудан</th><td width="20%" align="right"> <a accesskey="n" href="mail-agents.html">Дараах</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="SMTP-Auth"></a>29.10. SMTP нэвтрэлт танилт</h2></div><div><span class="authorgroup">Бичсэн <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Жэймс</span> <span class="surname">Горхам</span></span>. </span></div><div><span class="authorgroup">Орчуулсан  <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Цагаанхүүгийн</span> <span class="surname">Ганболд</span></span>. </span></div></div></div><p>Өөрийн захидлын сервертээ <acronym class="acronym">SMTP</acronym> Authentication
	буюу нэвтрэлт танилттай байх нь хэд хэдэн талаараа ашигтай байдаг.
	<acronym class="acronym">SMTP</acronym> нэвтрэлт танилт нь <span class="application">sendmail</span>-д
	аюулгүй байдлын өөр давхарга нэмж чадах бөгөөд хостоо сольдог хөдөлгөөнт
	хэрэглэгчдийн хувьд өөрийн захидлын клиентийнхээ тохиргоог дахин тохируулалгүйгээр
	захидлын серверээ ашиглах боломжийг олгодгоороо ашигтай байдаг.</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p><a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/security/cyrus-sasl2/pkg-descr">security/cyrus-sasl2</a>-г
	портоос суулгана. Та энэ портыг <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/security/cyrus-sasl2/pkg-descr">security/cyrus-sasl2</a>
	сангаас олж болно. <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/security/cyrus-sasl2/pkg-descr">security/cyrus-sasl2</a>
	порт нь хэд хэдэн эмхэтгэх үеийн тохируулгуудыг дэмждэг. Бидний ашиглах SMTP нэвтрэлт танилтын
	аргын хувьд <code class="option">LOGIN</code> тохируулга хаагдаагүй эсэхийг шалгаарай.</p></li><li class="step"><p><a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/security/cyrus-sasl2/pkg-descr">security/cyrus-sasl2</a>-г
	суулгасны дараа <code class="filename">/usr/local/lib/sasl2/Sendmail.conf</code>-г
	(байхгүй бол үүсгээрэй) засварлаж дараах мөрийг нэмэх хэрэгтэй:</p><pre class="programlisting">pwcheck_method: saslauthd</pre></li><li class="step"><p>Дараа нь <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/security/cyrus-sasl2-saslauthd/pkg-descr">security/cyrus-sasl2-saslauthd</a>-г
	суулгаж дараах мөрийг нэмэхийн тулд <code class="filename">/etc/rc.conf</code>-г засварлана:</p><pre class="programlisting">saslauthd_enable="YES"</pre><p>тэгээд эцэст нь saslauthd дэмонг эхлүүлнэ:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>service saslauthd start</code></strong></pre><p>Энэ дэмон нь таны FreeBSD <code class="filename">passwd</code> мэдээллийн
	баазаас нэвтрэлт таниулахын тулд <span class="application">sendmail</span>-ийн хувьд
	зуучлагч болдог. Энэ нь <acronym class="acronym">SMTP</acronym> нэвтрэлт танилт ашиглах хэрэгтэй
	хэрэглэгч бүрийн хувьд шинэ хэрэглэгчийн нэрс болон нууц үгсийг үүсгэх шаардлагагүй
	болгож нэвтрэлт болон захидлын нууц үгийг өөрчлөлгүйгээр хэвээр байлгадаг юм.</p></li><li class="step"><p>Одоо <code class="filename">/etc/make.conf</code>-г засварлаад дараах мөрүүдийг нэмэх хэрэгтэй:</p><pre class="programlisting">SENDMAIL_CFLAGS=-I/usr/local/include/sasl -DSASL
SENDMAIL_LDFLAGS=-L/usr/local/lib
SENDMAIL_LDADD=-lsasl2</pre><p>Эдгээр мөрүүд нь <span class="application">sendmail</span>-д
	<a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/cyrus-sasl2/pkg-descr">cyrus-sasl2</a> руу эмхэтгэх үед холбоос
	хийхэд шаардлагатай зөв тохиргооны сонголтуудыг өгөх болно.
	<span class="application">sendmail</span>-ийг суулгахаас өмнө
	<a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/cyrus-sasl2/pkg-descr">cyrus-sasl2</a> суусан байгаа
	эсэхийг баталгаажуулаарай.</p></li><li class="step"><p>Дараах тушаалуудыг ажиллуулж <span class="application">sendmail</span>-г дахин эмхэтгэнэ:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cd /usr/src/lib/libsmutil</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>make cleandir &amp;&amp; make obj &amp;&amp; make</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>cd /usr/src/lib/libsm</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>make cleandir &amp;&amp; make obj &amp;&amp; make</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>cd /usr/src/usr.sbin/sendmail</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>make cleandir &amp;&amp; make obj &amp;&amp; make &amp;&amp; make install</code></strong></pre><p><code class="filename">/usr/src</code> тийм ч ихээр өөрчлөгдөөгүй бөгөөд
	хэрэгцээтэй хуваалцдаг сангууд байгаа тохиолдолд <span class="application">sendmail</span>-ийн эмхэтгэлт
	ямар нэгэн асуудалгүй хийгдэх ёстой.</p></li><li class="step"><p><span class="application">sendmail</span> эмхэтгэгдэж дахин суулгагдсаны
	дараа өөрийн <code class="filename">/etc/mail/freebsd.mc</code>
	  файлыг (аль эсвэл өөрийн <code class="filename">.mc</code> файл болгож ашигладаг тэр файлыг. Дахин давтагдахгүй
	байхын тулд олон администраторууд <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=hostname&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">hostname</span>(1)</span></a>-ээс гарах гаралтыг ашиглан <code class="filename">.mc</code> файлаа
	болгон сонгодог) засварлах хэрэгтэй. Эдгээр мөрүүдийг нэмэх хэрэгтэй:</p><pre class="programlisting">dnl set SASL options
TRUST_AUTH_MECH(`GSSAPI DIGEST-MD5 CRAM-MD5 LOGIN')dnl
define(`confAUTH_MECHANISMS', `GSSAPI DIGEST-MD5 CRAM-MD5 LOGIN')dnl</pre><p>Хэрэглэгчдийн нэвтрэлт танилтын хувьд <span class="application">sendmail</span>-д
	байдаг өөр аргуудыг эдгээр тохируулгууд нь тохируулдаг. Хэрэв та <span class="application">pwcheck</span>-с
	өөр аргыг ашиглахыг хүсэж байгаа бол хамт ирсэн баримтаас үзнэ үү.</p></li><li class="step"><p>Эцэст нь <code class="filename">/etc/mail</code> дотор байхдаа
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=make&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">make</span>(1)</span></a>-г ажиллуулна. Энэ нь таны шинэ <code class="filename">.mc</code>
	файлыг ажиллуулж <code class="filename">freebsd.cf</code> гэгдэх (өөрийн <code class="filename">.mc</code>
	файлд зориулж ашигласан тэр) <code class="filename">.cf</code> файлыг үүсгэх болно.
	Дараа нь <code class="command">make install restart</code> тушаалыг
	ашиглах хэрэгтэй. Энэ нь файлыг <code class="filename">sendmail.cf</code> руу
	хуулж <span class="application">sendmail</span>-г зөв ажиллуулах болно.
	Энэ процессийн тухай дэлгэрэнгүй мэдээллийг <code class="filename">/etc/mail/Makefile</code>
	файлаас лавлана уу.</p></li></ol></div><p>Хэрэв бүгд зөв явсан бол та өөрийн нэвтрэх мэдээллийг захидлын клиент уруугаа
	оруулж тест захидал илгээж чадах ёстой. Илүү судлахын тулд
	<span class="application">sendmail</span>-ийн <code class="option">LogLevel</code>-г
	13 болгон тохируулж <code class="filename">/var/log/maillog</code> файлд
	алдаа гарах эсэхийг харах хэрэгтэй.</p><p><a class="link" href="http://www.sendmail.org/~ca/email/auth.html" target="_top">
      <acronym class="acronym">SMTP</acronym> нэвтрэлт танилт</a>тай холбоотой дэлгэрэнгүй
	мэдээллийг <span class="application">sendmail</span> хуудаснаас үзнэ үү.</p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="SMTP-dialup.html">Өмнөх</a> </td><td width="20%" align="center"><a accesskey="u" href="mail.html">Дээш</a></td><td width="40%" align="right"> <a accesskey="n" href="mail-agents.html">Дараах</a></td></tr><tr><td width="40%" align="left" valign="top">29.9. Гадагш залгах холболтоор захидлыг ашиглах нь </td><td width="20%" align="center"><a accesskey="h" href="index.html">Эхлэл</a></td><td width="40%" align="right" valign="top"> 29.11. Хэрэглэгчийн захидал дамжуулагчид</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Энэ болон бусад баримтуудыг
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>
    хаягаас татаж авч болно.</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>FreeBSD-ийн талаар
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;
    хаягтай холбоо барихаасаа өмнө
    <a href="http://www.FreeBSD.org/docs.html">баримтыг</a> уншина уу.<br></br>
    Энэ бичиг баримттай холбоотой асуулт байвал
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;
    хаягаар цахим захидал явуулна уу.<br></br>
    Энэ бичиг баримтын орчуулгатай холбоотой асуулт байвал
    &lt;<a href="mailto:admin@mnbsd.org">admin@mnbsd.org</a>&gt;
    хаягаар цахим захидал явуулна уу.</small></p></body></html>