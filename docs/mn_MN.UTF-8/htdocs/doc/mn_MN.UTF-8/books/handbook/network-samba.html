<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>30.9. Microsoft® Windows® харилцагчдад зориулсан Файл болон Хэвлэх Үйлчилгээ (Samba)</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD гарын авлага" /><link rel="up" href="network-servers.html" title="Бүлэг 30. Сүлжээний орчны Серверүүд" /><link rel="prev" href="network-ftp.html" title="30.8. Файл Дамжуулах Протокол (FTP)" /><link rel="next" href="network-ntp.html" title="30.10. ntpd-р Цаг Тааруулах нь" /><link rel="copyright" href="legalnotice.html" title="Хуулийн заалт" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">30.9. <span class="trademark">Microsoft</span>® <span class="trademark">Windows</span>® харилцагчдад зориулсан Файл болон Хэвлэх Үйлчилгээ (Samba)</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="network-ftp.html">Өмнөх</a> </td><th width="60%" align="center">Бүлэг 30. Сүлжээний орчны Серверүүд</th><td width="20%" align="right"> <a accesskey="n" href="network-ntp.html">Дараах</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="network-samba"></a>30.9. <span class="trademark">Microsoft</span>® <span class="trademark">Windows</span>® харилцагчдад зориулсан Файл болон Хэвлэх Үйлчилгээ (Samba)</h2></div><div><span class="authorgroup">Хувь нэмрээ оруулсан <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Мюррей</span> <span class="surname">Стөүкли</span></span>. </span></div><div><span class="authorgroup">Орчуулсан <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Лодойсамбын</span> <span class="surname">Баянзул</span></span>. </span></div></div></div><a id="idp91370832" class="indexterm"></a><a id="idp91371344" class="indexterm"></a><a id="idp91371856" class="indexterm"></a><a id="idp91373008" class="indexterm"></a><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp91374160"></a>30.9.1. Ерөнхий Агуулга</h3></div></div></div><p><span class="application">Samba</span> бол <span class="trademark">Microsoft</span>® <span class="trademark">Windows</span>® харилцагчдад
файл болон хэвлэх үйлчилгээг үзүүлдэг, өргөн хэрэглэгддэг
нээлттэй эхийн програм хангамжийн багц юм. Ийм төрлийн харилцагчид
FreeBSD файлын орчинд холбогдож, файлуудыг өөрийн дискэн дээр байгаа юм шиг,
эсвэл FreeBSD хэвлэгчийг өөрийн дотоод хэвлэгч шиг хэрэглэх боломжтой болдог.</p><p><span class="application">Samba</span> програм хангамжийн багцууд таны FreeBSD суулгах
дискэнд орсон байгаа. Хэрэв та анх FreeBSD суулгахдаа
<span class="application">Samba</span>-г хамт суулгаагүй бол, <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/net/samba34/pkg-descr">net/samba34</a>
порт эсвэл багцаас суулгаж болно.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp91382608"></a>30.9.2. Тохиргоо</h3></div></div></div><p><span class="application">Samba</span>-н анхдагч тохиргооны файл
<code class="filename">/usr/local/share/examples/samba34/smb.conf.default</code> гэж суугдсан байдаг. Энэ файлыг <code class="filename">/usr/local/etc/smb.conf</code>
нэртэй хуулаад, <span class="application">Samba</span>-г ашиглаж
эхлэхээсээ өмнө өөртөө тааруулан засварлах ёстой.</p><p><code class="filename">smb.conf</code> файл нь <span class="trademark">Windows</span>® харилцагчтай хуваалцах
хүсэлтэй <span class="quote">«<span class="quote">файл системийн хэсэг</span>»</span> ба хэвлэгчийн тодорхойлолт гэх зэрэг
<span class="application">Samba</span>-н ажиллах үеийн тохиргооны мэдээллийг агуулж байдаг.
<span class="application">Samba</span> багц дотор <code class="filename">smb.conf</code> файл дээр ажиллах хялбар
арга замыг хангасан <span class="application">swat</span> нэртэй вэб дээр суурилсан
хэрэгсэл хамт ирдэг.</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp91388368"></a>30.9.2.1. Samba-г Вэбээр Удирдах Хэрэгсэл (SWAT)</h4></div></div></div><p>Samba Web Administration Tool буюу Samba-г Вэбээр Удирдах Хэрэгсэл (SWAT)
нь <span class="application">inetd</span>-н дэмон хэлбэрээр ажиллана.
Тиймээс <a class="xref" href="network-inetd.html" title="30.2. inetd «Супер-Сервер»">Хэсэг 30.2, «<span class="application">inetd</span> <span class="quote">«<span class="quote">Супер-Сервер</span>»</span>»</a> дээр харуулсан шиг <span class="application">inetd</span>-г
идэвхжүүлж <span class="application">Samba</span>-г <span class="application">swat</span>
ашиглан тохируулахын өмнө <code class="filename">/etc/inetd.conf</code> доторх
дараах мөрийг ил гаргах шаардлагатай:</p><pre class="programlisting">swat   stream  tcp     nowait/400      root    /usr/local/sbin/swat    swat</pre><p><a class="xref" href="network-inetd.html#network-inetd-reread" title="Жишээ 30.1. inetd-н тохиргооны файлыг дахин ачаалах нь">Жишээ 30.1, «<span class="application">inetd</span>-н тохиргооны файлыг дахин ачаалах нь»</a> хэсэгт тайлбарласан ёсоор,
энэ тохиргооны файлд өөрчлөлт оруулсны дараа
<span class="application">inetd</span>-ийн тохиргоог дахин ачаалах шаардлагатай.</p><p><span class="application">swat</span>-г <code class="filename">inetd.conf</code> дотор идэвхжүүлсний
дараа, вэб хөтөч ашиглан <code class="uri"><a class="uri" href="http://localhost:901" target="_top">http://localhost:901</a></code> хаяганд холбогдоно.
Та эхлээд системийн <code class="systemitem">root</code> дансаар нэвтэрч орох ёстой.</p><p><span class="application">Samba</span>-н тохиргооны үндсэн хуудсанд
амжилттай нэвтэрч орсон бол, системийн баримтуудаар аялах,
эсвэл <span class="guimenu">Globals</span> цэсэн дээр дарж тохиргоог хийх боломжтой болно.
<span class="guimenu">Globals</span> хэсэг <code class="filename">/usr/local/etc/smb.conf</code> файлын
<code class="literal">[global]</code> хэсэгт байгаа хувьсагчдад харгалзана.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp91397968"></a>30.9.2.2. Глобал тохиргоо</h4></div></div></div><p><span class="application">swat</span>-г хэрэглэж байгаа эсвэл
<code class="filename">/usr/local/etc/smb.conf</code>-г гараараа засаж байгаа аль нь ч бай,
<span class="application">Samba</span>-г тохируулах явцад тааралдах хамгийн эхний
директивууд бол:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">workgroup</code></span></dt><dd><p>Энэ нь сервер рүү хандах компьютеруудын NT Домэйн-Нэр эсвэл
Ажлын бүлгийн-Нэр.</p></dd><dt><span class="term"><code class="literal">netbios name</code></span></dt><dd><a id="idp91403088" class="indexterm"></a><p>Энэ директив <span class="application">Samba</span> серверийн NetBIOS нэрийг заана.
Анхдагч байдлаар, хостын DNS нэрийн эхний хэсэгтэй адил байна.</p></dd><dt><span class="term"><code class="literal">серверийн мөр</code></span></dt><dd><p>Энэ директив <code class="command">net view</code> тушаалын хариуд
гарч ирэх эсвэл зарим сүлжээний хэрэгслүүд дээр энэ серверийг
төлөөлж гарах мөрийг заана.</p></dd></dl></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp91411152"></a>30.9.2.3. Аюулгүй байдлын Тохиргоо</h4></div></div></div><p><code class="filename">/usr/local/etc/smb.conf</code> доторх
хамгийн чухал хоёр тохиргоо бол аюулгүй байдлын загвар,
болон харилцагчдын нэвтрэх үгийн арын шугамны хэлбэр юм.
Дараах директивүүд эдгээр тохируулгуудыг хянана:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">security</code></span></dt><dd><p>Энд хамгийн элбэг хэрэглэгддэг хоёр сонголт бол
<code class="literal">security = share</code> ба <code class="literal">security = user</code> юм. Хэрэв танай харилцагч нар
FreeBSD машин дээр хэрэглэдэг хэрэглэгчийн нэртэй ижил нэрийг ашигладаг бол,
user түвшний аюулгүй байдлыг сонгохыг хүсэж байж магадгүй. Энэ бол
аюулгүй байдлын анхдагч бодлого бөгөөд эх үүсвэрт хандахаас өмнө харилцагчийг
системд нэвтэрч орохыг шаардана.</p><p>share түвшний аюулгүй байдалд, харилцагчид эх үүсвэрт хандахаас өмнө
хүчин төгөлдөр хэрэглэгчийн нэр болон нэвтрэх үгээр сервер рүү нэвтрэн орох
шаардлагагүй байдаг. Энэ бол <span class="application">Samba</span>-н хуучин хувилбаруудын хувьд
аюулгүй байдлын анхдагч загвар байсан.</p></dd><dt><span class="term"><code class="literal">passdb backend</code></span></dt><dd><a id="idp91416912" class="indexterm"></a><a id="idp91417424" class="indexterm"></a><a id="idp91417936" class="indexterm"></a><p><span class="application">Samba</span>-д хэд хэдэн төрлийн
арын шугамны магадлах загварууд байдаг. Харилцагчдыг
LDAP, NIS+, SQL өгөгдлийн сан, эсвэл хувиргасан нэвтрэх үгийн файлаар
магадлаж болно. Анхдагч магадлах арга бол <code class="literal">smbpasswd</code> бөгөөд
бид зөвхөн энэ талаар авч үзэх болно.</p></dd></dl></div><p>Анхдагч <code class="literal">smbpasswd</code> арын шугамыг хэрэглэж байгаа гэж үзвэл,
<span class="application">Samba</span> харилцагчдыг магадлахын тулд
<code class="filename">/usr/local/etc/samba/smbpasswd</code> файлыг эхлээд үүсгэх ёстой.
Хэрэв <span class="trademark">UNIX</span>® хэрэглэгчийн эрхээр <span class="trademark">Windows</span>® харилцагчаас ханддаг байх шаардлагатай бол,
дараах тушаалыг хэрэглэнэ:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>smbpasswd -a username</code></strong></pre><div xmlns="" class="note"><h3 class="admontitle">Тэмдэглэл: </h3><p xmlns="http://www.w3.org/1999/xhtml">Энэ үед санал болгодог арын мэдээллийн сан нь <code class="literal">tdbsam</code> бөгөөд
	    хэрэглэгчийн бүртгэлийг нэмэхийн тулд дараах тушаалыг ашиглах ёстой:</p><pre xmlns="http://www.w3.org/1999/xhtml" class="screen"><code class="prompt">#</code> <strong class="userinput"><code>pdbedit -a -u username</code></strong></pre></div><p>Тохируулгуудын талаар нэмэлт мэдээллийг
<a class="link" href="http://www.samba.org/samba/docs/man/Samba-HOWTO-Collection/" target="_top">Албан ёсны Samba HOWTO</a>-с олж авна уу.
Энд цухас дурдсан үндсэн мэдлэгтэйгээр <span class="application">Samba</span>-г ажиллуулж
эхлэх чадвартай байх ёстой.</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp91435600"></a>30.9.3. <span class="application">Samba</span>-г Эхлүүлэх нь</h3></div></div></div><p><a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/net/samba34/pkg-descr">net/samba34</a> портод <span class="application">Samba</span>-г
удирдахад зориулсан шинэ эхлэл скрипт орсон байгаа. Энэ
скриптийг идэвхжүүлэхийн тулд, өөрөөр хэлбэл энэ скриптийг ашиглан
<span class="application">Samba</span>-г эхлүүлэх, зогсоох болон дахин эхлүүлдэг болохын тулд,
<code class="filename">/etc/rc.conf</code> файл дотор дараах мөрийг нэмж бичих хэрэгтэй:</p><pre class="programlisting">samba_enable="YES"</pre><p>Эсвэл илүү нарийнаар доор дурдсан шиг тохируулж болно:</p><pre class="programlisting">nmbd_enable="YES"</pre><pre class="programlisting">smbd_enable="YES"</pre><div xmlns="" class="note"><h3 class="admontitle">Тэмдэглэл: </h3><p xmlns="http://www.w3.org/1999/xhtml">Ингэснээр мөн <span class="application">Samba</span>-г систем ачаалах үед автоматаар
эхлүүлдэг болгоно.</p></div><p>Үүний дараа хүссэн үедээ <span class="application">Samba</span>-г эхлүүлэхийн тулд
дараах тушаалыг өгөхөд хангалттай:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>service samba start</code></strong>
Starting SAMBA: removing stale tdbs :
Starting nmbd.
Starting smbd.</pre><p>rc скриптийг ашиглах талаар дэлгэрэнгүй мэдээллийг
<a class="xref" href="configtuning-rcd.html" title="12.7. FreeBSD дээр rc(8) ашиглах нь">Хэсэг 12.7, «FreeBSD дээр rc(8) ашиглах нь»</a> хэсгээс авна уу.</p><p><span class="application">Samba</span> нь үнэн хэрэгтээ гурван тусдаа дэмоноос
тогтоно. <span class="application">nmbd</span> ба <span class="application">smbd</span> дэмонууд
<code class="filename">samba</code> скриптээр эхлүүлдэг болохыг та анзаарах болно.
Хэрэв <code class="filename">smb.conf</code> дотор winbind нэр тайлах үйлчилгээг идэвхжүүлсэн бол
<span class="application">winbindd</span> дэмон бас ажиллаж эхэлсэн болохыг харж болно.</p><p><span class="application">Samba</span>-г хүссэн үедээ зогсоохын тулд дараах тушаалыг өгөхөд
хангалттай:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>service samba stop</code></strong></pre><p><span class="application">Samba</span> бол <span class="trademark">Microsoft</span>® <span class="trademark">Windows</span>® сүлжээтэй өргөн хүрээнд
нэгдмэл ажиллах боломжийг олгодог нарийн төвөгтэй програмын цогц юм.
Энд тайлбарласан үндсэн суулгацаас хальсан функцуудын талаар дэлгэрэнгүй
мэдээллийг <code class="uri"><a class="uri" href="http://www.samba.org" target="_top">http://www.samba.org</a></code> хаягаар орж авна уу.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="network-ftp.html">Өмнөх</a> </td><td width="20%" align="center"><a accesskey="u" href="network-servers.html">Дээш</a></td><td width="40%" align="right"> <a accesskey="n" href="network-ntp.html">Дараах</a></td></tr><tr><td width="40%" align="left" valign="top">30.8. Файл Дамжуулах Протокол (FTP) </td><td width="20%" align="center"><a accesskey="h" href="index.html">Эхлэл</a></td><td width="40%" align="right" valign="top"> 30.10. <span class="application">ntpd</span>-р Цаг Тааруулах нь</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Энэ болон бусад баримтуудыг
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>
    хаягаас татаж авч болно.</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>FreeBSD-ийн талаар
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;
    хаягтай холбоо барихаасаа өмнө
    <a href="http://www.FreeBSD.org/docs.html">баримтыг</a> уншина уу.<br></br>
    Энэ бичиг баримттай холбоотой асуулт байвал
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;
    хаягаар цахим захидал явуулна уу.<br></br>
    Энэ бичиг баримтын орчуулгатай холбоотой асуулт байвал
    &lt;<a href="mailto:admin@mnbsd.org">admin@mnbsd.org</a>&gt;
    хаягаар цахим захидал явуулна уу.</small></p></body></html>