<?xml version="1.0" encoding="utf-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>4. 系统启动：运行级别在哪里？</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Linux® 用户的 FreeBSD 快速入门向导" /><link rel="up" href="index.html" title="Linux® 用户的 FreeBSD 快速入门向导" /><link rel="prev" href="software.html" title="3. Packages和Ports：在 FreeBSD 中添加软件" /><link rel="next" href="network.html" title="5. 网络配置" /><link rel="copyright" href="trademarks.html" title="法律通告" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">4. 系统启动：运行级别在哪里？</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="software.html">上一页</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="network.html">下一页</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="startup"></a>4. 系统启动：运行级别在哪里？</h2></div></div></div><p><span class="trademark">Linux</span>® 使用 Sysv init 初始化系统，而 FreeBSD
      使用的是传统的 BSD 风格的 <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=init&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">init</span>(8)</span></a>。在 BSD 风格的
      <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=init&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">init</span>(8)</span></a> 中没有运行级别和 <code class="filename">/etc/inittab</code>，
      代替控制启动的是 <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=rc&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">rc</span>(8)</span></a> 实用程序。
      <code class="filename">/etc/rc</code> 脚本读取
      <code class="filename">/etc/defaults/rc.conf</code> 和
      <code class="filename">/etc/rc.conf</code> 文件来决定哪个服务将被启动。
      特殊服务在此后由处于 <code class="filename">/etc/rc.d/</code> 和
      <code class="filename">/usr/local/etc/rc.d/</code>
      下的相应服务初始化脚本文件所启动。
      这些脚本类似于位于 <span class="trademark">Linux</span>® 系统中的
      <code class="filename">/etc/init.d/</code> 目录下的脚本。</p><div class="sidebar"><div xmlns="" class="titlepage"></div><p><span class="emphasis"><em>为何会有两个服务初始化脚本的目录呢？</em></span>
        <code class="filename">/etc/rc.d/</code> 下的脚本是属于
        <span class="quote">“<span class="quote">基本</span>”</span> 系统一部分的应用程序所使用的。
        （<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=cron&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">cron</span>(8)</span></a>，<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sshd&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sshd</span>(8)</span></a>，<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=syslog&amp;sektion=3"><span class="citerefentry"><span class="refentrytitle">syslog</span>(3)</span></a>，以及其他。）
        <code class="filename">/usr/local/etc/rc.d/</code>
        下的脚本是用户安装的应用程序如 <span class="application">Apache</span>，
        <span class="application">Squid</span> 等使用的。</p><p><span class="emphasis"><em><span class="quote">“<span class="quote">基本</span>”</span>
          系统和用户安装的应用程序之间的区别是什么？</em></span> FreeBSD
        是一套开发出来的完整的操作系统，也就是说，内核，系统类库，
        还有实用应用程序（如 <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ls&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ls</span>(1)</span></a>，<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=cat&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">cat</span>(1)</span></a>，<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=cp&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">cp</span>(1)</span></a> 等）
        全部被做为一个整体一起开发并释出。这就是被认为归属于
        <span class="quote">“<span class="quote">基本</span>”</span>系统的程序。用户安装的程序并不是
        <span class="quote">“<span class="quote">基本</span>”</span>系统的一部分，如
        <span class="application">Apache</span>，<span class="application">X11</span>，
        <span class="application">Moazilla Firefox</span>，等等。这
        些用户安装的应用程序通常是使用 FreeBSD 的 Packages 和 Ports
        套件安装上去的。为了将这些程序和 <span class="quote">“<span class="quote">基本</span>”</span>
        系统区分开来，用户安装的应用程序通常被安装到
        <code class="filename">/usr/local/</code>下。
        因此用户安装的二进制执行文件存在于
        <code class="filename">/usr/local/bin</code>下，配置文件在
        <code class="filename">/usr/local/etc</code>下，以此类推。</p></div><p>您可以通过在
      <code class="filename">/etc/rc.conf</code>（<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=rc.conf&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">rc.conf</span>(5)</span></a>）
      文件中增加与之对应的
      <code class="literal">ServiceName_enable="YES"</code>
      配置来启用服务。 看一下系统默认的
      <code class="filename">/etc/defaults/rc.conf</code> 文件， 这些默认配置可以使用
      <code class="filename">/etc/rc.conf</code> 文件来改变。 因此，
      当安装附加应用程序时最好回顾下文档来决定到底该如何启用任何相关的服务。</p><p>下面的一小段内容用来在 <code class="filename">/etc/rc.conf</code>
      中启用 <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sshd&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sshd</span>(8)</span></a> 和 <span class="application">Apache 2.2</span>。
      还指定了 <span class="application">Apache</span> 应该通过
      SSL 方式启动。</p><pre class="programlisting"># enable SSHD
sshd_enable="YES"
# enable Apache with SSL
apache22_enable="YES"
apache22_flags="-DSSL"</pre><p>一旦服务已经在 <code class="filename">/etc/rc.conf</code>
      中启用，服务将能够从命令行启动（不需要重新启动系统）：</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>/etc/rc.d/sshd start</code></strong></pre><p>如果服务还没有被启用，可以使用
      <code class="option">forcestart</code> 来从命令行启动：</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>/etc/rc.d/sshd forcestart</code></strong></pre></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="software.html">上一页</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="network.html">下一页</a></td></tr><tr><td width="40%" align="left" valign="top">3. Packages和Ports：在 FreeBSD 中添加软件 </td><td width="20%" align="center"><a accesskey="h" href="index.html">起始页</a></td><td width="40%" align="right" valign="top"> 5. 网络配置</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>本文档和其它文档可从这里下载：
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>.</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>如果对于FreeBSD有问题，请先阅读
    <a href="http://www.FreeBSD.org/docs.html">文档</a>，如不能解决再联系
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    关于本文档的问题请发信联系
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>