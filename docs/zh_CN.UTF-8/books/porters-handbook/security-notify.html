<?xml version="1.0" encoding="utf-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>11.3. 通知整个用户群体</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD Porter 手册" /><link rel="up" href="security.html" title="第 11 章 Ports 的安全" /><link rel="prev" href="security-fix.html" title="11.2. 修复安全漏洞" /><link rel="next" href="porting-dads.html" title="第 12 章 该做什么和不该做什么" /><link rel="copyright" href="trademarks.html" title="法律声明" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">11.3. 通知整个用户群体</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="security-fix.html">上一页</a> </td><th width="60%" align="center">第 11 章 Ports 的安全</th><td width="20%" align="right"> <a accesskey="n" href="porting-dads.html">下一页</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="security-notify"></a>11.3. 通知整个用户群体</h2></div></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="security-notify-vuxml-db"></a>11.3.1. VuXML 数据库</h3></div></div></div><p>当发现了安全漏洞时的一项重要而紧迫的步骤，
	    就是让使用 port 的用户群了解其危险。 这类通知有两重目的。
	    首先， 如果危害真的很严重， 可能理性的办法就是立即应用一项缓解措施，
	    例如， 停止受到影响的服务， 甚至完全删除 port， 直到问题被修正为止。
	    其次， 许多用户只是偶尔升级所安装的软件包， 通过通知，
	    他们能够知道已经到了 <span class="emphasis"><em>必须</em></span> 更新软件的时候，
	    因为已经有了修正这些问题的版本了。</p><p>由于现有的 port 数量极其庞大， 为每一个问题都发布安全公告，
	    毫无疑问地会发表和狼来了一样多的安全公告，
	    并增大受众在真的发生严重的问题时忽略问题的可能。
	    因此， 在 port 中发现的安全漏洞， 会在 <a class="link" href="http://vuxml.freebsd.org/" target="_top">FreeBSD VuXML
	    数据库</a> 中记录。 安全官团队成员会持续地追踪这个数据库的修改，
	    以了解需要他们注意的内容。</p><p>如果您是 committer， 则可以自行更新 VuXML 数据库。
	    这样， 您就能够同时帮助安全官团队，
	    并尽早将至关重要的信息传达给用户群体。 然而， 如果您不是 committer，
	    或者您相信自己发现了一个异常严重的漏洞，
	    请不要犹豫， 按照 <a class="link" href="http://www.freebsd.org/zh_CN/security/#how" target="_top">FreeBSD
	    安全信息</a> 页面上的方法联系安全官团队。</p><p>正如其名称所暗示的那样， VuXML
	    数据库是一个 XML 文档。 其源文件 <code class="filename">vuln.xml</code>
	    被保存在 <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/security/vuxml/pkg-descr">security/vuxml</a> port 的目录中。
	    所以， 它的全名是
	    <code class="filename">PORTSDIR/security/vuxml/vuln.xml</code>。
	    每当您发现 port 中的安全漏洞时， 请把新的纪录加入到那个文件中。
	    在熟悉 VuXML 之前， 您最好先看看是否有类似的您发现的问题的其它记录，
	    并复制它作为模板。</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="security-notify-vuxml-intro"></a>11.3.2. VuXML 简介</h3></div></div></div><p>XML 是一个复杂的语言， 它远远超越了这本书的范围。
	    不过， 只需了解标记的命名规则， 就能 VuXML 记录的结构有一个大体的了解了。
	    XML 标记的名字应出现在一对尖括号之间。 每一个
	    &lt;tag&gt; 必须有一个对应的 &lt;/tag&gt;。 标记可以嵌套，
	    如果嵌套的话， 内层的标记必须在外层标记之前结束。
	    这就形成了一个标记的层次结构， 也就是关于它们之间如何嵌套的规则。
	    听起来很像 HTML， 是不是？ 最主要的区别在于， XML
	    是可扩展的 (e<span class="emphasis"><em>X</em></span>tensible)，
	    例如通过定义新的标记等等。 由于其结构的内在性质，
	    XML 能够赋予无组织的数据新的形态。 VuXML 是专门为描述安全漏洞设计的语言。</p><p>现在让我们来观察一个实际的 VuXML 记录：</p><pre class="programlisting">&lt;vuln vid="f4bc80f4-da62-11d8-90ea-0004ac98a7b9"&gt; <a id="co-vx-vid"></a><span><img src="./imagelib/callouts/1.png" alt="1" border="0" /></span>
  &lt;topic&gt;Several vulnerabilities found in Foo&lt;/topic&gt; <a id="co-vx-top"></a><span><img src="./imagelib/callouts/2.png" alt="2" border="0" /></span>
  &lt;affects&gt;
    &lt;package&gt;
      &lt;name&gt;foo&lt;/name&gt; <a id="co-vx-nam"></a><span><img src="./imagelib/callouts/3.png" alt="3" border="0" /></span>
      &lt;name&gt;foo-devel&lt;/name&gt;
      &lt;name&gt;ja-foo&lt;/name&gt;
      &lt;range&gt;&lt;ge&gt;1.6&lt;/ge&gt;&lt;lt&gt;1.9&lt;/lt&gt;&lt;/range&gt; <a id="co-vx-rng"></a><span><img src="./imagelib/callouts/4.png" alt="4" border="0" /></span>
      &lt;range&gt;&lt;ge&gt;2.*&lt;/ge&gt;&lt;lt&gt;2.4_1&lt;/lt&gt;&lt;/range&gt;
      &lt;range&gt;&lt;eq&gt;3.0b1&lt;/eq&gt;&lt;/range&gt;
    &lt;/package&gt;
    &lt;package&gt;
      &lt;name&gt;openfoo&lt;/name&gt; <a id="co-vx-nm2"></a><span><img src="./imagelib/callouts/5.png" alt="5" border="0" /></span>
      &lt;range&gt;&lt;lt&gt;1.10_7&lt;/lt&gt;&lt;/range&gt; <a id="co-vx-epo"></a><span><img src="./imagelib/callouts/6.png" alt="6" border="0" /></span>
      &lt;range&gt;&lt;ge&gt;1.2,1&lt;/ge&gt;&lt;lt&gt;1.3_1,1&lt;/lt&gt;&lt;/range&gt;
    &lt;/package&gt;
  &lt;/affects&gt;
  &lt;description&gt;
    &lt;body xmlns="http://www.w3.org/1999/xhtml"&gt;
      &lt;p&gt;J. Random Hacker reports:&lt;/p&gt; <a id="co-vx-bdy"></a><span><img src="./imagelib/callouts/7.png" alt="7" border="0" /></span>
      &lt;blockquote
        cite="http://j.r.hacker.com/advisories/1"&gt;
        &lt;p&gt;Several issues in the Foo software may be exploited
          via carefully crafted QUUX requests.  These requests will
          permit the injection of Bar code, mumble theft, and the
          readability of the Foo administrator account.&lt;/p&gt;
      &lt;/blockquote&gt;
    &lt;/body&gt;
  &lt;/description&gt;
  &lt;references&gt; <a id="co-vx-ref"></a><span><img src="./imagelib/callouts/8.png" alt="8" border="0" /></span>
    &lt;freebsdsa&gt;SA-10:75.foo&lt;/freebsdsa&gt; <a id="co-vx-fsa"></a><span><img src="./imagelib/callouts/9.png" alt="9" border="0" /></span>
    &lt;freebsdpr&gt;ports/987654&lt;/freebsdpr&gt; <a id="co-vx-fpr"></a><span><img src="./imagelib/callouts/10.png" alt="10" border="0" /></span>
    &lt;cvename&gt;CAN-2010-0201&lt;/cvename&gt; <a id="co-vx-cve"></a><span><img src="./imagelib/callouts/11.png" alt="11" border="0" /></span>
    &lt;cvename&gt;CAN-2010-0466&lt;/cvename&gt;
    &lt;bid&gt;96298&lt;/bid&gt; <a id="co-vx-bid"></a><span><img src="./imagelib/callouts/12.png" alt="12" border="0" /></span>
    &lt;certsa&gt;CA-2010-99&lt;/certsa&gt; <a id="co-vx-cts"></a><span><img src="./imagelib/callouts/13.png" alt="13" border="0" /></span>
    &lt;certvu&gt;740169&lt;/certvu&gt; <a id="co-vx-ctv"></a><span><img src="./imagelib/callouts/14.png" alt="14" border="0" /></span>
    &lt;uscertsa&gt;SA10-99A&lt;/uscertsa&gt; <a id="co-vx-ucs"></a><span><img src="./imagelib/callouts/15.png" alt="15" border="0" /></span>
    &lt;uscertta&gt;SA10-99A&lt;/uscertta&gt; <a id="co-vx-uct"></a><span><img src="./imagelib/callouts/16.png" alt="16" border="0" /></span>
    &lt;mlist msgid="201075606@hacker.com"&gt;http://marc.theaimsgroup.com/?l=bugtraq&amp;amp;m=203886607825605&lt;/mlist&gt; <a id="co-vx-mls"></a><span><img src="./imagelib/callouts/17.png" alt="17" border="0" /></span>
    &lt;url&gt;http://j.r.hacker.com/advisories/1&lt;/url&gt; <a id="co-vx-url"></a><span><img src="./imagelib/callouts/18.png" alt="18" border="0" /></span>
  &lt;/references&gt;
  &lt;dates&gt;
    &lt;discovery&gt;2010-05-25&lt;/discovery&gt; <a id="co-vx-dsc"></a><span><img src="./imagelib/callouts/19.png" alt="19" border="0" /></span>
    &lt;entry&gt;2010-07-13&lt;/entry&gt; <a id="co-vx-ent"></a><span><img src="./imagelib/callouts/20.png" alt="20" border="0" /></span>
    &lt;modified&gt;2010-09-17&lt;/modified&gt; <a id="co-vx-mod"></a><span><img src="./imagelib/callouts/21.png" alt="21" border="0" /></span>
  &lt;/dates&gt;
&lt;/vuln&gt;</pre><p>标记的名字都是简单明了的， 下面我们来介绍一下需要由您填写的字段：</p><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#co-vx-vid"><span><img src="./imagelib/callouts/1.png" alt="1" border="0" /></span></a> </p></td><td valign="top" align="left"><p>这是 VuXML 记录的顶级 tag。
		它有一个强制性的字段， <code class="literal">vid</code>，
		用于为此记录 (它包含的部分) 指定一个全局唯一标识符 (UUID)。
		您应为每一个新的 vuXML 生成新的 UUID (而且别忘了要把模板中的
		UUID 换成新的， 如果您不是从头开始的话)。 您可以使用 <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=uuidgen&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">uuidgen</span>(1)</span></a>
		来生成 VuXML UUID。</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-vx-top"><span><img src="./imagelib/callouts/2.png" alt="2" border="0" /></span></a> </p></td><td valign="top" align="left"><p>关于问题的一句话描述。</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-vx-nam"><span><img src="./imagelib/callouts/3.png" alt="3" border="0" /></span></a> </p></td><td valign="top" align="left"><p>此处给出受到影响的 package 的名字。 可以给出多个名字，
		因为可能有多个软件包基于同一个 master port 或软件产品。
		这可能包括稳定和开发分支、 本地化版本，
		以及提供了不同的编译时选项的 slave port。</p><div xmlns="" class="important"><h3 class="admontitle">重要: </h3><p xmlns="http://www.w3.org/1999/xhtml">撰写 VuXML 记录时， 您有责任找到所有相关的包。 很多时候
		  <code class="literal">make search name=foo</code> 是您的朋友。
		  需要留意的通常包括：</p><div xmlns="http://www.w3.org/1999/xhtml" class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="filename">foo</code> port 的
		      <code class="filename">foo-devel</code> 变体；</p></li><li class="listitem"><p>包含不同后缀的其它变体， 例如
		      <code class="literal">-a4</code> (对于和打印有关的软件包)，
		      <code class="literal">-without-gui</code> (提供但禁用了 X
		      支持的软件包)， 以及类似的其它情况；</p></li><li class="listitem"><p><code class="literal">jp-</code>， <code class="literal">ru-</code>、
		      <code class="literal">zh-</code>， 以及其它可能的本地化变体，
		      它们通常可以在 Ports Collection 中相应的国家分类中找到。</p></li></ul></div></div></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-vx-rng"><span><img src="./imagelib/callouts/4.png" alt="4" border="0" /></span></a> </p></td><td valign="top" align="left"><p>受影响的 package 版本， 可以使用
		<code class="literal">&lt;lt&gt;</code>, <code class="literal">&lt;le&gt;</code>,
		<code class="literal">&lt;eq&gt;</code>, <code class="literal">&lt;ge&gt;</code>,
		和 <code class="literal">&lt;gt&gt;</code> 表达成一个或多个版本及其范围。
		注意给出的版本范围不应存在重叠。</p><p>在描述范围的时候， <code class="literal">*</code> (星号)
		表达最小的版本。 更具体地说，
		<code class="literal">2.*</code> 小于 <code class="literal">2.a</code>。
		因此， 星号可以用来匹配所有可能的
		<code class="literal">alpha</code>、 <code class="literal">beta</code>，
		以及 <code class="literal">RC</code> 版本。 例如，
		<code class="literal">&lt;ge&gt;2.*&lt;/ge&gt;&lt;lt&gt;3.*&lt;/lt&gt;</code>
		可以选择性地匹配每一个 <code class="literal">2.x</code> 的版本， 而
		<code class="literal">&lt;ge&gt;2.0&lt;/ge&gt;&lt;lt&gt;3.0&lt;/lt&gt;</code>
		显然不能， 因为它会漏掉
		<code class="literal">2.r3</code> 而匹配
		<code class="literal">3.b</code>。</p><p>上面的例子指定了受影响的版本， 是包括 <code class="literal">1.6</code>
		到 <code class="literal">1.9</code> 上下界的所有版本， 以及
		<code class="literal">2.x</code> 在 <code class="literal">2.4_1</code> 之前的版本，
		和 <code class="literal">3.0b1</code> 版。</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-vx-nm2"><span><img src="./imagelib/callouts/5.png" alt="5" border="0" /></span></a> </p></td><td valign="top" align="left"><p>受到影响的一组 package (本质上是 ports)
		可以列在 <code class="literal">&lt;affected&gt;</code> 小节中。
		如果多个软件产品都采用了同样的基础代码，
		(比如说 FooBar、 FreeBar 和 OpenBar) 而且包含同样的 bug
		或漏洞。 请注意列出多个名字时， 应该在一个
		&lt;package&gt; 小节中完成。</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-vx-epo"><span><img src="./imagelib/callouts/6.png" alt="6" border="0" /></span></a> </p></td><td valign="top" align="left"><p>如果可能， 版本的范围应包括
		<code class="varname">PORTEPOCH</code> 和
		<code class="varname">PORTREVISION</code>。
		务必注意， 根据加权规则， 带有非零 <code class="varname">PORTEPOCH</code>
		的版本， 系统会认为比没有
		<code class="varname">PORTEPOCH</code> 的版本高， 例如 <code class="literal">3.0,1</code>
		高于 <code class="literal">3.1</code> 甚至
		<code class="literal">8.9</code>。</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-vx-bdy"><span><img src="./imagelib/callouts/7.png" alt="7" border="0" /></span></a> </p></td><td valign="top" align="left"><p>关于问题的摘要性信息。 此处使用
		XHTML。 务必要成对使用
		<code class="literal">&lt;p&gt;</code> 和 <code class="literal">&lt;/p&gt;</code>。
		可以使用较为复杂的标记， 但仅限于有助于让信息更准确和明了的修饰：
		请不要过分地美化。</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-vx-ref"><span><img src="./imagelib/callouts/8.png" alt="8" border="0" /></span></a> </p></td><td valign="top" align="left"><p>这部分包含了相关的可供参考的文档。
		请尽可能多提供参考文献。</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-vx-fsa"><span><img src="./imagelib/callouts/9.png" alt="9" border="0" /></span></a> </p></td><td valign="top" align="left"><p>指定
		<a class="link" href="http://www.freebsd.org/security/#adv" target="_top">FreeBSD
		安全公告</a>。</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-vx-fpr"><span><img src="./imagelib/callouts/10.png" alt="10" border="0" /></span></a> </p></td><td valign="top" align="left"><p>指定
		<a class="link" href="http://www.freebsd.org/support.html#gnats" target="_top">FreeBSD
		问题报告</a>。</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-vx-cve"><span><img src="./imagelib/callouts/11.png" alt="11" border="0" /></span></a> </p></td><td valign="top" align="left"><p>指定 <a class="link" href="http://www.cve.mitre.org/" target="_top">Mitre
		CVE</a> ID。</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-vx-bid"><span><img src="./imagelib/callouts/12.png" alt="12" border="0" /></span></a> </p></td><td valign="top" align="left"><p>指定
		<a class="link" href="http://www.securityfocus.com/bid" target="_top">SecurityFocus
		Bug ID</a>。</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-vx-cts"><span><img src="./imagelib/callouts/13.png" alt="13" border="0" /></span></a> </p></td><td valign="top" align="left"><p>指定
		<a class="link" href="http://www.cert.org/" target="_top">US-CERT</a>
		安全公告。</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-vx-ctv"><span><img src="./imagelib/callouts/14.png" alt="14" border="0" /></span></a> </p></td><td valign="top" align="left"><p>指定
		<a class="link" href="http://www.cert.org/" target="_top">US-CERT</a>
		漏洞说明。</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-vx-ucs"><span><img src="./imagelib/callouts/15.png" alt="15" border="0" /></span></a> </p></td><td valign="top" align="left"><p>指定
		<a class="link" href="http://www.cert.org/" target="_top">US-CERT</a>
		计算机安全警报。</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-vx-uct"><span><img src="./imagelib/callouts/16.png" alt="16" border="0" /></span></a> </p></td><td valign="top" align="left"><p>指定
		<a class="link" href="http://www.cert.org/" target="_top">US-CERT</a>
		技术性计算机安全警报。</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-vx-mls"><span><img src="./imagelib/callouts/17.png" alt="17" border="0" /></span></a> </p></td><td valign="top" align="left"><p>指向邮件列表存档的 URL。
		属性 <code class="literal">msgid</code> 是可选项，
		用以指定某一封信的 message ID。</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-vx-url"><span><img src="./imagelib/callouts/18.png" alt="18" border="0" /></span></a> </p></td><td valign="top" align="left"><p>一般的 URL。 只有在没有其它更适合的参考文献时，
		才应使用它。</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-vx-dsc"><span><img src="./imagelib/callouts/19.png" alt="19" border="0" /></span></a> </p></td><td valign="top" align="left"><p>问题被全面披露的日期
		(<em class="replaceable"><code>YYYY-MM-DD</code></em>)。</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-vx-ent"><span><img src="./imagelib/callouts/20.png" alt="20" border="0" /></span></a> </p></td><td valign="top" align="left"><p>记录加入到数据库中的日期
		(<em class="replaceable"><code>YYYY-MM-DD</code></em>)。</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-vx-mod"><span><img src="./imagelib/callouts/21.png" alt="21" border="0" /></span></a> </p></td><td valign="top" align="left"><p>记录最后一次被修改的日期
		(<em class="replaceable"><code>YYYY-MM-DD</code></em>)。 新记录不应包括这个字段。
		只有在修改记录时才应加入它。</p></td></tr></table></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="security-notify-vuxml-testing"></a>11.3.3. 测试您对 VuXML 数据库所作的修改</h3></div></div></div><p>假定您打算撰写， 或已经写好了一个关于
	    package <code class="literal">clamav</code> 的问题描述， 并且，
	    已经知道 <code class="literal">0.65_7</code> 版本修正了这个问题。</p><p>您需要做的准备工作， 是 <span class="emphasis"><em>安装</em></span> 一个新版本的
	    ports <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/ports-mgmt/portaudit/pkg-descr">ports-mgmt/portaudit</a> 程序、
	    <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/ports-mgmt/portaudit-db/pkg-descr">ports-mgmt/portaudit-db</a>， 以及
	    <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/security/vuxml/pkg-descr">security/vuxml</a>。</p><div xmlns="" class="note"><h3 class="admontitle">注意: </h3><p xmlns="http://www.w3.org/1999/xhtml">要运行 <code class="command">packaudit</code>，
	      您必须拥有其
	      <code class="filename">DATABASEDIR</code>，
	      通常是 <code class="filename">/var/db/portaudit</code>
	      的写入权限。</p><p xmlns="http://www.w3.org/1999/xhtml">您可以通过
	      <code class="filename">DATABASEDIR</code>
	      环境变量来指定一个不同的位置。</p><p xmlns="http://www.w3.org/1999/xhtml">如果您的工作目录是
	      <code class="filename">${PORTSDIR}/security/vuxml</code>
	      以外的其它地方， 则应使用环境变量
	      <code class="filename">VUXMLDIR</code>
	      来指明
	      <code class="filename">vuln.xml</code> 的位置。</p></div><p>首先， 检查一下是否已经有了关于这个漏洞的描述。
	    如果已经有过这样的记录， 那么它将匹配较早版本的 package，
	    <code class="literal">0.65_6</code>：</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>packaudit</code></strong>
<code class="prompt">%</code> <strong class="userinput"><code>portaudit clamav-0.65_6</code></strong></pre><p>如果什么都没有发现， 您就可以考虑写一个新的记录来描述这个漏洞了。
	    现在可以生成一个新的 UUID (假设它是
	    <code class="literal">74a9541d-5d6c-11d8-80e3-0020ed76ef5a</code>)，
	    然后将您的新记录加入到 VuXML 数据库中。 接下来，
	    用下面的命令来检查它是否符合语法：</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>cd ${PORTSDIR}/security/vuxml &amp;&amp; make validate</code></strong></pre><div xmlns="" class="note"><h3 class="admontitle">注意: </h3><p xmlns="http://www.w3.org/1999/xhtml">您需要安装下列 package 中的至少一个：
	      <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/textproc/libxml2/pkg-descr">textproc/libxml2</a>、
	      <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/textproc/jade/pkg-descr">textproc/jade</a>。</p></div><p>接下来从 VuXML 文件重构 <code class="command">portaudit</code> 数据库：</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>packaudit</code></strong></pre><p>要验证您新加入的项的 <code class="literal">&lt;affected&gt;</code>
	    小节能够正确地匹配希望的 package， 可以使用下面的命令：</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>portaudit -f /usr/ports/INDEX -r 74a9541d-5d6c-11d8-80e3-0020ed76ef5a</code></strong></pre><div xmlns="" class="note"><h3 class="admontitle">注意: </h3><p xmlns="http://www.w3.org/1999/xhtml">请参见 <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=portaudit&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">portaudit</span>(1)</span></a> 以了解关于这个命令语法的更多细节。</p></div><p>请确信新添加的记录不会在输出中匹配不应匹配的项。</p><p>现在检查您添加的记录所匹配的版本是否正确：</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>portaudit clamav-0.65_6 clamav-0.65_7</code></strong>
Affected package: clamav-0.65_6 (matched by clamav&lt;0.65_7)
Type of problem: clamav remote denial-of-service.
Reference: &lt;http://www.freebsd.org/ports/portaudit/74a9541d-5d6c-11d8-80e3-0020ed76ef5a.html&gt;

1 problem(s) found.</pre><p>显然， 前一个版本会匹配， 而后一个不会。</p><p>最后， 验证您从
	    VuXML 数据库中能够正确地得到预期的网页效果：</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>mkdir -p ~/public_html/portaudit</code></strong>
<code class="prompt">%</code> <strong class="userinput"><code>packaudit</code></strong>
<code class="prompt">%</code> <strong class="userinput"><code>lynx ~/public_html/portaudit/74a9541d-5d6c-11d8-80e3-0020ed76ef5a.html</code></strong></pre></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="security-fix.html">上一页</a> </td><td width="20%" align="center"><a accesskey="u" href="security.html">上一级</a></td><td width="40%" align="right"> <a accesskey="n" href="porting-dads.html">下一页</a></td></tr><tr><td width="40%" align="left" valign="top">11.2. 修复安全漏洞 </td><td width="20%" align="center"><a accesskey="h" href="index.html">起始页</a></td><td width="40%" align="right" valign="top"> 第 12 章 该做什么和不该做什么</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>本文档和其它文档可从这里下载：
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>.</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>如果对于FreeBSD有问题，请先阅读
    <a href="http://www.FreeBSD.org/docs.html">文档</a>，如不能解决再联系
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    关于本文档的问题请发信联系
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>