<?xml version="1.0" encoding="utf-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>5.9. 联机手册</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD Porter 手册" /><link rel="up" href="makefile.html" title="第 5 章 配置 Makefile" /><link rel="prev" href="makefile-masterdir.html" title="5.8. MASTERDIR (主 port 所在的目录)" /><link rel="next" href="makefile-info.html" title="5.10. Info 文件" /><link rel="copyright" href="trademarks.html" title="法律声明" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">5.9. 联机手册</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="makefile-masterdir.html">上一页</a> </td><th width="60%" align="center">第 5 章 配置 Makefile</th><td width="20%" align="right"> <a accesskey="n" href="makefile-info.html">下一页</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="makefile-manpages"></a>5.9. 联机手册</h2></div></div></div><p><code class="varname">MAN[1-9LN]</code> 这些变量，
	会自动地将联机手册加到 <code class="filename">pkg-plist</code> (这也意味着
	<span class="emphasis"><em>不能</em></span> 在
	<code class="filename">pkg-plist</code> 中列出联机手册 ── 参见 <a class="link" href="plist.html#plist-sub" title="7.1. 根据 make 变量对 pkg-plist 进行修改">PLIST 的生成</a> 来了解更多细节)。 此外，
	这也会让安装阶段自动地根据在 <code class="filename">/etc/make.conf</code>
	中所作的 <code class="varname">NO_MANCOMPRESS</code>
	设置来自动对联机手册文件执行压缩或解压缩操作。</p><p>如果 port 尝试通过使用符号连接或硬连接将联机手册安装为多个名字，
	就必须使用 <code class="varname">MLINKS</code> 变量来予以明示。
	由 port 创建的连接， 将由 <code class="filename">bsd.port.mk</code>
	删除和重建， 以确认它们指向了正确的文件。 任何在 MLINKS 中列出的文件都不应在
	<code class="filename">pkg-plist</code> 中再出现。</p><p>要指定是否在安装时对联机手册进行压缩，
	可以使用 <code class="varname">MANCOMPRESSED</code> 变量。
	这一变量可以取三种值， <code class="literal">yes</code>、 <code class="literal">no</code> 和
	<code class="literal">maybe</code> 之一。 <code class="literal">yes</code>
	表示联机手册已经以压缩的形式安装， <code class="literal">no</code> 表示还没有，
	而 <code class="literal">maybe</code> 则表示所安装的软件会尊重
	<code class="varname">NO_MANCOMPRESS</code> 的设置值， 因此
	<code class="filename">bsd.port.mk</code> 不需要特别做什么事情。</p><p>如果设置了 <code class="varname">USE_IMAKE</code> 而未定义
	<code class="varname">NO_INSTALL_MANPAGES</code>，
	<code class="varname">MANCOMPRESSED</code> 会自动设为
	<code class="literal">yes</code>， 反之则是
	<code class="literal">no</code>。 除非默认值不合适，
	否则就不需要在 port 中明确地加以改变。</p><p>如果 port 将联机手册放到了
	<code class="varname">PREFIX</code> 之外的其它目录， 则应使用
	<code class="varname">MANPREFIX</code> 来加以设置。 此外，
	如果只有某些部分的联机手册会安装到不标准的位置， 例如某些 <code class="literal">perl</code>
	模块的 port， 还可以使用
	<code class="varname">MAN<em class="replaceable"><code>sect</code></em>PREFIX</code> (此处
	<em class="replaceable"><code>sect</code></em> 是 <code class="literal">1-9</code>、
	<code class="literal">L</code> 或 <code class="literal">N</code> 之一) 来指定。</p><p>如果您的联机手册需要装入专用于某一语言专用的子目录，
	需要将 <code class="varname">MANLANG</code> 设为那种语言的名字。
	此变量的默认值是 <code class="literal">""</code> (也就是只有英语)。</p><p>下面是一个综合的例子。</p><pre class="programlisting">MAN1=          foo.1
MAN3=          bar.3
MAN4=          baz.4
MLINKS=        foo.1 alt-name.8
MANLANG=       "" ja
MAN3PREFIX=    ${PREFIX}/share/foobar
MANCOMPRESSED= yes</pre><p>这表示 port 会安装六个文件；</p><pre class="programlisting">${MANPREFIX}/man/man1/foo.1.gz
${MANPREFIX}/man/ja/man1/foo.1.gz
${PREFIX}/share/foobar/man/man3/bar.3.gz
${PREFIX}/share/foobar/man/ja/man3/bar.3.gz
${MANPREFIX}/man/man4/baz.4.gz
${MANPREFIX}/man/ja/man4/baz.4.gz</pre><p>此外， <code class="filename">${MANPREFIX}/man/man8/alt-name.8.gz</code>
	可能会通过您的 port 安装， 也可能不会。 无论如何，
	都会创建一个符号连接， 把 foo(1) 和
	alt-name(8) 联机手册连起来。</p><p>假如只有部分联机手册是翻译过的，
	则可以使用一些根据 <code class="varname">MANLANG</code> 内容动态生成的变量：</p><pre class="programlisting">MANLANG=       "" de ja
MAN1=          foo.1
MAN1_EN=       bar.1
MAN3_DE=       baz.3</pre><p>这相当于下列文件：</p><pre class="programlisting">${MANPREFIX}/man/man1/foo.1.gz
${MANPREFIX}/man/de/man1/foo.1.gz
${MANPREFIX}/man/ja/man1/foo.1.gz
${MANPREFIX}/man/man1/bar.1.gz
${MANPREFIX}/man/de/man3/baz.3.gz</pre></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="makefile-masterdir.html">上一页</a> </td><td width="20%" align="center"><a accesskey="u" href="makefile.html">上一级</a></td><td width="40%" align="right"> <a accesskey="n" href="makefile-info.html">下一页</a></td></tr><tr><td width="40%" align="left" valign="top">5.8. <code class="varname">MASTERDIR</code> (主 port 所在的目录) </td><td width="20%" align="center"><a accesskey="h" href="index.html">起始页</a></td><td width="40%" align="right" valign="top"> 5.10. Info 文件</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>本文档和其它文档可从这里下载：
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>.</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>如果对于FreeBSD有问题，请先阅读
    <a href="http://www.FreeBSD.org/docs.html">文档</a>，如不能解决再联系
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    关于本文档的问题请发信联系
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>