<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>2.7. Emacs als Entwicklungsumgebung verwenden</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD Developers' Handbook" /><link rel="up" href="tools.html" title="Kapitel 2. Werkzeuge zur Programmierung" /><link rel="prev" href="debugging.html" title="2.6. Debuggen" /><link rel="next" href="tools-reading.html" title="2.8. Weiterführende Literatur" /><link rel="copyright" href="legalnotice.html" title="Rechtlicher Hinweis" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">2.7. Emacs als Entwicklungsumgebung verwenden</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="debugging.html">Zurück</a> </td><th width="60%" align="center">Kapitel 2. Werkzeuge zur Programmierung</th><td width="20%" align="right"> <a accesskey="n" href="tools-reading.html">Weiter</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="emacs"></a>2.7. Emacs als Entwicklungsumgebung verwenden</h2></div></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp64771408"></a>2.7.1. Emacs</h3></div></div></div><p>Leider werden <span class="trademark">UNIX</span>®-Systeme nicht mit einem
	alles-was-du-jemals-brauchst-und-vieles-mehr-megapaket an
	integrierten Entwicklungsumgebungen ausgestattet, die bei
	anderen Systemen dabei sind.

	<a href="#ftn.idp64783056" class="footnote" id="idp64783056"><sup class="footnote">[7]</sup></a>

	Trotzdem ist es möglich, seine eigene
	Entwicklungsumgebung aufzusetzen. Diese wird vielleicht nicht
	so hübsch und integriert sein, aber dafür
	können Sie sie Ihren eigenen Wünschen anpassen. Und
	sie ist frei. Und Sie haben die Quelltexte davon.</p><p>Der Schlüssel zu all dem ist Emacs. Es gibt zwar ein
	paar Leute die ihn hassen, es gibt jedoch auch viele die ihn
	lieben. Falls Sie zu ersteren gehören befürchte ich,
	daß dieser Abschnitt Ihnen wenig interessantes zu bieten
	hat. Des weiteren benötigen Sie eine angemessene Menge an
	freiem Speicher, um ihn zu benutzen&#8212;ich würde 8MB
	für den Textmodus und 16MB unter X als absolutes Minimum
	empfehlen, um eine halbwegs brauchbare Performance zu
	erhalten.</p><p>Emacs ist im Prinzip ein extrem anpassbarer Editor&#8212;
	in der Tat ist er so stark veränderbar, daß er eher
	einem Betriebssystem als einem Editor gleicht! Viele
	Entwickler und Systemadministratoren erledigen praktisch ihre
	gesamte Arbeit aus Emacs heraus und beenden ihn nur, um sich
	komplett auszuloggen.</p><p>Es ist nicht einmal möglich alles hier
	zusammenzufassen, was man mit dem Emacs machen kann. Im
	Folgenden werden einige Features aufgelistet, die für
	einen Entwickler interessant sein könnten:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Sehr mächtiger Editor, der suchen-und-ersetzen
	    mit Zeichenfolgen und regulären Ausdrücken
	    (Pattern) sowie das direkte Anspringen von Anfang/Ende von
	    Blockausdrücken erlaubt, etc, etc.</p></li><li class="listitem"><p>Pull-Down Menüs und eine Online-Hilfe.</p></li><li class="listitem"><p>Sprachunabhängige Syntaxhervorhebung und
	    automatische Einrückung.</p></li><li class="listitem"><p>Vollständig konfigurierbar.</p></li><li class="listitem"><p>Sie können Programme im Emacs kompilieren und
	    debuggen.</p></li><li class="listitem"><p>Bei Kompilationsfehlern können Sie direkt zu der
	    entsprechenden Zeile im Quelltext springen.</p></li><li class="listitem"><p>Benutzerfreundliches Front-End für das
	    <code class="command">info</code>-Programm, um die GNU Hypertext
	    Dokumentation inklusive der Dokumentation des Emacs
	    selber.</p></li><li class="listitem"><p>Benutzerfreundliches Front-End für den
	    <code class="command">gdb</code> um sich beim Verfolgen der
	    Programmanweisungen den zugehörigen Quelltext
	    anzeigen zu lassen.</p></li><li class="listitem"><p>Sie können E-Mails und News im Usenet lesen,
	    während ihr Programm kompiliert wird.</p></li></ul></div><p>Und zweifelsfrei viele weitere Punkte, die ich
	übersehen habe.</p><p>Emacs kann unter FreeBSD über den	<a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/editors/emacs/pkg-descr">editors/emacs</a> Port installiert werden.</p><p>Sobald er installiert ist starten Sie ihn, und geben
	dann <strong class="userinput"><code>C-h t</code></strong> ein, um die Einführung
	in Emacs zu lesen&#8212;d.h. Sie sollen bei gedrückter
	<span class="keycap"><strong>Strg</strong></span>-Taste die <span class="keycap"><strong>h</strong></span>-Taste
	drücken, beide wieder loslassen und anschließend
	<span class="keycap"><strong>t</strong></span> drücken. (Alternativ können Sie
	mit der Maus den Eintrag <span class="guimenuitem">Emacs
	Tutorial</span> aus dem
	<span class="guimenu">Hilfe</span>-Menü auswählen).</p><p>Obwohl der Emacs Menüs besitzt ist das Erlernen der
	Tastaturkombinationen lohnenswert, da man beim Editieren sehr
	viel schneller Tastenkombinationen eingeben kann, als die Maus
	zu finden und mit dieser dann an der richtigen Stelle zu
	klicken. Und wenn Sie sich mit erfahrenen Emacs-Benutzern
	unterhalten werden Sie feststellen, daß diese
	häufig nebenbei Ausdrücke wie <span class="quote">&#8222;<span class="quote"><code class="literal">M-x
	replace-s RET foo RET bar RET</code></span>&#8220;</span> verwenden,
	weshalb das Erlernen dieser sehr nützlich ist. Und Emacs
	hat auf jeden Fall weit mehr nützliche Funktionen als das
	diese in der Menüleiste unterzubringen wären.</p><p>Zum Glück ist es sehr einfach die jeweiligen
	Tastaturkombinationen herauszubekommen, da diese direkt neben
	den Menüeinträgen stehen. Meine Empfehlung
	wäre, den Menüeintrag für, sagen wir, das
	Öffnen einer Datei zu verwenden, bis Sie die
	Funktionsweise verstanden haben und sie mit dieser vertraut
	sind, und es dann mit C-x C-f versuchen. Wenn Sie damit
	zufrieden sind, gehen Sie zum nächsten
	Menüeintrag.</p><p>Falls Sie sich nicht daran erinnern können, was eine
	bestimmte Tastenkombination macht, wählen Sie
	<span class="guimenuitem">Describe Key</span> aus dem
	<span class="guimenu">Hilfe</span>-Menü aus und geben Sie die
	Tastenkombination ein&#8212;Emacs sagt Ihnen dann was diese
	macht. Sie können ebenfalls den Menüeintrag
	<span class="guimenuitem">Command Apropos</span> verwenden, um alle
	Befehle, die ein bestimmtes Wort enthalten, mit den
	zugehörigen Tastenkombinationen aufgelistet zu
	bekommen.</p><p>Übrigends bedeutet der Ausdruck weiter oben, bei
	gedrückter <span class="keysym">Meta</span>-Taste <span class="keysym">x</span>
	zu drücken, beide wieder loszulassen,
	<strong class="userinput"><code>replace-s</code></strong> einzugeben (Kurzversion
	für <code class="literal">replace-string</code>&#8212;ein weiteres
	Feature des Emacs ist, daß Sie Befehle abkürzen
	können), anschließend die
	<span class="keysym">return</span>-Taste zu drücken, dann
	<strong class="userinput"><code>foo</code></strong> einzugeben (die Zeichenkette, die
	Sie ersetzen möchten), dann wieder
	<span class="keysym">return</span>, dann die Leertaste zu drücken
	(die Zeichenkette, mit der Sie <code class="literal">foo</code> ersetzen
	möchten) und anschließend erneut
	<span class="keysym">return</span> zu drücken. Emacs wird dann die
	gewünschte suchen-und-ersetzen-Operation
	ausführen.</p><p>Wenn Sie sich fragen was in aller Welt die
	<span class="keysym">Meta</span>-Taste ist, das ist eine spezielle Taste
	die viele <span class="trademark">UNIX</span>®-Workstations besitzen. Bedauerlicherweise
	haben PCs keine solche Taste, und daher ist es
	üblicherweise die <span class="keycap"><strong>alt</strong></span>-Taste (oder falls
	Sie Pech haben die <span class="keycap"><strong>Esc</strong></span>-Taste).</p><p>Oh, und um den Emacs zu verlassen müssen sie
	<code class="command">C-x C-c</code> (das bedeutet, Sie müssen bei
	gedrückter <span class="keysym">Strg</span>-Taste zuerst
	<span class="keysym">x</span> und dann <span class="keysym">c</span> drücken)
	eingeben. Falls Sie noch irgendwelche ungespeicherten Dateien
	offen haben wird Emacs Sie fragen ob Sie diese speichern
	wollen. (Ignorieren Sie bitte die Stelle der Dokumentation, an
	der gesagt wird, daß <code class="command">C-z</code> der
	übliche Weg ist, Emacs zu verlassen&#8212;dadurch wird
	der Emacs in den Hintergrund geschaltet, was nur nützlich
	ist, wenn Sie an einem System ohne virtuelle Terminals
	arbeiten).</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp64851408"></a>2.7.2. Emacs konfigurieren</h3></div></div></div><p>Emacs kann viele wundervolle Dinge; manche dieser Dinge
	sind schon eingebaut, andere müssen erst konfiguriert
	werden.</p><p>Anstelle einer proprietären Macrosprache verwendet
	der Emacs für die Konfiguration eine speziell für
	Editoren angepaßte Version von Lisp, auch bekannt als
	Emacs Lisp. Das Arbeiten mit Emacs Lisp kann sehr hilfreich
	sein, wenn Sie darauf aufbauend etwas wie Common Lisp lernen
	möchten. Emacs Lisp hat viele Features von Common Lisp
	obwohl es beträchtlich kleiner ist (und daher auch
	einfacher zu beherrschen).</p><p>Der beste Weg um Emacs Lisp zu erlernen besteht darin,
	sich das <a class="link" href="ftp://ftp.gnu.org/old-gnu/emacs/elisp-manual-19-2.4.tar.gz" target="_top">Emacs
	Tutorial</a> herunterzuladen.</p><p>Es ist jedoch keine Kenntnis von Lisp erforderlich, um
	mit der Konfiguration von Emacs zu beginnen, da ich eine
	beispielhafte <code class="filename">.emacs</code>-Datei hier
	eingefügt habe, die für den Anfang ausreichen
	sollte. Kopieren Sie diese einfach in Ihr Heimverzeichnis und
	starten Sie den Emacs neu, falls dieser bereits läuft; er
	wird die Befehle aus der Datei lesen und Ihnen (hoffentlich)
	eine brauchbare Grundeinstellung bieten.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp67226320"></a>2.7.3. Eine beispielhafte <code class="filename">.emacs</code>-Datei</h3></div></div></div><p>Bedauerlicherweise gibt es hier viel zu viel, um es im
	Detail zu erklären; es gibt jedoch ein oder zwei Punkte,
	die besonders erwähnenswert sind.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Alles was mit einem <code class="literal">;</code> anfängt
	    ist ein Kommentar und wird von Emacs ignoriert.</p></li><li class="listitem"><p>In der ersten Zeile mit
	    <code class="literal">-*- Emacs-Lisp -*-</code> sorgt
	    dafür, daß wir die Datei
	    <code class="filename">.emacs</code> in Emacs selber editieren
	    können und uns damit alle tollen Features zum
	    Editieren von Emacs Lisp zur Verfügung stehen. Emacs
	    versucht dies normalerweise anhand des Dateinamens
	    auszumachen, was vielleicht bei
	    <code class="filename">.emacs</code> nicht funktionieren
	    könnte.</p></li><li class="listitem"><p>Die <span class="keysym">Tab</span>-Taste ist in manchen Modi
	    an die Einrückungsfunktion gebunden, so daß
	    beim drücken dieser Taste die aktuelle Zeile
	    eingerückt wird. Wenn Sie ein
	    <span class="token">tab</span>-Zeichen in einen Text, welchen auch
	    immer Sie dabei schreiben, einfügen wollen,
	    müssen Sie bei gedrückter
	    <span class="keysym">Strg</span>-Taste die <span class="keysym">Tab</span>-Taste
	    drücken.</p></li><li class="listitem"><p>Diese Datei unterstützt Syntax Highlighting
	    für C, C++, Perl, Lisp und Scheme, indem die Sprache
	    anhand des Dateinamens erraten wird.</p></li><li class="listitem"><p>Emacs hat bereits eine vordefinierte Funktion mit dem
	    Namen <code class="function">next-error</code>. Diese erlaubt es
	    einem, in einem Fenster mit der Kompilierungsausgabe
	    mittels <code class="command">M-n</code> von einem zum nächsten
	    Kompilierungsfehler zu springen; wir definieren eine
	    komplementäre Funktion
	    <code class="function">previous-error</code>, die es uns erlaubt,
	    mittels <code class="command">M-p</code> von einem zum vorherigen
	    Kompilierungsfehler zu springen. Das schönste Feature
	    von allen ist, daß mittels <code class="command">C-c
	    C-c</code> die Quelltextdatei, in der der Fehler
	    aufgetreten ist, geöffnet und die betreffende Zeile
	    direkt angesprungen wird.</p></li><li class="listitem"><p>Wir aktivieren die Möglichkeit von Emacs als
	    Server zu agieren, so daß wenn Sie etwas
	    außerhalb von Emacs machen und eine Datei editieren
	    möchten, Sie einfach das folgende eingeben
	    können</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>emacsclient filename</code></strong>
	  </pre><p>und dann die Datei in Ihrem Emacs editieren
	    können!

	    <a href="#ftn.idp67247184" class="footnote" id="idp67247184"><sup class="footnote">[8]</sup></a>
	  </p></li></ul></div><div class="example"><a id="idp67269712"></a><div class="example-title">Beispiel 2.1. Eine einfache <code class="filename">.emacs</code>-Datei</div><div class="example-contents"><pre class="programlisting">;; -*-Emacs-Lisp-*-

;; This file is designed to be re-evaled; use the variable first-time
;; to avoid any problems with this.
(defvar first-time t
  "Flag signifying this is the first time that .emacs has been evaled")

;; Meta
(global-set-key "\M- " 'set-mark-command)
(global-set-key "\M-\C-h" 'backward-kill-word)
(global-set-key "\M-\C-r" 'query-replace)
(global-set-key "\M-r" 'replace-string)
(global-set-key "\M-g" 'goto-line)
(global-set-key "\M-h" 'help-command)

;; Function keys
(global-set-key [f1] 'manual-entry)
(global-set-key [f2] 'info)
(global-set-key [f3] 'repeat-complex-command)
(global-set-key [f4] 'advertised-undo)
(global-set-key [f5] 'eval-current-buffer)
(global-set-key [f6] 'buffer-menu)
(global-set-key [f7] 'other-window)
(global-set-key [f8] 'find-file)
(global-set-key [f9] 'save-buffer)
(global-set-key [f10] 'next-error)
(global-set-key [f11] 'compile)
(global-set-key [f12] 'grep)
(global-set-key [C-f1] 'compile)
(global-set-key [C-f2] 'grep)
(global-set-key [C-f3] 'next-error)
(global-set-key [C-f4] 'previous-error)
(global-set-key [C-f5] 'display-faces)
(global-set-key [C-f8] 'dired)
(global-set-key [C-f10] 'kill-compilation)

;; Keypad bindings
(global-set-key [up] "\C-p")
(global-set-key [down] "\C-n")
(global-set-key [left] "\C-b")
(global-set-key [right] "\C-f")
(global-set-key [home] "\C-a")
(global-set-key [end] "\C-e")
(global-set-key [prior] "\M-v")
(global-set-key [next] "\C-v")
(global-set-key [C-up] "\M-\C-b")
(global-set-key [C-down] "\M-\C-f")
(global-set-key [C-left] "\M-b")
(global-set-key [C-right] "\M-f")
(global-set-key [C-home] "\M-&lt;")
(global-set-key [C-end] "\M-&gt;")
(global-set-key [C-prior] "\M-&lt;")
(global-set-key [C-next] "\M-&gt;")

;; Mouse
(global-set-key [mouse-3] 'imenu)

;; Misc
(global-set-key [C-tab] "\C-q\t")	; Control tab quotes a tab.
(setq backup-by-copying-when-mismatch t)

;; Treat 'y' or &lt;CR&gt; as yes, 'n' as no.
(fset 'yes-or-no-p 'y-or-n-p)
(define-key query-replace-map [return] 'act)
(define-key query-replace-map [?\C-m] 'act)

;; Load packages
(require 'desktop)
(require 'tar-mode)

;; Pretty diff mode
(autoload 'ediff-buffers "ediff" "Intelligent Emacs interface to diff" t)
(autoload 'ediff-files "ediff" "Intelligent Emacs interface to diff" t)
(autoload 'ediff-files-remote "ediff"
  "Intelligent Emacs interface to diff")

(if first-time
    (setq auto-mode-alist
	  (append '(("\\.cpp$" . c++-mode)
		    ("\\.hpp$" . c++-mode)
		    ("\\.lsp$" . lisp-mode)
		    ("\\.scm$" . scheme-mode)
		    ("\\.pl$" . perl-mode)
		    ) auto-mode-alist)))

;; Auto font lock mode
(defvar font-lock-auto-mode-list
  (list 'c-mode 'c++-mode 'c++-c-mode 'emacs-lisp-mode 'lisp-mode 'perl-mode 'scheme-mode)
  "List of modes to always start in font-lock-mode")

(defvar font-lock-mode-keyword-alist
  '((c++-c-mode . c-font-lock-keywords)
    (perl-mode . perl-font-lock-keywords))
  "Associations between modes and keywords")

(defun font-lock-auto-mode-select ()
  "Automatically select font-lock-mode if the current major mode is in font-lock-auto-mode-list"
  (if (memq major-mode font-lock-auto-mode-list)
      (progn
	(font-lock-mode t))
    )
  )

(global-set-key [M-f1] 'font-lock-fontify-buffer)

;; New dabbrev stuff
;(require 'new-dabbrev)
(setq dabbrev-always-check-other-buffers t)
(setq dabbrev-abbrev-char-regexp "\\sw\\|\\s_")
(add-hook 'emacs-lisp-mode-hook
	  '(lambda ()
	     (set (make-local-variable 'dabbrev-case-fold-search) nil)
	     (set (make-local-variable 'dabbrev-case-replace) nil)))
(add-hook 'c-mode-hook
	  '(lambda ()
	     (set (make-local-variable 'dabbrev-case-fold-search) nil)
	     (set (make-local-variable 'dabbrev-case-replace) nil)))
(add-hook 'text-mode-hook
	  '(lambda ()
	     (set (make-local-variable 'dabbrev-case-fold-search) t)
	     (set (make-local-variable 'dabbrev-case-replace) t)))

;; C++ and C mode...
(defun my-c++-mode-hook ()
  (setq tab-width 4)
  (define-key c++-mode-map "\C-m" 'reindent-then-newline-and-indent)
  (define-key c++-mode-map "\C-ce" 'c-comment-edit)
  (setq c++-auto-hungry-initial-state 'none)
  (setq c++-delete-function 'backward-delete-char)
  (setq c++-tab-always-indent t)
  (setq c-indent-level 4)
  (setq c-continued-statement-offset 4)
  (setq c++-empty-arglist-indent 4))

(defun my-c-mode-hook ()
  (setq tab-width 4)
  (define-key c-mode-map "\C-m" 'reindent-then-newline-and-indent)
  (define-key c-mode-map "\C-ce" 'c-comment-edit)
  (setq c-auto-hungry-initial-state 'none)
  (setq c-delete-function 'backward-delete-char)
  (setq c-tab-always-indent t)
;; BSD-ish indentation style
  (setq c-indent-level 4)
  (setq c-continued-statement-offset 4)
  (setq c-brace-offset -4)
  (setq c-argdecl-indent 0)
  (setq c-label-offset -4))

;; Perl mode
(defun my-perl-mode-hook ()
  (setq tab-width 4)
  (define-key c++-mode-map "\C-m" 'reindent-then-newline-and-indent)
  (setq perl-indent-level 4)
  (setq perl-continued-statement-offset 4))

;; Scheme mode...
(defun my-scheme-mode-hook ()
  (define-key scheme-mode-map "\C-m" 'reindent-then-newline-and-indent))

;; Emacs-Lisp mode...
(defun my-lisp-mode-hook ()
  (define-key lisp-mode-map "\C-m" 'reindent-then-newline-and-indent)
  (define-key lisp-mode-map "\C-i" 'lisp-indent-line)
  (define-key lisp-mode-map "\C-j" 'eval-print-last-sexp))

;; Add all of the hooks...
(add-hook 'c++-mode-hook 'my-c++-mode-hook)
(add-hook 'c-mode-hook 'my-c-mode-hook)
(add-hook 'scheme-mode-hook 'my-scheme-mode-hook)
(add-hook 'emacs-lisp-mode-hook 'my-lisp-mode-hook)
(add-hook 'lisp-mode-hook 'my-lisp-mode-hook)
(add-hook 'perl-mode-hook 'my-perl-mode-hook)

;; Complement to next-error
(defun previous-error (n)
  "Visit previous compilation error message and corresponding source code."
  (interactive "p")
  (next-error (- n)))

;; Misc...
(transient-mark-mode 1)
(setq mark-even-if-inactive t)
(setq visible-bell nil)
(setq next-line-add-newlines nil)
(setq compile-command "make")
(setq suggest-key-bindings nil)
(put 'eval-expression 'disabled nil)
(put 'narrow-to-region 'disabled nil)
(put 'set-goal-column 'disabled nil)
(if (&gt;= emacs-major-version 21)
	(setq show-trailing-whitespace t))

;; Elisp archive searching
(autoload 'format-lisp-code-directory "lispdir" nil t)
(autoload 'lisp-dir-apropos "lispdir" nil t)
(autoload 'lisp-dir-retrieve "lispdir" nil t)
(autoload 'lisp-dir-verify "lispdir" nil t)

;; Font lock mode
(defun my-make-face (face color &amp;optional bold)
  "Create a face from a color and optionally make it bold"
  (make-face face)
  (copy-face 'default face)
  (set-face-foreground face color)
  (if bold (make-face-bold face))
  )

(if (eq window-system 'x)
    (progn
      (my-make-face 'blue "blue")
      (my-make-face 'red "red")
      (my-make-face 'green "dark green")
      (setq font-lock-comment-face 'blue)
      (setq font-lock-string-face 'bold)
      (setq font-lock-type-face 'bold)
      (setq font-lock-keyword-face 'bold)
      (setq font-lock-function-name-face 'red)
      (setq font-lock-doc-string-face 'green)
      (add-hook 'find-file-hooks 'font-lock-auto-mode-select)

      (setq baud-rate 1000000)
      (global-set-key "\C-cmm" 'menu-bar-mode)
      (global-set-key "\C-cms" 'scroll-bar-mode)
      (global-set-key [backspace] 'backward-delete-char)
					;      (global-set-key [delete] 'delete-char)
      (standard-display-european t)
      (load-library "iso-transl")))

;; X11 or PC using direct screen writes
(if window-system
    (progn
      ;;      (global-set-key [M-f1] 'hilit-repaint-command)
      ;;      (global-set-key [M-f2] [?\C-u M-f1])
      (setq hilit-mode-enable-list
	    '(not text-mode c-mode c++-mode emacs-lisp-mode lisp-mode
		  scheme-mode)
	    hilit-auto-highlight nil
	    hilit-auto-rehighlight 'visible
	    hilit-inhibit-hooks nil
	    hilit-inhibit-rebinding t)
      (require 'hilit19)
      (require 'paren))
  (setq baud-rate 2400)			; For slow serial connections
  )

;; TTY type terminal
(if (and (not window-system)
	 (not (equal system-type 'ms-dos)))
    (progn
      (if first-time
	  (progn
	    (keyboard-translate ?\C-h ?\C-?)
	    (keyboard-translate ?\C-? ?\C-h)))))

;; Under UNIX
(if (not (equal system-type 'ms-dos))
    (progn
      (if first-time
	  (server-start))))

;; Add any face changes here
(add-hook 'term-setup-hook 'my-term-setup-hook)
(defun my-term-setup-hook ()
  (if (eq window-system 'pc)
      (progn
;;	(set-face-background 'default "red")
	)))

;; Restore the "desktop" - do this as late as possible
(if first-time
    (progn
      (desktop-load-default)
      (desktop-read)))

;; Indicate that this file has been read at least once
(setq first-time nil)

;; No need to debug anything now

(setq debug-on-error nil)

;; All done
(message "All done, %s%s" (user-login-name) ".")
	</pre></div></div><br class="example-break" /></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp67271376"></a>2.7.4. Erweitern des von Emacs unterstützten Sprachbereichs</h3></div></div></div><p>Das ist jetzt alles sehr schön wenn Sie
	ausschließlich in einer der Sprachen programmieren
	wollen, um die wir uns bereits in der
	<code class="filename">.emacs</code>-Datei gekümmert haben (C,
	C++, Perl, Lisp und Scheme), aber was passiert wenn eine neue
	Sprache namens <span class="quote">&#8222;<span class="quote">whizbang</span>&#8220;</span> herauskommt, mit jeder
	Menge neuen tollen Features?</p><p>Als erstes muß festgestellt werden, ob whizbang mit
	irgendwelchen Dateien daherkommt, die Emacs etwas über
	die Sprache sagen. Diese enden üblicherweise auf
	<code class="filename">.el</code>, der Kurzform für <span class="quote">&#8222;<span class="quote">Emacs
	Lisp</span>&#8220;</span>. Falls whizbang zum Beispiel ein FreeBSD Port
	ist, könnten wir diese Dateien mittels</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>find /usr/ports/lang/whizbang -name "*.el" -print</code></strong></pre><p>finden und durch Kopieren in das Emacs-seitige
	Lisp-Verzeichnis installieren. Unter FreeBSD ist dies
	<code class="filename">/usr/local/share/emacs/site-lisp</code>.</p><p>Wenn zum Beispiel die Ausgabe des find-Befehls wie folgt
	war</p><pre class="screen">/usr/ports/lang/whizbang/work/misc/whizbang.el</pre><p>könnten wir das folgende tun</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cp /usr/ports/lang/whizbang/work/misc/whizbang.el /usr/local/share/emacs/site-lisp</code></strong></pre><p>Als nächstes müssen wir festlegen, welche
	Dateiendung Quelltextdateien für whizbang haben. Lassen
	Sie uns um der Argumente Willen annehmen, die Dateiendung sei
	<code class="filename">.wiz</code>. Wir müssen dann einen Eintrag
	unserer <code class="filename">.emacs</code>-Datei hinzufügen um
	sicherzustellen, daß Emacs die Informationen in
	<code class="filename">whizbang.el</code> auch verwenden kann.</p><p>Suchen Sie den <span class="symbol">auto-mode-alist Eintrag</span>
	in der <code class="filename">.emacs</code>-Datei und fügen Sie an
	dieser Stelle eine Zeile wie folgt für whizbang
	hinzu:</p><pre class="programlisting"><em class="lineannotation"><span class="lineannotation">&#8230;</span></em>
("\\.lsp$" . lisp-mode)
("\\.wiz$" . whizbang-mode)
("\\.scm$" . scheme-mode)
<em class="lineannotation"><span class="lineannotation">&#8230;</span></em></pre><p>Dies bedeutet das Emacs automatisch in den
	<code class="function">whizbang-mode</code> wechseln wird, wenn Sie
	eine Datei mit der Dateiendung <code class="filename">.wiz</code>
	editieren.</p><p>Direkt darunter werden Sie den Eintrag
	<span class="symbol">font-lock-auto-mode-list</span> finden. Erweitern
	Sie den <code class="function">whizbang-mode</code> um diesen wie
	folgt:</p><pre class="programlisting">;; Auto font lock mode
(defvar font-lock-auto-mode-list
  (list 'c-mode 'c++-mode 'c++-c-mode 'emacs-lisp-mode 'whizbang-mode 'lisp-mode 'perl-mode 'scheme-mode)
  "List of modes to always start in font-lock-mode")</pre><p>Dies bedeutet das Emacs immer
	<code class="function">font-lock-mode</code> (z.B. Syntax Highlighting)
	aktiviert, wenn Sie eine <code class="filename">.wiz</code>-Datei
	editieren.</p><p>Und das ist alles was benötigt wird. Falls es
	weitere Dinge gibt, die automatisch beim Öffnen einer
	<code class="filename">.wiz</code>-Datei ausgeführt werden sollen,
	können Sie einen <code class="function">whizbang-mode
	hook</code>-Eintrag hinzufügen (für ein
	einfaches Beispiel, welches <code class="function">auto-indent</code>
	hinzufügt, sehen Sie sich bitte
	<code class="function">my-scheme-mode-hook</code> an).</p></div><div class="footnotes"><br /><hr class="footnote-hr" /><div id="ftn.idp64783056" class="footnote"><p><a href="#idp64783056" class="para"><sup class="para">[7] </sup></a>Es gibt jetzt einige mächtige und freie IDEs in
	    der Ports-Sammlung wie etwa KDevelop.</p></div><div id="ftn.idp67247184" class="footnote"><p><a href="#idp67247184" class="para"><sup class="para">[8] </sup></a>Viele Emacs-Benutzer setzen Ihre
	        <code class="envar">EDITOR</code>-Umgebungsvariable auf
	        <code class="literal">emacsclient</code>, so daß dies
	        immer passiert, wenn sie eine Datei editieren
	        müssen.</p></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="debugging.html">Zurück</a> </td><td width="20%" align="center"><a accesskey="u" href="tools.html">Nach oben</a></td><td width="40%" align="right"> <a accesskey="n" href="tools-reading.html">Weiter</a></td></tr><tr><td width="40%" align="left" valign="top">2.6. Debuggen </td><td width="20%" align="center"><a accesskey="h" href="index.html">Zum Anfang</a></td><td width="40%" align="right" valign="top"> 2.8. Weiterführende Literatur</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Wenn Sie Fragen zu FreeBSD haben, schicken Sie eine E-Mail an
    &lt;<a href="mailto:de-bsd-questions@de.FreeBSD.org">de-bsd-questions@de.FreeBSD.org</a>&gt;.<br></br>
    Wenn Sie Fragen zu dieser Dokumentation haben, schicken Sie eine E-Mail an
    &lt;<a href="mailto:de-bsd-translators@de.FreeBSD.org">de-bsd-translators@de.FreeBSD.org</a>&gt;.</small></p></body></html>