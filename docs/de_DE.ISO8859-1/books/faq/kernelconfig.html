<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>Kapitel 8. Kernelkonfiguration</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Häufig gestellte Fragen zu FreeBSD 7.X, 8.X und 9.X" /><link rel="up" href="index.html" title="Häufig gestellte Fragen zu FreeBSD 7.X, 8.X und 9.X" /><link rel="prev" href="applications.html" title="Kapitel 7. Benutzerprogramme" /><link rel="next" href="disks.html" title="Kapitel 9. Platten, Dateisysteme und Boot Loader" /><link rel="copyright" href="legalnotice.html" title="Rechtlicher Hinweis" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Kapitel 8. Kernelkonfiguration</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="applications.html">Zurück</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="disks.html">Weiter</a></td></tr></table><hr /></div><div class="chapter"><div xmlns="" class="titlepage"><div><div><h1 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="kernelconfig"></a>Kapitel 8. Kernelkonfiguration</h1></div></div></div><div class="qandaset"><a id="idp68072016"></a><dl><dt>8.1. <a href="kernelconfig.html#idp68072272">Ich möchte meinen Kernel anpassen.  Ist das
            schwierig?</a></dt><dt>8.2. <a href="kernelconfig.html#idp68076752">Was kann ich machen, wenn meine Kernel-Kompilierungen
            fehlschlagen, weil _hw_float
            fehlt?</a></dt><dt>8.3. <a href="kernelconfig.html#idp68081616">Warum ist mein Kernel so groß (über 10 MByte)?</a></dt><dt>8.4. <a href="kernelconfig.html#idp68092496">Wieso erhalte ich Meldungen über Interrupt-Konflikte,
            wenn ich eine Karte mit mehreren seriellen Schnittstellen
            einsetzen will?</a></dt><dt>8.5. <a href="kernelconfig.html#idp68095312">Wieso kann ich nicht einmal den Standard-Kernel
            (GENERIC) bauen?</a></dt><dt>8.6. <a href="kernelconfig.html#idp68117328">Wie kann ich prüfen, welchen Scheduler das
	    System benutzt?</a></dt><dt>8.7. <a href="kernelconfig.html#idp68126160">Was bedeutet kern.sched.quantum?</a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%" /><col /></colgroup><tbody><tr class="question"><td align="left" valign="top"><a id="idp68072272"></a><a id="make-kernel"></a><p><strong>8.1.</strong></p></td><td align="left" valign="top"><p>Ich möchte meinen Kernel anpassen.  Ist das
            schwierig?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Überhaupt nicht!  Lesen Sie den <a class="link" href="../../../../doc/de_DE.ISO8859-1/books/handbook/kernelconfig.html" target="_top">Abschnitt zur
            Kernelkonfiguration im Handbuch</a>.</p><div xmlns="" class="note"><h3 class="admontitle">Anmerkung: </h3><p xmlns="http://www.w3.org/1999/xhtml">Der neue <code class="filename">kernel</code> wird zusammen mit seinen
              Modulen im Verzeichnis <code class="filename">/boot/kernel</code> installiert werden.
              Der alte Kernel und dessen Module wird in das Verzeichnis
              <code class="filename">/boot/kernel.old</code>
              verschoben, damit Sie, wenn Sie einen Fehler beim
              herumexperimentieren mit Ihrer Konfiguration gemacht haben, die
              vorherige Version Ihres Kernels starten können.</p></div></td></tr><tr class="question"><td align="left" valign="top"><a id="idp68076752"></a><a id="missing-hw-float"></a><p><strong>8.2.</strong></p></td><td align="left" valign="top"><p>Was kann ich machen, wenn meine Kernel-Kompilierungen
            fehlschlagen, weil <code class="literal">_hw_float</code>
            fehlt?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Sie haben wahrscheinlich
            <code class="filename">npx0</code> aus Ihrer
            Kernelkonfigurationsdatei entfernt, weil Sie keinen
            mathematischen Co-Prozessor besitzen.  Die Gerätedatei
            <code class="filename">npx0</code> ist allerdings
            <span class="emphasis"><em>VERPFLICHTEND</em></span>.  Ihre Hardware
            unterstützt Gleitkommaoperationen, selbst wenn dafür
            kein eigenes Bauteil (wie bei den 386er-Prozessoren) mehr
            verwendet wird.  Daher <span class="emphasis"><em>müssen</em></span> Sie
            die Gerätedatei <code class="filename">npx0</code> einbinden.
            Selbst wenn es Ihnen gelingen sollte, einen Kernel ohne
            <code class="filename">npx0</code>-Unterstützung zu bauen,
            werden Sie diesen nicht booten können.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp68081616"></a><a id="why-kernel-big"></a><p><strong>8.3.</strong></p></td><td align="left" valign="top"><p>Warum ist mein Kernel so groß (über 10 MByte)?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Sie haben Ihren Kernel wahrscheinlich im
            <span class="emphasis"><em>Debug Modus</em></span> erstellt.  Ein
            Debug-Kernel enthält viele zusätzliche
            Informationen für die Fehlersuche, daher ist er so
            groß.  Bitte beachten Sie, dass die Verwendung
            eines Debug-Kernels
            die Performance des Systems nicht oder nur minimal
            reduziert; außerdem ist es für den Fall einer
            system panic sehr praktisch, einen Debug-Kernel zur Hand
            zu haben.</p><p>Wenn Ihnen allerdings der Plattenplatz ausgeht oder
            Sie einfach rein prinzipiell keinen Debug-Kernel benutzen
            wollen, müssen die beiden folgenden Bedingungen
            erfüllt sein:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Die Konfigurationsdatei für Ihren Kernel darf
                die folgende Zeile nicht enthalten:</p><pre class="programlisting">makeoptions DEBUG=-g</pre></li><li class="listitem"><p>Sie dürfen <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=config&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">config</span>(8)</span></a> nicht mit dem
                Parameter <code class="option">-g</code> starten.</p></li></ul></div><p>Sollten Sie sich nicht an diese Einschränkungen
            halten, wird Ihr Kernel im Debug-Modus erstellt.  Solange
            Sie sich an diese Einschränkungen halten, können
            Sie Ihren Kernel ganz normal erstellen und die
            Größe des Kernels sollte deutlich sinken.  Ein
            normaler Kernel ist nur 1.5 MByte bis 2 MByte
            groß.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp68092496"></a><a id="multiport-serial-interrupts"></a><p><strong>8.4.</strong></p></td><td align="left" valign="top"><p>Wieso erhalte ich Meldungen über Interrupt-Konflikte,
            wenn ich eine Karte mit mehreren seriellen Schnittstellen
            einsetzen will?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Wenn ich einen Kernel mit Unterstützung für
            serielle Multi-Port-Schnittstellen kompiliere, bekomme ich
            den Hinweis, dass nur der erste Port geprüft
            wird und die restlichen auf Grund von Interrupt-Konflikten
            übersprungen werden.  Wie kann ich das
            Beheben?</p><p>Das Problem besteht darin, dass in FreeBSD Code
            integriert ist, um den Kernel vor Abstürzen aufgrund
            von Hardware- oder Software-Konflikten zu bewahren.
            Behoben wird es, indem die IRQ-Angaben für alle
            Ports, bis auf einen ausgelassen werden.  Hier ist ein
            Beispiel:</p><pre class="programlisting">
#
# Multiport high-speed serial line - 16550 UARTS
#
device sio2 at isa? port 0x2a0 tty irq 5 flags 0x501 vector siointr
device sio3 at isa? port 0x2a8 tty flags 0x501 vector siointr
device sio4 at isa? port 0x2b0 tty flags 0x501 vector siointr
device sio5 at isa? port 0x2b8 tty flags 0x501 vector siointr
          </pre></td></tr><tr class="question"><td align="left" valign="top"><a id="idp68095312"></a><a id="generic-kernel-build-failure"></a><p><strong>8.5.</strong></p></td><td align="left" valign="top"><p>Wieso kann ich nicht einmal den Standard-Kernel
            (<code class="filename">GENERIC</code>) bauen?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Es gibt eine Reihe von möglichen Ursachen
            für dieses Problem:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Sie benutzen die neuen Kommandos <code class="command">make
                buildkernel</code> und
                <code class="command">make installkernel</code>
                nicht, obwohl die Sourcen auf Ihrem System nicht zum laufenden
                System passen (z.B. benutzen Sie die Sourcen von
                10.1-RELEASE auf einem System mit
                9.3-RELEASE).  Wenn Sie ein Upgrade
                durchführen wollen, sollten Sie
                <code class="filename">/usr/src/UPDATING</code> lesen, beachten
                Sie insbesondere den Abschnitt <span class="quote">&#8222;<span class="quote">COMMON
                ITEMS</span>&#8220;</span> gegen Ende des Dokuments.</p></li><li class="listitem"><p>Sie benutzen zwar <code class="command">make
                buildkernel</code> und
                <code class="command">make installkernel</code>,
                aber Sie haben nicht darauf geachtet, dass vorher ein
                komplettes <code class="command">make
                buildworld</code> durchgelaufen
                sein muss.  Um seine Arbeit erledigen zu können,
                benötigt <code class="command">make
                buildkernel</code>
                Dateien, die von <code class="command">make
                buildworld</code>
                erzeugt werden.</p></li><li class="listitem"><p>Auch wenn Sie <a class="link" href="introduction.html#stable" title="1.9.">FreeBSD-STABLE</a> verwenden, ist
                es durchaus möglich, dass Sie die Sourcen
                genau zum falschen Zeitpunkt aktualisiert haben:
                Während Sie gerade modifiziert wurden oder
                kurzzeitig fehlerhaft waren.  Eine absolute und
                vollständige Garantie, dass Sie die Sourcen
                compilieren können, gibt es nur für die
                Releases, bei <a class="link" href="introduction.html#stable" title="1.9.">FreeBSD-STABLE</a> ist das nicht
                immer so.  Wenn Sie es noch nicht versucht haben,
                sollten Sie ihre Source nochmals aktualisieren.  Es
                ist denkbar, dass der von Ihnen genutzte Server
                zurzeit Probleme hat, benutzen Sie daher testweise
                auch einmal einen anderen Server.</p></li></ul></div></td></tr><tr class="question"><td align="left" valign="top"><a id="idp68117328"></a><a id="scheduler-in-use"></a><p><strong>8.6.</strong></p></td><td align="left" valign="top"><p>Wie kann ich prüfen, welchen Scheduler das
	    System benutzt?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Überprüfen Sie dazu, ob auf Ihrem System die
	    sysctl-Variable <code class="varname">kern.sched.quantum</code>
	    existiert.  Ist dies bei Ihnen der Fall, werden Sie eine
	    Ausgabe ähnlich der folgenden sehen:</p><pre class="screen"><code class="prompt">%</code> sysctl <em class="replaceable"><code>kern.sched.quantum</code></em>
kern.sched.quantum: 99960</pre><p>Wenn die sysctl-Variable <code class="varname">kern.sched.quantum</code>
	    existiert, dann verwenden Sie den 4BSD-Scheduler
	    (<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sched_4bsd&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">sched_4bsd</span>(4)</span></a>).  Existiert sie nicht, erzeugt <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sysctl&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sysctl</span>(8)</span></a>
	    eine Fehlermeldung (die Sie aber ignorieren können):</p><pre class="screen"><code class="prompt">%</code> sysctl <em class="replaceable"><code>kern.sched.quantum</code></em>
sysctl: unknown oid 'kern.sched.quantum'</pre><p>Seit FreeBSD 5.3-RELEASE wird der Name des verwendeten
	    Schedulers direkt als Wert der sysctl-Variable
	    <code class="literal">kern.sched.name</code> ausgegeben:</p><pre class="screen"><code class="prompt">%</code> sysctl <em class="replaceable"><code>kern.sched.name</code></em>
kern.sched.name: 4BSD</pre></td></tr><tr class="question"><td align="left" valign="top"><a id="idp68126160"></a><a id="scheduler-kern-quantum"></a><p><strong>8.7.</strong></p></td><td align="left" valign="top"><p>Was bedeutet <code class="varname">kern.sched.quantum</code>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><code class="varname">kern.sched.quantum</code> ist die maximale
	    Anzahl Ticks, die ein Prozess ununterbrochen laufen kann.
	    Die Variable ist charakteristisch für den
	    4BSD Scheduler, somit kann der verwendete Scheduler
	    über die Existenz dieser Variablen bestimmt werden.</p></td></tr></tbody></table></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="applications.html">Zurück</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="disks.html">Weiter</a></td></tr><tr><td width="40%" align="left" valign="top">Kapitel 7. Benutzerprogramme </td><td width="20%" align="center"><a accesskey="h" href="index.html">Zum Anfang</a></td><td width="40%" align="right" valign="top"> Kapitel 9. Platten, Dateisysteme und Boot Loader</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Wenn Sie Fragen zu FreeBSD haben, schicken Sie eine E-Mail an
    &lt;<a href="mailto:de-bsd-questions@de.FreeBSD.org">de-bsd-questions@de.FreeBSD.org</a>&gt;.<br></br>
    Wenn Sie Fragen zu dieser Dokumentation haben, schicken Sie eine E-Mail an
    &lt;<a href="mailto:de-bsd-translators@de.FreeBSD.org">de-bsd-translators@de.FreeBSD.org</a>&gt;.</small></p></body></html>