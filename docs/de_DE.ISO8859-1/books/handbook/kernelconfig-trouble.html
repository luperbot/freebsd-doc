<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>9.7. Wenn etwas schiefgeht</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Das FreeBSD-Handbuch" /><link rel="up" href="kernelconfig.html" title="Kapitel 9. Konfiguration des FreeBSD-Kernels" /><link rel="prev" href="kernelconfig-config.html" title="9.6. Die Kernelkonfigurationsdatei" /><link rel="next" href="printing.html" title="Kapitel 10. Drucken" /><link rel="copyright" href="legalnotice.html" title="Rechtlicher Hinweis" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">9.7. Wenn etwas schiefgeht</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="kernelconfig-config.html">Zurück</a> </td><th width="60%" align="center">Kapitel 9. Konfiguration des FreeBSD-Kernels</th><td width="20%" align="right"> <a accesskey="n" href="printing.html">Weiter</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="kernelconfig-trouble"></a>9.7. Wenn etwas schiefgeht</h2></div></div></div><p>Es gibt vier Hauptfehlerquellen beim Erstellen eines
      angepassten Kernels:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="command">config</code> verursacht Fehler:</span></dt><dd><p>Wenn <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=config&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">config</span>(8)</span></a> misslingt, liegen Fehler
	    in der Kernelkonfigurationsdatei vor.  Zum Glück
	    gibt <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=config&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">config</span>(8)</span></a> die die Zeilennummer der
	    Fehlerstelle an, sodass Sie den Fehler schnell
	    finden können.  Beispielsweise könnten
	    Sie folgende Fehlermeldung sehen:</p><pre class="screen">config: line 17: syntax error</pre><p>Vergleichen Sie die angegebene Zeile mit
	    <code class="filename">GENERIC</code> und stellen Sie sicher,
	    dass das Schlüsselwort richtig geschrieben
	    ist.</p></dd><dt><span class="term"><code class="command">make</code> verursacht Fehler:</span></dt><dd><p>Wenn <code class="command">make</code> misslingt, liegen
	    meistens Fehler in der Konfigurationsdatei vor,
	    die aber nicht schwerwiegend genug für
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=config&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">config</span>(8)</span></a> waren.  Überprüfen Sie
	    wiederum Ihre Konfiguration und wenn Sie keinen
	    Fehler entdecken können, schicken Sie eine
	    E-Mail mit Ihrer Kernelkonfiguration an die Mailingliste
	    'Fragen und Antworten zu FreeBSD'
  <code class="email">&lt;<a xmlns="" class="email" href="mailto:de-bsd-questions@de.FreeBSD.org">de-bsd-questions@de.FreeBSD.org</a>&gt;</code>.  Sie sollten dann schnell Hilfe erhalten.</p></dd><dt><span class="term">Der Kernel bootet nicht:<a id="kernelconfig-noboot"></a></span></dt><dd><p>Wenn der Kernel nicht booten will, ist das noch
	    lange kein Grund zur Panik.  Denn FreeBSD besitzt exzellente
	    Mechanismen zur Wiederherstellung nach dem Einsatz
	    inkompatibler Kernel.  Den Kernel, mit dem Sie booten
	    wollen, können Sie sich im FreeBSD Boot-Loader
	    aussuchen.  Dazu wählen Sie im Bootmenü die
	    Option <span class="quote">&#8222;<span class="quote">Escape to a loader prompt</span>&#8220;</span>.  Danach
	    geben Sie den Befehl
	    <code class="command">boot kernel.old</code> oder
	    den Namen eines anderen Kernels ein, der sauber bootet.  Für
	    alle Fälle sollten Sie immer einen Kernel, der garantiert
	    bootet, bereit halten.</p><p>Nun können Sie die Konfiguration noch einmal
	    überprüfen und den Kernel neu kompilieren.  Dazu
	    ist <code class="filename">/var/log/messages</code> sehr nützlich,
	    da hier sämtliche Kernelmeldungen von jedem erfolgreichen
	    Bootvorgang gespeichert werden.  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dmesg&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">dmesg</span>(8)</span></a> gibt Ihnen die
	    Kernelmeldungen vom letzten Bootvorgang aus.</p><div xmlns="" class="note"><h3 class="admontitle">Anmerkung: </h3><p xmlns="http://www.w3.org/1999/xhtml">Für den Fall, dass Sie Probleme bei dem
	      Kernelbau bekommen, heben Sie sich immer einen
	      <code class="filename">GENERIC</code> oder einen anderen
	      Kernel, der garantiert bootet, auf.  Der Name
	      dieses Kernels sollte so gewählt sein, dass
	      er beim nächsten Bau nicht überschrieben
	      wird.  Sie können sich nicht auf
	      <code class="filename">kernel.old</code> verlassen, da
	      dieser Kernel durch den zuletzt installierten
	      Kernel, der vielleicht schon kaputt war, während
	      der Installation ersetzt wird.  Kopieren Sie den
	      funktionierenden Kernel so schnell wie möglich
	      in das richtige Verzeichnis
	      (<code class="filename">/boot/kernel</code>).
	      Ansonsten funktionieren Kommandos wie <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ps&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ps</span>(1)</span></a>
	      nicht.  Benennen Sie dazu einfach das Verzeichnis
	      des funktionierenden Kernels um:</p><pre xmlns="http://www.w3.org/1999/xhtml" class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mv /boot/kernel /boot/kernel.bad</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>mv /boot/kernel.good /boot/kernel</code></strong></pre></div></dd><dt><span class="term">Der Kernel ist in Ordnung, aber <code class="command">ps</code> geht
	  nicht mehr:</span></dt><dd><p>Wenn Sie eine andere Version des Kernels installiert
	    haben als die, mit der Ihre Systemwerkzeuge gebaut
	    wurden (beispielsweise einen -CURRENT-Kernel auf einem
	    -RELEASE-System), werden Programme wie <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ps&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ps</span>(1)</span></a> und
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=vmstat&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">vmstat</span>(8)</span></a> nicht mehr funktionieren.  Sie
	    sollten nun das <a class="link" href="makeworld.html" title="26.7. Das komplette Basissystem neu bauen">komplette
	    System neu bauen und installieren</a>.  Achten
	    Sie darauf, dass die Quellen, aus denen Sie das
	    System bauen, zum installierten Kernel passen.
	    Das ist ein Grund dafür, warum man nie einen
	    Kernel, der nicht zur Systemversion passt, benutzen
	    sollten.</p></dd></dl></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="kernelconfig-config.html">Zurück</a> </td><td width="20%" align="center"><a accesskey="u" href="kernelconfig.html">Nach oben</a></td><td width="40%" align="right"> <a accesskey="n" href="printing.html">Weiter</a></td></tr><tr><td width="40%" align="left" valign="top">9.6. Die Kernelkonfigurationsdatei </td><td width="20%" align="center"><a accesskey="h" href="index.html">Zum Anfang</a></td><td width="40%" align="right" valign="top"> Kapitel 10. Drucken</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Wenn Sie Fragen zu FreeBSD haben, schicken Sie eine E-Mail an
    &lt;<a href="mailto:de-bsd-questions@de.FreeBSD.org">de-bsd-questions@de.FreeBSD.org</a>&gt;.<br></br>
    Wenn Sie Fragen zu dieser Dokumentation haben, schicken Sie eine E-Mail an
    &lt;<a href="mailto:de-bsd-translators@de.FreeBSD.org">de-bsd-translators@de.FreeBSD.org</a>&gt;.</small></p></body></html>