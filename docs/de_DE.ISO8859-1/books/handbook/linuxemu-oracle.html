<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>11.6. Oracle® installieren</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Das FreeBSD-Handbuch" /><link rel="up" href="linuxemu.html" title="Kapitel 11. Linux-Binärkompatibilität" /><link rel="prev" href="linuxemu-matlab.html" title="11.5. MATLAB® installieren" /><link rel="next" href="linuxemu-advanced.html" title="11.7. Weiterführende Themen" /><link rel="copyright" href="legalnotice.html" title="Rechtlicher Hinweis" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">11.6. <span class="trademark">Oracle</span>® installieren</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="linuxemu-matlab.html">Zurück</a> </td><th width="60%" align="center">Kapitel 11. Linux-Binärkompatibilität</th><td width="20%" align="right"> <a accesskey="n" href="linuxemu-advanced.html">Weiter</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="linuxemu-oracle"></a>11.6. <span class="trademark">Oracle</span>® installieren</h2></div><div><span class="authorgroup">Beigetragen von <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Marcel</span> <span class="surname">Moolenaar</span></span>. </span></div></div></div><a id="idp75828176" class="indexterm"></a><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp75829456"></a>11.6.1. Übersicht</h3></div></div></div><p>Dieses Dokument beschreibt die Installation von
	<span class="application"><span class="trademark">Oracle</span>® 8.0.5</span>
	und <span class="application"><span class="trademark">Oracle</span>® 8.0.5.1 Enterprise Edition</span>
	für Linux auf einem FreeBSD-Rechner.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp75832144"></a>11.6.2. Installation der Linux-Umgebung</h3></div></div></div><p>Stellen Sie sicher, dass Sie sowohl
	<a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/emulators/linux_base/pkg-descr">emulators/linux_base</a> und
	<a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/devel/linux_devtools/pkg-descr">devel/linux_devtools</a>
	aus der Ports-Sammlung installiert haben.  Wenn Sie mit
	diesen Ports Schwierigkeiten haben, müssen Sie
	vielleicht ältere Versionen der Linux-Umgebung aus
	der Ports-Sammlung installieren.</p><p>Wenn Sie den Intelligent-Agent verwenden wollen,
	müssen Sie zusätzlich das RedHat Tcl-Paket
	installieren: <code class="filename">tcl-8.0.3-20.i386.rpm</code>.
	Zur Installation von RPM-Paketen wir der Port
	<a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/archivers/rpm/pkg-descr">archivers/rpm</a> benötigt.
	Ist der Port installiert, lassen sich RPM-Pakete
	anschließend mit dem nachstehenden Befehl
	installieren:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>rpm -i --ignoreos --root /compat/linux --dbpath /var/lib/rpm package</code></strong></pre><p>Die Installation der RPM-Pakete sollte ohne
	Fehlermeldung ablaufen.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp75836624"></a>11.6.3. Die <span class="trademark">Oracle</span>®-Umgebung erzeugen</h3></div></div></div><p>Bevor Sie <span class="application"><span class="trademark">Oracle</span>®</span> installieren
	können, müssen Sie eine entsprechende Umgebung erzeugen.
	Dieses Dokument beschreibt nur, was Sie
	<span class="emphasis"><em>im Speziellen</em></span> tun müssen, um die
	Linux-Version von <span class="application"><span class="trademark">Oracle</span>®</span> unter FreeBSD
	zu installieren, nicht aber, was bereits in der Installationsanleitung
	von <span class="application"><span class="trademark">Oracle</span>®</span> beschrieben wird.</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="linuxemu-kernel-tuning"></a>11.6.3.1. Kernel-Tuning</h4></div></div></div><a id="idp75841232" class="indexterm"></a><p>Wie in der Installationsanleitung von
	  <span class="application"><span class="trademark">Oracle</span>®</span> beschrieben,
	  müssen Sie die maximale Shared-Memory Größe
	  festlegen.  Verwenden Sie
	  <code class="literal">SHMMAX</code> nicht unter FreeBSD.
	  <code class="literal">SHMMAX</code> wird lediglich aus
	  <code class="literal">SHMMAXPGS</code> und <code class="literal">PGSIZE</code>
	  berechnet.  Definieren Sie stattdessen
	  <code class="literal">SHMMAXPGS</code>.  Alle anderen Optionen
	  können wie in der Anleitung beschrieben verwendet werden.
	  Zum Beispiel:</p><pre class="programlisting">options SHMMAXPGS=10000
options SHMMNI=100
options SHMSEG=10
options SEMMNS=200
options SEMMNI=70
options SEMMSL=61</pre><p>Passen Sie diese Optionen entsprechend dem von Ihnen
	  gewünschten Einsatzzweck von
	  <span class="application"><span class="trademark">Oracle</span>®</span> an.</p><p>Stellen Sie außerdem sicher, dass Sie folgende
	  Optionen in Ihren Kernel kompilieren:</p><pre class="programlisting">options SYSVSHM #SysV shared memory
options SYSVSEM #SysV semaphores
options SYSVMSG #SysV interprocess communication</pre></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="linuxemu-oracle-account"></a>11.6.3.2. <span class="trademark">Oracle</span>®-Benutzer anlegen</h4></div></div></div><p>Legen Sie den Account <code class="systemitem">oracle</code> an.
	  Der Account unterschiedet sich von normalen Accounts
	  dadurch, dass er eine Linux-Shell zugeordnet bekommen muss.
	  Fügen Sie <code class="literal">/compat/linux/bin/bash</code> in die
	  Datei <code class="filename">/etc/shells</code> ein und setzen Sie die
	  Shell für den <code class="systemitem">oracle</code>-Account auf
	  <code class="filename">/compat/linux/bin/bash</code>.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="linuxemu-environment"></a>11.6.3.3. Umgebung</h4></div></div></div><p>Neben den normalen
	  <span class="application"><span class="trademark">Oracle</span>®</span>-Variablen, wie z.B.
	  <code class="envar">ORACLE_HOME</code> und <code class="envar">ORACLE_SID</code>
	  müssen Sie die folgenden Variablen setzen:</p><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Variable</th><th>Wert</th></tr></thead><tbody><tr><td><code class="envar">LD_LIBRARY_PATH</code></td><td><code class="literal">$ORACLE_HOME/lib</code></td></tr><tr><td><code class="envar">CLASSPATH</code></td><td><code class="literal">$ORACLE_HOME/jdbc/lib/classes111.zip</code></td></tr><tr><td><code class="envar">PATH</code></td><td><code class="literal">/compat/linux/bin
/compat/linux/sbin
/compat/linux/usr/bin
/compat/linux/usr/sbin
/bin
/sbin
/usr/bin
/usr/sbin
/usr/local/bin
$ORACLE_HOME/bin</code></td></tr></tbody></table></div><p>Es ist empfehlenswert, alle Variablen in der Datei
	  <code class="filename">.profile</code> zu setzen.  Ein komplettes
	  Beispiel sieht folgendermaßen aus:</p><pre class="programlisting">ORACLE_BASE=/oracle; export ORACLE_BASE
ORACLE_HOME=/oracle; export ORACLE_HOME
LD_LIBRARY_PATH=$ORACLE_HOME/lib
export LD_LIBRARY_PATH
ORACLE_SID=ORCL; export ORACLE_SID
ORACLE_TERM=386x; export ORACLE_TERM
CLASSPATH=$ORACLE_HOME/jdbc/lib/classes111.zip
export CLASSPATH
PATH=/compat/linux/bin:/compat/linux/sbin:/compat/linux/usr/bin
PATH=$PATH:/compat/linux/usr/sbin:/bin:/sbin:/usr/bin:/usr/sbin
PATH=$PATH:/usr/local/bin:$ORACLE_HOME/bin
export PATH</pre></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp75875792"></a>11.6.4. <span class="trademark">Oracle</span>® installieren</h3></div></div></div><p>Auf Grund einer kleinen Unregelmäßigkeit
	im Linux-Emulator müssen Sie das Verzeichnis
	<code class="filename">.oracle</code> unter <code class="filename">/var/tmp</code>
	erzeugen, bevor Sie das Installationsprogramm starten.
	Das Verzeichnis muss dem Account <code class="systemitem">oracle</code>
	gehören.  Sie sollten <span class="application"><span class="trademark">Oracle</span>®</span> nun
	ohne Probleme installieren können.  Treten dennoch Probleme
	auf, überprüfen Sie zuerst Ihre
	<span class="application"><span class="trademark">Oracle</span>®</span>-Distribution und Ihre
	Konfiguration.  Nachdem Sie <span class="application"><span class="trademark">Oracle</span>®</span>
	erfolgreich installiert haben, installieren Sie die Patches
	wie in den zwei folgenden Abschnitten beschrieben:</p><p>Ein häufiges Problem ist, dass der
	TCP Protokoll-Adapter nicht korrekt installiert wird.
	Daraus folgt, dass Sie keine TCP-Listener starten können.
	Dieses Problem kann durch folgende Schritte behoben werden:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cd $ORACLE_HOME/network/lib</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>make -f ins_network.mk ntcontab.o</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>cd $ORACLE_HOME/lib</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>ar r libnetwork.a ntcontab.o</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>cd $ORACLE_HOME/network/lib</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>make -f ins_network.mk install</code></strong></pre><p>Vergessen Sie nicht, <code class="filename">root.sh</code>
	nochmals auszuführen!</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="linuxemu-patch-root"></a>11.6.4.1. root.sh patchen</h4></div></div></div><p>Während der
	  <span class="application"><span class="trademark">Oracle</span>®</span>-Installation werden einige
	  Aktionen, die als <code class="systemitem">root</code>
	  ausgeführt werden müssen, in ein Shell-Skript
	  mit dem Namen <code class="filename">root.sh</code> gespeichert.
	  Dieses Skript befindet sich im Verzeichnis
	  <code class="filename">orainst</code>.  Verwenden Sie folgenden
	  Patch für <code class="filename">root.sh</code>, damit es
	  das richtige <code class="command">chown</code> Kommando
	  verwendet, oder lassen Sie das
	  Skript alternativ unter einer Linux-Shell ablaufen:</p><pre class="programlisting">*** orainst/root.sh.orig Tue Oct 6 21:57:33 1998
--- orainst/root.sh Mon Dec 28 15:58:53 1998
***************
*** 31,37 ****
# This is the default value for CHOWN
# It will redefined later in this script for those ports
# which have it conditionally defined in ss_install.h
! CHOWN=/bin/chown
#
# Define variables to be used in this script
--- 31,37 ----
# This is the default value for CHOWN
# It will redefined later in this script for those ports
# which have it conditionally defined in ss_install.h
! CHOWN=/usr/sbin/chown
#
# Define variables to be used in this script</pre><p>Wenn Sie <span class="application"><span class="trademark">Oracle</span>®</span> nicht
	  von CD-ROM installieren, können
	  Sie Quelldatei für <code class="filename">root.sh</code>
	  verändern.  Sie heißt <code class="filename">rthd.sh</code>
	  und befindet sich im <code class="filename">orainst</code>-Verzeichnis
	  des Quellcodebaums.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="linuxemu-patch-tcl"></a>11.6.4.2. genclntsh patchen</h4></div></div></div><p>Das Skript <code class="command">genclntsh</code> wird verwendet,
	  um eine Shared-Library für Clients zu erzeugen.
	  Diese wird bei der Erzeugung der Demos verwendet.  Verwenden
	  Sie folgenden Patch, um die Definition von <code class="envar">PATH</code>
	  auszukommentieren:</p><pre class="programlisting">*** bin/genclntsh.orig Wed Sep 30 07:37:19 1998
--- bin/genclntsh Tue Dec 22 15:36:49 1998
***************
*** 32,38 ****
#
# Explicit path to ensure that we're using the correct commands
#PATH=/usr/bin:/usr/ccs/bin export PATH
! PATH=/usr/local/bin:/bin:/usr/bin:/usr/X11R6/bin export PATH
#
# each product MUST provide a $PRODUCT/admin/shrept.lst
--- 32,38 ----
#
# Explicit path to ensure that we're using the correct commands
#PATH=/usr/bin:/usr/ccs/bin export PATH
! #PATH=/usr/local/bin:/bin:/usr/bin:/usr/X11R6/bin export PATH
#
# each product MUST provide a $PRODUCT/admin/shrept.lst</pre></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp75912272"></a>11.6.5. <span class="trademark">Oracle</span>® starten</h3></div></div></div><p>Wenn Sie den Anweisungen gefolgt sind, sollten Sie nun
	in der Lage sein, <span class="application"><span class="trademark">Oracle</span>®</span> zu starten,
	genau so, wie Sie dies auch unter Linux tun würden.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="linuxemu-matlab.html">Zurück</a> </td><td width="20%" align="center"><a accesskey="u" href="linuxemu.html">Nach oben</a></td><td width="40%" align="right"> <a accesskey="n" href="linuxemu-advanced.html">Weiter</a></td></tr><tr><td width="40%" align="left" valign="top">11.5. <span class="trademark">MATLAB</span>® installieren </td><td width="20%" align="center"><a accesskey="h" href="index.html">Zum Anfang</a></td><td width="40%" align="right" valign="top"> 11.7. Weiterführende Themen</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Wenn Sie Fragen zu FreeBSD haben, schicken Sie eine E-Mail an
    &lt;<a href="mailto:de-bsd-questions@de.FreeBSD.org">de-bsd-questions@de.FreeBSD.org</a>&gt;.<br></br>
    Wenn Sie Fragen zu dieser Dokumentation haben, schicken Sie eine E-Mail an
    &lt;<a href="mailto:de-bsd-translators@de.FreeBSD.org">de-bsd-translators@de.FreeBSD.org</a>&gt;.</small></p></body></html>