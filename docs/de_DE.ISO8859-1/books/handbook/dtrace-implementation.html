<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>27.2. Unterschiede in der Implementierung</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Das FreeBSD-Handbuch" /><link rel="up" href="dtrace.html" title="Kapitel 27. DTrace" /><link rel="prev" href="dtrace.html" title="Kapitel 27. DTrace" /><link rel="next" href="dtrace-enable.html" title="27.3. Die DTrace Unterstützung aktivieren" /><link rel="copyright" href="legalnotice.html" title="Rechtlicher Hinweis" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">27.2. Unterschiede in der Implementierung</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="dtrace.html">Zurück</a> </td><th width="60%" align="center">Kapitel 27. DTrace</th><td width="20%" align="right"> <a accesskey="n" href="dtrace-enable.html">Weiter</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="dtrace-implementation"></a>27.2. Unterschiede in der Implementierung</h2></div></div></div><p>Obwohl DTrace in FreeBSD sehr ähnlich zu dem in <span class="trademark">Solaris</span>&#8482;
      ist, existieren doch Unterschiede.  Der Hauptunterschied besteht
      darin, dass in FreeBSD DTrace als eine Menge von Kernelmodulen
      implementiert ist und DTrace nicht verwendet werden kann, bis
      diese Module geladen wurden.  Um alle nötigen Module zu laden,
      geben Sie ein:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>kldload dtraceall</code></strong></pre><p>Beginnend mit FreeBSD 10.0-RELEASE werden die Module
      automatisch geladen, sobald <code class="command">dtrace</code> aufgerufen
      wird.</p><p>FreeBSD verwendet die Kerneloption <code class="literal">DDB_CTF</code>,
      um die Unterstützung im Kernel für das Laden von
      <acronym class="acronym">CTF</acronym>-Daten aus Kernelmodulen und dem Kernel
      selbst zu ermöglichen.  <acronym class="acronym">CTF</acronym> ist das Compact C
      Type Format von <span class="trademark">Solaris</span>&#8482;, welches eine reduzierte Form von
      Debug-Informationen kapselt, ähnlich zu <acronym class="acronym">DWARF</acronym>
      und den antiken Stabs.  Diese <acronym class="acronym">CTF</acronym>-Daten
      werden dem Binärcode von den <code class="command">ctfconvert</code> und
      <code class="command">ctfmerge</code> Befehlen den Werkzeugen zum Bauen
      des Systems hinzugefügt.  Das
      <code class="command">ctfconvert</code>-Dienstprogramm parst die vom
      Compiler erstellten <acronym class="acronym">DWARF</acronym>
      <acronym class="acronym">ELF</acronym> Debug-Abschnitte und
      <code class="command">ctfmerge</code> vereint <acronym class="acronym">CTF</acronym>
      <acronym class="acronym">ELF</acronym>-Abschnitte aus Objekten, entweder in
      ausführbare Dateien oder Shared-Libraries.</p><p>Einige Provider in FreeBSD unterscheiden sich von der
      <span class="trademark">Solaris</span>&#8482;-Implementierung.  Am deutlichsten wird das beim
      <code class="literal">dtmalloc</code>-Provider, welcher das Aufzeichnen
      von <code class="function">malloc()</code> nach Typen im FreeBSD-Kernel
      ermöglicht.  Manche der Provider in <span class="trademark">Solaris</span>&#8482; wie
      <code class="literal">cpc</code> und <code class="literal">mib</code> sind in FreeBSD
      nicht vorhanden.  Diese können in zukünftigen FreeBSD-Versionen
      auftauchen.  Weiterhin sind manche der Provider in beiden
      Betriebssystemen nicht zueinander kompatibel, in dem Sinne daß
      deren Sonden unterschiedliche Argumenttypen aufweisen.  Dadurch
      können <acronym class="acronym">D</acronym>-Skripte, die unter <span class="trademark">Solaris</span>&#8482;
      geschrieben wurden, evtl. unter FreeBSD funktionieren oder auch
      nicht, umgekehrt ist das genauso.</p><p>In FreeBSD darf DTrace wegen unterschiedlicher
      Sicherheitskonzepte nur von <code class="systemitem">root</code> verwendet werden.  <span class="trademark">Solaris</span>&#8482;
      besitzt ein paar Audit-Funktionen auf den unteren Ebenen, die
      noch nicht in FreeBSD implementiert sind.  Deshalb kann nur
      <code class="systemitem">root</code> auf
      <code class="filename">/dev/dtrace/dtrace</code> zugreifen.</p><p>Zum Schluss muss noch erwähnt werden, dass die
      DTrace-Software unter die <acronym class="acronym">CDDL</acronym> Lizenz
      fällt.  Die <code class="literal">Common Development and Distribution
      License</code> wird von FreeBSD mitgeliefert, sehen Sie sich
      dazu
      <code class="filename">/usr/src/cddl/contrib/opensolaris/OPENSOLARIS.LICENSE</code>
      an, oder lesen Sie die Online-Version unter <code class="uri"><a class="uri" href="http://www.opensolaris.org/os/licensing" target="_top">http://www.opensolaris.org/os/licensing</a></code>.</p><p>Diese Lizenz bedeutet, dass ein FreeBSD-Kernel mit den
      DTrace-Optionen immer noch <acronym class="acronym">BSD</acronym>-lizenziert
      ist; allerdings tritt die <acronym class="acronym">CDDL</acronym> in Kraft, wenn
      Module in Binärform vertrieben werden oder die Binärdateien
      geladen werden.</p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="dtrace.html">Zurück</a> </td><td width="20%" align="center"><a accesskey="u" href="dtrace.html">Nach oben</a></td><td width="40%" align="right"> <a accesskey="n" href="dtrace-enable.html">Weiter</a></td></tr><tr><td width="40%" align="left" valign="top">Kapitel 27. DTrace </td><td width="20%" align="center"><a accesskey="h" href="index.html">Zum Anfang</a></td><td width="40%" align="right" valign="top"> 27.3. Die DTrace Unterstützung aktivieren</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Wenn Sie Fragen zu FreeBSD haben, schicken Sie eine E-Mail an
    &lt;<a href="mailto:de-bsd-questions@de.FreeBSD.org">de-bsd-questions@de.FreeBSD.org</a>&gt;.<br></br>
    Wenn Sie Fragen zu dieser Dokumentation haben, schicken Sie eine E-Mail an
    &lt;<a href="mailto:de-bsd-translators@de.FreeBSD.org">de-bsd-translators@de.FreeBSD.org</a>&gt;.</small></p></body></html>