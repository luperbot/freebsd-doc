<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>5.2. Die Makefiles des Dokumentationsbaums verstehen</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Die Fibel für neue Mitarbeiter des FreeBSD-Dokumentationsprojekts" /><link rel="up" href="doc-build.html" title="Kapitel 5. Die Erzeugung der Zieldokumente" /><link rel="prev" href="doc-build.html" title="Kapitel 5. Die Erzeugung der Zieldokumente" /><link rel="next" href="make-includes.html" title="5.3. make(1)-Includes des FreeBSD Documentation Projects" /><link rel="copyright" href="legalnotice.html" title="Rechtlicher Hinweis" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">5.2. Die <code class="filename">Makefile</code>s des Dokumentationsbaums
      verstehen</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="doc-build.html">Zurück</a> </td><th width="60%" align="center">Kapitel 5. Die Erzeugung der Zieldokumente</th><td width="20%" align="right"> <a accesskey="n" href="make-includes.html">Weiter</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="doc-build-makefiles"></a>5.2. Die <code class="filename">Makefile</code>s des Dokumentationsbaums
      verstehen</h2></div></div></div><p>Innerhalb des FreeBSD Documentation Projects gibt es drei
      verschiedene Arten von <code class="filename">Makefile</code>s:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Ein <a class="link" href="doc-build-makefiles.html#sub-make" title="5.2.1. Unterverzeichnis-Makefiles">
	  <code class="filename">Makefile</code></a> in einem
	  Unterverzeichnis gibt Anweisungen an dessen Dateien und
	  Unterverzeichnisse weiter.</p></li><li class="listitem"><p>Ein <a class="link" href="doc-build-makefiles.html#doc-make" title="5.2.2. Dokument-Makefiles">
	  Dokument-<code class="filename">Makefile</code></a> beschreibt das
	  Dokument, das aus dem Inhalt des jeweiligen Verzeichnisses
	  gebaut werden soll.</p></li><li class="listitem"><p><a class="link" href="make-includes.html" title="5.3. make(1)-Includes des FreeBSD Documentation Projects">
	  <span class="application">Make</span>-Includes</a> sind der
	  "Klebstoff", der für den Bau der Dokumentation
	  erforderlich ist.  In der Regel heissen diese Dokumente
	  <code class="filename">doc.<em class="replaceable"><code>xxx</code></em>.mk</code>.</p></li></ul></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="sub-make"></a>5.2.1. Unterverzeichnis-<code class="filename">Makefile</code>s</h3></div></div></div><p>Derartige <code class="filename">Makefile</code>s sind in der Regel
	wie folgt aufgebaut:</p><pre class="programlisting">SUBDIR =articles
SUBDIR+=books

COMPAT_SYMLINK = en

DOC_PREFIX?= ${.CURDIR}/..
.include "${DOC_PREFIX}/share/mk/doc.project.mk"</pre><p>Die ersten vier nicht-leeren Zeilen definieren die
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=make&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">make</span>(1)</span></a>-Variablen
	<code class="varname">SUBDIR</code>, <code class="varname">COMPAT_SYMLINK</code>,
	und <code class="varname">DOC_PREFIX</code>.</p><p>Die <code class="varname">SUBDIR</code>-Anweisung weist
	(ebenso wie die <code class="varname">COMPAT_SYMLINK</code>-Anweisung)
	einer Variable einen Wert zu und überschreibt dabei
	deren ursprünglichen Wert.</p><p>Die zweite <code class="varname">SUBDIR</code>-Anweisung zeigt,
	wie man den aktuellen Wert einer Variable ergänzen
	kann.  Nach der Ausführung dieser Anweisung hat die
	Variable <code class="varname">SUBDIR</code> den Wert
	<code class="literal">articles books</code>.</p><p>Die Anweisung <code class="varname">DOC_PREFIX</code> zeigt, wie
	man einer Variable einen Wert zuweist (vorausgesetzt, die
	Variable ist nicht bereits definiert).  Eine derartige
	Anweisung ist beispielsweise sinnvoll, wenn sich
	<code class="varname">DOC_PREFIX</code> nicht dort befindet, wo es
	vom <code class="filename">Makefile</code> erwartet wird.
	Durch das Setzen dieser Variable kann der korrekte Wert an
	das Makefile übergeben werden.</p><p>Was heißt dies nun konkret?  Mit den
	<code class="varname">SUBDIR</code>-Anweisungen legen Sie fest, welche
	Unterverzeichnisse beim Bau der Dokumentation eingeschlossen
	werden müssen.</p><p><code class="varname">COMPAT_SYMLINK</code> wird zur Erstellung
	von symbolischen Links zwischen den jeweiligen Dokumentsprachen
	und deren offizieller Kodierung benötigt (so wird
	beispielsweise <code class="filename">doc/en</code> nach
	<code class="filename">en_US.ISO-8859-1</code> verlinkt).</p><p><code class="varname">DOC_PREFIX</code> gibt den Pfad zum
	Wurzelverzeichnis des Quellcode-Baums des FreeBSD Documentation
	Projects an.  Diese Vorgabe kann jederzeit durch einen eigenen
	Wert ersetzt werden.  Bei <code class="varname">.CURDIR</code> handelt es
	sich um eine in  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=make&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">make</span>(1)</span></a> eingebaute
	Variable, die den Pfad des aktuellen Verzeichnisses
	enthält.</p><p>Die letzte Zeile bindet <code class="filename">doc.project.mk</code>,
	die zentrale, projektweite <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=make&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">make</span>(1)</span></a>-Datei
	des FreeBSD Documentation Projects, in den Bau ein.  Diese Datei
	enthält den "Klebstoff", der die diversen Variablen in
	Anweisungen zum Bau der Dokumentation konvertiert.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="doc-make"></a>5.2.2. Dokument-<code class="filename">Makefile</code>s</h3></div></div></div><p>Diese <code class="filename">Makefile</code>s definieren diverse
	<span class="application">make</span>-Variablen mit Vorgaben
	zum Bau der im Verzeichnis enthaltenen Dokumentation.</p><p>Dazu ein Beispiel:</p><pre class="programlisting">MAINTAINER=nik@FreeBSD.org

DOC?= book

FORMATS?= html-split html

INSTALL_COMPRESSED?= gz
INSTALL_ONLY_COMPRESSED?=

# SGML content
SRCS=  book.xml

DOC_PREFIX?= ${.CURDIR}/../../..

.include "$(DOC_PREFIX)/share/mk/docproj.docbook.mk"</pre><p>Die Variable <code class="varname">MAINTAINER</code> ist von
	zentraler Bedeutung.  Sie legt fest, wer für ein
	bestimmtes Dokument des FreeBSD Documentation Projects
	verantwortlich ist.</p><p><code class="varname">DOC</code> (ohne die Erweiterung
	<code class="filename">.xml</code>) ist der Name des Hauptdokuments des
	Verzeichnisses, in dem sich das Makefile befindet.  Mit
	<code class="varname">SRCS</code>-Anweisungen geben Sie alle Dokumente an,
	aus denen das Dokument besteht.  Zusätzlich binden Sie
	damit wichtige Dateien ein, deren Änderung einen erneuten
	Bau der Dokumentation erforderlich macht.</p><p>Mit <code class="varname">FORMATS</code> geben Sie an, in welchen
	Formaten die Dokumentation gebaut werden soll.
	<code class="varname">INSTALL_COMPRESSED</code> enthält die
	Standardvorgaben, die beim Bau komprimierter Pakte der
	Dokumentation verwendet werden sollen.  Der Variable
	<code class="varname">INSTALL_ONLY_COMPRESS</code> (die in der
	Voreinstellung leer ist) wird nur dann ein Wert zugewiesen,
	wenn ausschließlich komprimierte Pakete der Dokumentation
	erstellt werden sollen.</p><p>Die Variable <code class="varname">DOC_PREFIX</code> und die
	verschiedenen Include-Anweisungen sollten Ihnen ebenfalls
	bereits vertraut sein.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="doc-build.html">Zurück</a> </td><td width="20%" align="center"><a accesskey="u" href="doc-build.html">Nach oben</a></td><td width="40%" align="right"> <a accesskey="n" href="make-includes.html">Weiter</a></td></tr><tr><td width="40%" align="left" valign="top">Kapitel 5. Die Erzeugung der Zieldokumente </td><td width="20%" align="center"><a accesskey="h" href="index.html">Zum Anfang</a></td><td width="40%" align="right" valign="top"> 5.3. make(1)-Includes des FreeBSD Documentation Projects</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Wenn Sie Fragen zu FreeBSD haben, schicken Sie eine E-Mail an
    &lt;<a href="mailto:de-bsd-questions@de.FreeBSD.org">de-bsd-questions@de.FreeBSD.org</a>&gt;.<br></br>
    Wenn Sie Fragen zu dieser Dokumentation haben, schicken Sie eine E-Mail an
    &lt;<a href="mailto:de-bsd-translators@de.FreeBSD.org">de-bsd-translators@de.FreeBSD.org</a>&gt;.</small></p></body></html>