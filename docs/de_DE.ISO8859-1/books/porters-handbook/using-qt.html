<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>6.9. Benutzung von Qt</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Das FreeBSD Porter-Handbuch" /><link rel="up" href="special.html" title="Kapitel 6. Besonderheiten" /><link rel="prev" href="using-gnome.html" title="6.8. Benutzung von GNOME" /><link rel="next" href="using-kde.html" title="6.10. Benutzung von KDE" /><link rel="copyright" href="trademarks.html" title="Rechtlicher Hinweis" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">6.9. Benutzung von Qt</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="using-gnome.html">Zurück</a> </td><th width="60%" align="center">Kapitel 6. Besonderheiten</th><td width="20%" align="right"> <a accesskey="n" href="using-kde.html">Weiter</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="using-qt"></a>6.9. Benutzung von Qt</h2></div></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="qt-common"></a>6.9.1. Ports, die Qt benötigen</h3></div></div></div><div class="table"><a id="idp68451152"></a><div class="table-title">Tabelle 6.7. Variablen für Ports, die Qt
	    benötigen</div><div class="table-contents"><table summary="Variablen für Ports, die Qt&#10;&#9;    benötigen" border="0"><colgroup><col /><col /></colgroup><tbody><tr><td><code class="varname">USE_QT_VER</code></td><td>Der Port benutzt das Qt-Toolkit. Mögliche
		  Werte sind <code class="literal">3</code> und
		  <code class="literal">4</code>; diese spezifizieren die Major
		  Version von Qt, die benutzt werden soll.
		  Entsprechende Parameter werden an das
		  <code class="command">configure</code>-Skript und
		  <code class="command">make</code> übergeben.</td></tr><tr><td><code class="varname">QT_PREFIX</code></td><td>Enthält den Pfad, wohin Qt installiert ist
		  (nur lesbare Variable).</td></tr><tr><td><code class="varname">MOC</code></td><td>Enthält den Pfad von <code class="command">moc</code>
		  (nur lesbare Variable). Voreingestellt entsprechend des
		  <code class="varname">USE_QT_VER</code>-Werts.</td></tr><tr><td><code class="varname">QTCPPFLAGS</code></td><td>Zusätzliche Compiler-Flags, die über
		  <code class="varname">CONFIGURE_ENV</code> an das Qt-Toolkit
		    übergeben werden. Voreingestellt entsprechend des
		   <code class="varname">USE_QT_VER</code>-Wertes.</td></tr><tr><td><code class="varname">QTCFGLIBS</code></td><td>Zusätzliche Bibliotheken, die über
		<code class="varname">CONFIGURE_ENV</code> für das Qt-Toolkit
		  gelinkt werden sollen. Voreingestellt entsprechend des
		  <code class="varname">USE_QT_VER</code>-Wertes.</td></tr><tr><td><code class="varname">QTNONSTANDARD</code></td><td>Änderungen von
		  <code class="varname">CONFIGURE_ENV</code>,
		  <code class="varname">CONFIGURE_ARGS</code> und
		  <code class="varname">MAKE_ENV</code> sollen unterdrückt
		  werden.</td></tr></tbody></table></div></div><br class="table-break" /><div class="table"><a id="idp68470224"></a><div class="table-title">Tabelle 6.8. Zusätzliche Variablen für Ports,
	    die Qt 4.xi benutzen</div><div class="table-contents"><table summary="Zusätzliche Variablen für Ports,&#10;&#9;    die Qt 4.xi benutzen" border="0"><colgroup><col /><col /></colgroup><tbody><tr><td><code class="varname">QT_COMPONENTS</code></td><td>Spezifiziert Tool&#8211; und
		  Bibliothek-Abhängigkeiten für Qt4.
		  Siehe unten für Details.</td></tr><tr><td><code class="varname">UIC</code></td><td>Enthält den Pfad von <code class="command">uic</code>
		  (nur lesbare Variable). Voreingestellt entsprechend des
		  <code class="varname">USE_QT_VER</code>-Wertes.</td></tr><tr><td><code class="varname">QMAKE</code></td><td>Enthält den Pfad von <code class="command">qmake</code>
		  (nur lesbare Variable). Voreingestellt entsprechend des
		  <code class="varname">USE_QT_VER</code>-Wertes.</td></tr><tr><td><code class="varname">QMAKESPEC</code></td><td>Enthält den Pfad der Konfigurationsdatei
		  für <code class="command">qmake</code>
		  (nur lesbare Variable). Voreingestellt entsprechend des
		  <code class="varname">USE_QT_VER</code>-Wertes.</td></tr></tbody></table></div></div><br class="table-break" /><p>Wenn <code class="varname">USE_QT_VER</code> gesetzt ist,
	  werden dem <code class="command">configure</code>-Skript einige
	  nützliche Einstellungen übergeben:</p><pre class="programlisting">CONFIGURE_ARGS+= --with-qt-includes=${QT_PREFIX}/include \
	         --with-qt-libraries=${QT_PREFIX}/lib \
	         --with-extra-libs=${LOCALBASE}/lib \
	         --with-extra-includes=${LOCALBASE}/include
CONFIGURE_ENV+=  MOC="${MOC}" CPPFLAGS="${CPPFLAGS} ${QTCPPFLAGS}" LIBS="${QTCFGLIBS}" \
	         QTDIR="${QT_PREFIX}" KDEDIR="${KDE_PREFIX}"</pre><p>Wenn <code class="varname">USE_QT_VER</code> auf
	  <code class="literal">4</code> gesetzt ist, werden auch die folgenden
	  Einstellungen übergeben:</p><pre class="programlisting">CONFIGURE_ENV+= UIC="${UIC}" QMAKE="${QMAKE}" QMAKESPEC="${QMAKESPEC}"
MAKE_ENV+=      QMAKESPEC="${QMAKESPEC}"</pre></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="qt4-components"></a>6.9.2. Komponentenauswahl (nur bei Qt 4.x)</h3></div></div></div><p>Wenn <code class="varname">USE_QT_VER</code> auf 4 gesetzt ist,
	   können individuelle Qt4-Tool- und
	   Bibliotheksabhängigkeiten in der Variable
	   <code class="varname">QT_COMPONENTS</code> angegeben werden.  An jede
	   Komponente kann <code class="literal">_build</code> oder
	   <code class="literal">_run</code> als Suffix angehängt werden,
	   was eine Abhängigkeit zur Build- bzw. Laufzeit angibt.
	   Ohne Suffix gilt die Abhängigkeit sowohl zur Build-
	   als auch zur Laufzeit.  Bibliothekskomponenten sollten
	   normalerweise ohne Suffix angegeben werden,
	   Tool-Komponenten mit <code class="literal">_build</code> und
	   Plugin-Komponenten mit <code class="literal">_run</code>.  Die
	   gebräuchlichsten Komponenten werden im Folgenden
	   angegeben (alle verfügbaren Komponenten sind in
	   <code class="varname">_QT_COMPONENTS_ALL</code> in
	   <code class="filename">/usr/ports/Mk/bsd.qt.mk</code>
	   aufgelistet):</p><div class="table"><a id="idp68491344"></a><div class="table-title">Tabelle 6.9. Verfügbare Qt4-Bibliothekskomponenten</div><div class="table-contents"><table summary="Verfügbare Qt4-Bibliothekskomponenten" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Name</th><th>Beschreibung</th></tr></thead><tbody><tr><td><code class="literal">corelib</code></td><td>Kern-Bibliothek (kann weggelassen
		  werden&#8211; es sei denn, der Port benutzt nichts
		  außer <code class="literal">corelib</code>)</td></tr><tr><td><code class="literal">gui</code></td><td>Graphische
		  Benutzeroberflächen-Bibliothek</td></tr><tr><td><code class="literal">network</code></td><td>Netzwerk-Bibliothek</td></tr><tr><td><code class="literal">opengl</code></td><td>OpenGL-Bibliothek</td></tr><tr><td><code class="literal">qt3support</code></td><td>Qt3-Kompatibilitäts-Bibliothek</td></tr><tr><td><code class="literal">qtestlib</code></td><td>Modultest-Bibliothek</td></tr><tr><td><code class="literal">script</code></td><td>Skript-Bibliothek</td></tr><tr><td><code class="literal">sql</code></td><td>SQL-Bibliothek</td></tr><tr><td><code class="literal">xml</code></td><td>XML-Bibliothek</td></tr></tbody></table></div></div><br class="table-break" /><p>Sie können herausfinden, welche Bibliotheken die
	  Applikation benötigt, indem Sie nach erfolgreicher
	  Kompilierung <code class="command">ldd</code> auf die
	  Hauptbinärdatei anwenden.</p><div class="table"><a id="idp68511696"></a><div class="table-title">Tabelle 6.10. Verfügbare Qt4-Tool-Komponenten</div><div class="table-contents"><table summary="Verfügbare Qt4-Tool-Komponenten" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Name</th><th>Beschreibung</th></tr></thead><tbody><tr><td><code class="literal">moc</code></td><td>meta object compiler (wird zum Build fast
		  jeder Qt-Applikation benötigt)</td></tr><tr><td><code class="literal">qmake</code></td><td>Makefile-Generator / Build-Werkzeug</td></tr><tr><td><code class="literal">rcc</code></td><td>Resource-Compiler (wird benötigt, falls
		  die Applikation <code class="filename">*.rc</code> oder
		  <code class="filename">*.qrc</code> Dateien
		  enthält)</td></tr><tr><td><code class="literal">uic</code></td><td>User-Interface-Compiler (wird benötigt,
		  falls die Applikation von Qt-Designer erzeugte
		  <code class="filename">*.ui</code> Dateien enthält -
		  gilt für praktisch jede Qt-Applikation mit
		  einer GUI)</td></tr></tbody></table></div></div><br class="table-break" /><div class="table"><a id="idp68521552"></a><div class="table-title">Tabelle 6.11. Verfügbare Qt4-Plugin-Komponenten</div><div class="table-contents"><table summary="Verfügbare Qt4-Plugin-Komponenten" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Name</th><th>Beschreibung</th></tr></thead><tbody><tr><td><code class="literal">iconengines</code></td><td>SVG-Icon-Engine Plugin (wenn die Applikation
		  SVG-Icons mitliefert)</td></tr><tr><td><code class="literal">imageformats</code></td><td>Bildformatplugins für GIF, JPEG, MNG und
		  SVG (wenn die Applikation Bilddateien
		  mitliefert)</td></tr></tbody></table></div></div><br class="table-break" /><div class="example"><a id="qt4-components-example"></a><div class="example-title">Beispiel 6.3. Qt4-Komponenten auswählen</div><div class="example-contents"><p>In diesem Beispiel benutzt die portierte Applikation
	    die Qt4 GUI-Bibliothek, die Qt4-Core-Bibliothek, alle
	    Qt4-Codeerzeugungstools und Qt4's Makefile Generator. Da
	    die GUI-Bibliothek eine Abhängigkeit von der
	    Core-Bibliothek impliziert, muss corelib nicht angegeben
	    werden. Die Qt4-Codeerzeugungstools moc, uic und rcc,
	    sowie der Makefile Generator qmake werden nur für den
	    Build benötigt, deshalb bekommen die den Suffix
	    <code class="literal">_build</code>:</p><pre class="programlisting">USE_QT_VER=    4
QT_COMPONENTS= gui moc_build qmake_build rcc_build uic_build</pre></div></div><br class="example-break" /></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="qt-additional"></a>6.9.3. Zusätzliche Besonderheiten</h3></div></div></div><p>Wenn die Applikation keine
	  <code class="filename">configure</code> Datei, sondern eine
	  <code class="filename">.pro</code> Datei hat, können Sie das
	  Folgende benutzen:</p><pre class="programlisting">HAS_CONFIGURE=    yes

do-configure:
	@cd ${WRKSRC} &amp;&amp; ${SETENV} ${CONFIGURE_ENV} \
	        ${QMAKE} -unix PREFIX=${PREFIX} texmaker.pro</pre><p>Beachten Sie die Ähnlichkeit mit der
	  <code class="command">qmake</code>-Zeile im mitgelieferten
	  <code class="filename">BUILD.sh</code>-Skript. Die
	  Übergabe von  <code class="varname">CONFIGURE_ENV</code>
	  stellt sicher, dass <code class="command">qmake</code> die
	  <code class="varname">QMAKESPEC</code>-Variable übergeben
	  bekommt, ohne die es nicht funktioniert.
	  <code class="command">qmake</code> erzeugt Standard-Makefiles,
	  sodass es nicht nötig ist ein eigenes neues
	  <code class="buildtarget">build</code>-Target zu schreiben.</p><p>Qt-Applikationen sind oft so geschrieben, dass sie
	  plattformübergreifend sind, und oft ist X11/Unix
	  nicht die Plattform, auf der sie entwickelt werden.
	  Das sorgt oft für bestimmte fehlende
	  Kleinigkeiten wie z.B.:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><span class="emphasis"><em>Fehlende zusätzliche
	      Include-Pfade.</em></span>
	      Viele Applikationen kommen mit System-Tray-Icon
	      Support&#8211; unterlassen es aber Includes
	      oder Bibliotheken in den X11 Verzeichnissen zu suchen.
	      Sie können <code class="command">qmake</code> über die
	      Kommandozeile sagen, es soll Verzeichnisse zu den
	      Include- und Bibliotheks-Suchpfaden
	      hinzufügen - z.B.:</p><pre class="programlisting">${QMAKE} -unix PREFIX=${PREFIX} INCLUDEPATH+=${LOCALBASE}/include \
    LIBS+=-L${LOCALBASE}/lib sillyapp.pro</pre></li><li class="listitem"><p><span class="emphasis"><em>Falsche Installations-Pfade.</em></span>
	      Manchmal werden Daten wie Icons oder .desktop-Dateien
	      per Vorgabe in Verzeichnisse installiert, die nicht von
	      XDG-kompatiblen Applikationen durchsucht werden.
	      <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/editors/texmaker/pkg-descr">editors/texmaker</a>
	      ist hierfür ein Beispiel&#8211; siehe
	      <code class="filename">patch-texmaker.pro</code> im
	      <code class="filename">files</code>-Verzeichnis dieses Ports
	      als eine Vorlage, die zeigt, wie man dies direkt in der
	      Qmake Projektdatei löst.</p></li></ul></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="using-gnome.html">Zurück</a> </td><td width="20%" align="center"><a accesskey="u" href="special.html">Nach oben</a></td><td width="40%" align="right"> <a accesskey="n" href="using-kde.html">Weiter</a></td></tr><tr><td width="40%" align="left" valign="top">6.8. Benutzung von GNOME </td><td width="20%" align="center"><a accesskey="h" href="index.html">Zum Anfang</a></td><td width="40%" align="right" valign="top"> 6.10. Benutzung von KDE</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Wenn Sie Fragen zu FreeBSD haben, schicken Sie eine E-Mail an
    &lt;<a href="mailto:de-bsd-questions@de.FreeBSD.org">de-bsd-questions@de.FreeBSD.org</a>&gt;.<br></br>
    Wenn Sie Fragen zu dieser Dokumentation haben, schicken Sie eine E-Mail an
    &lt;<a href="mailto:de-bsd-translators@de.FreeBSD.org">de-bsd-translators@de.FreeBSD.org</a>&gt;.</small></p></body></html>