<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>5.4. Die Distributionsdateien</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Das FreeBSD Porter-Handbuch" /><link rel="up" href="makefile.html" title="Kapitel 5. Die Konfiguration des Makefile" /><link rel="prev" href="makefile-categories.html" title="5.3. Kategorisierung" /><link rel="next" href="makefile-maintainer.html" title="5.5. MAINTAINER" /><link rel="copyright" href="trademarks.html" title="Rechtlicher Hinweis" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">5.4. Die Distributionsdateien</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="makefile-categories.html">Zurück</a> </td><th width="60%" align="center">Kapitel 5. Die Konfiguration des Makefile</th><td width="20%" align="right"> <a accesskey="n" href="makefile-maintainer.html">Weiter</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="makefile-distfiles"></a>5.4. Die Distributionsdateien</h2></div></div></div><p>Der zweite Teil des <code class="filename">Makefile</code>
	beschreibt die Dateien, welche heruntergeladen werden
	müssen, um den Port zu bauen und wo diese Dateien zu
	finden sind.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp67272912"></a>5.4.1. <code class="varname">DISTVERSION/DISTNAME</code></h3></div></div></div><p><code class="varname">DISTNAME</code> ist der Name der Applikation
	   wie er von den Autoren vergeben wurde.
	   <code class="varname">DISTNAME</code> hat als Vorgabe
	   <code class="literal">${PORTNAME}-${PORTVERSION}</code> also
	   überschreiben Sie diese Vorgabe nur, wenn es notwendig
	   ist. <code class="varname">DISTNAME</code> wird nur an zwei Stellen
	   genutzt. Erstens: (<code class="varname">DISTFILES</code>) hat als
	   Vorgabe
	   <code class="varname">${DISTNAME}</code><code class="varname">${EXTRACT_SUFX}</code>.
	   Zweitens: Die Distributionsdatei soll in einem
	   Unterverzeichnis namens <code class="varname">WRKSRC</code>
	   extrahiert werden, dessen Vorgabe
	   <code class="filename">work/${DISTNAME}</code>
	   ist.</p><p>Manche Drittanbieter-Namen, welche nicht in das Schema
	  <code class="literal">${PORTNAME}-${PORTVERSION}</code> passen,
	  können durch Setzen von <code class="varname">DISTVERSION</code>
	  automatisch behandelt werden. <code class="varname">PORTVERSION</code>
	  und <code class="varname">DISTNAME</code> werden automatisch
	  abgeleitet, können aber natürlich manuell
	  überschrieben werden. Die folgende Tabelle führt
	  einige Beispiele auf:</p><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th><code class="varname">DISTVERSION</code></th><th><code class="varname">PORTVERSION</code></th></tr></thead><tbody><tr><td>0.7.1d</td><td>0.7.1.d</td></tr><tr><td>10Alpha3</td><td>10.a3</td></tr><tr><td>3Beta7-pre2</td><td>3.b7.p2</td></tr><tr><td>8:f_17</td><td>8f.17</td></tr></tbody></table></div><div xmlns="" class="note"><h3 class="admontitle">Anmerkung: </h3><p xmlns="http://www.w3.org/1999/xhtml"><code class="varname">PKGNAMEPREFIX</code> und
	    <code class="varname">PKGNAMESUFFIX</code> beeinflussen
	    <code class="varname">DISTNAME</code> nicht. Beachten Sie bitte
	    auch, dass Sie <code class="varname">DISTNAME</code>
	    unverändert lassen sollten, falls
	    <code class="varname">WRKSRC</code> denselben Wert hat wie
	    <code class="filename">work/${PORTNAME}-${PORTVERSION}</code>
	    und gleichzeitig dass Archiv des originalen Quelltextes
	    anders benannt ist als
	    <code class="varname">${PORTNAME}-${PORTVERSION}${EXTRACT_SUFX}</code>.
	    Es ist einfacher
	    <code class="varname">DISTFILES</code> zu definieren, als
	    <code class="varname">DISTNAME</code> und <code class="varname">WRKSRC</code>
	    (und möglicherweise <code class="varname">EXTRACT_SUFX</code>)
	    zu setzen.</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp67300560"></a>5.4.2. <code class="varname">MASTER_SITES</code></h3></div></div></div><p>Dokumentieren Sie das Verzeichnis der FTP/HTTP-URL,
	  welche auf den originalen Tarball zeigt, in der Variable
	  <code class="varname">MASTER_SITES</code>. Bitte vergessen Sie
	  niemals den Schrägstrich (<code class="filename">/</code>)
	  am Ende!</p><p>Die <code class="command">make</code>-Makros werden versuchen,
	  diese Festlegung für die Aufbereitung der
	  Distributionsdateien mittels <code class="varname">FETCH</code> zu
	  benutzen, falls sie diese nicht schon auf dem System
	  finden.</p><p>Es wird empfohlen, mehrere Webseiten in dieser Liste
	  aufzuführen, vorzugsweise auf verschiedenen
	  Kontinenten. Dies ist ein Schutz gegen Probleme bei
	  größeren Ausfällen im Internet.
	  Wir planen sogar Unterstützung einzubauen,
	  die automatisch einen Server in der Nähe zum
	  Herunterladen bestimmt. Die Verfügbarkeit von
	  vielen Webseiten wird dieses Vorhaben beträchtlich
	  erleichtern.</p><p>Falls der originale Tarball Teil eines populären
	  Archivs ist, wie SourceForge, GNU oder Perl CPAN, können
	  Sie möglicherweise auf diese Seiten in einer einfachen
	  und kompakten Form mittels
	  <code class="varname">MASTER_SITE_<em class="replaceable"><code>*</code></em></code>
	  (d.h., <code class="varname">MASTER_SITE_SOURCEFORGE</code>,,
	  <code class="varname">MASTER_SITE_GNU</code> und
	  <code class="varname">MASTER_SITE_PERL_CPAN</code>) referenzieren.
	  Setzen Sie einfach <code class="varname">MASTER_SITES</code> auf eine
	  dieser Variablen und <code class="varname">MASTER_SITE_SUBDIR</code>
	  auf den Pfad innerhalb des Archivs. Hier ist ein
	  Beispiel:</p><pre class="programlisting">MASTER_SITES=         ${MASTER_SITE_GNU}
MASTER_SITE_SUBDIR=   make</pre><p>Oder verwenden Sie ein kondensiertes Format:</p><pre class="programlisting">MASTER_SITES=   GNU/make</pre><p>Diese Variablen werden in
	  <code class="filename">/usr/ports/Mk/bsd.sites.mk</code> definiert.
	  Es werden ständig neue Einträge hinzugefügt,
	  daher stellen Sie bitte unbedingt sicher, dass Sie die
	  neueste Version verwenden, bevor Sie einen Port
	  einschicken.</p><p>Für beliebte Seiten existieren sogenannte
	  <span class="emphasis"><em>magic</em></span>-Makros, die eine bestimmte
	  Verzeichnisstruktur erstellen.  Um eines dieser Makros zu
	  verwenden, geben Sie dessen Abkürzung an und Ihr System
	  wird versuchen, das korrekte Unterverzeichnis automatisch
	  zu bestimmen.</p><pre class="programlisting">MASTER_SITES=	SF</pre><p>Ist das Ergebnis nicht korrekt, können Sie diesen
	  Wert auch überschreiben.</p><pre class="programlisting">MASTER_SITES=	SF/stardict/WyabdcRealPeopleTTS/${PORTVERSION}</pre><div class="table"><a id="idp67315280"></a><div class="table-title">Tabelle 5.1. Beliebte magic <code class="varname">MASTER_SITES</code>-Makros</div><div class="table-contents"><table summary="Beliebte magic MASTER_SITES-Makros" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Makro</th><th>Erwartetes Unterverzeichnis</th></tr></thead><tbody><tr><td><code class="varname">APACHE_JAKARTA</code></td><td><code class="varname">/dist/jakarta/${PORTNAME:S,-,,/,}/source</code></td></tr><tr><td><code class="varname">BERLIOS</code></td><td><code class="varname">/${PORTNAME:L}</code></td></tr><tr><td><code class="varname">CHEESESHOP</code></td><td><code class="varname">/packages/source/source/${DISTNAME:C/(.).*/\1/}/${DISTNAME:C/(.*)-[0-9].*/\1/}</code></td></tr><tr><td><code class="varname">DEBIAN</code></td><td><code class="varname">/debian/pool/main/${PORTNAME:C/^((lib)?.).*$/\1/}/${PORTNAME}</code></td></tr><tr><td><code class="varname">GCC</code></td><td><code class="varname">/pub/gcc/releases/${DISTNAME}</code></td></tr><tr><td><code class="varname">GNOME</code></td><td><code class="varname">/pub/GNOME/sources/${PORTNAME}/${PORTVERSION:C/^([0-9]+\.[0-9]+).*/\1/}</code></td></tr><tr><td><code class="varname">GNU</code></td><td><code class="varname">/gnu/${PORTNAME}</code></td></tr><tr><td><code class="varname">MOZDEV</code></td><td><code class="varname">/pub/mozdev/${PORTNAME:L}</code></td></tr><tr><td><code class="varname">PERL_CPAN</code></td><td><code class="varname">/pub/CPAN/modules/by-module/${PORTNAME:C/-.*//}</code></td></tr><tr><td><code class="varname">PYTHON</code></td><td><code class="varname">/ftp/python/${PYTHON_PORTVERSION:C/rc[0-9]//}</code></td></tr><tr><td><code class="varname">RUBYFORGE</code></td><td><code class="varname">/${PORTNAME:L}</code></td></tr><tr><td><code class="varname">SAVANNAH</code></td><td><code class="varname">/${PORTNAME:L}</code></td></tr><tr><td><code class="varname">SF</code></td><td><code class="varname">/project/${PORTNAME:L}/${PORTNAME:L}/${PORTVERSION}</code></td></tr></tbody></table></div></div><br class="table-break" /></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp67341776"></a>5.4.3. <code class="varname">EXTRACT_SUFX</code></h3></div></div></div><p>Falls Sie eine Distributionsdatei haben, die ein
	  eigentümliches Suffix nutzt, um die Art der
	  Kompression anzuzeigen, dann setzen Sie
	  <code class="varname">EXTRACT_SUFX</code>.</p><p>Ist die Distributionsdatei zum Beispiel im Stil von
	  <code class="filename">foo.tgz</code> anstatt des normalen
	  <code class="filename">foo.tar.gz</code> benannt, würden Sie
	  schreiben:</p><pre class="programlisting">DISTNAME=      foo
EXTRACT_SUFX=  .tgz</pre><p>Falls erforderlich, setzen die Variablen
	  <code class="varname">USE_BZIP2</code> und <code class="varname">USE_ZIP</code>
	  automatisch <code class="varname">EXTRACT_SUFX</code> auf
	  <code class="literal">.tar.bz2</code> oder <code class="literal">.zip</code>.
	  Falls keine der beiden gesetzt ist, dann verwendet
	  <code class="varname">EXTRACT_SUFX</code> die Vorgabe
	  <code class="literal">.tar.gz</code>.</p><div xmlns="" class="note"><h3 class="admontitle">Anmerkung: </h3><p xmlns="http://www.w3.org/1999/xhtml">Sie müssen niemals beide Variablen
	    <code class="varname">EXTRACT_SUFX</code> und
	    <code class="varname">DISTFILES</code> setzen.</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp67349712"></a>5.4.4. <code class="varname">DISTFILES</code></h3></div></div></div><p>Manchmal haben die zu ladenden Dateien keinerlei
	  Ähnlichkeit mit dem Namen des Ports. Es könnte
	  z.B. <code class="filename">source.tar.gz</code> oder ähnlich
	  heißen. In anderen Fällen könnte der
	  Quelltext in mehreren Archiven sein und alle müssen
	  heruntergeladen werden.</p><p>Falls dies der Fall ist, setzen Sie
	  <code class="varname">DISTFILES</code> als eine durch Leerzeichen
	  getrennte Liste aller Dateien, die geladen werden
	  müssen.</p><pre class="programlisting">DISTFILES=     source1.tar.gz source2.tar.gz</pre><p>Wenn nicht ausdrücklich gesetzt, verwendet
	  <code class="varname">DISTFILES</code> als Vorgabe
	  <code class="literal">${DISTNAME}${EXTRACT_SUFX}</code>.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp67357904"></a>5.4.5. <code class="varname">EXTRACT_ONLY</code></h3></div></div></div><p>Falls nur einige der <code class="varname">DISTFILES</code>
	  extrahiert werden müssen (z.B. eine Datei ist der
	  Quelltext und eine andere ist ein unkomprimiertes Dokument),
	  dann listen Sie die zu extrahierenden Dateien in
	  <code class="varname">EXTRACT_ONLY</code> auf.</p><pre class="programlisting">DISTFILES=     source.tar.gz manual.html
EXTRACT_ONLY=  source.tar.gz</pre><p>Falls <span class="emphasis"><em>keine</em></span> der
	  <code class="varname">DISTFILES</code> unkomprimiert sein sollte,
	  dann setzen Sie <code class="varname">EXTRACT_ONLY</code> auf einen
	  leeren String.</p><pre class="programlisting">EXTRACT_ONLY=</pre></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="porting-patchfiles"></a>5.4.6. <code class="varname">PATCHFILES</code></h3></div></div></div><p>Falls Ihr Port zusätzliche Patches benötigt,
	  welche per FTP oder HTTP verfügbar sind, dann setzen
	  Sie <code class="varname">PATCHFILES</code> auf den Namen der Dateien
	  und <code class="varname">PATCH_SITES</code> auf die URL des
	  Verzeichnisses, das diese Patches enthält (das Format
	  ist das gleiche wie <code class="varname">MASTER_SITES</code>).</p><p>Falls ein Patch wegen einiger zusätzlicher
	  Pfadnamen nicht relativ zum Anfang des Quelltextbaumes
	  (d.h., <code class="varname">WRKSRC</code>) liegt, dann setzen Sie
	  bitte <code class="varname">PATCH_DIST_STRIP</code> entsprechend.
	  Wenn z.B. alle Pfadnamen in diesem Patch ein
	  zusätzliches <code class="literal">foozolix-1.0/</code> vor ihren
	  Dateinamen aufweisen, dann setzen Sie bitte
	  <code class="literal">PATCH_DIST_STRIP=-p1</code>.</p><p>Kümmern Sie sich nicht darum, ob die Patches
	  komprimiert sind. Sie werden automatisch dekomprimiert,
	  wenn die Dateinamen auf <code class="filename">.gz</code> oder
	  <code class="filename">.Z</code> enden.</p><p>Falls der Patch zusammen mit anderen Dateien in einem
	  gezippten Tarball verteilt wird (z.B. mit Dokumentation),
	  dann können Sie nicht <code class="varname">PATCHFILES</code>
	  verwenden. In diesem Fall fügen Sie den Namen und den
	  Ort dieses Tarballs zu <code class="varname">DISTFILES</code> und
	  <code class="varname">MASTER_SITES</code>. Benutzen Sie dann die
	  <code class="varname">EXTRA_PATCHES</code>-Variable, um auf diese
	  Dateien zu zeigen und <code class="filename">bsd.port.mk</code>
	  wird automatisch diese Dateien nutzen. Kopieren Sie
	  <span class="emphasis"><em>niemals</em></span> Patch-Dateien in das
	  <code class="varname">PATCHDIR</code>-Verzeichnis, weil es
	  möglicherweise nicht beschreibbar ist.</p><div xmlns="" class="note"><h3 class="admontitle">Anmerkung: </h3><p xmlns="http://www.w3.org/1999/xhtml">Der Tarball wird zusammen mit dem anderen Quelltext
	    extrahiert werden. Eine ausdrückliche Dekomprimierung
	    eines mit gzip oder compress erzeugten Tarball ist nicht
	    notwendig. Sollten Sie dies dennoch vorgeben, so beachten
	    Sie bitte peinlich genau, dass Sie nichts
	    überschreiben, was bereits im Verzeichnis vorhanden
	    ist. Vergessen Sie auch nicht den kopierten Patch im
	    Target von <code class="buildtarget">pre-clean</code> zu
	    entfernen.</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="porting-master-sites-n"></a>5.4.7. Verschiedene Distributionsdateien oder Patches von
	  verschiedenen Seiten und Verzeichnissen
	  (<code class="literal">MASTER_SITES:n</code>)</h3></div></div></div><p>(Betrachten Sie es als in irgendeiner Form
	  <span class="quote">&#8222;<span class="quote">fortgeschrittenes Thema</span>&#8220;</span>.
	  Neulinge sollten möglicherweise diesen Abschnitt
	  beim ersten Lesen überspringen).</p><p>Dieser Abschnitt stellt Informationen über
	  die Mechanismen zum Herunterladen von Dateien zur
	  Verfügung und behandelt die Variablen
	  <code class="literal">MASTER_SITES:n</code> und
	  <code class="literal">MASTER_SITES_NN</code>.
	  Wir beziehen uns im weiteren Text auf diese Variablen
	  als <code class="literal">MASTER_SITES:n</code>.</p><p>Etwas Hintergrundinformation zu Beginn: OpenBSD
	  verfügt über eine sehr elegante Option
	  innerhalb der Variablen <code class="varname">DISTFILES</code> und
	  <code class="varname">PATCHFILES</code>. Sowohl Dateien als auch
	  Patches können mit angehängten
	  <code class="literal">:n</code>-Bezeichnern versehen werden wobei
	  <code class="literal">n</code> in beiden Fällen
	  <code class="literal">[0-9]</code> sein kann und eine
	  Gruppenzugehörigkeit anzeigt. Ein Beispiel
	  hierfür ist:</p><pre class="programlisting">DISTFILES=      alpha:0 beta:1</pre><p>In OpenBSD wird die Datei <code class="filename">alpha</code>
	  mit der Variable <code class="varname">MASTER_SITES0</code>
	  verknüpft anstatt dem in FreeBSD gebräuchlichen
	  <code class="varname">MASTER_SITES</code> und
	  <code class="filename">beta</code> mit
	  <code class="varname">MASTER_SITES1</code>.</p><p>Das ist eine sehr interessante Möglichkeit,
	  die endlose Suche nach der richtigen Download-Seite zu
	  verkürzen.</p><p>Stellen Sie sich zwei Dateien in
	  <code class="varname">DISTFILES</code> und 20 Webseiten in der
	  Variable <code class="varname">MASTER_SITES</code> vor. Alle Seiten
	  sind erschreckend langsam, <code class="filename">beta</code>
	  findet sich auf allen Seiten in
	  <code class="varname">MASTER_SITES</code> und
	  <code class="filename">alpha</code> kann nur auf der zwanzigsten
	  Seite gefunden werden. Wäre es nicht reine
	  Verschwendung, wenn der Maintainer alle Seiten zuvor
	  überprüfen müsste? Kein guter
	  Start für das wundervolle Wochenende!</p><p>Übertragen Sie diesen Umstand auf noch mehr
	  <code class="varname">DISTFILES</code> und mehr
	  <code class="varname">MASTER_SITES</code>. Ganz sicher würde
	  unser <span class="quote">&#8222;<span class="quote">distfiles survey master</span>&#8220;</span> die
	  Erleichterung sehr zu schätzen wissen, die eine
	  solche Verringerung der Netzwerkbelastung bringen
	  würde.</p><p>In den nächsten Abschnitten sehen Sie die
	  Implementierung dieser Idee durch FreeBSD. Dabei wurde das
	  Konzept von OpenBSD ein wenig verbessert.</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp67410256"></a>5.4.7.1. Prinzipielle Information</h4></div></div></div><p>Dieser Abschnitt informiert Sie, wie Sie schnell
	    ein fein granuliertes Herunterladen von vielen Dateien
	    und Fehlerbereinigungen von verschiedenen Webseiten und
	    Unterverzeichnissen bewerkstelligen. Wir beschreiben
	    hier den Fall der vereinfachten Nutzung von
	    <code class="literal">MASTER_SITES:n</code>. Das ist für die
	    meisten Szenarien ausreichend. Falls Sie weitere
	    Informationen benötigen, sollten Sie den
	    nächsten Abschnitt lesen.</p><p>Einige Programme bestehen aus mehreren Dateien,
	    welche von verschiedenen Webseiten heruntergeladen werden
	    müssen. Zum Beispiel besteht
	    <span class="application">Ghostscript</span> aus dem Kern des
	    Programms und einer großen Zahl von Treiberdateien,
	    die vom Drucker des Benutzers abhängen. Einige dieser
	    Treiberdateien werden mit der Kernapplikation mitgeliefert
	    aber viele müssen von verschiedenen Webseiten
	    heruntergeladen werden.</p><p>Um das zu unterstützen, muss jeder Eintrag in
	    <code class="varname">DISTFILES</code> mit einem Komma und
	    einem <span class="quote">&#8222;<span class="quote">tag name</span>&#8220;</span> abgeschlossen werden.
	    Jeder in <code class="varname">MASTER_SITES</code> aufgeführte
	    Webseite folgt ein Komma und eine Marke (tag), die
	    anzeigt, welche Datei von dieser Webseite heruntergeladen
	    werden kann.</p><p>Stellen Sie sich bitte eine Applikation vor, deren
	    Quelltext in zwei Teile aufgeteilt ist,
	    <code class="filename">source1.tar.gz</code>
	    und <code class="filename">source2.tar.gz</code>, welche von zwei
	    verschiedenen Webseiten heruntergeladen werden
	    müssen. Das <code class="filename">Makefile</code> des Port
	    würde Zeilen enthalten wie in
	    <a class="xref" href="makefile-distfiles.html#ports-master-sites-n-example-simple-use-one-file-per-site" title="Beispiel 5.1. Vereinfachtes Beispiel für den Gebrauch von MASTER_SITES:n mit einer Datei pro Webseite">Beispiel 5.1, &#8222;Vereinfachtes Beispiel für den Gebrauch von
	      <code class="literal">MASTER_SITES:n</code> mit einer Datei pro
	      Webseite&#8220;</a>.</p><div class="example"><a id="ports-master-sites-n-example-simple-use-one-file-per-site"></a><div class="example-title">Beispiel 5.1. Vereinfachtes Beispiel für den Gebrauch von
	      <code class="literal">MASTER_SITES:n</code> mit einer Datei pro
	      Webseite</div><div class="example-contents"><pre class="programlisting">MASTER_SITES=   ftp://ftp.example1.com/:source1 \
	ftp://ftp.example2.com/:source2
DISTFILES=      source1.tar.gz:source1 \
	source2.tar.gz:source2</pre></div></div><br class="example-break" /><p>Verschiedene Dateien können die gleiche Marke
	    aufweisen. Ausgehend vom vorherigen Beispiel nehmen wir
	    an, dass es noch eine dritte Datei gibt
	    (<code class="filename">source3.tar.gz</code>), welche von
	    <code class="systemitem">ftp.example2.com</code> heruntergeladen werden
	    soll. Das <code class="filename">Makefile</code> würde dann
	    aussehen wie <a class="xref" href="makefile-distfiles.html#ports-master-sites-n-example-simple-use-more-than-one-file-per-site" title="Beispiel 5.2. Vereinfachtes Beispiel für den Gebrauch von MASTER_SITES:n mit mehr als einer Datei pro Webseite">Beispiel 5.2, &#8222;Vereinfachtes Beispiel für den Gebrauch von
	      <code class="literal">MASTER_SITES:n</code> mit mehr als einer
	      Datei pro Webseite&#8220;</a>.</p><div class="example"><a id="ports-master-sites-n-example-simple-use-more-than-one-file-per-site"></a><div class="example-title">Beispiel 5.2. Vereinfachtes Beispiel für den Gebrauch von
	      <code class="literal">MASTER_SITES:n</code> mit mehr als einer
	      Datei pro Webseite</div><div class="example-contents"><pre class="programlisting">MASTER_SITES=   ftp://ftp.example1.com/:source1 \
	ftp://ftp.example2.com/:source2
DISTFILES=      source1.tar.gz:source1 \
	source2.tar.gz:source2 \
	source3.tar.gz:source2</pre></div></div><br class="example-break" /></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp67442000"></a>5.4.7.2. Ausführliche Information</h4></div></div></div><p>In Ordnung, das vorherige Beispiel reicht nicht
	    für Ihre Bedürfnisse? In diesem Abschnitt
	    werden wir im Detail erklären, wie der fein
	    granulierte Mechanismus zum Herunterladen
	    (<code class="literal">MASTER_SITES:n</code>) funktioniert
	    und wie Sie Ihre Ports modifizieren, um ihn zu
	    nutzen.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Elemente können nachstehend bezeichnet werden
		mit <code class="literal">:n</code>
		wobei <em class="replaceable"><code>n</code></em> in diesem Falle
	        <code class="literal">[^:,]+</code> ist. Das heißt
	        <em class="replaceable"><code>n</code></em> könnte theoretisch
		jede alphanumerische Zeichenkette sein, aber wir
		beschränken sie auf
		<code class="literal">[a-zA-Z_][0-9a-zA-Z_]+</code> für
	        diesen Moment.</p><p>Zudem ist die Zeichenkette case sensitive; d.h.
	        <code class="literal">n</code> unterscheidet sich von
	        <code class="literal">N</code>.</p><p>Allerdings dürfen die folgenden Wörter
		nicht gebraucht werden, da sie spezielle Bedeutungen
		haben: <code class="literal">default</code>,
		<code class="literal">all</code> und <code class="literal">ALL</code>
		(diese Wörter werden intern genutzt in Punkt
		<a class="xref" href="makefile-distfiles.html#porting-master-sites-n-what-changes-in-port-targets">ii</a>).
	        Ausserdem ist <code class="literal">DEFAULT</code> ein
		reserviertes Wort (beachten Sie <a class="xref" href="makefile-distfiles.html#porting-master-sites-n-DEFAULT-group">3</a>).</p></li><li class="listitem"><p>Elemente mit angehängtem
		<code class="literal">:n</code> gehören zur Gruppe
		<code class="literal">n</code>, <code class="literal">:m</code>
		gehört zur Gruppe <code class="literal">m</code>
		und so weiter.</p></li><li class="listitem"><p><a id="porting-master-sites-n-DEFAULT-group"></a>Elemente ohne Anhängsel sind gruppenlos,
		d.h. sie gehören alle zu der speziellen Gruppe
	        <code class="literal">DEFAULT</code>. Falls sie an irgendeinem
		Element <code class="literal">DEFAULT</code> hängen, ist
		dies überflüssig, es sei denn Sie wollen,
		dass ein Element sowohl zu <code class="literal">DEFAULT</code>
		als auch anderen Gruppen gleichzeitig gehört
		(beachten Sie <a class="xref" href="makefile-distfiles.html#porting-master-sites-n-comma-operator">5</a>).</p><p>Die folgenden Beispiele sind gleichwertig, aber
		das erste Beispiel ist vorzuziehen:</p><pre class="programlisting">MASTER_SITES=   alpha

MASTER_SITES=   alpha:DEFAULT</pre></li><li class="listitem"><p>Gruppen sind nicht ausschliessend, d.h. ein
		Element kann mehreren Gruppen gleichzeitig
		angehören und eine Gruppe wiederum kann entweder
		mehrere Elemente oder überhaupt keine aufweisen.
		Wiederholte Elemente sind schlicht nur wiederholte
		Elemente.</p></li><li class="listitem"><p><a id="porting-master-sites-n-comma-operator"></a>Wenn Sie wollen, dass ein Element gleichzeitig zu
	        mehreren Gruppen gehört, dann können Sie
		diese durch ein Komma (<code class="literal">,</code>)
		trennen.</p><p>Anstatt jedes Mal ein anderes Anhängsel zu
		verwenden und Wiederholungen aufzuführen,
		können Sie mehrere Gruppen auf einmal in einem
		einzigen Anhängsel bestimmen. Zum Beispiel
	        markiert <code class="literal">:m,n,o</code> ein Element,
		welches zu den Gruppen <code class="literal">m</code>,
	        <code class="literal">n</code> und <code class="literal">o</code>
		gehört.</p><p>Alle folgenden Beispiele sind gleichwertig,
		aber das erste Beispiel ist vorzuziehen:</p><pre class="programlisting">MASTER_SITES=   alpha alpha:SOME_SITE

MASTER_SITES=   alpha:DEFAULT alpha:SOME_SITE

MASTER_SITES=   alpha:SOME_SITE,DEFAULT

MASTER_SITES=   alpha:DEFAULT,SOME_SITE</pre></li><li class="listitem"><p>Alle Webseiten in einer Gruppe werden
		gemäß <code class="varname">MASTER_SORT_AWK</code>
		sortiert. Alle Gruppen innerhalb von
		<code class="varname">MASTER_SITES</code> und
	        <code class="varname">PATCH_SITES</code> werden genauso
		sortiert.</p></li><li class="listitem"><p><a id="porting-master-sites-n-group-semantics"></a>Gruppensemantik kann benutzt werden in den
		folgenden Variablen: <code class="varname">MASTER_SITES</code>,
	        <code class="varname">PATCH_SITES</code>,
	        <code class="varname">MASTER_SITE_SUBDIR</code>,
	        <code class="varname">PATCH_SITE_SUBDIR</code>,
	        <code class="varname">DISTFILES</code> und
	        <code class="varname">PATCHFILES</code> entsprechend der
		folgenden Syntax:</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p>Elemente mit <code class="varname">MASTER_SITES</code>,
		    <code class="varname">PATCH_SITES</code>,
		    <code class="varname">MASTER_SITE_SUBDIR</code> und
		    <code class="varname">PATCH_SITE_SUBDIR</code> müssen
		    mit einem Schrägstrich beendet werden (
		    <code class="literal">/</code>). Falls Elemente zu
		    irgendwelchen Gruppen gehören, muss
		    <code class="literal">:n</code>
		    direkt nach dem Trenner <code class="literal">/</code>
		    stehen. Der
		    <code class="literal">MASTER_SITES:n</code>-Mechanismus
		    verlässt sich auf das Vorhandensein des
		    Trennzeichens <code class="literal">/</code>, um verwirrende
		    Elemente zu vermeiden in denen
		    <code class="literal">:n</code> ein zulässiger
		    Bestandteil des Elementes ist und das Auftreten
		    von <code class="literal">:n</code> die Gruppe
		    <code class="literal">n</code> anzeigt. Aus
		    Kompatibilitätsgründen (da der
		    <code class="literal">/</code>-Trenner sowohl in
		    <code class="varname">MASTER_SITE_SUBDIR</code> als auch
		    <code class="varname">PATCH_SITE_SUBDIR</code>-Elementen
		    nicht erforderlich ist) wird, falls das auf das
		    Anhängsel folgende nächste Zeichen kein
		    <code class="literal">/</code> ist, auch
		    <code class="literal">:n</code> als gültiger Teil des
		    Elementes behandelt anstatt als Gruppenzusatz,
		    selbst wenn ein Element ein angehängtes
		    <code class="literal">:n</code> aufweist. Beachten Sie
		    sowohl <a class="xref" href="makefile-distfiles.html#ports-master-sites-n-example-detailed-use-master-site-subdir" title="Beispiel 5.3. Ausführliches Beispiel von MASTER_SITES:n in MASTER_SITE_SUBDIR">Beispiel 5.3, &#8222;Ausführliches Beispiel von
		      <code class="literal">MASTER_SITES:n</code> in
		      <code class="varname">MASTER_SITE_SUBDIR</code>&#8220;</a>
		    als auch <a class="xref" href="makefile-distfiles.html#ports-master-sites-n-example-detailed-use-complete-example-master-sites" title="Beispiel 5.4. Ausführliches Beispiel von MASTER_SITES:n mit Komma-Operator, mehreren Dateien, mehreren Webseiten und mehreren Unterverzeichnissen">Beispiel 5.4, &#8222;Ausführliches Beispiel von
		      <code class="literal">MASTER_SITES:n</code> mit
		      Komma-Operator, mehreren Dateien, mehreren
		      Webseiten und mehreren
	              Unterverzeichnissen&#8220;</a>.</p><div class="example"><a id="ports-master-sites-n-example-detailed-use-master-site-subdir"></a><div class="example-title">Beispiel 5.3. Ausführliches Beispiel von
		      <code class="literal">MASTER_SITES:n</code> in
		      <code class="varname">MASTER_SITE_SUBDIR</code></div><div class="example-contents"><pre class="programlisting">MASTER_SITE_SUBDIR=     old:n new/:NEW</pre><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Verzeichnisse innerhalb der Gruppe
			  <code class="literal">DEFAULT</code> -&gt;
			  old:n</p></li><li class="listitem"><p>Verzeichnisse innerhalb der Gruppe
			  <code class="literal">NEW</code> -&gt; new</p></li></ul></div></div></div><br class="example-break" /><div class="example"><a id="ports-master-sites-n-example-detailed-use-complete-example-master-sites"></a><div class="example-title">Beispiel 5.4. Ausführliches Beispiel von
		      <code class="literal">MASTER_SITES:n</code> mit
		      Komma-Operator, mehreren Dateien, mehreren
		      Webseiten und mehreren
	              Unterverzeichnissen</div><div class="example-contents"><pre class="programlisting">MASTER_SITES=   http://site1/%SUBDIR%/ http://site2/:DEFAULT \
	http://site3/:group3 http://site4/:group4 \
	http://site5/:group5 http://site6/:group6 \
	http://site7/:DEFAULT,group6 \
	http://site8/%SUBDIR%/:group6,group7 \
	http://site9/:group8
DISTFILES=      file1 file2:DEFAULT file3:group3 \
	file4:group4,group5,group6 file5:grouping \
	file6:group7
MASTER_SITE_SUBDIR=     directory-trial:1 directory-n/:groupn \
	    directory-one/:group6,DEFAULT \
	    directory</pre><p>Das vorstehende Beispiel führt zu
		      einem fein granulierten Herunterladen.
		      Die Webseiten werden in der exakten Reihenfolge
		      ihrer Nutzung aufgelistet.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="filename">file1</code> wird
			  heruntergeladen von</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><code class="varname">MASTER_SITE_OVERRIDE</code></p></li><li class="listitem"><p>http://site1/directory-trial:1/</p></li><li class="listitem"><p>http://site1/directory-one/</p></li><li class="listitem"><p>http://site1/directory/</p></li><li class="listitem"><p>http://site2/</p></li><li class="listitem"><p>http://site7/</p></li><li class="listitem"><p><code class="varname">MASTER_SITE_BACKUP</code></p></li></ul></div></li><li class="listitem"><p><code class="filename">file2</code> wird genauso
			  heruntergeladen wie
			  <code class="filename">file1</code>, da sie zur
			  gleichen Gruppe gehören</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><code class="varname">MASTER_SITE_OVERRIDE</code></p></li><li class="listitem"><p>http://site1/directory-trial:1/</p></li><li class="listitem"><p>http://site1/directory-one/</p></li><li class="listitem"><p>http://site1/directory/</p></li><li class="listitem"><p>http://site2/</p></li><li class="listitem"><p>http://site7/</p></li><li class="listitem"><p><code class="varname">MASTER_SITE_BACKUP</code></p></li></ul></div></li><li class="listitem"><p><code class="filename">file3</code> wird
			  heruntergeladen von</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><code class="varname">MASTER_SITE_OVERRIDE</code></p></li><li class="listitem"><p>http://site3/</p></li><li class="listitem"><p><code class="varname">MASTER_SITE_BACKUP</code></p></li></ul></div></li><li class="listitem"><p><code class="filename">file4</code> wird
			  heruntergeladen von</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><code class="varname">MASTER_SITE_OVERRIDE</code></p></li><li class="listitem"><p>http://site4/</p></li><li class="listitem"><p>http://site5/</p></li><li class="listitem"><p>http://site6/</p></li><li class="listitem"><p>http://site7/</p></li><li class="listitem"><p>http://site8/directory-one/</p></li><li class="listitem"><p><code class="varname">MASTER_SITE_BACKUP</code></p></li></ul></div></li><li class="listitem"><p><code class="filename">file5</code> wird
			  heruntergeladen von</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><code class="varname">MASTER_SITE_OVERRIDE</code></p></li><li class="listitem"><p><code class="varname">MASTER_SITE_BACKUP</code></p></li></ul></div></li><li class="listitem"><p><code class="filename">file6</code> wird
			  heruntergeladen von</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><code class="varname">MASTER_SITE_OVERRIDE</code></p></li><li class="listitem"><p>http://site8/</p></li><li class="listitem"><p><code class="varname">MASTER_SITE_BACKUP</code></p></li></ul></div></li></ul></div></div></div><br class="example-break" /></li></ol></div></li><li class="listitem"><p>Wie gruppiere ich eine der speziellen Variablen
		aus <code class="filename">bsd.sites.mk</code>, d.h.
	        <code class="varname">MASTER_SITE_SOURCEFORGE</code>?</p><p>Lesen Sie <a class="xref" href="makefile-distfiles.html#ports-master-sites-n-example-detailed-use-master-site-sourceforge" title="Beispiel 5.5. Ausführliches Beispiel von MASTER_SITES:n mit MASTER_SITE_SOURCEFORGE">Beispiel 5.5, &#8222;Ausführliches Beispiel von
		  <code class="literal">MASTER_SITES:n</code> mit
		  <code class="varname">MASTER_SITE_SOURCEFORGE</code>&#8220;</a>.</p><div class="example"><a id="ports-master-sites-n-example-detailed-use-master-site-sourceforge"></a><div class="example-title">Beispiel 5.5. Ausführliches Beispiel von
		  <code class="literal">MASTER_SITES:n</code> mit
		  <code class="varname">MASTER_SITE_SOURCEFORGE</code></div><div class="example-contents"><pre class="programlisting">MASTER_SITES=   http://site1/ ${MASTER_SITE_SOURCEFORGE:S/$/:sourceforge,TEST/}
DISTFILES=      something.tar.gz:sourceforge</pre></div></div><br class="example-break" /><p><code class="filename">something.tar.gz</code> wird von
		allen Webseiten innerhalb von
		<code class="varname">MASTER_SITE_SOURCEFORGE</code>
	        heruntergeladen.</p></li><li class="listitem"><p>Wie nutze ich dies mit
		<code class="varname">PATCH*</code>-Variablen.</p><p>In allen Beispielen wurden
		<code class="varname">MASTER*</code>-Variablen genutzt,
		aber sie funktionieren exakt genauso mit
		<code class="varname">PATCH*</code>-Variablen, wie Sie an
	        <a class="xref" href="makefile-distfiles.html#ports-master-sites-n-example-detailed-use-patch-sites" title="Beispiel 5.6. Vereinfachte Nutzung von MASTER_SITES:n mit PATCH_SITES.">Beispiel 5.6, &#8222;Vereinfachte Nutzung von
		  <code class="literal">MASTER_SITES:n</code> mit
		  <code class="varname">PATCH_SITES</code>.&#8220;</a>.
	        sehen können.</p><div class="example"><a id="ports-master-sites-n-example-detailed-use-patch-sites"></a><div class="example-title">Beispiel 5.6. Vereinfachte Nutzung von
		  <code class="literal">MASTER_SITES:n</code> mit
		  <code class="varname">PATCH_SITES</code>.</div><div class="example-contents"><pre class="programlisting">PATCH_SITES=    http://site1/ http://site2/:test
PATCHFILES=     patch1:test</pre></div></div><br class="example-break" /></li></ol></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp67562960"></a>5.4.7.3. Was ändert sich für die Ports?
	    Was ändert sich nicht?</h4></div></div></div><div class="orderedlist"><ol class="orderedlist" type="i"><li class="listitem"><p>Alle bestehenden Ports bleiben gleich. Der Code
		für <code class="literal">MASTER_SITES:n</code> wird nur
		aktiviert, falls es Elemente mit angehängtem
	        <code class="literal">:n</code>
	        entsprechend den zuvor erwähnten Syntax-Regeln
		wie in <a class="xref" href="makefile-distfiles.html#porting-master-sites-n-group-semantics">7</a>
		gezeigt gibt.</p></li><li class="listitem"><p><a id="porting-master-sites-n-what-changes-in-port-targets"></a>Das Target des Port bleibt gleich:
		<code class="buildtarget">checksum</code>,
	        <code class="buildtarget">makesum</code>,
		<code class="buildtarget">patch</code>,
	        <code class="buildtarget">configure</code>,
		<code class="buildtarget">build</code> etc.
	        Mit der offensichtlichen Ausnahme von
		<code class="buildtarget">do-fetch</code>,
	        <code class="buildtarget">fetch-list</code>,
		<code class="buildtarget">master-sites</code>
	        und <code class="buildtarget">patch-sites</code>.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="buildtarget">do-fetch</code>: nutzt die
		    neue Gruppierung <code class="varname">DISTFILES</code> und
		    <code class="varname">PATCHFILES</code> mit ihren darauf
		    zutreffenden Gruppenelementen in
		    <code class="varname">MASTER_SITES</code> und
		    <code class="varname">PATCH_SITES</code> welche zutreffende
		    Gruppenelemente sowohl in
		    <code class="varname">MASTER_SITE_SUBDIR</code> als auch
		    <code class="varname">PATCH_SITE_SUBDIR</code> aufweisen.
		    Sehen Sie hierzu <a class="xref" href="makefile-distfiles.html#ports-master-sites-n-example-detailed-use-complete-example-master-sites" title="Beispiel 5.4. Ausführliches Beispiel von MASTER_SITES:n mit Komma-Operator, mehreren Dateien, mehreren Webseiten und mehreren Unterverzeichnissen">Beispiel 5.4, &#8222;Ausführliches Beispiel von
		      <code class="literal">MASTER_SITES:n</code> mit
		      Komma-Operator, mehreren Dateien, mehreren
		      Webseiten und mehreren
	              Unterverzeichnissen&#8220;</a>.</p></li><li class="listitem"><p><code class="buildtarget">fetch-list</code>: arbeitet
		    wie das alte <code class="buildtarget">fetch-list</code>
		    mit der Ausnahme, dass es nur wie
		    <code class="buildtarget">do-fetch</code>
		    gruppiert.</p></li><li class="listitem"><p><code class="buildtarget">master-sites</code>
		    und <code class="buildtarget">patch-sites</code>:
		    (inkompatibel zu älteren Versionen) geben
		    nur die Elemente der Gruppe
		    <code class="literal">DEFAULT</code> zurück.
		    Beziehungsweise sie führen genau genommen
		    die Targets von
		    <code class="buildtarget">master-sites-default</code> und
		    <code class="buildtarget">patch-sites-default</code>
		    aus.</p><p>Weiterhin ist der Gebrauch des Target entweder
		    von <code class="buildtarget">master-sites-all</code> oder
		    <code class="buildtarget">patch-sites-all</code> der
		    direkten Überprüfung von
		    <code class="buildtarget">MASTER_SITES</code> oder
		    <code class="buildtarget">PATCH_SITES</code> vorzuziehen.
		    Zudem ist nicht garantiert, dass das direkte
		    Überprüfen in zukünftigen Versionen
		    funktionieren wird. Sehen Sie <a class="xref" href="makefile-distfiles.html#porting-master-sites-n-new-port-targets-master-sites-all">B</a>
		    für weitere Informationen zu diesen neuen
		    Port-Targets.</p></li></ul></div></li><li class="listitem"><p>Neue Port-Targets</p><div class="orderedlist"><ol class="orderedlist" type="A"><li class="listitem"><p>Es gibt
		    <code class="buildtarget">master-sites-<em class="replaceable"><code>n</code></em></code>
		    und
		    <code class="buildtarget">patch-sites-<em class="replaceable"><code>n</code></em></code>-Targets,
		    welche die Elemente der jeweiligen Gruppe
		    <em class="replaceable"><code>n</code></em> innerhalb von
		    <code class="varname">MASTER_SITES</code> und
		    <code class="varname">PATCH_SITES</code> auflisten.
		    Beispielweise werden sowohl
		    <code class="buildtarget">master-sites-DEFAULT</code> als
		    auch <code class="buildtarget">patch-sites-DEFAULT</code>
		    die Elemente der Gruppe
		    <code class="literal">DEFAULT</code>,
		    <code class="buildtarget">master-sites-test</code> und
		    <code class="buildtarget">patch-sites-test</code> der
		    Gruppe <code class="literal">test</code> usw.
		    zurückgeben.</p></li><li class="listitem"><p><a id="porting-master-sites-n-new-port-targets-master-sites-all"></a>Es gibt das neue Target
		    <code class="buildtarget">master-sites-all</code> und
		    <code class="buildtarget">patch-sites-all</code>,
		    welche die Arbeit der alten Targets
		    <code class="buildtarget">master-sites</code> und
		    <code class="buildtarget">patch-sites</code>
		    übernehmen. Sie geben die Elemente aller
		    Gruppen zurück,als würden sie zur
		    gleichen Gruppe gehören - mit dem Vorbehalt,
		    dass sie so viele
		    <code class="varname">MASTER_SITE_BACKUP</code> und
		    <code class="varname">MASTER_SITE_OVERRIDE</code> auflisten
		    wie Gruppen mittels
		    <code class="varname">DISTFILES</code> oder
		    <code class="varname">PATCHFILES</code> definiert sind.
		    Das gleiche gilt entsprechend für
		    <code class="buildtarget">master-sites-all</code> und
		    <code class="buildtarget">patch-sites-all</code>.</p></li></ol></div></li></ol></div></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp67601616"></a>5.4.8. <code class="varname">DIST_SUBDIR</code></h3></div></div></div><p>Verhindern Sie, dass Ihr Port das Verzeichnis
	  <code class="filename">/usr/ports/distfiles</code> in Unordnung
	  bringt. Falls Ihr Port eine ganze Reihe von Dateien
	  herunterladen muss oder eine Datei enthält,
	  die einen Namen hat, der möglicherweise mit
	  anderen Ports in Konflikt stehen könnte
	  (d.h.<code class="filename">Makefile</code>), dann setzen Sie die
	  Variable <code class="varname">DIST_SUBDIR</code> auf den Namen des
	  Ports (<code class="literal">${PORTNAME}</code> oder
	  <code class="literal">${PKGNAMEPREFIX}${PORTNAME}</code>
	  sollte hervorragend funktionieren). Dies wird
	  <code class="varname">DISTDIR</code> von der Vorgabe
	  <code class="filename">/usr/ports/distfiles</code> auf
	  <code class="filename">/usr/ports/distfiles/DIST_SUBDIR
	  </code> ändern und stellt tatsächlich alle
	  für Ihren Port benötigten Dateien in dieses
	  Unterverzeichnis.</p><p>Es wird zusätzlich nach dem Unterverzeichnis mit
	  dem gleichen Namen auf der Sicherung der Hauptseite auf
	  <code class="filename">ftp.FreeBSD.org</code> suchen (das
	  ausdrückliche Setzen von <code class="varname">DISTDIR</code>
	  in Ihrem <code class="varname">Makefile</code> wird dies nicht
	  gewährleisten, also nutzen Sie bitte
	  <code class="varname">DIST_SUBDIR</code>).</p><div xmlns="" class="note"><h3 class="admontitle">Anmerkung: </h3><p xmlns="http://www.w3.org/1999/xhtml">Dies hat keine Auswirkungen auf die Variable
	    <code class="varname">MASTER_SITES</code>, die Sie in Ihrem
	    <code class="filename">Makefile</code> definieren.</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp67609680"></a>5.4.9. <code class="varname">ALWAYS_KEEP_DISTFILES</code></h3></div></div></div><p>Falls Ihr Port binäre Distfiles benutzt und eine
	  Lizenz aufweist, die verlangt, dass das der Quelltext in
	  Form binärer Pakete verteilt werden muss, z.B. GPL,
	  dann wird <code class="varname">ALWAYS_KEEP_DISTFILES</code> den
	  FreeBSD Build Cluster anweisen eine Kopie der Dateien in
	  <code class="varname">DISTFILES</code> vorzuhalten. Nutzer dieser
	  Ports benötigen generell diese Dateien nicht, daher
	  ist es ein gutes Konzept, nur dann die Distfiles zu
	  <code class="varname">DISTFILES</code> hinzuzufügen, wenn
	  <code class="varname">PACKAGE_BUILDING</code> definiert ist.</p><div class="example"><a id="ports-master-sites-n-example-always-keep-distfiles"></a><div class="example-title">Beispiel 5.7. Nutzung von
	    <code class="varname">ALWAYS_KEEP_DISTFILES</code>.</div><div class="example-contents"><pre class="programlisting">.if defined(PACKAGE_BUILDING)
DISTFILES+=             <em class="replaceable"><code>foo.tar.gz</code></em>
ALWAYS_KEEP_DISTFILES=  yes
.endif</pre></div></div><br class="example-break" /><p>Wenn Sie zusätzliche Dateien zu
	  <code class="varname">DISTFILES</code> hinzufügen,
	  dann beachten Sie bitte, dass Sie diese auch in
	  <code class="filename">distinfo</code> aufführen.
	  Zudem werden die zusätzlichen Dateien normalerweise
	  ebenso in <code class="varname">WRKDIR</code> extrahiert,
	  was für einige Ports zu unbeabsichtigten
	  Seiteneffekten führen mag und spezielle
	  Behandlung erfordert.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="makefile-categories.html">Zurück</a> </td><td width="20%" align="center"><a accesskey="u" href="makefile.html">Nach oben</a></td><td width="40%" align="right"> <a accesskey="n" href="makefile-maintainer.html">Weiter</a></td></tr><tr><td width="40%" align="left" valign="top">5.3. Kategorisierung </td><td width="20%" align="center"><a accesskey="h" href="index.html">Zum Anfang</a></td><td width="40%" align="right" valign="top"> 5.5. <code class="varname">MAINTAINER</code></td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Wenn Sie Fragen zu FreeBSD haben, schicken Sie eine E-Mail an
    &lt;<a href="mailto:de-bsd-questions@de.FreeBSD.org">de-bsd-questions@de.FreeBSD.org</a>&gt;.<br></br>
    Wenn Sie Fragen zu dieser Dokumentation haben, schicken Sie eine E-Mail an
    &lt;<a href="mailto:de-bsd-translators@de.FreeBSD.org">de-bsd-translators@de.FreeBSD.org</a>&gt;.</small></p></body></html>