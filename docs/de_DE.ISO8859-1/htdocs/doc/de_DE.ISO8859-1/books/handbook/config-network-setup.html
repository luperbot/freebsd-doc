<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>12.8. Einrichten von Netzwerkkarten</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Das FreeBSD-Handbuch" /><link rel="up" href="config-tuning.html" title="Kapitel 12. Konfiguration und Tuning" /><link rel="prev" href="configtuning-rcd.html" title="12.7. Das rc-System für Systemdienste" /><link rel="next" href="configtuning-virtual-hosts.html" title="12.9. Virtual Hosts" /><link rel="copyright" href="legalnotice.html" title="Rechtlicher Hinweis" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">12.8. Einrichten von Netzwerkkarten</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="configtuning-rcd.html">Zurück</a> </td><th width="60%" align="center">Kapitel 12. Konfiguration und Tuning</th><td width="20%" align="right"> <a accesskey="n" href="configtuning-virtual-hosts.html">Weiter</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="config-network-setup"></a>12.8. Einrichten von Netzwerkkarten</h2></div><div><span class="authorgroup">Beigetragen von <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Marc</span> <span class="surname">Fonvieille</span></span>. </span></div></div></div><a id="idp76302928" class="indexterm"></a><p>Ein Rechner ohne Netzanschluss ist heute nicht mehr
      vorstellbar.  Die Konfiguration einer Netzwerkkarte gehört zu
      den alltäglichen Aufgaben eines FreeBSD Administrators.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp76304464"></a>12.8.1. Bestimmen des richtigen Treibers</h3></div></div></div><a id="idp76305104" class="indexterm"></a><p>Bevor Sie anfangen, sollten Sie das Modell Ihrer Karte
	kennen, wissen welchen Chip die Karte benutzt und bestimmen,
	ob es sich um eine PCI- oder ISA-Karte handelt.  Eine
	Aufzählung der unterstützten PCI- und ISA-Karten finden Sie in
	der Liste der unterstützen Geräte.  Schauen Sie nach, ob Ihre
	Karte dort aufgeführt ist.</p><p>Wenn Sie wissen, dass Ihre Karte unterstützt wird, müssen
	Sie den Treiber für Ihre Karte bestimmen.
	<code class="filename">/usr/src/sys/conf/NOTES</code> und
	<code class="filename">/usr/src/sys/arch/conf/NOTES</code>
	enthalten eine
	Liste der verfügbaren Treiber mit Informationen zu den
	unterstützten Chipsätzen und Karten.  Wenn Sie sich nicht
	sicher sind, ob Sie den richtigen Treiber ausgewählt haben,
	lesen Sie die Hilfeseite des Treibers.  Die Hilfeseite enthält
	weitere Informationen über die unterstützten Geräte
	und macht auch auf mögliche Probleme aufmerksam.</p><p>Wenn Sie eine gebräuchliche Karte besitzen, brauchen Sie
	meistens nicht lange nach dem passenden Treiber zu suchen.
	Die Treiber zu diesen Karten sind schon im
	<code class="filename">GENERIC</code>-Kernel enthalten und die Karte
	sollte während des Systemstarts erkannt werden:</p><pre class="screen">dc0: &lt;82c169 PNIC 10/100BaseTX&gt; port 0xa000-0xa0ff mem 0xd3800000-0xd38
000ff irq 15 at device 11.0 on pci0
miibus0: &lt;MII bus&gt; on dc0
bmtphy0: &lt;BCM5201 10/100baseTX PHY&gt; PHY 1 on miibus0
bmtphy0:  10baseT, 10baseT-FDX, 100baseTX, 100baseTX-FDX, auto
dc0: Ethernet address: 00:a0:cc:da:da:da
dc0: [ITHREAD]
dc1: &lt;82c169 PNIC 10/100BaseTX&gt; port 0x9800-0x98ff mem 0xd3000000-0xd30
000ff irq 11 at device 12.0 on pci0
miibus1: &lt;MII bus&gt; on dc1
bmtphy1: &lt;BCM5201 10/100baseTX PHY&gt; PHY 1 on miibus1
bmtphy1:  10baseT, 10baseT-FDX, 100baseTX, 100baseTX-FDX, auto
dc1: Ethernet address: 00:a0:cc:da:da:db
dc1: [ITHREAD]</pre><p>Im Beispiel erkennt das System zwei Karten, die den
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dc&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">dc</span>(4)</span></a> Treiber benutzen.</p><p>Ist der Treiber für Ihre Netzwerkkarte nicht
	in <code class="filename">GENERIC</code> enthalten, müssen
	Sie den Treiber laden, um die Karte zu benutzen.
	Sie können den Treiber auf zwei Arten laden:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Am einfachsten ist es, das Kernelmodul für
	    Ihre Karte mit <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=kldload&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">kldload</span>(8)</span></a> zu laden.  Allerdings
	    gibt es nicht für alle Karten Kernelmodule;
	    zum Beispiel gibt es keine Kernelmodule für
	    ISA-Karten.</p></li><li class="listitem"><p>Alternativ können Sie den Treiber für die
	    Karte fest in den Kernel einbinden.  Schauen Sie sich dazu
	    <code class="filename">/usr/src/sys/conf/NOTES</code>,
	    <code class="filename">/usr/src/sys/arch/conf/NOTES</code>
	    und die Hilfeseite des Treibers, den Sie in den Kernel
	    einbinden möchten, an.  Die Übersetzung des Kernels
	    wird in <a class="xref" href="kernelconfig.html" title="Kapitel 9. Konfiguration des FreeBSD-Kernels">Kapitel 9, <em>Konfiguration des FreeBSD-Kernels</em></a> beschrieben.  Wenn
	    Ihre Karte während des Systemstarts vom Kernel
	    (<code class="filename">GENERIC</code>) erkannt wurde, müssen
	    Sie den Kernel nicht neu übersetzen.</p></li></ul></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="config-network-ndis"></a>12.8.1.1. <span class="trademark">Windows</span>®-NDIS-Treiber einsetzen</h4></div></div></div><a id="idp76316368" class="indexterm"></a><a id="idp76316880" class="indexterm"></a><a id="idp76317520" class="indexterm"></a><a id="idp76318416" class="indexterm"></a><a id="idp76318928" class="indexterm"></a><a id="idp76319952" class="indexterm"></a><p>Leider stellen nach wie vor viele Unternehmen die
	  Spezifikationen ihrer Treiber der Open Source Gemeinde
	  nicht zur Verfügung, weil sie diese Informationen
	  als Geschäftsgeheimnisse betrachten.  Daher haben die
	  Entwickler von FreeBSD und anderen Betriebssystemen nur
	  zwei Möglichkeiten.  Entweder versuchen sie in einem
	  aufwändigen Prozess den Treiber durch
	  <span class="foreignphrase"><em class="foreignphrase">Reverse Engineering</em></span>
	  nachzubauen, oder sie versuchen, die vorhandenen
	  Binärtreiber der <span class="trademark">Microsoft</span>® <span class="trademark">Windows</span>®-Plattform zu
	  verwenden.  Die meisten Entwickler, darunter auch die an
	  FreeBSD beteiligten, haben sich für den zweiten Ansatz
	  entschieden.</p><p>Bill Paul (wpaul) ist es zu verdanken, dass es seit eine
	  <span class="quote">&#8222;<span class="quote">native</span>&#8220;</span> Unterstützung der
	  <span class="foreignphrase"><em class="foreignphrase">Network Driver Interface Specification</em></span>
	  (NDIS) gibt.  Der FreeBSD NDISulator (auch als Project Evil
	  bekannt) nutzt den binären <span class="trademark">Windows</span>®-Treiber, indem er
	  diesem vorgibt, unter <span class="trademark">Windows</span>® zu laufen.  Da der
	  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ndis&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">ndis</span>(4)</span></a>-Treiber eine <span class="trademark">Windows</span>®-Binärdatei nutzt, kann
	  er nur auf <span class="trademark">i386</span>&#8482;- und amd64-Systemen verwendet werden.
	  Unterstützt werden PCI, CardBus, PCMCIA (PC-Card) und
	  USB-Geräte.</p><p>Um den NDISulator zu verwenden, benötigen Sie drei
	  Dinge:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Die Kernelquellen</p></li><li class="listitem"><p>Den <span class="trademark">Windows</span>® XP-Binärtreiber
	      (mit der Erweiterung <code class="filename">.SYS</code>)</p></li><li class="listitem"><p>Die Konfigurationsdatei des <span class="trademark">Windows</span>® XP-Treibers
	    (mit der Erweiterung <code class="filename">.INF</code>)</p></li></ol></div><p>Suchen Sie die Dateien für Ihre Karte.  Diese
	  befinden sich meistens auf einer beigelegten CD-ROM, oder
	  können von der Internetseite des Herstellers
	  heruntergeladen werden.  In den folgenden Beispielen werden
	  die Dateien <code class="filename">W32DRIVER.SYS</code> und
	  <code class="filename">W32DRIVER.INF</code> verwendet.</p><p>Die Architektur des Treibers muss zur jeweiligen
	  Version von FreeBSD passen.  Benutzen Sie einen <span class="trademark">Windows</span>®
	  32-bit Treiber für FreeBSD/i386.  Für FreeBSD/amd64 wird ein
	  <span class="trademark">Windows</span>® 64-bit Treiber benötigt.</p><p>Als Nächstes kompilieren Sie den binären Treiber, um ein
	  Kernelmodul zu erzeugen.  Dazu rufen Sie als
	  <code class="systemitem">root</code>
	  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ndisgen&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ndisgen</span>(8)</span></a> auf:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ndisgen /path/to/W32DRIVER.INF /path/to/W32DRIVER.SYS</code></strong></pre><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ndisgen&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ndisgen</span>(8)</span></a> arbeitet interaktiv, benötigt es weitere
	  Informationen, so fragt es Sie danach.  Als Ergebnis
	  erhalten Sie ein Kernelmodul im aktuellen
	  Arbeitsverzeichnis.  Benutzen Sie <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=kldload&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">kldload</span>(8)</span></a> um das
	  neue Modul zu laden:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>kldload ./W32DRIVER.ko</code></strong></pre><p>Neben dem vorhin erzeugten Kernelmodul müssen Sie
	  auch die Kernelmodule <code class="filename">ndis.ko</code> und
	  <code class="filename">if_ndis.ko</code> laden.  Diese Module sollten
	  automatisch geladen werden, wenn Sie ein von <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ndis&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">ndis</span>(4)</span></a>
	  abhängiges Modul laden.  Wollen Sie die Module hingegen
	  manuell laden, geben Sie die folgenden Befehle ein:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>kldload ndis</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>kldload if_ndis</code></strong></pre><p>Der erste Befehl lädt dabei den NDIS-Miniport-Treiber,
	  der zweite das tatsächliche Netzwerkgerät.</p><p>Überprüfen Sie nun die Ausgabe von <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dmesg&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">dmesg</span>(8)</span></a>
	  auf eventuelle Fehler während des Ladevorgangs.  Gab es
	  dabei keine Probleme, sollten Sie eine Ausgabe ähnlich
	  der folgenden erhalten:</p><pre class="screen">ndis0: &lt;Wireless-G PCI Adapter&gt; mem 0xf4100000-0xf4101fff irq 3 at device 8.0 on pci1
ndis0: NDIS API version: 5.0
ndis0: Ethernet address: 0a:b1:2c:d3:4e:f5
ndis0: 11b rates: 1Mbps 2Mbps 5.5Mbps 11Mbps
ndis0: 11g rates: 6Mbps 9Mbps 12Mbps 18Mbps 36Mbps 48Mbps 54Mbps</pre><p>Ab jetzt können Sie mit dem Gerät
	  <code class="filename">ndis0</code> wie mit jeder anderen
	  Gerätedatei (etwa <code class="filename">dc0</code>)
	  arbeiten.</p><p>Wie jedes Kernelmodul können auch die NDIS-Module
	  beim Systemstart automatisch geladen werden.  Dazu kopieren
	  Sie das erzeugte Modul
	  (<code class="filename">W32DRIVER_SYS.ko</code>) in das Verzeichnis
	  <code class="filename">/boot/modules</code>.  Danach fügen Sie die
	  folgende Zeile in <code class="filename">/boot/loader.conf</code>
	  ein:</p><pre class="programlisting">W32DRIVER_SYS_load="YES"</pre></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp76360656"></a>12.8.2. Konfiguration von Netzwerkkarten</h3></div></div></div><a id="idp76361296" class="indexterm"></a><p>Nachdem der richtige Treiber für die Karte geladen ist,
	muss die Karte konfiguriert werden.  Unter Umständen ist
	die Karte schon während der Installation mit
	<span class="application">sysinstall</span> konfiguriert
	worden.</p><p>Das nachstehende Kommando zeigt die Konfiguration der
	Karten eines Systems an:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>ifconfig</code></strong>
dc0: flags=8843&lt;UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST&gt; metric 0 mtu 1500
        options=80008&lt;VLAN_MTU,LINKSTATE&gt;
        ether 00:a0:cc:da:da:da
        inet 192.168.1.3 netmask 0xffffff00 broadcast 192.168.1.255
        media: Ethernet autoselect (100baseTX &lt;full-duplex&gt;)
        status: active
dc1: flags=8802&lt;UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST&gt; metric 0 mtu 1500
        options=80008&lt;VLAN_MTU,LINKSTATE&gt;
        ether 00:a0:cc:da:da:db
        inet 10.0.0.1 netmask 0xffffff00 broadcast 10.0.0.255
        media: Ethernet 10baseT/UTP
        status: no carrier
plip0: flags=8810&lt;POINTOPOINT,SIMPLEX,MULTICAST&gt; metric 0 mtu 1500
lo0: flags=8049&lt;UP,LOOPBACK,RUNNING,MULTICAST&gt; metric 0 mtu 16384
        options=3&lt;RXCSUM,TXCSUM&gt;
        inet6 fe80::1%lo0 prefixlen 64 scopeid 0x4
        inet6 ::1 prefixlen 128
        inet 127.0.0.1 netmask 0xff000000
        nd6 options=3&lt;PERFORMNUD,ACCEPT_RTADV&gt;</pre><p>Im Beispiel werden Informationen zu den folgenden Geräten
	angezeigt:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="filename">dc0</code>: Der erste
	    Ethernet-Adapter</p></li><li class="listitem"><p><code class="filename">dc1</code>: Der zweite
	    Ethernet-Adapter</p></li><li class="listitem"><p><code class="filename">plip0</code>: Die parallele
	    Schnittstelle (falls Ihr System über eine
	    derartige Schnittstelle verfügt)</p></li><li class="listitem"><p><code class="filename">lo0</code>: Das Loopback-Gerät</p></li></ul></div><p>Der Name der Netzwerkkarte wird aus dem Namen des Treibers
	und einer Zahl zusammengesetzt.  Die Zahl gibt die Reihenfolge
	an, in der die Geräte beim Systemstart erkannt wurden.  Die
	dritte Karte, die den <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sis&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">sis</span>(4)</span></a> Treiber benutzt, würde
	beispielsweise <code class="filename">sis2</code> heißen.</p><p>Der Adapter <code class="filename">dc0</code> aus dem Beispiel ist
	aktiv.  Sie erkennen das an den folgenden Hinweisen:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p><code class="literal">UP</code> bedeutet, dass die Karte
	    konfiguriert und aktiv ist.</p></li><li class="listitem"><p>Der Karte wurde die Internet-Adresse
	    (<code class="literal">inet</code>)
	    <code class="systemitem">192.168.1.3</code>
	    zugewiesen.</p></li><li class="listitem"><p>Die Subnetzmaske ist richtig
	    (<code class="systemitem">0xffffff00</code>
	    entspricht
	    <code class="systemitem">255.255.255.0</code>).</p></li><li class="listitem"><p>Die Broadcast-Adresse
	    <code class="systemitem">192.168.1.255</code>
	    ist richtig.</p></li><li class="listitem"><p>Die MAC-Adresse der Karte (<code class="literal">ether</code>)
	    lautet <code class="systemitem">00:a0:cc:da:da:da</code>.</p></li><li class="listitem"><p>Die automatische Medienerkennung ist aktiviert
	    (<code class="literal">media: Ethernet autoselect (100baseTX
	      &lt;full-duplex&gt;)</code>).  Der Adapter
	    <code class="filename">dc1</code> benutzt das Medium
	    <code class="literal">10baseT/UTP</code>.  Weitere Informationen
	    über die einstellbaren Medien entnehmen
	    Sie bitte der Hilfeseite des Treibers.</p></li><li class="listitem"><p>Der Verbindungsstatus (<code class="literal">status</code>) ist
	    <code class="literal">active</code>, das heißt es wurde ein
	    Trägersignal entdeckt.  Für <code class="filename">dc1</code> wird
	    <code class="literal">status: no carrier</code> angezeigt.  Das ist
	    normal, wenn kein Kabel an der Karte angeschlossen
	    ist.</p></li></ol></div><p>Wäre die Karte nicht konfiguriert, würde die Ausgabe
	von <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ifconfig&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ifconfig</span>(8)</span></a> so aussehen:</p><pre class="screen">dc0: flags=8843&lt;BROADCAST,SIMPLEX,MULTICAST&gt; metric 0 mtu 1500
        options=80008&lt;VLAN_MTU,LINKSTATE&gt;
        ether 00:a0:cc:da:da:da
        media: Ethernet autoselect (100baseTX &lt;full-duplex&gt;)
        status: active</pre><p>Sie brauchen die Berechtigungen von
	<code class="systemitem">root</code>, um Ihre Karte
	zu konfigurieren.  Die Konfiguration kann auf der
	Kommandozeile mit <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ifconfig&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ifconfig</span>(8)</span></a> erfolgen, allerdings
	müsste sie dann nach jedem Neustart wiederholt werden.
	Dauerhaft wird die Karte in <code class="filename">/etc/rc.conf</code>
	konfiguriert.</p><p>Öffnen Sie <code class="filename">/etc/rc.conf</code> mit Ihrem
	Lieblingseditor und fügen Sie für jede Karte Ihres
	Systems eine Zeile hinzu.  In dem hier diskutierten Fall
	wurden die nachstehenden Zeilen eingefügt:</p><pre class="programlisting">ifconfig_dc0="inet 192.168.1.3 netmask 255.255.255.0"
ifconfig_dc1="inet 10.0.0.1 netmask 255.255.255.0 media 10baseT/UTP"</pre><p>Ersetzen Sie <code class="filename">dc0</code>,
	<code class="filename">dc1</code> usw. durch die Gerätenamen Ihrer
	Karten und setzen Sie die richtigen IP-Adressen ein.  Die
	Hilfeseiten des Treibers und <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ifconfig&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ifconfig</span>(8)</span></a> enthalten
	weitere Einzelheiten über verfügbare Optionen.  Die Syntax von
	<code class="filename">/etc/rc.conf</code> wird in <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=rc.conf&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">rc.conf</span>(5)</span></a>
	erklärt.</p><p>Wenn Sie das Netz während der Installation
	konfiguriert haben, existieren vielleicht schon Einträge
	für Ihre Karten.  Überprüfen Sie
	<code class="filename">/etc/rc.conf</code> bevor Sie weitere Zeilen
	hinzufügen.</p><p>In <code class="filename">/etc/hosts</code> können Sie die Namen
	und IP-Adressen der Rechner Ihres LANs eintragen.  Weitere
	Informationen entnehmen Sie bitte <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=hosts&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">hosts</span>(5)</span></a> und
	<code class="filename">/usr/share/examples/etc/hosts</code>.</p><div xmlns="" class="note"><h3 class="admontitle">Anmerkung: </h3><p xmlns="http://www.w3.org/1999/xhtml">Soll Ihr System sich auch mit dem Internet verbinden
	  können, müssen Sie Default-Gateway und
	  Nameserver manuell konfigurieren:</p><pre xmlns="http://www.w3.org/1999/xhtml" class="screen"><code class="prompt">#</code> <strong class="userinput"><code>echo 'defaultrouter="Ihr_Default_Gateway"' &gt;&gt; /etc/rc.conf</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>echo 'nameserver Ihr_DNS_Server' &gt;&gt; /etc/resolv.conf</code></strong></pre></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp76418384"></a>12.8.3. Test und Fehlersuche</h3></div></div></div><p>Nachdem Sie die notwendigen Änderungen in
	<code class="filename">/etc/rc.conf</code> vorgenommen haben, führen
	Sie einen Neustart Ihres Systems durch.  Dadurch werden die
	Adapter konfiguriert und Sie stellen sicher, dass der Start
	ohne Konfigurationsfehler erfolgt.  Alternativ können Sie
	auch lediglich die Netzwerkeinstellungen neu
	initialisieren:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>/etc/rc.d/netif restart</code></strong></pre><div xmlns="" class="note"><h3 class="admontitle">Anmerkung: </h3><p xmlns="http://www.w3.org/1999/xhtml">Haben Sie ein Default-Gateway definiert (in der Datei
	  <code class="filename">/etc/rc.conf</code>), müssen Sie
	  auch den folgenden Befehl ausführen:</p><pre xmlns="http://www.w3.org/1999/xhtml" class="screen"><code class="prompt">#</code> <strong class="userinput"><code>/etc/rc.d/routing restart</code></strong></pre></div><p>Wenn das System gestartet ist, sollten Sie die
	Netzwerkkarten testen.</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp76423120"></a>12.8.3.1. Test der Ethernet-Karte</h4></div></div></div><a id="idp76423888" class="indexterm"></a><p>Mit zwei Tests können Sie prüfen, ob die
	  Ethernet-Karte richtig konfiguriert ist.  Testen Sie zuerst
	  mit <code class="command">ping</code> den Adapter selbst und sprechen
	  Sie dann eine andere Maschine im LAN an.</p><p>Zuerst, der Test des Adapters:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>ping -c5 192.168.1.3</code></strong>
PING 192.168.1.3 (192.168.1.3): 56 data bytes
64 bytes from 192.168.1.3: icmp_seq=0 ttl=64 time=0.082 ms
64 bytes from 192.168.1.3: icmp_seq=1 ttl=64 time=0.074 ms
64 bytes from 192.168.1.3: icmp_seq=2 ttl=64 time=0.076 ms
64 bytes from 192.168.1.3: icmp_seq=3 ttl=64 time=0.108 ms
64 bytes from 192.168.1.3: icmp_seq=4 ttl=64 time=0.076 ms

--- 192.168.1.3 ping statistics ---
5 packets transmitted, 5 packets received, 0% packet loss
round-trip min/avg/max/stddev = 0.074/0.083/0.108/0.013 ms</pre><p>Jetzt versuchen wir, eine andere Maschine im LAN zu
	  erreichen:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>ping -c5 192.168.1.2</code></strong>
PING 192.168.1.2 (192.168.1.2): 56 data bytes
64 bytes from 192.168.1.2: icmp_seq=0 ttl=64 time=0.726 ms
64 bytes from 192.168.1.2: icmp_seq=1 ttl=64 time=0.766 ms
64 bytes from 192.168.1.2: icmp_seq=2 ttl=64 time=0.700 ms
64 bytes from 192.168.1.2: icmp_seq=3 ttl=64 time=0.747 ms
64 bytes from 192.168.1.2: icmp_seq=4 ttl=64 time=0.704 ms

--- 192.168.1.2 ping statistics ---
5 packets transmitted, 5 packets received, 0% packet loss
round-trip min/avg/max/stddev = 0.700/0.729/0.766/0.025 ms</pre><p>Sie können auch den Namen der Maschine anstelle von
	  <code class="systemitem">192.168.1.2</code>
	  benutzen, wenn Sie <code class="filename">/etc/hosts</code>
	  entsprechend eingerichtet haben.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp76430160"></a>12.8.3.2. Fehlersuche</h4></div></div></div><a id="idp76430800" class="indexterm"></a><p>Fehler zu beheben, ist immer sehr mühsam.
	  Indem Sie die einfachen Sachen zuerst prüfen,
	  erleichtern Sie sich die Aufgabe.  Steckt das Netwerkkabel?
	  Sind die Netzwerkdienste richtig konfiguriert?  Funktioniert
	  die Firewall?  Wird die Netwerkkarte von FreeBSD
	  unterstützt?  Lesen Sie immer die Hardware-Informationen
	  des Releases, bevor Sie einen Fehlerbericht einsenden.
	  Aktualisieren Sie Ihre FreeBSD-Version
	  auf -STABLE.  Suchen Sie in den Archiven der Mailinglisten
	  oder auf dem Internet nach bekannten Lösungen.</p><p>Wenn die Karte funktioniert, die Verbindungen aber
	  zu langsam sind, lesen Sie bitte die Hilfeseite
	  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=tuning&amp;sektion=7"><span class="citerefentry"><span class="refentrytitle">tuning</span>(7)</span></a>.  Prüfen Sie auch die
	  Netzwerkkonfiguration, da falsche Einstellungen die
	  Ursache für langsame Verbindungen sein können.</p><p>Wenn Sie viele <span class="errorname">device timeout</span>
	  Meldungen in den Systemprotokollen finden, prüfen
	  Sie, dass es keinen Konflikt zwischen der Netzwerkkarte
	  und anderen Geräten Ihres Systems gibt.
	  Überprüfen Sie nochmals die Verkabelung.
	  Unter Umständen benötigen Sie eine neue
	  Netzwerkkarte.</p><p>Wenn Sie in den Systemprotokollen
	  <span class="errorname">watchdog timeout</span> Fehlermeldungen
	  finden, kontrollieren Sie zuerst die Verkabelung.
	  Überprüfen Sie dann, ob der PCI-Steckplatz der
	  Karte Bus Mastering unterstützt.  Auf einigen
	  älteren Motherboards ist das nur für einen
	  Steckplatz (meistens Steckplatz 0) der Fall.  Lesen Sie
	  in der Dokumentation Ihrer Karte und Ihres Motherboards
	  nach, ob das vielleicht die Ursache des Problems sein
	  könnte.</p><p>Die Meldung <span class="errorname">No route to host</span>
	  erscheint, wenn Ihr System ein Paket nicht zustellen
	  kann.  Das kann vorkommen weil beispielsweise keine
	  Default-Route gesetzt wurde oder das Netzwerkkabel
	  nicht richtig steckt.  Schauen Sie in der Ausgabe
	  von <code class="command">netstat -rn</code> nach, ob eine
	  Route zu dem Zielsystem existiert.  Wenn nicht, lesen
	  Sie bitte das <a class="xref" href="advanced-networking.html" title="Kapitel 33. Weiterführende Netzwerkthemen">Kapitel 33, <em>Weiterführende Netzwerkthemen</em></a>.</p><p>Die Meldung <span class="errorname">ping: sendto: Permission
	    denied</span> wird oft von einer falsch
	  konfigurierten Firewall verursacht.  Wenn keine Regeln
	  definiert wurden, blockiert eine aktivierte Firewall alle
	  Pakete, selbst einfache <code class="command">ping</code>-Pakete.
	  Weitere Informationen erhalten Sie
	  in <a class="xref" href="firewalls.html" title="Kapitel 32. Firewalls">Kapitel 32, <em>Firewalls</em></a>.</p><p>Falls die Leistung der Karte schlecht ist, setzen
	  Sie die Medienerkennung von <code class="literal">autoselect</code>
	  (automatisch) auf das richtige Medium.  In vielen Fällen
	  löst diese Maßnahme Leistungsprobleme.  Wenn
	  nicht, prüfen Sie nochmal die Netzwerkeinstellungen
	  und lesen Sie die Hilfeseite <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=tuning&amp;sektion=7"><span class="citerefentry"><span class="refentrytitle">tuning</span>(7)</span></a>.</p></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="configtuning-rcd.html">Zurück</a> </td><td width="20%" align="center"><a accesskey="u" href="config-tuning.html">Nach oben</a></td><td width="40%" align="right"> <a accesskey="n" href="configtuning-virtual-hosts.html">Weiter</a></td></tr><tr><td width="40%" align="left" valign="top">12.7. Das rc-System für Systemdienste </td><td width="20%" align="center"><a accesskey="h" href="index.html">Zum Anfang</a></td><td width="40%" align="right" valign="top"> 12.9. Virtual Hosts</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Wenn Sie Fragen zu FreeBSD haben, schicken Sie eine E-Mail an
    &lt;<a href="mailto:de-bsd-questions@de.FreeBSD.org">de-bsd-questions@de.FreeBSD.org</a>&gt;.<br></br>
    Wenn Sie Fragen zu dieser Dokumentation haben, schicken Sie eine E-Mail an
    &lt;<a href="mailto:de-bsd-translators@de.FreeBSD.org">de-bsd-translators@de.FreeBSD.org</a>&gt;.</small></p></body></html>