<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>17.16. Beispiel 2: User Lock Down</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Das FreeBSD-Handbuch" /><link rel="up" href="mac.html" title="Kapitel 17. Verbindliche Zugriffskontrolle" /><link rel="prev" href="mac-implementing.html" title="17.15. Beispiel 1: Nagios in einer MAC Jail" /><link rel="next" href="mac-troubleshoot.html" title="17.17. Fehler im MAC beheben" /><link rel="copyright" href="legalnotice.html" title="Rechtlicher Hinweis" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">17.16. Beispiel 2: User Lock Down</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="mac-implementing.html">Zurück</a> </td><th width="60%" align="center">Kapitel 17. Verbindliche Zugriffskontrolle</th><td width="20%" align="right"> <a accesskey="n" href="mac-troubleshoot.html">Weiter</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="mac-userlocked"></a>17.16. Beispiel 2: User Lock Down</h2></div></div></div><p>Grundlage dieses Beispiels ist ein relativ kleines System zur
      Datenspeicherung mit weniger als 50 Benutzern.  Diese haben die
      Möglichkeit, sich einzuloggen und dürfen nicht nur Daten
      speichern, sondern auch auf andere Ressourcen zugreifen.</p><p>Die Richtlinien <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mac_bsdextended&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">mac_bsdextended</span>(4)</span></a> und <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mac_seeotheruids&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">mac_seeotheruids</span>(4)</span></a>
      können gleichzeitig eingesetzt werden.  Zusammen kann man mit ihnen
      nicht nur den Zugriff auf Systemobjekte einschränken, sondern auch
      Nutzerprozesse verstecken.</p><p>Beginnen Sie, indem Sie die folgende Zeile in die Datei
      <code class="filename">/boot/loader.conf</code> eintragen:</p><pre class="programlisting">mac_seeotheruids_load="YES"</pre><p>Die Richtlinie <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mac_bsdextended&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">mac_bsdextended</span>(4)</span></a> wird durch den
      anschließenden Eintrag in <code class="filename">/etc/rc.conf</code>
      hinzugefügt:</p><pre class="programlisting">ugidfw_enable="YES"</pre><p>Die Standardregeln, welche in
      <code class="filename">/etc/rc.bsdextended</code> gespeichert sind, werden zum
      Systemstart geladen.  Sie müssen  aber noch angepaßt werden.
      Da dieser Computer nur Nutzern dienen soll und weitere Dienste gestartet
      werden, kann alles bis auf die beiden letzten Zeilen auskommentiert
      werden.  Das sorgt dafür dass jeder Nutzer seine eigenen
      Systemobjekte erhält.</p><p>Nun fügen wir alle benötigten Nutzer auf der Maschine hinzu
      und starten neu.  Zum Testen der Einstellungen loggen Sie sich parallel
      zwei mal mit unterschiedlichen Nutzernamen ein und starten Sie das
      Kommando <code class="command">ps aux</code>.  Dort sehen Sie, dass Sie die
      Prozesse des anderen Nutzers nicht sehen können.  Versuchen Sie,
      <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ls&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ls</span>(1)</span></a> auf das Heimatverzeichnis eines anderen Nutzers
      auszuführen. Auch dieser Versuch wird fehlschlagen.</p><p>Solange nicht die speziellen <code class="command">sysctl</code>-Variablen
      geändert wurden, hat der Superuser noch vollen Zugriff.  Sobald auch
      diese Einstellungen angepaßt wurden, führen Sie ruhig auch
      den obigen Test als <code class="systemitem">root</code> aus.</p><div xmlns="" class="note"><h3 class="admontitle">Anmerkung: </h3><p xmlns="http://www.w3.org/1999/xhtml">Wenn ein neuer Benutzer hinzugefügt wird, ist für diesen
        zunächst keine <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mac_bsdextended&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">mac_bsdextended</span>(4)</span></a> Regel im Regelsatz
        vorhanden.  Schnelle Abhilfe schafft hier, einfach das Kernelmodul mit
        <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=kldunload&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">kldunload</span>(8)</span></a> zu entladen und mit <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=kldload&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">kldload</span>(8)</span></a> erneut
        einzubinden.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="mac-implementing.html">Zurück</a> </td><td width="20%" align="center"><a accesskey="u" href="mac.html">Nach oben</a></td><td width="40%" align="right"> <a accesskey="n" href="mac-troubleshoot.html">Weiter</a></td></tr><tr><td width="40%" align="left" valign="top">17.15. Beispiel 1: Nagios in einer MAC Jail </td><td width="20%" align="center"><a accesskey="h" href="index.html">Zum Anfang</a></td><td width="40%" align="right" valign="top"> 17.17. Fehler im MAC beheben</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Wenn Sie Fragen zu FreeBSD haben, schicken Sie eine E-Mail an
    &lt;<a href="mailto:de-bsd-questions@de.FreeBSD.org">de-bsd-questions@de.FreeBSD.org</a>&gt;.<br></br>
    Wenn Sie Fragen zu dieser Dokumentation haben, schicken Sie eine E-Mail an
    &lt;<a href="mailto:de-bsd-translators@de.FreeBSD.org">de-bsd-translators@de.FreeBSD.org</a>&gt;.</small></p></body></html>