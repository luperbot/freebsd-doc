<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>7.6. Entitäten</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Die Fibel für neue Mitarbeiter des FreeBSD-Dokumentationsprojekts" /><link rel="up" href="xml-primer.html" title="Kapitel 7. Die XML-Fibel" /><link rel="prev" href="xml-primer-comments.html" title="7.5. Kommentare" /><link rel="next" href="xml-primer-include.html" title="7.7. Dateien mit Entitäten einbinden" /><link rel="copyright" href="legalnotice.html" title="Rechtlicher Hinweis" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">7.6. Entitäten</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="xml-primer-comments.html">Zurück</a> </td><th width="60%" align="center">Kapitel 7. Die XML-Fibel</th><td width="20%" align="right"> <a accesskey="n" href="xml-primer-include.html">Weiter</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="xml-primer-entities"></a>7.6. Entitäten</h2></div></div></div><p>Entitäten stellen einen Mechanismus dar, mit dem
      einzelnen Dokumententeilen  ein Name zugewiesen werden kann.
      Findet ein SGML-Parser während des Parsens eine
      Entität, ersetzt er diese durch den ihr zugewiesenen
      Inhalt.</p><p>Dadurch steht eine einfache Möglichkeit zur
      Verfügung, mit der  variabler Inhalt in SGML-Dokumenten
      eingebunden werden kann. Zusätzlich sind Entitäten der
      einzige Weg, über den eine Datei in eine andere Datei mit
      SGML-Mitteln eingebunden werden kann.</p><p>Es werden zwei Arten von Entitäten unterschieden:
      <span class="emphasis"><em>Allgemeine Entitäten</em></span> und
      <span class="emphasis"><em>Parameterentitäten</em></span>.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="xml-primer-general-entities"></a>7.6.1. Allgemeine Entitäten</h3></div></div></div><p>Allgemeine Entitäten können nur in
	Dokumenten benutzt werden.  Sie können zwar im
	SGML-Kontext definiert aber dort nicht benutzt
	werden.  Vergleichen Sie dies mit
        Im <a class="link" href="xml-primer-entities.html#xml-primer-parameter-entities" title="7.6.2. Parameterentitäten">Parameterentitäten</a>.</p><p>Jede allgemeine Entität hat einen Namen, über
        den sie angesprochen werden kann, um den von ihr
        referenzierten Inhalt in ein Dokument einzubinden. Dafür
        muss an der betreffenden Stelle der Namen der
        Entität per
        <code class="literal">&amp;entitaetenname;</code>
        einfügt werden. Eine Entität
        <code class="literal">current.version</code> könnte beispielsweise
        durch die aktuelle Versionsnummer eines Programms ersetzt
        werden. Man könnte also schreiben:</p><pre class="programlisting">&lt;para&gt;Die aktuelle Version des
  Programms ist &amp;current.version;.&lt;/para&gt;</pre><p>Wenn sich die Versionsnummer ändert, muss
	nur die Entität angepasst und anschließend
	das Dokument neu erzeugt werden.</p><p>Eine weitere Einsatzmöglichkeit für Allgemeine
        Entitäten ist das Einbinden von Zeichen, die auf andere
        Weise nicht in ein SGML-Dokument eingefügt werden
        könnten. Ein Beispiel für solche Zeichen sind
        <code class="literal">&lt;</code> und <code class="literal">&amp;</code>, die
        normalerweise nicht direkt in
        SGML-Dokumenten erlaubt sind. Stößt ein SGML-Parser
        bei seiner Arbeit auf das Symbol <code class="literal">&lt;</code>,
        nimmt er an, dass der Anfang eines Start- oder Endtags
        gefunden wurde. Bei einem <code class="literal">&amp;</code> wird er
        annehmen, den Anfang einer Entität gefunden zu haben.</p><p>Wenn eines der beiden Zeichen benötigt wird, werden
	daher die allgemeinen Entitäten <code class="literal">&amp;lt;</code>
	und <code class="literal">&amp;amp;</code> verwendet.</p><p>Allgemeine Entitäten können nur in einem
        SGML-Kontext definiert werden. Üblich ist es, dies direkt
        nach der DOCTYPE-Deklaration zu tun:</p><div class="example"><a id="idp67709264"></a><div class="example-title">Beispiel 7.10. Allgemeine Entitäten festlegen</div><div class="example-contents"><pre class="programlisting">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0//EN" [
&lt;!ENTITY current.version    "3.0-RELEASE"&gt;
&lt;!ENTITY last.version       "2.2.7-RELEASE"&gt;
]&gt;</pre><p>Wichtig ist an dieser Stelle, dass die
          DOCTYPE-Deklaration durch eine eckige Klammer am Ende der
          ersten Zeile erweitert wurde. Die beiden Entitäten
          selber werden in den folgenden zwei Zeilen definiert, bevor
          in der letzten Zeile die eckige Klammer und die
          DOCTYPE-Deklaration wieder geschlossen werden.</p><p>Die eckigen Klammern sind notwendig um festzulegen, dass
          man die über DOCTYPE genannte DTD erweitern möchte.</p></div></div><br class="example-break" /></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="xml-primer-parameter-entities"></a>7.6.2. Parameterentitäten</h3></div></div></div><p>Genau wie <a class="link" href="xml-primer-entities.html#xml-primer-general-entities" title="7.6.1. Allgemeine Entitäten">Allgemeine
          Entitäten</a> werden Parameterentitäten
        eingesetzt um wiederverwendbare Inhaltsteile mit Namen zu
        versehen. Im Gegensatz zu Allgemeinen Entitäten
        können sie aber nur innerhalb eines <a class="link" href="xml-primer-xml-escape.html" title="7.4. Die Rückkehr zu SGML">SGML-Kontextes</a>
        genutzt werden.</p><p>Die Definition von Parameterentitäten erfolgt
        ähnlich zu der Allgemeiner Entitäten. Sie werden
        lediglich mit
        <code class="literal">%entitaetenname;</code>
        anstelle von
        <code class="literal">&amp;entitaetenname;</code>
        referenziert<a href="#ftn.idp67714896" class="footnote" id="idp67714896"><sup class="footnote">[6]</sup></a>. Wichtig ist, dass das
        <code class="literal">%</code>-Zeichen zwischen
        <code class="literal">ENTITY</code> und dem Entitätennamen ein Teil
        der Definition ist.</p><div class="example"><a id="idp67720912"></a><div class="example-title">Beispiel 7.11. Parameterentitäten festlegen</div><div class="example-contents"><pre class="programlisting">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0//EN" [
&lt;!ENTITY % param.etwas "etwas"&gt;
&lt;!ENTITY % param.text "Text"&gt;
&lt;!ENTITY % param.neu  "%param.etwas mehr %param.text"&gt;
]&gt;</pre></div></div><br class="example-break" /></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp67722704"></a>7.6.3. Fingerübungen&#8230;</h3></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Fügen Sie in <code class="filename">beispiel.xml</code>
            eine Allgemeine Entität ein.</p><pre class="programlisting">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" [
&lt;!ENTITY version "1.1"&gt;
]&gt;

&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;Eine HTML-Beispieldatei&lt;/title&gt;
  &lt;/head&gt;

  &lt;body&gt;
    &lt;p&gt;Das ist ein Absatz mit etwas Text.&lt;/p&gt;

    &lt;p&gt;Das ist ein Absatz mit anderem Text.&lt;/p&gt;

    &lt;p align="right"&gt;Dieser Absatz wird rechtsbündig
      ausgerichtet.&lt;/p&gt;

    &lt;p&gt;Die aktuelle Version ist: &amp;amp;version;&lt;/p&gt;
  &lt;/body&gt;
&lt;/html&gt;</pre></li><li class="step"><p>Validieren Sie diese Datei mit
            <code class="command">onsgmls</code></p></li><li class="step"><p>Öffnen Sie nun <code class="filename">beispiel.xml</code>
            mit Ihrem Webbrowser. Es kann notwendig sein, dass
            Sie die Datei vorher in <code class="filename">beispiel.html</code>
            umbenennen müssen, damit die Datei auch als
            HTML-Dokument erkannt wird.</p><p>Nur wenn Sie einen sehr modernen Browser haben, werden
            Sie sehen können, dass
            <code class="literal">&amp;version;</code> durch die Versionsnummer
            ersetzt wurde. Leider haben die meisten Webbrowser
            sehr einfache SGML-Parser, die nicht richtig mit SGML
            umgehen können<a href="#ftn.idp67736528" class="footnote" id="idp67736528"><sup class="footnote">[7]</sup></a>.</p></li><li class="step"><p>Die Lösung hierfür ist, das Dokument zu
            <span class="emphasis"><em>normalisieren</em></span>. Zu diesem Zweck liest
            ein Normer 
            das Dokument ein und gibt anschließend semantisch
            gleichwertiges SGML wieder aus, dass auf verschiedene
            Arten transformiert worden sein kann. Eine dieser
            möglichen Transformationen ist das Ersetzen der
            Referenzen auf Entitäten mit dem von ihnen
            präsentierten Inhalt.</p><p>Versuchen Sie, die Beispieldatei mittels
            <code class="command">osgmlnorm</code> zu normalisieren:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>osgmlnorm beispiel.xml &gt; beispiel.html</code></strong></pre><p>Anschließend sollten Sie eine normalisierte
            Version, dass heißt eine, bei der die
            Entitäten gegen ihren Inhalt ersetzt wurden, in der
            Datei <code class="filename">beispiel.html</code> finden. Diese
            Datei können Sie sich nun mit Ihrem Browser
            ansehen.</p></li><li class="step"><p>Wenn Sie sich die Ausgaben von <code class="command">osgmlnorm</code>
            ansehen, werden Sie feststellen, dass
            die DOCTYPE-Deklaration am Anfang der Datei nicht mehr
            enthalten ist. Möchten Sie die Deklaration behalten,
            muss <code class="command">osgmlnorm</code> mit der Option
            <code class="option">-d</code> aufrufen werden:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>osgmlnorm -d beispiel.xml &gt; beispiel.html</code></strong></pre></li></ol></div></div><div class="footnotes"><br /><hr class="footnote-hr" /><div id="ftn.idp67714896" class="footnote"><p><a href="#idp67714896" class="para"><sup class="para">[6] </sup></a>Es wird das Prozentzeichen anstelle des
            kaufmännischen Unds verwendet.</p></div><div id="ftn.idp67736528" class="footnote"><p><a href="#idp67736528" class="para"><sup class="para">[7] </sup></a>Eigentlich ist das eine Schande. Man stelle sich
                vor, welche Probleme und Hacks, wie beispielsweise
                Server Side Includes, man an dieser Stelle hätte
                vermeiden können.</p></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="xml-primer-comments.html">Zurück</a> </td><td width="20%" align="center"><a accesskey="u" href="xml-primer.html">Nach oben</a></td><td width="40%" align="right"> <a accesskey="n" href="xml-primer-include.html">Weiter</a></td></tr><tr><td width="40%" align="left" valign="top">7.5. Kommentare </td><td width="20%" align="center"><a accesskey="h" href="index.html">Zum Anfang</a></td><td width="40%" align="right" valign="top"> 7.7. Dateien mit Entitäten einbinden</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Wenn Sie Fragen zu FreeBSD haben, schicken Sie eine E-Mail an
    &lt;<a href="mailto:de-bsd-questions@de.FreeBSD.org">de-bsd-questions@de.FreeBSD.org</a>&gt;.<br></br>
    Wenn Sie Fragen zu dieser Dokumentation haben, schicken Sie eine E-Mail an
    &lt;<a href="mailto:de-bsd-translators@de.FreeBSD.org">de-bsd-translators@de.FreeBSD.org</a>&gt;.</small></p></body></html>