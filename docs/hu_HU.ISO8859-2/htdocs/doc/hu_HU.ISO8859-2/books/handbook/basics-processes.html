<?xml version="1.0" encoding="iso-8859-2" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-2" /><title>3.7. Folyamatok</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD kézikönyv" /><link rel="up" href="basics.html" title="3. fejezet - A UNIX alapjai" /><link rel="prev" href="mount-unmount.html" title="3.6. Állományrendszerek csatlakoztatása és leválasztása" /><link rel="next" href="basics-daemons.html" title="3.8. Démonok, jelzések és a futó programok leállítása" /><link rel="copyright" href="legalnotice.html" title="Jogi közlemény" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">3.7. Folyamatok</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="mount-unmount.html">Vissza</a> </td><th width="60%" align="center">3. fejezet - A UNIX alapjai</th><td width="20%" align="right"> <a accesskey="n" href="basics-daemons.html">Elõre</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="basics-processes"></a>3.7. Folyamatok</h2></div></div></div><p>A FreeBSD egy többfeladatos operációs
      rendszer.  Ez azt jelenti, hogy képes
      látszólag egyszerre több programot is futtatni.
      Az így egyszerre futó programokat egyenként
      <em class="firstterm">folyamat</em>oknak (process) nevezzük.
      Minden kiadott parancsunk elindít legalább egy ilyen
      folyamatot, és a rendszerünk mozgásban
      tartásához bizonyos rendszerszintû folyamatok
      állandóan futnak a háttérben.</p><p>Minden folyamatot egy
      <em class="firstterm">folyamatazonosító</em>nak (process
      ID vagy <em class="firstterm">PID</em>) nevezett szám
      azonosít egyértelmûen, és az
      állományokhoz hasonlóan, minden folyamatnak
      van tulajdonosa és csoportja is.  A tulajdonos és a
      csoport ismeretében állapítja meg a rendszer,
      hogy az adott folyamat a korábban említett
      engedélyek szerint milyen állományokhoz
      és eszközökhöz férhet hozzá.
      Ezenkívül a legtöbb folyamatnak van még
      egy szülõfolyamata is.  A szülõfolyamat az a
      folyamat, amely az adott folyamatot elindította.
      Például amikor parancsokat adunk egy
      parancsértelmezõn keresztül, akkor maga a
      parancsértelmezõ is egy ilyen folyamat lesz
      ugyanúgy, ahogy a benne kiadott parancsok által
      elindított programok.  Ennek megfelelõen az így
      létrehozott összes folyamat szülõje maga a
      parancsértelmezõ folyamata lesz.  Az említettek
      alól egyik kivétel az <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=init&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">init</span>(8)</span></a> nevû
      speciális folyamat.  Az <code class="command">init</code> lesz a
      rendszerben mindig az elsõ folyamat, ezért a PID-je is
      mindig 1.  Az <code class="command">init</code> programot a FreeBSD
      indulásakor a rendszermag fogja automatikusan
      elindítani.</p><p>A rendszerben futó programok
      vizsgálatához két, különösen
      hasznos parancsot találhatunk: ezek a <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ps&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ps</span>(1)</span></a> és
      a <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=top&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">top</span>(1)</span></a>.  A <code class="command">ps</code> parancs használatos
      a pillanatnyilag futó programok statikus
      listájának megjelenítésére.
      Ebben olvashatjuk a futó programok
      azonosítóit, mennyi memóriát
      használnak éppen, milyen paranccsal
      indították ezeket stb.  A <code class="command">top</code>
      parancs mutatja az összes aktívan futó
      programot, majd néhány másodpercenként
      automatikusan frissíti ezt a listát, aminek
      révén folyamatosan láthatjuk, miként
      viselkednek a futó programok.</p><p>A <code class="command">ps</code> alapértelmezés szerint
      csupán az általunk futtatott programokat mutatja.
      Például:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>ps</code></strong>
  PID  TT  STAT      TIME COMMAND
  298  p0  Ss     0:01.10 tcsh
 7078  p0  S      2:40.88 xemacs mdoc.xsl (xemacs-21.1.14)
37393  p0  I      0:03.11 xemacs freebsd.dsl (xemacs-21.1.14)
48630  p0  S      2:50.89 /usr/local/lib/netscape-linux/navigator-linux-4.77.bi
48730  p0  IW     0:00.00 (dns helper) (navigator-linux-)
72210  p0  R+     0:00.00 ps
  390  p1  Is     0:01.14 tcsh
 7059  p2  Is+    1:36.18 /usr/local/bin/mutt -y
 6688  p3  IWs    0:00.00 tcsh
10735  p4  IWs    0:00.00 tcsh
20256  p5  IWs    0:00.00 tcsh
  262  v0  IWs    0:00.00 -tcsh (tcsh)
  270  v0  IW+    0:00.00 /bin/sh /usr/X11R6/bin/startx -- -bpp 16
  280  v0  IW+    0:00.00 xinit /home/nik/.xinitrc -- -bpp 16
  284  v0  IW     0:00.00 /bin/sh /home/nik/.xinitrc
  285  v0  S      0:38.45 /usr/X11R6/bin/sawfish</pre><p>Ahogy az a fenti példában is látszik, a
      <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ps&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ps</span>(1)</span></a> kimenete oszlopokra tagolható.  Ezek
      közül a <code class="literal">PID</code> tartalmazza a
      korábban már ismertetett
      folyamatazonosítókat.  Az azonosítók
      1-tõl indulva egészen 99999-ig
      sorszámozódhatnak, illetve ha kifutnánk
      belõlük, akkor a számozás kezdõdik
      elölrõl (azonban a használatban levõ
      azonosítók sosem kerülnek újra
      kiosztásra).  A <code class="literal">TT</code> oszlopban
      láthatjuk azt a terminált, amelyen az adott program
      éppen fut, de ezt pillanatnyilag akár nyugodtan
      figyelmen kívül is hagyhatjuk.  A
      <code class="literal">STAT</code> oszlopban a program
      állapotát kapjuk meg, de szintén
      átugorható.  A <code class="literal">TIME</code> a program
      processzoron eltöltött idejét mutatja - ez
      általában nem arra utal, hogy mennyi ideje fut maga
      a program, hiszen a legtöbb program sok idõt tölt
      tétlenül, mielõtt egyáltalán
      szüksége lenne processzora.  Végezetül a
      <code class="literal">COMMAND</code> oszlopban olvashatjuk azt a parancsot,
      amellyel a programot elindították.</p><p>A <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ps&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ps</span>(1)</span></a> számos különféle
      beállítást ismer az általa
      megjelenített információk
      megválasztásához.  Az egyik ilyen
      leghasznosabb beállítás az
      <code class="literal">auxww</code>: az <code class="option">a</code>
      segítségével az összes futó
      programot láthatjuk, nem csak a sajátjainkat; az
      <code class="option">u</code> megadásával
      láthatóvá válik a folyamat
      tulajdonosának a felhasználói neve, valamint
      a memóriahasználata is; az <code class="option">x</code>
      megmutatja a démon (avagy háttér)folyamatok
      adatait is és a <code class="option">ww</code> hatására
      pedig a <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ps&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ps</span>(1)</span></a> az összes folyamathoz a teljes parancssort
      kiírja, még akkor is, ha nem férne ki a
      képernyõre.</p><p>A <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=top&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">top</span>(1)</span></a> kimenete is hasonló.  Ha
      elindítjuk, általában ezt
      láthatjuk:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>top</code></strong>
last pid: 72257;  load averages:  0.13,  0.09,  0.03    up 0+13:38:33  22:39:10
47 processes:  1 running, 46 sleeping
CPU states: 12.6% user,  0.0% nice,  7.8% system,  0.0% interrupt, 79.7% idle
Mem: 36M Active, 5256K Inact, 13M Wired, 6312K Cache, 15M Buf, 408K Free
Swap: 256M Total, 38M Used, 217M Free, 15% Inuse

  PID USERNAME PRI NICE  SIZE    RES STATE    TIME   WCPU    CPU COMMAND
72257 nik       28   0  1960K  1044K RUN      0:00 14.86%  1.42% top
 7078 nik        2   0 15280K 10960K select   2:54  0.88%  0.88% xemacs-21.1.14
  281 nik        2   0 18636K  7112K select   5:36  0.73%  0.73% XF86_SVGA
  296 nik        2   0  3240K  1644K select   0:12  0.05%  0.05% xterm
48630 nik        2   0 29816K  9148K select   3:18  0.00%  0.00% navigator-linu
  175 root       2   0   924K   252K select   1:41  0.00%  0.00% syslogd
 7059 nik        2   0  7260K  4644K poll     1:38  0.00%  0.00% mutt
...</pre><p>A kimenet két részre osztható.  A
      fejlécben (vagyis az elsõ öt sorban)
      látható az utoljára futtatott program
      azonosítója (PID), a rendszer átlagos
      terhelése (load average, amellyel mérjük, hogy
      a rendszerünk mennyire lefoglalt), a rendszer
      indítása óta eltelt idõ (up mint uptime)
      és a jelenlegi idõ.  A fejlécben még
      megtalálhatjuk azt is, mennyi program fut (esetünkben
      ez most 47), mennyi memóriát és
      lapozóállományt használnak, és
      mennyi idõt tölt a rendszer a processzor
      különbözõ állapotaiban.</p><p>A fejléc alatt a <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ps&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ps</span>(1)</span></a> kimenetéhez
      hasonló módon oszlopokba rendezve találhatjuk
      meg a folyamatok adatait: az azonosítóikat, a
      tulajdonosaik nevét, a felhasznált
      processzoridõt, a futtatott parancsot.  A <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=top&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">top</span>(1)</span></a>
      alapértelmezés szerint mutatja a futó
      programok által használt memória
      mennyiségét is: ez további két
      oszlopra oszlik, ahol az egyikben a teljes
      memóriafoglalást (SIZE), a másikban pedig a
      jelen pillanatban aktívan használt
      memóriát (RES) láthatjuk.  A
      példában látható is, hogy a
      <span class="application"><span class="trademark">Netscape</span>(R)</span> (navigator-linu)
      alkalmazásnak majdnem 30 MB-nyi
      memóriára van szüksége, de ebbõl
      aktívan csak 9 MB-ot használ.</p><p>A <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=top&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">top</span>(1)</span></a> a kijelzést minden második
      másodpercben magától frissíti, de ez
      az <code class="option">s</code> kapcsolóval
      állítható.</p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="mount-unmount.html">Vissza</a> </td><td width="20%" align="center"><a accesskey="u" href="basics.html">Fel</a></td><td width="40%" align="right"> <a accesskey="n" href="basics-daemons.html">Elõre</a></td></tr><tr><td width="40%" align="left" valign="top">3.6. Állományrendszerek csatlakoztatása
      és leválasztása </td><td width="20%" align="center"><a accesskey="h" href="index.html">Fõoldal</a></td><td width="40%" align="right" valign="top"> 3.8. Démonok, jelzések és a futó
      programok leállítása</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Ha kérdése van a FreeBSD-vel kapcsolatban, a
    következõ címre írhat (angolul):
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Ha ezzel a dokumentummal kapcsolatban van kérdése, kérjük erre a címre írjon:
    &lt;<a href="mailto:gabor@FreeBSD.org">gabor@FreeBSD.org</a>&gt;.</small></p></body></html>