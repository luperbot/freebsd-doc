<?xml version="1.0" encoding="iso-8859-2" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-2" /><title>8.7. Ha valamilyen hiba történne</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD kézikönyv" /><link rel="up" href="kernelconfig.html" title="8. fejezet - A FreeBSD rendszermag testreszabása" /><link rel="prev" href="kernelconfig-config.html" title="8.6. A konfigurációs állomány" /><link rel="next" href="printing.html" title="9. fejezet - Nyomtatás" /><link rel="copyright" href="legalnotice.html" title="Jogi közlemény" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">8.7. Ha valamilyen hiba történne</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="kernelconfig-config.html">Vissza</a> </td><th width="60%" align="center">8. fejezet - A FreeBSD rendszermag testreszabása</th><td width="20%" align="right"> <a accesskey="n" href="printing.html">Elõre</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="kernelconfig-trouble"></a>8.7. Ha valamilyen hiba történne</h2></div></div></div><p>Négyféle probléma jelentkezhet egy
      saját rendszermag készítése
      során.  Ezek:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">A <code class="command">config</code> hibát jelez:</span></dt><dd><p>Amikor a <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=config&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">config</span>(8)</span></a> parancs hibát jelez
	    vissza a rendszermagunk konfigurációs
	    beállításainak feldolgozása
	    során, akkor minden bizonnyal csak egy apró
	    hibát vétettünk valahol.
	    Szerencsére a <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=config&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">config</span>(8)</span></a> kiírja a
	    hibás sor számát, ezért gyorsan
	    fel tudjuk kutatni a hibát tartalmazó sort.
	    Például, ha ezt látjuk:</p><pre class="screen">config: line 17: syntax error</pre><p>Akkor gyõzõdjünk meg róla, hogy
	    helyesen írtuk be az adott sorban szereplõ
	    kulcsszót.  Ebben segítségünkre
	    lehet, ha összevetjük a
	    <code class="filename">GENERIC</code> konfigurációs
	    állománnyal vagy más
	    hivatkozásokkal.</p></dd><dt><span class="term">A <code class="command">make</code> hibát jelez:</span></dt><dd><p>Ha a <code class="command">make</code> jelez hibát, az
	    általában arra utal, hogy az általunk
	    korábban megadott rendszermag
	    konfigurációs állományt a
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=config&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">config</span>(8)</span></a> nem értette meg rendesen.  Megint azt
	    tudjuk csak javasolni, hogy nézzük át a
	    konfigurációs
	    beállításainkat, és ha
	    ezután sem sikerül megoldani a
	    problémát, akkor mellékeljük egy
	    levélben a rendszermagunk konfigurációs
	    beállításait és
	    küldjük el a <a class="link" href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-questions" target="_top">FreeBSD general questions levelezési lista</a> címére,
	    ahol a hozzáértõk gyorsan
	    átnézik.</p></dd><dt><span class="term">A rendszermag nem indul:<a id="kernelconfig-noboot"></a></span></dt><dd><p>Ha az új rendszermagunk nem indul vagy nem
	    képes felismerni az eszközeinket, ne essünk
	    kétségbe!  Szerencsére a FreeBSD
	    tökéletes megoldással tud
	    szolgálni az összeférhetetlen
	    rendszermagok esetére: a FreeBSD
	    rendszerbetöltõjében egyszerûen
	    válasszuk ki az indítandó
	    rendszermagot.  Ezt akkor tudjuk elõhívni,
	    amikor a rendszerindító menü megjelenik.
	    Válasszuk ki a hatos, vagyis az <span class="quote">"<span class="quote">Escape to a
	    loader prompt</span>"</span> (a betöltõ
	    parancssorának elõhívása)
	    menüpontot.  Mikor megjelenik a parancssor,
	    írjuk be, hogy <code class="command">unload kernel</code>, majd
	    adjuk ki a <code class="command">boot
	    /boot/kernel.old/kernel</code>,
	    parancsot, amiben bármilyen más olyan
	    rendszermagot is megnevezhetünk, ami korábban
	    már mûködött.  Ezért amikor
	    beállítunk egy új rendszermagot, mindig
	    érdemes a kezünk ügyében tartani
	    legalább egy olyan rendszermagot, amely
	    mûködik.</p><p>Miután sikerült elindítanunk az egyik
	    használható rendszermagot, nézzük
	    át még egyszer a konfigurációs
	    állományt és próbáljuk
	    újra lefordítani a rendszermagot.  A
	    probléma megoldását segítheti a
	    <code class="filename">/var/log/messages</code>
	    állomány áttanulmányozása
	    is, ami többek közt rögzíti a
	    rendszermag sikeres indulása során
	    keletkezõ üzeneteket.  Ezenkívül a
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dmesg&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">dmesg</span>(8)</span></a> parancs is meg tudja jeleníteni az
	    aktuális rendszerindítás
	    üzeneteit.</p><div xmlns="" class="note"><h3 class="admontitle">Megjegyzés: </h3><p xmlns="http://www.w3.org/1999/xhtml">Ha gondok merülnének fel a rendszermag
	      elkészítése során,
	      mindenképpen tartsuk meg a
	      <code class="filename">GENERIC</code>, vagy bármilyen
	      másik olyan rendszermagot, amelyrõl tudjuk,
	      hogy mûködik.  Nevezzük át,
	      így nem fog felülíródni a
	      következõ fordítás és
	      telepítés során.  A
	      <code class="filename">kernel.old</code> állományra
	      ugyanis nem minden esetben számíthatunk,
	      mivel az új rendszermagok
	      telepítésénél a
	      <code class="filename">kernel.old</code> mindig
	      felülíródik a legutóbb
	      telepített rendszermaggal, amely azonban nem
	      feltétlenül lesz
	      mûködõképes.  Sõt, amint csak
	      lehetséges, rakjuk a mûködõ
	      rendszermagot a <code class="filename">/boot/kernel</code>
	      könyvtárba vagy különben a
	      <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ps&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ps</span>(1)</span></a> és a hozzá hasonló
	      parancsok nem fognak rendesen mûködni.  Mindezek
	      elvégzéséhez egyszerûen
	      nevezzük át a jó rendszermagot
	      tartalmazó könyvtárt:</p><pre xmlns="http://www.w3.org/1999/xhtml" class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mv /boot/kernel /boot/kernel.rossz</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>mv /boot/kernel.jó /boot/kernel</code></strong></pre></div></dd><dt><span class="term">A rendszermag mûködik, a <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ps&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ps</span>(1)</span></a> viszont
	  nem:</span></dt><dd><p>Ha olyan rendszermagot telepítettünk, aminek
	    a verziója nem egyezik meg a
	    hozzá tartozó segédprogramokéval,
	    tehát például -CURRENT rendszermagot
	    raktunk egy -RELEASE rendszerhez, egyes
	    rendszerállapotjelzõ parancsok, mint
	    például a <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ps&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ps</span>(1)</span></a> vagy a <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=vmstat&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">vmstat</span>(8)</span></a> nem
	    fognak mûködni.  Ebben az esetben <a class="link" href="makeworld.html" title="24.7. Az alaprendszer újrafordítása">az egész rendszert újra
	    kell fordítanunk és
	    telepítenünk</a> a rendszermagunkkal
	    megegyezõ verziójú
	    forrásból.  Részben ezért sem
	    különösen ajánlott, hogy az
	    operációs rendszer többi
	    részétõl eltérõ
	    verziójú rendszermagot
	    használjunk.</p></dd></dl></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="kernelconfig-config.html">Vissza</a> </td><td width="20%" align="center"><a accesskey="u" href="kernelconfig.html">Fel</a></td><td width="40%" align="right"> <a accesskey="n" href="printing.html">Elõre</a></td></tr><tr><td width="40%" align="left" valign="top">8.6. A konfigurációs állomány </td><td width="20%" align="center"><a accesskey="h" href="index.html">Fõoldal</a></td><td width="40%" align="right" valign="top"> 9. fejezet - Nyomtatás</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Ha kérdése van a FreeBSD-vel kapcsolatban, a
    következõ címre írhat (angolul):
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Ha ezzel a dokumentummal kapcsolatban van kérdése, kérjük erre a címre írjon:
    &lt;<a href="mailto:gabor@FreeBSD.org">gabor@FreeBSD.org</a>&gt;.</small></p></body></html>