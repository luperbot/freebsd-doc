<?xml version="1.0" encoding="iso-8859-2" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-2" /><title>2. Naplózás FreeBSD alatt</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Naplózó UFS használata asztali számítógépeken" /><link rel="up" href="index.html" title="Naplózó UFS használata asztali számítógépeken" /><link rel="prev" href="index.html" title="Naplózó UFS használata asztali számítógépeken" /><link rel="next" href="reserve-space.html" title="3. A FreeBSD telepítése során elvégzendõ lépések" /><link rel="copyright" href="trademarks.html" title="Jogi közlemény" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">2. Naplózás FreeBSD alatt</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="index.html">Vissza</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="reserve-space.html">Elõre</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="understanding-journaling"></a>2. Naplózás FreeBSD alatt</h2></div></div></div><p>A FreeBSD 7.<em class="replaceable"><code>X</code></em>
      változataiban a GEOM részérõl
      felkínált naplózási
      lehetõség (eltérõen például
      a <span class="trademark">Linux</span>(R) típusú rendszerekben
      található ext3
      állományrendszertõl) nem kötõdik
      konkrét állományrendszerhez, de blokkok
      szintjén üzemel.  Habár ez arra utal, hogy
      különbözõ állományrendszerek
      esetén is használható, a FreeBSD 7.0-RELEASE
      kiadásában még csak az UFS2 felett
      mûködik.</p><p>Ezt a funkciót a <code class="filename">geom_journal.ko</code>
      modul betöltésével (vagy rendszermagba
      építésével) tudjuk aktiválni,
      majd a <code class="command">gjournal</code> paranccsal érjük el
      az állományrendszerek
      konfigurációjához szükséges
      felületet.  Általában nagyobb
      állományrendszereken, például a
      <code class="filename">/usr</code> partíción érdemes
      engedélyezni a naplózást.  Nem szabad
      elfelejtenünk, hogy ehhez azonban fenn kell tartanunk
      némi szabad területet a lemezen (errõl a
      következõ szakaszban lesz szó).</p><p>Amikor egy állományrendszeren bekapcsoljuk a
      naplózást, magát a naplót is
      tárolnunk kell valahol a lemezen.  A tényleges
      adatokat tároló lemezterületet
      <span class="emphasis"><em>adatterületnek</em></span>, míg a
      naplót tároló területet pedig
      <span class="emphasis"><em>naplóterületnek</em></span> nevezzük.
      Ha egy meglevõ (nem üres) partícióhoz
      akarunk naplózást társítani, akkor az
      adat- és naplóterületeknek külön
      partíciókon kell lenniük.  Amikor viszont egy
      teljesen új partícióhoz kapcsolunk
      naplózást, lehetõségünk van
      egyetlen területen tárolni az adatokat és a
      naplót.  Bármelyik esettel is van dolgunk, a
      <code class="command">gjournal</code> parancs a naplózó
      állományrendszer véglegesített
      változatát ezen két fajta terület
      egyesítésébõl hozza létre.
      Például:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>A <code class="filename">/dev/ad0s1f</code>
	  eszközön található
	  <code class="filename">/usr</code> állományrendszeren
	  szeretnénk naplózást használni
	  (amely már eleve tartalmaz hasznos adatokat).</p></li><li class="listitem"><p>A partíciók létrehozása
	  során a <code class="filename">/dev/ad0s1g</code> eszközön
	  lefoglaltunk valamennyi helyet.</p></li><li class="listitem"><p>A <code class="command">gjournal</code> parancs
	  segítségével készítünk
	  egy <code class="filename">/dev/ad0s1f.journal</code>
	  eszközt, ahol a <code class="filename">/dev/ad0s1f</code> eszközön
	  tároljuk az adatokat és a <code class="filename">/dev/ad0s1g</code> eszközön a
	  naplót.  A továbbiakban ezt az új
	  eszközt fogjuk használni.</p></li></ul></div><p>A napló számára fenntartott hely
      mennyisége nem az adatok méretétõl, hanem
      az állományrendszer
      terheltségétõl függ.
      Például egy átlagos irodai
      számítógép esetén a
      <code class="filename">/usr</code> állományrendszerhez
      nagyjából egy 1 GB méretû
      naplózási terület remekül megfelel,
      viszont egy terheltebb rendszer (amellyel például
      videoanyagok vágását végezzük)
      számára ennél több kellhet.  A
      naplóterület idõ elõtti
      kimerülése a rendszermag
      összeomlásával jár.</p><div xmlns="" class="note"><h3 class="admontitle">Megjegyzés: </h3><p xmlns="http://www.w3.org/1999/xhtml">A cikkben javasolt méretek
	használatával nagyon
	valószínûtlen, hogy hétköznapi
	feladataink (böngészés az interneten,
	szövegszerkesztés, különbözõ
	multimédia anyagok lejátszása) közben
	bármilyen problémát
	észlelnénk.  Ha viszont a lemezünk
	tartósabb terhelés alatt van, a
	következõ szabály betartásával
	érhetjük el a legjobb eredményt: a
	számítógépünkben levõ
	központi memória teljes tartalmának mindig el
	kell tudnia férni a naplóterület
	egyharmadán.  Tehát például ha a
	rendszerünk 1 GB memóriával rendelkezik,
	akkor egy közel 3,3 GB méretû
	naplóterület ajánlott.
	(Általánosan: Úgy kapjuk meg a
	naplóterület méretét, ha megszorozzuk
	a memória méretet 3,3-mal.)</p></div><p>A naplózásról részleteiben a
      <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=gjournal&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">gjournal</span>(8)</span></a> man oldalon olvashatunk.</p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="index.html">Vissza</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="reserve-space.html">Elõre</a></td></tr><tr><td width="40%" align="left" valign="top">Naplózó UFS használata asztali
      számítógépeken </td><td width="20%" align="center"><a accesskey="h" href="index.html">Fõoldal</a></td><td width="40%" align="right" valign="top"> 3. A FreeBSD telepítése során
      elvégzendõ lépések</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Ha kérdése van a FreeBSD-vel kapcsolatban, a
    következõ címre írhat (angolul):
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Ha ezzel a dokumentummal kapcsolatban van kérdése, kérjük erre a címre írjon:
    &lt;<a href="mailto:gabor@FreeBSD.org">gabor@FreeBSD.org</a>&gt;.</small></p></body></html>