<?xml version="1.0" encoding="iso-8859-2" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-2" /><title>11.15. Energia- és erõforrásgazdálkodás</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD kézikönyv" /><link rel="up" href="config-tuning.html" title="11. fejezet - Beállítás és finomhangolás" /><link rel="prev" href="adding-swap-space.html" title="11.14. A lapozóterület bõvítése" /><link rel="next" href="ACPI-debug.html" title="11.16. A FreeBSD ACPI támogatásának használata és nyomonkövetése" /><link rel="copyright" href="legalnotice.html" title="Jogi közlemény" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">11.15. Energia- és
      erõforrásgazdálkodás</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="adding-swap-space.html">Vissza</a> </td><th width="60%" align="center">11. fejezet - Beállítás és
    finomhangolás</th><td width="20%" align="right"> <a accesskey="n" href="ACPI-debug.html">Elõre</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="acpi-overview"></a>11.15. Energia- és
      erõforrásgazdálkodás</h2></div><div><span class="authorgroup">Írta: <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="surname">Pandya</span>, <span class="firstname">Hiten</span></span> és <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="surname">Rhodes</span>, <span class="firstname">Tom</span></span>. </span></div></div></div><p>Fontos a hardveres erõforrásaink hatékony
      kihasználása.  Az <acronym class="acronym">ACPI</acronym>
      megjelenése elõtt az operációs
      rendszerek csak nehézkesen és rugalmatlanul
      tudták kezelni a rendszer
      energiafelhasználási és
      hõszabályzási lehetõségeit.  A
      hardvert a <acronym class="acronym">BIOS</acronym> kezelte, ezért a
      felhasználó kevesebbet tudott látni és
      irányítani az energiagazdálkodási
      beállításokból.  Az <span class="emphasis"><em>Fejlett
      energiagazdálkodás (Advanced Power Management,
      APM)</em></span> ehhez nyújtott egy erõsen
      korlátozott felületet.  Napjaink
      operációs rendszereiben az energia- és
      erõforráskezelés az egyik legfontosabb
      alkotóelem.  Például, ha az
      operációs rendszerrel folyamatosan figyelni akarjuk
      a rendszer hõmérsékletének
      váratlan növekedését (és
      errõl figyelmeztetést kérni).</p><p>A FreeBSD kézikönyvének ezen
      szakaszában az <acronym class="acronym">ACPI</acronym>-rõl adunk egy
      átfogó áttekintést, a
      végén pedig összefoglaljuk a
      témához tartozó irodalmat.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="acpi-intro"></a>11.15.1. Mi az ACPI?</h3></div></div></div><a id="idp85595472" class="indexterm"></a><a id="idp85595984" class="indexterm"></a><p>A speciális energia- és
	konfigurációs illesztõ felület (Advanced
	Configuration and Power Interface, avagy
	<acronym class="acronym">ACPI</acronym>) gyártók egy csoportja
	által létrehozott szabvány, amely a
	hardveres erõforrások és az
	energiagazdálkodás egységes
	felületét rögzíti (innen a neve).
	Döntõ szerepet játszik a
	<span class="emphasis"><em>Beállítások és az
	energiagazdálkodás operációs
	rendszerek áltai
	vezérlésében</em></span>, vagyis
	segítségével az operációs
	rendszer még nagyobb mértékben és
	rugalmassággal tudja irányítani ezeket a
	lehetõségeket.  A modern operációs
	rendszerek az <acronym class="acronym">ACPI</acronym>
	felbukkanásával <span class="quote">"<span class="quote">kitolták</span>"</span> a
	jelenleg meglevõ Plug and Play felületek
	korlátait.  Az <acronym class="acronym">ACPI</acronym> az
	<acronym class="acronym">APM</acronym> közvetlen
	leszármazottja.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="acpi-old-spec"></a>11.15.2. A Fejlett energiagazdálkodás (APM)
	hiányosságai</h3></div></div></div><p>A <span class="emphasis"><em>Fejlett energiagazdálkodás
	(APM)</em></span> a rendszer által felhasznált
	energiát annak elfoglaltsága alapján
	vezérli.  Az APM-et támogató BIOS-t a
	(rendszert) gyártó állítja elõ
	és az adott hardverplatformra jellemzõ.  Az APM
	operációs rendszerben levõ meghajtója
	hozzáférést biztosít az
	<span class="emphasis"><em>APM szoftveres felületéhez</em></span>,
	amivel lehetõség nyílik az energiaszintek
	kezelésére.  Az APM-et 2000 elõtt és
	körül még mindig használták egyes
	rendszerek gyártásánál.</p><p>Az APM használata négy nagyobb gondot rejt
	magában.  Elõször is, az
	energiagazdálkodást a
	(gyártófüggõ) BIOS végzi el,
	és az operációs rendszernek errõl
	semmilyen ismerete nincsen.  Ennek egyik példája
	az, amikor a felhasználó az APM-et ismerõ
	BIOS-ban beállítja a merevlemezek automatikus
	kikapcsolásának idejét, majd amikor ez
	letelik, a BIOS az operációs rendszer tudta
	nélkül egyszerûen leállítja a
	lemezt.  Másodszor: az APM
	mûködését a BIOS-ban programozták
	le, és teljesen az operációs rendszer
	hatáskörén túl tevékenykedik.
	Ez azt jelenti, hogy a felhasználó csak úgy
	tudja korrigálni az APM-es BIOS-ok
	problémáit, ha frissíti az alaplapi ROM-ot.
	Ez viszont egy nagyon kockázatos folyamat, amelynek
	hibája révén a rendszerünk
	helyrehozhatatlan állapotba kerülhet.  Harmadszor:
	az APM alapvetõen egy gyártófüggõ
	megoldás, ami azt vonja maga után, hogy sok az
	átfedés (ugyanazt valósítják
	meg több módon), és ha az egyik
	gyártó BIOS-ában hibát
	találnak, akkor a másikéban az nem
	feltétlenül javítható.
	Végül, de nem utolsósorban, az APM
	alapú BIOS-okban nincs elég hely az igazán
	kifinomult energiagazdálkodási sémák
	vagy bármi más kialakítására,
	amivel a felhasználók képesek
	lennének az igényeikhez alakítani a
	számítógépet.</p><p>A <span class="emphasis"><em>Plug and Play BIOS (PNPBIOS)</em></span> sok
	szempontból megbízhatatlannak bizonyult.  A
	PNPBIOS ráadásul egy 16 bites megoldás,
	ezért az operációs rendszereknek 16 bites
	emulációt kell használniuk a PNPBIOS
	eszközeinek
	<span class="quote">"<span class="quote">eléréséhez</span>"</span>.</p><p>A FreeBSD <acronym class="acronym">APM</acronym> meghajtójának
	dokumentációját az <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=apm&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">apm</span>(4)</span></a> man oldalon
	találjuk.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="acpi-config"></a>11.15.3. Az <acronym class="acronym">ACPI</acronym>
	beállítása</h3></div></div></div><p>Az <code class="filename">acpi.ko</code> meghajtó
	alapértelmezés szerint a <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=loader&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">loader</span>(8)</span></a>
	segítségével töltõdik be,
	és <span class="emphasis"><em>ne</em></span> is fordítsuk bele a
	rendszermagba.  Ezt azzal tudnánk magyarázni, hogy
	modulokkal könnyebb dolgozni, például ha a
	rendszermag újrafordítása
	nélkül egy másik <code class="filename">acpi.ko</code>
	modult akarunk használni.  Ezzel a
	lényegében a tesztelés is
	egyszerûbbé válik.  Másik
	magyarázat, hogy a rendszer <acronym class="acronym">ACPI</acronym>
	támogatása nem minden esetben mûködik
	rendesen.  Ha a rendszer indítása során
	valamilyen problémát tapasztalunk, akkor
	próbálkozzunk meg az <acronym class="acronym">ACPI</acronym>
	kikapcsolásával.  Ezt a meghajtót nem lehet
	és nem is szabad kidobni a
	memóriából, mivel a hardverrel a
	rendszerbuszon keresztül tartja a kapcsolatot.  Az
	<acronym class="acronym">ACPI</acronym> a
	<code class="literal">hint.acpi.0.disabled="1"</code> sor
	megadásával kapcsolható a
	<code class="filename">/boot/loader.conf</code> állományban
	vagy a <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=loader&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">loader</span>(8)</span></a> parancssorában.</p><div xmlns="" class="note"><h3 class="admontitle">Megjegyzés: </h3><p xmlns="http://www.w3.org/1999/xhtml">Az <acronym class="acronym">ACPI</acronym> és az
	  <acronym class="acronym">APM</acronym> nem használató egyszerre.
	  Közülük a késõbb
	  betöltött magától kilép, ha
	  észreveszi, hogy a másikuk már
	  mûködésbe lépett.</p></div><p>Az <acronym class="acronym">ACPI</acronym> és az <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=acpiconf&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">acpiconf</span>(8)</span></a>
	használatával a rendszerünk
	készenléti módba helyezhetõ az
	<code class="option">-s</code> valamint az <code class="literal">1-5</code>
	paraméterek megadásával.  Ezek
	közül is a legtöbb felhasználó
	számára csak az <code class="literal">1</code> vagy a
	<code class="literal">3</code> (állapot mentése a fizikai
	memóriába) érdekes.  Az
	<code class="literal">5</code> opció egy szoftveres
	kikapcsolást eredményez, ehhez
	hasonlóan:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>halt -p</code></strong></pre><p>A további opciók a <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sysctl&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sysctl</span>(8)</span></a> man
	oldaláról érhetõek el.  Ezen
	kívül még olvassuk el az <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=acpi&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">acpi</span>(4)</span></a>
	és <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=acpiconf&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">acpiconf</span>(8)</span></a> man oldalakat is.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="adding-swap-space.html">Vissza</a> </td><td width="20%" align="center"><a accesskey="u" href="config-tuning.html">Fel</a></td><td width="40%" align="right"> <a accesskey="n" href="ACPI-debug.html">Elõre</a></td></tr><tr><td width="40%" align="left" valign="top">11.14. A lapozóterület
      bõvítése </td><td width="20%" align="center"><a accesskey="h" href="index.html">Fõoldal</a></td><td width="40%" align="right" valign="top"> 11.16. A FreeBSD <acronym class="acronym">ACPI</acronym>
      támogatásának használata és
      nyomonkövetése</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Ha kérdése van a FreeBSD-vel kapcsolatban, a
    következõ címre írhat (angolul):
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Ha ezzel a dokumentummal kapcsolatban van kérdése, kérjük erre a címre írjon:
    &lt;<a href="mailto:gabor@FreeBSD.org">gabor@FreeBSD.org</a>&gt;.</small></p></body></html>