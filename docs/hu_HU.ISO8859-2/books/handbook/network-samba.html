<?xml version="1.0" encoding="iso-8859-2" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-2" /><title>29.9. Állomány- és nyomtatási szolgáltatások Microsoft(R) Windows(R) kliensek számára (Samba)</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD kézikönyv" /><link rel="up" href="network-servers.html" title="29. fejezet - Hálózati szerverek" /><link rel="prev" href="network-ftp.html" title="29.8. Állományok átvitele (FTP)" /><link rel="next" href="network-ntp.html" title="29.10. Az órák egyeztetése az NTP használatával" /><link rel="copyright" href="legalnotice.html" title="Jogi közlemény" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">29.9. Állomány- és nyomtatási
      szolgáltatások <span class="trademark">Microsoft</span>(R) <span class="trademark">Windows</span>(R) kliensek
      számára (Samba)</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="network-ftp.html">Vissza</a> </td><th width="60%" align="center">29. fejezet - Hálózati szerverek</th><td width="20%" align="right"> <a accesskey="n" href="network-ntp.html">Elõre</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="network-samba"></a>29.9. Állomány- és nyomtatási
      szolgáltatások <span class="trademark">Microsoft</span>(R) <span class="trademark">Windows</span>(R) kliensek
      számára (Samba)</h2></div><div><span class="authorgroup">Készítette: <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="surname">Stokely</span>, <span class="firstname">Murray</span></span>. </span></div></div></div><a id="idp98173264" class="indexterm"></a><a id="idp98173776" class="indexterm"></a><a id="idp98174288" class="indexterm"></a><a id="idp98175440" class="indexterm"></a><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp98176592"></a>29.9.1. Áttekintés</h3></div></div></div><p>A <span class="application">Samba</span> egy olyan elterjedt
	nyílt forráskódú szoftver, ami
	<span class="trademark">Microsoft</span>(R) <span class="trademark">Windows</span>(R) kliensek számára tesz
	lehetõvé állomány- és
	nyomtatási szolgáltatásokat.  Az ilyen
	kliensek általa helyi meghajtóként
	képesek elérni a FreeBSD
	állományrendszerét, vagy helyi
	nyomtatóként a FreeBSD általt kezelt
	nyomtatókat.</p><p>A <span class="application">Samba</span> csomagja
	általában megtalálható a FreeBSD
	telepítõeszközén.  Ha a FreeBSD-vel
	együtt nem raktuk fel a <span class="application">Samba</span>
	csomagját, akkor ezt késõbb <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/net/samba3/pkg-descr">net/samba3</a> port vagy csomag
	telepítésével pótolhatjuk.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp98180944"></a>29.9.2. Beállítás</h3></div></div></div><p>A <span class="application">Samba</span>
	konfigurációs állománya a
	telepítés után
	<code class="filename">/usr/local/share/examples/samba/smb.conf.default</code>
	néven található meg.  Ezt kell
	lemásolnunk <code class="filename">/usr/local/etc/smb.conf</code>
	néven, amelyet aztán a
	<span class="application">Samba</span> tényleges
	használata elõtt módosítanunk
	kell.</p><p>Az <code class="filename">smb.conf</code> állomány a
	<span class="application">Samba</span> futásához
	használt beállításokat tartalmazza,
	mint például <span class="trademark">Windows</span>(R) kliensek
	számára felkínált a nyomtatók
	és <span class="quote">"<span class="quote">megosztások</span>"</span> adatait.  A
	<span class="application">Samba</span> csomagban ezen
	kívül találhatunk még egy
	<span class="application">swat</span> nevû webes eszközt,
	amellyel egyszerû módon tudjuk az
	<code class="filename">smb.conf</code> állományt
	állítgatni.</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp98215632"></a>29.9.2.1. A Samba webes adminisztrációs eszköze
	  (SWAT)</h4></div></div></div><p>A Samba webes adminisztrációs
	  segédeszköze (Samba Web Administration Tool, SWAT)
	  az <span class="application">inetd</span> démonon
	  keresztül fut démonként.  Ennek
	  megfelelõn az <code class="filename">/etc/inetd.conf</code>
	  állományban a következõ sort kell
	  kivennünk megjegyzésbõl, mielõtt a
	  <span class="application">swat</span>
	  segítségével megkezdenénk a
	  <span class="application">Samba</span>
	  beállítását:</p><pre class="programlisting">swat   stream  tcp     nowait/400      root    /usr/local/sbin/swat    swat</pre><p>Ahogy azt a <a class="xref" href="network-inetd.html#network-inetd-reread" title="29.1. példa - Az inetd konfigurációs állományának újraolvasása">29.1. példa - Az <span class="application">inetd</span>
	  konfigurációs állományának
	  újraolvasása</a> is
	  mutatja, az <span class="application">inetd</span> démont
	  újra kell indítanunk a megváltozott
	  konfigurációs állományának
	  újbóli beolvasásához.</p><p>Miután az <code class="filename">inetd.conf</code>
	  állományban a <span class="application">swat</span>
	  engedélyezésre került, a
	  böngészõnk segítségével
	  próbáljunk meg a <code class="uri"><a class="uri" href="http://localhost:901" target="_top">http://localhost:901</a></code> címre csatlakozni.
	  Elõször a rendszer <code class="systemitem">root</code>
	  hozzáférésével kell
	  bejelentkeznünk.</p><p>Miután sikeresen bejelentkeztünk a
	  <span class="application">Samba</span>
	  beállításait tárgyaló
	  lapra, el tudjuk olvasni a rendszer
	  dokumentációját, vagy a
	  <span class="guimenu">Globals</span> fülre kattintva
	  nekiláthatunk a beállítások
	  elvégzésének.  A
	  <span class="guimenu">Globals</span> részben
	  található opciók az
	  <code class="filename">/usr/local/etc/smb.conf</code>
	  állomány <code class="literal">[global]</code>
	  szekciójában található
	  változókat tükrözik.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp98236880"></a>29.9.2.2. Általános
	  beállítások</h4></div></div></div><p>Akár a <span class="application">swat</span>
	  eszközzel, akár a
	  <code class="filename">/usr/local/etc/smb.conf</code> közvetlen
	  módosításával dolgozunk, a
	  <span class="application">Samba</span>
	  beállítása során a
	  következõkkel mindenképpen össze fogunk
	  futni:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">workgroup</code></span></dt><dd><p>A szervert elérni kívánó
		számítógépek által
		használt NT tartomány vagy munkacsoport
		neve.</p></dd><dt><span class="term"><code class="literal">netbios name</code></span></dt><dd><a id="idp98242000" class="indexterm"></a><p>A <span class="application">Samba</span> szerver NetBIOS
		neve.  Alapértelmezés szerint ez a
		név a gép hálózati
		nevének elsõ tagja.</p></dd><dt><span class="term"><code class="literal">server string</code></span></dt><dd><p>Ez a szöveg jelenik meg akkor, ha
		például a <code class="command">net view</code>
		paranccsal vagy valamilyen más
		hálózati segédprogrammal
		kérdezzük le a szerver beszédesebb
		leírását.</p></dd></dl></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp98245968"></a>29.9.2.3. Biztonsági
	  beállítások</h4></div></div></div><p>A <code class="filename">/usr/local/etc/smb.conf</code>
	  állományban a két legfontosabb
	  beállítás a választott
	  biztonsági modell és a kliensek
	  felhasználói jelszavainak
	  tárolásához használt
	  formátum.  Az alábbi direktívák
	  vezérlik ezeket:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">security</code></span></dt><dd><p>Itt a két leggyakoribb
		beállítás a <code class="literal">security =
		share</code> és a <code class="literal">security =
		user</code>.  Ha a kliensek a FreeBSD gépen
		található felhasználói
		neveiket használják, akkor
		felhasználói szintû védelemre
		van szükségünk (tehát a user
		beállításra).  Ez az
		alapértelmezett biztonsági házirend
		és ilyenkor a klienseknek elõször be
		kell jelentkezniük a megosztott
		erõforrások
		eléréséhez.</p><p>A megosztás (share) szintû
		védelem esetében, a klienseknek nem kell a
		szerveren érvényes
		felhasználói névvel és
		jelszóval rendelkezniük a megosztott
		erõforrások eléréséhez.
		Ez volt az alapbeállítás a
		<span class="application">Samba</span> korábbi
		változataiban.</p></dd><dt><span class="term"><code class="literal">passdb backend</code></span></dt><dd><a id="idp98251984" class="indexterm"></a><a id="idp98252496" class="indexterm"></a><a id="idp98253008" class="indexterm"></a><p>A <span class="application">Samba</span> számos
		különbözõ hitelesítési
		modellt ismer.  A klienseket LDAP, NIS+, SQL
		adatbázis vagy esetleg egy
		módosított jelszó
		állománnyal is tudjuk hitelesíteni.
		Az alapértelmezett hitelesítési
		módszer a <code class="literal">smbpasswd</code>,
		így itt most ezzel foglalkozunk.</p></dd></dl></div><p>Ha feltesszük, hogy az alapértelmezett
	  <code class="literal">smbpasswd</code> formátumot
	  választottuk, akkor a <span class="application">Samba</span>
	  úgy fogja tudni hitelesíteni a klienseket, ha
	  elõtte létrehozzuk a
	  <code class="filename">/usr/local/private/smbpasswd</code>
	  állományt.  Ha a <span class="trademark">Windows</span>(R)-os kliensekkel is el
	  akarjuk érni a <span class="trademark">UNIX</span>(R)-os felhasználói
	  hozzáféréseinket, akkor használjuk
	  a következõ parancsot:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>smbpasswd -a felhasználónév</code></strong></pre><div xmlns="" class="note"><h3 class="admontitle">Megjegyzés: </h3><p xmlns="http://www.w3.org/1999/xhtml">A <span class="application">Samba</span> a 3.0.23c
	    verziójától kezdõdõen a
	    hitelesítéshez szükséges
	    állományokat a <code class="filename">/usr/local/etc/samba</code>
	    könyvtárban tárolja.  A
	    felhasználói hozzáférések
	    hozzáadására innentõl már a
	    <code class="literal">tdbsam</code> parancs használata
	    javasolt:</p><pre xmlns="http://www.w3.org/1999/xhtml" class="screen"><code class="prompt">#</code> <strong class="userinput"><code>pdbedit -a -u felhasználónév</code></strong></pre></div><p>A <a class="link" href="http://www.samba.org/samba/docs/man/Samba-HOWTO-Collection/" target="_top">
	  hivatalos Samba HOGYAN</a> ezekrõl a
	  beállításokról szolgál
	  további információkkal (angolul).
	  Viszont az itt vázolt alapok viszont már
	  elegendõek a <span class="application">Samba</span>
	  elindításához.</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp98267088"></a>29.9.3. A <span class="application">Samba</span>
	elindítása</h3></div></div></div><p>A <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/net/samba3/pkg-descr">net/samba3</a> port a
	<span class="application">Samba</span>
	irányítására egy új
	indító szkriptet tartalmaz.  A szkript
	engedélyezéséhez, tehát
	általa a <span class="application">Samba</span>
	elindításának,
	leállításának és
	újraindításának lehetõvé
	tételéhez vegyük fel a következõ
	sort az <code class="filename">/etc/rc.conf</code>
	állományba:</p><pre class="programlisting">samba_enable="YES"</pre><p>Ha még finomabb irányításra
	vágyunk:</p><pre class="programlisting">nmbd_enable="YES"</pre><pre class="programlisting">smbd_enable="YES"</pre><div xmlns="" class="note"><h3 class="admontitle">Megjegyzés: </h3><p xmlns="http://www.w3.org/1999/xhtml">Ezzel egyben a rendszer indításakor
	  automatikusan be is indítjuk a
	  <span class="application">Samba</span>
	  szolgáltatást.</p></div><p>A <span class="application">Samba</span> a következõkkel
	bármikor elindítható:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>/usr/local/etc/rc.d/samba start</code></strong>
Starting SAMBA: removing stale tdbs :
Starting nmbd.
Starting smbd.</pre><p>Az rc szkriptekkel kapcsolatban a <a class="xref" href="configtuning-rcd.html" title="11.7. Az rc használata FreeBSD alatt">11.7. szakasz - Az rc használata FreeBSD alatt</a>t ajánljuk
	elolvasásra.</p><p>A <span class="application">Samba</span> jelen pillanatban
	három különálló
	démonból áll.  Láthatjuk is, hogy az
	<span class="application">nmbd</span> és
	<span class="application">smbd</span> démonokat
	elindította a <code class="filename">samba</code> szkript.  Ha az
	<code class="filename">smb.conf</code> állományban
	engedélyeztük a <span class="application">winbind</span>
	névfeloldási szolgáltatást is, akkor
	láthatjuk, hogy ilyenkor a
	<span class="application">winbindd</span> démon is
	elindul.</p><p>A <span class="application">Samba</span> így
	állítható le akármikor:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>/usr/local/etc/rc.d/samba stop</code></strong></pre><p>A <span class="application">Samba</span> egy összetett
	szoftvercsomag, amely a <span class="trademark">Microsoft</span>(R) <span class="trademark">Windows</span>(R)
	hálózatokkal kapcsolatos széles
	körû együttmûködést tesz
	lehetõvé.  Az általa felkínált
	alapvetõ lehetõségeken túl a többit
	a <code class="uri"><a class="uri" href="http://www.samba.org" target="_top">http://www.samba.org</a></code> honlapon
	ismerhetjük meg (angolul).</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="network-ftp.html">Vissza</a> </td><td width="20%" align="center"><a accesskey="u" href="network-servers.html">Fel</a></td><td width="40%" align="right"> <a accesskey="n" href="network-ntp.html">Elõre</a></td></tr><tr><td width="40%" align="left" valign="top">29.8. Állományok átvitele (FTP) </td><td width="20%" align="center"><a accesskey="h" href="index.html">Fõoldal</a></td><td width="40%" align="right" valign="top"> 29.10. Az órák egyeztetése az NTP
      használatával</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Ha kérdése van a FreeBSD-vel kapcsolatban, a
    következõ címre írhat (angolul):
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Ha ezzel a dokumentummal kapcsolatban van kérdése, kérjük erre a címre írjon:
    &lt;<a href="mailto:gabor@FreeBSD.org">gabor@FreeBSD.org</a>&gt;.</small></p></body></html>