<?xml version="1.0" encoding="iso-8859-2" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-2" /><title>28.4. A levéltovábbító ügynök megváltoztatása</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD kézikönyv" /><link rel="up" href="mail.html" title="28. fejezet - Elektronikus levelezés" /><link rel="prev" href="sendmail.html" title="28.3. A sendmail beállítása" /><link rel="next" href="mail-trouble.html" title="28.5. A hibák elhárítása" /><link rel="copyright" href="legalnotice.html" title="Jogi közlemény" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">28.4. A levéltovábbító ügynök
      megváltoztatása</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="sendmail.html">Vissza</a> </td><th width="60%" align="center">28. fejezet - Elektronikus levelezés</th><td width="20%" align="right"> <a accesskey="n" href="mail-trouble.html">Elõre</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="mail-changingmta"></a>28.4. A levéltovábbító ügynök
      megváltoztatása</h2></div><div><span class="authorgroup">Írta: <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="surname">Boothman</span>, <span class="firstname">Andrew</span></span>. </span></div><div><span class="authorgroup">Levelei segítségül
	    szolgáltak: <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="surname">Neil Shapiro</span>, <span class="firstname">Gregory</span></span>. </span></div></div></div><a id="idp96165200" class="indexterm"></a><p>Ahogy arról már korábban szó
      esett, a FreeBSD alapból tartalmazza a
      <span class="application">sendmail</span> programot mint
      levéltovábbító ügynököt
      (MTA, Mail Transfer Agent).  Ennélfogva
      alapértelmezés szerint ez a felelõs a
      kimenõ és beérkezõ levelek
      kezeléséért.</p><p>Számtalan okból eredõen egyes
      rendszergazdák azonban mégis szeretnék
      lecserélni a rendszerükhöz tartozó
      levéltovábbítót.  Ennek oka lehet
      egyszerûen csak annyi, hogy ki akarunk próbálni
      egy másik programot vagy éppen egy olyan
      eszközre van szükségünk, amely
      kizárólag csak máshol található
      meg.  Szerencsére a FreeBSD megkönnyíti ezt a
      váltást.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp96167504"></a>28.4.1. Az új levéltovábbító
	telepítése</h3></div></div></div><p>A levéltovábbítók széles
	köre elérhetõ.  A <a class="link" href="ports.html" title="4. fejezet - Alkalmazások telepítése: csomagok és portok">FreeBSD
	Portgyûjteményébõl</a> elindulva sok
	ilyen programot találhatunk.  Természetesen
	teljesen mindegy, hogy melyik
	levéltovábbítót választjuk
	egészen addig, amíg képesek vagyunk FreeBSD
	alatt rendesen futtatni.</p><p>Kezdjük tehát az új
	levéltovábbító
	telepítésével.  Miután sikerült
	telepíteni, lehetõségünk van
	eldönteni, hogy valóban eleget tesz-e az
	igényeinknek, sõt az új szoftvert még
	az elõtt be tudjuk állítani, hogy
	átvenné a <span class="application">sendmail</span>
	helyét.  Vigyázzunk azonban, hogy az új
	szoftver telepítésekor ne írjon felül
	olyan rendszerszintû binárisokat, mint
	például a <code class="filename">/usr/bin/sendmail</code>.
	Másrészt az új levelezõ szoftvert
	szolgálatba helyezése elõtt
	mindenképpen fontos megfelelõen
	beállítanunk.</p><p>A kiválasztott
	levéltovábbító
	beállításával kapcsolatban olvassuk
	el a hozzá tartozó
	dokumentációt.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="mail-disable-sendmail"></a>28.4.2. A <span class="application">sendmail</span>
	letiltása</h3></div></div></div><div xmlns="" class="warning"><h3 class="admontitle">Figyelem: </h3><p xmlns="http://www.w3.org/1999/xhtml">Amikor letiltjuk a <span class="application">sendmail</span>
	  kimenõ levél szolgáltatását,
	  soha ne felejtsük el pótolni valamilyen más
	  levelezõ rendszerrel.  Ha nem így
	  cselekszünk, akkor például a
	  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=periodic&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">periodic</span>(8)</span></a> és a hozzá hasonló
	  programok nem lesznek képesek a tõlük
	  megszokott módon e-mailben elküldeni a
	  futásuk eredményét.  A rendszer bizonyos
	  részei ráadásul egy
	  mûködõ,
	  <span class="application">sendmail</span>-kompatibilis rendszert
	  feltételeznek.  Ha letiltása után az
	  alkalmazások továbbra is a
	  <span class="application">sendmail</span>
	  segítségével próbálnak
	  levelet küldeni, akkor ez a levél a
	  <span class="application">sendmail</span> inaktív
	  sorába kerülhet, ahonnan soha nem kerül
	  kézbesítésre.</p></div><p>A <span class="application">sendmail</span> teljes
	  leállításához, beleértve a
	  kimenõ levelekhez tartozó
	  szolgáltatást is, a következõket kell
	  megadni az <code class="filename">/etc/rc.conf</code>
	  állományban:</p><pre class="programlisting">sendmail_enable="NO"
sendmail_submit_enable="NO"
sendmail_outbound_enable="NO"
sendmail_msp_queue_enable="NO"</pre><p>Ha csak a <span class="application">sendmail</span>
	  beérkezõ levelekre vonatkozó
	  szolgáltatását akarjuk tiltani, akkor
	  ahhoz az <code class="filename">/etc/rc.conf</code>
	  állományban a következõt
	  állítsuk be:</p><pre class="programlisting">sendmail_enable="NO"</pre><p>A <span class="application">sendmail</span>
	  indításával kapcsolatos további
	  beállításokat az <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=rc.sendmail&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">rc.sendmail</span>(8)</span></a> man
	  oldalon találjuk.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp96180048"></a>28.4.3. Az új levéltovábbító
	elindítása a rendszerrel együtt</h3></div></div></div><p>Az új levéltovábbítót
	  úgy tudjuk elindítani a rendszerrel együtt,
	  ha az <code class="filename">/etc/rc.conf</code>
	  állományba felvesszük a következõ
	  sort, például a
	  <span class="application">postfix</span> esetében:</p><pre class="screen"><code class="prompt">#</code> echo '<em class="replaceable"><code>postfix</code></em>_enable="YES"' &gt;&gt; /etc/rc.conf</pre><p>Az új levéltovábbító
	  így most már magától el fog indulni
	  a rendszer indításakor.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp96183504"></a>28.4.4. A <span class="application">sendmail</span> mint a rendszer
	alapértelmezett levelezõ eszközének
	lecserélése</h3></div></div></div><p>A <span class="application">sendmail</span> annyira elterjedt
	szabványos szoftver a <span class="trademark">UNIX</span>(R) rendszereken, hogy egyes
	szoftverek egyszerûen feltételezik a
	jelenlétét.  Emiatt sok
	levéltovábbítóhoz tartozik egy
	<span class="application">sendmail</span> kompatibilis parancssoros
	felület is, amellyel igyekeznek megkönnyíteni a
	<span class="application">sendmail</span> <span class="quote">"<span class="quote">gyors</span>"</span>
	lecserélését.</p><p>Ennek következtében tehát, ha egy
	másik levelezõ eszközt használunk, akkor
	valamilyen módon meg kell bizonyosodnunk róla,
	hogy a szabványos <span class="application">sendmail</span>
	binárisok, mint például a
	<code class="filename">/usr/bin/sendmail</code>, valóban a
	kiválasztott levéltovábbítot
	fogják aktiválni.  Szerencsére a FreeBSD
	pontosan emiatt tartalmaz egy <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mailwrapper&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mailwrapper</span>(8)</span></a> nevû
	rendszert.</p><p>Amikor a <span class="application">sendmail</span>
	telepítése szerint mûködik, valami
	hasonlót fogunk találni az
	<code class="filename">/etc/mail/mailer.conf</code>
	állományban:</p><pre class="programlisting">sendmail	/usr/libexec/sendmail/sendmail
send-mail	/usr/libexec/sendmail/sendmail
mailq		/usr/libexec/sendmail/sendmail
newaliases	/usr/libexec/sendmail/sendmail
hoststat	/usr/libexec/sendmail/sendmail
purgestat	/usr/libexec/sendmail/sendmail</pre><p>Ez azt jelenti, hogy amikor az itt felsorolt
	általános parancsok közül lefuttatjuk
	valamelyiket (például magát a
	<code class="filename">sendmail</code> parancsot), akkor a rendszer
	magától meghívja a
	<code class="filename">sendmail</code> néven szereplõ wrapper
	programot, amely pedig a <code class="filename">mailer.conf</code>
	alapján kideríti, hogy az adott esetben a
	<code class="filename">/usr/libexec/sendmail/sendmail</code>
	hívására van szükség.  Ez a
	rendszer megkönnyíti az alapértelmezett
	<code class="filename">sendmail</code> funkciók helyében
	lefuttatandó binárisok
	átállítását.</p><p>Így tehát, ha a
	<code class="filename">/usr/local/supermailer/bin/sendmail-compat</code>
	állományt akarjuk futtatni a megszokott
	<span class="application">sendmail</span> helyében, akkor az
	<code class="filename">/etc/mail/mailer.conf</code>
	állományt a következõképpen kell
	módosítanunk:</p><pre class="programlisting">sendmail	/usr/local/<em class="replaceable"><code>kedvenclevelezõ</code></em>/bin/sendmail-compat
send-mail	/usr/local/<em class="replaceable"><code>kedvenclevelezõ</code></em>/bin/sendmail-compat
mailq		/usr/local/<em class="replaceable"><code>kedvenclevelezõ</code></em>/bin/mailq-compat
newaliases	/usr/local/<em class="replaceable"><code>kedvenclevelezõ</code></em>/bin/newaliases-compat
hoststat	/usr/local/<em class="replaceable"><code>kedvenclevelezõ</code></em>/bin/hoststat-compat
purgestat	/usr/local/<em class="replaceable"><code>kedvenclevelezõ</code></em>/bin/purgestat-compat</pre></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp96205648"></a>28.4.5. A mûvelet befejezése</h3></div></div></div><p>Ahogy a céljainknak megfelelõen mindent
	beállítottunk, akkor vagy egyszerûen
	leállítjuk a <span class="application">sendmail</span>
	neve alatt futó programokat és helyettük
	elindítjuk az új szoftverhez tartozókat,
	vagy csak újraindítjuk a gépet.  Az
	újraindítással mellesleg
	ellenõrizhetjük azt is, hogy jól
	állítottuk be a rendszerünket és az
	új levélküldõ tényleg elindul a
	rendszerünkkel együtt.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="sendmail.html">Vissza</a> </td><td width="20%" align="center"><a accesskey="u" href="mail.html">Fel</a></td><td width="40%" align="right"> <a accesskey="n" href="mail-trouble.html">Elõre</a></td></tr><tr><td width="40%" align="left" valign="top">28.3. A <span class="application">sendmail</span>
      beállítása </td><td width="20%" align="center"><a accesskey="h" href="index.html">Fõoldal</a></td><td width="40%" align="right" valign="top"> 28.5. A hibák elhárítása</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Ha kérdése van a FreeBSD-vel kapcsolatban, a
    következõ címre írhat (angolul):
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Ha ezzel a dokumentummal kapcsolatban van kérdése, kérjük erre a címre írjon:
    &lt;<a href="mailto:gabor@FreeBSD.org">gabor@FreeBSD.org</a>&gt;.</small></p></body></html>