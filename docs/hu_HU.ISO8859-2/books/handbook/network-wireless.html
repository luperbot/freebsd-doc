<?xml version="1.0" encoding="iso-8859-2" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-2" /><title>31.3. Vezeték nélküli hálózatok</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD kézikönyv" /><link rel="up" href="advanced-networking.html" title="31. fejezet - Egyéb haladó hálózati témák" /><link rel="prev" href="network-routing.html" title="31.2. Átjárók és az útválasztás" /><link rel="next" href="network-bluetooth.html" title="31.4. Bluetooth" /><link rel="copyright" href="legalnotice.html" title="Jogi közlemény" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">31.3. Vezeték nélküli
      hálózatok</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="network-routing.html">Vissza</a> </td><th width="60%" align="center">31. fejezet - Egyéb haladó hálózati
    témák</th><td width="20%" align="right"> <a accesskey="n" href="network-bluetooth.html">Elõre</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="network-wireless"></a>31.3. Vezeték nélküli
      hálózatok</h2></div><div><span class="authorgroup"><span xmlns="http://www.w3.org/1999/xhtml" class="author"></span>, <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="surname">Fonvieille</span>, <span class="firstname">Marc</span></span> és <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="surname">Stokely</span>, <span class="firstname">Murray</span></span>. </span></div></div></div><a id="idp99654864" class="indexterm"></a><a id="idp99655376" class="indexterm"></a><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp99656528"></a>31.3.1. A vezeték nélküli
	hálózatok alapjai</h3></div></div></div><p>A legtöbb vezeték nélküli
	hálózat az <span class="trademark">IEEE</span>(R) 802.11 szabványon nyugszik.
	Az alapvetõ vezeték nélküli
	hálózatokban több olyan
	állomást találhatunk, amelyek
	egymással rádiójelek
	szórásával kommunikálnak a
	2,4 GHz vagy 5 GHz frekvenciatartományban (noha
	ez a helyi viszonyoknak megfelelõen változhat,
	és a 2,3 GHz, illetve a 4,9 GHz
	tartományokban is lehetséges a
	kommunikáció).</p><p>A 802.11 szabványú hálózatok
	kétféleképpen szervezõdnek.
	Elõször is
	<span class="emphasis"><em>infrastrukturálisan</em></span>,
	(infrastructural mode) ahol az egyik állomást
	kinevezzük a központnak és a többi pedig
	ehhez fog tartozni.  Az ilyen hálózatokat BSS-nek
	nevezzük és az imént említett
	központ neve hozzáférési pont (Access
	Point, AP) lesz.  A BSS-ben az összes
	kommunikáció a hozzáférési
	pontokon keresztül halad még abban az esetben is,
	amikor az egyik állomás egy másik
	vezeték nélküli állomással
	akarja felvenni a kapcsolatot.  Az ilyen jellegû
	hálózatok másik típusú
	szervezõdési módjában nincsenek
	kijelölt központok és a
	kommunikáció az állomások
	között közvetlenül zajlik.  A
	hálózat ezen formáját IBBS-nek
	nevezzük, vagy ismeretebb nevén <span class="emphasis"><em>ad-hoc
	hálózatnak</em></span> (ad-hoc network).</p><p>A 802.11 alapú hálózatok
	elsõként a 2,4 GHz-es sávot
	hódították meg, és az <span class="trademark">IEEE</span>(R) 802.11
	valamint 802.11b szabványokban rögzített
	protokollokat használták.  Ezekben a
	specifikációkban megtalálhatjuk a
	mûködési frekvenciát, a
	közeghozzáférési réteg
	jellemzõinek leírását,
	beleértve a keretezést és az
	átviteli sebességeket (a
	kommunikáció ugyanis eltérõ
	sebességekkel is történhet).  A
	késõbb kiadott 802.11a szabvány azt
	specifikálja, hogy az 5 GHz-es tartományban
	miként mûködjenek, ahol többek közt
	megtalálhatjuk a különféle
	jelkezelési mechanizmusokat és a nagyobb
	átviteli sebességek használatát.
	Ezt még a 802.11g szabvány követte, ami a
	802.11b hálózatokkal kompatibilis módon
	lehetõvé tette a 802.11a
	jelkezelésének és átviteli
	módszereinek használatát a 2,4 GHz-es
	sávban.</p><p>A 802.11 alapú hálózatok
	mindenféle átviteli technikáitól
	eltekintve többféle biztonsági
	megoldással találkozhatunk.  Az korai 802.11
	dokumentumok egy nagyon egyszerû biztonsági
	protokollt, a WEP-et említenek.  Ez a protokoll a
	hálózaton mozgó adatokat egy
	rögzített és ismert osztott kulccsal
	kódolja le az RC4 titkosítással.  A
	kommunikációhoz az összes
	állomásnak elõre meg kell egyeznie ebben a
	kulcsban.  Errõl a sémáról
	idõközben kiderült, hogy könnyen
	feltörhetõ és manapság már csak
	nagyon ritkán alkalmazzák, kivéve
	talán csak a kóbor felhasználók
	elijesztésére.  A jelenleg érvényes
	biztonsági elõírásokat az <span class="trademark">IEEE</span>(R) 802.11i
	specifikáció adja meg, amely új
	kriptográfiai titkosításokat
	definiál valamint egy további protokollt az
	állomások azonosítására
	és a kulcsok cseréjére.  Emellett a
	titkosításhoz használt kulcsok
	idõszakosan frissülnek és külön
	eszközök állnak rendelkezésre a
	betörési kísérletek
	észlelésére (és azok
	elhárítására).  A vezeték
	nélküli hálózatok esetében
	másik elterjedt titkosítási protokoll a
	WPA.  Ez igazából 802.11i elõdjének
	tekinthetõ, amelyet egy ipari csoport definiált,
	amíg a 802.11i minõsítés alatt
	állt.  A WPA ennek megfelelõen teljesíti a
	802.11i szabvány elvárásainak egy
	részét és kifejezetten a régi
	hardverek számára készült.  A WPA
	mûködéséhez egyedül a TKIP
	titkosításra van szükségünk,
	amely az eredeti WEP titkosításból
	származik.  A 802.11i engedi a TKIP
	használatát, de az adatok
	kódolására egy erõsebb
	titkosítás, az AES-CCM ismeretét is
	igényli.  (Az AES a WPA esetében nem kell, mivel a
	régi eszközök esetében
	túlságosan költségesnek
	ítélték meg a
	használatát.)</p><p>A fenti szabványokon kívül a 802.11e a
	másik fontos szabvány, amire tekintettel kell
	lennünk.  Ez írja le a 802.11
	hálózatokon a multimédiás
	alkalmazások közvetítéséhez,
	mint például a videók valós
	idejû lejátszásához vagy a VoIP (voice
	over IP) megvalósításához
	tartozó protokollokat.  A 802.11i szabványhoz
	hasonlóan a 802.11e is magában foglal egy
	elõzetes specifikációt, amelyet WME
	(késõbb pedig már WMM)-nek neveznek.  Ezt
	szintén egy ipari csoport definiálta a 802.11e
	részeként, amivel a 802.11e végsõ
	elfogadásáig tudják a
	multimédiás igényeket kiszolgálni.
	Amit a 802.11e és WME/WMM megoldásaival
	kapcsolatban érdemes tudnunk: a QoS (Quality of Service)
	protokoll és más egyéb fejlett
	közeghozzáférési protokollok
	segítségével a vezeték
	nélküli hálózatokban
	lehetõvé teszik a forgalom prioritás szerinti
	ütemezését.  Ezen protokollok megfelelõ
	implementációjának
	segítségével tehát a fontosabb
	adatok nagy sebességû küldését
	és áramoltatását vagyunk
	képesek elérni.</p><p>A FreeBSD a 6.0 verzió óta ismeri a 802.11a,
	802.11b és 802.11g szabványokon alapján
	mûködõ hálózatokat.  A WPA
	és 802.11i biztonsági protokollok (a 11a, 11b
	és 11g szabványok bármelyike esetén)
	hasonlóképpen támogatottak, valamint a
	WME/WMM protokollok mûködéséhez
	szükséges QoS csak bizonyos vezeték
	nélküli eszközök esetében.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="network-wireless-basic"></a>31.3.2. Kezdeti beállítások</h3></div></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp99666896"></a>31.3.2.1. A rendszermag beállítása</h4></div></div></div><p>A vezeték nélküli
	  hálózatok használatához egy
	  vezeték nélküli hálózati
	  kártyára lesz szükségünk,
	  valamint a rendszermagban is be kell állítani
	  ehhez a megfelelõ támogatást.  Ez
	  utóbbit több különbözõ modulra
	  szedték szét, és ezek közül
	  csak azokat kell beállítani, amelyeket
	  tényleg használni is fogunk.</p><p>Elõször is tehát kell egy vezeték
	  nélküli eszköz.  Az elterjedtebb
	  típusaik általában az Atheos által
	  gyártott alkatrészeket tartalmazzák.  Az
	  ilyen fajtájú eszközöket az
	  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ath&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">ath</span>(4)</span></a> meghajtó kezeli, melyet úgy tudunk a
	  rendszer indításakor betölteni, ha a
	  <code class="filename">/boot/loader.conf</code>
	  állományba felvesszük a következõ
	  sort:</p><pre class="programlisting">if_ath_load="YES"</pre><p>Az Atheos meghajtója három
	  különálló részre oszlik: maga a
	  meghajtó (<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ath&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">ath</span>(4)</span></a>), a hardveres réteg, ami a
	  chipfüggõ funkciókat kezeli (<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ath_hal&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">ath_hal</span>(4)</span></a>)
	  és a keretek küldésével kapcsolatban
	  az átviteli sebesség
	  megválasztását lehetõvé
	  tevõ algoritmus (ez itt most az ath_rate_sample).  Amikor
	  ezt a támogatást modulként
	  töltjük be, ezek a függõségek
	  automatikusan feloldódnak.  Ha az Atheos
	  eszközök helyett valamelyik másikhoz
	  tartozó modult szeretnénk használni,
	  akkor például az Intersil Prism esetében
	  a <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=wi&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">wi</span>(4)</span></a> meghajtót kell megadnunk:</p><pre class="programlisting">if_wi_load="YES"</pre><div xmlns="" class="note"><h3 class="admontitle">Megjegyzés: </h3><p xmlns="http://www.w3.org/1999/xhtml">A leírás további részeiben
	    az <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ath&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">ath</span>(4)</span></a> eszközt fogjuk használni, minden
	    más esetben ennek a nevét kell csak
	    lecserélünk a példákban.  A
	    rendszerben elérhetõ vezeték
	    nélküli meghajtók és az
	    általuk támogatott kártyák
	    listája a FreeBSD Hardverjegyzetekben
	    található.  Ezek a jegyzetek a
	    különbözõ architektúrákra
	    és kiadásokhoz a FreeBSD
	    holnapjáról, a <a class="link" href="http://www.FreeBSD.org/releases/index.html" target="_top">Kiadási jegyzetek</a>
	    oldalról érhetõek el.  Ha a
	    vezeték nélküli
	    eszközünkhöz nem létezik natív
	    FreeBSD-s meghajtó, akkor az <a class="link" href="config-network-setup.html#config-network-ndis" title="11.8.1.1. A Windows(R) NDIS meghajtóinak használata">NDIS</a> meghajtó
	    segítségével akár
	    közvetlenül a <span class="trademark">Windows</span>(R)-os
	    meghajtóját is használhatjuk.</p></div><p>FreeBSD 7.<em class="replaceable"><code>X</code></em> esetén az
	  eszközmeghajtó
	  beállításával együtt a 802.11
	  hálózatok támogatását is be
	  kell töltenünk a rendszermagba.  Ez az <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ath&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">ath</span>(4)</span></a>
	  meghajtó esetében a legalább a
	  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=wlan&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">wlan</span>(4)</span></a>, <code class="literal">wlan_scan_ap</code> és
	  <code class="literal">wlan_scan_sta</code> modulok
	  betöltését jelenti.  A <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=wlan&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">wlan</span>(4)</span></a> modul a
	  vezetéknélküli eszköz
	  meghajtóprogramjával együtt
	  töltõdik be, míg a többi modult a
	  <code class="filename">/boot/loader.conf</code> állomány
	  használatával kell a
	  rendszerindítás során
	  betöltenünk:</p><pre class="programlisting">wlan_scan_ap_load="YES"
wlan_scan_sta_load="YES"</pre><p>A FreeBSD 8.0 kiadástól
	  kezdõdõen ezek a modulok részei a <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=wlan&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">wlan</span>(4)</span></a>
	  meghajtónak, amely a hálózati
	  kártya meghajtójával együtt mindig
	  automatikusan betöltõdik.</p><p>Emellett még azokra a modulokra is
	  szükségünk van, amelyek a használni
	  kívánt biztonsági protokollokhoz
	  nyújtanak kriptográfiai
	  támogatást.  Ezek hivatalosan a <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=wlan&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">wlan</span>(4)</span></a>
	  modul kérésére automatikusan
	  betöltõdnek, azonban itt most manuálisan
	  állítjuk be.  Erre a célra a
	  következõ modulokat találjuk:
	  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=wlan_wep&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">wlan_wep</span>(4)</span></a>, <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=wlan_ccmp&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">wlan_ccmp</span>(4)</span></a> és
	  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=wlan_tkip&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">wlan_tkip</span>(4)</span></a>.  A <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=wlan_ccmp&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">wlan_ccmp</span>(4)</span></a> és
	  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=wlan_tkip&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">wlan_tkip</span>(4)</span></a> meghajtók csak akkor fognak kelleni,
	  ha a WPA és/vagy a 802.11i biztonsági
	  protokollokat használjuk.  Amennyiben a
	  hálózatunkon nincs titkosítás,
	  akkor még a <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=wlan_wep&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">wlan_wep</span>(4)</span></a> támogatás
	  sem kell.  Ezeket a modulok úgy lehet betölteni a
	  rendszerindításnál, ha felvesszük a
	  következõ sorokat a
	  <code class="filename">/boot/loader.conf</code>
	  állományba:</p><pre class="programlisting">wlan_wep_load="YES"
wlan_ccmp_load="YES"
wlan_tkip_load="YES"</pre><p>Miután ezt megcsináltuk, egyszerûen
	  csak indítsuk újra a gépünket.  Ha
	  még nem akarjuk újraindítani a
	  gépet, akkor a <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=kldload&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">kldload</span>(8)</span></a> parancs
	  segítségével akár kézzel is
	  betölthetjük az elõbb felsorolt
	  modulokat.</p><div xmlns="" class="note"><h3 class="admontitle">Megjegyzés: </h3><p xmlns="http://www.w3.org/1999/xhtml">Ha nem akarunk modulokat használni, a
	    mûködéshez szükséges
	    meghajtókat a rendszermagba is be tudjuk
	    építeni a következõ sorok
	    megadásával a rendszermag
	    beállításait tartalmazó
	    állományban:</p><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting">device wlan                # a 802.11 támogatása
device wlan_wep            # 802.11 WEP  támogatás
device wlan_ccmp           # 802.11 CCMP támogatás
device wlan_tkip           # 802.11 TKIP támogatás
device wlan_amrr           # AMRR forgalomvezérlési algoritmus
device ath                 # Atheros IEEE 802.11 vezeték nélküli hálózati meghajtó
device ath_hal             # az Atheros meghajtó hardveres rétege
options AH_SUPPORT_AR5416  # az AR5416 tx/rx leírók engedélyezése
device ath_rate_sample     # SampleRate forgalomvezérlési algoritmus</pre><p xmlns="http://www.w3.org/1999/xhtml">Hozzátesszük, hogy az alábbi sorok
	    hozzáadása a FreeBSD 7.<em class="replaceable"><code>X</code></em>
	    változatában kötelezõ, más
	    verzióknál viszont nem:</p><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting">device wlan_scan_ap        # a 802.11 AP módú keresés
device wlan_scan_sta       # a 802.11 STA módú keresés</pre><p xmlns="http://www.w3.org/1999/xhtml">Az elõbbiek megadásával
	    fordítsuk újra és telepítsük
	    a rendszermagot, majd indítsuk újra a
	    számítógépünket.</p></div><p>Miután a rendszerünk újra elindult, a
	  rendszer indítás során generált
	  üzenetei között találnunk kell
	  valamennyi információt a felismert
	  vezeték nélküli eszközökrõl.
	  Például:</p><pre class="screen">ath0: &lt;Atheros 5212&gt; mem 0x88000000-0x8800ffff irq 11 at device 0.0 on cardbus1
ath0: [ITHREAD]
ath0: AR2413 mac 7.9 RF2413 phy 4.5</pre></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp99701840"></a>31.3.3. Az infrastrukturális mûködési
	mód</h3></div></div></div><p>Általában az infrastrukturális avagy a
	BBS mód használata a gyakori.  Ebben a
	mûködési módban adott
	számú vezeték nélküli
	hozzáférési pont csatlakozik a
	hagyományos hálózatra.  Mindegyik
	vezeték nélküli hálózatnak
	saját neve van, amit a hálózat
	SSID-jének hívunk.  A vezeték
	nélküli kliensek ezekhez a vezeték
	nélküli hozzáférési pontokhoz
	kapcsolódnak.</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp99702864"></a>31.3.3.1. A FreeBSD-s kliensek használata</h4></div></div></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp99703504"></a>31.3.3.1.1. Hogyan keressünk hozzáférési
	    pontokat</h5></div></div></div><p>A hálózatok kereséséhez az
	    <code class="command">ifconfig</code> paranccsal tudunk nekifogni.
	    Egy ilyen kérés kiszolgálása
	    eltarthat néhány pillanatig, mivel ekkor a
	    rendszernek végig kell bóklásznia az
	    összes elérhetõ frekvenciát
	    és azokon hozzáférési pontok
	    után kutatni.  Egyedül a
	    rendszeradminisztrátor kezdeményezheti ezeket
	    a kereséseket:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ifconfig wlan0 create wlandev ath0</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>ifconfig wlan0 up scan</code></strong>
SSID/MESH ID    BSSID              CHAN RATE  S:N     INT CAPS
dlinkap         00:13:46:49:41:76   11   54M -90:96   100 EPS  WPA WME
freebsdap       00:11:95:c3:0d:ac    1   54M -83:96   100 EPS  WPA</pre><div xmlns="" class="note"><h3 class="admontitle">Megjegyzés: </h3><p xmlns="http://www.w3.org/1999/xhtml">Csak <code class="option">up</code> jelzésû
	      felületen tudunk hálózatokat keresni.
	      További keresésekre már nincs
	      szükség a felület <code class="option">up</code>
	      állapotban tartásához.</p></div><div xmlns="" class="note"><h3 class="admontitle">Megjegyzés: </h3><p xmlns="http://www.w3.org/1999/xhtml">FreeBSD 7.<em class="replaceable"><code>X</code></em> esetén
	      a <code class="filename">wlan0</code>
	      eszköz helyett közvetlenül az adott
	      eszköz nevét kell megadnunk,
	      például
	      <code class="filename">ath0</code>.
	      Az iménti sorokat ennek megfelelõen
	      tehát ebben az esetben így kell
	      értelmezni:</p><pre xmlns="http://www.w3.org/1999/xhtml" class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ifconfig ath0 up scan</code></strong></pre><p xmlns="http://www.w3.org/1999/xhtml">A leírás további
	      részében a
	      FreeBSD 7.<em class="replaceable"><code>X</code></em>
	      felhasználóknak ezen séma
	      alapján kell használniuk a parancsokat
	      és a konfigurációs
	      beállításokat.</p></div><p>A keresés során keletkezõ
	    listában láthatjuk megtalált BBS vagy
	    IBBS fajtájú hálózatokat.  A
	    hálózatok neve és
	    <code class="literal">SSID</code>-ja mellett még megjelenik egy
	    <code class="literal">BSSID</code> oszlop is, ahol a
	    hozzáférési pontok MAC-címe
	    szerepel.  A <code class="literal">CAPS</code> oszlop az egyes
	    állomások tulajdonságait adja
	    meg:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">E</code></span></dt><dd><p>Extended Service Set (ESS): az
		  állomás egy infrastrukturális
		  vagyis BBS hálózat része.</p></dd><dt><span class="term"><code class="literal">I</code></span></dt><dd><p>IBSS/ad-hoc hálózat: az
		  állomás egy ad-hoc hálózat
		  része.</p></dd><dt><span class="term"><code class="literal">P</code></span></dt><dd><p>Privacy: a BBS-en belül minden keretet
		  titkosítani kell.  Tehát a BSS arra
		  kötelezi az állomást, hogy WEP,
		  TKIP vagy AES-CCMP titkosítás
		  használatával kódolja a
		  hálózat tagjai között
		  közlekedõ kereteket.</p></dd><dt><span class="term"><code class="literal">S</code></span></dt><dd><p>Short Preamble: a hálózatban
		  rövid bevezetõjeleket használnak (a
		  802.11b High Rate/DSSS PHY
		  elõírásai szerint), ahol a
		  szokványos 128 bites
		  szinkronizációs mezõ hossza csak
		  56 bit.</p></dd><dt><span class="term"><code class="literal">s</code></span></dt><dd><p>Short Slot Time: a 802.11g hálózat
		  rövid slotidõt használ, mivel nem
		  találhatóak benne régi (802.11b
		  szabványú)
		  állomások.</p></dd></dl></div><p>A jelenleg ismert hálózatok
	    listáját így tudjuk
	    lekérdezni:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ifconfig wlan0 list scan</code></strong></pre><p>Ezt az információt maga az adapter
	    automatikusan, vagy a felhasználó tudja
	    frissíteni a <code class="option">scan</code>
	    kérés kiadásával.  Az elavult
	    adatok maguktól törlõdnek a
	    gyorsítótárból, így
	    idõvel a lista zsugorodni fog, hacsak nem keresünk
	    folyamatosan hálózatokat.</p></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp99728848"></a>31.3.3.1.2. Alapvetõ beállítások</h5></div></div></div><p>Ebben a szakaszban arra mutatunk példákat,
	    hogy miként tudunk FreeBSD alatt
	    titkosítás nélkül használni
	    egy vezeték nélküli
	    hálózati kártyát.  Miután
	    elsajátítottuk az itt szereplõ
	    ismereteket, határozottan javasoljuk, hogy a
	    vezeték nélküli
	    hálózatunkat <a class="link" href="network-wireless.html#network-wireless-wpa" title="31.3.3.1.3. WPA">WPA</a>
	    használatával állítsuk
	    be.</p><p>A vezeték nélküli
	    hálózatok beállítása
	    három elemi lépésbõl
	    épül fel: a hozzáférési
	    pont kiválasztása, az állomásunk
	    hitelesítése és az IP-cím
	    beállítása.  A következõkben
	    ezeket a lépéseket vitatjuk meg.</p><div class="sect5"><div xmlns="" class="titlepage"><div><div><h6 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp99730768"></a>31.3.3.1.2.1. A hozzáférési pont
	      kiválasztása</h6></div></div></div><p>A legtöbb esetben hagyjuk, hogy a rendszer
	      válassza ki magának a
	      különbözõ heurisztikák
	      alapján a leginkább megfelelõ
	      hozzáférési pontot.  Ez az
	      alapértelmezett tevékenység, amikor
	      aktiváljuk a felületet vagy valamilyen
	      más módon, például
	      az<code class="filename">/etc/rc.conf</code>
	      állományból hivatkozunk
	      rá:</p><pre class="programlisting">wlans_ath0="wlan0"
ifconfig_wlan0="DHCP"</pre><div xmlns="" class="note"><h3 class="admontitle">Megjegyzés: </h3><p xmlns="http://www.w3.org/1999/xhtml">A korábban említettek szerint a
		FreeBSD 7.<em class="replaceable"><code>X</code></em>
		felhasználóknak csak a
		kártyát kell
		beállítani:</p><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting">ifconfig_ath0="DHCP"</pre></div><p>Ha viszont több hozzáférési
	      pont közül mi magunk akarunk kiválasztani
	      egyet, akkor ezt az SSID megadásával
	      tehetjük meg:</p><pre class="programlisting">wlans_ath0="wlan0"
ifconfig_wlan0="ssid <em class="replaceable"><code>saját_ssid</code></em> DHCP"</pre><p>Amikor olyan környezetben vagyunk, ahol több
	      hozzáférési pontnak is megegyezik az
	      SSID-ja (gyakran így próbálják
	      egyszerûsíteni azt, hogy automatikusan
	      váltani lehessen köztük), akkor
	      szükségünk lehet ezt egy adott
	      eszközhöz hozzárendelni.  Ebben az
	      esetben a hozzáférési pont
	      BSSID-ját is definiálni kell (és az
	      SSID-t akár el is hagyhatjuk):</p><pre class="programlisting">wlans_ath0="wlan0"
ifconfig_wlan0="ssid <em class="replaceable"><code>saját_ssid</code></em> bssid <em class="replaceable"><code>xx:xx:xx:xx:xx:xx</code></em> DHCP"</pre><p>Más módokon is képesek vagyunk
	      szabályozni a hozzáférési
	      pontok megválasztását,
	      például a rendszerünk által
	      vizsgált frekvenciasávok
	      megadásával.  Ez olyankor tud hasznos lenni,
	      ha többsávos vezeték
	      nélküli kártyánk van, és
	      az összes tartomány
	      végigpásztázása
	      túlságosan sok idõt venne el.  Ezt a
	      mûvelet a <code class="option">mode</code> paraméter
	      megadásával lehet egy konkrét
	      sávra leszûkíteni,
	      például a</p><pre class="programlisting">wlans_ath0="wlan0"
ifconfig_wlan0="mode <em class="replaceable"><code>11g</code></em> ssid <em class="replaceable"><code>saját_ssid</code></em> DHCP"</pre><p>beállítás hatására
	      a kártya 802.11g módban fog üzemelni,
	      ami kizárólag csak 2,4 GHz-es
	      frekvenciákon használható, így
	      az 5 GHz-es csatornákat egyszerûen
	      figyelmen kívül hagyjuk.  Ugyanezt a
	      <code class="option">channel</code> paraméterrel is meg tudjuk
	      oldani, mivel így a mûködést egy
	      adott frekvenciára korlátozzuk, valamint a
	      <code class="option">chanlist</code> paraméterrel, ahol a
	      pásztázandó csatornákat
	      sorolhatjuk fel.  Ezekrõl a
	      paraméterekrõl részletesebb
	      leírást az <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ifconfig&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ifconfig</span>(8)</span></a> man oldalon
	      találhatunk.</p></div><div class="sect5"><div xmlns="" class="titlepage"><div><div><h6 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp99741008"></a>31.3.3.1.2.2. Hitelesítés</h6></div></div></div><p>Miután sikeresen kiválasztottuk a
	      számunkra megfelelõ
	      hozzáférési pontot, az adatok
	      küldéséhez az
	      állomásunknak valamilyen módon
	      hitelesítenie kell magát.  A
	      hitelesítés több módon
	      történhet.  Erre a leggyakrabban alkalmazott
	      sémát nyílt
	      hitelesítésnek (open authentication)
	      nevezik, ahol a hálózathoz tetszõleges
	      állomás csatlakozhat és
	      kommunikálhat vele.  Ezt a típusú
	      hitelesítést akkor érdemes
	      használni, amikor a vezeték
	      nélküli hálózatunkat
	      teszteljük.  Más sémákban az
	      adatfolyam megindításához egy
	      titkosítási kézfogás
	      szükséges, vagy elõre megosztott kulcsok
	      esetleg jelszavak segítségével, vagy
	      bonyolultabb sémák esetében itt
	      még olyan különbözõ
	      háttérszolgáltatások is
	      megjelennek, mint például a RADIUS.  A
	      legtöbb felhasználó a nyílt
	      hitelesítést használja, ami egyben az
	      alapértelmezés is.  A másik
	      legelterjedtebb beállítás a WPA-PSK,
	      avagy WPA Personal, amelyrõl <a class="link" href="network-wireless.html#network-wireless-wpa-wpa-psk" title="31.3.3.1.3.1. WPA-PSK">lentebb</a>
	      még szólni fogunk.</p><div xmlns="" class="note"><h3 class="admontitle">Megjegyzés: </h3><p xmlns="http://www.w3.org/1999/xhtml">Ha <span class="trademark">Apple</span>(R) <span class="trademark">AirPort</span>(R) Extreme Base Station
		típusú hozzáférési
		pontunk van, akkor az osztott kulcsú
		hitelesítés mellett egy WEP kulcsot is be
		állítanunk.  Ezt az
		<code class="filename">/etc/rc.conf</code>
		állományban vagy a <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=wpa_supplicant&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">wpa_supplicant</span>(8)</span></a>
		programban tehetjük meg.  Ha egyetlen <span class="trademark">AirPort</span>(R)
		bázisállomásunk van, akkor az
		elérést valahogy így tudjuk
		beállítani:</p><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting">wlans_ath0="wlan0"
ifconfig_wlan0="authmode shared wepmode on weptxkey <em class="replaceable"><code>1</code></em> wepkey <em class="replaceable"><code>01234567</code></em> DHCP"</pre><p xmlns="http://www.w3.org/1999/xhtml">Általánosságban véve
		elmondhatjuk, hogy az osztott kulcsú
		hitelesítést inkább
		kerüljük el, mivel WEP kulcsok
		használatára alapszik és
		ráadásul olyan módon, hogy nagyon
		könnyû feltörni.  Ha már
		mindenképpen a WEP mellett kell
		döntenünk (például a
		régebbi eszközökkel így tudunk
		csak kompatibilisek maradni), akkor jobban
		járunk, ha a <code class="literal">nyílt</code>
		hitelesítéshez alkalmazzuk.  A WEP
		használatát érintõ
		további információkat a <a class="xref" href="network-wireless.html#network-wireless-wep" title="31.3.3.1.4. WEP">31.3.3.1.4. szakasz - WEP</a>ban
		találjuk.</p></div></div><div class="sect5"><div xmlns="" class="titlepage"><div><div><h6 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp99756752"></a>31.3.3.1.2.3. IP-cím szerzése DHCP
	      használatával</h6></div></div></div><p>Miután kiválasztottunk egy
	      hozzáférési pontot és
	      beállítottuk a hitelesítés
	      paramétereit, egy IP-cím is kelleni fog a
	      kommunikációhoz.  Az esetek
	      túlnyomó részében DHCP-n
	      keresztül kapunk IP-címet a vezeték
	      nélküli kapcsolatunkhoz.  Ezt úgy
	      érhetjük el, ha egyszerûen megnyitjuk az
	      <code class="filename">/etc/rc.conf</code> állományt
	      és az alábbihoz hasonló módon
	      felvesszük a <code class="literal">DHCP</code>
	      paramétert az eszközünk
	      beállításaihoz:</p><pre class="programlisting">wlans_ath0="DHCP"
ifconfig_wlan0="DHCP"</pre><p>Így már készen is állunk a
	      vezeték nélküli felület
	      használatára:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>/etc/rc.d/netif start</code></strong></pre><p>Ahogy a felület
	      mûködõképessé válik,
	      az <code class="command">ifconfig</code> parancs
	      segítségével ellenõrizni is
	      tudjuk az <code class="filename">ath0</code> felület
	      állapotát:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ifconfig wlan0</code></strong>
wlan0: flags=8843&lt;UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST&gt; mtu 1500
        ether 00:11:95:d5:43:62
        inet 192.168.1.100 netmask 0xffffff00 broadcast 192.168.1.255
        media: IEEE 802.11 Wireless Ethernet OFDM/54Mbps mode 11g
        status: associated
        ssid dlinkap channel 11 (2462 Mhz 11g) bssid 00:13:46:49:41:76
        country US ecm authmode OPEN privacy OFF txpower 21.5 bmiss 7
        scanvalid 60 bgscan bgscanintvl 300 bgscanidle 250 roam:rssi 7
        roam:rate 5 protmode CTS wme burst</pre><p>A <code class="literal">status: associated</code> azt jelenti,
	      hogy sikeresen csatlakoztunk egy vezeték
	      nélküli hálózathoz (jelen
	      esetben ez a <code class="literal">dlinkap</code>).  A
	      <code class="literal">bssid 00:13:46:49:41:76</code> rész a
	      hozzáférési pont
	      MAC-címét tartalmazza.  Az
	      <code class="literal">authmode OPEN</code> pedig arról
	      számol be, hogy a kommunikáció nem
	      titkosított.</p></div><div class="sect5"><div xmlns="" class="titlepage"><div><div><h6 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp99764816"></a>31.3.3.1.2.4. Statikus IP-cím</h6></div></div></div><p>Ha valami okból nem tudjuk az
	      IP-címünket DHCP szerveren keresztül
	      lekérni, beállíthatunk
	      rögzített IP-címet is.  Ehhez nem kell
	      mást tennünk, mint a korábban
	      bemutatott <code class="literal">DHCP</code> kulcsszót
	      kicserélni egy konkrét címmel.  A
	      hozzáférési ponthoz megadott
	      többi paramétert azonban
	      feltétlenül hagyjuk meg:</p><pre class="programlisting">wlans_ath0="wlan0"
ifconfig_wlan0="inet <em class="replaceable"><code>192.168.1.100</code></em> netmask <em class="replaceable"><code>255.255.255.0</code></em>ssid <em class="replaceable"><code>saját_ssid</code></em>i"</pre></div></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="network-wireless-wpa"></a>31.3.3.1.3. WPA</h5></div></div></div><p>A WPA (Wi-Fi Protected Access, vagyis védett
	    wi-fi hozzáférés) a 802.11
	    szabványokban használatos biztonsági
	    protokoll, amelyet a <a class="link" href="network-wireless.html#network-wireless-wep" title="31.3.3.1.4. WEP">WEP</a>
	    gyengeségeinek és megfelelõ
	    hitelesítésének
	    ellensúlyozására dolgoztak ki.  A WPA a
	    802.1X hitelesítési protokolljait
	    erõsíti és az adat
	    sértetlenségének
	    megõrzésére a WEP helyett több
	    titkosítási algoritmust is felhasznál.
	    A WPA által igényelt egyetlen
	    titkosítás a TKIP (Temporary Key Integrity
	    Protocol, vagyis az ideiglenes kulcs integritási
	    protokoll), amely a WEP által az integritás
	    ellenõrzésére és a
	    bejutások észlelésére és
	    azok reagálására szánt alap RC4
	    titkosítást bõvíti ki.  A TKIP a
	    régebbi hardvereken csupán szoftveres
	    módosítással
	    mûködõképessé tehetõ.  Ez
	    a kompromisszum a védelmet ugyan növeli, de
	    még mindig kevés a támadások
	    megfelelõ elhárításához.  A
	    WPA a TKIP mellett tartalmazza még az AES-CCMP
	    titkosítást is, és ennek a
	    használata javasolt.  Ezt a
	    specifikációt gyakran WPA2 (vagy RSN)
	    néven emlegetik.</p><p>A WPA definiál hitelesítési
	    és titkosítási protokollokat.  A
	    hitelesítés általában a
	    következõ két technika egyike
	    alapján történik: vagy 802.1X és
	    egy háttérszolgáltatás,
	    például a RADIUS
	    segítségével, vagy egy elõre
	    megosztott kulcsot alkalmazó minimális
	    kézfogással az állomás és
	    a hozzáférési pont között.
	    Az elõbbit gyakran WPA Enterprise-nak, míg az
	    utóbbit WPA Personalnak hívják.  Mivel
	    a legtöbben nem állítanak be egy komplett
	    RADIUS alapú szervert a vezeték
	    nélküli hálózatukhoz, ezért
	    a WPA-PSK a WPA leginkább elterjedten használt
	    változata.</p><p>A vezeték nélküli kapcsolat és
	    a hitelesítés (kulcs alapján vagy
	    szerverrel) vezérlését a
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=wpa_supplicant&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">wpa_supplicant</span>(8)</span></a> segédprogram végzi.
	    Ennek a programnak mûködéséhez egy
	    konfigurációs állományra van
	    szüksége, amely az
	    <code class="filename">/etc/wpa_supplicant.conf</code> néven
	    érhetõ el.  Errõl az
	    állományról bõvebb
	    információt a <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=wpa_supplicant.conf&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">wpa_supplicant.conf</span>(5)</span></a> man
	    oldalán lelhetünk.</p><div class="sect5"><div xmlns="" class="titlepage"><div><div><h6 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="network-wireless-wpa-wpa-psk"></a>31.3.3.1.3.1. WPA-PSK</h6></div></div></div><p>A WPA-PSK, más néven WPA-Personal, egy
	      adott jelszó alapján generált
	      elõre megosztott kulcssal (pre-shared key, PSK)
	      mûködik, amit a vezeték
	      nélküli hálózatokban
	      mesterkulcsént használnak.  Ez azt jelenti,
	      hogy minden egyes vezeték nélküli
	      felhasználó ugyanazon a kulcson osztozik.  A
	      WPA-PSK olyan kis méretû
	      hálózatok esetében megfelelõ,
	      ahol a hitelesítést elvégzõ
	      szerver használata nem lehetséges vagy nem
	      oldható meg.</p><div xmlns="" class="warning"><h3 class="admontitle">Figyelem: </h3><p xmlns="http://www.w3.org/1999/xhtml">Mindig igyekezzünk erõs jelszavakat
		használni, melyek kellõen hosszúak
		és sokféle karaktert tartalmaznak,
		és így nehezebben fejthetõek meg vagy
		törhetõek fel.</p></div><p>Elõször az
	      <code class="filename">/etc/wpa_supplicant.conf</code>
	      állományban állítsuk be az
	      SSID-t és a hálózatunkhoz
	      tartozó elõre megosztott kulcsot:</p><pre class="programlisting">network={
  ssid="freebsdap"
  psk="freebsdmall"
}</pre><p>Ezután az <code class="filename">/etc/rc.conf</code>
	      állományban jelezzük, hogy a
	      vezeték nélküli eszközt a WPA
	      segítségével állítjuk
	      be és az IP-címet a DHCP szervertõl
	      kérjük el:</p><pre class="programlisting">wlans_ath0="wlan0"
ifconfig_ath0="WPA DHCP"</pre><p>Innentõl már fel is tudjuk
	      éleszteni a felületet:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>/etc/rc.d/netif start</code></strong>
Starting wpa_supplicant.
DHCPDISCOVER on wlan0 to 255.255.255.255 port 67 interval 5
DHCPDISCOVER on wlan0 to 255.255.255.255 port 67 interval 6
DHCPOFFER from 192.168.0.1
DHCPREQUEST on wlan0 to 255.255.255.255 port 67
DHCPACK from 192.168.0.1
bound to 192.168.0.254 -- renewal in 300 seconds.
wlan0: flags=8843&lt;UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST&gt; mtu 1500
      ether 00:11:95:d5:43:62
      inet 192.168.0.254 netmask 0xffffff00 broadcast 192.168.0.255
      media: IEEE 802.11 Wireless Ethernet autoselect OFDM/36Mbps mode 11g
      status: associated
      ssid freebsdap channel 1 (2412 Mhz 11g) bssid 00:11:95:c3:0d:ac
      country US ecm authmode WPA2/802.11i privacy ON deftxkey UNDEF
      AES-CCM 3:128-bit txpower 21.5 bmiss 7 scanvalid 450 bgscan
      bgscanintvl 300 bgscanidle 250 roam:rssi 7 roam:rate 5 protmode CTS
      wme burst roaming MANUAL</pre><p>Kézzel is megpróbálhatjuk
	      elindítani az <a class="link" href="network-wireless.html#network-wireless-wpa-wpa-psk" title="31.3.3.1.3.1. WPA-PSK">elõbb</a>
	      elkészített
	      <code class="filename">/etc/wpa_supplicant.conf</code>
	      állomány használatával:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>wpa_supplicant -i wlan0 -c /etc/wpa_supplicant.conf</code></strong>
Trying to associate with 00:11:95:c3:0d:ac (SSID='freebsdap' freq=2412 MHz)
Associated with 00:11:95:c3:0d:ac
WPA: Key negotiation completed with 00:11:95:c3:0d:ac [PTK=CCMP GTK=CCMP]
CTRL-EVENT-CONNECTED - Connection to 00:11:95:c3:0d:ac completed (auth) [id=0 id_str=]</pre><p>A következõ parancs a
	      <code class="command">dhclient</code> indítása legyen,
	      amivel megszerezzük a DHCP szervertõl az
	      IP-címünket:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>dhclient wlan0</code></strong>
DHCPREQUEST on wlan0 to 255.255.255.255 port 67
DHCPACK from 192.168.0.1
bound to 192.168.0.254 -- renewal in 300 seconds.
<code class="prompt">#</code> <strong class="userinput"><code>ifconfig wlan0</code></strong>
ath0: flags=8843&lt;UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST&gt; mtu 1500
      ether 00:11:95:d5:43:62
      inet 192.168.0.254 netmask 0xffffff00 broadcast 192.168.0.255
      media: IEEE 802.11 Wireless Ethernet OFDM/36Mbps mode 11g
      status: associated
      ssid freebsdap channel 1 (2412 Mhz 11g) bssid 00:11:95:c3:0d:ac
      country US ecm authmode WPA2/802.11i privacy ON deftxkey UNDEF
      AES-CCM 3:128-bit txpower 21.5 bmiss 7 scanvalid 450 bgscan
      bgscanintvl 300 bgscanidle 250 roam:rssi 7 roam:rate 5 protmode CTS
      wme burst roaming MANUAL</pre><div xmlns="" class="note"><h3 class="admontitle">Megjegyzés: </h3><p xmlns="http://www.w3.org/1999/xhtml">Ha az <code class="filename">/etc/rc.conf</code>
		állományban szerepel a
		<code class="literal">ifconfig_wlan0="DHCP"</code> sor, akkor
		egyáltalán nem szükséges a
		<code class="command">dhclient</code> parancs manuális
		kiadása, mivel a <code class="command">dhclient</code>
		magától el fog indulni, miután a
		<code class="command">wpa_supplicant</code> egyeztette a
		kulcsokat.</p></div><p>Amikor a DHCP nem használható,
	      megadhatunk a statikus IP-címet is, miután a
	      <code class="command">wpa_supplicant</code> sikeresen
	      lebonyolította a hitelesítést:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ifconfig wlan0 inet 192.168.0.100 netmask 255.255.255.0</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>ifconfig wlan0</code></strong>
ath0: flags=8843&lt;UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST&gt; mtu 1500
      ether 00:11:95:d5:43:62
      inet 192.168.0.100 netmask 0xffffff00 broadcast 192.168.0.255
      media: IEEE 802.11 Wireless Ethernet OFDM/36Mbps mode 11g
      status: associated
      ssid freebsdap channel 1 (2412 Mhz 11g) bssid 00:11:95:c3:0d:ac
      country US ecm authmode WPA2/802.11i privacy ON deftxkey UNDEF
      AES-CCM 3:128-bit txpower 21.5 bmiss 7 scanvalid 450 bgscan
      bgscanintvl 300 bgscanidle 250 roam:rssi 7 roam:rate 5 protmode CTS
      wme burst roaming MANUAL</pre><p>Ha egyáltalán nem használunk DHCP
	      szervert, akkor nekünk kell beállítani
	      az alapértelmezett átjárót
	      és a névszervert is:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>route add default alapértelmezett_átjáró</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>echo "nameserver névszerver" &gt;&gt; /etc/resolv.conf</code></strong></pre></div><div class="sect5"><div xmlns="" class="titlepage"><div><div><h6 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="network-wireless-wpa-eap-tls"></a>31.3.3.1.3.2. WPA és EAP-TLS</h6></div></div></div><p>A másik mód, ahogy a WPA
	      használható, az a 802.1X
	      hitelesítési szerveren keresztül
	      történik, és ebben az esetben a WPA
	      neve WPA-Enterprise.  Ez sokkal biztonságosabb a
	      WPA-Personal elõre kiosztott kulcsaival szemben.  A
	      WPA-Enterprise az EAP (Extensible Authentication Protocol,
	      azaz Bõvíthetõ hitelesítési
	      protokoll) használatán alapszik.</p><p>Az EAP önmaga nem végez
	      titkosítást, mivel úgy
	      alakították ki, hogy magát az EAP
	      protokollt kell egy titkosított járaton
	      keresztül bújtatni.  Az EAP
	      hitelesítési módszereinek több
	      típusát is kidolgozták, melyek
	      közül a legismertebbek az EAP-TLS, EAP-TTLS
	      valamint a EAP-PEAP.</p><p>Az EAP-TLS (EAP szállítási
	      rétegbeli védelemmel) a vezeték
	      nélküli világban egy nagyon jól
	      támogatott hitelesítési protokoll,
	      mivel ez volt az elsõ EAP módszer, amit a
	      <a class="link" href="http://www.wi-fi.org/" target="_top">Wi-fi
	      szövetség</a> jóváhagyott.
	      Az EAP-TLS mûködéséhez
	      három tanúsítvány kell: egy
	      hitelesítõ hatóságtól
	      (Certificate Authority, CA), egy a
	      hitelesítést végzõ
	      szervertõl és egy a klienstõl.  Ezzel az
	      EAP módszerrel mind a hitelesítõ
	      szerver, mind a vezeték nélküli kliens
	      külön képviselik a saját
	      tanúsítványaikat, és ezeket a
	      szervezetünket hitelesítõ
	      hatóság aláírása
	      alapján ellenõrzik.</p><p>A korábbiaknak megfelelõen a
	      beállításokat szintén az
	      <code class="filename">/etc/wpa_supplicant.conf</code>
	      állományon keresztül
	      végezzük el:</p><pre class="programlisting">network={
  ssid="freebsdap" <a id="co-tls-ssid"></a><span><img src="./imagelib/callouts/1.png" alt="1" border="0" /></span>
  proto=RSN  <a id="co-tls-proto"></a><span><img src="./imagelib/callouts/2.png" alt="2" border="0" /></span>
  key_mgmt=WPA-EAP <a id="co-tls-kmgmt"></a><span><img src="./imagelib/callouts/3.png" alt="3" border="0" /></span>
  eap=TLS <a id="co-tls-eap"></a><span><img src="./imagelib/callouts/4.png" alt="4" border="0" /></span>
  identity="loader" <a id="co-tls-id"></a><span><img src="./imagelib/callouts/5.png" alt="5" border="0" /></span>
  ca_cert="/etc/certs/cacert.pem" <a id="co-tls-cacert"></a><span><img src="./imagelib/callouts/6.png" alt="6" border="0" /></span>
  client_cert="/etc/certs/clientcert.pem" <a id="co-tls-clientcert"></a><span><img src="./imagelib/callouts/7.png" alt="7" border="0" /></span>
  private_key="/etc/certs/clientkey.pem" <a id="co-tls-pkey"></a><span><img src="./imagelib/callouts/8.png" alt="8" border="0" /></span>
  private_key_passwd="freebsdmallclient" <a id="co-tls-pwd"></a><span><img src="./imagelib/callouts/9.png" alt="9" border="0" /></span>
}</pre><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#co-tls-ssid"><span><img src="./imagelib/callouts/1.png" alt="1" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Ez a mezõ adja meg a hálózat
		  nevét (SSID).</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-tls-proto"><span><img src="./imagelib/callouts/2.png" alt="2" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Itt az RSN (<span class="trademark">IEEE</span>(R) 802.11i), vagyis a WPA2
		  protokollt használjuk.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-tls-kmgmt"><span><img src="./imagelib/callouts/3.png" alt="3" border="0" /></span></a> </p></td><td valign="top" align="left"><p>A <code class="literal">key_mgmt</code> sor a
		  kulcskezelési protokollt adja meg.  A mi
		  esetünkben ez a WPA lesz, EAP
		  hitelesítéssel:
		  <code class="literal">WPA-EAP</code>.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-tls-eap"><span><img src="./imagelib/callouts/4.png" alt="4" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Ebben a mezõben az EAP módszert
		  nevezzük meg a kapcsolathoz.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-tls-id"><span><img src="./imagelib/callouts/5.png" alt="5" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Az <code class="literal">identity</code> mezõ az EAP
		  esetén használt azonosítót
		  tartalmazza.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-tls-cacert"><span><img src="./imagelib/callouts/6.png" alt="6" border="0" /></span></a> </p></td><td valign="top" align="left"><p>A <code class="literal">ca_cert</code> mezõ a
		  hitelesítõ hatóság
		  tanúsítványát
		  tároló állomány
		  elérési útvonalát adja
		  meg.  Ezt a szerver
		  tanúsítványának
		  hitelesítéséhez
		  használjuk.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-tls-clientcert"><span><img src="./imagelib/callouts/7.png" alt="7" border="0" /></span></a> </p></td><td valign="top" align="left"><p>A <code class="literal">client_cert</code> sor a kliens
		  tanúsítványát
		  tartalmazó állomány
		  elérési útvonalát adja
		  meg.  Ennek a vezeték nélküli
		  hálózat minden egyes kliense
		  esetében egyedinek kell lennie.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-tls-pkey"><span><img src="./imagelib/callouts/8.png" alt="8" border="0" /></span></a> </p></td><td valign="top" align="left"><p>A <code class="literal">private_key</code> mezõ a
		  kliens tanúsítvánáynak
		  privát kulcsát tároló
		  állomány elérési
		  útját adja meg.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-tls-pwd"><span><img src="./imagelib/callouts/9.png" alt="9" border="0" /></span></a> </p></td><td valign="top" align="left"><p>A <code class="literal">private_key_passwd</code> mezõ
		  a privát kulcshoz tartozó jelmondatot
		  rögzíti.</p></td></tr></table></div><p>Az <code class="filename">/etc/rc.conf</code>
	      állományba vegyük fel a
	      következõ sorokat:</p><pre class="programlisting">wlans_ath0="wlan0"
ifconfig_wlan0="WPA DHCP"</pre><p>A következõ lépés a
	      felület felébresztése lesz az
	      <code class="filename">rc.d</code> eszköz
	      segítségével:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>/etc/rc.d/netif start</code></strong>
Starting wpa_supplicant.
DHCPREQUEST on wlan0 to 255.255.255.255 port 67
DHCPREQUEST on wlan0 to 255.255.255.255 port 67
DHCPACK from 192.168.0.20
bound to 192.168.0.254 -- renewal in 300 seconds.
wlan0: flags=8843&lt;UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST&gt; mtu 1500
      ether 00:11:95:d5:43:62
      inet 192.168.0.254 netmask 0xffffff00 broadcast 192.168.0.255
      media: IEEE 802.11 Wireless Ethernet DS/11Mbps mode 11g
      status: associated
      ssid freebsdap channel 1 (2412 Mhz 11g) bssid 00:11:95:c3:0d:ac
      country US ecm authmode WPA2/802.11i privacy ON deftxkey UNDEF
      AES-CCM 3:128-bit txpower 21.5 bmiss 7 scanvalid 450 bgscan
      bgscanintvl 300 bgscanidle 250 roam:rssi 7 roam:rate 5 protmode CTS
      wme burst roaming MANUAL</pre><p>Természetesen, ahogy azt már az
	      elõbbiekben is megmutattuk, mindezt manuálisan
	      is el tudjuk végezni a
	      <code class="command">wpa_supplicant</code> és az
	      <code class="command">ifconfig</code> parancsok
	      segítségével.</p></div><div class="sect5"><div xmlns="" class="titlepage"><div><div><h6 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="network-wireless-wpa-eap-ttls"></a>31.3.3.1.3.3. WPA és EAP-TTLS</h6></div></div></div><p>Az EAP-TLS használatakor mind a
	      hitelesítést végzõ szervernek
	      és kliensnek is kell
	      tanúsítvány, azonban az EAP-TTLS (
	      szállítási rétegbeli
	      védelem EAP tunnelen keresztül)
	      esetében a kliensnél ez elhagyható.
	      Ez a módszer nagyjából olyan, mint
	      amit a webes oldalak csinálnak, ahol a webszerverek
	      egy védett SSL tunnelt képeznek még
	      akkor is, amikor a látogatók nem
	      rendelkeznek kliens oldali
	      tanúsítvánnyal.  Az EAP-TTLS egy
	      titkosított TLS tunnelen keresztül védi
	      le a hitelesítési adatok
	      forgalmát.</p><p>Ezt ismét az
	      <code class="filename">/etc/wpa_supplicant.conf</code>
	      állományon keresztül tudjuk
	      beállítani:</p><pre class="programlisting">network={
  ssid="freebsdap"
  proto=RSN
  key_mgmt=WPA-EAP
  eap=TTLS <a id="co-ttls-eap"></a><span><img src="./imagelib/callouts/1.png" alt="1" border="0" /></span>
  identity="test" <a id="co-ttls-id"></a><span><img src="./imagelib/callouts/2.png" alt="2" border="0" /></span>
  password="test" <a id="co-ttls-passwd"></a><span><img src="./imagelib/callouts/3.png" alt="3" border="0" /></span>
  ca_cert="/etc/certs/cacert.pem" <a id="co-ttls-cacert"></a><span><img src="./imagelib/callouts/4.png" alt="4" border="0" /></span>
  phase2="auth=MD5" <a id="co-ttls-pha2"></a><span><img src="./imagelib/callouts/5.png" alt="5" border="0" /></span>
}</pre><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#co-ttls-eap"><span><img src="./imagelib/callouts/1.png" alt="1" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Ebben a mezõben az EAP módszert
		  állítjuk be a kapcsolathoz.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-ttls-id"><span><img src="./imagelib/callouts/2.png" alt="2" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Az <code class="literal">identity</code> mezõ a
		  titkosított TLS tunnelen keresztül az EAP
		  hitelesítésnél felhasznált
		  azonosítót adja meg.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-ttls-passwd"><span><img src="./imagelib/callouts/3.png" alt="3" border="0" /></span></a> </p></td><td valign="top" align="left"><p>A <code class="literal">password</code> tartalmazza az EAP
		  hitelesítésnél használt
		  jelmondatot.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-ttls-cacert"><span><img src="./imagelib/callouts/4.png" alt="4" border="0" /></span></a> </p></td><td valign="top" align="left"><p>A <code class="literal">ca_cert</code> mezõ hivatkozik
		  a hitelesítõ hatóság
		  tanúsítványát
		  tartalmazó állományra.  Ez az
		  állomány kell a szerver
		  tanúsítványának
		  ellenõrzéséhez.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-ttls-pha2"><span><img src="./imagelib/callouts/5.png" alt="5" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Ebben a mezõben a titkosított TLS
		  tunnelben használt hitelesítési
		  módszer nevezzük meg.  Jelen
		  esetünkben ez az EAP MD5-Challenge
		  használatával.  A <span class="quote">"<span class="quote">belsõ
		  hitelesítés</span>"</span>
		  fázisát gyakran csak
		  <span class="quote">"<span class="quote">phase2</span>"</span>-nak (2.  fázisnak)
		  hívják.</p></td></tr></table></div><p>Mindezek mellett még a következõ
	      sorokat is vegyük fel az
	      <code class="filename">/etc/rc.conf</code>
	      állományba:</p><pre class="programlisting">wlans_ath0="wlan0"
ifconfig_wlan0="WPA DHCP"</pre><p>Ezután hozzuk mûködésbe a
	      felületet:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>/etc/rc.d/netif start</code></strong>
Starting wpa_supplicant.
DHCPREQUEST on wlan0 to 255.255.255.255 port 67
DHCPREQUEST on wlan0 to 255.255.255.255 port 67
DHCPREQUEST on wlan0 to 255.255.255.255 port 67
DHCPACK from 192.168.0.20
bound to 192.168.0.254 -- renewal in 300 seconds.
wlan0: flags=8843&lt;UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST&gt; mtu 1500
      ether 00:11:95:d5:43:62
      inet 192.168.0.254 netmask 0xffffff00 broadcast 192.168.0.255
      media: IEEE 802.11 Wireless Ethernet DS/11Mbps mode 11g
      status: associated
      ssid freebsdap channel 1 (2412 Mhz 11g) bssid 00:11:95:c3:0d:ac
      country US ecm authmode WPA2/802.11i privacy ON deftxkey UNDEF
      AES-CCM 3:128-bit txpower 21.5 bmiss 7 scanvalid 450 bgscan
      bgscanintvl 300 bgscanidle 250 roam:rssi 7 roam:rate 5 protmode CTS
      wme burst roaming MANUAL</pre></div><div class="sect5"><div xmlns="" class="titlepage"><div><div><h6 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="network-wireless-wpa-eap-peap"></a>31.3.3.1.3.4. WPA és EAP-PEAP</h6></div></div></div><p>A PEAP (Védett EAP) az EAP-TTLS egyik
	      alternatívájaként jött
	      létre.  A PEAP módszernek két
	      változata van, melyek közül a
	      leggyakoribb a PEAPv0/EAP-MSCHAPv2.  A
	      leírás további részében
	      a PEAP elnevezéssel erre az EAP módszerre
	      fogunk hivatkozni.  A PEAP az EAP-TLS után a
	      leginkább alkalmazott szabvány, más
	      szóval, ha a hálózatunkban
	      többféle operációs rendszer is
	      megtalálható, akkor az EAP-TLS után
	      valószínûleg a PEAP lesz a
	      másik, amit mindegyik ismerni fog.</p><p>A PEAP hasonló az EAP-TTLS-hez: szerver oldali
	      tanúsítványokkal hitelesíti a
	      klienseket és titkosított TLS tunnelt hoz
	      létre a kliens és a
	      hitelesítést végzõ szerver
	      között, amivel segíti megóvni a
	      hitelesítési információkat.
	      Biztonság szempontjából az EAP-TTLS
	      és a PEAP között az a
	      különbség, hogy a PEAP
	      hitelesítés a felhasználói
	      nevet titkosítatlanul küldi és csak a
	      jelszó megy át a titkosított TLS
	      tunnelen.  Az EAP-TTLS egyaránt a TLS tunnelt
	      használja mind a felhasználói
	      név, mind a jelszó esetében.</p><p>Az EAP-PEAP beállításait az
	      <code class="filename">/etc/wpa_supplicant.conf</code>
	      állományba kell felvenni:</p><pre class="programlisting">network={
  ssid="freebsdap"
  proto=RSN
  key_mgmt=WPA-EAP
  eap=PEAP <a id="co-peap-eap"></a><span><img src="./imagelib/callouts/1.png" alt="1" border="0" /></span>
  identity="test" <a id="co-peap-id"></a><span><img src="./imagelib/callouts/2.png" alt="2" border="0" /></span>
  password="test" <a id="co-peap-passwd"></a><span><img src="./imagelib/callouts/3.png" alt="3" border="0" /></span>
  ca_cert="/etc/certs/cacert.pem" <a id="co-peap-cacert"></a><span><img src="./imagelib/callouts/4.png" alt="4" border="0" /></span>
  phase1="peaplabel=0" <a id="co-peap-pha1"></a><span><img src="./imagelib/callouts/5.png" alt="5" border="0" /></span>
  phase2="auth=MSCHAPV2" <a id="co-peap-pha2"></a><span><img src="./imagelib/callouts/6.png" alt="6" border="0" /></span>
}</pre><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#co-peap-eap"><span><img src="./imagelib/callouts/1.png" alt="1" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Ebben a mezõben megadjuk, az EAP
		  módszert használjuk a
		  kapcsolathoz.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-peap-id"><span><img src="./imagelib/callouts/2.png" alt="2" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Az <code class="literal">identity</code> mezõ az EAP
		  hitelesítés során a
		  titkosított TLS tunnelben
		  átküldött azonosítót
		  tartalmazza.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-peap-passwd"><span><img src="./imagelib/callouts/3.png" alt="3" border="0" /></span></a> </p></td><td valign="top" align="left"><p>A <code class="literal">password</code> mezõ az EAP
		  hitelesítés során használt
		  jelmondatot definiálja.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-peap-cacert"><span><img src="./imagelib/callouts/4.png" alt="4" border="0" /></span></a> </p></td><td valign="top" align="left"><p>A <code class="literal">ca_cert</code> mezõ a
		  hitelesítõ hatóság
		  tanúsítványát
		  tartalmazó állomány
		  elérési útját adja meg.
		  Ez az állomány kell a szerver
		  tanúsítványának
		  ellenõrzéséhez.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-peap-pha1"><span><img src="./imagelib/callouts/5.png" alt="5" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Ez a mezõ a hitelesítés
		  elsõ fázisának (vagyis a TLS
		  tunnel) paramétereit tartalmazza.  A
		  hitelesítést végzõ
		  szervertõl függõen a
		  hitelesítéshez meg kell adnunk bizonyos
		  címkéket.  A legtöbb esetben a
		  címke a <span class="quote">"<span class="quote">kliens oldali EAP
		  titkosítás</span>"</span> lesz, amit a
		  <code class="literal">peaplabel=0</code>
		  használatával állítunk be.
		  A részleteket a <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=wpa_supplicant.conf&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">wpa_supplicant.conf</span>(5)</span></a> man
		  oldalon olvashatjuk.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-peap-pha2"><span><img src="./imagelib/callouts/6.png" alt="6" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Ebben a mezõben a titkosított TLS
		  tunnelben alkalmazott hitelesítést
		  protokollt nevezzük meg.  A PEAP esetében
		  ez az <code class="literal">auth=MSCHAPV2</code> lesz.</p></td></tr></table></div><p>A következõket kell még
	      hozzátennünk az
	      <code class="filename">/etc/rc.conf</code>
	      állományhoz:</p><pre class="programlisting">wlans_ath0="wlan0"
ifconfig_wlan0="WPA DHCP"</pre><p>Ezután már mûködésbe is
	      hozhatjuk a felületet:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>/etc/rc.d/netif start</code></strong>
Starting wpa_supplicant.
DHCPREQUEST on wlan0 to 255.255.255.255 port 67
DHCPREQUEST on wlan0 to 255.255.255.255 port 67
DHCPREQUEST on wlan0 to 255.255.255.255 port 67
DHCPACK from 192.168.0.20
bound to 192.168.0.254 -- renewal in 300 seconds.
wlan0: flags=8843&lt;UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST&gt; mtu 1500
      ether 00:11:95:d5:43:62
      inet 192.168.0.254 netmask 0xffffff00 broadcast 192.168.0.255
      media: IEEE 802.11 Wireless Ethernet DS/11Mbps mode 11g
      status: associated
      ssid freebsdap channel 1 (2412 Mhz 11g) bssid 00:11:95:c3:0d:ac
      country US ecm authmode WPA2/802.11i privacy ON deftxkey UNDEF
      AES-CCM 3:128-bit txpower 21.5 bmiss 7 scanvalid 450 bgscan
      bgscanintvl 300 bgscanidle 250 roam:rssi 7 roam:rate 5 protmode CTS
      wme burst roaming MANUAL</pre></div></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="network-wireless-wep"></a>31.3.3.1.4. WEP</h5></div></div></div><p>A WEP (Wired Equivalent Privacy, azaz kábellel
	    egyenértékû titkosság) az eredeti
	    802.11 szabvány része.  Nincs külön
	    hitelesítési mechanizmusa, csupán a
	    hozzáférés-vezérlés egy
	    gyenge formájával találkozhatunk benne,
	    amit azonban könnyen fel lehet törni.</p><p>A WEP <code class="command">ifconfig</code> parancs
	    használatán keresztül
	    állítható be:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ifconfig wlan0 create wlandev ath0</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>ifconfig wlan0 inet 192.168.1.100 netmask 255.255.255.0 \
	  ssid saját_hálózat wepmode on weptxkey 3 wepkey 3:0x3456789012</code></strong></pre><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>A <code class="literal">weptxkey</code> utal arra, hogy a
		küldés során WEP kulcsot
		használunk.  Itt most egy harmadik kulcsot
		használtunk, amelynek egyeznie kell a
		hozzáférési pont
		beállításaival.  Ha nem tudjuk
		pontosan, hogy milyen kulcsot használ a
		hozzáférési pont, akkor
		próbálkozzunk az <code class="literal">1</code>
		érték (vagyis az elsõ kulcs)
		megadásával.</p></li><li class="listitem"><p>A <code class="literal">wepkey</code> után
		következik a kiválasztott WEP kulcs.
		<em class="replaceable"><code>index:kulcs</code></em> alakban kell
		megadni, és ha itt nem adunk meg indexet, akkor
		azzal az <code class="literal">1</code> indexû kulcsot
		állítjuk be.  Úgyis
		fogalmazhatnánk, hogy az indexet csak olyankor
		kell megadni, amikor nem az elsõ kulcsot akarjuk
		használni.</p><div xmlns="" class="note"><h3 class="admontitle">Megjegyzés: </h3><p xmlns="http://www.w3.org/1999/xhtml">A <code class="literal">0x3456789012</code>
		  értéket a
		  hozzáférési pontnál
		  beállított kulcsra kell
		  beállítani.</p></div></li></ul></div><p>Ha érdekelnek minket a további
	    részletek, akkor bátran lapozzuk fel az
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ifconfig&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ifconfig</span>(8)</span></a> parancs man oldalát.</p><p>A <code class="command">wpa_supplicant</code>
	    segédprogramot is bevonhatjuk a vezeték
	    nélküli felületek WEP alapú
	    használatába.  A fenti példát a
	    következõ módon tudjuk leírni az
	    <code class="filename">/etc/wpa_supplicant.conf</code>
	    állományban:</p><pre class="programlisting">network={
  ssid="sajat_halozat"
  key_mgmt=NONE
  wep_key3=3456789012
  wep_tx_keyidx=3
}</pre><p>Majd:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>wpa_supplicant -i wlan0 -c /etc/wpa_supplicant.conf</code></strong>
Trying to associate with 00:13:46:49:41:76 (SSID='dlinkap' freq=2437 MHz)
Associated with 00:13:46:49:41:76</pre></div></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp99949264"></a>31.3.4. Az ad-hoc mûködési mód</h3></div></div></div><p>Az IBSS vagy más néven ad-hoc módot
	pont-pont típusú kapcsolatok
	kialakítására tervezték.
	Például, ha az <code class="systemitem">A</code> és a
	<code class="systemitem">B</code> gépek között egy ad-hoc
	típusú hálózatot akarunk
	létesíteni, akkor egyszerûen csak ki kell
	választanunk két IP-címet és egy
	SSID-t.</p><p>Így állítjuk be az <code class="systemitem">A</code>
	gépet:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ifconfig wlan0 create wlandev ath0 wlanmode adhoc</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>ifconfig wlan0 inet 192.168.0.1 netmask 255.255.255.0 ssid freebsdap</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>ifconfig wlan0</code></strong>
  wlan0: flags=8843&lt;UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST&gt; metric 0 mtu 1500
	  ether 00:11:95:c3:0d:ac
	  inet 192.168.0.1 netmask 0xffffff00 broadcast 192.168.0.255
	  media: IEEE 802.11 Wireless Ethernet autoselect mode 11g &lt;adhoc&gt;
	  status: running
	  ssid freebsdap channel 2 (2417 MHz) bssid 02:11:95:c3:0d:ac
	  country US ecm authmode OPEN privacy OFF txpower 21.5 scanvalid 60
	  protmode CTS wme burst</pre><p>Az <code class="literal">adhoc</code> paraméterrel utalunk
	arra, hogy a felület most IBSS módban
	mûködik.</p><p>A <code class="systemitem">B</code> gépen ezután már
	képesek vagyunk észlelni az <code class="systemitem">A</code>
	gépet:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ifconfig wlan0 create wlandev ath0 wlanmode adhoc</code></strong>
  SSID/MESH ID    BSSID              CHAN RATE  S:N     INT CAPS
  freebsdap       02:11:95:c3:0d:ac    2   54M -64:-96  100 IS   WME</pre><p>A kimenetben szereplõ <code class="literal">I</code> is
	megerõsíti, hogy az <code class="systemitem">A</code> gépet
	ad-hoc módban érjük el.  Így
	már csak a <code class="systemitem">B</code> gépet kell
	beállítanunk egy másik
	IP-címmel:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ifconfig wlan0 inet 192.168.0.2 netmask 255.255.255.0 ssid freebsdap</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>ifconfig wlan0</code></strong>
  wlan0: flags=8843&lt;UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST&gt; metric 0 mtu 1500
	  ether 00:11:95:d5:43:62
	  inet 192.168.0.2 netmask 0xffffff00 broadcast 192.168.0.255
	  media: IEEE 802.11 Wireless Ethernet autoselect mode 11g &lt;adhoc&gt;
	  status: running
	  ssid freebsdap channel 2 (2417 Mhz 11g) bssid 02:11:95:c3:0d:ac
	  country US ecm authmode OPEN privacy OFF txpower 21.5 scanvalid 60
	  protmode CTS wme burst</pre><p>Most már mind az <code class="systemitem">A</code> és
	    mind a <code class="systemitem">B</code> készen áll az adatok
	    cseréjére.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="network-wireless-ap"></a>31.3.5. FreeBSD alapú hozzáférési
	pontok</h3></div></div></div><p>A FreeBSD képes hozzáférési
	pontként (Access Point, AP) is üzemelni, így
	nem kell külön hardveres
	hozzáférési pontot
	vásárolnunk vagy ad-hoc hálózatot
	használnunk.  Ez különösen akkor hasznos,
	amikor a FreeBSD gépet egy másik
	hálózat (például az internet)
	felé állítottuk be
	átjárónak.</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="network-wireless-ap-basic"></a>31.3.5.1. Alapvetõ beállítások</h4></div></div></div><p>Mielõtt nekiállnánk a FreeBSD-s
	  gépünket hozzáférési pontnak
	  beállítani, egy olyan rendszermagra lesz
	  szükségünk, amely tartalmazza a
	  megfelelõ vezeték nélküli
	  támogatást a kártyánkhoz.
	  Emellett az alkalmazni kívánt biztonsági
	  protokollok támogatását is bele kell
	  építenünk.  Ennek részleteit
	  lásd a <a class="xref" href="network-wireless.html#network-wireless-basic" title="31.3.2. Kezdeti beállítások">31.3.2. szakasz - Kezdeti beállítások</a>ban.</p><div xmlns="" class="note"><h3 class="admontitle">Megjegyzés: </h3><p xmlns="http://www.w3.org/1999/xhtml">Jelenleg az NDIS meghajtón keresztül
	    használt <span class="trademark">Windows</span>(R)-os meghajtók nem teszik
	    lehetõvé hozzáférési pontok
	    kialakítását.  Egyedül a
	    vezeték nélküli eszközök
	    natív FreeBSD-s meghajtói ismerik a
	    hozzáférési pont módot.</p></div><p>Ahogy betöltöttük a vezeték
	  nélküli hálózatok
	  támogatását, egybõl ellenõrizni
	  is tudjuk, hogy a vezeték nélküli
	  eszközünk használható-e
	  hozzáférési pontként (avagy
	  <span class="quote">"<span class="quote">hostap</span>"</span> módban):</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ifconfig wlan0 create wlandev ath0</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>ifconfig wlan0 list caps</code></strong>
drivercaps=6f85edc1&lt;STA,FF,TURBOP,IBSS,HOSTAP,AHDEMO,TXPMGT,SHSLOT,SHPREAMBLE,MONITOR,MBSS,WPA1,WPA2,BURST,WME,WDS,BGSCAN,TXFRA&gt;
crytocaps=1f&lt;WEP,TKIP,AES,AES_CCM,TKIPMIC&gt;</pre><p>A fenti kimenetben láthatjuk a
	  kártyánk tulajdonságait.  A
	  <code class="literal">HOSTAP</code> szó arról
	  tanúskodik, hogy a vezeték nélküli
	  kártyánk képes
	  hozzáférési pontként viselkedni.
	  Mellette még a különféle
	  támogatott titkosítási módszerek
	  is láthatóak: WEP, TKIP, AES stb.  Ezekbõl
	  az információkból tudjuk
	  kideríteni, hogy a hozzáférési
	  pontunkon milyen titkosítási protokollokat
	  tudunk használni.</p><p>A vezeték nélküli eszközünket
	  innentõl már csak hozzáférési
	  pontnak állíthatjuk át a viruális
	  hálózati eszköz
	  létrehozásakor, ezért a korábban
	  létrehozott eszközt ehhez elõször meg
	  kell semmisítenünk:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ifconfig wlan0 destroy</code></strong></pre><p>Ezzel létrejön a megfelelõ
	  beállításokkal, majd ezekhez
	  állítjuk még be a többit:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ifconfig wlan0 create wlandev ath0 wlanmode hostap</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>ifconfig wlan0 inet 192.168.0.1 netmask 255.255.255.0 ssid freebsdap mode 11g channel 1</code></strong></pre><p>Az <code class="command">ifconfig</code> parancs ismételt
	  használatával le is tudjuk kérdezni az
	  <code class="filename">wlan0</code> felület
	  állapotát:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ifconfig wlan0</code></strong>
  wlan0: flags=8843&lt;UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST&gt; metric 0 mtu 1500
	  inet 192.168.0.1 netmask 0xffffff00 broadcast 192.168.0.255
	  inet6 fe80::211:95ff:fec3:dac%ath0 prefixlen 64 scopeid 0x4
	  ether 00:11:95:c3:0d:ac
	  media: IEEE 802.11 Wireless Ethernet autoselect mode 11g &lt;hostap&gt;
	  status: running
	  ssid freebsdap channel 1 (2412 Mhz) bssid 00:11:95:c3:0d:ac
	  country US ecm authmode OPEN privacy OFF txpower 21.5 scanvalid 60
	  protmode CTS wme burst dtimperiod 1 -dfs</pre><p>A <code class="literal">hostap</code> paraméterbõl
	  kiderül, hogy a felület
	  hozzáférési pont módban
	  van.</p><p>Ha az <code class="filename">/etc/rc.conf</code>
	  állományban megadjuk a következõ
	  sorokat, akkor a felület beállítása
	  a rendszer indításakor magától
	  megtörténik:</p><pre class="programlisting">wlans_ath0="wlan0"
create_args_wlan0="wlanmode hostap"
ifconfig_wlan0="inet <em class="replaceable"><code>192.168.0.1</code></em> netmask <em class="replaceable"><code>255.255.255.0</code></em> ssid <em class="replaceable"><code>freebsdap</code></em> mode 11g channel <em class="replaceable"><code>1</code></em>"</pre></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp99986896"></a>31.3.5.2. Hitelesítés vagy titkosítás
	  nélküli hozzáférési
	  pontok</h4></div></div></div><p>Habár a hozzáférési pontok
	  mûködtetése nem javasolt
	  hitelesítés vagy titkosítás
	  nélkül, ebben a módban könnyen meg
	  tudunk gyõzõdni a hozzáférési
	  pontunk használhatóságáról.
	  Ez a típusú konfiguráció
	  ezenkívül még fontos szerepet
	  játszik a klienseken felbukkanó hibák
	  kiszûrésében is.</p><p>Miután sikerült az elõbbiekben
	  bemutatottak alapján beállítani a
	  hozzáférési pontunkat, egy másik
	  vezeték nélküli géprõl
	  rögtön meg is kezdhetjük a
	  keresését:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ifconfig ath0 up scan</code></strong>
SSID/MESH ID    BSSID              CHAN RATE   S:N     INT CAPS
freebsdap       00:11:95:c3:0d:ac    1   54M -66:-96  100 ES   WME</pre><p>Láthatjuk, hogy a kliens megtalálta a
	  hozzáférési pontot és tudunk is
	  rá kapcsolódni:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ifconfig wlan0 inet 192.168.0.2 netmask 255.255.255.0 ssid freebsdap</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>ifconfig wlan0</code></strong>
  wlan0: flags=8843&lt;UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST&gt; metric 0 mtu 1500
	  inet 192.168.0.2 netmask 0xffffff00 broadcast 192.168.0.255
	  media: IEEE 802.11 Wireless Ethernet OFDM/54Mbps mode 11g
	  status: associated
	  ssid freebsdap channel 1 (2412 Mhz 11g) bssid 00:11:95:c3:0d:ac
	  country US ecm authmode OPEN privacy OFF txpower 21.5 bmiss 7
	  scanvalid 60 bgscan bgscanintvl 300 bgscanidle 250 roam:rssi 7
	  roam:rate 5 protmode CTS wme burst</pre></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp99995856"></a>31.3.5.3. WPA titkosítást használó
	  hozzáférési pontok</h4></div></div></div><p>Ebben a szakaszban a FreeBSD-s
	  hozzáférési pontunkat WPA
	  titkosítással állítjuk be.  A WPA
	  és a WPA alapú kliensek
	  beállításának részleteit a
	  <a class="xref" href="network-wireless.html#network-wireless-wpa" title="31.3.3.1.3. WPA">31.3.3.1.3. szakasz - WPA</a>ban
	  találjuk.</p><p>A WPA titkosítást használó
	  hozzáférési pontokon a
	  <span class="application">hostapd</span> démon foglalkozik a
	  kliensek hitelesítésével és a
	  kulcsok kezelésével.</p><p>A továbbiakban az összes
	  beállítást egy olyan FreeBSD-s gépen
	  végezzük el, amely
	  hozzáférési pontként
	  mûködik.  Ahogy sikerült
	  beállítanunk a hozzáférési
	  pont módot, az <code class="filename">/etc/rc.conf</code>
	  állományban a következõ sor
	  segítségével könnyen meg tudjuk
	  oldani, hogy az <span class="application">hostapd</span>
	  démon a rendszerrel együtt magától
	  elinduljon:</p><pre class="programlisting">hostapd_enable="YES"</pre><p>Mielõtt megpróbálnánk
	  beállítani a <span class="application">hostapd</span>
	  démont, ne felejtsük el elvégezni a <a class="xref" href="network-wireless.html#network-wireless-ap-basic" title="31.3.5.1. Alapvetõ beállítások">31.3.5.1. szakasz - Alapvetõ beállítások</a>ban említett
	  alapvetõ beállításokat sem.</p><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp100001104"></a>31.3.5.3.1. WPA-PSK</h5></div></div></div><p>A WPA-PSK használatát olyan kis
	    méretû hálózatok
	    számára szánják, ahol egy
	    külön hitelesítõ szervert
	    alkalmazása nem lehetséges vagy nem
	    kívánatos.</p><p>A konfiguráció az
	    <code class="filename">/etc/hostapd.conf</code>
	    állományon keresztül
	    történik:</p><pre class="programlisting">interface=wlan0 <a id="co-ap-wpapsk-iface"></a><span><img src="./imagelib/callouts/1.png" alt="1" border="0" /></span>
debug=1 <a id="co-ap-wpapsk-dbug"></a><span><img src="./imagelib/callouts/2.png" alt="2" border="0" /></span>
ctrl_interface=/var/run/hostapd <a id="co-ap-wpapsk-ciface"></a><span><img src="./imagelib/callouts/3.png" alt="3" border="0" /></span>
ctrl_interface_group=wheel <a id="co-ap-wpapsk-cifacegrp"></a><span><img src="./imagelib/callouts/4.png" alt="4" border="0" /></span>
ssid=freebsdap <a id="co-ap-wpapsk-ssid"></a><span><img src="./imagelib/callouts/5.png" alt="5" border="0" /></span>
wpa=1 <a id="co-ap-wpapsk-wpa"></a><span><img src="./imagelib/callouts/6.png" alt="6" border="0" /></span>
wpa_passphrase=freebsdmall <a id="co-ap-wpapsk-pass"></a><span><img src="./imagelib/callouts/7.png" alt="7" border="0" /></span>
wpa_key_mgmt=WPA-PSK <a id="co-ap-wpapsk-kmgmt"></a><span><img src="./imagelib/callouts/8.png" alt="8" border="0" /></span>
wpa_pairwise=CCMP TKIP <a id="co-ap-wpapsk-pwise"></a><span><img src="./imagelib/callouts/9.png" alt="9" border="0" /></span></pre><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#co-ap-wpapsk-iface"><span><img src="./imagelib/callouts/1.png" alt="1" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Ebben a mezõben jelöljük ki a
		hozzáférési pontként
		használt vezeték nélküli
		felületet.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-ap-wpapsk-dbug"><span><img src="./imagelib/callouts/2.png" alt="2" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Ebben a mezõben adjuk meg a
		<span class="application">hostapd</span> futtatása
		során keletkezõ üzenetek
		részletességét.  A
		példában szereplõ
		<code class="literal">1</code> érték ennek a
		legkisebb szintjét jelöli.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-ap-wpapsk-ciface"><span><img src="./imagelib/callouts/3.png" alt="3" border="0" /></span></a> </p></td><td valign="top" align="left"><p>A <code class="literal">ctrl_interface</code> mezõ
		megadja a <span class="application">hostapd</span>
		által használt könyvtár
		elérési útvonalát, amiben
		azokat a tartományokhoz tartozó socketeket
		tároljuk, amelyeken keresztül olyan
		programokkal tudunk kommunikálni, mint
		például a <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=hostapd_cli&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">hostapd_cli</span>(8)</span></a>.  Itt az
		alapértelmezett értéket
		írtuk be.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-ap-wpapsk-cifacegrp"><span><img src="./imagelib/callouts/4.png" alt="4" border="0" /></span></a> </p></td><td valign="top" align="left"><p>A <code class="literal">ctrl_interface_group</code> sor
		beállítja azt a csoportot (ez jelen
		esetben a <code class="systemitem">wheel</code>), amin
		keresztül a vezérlõfelület
		(control interface) állományaihoz
		hozzá tudunk férni.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-ap-wpapsk-ssid"><span><img src="./imagelib/callouts/5.png" alt="5" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Ebben a mezõben a hálózat
		nevét állítjuk be.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-ap-wpapsk-wpa"><span><img src="./imagelib/callouts/6.png" alt="6" border="0" /></span></a> </p></td><td valign="top" align="left"><p>A <code class="literal">wpa</code> mezõvel
		engedélyezzük a WPA
		használatát és megadjuk, hogy
		melyik WPA hitelesítési protokollt
		alkalmazzuk.  Az itt szereplõ <code class="literal">1</code>
		érték a WPA-PSK hitelesítés
		állítja be a
		hozzáférési pont
		számára.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-ap-wpapsk-pass"><span><img src="./imagelib/callouts/7.png" alt="7" border="0" /></span></a> </p></td><td valign="top" align="left"><p>A <code class="literal">wpa_passphrase</code> mezõ a WPA
		hitelesítéshez szükséges ASCII
		jelmondatot tartalmazza.</p><div xmlns="" class="warning"><h3 class="admontitle">Figyelem: </h3><p xmlns="http://www.w3.org/1999/xhtml">Lehetõleg mindig erõs jelszavakat
		  használjunk, amelyek kellõen
		  hosszúak és sokféle karaktert
		  tartalmaznak, így nehezebben fejthetõek
		  meg vagy törhetõek fel.</p></div></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-ap-wpapsk-kmgmt"><span><img src="./imagelib/callouts/8.png" alt="8" border="0" /></span></a> </p></td><td valign="top" align="left"><p>A <code class="literal">wpa_key_mgmt</code> sor a kulcsok
		kezelésére használt protokollt
		definiálja.  Ez a mi esetünk most a
		WPA-PSK.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-ap-wpapsk-pwise"><span><img src="./imagelib/callouts/9.png" alt="9" border="0" /></span></a> </p></td><td valign="top" align="left"><p>A <code class="literal">wpa_pairwise</code> mezõ a
		hozzáférési pont által
		elfogadott titkosítási algoritmusokat
		határozza meg.  A példában a TKIP
		(WPA) és CCMP (WPA2) titkosítást is
		támogatjuk.  A CCMP titkosítás a
		TKIP egyik alternatívája, és
		lehetõség szerint használjuk ezt.  A
		TKIP csak olyan állomások esetében
		javasolt, amelyek nem támogatják a CCMP
		használatát.</p></td></tr></table></div><p>A következõ lépés a
	    <span class="application">hostapd</span>
	    elindítása:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>/etc/rc.d/hostapd forcestart</code></strong></pre><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ifconfig wlan0</code></strong>
  wlan0: flags=8843&lt;UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST&gt; mtu 2290
	  inet 192.168.0.1 netmask 0xffffff00 broadcast 192.168.0.255
	  inet6 fe80::211:95ff:fec3:dac%ath0 prefixlen 64 scopeid 0x4
	  ether 00:11:95:c3:0d:ac
	  media: IEEE 802.11 Wireless Ethernet autoselect mode 11g &lt;hostap&gt;
	  status: associated
	  ssid freebsdap channel 1 bssid 00:11:95:c3:0d:ac
	  authmode WPA2/802.11i privacy MIXED deftxkey 2 TKIP 2:128-bit txpowmax 36 protmode CTS dtimperiod 1 bintval 100</pre><p>A hozzáférési pont mostantól
	  mûködik, innentõl a kliensek már
	  képesek csatlakozni hozzá, bõvebben
	  lásd a <a class="xref" href="network-wireless.html#network-wireless-wpa" title="31.3.3.1.3. WPA">31.3.3.1.3. szakasz - WPA</a>ban.  A
	  hozzáférési ponthoz tartozó
	  állomásokat az <code class="command">ifconfig
	  wlan0 list sta</code> paranccsal
	  tudjuk listázni.</p></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp100033872"></a>31.3.5.4. WEP titkosítást használó
	  hozzáférési pontok</h4></div></div></div><p>A WEP titkosítást nem javasoljuk a
	  hozzáférési pontok esetében, mivel
	  nem tartalmaz semmilyen hitelesítési
	  mechanizmust és könnyen feltörhetõ.
	  Egyes régebbi vezeték nélküli
	  kártyák azonban csak a WEP által
	  nyújtott védelmet ismerik, ezért az
	  ilyenek csak olyan hozzáférési pontokhoz
	  tudnak csatlakozni, amelyek vagy nem használnank
	  hitelesítést és
	  titkosítást, vagy erre a WEP protokollt
	  használják.</p><p>A vezeték nélküli eszközt
	  tegyük hozzáférési pont módba
	  és állítsuk be neki a megfelelõ
	  SSID-t és IP-címet:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ifconfig wlan0 create wlandev ath0 wlanmode hostap</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>ifconfig wlan0 inet 192.168.0.1 netmask 255.255.255.0 \
	ssid freebsdap wepmode on weptxkey 3 wepkey 3:0x3456789012 mode 11g</code></strong></pre><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>A <code class="literal">weptxkey</code>
	      beállítás után adjuk meg a
	      küldéshez használt WEP kulcsot.  Itt a
	      harmadik kulcsot adtuk meg (vegyük észre, hogy
	      a kulcsok számozása az <code class="literal">1</code>
	      értékkel kezdõdik).  Ez a
	      paramétert az adatok tényleges
	      titkosításához kell megadni.</p></li><li class="listitem"><p>A <code class="literal">wepkey</code> a kiválasztott WEP
	      kulcs beállítását jelöli,
	      aminek a formátuma
	      <em class="replaceable"><code>index:kulcs</code></em>.  Ha itt nem adunk
	      meg indexet, akkor automatikusan az elsõ kulcsot
	      állítjuk be.  Ezért talán
	      mondanunk sem kell, hogy az indexet csak akkor kell
	      megadni, ha nem az elsõ kulcsot akarjuk
	      használni.</p></li></ul></div><p>A <code class="filename">wlan0</code> felület
	  állapotának megtekintéséhez adjuk
	  ki megint az <code class="command">ifconfig</code> parancsot:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ifconfig wlan0</code></strong>
  ath0: flags=8843&lt;UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST&gt; mtu 1500
	  inet 192.168.0.1 netmask 0xffffff00 broadcast 192.168.0.255
	  ether 00:11:95:c3:0d:ac
	  media: IEEE 802.11 Wireless Ethernet autoselect mode 11g &lt;hostap&gt;
	  status: running
	  ssid freebsdap channel 4 (2427 Mhz) bssid 00:11:95:c3:0d:ac
	  country US ecm authmode OPEN privacy ON deftxkey 3 wepkey 3:40-bit
	  txpower 21.5 scanvalid 60 protmode CTS wme burst dtimperiod 1 -dfs</pre><p>Egy másik vezeték nélküli
	  géprõl most már
	  megpróbálhatjuk megkeresni a
	  hozzáférési pontot:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ifconfig wlan0 create wlandev ath0</code></strong>
SSID            BSSID              CHAN RATE  S:N   INT CAPS
freebsdap       00:11:95:c3:0d:ac    1   54M 22:1   100 EPS</pre><p>Láthatjuk, hogy a kliens megtalálta a
	  hozzáférési pontot, és a
	  megfelelõ paraméterekkel (kulcs stb.) képes
	  kapcsolódni hozzá a <a class="xref" href="network-wireless.html#network-wireless-wep" title="31.3.3.1.4. WEP">31.3.3.1.4. szakasz - WEP</a>ban leírtak
	  szerint.</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp100045392"></a>31.3.6. A vezetékes és vezeték
	nélküli hálózatok együttes
	használata</h3></div></div></div><p>A vezetékes hálózatok
	általában jobb teljesítményt
	nyújtanak és megbízhatóbbak,
	miközben a vezeték nélküli
	hálózatok pedig nagyobb rugalmasságot
	és mozgásteret szolgáltatnak.  Ezért
	a hordozható számítógépek
	tulajdonosaiban felmerülhet az igény, hogy egyszerre
	mind a kettõt használva, tetszõlegesen
	és problémamentesen válthassanak a
	hálózatok között.</p><p>FreeBSD rendszereken ún.
	<span class="quote">"<span class="quote">hibatûrõ</span>"</span> módon két vagy
	akár több hálózati interfészt
	össze tudunk vonni.  Ennek köszönhetõen az
	aktív hálózati kapcsolat
	megszünésekor rendszerünk
	önállóan igyekszik mindig a fennmaradó
	elérhetõ hálózatok közül a
	leginkább preferáltabbra váltani.</p><p>A hálózati összeköttetések
	összefûzésével és a
	hibatûrés konkrét
	megvalósításával az <a class="xref" href="network-aggregation.html" title="31.6. Linkek összefûzése és hibatûrése">31.6. szakasz - Linkek összefûzése és
      hibatûrése</a>ban foglalkozunk, ahol a <a class="xref" href="network-aggregation.html#networking-lagg-wired-and-wireless" title="31.3. példa - Hibatûrés beállítása vezetékes és vezeték nélküli hálózatok között">31.3. példa - Hibatûrés beállítása
	  vezetékes és vezeték nélküli
	  hálózatok között</a>ban
	láthatjuk is a vezetékes és vezeték
	nélküli kapcsolatok együttes
	használatának
	beállítását.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp100048464"></a>31.3.7. Hibaelhárítás</h3></div></div></div><p>Ha valamilyen gondunk lenne a vezeték
	nélküli hálózatok
	használatával, akad néhány
	lépés, amivel esetleg fel tudjuk deríteni a
	hiba okát.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Ha nem látjuk a hozzáférési
	    pontot a pásztázás után,
	    ellenõrizzük, hogy a vezeték
	    nélküli eszközt véletlenül nem
	    korlátoztuk-e le bizonyos csatornákra.</p></li><li class="listitem"><p>Ha nem tudunk csatlakozni a
	    hozzáférési ponthoz, akkor
	    egyeztessük vele az állomás egyes
	    paramétereit, beleértve a
	    hitelesítési sémát és a
	    biztonsági protokollokat.  Minél jobban
	    egyszerûsítsük le a
	    konfigurációkat.  Ha WPA vagy WEP
	    titkosítást használunk, akkor a
	    hozzáférési ponton
	    állítsunk be nyílt
	    hitelesítést és kapcsoljuk ki a
	    titkosítást, majd nézzük meg, hogy
	    így eljut-e hozzánk valamilyen
	    forgalom.</p></li><li class="listitem"><p>Ahogy sikerült csatlakozunk a
	    hozzáférési ponthoz, a
	    biztonsági beállításokat olyan
	    egyszerû eszközökkel próbáljuk
	    meg diagnosztizálni, mint például a
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ping&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ping</span>(8)</span></a>.</p><p>A <code class="command">wpa_supplicant</code>
	    segédprogrammal tudunk nyomkövetést
	    végezni.  A <code class="option">-dd</code> opció
	    megadásával indítsuk el
	    manuálisan és ellenõrizzük a
	    rendszernaplókat.</p></li><li class="listitem"><p>Vannak alacsonyabb szintû nyomkövetési
	    lehetõségek is.  A 802.11 protokollt
	    támogató rétegben is tudunk
	    engedélyezni nyomkövetési üzeneteket
	    a <code class="filename">/usr/src/tools/tools/net80211</code>
	    könyvtárban található
	    <code class="command">wlandebug</code> program
	    segítségével.  Például
	    a</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>wlandebug -i ath0 +scan+auth+debug+assoc</code></strong>
  net.wlan.0.debug: 0 =&gt; 0xc80000&lt;assoc,auth,scan&gt;</pre><p>paranccsal a hozzáférési pontok
	    kereséséhez és a 802.11 protokollon
	    belül a kapcsolat megszervezéséhez
	    szükséges kézfogásokhoz
	    kapcsolódó konzolüzeneteket tudjuk
	    engedélyezni.</p><p>A 802.11 rétegben rengeteg hasznos
	    statisztikát találhatunk.  Mindezeket a
	    <code class="command">wlanstats</code> eszközzel tudjuk
	    kiíratni.  Ezeknek a statisztikáknak a 802.11
	    réteg összes hibáját be kell
	    tudniuk azonosítaniuk.  Vigyázzunk azonban,
	    mert az eszközmeghajtókban a 802.11 réteg
	    alatt rejlõ bizonyos hibák ilyenkor nem jelennek
	    meg.  Az eszközfüggõ problémák
	    felderítésével kapcsolatban a
	    megfelelõ meghajtó
	    dokumentációját olvassuk
	    át.</p></li></ul></div><p>Amennyiben a fenti tanácsok mentén sem
	sikerül orvosolnunk a hibát okát,
	küldjünk egy hibajelentést és
	mellékeljük hozzá a fentebb tárgyalt
	eszközök által gyártott
	kimeneteket.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="network-routing.html">Vissza</a> </td><td width="20%" align="center"><a accesskey="u" href="advanced-networking.html">Fel</a></td><td width="40%" align="right"> <a accesskey="n" href="network-bluetooth.html">Elõre</a></td></tr><tr><td width="40%" align="left" valign="top">31.2. Átjárók és az
      útválasztás </td><td width="20%" align="center"><a accesskey="h" href="index.html">Fõoldal</a></td><td width="40%" align="right" valign="top"> 31.4. Bluetooth</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Ha kérdése van a FreeBSD-vel kapcsolatban, a
    következõ címre írhat (angolul):
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Ha ezzel a dokumentummal kapcsolatban van kérdése, kérjük erre a címre írjon:
    &lt;<a href="mailto:gabor@FreeBSD.org">gabor@FreeBSD.org</a>&gt;.</small></p></body></html>