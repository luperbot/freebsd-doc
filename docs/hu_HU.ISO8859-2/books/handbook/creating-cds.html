<?xml version="1.0" encoding="iso-8859-2" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-2" /><title>18.6. Lézeres tárolóeszközök (CD-k) létrehozása és használata</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD kézikönyv" /><link rel="up" href="disks.html" title="18. fejezet - Háttértárak" /><link rel="prev" href="usb-disks.html" title="18.5. USB tárolóeszközök" /><link rel="next" href="creating-dvds.html" title="18.7. Lézeres tárolóeszközök (DVD-k) létrehozása és használata" /><link rel="copyright" href="legalnotice.html" title="Jogi közlemény" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">18.6. Lézeres tárolóeszközök (CD-k)
      létrehozása és használata</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="usb-disks.html">Vissza</a> </td><th width="60%" align="center">18. fejezet - Háttértárak</th><td width="20%" align="right"> <a accesskey="n" href="creating-dvds.html">Elõre</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="creating-cds"></a>18.6. Lézeres tárolóeszközök (CD-k)
      létrehozása és használata</h2></div><div><span class="authorgroup">Írta: <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="surname">Meyer</span>, <span class="firstname">Mike</span></span>. </span></div></div></div><a id="idp89936208" class="indexterm"></a><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp89937360"></a>18.6.1. Bevezetés</h3></div></div></div><p>A CD-k számos lehetõségünkben
	eltérnek a hagyományos lemezektõl.  Kezdetben
	a felhasználók nem is voltak képesek
	írni ezeket.  Olyannak tervezték, hogy a fejek
	sávok közti mozgásából
	fakadó késleltetés nélkül
	lehessen folyamatosan olvasni.  A
	szállítása a maga idejében sokkal
	könnyebb volt minden vele egyforma méretû
	eszköznél.</p><p>A CD-ken is találhatunk sávokat, azonban ez
	csak a folyamatosan olvasható adat egy szakaszát
	jelenti, nem pedig a lemez fizikai tulajdonságát.
	Ha FreeBSD-n akarunk CD-t készíteni, akkor ehhez
	elõször össze kell állítanunk a CD
	egyes sávjaira kerülõ adatokat és
	ezután rögzíteni ezeket a sávokat a
	CD-n.</p><a id="idp89938768" class="indexterm"></a><a id="idp89939280" class="indexterm"></a><p>Az ISO 9660 állományrendszert úgy
	tervezték, hogy megbirkózzon ezekkel az
	eltérésekkel.  Sajnos ezzel együtt kõbe
	vésték az állományrendszerek
	akkoriban érvényes korlátozásait is.
	Szerencsére lehetõséget ad
	bõvítésre, ezáltal a helyesen
	megírt CD-k képesek úgy
	átlépni ezeket a határokat, hogy
	közben az általuk alkalmazott
	kiterjesztéseket nem ismerõ rendszerekkel is
	együtt tudnak mûködni.</p><a id="idp89949136" class="indexterm"></a><p>A <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/sysutils/cdrtools/pkg-descr">sysutils/cdrtools</a> port
	tartalmaz egy <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mkisofs&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mkisofs</span>(8)</span></a> nevû programot, amellyel
	létre tudunk hozni ISO 9660 típusú
	állományrendszert tartalmazó
	adatállományt.  Többféle
	kiterjesztést is ismer, amit majd a lentebb ismertett
	opciókkal érhetünk el.</p><a id="idp89951440" class="indexterm"></a><p>A CD írásához használt
	konkrét segédeszköz attól függ,
	hogy ATAPI vagy esetleg másmilyen írónk
	van.  Az ATAPI CD-írók az alaprendszer
	részeként elérhetõ <code class="command">burncd</code> programon
	keresztül használhatóak.  A SCSI és
	USB CD-írók esetén pedig a <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/sysutils/cdrtools/pkg-descr">sysutils/cdrtools</a> portban
	megtalálható <code class="command">cdrecord</code> programot
	használhatjuk.  Az <a class="link" href="creating-cds.html#atapicam" title="18.6.9. Az ATAPI/CAM meghajtó használata">ATAPI/CAM
	modul</a> segítségével a <code class="command">cdrecord</code> és
	más SCSI-írókra készült
	programokat is tudunk használni ATAPI hardvereken.</p><p>Ha a CD-író szoftverünket grafikus
	felhasználói felületen keresztül
	szeretnénk használni, akkor az
	<span class="application">X-CD-Roast</span> vagy a
	<span class="application">K3b</span> alkalmazásokat
	érdemes szemügyre vennünk.  Ezek az
	eszközök elérhetõek csomagként vagy
	a <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/sysutils/xcdroast/pkg-descr">sysutils/xcdroast</a>
	és <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/sysutils/k3b/pkg-descr">sysutils/k3b</a>
	portokból.  ATAPI hardver esetén az
	<span class="application">X-CD-Roast</span> és a
	<span class="application">K3b</span> alkalmazások
	használatához szükségünk lesz az
	<a class="link" href="creating-cds.html#atapicam" title="18.6.9. Az ATAPI/CAM meghajtó használata">ATAPI/CAM modul</a>ra.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="mkisofs"></a>18.6.2. mkisofs</h3></div></div></div><p>A <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/sysutils/cdrtools/pkg-descr">sysutils/cdrtools</a> port
	részeként elérhetõ <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mkisofs&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mkisofs</span>(8)</span></a>
	program képes a <span class="trademark">UNIX</span>(R) típusú
	állományrendszer könyvtárszerkezete
	alapján egy ISO 9660 típusú
	állományrendszert tartalmazó image-et
	készíteni.  Legegyszerûbb módon
	így használhatjuk:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mkisofs -o image.iso /az/elérési/út</code></strong></pre><a id="idp89962320" class="indexterm"></a><p>Ezzel a paranccsal egy olyan
	<em class="replaceable"><code>image.iso</code></em> nevû
	állományt hozunk létre, amely
	<em class="replaceable"><code>/az/elérési/út</code></em>
	által megadott helyen található
	könyvtárszerkezetet mintázza ISO 9660
	állományrendszer formájában.  A
	folyamat során minden olyan állományt
	leképez szabványos ISO 9660
	állományrendszerbeli névre, amely megfelel
	a szabvány elvárásainak, és kihagy
	minden olyan állományt, amely nem jellemzõ az
	ISO állományrendszerekre.</p><a id="idp89964624" class="indexterm"></a><a id="idp89965904" class="indexterm"></a><p>Számos opció lehet
	segítségünkre az ilyenkor felbukkanó
	akadályok leküzdésében.  Ezek
	közül különösen fontos az
	<code class="option">-R</code>, amely a <span class="trademark">UNIX</span>(R) rendszerek
	számára megszokott Rock Ridge
	kiterjesztéseket, valamint a <code class="option">-J</code>, amely a
	Microsoft rendszerekben használt Joliet
	kiterjesztéseit, és végül a
	<code class="option">-hfs</code>, amely a <span class="trademark">Mac OS</span>(R) alatt létrehozott
	HFS állományrendszerek kiterjesztéseit
	engedélyezi.</p><p>A kizárólag csak FreeBSD rendszereken
	használt CD-k esetében a <code class="option">-U</code>
	megadásával kapcsolhatjuk ki az
	állománynevek mindenféle
	korlátozását.  Az <code class="option">-R</code>
	beállítás használatával olyan
	állományrendszer képét hozzuk
	létre, amely teljesen megegyezik a parancsban megadott
	könyvtárból induló fa
	tartalmával, habár több módon is
	sérti az ISO 9660 szabvány
	elõírásait.</p><a id="idp89970768" class="indexterm"></a><p>Az utolsó általános jelleggel
	használható beállítás a
	<code class="option">-b</code>.  Ezzel lehet megadni az <span class="quote">"<span class="quote">El
	Torito</span>"</span> szabványnak megfelelõ
	rendszerindító CD
	készítéséhez szükséges
	rendszerindító image
	elérését.  Ennél a
	beállításnál tehát meg kell
	adni a rendszerindításhoz használt lemez
	image-ét, amely a CD tartalmát magában
	foglaló könyvtárszerkezetben
	található valahol.  A <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mkisofs&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mkisofs</span>(8)</span></a>
	alapértelmezés szerint egy ún.
	<span class="quote">"<span class="quote">floppy emulációs</span>"</span> módban
	hozza létre az ISO image-et, ezért a
	rendszerindításhoz használatos lemez
	image-ének pontosan 1200, 1440 vagy 2880 KB
	méretûnek kell lennie.  Egyes
	rendszerbetöltõk, mint amilyen például a
	FreeBSD terjesztéséhez használt lemezeken
	található, nem használják ezt az
	emulációt.  Ilyen helyzetekben a
	<code class="option">-no-emul-boot</code> kapcsolót kell megadni.
	Tehát ha a
	<code class="filename">/tmp/sajátboot</code>
	könyvtárban van egy indítható FreeBSD
	rendszerünk, amelyben a
	<code class="filename">/tmp/sajátboot/boot/cdboot</code>
	a rendszerindító lemez image-e, akkor egy
	<code class="filename">/tmp/indítható.iso</code>
	nevû ISO 9660 formátumú
	állományrendszert tartalmazó image-et
	például így tudunk
	elkészíteni:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mkisofs -R -no-emul-boot -b boot/cdboot -o /tmp/indítható.iso /tmp/sajátboot</code></strong></pre><p>Miután ezt megtettük, és a
	rendszermagunkban benne van az <code class="filename">md</code>
	eszköz támogatása, csatlakoztathatjuk is az
	állományrendszert:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mdconfig -a -t vnode -f /tmp/indítható.iso -u 0</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>mount -t cd9660 /dev/md0 /mnt</code></strong></pre><p>Ezután már össze tudjuk vetni az
	<code class="filename">/mnt</code> és
	<code class="filename">/tmp/sajátboot</code>
	könyvtárak egyezõségét.</p><p>A <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mkisofs&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mkisofs</span>(8)</span></a> viselkedését több
	más opcióval tudjuk finomhangolni, mint
	például az ISO 9660 kiosztás
	módosítása vagy a Joliet és HFS
	lemezek készítése.  A <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mkisofs&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mkisofs</span>(8)</span></a> man
	oldalon mindezekrõl bõvebben olvashatunk.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="burncd"></a>18.6.3. burncd</h3></div></div></div><a id="idp89992016" class="indexterm"></a><p>Ha ATAPI CD-írónk van, akkor a
	<code class="command">burncd</code> paranccsal írhatjuk az ISO
	image-et a lemezre.  A <code class="command">burncd</code> az alaprendszer
	része, és <code class="filename">/usr/sbin/burncd</code>
	néven érhetõ el.  A használata igen
	egyszerû, csupán pár paramétere
	van:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>burncd -f eszköz data image.iso fixate</code></strong></pre><p>Ezzel a paranccsal rámásoljuk az
	<em class="replaceable"><code>image.iso</code></em> állományt az
	<em class="replaceable"><code>eszköz</code></em> eszközre.  Az
	alapértelmezett eszköz a
	<code class="filename">/dev/acd0</code>.  A <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=burncd&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">burncd</span>(8)</span></a> man
	oldalán találjuk meg az írási
	sebességgel, a CD írás utáni
	kiadásával és az audio lemezek
	írásával kapcsolatos
	beállításokat.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="cdrecord"></a>18.6.4. cdrecord</h3></div></div></div><p>Ha nincs ATAPI CD-írónk, akkor az
	íráshoz a <code class="command">cdrecord</code> parancsot
	kell használnunk.  A <code class="command">cdrecord</code> nem az
	alaprendszer része: vagy a <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/sysutils/cdrtools/pkg-descr">sysutils/cdrtools</a> portból vagy
	a neki megfelelõ csomagból kell
	telepítenünk.  Az alaprendszerben
	végbemenõ változások miatt a program
	bináris változatai hibázhatnak, aminek
	következtében csak
	<span class="quote">"<span class="quote">poháralátéteket</span>"</span> fogunk tudni
	gyártani.  Ezért a rendszerrel együtt
	érdemes frissíteni ezt a portot is.  Vagy ha a
	<a class="link" href="current-stable.html#stable" title="24.5.2. A FreeBSD stabil változatának használata">-STABLE verziót
	használjuk</a>, akkor mindig érdemes a port
	elérhetõ legújabb verziójára
	frissíteni.</p><p>Miközben a <code class="command">cdrecord</code> számos
	paraméterrel rendelkezik, az alapvetõ
	használata mégis egyszerûbb a
	<code class="command">burncd</code> parancsénál.  Egy ISO
	9660 formátumú image-et ugyanis a
	következõ módon tudunk felírni
	lemezre:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cdrecord dev=eszköz image.iso</code></strong></pre><p>A <code class="command">cdrecord</code> használatának
	trükkös része a megfelelõ eszköz
	megtalálása, tehát a <code class="option">dev</code>
	beállítás helyes megadása.  Ehhez
	használjuk a <code class="command">cdrecord</code>
	<code class="option">-scanbus</code> paraméterét, amely az
	alábbihoz hasonló eredményt fog
	produkálni:</p><a id="idp90005328" class="indexterm"></a><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cdrecord -scanbus</code></strong>
Cdrecord-Clone 2.01 (i386-unknown-freebsd7.0) Copyright (C) 1995-2004 Jörg Schilling
Using libscg version 'schily-0.1'
scsibus0:
        0,0,0     0) 'SEAGATE ' 'ST39236LW       ' '0004' Disk
        0,1,0     1) 'SEAGATE ' 'ST39173W        ' '5958' Disk
        0,2,0     2) *
        0,3,0     3) 'iomega  ' 'jaz 1GB         ' 'J.86' Removable Disk
        0,4,0     4) 'NEC     ' 'CD-ROM DRIVE:466' '1.26' Removable CD-ROM
        0,5,0     5) *
        0,6,0     6) *
        0,7,0     7) *
scsibus1:
        1,0,0   100) *
        1,1,0   101) *
        1,2,0   102) *
        1,3,0   103) *
        1,4,0   104) *
        1,5,0   105) 'YAMAHA  ' 'CRW4260         ' '1.0q' Removable CD-ROM
        1,6,0   106) 'ARTEC   ' 'AM12S           ' '1.06' Scanner
        1,7,0   107) *</pre><p>Itt felsorolásra kerülnek a <code class="option">dev</code>
	beállítás értékeként
	felhasználható eszközök.  Keressük
	meg köztük a CD írónkat és a
	<code class="option">dev</code> értékének a
	három vesszõvel elválasztott számot
	adjuk meg.  Ebben az esetben a CD-író eszköz
	most az 1,5,0 lesz, tehát itt a helyes
	paraméterezés <code class="option">dev=1,5,0</code>.  Ezt az
	értékét könnyebben is meg lehet adni.
	Ennek részleteirõl a <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=cdrecord&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">cdrecord</span>(1)</span></a> man
	oldalán olvashatunk.  Abban az esetben is érdemes
	fellapoznunk, ha az audio sávok
	írásáról, az írási
	sebesség korlátozásáról vagy
	más hasonló dolgokról akarunk
	olvasni.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="duplicating-audiocds"></a>18.6.5. Audio CD-k másolása</h3></div></div></div><p>Audio CD-t úgy tudunk másolni, ha
	elõször állományok sorozatába
	mentjük a lemez tartalmát, majd ezeket az
	állományokat egy üres CD-re írjuk.
	Ennek konkrét folyamata azonban némileg
	eltér az ATAPI- és SCSI-meghajtók
	használata során.</p><div class="procedure"><a id="idp90011344"></a><div class="procedure-title">Eljárás 18.1. SCSI-meghajtók esetén</div><ol class="procedure" type="1"><li class="step"><p>A <code class="command">cdda2wav</code> programmal mentsük le
	    a lemez tartalmát.</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>cdda2wav -vall -D2,0 -B -Owav</code></strong></pre></li><li class="step"><p>A <code class="command">cdrecord</code> paranccsal írjuk
	    fel a <code class="filename">.wav</code> kiterjesztésû
	    állományokat.</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>cdrecord -v dev=2,0 -dao -useinfo  *.wav</code></strong></pre><p>Gondoskodjunk róla, hogy a
	    <em class="replaceable"><code>2,0</code></em> értéket a <a class="xref" href="creating-cds.html#cdrecord" title="18.6.4. cdrecord">18.6.4. szakasz - cdrecord</a>nak megfelelõen helyesen
	    állítottuk be.</p></li></ol></div><div class="procedure"><a id="idp90021968"></a><div class="procedure-title">Eljárás 18.2. ATAPI-meghajtók esetén</div><div xmlns="" class="note"><h3 class="admontitle">Megjegyzés: </h3><p xmlns="http://www.w3.org/1999/xhtml">Az <a class="link" href="creating-cds.html#atapicam" title="18.6.9. Az ATAPI/CAM meghajtó használata">ATAPI/CAM modul</a>
	    segítségével a
	    <code class="command">cdda2wav</code> parancs ATAPI
	    meghajtókkal is használható.  Ez a
	    megoldás általában kedvezõbb (a
	    hibák és bytesorrend ügyesebb
	    kezelése, stb.) a legtöbb
	    felhasználó számára, mint az itt
	    ismertetett.</p></div><ol class="procedure" type="1"><li class="step"><p>Az ATAPI CD meghajtója az egyes sávokat
	  <code class="filename">/dev/acddtnn
	    </code> néven teszi
	    elérhetõvé, ahol a
	    <em class="replaceable"><code>d</code></em> a meghajtó
	    sorszáma, a <em class="replaceable"><code>nn</code></em> a
	    sáv két számjeggyel kiírt
	    sorszáma, amelyet szükség szerint
	    balról nullával egészítenek ki.
	    Így tehát az elsõ meghajtó
	    elsõ sávja a <code class="filename">/dev/acd0t01</code>,
	    a második a <code class="filename">/dev/acd0t02</code>, a
	    harmadik a <code class="filename">/dev/acd0t03</code> és
	    így tovább.</p><p>Ellenõrizzük, hogy ezek az eszközök
	    jelen vannak a <code class="filename">/dev</code>
	    könyvtárban.  Amennyiben
	    hiányoznának, kényszerítsük
	    ki a lemez újbóli
	    beolvasását:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>dd if=/dev/acd0 of=/dev/null count=1</code></strong></pre></li><li class="step"><p>Szedjük le az egyes sávokat a <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dd&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">dd</span>(1)</span></a>
	    használatával.  A parancs kiadásakor
	    meg kell adnunk egy blokkméretet is:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>dd if=/dev/acd0t01 of=track1.cdr bs=2352</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>dd if=/dev/acd0t02 of=track2.cdr bs=2352</code></strong>
...
</pre></li><li class="step"><p>A <code class="command">burncd</code> használatával
	    írjuk fel a lemezre az imént lementett
	    állományokat.  Meg kell adnunk, hogy ezek
	    audio állományok, és hogy a
	    <code class="command">burncd</code> a munka befejeztével
	    zárja le (fixate) a lemezt.</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>burncd -f /dev/acd0 audio track1.cdr track2.cdr ... fixate</code></strong></pre></li></ol></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="imaging-cd"></a>18.6.6. Adat CD-k másolása</h3></div></div></div><p>Az adatot tartalmazó CD-ket le tudjuk másolni
	egy olyan image-be, amely funkcionálisan megegyezik egy
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mkisofs&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mkisofs</span>(8)</span></a> által létrehozott image-dzsel
	és amivel le tudunk másolni bármilyen adat
	CD-t.  Az itt megadott példa azt feltételezi, hogy
	a CD-meghajtónk neve <code class="filename">acd0</code>.
	Helyére a saját CD-meghajtónk nevét
	kell behelyettesíteni.</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>dd if=/dev/acd0 of=állomány.iso bs=2048</code></strong></pre><p>Most miután lementettük az image-et,
	írjuk fel CD-re a fentiek szerint.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="mounting-cd"></a>18.6.7. Adat CD-k használata</h3></div></div></div><p>Most, hogy már készítettünk egy
	szabványos adat CD-t, valószínûleg
	szeretnénk is valamilyen csatlakoztatni és
	elérni a rajta levõ adatokat.
	Alapértelmezés szerint a <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mount&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mount</span>(8)</span></a> mindig azt
	feltételezi, hogy az állományrendszerek
	<code class="literal">ufs</code> típusúak.  Ezért ha
	valami ilyesmivel próbálkozunk:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mount /dev/cd0 /mnt</code></strong></pre><p>akkor egy <span class="errorname">Incorrect super block</span>
	szövegû hibaüzenetet lesz a jutalmunk, és
	természetesen nem tudjuk csatlakoztatni a CD-t.  Mivel a
	CD nem <code class="literal">UFS</code> állományrendszert
	tartalmaz, ezért az ilyen jellegû
	kísérleteink mind kudarcba fognak fulladni.
	Valahogy fel kell világosítanunk a <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mount&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mount</span>(8)</span></a>
	parancsot arról, hogy itt most egy
	<code class="literal">ISO9660</code> típusú
	állományrendszert akarunk csatlakoztatni,
	és akkor minden a helyére kerül.  Ezt
	úgy tudjuk megtenni, ha a <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mount&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mount</span>(8)</span></a> parancsnak
	megadjuk a <code class="option">-t cd9660</code> paramétert.
	Például, ha a <code class="filename">/dev/acd0</code>
	néven elérhetõ CD-meghajtóban
	levõ lemezt akarjuk a <code class="filename">/mnt</code>
	könyvtárba csatlakoztatni, akkor ezt kell
	begépelnünk:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mount -t cd9660 /dev/cd0 /mnt</code></strong></pre><p>Vegyük észre, hogy az eszköz neve (ez ebben
	a példában most <code class="filename">/dev/cd0</code>)
	lehet más is attól függõen, hogy milyen
	csatolófelületet használ a
	CD-meghajtónk.  Sõt, a <code class="option">-t cd9660</code>
	valójában csak a <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mount_cd9660&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mount_cd9660</span>(8)</span></a> parancsot
	indítja el.  Ennek tükrében tehát az
	elõbbi példát így
	rövidíthetjük le:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mount_cd9660 /dev/cd0 /mnt</code></strong></pre><p>Ezen a módon bármilyen
	gyártmányú adat CD-t képesek vagyunk
	csatlakoztatni.  Egyes ISO 9660 kiterjesztéseket
	használó lemezek azonban esetleg furcsán
	mûködhetnek.  Például Joliet lemezek az
	összes állomány nevét
	kétbyte-os Unicode karakterben tárolják.  A
	FreeBSD rendszermagja ugyan nem beszéli a Unicode-ot, de a
	FreeBSD CD9660 meghajtója képes menetközben
	átkonvertálni a Unicode karaktereket.  Ha bizonyos
	nem angol karakterek kérdõjelekként
	jelennének meg, akkor a <code class="option">-C</code>
	beállítás használatával
	még egy helyi kódlapot is meg kell adnunk.  Ezzel
	kapcsolatban bõvebb
	tájékoztatásért forduljunk a
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mount_cd9660&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mount_cd9660</span>(8)</span></a> man oldalhoz.</p><div xmlns="" class="note"><h3 class="admontitle">Megjegyzés: </h3><p xmlns="http://www.w3.org/1999/xhtml">A <code class="option">-C</code> beállítás
	  segítségével csak akkor lesz képes
	  a rendszermag elvégezni ezt az
	  átalakítást, ha elõtte
	  betöltjük a <code class="filename">cd9660_iconv.ko</code>
	  modult.  Ezt megtehetjük úgy, hogy ha
	  felvesszük a következõ sort a
	  <code class="filename">loader.conf</code>
	  állományba:</p><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting">cd9660_iconv_load="YES"</pre><p xmlns="http://www.w3.org/1999/xhtml">Indítsuk újra a
	  számítógépünket, vagy
	  közvetlenül töltsük be a modult a
	  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=kldload&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">kldload</span>(8)</span></a> használatával.</p></div><p>Estenként elõfordulhat, hogy kapunk egy
	<span class="errorname">Device not configured</span> hibaüzenetet a
	CD-k csatlakoztatásakor.  Ez általában arra
	utal, hogy a CD-meghajtó nem érzékeli a
	berakott lemezt, vagy éppen a meghajtó nem
	látható a buszon.  A CD-meghajtók
	esetében pár másodpercig eltarthat,
	amíg felismeri a berakott lemezt, ilyenkor mindig
	legyünk türelemmel.</p><p>Néha a SCSI CD-meghajtó nem
	látható, mert nem volt elég ideje
	válaszolni busz újraindítása
	elõtt.  Ha SCSI CD-meghajtónk van, akkor a
	következõ beállítást tegyük
	hozzá a rendszermagunk
	konfigurációjához és <a class="link" href="kernelconfig-building.html" title="8.5. Saját rendszermag készítése és telepítése"> fordítsuk újra a
	rendszermagukat</a>.</p><pre class="programlisting">options SCSI_DELAY=15000</pre><p>Ezzel utasítjuk a SCSI buszunkat egy 15
	másodperces várakozásra a rendszer
	indítása során, és így ezzel
	elég esélyt adunk arra, hogy a CD-meghajtó
	válaszolni tudjon a busz
	újraindítása elõtt.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="rawdata-cd"></a>18.6.8. Nyers adat CD-k írása</h3></div></div></div><p>Írhatunk közvetlenül is
	állományokat a CD-re, ISO 9660
	formátumú állományrendszer
	használata nélkül.  Sokan így
	oldják meg a mentést.  Ezt sokkal gyorsabban
	lebonyolítható egy szabványos
	CD esetében:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>burncd -f /dev/acd1 -s 12 data archive.tar.gz fixate</code></strong></pre><p>Az ezen a módon megírt CD-ket szintén
	nyers módon kell olvasnunk:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>tar xzvf /dev/acd1</code></strong></pre><p>Az ilyen lemezeket nem tudjuk a normális CD-khez
	hasonlóan csatlakoztatni.  Sõt, az ilyen CD-ket csak
	FreeBSD alatt tudjuk olvasni.  Ha csatlakoztathatóvá
	akarjuk tenni a lemezt, vagy más operációs
	rendszerek alól is szeretnénk olvasni, akkor erre
	a célra a fentebb bemutatott <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mkisofs&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mkisofs</span>(8)</span></a> parancsot
	kell használnunk.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="atapicam"></a>18.6.9. Az ATAPI/CAM meghajtó használata</h3></div><div><span class="authorgroup">Írta: <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="surname">Fonvieille</span>, <span class="firstname">Marc</span></span>. </span></div></div></div><a id="idp90090832" class="indexterm"></a><p>Ez a meghajtó lehetõvé teszi az ATAPI
	eszközök (CD-ROM, CD-RW, DVD meghajtók stb...)
	számára, hogy a SCSI alrendszeren keresztül
	legyenek elérhetõek, így esetünkben is
	használhatóvá válnak olyan
	alkalmazások, mint például <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/sysutils/cdrdao/pkg-descr">sysutils/cdrdao</a> vagy a
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=cdrecord&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">cdrecord</span>(1)</span></a>.</p><p>A meghajtó használatához a
	következõ sort kell a
	<code class="filename">/boot/loader.conf</code> állományba
	illeszteni:</p><pre class="programlisting">atapicam_load="YES"</pre><p>Indítsuk újra a
	számítógépet.</p><div xmlns="" class="note"><h3 class="admontitle">Megjegyzés: </h3><p xmlns="http://www.w3.org/1999/xhtml">Amennyiben a rendszermagban az <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=atapicam&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">atapicam</span>(4)</span></a> statikus
	  támogatását szeretnénk
	  használni, úgy a következõ sort kell a
	  rendszermag konfigurációs
	  állományába felvenni:</p><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting">device atapicam</pre><p xmlns="http://www.w3.org/1999/xhtml">Továbbá a következõ sorokra lesz
	  még szükségünk:</p><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting">device ata
device scbus
device cd
device pass</pre><p xmlns="http://www.w3.org/1999/xhtml">Ezeknek már eleve ott kell szerepelnie.
	  Ezután fordítsuk újra és
	  telepítsük a rendszermagot, majd indítsuk
	  újra a számítógépet.</p></div><p>A rendszer indulásakor az írónak ehhez
	hasonló módon kell megjelennie:</p><pre class="screen">acd0: CD-RW &lt;MATSHITA CD-RW/DVD-ROM UJDA740&gt; at ata1-master PIO4
cd0 at ata1 bus 0 target 0 lun 0
cd0: &lt;MATSHITA CDRW/DVD UJDA740 1.00&gt; Removable CD-ROM SCSI-0 device
cd0: 16.000MB/s transfers
cd0: Attempt to query device size failed: NOT READY, Medium not present - tray closed</pre><p>A meghajtó most már elérhetõ a
	<code class="filename">/dev/cd0</code> eszközön keresztül,
	és például ennyi
	begépelésével csatlakoztatni tudunk
	róla egy CD-t a <code class="filename">/mnt</code>
	könyvtárba:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mount -t cd9660 /dev/cd0 /mnt</code></strong></pre><p><code class="systemitem">root</code>
	felhasználóként a következõ
	paranccsal tudjuk lekérdezi az író SCSI
	címét:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>camcontrol devlist</code></strong>
&lt;MATSHITA CDRW/DVD UJDA740 1.00&gt;   at scbus1 target 0 lun 0 (pass0,cd0)</pre><p>Eszerint a <code class="literal">1,0,0</code> lesz az eszköz SCSI
	címe, amelyet a <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=cdrecord&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">cdrecord</span>(1)</span></a> és más
	SCSI alkalmazások esetén adunk meg.</p><p>Az ATAPI/CAM és SCSI rendszerek tekintetében
	olvassuk el az <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=atapicam&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">atapicam</span>(4)</span></a> és <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=cam&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">cam</span>(4)</span></a> man
	oldalakat.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="usb-disks.html">Vissza</a> </td><td width="20%" align="center"><a accesskey="u" href="disks.html">Fel</a></td><td width="40%" align="right"> <a accesskey="n" href="creating-dvds.html">Elõre</a></td></tr><tr><td width="40%" align="left" valign="top">18.5. USB tárolóeszközök </td><td width="20%" align="center"><a accesskey="h" href="index.html">Fõoldal</a></td><td width="40%" align="right" valign="top"> 18.7. Lézeres tárolóeszközök (DVD-k)
      létrehozása és használata</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Ha kérdése van a FreeBSD-vel kapcsolatban, a
    következõ címre írhat (angolul):
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Ha ezzel a dokumentummal kapcsolatban van kérdése, kérjük erre a címre írjon:
    &lt;<a href="mailto:gabor@FreeBSD.org">gabor@FreeBSD.org</a>&gt;.</small></p></body></html>