<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>11.6. Configurare l'Utility cron</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Manuale di FreeBSD" /><link rel="up" href="config-tuning.html" title="Capitolo 11. Configurazione e Messa a Punto" /><link rel="prev" href="configtuning-starting-services.html" title="11.5. Avvio dei Servizi" /><link rel="next" href="configtuning-rcd.html" title="11.7. Usare rc con FreeBSD" /><link rel="copyright" href="legalnotice.html" title="Nota Legale" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">11.6. Configurare l'Utility <code class="command">cron</code> </th></tr><tr><td width="20%" align="left"><a accesskey="p" href="configtuning-starting-services.html">Indietro</a> </td><th width="60%" align="center">Capitolo 11. Configurazione e Messa a Punto</th><td width="20%" align="right"> <a accesskey="n" href="configtuning-rcd.html">Avanti</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="configtuning-cron"></a>11.6. Configurare l'Utility <code class="command">cron</code> </h2></div><div><span class="authorgroup">Contributo di <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Tom</span> <span class="surname">Rhodes</span></span>. </span></div></div></div><a id="idp82263504" class="indexterm"></a><p>Uno dei comandi più utili presenti in FreeBSD è
      <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=cron&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">cron</span>(8)</span></a>.
      L'utility <code class="command">cron</code> viene eseguita in background
      e controlla costantemente
      il file <code class="filename">/etc/crontab</code>.  <code class="command">cron</code>
      controlla anche la directory <code class="filename">/var/cron/tabs</code>,
      alla ricerca di nuovi file <code class="filename">crontab</code>.  Questi file
      <code class="filename">crontab</code> contengono informazioni sulle
      specifiche funzioni che ci si aspetta vengano
      compiute da <code class="command">cron</code> a determinati intervalli
      temporali.</p><p>L'utility <code class="command">cron</code> usa due differenti
      tipi di file di configurazione, il crontab di sistema ed il crontab
      utente.  La sola differenza fra questi due file è nel sesto campo.
      Nel crontab di sistema, il sesto campo è il nome dell'utente
      sotto il quale viene eseguito il comando.  Questo dà al crontab
      di sistema la capacità di eseguire comandi come ogni utente.
      Nel crontab utente, il sesto campo è il comando da eseguire,
      e tutti i comandi vengono eseguiti come l'utente che ha creato il crontab;
      questa è un'importante caratteristica di sicurezza.</p><div xmlns="" class="note"><h3 class="admontitle">Nota: </h3><p xmlns="http://www.w3.org/1999/xhtml">I crontab utenti permettono ad utenti individuali di schedulare
        task senza i privilegi di <code class="systemitem">root</code>.  I comandi
        in un crontab utente vengono eseguiti con i permessi dell'utente
        che posseggono il file crontab.</p><p xmlns="http://www.w3.org/1999/xhtml">L'utente <code class="systemitem">root</code> può possedere
        il crontab proprio come ogni altro utente.  Qui c'è una
        differenza rispetto a <code class="filename">/etc/crontab</code> (il crontab
        di sistema).  Per via del crontab di sistema, di solito non c'è
        bisogno di creare un crontab per <code class="systemitem">root</code>.</p></div><p>Diamo un'occhiata al file <code class="filename">/etc/crontab</code>
     (il crontab di sistema):</p><pre class="programlisting"># /etc/crontab - il crontab di root per FreeBSD
#
# $FreeBSD: src/etc/crontab,v 1.32 2002/11/22 16:13:39 tom Exp $
# <a id="co-comments"></a><span><img src="./imagelib/callouts/1.png" alt="1" border="0" /></span>
#
SHELL=/bin/sh
PATH=/etc:/bin:/sbin:/usr/bin:/usr/sbin <a id="co-env"></a><span><img src="./imagelib/callouts/2.png" alt="2" border="0" /></span>
HOME=/var/log
#
#
#minute    hour    mday    month   wday    who command <a id="co-field-descr"></a><span><img src="./imagelib/callouts/3.png" alt="3" border="0" /></span>
#
#
*/5    *   *   *   *   root    /usr/libexec/atrun <a id="co-main"></a><span><img src="./imagelib/callouts/4.png" alt="4" border="0" /></span>
</pre><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#co-comments"><span><img src="./imagelib/callouts/1.png" alt="1" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Come in molti file di configurazione di
          FreeBSD, il carattere <code class="literal">#</code>
          rappresenta un commento.  Un commento può essere posto nel
          file come una nota su cosa si desidera fare con un certo comando.
          I commenti non possono essere nella stessa linea di un comando
          o saranno interpretati come parte di un comando; devono trovarsi su
          una linea a sè.  Le linee vuote vengono ignorate.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-env"><span><img src="./imagelib/callouts/2.png" alt="2" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Anzitutto, deve essere definito l'ambiente. I segni di uguale
          (<code class="literal">=</code>) vengono usati per definire ogni impostazione
          dell'ambiente, come viene fatto in questo esempio per
          <code class="envar">SHELL</code>, <code class="envar">PATH</code>, e <code class="envar">HOME</code>.
          Se la linea relativa alla shell viene omessa, <code class="command">cron</code>
          userà quella di default, che è
          <code class="command">sh</code>.  Se si omette la variabile
          <code class="option">PATH</code>, non verrà usato nessun default e le
          locazioni dei file dovranno essere assolute.  Se viene omessa
          <code class="option">HOME</code>, <code class="command">cron</code>
          userà la home directory dello user che lo ha richiamato.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-field-descr"><span><img src="./imagelib/callouts/3.png" alt="3" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Questa linea definisce un totale di sette campi.  Qui sono
          elencati i valori <code class="literal">minute</code>, <code class="literal">hour</code>,
          <code class="literal">mday</code>, <code class="literal">month</code>,
          <code class="literal">wday</code>, <code class="literal">who</code>, e
          <code class="literal">command</code>.  Questi nomi sono più o meno
          autoesplicativi.  <code class="literal">minute</code> è il tempo in
          minuti al quale dovrà essere eseguito il comando.
          <code class="literal">hour</code> è uguale, ma per le ore.
          <code class="literal">mday</code> rappresenta il giorno del mese.
          <code class="literal">month</code> è simile ad <code class="literal">hour</code>
          e <code class="literal">minute</code>, ma rappresenta il mese.
          L'opzione <code class="literal">wday</code> rappresenta il
          giorno della settimana.  Tutti questi campi devono avere un valore
          numerico, e seguire l'orario di ventiquattro ore.  Il campo
          <code class="literal">who</code> è speciale, ed esiste solo nel file
          <code class="filename">/etc/crontab</code>.
          Questo campo specifica l'utente con il quale deve essere eseguito
          il comando.  Quando un utente installa il suo file
          <code class="filename">crontab</code>, non avrà a disposizione questa
          opzione. Infine, viene elencata l'opzione <code class="literal">command</code>.
          Questo è l'ultimo campo, e naturalmente indica il comando che
          deve essere eseguito.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-main"><span><img src="./imagelib/callouts/4.png" alt="4" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Quest'ultima linea definirà i valori discussi prima.
          Notate che abbiamo un <code class="literal">*/5</code>, seguito da parecchi
          caratteri <code class="literal">*</code>.  Questi caratteri <code class="literal">*</code>
          significano <span class="quote">«<span class="quote">dalla prima all'ultima volta</span>»</span>,
          e possono essere interpretati come
          <span class="emphasis"><em>ogni</em></span> volta.  Dunque, basandosi su questa linea,
          sembra che il comando <code class="command">atrun</code> debba essere invocato
          da <code class="systemitem">root</code> ogni cinque minuti, prescindendo da quale
          giorno o mese sia.  Per maggiori informazioni sul comando
          <code class="command">atrun</code>,
          vedere la pagina di manuale <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=atrun&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">atrun</span>(8)</span></a>.</p><p>I comandi possono essere richiamati con qualsiasi numero di
          flag; i comandi che si estendono per più righe potrebbero
          però avere bisogno di essere spezzati
          con il carattere di continuazione
          <span class="quote">«<span class="quote">\</span>»</span>.</p></td></tr></table></div><p>Questa è l'impostazione di base per ogni file
      <code class="filename">crontab</code>, anche se c'è qualcosa di
      particolare in questo.
      Il sesto campo, dove abbiamo specificato il nome utente,
      esiste solo nel file di sistema <code class="filename">/etc/crontab</code>.
      Questo campo dovrebbe venire omesso nei <code class="filename">crontab</code>
      dei vari utenti.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="configtuning-installcrontab"></a>11.6.1. Installare un Crontab</h3></div></div></div><div xmlns="" class="important"><h3 class="admontitle">Importante: </h3><p xmlns="http://www.w3.org/1999/xhtml">Non devi usare la procedura descritta qui
          per editare/installare il crontab di sistema.  Semplicemente
          usa il tuo editor favorito: l'utility <code class="command">cron</code>
          noterà che il file è cambiato e immediatamente
          inizierà ad usare la versione aggiornata.  Vedi
          <a class="link" href="../../../../doc/it_IT.ISO8859-15/books/faq/admin.html#ROOT-NOT-FOUND-CRON-ERRORS" target="_top">queste
            FAQ</a> per maggiori informazioni.</p></div><p>Per installare un <code class="filename">crontab</code>
        appena scritto, prima usa il tuo editor preferito
        per creare un file nel formato corretto, e poi
        usa l'utility <code class="command">crontab</code>.  L'uso
        più corretto è:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>crontab crontab-file</code></strong></pre><p>In questo esempio, <code class="filename">crontab-file</code>
        è il nome di un file <code class="filename">crontab</code> che era stato
        creato in precedenza.</p><p>C'è anche un'opzione per elencare i file
        <code class="filename">crontab</code> già installati: passate
        semplicemente <code class="option">-l</code> a <code class="command">crontab</code> e date
        un'occhiata all'output.</p><p>Per gli utenti che desiderino scrivere il proprio file crontab
        da zero, senza usare un template, è disponibile
        <code class="command">crontab -e</code>.
        Questa opzione permetterà loro di invocare l'editor
        prescelto su un file vuoto.  Quando il file verrà salvato,
        esso verrà automaticamente installato
        dal comando <code class="command">crontab</code>.</p><p>Se successivamente vuoi rimuovere il tuo
        <code class="filename">crontab</code>
        completamente, usa <code class="command">crontab</code>
        con l'opzione <code class="option">-r</code>.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="configtuning-starting-services.html">Indietro</a> </td><td width="20%" align="center"><a accesskey="u" href="config-tuning.html">Risali</a></td><td width="40%" align="right"> <a accesskey="n" href="configtuning-rcd.html">Avanti</a></td></tr><tr><td width="40%" align="left" valign="top">11.5. Avvio dei Servizi </td><td width="20%" align="center"><a accesskey="h" href="index.html">Partenza</a></td><td width="40%" align="right" valign="top"> 11.7. Usare rc con FreeBSD</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Questo, ed altri documenti, possono essere scaricati da
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Per domande su FreeBSD, leggi la
    <a href="http://www.FreeBSD.org/docs.html">documentazione</a> prima di contattare
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Per domande su questa documentazione, invia una e-mail a
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>