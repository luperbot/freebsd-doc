<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>27.9. Servizi di File e Stampa per client Microsoft® Windows® (Samba)</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Manuale di FreeBSD" /><link rel="up" href="network-servers.html" title="Capitolo 27. Server di rete" /><link rel="prev" href="network-ftp.html" title="27.8. File Transfer Protocol (FTP)" /><link rel="next" href="network-ntp.html" title="27.10. Sincronizzazione del Clock con NTP" /><link rel="copyright" href="legalnotice.html" title="Nota Legale" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">27.9. Servizi di File e Stampa per client
      <span class="trademark">Microsoft</span>® <span class="trademark">Windows</span>® (Samba)</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="network-ftp.html">Indietro</a> </td><th width="60%" align="center">Capitolo 27. Server di rete</th><td width="20%" align="right"> <a accesskey="n" href="network-ntp.html">Avanti</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="network-samba"></a>27.9. Servizi di File e Stampa per client
      <span class="trademark">Microsoft</span>® <span class="trademark">Windows</span>® (Samba)</h2></div><div><span class="authorgroup">Grazie al contributo di <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Murray</span> <span class="surname">Stokely</span></span>. </span></div></div></div><a id="idp88875984" class="indexterm"></a><a id="idp88876496" class="indexterm"></a><a id="idp88877008" class="indexterm"></a><a id="idp88878160" class="indexterm"></a><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88879312"></a>27.9.1. Uno sguardo d'insieme</h3></div></div></div><p><span class="application">Samba</span> è un
        popolare pacchetto software open source che
        fornisce servizi di file e stampa per client
        <span class="trademark">Microsoft</span>® <span class="trademark">Windows</span>®.  Tali client possono connettersi
        ed usare un file system FreeBSD
        come se fosse un disco locale, o stampanti
        FreeBSD come se fossero stampanti locali.</p><p>Il pacchetto software
        <span class="application">Samba</span>
        dovrebbe essere incluso nel tuo media di
        installazione FreeBSD.  Se non hai
        installato <span class="application">Samba</span>
        quando hai installato per la prima volta FreeBSD,
        puoi sempre installarlo dal port o pacchetto
        <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/net/samba3/pkg-descr">net/samba3</a>.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88883536"></a>27.9.2. Configurazione</h3></div></div></div><p>Un file di configurazione di
        <span class="application">Samba</span> di default è
        installato in
        <code class="filename">/usr/local/share/examples/smb.conf.default</code>.
        Questo file deve essere copiato in
        <code class="filename">/usr/local/etc/smb.conf</code>
        e personalizzato prima che
        <span class="application">Samba</span> possa essere usato.</p><p>Il file <code class="filename">smb.conf</code> contiene
        informazione di configurazione runtime per
        <span class="application">Samba</span>, come le definizioni
        delle stampanti e <span class="quote">«<span class="quote">share di file system</span>»</span>
        che vorresti condividere con <span class="trademark">Windows</span>® client.
        Il pacchetto <span class="application">Samba</span> include
        un tool basato sul web chiamato
        <span class="application">swat</span> che fornisce
        un modo semplice di configurare il file
        <code class="filename">smb.conf</code>.</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88893520"></a>27.9.2.1. Usare il Samba Web Administration Tool (SWAT)</h4></div></div></div><p>Il Samba Web Administration Tool (SWAT) viene
          eseguito come demone da
          <span class="application">inetd</span>.
          Quindi, dovresti togliere i commenti
          alla seguente linea in
          <code class="filename">/etc/inetd.conf</code>
          prima che <span class="application">swat</span> possa essere
          usato per configurare
          <span class="application">Samba</span>:</p><pre class="programlisting">swat   stream  tcp     nowait/400      root    /usr/local/sbin/swat    swat</pre><p>Come spiegato in
          <a class="xref" href="network-inetd.html#network-inetd-reread" title="Esempio 27.1. Ricaricare il file di configurazione di inetd">Esempio 27.1, «Ricaricare il file di configurazione
          di <span class="application">inetd</span>
        »</a>,
          la configurazione di <span class="application">inetd</span>
          deve essere ricaricata dopo che
          questo file di configurazione è
          stato cambiato.</p><p>Una volta che <span class="application">swat</span>
          è stato abilitato in
          <code class="filename">inetd.conf</code>,
          puoi usare un browser per connetterti a
          <code class="uri"><a class="uri" href="http://localhost:901" target="_top">http://localhost:901</a></code>.
          Dovrai prima loggarti con l'account di sistema
          <code class="systemitem">root</code>.</p><p>Una volta che ti sei loggato con successo
          alla pagina principale di configurazione di
          <span class="application">Samba</span>, puoi navigare
          la documentazione di sistema, o iniziare
          cliccando sul tab
          <span class="guimenu">Globals</span>.  La sezione
          <span class="guimenu">Globals</span> corrisponde alle variabili
          che sono impostate nella sezione
          <code class="literal">[global]</code> di
          <code class="filename">/usr/local/etc/smb.conf</code>.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88902608"></a>27.9.2.2. Impostazioni Globali</h4></div></div></div><p>Sia che tu stia usando
          <span class="application">swat</span>
          o che tu stia editando direttamente
          <code class="filename">/usr/local/etc/smb.conf</code>,
          le prime direttive che tu puoi incontrare quando
          configuri <span class="application">Samba</span> sono:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">workgroup</code></span></dt><dd><p>Nome dominio NT o nome Workgroup
                per i computer che accedono a questo server.</p></dd><dt><span class="term"><code class="literal">netbios name</code></span></dt><dd><a id="idp88907856" class="indexterm"></a><p>Questo imposta il nome NetBIOS attraverso
                il quale un <span class="application">Samba</span>
                è conosciuto.  Di default è
                lo stesso della prima parte del nome host
                DNS.</p></dd><dt><span class="term"><code class="literal">server string</code></span></dt><dd><p>Questo imposta la stringa che sarà
                mostrata con il comando <code class="command">net view</code>
                e con alcuni altri strumenti di rete che cercano
                di mostrare testo descrittivo sul
                server.</p></dd></dl></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88911696"></a>27.9.2.3. Impostazioni di Sicurezza</h4></div></div></div><p>Due delle più importanti impostazioni
          in <code class="filename">/usr/local/etc/smb.conf</code>
          sono i modelli di sicurezza usati, ed il formato
          delle password di backend per utenti client.
          Le seguenti direttive controllano queste
          opzioni:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">security</code></span></dt><dd><p>Le due più comuni opzioni in
              questo caso sono
              <code class="literal">security = share</code>
              e <code class="literal">security = user</code>.
              Se i tuoi client usano nomi utente che sono
              gli stessi dei nomi utenti sulla tua macchina
              FreeBSD, allora vorrai sicurezza di tipo
              user.  Questa è la policy di sicurezza
              di default e richiede ai client prima di
              loggarsi prima che possano accedere a risorse
              condivise.</p><p>Nel modello di sicurezza di tipo share,
                i client non hanno bisogno di loggarsi al server
                con una valida coppia username e password
                prima che provino a connettersi a risorse
                condivise.  Questo è il modello di sicurezza
                di default per versioni precedenti di
                <span class="application">Samba</span>.</p></dd><dt><span class="term"><code class="literal">passdb backend</code></span></dt><dd><p><span class="application">Samba</span> ha molti
                modelli diversi di backend di autenticazione.
                Puoi autenticare i client con LDAP<a id="idp88918352" class="indexterm"></a>, NIS+<a id="idp88918864" class="indexterm"></a>, un
                database SQL<a id="idp88919376" class="indexterm"></a>, o un file di password modificato.
                Il metodo di autenticazione di default
                è <code class="literal">smbpasswd</code>, e questo
                sarà l'unico coperto qui.</p></dd></dl></div><p>Assumendo che il backend usato sia
          quello di default, <code class="literal">smbpasswd</code>,
          il file <code class="filename">/usr/local/private/smbpasswd</code>
          deve essere creato per permettere a
          <span class="application">Samba</span> di autenticare i
          client.  Se tu volessi dare ai tuoi account
          <span class="trademark">UNIX</span>® accesso da client <span class="trademark">Windows</span>®, usa il seguente
          comando:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>smbpasswd -a username</code></strong></pre><p>Per favore consulta l' <a class="link" href="http://www.samba.org/samba/docs/man/Samba-HOWTO-Collection/" target="_top">Official Samba HOWTO</a>
          <a class="link" href="http://www.samba.org/samba/docs/man/Samba-HOWTO-Collection/" target="_top">HOWTO
            Ufficiale di Samba</a>
          per informazioni addizionali sulle opzioni
          di configurazione.
          Con le basi delineate qui, dovresti avere tutto
          ciò di cui hai bisogno per avviare
          <span class="application">Samba</span>.</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88934608"></a>27.9.3. Avviare <span class="application">Samba</span></h3></div></div></div><p>Il port <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/net/samba3/pkg-descr">net/samba3</a>
        aggiunge un nuovo script di avvio, che può essere
        usato per controllare
        <span class="application">Samba</span>.  Per abilitare questo script,
        in modo tale da essere usato per esempio per avviare
        fermare o far ripartire
        <span class="application">Samba</span>, aggiungi la riga seguente
        al file <code class="filename">/etc/rc.conf</code>:</p><pre class="programlisting">samba_enable="YES"</pre><p>Oppure, per un controllo più accurato:</p><pre class="programlisting">nmbd_enable="YES"</pre><pre class="programlisting">smbd_enable="YES"</pre><div xmlns="" class="note"><h3 class="admontitle">Nota: </h3><p xmlns="http://www.w3.org/1999/xhtml">In questo modo <span class="application">Samba</span>
          viene avviato automaticamente ad ogni avvio
          del sistema.</p></div><p>Per avviare
        <span class="application">Samba</span> digita:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>/usr/local/etc/rc.d/samba start</code></strong>
Starting SAMBA: removing stale tdbs :
Starting nmbd.
Starting smbd.</pre><p>Fai riferimento alla <a class="xref" href="configtuning-rcd.html" title="11.7. Usare rc con FreeBSD">Sezione 11.7, «Usare rc con FreeBSD»</a> per
        ulteriori informazioni sull'uso degli script rc.</p><p><span class="application">Samba</span> attualmente
        consiste di tre demoni separati.  Dovresti
        osservare che entrambi <span class="application">nmbd</span>
        e <span class="application">smbd</span> siano avviati
        dallo script <code class="filename">samba</code>.  Se
        hai abilitato servizi di risoluzione di nomi
        winbind in <code class="filename">smb.conf</code>, allora
        osserverai che anche il demone
        <span class="application">winbindd</span> è avviato.</p><p>Puoi anche fermare <span class="application">Samba</span>
        in ogni istante digitando:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>/usr/local/etc/rc.d/samba stop</code></strong></pre><p><span class="application">Samba</span> è una suite
        complessa di software con funzionalità che permette
        una larga integrazione con reti <span class="trademark">Microsoft</span>® <span class="trademark">Windows</span>®.
        Per maggiori informazioni sulle funzionalità
        al di là dell'installazione di base descritta qui
        per favore consulta <code class="uri"><a class="uri" href="http://www.samba.org" target="_top">http://www.samba.org</a></code>.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="network-ftp.html">Indietro</a> </td><td width="20%" align="center"><a accesskey="u" href="network-servers.html">Risali</a></td><td width="40%" align="right"> <a accesskey="n" href="network-ntp.html">Avanti</a></td></tr><tr><td width="40%" align="left" valign="top">27.8. File Transfer Protocol (FTP) </td><td width="20%" align="center"><a accesskey="h" href="index.html">Partenza</a></td><td width="40%" align="right" valign="top"> 27.10. Sincronizzazione del Clock con NTP</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Questo, ed altri documenti, possono essere scaricati da
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Per domande su FreeBSD, leggi la
    <a href="http://www.FreeBSD.org/docs.html">documentazione</a> prima di contattare
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Per domande su questa documentazione, invia una e-mail a
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>