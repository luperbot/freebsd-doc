<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>26.6. Argomenti Avanzati</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Manuale di FreeBSD" /><link rel="up" href="mail.html" title="Capitolo 26. Posta Elettronica" /><link rel="prev" href="mail-trouble.html" title="26.5. Risoluzione dei Problemi" /><link rel="next" href="SMTP-UUCP.html" title="26.7. SMTP con UUCP" /><link rel="copyright" href="legalnotice.html" title="Nota Legale" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">26.6. Argomenti Avanzati</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="mail-trouble.html">Indietro</a> </td><th width="60%" align="center">Capitolo 26. Posta Elettronica</th><td width="20%" align="right"> <a accesskey="n" href="SMTP-UUCP.html">Avanti</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="mail-advanced"></a>26.6. Argomenti Avanzati</h2></div></div></div><p>La seguente sezione tratta argomenti più complicati come
      l'organizzazione e la configurazione della posta per tutto il tuo
      dominio.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="mail-config"></a>26.6.1. Configurazione di Base</h3></div></div></div><a id="idp86991952" class="indexterm"></a><p>Dalla macchina FreeBSD, dovresti essere in grado di spedire posta a
        host esterni a condizione di aver sistemato
        <code class="filename">/etc/resolv.conf</code> o di avere in esecuzione un
        proprio server dei nomi.  Se vuoi che la posta per il tuo host sia
        consegnata all'MTA (es., <span class="application">sendmail</span>) in
        esecuzione sul tuo host FreeBSD, esistono due metodi per farlo:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Eseguire un proprio server dei nomi e avere un proprio dominio.
            Per esempio, <code class="systemitem">FreeBSD.org</code></p></li><li class="listitem"><p>Ricevere la posta direttamente sul tuo host.  Questo viene fatto
            consegnando la posta direttamente al nome DNS corrente della tua
            macchina.  Per esempio, <code class="systemitem">example.FreeBSD.org</code>.</p></li></ul></div><a id="idp86997072" class="indexterm"></a><p>Indipendentemente dal metodo scelto, affinché la posta
        possa essere consegnata direttamente al tuo host, devi avere un
        indirizzo IP statico permanente (non un indirizzo dinamico, come avviene
        nella maggior parte delle configurazioni dial-up di PPP).  Se sei
        dietro a un firewall, devi abilitare il traffico SMTP in entrata.  Se
        vuoi ricevere la posta direttamente sul tuo host, devi verificare una di
        queste due cose:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Assicurati che il record MX<a id="idp86998736" class="indexterm"></a> (con il numero più basso)
            relativo al tuo host nel tuo DNS punti all'indirizzo IP del tuo
            host.</p></li><li class="listitem"><p>Assicurati che non ci siano record MX nel tuo DNS per il tuo
            host.</p></li></ul></div><p>Entrambi questi due metodi ti permettono di ricevere posta
        direttamente sul tuo host.</p><p>Prova questi comandi:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>hostname</code></strong>
example.FreeBSD.org
<code class="prompt">#</code> <strong class="userinput"><code>host example.FreeBSD.org</code></strong>
example.FreeBSD.org has address 204.216.27.XX</pre><p>Se ottieni un risultato simile, l'invio diretto a
        <code class="email">&lt;yourlogin@example.FreeBSD.org&gt;</code> dovrebbe
        funzionare senza problemi (assumendo che
        <span class="application">sendmail</span> sia correttamente in esecuzione
        su <code class="systemitem">example.FreeBSD.org</code>).</p><p>Se invece vedi qualcosa di simile a questo:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>host example.FreeBSD.org</code></strong>
example.FreeBSD.org has address 204.216.27.XX
example.FreeBSD.org mail is handled (pri=10) by hub.FreeBSD.org</pre><p>Tutta la posta spedita al tuo host (<code class="systemitem">example.FreeBSD.org</code>) finirà per essere
        raccolta su <code class="systemitem">hub</code> sotto lo stesso nome utente invece
        di essere spedita direttamente al tuo host.</p><p>L'informazione precedente viene gestita dal tuo server DNS.  Il
        record DNS che riporta l'informazione di instradamento della posta
        è l'elemento <span class="emphasis"><em>M</em></span>ail
        e<span class="emphasis"><em>X</em></span>change.  Se non esistono record MX, la posta
        sarà consegnata direttamente all'host attraverso il suo
        indirizzo IP.</p><p>L'elemento MX per <code class="systemitem">freefall.FreeBSD.org</code>
        in passato assomigliava a questo:</p><pre class="programlisting">freefall        MX  30  mail.crl.net
freefall        MX  40  agora.rdrop.com
freefall        MX  10  freefall.FreeBSD.org
freefall        MX  20  who.cdrom.com</pre><p>Come puoi vedere, <code class="systemitem">freefall</code> aveva molti elementi MX.
        Il numero MX più basso è l'host che, se disponibile,
        riceve direttamente la posta; se per qualche ragione questo non è
        accessibile, gli altri (qualche volta chiamati
        <span class="quote">«<span class="quote">MX di backup</span>»</span>) accettano i messaggi temporaneamente,
        e li passano all'host attivo con numero inferiore, fino all'host
        con il numero più basso.</p><p>I server MX alternativi dovrebbero avere connessioni Internet
        indipendenti dalla propria al fine di risultare più utili.
        Il tuo ISP o un tuo amico non dovrebbero avere problemi
        a darti questo servizio.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="mail-domain"></a>26.6.2. Posta per il Tuo Dominio</h3></div></div></div><p>Per organizzare un server di posta hai bisogno che la posta inviata
        alle stazioni di lavoro sia ricevuta direttamente sul server di posta.
        Sostanzialmente, hai bisogno di <span class="quote">«<span class="quote">richiedere</span>»</span> che la posta
        per i nomi host del tuo dominio (in questo caso <code class="systemitem">*.FreeBSD.org</code>) sia deviata al server di posta in
        modo tale che i tuoi utenti possono raccogliere la loro posta sul
        server di posta principale.</p><a id="idp87022032" class="indexterm"></a><p>Per rendere la vita più facile, dovrebbe esistere su
        entrambe le macchine un account utente con lo stesso <span class="emphasis"><em>nome
          utente</em></span>.  Usa <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=adduser&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">adduser</span>(8)</span></a> per farlo.</p><p>La macchina server di posta che utilizzerai deve essere
        designata come la macchina che scambia la posta per tutte le postazioni
        sulla rete.  Questo viene realizzato attraverso la configurazione del
        DNS in modo simile a quanto segue:</p><pre class="programlisting">example.FreeBSD.org   A   204.216.27.XX       ; Stazione di lavoro
                      MX  10 hub.FreeBSD.org  ; Server di posta</pre><p>In questo modo la posta per la stazione di lavoro sarà
        reindirizzata al server di posta senza preoccuparsi dove punti il
        record A.  La posta viene inviata all'host MX.</p><p>Non puoi effettuare queste modifiche da solo a meno che non hai in
        esecuzione un tuo server DNS.  Se non puoi eseguire un server DNS,
        consulta il tuo ISP o chiunque ti fornisca il servizio DNS.</p><p>Se stai facendo dell'hosting di posta elettronica virtuale, le
        seguenti informazioni ti torneranno utili.  In questo esempio, assumiamo
        che hai un cliente con un proprio dominio, in questo caso <code class="systemitem">customer1.org</code>, e vuoi che tutta la posta
        per <code class="systemitem">customer1.org</code> sia spedita alla
        tua macchina server di posta <code class="systemitem">mail.myhost.com</code>.
        L'elemento nel tuo DNS dovrebbe assomigliare a questo:</p><pre class="programlisting">customer1.org     MX  10  mail.myhost.com</pre><p><span class="emphasis"><em>Non</em></span> hai bisogno di un record A per <code class="systemitem">customer1.org</code> se vuoi solamente gestire
        la posta per tale dominio</p><div xmlns="" class="note"><h3 class="admontitle">Nota: </h3><p xmlns="http://www.w3.org/1999/xhtml">Sii consapevole che un ping su <code class="systemitem">customer1.org</code> non funzionerà se
          non esiste un record A per tale dominio.</p></div><p>L'ultima cosa che devi fare è indicare a
        <span class="application">sendmail</span>, posto sulla tua macchina server,
        per quali domini e/o host deve accettare posta.  Esistono
        differenti modi per farlo.  I seguenti due funzionano entrambi:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Se usi <code class="literal">FEATURE(use_cw_file)</code> aggiungi gli host
            al tuo file <code class="filename">/etc/mail/local-host-names</code>.  Se usi
            una versione di <span class="application">sendmail</span> precedente
            alla 8.10, il file da usare è
            <code class="filename">/etc/sendmail.cw</code>.</p></li><li class="listitem"><p>Se usi la versione di <span class="application">sendmail</span> 8.10
            o superiore aggiungi la riga <code class="literal">Cwyour.host.com</code> al
            tuo <code class="filename">/etc/sendmail.cf</code> o
            <code class="filename">/etc/mail/sendmail.cf</code>.</p></li></ul></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="mail-trouble.html">Indietro</a> </td><td width="20%" align="center"><a accesskey="u" href="mail.html">Risali</a></td><td width="40%" align="right"> <a accesskey="n" href="SMTP-UUCP.html">Avanti</a></td></tr><tr><td width="40%" align="left" valign="top">26.5. Risoluzione dei Problemi </td><td width="20%" align="center"><a accesskey="h" href="index.html">Partenza</a></td><td width="40%" align="right" valign="top"> 26.7. SMTP con UUCP</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Questo, ed altri documenti, possono essere scaricati da
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Per domande su FreeBSD, leggi la
    <a href="http://www.FreeBSD.org/docs.html">documentazione</a> prima di contattare
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Per domande su questa documentazione, invia una e-mail a
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>