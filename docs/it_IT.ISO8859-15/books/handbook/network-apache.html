<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>27.7. Apache HTTP Server</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Manuale di FreeBSD" /><link rel="up" href="network-servers.html" title="Capitolo 27. Server di rete" /><link rel="prev" href="network-dns.html" title="27.6. Domain Name System (DNS)" /><link rel="next" href="network-ftp.html" title="27.8. File Transfer Protocol (FTP)" /><link rel="copyright" href="legalnotice.html" title="Nota Legale" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">27.7. Apache HTTP Server</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="network-dns.html">Indietro</a> </td><th width="60%" align="center">Capitolo 27. Server di rete</th><td width="20%" align="right"> <a accesskey="n" href="network-ftp.html">Avanti</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="network-apache"></a>27.7. Apache HTTP Server</h2></div><div><span class="authorgroup">Grazie al contributo di <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Murray</span> <span class="surname">Stokely</span></span>. </span></div></div></div><a id="idp88705744" class="indexterm"></a><a id="idp88706896" class="indexterm"></a><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88707408"></a>27.7.1. Uno sguardo d'insieme</h3></div></div></div><p>FreeBSD è usato per far girare
        alcuni dei siti web più trafficati
        al mondo.  La maggioranza dei web server
        su Internet usano attualmene
        <span class="application">Apache HTTP Server</span>.
        Il pacchetto software di
        <span class="application">Apache</span>
        dovrebbe essere incluso nel tuo media di
        installazione di FreeBSD.  Se non hai
        installato <span class="application">Apache</span>
        quando hai installato FreeBSD per la prima volta,
        lo puoi installare dal port
        <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/www/apache13/pkg-descr">www/apache13</a>
        o <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/www/apache22/pkg-descr">www/apache22</a>.</p><p>Una volta che <span class="application">Apache</span>
        è stato installato con successo, deve essere
        configurato.</p><div xmlns="" class="note"><h3 class="admontitle">Nota: </h3><p xmlns="http://www.w3.org/1999/xhtml">Questa sezione copre la versione 1.3.X
          di <span class="application">Apache HTTP Server</span>
          dato che è la versione più usata per
          FreeBSD.  <span class="application">Apache</span> 2.X
          introduce molte nuove tecnologie ma queste non
          saranno discusse in questa sede.  Per maggiori
          informazioni  su
          <span class="application">Apache</span> 2.X, per favore
          consulta <code class="uri"><a class="uri" href="httpd://httpd.apache.org/" target="_top">httpd://httpd.apache.org/</a></code>.</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88713936"></a>27.7.2. Configurazione</h3></div></div></div><a id="idp88714576" class="indexterm"></a><p>Il principale file di configurazione
        di <span class="application">Apache HTTP Server</span>
        è installato in
        <code class="filename">/usr/local/etc/apache/httpd.conf</code>
        su FreeBSD.  Questo file è un tipico file di testo
        di configurazione di <span class="trademark">UNIX</span>® con linee di commento
        che cominciano col carattere <code class="literal">#</code>.
        Una descrizione comprensiva di tutte le possibili
        opzioni di configurazione è al di fuori dello
        scopo di questo libro, così solo le direttive
        usate più di frequente saranno descritte
        di seguito.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">ServerRoot "/usr/local"</code></span></dt><dd><p>Questo specifica la gerachia di directory
              di default per l'installazione di
              <span class="application">Apache</span>.  I binari
              sono conservati nelle sottodirectory
              <code class="filename">bin</code> e
              <code class="filename">sbin</code>
              sotto la server root, ed i file di configurazione
              sono conservati sotto
              <code class="filename">etc/apache</code>.</p></dd><dt><span class="term"><code class="literal">ServerAdmin you@your.address</code></span></dt><dd><p>L'indirizzo email al quale i problemi
              riguardanti il server dovrebbero essere
              inviati.  Questo indirizzo appare su alcune
              pagine generate dal server,
              come alcuni documenti di errore.</p></dd><dt><span class="term"><code class="literal">ServerName www.example.com</code></span></dt><dd><p><code class="literal">ServerName</code> ti permette di
              impostare un nome host che viene inviato
              ai client per il tuo server, se questo
              è differente da quello per il quale l'host
              è configurato (ad esempio usi <code class="systemitem">www
              </code> invece del vero nome host).</p></dd><dt><span class="term"><code class="literal">DocumentRoot "/usr/local/www/data"</code></span></dt><dd><p><code class="literal">DocumentRoot</code>: La directory
            dalla quale servirai documenti.  Di default
            tutte le richieste sono girate a questa
            directory, ma link simbolici ed alias
            possono essere usati per puntare ad altre
            locazioni.</p></dd></dl></div><p>È sempre una buona idea fare copie di
        backup del tuo file di configurazione di
        <span class="application">Apache</span> prima di
        modificarlo.  Una volta che sei soddisfatto dalla
        tua configurazione iniziale sei pronto per
        iniziare ad eseguire <span class="application">Apache</span>.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88741200"></a>27.7.3. Eseguire <span class="application">Apache</span></h3></div></div></div><a id="idp88742096" class="indexterm"></a><p><span class="application">Apache</span> non viene eseguito
        dal super server <span class="application">inetd</span>
        a differenza di molti altri server di
        rete.  È configurato
        per girare standalone per migliori performance
        per gestire le richieste HTTP in entrata dai client
        web browser.  Un wrapper shell script è
        incluso per rendere il più semplice
        possibile lo start, lo stop ed il restart del
        server.  Per avviare <span class="application">Apache</span>
        per la prima volta, esegui:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>/usr/local/sbin/apachectl start</code></strong></pre><p>Puoi fermare il server in ogni istante
        digitando:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>/usr/local/sbin/apachectl stop</code></strong></pre><p>Dopo aver fatto modifiche al file
        di configurazione per una qualsiasi ragione,
        avrai bisogno di riavviare
        il server:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>/usr/local/sbin/apachectl restart</code></strong></pre><p>Per riavviare <span class="application">Apache</span>
        senza mandare in abort le connessioni correnti,
        esegui.</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>/usr/local/sbin/apachectl graceful</code></strong></pre><p>Informazioni addizionali sono
        disponibili sulla pagina di manuale
        di <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=apachectl&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">apachectl</span>(8)</span></a>.</p><p>Per eseguire <span class="application">Apache</span>
        all'avvio del sistema, aggiungi la seguente
        linea ad <code class="filename">/etc/rc.conf</code>:</p><pre class="programlisting">apache_enable="YES"</pre><p>o per <span class="application">Apache</span> 2.2:</p><pre class="programlisting">apache22_enable="YES"</pre><p>Se volessi fornire opzioni addizionali
        di linea di comando al programma
        <span class="application">Apache</span>
        <code class="command">httpd</code>
        avviato al boot di sistema, puoi specificarle
        con una linea addizionale in
        <code class="filename">rc.conf</code>:</p><pre class="programlisting">apache_flags=""</pre><p>Ora che il web server è in esecuzione
        puoi navigare il tuo sito web puntando
        il tuo web browser ad
        <code class="literal">http://localhost/</code>.
        La pagina di default che viene mostrata
        è
        <code class="filename">/usr/local/www/data/index.html</code>.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88757200"></a>27.7.4. Virtual Hosting</h3></div></div></div><p><span class="application">Apache</span> supporta due
        tipi diversi di Virtual Hosting.  Il primo metodo
        è Virtual Hosting basato sul nome.  Il
        Virtual Hosting basato sul nome usa gli header
        HTTP/1.1 per scoprire l'hostname.  Questo permette
        a molti domini diversi di condividere lo stesso
        indirizzo IP.</p><p>Per fare sì che
        <span class="application">Apache</span>
        usi Virtual Hosting basato sui nomi aggiungi una
        entry come la seguente al tuo file
        <code class="filename">httpd.conf</code>:</p><pre class="programlisting">NameVirtualHost *</pre><p>Se il tuo webserver era nominato
        <code class="systemitem">www.domain.tld</code> e
        tu avessi voluto installare un dominio virtuale
        per <code class="systemitem">www.someotherdomain.tld
        </code> avresti dovuto aggiungere le seguenti entry
        a <code class="filename">httpd.conf</code>:</p><pre class="screen">&lt;VirtualHost *&gt;
ServerName www.domain.tld
DocumentRoot /www/domain.tld
&lt;/VirtualHost&gt;

&lt;VirtualHost *&gt;
ServerName www.someotherdomain.tld
DocumentRoot /www/someotherdomain.tld
&lt;/VirtualHost&gt;</pre><p>Sostituisci gli indirizzi con gli indirizzi
        che vuoi usare ed i percorsi dei documenti con quelli
        che usi.</p><p>Per maggiori informazioni sull'impostazione
        dei virtual host, per favore consulta la
        documentazione ufficiale a
        <code class="uri"><a class="uri" href="http://httpd.apache.org/docs/vhosts/" target="_top">http://httpd.apache.org/docs/vhosts/</a></code>.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88763728"></a>27.7.5. Moduli Apache</h3></div></div></div><a id="idp88764368" class="indexterm"></a><p>Ci sono molti diversi moduli
        <span class="application">Apache</span> disponibili
        per aggiungere funzionalità al server base.
        La Collezione Port di FreeBSD fornisce un modo
        semplice di installare <span class="application">Apache</span>
        assieme ad alcuni dei più popolari moduli
        aggiuntivi.</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88770896"></a>27.7.5.1. mod_ssl</h4></div></div></div><a id="idp88771536" class="indexterm"></a><a id="idp88772688" class="indexterm"></a><a id="idp88773200" class="indexterm"></a><p>Il modulo <span class="application">mod_ssl</span>
          usa la libreria OpenSSL per fornire una forte
          crittografia attraverso i protocolli Secure
          Sockets Layer (SSL v2/v3) e Transport Layer
          Security (TLS v1).  Questo modulo fornisce tutto
          il necessario per richiedere
          un certificato firmato da un'autorità fidata
          che emette certificati, cosicchè puoi eseguire
          un web server sicuro su FreeBSD.</p><p>Se non hai ancora installato
          <span class="application">Apache</span>, una versione
          di <span class="application">Apache</span> 1.3.X
          che includa <span class="application">mod_ssl</span>
          può essere installata con il port
          <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/www/apache13-modssl/pkg-descr">www/apache13-modssl</a>.
          Il supporto ad SSL è anche disponibile per
          <span class="application">Apache</span> 2.X nel port
          <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/www/apache22/pkg-descr">www/apache22</a>,
          dove viene abilitato di default.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88781648"></a>27.7.5.2. Siti web dinamici con Perl &amp; PHP</h4></div></div></div><p>Negli ultimi anni, molte aziende si sono rivolte a Internet
          per migliorare i loro ricavi e aumentare la loro esposizione.
          Questo ha anche aumentato il bisogno di contenuti interattivi
          web.  Mentre alcune società come <span class="trademark">Microsoft</span>® hanno introdotto
          soluzioni nei loro prodotti proprietari, la comunità
          open source ha risposto all'appello.  Due opzioni per contenuti
          web dinamici includono <span class="application">mod_perl</span>
          &amp; <span class="application">mod_php</span>.</p><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88783952"></a>27.7.5.2.1. mod_perl</h5></div></div></div><a id="idp88784592" class="indexterm"></a><p>Il progetto di integrazione
          <span class="application">Apache</span>/Perl
          mette assieme la grande potenza del linguaggio
          di programmazione Perl e
          l'<span class="application">Apache HTTP Server</span>.
          Con il modulo <span class="application">mod_perl</span>
          è possibile scrivere moduli <span class="application">Apache
          </span> interamente in Perl.  In aggiunta
          l'interprete persistente integrato nel server
          evita l'overhead di avviare un interprete esterno
          e la penalizzazione del tempo di
          caricamento Perl.</p><p><span class="application">mod_perl</span> è disponibile
            in alcuni modi diversi.  Per usare <span class="application">mod_perl
            </span> ricorda che <span class="application">mod_perl</span>
            1.0 funziona solo con <span class="application">Apache</span> 1.3
            e <span class="application">mod_perl</span> 2.0 funziona solo
            con <span class="application">Apache</span> 2.X.
            <span class="application">mod_perl</span> 1.0 è disponibile
            in <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/www/mod_perl/pkg-descr">www/mod_perl</a> ed una versione
            compilata staticamente è disponibile in
            <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/www/apache13-modperl/pkg-descr">www/apache13-modperl</a>.
            <span class="application">mod_perl</span> 2.0 è disponibile in
            <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/www/mod_perl2/pkg-descr">www/mod_perl2</a>.</p></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88791888"></a>27.7.5.2.2. mod_php</h5></div><div><span class="authorgroup">Scritto da <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Tom</span> <span class="surname">Rhodes</span></span>. </span></div></div></div><a id="idp88794320" class="indexterm"></a><p>PHP, anche noto come <span class="quote">«<span class="quote">Hypertext Prepocessor</span>»</span>
          è un linguaggio di scripting di scopo generale che è
          particolarmente adatto per lo sviluppo Web.  Adatto ad essere
          usato all'interno dell'<acronym class="acronym">HTML</acronym>, la sua sintassi
          deriva dal C, <span class="trademark">Java</span>&#8482;, e Perl con l'intenzione di permettere agli
          sviluppatori web di scrivere pagine web generate dinamicamente
          in modo veloce.</p><p>Per integrare supporto a <acronym class="acronym">PHP</acronym>5 per
          il web server <span class="application">Apache</span>, inizia
          con l'installare il port
          <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/lang/php5/pkg-descr">lang/php5</a>.
          </p><p>Se il port <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/lang/php5/pkg-descr">lang/php5</a>
          viene installato per la prima volta, le <code class="literal">OPTIONS</code>
          disponibili saranno mostrate automaticamente.
          Se non viene mostrato un menu, ad esempio perché
          il port <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/lang/php5/pkg-descr">lang/php5</a>
          è stato installato qualche volta in passato,
          è sempre possibile rivedere il menu a dialogo
          con le opzioni eseguendo:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>make config</code></strong></pre><p>nella directory dei port.</p><p>Nel menu a dialogo delle opzioni,
          flagga l'opzione <code class="literal">APACHE</code>
          per compilare <span class="application">mod_php5</span>
          come modulo caricabile per il web server
          <span class="application">Apache</span>.</p><div xmlns="" class="note"><h3 class="admontitle">Nota: </h3><p xmlns="http://www.w3.org/1999/xhtml">Molti siti stanno ancora usando
            <acronym class="acronym">PHP</acronym>4 per varie ragioni (ad esempio
            questioni di compatibilità o applicativi web già
            costruiti).  Se si necessita del modulo <span class="application">mod_php4</span>
            invece che di <span class="application">mod_php5</span>, siete pregati
            di usare il port <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/lang/php4/pkg-descr">lang/php4</a>.
            Il port <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/lang/php4/pkg-descr">lang/php4</a> supporta
            molte delle configurazioni e delle opzioni di build-time
            del port <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/lang/php5/pkg-descr">lang/php5</a>.</p></div><p>Questo installerà e
          configurerà i moduli richiesti
          per supportare applicazioni web dinamiche <acronym class="acronym">PHP</acronym>.
          Controlla che le seguenti linee siano state aggiunte al file
          <code class="filename">/usr/local/etc/apache/httpd.conf</code>:</p><pre class="programlisting">LoadModule php5_module        libexec/apache/libphp5.so
AddModule mod_php5.c
    &lt;IfModule mod_php5.c&gt;
        DirectoryIndex index.php index.html
    &lt;/IfModule&gt;

    &lt;IfModule mod_php5.c&gt;
        AddType application/x-httpd-php .php
        AddType application/x-httpd-php-source .phps
    &lt;/IfModule&gt;</pre><p>Una volta completato, una semplice chiamata
         al comando <code class="command">apachectl</code> per un tranquillo
         restart è richiesto per caricare il modulo
         <acronym class="acronym">PHP</acronym>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>apachectl graceful</code></strong></pre><p>Per upgrade futuri di <acronym class="acronym">PHP</acronym>, il comando
          <code class="command">make config</code> non sarà richiesto;
          le <code class="literal">OPTIONS</code> selezionate sono salvate automaticamente
          dal sistema dei Ports di FreeBSD.</p><p>Il supporto a <acronym class="acronym">PHP</acronym> in FreeBSD è
          estremamente modulare così l'installazione
          base è molto limitata.  È molto facile
          aggiungere supporto usando il port
          <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/lang/php5-extensions/pkg-descr">lang/php5-extensions</a>.
          Questo port fornisce un interfaccia a menu per l'installazione
          di estensioni a <acronym class="acronym">PHP</acronym>.  Alternativamente
          le singole estensioni possono essere installate usando
          il port appropriato.</p><p>Ad esempio, per aggiungere supporto al database
          <span class="application">MySQL</span> a <acronym class="acronym">PHP</acronym>5,
          semplicemente installa
          <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/databases/php5-mysql/pkg-descr">databases/php5-mysql</a>.</p><p>Dopo aver installato un'estensione, il server
            <span class="application">Apache</span> deve essere riavviato per
            caricare i cambiamenti della nuova configurazione:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>apachectl graceful</code></strong></pre></div></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="network-dns.html">Indietro</a> </td><td width="20%" align="center"><a accesskey="u" href="network-servers.html">Risali</a></td><td width="40%" align="right"> <a accesskey="n" href="network-ftp.html">Avanti</a></td></tr><tr><td width="40%" align="left" valign="top">27.6. Domain Name System (<acronym class="acronym">DNS</acronym>) </td><td width="20%" align="center"><a accesskey="h" href="index.html">Partenza</a></td><td width="40%" align="right" valign="top"> 27.8. File Transfer Protocol (FTP)</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Questo, ed altri documenti, possono essere scaricati da
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Per domande su FreeBSD, leggi la
    <a href="http://www.FreeBSD.org/docs.html">documentazione</a> prima di contattare
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Per domande su questa documentazione, invia una e-mail a
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>