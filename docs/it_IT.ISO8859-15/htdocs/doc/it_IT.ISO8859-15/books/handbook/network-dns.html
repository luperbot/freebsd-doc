<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>27.6. Domain Name System (DNS)</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Manuale di FreeBSD" /><link rel="up" href="network-servers.html" title="Capitolo 27. Server di rete" /><link rel="prev" href="network-dhcp.html" title="27.5. Configurazione Automatica della Rete (DHCP)" /><link rel="next" href="network-apache.html" title="27.7. Apache HTTP Server" /><link rel="copyright" href="legalnotice.html" title="Nota Legale" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">27.6. Domain Name System (<acronym class="acronym">DNS</acronym>)</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="network-dhcp.html">Indietro</a> </td><th width="60%" align="center">Capitolo 27. Server di rete</th><td width="20%" align="right"> <a accesskey="n" href="network-apache.html">Avanti</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="network-dns"></a>27.6. Domain Name System (<acronym class="acronym">DNS</acronym>)</h2></div><div><span class="authorgroup">Grazie al contributo di <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Chern</span> <span class="surname">Lee</span></span>, <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Tom</span> <span class="surname">Rhodes</span></span> e <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Daniel</span> <span class="surname">Gerzo</span></span>. </span></div></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88630992"></a>27.6.1. Uno sguardo d'insieme</h3></div></div></div><a id="idp88631632" class="indexterm"></a><p>FreeBSD utilizza, di default, una versione di
        BIND (Berkeley Internet Name Domain), che è
        la più completa implementazione del protocollo
        <acronym class="acronym">DNS</acronym>.  <acronym class="acronym">DNS</acronym> è il protocollo
        attraverso il quale nomi sono mappati ad indirizzi <acronym class="acronym">IP</acronym>,
        e viceversa.  Per esempio, una query per
        <code class="systemitem">www.FreeBSD.org
        </code> riceverà una replica con l'indirizzo
        <acronym class="acronym">IP</acronym> del web server del The FreeBSD Project, mentre una
        query per <code class="systemitem">ftp.FreeBSD.org</code>
        ritornerà l'indirizzo <acronym class="acronym">IP</acronym> della corrispondente
        macchina <acronym class="acronym">FTP</acronym>.  Allo stesso modo, può
        avvenire l'opposto.  Una
        query per un indirizzo <acronym class="acronym">IP</acronym> può risolvere il suo
        nome host.  Non è necessario avere in esecuzione
        un name server per fare <acronym class="acronym">DNS</acronym> lookups su un sistema.
      </p><p>FreeBSD al momento viene distribuito con software <acronym class="acronym">DNS</acronym>
        <acronym class="acronym">BIND</acronym>9 di default.  La nostra installazione fornisce
        caratteristiche di sicurezza migliorate, un nuovo layout del file
        system e configurazione <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chroot&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">chroot</span>(8)</span></a> automatica.</p><a id="idp88638672" class="indexterm"></a><p>DNS è coordinato su Internet attraverso
        un sistema alquanto complesso di name server autoritativi,
        ed altri name server di più piccola scala che
        ospitano e gestiscono cache di informazioni individuali
        sui domini.</p><p>Al momento corrente, BIND è mantenuto
        dall'Internet Software Consortium
        <code class="uri"><a class="uri" href="http://www.isc.org/" target="_top">http://www.isc.org/</a></code>.
      </p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88640592"></a>27.6.2. Terminologia</h3></div></div></div><p>Per comprendere questo documento, alcuni termini
        relativi al <acronym class="acronym">DNS</acronym> devono essere capiti.</p><a id="idp88642000" class="indexterm"></a><a id="idp88642512" class="indexterm"></a><a id="idp88643024" class="indexterm"></a><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Termine</th><th>Definizione</th></tr></thead><tbody><tr><td>Forward <acronym class="acronym">DNS</acronym></td><td>La mappa da hostname ad indirizzi IP.</td></tr><tr><td>Origine</td><td>Si riferisce al dominio coperto in
                  un particolare file di zona.</td></tr><tr><td><span class="application">named</span>,
                BIND, name server</td><td>Nomi comuni per il pacchetto name server BIND
                all'interno di FreeBSD.</td></tr><tr><td>Risolutore</td><td>Un processo di sistema attraverso il quale
                una macchina fa query su un name server
                per informazioni di zona.</td></tr><tr><td><acronym class="acronym">DNS</acronym> inverso</td><td>L'opposto del forward <acronym class="acronym">DNS</acronym>; mappare
                indirizzi <acronym class="acronym">IP</acronym> su nomi host.</td></tr><tr><td>Zona root</td><td>L'inizio della gerarchia della zona
                Internet.  Tutte le zone cadono sotto la
                zona root, analogamente
                a come tutti i file nel file system cadono sotto
                la directory root.</td></tr><tr><td>Zona</td><td>Un dominio individuale, sottodominio, o
                porzione del <acronym class="acronym">DNS</acronym> amministrato dalla stessa
                autorità</td></tr></tbody></table></div><a id="idp88665808" class="indexterm"></a><p>Esempi di zone:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="systemitem">.</code> è la zona root</p></li><li class="listitem"><p><code class="systemitem">org.</code> è una zona
            Top Level Domain (<acronym class="acronym">TLD</acronym>) sotto la zona root</p></li><li class="listitem"><p><code class="systemitem">example.org.</code>
            è una zona sotto la zona
            <code class="systemitem">org.</code> <acronym class="acronym">TLD</acronym></p></li><li class="listitem"><p>
            <code class="systemitem">1.168.192.in-addr.arpa</code> è una zona
            che referenzia tutti gli indirizzi <acronym class="acronym">IP</acronym> che cadono
            sotto lo spazio <acronym class="acronym">IP</acronym> <code class="systemitem">192.168.1.*</code>.
          </p></li></ul></div><p>Come si può vedere, la parte più
        specifica di un nome host appare a sinistra.  Per esempio
        <code class="systemitem">example.org.</code> è
        più specifico di <code class="systemitem">org.</code>, come
        <code class="systemitem">org.</code> è più specifico
        della zona root.  La disposizione di ogni parte di un nome
        host è analoga ad un file system: la
        directory <code class="filename">/dev</code> cade
        all'interno della root, e così via.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88676816"></a>27.6.3. Ragioni per Avere in Esecuzione un Name Server</h3></div></div></div><p>Attualmente vengono usati due tipi di name server:
        un name server autoritativo, ed un name server cache.</p><p>Un name server autoritativo è necessario
        quando:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>uno vuole servire informazioni <acronym class="acronym">DNS</acronym> a tutto
            il mondo, rispondendo in maniera autoritativa
            alle query.</p></li><li class="listitem"><p>un dominio, tipo
            <code class="systemitem">example.org</code>, è
            registrato e gli indirizzi <acronym class="acronym">IP</acronym> devono essere
            assegnati ad hostname sotto questo.</p></li><li class="listitem"><p>un blocco di indirizzi <acronym class="acronym">IP</acronym> richiede
            entry di <acronym class="acronym">DNS</acronym> inverso (da <acronym class="acronym">IP</acronym>
            ad hostname).</p></li><li class="listitem"><p>un name server di backup, chiamato uno
            slave, deve rispondere alle query.</p></li></ul></div><p>Un name server cache è necessario quando:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>un server locale DNS può tenere in cache e
            rispondere più velocemente rispetto ad effettuare
            query ad un name server all'esterno.</p></li><li class="listitem"><p>una riduzione nel traffico complessivo di
            rete è desiderato (è stato
            calcolato che il traffico DNS
            conta più del 5% sul traffico totale di
            Internet).</p></li></ul></div><p>Quando uno fa una query per risolvere
        <code class="systemitem">www.FreeBSD.org</code>, il
        risolutore di solito fa una query al name
        server dell'<acronym class="acronym">ISP</acronym> a cui si è connessi,
        ed ottiene una risposta.  Con un server <acronym class="acronym">DNS</acronym>
        locale, che fa cache,
        la query deve essere effettuata una volta sola dal
        server <acronym class="acronym">DNS</acronym> che fa cache.  Ogni
        query aggiuntiva non dovrà cercare all'esterno
        della rete locale, dato che l'informazione
        è tenuta in cache localmente.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88697296"></a>27.6.4. Come Funziona</h3></div></div></div><p>In FreeBSD, il demone BIND è chiamato
        <span class="application">named</span> per ovvie ragioni.</p><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>File</th><th>Descrizione</th></tr></thead><tbody><tr><td><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=named&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">named</span>(8)</span></a></td><td>Il demone BIND.</td></tr><tr><td><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=rndc&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">rndc</span>(8)</span></a></td><td>Programma di controllo del name server.</td></tr><tr><td><code class="filename">/etc/namedb</code></td><td>Directory dove risiedono le
                informazioni di zona di BIND.</td></tr><tr><td><code class="filename">/etc/namedb/named.conf</code></td><td>File di configurazione del demone.</td></tr></tbody></table></div><p>
        A seconda di come certe zone sono configurate
        sul server, i file relativi a quelle zone possono essere
        trovate nelle sottodirectory <code class="filename">master</code>, <code class="filename">slave</code>, or <code class="filename">dynamic</code> della directory
        <code class="filename">/etc/namedb</code>.
        Questi file contengono le informazioni <acronym class="acronym">DNS</acronym>
        che saranno distribuite dal name server in risposta alle query.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88710224"></a>27.6.5. Avviare BIND</h3></div></div></div><a id="idp88710864" class="indexterm"></a><p>Dato che BIND è installato di default,
        configurarlo è relativamente semplice.</p><p>La configurazione di default di <span class="application">named</span>
        è quella di un name server basilare, eseguito in
        ambiente <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chroot&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">chroot</span>(8)</span></a>.  Per avviare il server una volta
        con questa configurazione, usa il seguente comando:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>/etc/rc.d/named forcestart</code></strong></pre><p>Per assicurarsi che il demone
        <span class="application">named</span>
        sia avviato alla partenza, metti la seguente riga
        in <code class="filename">/etc/rc.conf</code>:</p><pre class="programlisting">named_enable="YES"</pre><p>Ci sono ovviamente molte opzioni di configurazione
        per <code class="filename">/etc/namedb/named.conf</code> che sono al di là
        dello scopo di questo documento.  Comunque, se siete interessati
        nelle opzioni di avvio per <span class="application">named</span> su FreeBSD,
        dai un'occhiata ai flags <code class="literal">named_</code> in
        <code class="filename">/etc/defaults/rc.conf</code> e consulta la pagina
        di manuale <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=rc.conf&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">rc.conf</span>(5)</span></a>.  Anche la sezione <a class="xref" href="configtuning-initial.html" title="11.2. Configurazione Iniziale">Sezione 11.2, «Configurazione Iniziale»</a>
        è una buona base di partenza.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88723792"></a>27.6.6. File di Configurazione</h3></div></div></div><a id="idp88724560" class="indexterm"></a><p>I file di configurazione per <span class="application">named</span>
        al corrente risiedono nella directory <code class="filename">
        /etc/named</code> e necessiteranno di modifiche prima
        dell'uso, a meno che non si voglia un semplice resolver.
        Qui è dove la maggior pare della configurazione viene
        effettuata.</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88726864"></a>27.6.6.1. Usando <code class="command">make-localhost</code></h4></div></div></div><p>Per configurare una zona master per il localhost
          visita la directory <code class="filename">/etc/namedb</code>
          ed esegui il seguente comando:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>sh make-localhost</code></strong></pre><p>Se tutto è andato bene, un nuovo file dovrebbe
          esistere nella sottodirectory
          <code class="filename">master</code>.
          I nomi dei file dovrebbero essere <code class="filename">localhost.rev</code>
          per il local domain name e<code class="filename">localhost-v6.rev</code>
          per le configurazioni <acronym class="acronym">IPv6</acronym>.
          Come il file di configurazione di default, l'informazione
          richiesta sarà presente nel file <code class="filename">named.conf</code>.
        </p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88731856"></a>27.6.6.2. <code class="filename">/etc/namedb/named.conf</code></h4></div></div></div><pre class="programlisting">// $FreeBSD$
//
// Refer to the named.conf(5) and named(8) man pages, and the documentation
// in /usr/share/doc/bind9 for more details.
//
// If you are going to set up an authoritative server, make sure you
// understand the hairy details of how DNS works.  Even with
// simple mistakes, you can break connectivity for affected parties,
// or cause huge amounts of useless Internet traffic.

options {
  directory "/etc/namedb";
  pid-file  "/var/run/named/pid";
  dump-file "/var/dump/named_dump.db";
  statistics-file "/var/stats/named.stats";

// If named is being used only as a local resolver, this is a safe default.
// For named to be accessible to the network, comment this option, specify
// the proper IP address, or delete this option.
  listen-on { 127.0.0.1; };

// If you have IPv6 enabled on this system, uncomment this option for
// use as a local resolver.  To give access to the network, specify
// an IPv6 address, or the keyword "any".
//  listen-on-v6  { ::1; };

// In addition to the "forwarders" clause, you can force your name
// server to never initiate queries of its own, but always ask its
// forwarders only, by enabling the following line:
//
//  forward only;

// If you've got a DNS server around at your upstream provider, enter
// its IP address here, and enable the line below.  This will make you
// benefit from its cache, thus reduce overall DNS traffic in the Internet.
/*
  forwarders {
    127.0.0.1;
  };
*/</pre><p>Proprio come dicono i commenti, per beneficiare
          di una cache di un server superiore, può
          essere abilitato <code class="literal">forwarders</code>.
          Sotto circostanze normali, un name
          server farà query ricorsive attraverso Internet
          cercando certi name server fino a chè non trova
          la risposta che sta cercando.  Averlo abilitato farà
          sì che sarà fatta prima una query verso il
          name server superiore (o il name server fornito),
          avvantaggiandosi della sua cache.  Se il name
          server superiore è un name server molto
          trafficato e veloce, può valere la pena di
          abilitarlo.</p><div xmlns="" class="warning"><h3 class="admontitle">Avvertimento: </h3><p xmlns="http://www.w3.org/1999/xhtml"><code class="systemitem">127.0.0.1</code>
              <span class="emphasis"><em>non</em></span> funzionerà qui.
            Cambia questo indirizzo <acronym class="acronym">IP</acronym> in un name server
            superiore.</p></div><pre class="programlisting">  /*
   * If there is a firewall between you and nameservers you want
   * to talk to, you might need to uncomment the query-source
   * directive below.  Previous versions of BIND always asked
   * questions using port 53, but BIND versions 8 and later
   * use a pseudo-random unprivileged UDP port by default.
   */
   // query-source address * port 53;
};

// If you enable a local name server, don't forget to enter 127.0.0.1
// first in your /etc/resolv.conf so this server will be queried.
// Also, make sure to enable it in /etc/rc.conf.

zone "." {
  type hint;
  file "named.root";
};

zone "0.0.127.IN-ADDR.ARPA" {
  type master;
  file "master/localhost.rev";
};

// RFC 3152
zone "1.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.IP6.ARPA" {
  type master;
  file "master/localhost-v6.rev";
};

// NB: Do not use the IP addresses below, they are faked, and only
// serve demonstration/documentation purposes!
//
// Example slave zone config entries.  It can be convenient to become
// a slave at least for the zone your own domain is in.  Ask
// your network administrator for the IP address of the responsible
// primary.
//
// Never forget to include the reverse lookup (IN-ADDR.ARPA) zone!
// (This is named after the first bytes of the IP address, in reverse
// order, with ".IN-ADDR.ARPA" appended.)
//
// Before starting to set up a primary zone, make sure you fully
// understand how DNS and BIND works.  There are sometimes
// non-obvious pitfalls.  Setting up a slave zone is simpler.
//
// NB: Don't blindly enable the examples below. :-)  Use actual names
// and addresses instead.

/* An example master zone
zone "example.net" {
  type master;
  file "master/example.net";
};
*/

/* An example dynamic zone
key "exampleorgkey" {
  algorithm hmac-md5;
  secret "sf87HJqjkqh8ac87a02lla==";
};

zone "example.org" {
  type master;
  allow-update {
    key "exampleorgkey";
  };
  file "dynamic/example.org";
};
*/

/* Examples of forward and reverse slave zones
zone "example.com" {
  type slave;
  file "slave/example.com";
  masters {
    192.168.1.1;
  };
};
zone "1.168.192.in-addr.arpa" {
  type slave;
  file "slave/1.168.192.in-addr.arpa";
  masters {
    192.168.1.1;
  };
};
*/</pre><p>In <code class="filename">named.conf</code>, ci sono esempi
          di linee slave per zone di forward ed inverse.</p><p>Per ogni nuova zona servita, una nuova linea di
           zona deve essere aggiunta a
           <code class="filename">named.conf</code>.</p><p>Per esempio, la più semplice entry  per
          <code class="systemitem">example.org</code> può
          assomigliare a:</p><pre class="programlisting">zone "example.org" {
   type master;
   file "master/example.org";
};</pre><p>La zona è una master, come indicato
          dall'entry <code class="option">type</code>,
          e conserva le informazioni di zona su
          <code class="filename">/etc/namedb/master/example.org</code>
          indicata dalla entry
          <code class="option">file</code>.</p><pre class="programlisting">zone "example.org" {
   type slave;
   file "slave/example.org";
};</pre><p>Nel caso slave, l'informazione di zona è
          trasferita dal name server master per quella zona
          particolare, e salvata nel file specificato.  Se e
          quando il master muore o è irraggiungibile,
          il name server slave avrà le informazioni di
          zona trasferite e sarà in grado di servirlo.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88762192"></a>27.6.6.3. File di Zona</h4></div></div></div><a id="idp88762832" class="indexterm"></a><p>Un esempio di file di zona master per  <code class="systemitem">example.org</code> (che esiste
          all'interno di <code class="filename">/etc/namedb/master/example.org
          </code>) è la seguente:</p><pre class="programlisting">$TTL 3600        ; 1 hour
example.org.    IN      SOA      ns1.example.org. admin.example.org. (
                                2006051501      ; Serial
                                10800           ; Refresh
                                3600            ; Retry
                                604800          ; Expire
                                86400           ; Minimum TTL
                        )

; DNS Servers
                IN      NS      ns1.example.org.
                IN      NS      ns2.example.org.

; MX Records
                IN      MX 10   mx.example.org.
                IN      MX 20   mail.example.org.

                IN      A       192.168.1.1

; Machine Names
localhost       IN      A       127.0.0.1
ns1             IN      A       192.168.1.2
ns2             IN      A       192.168.1.3
mx              IN      A       192.168.1.4
mail            IN      A       192.168.1.5

; Aliases
www             IN      CNAME   @</pre><p>Nota che ogni hostname che finisce in
          un <span class="quote">«<span class="quote">.</span>»</span> è
          un nome esatto, mentre ogni entità senza un
          <span class="quote">«<span class="quote">.</span>»</span> è referenziato all'origine.
          Per esempio <code class="literal">www</code> è trasformato
          in <code class="literal">www.origin</code>.
          Nel nostro file di zone fittizio, la nostra origine
          è <code class="systemitem">example.org</code>, così
          <code class="literal">www</code> si trasformerebbe in
          <code class="systemitem">www.example.org</code>.</p><p>Il formato di un file di zona è
          il seguente:</p><pre class="programlisting">recordname      IN recordtype
value</pre><a id="idp88777808" class="indexterm"></a><p>I record DNS usati più di frequente:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">SOA</span></dt><dd><p>inizio di una zona di
              autorità</p></dd><dt><span class="term">NS</span></dt><dd><p>un name server
              autoritativo</p></dd><dt><span class="term">A</span></dt><dd><p>un indirizzo host</p></dd><dt><span class="term">CNAME</span></dt><dd><p>il nome canonico per un
              alias</p></dd><dt><span class="term">MX</span></dt><dd><p>mail exchanger</p></dd><dt><span class="term">PTR</span></dt><dd><p>un puntatore a nome di dominio (usato nel
                DNS inverso)</p></dd></dl></div><pre class="programlisting">
example.org. IN SOA ns1.example.org. admin.example.org. (
                        2006051501      ; Serial
                        10800           ; Refresh after 3 hours
                        3600            ; Retry after 1 hour
                        604800          ; Expire after 1 week
                        86400 )         ; Minimum TTL of 1
day</pre><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="systemitem">example.org.</code></span></dt><dd><p>il nome di dominio, inoltre è
                l'origine per questo file di zona.</p></dd><dt><span class="term"><code class="systemitem">ns1.example.org.</code></span></dt><dd><p>il name server primario/autoritativo
                per questa zona.</p></dd><dt><span class="term"><code class="literal">admin.example.org.</code></span></dt><dd><p>la persona responsabile per questa
                zona, un indirizzo email con <span class="quote">«<span class="quote">@</span>»</span>
                sostituito.  (<code class="email">&lt;<a xmlns="" class="email" href="mailto:admin@example.org">admin@example.org</a>&gt;</code>
                diventa <code class="literal">admin.example.org</code>)</p></dd><dt><span class="term"><code class="literal">2006051501</code></span></dt><dd><p>il numero di serie del file.  Questo
                deve essere aumentato ogni volta che il file di
                zona è modificato.  Al giorno d'oggi
                molti amministratori preferiscono un formato
                <code class="literal">yyyymmddrr</code> per il numero
                di serie.
                <code class="literal">2006051501</code> significherebbe
                modificato l'ultima volta il 05/15/2006, l'ultimo
                <code class="literal">01</code> essendo la prima volta che
                il file di zona è stato modificato in
                questo giorno.  Il numero di serie è
                importante dato che avverte
                name server slave per una zona quando questa
                ` modificata.</p></dd></dl></div><pre class="programlisting">
       IN NS           ns1.example.org.</pre><p>Questa è una linea NS.  Ogni name server che
          replicherà in maniera autoritativa la zona deve
          avere una di queste linee.  Il <code class="literal">@</code> come
          visto potrebbe essere stato <code class="systemitem">
          example.org.</code>
          Il <code class="literal">@</code> si traduce nell'origine.</p><pre class="programlisting">
localhost       IN      A       127.0.0.1
ns1             IN      A       192.168.1.2
ns2             IN      A       192.168.1.3
mx              IN      A       192.168.1.4
mail            IN      A       192.168.1.5</pre><p>Il record A indica un nome macchina.  Come visto
          sopra, <code class="systemitem">ns1.example.org</code>
          risolverebbe in <code class="systemitem">192.168.1.2</code>.
        </p><pre class="programlisting">
                IN      A       192.168.1.1</pre><p>Questa linea assegna l'indirizzo IP
          <code class="systemitem">192.168.1.1</code> alla corrente origine,
          in questo caso <code class="systemitem">example.org</code>.</p><pre class="programlisting">
www             IN CNAME        @</pre><p>Il record nome canonico è usato per dare alias
          ad una macchina.  Nell'esempio, <code class="systemitem">www</code>
          è tramutato in alias nella macchina <span class="quote">«<span class="quote">master</span>»</span>
          che corrisponde al domain name <code class="systemitem">example.org
          </code> (<code class="systemitem">192.168.1.1</code>).
          CNAME possono essere usati per fornire alias
          ad hostname o distribuire in round robin un
          hostname fra molte macchine.</p><a id="idp88815696" class="indexterm"></a><pre class="programlisting">
               IN MX   10      mail.example.org.</pre><p>Il record MX ` usato per specificare quali
          mail server sono responsabili per gestire mail
          entranti per la zona.
          <code class="systemitem">mail.example.org
          </code> è l'hostname del mail
          server, e 10 è la priorità di
          quel mail server.</p><p>Uno può avere molti mail server, con
          priorità di 10, 20 e così via.  Un mail server che
          cerca di consegnare una mail a
          <code class="systemitem">example.org</code>
          proverà prima l'MX con la più alta
          priorità (il record con il numero di priorita' minimo)
          poi il secondo, etc., fino a
          chè la mail non sia
          consegnata correttamente.</p><p>Per file di zona in-addr.arpa (DNS inverso), lo stesso
          formato è usato, eccetto con linee PTR
          al posto di A o CNAME.</p><pre class="programlisting">$TTL 3600
1.168.192.in-addr.arpa. IN SOA ns1.example.org. admin.example.org. (
                        2006051501      ; Serial
                        10800           ; Refresh
                        3600            ; Retry
                        604800          ; Expire
                        3600 )          ; Minimum

        IN      NS      ns1.example.org.
        IN      NS      ns2.example.org.

1       IN      PTR     example.org.
2       IN      PTR     ns1.example.org.
3       IN      PTR     ns2.example.org.
4       IN      PTR     mx.example.org.
5       IN      PTR     mail.example.org.</pre><p>Questo file da la corretta mappa da indirizzi
          IP ad hostname per il nostro dominio fittizio.</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88832464"></a>27.6.7. Caching Name Server</h3></div></div></div><a id="idp88833104" class="indexterm"></a><p>Un name server caching è un name server
        che non è autoritativo per nessuna zona.
        Fa semplicemente query, e ne memorizza le risposte
        per uso successivo.  Per impostarne uno, configura
        il name server come al solito, omettendo ogni
        inclusione di zona.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88834768"></a>27.6.8. Sicurezza</h3></div></div></div><p>Anche se BIND è la più comune
        implementazione del DNS, c'è sempre la questione
        della sicurezza. Talvolta vengono trovati possibili
        e sfruttabili buchi di sicurezza.</p><p>Mentre FreeBSD tiene <span class="application">named</span>
        automaticamente in un ambiente <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chroot&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">chroot</span>(8)</span></a>,
        ci sono molti altri meccanismi di sicurezza che
        potrebbero essere sfruttati per attacchi al servizio
        <acronym class="acronym">DNS</acronym>.</p><p>È una buona idea leggere
        gli avvisi sulla sicurezza di <a class="link" href="http://www.cert.org/" target="_top">CERT</a> e
        sottoscrivere le <a class="link" href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-security-notifications" target="_top">mailing list sugli avvisi di sicurezza su FreeBSD</a>
        per stare aggiornato con le questioni
        correnti di sicurezza di Internet e FreeBSD.</p><div xmlns="" class="tip"><h3 class="admontitle">Suggerimento: </h3><p xmlns="http://www.w3.org/1999/xhtml">Se sorge un problema, tenere i
          sorgenti aggiornati e fare una compilazione
          al volo di <span class="application">named
          </span> non farebbe male.</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp88840656"></a>27.6.9. Ulteriori letture</h3></div></div></div><p>Pagine di manuale di
        BIND/<span class="application">named</span>:
        <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=rndc&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">rndc</span>(8)</span></a> <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=named&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">named</span>(8)</span></a> <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=named.conf&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">named.conf</span>(5)</span></a></p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="link" href="http://www.isc.org/products/BIND/" target="_top">Official ISC BIND
              Page</a></p></li><li class="listitem"><p><a class="link" href="http://www.isc.org/sw/guild/bf/" target="_top">Official ISC BIND
       Forum</a></p></li><li class="listitem"><p><a class="link" href="http://www.nominum.com/getOpenSourceResource.php?id=6" target="_top">
              BIND FAQ</a></p></li><li class="listitem"><p><a class="link" href="http://www.oreilly.com/catalog/dns4/" target="_top">O'Reilly
              DNS and BIND 4th Edition</a></p></li><li class="listitem"><p><a class="link" href="ftp://ftp.isi.edu/in-notes/rfc1034.txt" target="_top">RFC1034
              - Domain Names - Concepts and Facilities</a></p></li><li class="listitem"><p><a class="link" href="ftp://ftp.isi.edu/in-notes/rfc1035.txt" target="_top">RFC1035
              - Domain Names - Implementation and Specification</a></p></li></ul></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="network-dhcp.html">Indietro</a> </td><td width="20%" align="center"><a accesskey="u" href="network-servers.html">Risali</a></td><td width="40%" align="right"> <a accesskey="n" href="network-apache.html">Avanti</a></td></tr><tr><td width="40%" align="left" valign="top">27.5. Configurazione Automatica della Rete (DHCP) </td><td width="20%" align="center"><a accesskey="h" href="index.html">Partenza</a></td><td width="40%" align="right" valign="top"> 27.7. Apache HTTP Server</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Questo, ed altri documenti, possono essere scaricati da
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Per domande su FreeBSD, leggi la
    <a href="http://www.FreeBSD.org/docs.html">documentazione</a> prima di contattare
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Per domande su questa documentazione, invia una e-mail a
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>