<?xml version="1.0" encoding="iso-8859-7" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-7" /><title>28.5. Αντιμετώπιση Προβλημάτων</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Εγχειρίδιο του FreeBSD" /><link rel="up" href="mail.html" title="Κεφάλαιο 28. Ηλεκτρονικό Ταχυδρομείο" /><link rel="prev" href="mail-changingmta.html" title="28.4. Αλλάζοντας τον Αντιπρόσωπο Μεταφοράς Ταχυδρομείου (MTA)" /><link rel="next" href="mail-advanced.html" title="28.6. Προχωρημένα Θέματα" /><link rel="copyright" href="legalnotice.html" title="Νομική Σημείωση" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">28.5. Αντιμετώπιση Προβλημάτων</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="mail-changingmta.html">Προηγ</a> </td><th width="60%" align="center">Κεφάλαιο 28. Ηλεκτρονικό Ταχυδρομείο</th><td width="20%" align="right"> <a accesskey="n" href="mail-advanced.html">Επόμενο</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="mail-trouble"></a>28.5. Αντιμετώπιση Προβλημάτων</h2></div></div></div><a id="idp96757840" class="indexterm"></a><div class="qandaset"><a id="idp96758992"></a><dl><dt>28.5.1. <a href="mail-trouble.html#idp96759248">Γιατί πρέπει να χρησιμοποιώ το πλήρες όνομα (FQDN) για
	    υπολογιστές που βρίσκονται στον τομέα μου;</a></dt><dt>28.5.2. <a href="mail-trouble.html#idp96794064">Το sendmail δίνει το μήνυμα
	    mail loops back to myself (το mail
	    επιστρέφει στον εαυτό μου)</a></dt><dt>28.5.3. <a href="mail-trouble.html#idp96800080">Πως μπορώ να εκτελέσω εξυπηρετητή mail σε υπολογιστή που
	    συνδέεται μέσω επιλογικής σύνδεσης
	    PPP;</a></dt><dt>28.5.4. <a href="mail-trouble.html#idp96861520">Γιατί λαμβάνω συνέχεια μηνύματα λάθους Relaying
	    Denied όταν στέλνω mail από άλλους
	    υπολογιστές;</a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%" /><col /></colgroup><tbody><tr class="question"><td align="left" valign="top"><a id="idp96759248"></a><a id="idp96759504"></a><p><strong>28.5.1.</strong></p></td><td align="left" valign="top"><p>Γιατί πρέπει να χρησιμοποιώ το πλήρες όνομα (FQDN) για
	    υπολογιστές που βρίσκονται στον τομέα μου;</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Το πιο πιθανό είναι να διαπιστώσετε ότι ο υπολογιστής
	    βρίσκεται στην πραγματικότητα σε διαφορετικό τομέα.  Για
	    παράδειγμα, αν βρίσκεστε στο
	    <code class="systemitem">foo.bar.edu</code> και θέλετε να
	    επικοινωνήσετε με ένα υπολογιστή με το όνομα
	    <code class="systemitem">mumble</code> στον τομέα <code class="systemitem">bar.edu</code>, θα πρέπει να αναφερθείτε
	    σε αυτόν με το πλήρες του όνομα, <code class="systemitem">mumble.bar.edu</code>, αντί για απλώς
	    <code class="systemitem">mumble</code>.</p><p>Παραδοσιακά, αυτό επιτρεπόταν από τους DNS resolvers του
	    BIND<a id="idp96767696" class="indexterm"></a>.
	    Ωστόσο, η τρέχουσα έκδοση του <span class="application">BIND</span> που
	    περιλαμβάνεται στο FreeBSD, δεν παρέχει πλέον συντομεύσεις για
	    μη-πλήρη ονόματα τομέων, εκτός για τον τομέα στον οποίο βρίσκεστε.
	    Έτσι, ένας υπολογιστής με μη-πλήρες όνομα
	    <code class="systemitem">mumble</code> θα πρέπει να βρεθεί ως <code class="systemitem">mumble.foo.bar.edu</code>, ή θα γίνει αναζήτηση
	    για αυτόν στο ριζικό τομέα.</p><p>Η συμπεριφορά αυτή είναι διαφορετική από την προηγούμενη, όπου
	    η αναζήτηση συνεχιζόταν και στο <code class="systemitem">mumble.bar.edu</code>, και το <code class="systemitem">mumble.edu</code>.  Ρίξτε μια ματιά στο
	    RFC 1535 για το λόγο που το παραπάνω θεωρείτε κακή πρακτική, ή
	    ακόμα και κενό ασφαλείας.</p><p>Ένας τρόπος για να παρακάμψετε το πρόβλημα είναι να προσθέσετε
	    τη γραμμή:
	    </p><pre class="programlisting">search foo.bar.edu bar.edu</pre><p>
	    αντί για την προηγούμενη:
	    </p><pre class="programlisting">domain foo.bar.edu</pre><p>
	    στο αρχείο <code class="filename">/etc/resolv.conf</code>.  Βεβαιωθείτε
	    ωστόσο ότι η σειρά αναζήτησης δεν πηγαίνει πέρα από το
	    <span class="quote">«<span class="quote">όριο μεταξύ τοπικής και δημόσιας διαχείρισης</span>»</span>,
	    όπως το αποκαλεί το RFC 1535.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp96794064"></a><a id="idp96794320"></a><p><strong>28.5.2.</strong></p></td><td align="left" valign="top"><p>Το <span class="application">sendmail</span> δίνει το μήνυμα
	    <span class="errorname">mail loops back to myself</span> (το mail
	    επιστρέφει στον εαυτό μου)</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Η απάντηση σε αυτό, υπάρχει στο FAQ του
	  <span class="application">sendmail</span> όπως φαίνεται παρακάτω:</p><pre class="programlisting">Λαμβάνω αυτά τα μηνύματα λάθους:

553 MX list for domain.net points back to relay.domain.net
554 &lt;user@domain.net&gt;... Local configuration error

Πως μπορώ να λύσω το πρόβλημα;

Έχετε ζητήσει το mail προς ένα τομέα (π.χ. το domain.net) να
προωθείται προς ένα συγκεκριμένο υπολογιστή (στην περίπτωση αυτή
το relay.domain.net) χρησιμοποιώντας μια εγγραφή
MX<a id="idp96797136" class="indexterm"></a>, αλλά το
μηχάνημα αναμετάδοσης (relay) δεν αναγνωρίζει τον εαυτό του ως
domain.net.  Προσθέστε το domain.net στο /etc/mail/local-host-names
[είναι γνωστό ως /etc/sendmail.cw πριν την έκδοση 8.10]
(αν χρησιμοποιείτε το FEATURE(use_cw_file)), διαφορετικά προσθέστε το
<span class="quote">«<span class="quote">Cw domain.net</span>»</span> στο /etc/mail/sendmail.cf.</pre><p>Μπορείτε να βρείτε το FAQ του
	    <span class="application">sendmail</span> στη διεύθυνση
	    <code class="uri"><a class="uri" href="http://www.sendmail.org/faq/" target="_top">http://www.sendmail.org/faq/</a></code>, και συνίσταται
	    να το διαβάσετε αν θέλετε να <span class="quote">«<span class="quote">πειράξετε</span>»</span> τις
	    ρυθμίσεις του mail σας.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp96800080"></a><a id="idp96800336"></a><p><strong>28.5.3.</strong></p></td><td align="left" valign="top"><p>Πως μπορώ να εκτελέσω εξυπηρετητή mail σε υπολογιστή που
	    συνδέεται μέσω επιλογικής σύνδεσης
	    PPP<a id="idp96800848" class="indexterm"></a>;</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Θέλετε να συνδέσετε ένα FreeBSD μηχάνημα σε ένα τοπικό δίκτυο
	    (LAN) στο Internet.  Το FreeBSD μηχάνημα θα γίνει πύλη ταχυδρομείου
	    για το LAN.  Η σύνδεση PPP δεν είναι αποκλειστική.</p><p>Υπάρχουν τουλάχιστον δύο τρόποι για να το κάνετε αυτό.  Ο ένας
	    είναι με τη χρήση UUCP<a id="idp96810832" class="indexterm"></a>.</p><p>Ένας άλλος τρόπος είναι να βάλετε ένα εξυπηρετητή Internet ο
	    οποίος έχει συνεχή σύνδεση, να σας παρέχει υπηρεσία δευτερεύοντος
	    MX για τον τομέα σας.  Για παράδειγμα, αν ο τομέας της εταιρίας
	    σας είναι <code class="systemitem">example.com</code> και ο
	    παροχέας σας Internet έχει ορίσει το
	    <code class="systemitem">example.net</code> να παρέχει
	    υπηρεσίες δευτερεύοντος MX<a id="idp96812880" class="indexterm"></a> για τον τομέα σας:</p><pre class="programlisting">example.com.          MX        10      example.com.
                      MX        20      example.net.</pre><p>Μόνο ένας υπολογιστής μπορεί να καθοριστεί ως τελικός
	    παραλήπτης (προσθέστε το <code class="literal">Cw example.com</code> στο
	    αρχείο <code class="filename">/etc/mail/sendmail.cf</code> στο
	    <code class="systemitem">example.com</code>).</p><p>Όταν το μηχάνημα που στέλνει μέσω του
	    <code class="command">sendmail</code> προσπαθεί να παραδώσει το mail θα
	    προσπαθήσει να συνδεθεί στο δικό σας
	    (<code class="systemitem">example.com</code>) μέσω της σύνδεσης
	    modem.  Το πιο πιθανό είναι ότι δεν θα τα καταφέρει, γιατί δεν
	    θα είστε συνδεμένος εκείνη τη στιγμή.  Το
	    <span class="application">sendmail</span> θα το παραδώσει αυτόματα στην
	    υπηρεσία δευτερεύοντος MX, π.χ. τον παροχέα σας Internet
	    (<code class="systemitem">example.net</code>).  Το δευτερεύον
	    MX θα προσπαθεί περιοδικά να συνδεθεί στο μηχάνημα σας και να
	    παραδώσει το mail στον κύριο εξυπηρετητή MX
	    (<code class="systemitem">example.com</code>).</p><p>Μπορείτε να χρησιμοποιήσετε κάτι όπως το παρακάτω ως script
	    εισόδου:</p><pre class="programlisting">#!/bin/sh
# Put me in /usr/local/bin/pppmyisp
( sleep 60 ; /usr/sbin/sendmail -q ) &amp;
/usr/sbin/ppp -direct pppmyisp</pre><p>Αν πρόκειται να χρησιμοποιήσετε χωριστό script για την είσοδο
	    κάποιου χρήστη, μπορείτε να χρησιμοποιήσετε αντί για το παραπάνω
	    το <code class="command">sendmail -qRexample.com</code> στο script.  Αυτό
	    θα εξαναγκάσει την άμεση επεξεργασία όλου του mail στην ουρά για
	    το <code class="systemitem">example.com</code>.</p><p>Πιο λεπτομερής περιγραφή της κατάστασης φαίνεται
	    παρακάτω:</p><p>Μήνυμα από την <a class="link" href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-isp" target="_top">ηλεκτρονική λίστα του FreeBSD για τους παροχείς υπηρεσιών Internet</a>.</p><pre class="programlisting">&gt; παρέχουμε δευτερεύον MX για ένα πελάτη.  Ο πελάτης συνδέεται στις
&gt; υπηρεσίες μας αρκετές φορές τη μέρα αυτόματα, για να λαμβάνει τα email του
&gt; στο πρωτεύον του MX (Δεν καλούμε την τοποθεσία του όταν λαμβάνουμε email
&gt; για τον τομέα του).  Το sendmail μας στέλνει το  mailqueue κάθε 30 λεπτά.
&gt; Τη δεδομένη στιγμή θα πρέπει να μείνει συνδεμένος για 30 λεπτά,
&gt; για να είναι βέβαιος ότι όλο το email του θα έχει
&gt; παραδοθεί στον πρωτεύοντα MX.
&gt;
&gt; Υπάρχει κάποια εντολή που να εξαναγκάσει το sendmail να στείλει
&gt; όλα τα mails άμεσα; Ο χρήστης φυσικά δεν έχει δικαιώματα
&gt; root στο μηχάνημα μας.

Στην ενότητα <span class="quote">«<span class="quote">privacy flags</span>»</span> του sendmail.cf, υπάρχει ένας
ορισμός Opgoaway,restrictqrun

Αφαιρέστε το restrictqrun για να επιτρέψετε σε μη-root χρήστες να ξεκινήσουν
την επεξεργασία της ουράς.
Μπορεί επίσης να θέλετε να αναδιατάξετε τα MX.  Είμαστε το 1ο MX για αυτού
του είδους τους πελάτες, και έχουμε ορίσει:

# If we are the best MX for a host, try directly instead of generating
# local config error.
OwTrue

Με τον τρόπο αυτό, ένα απομακρυσμένο site θα παραδίδει απευθείας σε σας,
χωρίς να προσπαθεί τη σύνδεση με το χρήστη.  Έπειτα τα στέλνετε στον
πελάτη σας.  Αυτό λειτουργεί μόνο για <span class="quote">«<span class="quote">μηχανήματα</span>»</span>, και έτσι
χρειάζεται να βάλετε τον πελάτη σας να ονομάσει το μηχάνημα του mail
<span class="quote">«<span class="quote">customer.com</span>»</span> και επίσης
<span class="quote">«<span class="quote">hostname.customer.com</span>»</span> στο DNS.  Απλώς προσθέστε μια εγγραφή
τύπου A στο DNS για το <span class="quote">«<span class="quote">customer.com</span>»</span>.</pre></td></tr><tr class="question"><td align="left" valign="top"><a id="idp96861520"></a><a id="idp96861776"></a><p><strong>28.5.4.</strong></p></td><td align="left" valign="top"><p>Γιατί λαμβάνω συνέχεια μηνύματα λάθους <span class="errorname">Relaying
	    Denied</span> όταν στέλνω mail από άλλους
	    υπολογιστές;</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Στις προεπιλεγμένες εγκαταστάσεις του FreeBSD, το
	    <span class="application">sendmail</span> είναι ρυθμισμένο να
	    στέλνει mail μόνο από τον υπολογιστή στον οποίο εκτελείται.
	    Για παράδειγμα, αν υπάρχει διαθέσιμος διακομιστής
	    <acronym class="acronym">POP</acronym>, οι χρήστες θα μπορούν να ελέγχουν το
	    mail τους από το σχολείο, το γραφείο, ή άλλη απομακρυσμένη
	    τοποθεσία, αλλά θα εξακολουθούν να μην μπορούν να στείλουν
	    προς εξωτερικές διευθύνσεις.  Τυπικά, λίγο μετά από μια απόπειρα
	    αποστολής, θα σταλεί ένα email από τον
	    <span class="application">MAILER-DAEMON</span> με το μήνυμα λάθους
	    <span class="errorname">5.7 Relaying Denied</span>.</p><p>Υπάρχουν διάφοροι τρόποι για να ξεπεράσετε το πρόβλημα.
	    Ο πλέον απλός είναι να βάλετε τη διεύθυνση του ISP σας σε
	    ένα αρχείο relay-domains,
	    <code class="filename">/etc/mail/relay-domains</code>.  Ένας γρήγορος
	    τρόπος για να το κάνετε αυτό είναι:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>echo "your.isp.example.com" &gt; /etc/mail/relay-domains</code></strong></pre><p>Αφού δημιουργήσετε ή επεξεργαστείτε αυτό το αρχείο, θα
	    πρέπει να επανεκκινήσετε το
	    <span class="application">sendmail</span>.  Αυτό δουλεύει μια χαρά
	    αν είστε διαχειριστής εξυπηρετητή και δεν επιθυμείτε να
	    στέλνετε mail τοπικά, ή αν θέλετε να χρησιμοποιήσετε ένα
	    σύστημα τύπου point και click σε ένα
	    άλλο μηχάνημα ή ακόμα και σε άλλο ISP.  Είναι επίσης πολύ
	    χρήσιμο αν έχετε ρυθμίσει μόνο ένα ή δύο λογαριασμούς mail.
	    Αν θέλετε να προσθέσετε μεγαλύτερο αριθμό διευθύνσεων, μπορείτε
	    να ανοίξετε αυτό το αρχείο με τον επιθυμητό συντάκτη
	    κειμένου, και να προσθέσετε όλους τους τομείς, ένα σε κάθε
	    γραμμή:</p><pre class="programlisting">your.isp.example.com
other.isp.example.net
users-isp.example.org
www.example.org</pre><p>Τώρα, οποιαδήποτε αποστολή mail από το σύστημα σας
	    από οποιοδήποτε υπολογιστή αυτής της λίστας (με την
	    προϋπόθεσή ο χρήστης να έχει λογαριασμό στο σύστημα σας), θα
	    είναι επιτυχής.  Πρόκειται για ένα πολύ καλό τρόπο να
	    επιτρέψετε στους χρήστες να στέλνουν mail από το σύστημα σας
	    μέσω απομακρυσμένης σύνδεσης, χωρίς να επιτρέπετε σε άλλους να
	    στέλνουν SPAM μέσω του συστήματος σας.</p></td></tr></tbody></table></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="mail-changingmta.html">Προηγ</a> </td><td width="20%" align="center"><a accesskey="u" href="mail.html">Πάνω</a></td><td width="40%" align="right"> <a accesskey="n" href="mail-advanced.html">Επόμενο</a></td></tr><tr><td width="40%" align="left" valign="top">28.4. Αλλάζοντας τον Αντιπρόσωπο Μεταφοράς Ταχυδρομείου (MTA) </td><td width="20%" align="center"><a accesskey="h" href="index.html">Αρχή</a></td><td width="40%" align="right" valign="top"> 28.6. Προχωρημένα Θέματα</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Αυτό το κείμενο, και άλλα κείμενα, μπορεί να βρεθεί στο
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Για ερωτήσεις σχετικά με το FreeBSD, διαβάστε την
    <a href="http://www.FreeBSD.org/docs.html">τεκμηρίωση</a> πριν να επικοινωνήσετε με την
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Για ερωτήσεις σχετικά με αυτή την τεκμηρίωση, στείλτε e-mail στην
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>