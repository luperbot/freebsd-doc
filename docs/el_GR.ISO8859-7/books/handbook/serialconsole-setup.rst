====================================
26.6. ??????? ??? ????????? ????????
====================================

.. raw:: html

   <div class="navheader">

26.6. ??????? ??? ????????? ????????
`????? <dialout.html>`__?
???????? 26. ????????? ????????????
?\ `??????? <ppp-and-slip.html>`__

--------------

.. raw:: html

   </div>

.. raw:: html

   <div class="sect1">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

26.6. ??????? ??? ????????? ????????
------------------------------------

.. raw:: html

   </div>

.. raw:: html

   <div>

?????????? ??? Kazutaka YOKOTA.

.. raw:: html

   </div>

.. raw:: html

   <div>

????????? ?? ??? ??????? ??? Bill Paul.

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   <div class="warning" xmlns="">

?????????????:
~~~~~~~~~~~~~~

??? ?? FreeBSD?8.0 ??? ????, ?? ?????? ???????? ??? ????????? ?????
?????????????? ??? ``/dev/ttydN`` ?? ``/dev/ttyuN``. ?? ??????? ???
FreeBSD?7.X ?? ?????? ?? ???????????? ??? ???????? ?????????? ??????? ??
??? ???????? ???????.

.. raw:: html

   </div>

.. raw:: html

   <div class="sect2">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

26.6.1. ????????
~~~~~~~~~~~~~~~~

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

?? FreeBSD ???? ??? ????????? ?? ????????? ?? ??? ??????? ?? ????? ??
??????? ???????? ??? ??????? ????????? ????????? ?? ??? ???????? ????.
???? ? ??????? ????? ??????? ?? ??? ?????????? ????????: ????????????
?????????? ??? ????????? ?? ????????????? FreeBSD ?? ?????????? ?? ?????
??? ????????? ???????????? ? ?????, ??? ??????????????? ??? ????????? ??
?????????????? ??? ?????? ? ??????? ????????.

???? ???????????? ??? `?????????13, *? ?????????? ????????? ???
FreeBSD* <boot.html>`__, ?? FreeBSD ???????????? ??????? ????????? ?????
???????. ?? ????? ??? ?????? ????? ???? ?????? ??? boot block, ? ??????
???????????? ???? ???? ??? ?????????? (slice) ??? ?????? ????????? ???
FreeBSD. ?? boot block ??????? ???????? ??? ??????? ??? ???????
????????? (``/boot/loader``) ?? ?????? ??? ?????? ???????.

??? ?? ?????????????? ??? ???????? ???????, ?? ?????? ?? ????????? ???
?????? ??? boot block, ?? ??????? ?????????, ??? ??? ??????.

.. raw:: html

   </div>

.. raw:: html

   <div class="sect2">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

26.6.2. ??????? ????????? ???????? (??????? ??????)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

? ??????? ???? ???????? ??? ????????? ?? ??????????????? ???
?????????????? ?????????, ??? ?????? ????? ??? ??????? ?????????? ???
??????????? ???????? ??? ????????? ????????.

.. raw:: html

   <div class="procedure">

#. ???????? ?? ???????? ??????? ???? ``COM1`` ??? ??? ?????????.

#. ??? ?? ????? ??? ?? ???????? ????????? ???? ???????? ???????, ?????
   ??? ???????? ?????? ?? ???????????:

   .. code:: screen

       # echo 'console="comconsole"' >> /boot/loader.conf

#. ?????????????? ?? ``/etc/ttys`` ??? ??????? ?? ``off`` ?? ``on`` ???
   ?? ``dialup`` ?? ``vt100`` ??? ??? ?????????? ``ttyu0``. ???????????,
   ??? ?? ?????????? ??????? ????????? ??? ?? ??????? ???? ??? ?????????
   ????????, ?? ????? ???????? ?????? ???? ?????????.

#. ????????????? ?? ??????? ??? ?? ????? ?? ??????? ?? ???????.

.. raw:: html

   </div>

?? ?????????? ???????????? ?????????, ?? ?????? ???????????? ??? ???
??????? ??? `??????26.6.3, ???????? ?????????
????????? <serialconsole-setup.html#serialconsole-howto>`__.

.. raw:: html

   </div>

.. raw:: html

   <div class="sect2">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

26.6.3. ??????? ????????? ????????
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   <div class="procedure">

#. ???????????? ??? ???????? ???????.

   ?? ??????????? ???? ??? ??????? ????? null-modem, ???? ???
   ???????????? ???????? ??????? ??? ??? ??????????? null-modem. ?????
   ?? `??????26.2.2, ?????? ???
   ???????? <serial.html#serial-cables-ports>`__ ??? ????????????
   ??????? ?? ?? ???? ??? ????????? ????????.

#. ??????????? ?? ???????????? ???.

   ?? ??????????? PC ??????? ??? ?? ???????????? ???? ??? ???????? ???
   ???????????? ????????? (POST, Power On Self Test), ??? ?? ?????????
   ?????? ?? ?? ???????????? ??? ????? ?????????. ?????? ??????????
   ?????????????? ????? ??? ??? ??????? ?????????????, ??? ???
   ?????????? ??? ???????? ????? ?? ?? ?????????.

   ?? ? ??????????? ??? ???????????? ??? ?? ?????, ???? ?????? ???? ???
   ??????, ??? ?????????? ?? ?????? ?????? ????????? ??? ????. (??????
   ?????????? ?? BIOS ??? Phoenix, ???? ????? Keyboard Failed ???
   ?????????? ??? ???????? ????????.)

   ?? ? ??????????? ??? ???????? ?? ????????? ????? ????????????, ??
   ?????? ?? ????????? ?? BIOS ???? ?? ?????? ?? ????? (?? ???????).
   ?????????????? ?? ?????????? ??? ???????? ??? ??? ????????????
   ??????? ?? ???? ?? ??????????.

   .. raw:: html

      <div class="tip" xmlns="">

   ????????:
   ~~~~~~~~~

   ???????? ?? ???????????? ?? ?Not installed? ??? BIOS. ? ??????? ????
   ????? ????????? ?? BIOS ??? ?? ?? ????????? ?? ???????????? ????
   ????????, ??? ??? ????????? ?? ??? ????????? ?? ?? ???????????????
   ????????. ???????? ?? ??????? ?? ???????????? ????????? ????? ???
   ???? ????? ????????????? ?? ??????? ?Not installed?. ?? ??? ??????? ?
   ???????? ??????? ??? BIOS, ????? ??? ??? ??????? ?Halt on Error?.
   ??????? ?? ?? ?All but Keyboard? ? ????? ??? ?? ?No Errors?, ??? ??
   ????? ?? ???? ??????????.

   .. raw:: html

      </div>

   .. raw:: html

      <div class="note" xmlns="">

   ????????:
   ~~~~~~~~~

   ?? ?? ??????? ??? ???????? ??????? ????? PS/2(R), ??????? ?? ??????
   ?? ?? ???????????? ??? ????. ?? ???????? ????? PS/2(R) ????? ??????
   ????????? ????? ?? ?? ????????????, ??????? ??? ?????? ?? ??????????
   ??????? ??? ????????? ?????????? ??? ?????????????. ?????? ?????????,
   ???? ?? Gateway 2000 Pentium 90?MHz ?? AMI BIOS, ??????????????? ??
   ???? ??? ?????. ?? ??????? ???????, ???? ??? ????? ???????? ????? ??
   ??????? ???? ??? ?????? ??? ????? ??????? ????? ?? ????????????.

   .. raw:: html

      </div>

#. ???????? ??? ????? ????????? ???? ``COM1`` (``sio0``).

   ?? ??? ????? ????? ?????????, ???????? ?? ????????? ??? ????? PC/XT
   ?? ??? ????????? ??? modem, ? ?? ??????????????? ?? ???????? ???? ??
   ??? ???? ???????? UNIX(R). ?? ??? ????? ???????? ???? ``COM1``
   (``sio0``), ???????? ???. ?? ???????? ?????? ??? ??????? ?????? ??
   ????????? ???? ???? ????? ??? ??? ``COM1``, ????? ??
   ??????????????????? ?? boot blocks. ?? ?????????????? ??? ???
   ``COM1`` ??? ?????? ???? ???????, ?? ?????? ?? ??? ??????????
   ?????????, ??? ?? ????????????? ??? boot block ??? ??????, ?????
   ?????????? ??? FreeBSD. (?????????? ??? ? ``COM1`` ?? ????? ???? ???
   ?????? ????????? ?? ??? ??????????? ???????/???????????/??????????.
   ?? ?????????? ?????????? ??? ``COM1`` ??? ???? ???? (??? ??? ????????
   ???? ?? ???? ???? ?? ?? ???????????? ???? ``COM2`` (``sio1``)),
   ?????? ??? ?? ?????? ?? ??????????? ??????? ?? ??? ???? ?? ????).

#. ??????????? ??? ?? ?????? ????????? ??? ?????? ??? ???? ???
   ?????????? ???????? (flags) ??? ??? ``COM1`` (``sio0``).

   ?? ???????? ???????? ?????:

   .. raw:: html

      <div class="variablelist">

   ``0x10``
       ??????????? ??? ?????????? ???????? ??? ???? ?? ????. ?? ???
       ????? ???? ? ???????, ?? ???????? flags ??? ??? ??????? ???
       ??????????? ??????. ?? ???????? ??????, ? ?????????? ????????
       ?????? ?? ????? ?????????????? ???? ?? ??? ????. ? ????? ???
       ??????????? ??? ?????? ?????????, ????? ??? ???? ??? ??
       ??????????. ??? ???? ???, ? ??????? ???? ??? ?? ????????????? ???
       ??????? ??? ???????????? ???????? ????. ?? ?????? ?? ?????? ??
       ???????? flag ? ?? ??????????????? ??? ??????? ``-h`` ???
       ???????????? ????????, ???? ?? ???? ?? flag.

   ``0x20``
       ??????????? ?? ???????????? ???? ?? ????? ? ??????? (????? ??
       ??????? ???? ??????? ?????????? ??????????????) ?????? ?? ???
       ??????? ``-h`` ??? ???????????? ????????. ?? ?????? ??
       ??????????????? ?? flag ``0x20`` ???? ?? ?? flag ``0x10``.

   ``0x40``
       ?????????? ?? ???????????? ???? (?? ????????? ?? ??? ``0x10``)
       ???????? ??? ?? ????????? ??? ???????? ????????. ??? ?? ?????? ??
       ?????? ???? ??? ??????? ??? ???????? ???? ??? ????????? ??
       ??????????????? ?? ???????? ???????. ? ???? ????? ????? ??? flag,
       ????? ?? ?????????? ??? ? ???? ?? ?????????????? ???
       ????????????? ???????????? ??? ?????? (kernel debugging). ?????
       `?? ?????? ???
       ?????????????? <../../../../doc/el_GR.ISO8859-7/books/developers-handbook/index.html>`__
       ??? ???????????? ???????????? ??????? ?? ??? ?????????????
       ????????????.

   .. raw:: html

      </div>

   ??????????:

   .. code:: programlisting

       device sio0 flags 0x10

   ????? ?? ?????? manual
   `sio(4) <http://www.FreeBSD.org/cgi/man.cgi?query=sio&sektion=4>`__
   ??? ???????????? ????????????.

   ?? ??? ????? ?????????? flags, ?? ?????? ?? ?????????? ?? UserConfig
   (?? ??????????? ???????) ? ?? ??????????????????? ??? ??????.

#. ???????????? ?? ?????? ``boot.config`` ???? ?????? ???????? ???
   ?????????? ``a`` ??? ?????? ?????????.

   ?? ?????? ???? ?? ?????????? ??? ?????? ??? boot block ??????? ?? ??
   ??? ?????? ?? ????????? ?? ???????. ??? ?? ?????????????? ???
   ???????? ???????, ?? ??????????? ??? ? ???????????? ??? ??? ????????
   ????????-?? ?????? ?? ????????????? ????????? ????????, ?? ?????? ??
   ??? ?????????? ???? ???? ???? ??????.

   .. raw:: html

      <div class="variablelist">

   ``-h``
       ?????????? ?????? ??? ?????????? ??? ??? ????????? ????????. ???
       ??????????, ?? ?????????? ??? ??? ????????? ??????? (?????),
       ???????? ?? ??????????????? ??? ??????? ``-h`` ??? ?? ???????????
       ?? ??????? ????????? ??? ??? ?????? ?? ??????????????? ??
       ???????? ???? ?? ??????? ????????. ???????????, ?? ??????????
       ???? ??? ????????? ?????, ???????? ?? ??????????????? ??? ???????
       ``-h`` ??? ?? ??????????? ?? ??????? ????????? ??? ??? ?????? ??
       ??????????????? ??? ???????? ??????? ???? ??? ?? ????????.

   ``-D``
       ?????????? ?????? ??? ????? ??? ??? ?????? ????????. ???? ???????
       ????? ????????, ?? ?????????????? ???? ? ????????? ???????
       (?????????? ?? ?????) ???? ? ???????? ????, ??????? ?? ?? ???
       ???? ????? ? ??????? ``-h`` ??? ????????? ????????. ?? ?????????
       ?????? ????????, ?? ?????????????? ?????????? ???? ? ?????????
       ??? ??? ? ???????? ???????, ?????? ??? ?? ??????? ??? ????????
       ``-h``. ????????? ?????? ??? ? ??????? ?????? ???????? ?????? ??
       ????????????? ???? ???? ??? ????????, ??? ?????????? ?? boot
       block. ????? ????? ? ??????? ??? ??????? ?????????, ? ????????
       ??????? ??? ????????? ????? ???? ??? ??????????? ??? ??? ???????
       ``-h``.

   ``-P``
       ??????????? ??? ????????? ????????????? ??? boot block. ?? ???
       ?????? ????????????, ??????????????? ???????? ?? ???????? ``-D``
       ??? ``-h``.

       .. raw:: html

          <div class="note" xmlns="">

       ????????:
       ~~~~~~~~~

       ???? ??????????? ????? ???? ???????? ?????? ??? boot blocks, ?
       ??????? ``-P`` ?????? ?? ?????????? ???? ?????????? (extended)
       ????????????. ???????????? ?? ???????? ??? 101 ??????? (??? ?????
       ?? ??????? **F11** ??? **F12**) ???? ?? ??? ???????????. ????????
       ????? ??? ???????????, ????? ?????? ?? ??? ??????????? ??? ??????
       ???????????? ??????? ???????????. ?? ????????? ???? ??? ???????
       ???, ?? ?????? ?? ??????????? ?? ?????????????? ??? ???????
       ``-P``. ????????, ??? ??????? ??????? ?????? ?? ??????????? ????
       ?? ????????.

       .. raw:: html

          </div>

   .. raw:: html

      </div>

   ?????????????? ???? ??? ??????? ``-P`` ??? ?? ????????? ??? ???????
   ????????, ? ??? ??????? ``-h`` ??? ?? ?????????????? ?? ????????
   ???????.

   ???????? ?????? ?? ?????????? ??? ????? ???????? ??? ?????????????
   ??? ?????? manual ???
   `boot(8) <http://www.FreeBSD.org/cgi/man.cgi?query=boot&sektion=8>`__.

   ???? ?? ???????? ?????????, ????? ??? ``-P``, ?? ???????? ??? ???????
   ????????? (``/boot/loader``). ? ???????? ????????? ?? ????????? ?? ?
   ??????? ?? ???????????? ???? ????? ? ??? ???????? ????, ???? ????????
   ???? ??? ??????? ``-h``. ???? ???????? ??? ?? ?????????? ??? ???????
   ``-D`` ???? ??? ??? ??????? ``-h`` ??? ``/boot.config``, ?? ????????
   ?? ??????????????? ??? ???????? ???? ?? ??????? ???? ???? ???
   ???????? ??? boot block. ? ???????? ????????? ???? ?? ??????????????
   ??? ????????? ??????? (?????).

#. ????????? ?? ????????.

   ???? ?????????? ?? FreeBSD ????????, ?? boot blocks ?? ??????? ??
   ??????????? ??? ``/boot.config`` ???? ???????. ??? ??????????:

   .. code:: screen

       /boot.config: -P
       Keyboard: no

   ? ??????? ?????? ?? ?????????? ???? ?? ?????? ??? ??????? ``-P`` ???
   ``/boot.config``, ??? ??????? ?? ??????? ? ??? ?????????
   ????????????. ?? ???????? ???? ????????????? ???? ???????? ? ????
   ????????? ???????, ? ????? ??? ???? ???, ??????? ?? ??? ??????? ???
   ???? ????? ??? ``/boot.config``.

   .. raw:: html

      <div class="informaltable">

   +----------------------------------+----------------------------------+
   | ????????                         | ?? ?????? ??????????? ????       |
   +==================================+==================================+
   | ?????                            | ????????? ???????                |
   +----------------------------------+----------------------------------+
   | ``-h``                           | ???????? ???????                 |
   +----------------------------------+----------------------------------+
   | ``-D``                           | ????????? ??? ???????? ???????   |
   +----------------------------------+----------------------------------+
   | ``-Dh``                          | ???????? ??? ????????? ???????   |
   +----------------------------------+----------------------------------+
   | ``-P``, ???????????? ?????????   | ????????? ???????                |
   +----------------------------------+----------------------------------+
   | ``-P``, ????? ????????????       | ???????? ???????                 |
   +----------------------------------+----------------------------------+

   .. raw:: html

      </div>

   ???? ?? ???????? ????????, ?? ??????? ??? ????? ????? ???? ?? boot
   blocks ?????????? ??????????? ?? ??????? ?????????, ??? ????
   ??????????? ??????????? ???????? ???? ???????. ??? ?????????
   ????????, ??? ?????????? ?? ????????? ?? boot blocks, ???? ????
   ?????? ?? ?? ?????? ???? ??? ?? ??????????? ??? ??? ????? ??????????
   ?????.

   ?????? ??????????? ??????? ????? ??? ?? **Enter** ???? ??????? ??? ??
   ????????? ?? ?????????? ?????????. ?? boot blocks ?? ??? ???????? ???
   ???????????? ???????????. ?? ?????? ?? ????? ???? ???? ?? ????????:

   .. code:: screen

       >> FreeBSD/i386 BOOT
       Default: 0:ad(0,a)/boot/loader
       boot:

   ??????????? ??? ?? ???????? ?????? ??????????? ???? ??? ????????
   ???????, ? ???? ????????? ??????? ? ??? ???? ???, ??????? ?? ???
   ???????? ??? ????? ????? ??? ?????? ``/boot.config``. ?? ?? ??????
   ??????????? ???? ????? ???????, ?????? **Enter** ??? ?? ?????????? ??
   ?? ?????????? ?????????.

   ?? ?????????? ???????? ???????, ???? ??? ??????? ??? ???????? ??
   ?????, ??????? ?????? ????? ???? ?????????. ??? ??????, ?????? ``-h``
   ??? ?????? **Enter** ? **Return** (?? ???????) ??? ?? ????? ??? boot
   block (??? ?????? ??? ??????? ????????? ??? ??? ??????) ?? ????????
   ?? ???????? ???? ??? ??? ???????. ????? ?? ??????? ?????????,
   ???????? ???? ??? ????????? ??? ?? ?????? ??? ????? ?? ?????.

.. raw:: html

   </div>

???? ?? ??????? ??? ??????? ?????????, ????????? ??? ????? ?????? ???
??????????? ????????? ??? ????? ????? ?? ?????????? ?? ????????? ??????
??? ?????????? ??? ????????? ????????, ???????? ??? ??????????
?????????? ????????????? ??? ??????? ?????????. ????? ?? `??????26.6.6,
??????? ???????? ???? ??? ???????
?????????? <serialconsole-setup.html#serialconsole-loader>`__.

.. raw:: html

   </div>

.. raw:: html

   <div class="sect2">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

26.6.4. ????????
~~~~~~~~~~~~~~~~

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

??? ?? ?????? ??? ???????? ??? ???????? ???????? ??? ?????????????? ??
???? ??? ???????, ??? ??? ??????? ??? ?????????? ??????.

.. raw:: html

   <div class="sect3">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

26.6.4.1. 1? ?????????: ????? ????? ?? Flag 0x10 ??? ?? ???? ``sio0``
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

.. code:: programlisting

    device sio0 flags 0x10

.. raw:: html

   <div class="informaltable">

+----------------------------------+--------------------------------------------+--------------------------------------------------+-----------------------+
| ???????? ??? /boot.config        | ??????? ???? ?? ???????? ??? boot blocks   | ??????? ???? ?? ???????? ??? ??????? ?????????   | ??????? ???? ??????   |
+==================================+============================================+==================================================+=======================+
| ?????                            | ?????????                                  | ?????????                                        | ?????????             |
+----------------------------------+--------------------------------------------+--------------------------------------------------+-----------------------+
| ``-h``                           | ????????                                   | ????????                                         | ????????              |
+----------------------------------+--------------------------------------------+--------------------------------------------------+-----------------------+
| ``-D``                           | ???????? ??? ?????????                     | ?????????                                        | ?????????             |
+----------------------------------+--------------------------------------------+--------------------------------------------------+-----------------------+
| ``-Dh``                          | ???????? ??? ?????????                     | ????????                                         | ????????              |
+----------------------------------+--------------------------------------------+--------------------------------------------------+-----------------------+
| ``-P``, ???????????? ?????????   | ?????????                                  | ?????????                                        | ?????????             |
+----------------------------------+--------------------------------------------+--------------------------------------------------+-----------------------+
| ``-P``, ????? ????????????       | ???????? ??? ?????????                     | ????????                                         | ????????              |
+----------------------------------+--------------------------------------------+--------------------------------------------------+-----------------------+

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   <div class="sect3">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

26.6.4.2. 2? ?????????: ????? ????? ?? Flag 0x30 ??? ??? ???? ``sio0``
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

.. code:: programlisting

    device sio0 flags 0x30

.. raw:: html

   <div class="informaltable">

+----------------------------------+--------------------------------------------+--------------------------------------------------+-----------------------+
| ???????? ??? /boot.config        | ??????? ???? ?? ???????? ??? boot blocks   | ??????? ???? ?? ???????? ??? ??????? ?????????   | ??????? ???? ??????   |
+==================================+============================================+==================================================+=======================+
| ?????                            | ?????????                                  | ?????????                                        | ????????              |
+----------------------------------+--------------------------------------------+--------------------------------------------------+-----------------------+
| ``-h``                           | ????????                                   | ????????                                         | ????????              |
+----------------------------------+--------------------------------------------+--------------------------------------------------+-----------------------+
| ``-D``                           | ???????? ??? ?????????                     | ?????????                                        | ????????              |
+----------------------------------+--------------------------------------------+--------------------------------------------------+-----------------------+
| ``-Dh``                          | ???????? ??? ?????????                     | ????????                                         | ????????              |
+----------------------------------+--------------------------------------------+--------------------------------------------------+-----------------------+
| ``-P``, ???????????? ?????????   | ?????????                                  | ?????????                                        | ????????              |
+----------------------------------+--------------------------------------------+--------------------------------------------------+-----------------------+
| ``-P``, ????? ????????????       | ???????? ??? ?????????                     | ????????                                         | ????????              |
+----------------------------------+--------------------------------------------+--------------------------------------------------+-----------------------+

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   <div class="sect2">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

26.6.5. ????????? ??? ??? ???????? ???????
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   <div class="sect3">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

26.6.5.1. ??????? ??????????? ????????? ??? ?? ???????? ????
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

?? ?????????????? ????????? ??? ????????? ????? ?????: 9600 baud, 8
bits, ????? ???????? (parity), 1 stop bit. ?? ?????? ?? ???????? ???
????????????? ???????? ??? ????????, ????? ??? ???????? ????????:

.. raw:: html

   <div class="itemizedlist">

-  ?????????????????? ?? boot blocks ???????? ?? ?????????
   ``BOOT_COMCONSOLE_SPEED`` ??? ?? ??????? ??? ??? ???????? ????????.
   ????? ?? `??????26.6.5.2, ???????????????? ???????? ???? ????? ???
   ``sio0`` ??? ???
   ???????.? <serialconsole-setup.html#serialconsole-com2>`__ ???
   ??????????? ??????? ??????? ?? ?? ???????????? ??? ??????????? ????
   boot blocks.

   ?? ? ???????????? ??? ????????? ???????? ??? ??????? ???? ???
   ???????? ``-h``, ? ?? ? ???????? ??????? ??? ??????????????? ??? ???
   ?????? ????? ??????????? ??? ???? ??? ??????????????? ??? ?? boot
   blocks, ?? ?????? ?????? ?? ?????????? ??? ???????? ??????? ???
   ?????? ????????? ??? ??????, ??? ?? ?????????????? ??? ??? ??????:

   .. code:: programlisting

       options CONSPEED=19200

-  ???? ???????? ????????? ??? ??????, ?????????????? ?? ``-S``.
   ???????? ?????? ?? ?????????? ??? ??????? ``-S`` ???
   ``/boot.config``. ? ?????? manual
   `boot(8) <http://www.FreeBSD.org/cgi/man.cgi?query=boot&sektion=8>`__
   ???????? ??? ????? ??? ??????????????? ????????, ??? ?????????? ???
   ?? ??? ?????????? ??? ?????? ``/boot.config``.

-  ????????????? ??? ??????? ``comconsole_speed`` ??? ??????
   ``/boot/loader.conf``.

   ??? ?? ???????????? ???? ? ???????, ?? ?????? ?????? ?? ?????? ?????
   ??? ??? ???????? ``console``, ``boot_serial``, ??? ``boot_multicons``
   ??? ???? ??????, ?? ``/boot/loader.conf``. ???????? ???????? ???
   ?????????? ?????? ??? ``comconsole_speed`` ??? ?????? ???????? ???
   ????????? ????????:

   .. code:: programlisting

       boot_multicons="YES"
       boot_serial="YES"
       comconsole_speed="115200"
       console="comconsole,vidconsole"

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   <div class="sect3">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

26.6.5.2. ??????????????? ???????? ???? ????? ??? ``sio0`` ??? ??? ???????.
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

?? ?????? ?? ??????????????????? ?????? ??????????? ??? ??
??????????????? ?? ??????? ??? ???????? ???? ????? ??? ``sio0``. ?? ???
??????????? ???? ?????? ?? ??????????????? ???? ???????? ????, ?? ??????
?? ??????????????????? ?? boot blocks, ?? ??????? ????????? ??? ???
??????, ?? ??? ????? ??? ???????? ????????.

.. raw:: html

   <div class="procedure">

#. ????????? ??? ?????? ?????? ??? ??????. (????? ?? `?????????24,
   *????????? ??? ?????????? ??? FreeBSD* <updating-upgrading.html>`__)

#. ?????????????? ?? ?????? ``/etc/make.conf`` ??? ????? ??? ???????
   ``BOOT_COMCONSOLE_PORT`` ??? ????????? ??? ????? ??? ?????? ??
   ??????????????? (0x3F8, 0x2F8, 0x3E8 or 0x2E8). ???????? ??
   ??????????????? ???? ??? ????? ``sio0`` ?? ``sio3`` (``COM1`` ??
   ``COM4``). ?????? ????????? ?????, ??? ????????? ?? ?????????????.
   ??? ?????????? ?? ????????? ??? ???? ??? interrupt.

#. ???????????? ??? ?????? ???????? ?????????????? ??????, ??? ?????????
   ?? ????????? flags ??? ?? ???????? ???? ??? ?????????? ??
   ???????????????. ??? ??????????, ?? ?????? ? ``sio1`` (``COM2``) ??
   ????? ? ???????:

   .. code:: programlisting

       device sio1 flags 0x10

   ?

   .. code:: programlisting

       device sio1 flags 0x30

   ??? ?? ?????? ?? ?????? flags ???????? ??? ??? ????? ????????? ?????.

#. ????????????? ??? ???????????? ???? ?? boot blocks ??? ??? ???????
   ?????????:

   .. code:: screen

       # cd /sys/boot
       # make clean
       # make
       # make install

#. ?????????????????? ??? ???????????? ??? ??????.

#. ?????? ?? boot blocks ???? ????? ????????? ??????????????? ???
   `bsdlabel(8) <http://www.FreeBSD.org/cgi/man.cgi?query=bsdlabel&sektion=8>`__
   ??? ????????? ?? ?? ??? ??????.

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   <div class="sect3">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

26.6.5.3. ??????? ???? DDB Debugger ???? ??? ????????? ???????
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

?? ?????? ?? ????????? ???? debugger ??? ?????? ??? ??? ???????? ???????
(???? ??? ????? ??????? ??? ?? ?????????? ??????????? ??? ?????????????
?????????, ???? ?????? ??? ?????????? ?? ???????? ???? ????? BREAK ????
??? ????????? ?????!) ?? ?????? ?? ?????????? ??? ???????? ??????? ????
?????? ???:

.. code:: programlisting

    options BREAK_TO_DEBUGGER
    options DDB

.. raw:: html

   </div>

.. raw:: html

   <div class="sect3">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

26.6.5.4. ???????? ??????? ???? ???????? ???????
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

?? ??? ???? ??? ????? ??????????, ???? ?? ?????? ?? ????? ????????
??????? (*login*) ???? ??? ????????? ???????, ???? ??? ???????? ????? ??
????? ?? ???????? ????????? ??? ?? ????????? ??? debugger ??? ??????
???? ??? ????????? ????????. ? ?????????? ???????????? ????????.

?? ?????? ???????? ????????, ??????? ?? ?????? ``/etc/ttys`` ??? ??????
??? ???????:

.. code:: programlisting

    ttyu0 "/usr/libexec/getty std.9600" unknown off secure
    ttyu1 "/usr/libexec/getty std.9600" unknown off secure
    ttyu2 "/usr/libexec/getty std.9600" unknown off secure
    ttyu3 "/usr/libexec/getty std.9600" unknown off secure

?? ???????????? ??? ``ttyu0`` ?? ``ttyu3`` ???????????? ???? ``COM1`` ??
``COM4``. ??????? ?? ``off`` ?? ``on`` ??? ??? ???? ??? ??????????. ??
????? ??????? ??? ???????? ??? ????????? ?????, ?? ????????? ?? ????????
?? ``std.9600`` ???? ?? ????????? ?? ??? ???????? ???????, ?.?.
``std.19200``.

?????? ?? ?????? ?? ???????? ??? ??? ???? ??? ??????????, ???
``unknown`` ???? ?????????? ????? ??? ????????? ??? ??????????.

???? ???????? ??? ?????????, ?? ?????? ?? ?????????? ??? ??????
``kill -HUP 1`` ???? ?? ??????????????.

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   <div class="sect2">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

26.6.6. ?????? ???????? ???? ??? ??????? ?????????
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

?? ???????????? ????????, ??????????? ??? ?? ????????? ??? ????????
??????? ?????????? ??? ????????? ??? boot block. ???? ??????? ????,
????????? ??? ???????? ?? ?????????? ??? ??????? ???????? ???????
??????? ??? ?????????? ????????????? ???? ??????? ?????????. ????? ?
???????? ????????? ???????? ??? ?? ????? ?????? ??? ???????????
?????????, ??? ???? ?? boot block, ?? ????????? ??? ??????? ?????????
??????????? ?? ????? ?? ????? ??? boot block.

.. raw:: html

   <div class="sect3">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

26.6.6.1. ??????? ??? ????????? ????????
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

???????? ?????? ?? ?????????? ??? ?? ?????????????? ? ???????? ???????
???? ??????? ????????? ??? ???? ?????? ??? ?? ????????, ????????? ?????
??? ?????? ??? ``/boot/loader.conf``:

.. code:: programlisting

    console="comconsole"

? ??????? ???? ?? ?????????????, ?????? ?? ?? boot block ??? ??????????
???? ??????????? ???????.

????? ???????? ? ?????? ???? ?? ????? ? ????? ??? ??????
``/boot/loader.conf``, ???? ?? ??????? ?? ?????? ???????? ????????? ???
???????? ???????.

?? ??? ???? ?????, ???????? ?? ?????????? ??? ????????? ??????? ??:

.. code:: programlisting

    console="vidconsole"

?? ??? ?????????? ?? ????????? ????????????? ``console``, ? ????????
????????? (??? ?????? ? ???????) ?? ??????????????? ??????????? ???????
????? ????????? ??? boot block ?? ??? ??????? ``-h``.

???????? ?? ?????????? ??? ??????? ??? ``/boot/loader.conf.local`` ? ???
``/boot/loader.conf``.

????? ??
`loader.conf(5) <http://www.FreeBSD.org/cgi/man.cgi?query=loader.conf&sektion=5>`__
??? ???????????? ???????????.

.. raw:: html

   <div class="note" xmlns="">

????????:
~~~~~~~~~

?? ???????? ??????, ? ???????? ????????? ??? ???? ??????? ?????????? ??
??? ``-P`` ??? boot block, ??? ??? ??????? ??????? ?????? ?? ?????
???????? ??????? ?????? ?????????? ??? ????????? ???????? ??????? ?? ???
???????? ?????????????.

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   <div class="sect3">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

26.6.6.2. ????? ????????? ????? ????? ??? ``sio0`` ??? ??? ???????
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

?? ?????? ?? ??????????????????? ?? ??????? ????????? ???? ??
?????????????? ??? ???????? ???? ??????????? ??? ??? ``sio0`` ??? ??
???????? ???????. ??????????? ?? ?????????? ??? ???????????? ???
`??????26.6.5.2, ???????????????? ???????? ???? ????? ??? ``sio0`` ???
??? ???????.? <serialconsole-setup.html#serialconsole-com2>`__.

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   <div class="sect2">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

26.6.7. ??????? ???????
~~~~~~~~~~~~~~~~~~~~~~~

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

? ?????? ???? ????? ?? ??????????? ?? ????? ?? ?????????, ??
????????????? ??????????????? ???????????? ??? ??? ???????? ??????
???????? ??? ????????????. ????????, ?? ??? ?? ??????????? ????????? ??
??? ?????????? ?? ?????????? ????? ????????????, ?? ???? ???? ??
????????? ?? ?????????? ????? ????? ????????. ?? ?????????? ?? BIOS ???
AMI ??????? ?? ?????????? ?? ???? ??? ?????, ?????????? ??? ???????
?graphics adapter? ???? ????????? ??? CMOS ?? ?Not installed.?

?? ??????????? ?????????? ?????? ??? ???????????? ???? ??? ???????, ???
?? ???????? ?? ?????????? ?? ??? ?????? ??? ????? ????????. ???
?????????? ???? ?? ?????? ?? ??????? ??? ?????????? (????? ???
?????????) ????? ????????, ?? ??? ??? ????? ?????????? ?? ????????? ???
?????. ???????? ?????? ?? ?????????? ?? ????????????? BIOS ??? AMI.

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   <div class="navfooter">

--------------

+---------------------------------------+-------------------------------+--------------------------------------+
| `????? <dialout.html>`__?             | `???? <serialcomms.html>`__   | ?\ `??????? <ppp-and-slip.html>`__   |
+---------------------------------------+-------------------------------+--------------------------------------+
| 26.5. ???????? ?????????? ?????????   | `???? <index.html>`__         | ????????? 27. PPP ??? SLIP           |
+---------------------------------------+-------------------------------+--------------------------------------+

.. raw:: html

   </div>

???? ?? ???????, ??? ???? ???????, ?????? ?? ?????? ???
ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/

| ??? ????????? ??????? ?? ?? FreeBSD, ???????? ???
  `?????????? <http://www.FreeBSD.org/docs.html>`__ ???? ??
  ?????????????? ?? ??? <questions@FreeBSD.org\ >.
|  ??? ????????? ??????? ?? ???? ??? ??????????, ??????? e-mail ????
  <doc@FreeBSD.org\ >.
