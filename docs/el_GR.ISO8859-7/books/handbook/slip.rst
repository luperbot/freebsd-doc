=============================
27.7. ??????????????? ?? SLIP
=============================

.. raw:: html

   <div class="navheader">

27.7. ??????????????? ?? SLIP
`????? <pppoa.html>`__?
???????? 27. PPP ??? SLIP
?\ `??????? <mail.html>`__

--------------

.. raw:: html

   </div>

.. raw:: html

   <div class="sect1">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

27.7. ??????????????? ?? SLIP
-----------------------------

.. raw:: html

   </div>

.. raw:: html

   <div>

?????? ?????????? ??? Satoshi Asami.

.. raw:: html

   </div>

.. raw:: html

   <div>

?? ?? ??????? ??? Guy Helmer ??? Piero Serini.

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   <div class="warning" xmlns="">

?????????????:
~~~~~~~~~~~~~~

? ??????? ???? ??????????? ??? ????? ?????? ???? ?? ?????????
FreeBSD?7.X.

.. raw:: html

   </div>

.. raw:: html

   <div class="sect2">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

27.7.1. ??????????? ??? ?????? SLIP
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

???????? ????????????? ??? ????? ?? ????????? ??? ???????? FreeBSD ??
?????? SLIP ?? ??? ?????? ?? ???????? ???????????. ??? ?????????? ??
????? ????????? ????? ???????? (? ????????? ???? ??????? ???? ???? ???
??????????), ??????? ?? ????????? ?? ?????? ??? ?????????? ?????????.

??????, ?? ?????? ?? ?????????? ?? ???? ???????? ???? ????? ????????? ??
modem ???. ??????? ??????? ??????????? ??? ????????? ????? ?.?.
``/dev/modem``, ?? ????? ??????? ???? ?????????? ??????? ``/dev/cuadN``.
???? ??? ????????? ?? ?????????? ?? ?????????????? ?? ???? ?????
????????, ????? ??? ?? ???????????? ?? modem ?? ??????????? ????. ?????
?????? ????? ?? ?????? ?? ???????? ?????? ??????? ??? ``/etc`` ????? ???
?? ?????? ``.kermrc`` ?? ??? ?? ???????!

.. raw:: html

   <div class="note" xmlns="">

????????:
~~~~~~~~~

?? ``/dev/cuad0`` ????? ? ``COM1``, ?? ``/dev/cuad1`` ????? ? ``COM2``,
?.?.?.

.. raw:: html

   </div>

??????????? ??? ?? ?????? ????????? ??? ?????? ??? ???????? ?? ????????:

.. code:: programlisting

    device   sl

?? ???????? ?????????????? ???? ?????? ``GENERIC``, ??? ?? ??? ?? ?????
?????????, ??? ?? ????? ????????.

.. raw:: html

   <div class="sect3">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

27.7.1.1. ????????? ??? ?? ????????? ?? ?????? ???? ??? ????
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   <div class="procedure">

#. ????????? ?? ???????? ???, ??? ???? (gateway) ??? ???? ???????????
   ???????? (nameservers) ??? ?????? ``/etc/hosts``. ??? ?????????? ???,
   ?? ?????? ???? ??????? ?? ?? ????????:

   .. code:: programlisting

       127.0.0.1               localhost loghost
       136.152.64.181          water.CS.Example.EDU water.CS water
       136.152.64.1            inr-3.CS.Example.EDU inr-3 slip-gateway
       128.32.136.9            ns1.Example.EDU ns1
       128.32.136.12           ns2.Example.EDU ns2

#. ??????????? ??? ? ??????? ``files`` ????????? ???? ?? ``dns`` ????
   ??????? ``hosts:`` ??? ??????? ``/etc/nsswitch.conf``. ?? ???
   ???????? ????? ?? ??????????, ?????? ?? ??????????? ????????
   ??????????.

#. ???????????? ?? ?????? ``/etc/rc.conf``.

   .. raw:: html

      <div class="orderedlist">

   #. ?????? ?? ????? ??? ?????????? ???, ????????????? ?? ?????? ???
      ??????:

      .. code:: programlisting

          hostname="myname.my.domain"

      ?? ?????? ??? ?? ???????????? ?? ?????? ????? ??? ?????????? ???.

   #. ?????? ??? ????????????? ???????????, ?????????? ?? ??????:

      .. code:: programlisting

          defaultrouter="NO"

      ??:

      .. code:: programlisting

          defaultrouter="slip-gateway"

   .. raw:: html

      </div>

#. ???????????? ??? ?????? ``/etc/resolv.conf`` ?? ????? ?? ????????:

   .. code:: programlisting

       domain CS.Example.EDU
       nameserver 128.32.136.9
       nameserver 128.32.136.12

   ???? ???????? ?? ?????, ?? ???????? ?????? ???? ??????????? DNS.
   ??????, ?? ?????????? ??????? ??? ?? ??????????? ??? ??????
   ?????????? ??? ?? ?????????? ???.

#. ???????? ?????? ????????? ??? ???? ??????? ``root`` ??? ``toor``
   (????? ??? ??? ????? ?????? ???????????? ??? ????? ??????).

#. ????????????? ?? ???????? ???, ??? ??????????? ??? ???? ????? ?????
   ?? ????? ??????????.

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   <div class="sect3">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

27.7.1.2. ????????????? ??? ??????? SLIP
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   <div class="procedure">

#. ???? ??? ?????, ?????? ??? ?????? ``slip`` ???? ????????, ?????? ??
   ????? ??? ??????????? ??? ??? ??? ??????. ?? ?? ??????? ?????????? ??
   ???????, ????????? ??? ?? ?????????? ???. ?? ?????????????? ??
   Kermit, ???????? ?? ??????????????? ??? script ???? ?? ????????:

   .. code:: programlisting

       # kermit setup
       set modem hayes
       set line /dev/modem
       set speed 115200
       set parity none
       set flow rts/cts
       set terminal bytesize 8
       set file type binary
       # The next macro will dial up and login
       define slip dial 643-9600, input 10 =>, if failure stop, -
       output slip\x0d, input 10 Username:, if failure stop, -
       output silvia\x0d, input 10 Password:, if failure stop, -
       output ***\x0d, echo \x0aCONNECTED\x0a

   ??????, ?? ?????? ?? ???????? ?? ????? ?????? ??? ??? ?????? ???? ??
   ?????????? ?? ?? ???? ???. ???? ??? ????, ???????? ????? ??
   ??????????????? ``slip`` ???? ???????? ???????? ??? Kermit.

   .. raw:: html

      <div class="note" xmlns="">

   ????????:
   ~~~~~~~~~

   ? ?????? ??? ??????? ??? ?? ????? ????? ???????? ?? ???????????
   ?????? ???? ?????????? ???????, ????? ?????? *????* ????. ??????????
   ?? ???? ??? ??????.

   .. raw:: html

      </div>

#. ?????? ?? Kermit ???? (???????? ?? ?? ???????? ??? ??????????
   ??????????????? ?? ??????? **Ctrl**+**z**) ??? ?? ``root``, ??????:

   .. code:: screen

       # slattach -h -c -s 115200 /dev/modem

   ?? ???????? ?? ?????? ``ping`` ?? ??????????? ???? ???? ????? ???
   ???????????, ????? ??????????! ?? ???? ??? ????????, ????????? ???
   ??????? ``-a`` ???? ??? ??? ``-c`` ?? ?????? ???? ``slattach``.

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   <div class="sect3">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

27.7.1.3. ??? ?? ??????????? ??? ???????
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

????? ?? ????????:

.. code:: screen

    # kill -INT `cat /var/run/slattach.modem.pid`

??? ?? ??????????? ?? ``slattach``. ????????? ??? ?????? ?? ?????
``root`` ??? ?? ?????????? ?? ????????. ?????? ?????????? ??? ``kermit``
(?????????? ??? ``fg`` ?? ?? ?????? ??????? ??? ??????????) ???
?????????? ?? (????????? **q**).

? ?????? manual ???
`slattach(8) <http://www.FreeBSD.org/cgi/man.cgi?query=slattach&sektion=8>`__
???????? ??? ???????? ?? ??????????????? ??? ??????
``ifconfig sl0 down`` ??? ?? ????????? ?? ???????, ???? ???? ???
???????? ?? ???? ?????? ??????????. (To ``ifconfig sl0`` ???????? ??
???? ??????.)

??????? ?????, ?? modem ??? ?????? ?? ??????? ?? ??????? ?? ??????. ????
??????????? ?????, ????????? ???? ?? ``kermit`` ??? ?????????? ?? ????.
?? ??????? ???? ??????? ??????????.

.. raw:: html

   </div>

.. raw:: html

   <div class="sect3">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

27.7.1.4. ???????????? ???????????
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

?? ?? ???????? ??? ????????????, ??????? ??? ?????
`freebsd-net <http://lists.FreeBSD.org/mailman/listinfo/freebsd-net>`__.
?????? ??? ?? ??????????? ?????????? ?? ????? ?????? ????? ???????
?????????????:

.. raw:: html

   <div class="itemizedlist">

-  ?? ??? ???? ?????????????? ? ??????? ``-c`` ? ``-a`` ????
   ``slattach`` (???? ???????? ??? ????? ??????? ??????, ???? ???????
   ??????? ???????? ??? ???? ????? ?? ?????????? ????.)

-  ????? ??? ``s10`` ???? ??? ``sl0`` (? ??????? ?????? ?? ????? ????
   ????? ?? ??????? ??????????????).

-  ????????? ??? ?????? ``ifconfig sl0`` ??? ?? ????? ??? ????????? ???
   ????????. ??? ??????????, ?????? ?? ????? ?? ????????:

   .. code:: screen

       # ifconfig sl0
       sl0: flags=10<POINTOPOINT>
               inet 136.152.64.181 --> 136.152.64.1 netmask ffffff00

-  ?? ? ??????
   `ping(8) <http://www.FreeBSD.org/cgi/man.cgi?query=ping&sektion=8>`__
   ????? ???????? no route to host, ???? ??????? ???????? ?? ??? ??????
   ???????????? ???. ???????? ?? ??????????????? ??? ??????
   ``netstat -r`` ??? ?? ????? ??? ???????? ???????????:

   .. code:: screen

       # netstat -r
       Routing tables
       Destination      Gateway            Flags     Refs     Use  IfaceMTU    Rtt    Netmasks:

       (root node)
       (root node)

       Route Tree for Protocol Family inet:
       (root node) =>
       default          inr-3.Example.EDU  UG          8   224515  sl0 -      -
       localhost.Exampl localhost.Example. UH          5    42127  lo0 -       0.438
       inr-3.Example.ED water.CS.Example.E UH          1        0  sl0 -      -
       water.CS.Example localhost.Example. UGH        34 47641234  lo0 -       0.438
       (root node)

   ?? ???????? ???????????? ????? ??? ??? ??????? ???????????? ???????.
   ?? ??????? ?? ????????? ??? ??????? ???, ??????? ?? ?? ?????????????
   ??? ???????.

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   <div class="sect2">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

27.7.2. ??????????? ??? ??????????? SLIP
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

?? ??????? ???? ??????? ??????? ?????????? ??? ?? ??????? ???? FreeBSD
?????????? ?? ??????????? SLIP. ?????? ???? ???????? ??? ?? ??????? ???
?? ????????? ?? ?????? ???????? ??? ????????? ???? ??? ??????
?????????????? ??????? SLIP.

.. raw:: html

   <div class="sect3">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

27.7.2.1. ????????????
^^^^^^^^^^^^^^^^^^^^^^

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

? ??????? ???? ????? ????????? ???????? ??????, ??? ??? ?? ???? ????
?????????? ?? ????? ??? ??????????? ??????? ??? ?? ??? ???????????.
?????????? ??? ????? ??? ?????????? ?? ?? ?????????? TCP/IP ???
?????????? ?? ?? ???????????????? ??????, ??? ?????? ???????, ??
?????????, ?? ??????????? ??? ?? ?????????? ???????????? ???? ?? RIP. ?
??????? ??? ????????? SLIP ?? ??? ??????????? ?????????? ?????????
??????? ????? ????? ??? ???????, ??? ?? ??? ????? ????????????? ??
?????, ??? ??????????? ?? ????????? ???? ?? *TCP/IP Network
Administration* ??? Craig Hunt (???????? O'Reilly & Associates, Inc,
??????? ISBN 0-937175-82-X) ? ?????? ??? ?? ?????? ??? Douglas Comer
??????? ?? ?? ?????????? TCP/IP.

????????, ?????????? ??? ??? ????? ???????? ?? modem ??? ??? ?????
???????????? ?? ????????? ?????? ????????? ??? ?????????? ???? ??
??????????? ? ??????? ??? ??????? ???? ??? modem. ?? ??? ????? ?????
???????????? ?? ??????? ??? ????, ??????????? ????? ?? `??????26.4,
????????? ??????? ???? ?????????? ???????? (dial-in)? <dialup.html>`__
??? ???????????? ??????? ?? ?? ??????? ??? ?????????? ?????????.
??????????? ?? ?????? ?????? ?? ????? ??? ??????? manual ???
`sio(4) <http://www.FreeBSD.org/cgi/man.cgi?query=sio&sektion=4>`__ ???
??????????? ??????? ?? ?? ????????? ???????? ??? ????????? ?????, ??
`ttys(5) <http://www.FreeBSD.org/cgi/man.cgi?query=ttys&sektion=5>`__,
`gettytab(5) <http://www.FreeBSD.org/cgi/man.cgi?query=gettytab&sektion=5>`__,
`getty(8) <http://www.FreeBSD.org/cgi/man.cgi?query=getty&sektion=8>`__,
???
`init(8) <http://www.FreeBSD.org/cgi/man.cgi?query=init&sektion=8>`__
??? ??????????? ??? ??????????? ?? ?? ??????? ??? ?????????? ???? ??
??????? ?????? ??????? ???? modem, ??? ???? ??? ??
`stty(1) <http://www.FreeBSD.org/cgi/man.cgi?query=stty&sektion=1>`__
??? ??????????? ??????? ?? ??? ??????????? ????????? ????? (???? ???
``clocal`` ??? ????????? ???????? ??? ????? ????????? ??????????).

.. raw:: html

   </div>

.. raw:: html

   <div class="sect3">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

27.7.2.2. ??????? ??????????
^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

??????, ???? ???????????? SLIP ??? ???????????? FreeBSD ?????????? ??
??? ???? ?????: ???? ??????? SLIP ????? ??? ??????????? SLIP, ???
?????????? ??? ??????? ???? ???? ??????? ?????????????? ??????? ??? ??
SLIP. ?? ??????? ??? ?????? ????? ?? ``/usr/sbin/sliplogin``. ??
????????? ``sliplogin`` ???????? ?? ?????? ``/etc/sliphome/slip.hosts``
??? ?? ???? ??? ?????? ??? ?? ????????? ?? ??? ??????, ??? ?? ???????,
??????? ??? ???????? ?????? ?? ??? ????????? ??????? SLIP ??? ??????
??????? ?? script ??? ???????? ``/etc/sliphome/slip.login`` ??? ??
???????? ?? ??????? SLIP.

.. raw:: html

   <div class="sect4">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

27.7.2.2.1. ??? ?????????? ??????? ?? ??????????? SLIP
''''''''''''''''''''''''''''''''''''''''''''''''''''''

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

??? ??????????, ??? ??? ?????? SLIP ?? ID ``Shelmerg``, ? ??????????
?????????? ??? ``/etc/master.passwd`` ?? ??????? ?? ??? ????????:

.. code:: programlisting

    Shelmerg:password:1964:89::0:0:Guy Helmer - SLIP:/usr/users/Shelmerg:/usr/sbin/sliplogin

???? ???????? ? ``Shelmerg``, ?? ``sliplogin`` ?? ????? ??
``/etc/sliphome/slip.hosts`` ??? ??? ?????? ?? ID ?????? ??? ??
?????????. ??? ??????????, ?????? ?? ??????? ??? ?????? ???
``/etc/sliphome/slip.hosts`` ??? ?? ??????:

.. code:: programlisting

    Shelmerg        dc-slip sl-helmer       0xfffffc00          autocomp

?? ``sliplogin`` ?? ???? ?? ?????? ????, ?? ???????? ?? ???????? ??????
???? ??????? ????????? ??????? SLIP, ??? ?????? ?? ????????? ??
``/etc/sliphome/slip.login`` ???? ???????? ????????:

.. code:: programlisting

    /etc/sliphome/slip.login 0 19200 Shelmerg dc-slip sl-helmer 0xfffffc00 autocomp

?? ??? ???? ????, ?? ``/etc/sliphome/slip.login`` ?? ????????? ???
?????? ``ifconfig`` ??? ?? ??????? SLIP ???? ????? ???? ???????? ?
``sliplogin`` (? ??????? 0 ??? ???????? ??????????, ? ????? ??????????
??? ?????? ??? ??????? ??? ``slip.login``) ???? ?? ?????????? ? ??????
????????? IP (``dc-slip``), ? ????????????? ????????? IP
(``sl-helmer``), ? ????? ??????? ??? ?? ??????? SLIP (``0xfffffc00``),
??? ???????????? ????????? ???????? (``autocomp``). ?? ???? ???? ??????,
?? ????????? ?? ?? ?????????? ??? ?? ?????? ?????????? ???
``sliplogin``. ? ``sliplogin`` ?????????? ?? ???????? ??????????????? ??
??????? syslogd ? ?????? ??????? ???????????? ?? ??????
``/var/log/messages`` (????? ??? ??????? ???????? ??? ??
`syslogd(8) <http://www.FreeBSD.org/cgi/man.cgi?query=syslogd&sektion=8>`__
???
`syslog.conf(5) <http://www.FreeBSD.org/cgi/man.cgi?query=syslog.conf&sektion=5>`__
??? ??????????? ??????? ?? ``/etc/syslog.conf`` ??? ?? ????? ???
????????? ??? ?? ?????? ??? ???????????? ?? syslogd ??? ??? ?????????).

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   <div class="sect3">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

27.7.2.3. ??????? ??? ??????
^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

? ?????????????? ??????? ??? FreeBSD (? ``GENERIC``) ????????
???????????? ?????????? SLIP
(`sl(4) <http://www.FreeBSD.org/cgi/man.cgi?query=sl&sektion=4>`__).
???? ????????? ??? ?????? ?? ????????????? ????????????? ??????,
????????? ??? ???????? ?????? ??? ?????? ????????? ??? ?????? ???:

.. code:: programlisting

    device   sl

?? FreeBSD, ??? ??????????, ??? ??????? ??????. ?? ?????? ? ????????????
??? ?? ??????? ?? ????????????, ?? ?????? ?? ?????????????? ?? ??????
``/etc/rc.conf`` ??? ?? ???????? ?? ??????? ??? ??????????
``gateway_enable`` ?? ``YES``. ?? ??? ????? ????, ?? ????? ??????? ??? ?
??????? ??? ???????????? ?? ?????????? ???? ??? ??? ????????????.

?? ?????? ?????? ?? ?????????????? ??? ?? ?????????????? ?? ????
?????????.

??? ?? ?????????? ????? ??? ????????? ?????, ???????? ?? ?????????? ???
???????? ?????? ?? ``root``:

.. code:: screen

    # /etc/rc.d/routing start

??????????? ????? ?? `?????????9, *??????????? ??? ?????? ???
FreeBSD* <kernelconfig.html>`__ ??? ???????????? ??????????? ??????? ??
??? ??????? ??? ?????? ??? FreeBSD.

.. raw:: html

   </div>

.. raw:: html

   <div class="sect3">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

27.7.2.4. ??????? ??? Sliplogin
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

???? ?????????? ??? ????, ???????? ???? ?????? ???? ????????
``/etc/sliphome`` ?? ????? ???????????????? ??? ??????? ???
``/usr/sbin/sliplogin`` (????? ??? ?? ?????? manual ???
`sliplogin(8) <http://www.FreeBSD.org/cgi/man.cgi?query=sliplogin&sektion=8>`__):
?? ``slip.hosts``, ?? ????? ?????? ???? ??????? SLIP ??? ??? ???????????
IP ??????????? ????, ?? ``slip.login`` ?? ????? ??????? ???????? ????
??? ??????? SLIP, ??? ??????????? ?? ``slip.logout``, ?? ????? ???????
??? ??????? ??? ``slip.login`` ???? ?????????? ? ???????? ???????.

.. raw:: html

   <div class="sect4">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

27.7.2.4.1. ??????? ??? ``slip.hosts``
''''''''''''''''''''''''''''''''''''''

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

?? ``/etc/sliphome/slip.hosts`` ???????? ??????? ?? ??????? ????? ???
?????????? ?????? ???? ?? ???? ??????????:

.. raw:: html

   <div class="itemizedlist">

-  ?? ????????????? ??????? ??? ?????? SLIP

-  ??? ?????? ????????? (?????? ?? ???? ??? ??????????? SLIP) ???
   ??????????? SLIP

-  ??? ????????????? ????????? ??? ??????????? SLIP

-  ?? ????? ??? ???????

.. raw:: html

   </div>

? ?????? ??? ? ????????????? ?????????, ?????? ?? ????? ???????
??????????? (?? ????? ?? ????????????? ?? ??????????? IP ???? ???
``/etc/hosts`` ? ???? ??? DNS, ??????? ?? ??? ???????????? ??? ????????
??? ?????? ``/etc/nsswitch.conf``), ??? ? ????? ??????? ?????? ?? ?????
??? ????? ?? ????? ?? ?????? ?? ????????????? ???? ?????????? ???
``/etc/networks``. ?? ??? ??????????? ???????, ??
``/etc/sliphome/slip.hosts`` ??????? ?? ?? ????????:

.. code:: programlisting

    #
    # login local-addr      remote-addr     mask            opt1    opt2
    #                                               (normal,compress,noicmp)
    #
    Shelmerg  dc-slip       sl-helmerg      0xfffffc00      autocomp

??? ????? ??? ???????, ?????????? ??? ? ???????????? ??? ??? ????????
????????:

.. raw:: html

   <div class="itemizedlist">

-  ``normal`` - ????? ???????? ??? ????????????

-  ``compress`` - ?? ???????? ??? ????????????

-  ``autocomp`` - ?? ???????? ??? ????????????, ?? ??????????? ??? ???
   ????????????? ??????????

-  ``noicmp`` - ?????????????? ??? ??????? ICMP (?? ??? ????? ???? ??
   ?????? ?ping? ?? ????????????? ???? ?? ???????????? ?? ????? ?????
   ??? ???????? ???)

.. raw:: html

   </div>

?? ???????? ??? ????? ??? ??? ??????? ??? ?????????????? ??????????? ???
SLIP ????????? ???, ?????????? ??? ?? ?? ????????? ?? ?????????? ???
????????? TCP/IP ? ?? ????????? ?? ??????????????? ?proxy ARP? ??? SLIP
??????????? ??? (??? ????? ???????????? proxy ARP, ???? ???? ???????
???? ???????????? ?? ???? ??? ???). ?? ??? ????? ???????? ???? ?????? ??
????????? ? ??? ?? ????????? ??????????? IP, ??????????? ????????? ???
?????? ??? TCP/IP ??? ??????????? ???? ???????????? SLIP
(`??????27.7.2.1, ?????????????? <slip.html#slips-prereqs>`__) ?/???
?????????????? ?? ??????????? ??????? ???.

?? ????????? ?? ??????????????? ????????? ????????? ??? ???? SLIP
??????? ???, ?? ????????? ?? ????????? ??? ?????? ?????????? ??? ???
????????? IP ??? ??? ???? ???????? ??? ?? ????????? ????? ??????? SLIP
??????????? ??? ??????? ?? ???? ?? ?????????. ??????, ?? ?????????
?????? ?? ?????????? ??? ??????? ???????? ??? ????????? SLIP ???? ???
??????????? SLIP ???? ??????????? ??? ??????????? IP.

???????????, ?? ??????????????? ?? ?????? ?proxy ARP?, ?? ????????? ??
????????? ????? SLIP ??????? ??? ??????????? IP ??? ??????? ???
????????? Ethernet ??? ????? ?????? ? ???????????? SLIP, ??? ??
????????? ?????? ?? ????????? ?? scripts ``/etc/sliphome/slip.login``
??? ``/etc/sliphome/slip.logout`` ?? ????????????? ??
`arp(8) <http://www.FreeBSD.org/cgi/man.cgi?query=arp&sektion=8>`__ ???
?? ??????????? ??? ???????????? ?proxy ARP? ???? ?????? ARP ???
??????????? SLIP.

.. raw:: html

   </div>

.. raw:: html

   <div class="sect4">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

27.7.2.4.2. ??????? ??? ``slip.login``
''''''''''''''''''''''''''''''''''''''

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

??? ?????? ``/etc/sliphome/slip.login`` ??????? ?? ?? ????????:

.. code:: programlisting

    #!/bin/sh -
    #
    #       @(#)slip.login  5.1 (Berkeley) 7/1/90

    #
    # generic login file for a slip line.  sliplogin invokes this with
    # the parameters:
    #      1        2         3        4          5         6     7-n
    #   slipunit ttyspeed loginname local-addr remote-addr mask opt-args
    #
    /sbin/ifconfig sl$1 inet $4 $5 netmask $6

?? ?????? ``slip.login`` ??????? ????? ?? ``ifconfig`` ??? ??? ?????????
??????? SLIP, ?? ??? ??????? ??? ?????????????? ??????????? ??? ?? ?????
??????? ??? ???????? ?????.

?? ????? ?????????? ?? ??????????????? ??? ?????? ?proxy ARP? (???? ??
??????????????? ??????????? ????????? ??? ???? ??????? SLIP), ?? ??????
``/etc/sliphome/slip.login`` ?? ??????? ?? ?? ????????:

.. code:: programlisting

    #!/bin/sh -
    #
    #       @(#)slip.login  5.1 (Berkeley) 7/1/90

    #
    # generic login file for a slip line.  sliplogin invokes this with
    # the parameters:
    #      1        2         3        4          5         6     7-n
    #   slipunit ttyspeed loginname local-addr remote-addr mask opt-args
    #
    /sbin/ifconfig sl$1 inet $4 $5 netmask $6
    # Answer ARP requests for the SLIP client with our Ethernet addr
    /usr/sbin/arp -s $5 00:11:22:33:44:55 pub

? ???????? ?????? ?? ???? ?? ``slip.login``, ?
``arp -s         $5 00:11:22:33:44:55 pub``, ?????????? ??? ??????????
ARP ???? ?????? ARP ??? ??????????? SLIP. ???? ? ?????????? ARP ?????
??? ??????????? SLIP ?? ?????? ?? ??? ????????? Ethernet MAC ????
??????? ????? ?????? IP ??? Ethernet ???????? ?? ????????????? ?? ???
????????? IP ??? ?????? SLIP.

???? ?????????????? ?? ???????? ??????????, ??????????? ??? ?????
?????????????? ??? ????????? MAC ??? Ethernet (``00:11:22:33:44:55``) ??
??? ?????????? ??? ????? ??? ?????? Ethernet, ??????????? ?? ?proxy ARP?
??????? ??? ?? ????????????! ???????? ?? ??????????? ?? ????????? MAC
??? ????? ??? ??????????? SLIP ??????????? ?? ???????????? ??? ???????
``netstat -i``. ? ??????? ?????? ??? ?????? ?? ??????? ?? ??? ????????:

.. code:: screen

    ed0   1500  <Link>0.2.c1.28.5f.4a         191923    0   129457     0   116

???? ??????? ??? ??? ???????????? ??????? ? ????????? MAC ??? Ethernet
????? ``00:02:c1:28:5f:4a``. ?? ??????? ???? ????????? ??? ??????? ?
``netstat -i`` ?????? ?? ??????????????? ?? ???-???? ???????, ??? ????
???? ??????????? ????? ?????? ?? ?????????? ?? ????? ???????????? ???
??????? ??? ????????. ? ????????? ???????????? ?? ???? ??? ????? ?? ???
????? ??? ?????? ?? ?????????????? ?
`arp(8) <http://www.FreeBSD.org/cgi/man.cgi?query=arp&sektion=8>`__.
????? ?? ?????? manual ???
`arp(8) <http://www.FreeBSD.org/cgi/man.cgi?query=arp&sektion=8>`__ ???
???????????? ??????????? ??????? ?? ?? ????? ??? ??????? ?????.

.. raw:: html

   <div class="note" xmlns="">

????????:
~~~~~~~~~

???? ???????????? ?? ``/etc/sliphome/slip.login`` ??? ??
``/etc/sliphome/slip.logout``, ?? ?????? ?? ?????? ?? bit ???????????
(?.?.
``chmod 755 /etc/sliphome/slip.login           /etc/sliphome/slip.logout``),
??????????? ? ``sliplogin`` ??? ?? ?????? ?? ?? ?????????.

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   <div class="sect4">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

27.7.2.4.3. ??????? ??? ``slip.logout``
'''''''''''''''''''''''''''''''''''''''

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

?? ``/etc/sliphome/slip.logout`` ??? ????? ??????? ?????????? (????? ??
????????? ?? ??????????? ?proxy ARP?), ???? ?? ????????? ?? ??
?????????????, ???????? ?? ??????????????? ?? ????????? ?? ???????? ????
??????????:

.. code:: programlisting

    #!/bin/sh -
    #
    #       slip.logout

    #
    # logout file for a slip line.  sliplogin invokes this with
    # the parameters:
    #      1        2         3        4          5         6     7-n
    #   slipunit ttyspeed loginname local-addr remote-addr mask opt-args
    #
    /sbin/ifconfig sl$1 down

?? ?????????????? ?proxy ARP?, ?? ?????? ??
``/etc/sliphome/slip.logout`` ?? ????????? ??? ?????????? ARP ??? ??????
SLIP:

.. code:: programlisting

    #!/bin/sh -
    #
    #       @(#)slip.logout

    #
    # logout file for a slip line.  sliplogin invokes this with
    # the parameters:
    #      1        2         3        4          5         6     7-n
    #   slipunit ttyspeed loginname local-addr remote-addr mask opt-args
    #
    /sbin/ifconfig sl$1 down
    # Quit answering ARP requests for the SLIP client
    /usr/sbin/arp -d $5

? ``arp -d $5`` ????????? ??? ?????????? ARP ??? ?????????? ?? ???
???????? ??? ``slip.login`` ??? ?proxy ARP?, ???? ??? ?????? ??? ??????
SLIP.

?????? ?? ?? ???????????? ???? ??? ????: ??????????? ??? ??
``/etc/sliphome/slip.logout`` ???? ??????? ?? ?????????? ???? ???
?????????? ??? (?.?., ``chmod 755         /etc/sliphome/slip.logout``).

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   <div class="sect3">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

27.7.2.5. ?????????? ??? ?????? ?? ?????? ????? ??? ??? ???????????
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

?? ??? ?????????????? ??? ?????? ?proxy ARP? ??? ?? ???????????? ??????
?????? ??? ??????? SLIP ??? ??? ????????? ??????? ??? (??? ???????????
??? ??? Internet), ?? ?????? ?????? ?? ?????????? ???????? ?????????
???? ??? ??????????? ??? ????????????? ??????????? ??? ?? ????????????
?? ????????? ??? SLIP ??????? ??? ???????? ??? ??????????? SLIP.

.. raw:: html

   <div class="sect4">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

27.7.2.5.1. ???????? ?????????
''''''''''''''''''''''''''''''

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

? ???????? ???????? ????????? ???? ???? ????????????? ???
??????????????? ????????????, ?????? ?? ????? ???????????? (? ???
??????? ?? ??? ????? ?? ????????? ?????????? ?????????). ?? ? ???????
??? ???????? ?????? ?? ?????????? ????????????, ?????? ??????? (?.?. ???
??? Cisco ??? ??? Proteon), ????? ??? ?????? ?? ?????????? ?? ???
??????? ???????? ???? ?? ????????? SLIP, ?????? ?????? ?? ?????????? ??
??? ???????? ????????? ??? ?? ????????? ????? ?????? ????????????. ??
????????? ?? ??????????????? ??? ?? ?????????? ???????? ????????? ??? ??
???????? ? ??????????? ???? ???????? ?????????.

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   <div class="navfooter">

--------------

+-----------------------------------------------+--------------------------------+-----------------------------------------+
| `????? <pppoa.html>`__?                       | `???? <ppp-and-slip.html>`__   | ?\ `??????? <mail.html>`__              |
+-----------------------------------------------+--------------------------------+-----------------------------------------+
| 27.6. ??????????????? PPP ???? ATM (PPPoA)?   | `???? <index.html>`__          | ????????? 28. ??????????? ???????????   |
+-----------------------------------------------+--------------------------------+-----------------------------------------+

.. raw:: html

   </div>

???? ?? ???????, ??? ???? ???????, ?????? ?? ?????? ???
ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/

| ??? ????????? ??????? ?? ?? FreeBSD, ???????? ???
  `?????????? <http://www.FreeBSD.org/docs.html>`__ ???? ??
  ?????????????? ?? ??? <questions@FreeBSD.org\ >.
|  ??? ????????? ??????? ?? ???? ??? ??????????, ??????? e-mail ????
  <doc@FreeBSD.org\ >.
