===========================================================
20.5. RAID3 - Striping ?? ??????? Byte ?? ?????????? Parity
===========================================================

.. raw:: html

   <div class="navheader">

20.5. RAID3 - Striping ?? ??????? Byte ?? ?????????? Parity
`????? <GEOM-mirror.html>`__?
???????? 20. GEOM: ?????????? ?????????? ??????
?\ `??????? <geom-ggate.html>`__

--------------

.. raw:: html

   </div>

.. raw:: html

   <div class="sect1">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

20.5. RAID3 - Striping ?? ??????? Byte ?? ?????????? Parity
-----------------------------------------------------------

.. raw:: html

   </div>

.. raw:: html

   <div>

??????? ??? Mark Gladman ??? Daniel Gerzo.

.. raw:: html

   </div>

.. raw:: html

   <div>

????????? ???? ?????????? ??? Tom Rhodes ??? Murray Stokely.

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

?? RAID3 ????? ??? ??????? ??? ????????? ???????? ????????????? ????????
??????? ?? ??? ???? ?? ??? ????? ?????????? ???? ???????? (parity). ??
??? ??????? RAID3, ?? ???????? ?????????? ?? ??? ?????? ??? bytes ???
??????????? ?? ????? ???? ??????? ??? ?????????? ????? ??? ??? ???
??????????????? ???????????? ?? ?????? ?????????. ???? ???????? ??? ???
?? ?????????? 1024KB ??? ??? ????????? ??? RAID3 ?? ?????? ??
????????????? ????? ???? ??????? ??? ??????????. ? ??????? ????????? ??
?? ????? ???????? ???????? ??????? ??????. ? ????????? RAID3 ?????????
????? ?? ????? ???? ?????? ???? ??????? ???????????? 1 - 1/n ????? ??
???????????? ???? ??? ?????? ??? ??????????, ???? n ????? ?? ?????? ???
?????? ??? ??? ??????????. ????? ??? ?????? ?? ?????????? ?????
?????????? ??? ?????????? ??????? ???????, ??? ?????????? ???????
?????????.

??????????? ??????????? 3 ??????? ??????? ?????? ??? ?? ?????????? ???
?????????? RAID3. ???? ?????? ?? ?????? ?? ????? ?? ???? ??????? ?????
?? ???????? ?/? (???????/??????) ????????????? ???? ?? ??????? ???????
??? ???????? ?? ?????????? ??????? ?????????. ??????, ???????? ??? ?????
??? RAID3, ? ??????? ??? ?????? ?????? ?? ????? 3, 5, 9, 17 ???.
(2^n+1).

.. raw:: html

   <div class="sect2">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

20.5.1. ?????????? ?????????? RAID3
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

??? FreeBSD, ? ?????????? ??? RAID3 ??????????? ???? ??? ??????
`graid3(8) <http://www.FreeBSD.org/cgi/man.cgi?query=graid3&sektion=8>`__
??? GEOM. ? ?????????? ???? ?????????? RAID3 ??? FreeBSD ??????? ??
???????? ??????.

.. raw:: html

   <div class="note" xmlns="">

????????:
~~~~~~~~~

?? ??? ????? ????????? ?????? ?? ???????? ??? ?????????? ????????? RAID3
??? FreeBSD, ??? ?????????? ????? ????????? ??? ?????????? ??????????.

.. raw:: html

   </div>

.. raw:: html

   <div class="procedure">

#. ??????, ???????? ?? ``geom_rai3.ko`` ??????? ??? ?????? ???? ???
   ????????? ???????:

   .. code:: screen

       # graid3 load

   ???????????, ????? ??????? ?? ????????? ?? ??????? ???????????:

   .. code:: screen

       # kldload geom_raid3.ko

#. ??????????? ??? ??????? ????????? ?????? ???????????, ? ????????????
   ??? ?????????:

   .. code:: screen

       # mkdir /multimedia

#. ???????????? ?? ??????? ???????? ??? ?????? ??? ?? ?????????? ???
   ????????? ??? ???????????? ?? ??? ??????? RAID3. ??? ?????????? ???
   ?????????????? ????? ??????? ATA ?? ?????? ??? ????????? ???????????:
   ``ada1`` ??? ``ada2`` ??? ?? ???????? ??? ``ada3`` ??? ?? parity.

   .. code:: screen

       # graid3 label -v gr0 /dev/ada1 /dev/ada2 /dev/ada3
       Metadata value stored on /dev/ada1
       Metadata value stored on /dev/ada2
       Metadata value stored on /dev/ada3
       Done.

#. ???????????? ??????????? ??? ??? ??????? ``gr0`` ??? ??????????? ???
   ?? ??????? ??????? UFS:

   .. code:: screen

       # gpart create -s GPT /dev/raid3/gr0
       # gpart add -t freebsd-ufs /dev/raid3/gr0
       # newfs -j /dev/raid3/gr0p1

   ?? ????? ?????? ?????? ??????? ?? ??????? ??? ??? ????? ??? ??? ????
   ??? ???? ? ?????????? ?? ???????????. ? ????? ???? ????? ????????????
   ??? ????? ??????? ?? ???????????.

#. ?? ????????? ???? ????? ? ?????????? ??? ?????????? ???????:

   .. code:: screen

       # mount /dev/raid3/gr0p1 /multimedia

   ? ????????? RAID3 ????? ???? ?????? ???? ?????.

.. raw:: html

   </div>

?? ????????? ?? ?????? ???????? ????????? ???? ? ????????? ?? ?????
????? ????????? ???? ??? ???? ???????? ??? ?????????? ???.

.. raw:: html

   <div class="procedure">

#. ?? ??????? ``geom_raid3.ko`` ?? ?????? ?? ?????????? ???? ???
   ?????????? ??? ??????????. ??? ?? ?????????? ???????? ???? ???
   ???????? ??? ??????????, ????????? ??? ???????? ?????? ???
   ``/boot/loader.conf``:

   .. code:: programlisting

       geom_raid3_load="YES"

#. ?? ?????? ?? ?????????? ??? ???????? ??????????? ??????? ?? ??? ????
   ??? ?????? ``/etc/fstab`` ???? ? ?????????? ??? ?????????? ???????
   ??? ?????????? ?? ??????? ???????? ???? ?? ?????????? ????????? ???
   ??????????:

   .. code:: programlisting

       /dev/raid3/gr0p1    /multimedia    ufs    rw    2    2

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   <div class="navfooter">

--------------

+---------------------------------+-------------------------+--------------------------------------------+
| `????? <GEOM-mirror.html>`__?   | `???? <GEOM.html>`__    | ?\ `??????? <geom-ggate.html>`__           |
+---------------------------------+-------------------------+--------------------------------------------+
| 20.4. RAID1 - Mirroring?        | `???? <index.html>`__   | ?20.6. ????????? ???????? ???? GEOM Gate   |
+---------------------------------+-------------------------+--------------------------------------------+

.. raw:: html

   </div>

???? ?? ???????, ??? ???? ???????, ?????? ?? ?????? ???
ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/

| ??? ????????? ??????? ?? ?? FreeBSD, ???????? ???
  `?????????? <http://www.FreeBSD.org/docs.html>`__ ???? ??
  ?????????????? ?? ??? <questions@FreeBSD.org\ >.
|  ??? ????????? ??????? ?? ???? ??? ??????????, ??????? e-mail ????
  <doc@FreeBSD.org\ >.
