<?xml version="1.0" encoding="iso-8859-7" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-7" /><title>14.7. Περιορίζοντας Χρήστες</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Εγχειρίδιο του FreeBSD" /><link rel="up" href="users.html" title="Κεφάλαιο 14. Χρήστες και Βασική Διαχείριση Λογαριασμών" /><link rel="prev" href="users-modifying.html" title="14.6. Τροποποιώντας Λογαριασμούς" /><link rel="next" href="users-groups.html" title="14.8. Ομάδες" /><link rel="copyright" href="legalnotice.html" title="Νομική Σημείωση" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">14.7. Περιορίζοντας Χρήστες</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="users-modifying.html">Προηγ</a> </td><th width="60%" align="center">Κεφάλαιο 14. Χρήστες και Βασική Διαχείριση Λογαριασμών</th><td width="20%" align="right"> <a accesskey="n" href="users-groups.html">Επόμενο</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="users-limiting"></a>14.7. Περιορίζοντας Χρήστες</h2></div></div></div><a id="idp87094096" class="indexterm"></a><a id="idp87094608" class="indexterm"></a><p>Αν έχετε χρήστες, ίσως έχετε σκεφτεί να περιορίσετε την δυνατότητα
      χρήσης του συστήματος από αυτούς.  Το FreeBSD παρέχει στο διαχειριστή
      αρκετούς τρόπους για να περιορίσει τους πόρους του συστήματος που
      μπορεί να χρησιμοποιήσει ένα άτομο.  Αυτά τα όρια χωρίζονται σε δύο
      τμήματα: μερίδια δίσκου (disk quotas), και άλλα όρια πόρων.</p><a id="idp87096144" class="indexterm"></a><a id="idp87096656" class="indexterm"></a><a id="idp87097808" class="indexterm"></a><p>Τα μερίδια δίσκου περιορίζουν την χρήση των δίσκων στους χρήστες,
      και παρέχουν έναν τρόπο γρήγορου ελέγχου αυτής της χρήσης χωρίς να
      υπολογίζονται από την αρχή κάθε φορά.  Τα μερίδια συζητούνται στο <a class="xref" href="quotas.html" title="19.13. File System Quotas">Τμήμα 19.13, «File System Quotas»</a>.</p><p>Τα άλλα όρια πόρων περιλαμβάνουν τρόπους για περιορισμό
      χρήσης της CPU, της μνήμης, και άλλων πόρων που μπορεί να καταναλώσει
      ένα χρήστης.  Τα όρια αυτά καθορίζονται χρησιμοποιώντας κλάσεις
      σύνδεσης και συζητούνται εδώ.</p><a id="idp87099472" class="indexterm"></a><p>Οι κλάσεις σύνδεσης καθορίζονται στο
      <code class="filename">/etc/login.conf</code>.  Οι ακριβείς έννοιες είναι πέρα
      από τον σκοπό αυτού του τμήματος, αλλά περιγράφονται με λεπτομέρεια
      στην σελίδα <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=login.conf&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">login.conf</span>(5)</span></a> του manual.  Είναι αρκετό να πούμε
      ότι κάθε χρήστης ανήκει σε μία κλάση σύνδεσης (την
      <code class="literal">default</code> εξ' ορισμού), και ότι κάθε κλάση σύνδεσης
      έχει ένα σύνολο από δυνατότητες σύνδεσης που σχετίζονται με αυτήν.  Μια
      δυνατότητα σύνδεσης καθορίζεται από ένα ζεύγος
      <code class="literal">name=value</code>, όπου
      <em class="replaceable"><code>name</code></em> είναι ένα γνωστό αναγνωριστικό και
      <em class="replaceable"><code>value</code></em> είναι μια επιλεγμένη τιμή που
      θα χρησιμοποιηθεί σύμφωνα με το όνομα.  To στήσιμο κλάσεων
      σύνδεσης και δυνατοτήτων είναι μια μάλλον απλή διαδικασία και
      περιγράφεται επίσης στο <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=login.conf&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">login.conf</span>(5)</span></a>.</p><div xmlns="" class="note"><h3 class="admontitle">Σημείωση: </h3><p xmlns="http://www.w3.org/1999/xhtml">Το σύστημα συνήθως δεν διαβάζει απευθείας το αρχείο ρυθμίσεων στο
	<code class="filename">/etc/login.conf</code>, αλλά το αρχείο
	βάσης δεδομένων <code class="filename">/etc/login.conf.db</code> το οποίο
	παρέχει γρηγορότερες αναζητήσεις.  Για να δημιουργήσουμε το
	<code class="filename">/etc/login.conf.db</code> από το
	<code class="filename">/etc/login.conf</code>, εκτελούμε την παρακάτω
	εντολή:</p><pre xmlns="http://www.w3.org/1999/xhtml" class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cap_mkdb /etc/login.conf</code></strong></pre></div><p>Τα όρια πόρων είναι διαφορετικά από τις απλές δυνατότητες
      σύνδεσης για δύο λόγους.  Πρώτα, για κάθε όριο, υπάρχει ένα μεταβλητό
      (τρέχον) και ένα μόνιμο όριο.  Ένα μεταβλητό όριο μπορεί να αλλάξει από
      τον χρήστη ή την εφαρμογή, αλλά δεν μπορεί να είναι υψηλότερο από το
      μόνιμο όριο.  Το τελευταίο μπορεί να ελαττωθεί από τον χρήστη, αλλά
      ποτέ να αυξηθεί.  Δεύτερον, τα περισσότερα όρια πόρων εφαρμόζονται ανά
      διεργασία σε ένα συγκεκριμένο χρήστη, όχι στον χρήστη συνολικά.
      Σημειώστε, όμως, ότι αυτές οι διαφορές είναι υποχρεωτικές από τον
      συγκεκριμένο χειρισμό των ορίων, όχι από την υλοποίηση του πλαισίου
      των δυνατοτήτων σύνδεσης (δηλαδή, δεν είναι <span class="emphasis"><em>όντως</em></span>
      μια ειδική περίπτωση των δυνατοτήτων σύνδεσης).</p><p>Και έτσι, χωρίς πρόσθετη φασαρία, παρακάτω είναι τα πιο συχνά
      χρησιμοποιούμενα όρια πόρων (τα υπόλοιπα, μαζί με όλες τις άλλες
      δυνατότητες σύνδεσης, μπορείτε να τα βρείτε στο
      <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=login.conf&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">login.conf</span>(5)</span></a>).</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">coredumpsize</code></span></dt><dd><a id="idp87111248" class="indexterm"></a><a id="idp87111760" class="indexterm"></a><p>Το όριο στο μέγεθος ενός αρχείου core που δημιουργείται από
	    ένα πρόγραμμα, είναι για προφανείς λόγους, εξαρτώμενο από άλλα
	    όρια της χρήσης του δίσκου (π.χ.,
	    <code class="literal">filesize</code>, ή μερίδια δίσκου).
	    Παρ' όλα αυτά, χρησιμοποιείται συχνά σαν μία λιγότερο αυστηρή
	    μέθοδο ελέγχου της κατανάλωσης χώρου του δίσκου: αφού οι χρήστες
	    δεν δημιουργούν αρχεία core από μόνοι τους, και συχνά δεν τα
	    διαγράφουν, ορίζοντας το coredumpsize μπορεί να τους γλυτώσει
	    από πρόωρο τέλος αποθηκευτικού χώρου, αν για παράδειγμα
	    καταρρεύσει ένα μεγάλο πρόγραμμα (όπως
	    π.χ. το <span class="application">emacs</span>).</p></dd><dt><span class="term"><code class="literal">cputime</code></span></dt><dd><a id="idp87115344" class="indexterm"></a><a id="idp87115856" class="indexterm"></a><p>Αυτό είναι το μέγιστο ποσό χρόνου της CPU που μπορεί να
	    καταναλώσει ένας χρήστης ή μια διεργασία.  Διεργασίες που
	    υπερβαίνουν αυτό το όριο θα τερματιστούν από τον πυρήνα.</p><div xmlns="" class="note"><h3 class="admontitle">Σημείωση: </h3><p xmlns="http://www.w3.org/1999/xhtml">Αυτό είναι ένα όριο στον <span class="emphasis"><em>χρόνο</em></span> της
	      CPU που καταναλώνεται, όχι στο ποσοστό της CPU όπως
	      εμφανίζεται σε κάποια πεδία από τις <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=top&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">top</span>(1)</span></a> και
	      <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ps&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ps</span>(1)</span></a>.  Όριο στο ποσοστό, μέχρι τη στιγμή που γράφονται
	      αυτές οι γραμμές, δεν είναι δυνατό, και μάλλον θα είναι
	      άχρηστο: ένας μεταγλωττιστής-πιθανότατα μια έγκυρη
	      εργασία- μπορεί εύκολα να χρησιμοποιήσει σχεδόν το 100%
	      μιας CPU για κάποιο χρόνο.</p></div></dd><dt><span class="term"><code class="literal">filesize</code></span></dt><dd><a id="idp87125584" class="indexterm"></a><a id="idp87126096" class="indexterm"></a><p>Αυτό είναι το μέγιστο μέγεθος ενός αρχείου που μπορεί να
	    κατέχει ένας χρήστης.  Σε αντίθεση με τα
	    <a class="link" href="quotas.html" title="19.13. File System Quotas">μερίδια δίσκου</a>, αυτό το όριο
	    επιβάλλεται σε κάθε αρχείο χωριστά, όχι στο σύνολο όλων
	    των αρχείων που κατέχει ένας χρήστης.</p></dd><dt><span class="term"><code class="literal">maxproc</code></span></dt><dd><a id="idp87129424" class="indexterm"></a><a id="idp87129936" class="indexterm"></a><p>Αυτό είναι ο μέγιστος αριθμός διεργασιών που μπορεί να εκτελεί
	    ένας χρήστης.  Περιλαμβάνει με τον ίδιο τρόπο διεργασίες τόσο
	    παρασκηνίου όσο και προσκηνίου.  Για προφανείς λόγους, δεν μπορεί
	    να είναι μεγαλύτερος από το όριο του συστήματος που ορίζεται από
	    το <code class="varname">kern.maxproc</code> <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sysctl&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sysctl</span>(8)</span></a>.  Επίσης
	    σημειώστε ότι θέτοντας πολύ μικρή τιμή, μπορεί να παρεμποδίσετε
	    την παραγωγικότητα ενός χρήστη: είναι συχνά χρήσιμο να
	    συνδέεται κάποιος πολλαπλές φορές ή να εκτελεί διοχετεύσεις
	    (pipelines).  Κάποιες εργασίες, όπως η μεταγλώττιση ενός μεγάλου
	    προγράμματος, δημιουργούν επίσης πολλές διεργασίες
	    (π.χ. <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=make&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">make</span>(1)</span></a>, <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=cc&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">cc</span>(1)</span></a>, και άλλοι ενδιάμεσοι
	    προεπεξεργαστές).</p></dd><dt><span class="term"><code class="literal">memorylocked</code></span></dt><dd><a id="idp87143760" class="indexterm"></a><a id="idp87144272" class="indexterm"></a><p>Αυτό είναι το μέγιστο ποσό μνήμης που μπορεί να ζητήσει
	    μια διεργασία να κλειδωθεί στην κύρια μνήμη (π.χ., βλέπε
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mlock&amp;sektion=2"><span class="citerefentry"><span class="refentrytitle">mlock</span>(2)</span></a>).  Κάποια κρίσιμα προγράμματα του συστήματος, όπως
	    το <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=amd&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">amd</span>(8)</span></a>, κλειδώνουν στην κύρια μνήμη έτσι ώστε στην
	    περίπτωση που αντιμετατεθούν, δεν συνεισφέρουν στην επιβάρυνση
	    του συστήματος σε περίπτωση προβλήματος.</p></dd><dt><span class="term"><code class="literal">memoryuse</code></span></dt><dd><a id="idp87173328" class="indexterm"></a><a id="idp87173840" class="indexterm"></a><p>Αυτό είναι το μέγιστο μέγεθος μνήμης που μπορεί μια διεργασία
	    να καταναλώσει σε κάθε χρονική στιγμή.  Περιλαμβάνει συνολικά την
	    κύρια μνήμη και την χρήση της αντιμετάθεσης (swap).  Δεν πρόκειται
	    για κάποιο συνολικό όριο για τον περιορισμό της κατανάλωσης της
	    μνήμης, αλλά είναι μια καλή αρχή.</p></dd><dt><span class="term"><code class="literal">openfiles</code></span></dt><dd><a id="idp87176656" class="indexterm"></a><a id="idp87177168" class="indexterm"></a><p>Αυτός είναι ο μέγιστος αριθμός αρχείων που μπορεί να έχει
	    ανοικτά μια διεργασία.  Στο FreeBSD, τα αρχεία επίσης
	    χρησιμοποιούνται για να απεικονίσουν υποδοχές (sockets) και
	    κανάλια IPC.  Προσέξτε λοιπόν να μην θέσετε αυτό το όριο πολύ
	    χαμηλά.  Το συνολικό όριο του συστήματος καθορίζεται από
	    το <code class="varname">kern.maxfiles</code> <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sysctl&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sysctl</span>(8)</span></a>.</p></dd><dt><span class="term"><code class="literal">sbsize</code></span></dt><dd><a id="idp87181264" class="indexterm"></a><a id="idp87181776" class="indexterm"></a><p>Αυτό είναι το όριο της μνήμης δικτύου, και άρα των
	    mbufs, που μπορεί να καταναλώσει ένας χρήστης.  Ξεκίνησε ως
	    απάντηση σε μια παλιά DoS επίθεση η οποία δημιουργούσε πολλά
	    sockets, αλλά μπορεί να χρησιμοποιηθεί γενικά για τον περιορισμό
	    των επικοινωνιών δικτύου.</p></dd><dt><span class="term"><code class="literal">stacksize</code></span></dt><dd><a id="idp87184592" class="indexterm"></a><a id="idp87185104" class="indexterm"></a><p>Αυτό είναι το μέγιστο όριο που μπορεί να μεγαλώσει η στοίβα
	    μιας διεργασίας.  Από μόνο του δεν είναι αρκετό για να
	    περιοριστεί το μέγεθος μνήμης που μπορεί να χρησιμοποιήσει ένα
	    πρόγραμμα.  Συνεπώς, πρέπει να χρησιμοποιείται σε συνδυασμό με
	    άλλα όρια.</p></dd></dl></div><p>Υπάρχουν μερικά ακόμα πράγματα που πρέπει να θυμάστε όταν θέτετε
      όρια σε πόρους.  Παρακάτω είναι μερικές γενικές συμβουλές, προτάσεις,
      και διάφορα σχόλια.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Οι διεργασίες που ξεκινούν στην εκκίνηση του συστήματος από το
	  <code class="filename">/etc/rc</code> εκχωρούνται στην
	  κλάση σύνδεσης <code class="literal">daemon</code>.</p></li><li class="listitem"><p>Αν και το <code class="filename">/etc/login.conf</code> που έρχεται
	  με το σύστημα είναι μια καλή πηγή λογικών τιμών για τα περισσότερα
	  όρια, μόνο εσείς, ο διαχειριστής, μπορεί να ξέρετε τι είναι
	  κατάλληλο για το σύστημα σας.  Θέτοντας ένα όριο πολύ ψηλά μπορεί
	  να διευκολύνετε την κατάχρηση του συστήματος σας, ενώ θέτοντας το
	  πολύ χαμηλά μπορεί να περιορίσετε την παραγωγικότητα.</p></li><li class="listitem"><p>Στους χρήστες του X Window System (X11) θα πρέπει μάλλον να
	  παραχωρηθούν περισσότεροι πόροι από ότι σε άλλους χρήστες.  Το X11
	  από μόνο του καταναλώνει πολλούς πόρους, αλλά επίσης ενθαρρύνει
	  τους χρήστες να τρέχουν περισσότερα προγράμματα ταυτόχρονα.</p></li><li class="listitem"><p>Θυμηθείτε ότι πολλά όρια εφαρμόζονται σε κάθε διεργασία χωριστά,
	  όχι στον χρήστη συνολικά.  Για παράδειγμα, θέτοντας
	  <code class="varname">openfiles</code> σε 50 σημαίνει ότι κάθε διεργασία
	  που εκτελεί ο χρήστης μπορεί να ανοίξει έως 50 αρχεία.  Έτσι, ο
	  συνολικός αριθμός αρχείων που μπορεί να ανοίξει ο χρήστης είναι η
	  τιμή του <code class="literal">openfiles</code> πολλαπλασιαζόμενη με την
	  τιμή του <code class="literal">maxproc</code>.  Αυτό επίσης ισχύει για την
	  κατανάλωση μνήμης.</p></li></ul></div><p>Για περισσότερες πληροφορίες στα όρια πόρων και τις κλάσεις
      σύνδεσης και των δυνατοτήτων γενικά, παρακαλούμε συμβουλευτείτε τις
      σχετικές σελίδες του εγχειριδίου:
      <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=cap_mkdb&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">cap_mkdb</span>(1)</span></a>, <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=getrlimit&amp;sektion=2"><span class="citerefentry"><span class="refentrytitle">getrlimit</span>(2)</span></a>, <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=login.conf&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">login.conf</span>(5)</span></a>.</p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="users-modifying.html">Προηγ</a> </td><td width="20%" align="center"><a accesskey="u" href="users.html">Πάνω</a></td><td width="40%" align="right"> <a accesskey="n" href="users-groups.html">Επόμενο</a></td></tr><tr><td width="40%" align="left" valign="top">14.6. Τροποποιώντας Λογαριασμούς </td><td width="20%" align="center"><a accesskey="h" href="index.html">Αρχή</a></td><td width="40%" align="right" valign="top"> 14.8. Ομάδες</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Αυτό το κείμενο, και άλλα κείμενα, μπορεί να βρεθεί στο
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Για ερωτήσεις σχετικά με το FreeBSD, διαβάστε την
    <a href="http://www.FreeBSD.org/docs.html">τεκμηρίωση</a> πριν να επικοινωνήσετε με την
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Για ερωτήσεις σχετικά με αυτή την τεκμηρίωση, στείλτε e-mail στην
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>