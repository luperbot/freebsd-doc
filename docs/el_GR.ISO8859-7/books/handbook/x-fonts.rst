=================================
6.5. ????? ?????????????? ??? X11
=================================

.. raw:: html

   <div class="navheader">

6.5. ????? ?????????????? ??? X11
`????? <x-config.html>`__?
???????? 6. ?? ??????? X Window
?\ `??????? <x-xdm.html>`__

--------------

.. raw:: html

   </div>

.. raw:: html

   <div class="sect1">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

6.5. ????? ?????????????? ??? X11
---------------------------------

.. raw:: html

   </div>

.. raw:: html

   <div>

?????????? ??? Murray Stokely.

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   <div class="sect2">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

6.5.1. ?????????????? ????? Type1
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

?? ??????????????? ?????????????? ??? ?????????? ?? X11 ??? ?????
???????? ??? ????????? ???????????? ???????????. ?? ???????
?????????????? ??????????? ????????? ????????? ??? ?????????????, ??? ??
?????? ?????????????? ??? Netscape(R) ????? ?????? ???????????. ???????
????, ???????? ?????????? ???????, ?????? ????????? ?????????????? Type1
(PostScript(R)) ??? ??????? ?? ??????????????? ????? ??? ?? X11. ???
??????????, ? ??????? ?????????????? URW
(`x11-fonts/urwfonts <http://www.freebsd.org/cgi/url.cgi?ports/x11-fonts/urwfonts/pkg-descr>`__)
???????? ???????? ?????? ????????? ??? ???????????? type1 ??????????????
(Times Roman(R), Helvetica(R), Palatino(R) ??? ?????). ? ???????
Freefonts
(`x11-fonts/freefonts <http://www.freebsd.org/cgi/url.cgi?ports/x11-fonts/freefonts/pkg-descr>`__)
???????? ?????? ???????????? ??????????????, ???? ?? ???????????? ???
????? ????? ??? ????????? ???????? ???? ?? Gimp, ??? ??? ?????
?????????? ??? ?????????????? ??????. ?????, ?? X11 ?????? ?? ????????
???? ?? ????????? ???? ?? ???????????? TrueType(R) ??????????????. ???
???????????? ????????????, ????? ??? ?????? manual
`X(7) <http://www.FreeBSD.org/cgi/man.cgi?query=X&sektion=7>`__ ? ??
`????? ??????? ?? ??? ??????????????
TrueType(R) <x-fonts.html#truetype>`__.

??? ?? ????????????? ??? ???????? ???????? ?????????????? Type1 ??? ???
??????? ??? Ports, ????????? ??? ???????? ???????:

.. code:: screen

    # cd /usr/ports/x11-fonts/urwfonts
    # make install clean

?? ???????? ????? ???????? ?? ????????????? ??? ??? freefont ? ?????
????????. ??? ?? ?????????? ? X server ????? ??? ??????????????,
????????? ??? ????????? ?????? ??? ?????? ????????? ???
(``/etc/X11/xorg.conf``):

.. code:: programlisting

    FontPath "/usr/local/lib/X11/fonts/URW/"

???????????, ????????? ???? ?????? ??????? ???? ??????? X:

.. code:: screen

    % xset fp+ /usr/local/lib/X11/fonts/URW
    % xset fp rehash

???? ?? ????????????, ???? ???? ?????????? ? ??????? X, ?? ????????? ??
??????, ????? ?? ?????????? ??? ?????? ????????? (?? ``~/.xinitrc`` ???
??? ??????????? ?????? ???? ``startx``, ? ?? ``~/.xsession`` ??
????????? ???? ???? ???????? ??????????? ???????? ???? ? XDM). ????
????? ?????? ????? ?? ??????????????? ?? ??????
``/usr/local/etc/fonts/local.conf``: ????? ?? ????? `anti-aliasing
(???????????) <x-fonts.html#antialias>`__.

.. raw:: html

   </div>

.. raw:: html

   <div class="sect2">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

6.5.2. ?????????????? TrueType(R)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

?? Xorg ???? ???????????? ?????????? ??????????? ??????????????
TrueType(R). ???????? ??? ??????????? modules (?????????) ??? ??????? ??
?????????????? ????? ??? ??????????. ?? ???? ?? ??????????
??????????????? ?? freetype module ?????? ????? ??? ??????????? ?? ??
???? back-ends ??????????? ??????????????. ??? ?? ?????????????? ??
freetype module, ????? ????????? ??? ???????? ?????? ??? ?????
``"Module"`` ??? ??????? ``/etc/X11/xorg.conf``.

.. code:: programlisting

    Load  "freetype"

????, ???????????? ???? ???????? ??? ??? ?????????????? TrueType(R) (???
??????????, ``/usr/local/lib/X11/fonts/TrueType``) ??? ?????????? ????
??? ?????????????? TrueType(R) ?? ?????. ???????? ??? ?? ??????????????
TrueType(R) ??? ??????? ?? ????? ??? ??? ??????? Macintosh(R) ?????? ??
????? ?? ????? UNIX(R)/MS-DOS(R)/Windows(R) ??? ?? ??????????? ??? X11.
????? ??????????? ?? ?????? ???? ????????, ?????????????? ?? ttmkfdir
??? ?? ????????????? ?? ?????? ``fonts.dir``, ???? ? X font renderer ??
???????? ??? ?????? ??? ???? ????? ???????. ?? ``ttmkfdir`` ??????????
??? ??? ??????? ??? Ports ??? FreeBSD ??
`x11-fonts/ttmkfdir <http://www.freebsd.org/cgi/url.cgi?ports/x11-fonts/ttmkfdir/pkg-descr>`__.

.. code:: screen

    # cd /usr/local/lib/X11/fonts/TrueType
    # ttmkfdir -o fonts.dir

????, ??o?????? ??? ???????? TrueType(R) ??? ???????? ??? fonts. ????
??????? ?? ??? ???? ????? ??? ??????????? ???????? ????
`Type1 <x-fonts.html#type1>`__ ??????????????, ??????????????? ??

.. code:: screen

    % xset fp+ /usr/local/lib/X11/fonts/TrueType
    % xset fp rehash

? ???? ????????? ??? ?????? ``FontPath`` ??? ?????? ``xorg.conf``.

???? ????. ???? ? Netscape(R), ?? Gimp, ?? StarOfficeTM, ??? ???? ??
????? ????????? X ?????? ?? ???????????? ??? ?????????????? TrueType(R)
??????????????. ???? ?????? ?????????????? (???? ????? ??? ????????? ???
??????? ???? ??????????? ?? ????? ???????) ??? ???? ???????
?????????????? (??? StarOfficeTM) ?? ????????? ???? ???? ????????.

.. raw:: html

   </div>

.. raw:: html

   <div class="sect2">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

6.5.3. Anti-Aliased ??????????????
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. raw:: html

   </div>

.. raw:: html

   <div>

?????????? ??? ??? Joe Marcus Clarke.

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

???? ?? ?????????????? X11 ??? ?????????? ???
``/usr/local/lib/X11/fonts/`` ??? ?? ``~/.fonts/`` ????? ????????
?????????? ??? anti-aliasing ?? ????????? Xft-aware, ???????????????????
??? KDE, GNOME ??? Firefox.

??? ?? ???????? ????? ?????????????? ????? anti-aliased, ? ?? ?????????
??? ????????? ??? anti-aliasing, ???????????? (? ????????????, ?? ???
???????) ?? ?????? ``/usr/local/etc/fonts/local.conf``. ???? ????? ???
??????? ??????? ?? ?????????? ?????? ????????????? ?????????????? ???
?????????? ?????????????? Xft. ???? ?? ????? ?????????? ???? ???????
????? ???????????. ??? ???????????? ????????????, ????? ??
`fonts-conf(5) <http://www.FreeBSD.org/cgi/man.cgi?query=fonts-conf&sektion=5>`__.

?? ?????? ???? ?????? ?? ????? ?????? XML. ????? ?????? ??????? ??? ????
/ ????????, ??? ????????????? ??? ??? ?? tags ????? ??????? ?????. ??
?????? ?????? ?? ??? ??????????? ??????????? XML ??? ??? ?????? DOCTYPE,
??? ?????? ????????? ?? ``<fontconfig>`` tag:

.. code:: programlisting

          <?xml version="1.0"?>
          <!DOCTYPE fontconfig SYSTEM "fonts.dtd">
          <fontconfig>

???? ?????? ????????????, ???? ?? ?????????????? ???
``/usr/local/lib/X11/fonts/`` ???? ??? ??? ``~/.fonts/`` ??????????? ???
?? Xft-aware ?????????. ?? ?????? ?? ?????????? ??? ?????? ??????????
????? ??? ?????? ???? ???, ????????? ??? ?????? ???????? ?? ???? ???
????????? ??? ``/usr/local/etc/fonts/local.conf``:

.. code:: programlisting

    <dir>/path/to/my/fonts</dir>

???? ?????????? ???? ??????????????, ??? ?????????? ????? ??????????
??????????????, ?????? ?? ?????????? ??? ???????? ?????? ??? ??
???????????????? ??? cache ??????????????:

.. code:: screen

    # fc-cache -f

?? anti-aliasing ????? ?? ???? ??????? ???????????, ???????? ???? ??
???? ????? ???????? ??? ??????????, ??? ??????? ??? ??????????
(??????????) ??? ?? ?????? ????????, ???? ?????? ?? ??????????
?????????? ??? ????? ?? ?????????????? ?? ???????? ??????. ??? ??
?????????? ??? ?? anti-aliasing ?????? ?????????????? ????????? ??? 14
point, ????????? ????? ??? ???????:

.. code:: programlisting

            <match target="font">
                <test name="size" compare="less">
                    <double>14</double>
                </test>
                <edit name="antialias" mode="assign">
                    <bool>false</bool>
                </edit>
            </match>
            <match target="font">
                <test name="pixelsize" compare="less" qual="any">
                    <double>14</double>
                </test>
                <edit mode="assign" name="antialias">
                    <bool>false</bool>
                </edit>
            </match>

?? spacing (??????????) ?? ??????? monospaced ?????????????? ??????
?????? ?? ????? ?????????? ???? ??????????????? anti-aliasing. ????
???????? ?? ???????? ????????? ???????? ?? ?? KDE. ??? ???????? ???
????, ????? ?? ?????????? ??? spacing ??? ???? 100 ??? ????? ???
??????????????. ????????? ??? ????????? ???????:

.. code:: programlisting

           <match target="pattern" name="family">
               <test qual="any" name="family">
                   <string>fixed</string>
               </test>
               <edit name="family" mode="assign">
                   <string>mono</string>
               </edit>
            </match>
            <match target="pattern" name="family">
                <test qual="any" name="family">
                    <string>console</string>
                </test>
                <edit name="family" mode="assign">
                    <string>mono</string>
                </edit>
            </match>

(???? ??????????? ?? ???? ????? ??????? ??? fixed ?????????????? ??
``"mono"``), ??? ?????? ?????????:

.. code:: programlisting

             <match target="pattern" name="family">
                 <test qual="any" name="family">
                     <string>mono</string>
                 </test>
                 <edit name="spacing" mode="assign">
                     <int>100</int>
                 </edit>
             </match>      

????????????? ??????????????, ???? ?? Helvetica, ?????? ?? ??????????
???????? ???? ????? anti-aliased. ?? ???????? ????? ??????????? ?? ???
????????????? ??????? ?????? ???? ????. ???? ????????? ?????????, ??????
?? ????? ??????? ????????? ?? ????????????. ??? ?? ?? ????????? ????,
???????? ?? ?????????? ?? ???????? ??? ``local.conf``:

.. code:: programlisting

             <match target="pattern" name="family">
                 <test qual="any" name="family">
                     <string>Helvetica</string>
                 </test>
                 <edit name="family" mode="assign">
                     <string>sans-serif</string>
                 </edit>
             </match>        

????? ?????????? ??? ????????? ??? ``local.conf`` ????????????? ???
???????? ?? ?????? ?? ?? ``</fontconfig>`` tag. ?? ??? ?? ??????, ??
??????? ??? ?? ?????????.

?????, ?? ??????? ??????? ?? ?????????? ??? ????? ???? ????????? ????
??? ?????????? ???? ??????? ``.fonts.conf``. ??? ?? ????? ????, ????
??????? ?????? ????? ?? ???????????? ??? ``~/.fonts.conf``. ???? ??
?????? ?????? ?? ????? ?????? XML ??????.

???? ?????????: ?? ??? LCD ?????, ?????? ?? ????? ?????????? ?
???????????? sub-pixel. ? ???????????? ?????????? ??????? ?? (?????????
????????????) ???????, ??????? ??? ???? ???????? ???? ?? ????????? ???
????????? ???????. ?? ???????????? ?????? ?? ????? ????????? ????????.
??? ?? ??? ??????????????, ????????? ??? ???????? ?????? ????? ???
?????? ``local.conf``:

.. code:: programlisting

             <match target="font">
                 <test qual="all" name="rgba">
                     <const>unknown</const>
                 </test>
                 <edit name="rgba" mode="assign">
                     <const>rgb</const>
                 </edit>
             </match>
          

.. raw:: html

   <div class="note" xmlns="">

????????:
~~~~~~~~~

??????? ?? ??? ???? ??? ??????, ?? ``rgb`` ?????? ?? ????????? ??
??????? ?? ``bgr``, ``vrgb`` ? ``vbgr``: ??????????????? ??? ????? ????
?????????? ????????.

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   <div class="navfooter">

--------------

+------------------------------+-------------------------+-------------------------------+
| `????? <x-config.html>`__?   | `???? <x11.html>`__     | ?\ `??????? <x-xdm.html>`__   |
+------------------------------+-------------------------+-------------------------------+
| 6.4. ??????? ??? X11?        | `???? <index.html>`__   | ?6.6. ? X Display Manager     |
+------------------------------+-------------------------+-------------------------------+

.. raw:: html

   </div>

???? ?? ???????, ??? ???? ???????, ?????? ?? ?????? ???
ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/

| ??? ????????? ??????? ?? ?? FreeBSD, ???????? ???
  `?????????? <http://www.FreeBSD.org/docs.html>`__ ???? ??
  ?????????????? ?? ??? <questions@FreeBSD.org\ >.
|  ??? ????????? ??????? ?? ???? ??? ??????????, ??????? e-mail ????
  <doc@FreeBSD.org\ >.
