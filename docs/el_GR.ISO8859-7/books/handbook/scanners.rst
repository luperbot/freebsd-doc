====================
8.7. ??????? ???????
====================

.. raw:: html

   <div class="navheader">

8.7. ??????? ???????
`????? <mythtv.html>`__?
???????? 8. ????????
?\ `??????? <kernelconfig.html>`__

--------------

.. raw:: html

   </div>

.. raw:: html

   <div class="sect1">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

8.7. ??????? ???????
--------------------

.. raw:: html

   </div>

.. raw:: html

   <div>

??????? ??? ??? Marc Fonvieille.

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   <div class="sect2">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

8.7.1. ????????
~~~~~~~~~~~~~~~

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

??? FreeBSD ? ???????? ?? ??????? ????????? ??? ?? SANE (Scanner Access
Now Easy) API ?? ????? ?????????? ???? ??? ??? ??????? ??? Ports ???
FreeBSD. ?? SANE ???????????? ?????? ???????? ??????? ???????? ???
FreeBSD ??? ?? ????????? ???????? ??? ????? ??? ??????.

?? FreeBSD ??????????? ??????? SCSI ??? USB. ??????????? ??? ? ???????
??? ????????????? ??? ?? SANE ???? ?????????? ??????????? ???????????
??? ???????. ?? SANE ???????? ??? ????? `???????????????
???????? <http://www.sane-project.org/sane-supported-devices.html>`__ ?
????? ??????? ??????????? ??? ??? ?????????? ???? ?????? ??? ??? ???????
???. ?? ????????? ???? ?? FreeBSD?8.X ?? ?????? ?????? ?? ????? ???
??????????????? USB ??????? ??? ?????? manual ???
`uscanner(4) <http://www.FreeBSD.org/cgi/man.cgi?query=uscanner&sektion=4>`__.

.. raw:: html

   </div>

.. raw:: html

   <div class="sect2">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

8.7.2. ??????? ??? ??????
~~~~~~~~~~~~~~~~~~~~~~~~~

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

???? ?????? ????????, ?????????????? ??????? ???? SCSI ??? ??? USB.
??????? ?? ?? ????? ??????????? ??? ?????? ???, ?? ???????????
????????????? ??????? ????????.

.. raw:: html

   <div class="sect3">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

8.7.2.1. ?????????? USB
^^^^^^^^^^^^^^^^^^^^^^^

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

? ??????? ``GENERIC``, ??? ??????????, ???????? ???? ??????? ????????
??? ??????????? ??? ??? ?????????? ??????? USB. ?? ??????????? ??
??????????????? ????????????? ??????, ??????????? ??? ????? ???
????????? ??????? ??? ?????? ????????? ???:

.. code:: programlisting

    device usb
    device uhci
    device ohci
    device ehci

?? ????????? ???? ?? FreeBSD?8.X, ?? ??????????? ?????? ??? ????????
??????:

.. code:: programlisting

    device uscanner

?? ????? ??? ???????? ??? FreeBSD, ? ?????????? ??? ??????? USB ???????
???? ??? ????????
`uscanner(4) <http://www.FreeBSD.org/cgi/man.cgi?query=uscanner&sektion=4>`__.
??? ?? FreeBSD?8.0 ??? ????, ? ?????????? ???? ????????? ????????? ???
?? ??????????
`libusb(3) <http://www.FreeBSD.org/cgi/man.cgi?query=libusb&sektion=3>`__.

???? ?????????????? ?? ?? ????? ??????, ???????? ?? USB ?????? ???. ??
?????? ?? ????? ??? ?????? ??????? ?? ??? ????????? ??? ?????? ????
????????? ????? ????????? ??? ??????????
(`dmesg(8) <http://www.FreeBSD.org/cgi/man.cgi?query=dmesg&sektion=8>`__):

.. code:: screen

    ugen0.2: <EPSON> at usbus0

? ?? ??? ??????? FreeBSD?7.X:

.. code:: screen

    uscanner0: EPSON EPSON Scanner, rev 1.10/3.02, addr 2

?? ???????? ???? ???????? ??? ? ??????? ??? ???????????? ??? ???????
``/dev/ugen0.2`` ? ??? ??????? ``/dev/uscanner0`` ??????? ?? ??? ??????
??? FreeBSD ??? ???????????????. ??? ?????????? ???, ??????????????? ???
?????? EPSON Perfection(R)?1650 USB.

.. raw:: html

   </div>

.. raw:: html

   <div class="sect3">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

8.7.2.2. ?????????? ????? SCSI
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

?? ? ??????? ??? ??????? ?? ?????????? ????? SCSI, ????? ????????? ??
????????? ?? ????? ??????? SCSI ?? ???????????????. ??????? ?? ??
???????????? ??????? ??? ?????? SCSI ??? ???????????????, ?? ?????? ??
????????? ????????? ?? ?????? ????????? ??????. ? ??????? ``GENERIC``
??????????? ???? ??? ??????? ???????? SCSI. ??????????? ??? ????????? ??
?????? ``NOTES`` ??? ????????? ?? ????? ?????? ??? ?????? ?????????
??????. ????? ??? ?? ????????? ???????? ??? ??????? SCSI, ?? ??????
????? ?? ????? ??? ????????? ??????? ??? ?????? ????????? ??? ??????
???:

.. code:: programlisting

    device scbus
    device pass

????? ?????????????? ??? ????????????? ??? ??????, ?? ????????? ?? ?????
??? ???????? ???? ????????? ????? ????????? ??????????, ???? ?? ????????
??? ?????????:

.. code:: screen

    pass2 at aic0 bus 0 target 2 lun 0
    pass2: <AGFA SNAPSCAN 600 1.10> Fixed Scanner SCSI-2 device
    pass2: 3.300MB/s transfers

?? ? ??????? ??? ??? ???? ??????????????? ???? ??? ???????? ???
?????????? ???, ????? ????? ??????? ?? ???????????? ??? ????????? ???,
?????????? ????????? ??? ??????? SCSI ?? ??? ??????? ??? ???????
`camcontrol(8) <http://www.FreeBSD.org/cgi/man.cgi?query=camcontrol&sektion=8>`__:

.. code:: screen

    # camcontrol rescan all
    Re-scan of bus 0 was successful
    Re-scan of bus 1 was successful
    Re-scan of bus 2 was successful
    Re-scan of bus 3 was successful

? ??????? ?? ?????????? ???? ??? ????? ??? ???????? SCSI:

.. code:: screen

    # camcontrol devlist
    <IBM DDRS-34560 S97B>              at scbus0 target 5 lun 0 (pass0,da0)
    <IBM DDRS-34560 S97B>              at scbus0 target 6 lun 0 (pass1,da1)
    <AGFA SNAPSCAN 600 1.10>           at scbus1 target 2 lun 0 (pass3)
    <PHILIPS CDD3610 CD-R/RW 1.00>     at scbus2 target 0 lun 0 (pass2,cd0)

???????????? ??????????? ??????? ?? ??? ???????? SCSI ????? ??????????
???? ??????? manual
`scsi(4) <http://www.FreeBSD.org/cgi/man.cgi?query=scsi&sektion=4>`__
???
`camcontrol(8) <http://www.FreeBSD.org/cgi/man.cgi?query=camcontrol&sektion=8>`__.

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   <div class="sect2">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

8.7.3. ??????? ??? SANE
~~~~~~~~~~~~~~~~~~~~~~~

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

?? ??????? SANE ????????? ?? ??? ????????: ??? backend
(`graphics/sane-backends <http://www.freebsd.org/cgi/url.cgi?ports/graphics/sane-backends/pkg-descr>`__)
??? ??? frontend
(`graphics/sane-frontends <http://www.freebsd.org/cgi/url.cgi?ports/graphics/sane-frontends/pkg-descr>`__).
?? backend ??????? ???????? ???? ???? ?? ??????. ??? ?????
`???????????????
???????? <http://www.sane-project.org/sane-supported-devices.html>`__
??? SANE ???????? ?? ?????? ???? backend ??????????? ??? ?????? ???.
????? ??????????? ?? ?????? ?? ????? backend ??? ?? ????????? ??
??????????????? ?? ?????? ???. ?? ????? ??? frontend ??????? ?? ???????
?????????? ???????? ??? ?? ?????? (xscanimage).

?? ????? ???? ????? ?? ????????????? ?? port ? ?? ??????
`graphics/sane-backends <http://www.freebsd.org/cgi/url.cgi?ports/graphics/sane-backends/pkg-descr>`__.
???? ?????????????? ??? ?????? ``sane-find-scanner`` ??? ?? ???????? ???
????????? ??? ?????? ??? ??? ?? ??????? SANE:

.. code:: screen

    # sane-find-scanner -q
    found SCSI scanner "AGFA SNAPSCAN 600 1.10" at /dev/pass3

? ?????? ?? ??? ?????? ?? ????? ???????? ??? ?????? ????? ??? ?? ?????
???????? ??? ??????????????? ??? ?? ??????? ?? ?? ??????? ???. ?? ?????
??? ???????????? ??? ??? ???????? ???? ?? ??? ???????????, ???? ???? ???
????? ?????????.

.. raw:: html

   <div class="note" xmlns="">

????????:
~~~~~~~~~

????????? USB ??????? ???????? ?? ??????? firmware. ? ??????????
????????? ??? ?????? manual ??? backend. ?? ?????? ?????? ?? ?????????
??? ??????? manual
`sane-find-scanner(1) <http://www.FreeBSD.org/cgi/man.cgi?query=sane-find-scanner&sektion=1>`__
???
`sane(7) <http://www.FreeBSD.org/cgi/man.cgi?query=sane&sektion=7>`__.

.. raw:: html

   </div>

?????? ???? ?? ????????? ?? ? ??????? ?? ???????????? ??? ?? frontend
????????? ???????. ??? ??????????, ?? SANE backend ??????? ?? ???
???????? ??????? ???????, ??
`scanimage(1) <http://www.FreeBSD.org/cgi/man.cgi?query=scanimage&sektion=1>`__.
? ?????? ???? ??? ????????? ??? ?????????? ??? ???????? ??? ?? ???????
??????? ??? ?? ?????? ???????. ? ??????? ``-L`` ??????????????? ??? ???
?????????? ??? ???????? ???????:

.. code:: screen

    # scanimage -L
    device `snapscan:/dev/pass3' is a AGFA SNAPSCAN 600 flatbed scanner

? ??? ?????????? ?? ??? ?????? ??? ??????????????? ??? `??????8.7.2.1,
??????????? USB? <scanners.html#scanners-kernel-usb>`__:

.. code:: screen

    # scanimage -L
    device 'epson2:libusb:/dev/usb:/dev/ugen0.2' is a Epson GT-8200 flatbed scanner

? ???????? ?????? ?????????? ??? ??? ??????? FreeBSD?8.X ??? ? ??????
``'epson2:libusb:/dev/usb:/dev/ugen0.2'`` ??? ?????????? ??? ?? ?????
??? backend (``epson2``) ??? ?? ????? ??? ???????? (``/dev/ugen0.2``)
??? ???????????? ? ??????? ???.

.. raw:: html

   <div class="note" xmlns="">

????????:
~~~~~~~~~

?? ??? ????? ?????, ? ????? ??? ?????? ??? ??? ??????????? ???????,
???????? ??? ??
`scanimage(1) <http://www.FreeBSD.org/cgi/man.cgi?query=scanimage&sektion=1>`__
??? ??????? ?? ??????????? ?? ??????. ?? ?????? ????, ?? ????????? ??
?????????????? ?? ?????? ????????? ??? backend ??? ?? ??????? ?? ??????
??? ?? ??????????????. ? ????????? ``/usr/local/etc/sane.d/`` ????????
??? ?? ?????? ????????? ??? backend. ?? ???????? ??????????? ???????????
?? ???????? ??????? USB ???????.

??? ??????????, ?? ?? ?????? USB ??? ??????????????? ??? `??????8.7.2.1,
??????????? USB? <scanners.html#scanners-kernel-usb>`__, ? ??????
``sane-find-scanner`` ????? ??? ????????? ???????????:

.. code:: screen

    # sane-find-scanner -q
    found USB scanner (UNKNOWN vendor and product) at device /dev/uscanner0

? ??????? ???????, ???????????? ?????????? USB ??? ?? ????? ???????? ???
????? ``/dev/uscanner0``. ???? ?????? ?? ????? ?? ????????????? ???
?????:

.. code:: screen

    # scanimage -L

    No scanners were identified. If you were expecting something different,
    check that the scanner is plugged in, turned on and detected by the
    sane-find-scanner tool (if appropriate). Please read the documentation
    which came with this software (README, FAQ, manpages).

???? ? ??????? ??? ?????????????, ?? ????????? ?? ?????????????? ??
?????? ``/usr/local/etc/sane.d/epson2.conf``. ?? ??????? ?????? ???
??????????????? ???? ?? EPSON Perfection(R)?1650, ???? ??????? ??? ?
??????? ?? ???????????? ?? backend ``epson2``. ??????????? ??? ?????????
?? ????????? ?????? ??? ?????? ????????? ??? backend. ????? ?????? ????
?? ???????? ???????: ?????????? ?? ?????? ???? ??????? ???????? ?????
???? ??????????? ??? ?? ?????? ??? (???? ????????? ??? ?? ????????????
?? ?????? ???? ??? ??????? ??? ???????? ?? ?? ???? ``scsi`` ????? ?
??????? ??? ???????????? ?????????? USB), ??? ????????? ??? ????? ???
??????? ??? ?????? ??? ?? ?????? ?? ????? ??????????? ??? ?? ?????
???????? ??? ??????????????. ???? ????????? ??? ?????????? ??? ????????
??????:

.. code:: programlisting

    usb /dev/uscanner0

??? ??????????? ?? ??????????? ??? ????????? ?? ?????? ??? ??????????
??? ?????? ????????? ??? backend ????? ??? ???? ??????????? ???????
manual ??? ???????????? ???????????? ????? ??? ??? ?? ??????? ??? ??????
?? ???????????????. ???????? ???? ?? ?????????????? ??? ? ???????
?????????????:

.. code:: screen

    # scanimage -L
    device `epson:/dev/uscanner0' is a Epson GT-8200 flatbed scanner

? USB ??????? ??? ?????????????. ??? ????? ????????? ??? ? ????? ??? ??
??????? ??? ?????????? ??????? ?? ?? ???? ???. ?? ?????? ?????? ????? ??
????? ```epson:/dev/uscanner0'``, ?? ????? ??????? ?? ????? backend ???
????? ????????.

.. raw:: html

   </div>

????? ? ?????? ``scanimage -L`` ???????? ?? ??? ?? ??????, ? ???????
???? ???????????. ? ??????? ????? ?????? ?? ??????????????.

?? ??? ?
`scanimage(1) <http://www.FreeBSD.org/cgi/man.cgi?query=scanimage&sektion=1>`__
??? ????????? ?? ????????? ?????? ??? ?? ?????? ???????, ?????
??????????? ?? ???????????????? ?????? ????????? ?? ??????? ??????????
??? ??? ??????? ????. ?? SANE ??? ????????? ??? ???? ???? ?????????
??????? ??????????: ?? xscanimage
(`graphics/sane-frontends <http://www.freebsd.org/cgi/url.cgi?ports/graphics/sane-frontends/pkg-descr>`__).

?? Xsane
(`graphics/xsane <http://www.freebsd.org/cgi/url.cgi?ports/graphics/xsane/pkg-descr>`__)
????? ?????? ??? ????????? frontend ????????? ???????. To frontend ????
????????? ???????????? ???????????, ???? ????????????? ??????? ???????
(?????????, fax, ???) ???????? ????????, ???????? ?????? ?.?. ??? ?? ???
????? ????????? ??????????? ?????? ??? ???????? (plugin) ????????? ???
????? ?? ?? GIMP.

.. raw:: html

   </div>

.. raw:: html

   <div class="sect2">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

8.7.4. ???????? ?? ?????? ??????? ???????? ??? ?????? ???
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

???? ?? ???????? ??????????? ?????? ?? ?? ???????? ??? ?????? ``root``.
?????? ??????, ?? ?????? ?? ?????? ???????? ??? ?????? ??? ??? ?? ??????
???????. ? ??????? ?????????? ????? ????????? ??? ???????? ??? ??????
???????? ??? ??????????????? ??? ?? ??????. ??? ??????????, ? ???????
??? ???????????? ?? ?????? ???????? ``/dev/ugen0.2`` ?? ????? ????
?????????????? ????? ???? ?????????? ?????? ???? ?? ?????????? ??????
????????, ?? ``/dev/usb/0.2.0`` (???????? ?? ?? ????????????? ?????? ??
??? ????? ???? ???????? ``/dev``). ???? ? ?????????? ?????? ??? ??? ??
?????? ???????? ??????? ???? ?????? ``wheel`` ??? ``operator``. ??
??????????? ?? ?????? ``joe`` ?? ????? ??? ??????, ?? ?????? ??
?????????????? ?? ??????. ??? ?????? ????????? ???? ?? ?????? ?? ???????
????????? ??????????? ???? ??????????? ??? ?????? ?? ??? ?????, ??????
?? ????????? ??? ??? ``wheel``. ??? ???????? ???? ?? ???? ??
?????????????? ??? ????? ?????? ??? ?? ????? ??? ???????? USB, ??? ??
??????????? ???????? ???? ?????? ??? ???? ??? ?????? ?????.

??? ??????????, ?? ???????????????? ??? ????? ?? ?? ????? ``usb``. ??
????? ???? ????? ? ?????????? ????? ??? ?????? ?? ?? ??????? ??? ???????
`pw(8) <http://www.FreeBSD.org/cgi/man.cgi?query=pw&sektion=8>`__:

.. code:: screen

    # pw groupadd usb

?? ?????? ?????? ?? ????????? ?? ?????????? ??? ?????????? ??????
``/dev/ugen0.2`` ??? ??? ??????? ???????? ``/dev/ugen0.2.0`` ???? ??
????? ?????????? ??? ??? ????? ``usb`` ?? ?????????? ????????
(?????????? ``0660`` ? ``0664``). ??? ??????????, ???? ? ??????????
????? ??? ??????? (? ``root``) ???? ?? ?????????? ?????????? ????????.
??? ?? ???????? ??????? ?? ?????? ?? ??? ???????? ??????? ??? ??????
``/etc/devfs.rules``:

.. code:: programlisting

    [system=5]
    add path ugen0.2 mode 660 group usb
    add path usb/0.2.0 mode 0660 group usb

?? ??????? ??? FreeBSD?7.X ?? ?????????? ??? ???????? ???????, ?? ??
????? ?????? ???????? (??? ???????????? ????? ?? ????? ??
``/dev/uscanner0``):

.. code:: programlisting

    [system=5]
    add path uscanner0 mode 0660 group usb

??????, ????????? ??? ???????? ?????? ??? ?????? ``/etc/rc.conf`` ???
????????????? ?? ????????:

.. code:: programlisting

    devfs_system_ruleset="system"

???????????? ??????????? ??????? ?? ????? ??? ???????, ???????? ??
?????? ??? ?????? manual ???
`devfs(8) <http://www.FreeBSD.org/cgi/man.cgi?query=devfs&sektion=8>`__.

?????? ??? ?? ???????? ??????, ??? ?? ?????? ???????? ??? USB ?????? ??
?????? ??????, ????? ?? ?????????? ?? ?????????? ??? ???? ????? ``usb``:

.. code:: screen

    # pw groupmod usb -m joe

??? ???????????? ????????????, ???????? ?? ?????? manual ???
`pw(8) <http://www.FreeBSD.org/cgi/man.cgi?query=pw&sektion=8>`__.

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   <div class="navfooter">

--------------

+----------------------------+------------------------------+---------------------------------------------------+
| `????? <mythtv.html>`__?   | `???? <multimedia.html>`__   | ?\ `??????? <kernelconfig.html>`__                |
+----------------------------+------------------------------+---------------------------------------------------+
| 8.6. MythTV?               | `???? <index.html>`__        | ????????? 9. ??????????? ??? ?????? ??? FreeBSD   |
+----------------------------+------------------------------+---------------------------------------------------+

.. raw:: html

   </div>

???? ?? ???????, ??? ???? ???????, ?????? ?? ?????? ???
ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/

| ??? ????????? ??????? ?? ?? FreeBSD, ???????? ???
  `?????????? <http://www.FreeBSD.org/docs.html>`__ ???? ??
  ?????????????? ?? ??? <questions@FreeBSD.org\ >.
|  ??? ????????? ??????? ?? ???? ??? ??????????, ??????? e-mail ????
  <doc@FreeBSD.org\ >.
