<?xml version="1.0" encoding="iso-8859-7" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-7" /><title>11.2. Εγκατάσταση</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Εγχειρίδιο του FreeBSD" /><link rel="up" href="linuxemu.html" title="Κεφάλαιο 11. Συμβατότητα με Εκτελέσιμα του Linux" /><link rel="prev" href="linuxemu.html" title="Κεφάλαιο 11. Συμβατότητα με Εκτελέσιμα του Linux" /><link rel="next" href="linuxemu-mathematica.html" title="11.3. Εγκαθιστώντας το Mathematica(R)" /><link rel="copyright" href="legalnotice.html" title="Νομική Σημείωση" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">11.2. Εγκατάσταση</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="linuxemu.html">Προηγ</a> </td><th width="60%" align="center">Κεφάλαιο 11. Συμβατότητα με Εκτελέσιμα του Linux</th><td width="20%" align="right"> <a accesskey="n" href="linuxemu-mathematica.html">Επόμενο</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="linuxemu-lbc-install"></a>11.2. Εγκατάσταση</h2></div></div></div><a id="idp84818000" class="indexterm"></a><p>Η συμβατότητα με εκτελέσιμα του Linux δεν είναι ενεργή εξ' αρχής. Ο
      ευκολότερος τρόπος για να ενεργοποιήσετε αυτή τη λειτουργία είναι να
      φορτώσετε το KLD (άρθρωμα) <code class="literal">linux</code> (<span class="quote">«<span class="quote">Kernel
      LoaDable object</span>»</span>).  Μπορείτε να φορτώσετε αυτό το άρθρωμα στον
      πυρήνα δίνοντας τη παρακάτω εντολή ως <code class="systemitem">root</code>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>kldload linux</code></strong></pre><p>Αν θέλετε να έχετε πάντα ενεργοποιημένη τη συμβατότητα με Linux,
      τότε θα χρειαστεί να προσθέσετε τη παρακάτω γραμμή στο
      <code class="filename">/etc/rc.conf</code>:</p><pre class="programlisting">linux_enable="YES"</pre><p>Η εντολή <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=kldstat&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">kldstat</span>(8)</span></a> μπορεί να χρησιμοποιηθεί για να ελεγχθεί
      αν το KLD είναι φορτωμένο:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>kldstat</code></strong>
Id Refs Address    Size     Name
 1    2 0xc0100000 16bdb8   kernel
 7    1 0xc24db000 d000     linux.ko</pre><a id="idp84824400" class="indexterm"></a><p>Αν για κάποιο λόγο δεν θέλετε ή δε μπορείτε να φορτώσετε το KLD,
      τότε μπορείτε να συνδέσετε στατικά την υποστήριξη εκτελέσιμων του Linux
      στον πυρήνα με το να προσθέσετε την επιλογή <code class="literal">options
      COMPAT_LINUX</code> στο αρχείων ρυθμίσεων του πυρήνα. Στη συνέχεια
      μπορείτε να εγκαταστήσετε τον νέο πυρήνα όπως περιγράφεται στο
      <a class="xref" href="kernelconfig.html" title="Κεφάλαιο 9. Ρυθμίζοντας τον Πυρήνα του FreeBSD">Κεφάλαιο 9, <em>Ρυθμίζοντας τον Πυρήνα του FreeBSD</em></a>.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp84826832"></a>11.2.1. Εγκατάσταση των Linux Runtime Libraries</h3></div></div></div><a id="idp84827472" class="indexterm"></a><p>Αυτό μπορεί να γίνει με δύο τρόπους. Είτε με τη χρήση του
	<a class="link" href="linuxemu-lbc-install.html#linuxemu-libs-port" title="11.2.1.1. Εγκατάσταση μέσω του linux_base Port">linux_base-fc4</a> port, ή
	 με <a class="link" href="linuxemu-lbc-install.html#linuxemu-libs-manually" title="11.2.1.2. Χειροκίνητη εγκατάσταση των Libraries">χειροκίνητη</a>
         εγκατάσταση τους.</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="linuxemu-libs-port"></a>11.2.1.1. Εγκατάσταση μέσω του linux_base Port</h4></div></div></div><a id="idp84830800" class="indexterm"></a><p>Αυτός είναι κατά γενική ομολογία ο ευκολότερος τρόπος για την
	  εγκατάσταση των runtime libraries.  Είναι η ίδια διαδικασία
	  εγκατάστασης που ακολουθείται και για οποιοδήποτε άλλο port από
	  τη <a class="link" href="ports.html" title="Κεφάλαιο 5. Εγκατάσταση Εφαρμογών: Πακέτα και Ports">Συλλογή των Ports</a>.  Απλά κάντε το
	  παρακάτω:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cd /usr/ports/emulators/linux_base-f10</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>make install distclean</code></strong></pre><div xmlns="" class="note"><h3 class="admontitle">Σημείωση: </h3><p xmlns="http://www.w3.org/1999/xhtml">Αν χρησιμοποιείτε κάποια έκδοση του FreeBSD πριν την 8.0, θα
	    πρέπει να εγκαταστήσετε το port <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/emulators/linux_base-fc4/pkg-descr">emulators/linux_base-fc4</a>
	    αντί για το <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/emulators/linux_base-f10/pkg-descr">emulators/linux_base-f10</a>.</p></div><p>Θα πρέπει τώρα να έχετε κανονική συμβατότητα με εκτελέσιμα του
	  Linux.  Μερικά προγράμματα παραπονιούνται ότι οι βιβλιοθήκες
	  συστήματος (system libraries) δεν είναι στη τελευταία τους έκδοση.
	  Γενικά όμως, αυτό δεν αποτελεί κανένα πρόβλημα.</p><div xmlns="" class="note"><h3 class="admontitle">Σημείωση: </h3><p xmlns="http://www.w3.org/1999/xhtml">Μπορούν να υπάρχουν πολλαπλές εκδόσεις
	  του <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/emulators/linux_base/pkg-descr">emulators/linux_base</a>, που να
	  αντιστοιχούν στις διαφορετικές εκδόσεις των διανομών Linux. Θα
	  πρέπει να κάνετε εγκατάσταση των ports που προαπαιτούνται από τις
	  εφαρμογές Linux τις οποίες θέλετε να εγκαταστήσετε.</p></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="linuxemu-libs-manually"></a>11.2.1.2. Χειροκίνητη εγκατάσταση των Libraries</h4></div></div></div><p>Αν δεν έχετε εγκαταστήσει την συλλογή των <span class="quote">«<span class="quote">ports</span>»</span>,
	  μπορείτε να εγκαταστήσετε τις βιβλιοθήκες χειροκίνητα. Θα
          χρειαστείτε τα Linux shared libraries τα οποία απαιτεί το πρόγραμμα.
	  Επίσης, θα χρειαστεί να δημιουργήσετε και έναν κατάλογο
	  <span class="quote">«<span class="quote">shadow root</span>»</span>, <code class="filename">/compat/linux</code>, για
	  τις βιβλιοθήκες Linux που θα υπάρχουν στο FreeBSD.  Οποιαδήποτε κοινές
	  βιβλιοθήκες (shared libraries) οι οποίες χρησιμοποιούνται από
	  εφαρμογές Linux και εκτελούνται στο FreeBSD θα κοιτάξουν πρώτα σε
          αυτόν τον κατάλογο. Επομένως, αν μια εφαρμογή Linux φορτώσει για
          παράδειγμα το <code class="filename">/lib/libc.so</code>, το FreeBSD θα
          προσπαθήσει να φορτώσει πρώτα το
          <code class="filename">/compat/linux/lib/libc.so</code>,
	  και αν αυτό δεν υπάρχει, τότε θα προσπαθήσει να φορτώσει
	  το <code class="filename">/lib/libc.so</code>. Τα shared libraries θα πρέπει
	  να εγκατασταθούν στο shadow
	  tree <code class="filename">/compat/linux/lib</code> αντί για τις τοποθεσίες
          που αναφέρει το <code class="command">ld.so</code> στο Linux.</p><p>Γενικά, τουλάχιστον στις πρώτες σας εγκαταστάσεις εφαρμογών
          Linux, θα χρειαστεί να ψάξετε για τις κοινές βιβλιοθήκες από τα
	  αντίστοιχα εκτελέσιμα. Μετά από κάποιο διάστημα θα έχετε ένα
	  ικανοποιητικό αριθμό Linux shared libraries στο σύστημά σας και
	  πλέον δε θα χρειάζεται επιπλέον εργασία πέρα από την εγκατάσταση της
	  εφαρμογής.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp84862288"></a>11.2.1.3. Εγκατάσταση Πρόσθετων Shared Libraries</h4></div></div></div><a id="idp84862928" class="indexterm"></a><p>Και τι γίνεται στη περίπτωση που έχετε εγκαταστήσει
	  το <code class="filename">linux_base</code> port και οι εφαρμογές σας ακόμη
	  παραπονιούνται για shared libraries που λείπουν; Πώς μπορείτε να
	  ξέρετε ποια shared libraries χρειάζεται κάποια εφαρμογή, και που
	  μπορείτε να τα βρείτε;  Βασικά, υπάρχουν 2 επιλογές (για να
	  ακολουθήσετε τις παρακάτω οδηγίες θα πρέπει να είστε
	  <code class="systemitem">root</code> στο σύστημά σας).</p><p>Αν έχετε πρόσβαση σε κάποιο μηχάνημα Linux, ρίξτε μια ματιά στα
	  shared libraries που χρειάζεται μια εφαρμογή, και αντιγράψτε τα στο
	  FreeBSD.  Δείτε το παρακάτω παράδειγμα:</p><div class="informalexample"><p>Ας υποθέσουμε ότι κατεβάσατε μέσω FTP το εκτελέσιμο του
	    <span class="application">Doom</span> για το Linux, και το βάλατε
            στο Linux σύστημα στο οποίο έχετε πρόσβαση.  Μπορείτε στη
	    συνέχεια να ελέγξετε ποια shared libraries χρειάζεται η εφαρμογή
	    με την εντολή <code class="command">ldd linuxdoom</code>, όπως:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>ldd linuxdoom</code></strong>
libXt.so.3 (DLL Jump 3.1) =&gt; /usr/X11/lib/libXt.so.3.1.0
libX11.so.3 (DLL Jump 3.1) =&gt; /usr/X11/lib/libX11.so.3.1.0
libc.so.4 (DLL Jump 4.5pl26) =&gt; /lib/libc.so.4.6.29</pre><a id="idp84867536" class="indexterm"></a><p>Θα χρειαστεί να πάρετε όλα τα αρχεία από τη τελευταία στήλη,
	    και να τα αντιγράψετε στον
	    κατάλογο <code class="filename">/compat/linux</code>, και να δημιουργήσετε
            προς αυτά τους αντίστοιχους συμβολικούς δεσμούς (symbolic links)
            με τα ονόματα της πρώτης στήλης. Αυτό σημαίνει ότι πρακτικά,
            θα έχετε αυτά τα αρχεία στο σύστημα σας:</p><pre class="screen">/compat/linux/usr/X11/lib/libXt.so.3.1.0
/compat/linux/usr/X11/lib/libXt.so.3 -&gt; libXt.so.3.1.0
/compat/linux/usr/X11/lib/libX11.so.3.1.0
/compat/linux/usr/X11/lib/libX11.so.3 -&gt; libX11.so.3.1.0
/compat/linux/lib/libc.so.4.6.29
/compat/linux/lib/libc.so.4 -&gt; libc.so.4.6.29</pre><div class="blockquote"><blockquote class="blockquote"><div xmlns="" class="note"><h3 class="admontitle">Σημείωση: </h3><p xmlns="http://www.w3.org/1999/xhtml">Σημειώστε ότι αν έχετε ήδη κάποιο Linux shared library
		που ο αριθμός έκδοσης είναι ο ίδιος με αυτόν της πρώτης στήλης
		του <code class="command">ldd</code>, δε θα χρειαστεί να αντιγράψετε το
		αρχείο όπως αυτό ονομάζεται στη τελευταία στήλη, τα υπάρχοντα
		αρχεία θα πρέπει να κάνουν τη δουλειά τους.  Σας συμβουλεύουμε
		όμως να αντιγράψετε το shared library αν είναι κάποια νεότερη
		έκδοση.  Μπορείτε να διαγράψετε τα παλιά αρχεία, αρκεί όμως να
		ανανεώσετε τους συμβολικούς δεσμούς ώστε να οδηγούν στα νέα
		αρχεία.  Επομένως, αν έχετε τις παρακάτω βιβλιοθήκες στο
		σύστημά σας:</p><pre xmlns="http://www.w3.org/1999/xhtml" class="screen">/compat/linux/lib/libc.so.4.6.27
/compat/linux/lib/libc.so.4 -&gt; libc.so.4.6.27</pre><p xmlns="http://www.w3.org/1999/xhtml">και βρείτε μια εφαρμογή η οποία ζητάει μια νεότερη έκδοση
		μέσω του <code class="command">ldd</code>:
	      </p><pre xmlns="http://www.w3.org/1999/xhtml" class="screen">libc.so.4 (DLL Jump 4.5pl26) -&gt; libc.so.4.6.29</pre><p xmlns="http://www.w3.org/1999/xhtml">Αν η διαφορά της έκδοσης στο τελευταία ψηφίο είναι μόνο
		μίας ή δύο εκδόσεων, τότε μην σας απασχολεί η αντιγραφή του
		<code class="filename">/lib/libc.so.4.6.29</code>, γιατί το πρόγραμμα
		θα πρέπει να τρέχει κανονικά και με τη λίγο παλαιότερη έκδοση.
		Παρ' όλα αυτά, αν θέλετε, μπορείτε να αντικαταστήσετε το
		<code class="filename">libc.so</code> και έτσι θα έχετε το παρακάτω:
	      </p><pre xmlns="http://www.w3.org/1999/xhtml" class="screen">/compat/linux/lib/libc.so.4.6.29
/compat/linux/lib/libc.so.4 -&gt; libc.so.4.6.29</pre></div></blockquote></div><div class="blockquote"><blockquote class="blockquote"><div xmlns="" class="note"><h3 class="admontitle">Σημείωση: </h3><p xmlns="http://www.w3.org/1999/xhtml">Ο μηχανισμός των συμβολικών συνδέσμων χρειάζεται
		<span class="emphasis"><em>μόνο</em></span> για τις εφαρμογές του Linux. Ο
		runtime linker του FreeBSD κοιτάει μόνος του για τις πιο
		πρόσφατες εκδόσεις των βιβλιοθηκών και έτσι δε χρειάζεται να
		σας απασχολεί.
	      </p></div></blockquote></div></div></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp84880464"></a>11.2.2. Εγκατάσταση των Linux ELF Binaries</h3></div></div></div><a id="idp84881104" class="indexterm"></a><p>Τα ELF binaries χρειάζονται μερικές φορές ένα ακόμα βήμα, το
	<span class="quote">«<span class="quote">branding</span>»</span>. Αν προσπαθήσετε να τρέξετε ένα
	εκτελέσιμο ELF χωρίς branding, τότε θα σας εμφανιστεί το παρακάτω
	σφάλμα:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>./my-linux-elf-binary</code></strong>
ELF binary type not known
Abort</pre><p>Για να βοηθήσετε τον πυρήνα του FreeBSD να ξεχωρίσει ένα ELF του
        FreeBSD από ένα του Linux, χρησιμοποιήστε την εντολή <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=brandelf&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">brandelf</span>(1)</span></a>.
      </p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>brandelf -t Linux my-linux-elf-binary</code></strong></pre><a id="idp84886224" class="indexterm"></a><p>To GNU toolchain, ομάδα πρόγραμμα GNU, τοποθετεί πλέον αυτόματα τα
	κατάλληλα χαρακτηριστικά στα εκτελέσιμα ELF, επομένως το παραπάνω βήμα
	θα χρειάζεται όλο και λιγότερο στο μέλλον.
      </p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp84887248"></a>11.2.3. Εγκατάσταση μιας Τυχαίας Linux RPM Εφαρμογής</h3></div></div></div><p>Το FreeBSD διαθέτει την δική του βάση δεδομένων για τα πακέτα,
	η οποία χρησιμοποιείται για όλα τα ports (και για αυτά που
	προέρχονται από το <span class="trademark">Linux</span>(R)).  Για το λόγο αυτό, η βάση δεδομένων
	<span class="trademark">Linux</span>(R) RPM δεν χρησιμοποιείται (δεν υποστηρίζεται).</p><p>Αν ωστόσο χρειάζεται να εγκαταστήσετε μια οποιαδήποτε εφαρμογή
	του <span class="trademark">Linux</span>(R) που βασίζεται σε πακέτο RPM, μπορείτε να το επιτύχετε
	με τον παρακάτω τρόπο:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cd /compat/linux</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>rpm2cpio -q &lt; /path/to/linux.archive.rpm | cpio -id</code></strong></pre><p>Χρησιμοποιήστε την <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=brandelf&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">brandelf</span>(1)</span></a> για να τυποποιήσετε
	κατάλληλα τα εκτελέσιμα (όχι τις βιβλιοθήκες!) ως εφαρμογές <span class="trademark">Linux</span>(R).
	Δεν θα μπορείτε να απεγκαταστήσετε τις εφαρμογές με καθαρό τρόπο,
	αλλά θα μπορέσετε να κάνετε τις δοκιμές που επιθυμείτε.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp84898000"></a>11.2.4. Ρύθμιση του Hostname Resolver</h3></div></div></div><p>Αν το DNS δε δουλεύει ή αν σας εμφανίζεται το παρακάτω
	σφάλμα:</p><pre class="screen">resolv+: "bind" is an invalid keyword resolv+:
"hosts" is an invalid keyword</pre><p>Θα χρειαστεί να ρυθμίσετε
	το <code class="filename">/compat/linux/etc/host.conf</code> ώστε να περιέχει:
      </p><pre class="programlisting">order hosts, bind
multi on</pre><p>Η σειρά εδώ δηλώνει ότι αρχικά ελέγχεται το
	αρχείο <code class="filename">/etc/hosts</code> και στη συνέχεια ο DNS server.
	Όταν το <code class="filename">/compat/linux/etc/host.conf</code> δεν είναι
	διαθέσιμο, οι εφαρμογές Linux χρησιμοποιούν το
	<code class="filename">/etc/host.conf</code> του FreeBSD και παραπονιούνται ότι
        η σύνταξη του αρχείου δεν είναι σωστή.  Θα πρέπει να αφαιρέσετε
	την αναφορά στο <code class="literal">bind</code> αν δεν έχετε ρυθμίσει ένα
        name server μέσω του <code class="filename">/etc/resolv.conf</code>.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="linuxemu.html">Προηγ</a> </td><td width="20%" align="center"><a accesskey="u" href="linuxemu.html">Πάνω</a></td><td width="40%" align="right"> <a accesskey="n" href="linuxemu-mathematica.html">Επόμενο</a></td></tr><tr><td width="40%" align="left" valign="top">Κεφάλαιο 11. Συμβατότητα με Εκτελέσιμα του Linux </td><td width="20%" align="center"><a accesskey="h" href="index.html">Αρχή</a></td><td width="40%" align="right" valign="top"> 11.3. Εγκαθιστώντας το <span class="trademark">Mathematica</span>(R)</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Αυτό το κείμενο, και άλλα κείμενα, μπορεί να βρεθεί στο
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Για ερωτήσεις σχετικά με το FreeBSD, διαβάστε την
    <a href="http://www.FreeBSD.org/docs.html">τεκμηρίωση</a> πριν να επικοινωνήσετε με την
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Για ερωτήσεις σχετικά με αυτή την τεκμηρίωση, στείλτε e-mail στην
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>