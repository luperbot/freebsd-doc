========================
11.7. ??????????? ??????
========================

.. raw:: html

   <div class="navheader">

11.7. ??????????? ??????
`????? <linuxemu-oracle.html>`__?
???????? 11. ??????????? ?? ?????????? ??? Linux
?\ `??????? <system-administration.html>`__

--------------

.. raw:: html

   </div>

.. raw:: html

   <div class="sect1">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

11.7. ??????????? ??????
------------------------

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

?? ????? ??? ?????? ??? ?????????? ? ??????????? ?? ????????? Linux,
???? ?? ?????? ?? ????????? ?? ???????? ???????. ?? ??????????? ??? ???
????? ??????? ????? ????????? ???? `??????????? ????? ??????? ??????????
??? FreeBSD <http://lists.FreeBSD.org/mailman/listinfo/freebsd-chat>`__
??? ????? ??????? ??? ??? Terry Lambert ``<tlambert@primenet.com>``
(Message ID: ``<199906020108.SAA07001@usr09.primenet.com>``).

.. raw:: html

   <div class="sect2">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

11.7.1. ??? ??????????;
~~~~~~~~~~~~~~~~~~~~~~~

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

?? FreeBSD ???????? ??? ??????? ????????? (abstraction) ??? ??????????
?execution class loader?. ???? ????????? ???
`execve(2) <http://www.FreeBSD.org/cgi/man.cgi?query=execve&sektion=2>`__.

???? ??? ????????? ????? ??? ?? FreeBSD ???? ??? ????? ????????
(loaders), ???? ??? ??? ??? ?? ?????????? ?? ????????? ????????? ???
``#!`` ??? ?? ?????? ?????? shell interpreter ? shell script.

????????, ? ????? ???????? ??? ????????? ??? UNIX(R) ?????? ??? ??????
?????? (?????? ?? ????? 4 ? 8 bytes ??? ???????) ??? ?? ??? ?? ?????
?????? ?????????? / ???????? ?????? ??? ???????, ??? ???? ????????? ????
?? ??????? ??? ?????????? ???????.

?? ?? ?????? ??? ???? ?????????? ?? ???? ??? ???? ??? ??????????, ?
????? ???
`execve(2) <http://www.FreeBSD.org/cgi/man.cgi?query=execve&sektion=2>`__
????????? ?????? ??????, ??? ?? shell ??????????? ?? ????????? ?? ??????
??? shell script.

? ?????? ???? ???? ??? ??? ????? ??????????, ?????????? ?? ?? ??????? ??
shell script ?? ???? ?? ?????? shell ?.

????????, ??????? ???? ??????? ?????? ???? ??
`sh(1) <http://www.FreeBSD.org/cgi/man.cgi?query=sh&sektion=1>`__ ??
??????? ???? ??????? ??? ??????????, ??? ?? ???? ``:\n``, ???? ???????
?? shell
`csh(1) <http://www.FreeBSD.org/cgi/man.cgi?query=csh&sektion=1>`__
(?????????? ??? ? ???? ???? ??????? ?????? ??? ?? SCO).

???? ??? ????? ???? ?? FreeBSD ????? ?? ????????? ?? ????? ?? ????? ????
????????, ?? ??? ?????? ??????? ``#!`` ? ?????? ??????????? ?? ?????????
(interpreter) ???? ?????????? ??? ?? ??????? ???? ???? ?? ``!`` ???
????? ?? ?????, ??? ?? ??? ???????????? ???????, ??????????????? ??
?????? ???? ?? ``/bin/sh``.

??? ??? ?????????? ??? Linux ABI, ?? FreeBSD ?????? ??? ?????? ??????
??? ELF binary (?? ??????????? ?? ??????? ??????? ?? FreeBSD, SolarisTM,
Linux, ? ?????? ???? ??????????? ??????? ?? ????? ???????????? ??????
????? ELF).

? ???????? ELF ??????? ??? ??? ?????? *brand*, ?? ????? ????? ???
??????? ??????? ???? ??? ELF image, ??? ?? ????? ??? ??????? ?? ELF
binaries ??? SVR4/SolarisTM

??? ?? ????????????? ?? ?????????? ??? Linux, ?? ?????? ?? ??????
*branded* (????????????) ?? ``Linux`` ???? ???
`brandelf(1) <http://www.FreeBSD.org/cgi/man.cgi?query=brandelf&sektion=1>`__:

.. code:: screen

    # brandelf -t Linux file

???? ????? ????, ? ???????? ELF ?? ?????? ?? ``Linux`` brand ???? ???
??????.

???? ? ???????? ELF ??? ?? ``Linux`` brand, ?? ?????????????? ????
?????? ???? ??? ???? ``proc``. ???? ?? ??????? ??? ??????????
????????????? ???? ??? ????? ??? ?????? (?? ??? ??????????? ???????
UNIX(R), ? ??????? ?? ???? ? ??????? ``sysent[]``, ??? ???????? ???
??????? ??? ?????????? (system calls)). ????????, ? ?????????
??????????? ??? ?????? ??????????? ??? trap vector ??? ????? (??????)
??????????, ??? ?????? ?????????? ?? ??????? ?????? ??? ????????????
Linux.

?? system call vector ??? Linux ????????, ?????? ?????, ??? ????? ?? ??
???????? ??? ``sysent[]`` ??? ?????? ?? ??????????? ?????????? ???? ???
??????? ??? ??????.

???? ??????? ??? ????? ?????????? ??? ??? ???????? Linux, ? ???????
(trap code) ?????????? ??? ?????? ??? ???? ??? ????? ??? ???? ????????
??? ``proc``, ??? ??????? ??? ????????? ???? ?? ??????? ??? ??????
??????? ??? ?????????? ??? Linux, ??? ??? ??? FreeBSD.

??????, ?? ??????? ???????????? ?? Linux ?????? ??? ??????????? ????????
??? ?????????? ??????????. ?????????? ???? ????? ??? ? ??????? ``union``
???? ??? ?????????? ???? ?????????? ??????? (*???* ???????? ??? ??
??????? ??????? ``unionfs``!). ??????, ??????? ???????? ?? ?????? ??
?????? ???? ???????? ``/compat/linux/original-path``, *??? ????* ?? ????
????????, ?? ????? ????????? ???? ???????? ``/original-path``. ?? ???
????? ???? ???????????? ??? ?? ?????????? ??? ??????????? ????
?????????? ?? ??????? (??? ??????????, ?? ?????? ????????? ??? Linux
?????? ?? ?????????? ???? ??? ??????????? ??? Linux ABI). ??????
???????? ??? ?? ?????????? ??? Linux ??????? ?? ????????? ??? ??
?????????? ?????? ??? FreeBSD ?? ??? ??????? ?? ?????????? ?? ??????????
?????? ??? Linux. ???????? ?????? ?? ???????????? ??? ??????
`uname(1) <http://www.FreeBSD.org/cgi/man.cgi?query=uname&sektion=1>`__
???? ??? ``/compat/linux`` ??????????? ?? ?????? ??? Linux ?? ?? ???????
?? ???????????? ??? ??? ???????????????? ?????????? ?? Linux.

??????????, ??????? ???? ??????? Linux ???? ???? ?????? ??? FreeBSD. ??
???????? ??????????? ?? ?????? ????????? ???? ??? ????????? ???
?????????? ??? ??? ?????? ????? ????? ???? ???? ?????? ???????
?????????? ??? FreeBSD ??? ??? ???? ?????????? ??? Linux: ???????????
??? ?????????? ???????, ???????? ?????, ?????????? ???????, System V IPC
???. ? ???? ??????? ????? ??? ?? ?????????? ??? FreeBSD ?????? ????? ???
??????????? *glue* ??? FreeBSD, ??? ?? ?????????? ??? Linux, ??????
????? ??? ??????????? *glue* ??? Linux (????? ??? ?? ????? ???????????
????? ??? ????? ???? ??????????? *glue*: ?? ??????????? ??? ???????????
?????????? ??? ??????? ?????? ``sysent[]``, ???? ?? ??????????????? ????
???? ????????? ?????? ??? ???? ``proc`` ??? ?????????? ??? ?????????????
??? ?????).

???? ????? ???? ?? ??????? FreeBSD ABI; ??? ???? ??? ???? ???????. ?
???? ?????? ??????? ????? (???? ?? ????? ?????? ?????? ?? ??????? ??
??????????? ????????, ??? ???? ??????? ?? ???????) ??? ?? ???????????
*glue* ??? FreeBSD ????? ??????? ???????????? ??? ??????, ??? ??
??????????? ??? Linux ??????? ???? ?? ????? ???????????? ???????, ????
?? ????? ??????????? ???? ???? ?????????? ??????.

????? ???? ???? ?????????? ?????????; ???. ????? ??? ????????? ??? ABI,
??? ?????????. ??? ??????? ????? ????????? (? ???????????, ??? ??
?????????? ??? ??????? ??? ???????).

???? ????? ??????? ????? ?????? ??? ?????????? Linux?; ??? ??
??????????? ? ???????? ??? FreeBSD! ? ?????? ????????? ????? ??? ?????
???? ??? ?????? ???? ???? ??? ?? ???????? ?? ?????????? ?? ?? ???????
???????. ?? ?? ?????? ??? ?? FreeBSD ?????? ?????????? Linux ??? ?? ????
???????, ??? ??? ?????????? ?? ??????????? ??????? ??????? ???? ??????,
? ?? ???????? ?????? ???????. ?????????? ?????? ???? ??? ?? ??????????
?? ??????????-???? ???????? ? ??????????? Linux?.

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   <div class="navfooter">

--------------

+-------------------------------------+----------------------------+-----------------------------------------------+
| `????? <linuxemu-oracle.html>`__?   | `???? <linuxemu.html>`__   | ?\ `??????? <system-administration.html>`__   |
+-------------------------------------+----------------------------+-----------------------------------------------+
| 11.6. ??????????? ??? Oracle(R)?    | `???? <index.html>`__      | ???????III.??????????? ??????????             |
+-------------------------------------+----------------------------+-----------------------------------------------+

.. raw:: html

   </div>

???? ?? ???????, ??? ???? ???????, ?????? ?? ?????? ???
ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/

| ??? ????????? ??????? ?? ?? FreeBSD, ???????? ???
  `?????????? <http://www.FreeBSD.org/docs.html>`__ ???? ??
  ?????????????? ?? ??? <questions@FreeBSD.org\ >.
|  ??? ????????? ??????? ?? ???? ??? ??????????, ??????? e-mail ????
  <doc@FreeBSD.org\ >.
