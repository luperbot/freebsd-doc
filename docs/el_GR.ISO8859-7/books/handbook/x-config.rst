====================
6.4. ??????? ??? X11
====================

.. raw:: html

   <div class="navheader">

6.4. ??????? ??? X11
`????? <x-install.html>`__?
???????? 6. ?? ??????? X Window
?\ `??????? <x-fonts.html>`__

--------------

.. raw:: html

   </div>

.. raw:: html

   <div class="sect1">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

6.4. ??????? ??? X11
--------------------

.. raw:: html

   </div>

.. raw:: html

   <div>

?????????? ??? Christopher Shumway.

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   <div class="sect2">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

6.4.1. ???? ??????????
~~~~~~~~~~~~~~~~~~~~~~

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

???? ???????????? ???????????, ?? ?11 ?????????? ????????. ?? ?? ???????
??? ????? ????? ? ???????? ??????????? ??????????, ?? ????? ??????? ??
???????? ??????? ???????? ??????????? ??????? ?? ?? ????? ??? ????
?????????? ?? ???????.

.. raw:: html

   <div class="itemizedlist">

-  ?????????? ??????????? ??? ?????? ???

-  Chipset ??? ?????? ????????

-  ????? ??? ?????? ????????

.. raw:: html

   </div>

? ??????? ??? ?????? ??? ? ?????? ????????? ??????????????? ??? ???
?????????? ??? ??????????? ?????????? ???????????? ??? ??????. ??????
???? ?? ?????? ???????????? ???????? ????????? ????? ??? ?????. ??????
??????? ??? ???????? ????? ??? ????? ??? ?????? ?? ?????? ?? ?????? ???
?????????? ??? ?????? ? ???? ?????????? ??? ????????????.

?? chipset (???????????? ???????) ??? ?????? ???????? ??????????? ??????
???????? ??? ??????????????? ??? ?? ???????? ?? ????????? ?????????
????????. ????? ?????? ??????? ?? ????????? ?? ??????? ??? ??? ?????????
??? ? ???????? ????????? ??? ????? ????????.

? ????? ??? ?????? ???????? ????????? ??? ??????? ??? ?? ????? ????????
??? ????? ?????? ?? ???????? ?? ???????.

.. raw:: html

   </div>

.. raw:: html

   <div class="sect2">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

6.4.2. ??????? ??? X11
~~~~~~~~~~~~~~~~~~~~~~

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

?? Xorg ???????????? ?? HAL ??? ??? ???????? ????????? ??? ?????????????
??? ??? ?????????. ?? ports
`sysutils/hal <http://www.freebsd.org/cgi/url.cgi?ports/sysutils/hal/pkg-descr>`__
???
`devel/dbus <http://www.freebsd.org/cgi/url.cgi?ports/devel/dbus/pkg-descr>`__
????????????? ?? ?????????? ???
`x11/xorg <http://www.freebsd.org/cgi/url.cgi?ports/x11/xorg/pkg-descr>`__,
???? ?? ?????? ?? ?????????????? ?? ??? ????????? ???????? ???
``/etc/rc.conf``:

.. code:: programlisting

    hald_enable="YES"
    dbus_enable="YES"

?? ?????? ?? ?????????? ??? ????????? ????? (???? ???????????, ????
???????? ????????????) ???? ?????????? ?? ?? ??????? ? ??? ????? ???
Xorg.

?? Xorg ?????? ????? ?? ???????????? ????? ????? ???????? ???????,
????????? ????? ??? ?????? ???????:

.. code:: screen

    % startx

?? ??????? ???????????, ? ???????? ??????? ?????? ?? ?? ????????????
?????, ? ?? ?? ???????? ??? ???????? ??????? ???? ??????????. ????
??????????? ?????, ?? ????????? ?? ?????? ???????????? ?????????.

.. raw:: html

   <div class="note" xmlns="">

????????:
~~~~~~~~~

?????? ??????? ????????????, ???? ?? GNOME ?? KDE ? ?? XFCE, ?????????
???????? ??? ?????????? ??? ?????? ?? ???????? ?? ?????? ????? ????????
??????????? ??? ??????, ???? ? ???????. ?? ? ????????????? ??????? ???
????? ????????, ??? ????????? ?? ????????????? ?????? ??? ???? ??
????????????, ???????? ?? ?????????? ?? ??? ??????????? ???, ??? ??
???????????? ??? ????????? ??? ??????????????? ?? ????????? ???????
????????.

.. raw:: html

   </div>

?? ????? ???? ????? ? ?????????? ???? ??????? ??????? ?????????. ??
root, ????? ?????????:

.. code:: screen

    # Xorg -configure

???? ?? ???????????? ??? ??????? ?????? ????????? ??? X11 ???? ????????
``/root`` ?? ?? ????? ``xorg.conf.new`` (???? ??????????????? ??
`su(1) <http://www.FreeBSD.org/cgi/man.cgi?query=su&sektion=1>`__ ????
?????????? ?????????, ? ????????? ????????? ``$HOME`` ??????? ??????????
??? ???????? ??? root). ?? X11 ?? ??????????? ?? ?????????? ??
?????????? ???????? ??? ?????????? ??? ?? ???????????? ??? ??????
????????? ??? ?? ???????? ???? ??????? ??????? ???????? ??? ?? ????? ???
??????????? ??? ??????? ???.

?? ??????? ???? ????? ? ??????? ??? ?????????? ????????? ??? ??
????????????? ??? ?? Xorg ?????????? ?? ?? ?????????? ???????? ???
?????????? ???. ??????????????:

.. code:: screen

    # Xorg -config xorg.conf.new -retro

??? ?????????? ??? ????? ??? ???? ?????? ??? ???? ??????? ????????? ??
????? X, ? ??????? ???? ????????. ??? ?? ??????????? ?? ??????,
????????? ???? ???????? ??????? ??? ??? ????? ??? ??????????, ?????????
**Ctrl**+**Alt**+**F\ *``n``*** (**F1** ??? ??? ????? ???????? ???????)
??? ?????? **Ctrl**+**C**.

.. raw:: html

   <div class="note" xmlns="">

????????:
~~~~~~~~~

???????? ?????? ?? ??????????????? ??? ????????? ????????
**Ctrl**+**Alt**+**Backspace** ??? ??? ?????????? ??? ????????????. ???
?? ??? ??????????????, ????? ??? ???????? ?????? ?? ?????? ????????? ???
X:

.. code:: screen

    % setxkbmap -option terminate:ctrl_alt_bksp

???????????, ???????????? ??? ?????? ????????? ????????????? ??? ?? hald
?? ??? ???????? ``x11-input.fdi`` ??? ??????????? ?? ???? ????????
``/usr/local/etc/hal/fdi/policy``. ?? ?????? ???? ?? ?????? ?? ????????
??? ???????? ???????:

.. code:: programlisting

    <?xml version="1.0" encoding="iso-8859-1"?>
    <deviceinfo version="0.2">
      <device>
        <match key="info.capabilities" contains="input.keyboard">
          <merge key="input.x11_options.XkbOptions" type="string">terminate:ctrl_alt_bksp</merge>
        </match>
      </device>
    </deviceinfo>

?? ????????? ?? ?????????????? ?? ???????? ??? ??? ?? ???????????? ??
hald ?? ???????? ???? ?? ??????.

?? ?????? ?????? ?? ?????????? ??? ???????? ?????? ??? ??????
``xorg.conf.new``, ???? ??????? ``ServerLayout`` ? ``ServerFlags``:

.. code:: programlisting

    Option  "DontZap"   "off"

.. raw:: html

   </div>

?? ?? ??????? ??? ??????????, ?? ????????? ?? ?? ????????? ????
??????????. ????? ?? `??????3.10.10, ?????????? ????????? (Mouse
Settings)? <install-post.html#mouse>`__ ??? ???????? ???????????? ???
FreeBSD. ???????????, ???? ????????? ???????? ??? Xorg, ?? ????????
``InputDevice`` ??? ``xorg.conf`` ?????????? ????? ??????? ????? ???
???????? ??? ???????????? ????????. ??? ?? ??????????? ??? ?????
???????????, ????????? ??? ???????? ?????? ???? ??????? ``ServerLayout``
? ``ServerFlags`` ??? ??????? ?????????:

.. code:: programlisting

    Option "AutoAddDevices" "false"

?? ???????? ?????? ?? ????????? ??? ???????? ??????? ???? ????
???????????? ???????? ??? Xorg, ??????????????? ??? ?????? ?????
???????? ?????????? (?.?. ???????? ?????????????).

.. raw:: html

   <div class="note" xmlns="">

????????:
~~~~~~~~~

???? ????????? ??? ????????????, ? ???????? hald ??????????? ??
?????????? ???????? ?? ???????????? ???. ??????? ????????? ?? ??? ?????
????? ????????? ??? ???????? ? ??? ????????, ?????? ?????? ???????
???????????? ???? ?? GNOME ?? KDE ??? ?? Xfce ???????? ?? ???? ????
???????? ??? ?? ??????? ???. ???????? ???? ?? ????????? ??? ?????????
??? ????????????? ??? ?????????, ???? ???? ??? ?????????? ????????????
`setxkbmap(1) <http://www.FreeBSD.org/cgi/man.cgi?query=setxkbmap&sektion=1>`__
???? ?? ??? ???????? ???? ?????? ??? hald.

??? ??????????, ?? ??????? ????? ?? ?????????????? ??? ???????????? 102
???????? ?? ??????? ???????, ?? ?????? ?? ???????????? ??? ??????
????????? ??? ?? hald ?? ?? ????? ``x11-input.fdi`` ??? ?? ??
??????????? ???? ???????? ``/usr/local/etc/hal/fdi/policy``. ?? ??????
???? ?? ???????? ??? ???????? ???????:

.. code:: programlisting

    <?xml version="1.0" encoding="iso-8859-1"?>
    <deviceinfo version="0.2">
      <device>
        <match key="info.capabilities" contains="input.keyboard">
          <merge key="input.x11_options.XkbModel" type="string">pc102</merge>
          <merge key="input.x11_options.XkbLayout" type="string">fr</merge>
        </match>
      </device>
    </deviceinfo>

?? ?? ?????? ???? ??????? ???, ????? ?????????? ??? ???????? ???????
???? ??? ??????? ???????????.

?? ?????? ?? ?????????????? ?? ???????? ??? ??? ?? ???????????? ?? hald
?? ???????? ?? ??????.

???????? ?????? ?? ?????? ??? ???? ??????? ???? ??? ??? ????????? ??? ?
? ????? ??? ??? ??? script, ?????????? ??? ???????? ??????:

.. code:: screen

    % setxkbmap -model pc102 -layout fr

???????? ?? ?????? ??? ?????????? ???????? ????????????? ??? ?????????
??? ?????? ``/usr/local/share/X11/xkb/rules/base.lst``.

.. raw:: html

   </div>

??????, ??????????? ?? ?????? ????????? ``xorg.conf.new`` ????
??????????? ???. ??????? ?? ?? ???? ???????? ???????? ???? ?
`emacs(1) <http://www.FreeBSD.org/cgi/man.cgi?query=emacs&sektion=1>`__
? ? `ee(1) <http://www.FreeBSD.org/cgi/man.cgi?query=ee&sektion=1>`__.
?? ? ????? ??? ????? ????? ? ??????????? ??????? ??? ??? ???????????
???????? ????????? ??? ?????????? ??????????? ???, ???????? ?? ???
???????????? ??????????? ??? ``xorg.conf.new`` ???? ???????
``"Monitor"``:

.. code:: programlisting

    Section "Monitor"
            Identifier   "Monitor0"
            VendorName   "Monitor Vendor"
            ModelName    "Monitor Model"
            HorizSync    30-107
            VertRefresh  48-120
    EndSection

?? ???????????? ?????? ???????????? ???????? ????????? ??? ??????????
???????????, ??????????? ???? ????????? ?? ??????????? ?????????? ?????
??? ?????. ??? ??? ????? ??????????? ??? ?? ????????????? ? ????????
?????????, ?????????? ?? ??????????????? ??? ????? ??? ????? ?
????????????? ??? ?? ????????? ??????? ?????? ??? ????? ???.

?? X ????????? ?? ????? ??? ??????????? DPMS (Energy Star) ?? ?????? ???
???????????? ??? ?????????? ??????????. ?? ?????????
`xset(1) <http://www.FreeBSD.org/cgi/man.cgi?query=xset&sektion=1>`__
??????? ???? ??????? ??? ?????? ?? ????????? ??? ??????????? standby,
suspend, ? off. ?? ?????? ?? ?????????????? ??? ??????????? DPMS ???
?????? ???, ?????? ?? ?????????? ??? ???????? ?????? ??? Section
monitor:

.. code:: programlisting

            Option       "DPMS"

??? ?? ?????? ????????? ``xorg.conf.new`` ????? ????? ??????? ?? ????
???????? ????????, ???????? ??? ??????? ??? ?? ????? ???????? ???
??????????. ???? ??????????? ??? Section ``"Screen"``:

.. code:: programlisting

    Section "Screen"
            Identifier "Screen0"
            Device     "Card0"
            Monitor    "Monitor0"
            DefaultDepth 24
            SubSection "Display"
                    Viewport  0 0
                    Depth     24
                    Modes     "1024x768"
            EndSubSection
    EndSection

? ????????? ``DefaultDepth`` ?????? ?? ????????????? ????? ???????? ???
?? ??????????????. ???????? ?? ??? ??????????? ?? ??? ????????
``-depth`` ??? ?????? ??????? ???
`Xorg(1) <http://www.FreeBSD.org/cgi/man.cgi?query=Xorg&sektion=1>`__. ?
??????? ``Modes`` ?????? ??? ??????? ?? ??? ????? ?? ?????????? ? ?????
?? ??? ???????????? ????? ????????. ???????? ??? ?????????????? ????
????????? ??????????? VESA, ???? ????????? ??? ?? ?????????? ????????
??? ??????????. ??? ???????? ??????????, ?? ??????????? ????? ????????
????? ????????????? bits ??? pixel. ?? ???? ?? ????? ????????, ?
???????? ??????? ????? 1024?768 pixels.

?????, ??????????? ?? ?????? ????????? ??? ??????? ?? ?? ??? ??????
??????? ??? ????????? ????????.

.. raw:: html

   <div class="note" xmlns="">

????????:
~~~~~~~~~

??? ??? ?? ???????? ??? ?????? ?? ??? ????????? ???? ??? ??????????
???????? ???????????, ????? ?? ?????? X11 log, ??? ????????? ???????????
??? ???? ??????? ??? ??????????? ?? ??? ?????????? X11. ?? ?????? Xorg
log ??????????? ?? ??? ????? ``/var/log/Xorg.0.log``. ?? ??????? ?????
???? log ?????? ?? ????? ``Xorg.0.log`` ??? ``Xorg.8.log`` ??? ????
????????.

.. raw:: html

   </div>

?? ??? ????? ????, ?? ?????? ????????? ?????? ?? ??????????? ?? ???
????? ????????? ???? ?? ??????????? ??? ??
`Xorg(1) <http://www.FreeBSD.org/cgi/man.cgi?query=Xorg&sektion=1>`__.
???? ??????? ????? ? ``/etc/X11/xorg.conf`` ?
``/usr/local/etc/X11/xorg.conf``.

.. code:: screen

    # cp xorg.conf.new /etc/X11/xorg.conf

? ?????????? ???????? ??? X11 ???? ???? ???????????. ?? Xorg ???????? ??
?? ?????????? ?? ?? ????????? ?????????
`startx(1) <http://www.FreeBSD.org/cgi/man.cgi?query=startx&sektion=1>`__.
? ??????????? X11 ?????? ?????? ?? ????????? ?? ?? ??????? ???
`xdm(1) <http://www.FreeBSD.org/cgi/man.cgi?query=xdm&sektion=1>`__.

.. raw:: html

   </div>

.. raw:: html

   <div class="sect2">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

6.4.3. ????????????? ?????? ?????????
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   <div class="sect3">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

6.4.3.1. ????????? ??? ?? Intel(R) ``i810`` Graphics Chipsets
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

??? ?? ??????????????? ????? ????????? ??? Intel(R) i810 integrated
chipsets, ?????????? ?? ``agpgart``, ? ??????? ??????????????? ??? X11
??? ?? AGP. ????? ??? ?????? manual ??? ???????????? ????????
`agp(4) <http://www.FreeBSD.org/cgi/man.cgi?query=agp&sektion=4>`__ ???
???????????? ???????????.

M? ???? ??? ?????, ? ??????? ??? ?????? ??? ?? ?????? ?? ????? ???? ???
?? ???? ???? ????? ????????. ???????, ?? ????????? ????? ????????????
??? ?????
`agp(4) <http://www.FreeBSD.org/cgi/man.cgi?query=agp&sektion=4>`__, ?
?????? ??? ?? ???????? ?? ??? ??????
`kldload(8) <http://www.FreeBSD.org/cgi/man.cgi?query=kldload&sektion=8>`__.
? ?????? ????? ?????? ?? ????????? ???? ?????? ???? ??? ????????, ????
??????? ????????????????, ???? ?? ????? ??? ``/boot/loader.conf``.

.. raw:: html

   </div>

.. raw:: html

   <div class="sect3">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

6.4.3.2. ???????????? ??? Widescreen ??????? ?????
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

???? ?? ????? ??????????? ??????? ??????? ?????????????? ?????????. ??
?? ??????????? ?? ?? ?????? ???????? ????????? ??? ?????????? ?? ???
??????? ??? ?? ??????????, ???????? ??????? ??????????? ??? ?????? log
??? ??????? ?? ??? ?????????. ??????, ????? ?????????? ? ????? ????
???????? ????????.

?? ????????? ????????? widescreen (WSXGA, WSXGA+, WUXGA, WXGA, WXGA+,
?.?.) ???????????? formats ??? aspect ratios (?????????) 16:10 ??? 16:9
??? ?????? ?? ????????????? ??????????. ???????????? ??????? ??????
????????? ??? ???????? 16:10 ????? ??:

.. raw:: html

   <div class="itemizedlist">

-  2560x1600

-  1920x1200

-  1680x1050

-  1440x900

-  1280x800

.. raw:: html

   </div>

?????? ??????, ? ??????? ?? ??????? ???? ???? ???????????? ??? ???????
?? ??? ?????? ``Mode`` ??? ``Section "Screen"`` ???? ???:

.. code:: programlisting

    Section "Screen"
    Identifier "Screen0"
    Device     "Card0"
    Monitor    "Monitor0"
    DefaultDepth 24
    SubSection "Display"
        Viewport  0 0
        Depth     24
        Modes     "1680x1050"
    EndSubSection
    EndSection

?? Xorg ????? ?????? ?????? ???? ?? ????????? ??? ??????????? ???
???????? ??? widescreen ?????? ???? ??? ??????????? I2C/DDC, ???????????
???? ?? ?????? ?? ????????? ? ????? ??? ????? ??? ?????????? ??? ???
?????????.

?? ????? ?? ``ModeLines`` ??? ???????? ????? ???????, ?????? ??
????????? ?? ??? ?????? ????? ??? Xorg. ??????????????? ??
``/var/log/Xorg.0.log`` ???????? ?? ?????????? ??????? ??????????? ????
?? ????????????? ????? ??? ??? ``ModeLine`` ??? ?? ??????????. ?????
?????????? ??????????? ??? ?? ???????? ?? ????:

.. code:: programlisting

    (II) MGA(0): Supported additional Video Mode:
    (II) MGA(0): clock: 146.2 MHz   Image Size:  433 x 271 mm
    (II) MGA(0): h_active: 1680  h_sync: 1784  h_sync_end 1960 h_blank_end 2240 h_border: 0
    (II) MGA(0): v_active: 1050  v_sync: 1053  v_sync_end 1059 v_blanking: 1089 v_border: 0
    (II) MGA(0): Ranges: V min: 48  V max: 85 Hz, H min: 30  H max: 94 kHz, PixClock max 170 MHz

????? ??????????? ??????????? EDID. ? ?????????? ???? ``ModeLine`` ???
?????, ??????? ???????? ????? ???? ???????? ??? ????? ?????:

.. code:: programlisting

    ModeLine <name> <clock> <4 horiz. timings> <4 vert. timings>

??????, ?? ``ModeLine`` ??? ``Section "Monitor"`` ??? ?????????? ??? ??
??????? ?? ????:

.. code:: programlisting

    Section "Monitor"
    Identifier      "Monitor1"
    VendorName      "Bigname"
    ModelName       "BestModel"
    ModeLine        "1680x1050" 146.2 1680 1784 1960 2240 1050 1053 1059 1089
    Option          "DPMS"
    EndSection

???? ??? ????? ????????? ?? ???? ?? ???? ??????, ?? X ?? ?????? ??
???????????? ??? ??? widescreen ????? ???.

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   <div class="navfooter">

--------------

+-------------------------------+-------------------------+--------------------------------------+
| `????? <x-install.html>`__?   | `???? <x11.html>`__     | ?\ `??????? <x-fonts.html>`__        |
+-------------------------------+-------------------------+--------------------------------------+
| 6.3. ??????????? ??? X11?     | `???? <index.html>`__   | ?6.5. ????? ?????????????? ??? X11   |
+-------------------------------+-------------------------+--------------------------------------+

.. raw:: html

   </div>

???? ?? ???????, ??? ???? ???????, ?????? ?? ?????? ???
ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/

| ??? ????????? ??????? ?? ?? FreeBSD, ???????? ???
  `?????????? <http://www.FreeBSD.org/docs.html>`__ ???? ??
  ?????????????? ?? ??? <questions@FreeBSD.org\ >.
|  ??? ????????? ??????? ?? ???? ??? ??????????, ??????? e-mail ????
  <doc@FreeBSD.org\ >.
