===============================================
27.5. ??????????????? PPP ???? Ethernet (PPPoE)
===============================================

.. raw:: html

   <div class="navheader">

27.5. ??????????????? PPP ???? Ethernet (PPPoE)
`????? <ppp-troubleshoot.html>`__?
???????? 27. PPP ??? SLIP
?\ `??????? <pppoa.html>`__

--------------

.. raw:: html

   </div>

.. raw:: html

   <div class="sect1">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

27.5. ??????????????? PPP ???? Ethernet (PPPoE)
-----------------------------------------------

.. raw:: html

   </div>

.. raw:: html

   <div>

?????????? (???
http://node.to/freebsd/how-tos/how-to-freebsd-pppoe.html) ??? Jim Mock.

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

? ??????? ???? ?????????? ??? ?? ????????? ??? ??????? PPP ???? Ethernet
(PPPoE).

.. raw:: html

   <div class="sect2">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

27.5.1. ??????? ??? ??????
~~~~~~~~~~~~~~~~~~~~~~~~~~

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

??? ?????????? ????? ?????? ??????? ??? ?????? ??? ?? ?????????? PPPoE.
?? ? ??????? ??? ??? ???????????? ??? ?????????? ?????????? netgraph, ??
ppp ?? ??? ???????? ???????? ?? ???????.

.. raw:: html

   </div>

.. raw:: html

   <div class="sect2">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

27.5.2. ??????? ??? ``ppp.conf``
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

???????? ???????? ??? ????????? ??????? ``ppp.conf``:

.. code:: programlisting

    default:
      set log Phase tun command # you can add more detailed logging if you wish
      set ifaddr 10.0.0.1/0 10.0.0.2/0

    name_of_service_provider:
      set device PPPoE:xl1 # replace xl1 with your Ethernet device
      set authname YOURLOGINNAME
      set authkey YOURPASSWORD
      set dial
      set login
      add default HISADDR

.. raw:: html

   </div>

.. raw:: html

   <div class="sect2">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

27.5.3. ???????? ??? ppp
~~~~~~~~~~~~~~~~~~~~~~~~

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

?? ??????? ``root``, ???????? ?? ??????????:

.. code:: screen

    # ppp -ddial name_of_service_provider

.. raw:: html

   </div>

.. raw:: html

   <div class="sect2">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

27.5.4. ???????? ??? ppp ???? ??? ????????
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

????????? ??? ???????? ??????? ??? ?????? ``/etc/rc.conf``:

.. code:: programlisting

    ppp_enable="YES"
    ppp_mode="ddial"
    ppp_nat="YES"   # if you want to enable nat for your local network, otherwise NO
    ppp_profile="name_of_service_provider"

.. raw:: html

   </div>

.. raw:: html

   <div class="sect2">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

27.5.5. ????? ???? ???????? ????????? PPPoE
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

??????? ????? ?? ????????? ?? ??????????????? ??? ??????? ?????????
(service tag) ??? ??? ???????????? ??? ???????? ???. ?? ????????
????????? ???????????????? ??? ??? ?????????? ?????? ????????????
???????????? PPPoE ??? ?????????? ??? ???? ??????.

? ?????????? ??? ??? ???? ????? ? ISP ???, ?? ?????? ?? ???? ???
???????????? ??????????? ??? ??? ??????? ????????? ??? ??????????. ??
??? ???????? ?? ??? ??????, ??????? ??? ??????????? ??????? ??? ISP ???.

?? ????????? ????, ?? ?????????? ?? ?????????? ??? ?????? ??? ??????????
??? ????????? `Roaring Penguin
PPPoE <http://www.roaringpenguin.com/pppoe/>`__ ?? ????? ???????? ??
?????? ???? `??????? ??? Ports <ports.html>`__. ?? ????? ????? ???, ???
???? ?????? ?? ????????????????? ??? ?? ??????????? ?? modem ???, ????
????????? ?? ???? ???? ?? ??????. ????? ???????????? ?? ????????? ???
????? ? ???????? ??? ???? ?? ?? modem. ??????, ????????? ??? ?????
System ??? ????????????. ???? ?? ?????? ?? ????? ?? ????? ??? ??????
???. ??????? ?????? *ISP*.

?? ????? ??? ?????? (??????? ?????????) ?? ?????????????? ????
?????????? ??? ??? ??????? ??? PPPoE ??? ?????? ``ppp.conf``, ?? ??
????? ??? ??????? ??? ??????? ???? ?????? ``set device`` (????? ??
?????? manual ???
`ppp(8) <http://www.FreeBSD.org/cgi/man.cgi?query=ppp&sektion=8>`__ ???
??????? ????????????). ?? ??????? ???? ?? ????????:

.. code:: programlisting

    set device PPPoE:xl1:ISP

??? ???????? ?? ???????? ?? *``xl1``* ?? ?? ????? ??????? ???
??????????? ???? ????? Ethernet ??? ??????????????.

??? ???????? ?? ???????? ?? *``ISP``* ?? ?? ?????? ??? ??????? ????????.

??? ???????????? ???????????, ?????:

.. raw:: html

   <div class="itemizedlist">

-  `?????????? ??????????? ????????? ???? FreeBSD ?? ??????
   DSL <http://renaud.waldura.com/doc/freebsd/pppoe/>`__ ??? ??? Renaud
   Waldura.

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   <div class="sect2">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

27.5.6. ?? PPPoE ?? Modem 3Com(R) HomeConnect(R) ADSL Dual Link
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

???? ?? modem ??? ????????? ?? `RFC
2516 <http://www.faqs.org/rfcs/rfc2516.html>`__ (*??? ??????? ???
???????? PPP ???? Ethernet (PPPoE)*, ???????? ??? ???? L. Mamakos, K.
Lidl, J. Evarts, D. Carrel, D. Simone, ??? R. Wheeler). ????????,
???????????? ????????????? ?????? ??????? ??????? ??? ?? ???????
Ethernet. ??????????? ?? ????????? ?? ???????? ??? ????
`3Com <http://www.3com.com/>`__ ?? ???????? ??? ?? ?????? ?? ???????????
?? ??? ???????????? ??? PPPoE.

??? ?? ?????? ?? FreeBSD ?? ??????????? ?? ???? ?? ???????, ?? ?????? ??
????? ??? ????????? sysctl. ???? ?????? ?? ??????? ???????? ???? ???
????????, ?? ??? ????????? ??? ??????? ``/etc/sysctl.conf``:

.. code:: programlisting

    net.graph.nonstandard_pppoe=1

? ?????? ?? ????? ????? ?? ??? ??????:

.. code:: screen

    # sysctl net.graph.nonstandard_pppoe=1

????????, ?????? ????????? ??? ??? ??????? ??? ????????? ???????? ??
???????, ??? ????? ??????? ?? ????????????? ?????????? ?? ??? ????????
?????? ? ??????????? PPPoE ??? ?? ??? ADSL modem 3Com(R) HomeConnect(R).

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   <div class="navfooter">

--------------

+----------------------------------------------------+--------------------------------+-----------------------------------------------+
| `????? <ppp-troubleshoot.html>`__?                 | `???? <ppp-and-slip.html>`__   | ?\ `??????? <pppoa.html>`__                   |
+----------------------------------------------------+--------------------------------+-----------------------------------------------+
| 27.4. ???????????? ??????????? ?? ????????? PPP?   | `???? <index.html>`__          | ?27.6. ??????????????? PPP ???? ATM (PPPoA)   |
+----------------------------------------------------+--------------------------------+-----------------------------------------------+

.. raw:: html

   </div>

???? ?? ???????, ??? ???? ???????, ?????? ?? ?????? ???
ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/

| ??? ????????? ??????? ?? ?? FreeBSD, ???????? ???
  `?????????? <http://www.FreeBSD.org/docs.html>`__ ???? ??
  ?????????????? ?? ??? <questions@FreeBSD.org\ >.
|  ??? ????????? ??????? ?? ???? ??? ??????????, ??????? e-mail ????
  <doc@FreeBSD.org\ >.
