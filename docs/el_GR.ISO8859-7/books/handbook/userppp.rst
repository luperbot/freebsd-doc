===================================
27.2. ??????????????? ?? PPP ??????
===================================

.. raw:: html

   <div class="navheader">

27.2. ??????????????? ?? PPP ??????
`????? <ppp-and-slip.html>`__?
???????? 27. PPP ??? SLIP
?\ `??????? <ppp.html>`__

--------------

.. raw:: html

   </div>

.. raw:: html

   <div class="sect1">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

27.2. ??????????????? ?? PPP ??????
-----------------------------------

.. raw:: html

   </div>

.. raw:: html

   <div>

??????????? ??? ?????????? ??? ??? Tom Rhodes.

.. raw:: html

   </div>

.. raw:: html

   <div>

?????? ?????????? ??? Brian Somers.

.. raw:: html

   </div>

.. raw:: html

   <div>

?? ?? ??????? ??? Nik Clayton, Dirk Fr"omberg ??? Peter Childs.

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   <div class="warning" xmlns="">

?????????????:
~~~~~~~~~~~~~~

??? ?? FreeBSD?8.0 ??? ????, ?? ??????? ???????? ??? ??? ????????? ?????
?????????????? ??? ``/dev/cuadN`` ?? ``/dev/cuauN`` ??? ???
``/dev/ttydN`` ?? ``/dev/ttyuN``. ?? ??????? ??? FreeBSD?7.X ??
????????? ?? ???????????? ??? ???????? ??????? ??????? ?? ????? ???
???????.

.. raw:: html

   </div>

.. raw:: html

   <div class="sect2">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

27.2.1. PPP ??????
~~~~~~~~~~~~~~~~~~

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   <div class="sect3">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

27.2.1.1. ????????????
^^^^^^^^^^^^^^^^^^^^^^

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

?? ??????? ???? ??????????? ??? ????? ?? ????????:

.. raw:: html

   <div class="itemizedlist">

-  ?????????? ?? ?????? ??????? ????????? Internet (ISP) ???? ?????
   ????????? ??????????????? PPP.

-  ??? modem ? ???? ??????? ????????? ??? ??????? ???, ??? ??????????
   ????? ???? ?? ??? ????????? ?? ?????????? ???? ISP ???.

-  ???? ???????? ?????? ??? ??? ISP ???.

-  ?? ????? ?????? (login) ??? ??? ?????? ??? (password). ???? ????????
   ????? ??? ?????? (????? UNIX(R)) ? ??? ?????? ???????? / ???????
   ????? PAP ? CHAP.

-  ??? IP ??????????? ???? ? ???????????? ??????????? ???????? (DNS).
   ???????????, ? ISP ??? ?? ??? ????? ??? ??????? ???????????. ?? ???
   ????? ??????????? ???, ???????? ?? ?????????????? ??? ??????
   ``enable dns`` ??? ``ppp.conf`` ??? ?? ppp ?? ???????? ????
   ??????????? ???????? ??? ???. ?? ?????????????? ???? ????????? ???
   ??? ?????????? ??? ??????????????? DNS ??? ??? ISP ???.

.. raw:: html

   </div>

? ISP ??? ??????????? ?? ??? ????? ??? ??? ???????? ???????????, ????
??? ????? ??????? ???????????:

.. raw:: html

   <div class="itemizedlist">

-  ?? ????????? IP ??? ??? ???? (gateway) ??? ISP ???. ? ???? ????? ??
   ???????? ???? ??? ?????? ?????????, ??? ?? ?????????? ???
   *????????????? ????????* (default route) ??? ?? ???????? ???. ?? ???
   ????? ???? ??? ??????????, ?? ?????????????? ??? ????????, ??? ????
   ?????????? ?? ?????? ??? ???????? ????????? ??? ??? ?????????? PPP
   ??? ISP ???.

   ???? ? ????????? IP ?????????? ?? ``HISADDR`` ??? ?? ppp.

-  ?? ????? ??????? (netmask) ??? ?????? ?? ???????????????. ?? ? ISP
   ??? ?? ??? ??? ???????, ???????? ?? ???????? ?? ??????????????? ???
   ???? ``255.255.255.255``.

-  ?? ? ISP ??? ??????? ??????? ????????? ??? ????? ??????????
   (hostname) ???????? ?? ??????????????? ????. ???????????, ?? ????????
   ??? ????????????? ?????????? ?? ????? ????? ????????? IP ??????
   ?????????.

.. raw:: html

   </div>

?? ??? ??????? ??????? ??? ??? ???????????? ???????????, ?????????????
?? ??? ISP ???.

.. raw:: html

   <div class="note" xmlns="">

????????:
~~~~~~~~~

?? ???????? ??? ??????? ???????, ????? ??? ?? ???????????? ??? ????????
?? ??????????? ??? ??????? ?????????, ????? ?????????? ??? ??????. ??
??????? ????? ??????????? ???? ?????????? ??? ?? ???????? ??? ????
?????????????, ??? ??? ?????? ?? ??????? ???? ??? ?????????? ??????.
????? ?????? ????????? ?? ??????? ? ????? ???????? ?? ???? ??????, ?? ??
????? ?????????? (tabs) ??? ????? ???????????.

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   <div class="sect3">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

27.2.1.2. ???????? ??????? PPP
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

???? ?? ``ppp`` ??? ??? ?? ``pppd`` (? ????????? ??? PPP ?? ???????
??????, ???? ??? FreeBSD?7.X) ????????????? ?? ?????? ????????? ????
???????? ``/etc/ppp``. ???????? ?? ?????? ???????????? ??? ?? ppp ??????
???? ???????? ``/usr/share/examples/ppp/``.

H ??????? ??? ``ppp`` ??????? ??? ??????????? ???? ??????? ??? ??????,
??????? ?? ??? ?????????? ???. ?? ?? ?? ?????? ?? ????, ????????? ?? ???
??????? ??? ?? ?? ? ISP ??? ???????? ???????? ??????????? IP (???. ???
??????? ??? ????????? IP ? ????? ??? ???????) ? ????????? (???. ? IP
????????? ??? ??????? ???? ???? ??? ????????? ???? ISP ???).

.. raw:: html

   <div class="sect4">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

27.2.1.2.1. PPP ??? ???????? ??????????? IP
'''''''''''''''''''''''''''''''''''''''''''

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

?? ????????? ?? ????????????? ?? ?????? ????????? ``/etc/ppp/ppp.conf``.
?? ?????? ?? ??????? ?? ???? ??? ???????? ????????:

.. raw:: html

   <div class="note" xmlns="">

????????:
~~~~~~~~~

?? ??????? ??? ?????????? ?? ``:`` ???????? ???? ????? ????? (???? ???
???????) - ???? ?? ????? ??????? ?? ?????? ?? ??????????? ?? ??? ?????
??? ????????, ?? ?? ????? ????? ? ??????????.

.. raw:: html

   </div>

.. code:: programlisting

    1     default:
    2       set log Phase Chat LCP IPCP CCP tun command
    3       ident user-ppp VERSION (built COMPILATIONDATE)
    4       set device /dev/cuau0
    5       set speed 115200
    6       set dial "ABORT BUSY ABORT NO\\sCARRIER TIMEOUT 5 \
    7                 \"\" AT OK-AT-OK ATE1Q0 OK \\dATDT\\T TIMEOUT 40 CONNECT"
    8       set timeout 180
    9       enable dns
    10
    11    provider:
    12      set phone "(123) 456 7890"
    13      set authname foo
    14      set authkey bar
    15      set login "TIMEOUT 10 \"\" \"\" gin:--gin: \\U word: \\P col: ppp"
    16      set timeout 300
    17      set ifaddr x.x.x.x y.y.y.y 255.255.255.255 0.0.0.0
    18      add default HISADDR

.. raw:: html

   <div class="variablelist">

?????? 1:
    ??????????? ??? ????????????? ??????????. ?? ??????? ?? ???? ???
    ?????????? ??????????? ????????, ???? ?????????? ?? ppp.

?????? 2:
    ??????????? ??? ????????? (logging) ??? ??????????. ???? ??
    ????????? ??? ????? ????? ??????????? ?????????????, ? ?????? ????
    ?? ?????? ?? ???????? ???? ????????:

    .. code:: programlisting

        set log phase tun

    ??? ?? ??????????? ?????? ?????? ??? ?????? ??????????.

?????? 3:
    ???? ??? PPP ??? ?? ???????? ??????????? ??? ??? ????? ??? ???? ????
    ????? ??? ????????. ? ?????????? ???? ??????? ?? ?? PPP ????
    ???????? ???? ?????????????? ??? ?????????? ??? ????????, ??????????
    ?? ???? ??? ????? ??????????? ???? ????????????? ???????????. ??
    ??????????? ????? ?????? ?? ????? ???????? ???? ??????? ???
    ???????????.

?????? 4:
    ??????????? ?? ??????? ???? ????? ????? ????????? ?? modem. ?
    ??????? ``COM1`` ????? ? ``/dev/cuau0`` ??? ? ``COM2`` ????? ?
    ``/dev/cuau1``.

?????? 5:
    ????????? ??? ???????? ?? ??? ????? ?????????? ?? ??????????. ?? ???
    ?????????? ? ???? 115200 (? ????? ?????? ?? ?????????? ?? ????
    ??????? ???????? modem), ????????? ?? 38400.

??????? 6 & 7:
    ?? ????????????? ??? ?? ?????????????? ??? ??? ?????. ?? PPP ??????
    ???????????? ??????? expect-send ???????? ?? ???? ??? ????????????
    ?? ?????????
    `chat(8) <http://www.FreeBSD.org/cgi/man.cgi?query=chat&sektion=8>`__.
    ????? ?? ?????? manual ??? ??????????? ??????? ?? ??? ???????????
    ????? ??? ???????.

    ????????? ??? ???? ? ?????? ????????? ???? ??????? ?????? ??? ??????
    ???????????????. ???? ?????? ?? ????? ?? ???? ?????? ???
    ``ppp.conf``, ?????? ?? ``\`` ????? ? ?????????? ?????????? ???
    ???????.

?????? 8:
    ????????? ?? ????? ??????????? ???? ????????? ??? ????????. ?? 180
    ???????????? ????? ? ????????????? ????, ???? ? ?????? ???? ?????
    ??? ?????? ????????????.

?????? 9:
    ???? ??? PPP ?? ??????? ??? ???? ?????? ??? ?? ???????????? ???
    ??????? ????????? ??? resolver. ?? ????????? ?????? ??????????
    ???????? (DNS), ?? ?????? ?? ??????????? ???? ?? ?????? ?? ?????? ?
    ?? ??? ??????????.

?????? 10:
    ???? ?????? ???? ? ???????? ??? ??????? ?? ????? ??? ??????. ??
    ????? ??????? ?????????? ??? ?? PPP.

?????? 11:
    ??????????? ??? ?????????? ???? ??????? ?? ?? ????? ?provider?.
    ???????? ??? ?? ??????????????? ?? ????? ??? ISP ???, ???? ????????
    ?? ???????? ?? ??????? ??? ?? ??? ??????? ``load ISP``.

?????? 12:
    ????? ??? ?????? ?????? ??? ???? ??? ???????. ???????? ?? ??????????
    ?????????? ???????? ?????? ??????????????? ???-???? ?????? (``:``) ?
    ??? ????????? (``|``) ?? ????????????. ? ??????? ?????? ??? ???
    ????????????? ???????????? ???
    `ppp(8) <http://www.FreeBSD.org/cgi/man.cgi?query=ppp&sektion=8>`__.
    ???????????, ?? ?????? ?? ???????????? ??????? ???? ?? ???????,
    ?????????????? ??? ???-???? ??????. ?? ?????? ?? ??????? ???????
    ???????? ?????? ??? ?????? ??????? ??? ?? ????????? ?? ????????????
    ???? ?? ? ?????? ????????, ?????????????? ?? ????????? ????????????.
    ?? ??????? ??????? ??? ?? ?????? ??? ??????????? ??????? ?? ???
    ????? ??? ????????.

    ?? ? ??????? ????????? ???????? ????, ?? ?????? ?? ??? ????????????
    ?? ?????????? (``"``). ? ????????? ????, ?? ??? ????? ???? ??????,
    ?????? ?? ?????????? ?????????? ??? ??? ??????? ?? ???????????
    ??????.

??????? 13 & 14:
    ??????????? ?? ????? ?????? ??? ??? ?????? ???. ???? ?????????
    ??????????????? ???????? ????? UNIX(R), ?? ????? ????? ???????????
    ??? ??? ?????? ``set login`` ??????????????? ??? ?????????? \\U ???
    \\P. ???? ????????? ?? ????? PAP ? CHAP, ?? ????? ?????
    ???????????????? ??? ??? ??? ???????????? ?????????? ??? ??????.

?????? 15:
    ?? ?????????????? PPP ? CHAP, ??? ?? ??????? ??? ?????? ????
    ???????? ??????? (login), ??? ?? ?????? ?? ??????????? ?? ??????
    ???? ?? ?????? ? ?? ??? ??????????. ????? ??? `??????????? PAP ???
    CHAP <userppp.html#userppp-PAPnCHAP>`__\  ??? ????????????
    ????????????.

    ?? ????????????? ??????? ???????????? ??????? ???????? ?? ??
    `chat(8) <http://www.FreeBSD.org/cgi/man.cgi?query=chat&sektion=8>`__,
    ???? ????????? ??? ?? ?? ????????????? ??????. ??? ?????????? ???,
    ?? ????????????? ??????????????? ??? ??? ???????? ???? ????? ?
    ???????? ??????? ??????? ?? ??? ????????:

    .. code:: screen

        J. Random Provider
        login: foo
        password: bar
        protocol: ppp

    ?? ????????? ?? ???????? ???? ?? script ??????? ?? ??? ??????? ???.
    ???? ??????? ???? ?? script ??? ????? ????, ??????????? ??? ?????
    ????????????? ?? ?????? ?????????? ??? ?? ?chat? ???? ?? ???????? ??
    ????????????? ?? ? ?????????? ??????????? ????????? ?????.

?????? 16:
    ????? ?? ????? ????????? (?? ????????????) ??? ?? ???????. ???, ?
    ??????? ?? ??????? ???????? ?? ??? ??????? ?????? ??? 300
    ????????????. ?? ??? ?????? ?? ??????? ???? ??????????? ??? ????????
    ???? ?????????, ????? ???? ?? ???? ?? ?????, ? ?????????????? ???
    ??????? ``-ddial`` ??? ?????? ???????.

?????? 17:
    ????? ?? ????????? ??? ????????. ?? ????????????? *``x.x.x.x``* ??
    ?????? ?? ?????????????? ?? ?? ????????? IP ??? ??? ???? ????????
    ??? ??? ??????? ???. ?? ????????????? *``y.y.y.y``* ?? ?????? ??
    ?????????????? ?? ??? ????????? IP ??? ???? ????????? ? ISP ??? ??
    ???? (gateway, ?? ???????? ??? ????? ?????????). ?? ? ISP ??? ???
    ??? ???? ????? ????????? ?????, ?????????????? ??? ``10.0.0.2/0``.
    ?? ?????? ?? ??????????????? ??? IP ????????? ??? ????? ??????????,
    ??????????? ??? ????? ???????????? ??? ?????????? ???
    ``/etc/ppp/ppp.linkup`` ??????? ?? ??? ??????? ??? ?? `PPP ???
    ????????? IP ??????????? <userppp.html#userppp-dynamicIP>`__. ??
    ??????????? ???? ?? ??????, ?? ``ppp`` ??? ?? ?????? ?? ??????????
    ?? ????????? ``-auto``.

?????? 18:
    ????????? ??? ????????????? ???????? (default route) ???? ??
    ???????? ????? (gateway) ??? ISP ???. ? ?????? ???? ``HISADDR``
    ?????????????? ?? ??? ????????? ????? ??? ??????????? ??? ?????? 17.
    ????? ????????? ? ?????? ???? ?? ??????????? ???? ??? ?????? 17,
    ??????????? ?? ``HISADDR`` ??? ?? ???? ????? ????? ?????? ????.

    ?? ??? ?????????? ?? ?????????? ?? ppp ?? ????????? ``-auto``, ??
    ?????? ?? ???????????? ???? ?? ?????? ??? ?????? ``ppp.linkup``.

.. raw:: html

   </div>

??? ????? ?????????? ?? ?????????? ?????????? ??? ?????? ``ppp.linkup``
???? ????? ??????? ????????? IP ??? ????????? ?? ppp ?? ?????????
``-auto``. ???? ????????? ????, ?? ???????????? ??? ???? ??????
???????????? ????? ?????? ???? ??? ??????????. ???? ?????? ?? ?????? ??
????????????? ??? ?????????? ??? ?? ?????????? ?????? ??????????? ????
??? ???????????? ??? ????????. ?? ?? ?????????? ???? ???????? ?? ???
?????????? ?? ?? sendmail.

???????? ?? ?????? ???????????? ??????? ????????? ???? ????????
``usr/share/examples/ppp/``.

.. raw:: html

   </div>

.. raw:: html

   <div class="sect4">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

27.2.1.2.2. PPP ??? ????????? ??????????? IP
''''''''''''''''''''''''''''''''''''''''''''

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

?? ? ???????? ??? ??? ????? ???????? ???????????, ?? ``ppp`` ?????? ??
????????? ?? ???????????????? ??? ?????? ??? ??? ?????????????
?????????. ???? ??????? ????????????? ??? ????????? IP, ??? ????????????
??? ``ppp`` ?? ??? ????? ?????? ?????, ??????????????? ?? ??????????
IPCP (IP Configuration Protocol) ???? ?? ???????. ?? ?????? ?????????
``ppp.conf`` ????? ?? ???? ???? ??? ??? `PPP ??? ???????? ???????????
IP <userppp.html#userppp-staticIP>`__, ?? ??? ???????? ???? ??????:

.. code:: programlisting

    17      set ifaddr 10.0.0.1/0 10.0.0.2/0 255.255.255.255 0.0.0.0

???? ??? ????????????, ??? ?????? ?? ?????????? ??? ?????? ???????.
?????????? ????? ???? ??????????? ????? ???????????.

.. raw:: html

   <div class="variablelist">

?????? 17:
    ? ??????? ???? ?? ????????? ``/`` ????? ?? ?????? ??? bits ???
    ?????????? ??? ?? ????? ?? ????????? ?? ppp. ???? ?????? ??
    ??????????????? ???????? IP ??? ??????????? ??? ??? ?????????, ????
    ?? ?????????? ??? ??????? ???????? ?? ???????????? ?????.

    ?? ????????? ?????? (?? ``0.0.0.0``) ???? ??? PPP ?? ??????? ???
    ???????????????? ?? ??? ????????? ``0.0.0.0`` ???? ??? ???
    ``10.0.0.1``. ???? ????? ?????????? ?? ?????????? ISP. ??
    ??????????????? ?? ``0.0.0.0`` ?? ????? ?????? ???? ``set ifaddr``,
    ????? ?? ????????? ??? PPP ?? ???????? ??? ?????? ???????? ????
    ????????? ``-auto`` .

.. raw:: html

   </div>

?? ??? ?????????????? ??? ??????? ``-auto``, ?? ????????? ??
????????????? ??? ?????????? ??? ?????? ``/etc/ppp/ppp.linkup``. ??
?????? ``ppp.linkup`` ??????????????? ???? ??? ???????????? ???
????????. ??? ?????? ????, ?? ``ppp`` ?? ???? ??? ???????? ?????????
???? ??????? ??? ?? ????? ????? ??????? ?? ?????????? ??? ????????????
???? ?????? ????????????:

.. code:: programlisting

    1     provider:
    2      add default HISADDR

.. raw:: html

   <div class="variablelist">

?????? 1:
    ?? ??? ???????????? ??? ????????, ?? ``ppp`` ?? ????? ??? ???
    ?????????? ??? ``ppp.linkup`` ??????? ?? ???? ???????? ???????:
    ?????? ?? ??????????? ?? ????????? ??? ????? ??????? ??? ????
    ?????????????? ??? ?????? ``ppp.conf``. ?? ???? ????????, ?? ?????
    ??? ??? ?????????? ??? ??? ????????? IP ??? ?????. ? ?????????? ????
    ????? ??? ??????? ?????? IP ??????????, ?? ???????? ???????. ?? ???
    ???? ????? ?????? ? ????? ??????????, ?? ????? ????????? ??? ???
    ?????????? ``MYADDR``.

?????? 2:
    ? ?????? ???? ???? ??? ``ppp`` ?? ????????? ??? ?????????????
    ???????? ? ????? ?? ??????? ??? ``HISADDR``. ?? ``HISADDR`` ??
    ?????????????? ?? ?? ????????? IP ??? ????? ???? ???? ????????? ????
    ??? ??????????? IPCP.

.. raw:: html

   </div>

????? ??? ?????????? ``pmdemand`` ??? ??????
``/usr/share/examples/ppp/ppp.conf.sample`` ???
``/usr/share/examples/ppp/ppp.linkup.sample`` ??? ??? ??? ??????????
??????????.

.. raw:: html

   </div>

.. raw:: html

   <div class="sect4">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

27.2.1.2.3. ???? ???????????? ???????
'''''''''''''''''''''''''''''''''''''

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

???? ????????? ?? ppp ?? ???????? ???????????? ??????? ?? ??? ????????
??? ????????? ?? ??? ?????? ?????? (LAN), ?? ?????? ?? ??????????? ??
?????? ?? ??????????? ?????? ???? ????. ?? ???, ?? ?????? ?? ?????????
??? ???????? ??? ????????? IP ? ????? ?? ?????? ??? ???? ????????? ?? ??
LAN, ??? ?? ??????????????? ??? ?????? ``enable proxy`` ??? ??????
``/etc/ppp/ppp.conf``. ?? ?????? ?????? ?? ????????????? ??? ?? ??????
``/etc/rc.conf`` ???????? ?? ????????:

.. code:: programlisting

    gateway_enable="YES"

.. raw:: html

   </div>

.. raw:: html

   <div class="sect4">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

27.2.1.2.4. ???? getty;
'''''''''''''''''''''''

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

? ??????? `???????? ??????? ???? ?????????? ???????? (dial
in) <dialup.html>`__ ??????? ??? ???? ????????? ??????? ?? ???
???????????? ????????? ?????????? ??????? ??????????????? ???
`getty(8) <http://www.FreeBSD.org/cgi/man.cgi?query=getty&sektion=8>`__.

??? ??????????? ???? ``getty`` ????? ?
`mgetty <http://mgetty.greenie.net/>`__ (??? ?? ??????
`comms/mgetty+sendfax <http://www.freebsd.org/cgi/url.cgi?ports/comms/mgetty+sendfax/pkg-descr>`__),
??? ??? ?????? ?????? ??? ``getty``, ? ????? ???? ?????????? ??? ??
???????? ?????? ??? ?????????? ???????.

?? ????????????? ??? ``mgetty`` ????? ??? *???????????* ?????? ?? ??
modem, ?? ????? ???????? ??? ?? ? ???? ????? ???????????????? ???
``/etc/ttys``, ?? modem ??? ??? ?? ????????? ???? ?????.

?????????????? ???????? ??? ``mgetty`` (??? ??? 0.99beta ??? ????)
???????????? ?????? ???????? ????????? PPP streams, ???????????? ?????
??????? ??? ???????? ???? ??????????? ????? ????? scripts.

???????? ??? ??????? `Mgetty ???
AutoPPP <userppp.html#userppp-mgetty>`__ ??? ???????????? ???????????
??????? ?? ??? ``mgetty``.

.. raw:: html

   </div>

.. raw:: html

   <div class="sect4">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

27.2.1.2.5. ?????? ??? ?? PPP
'''''''''''''''''''''''''''''

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

???????????, ? ???????? ??? ??????? ``ppp`` ?????? ?? ??????? ?? ???????
``root``. ?? ?????? ?????? ?? ?????????? ??? ???????? ??? ``ppp`` ??
????????? ??????????? ?? ????????? ??????? (?? ??? ????? ???
???????????? ????????) ?? ?????? ?? ?????? ?? ???? ?? ?????? ??
????????? ?????????? ??? ?? ??????? ?? ``ppp``, ???????????? ??? ????
????? ``network`` ??? ?????? ``/etc/group``.

?? ?????? ?????? ?? ???? ?????? ???????? ?? ??? ? ??????????? ???????
??? ??????? ?????????, ??????????????? ??? ?????? ``allow``:

.. code:: programlisting

    allow users fred mary

?? ??????????????? ??? ??????? ???? ??? ????? ``default``, ?? ?????? ??
?????? ???? ??????? ???????? ?? ???? ??? ?????????.

.. raw:: html

   </div>

.. raw:: html

   <div class="sect4">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

27.2.1.2.6. ?????? PPP ??? ??????? ?? ???????? IP
'''''''''''''''''''''''''''''''''''''''''''''''''

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

???????????? ??? ?????? ?? ?? ????? ``/etc/ppp/ppp-shell`` ?? ????? ??
???????? ?? ????????:

.. code:: programlisting

    #!/bin/sh
    IDENT=`echo $0 | sed -e 's/^.*-\(.*\)$/\1/'`
    CALLEDAS="$IDENT"
    TTY=`tty`

    if [ x$IDENT = xdialup ]; then
            IDENT=`basename $TTY`
    fi

    echo "PPP for $CALLEDAS on $TTY"
    echo "Starting PPP for $IDENT"

    exec /usr/sbin/ppp -direct $IDENT

?? script ???? ?? ?????? ?? ????? ??????????. ???????????? ???? ???
????????? ????? ??? ?? ?????????? ``ppp-dialup`` ??????????????? ???
???????? ???????:

.. code:: screen

    # ln -s ppp-shell /etc/ppp/ppp-dialup

?? ?????? ?? ??????????????? ???? ?? script ?? ?? *???????* ??? ?????
???? dialup ???????. ??? ???????? ??? ?????????? ??? ``/etc/passwd`` ???
??? ?????? dialup ?? ????? ``pchilds`` (????????? ??? ??? ?????? ??
???????????? ????? ?? ?????? ??? ???????, ???? ???? ??? ???????
`vipw(8) <http://www.FreeBSD.org/cgi/man.cgi?query=vipw&sektion=8>`__).

.. code:: programlisting

    pchilds:*:1011:300:Peter Childs PPP:/home/ppp:/etc/ppp/ppp-dialup

???????????? ??? ???????? ``/home/ppp`` ?????????? ??? ???????? ???
?????, ? ?????? ?? ???????? ?? ???????? ???? ??????:

.. code:: screen

    -r--r--r--   1 root     wheel           0 May 27 02:23 .hushlogin
    -r--r--r--   1 root     wheel           0 May 27 02:22 .rhosts

?? ????? ?????????? ??? ???????? ??? ????????? ??? ?? ??????
``/etc/motd``.

.. raw:: html

   </div>

.. raw:: html

   <div class="sect4">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

27.2.1.2.7. ?????? PPP ??? ??????? ?? ??????? IP
''''''''''''''''''''''''''''''''''''''''''''''''

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

???????????? ?? ?????? ``ppp-shell`` ???? ???????? ????????, ??? ???
???? ?????????? ?? ??????? IP, ???????????? ??? ????????? ????? ???? ??
``ppp-shell``.

??? ??????????, ?? ????? ????? ??????? dialup, ???? ``fred``, ``sam``,
??? ``mary``, ????? ??????? ????????? ??????????? /24 CIDR, ?? ?????? ??
??????? ?? ????????:

.. code:: screen

    # ln -s /etc/ppp/ppp-shell /etc/ppp/ppp-fred
    # ln -s /etc/ppp/ppp-shell /etc/ppp/ppp-sam
    # ln -s /etc/ppp/ppp-shell /etc/ppp/ppp-mary

??? ???? ?????????? ?????? dialup, ?? ?????? ?? ????????? ?? ??????? ???
????????? ????? ??? ????????????? ???????? (??? ?????????? ? ??????????
?????? ??? ?? ??????? ??? ?????? ``mary`` ?? ?????? ?? ????? ?
``/etc/ppp/ppp-mary``).

.. raw:: html

   </div>

.. raw:: html

   <div class="sect4">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

27.2.1.2.8. ??????? ??? ``ppp.conf`` ??? ??????? ?? ???????? IP
'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

?? ?????? ``/etc/ppp/ppp.conf`` ?? ?????? ?? ???????? ???? ?????????? ??
?? ????????:

.. code:: programlisting

    default:
      set debug phase lcp chat
      set timeout 0

    ttyu0:
      set ifaddr 203.14.100.1 203.14.100.20 255.255.255.255
      enable proxy

    ttyu1:
      set ifaddr 203.14.100.1 203.14.100.21 255.255.255.255
      enable proxy

.. raw:: html

   <div class="note" xmlns="">

????????:
~~~~~~~~~

? ???????? ????? ?????????.

.. raw:: html

   </div>

??? ???? ????????, ?????????? ? ??????? ``default:``. ??? ???? ??????
dialup ??? ?????????????? ??? ``/etc/ttys``, ?? ?????? ?? ?????????????
??? ?????????? ????? ?? ???? ??? ???????? ???????? ??? ?? ``ttyu0:``.
???? ?????? ?? ?????? ?? ??????? ??? ???????? ????????? IP ??? ??
??????? ??? IP ??????????? ??? ???????????? ??? ???? ?????????? ???????.

.. raw:: html

   </div>

.. raw:: html

   <div class="sect4">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

27.2.1.2.9. ??????? ??? ``ppp.conf`` ??? ??????? ?? ??????? IP
''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

????? ??? ?? ??????????? ??? ????????????
``/usr/share/examples/ppp/ppp.conf`` ?? ?????? ?? ?????????? ??? ???????
??? ?????? ??? ???? ??????? dialup ????? ??????? ???? ???????? ???????
IP. ?? ??????????? ?? ?? ?????????? ??? ?? ???? ??????? ``fred``,
``sam``, ??? ``mary``.

.. code:: programlisting

    fred:
      set ifaddr 203.14.100.1 203.14.101.1 255.255.255.255

    sam:
      set ifaddr 203.14.100.1 203.14.102.1 255.255.255.255

    mary:
      set ifaddr 203.14.100.1 203.14.103.1 255.255.255.255

?? ?????? ``/etc/ppp/ppp.linkup`` ?? ?????? ?????? ?? ????????
??????????? ???????????? ??? ???? ?????? ?? ??????? IP (?? ??????????).
? ???????? ?????? ?? ????????? ??? ???????? ???? ?? ????????? ???????
``203.14.101.0/24`` ???? ??? ???????? ppp ??? ??????.

.. code:: programlisting

    fred:
      add 203.14.101.0 netmask 255.255.255.0 HISADDR

    sam:
      add 203.14.102.0 netmask 255.255.255.0 HISADDR

    mary:
      add 203.14.103.0 netmask 255.255.255.0 HISADDR

.. raw:: html

   </div>

.. raw:: html

   <div class="sect4">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

27.2.1.2.10. ``mgetty`` ??? AutoPPP
'''''''''''''''''''''''''''''''''''

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

?? port
`comms/mgetty+sendfax <http://www.freebsd.org/cgi/url.cgi?ports/comms/mgetty+sendfax/pkg-descr>`__,
??????? ?? ????????????? ??? ??????? ``AUTO_PPP``, ???????????? ????
???? ``mgetty`` ?? ????????? ??? ???? LCP ??? ????????? PPP ??? ??
??????? ???????? ??? ??????? ppp. ??????, ????? ?? ???? ??? ????? ???
?????????????? ? ????????????? ????????? ???????? ?????? ??? ???????,
????? ?????????? ?? ????? ??????????? ??? ??????? ?? ?? ????? PAP ?
CHAP.

? ??????? ???? ??????????? ??? ? ??????? ???? ????????, ?????????????
??? ???????????? ?? ???????? ?? port
`comms/mgetty+sendfax <http://www.freebsd.org/cgi/url.cgi?ports/comms/mgetty+sendfax/pkg-descr>`__
??? ??????? ???.

??????????? ??? ?? ?????? ???
``/usr/local/etc/mgetty+sendfax/login.config`` ???????? ?? ????????:

.. code:: programlisting

    /AutoPPP/ -     -            /etc/ppp/ppp-pap-dialup

???? ?? ??? ???? ``mgetty`` ?? ????????? ?? script ``ppp-pap-dialup``
??? ??? PPP ????????? ??? ????????????.

???????????? ??? ?????? ?? ?? ????? ``/etc/ppp/ppp-pap-dialup`` ?? ?????
?? ???????? ?? ???????? (?? ?????? ?? ?????? ?? ????? ??????????):

.. code:: programlisting

    #!/bin/sh
    exec /usr/sbin/ppp -direct pap$IDENT

??? ???? ?????? dialup ??? ????? ?????????????? ??? ``/etc/ttys``,
???????????? ??? ?????????? ?????????? ??? ?????? ``/etc/ppp/ppp.conf``.
? ?????????? ???? ?????? ?? ?????????? ????? ???????? ?? ????? ???
??????? ????????.

.. code:: programlisting

    pap:
      enable pap
      set ifaddr 203.14.100.1 203.14.100.20-203.14.100.40
      enable proxy

???? ??????? ??? ?????????? ?? ???? ??? ?????, ?? ?????? ?? ????????
????? ??????/?????? ??? ?????? ``/etc/ppp/ppp.secret``. ???????????,
???????? ?? ?????????? ??? ???????? ??????? ???? ?? ??????? ???????????
??? ??????? ???? PAP ?? ???? ?? ???????? ??? ??????? ``/etc/passwd``.

.. code:: programlisting

    enable passwdauth

?? ?????? ?? ????????? ??????? IP ?? ???????? ???????, ???????? ??
?????????? ??? ????????? ?? ????? ?????? ??? ??????
``/etc/ppp/ppp.secret``. ??? ????????????, ????? ?? ??????
``/usr/share/examples/ppp/ppp.secret.sample``.

.. raw:: html

   </div>

.. raw:: html

   <div class="sect4">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

27.2.1.2.11. ?????????? MS
''''''''''''''''''''''''''

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

????? ??????? ?? ????????? ?? PPP ???? ?? ??????? ??????????? DNS ???
NetBIOS ???? ????????.

??? ?? ?????????????? ????? ??? ?????????? ?? ??? ?????? 1.x ??? PPP, ??
?????? ?? ?????????? ??? ???????? ??????? ??? ??????? ????? ???
``/etc/ppp/ppp.conf``.

.. code:: programlisting

    enable msext
    set ns 203.14.100.1 203.14.100.2
    set nbns 203.14.100.5

??? ?? PPP ??? ??? ?????? 2 ??? ????:

.. code:: programlisting

    accept dns
    set dns 203.14.100.1 203.14.100.2
    set nbns 203.14.100.5

?? ???????? ?? ?????????? ???? ??????? ??? ??? ????? ??? ????????????
??????????? DNS, ??? ??? ??? ??????????? ???????? NetBIOS.

??? ??? ?????? 2 ??? ????, ?? ??????????? ? ?????? ``set dns``, ?? PPP
?? ?????????????? ??? ??????? ??? ?? ???? ??? ``/etc/resolv.conf``.

.. raw:: html

   </div>

.. raw:: html

   <div class="sect4">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

27.2.1.2.12. ??????????? PAP ??? CHAP
'''''''''''''''''''''''''''''''''''''

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

??????? ISP ????????? ?? ????????? ???? ?? ?????? ?????, ???? ?? ???????
??? ???????? ??? ?????????? ?? ??? ??????????? ??? ?????? ?? ???????
???? ??? ?????????? PAP ? CHAP. ?? ????????? ???? ??? ???? ???
?????????, ? ISP ??? ??? ?? ??? ??????? ???????? login ???? ??????????,
???? ?? ??????? ????????? ?? ???????? PPP.

?? PAP ????? ???????? ??????? ??? ?? CHAP, ???? ? ???????? ??? ??? ?????
???? ???????? ????, ????? ?? ??????? (?? ??? ?????????? ?? ????????
???????) ???????????? ???? ???? ????????? ???????. ???? ??? ???????
?????????? ?????????? ??? crackers ?? ??????????????.

??????????????? ?? ??????? ??? ???????? `PPP ??? ???????? ???????????
IP <userppp.html#userppp-staticIP>`__ ? `PPP ??? ????????? ???????????
IP <userppp.html#userppp-dynamicIP>`__, ?? ?????? ?? ?????? ?? ????????
???????:

.. code:: programlisting

    13      set authname MyUserName
    14      set authkey MyPassword
    15      set login

.. raw:: html

   <div class="variablelist">

?????? 13:
    ? ?????? ???? ????????? ?? ????? ?????? ??? ?? PAP/CHAP. ??
    ????????? ?? ???????? ??? ????? ???? ??? ?? *``MyUserName``*.

?????? 14:
    ? ?????? ???? ????????? ??? ?????? ??? ?? PAP/CHAP. ?? ????????? ??
    ???????? ??? ????? ???? ??? ?? *``MyPassword``*\ . ???? ?????? ??
    ?????????? ??? ????? ??????, ???? ??? ????????:

    .. code:: programlisting

        16      accept PAP

    ?

    .. code:: programlisting

        16      accept CHAP

    ??? ?? ????? ?????? ? ??????? ???, ?????? ???? ?? PAP ??? ??? ??
    CHAP ???????? ????? ??? ??????????.

?????? 15:
    ? ISP ??? ??? ?? ??????? ??????????? ?? ????????? ???? ???????????
    ?? ?????????????? PAP ? CHAP. ??? ?? ???? ????, ?? ?????? ??
    ???????????????? ?? ????????????? ?set login?.

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   <div class="sect4">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

27.2.1.2.13. ?????????? ????? ??? ????????? ??? ``ppp``
'''''''''''''''''''''''''''''''''''''''''''''''''''''''

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

????? ??????? ?? ?????????????? ?? ?? ????????? ``ppp`` ????? ??????????
???? ??????????, ???? ???? ?? ????? ???????? ??? ????????? ???????????
???? ??? ???? ?? ?????. ??? ?? ?? ?????? ????, ????????? ??? ????????
?????? ???? ????????? ???:

.. code:: programlisting

    set server /var/run/ppp-tun%d DiagnosticPassword 0177

???? ?????? ?? PPP ?? ???????? ??? ??????????? UNIX(R) socket ??? ?????,
??? ?? ?????? ???? ??????? ??? ??? ?????? ??? ???? ?????????? ????
????????? ??? ????????. ?? ``%d`` ??? ?????, ?????????????? ?? ???
?????? ??? ???????? ``tun`` ??? ???????????????.

??? ?? ?????? ??? ????????? ?? socket, ?? ?????????
`pppctl(8) <http://www.FreeBSD.org/cgi/man.cgi?query=pppctl&sektion=8>`__
?????? ?? ?????????????? ?? scripts ?? ?? ????? ?????????? ??
?????????????? ?? ????????? ``ppp`` ?? ????? ?????????? ???.

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   <div class="sect3">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

27.2.1.3. ??????????????? ?? ?????????? ?????????? ??????????? (NAT) ??? PPP
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

?? PPP ???? ??? ????????? ?? ?????????????? ???? ??? ????????? NAT,
????? ?? ??????????? ?? ?????????? ?????????????? ??? ??????. ????????
?? ?????????????? ???? ?? ?????????? ?? ??? ???????? ?????? ???
``/etc/ppp/ppp.conf``:

.. code:: programlisting

    nat enable yes

???????????, ?? NAT ??? PPP ?????? ?? ????????????? ?? ??? ???????
``-nat`` ???? ?????? ???????. ???????? ????? ?? ?????? ??? ???????
``ppp_nat`` ??? ?????? ``/etc/rc.conf``. ? ??????? ???? ?????
?????????????? ??? ??????????.

?? ??????????????? ???? ?? ??????????????, ?????? ?? ?????? ???????? ???
??? ???????? ???????? ??? ?? ``/etc/ppp/ppp.conf``, ?? ??? ??????
?????????????? ? ???????? ???????????? ?????????:

.. code:: programlisting

    nat port tcp 10.0.0.2:ftp ftp
    nat port tcp 10.0.0.2:http http

? ?? ??? ???????????? ??????? ?? ????????? ??????:

.. code:: programlisting

    nat deny_incoming yes

.. raw:: html

   </div>

.. raw:: html

   <div class="sect3">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

27.2.1.4. ??????? ????????? ??????????
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

????? ????? ???????? ?? ``ppp``, ???? ???????? ?????? ????? ???????? ???
?????? ?? ?????? ???? ?? ????? ?????? ??? ??????????. ??? ?????????????
??? ??????????? ??? ??????? ``/etc/rc.conf``.

?????????? ??? ??? ???? ??? ??????? ?????, ??????????? ??? ?????
???????? ? ?????? ``hostname=``, ?.?.:

.. code:: programlisting

    hostname="foo.example.com"

?? ? ISP ??? ??????? ??????? IP ????????? ??? ?????, ????? ??????
???????? ?? ??????????????? ???? ?? ????? ?? ????? ??? ?? ???????? ???.

????? ??? ?? ????????? ``network_interfaces``. ?? ?????? ?? ????????? ??
??????? ??? ?? ????? ??? ISP ??? ???? ????????, ??????????? ??? ???????
??? ????? ? ??????? ``tun0``, ??????????? ????????? ???.

.. code:: programlisting

    network_interfaces="lo0 tun0"
    ifconfig_tun0=

.. raw:: html

   <div class="note" xmlns="">

????????:
~~~~~~~~~

? ????????? ``ifconfig_tun0`` ?? ?????? ?? ????? ?????, ??? ?? ?????? ??
???????????? ??? ?????? ?? ????? ``/etc/start_if.tun0``. ?? ?????? ????
?? ?????? ?? ???????? ??? ???????? ??????:

.. code:: programlisting

    ppp -auto mysystem

?? script ???? ?????????? ???? ?? ???????? ???????? ??? ???????,
?????????? ???? ?? ??????? ppp ?? ????????? ????????? ???????????. ??
????????? ?????? ?????? ?????? (LAN) ??? ?? ????? ?? ???????? ???? ????
?? ???? ??? ?????, ???? ?? ?????? ?????? ?? ??????????????? ??? ???????
``-alias``. ????? ?? ?????? manual ??? ???????????? ????????????.

.. raw:: html

   </div>

??????????? ??? ? ????????? ??? ?? ????????? router ???? ????? ???
``NO`` ???? ??? ???????? ??????? ??? ``/etc/rc.conf``:

.. code:: programlisting

    router_enable="NO"

????? ????????? ?? ??? ????????? ? ???????? ``routed``, ? ?????? ???????
????????? ??? ?????????????? ????? ??? ?????? ???????????? ???
?????????????? ??? ?? ``ppp``.

????? ?????? ???? ???? ?? ???????????? ??? ? ?????? ``sendmail_flags``
??? ???????????? ??? ??????? ``-q``, ??????????? ?? ``sendmail`` ??
????????? ???? ???? ?? ????? ????????? ??? ???????, ?? ?????? ??????????
?? ???????? ??? ?? ??????? ?????????? ??????? (dial out). ???????? ??
??????????:

.. code:: programlisting

    sendmail_flags="-bd"

?? ??????????? ??? ????????, ????? ??? ?????? ?? ???????????? ??
``sendmail`` ?? ???????????? ??? ???? ??? ?????????, ???? ???? ???
????????????? ? ??????? ppp, ?????????:

.. code:: screen

    # /usr/sbin/sendmail -q

???? ?????? ?? ??????????????? ??? ?????? ``!bg`` ??? ``ppp.linkup`` ???
?? ??????? ?? ???????? ????????:

.. code:: programlisting

    1     provider:
    2       delete ALL
    3       add 0 0 HISADDR
    4       !bg sendmail -bd -q30m

?? ???? ??? ??? ??????, ????? ??????? ?? ????????? ??? ?dfilter? ??
????? ?? ????????? ??? ?????? SMTP. ????? ?? ??????????? ???
???????????? ????????????.

?? ???? ??? ????? ????? ?? ?????????????? ?? ????????. ???? ???
????????????, ???????? ???? ?? ???????:

.. code:: screen

    # ppp

??? ?????? ``dial provider`` ??? ?? ?????????? ?? ???????? PPP, ? ??
?????? ?? ``ppp`` ?? ?????????? ??? ????????? ???????? ???? ???? ???
??????? ?????? ???? ?? ????????? ?????? (??? ??? ????? ???????????? ??
script ``start_if.tun0``) ???????? ?? ???????:

.. code:: screen

    # ppp -auto provider

.. raw:: html

   </div>

.. raw:: html

   <div class="sect3">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

27.2.1.5. ????????
^^^^^^^^^^^^^^^^^^

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

??? ?? ????????????????, ?? ???????? ?????? ????? ?????????? ????
??????????? ?? ppp ??? ????? ????:

??? ?? ????? ??? ???????????-??????:

.. raw:: html

   <div class="procedure">

#. ??????????? ??? ?????????????? ???? ?????? ??? ? ??????? ``tun``.

#. ??????????? ??? ??????? ?? ?????? ??? ???????? ``tunN`` ???? ????????
   ``/dev``.

#. ???????????? ??? ?????????? ??? ?????? ``/etc/ppp/ppp.conf``. ??
   ?????????? ??? ?? ``pmdemand`` ?? ?????? ?? ????? ??????? ??? ????
   ????????????? ISPs.

#. ?? ????? ???????? ????????? IP, ???????????? ??? ?????????? ???
   ``/etc/ppp/ppp.linkup``.

#. ?????????? ?? ?????? ``/etc/rc.conf``.

#. ???????????? ?? script ``start_if.tun0`` ?? ?????????? ????? ????
   ????????.

.. raw:: html

   </div>

??? ?? ????? ??? ???????????:

.. raw:: html

   <div class="procedure">

#. ??????????? ??? ?????????????? ???? ?????? ??? ? ??????? ``tun``.

#. ??????????? ??? ??????? ?? ?????? ??? ???????? ``tunN`` ???? ????????
   ``/dev``.

#. ???????????? ??? ?????????? ??? ``/etc/passwd`` (??????????????? ??
   ?????????
   `vipw(8) <http://www.FreeBSD.org/cgi/man.cgi?query=vipw&sektion=8>`__).

#. ???????????? ??? ?????? profile ???? ????????? ???????? ??? ??????,
   ?? ????? ?? ??????? ??? ?????? ``ppp -direct direct-server`` ? ??????
   ??????????.

#. ???????????? ??? ?????????? ??? ``/etc/ppp/ppp.conf``. ?? ??????????
   ??? ?? ``direct-server`` ?? ?????? ?? ????? ???????.

#. ???????????? ??? ?????????? ??? ``/etc/ppp/ppp.linkup``.

#. ?????????? ?? ?????? ``/etc/rc.conf``.

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   <div class="navfooter">

--------------

+----------------------------------+--------------------------------+--------------------------------------------+
| `????? <ppp-and-slip.html>`__?   | `???? <ppp-and-slip.html>`__   | ?\ `??????? <ppp.html>`__                  |
+----------------------------------+--------------------------------+--------------------------------------------+
| ???????? 27. PPP ??? SLIP?       | `???? <index.html>`__          | ?27.3. ??????????????? ?? PPP ??? ??????   |
+----------------------------------+--------------------------------+--------------------------------------------+

.. raw:: html

   </div>

???? ?? ???????, ??? ???? ???????, ?????? ?? ?????? ???
ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/

| ??? ????????? ??????? ?? ?? FreeBSD, ???????? ???
  `?????????? <http://www.FreeBSD.org/docs.html>`__ ???? ??
  ?????????????? ?? ??? <questions@FreeBSD.org\ >.
|  ??? ????????? ??????? ?? ???? ??? ??????????, ??????? e-mail ????
  <doc@FreeBSD.org\ >.
