======================
20.3. RAID0 - Striping
======================

.. raw:: html

   <div class="navheader">

20.3. RAID0 - Striping
`????? <GEOM-intro.html>`__?
???????? 20. GEOM: ?????????? ?????????? ??????
?\ `??????? <GEOM-mirror.html>`__

--------------

.. raw:: html

   </div>

.. raw:: html

   <div class="sect1">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

20.3. RAID0 - Striping
----------------------

.. raw:: html

   </div>

.. raw:: html

   <div>

??????? ??? ???? Tom Rhodes ??? Murray Stokely.

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

?? striping ????? ??? ??????? ??? ????????? ????????????? ????????
??????? ?? ??? ???????? ?????? ????. ?? ?????? ???????????, ???? ???????
?? ??? ??????? ?????????????? ?????? (????????). ?? ?????????? ??????
GEOM ??????? ?????????? ???? ?????????? ??? ?? ??????? RAID0, ? ?????
????? ?????? ??? ?? striping.

?? ??? ??????? RAID0, ?? ???????? ?????????? ?? blocks ?? ?????
????????? ????????? ?? ????? ???? ??????? ??? ????????? ?? ?????????.
???? ?? ?????????? ?? ?????????? ?? ??????? ?? ?????? 256k ????????? ??
??? ?????, ??? ??????? RAID0 ?????? ?? ?????? ?????????? 64k ?? ??????
??? ???? ???????? ??????? ???? ??????????, ???????????? ???? ??????????
??????? ???????/?????? (I/O). ? ??????? ???? ?????? ?? ???????
???????????, ?? ?? ????? ????????? ???????? ??????.

???? ?????? ?? ??? stripe RAID0 ?????? ?? ????? ??? ????? ????????,
????? ?? ???????? I/O ??????????? ??? ????? ??? ???????? ??? ???????, ??
??????? ??????????? ???????.

.. raw:: html

   <div class="mediaobject" align="center">

|????????? Disk Striping|

.. raw:: html

   </div>

.. raw:: html

   <div class="procedure">

.. raw:: html

   <div class="procedure-title">

???????????20.1.??????????? Stripe ??? ??-?????????????? ATA ???????

.. raw:: html

   </div>

#. ???????? ?? ??????? ``geom_stripe.ko``:

   .. code:: screen

       # kldload geom_stripe

#. ??????????? ??? ??????? ????????? ?????? ???????????. ?? ? ?????
   ????????? ?? ????? ????????? root, ??????????? ??? ????????? ??
   ?????? ???? ?????? ???????????, ???? ?? ``/mnt``:

   .. code:: screen

       # mkdir /mnt

#. ????????? ?? ??????? ??? ???????? ??? ???? ??????? ??? ????????? ??
   ?????? stripe, ??? ???????????? ?? ??? ??????? stripe. ???
   ??????????, ??? ?? ????????????? ??? stripe ??? ??? ????????????????
   ??? ????? ??????????? ??????? ATA, ???? ?.?. ???? ``/dev/ad2`` ???
   ``/dev/ad3``:

   .. code:: screen

       # gstripe label -v st0 /dev/ad2 /dev/ad3
       Metadata value stored on /dev/ad2.
       Metadata value stored on /dev/ad3.
       Done.

#. ?????? ??? ???????????? label (?????? ???????????) ??? ??? ????, ???
   ???????????? ??? ????????????? ?????? ????????? (bootstrap):

   .. code:: screen

       # bsdlabel -wB /dev/stripe/st0

#. ? ?????????? ???? ?? ???????????? ?? ??????? ``st0``, ????? ??? ???
   ????? ???????? ???? ???????? ``/dev/stripe``. ?? ???????? ????? ??
   ??????????? ``st0a`` ??? ``st0c``. ??? ?????? ????, ???????? ????? ??
   ????????????? ??????? ??????? ??? ??????? ``st0a`` ??????????????? ??
   ????????? ????????? ``newfs``:

   .. code:: screen

       # newfs -U /dev/stripe/st0a

   ?? ????? ??? ?????? ????? ??????? ?? ????? ??????? ??? ??? ????? ???,
   ??? ???? ??? ???? ???????????? ? ?????????? ?? ???? ???????????. ?
   ????? ?? ???? ???????????? ??? ?? ????? ??????? ??? ??????????.

.. raw:: html

   </div>

??? ?? ???????????? ??????????? ?? stripe ??? ?????????????:

.. code:: screen

    # mount /dev/stripe/st0a /mnt

??? ?? ??????? ???????? ? ?????????? ????? ??? ?????????? ??????? ????
??? ?????????? ?????????, ??????????? ??? ??????????? ??? ????? ???
?????? ``/etc/fstab``. ??? ?? ????? ????, ???????????? ??? ?????? ??????
???????????, ?? ``stripe``:

.. code:: screen

    # mkdir /stripe
    # echo "/dev/stripe/st0a /stripe ufs rw 2 2" \
        >> /etc/fstab

?? ??????? ``geom_stripe.ko`` ?? ?????? ?? ?????????? ???????? ???? ???
???????? ??? ??????????. ????????? ??? ???????? ??????, ??? ??
?????????? ??? ????????? ??????? ??? ``/boot/loader.conf``:

.. code:: screen

    # echo 'geom_stripe_load="YES"' >> /boot/loader.conf

.. raw:: html

   </div>

.. raw:: html

   <div class="navfooter">

--------------

+--------------------------------+-------------------------+-------------------------------------+
| `????? <GEOM-intro.html>`__?   | `???? <GEOM.html>`__    | ?\ `??????? <GEOM-mirror.html>`__   |
+--------------------------------+-------------------------+-------------------------------------+
| 20.2. ???????? ??? GEOM?       | `???? <index.html>`__   | ?20.4. RAID1 - Mirroring            |
+--------------------------------+-------------------------+-------------------------------------+

.. raw:: html

   </div>

???? ?? ???????, ??? ???? ???????, ?????? ?? ?????? ???
ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/

| ??? ????????? ??????? ?? ?? FreeBSD, ???????? ???
  `?????????? <http://www.FreeBSD.org/docs.html>`__ ???? ??
  ?????????????? ?? ??? <questions@FreeBSD.org\ >.
|  ??? ????????? ??????? ?? ???? ??? ??????????, ??????? e-mail ????
  <doc@FreeBSD.org\ >.

.. |????????? Disk Striping| image:: geom/striping.png
