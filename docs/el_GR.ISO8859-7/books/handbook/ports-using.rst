==========================================
5.5. ??????????????? ??? ??????? ??? Ports
==========================================

.. raw:: html

   <div class="navheader">

5.5. ??????????????? ??? ??????? ??? Ports
`????? <packages-using.html>`__?
???????? 5. ??????????? ?????????: ?????? ??? Ports
?\ `??????? <ports-nextsteps.html>`__

--------------

.. raw:: html

   </div>

.. raw:: html

   <div class="sect1">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

5.5. ??????????????? ??? ??????? ??? Ports
------------------------------------------

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

?? ???????? ??????? ?????? ??????? ??????? ?????? ??? ???????? ??? Ports
??? ??????????? ? ???????? ???????????? ??? ??????? ???. ???????? ??
?????? ????????? ????????? ??? ?????????? ???????? ??? ``make`` ??? ???
?????????? ????????????? ???
`ports(7) <http://www.FreeBSD.org/cgi/man.cgi?query=ports&sektion=7>`__.

.. raw:: html

   <div class="sect2">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

5.5.1. ?????????? ??? ??????? ??? Ports
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

???? ????????? ?? ????????????? ??????????? ???? ??? ports, ?????? ?????
?? ?????????? ??? ??????? ??? Ports. ????????? ?????????? ??? ???
??????? ??? ``Makefiles``, patches, ??? ?????? ?????????? ???
????????????? ??? ``/usr/ports``.

???? ????????????? ?? FreeBSD ??????? ???, ?? sysinstall ??? ?????? ??
?????? ?? ????????????? ??? ??????? ??? Ports. ?? ????????? ???,
???????? ?? ???????????? ????? ??? ??????? ??? ?? ?????????? ??? ???????
??? Ports:

.. raw:: html

   <div class="procedure">

.. raw:: html

   <div class="procedure-title">

???????????5.1.???????? CVSup

.. raw:: html

   </div>

???? ????? ??? ??????? ??????? ??? ?? ?????????? ??? ?? ??????????? ???
?????????? ????????? ??? ???????? ??? Ports, ??????????????? ??
?????????? CVSup. ?? ?????? ?? ?????? ??????????? ??? ?? CVSup, ????? ??
`??????????????? ?? CVSup <cvsup.html>`__.

.. raw:: html

   <div class="note" xmlns="">

????????:
~~~~~~~~~

? ????????? ??? CVSup ??? ?????????????? ?? ??? ??????? FreeBSD,
?????????? csup.

.. raw:: html

   </div>

????????????? ??? ?? ``/usr/ports`` ????? ????? ???? ?????????? ?? csup
??? ????? ????! ??? ????? ??? ????????? ?? ??????? ??? Ports ????
??????? ????? ?????, ?? csup ??? ?? ????????? patches ??? ?????
????????? ??? ??????.

#. ????????? ?? ``csup``:

   .. code:: screen

       # csup -L 2 -h cvsup.FreeBSD.org /usr/share/examples/cvsup/ports-supfile

   ??????? ?? *``cvsup.FreeBSD.org``* ?? ???? ??????? ??? ??????????
   CVSup. ????? ?? `CVSup Mirrors <cvsup.html#cvsup-mirrors>`__
   (`??????A.6.7, ??????????? CVSup? <cvsup.html#cvsup-mirrors>`__) ???
   ??? ????? ????? ??? mirror sites.

   .. raw:: html

      <div class="note" xmlns="">

   ????????:
   ~~~~~~~~~

   ?? ??????, ???????? ?? ??????????????? ?? ???? ??? ``ports-supfile``,
   ???? ?? ????????? (??? ??????????) ?? ???????? ??? ?????????? CVSup
   ???? ?????? ???????.

   .. raw:: html

      <div class="procedure" xmlns="http://www.w3.org/1999/xhtml">

   #. ?? ???? ??? ?????????, ?? ``root``, ?????????? ??
      ``/usr/share/examples/cvsup/ports-supfile`` ?? ??? ??? ?????????,
      ???? ?? ``/root`` ? ??? ???? ??? home ????????.

   #. ???????????? ?? ``ports-supfile``.

   #. ??????? ?? *``CHANGE_THIS.FreeBSD.org``* ?? ???? ??????? ???
      ?????????? CVSup.????? ?? `CVSup
      Mirrors <cvsup.html#cvsup-mirrors>`__ (`??????A.6.7, ???????????
      CVSup? <cvsup.html#cvsup-mirrors>`__) ??? ??? ????? ????? ???
      mirror sites.

   #. ????????? ???? ?? ``csup``, ?? ??? ???????? ?????:

      .. code:: screen

          # csup -L 2 /root/ports-supfile

   .. raw:: html

      </div>

   .. raw:: html

      </div>

#. ?????????? ??? ??????
   `csup(1) <http://www.FreeBSD.org/cgi/man.cgi?query=csup&sektion=1>`__
   ????????, ?? ??????????? ??? ?? ????????? ???? ??? ????????? ???????
   ???? ??????? ??? Ports, ????? ??? ?? ?? ?????-????????????? ?? ports
   ??? ?? ??????? ???.

.. raw:: html

   </div>

.. raw:: html

   <div class="procedure">

.. raw:: html

   <div class="procedure-title">

???????????5.2.???????? Portsnap

.. raw:: html

   </div>

?? Portsnap ????? ??? ??????????? ??????? ??? ??? ??????? ??? ????????
??? Ports. ???????? ??????? ?? `??????????????? ??
Portsnap <updating-upgrading-portsnap.html>`__ ??? ??? ?????????
????????? ???? ??? ??????????????? ??? ?????????.

#. ??????????? ??? ??????????? snapshot ??? ???????? ??? Ports
   ``/var/db/portsnap``. ?? ??????, ???????? ?? ????????????? ??? ??
   ????????? ???? ??? ???? ?? ????.

   .. code:: screen

       # portsnap fetch

#. ?? ????????? ?? Portsnap ??? ????? ????, ????? ??????? ??? snapshot
   ???? ??? ``/usr/ports``:

   .. code:: screen

       # portsnap extract

   ??? ??? ????? ??? ?????? ``/usr/ports`` ??? ????? ?? ??????????,
   ????????? ??? ???????? ??????:

   .. code:: screen

       # portsnap update

.. raw:: html

   </div>

.. raw:: html

   <div class="procedure">

.. raw:: html

   <div class="procedure-title">

???????????5.3.???????? Sysinstall

.. raw:: html

   </div>

???? ? ??????? ???????????? ?? sysinstall ??? ??? ??????????? ???
???????? ??? Ports ??? ?? ???? ????????????. ????????? ??? ?? ???? ???
????? ?? ????????????? ?? ?????? ????????? ??? ???????? ??? Ports, ???
??????????? ???? ?????????? ??? ??????? ??? FreeBSD ??? ??????????????.
??? ????? ???????? ??? ?????????, ?????? ????? ?? ?????????????? ??? ???
??? ???????? ??? ??????????? ??? ????.

#. ?? ``root``, ????????? ?? ``sysinstall`` ???? ???????? ????????:

   .. code:: screen

       # sysinstall

#. ???????? ?? Configure, ??? ?????? **Enter**.

#. ???????? ?? Distributions, ??? ?????? **Enter**.

#. ????????????? ??? ports, ??? ?????? **Space**.

#. ????????????? ??? Exit, ??? ?????? **Enter**.

#. ???????? ?? ???? ???????????? ??? ????????? ???, ???? CDROM, FTP, ???
   ???? ????????.

#. ????????????? ??? Exit ??? ?????? **Enter**.

#. ?????? **X** ??? ?? ?????? ??? ?? sysinstall.

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   <div class="sect2">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

5.5.2. ????????????? Ports
~~~~~~~~~~~~~~~~~~~~~~~~~~

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

?? ????? ?????? ??? ?????? ?? ????????????? ??????? ?? ??? ??????? ???
Ports ????? ? ?????? ??? ???? ?skeleton (????????)?. ?? ???? ?????, ???
port skeleton ????? ? ???????? ??????? ??????? ??? ?????????? ???
??????? FreeBSD ???? ?? ????????????? ??? ?? ???????????? ????? ???
?????????. ???? port skeleton ????????:

.. raw:: html

   <div class="itemizedlist">

-  ??? ``Makefile``. ?? ``Makefile`` ???????? ???????? ???????? ???
   ??????? ??? ?????? ?? ?????????????? ? ???????? ??? ??? ?????? ??
   ???????????? ??? ??????? ???.

-  ??? ?????? ``distinfo``. ???? ?? ?????? ???????? ??????????? ??? ??
   ?????? ??? ?????? ?? ?????????? ??? ??? ???????????? ??? port, ??? ??
   checksums ???? (??????????????? ??
   `sha256(1) <http://www.FreeBSD.org/cgi/man.cgi?query=sha256&sektion=1>`__),
   ??? ?? ???????????? ??? ?? ?????? ??? ????? ????????? ???? ???
   ???????? ??? ????????? ????.

-  ???? ???????? ``files``. ????? ? ????????? ???????? ?? patches ???
   ?????????? ??? ????????? ?? ?????????????? ??? ???????????? ???
   FreeBSD ??????? ???. ?? patches ????? ????? ?????? ??? ???????
   ??????? ?? ???????????? ??????. ????? ?? ????? ?????? ????????, ???
   ?????? ???? ????????? ??? ?????? 10? ? ?????????? ?? ?????? 26 ??
   ???? ...?. ?? patches ????? ?????? ?????? ?? ?diffs? ??????
   ?????????????? ?? ?? ?????????
   `diff(1) <http://www.FreeBSD.org/cgi/man.cgi?query=diff&sektion=1>`__.

   ????? ? ????????? ?????? ?? ???????? ??? ???? ?????? ???
   ???????????????? ??? ?? ?????????????? ?? port.

-  ??? ?????? ``pkg-descr``. ???? ????? ??? ??? ??????????, ????? ??????
   ???????, ????????? ??? ????????????.

-  ??? ?????? ``pkg-plist``. ???? ???????? ??? ????? ???? ??? ???????
   ??? ?? ????????????? ??? ?? port. ?????? ????????? ?? ??????? ???
   ports ?? ?????? ?? ????????? ???? ??? ?????????????.

.. raw:: html

   </div>

?????? ports ????? ??? ???? ??????, ???? ?? ``pkg-message``. ?? ???????
??? ports ???????????? ???? ?? ?????? ??? ?? ????????? ???????
???????????. ?? ?????? ???????????? ???????????? ??? ???? ?? ??????, ???
?? ports ??????????, ????? ?? `FreeBSD Porter's
Handbook <../../../../doc/el_GR.ISO8859-7/books/porters-handbook/index.html>`__.

?? port ???????? ??????? ??? ?? ??? ?? ?????????????? ? ??????? ???????,
???? ??? ???????? ??? ?????? ??????. ???????? ?? ????????????? ???
?????? ?????? ??? ??? CD-ROM ? ??? ?? ?????????. ? ??????? ???????
?????????? ?? ??????????? ????? ???????? ? ?????????? ???. ????? ?????
??? tarred ??? gzipped ??????, ???? ?????? ?? ????? ???????????? ??
?????? ???? ???????? ? ?? ????? ????? ??? ???????????. ? ??????? ???????
??? ????????????, ?? ??????????? ????? ?? ?? ??????????, ???????
?distfile?. ?? ??? ??????? ??? ?? ????????????? ??? FreeBSD port
????????????? ????????.

.. raw:: html

   <div class="note" xmlns="">

????????:
~~~~~~~~~

?????? ?? ?????????? ?? ``root`` ??? ?? ????????????? ports.

.. raw:: html

   </div>

.. raw:: html

   <div class="warning" xmlns="">

?????????????:
~~~~~~~~~~~~~~

???? ????????????? ??????????? port, ?????? ?? ????????????? ??? ?????
??? ?????????? ??????? ??? Ports, ??? ?????? ?? ???????? ??
``http://vuxml.freebsd.org/`` ??? ?????? ????????? ??????? ?? ?? port
??? ????????????.

?? ?????? ?? ???????? ???????? ??? ????? ?????????? ????????? ???? ???
???? ??????????? ???? ?????????, ???????? ?? ??????????????? ??
portaudit. ?? ?????? ???? ?? ???????? ???? ??????? ??? Ports
(`ports-mgmt/portaudit <http://www.freebsd.org/cgi/url.cgi?ports/ports-mgmt/portaudit/pkg-descr>`__).
????? ???? ???? ?? ?????????? ?? ``portaudit -F`` ???? ????????????? ???
??? port, ??? ?? ?????????? ??? ???????? ???? ????????? ???????????
?????????. ??????????? ??????? ??? ???????? ??? ????? ?????????
?????????? ?????? ???????? ???? ??? ?????????? ?????? ????????? ???
??????????. ??? ???????????? ??????????? ???????? ??? ??????? manual
`portaudit(1) <http://www.FreeBSD.org/cgi/man.cgi?query=portaudit&sektion=1>`__
???
`periodic(8) <http://www.FreeBSD.org/cgi/man.cgi?query=periodic&sektion=8>`__.

.. raw:: html

   </div>

? ??????? ??? Ports ??????????? ??? ????? ??????????? ??????? ?? ??
?????????. ??? ??? ?????, ?? ????????? ?? ?????? ????? ??? ??? ?????????
??? distfile ???? ??? ``/usr/ports/distfiles``.

??????, ????????????? ???? ???????? ??? port ??? ?????? ??
?????????????:

.. code:: screen

    # cd /usr/ports/sysutils/lsof

????? ???????? ???? ???????? ``lsof``, ?? ????? ??? port skeleton. ??
??????? ???? ????? ?? ??????????????, ? ?? ???????? (build)?, ?? port.
???? ??????? ???? ??????????????? ``make`` ???? ?????? ???????. ???? ??
??????, ?? ????? ???? ???? ????:

.. code:: screen

    # make
    >> lsof_4.57D.freebsd.tar.gz doesn't seem to exist in /usr/ports/distfiles/.
    >> Attempting to fetch from ftp://lsof.itap.purdue.edu/pub/tools/unix/lsof/.
    ===>  Extracting for lsof-4.57
    ...
    [extraction output snipped]
    ...
    >> Checksum OK for lsof_4.57D.freebsd.tar.gz.
    ===>  Patching for lsof-4.57
    ===>  Applying FreeBSD patches for lsof-4.57
    ===>  Configuring for lsof-4.57
    ...
    [configure output snipped]
    ...
    ===>  Building for lsof-4.57
    ...
    [compilation output snipped]
    ...
    #

???????? ??? ????? ? ???????????? ??????????? ?? ??????????? ???? ??????
???????. ?? ??????? ???? ????? ?? ????????????? ?? port. ??? ?? ??
?????????????, ?????????? ????? ?? ?????????? ??? ???? ???? ??????
``make``, ??? ???? ? ???? ????? ``install``:

.. code:: screen

    # make install
    ===>  Installing for lsof-4.57
    ...
    [installation output snipped]
    ...
    ===>   Generating temporary packing list
    ===>   Compressing manual pages for lsof-4.57
    ===>   Registering installation for lsof-4.57
    ===>  SECURITY NOTE:
          This port has installed the following binaries which execute with
          increased privileges.
    #

????? ??????????? ???? ?????? ???????, ?? ?????? ?? ???????? ??
?????????? ??? ???????? ??? ????? ?????????????. ?? ????? ???
????????????? ?????????, ?????? ?? ``lsof`` ????? ??? ????????? ???
?????? ?? ???????? ????????. ???? ??? ???????????? ??? ??????????? ???
ports, ?? ?????? ?? ????????? ??????????? ????????????? ??????????.

??? ???? ????, ????? ?? ?????????? ??? ??????????? ??? ???????? ??? ??
????????? ?????? ??? ???????????????? ???? ??? ????????????. ??? ????
???????????? ???????? ????, ???? ?????? ?? ??????????? ??????????
???????? ???? ?? ???????? ?? ????????????? ??? ??????? ?????? ??? port.

.. code:: screen

    # make clean
    ===>  Cleaning for lsof-4.57
    #

.. raw:: html

   <div class="note" xmlns="">

????????:
~~~~~~~~~

???????? ?? ????????? ??? ???????? ?????? ????? ??????????
``make install clean`` ???? ??? ``make``, ``make install`` ???
``make clean`` ?? ???? ????????? ??????.

.. raw:: html

   </div>

.. raw:: html

   <div class="note" xmlns="">

????????:
~~~~~~~~~

?????? ?????? ??????? ??? ????? ??? ??? ??????? ??? ??????????
?????????? ????? ?????????? ??? ??????????? ???? ????????? ?????????????
``PATH``, ??? ?? ??????????? ??? ??????????? ??? ?? ?????????? ??????
????? ??? ???????. ?? ?????????????? ??? ??? ???? ?? ??????, ?? ??????
?? ??????????????? ??? ?????? ``rehash`` ???? ??? ??????????? ???? port,
???? ????????? ?? ??????????????? ??? ???? ???????. ???? ? ??????
?????????? ?? ?????? ???? ?? ``tcsh``. ?????????????? ??? ??????
``hash -r`` ??? ?????? ???? ?? ``sh``. ????? ??? ?????????? ??? ????????
??? ??? ???????????? ???????????.

.. raw:: html

   </div>

?????? ???????? ?????? ????????????? ?? DVD-ROM, ???? ?? FreeBSD Toolkit
??? ?? `FreeBSD Mall <http://www.freebsdmall.com/>`__, ?????????
distfiles. ???? ??????? ?? ??????????????? ?? ??? ??????? ??? Ports.
??????????? ?? DVD-ROM ??? ``/cdrom``. ?? ?????????????? ??????
??????????? ?????? ???????????, ???????? ??? ????????? ``CD_MOUNTPTS``
??? make. ?? ???????? distfiles ?? ??????????????? ???????? ?? ????????
??? ???????.

.. raw:: html

   <div class="note" xmlns="">

????????:
~~~~~~~~~

?????? ?? ????????? ??? ?? ?????? ??????? ports ??? ?????????? ???
??????? ???? ?? CD-ROM. ???? ?????? ?? ????????? ?.?. ??? ??? ?????? ??
???????????? ??? ????? ???????? ???? ???????????? ??? ????????, ? ???
??? ??? ??????????? ? ????????????, ? ?? ?????? ???? ????. ??? ?????? ??
????????????? ??? port ??? ??? ?????????????? ??? CD-ROM, ?? ?????????
?? ????? ???????????? ??? ????????? ??? ?? ?? ?????????.

.. raw:: html

   </div>

?? ??????? ??? ports ???????????? ??
`fetch(3) <http://www.FreeBSD.org/cgi/man.cgi?query=fetch&sektion=3>`__
??? ?? ??????????? ?? ??????. ??
`fetch(3) <http://www.FreeBSD.org/cgi/man.cgi?query=fetch&sektion=3>`__
???????????? ???????? ?????????? ?????????????, ???????????????? ???
``FTP_PASSIVE_MODE``, ``FTP_PROXY``, ??? ``FTP_PASSWORD``. ????
????????? ?? ????????? ??? ? ???????????? ?? ????????? ???? ??? ???
firewall, ? ???? ?? ????????? ?? ??????????????? ???? FTP/HTTP proxy.
????? ??
`fetch(3) <http://www.FreeBSD.org/cgi/man.cgi?query=fetch&sektion=3>`__
??? ??? ????? ????? ??? ?????????? ?????.

??? ??????? ??? ??? ??????? ?? ????? ???????????? ??? ??? ???,
?????????? ? ??????? ``make fetch``. ????? ????????? ??? ?????? ????
???????? (``/usr/ports``) ??? ?? ?????????? ?????? ?? ?????????? ???
????. ? ?????? ???? ?? ???????????? ??? ?? ?????????????, ???? ???
??????????: ``/usr/ports/net``. ???????? ??? ?? ??? port ????????? ???
??????????? ? ???? ports, ? ?????? ???? *???* ?? ????????? ?? distfiles
????. ?????????????? ?? ``fetch`` ?? ?? ``fetch-recursive`` ?? ??????
???? ?? ?? port ?? ?????????? ??? ???? ??? ?????????? ???.

.. raw:: html

   <div class="note" xmlns="">

????????:
~~~~~~~~~

???????? ?? ?????????????? ??? ?? ports ?? ??? ????????? ? ????? ??? ??
????, ?????????? ?? ``make`` ???? ?????? ????????, ???? ?? ???
?????????????? ``make fetch`` ??????. ???? ???? ????? ??????????, ?????
?????? ports ??? ??????? ?? ???????????. ?? ????? ???????????, ??????
ports ?????? ?? ????????????? ??? ??????????? ?????? ?? ?? ?? ?? ????
?????.

.. raw:: html

   </div>

?? ??????? ??????? ???????????, ?? ??????? ?????? ?? ?????????? ??
?????????? ?? tarballs ??? ??? site ??????????? ??? ?? ``MASTER_SITES``
(? ????????? ??? ???? ????????????? ?? ??????). ???????? ?? ???????? ???
??????? ``MASTER_SITES`` ?? ??? ???????? ??????:

.. code:: screen

    # cd /usr/ports/directory
    # make MASTER_SITE_OVERRIDE= \
    ftp://ftp.FreeBSD.org/pub/FreeBSD/ports/distfiles/ fetch

?? ???? ?? ?????????? ???????? ??? ??????? ``MASTER_SITES`` ??
``ftp.FreeBSD.org/pub/FreeBSD/ports/distfiles/``.

.. raw:: html

   <div class="note" xmlns="">

????????:
~~~~~~~~~

?????? ports ?????????? (? ????????) ?? ?????? ???????? ?????????????
??? ??????? ?? ??????????????/???????????????? ??????? ??? ????????? ???
????? ?????????, ????????????? ???????? ?????????, ??? ?????
?????????????. ????? ???????????? ??????? ports ????? ??
`www/firefox <http://www.freebsd.org/cgi/url.cgi?ports/www/firefox/pkg-descr>`__,
`security/gpgme <http://www.freebsd.org/cgi/url.cgi?ports/security/gpgme/pkg-descr>`__,
??? ??
`mail/sylpheed-claws <http://www.freebsd.org/cgi/url.cgi?ports/mail/sylpheed-claws/pkg-descr>`__.
???? ???????? ?????????? ??????? ????????, ?? ?????????? ???? ????? ???
??????? ??????.

.. raw:: html

   </div>

.. raw:: html

   <div class="sect3">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

5.5.2.1. ?????????????? ???? ??????????????? ?????????? ??? Ports
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

??????? ????? ????? ??????? (? ??????????) ?? ??????????????? ???
??????????? ???????? ???????? ??? ????????????. ?? ??????????
``WRKDIRPREFIX`` ??? ``PREFIX`` ??????? ?? ??????????? ????
??????????????? ??????????. ??? ??????????, ? ??????:

.. code:: screen

    # make WRKDIRPREFIX=/usr/home/example/ports install

?? ????????????? ?? port ??? ``/usr/home/example/ports`` ??? ??
???????????? ?? ????? ??? ``/usr/local``, ??? ? ??????:

.. code:: screen

    # make PREFIX=/usr/home/example/local install

?? ????????????? ?? port ??? ``/usr/ports`` ??? ?? ?? ???????????? ???
``/usr/home/example/local``.

??? ?????? ? ??????:

.. code:: screen

    # make WRKDIRPREFIX=../ports PREFIX=../local install

?? ????????? ??? ?? ??? (????? ???? ?????? ??? ?? ??? ???????? ???, ????
?????? ?? ?????? ??? ?????? ????).

???????????, ????? ?? ?????????? ??????? ?? ?????????? ?? ????? ???
????????????? ???. ???????? ??? ?????? manual ??? ?? ??????? ???, ??? ??
?????? ??? ???????? ???????.

.. raw:: html

   </div>

.. raw:: html

   <div class="sect3">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

5.5.2.2. ???????????????? ?? ``imake``
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

?????? ports ??? ????????????? ?? ``imake`` (????? ??? X Window System)
??? ????????????? ????? ?? ?? ``PREFIX``, ??? ????????? ?? ?????????????
??? ``/usr/X11R6``. ?????, ?????? Perl ports ??????? ?? ``PREFIX`` ???
????????????? ??? ?????? Perl. ?? ?? ?????? ???? ?? ports ?? ???????? ??
``PREFIX`` ????? ??? ??????? ? ??????? ???????.

.. raw:: html

   </div>

.. raw:: html

   <div class="sect3">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

5.5.2.3. ???????????? ???????? Ports
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

???? ?????????????? ?????? ports, ?????? ?? ?????????? ???? ????? ???
??? ????? ???????? (????????? ?? ncurses) ?? ????? ?? ??? ????????? ??
???????? ???????? ???????? ?????????????. ??? ????? ?????? ???????
??????? ?? ?????? ?? ??????????? ???? ???? ?? ?????, ??? ?? ??????????,
?? ?????????? ? ?? ???????? ??????? ????????, ???? ??? ???????????? ???
port. ??? ??????? ????? ?? ????????????? ???? ???????? ??? port ??? ??
??????? ``make config``, ?? ?? ????? ?? ?????????? ???? ?? ????? ?? ???
???????????? ????????? ??? ??? ???????????. ??? ???? ??????????, ?????
?? ??????????????? ??? ?????? ``make showconfig``, ?? ??? ????? ?? ?????
???? ??? ??????????? ????????? ??? port. ?????, ??? ????? ??????? ?????
?? ?????????? ??? ?????? ``make rmconfig`` ? ????? ?? ????????? ???? ???
????????????? ???????? ??? ?? ??? ????????? ?? ?????????? ???? ??? ???
????. ???? ????? ?? ????????, ??? ????? ????????????, ?????????? ???
?????? manual ???
`ports(7) <http://www.FreeBSD.org/cgi/man.cgi?query=ports&sektion=7>`__.

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   <div class="sect2">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

5.5.3. ?????????? ????????????? Ports
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

???? ??? ????????? ??? ?? ??????????? ports, ??????? ?? ??????????? ???
???????????, ???? ????????? ??? ????????????? ??? ??? ????????
??????????? ??? ????????????? ?? ????? port. ?? ??????????? ??
??????????? ?????????? (??? ???? ?? ``lsof`` ??? ????? ??? ?? ????????).
?? ports ??????????? ???? ??? ?? ?????? (?? ????????? ???? ???????
`??????????????? ?? ??????? ??? ??????? <packages-using.html>`__),
??????????????? ??? ??????
`pkg\_delete(1) <http://www.FreeBSD.org/cgi/man.cgi?query=pkg_delete&sektion=1>`__:

.. code:: screen

    # pkg_delete lsof-4.57

.. raw:: html

   </div>

.. raw:: html

   <div class="sect2">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

5.5.4. ?????????????? ?? Ports
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

??????, ????? ?? ?????????? ports ??? ?? ????? ???????? ??????????
???????? ???????? ???? ??????? ??? Ports, ?? ??? ??????
`pkg\_version(1) <http://www.FreeBSD.org/cgi/man.cgi?query=pkg_version&sektion=1>`__:

.. code:: screen

    # pkg_version -v

.. raw:: html

   <div class="sect3">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

5.5.4.1. ``/usr/ports/UPDATING``
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

????? ?????????? ??? ??????? ??? Ports, ?????? ?? ???????? ?? ??????
``/usr/ports/UPDATING``, ???? ???????????? ??? ?????????? ???? port.
???? ?? ?????? ?????????? ??????? ?????? ??????????, ????? ???
?????????? ???????? ?????? ??? ?????? ?? ?????????? ???? ?????????? ???
port. ???????????? ??? ????????, ????? ? ?????? ?????? ??????? ???????,
?????? ???? ????????? ??? ??????? ?????????, ? ????? ????????????? ??
??????????? ????????.

?? ?? ``UPDATING`` ??????? ???? ??? ????????? ???, ???????? ??? ??????
?? ``UPDATING``.

.. raw:: html

   </div>

.. raw:: html

   <div class="sect3">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

5.5.4.2. ?????????????? Ports ?? ?? Portupgrade
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

?? ???????? portupgrade ????? ??????????? ??? ?? ??????????? ??????
????????????? ports. ?????????? ??? ??
`ports-mgmt/portupgrade <http://www.freebsd.org/cgi/url.cgi?ports/ports-mgmt/portupgrade/pkg-descr>`__
port. ???????????? ?? ???? ???? port, ??????????????? ??? ??????
``make install clean``:

.. code:: screen

    # cd /usr/ports/ports-mgmt/portupgrade
    # make install clean

? ?????? ``pkgdb -F`` ?? ???????? ??? ?? ????????? ???? ??? ??????????
??? ???? ???????? ??? ????? ??? ?????????????? ports. ????? ???? ????
????? ?? ??? ????????? ?????, ??????????? ???? ??? ???? ??????????.

???? ????????? ?? ``portupgrade -a``, ?? portupgrade ?? ??????? ??
??????????? ??? ?? ?????????? ports ??? ????? ????????????? ??? ???????
???. ?????????????? ??? ??????? ``-i`` ?? ?????? ?? ??? ???? ???
??????????? ??? ???? ????????? ??????????.

.. code:: screen

    # portupgrade -ai

?? ?????? ?? ???????????? ???? ??? ???????????? ????????, ??? ??? ??? ??
????????? ports, ?????????????? ?? ``portupgrade pkgname``.
????????????? ??? ??????? ``-R`` ?? ?? portupgrade ?????? ????? ??
??????????? ??? ?? ports ??? ??????????? ??? ??? ???????????? ????????.

.. code:: screen

    # portupgrade -R firefox

??? ?? ??????????????? ?????? ???? ??? ports ???? ???????????, ????? ???
??????? ``-P``. ?? ???? ??? ??????? ?? portupgrade ??????? ???? ????????
?????????? ??? ????????? ??? ``PKG_PATH``, ? ?????? ?? ?????? ???
????????????? sites ??? ??? ??????? ??????. ?? ?? ?????? ??? ??????? ??
?????????? ?? ???? ???????? ???????, ?? portupgrade ?? ?????????????? ??
ports. ??? ?? ????????? ??????? ??? ????? ??? ports, ????????? ???
??????? ``-PP``.

.. code:: screen

    # portupgrade -PR gnome2

??? ?? ?????????? ????? ?? distfiles (? ?? ??????, ?? ????? ?????? ???
??????? ``-P``) ????? ?? ?????????????? ? ?? ????????????? ??????,
?????????????? ?? ``-F``. ??? ???????????? ???????????, ????? ??
`portupgrade(1) <http://www.FreeBSD.org/cgi/man.cgi?query=portupgrade&sektion=1>`__.

.. raw:: html

   </div>

.. raw:: html

   <div class="sect3">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

5.5.4.3. ?????????????? Ports ?? ?? Portmanager
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

?? Portmanager ????? ??? ????? ???????? ??? ?????? ??????????
?????????????? ports. ?????????? ??? ??
`ports-mgmt/portmanager <http://www.freebsd.org/cgi/url.cgi?ports/ports-mgmt/portmanager/pkg-descr>`__
port:

.. code:: screen

    # cd /usr/ports/ports-mgmt/portmanager
    # make install clean

??? ?? ????????????? ports ??????? ?? ????????????? ??????????????? ????
??? ???? ??????:

.. code:: screen

    # portmanager -u

???????? ?? ?????????? ??? ??????? ``-ui`` ???? ???????? ??????
(**``portmanager -u -ui``**) ??? ?? ?????????? ?? ????????????? ????
???? ??? ?? ????????? ?? Portmanager. ?? Portmanager ?????? ?????? ??
?????????????? ??? ?? ????????????? ??? ports ??? ???????. ?? ????????
?? ??? ?????? ``make install clean``, ?? Portmanager ?? ??????????? ????
??? ?????????? ???? ??? ???????????? ??? ??????????? ??? ???????????
port.

.. code:: screen

    # portmanager x11/gnome2

?? ???????? ?????????? ??? ??????????? ?? ??? ?????????? ????
??????????? port, ???????? ?? ??????????????? ?? Portmanager ??? ?? ???
?????-????????????? ???? ?? ??? ????? ?????. ????? ????????? ?? ???
??????????, ?? ?????-????????????? ??? ?? ???????????? port.

.. code:: screen

    # portmanager graphics/gimp -f

??? ???????????? ??????????? ????? ?? ?????? manual
`portmanager(1) <http://www.FreeBSD.org/cgi/man.cgi?query=portmanager&sektion=1>`__.

.. raw:: html

   </div>

.. raw:: html

   <div class="sect3">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

5.5.4.4. ?????????????? ?? Ports ???? ??? Portmaster
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

?? Portmaster ????? ??? ????? ???????? ??? ??? ?????????? ???
?????????????? ports. ?? Portmaster ??????????? ???? ?? ???????????? ??
???????? ??? ??????? ?? ???????? ??????? (??? ????????? ??? ???? ports)
??? ???????????? ??? ??????????? ??? ``/var/db/pkg`` ??? ?? ?????????
???? ports ?? ???????????. ????? ????????? ???? ??? port
`ports-mgmt/portmaster <http://www.freebsd.org/cgi/url.cgi?ports/ports-mgmt/portmaster/pkg-descr>`__:

.. code:: screen

    # cd /usr/ports/ports-mgmt/portmaster
    # make install clean

?? Portmaster ?????????? ?? ports ?? ???????? ??????????:

.. raw:: html

   <div class="itemizedlist">

-  Root ports (??? ?????????? ??? ????, ??? ???? ???? ?????????? ???
   ????)

-  Trunk ports (??? ?????????? ??? ????, ?????? ?????? ?????? ??????????
   ??? ????)

-  Branch ports (????? ?????????? ??? ???? ??? ??? ????????????)

-  Leaf ports (?????????? ??? ????, ???? ??? ?? ????????)

.. raw:: html

   </div>

???????? ?? ????? ??? ????? ???? ??? ?????????????? ports ??? ?? ??????
??? ???????????? ????????, ??????????????? ??? ??????? ``-L``:

.. code:: screen

    # portmaster -L
    ===>>> Root ports (No dependencies, not depended on)
    ===>>> ispell-3.2.06_18
    ===>>> screen-4.0.3
            ===>>> New version available: screen-4.0.3_1
    ===>>> tcpflow-0.21_1
    ===>>> 7 root ports
    ...
    ===>>> Branch ports (Have dependencies, are depended on)
    ===>>> apache-2.2.3
            ===>>> New version available: apache-2.2.8
    ...
    ===>>> Leaf ports (Have dependencies, not depended on)
    ===>>> automake-1.9.6_2
    ===>>> bash-3.1.17
            ===>>> New version available: bash-3.2.33
    ...
    ===>>> 32 leaf ports

    ===>>> 137 total installed ports
            ===>>> 83 have new versions available

???????? ?? ???????????? ??? ?? ????????????? ports ?? ??? ???????? ????
??????:

.. code:: screen

    # portmaster -a

.. raw:: html

   <div class="note" xmlns="">

????????:
~~~~~~~~~

??? ??????????, ?? Portmaster ?? ???????????? ????????? ????????? ???
?????????????? ??????? ???? ?? ?????????. ?? ? ??????????? ??? ????
??????? ????? ????????, ?? Portmaster ?? ?????? ?? ????????? ????. ??
??????????????? ??? ??????? ``-b``, ?? Portmaster ??? ?? ?????? ????????
?? ?????????. ?? ??????????????? ??? ??????? ``-i``, ?? ?????? ??
Portmaster ?? ??????????? ??????????, ???? ?? ??? ?????? ???????????
???? ??? ?????????? ???? port.

.. raw:: html

   </div>

?? ?????????????? ???? ???? ?? ?????????? ??? ???????????, ???????? ??
??????????????? ??? ??????? ``-f`` ??? ?? ???????????? ??? ??
?????????????? ???? ??? ?? ports:

.. code:: screen

    # portmaster -af

???????? ?????? ?? ??????????????? ?? Portmaster ??? ?? ?????????????
??? ports ??? ??????? ???, ?????????????? ??? ???? ??? ?????????? ????
???? ?? ???????????? ??? ??????????? ????:

.. code:: screen

    # portmaster shells/bash

??????????? ????? ?? ?????? manual ???
`portmaster(8) <http://www.FreeBSD.org/cgi/man.cgi?query=portmaster&sektion=8>`__
??? ???????????? ???????????.

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   <div class="sect2">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

5.5.5. Ports ??? ????????????? ?????
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

? ??????? ??? Ports ??????????? ????????? ???? ??? ????? ?? ??? ??????
??? ??????. ???? ??? ???????????? ??? ??????????? ?????????? ??? ??
ports, ?????? ????? ?? ??????? ?? ?????????? ???? ??????????? ??????????
``work`` ??????????????? ??? ?????? ``make clean``. M??????? ??
?????????? ??? ??? ??????? ??? Ports ?? ??? ???????? ??????:

.. code:: screen

    # portsclean -C

?? ??? ?????? ??? ??????, ?? ???????????? ????? ?????? ???????? ???????
?????? ???? ???????? ``distfiles``. ???????? ?? ?? ??????????
???????????, ? ???????? ?? ??????????????? ??? ???????? ?????? ??? ??
?????????? ??? ?? distfiles ??? ??? ??????????? ????? ?? ?????? port:

.. code:: screen

    # portsclean -D

? ??? ?? ?????????? ??? ?? distfiles ??? ??? ??????????? ?? ?????? port
??? ????????? ????????????? ??? ??????? ???:

.. code:: screen

    # portsclean -DD

.. raw:: html

   <div class="note" xmlns="">

????????:
~~~~~~~~~

?? ???????? ``portsclean`` ???????????? ?? ????? ??? portupgrade.

.. raw:: html

   </div>

??? ??????? ?? ????????? ?? ????????????? ports ???? ??? ?? ??????????
?????. ??? ???? ???????? ??? ?? ??????????????? ???? ? ???????, ????? ??
port
`ports-mgmt/pkg\_cutleaves <http://www.freebsd.org/cgi/url.cgi?ports/ports-mgmt/pkg_cutleaves/pkg-descr>`__.

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   <div class="navfooter">

--------------

+------------------------------------------------+-------------------------+-----------------------------------------+
| `????? <packages-using.html>`__?               | `???? <ports.html>`__   | ?\ `??????? <ports-nextsteps.html>`__   |
+------------------------------------------------+-------------------------+-----------------------------------------+
| 5.4. ??????????????? ?? ??????? ??? ????????   | `???? <index.html>`__   | ?5.6. ????????? ???? ??? ???????????    |
+------------------------------------------------+-------------------------+-----------------------------------------+

.. raw:: html

   </div>

???? ?? ???????, ??? ???? ???????, ?????? ?? ?????? ???
ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/

| ??? ????????? ??????? ?? ?? FreeBSD, ???????? ???
  `?????????? <http://www.FreeBSD.org/docs.html>`__ ???? ??
  ?????????????? ?? ??? <questions@FreeBSD.org\ >.
|  ??? ????????? ??????? ?? ???? ??? ??????????, ??????? e-mail ????
  <doc@FreeBSD.org\ >.
