<?xml version="1.0" encoding="iso-8859-7" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-7" /><title>17.15. User Lock Down</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Εγχειρίδιο του FreeBSD" /><link rel="up" href="mac.html" title="Κεφάλαιο 17. Υποχρεωτικός Έλεγχος Πρόσβασης" /><link rel="prev" href="mac-implementing.html" title="17.14. Nagios in a MAC Jail" /><link rel="next" href="mac-troubleshoot.html" title="17.16. Troubleshooting the MAC Framework" /><link rel="copyright" href="legalnotice.html" title="Νομική Σημείωση" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">17.15. User Lock Down</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="mac-implementing.html">Προηγ</a> </td><th width="60%" align="center">Κεφάλαιο 17. Υποχρεωτικός Έλεγχος Πρόσβασης</th><td width="20%" align="right"> <a accesskey="n" href="mac-troubleshoot.html">Επόμενο</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="mac-userlocked"></a>17.15. User Lock Down</h2></div></div></div><p>This example considers a relatively small, fewer than fifty
      users, storage system.  Users would have login capabilities, and
      be permitted to not only store data but access resources as
      well.</p><p>For this scenario, the <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mac_bsdextended&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">mac_bsdextended</span>(4)</span></a> mixed with
      <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mac_seeotheruids&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">mac_seeotheruids</span>(4)</span></a> could co-exist and block access not
      only to system objects but to hide user processes as well.</p><p>Begin by adding the following lines to
      <code class="filename">/boot/loader.conf</code>:</p><pre class="programlisting">mac_seeotheruids_enabled="YES"</pre><p>The <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mac_bsdextended&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">mac_bsdextended</span>(4)</span></a> security policy module may be
      activated through the use of the following rc.conf
      variable:</p><pre class="programlisting">ugidfw_enable="YES"</pre><p>Default rules stored in
      <code class="filename">/etc/rc.bsdextended</code> will be loaded at system
      initialization; however, the default entries may need
      modification.  Since this machine is expected only to service
      users, everything may be left commented out except the last
      two.  These will force the loading of user owned system objects
      by default.</p><p>Add the required users to this machine and reboot.  For
      testing purposes, try logging in as a different user across two
      consoles.  Run the <code class="command">ps aux</code> command to see if
      processes of other users are visible.  Try to run <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ls&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ls</span>(1)</span></a> on
      another users home directory, it should fail.</p><p>Do not try to test with the <code class="systemitem">root</code> user
      unless the specific <code class="command">sysctl</code>s have been modified
      to block super user access.</p><div xmlns="" class="note"><h3 class="admontitle">Σημείωση: </h3><p xmlns="http://www.w3.org/1999/xhtml">When a new user is added, their <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mac_bsdextended&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">mac_bsdextended</span>(4)</span></a>
	rule will not be in the ruleset list.  To update the ruleset
	quickly, simply unload the security policy module and reload
	it again using the <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=kldunload&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">kldunload</span>(8)</span></a> and <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=kldload&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">kldload</span>(8)</span></a>
	utilities.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="mac-implementing.html">Προηγ</a> </td><td width="20%" align="center"><a accesskey="u" href="mac.html">Πάνω</a></td><td width="40%" align="right"> <a accesskey="n" href="mac-troubleshoot.html">Επόμενο</a></td></tr><tr><td width="40%" align="left" valign="top">17.14. Nagios in a MAC Jail </td><td width="20%" align="center"><a accesskey="h" href="index.html">Αρχή</a></td><td width="40%" align="right" valign="top"> 17.16. Troubleshooting the MAC Framework</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Αυτό το κείμενο, και άλλα κείμενα, μπορεί να βρεθεί στο
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Για ερωτήσεις σχετικά με το FreeBSD, διαβάστε την
    <a href="http://www.FreeBSD.org/docs.html">τεκμηρίωση</a> πριν να επικοινωνήσετε με την
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Για ερωτήσεις σχετικά με αυτή την τεκμηρίωση, στείλτε e-mail στην
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>