================================
11.5. ????????????? ?? MATLAB(R)
================================

.. raw:: html

   <div class="navheader">

11.5. ????????????? ?? MATLAB(R)
`????? <linuxemu-maple.html>`__?
???????? 11. ??????????? ?? ?????????? ??? Linux
?\ `??????? <linuxemu-oracle.html>`__

--------------

.. raw:: html

   </div>

.. raw:: html

   <div class="sect1">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

11.5. ????????????? ?? MATLAB(R)
--------------------------------

.. raw:: html

   </div>

.. raw:: html

   <div>

?????????? ??? Dan Pelleg.

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

?? ??????? ???? ?????????? ?? ?????????? ???????????? ??? Linux ???????
??? MATLAB(R) 6.5 ?? ??? ??????? FreeBSD. ???????? ?????? ????, ??
???????? ?? Java Virtual MachineTM (????? ??? `??????11.5.3, ???????? ??
?? ?????????? ??? JavaTM Runtime
Environment? <linuxemu-matlab.html#matlab-jre>`__).

? Linux ?????? ??? MATLAB(R) ?????? ?? ????????? ????????? ??? ???
???????? The MathWorks ??? ``http://www.mathworks.com``. ?????????????
??? ?????? ??? ?? ?????? ??? ???????? ??? ????? ?????? ? ??????? ??? ??
??? ?? ?? ?????????????. ??? ??? ?? ?????????????? ?? ??? ????????,
????? ???? ??? ?? ?????? ?? ??????? ?????? ?????????? ??? ?? FreeBSD.

.. raw:: html

   <div class="sect2">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

11.5.1. ??????????? ??? MATLAB(R)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

??? ?? ????????????? ?? MATLAB(R), ????? ?? ????????:

.. raw:: html

   <div class="procedure">

#. ???????? ?? CD ??? ??????????? ?? ??? ??????? ???. ?????????? ??
   ??????? ``root``, ???? ??????? ?? script ??? ????????????. ??? ??
   ?????????? ?? script ??? ???????????? ????? ??? ??????:

   .. code:: screen

       # /compat/linux/bin/sh /cdrom/install

   .. raw:: html

      <div class="tip" xmlns="">

   ????????:
   ~~~~~~~~~

   ?? ????????? ??? ???????????? ????? ?? ??????? ??????????. ??
   ????????? ???????? ??????? ?? ??? ?????, ????? ??? ??????:
   ``setenv HOME ~USER``, ???? *``USER``* ????? ? ??????? ??? ????
   ?????? ??? ??????
   `su(1) <http://www.FreeBSD.org/cgi/man.cgi?query=su&sektion=1>`__.

   .. raw:: html

      </div>

#. ???? ?????????? ??? ??? ???????? ??? MATLAB(R), ?????:
   **``/compat/linux/usr/local/matlab``**.

   .. raw:: html

      <div class="tip" xmlns="">

   ????????:
   ~~~~~~~~~

   ??? ?????????? ?????????? ????????????, ?????? ?? ????????:
   ``set MATLAB=/compat/linux/usr/local/matlab`` ??? ?????? ??????? ???
   ???????? ???.

   .. raw:: html

      </div>

#. ????????????? ?? ?????? ??? ?????? (license file) ??????? ?? ???
   ??????? ??? ?????? ?? ??? ????? ??? MATLAB(R).

   .. raw:: html

      <div class="tip" xmlns="">

   ????????:
   ~~~~~~~~~

   ???????? ?? ?????????? ?? ??? ???????? ?? ?????? ???? ??? ?? ??
   ??????????? ??? ``$MATLAB/license.dat``, ???? ??? ??? ??? ??
   ????????? ???????????? ?? ?? ?????????????.

   .. raw:: html

      </div>

#. ?????????? ??? ????????????

.. raw:: html

   </div>

?? ???? ?? ??????, ? ??????????? ??? MATLAB(R) ???? ???????????. ??
??????? ?????? ??????????? ??? ?? ????????? ?? ?? ????????? ????? ?? ??
FreeBSD.

.. raw:: html

   </div>

.. raw:: html

   <div class="sect2">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

11.5.2. ???????? ??? License Manager
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   <div class="procedure">

#. ?????????? ?????????? ????????? ??? ?? scripts ??? license manager:

   .. code:: screen

       # ln -s $MATLAB/etc/lmboot /usr/local/etc/lmboot_TMW
       # ln -s $MATLAB/etc/lmdown /usr/local/etc/lmdown_TMW

#. ???????????? ?? ?????? ????????? ``/usr/local/etc/rc.d/flexlm.sh``.
   ?? ?????????? ???????? ????? ??? ????????????? ?????? ???
   ``$MATLAB/etc/rc.lm.glnx86``. ?? ??????? ????? ???? ?????????? ???
   ???????, ??? ???? ???????? ??? license manager ??? ??????????
   ?????????? Linux ??? FreeBSD .

   .. code:: programlisting

       #!/bin/sh
       case "$1" in
         start)
               if [ -f /usr/local/etc/lmboot_TMW ]; then
                     /compat/linux/bin/sh /usr/local/etc/lmboot_TMW -u username && echo 'MATLAB_lmgrd'
               fi
               ;;
         stop)
           if [ -f /usr/local/etc/lmdown_TMW ]; then
                   /compat/linux/bin/sh /usr/local/etc/lmdown_TMW  > /dev/null 2>&1
           fi
               ;;
         *)
           echo "Usage: $0 {start|stop}"
           exit 1
           ;;
       esac

       exit 0

   .. raw:: html

      <div class="important" xmlns="">

   ?????????:
   ~~~~~~~~~~

   ?? ?????? ?????? ?? ????? ??????????:

   .. code:: screen

       # chmod +x /usr/local/etc/rc.d/flexlm.sh

   ?????? ?????? ?? ??????????????? ?? ???????? *``username``* ?? ???
   ??????? ????? ?????? ??? ?????????? ??? (??? ?? ??? ????? ?
   ``root``).

   .. raw:: html

      </div>

#. ????????? ??? license manager ?? ??? ??????:

   .. code:: screen

       # /usr/local/etc/rc.d/flexlm.sh start

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   <div class="sect2">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

11.5.3. ??????? ?? ?? ?????????? ??? JavaTM Runtime Environment
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

??????? ??? ???????? ???JavaTM Runtime Environment (JRE) ?? ???? ?
?????? ?? ???????? ??? FreeBSD:

.. code:: screen

    # cd $MATLAB/sys/java/jre/glnx86/
    # unlink jre; ln -s ./jre1.1.8 ./jre

.. raw:: html

   </div>

.. raw:: html

   <div class="sect2">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

11.5.4. ???????????? ?? Script ????????? ??? MATLAB(R)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   <div class="procedure">

#. ??????????? ?? ???????? script ??? ``/usr/local/bin/matlab``:

   .. code:: programlisting

       #!/bin/sh
       /compat/linux/bin/sh /compat/linux/usr/local/matlab/bin/matlab "$@"

#. ??? ???????? ????? ??? ?????? ``chmod +x /usr/local/bin/matlab``.

.. raw:: html

   </div>

.. raw:: html

   <div class="tip" xmlns="">

????????:
~~~~~~~~~

??????? ?? ??? ?????? ???
`emulators/linux\_base <http://www.freebsd.org/cgi/url.cgi?ports/emulators/linux_base/pkg-descr>`__,
??? ?????, ?????? ?? ??????????? ?????? ???????? ???? ??????? ?? script.
??? ?? ?? ????????? ????, ???????????? ?? ??????
``/compat/linux/usr/local/matlab/bin/matlab``, ??? ??????? ?? ?????? ???
????:

.. code:: programlisting

    if [ `expr "$lscmd" : '.*->.*'` -ne 0 ]; then

(???? ?????? 13.0.1 ????????? ??? ?????? 410) ?? ???? ?? ??????:

.. code:: programlisting

    if test -L $newbase; then

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   <div class="sect2">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

11.5.5. ?????????? Script ??????????? ??? MATLAB(R)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

?? ??????? ?????? ??????????? ??? ?? ?????? ??? ???????? ??? ??????? ??
??? ?????????? ??? MATLAB(R).

.. raw:: html

   <div class="procedure">

#. ???????????? ?? ?????? ``$MATLAB/toolbox/local/finish.m``, ??? ????
   ?? ???? ????????? ???? ?? ??????:

   .. code:: programlisting

       ! $MATLAB/bin/finish.sh

   .. raw:: html

      <div class="note" xmlns="">

   ????????:
   ~~~~~~~~~

   To ``$MATLAB`` ?????? ?? ??????? ???? ?? ???????.

   .. raw:: html

      </div>

   .. raw:: html

      <div class="tip" xmlns="">

   ????????:
   ~~~~~~~~~

   ???? ???? ????????, ?? ?????? ?? ?????? ``finishsav.m`` ???
   ``finishdlg.m``, ?? ????? ?? ??? ?????? ?? ?????????? ?? ?????? ???
   ??????? ??? ???? ???????? ?? ?????????. ?? ????????? ??
   ??????????????? ?????? ??? ????, ????????? ??? ??? ???????? ??????
   ?????? ???? ??? ?????? ``save`` .

   .. raw:: html

      </div>

#. ???????????? ?? ?????? ``$MATLAB/bin/finish.sh``, ?? ????? ??
   ???????? ?? ????????:

   .. code:: programlisting

       #!/compat/linux/bin/sh
       (sleep 5; killall -1 matlab_helper) &
       exit 0

#. ????? ?? ?????? ??????????:

   .. code:: screen

       # chmod +x $MATLAB/bin/finish.sh

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   <div class="sect2">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

11.5.6. ??????????????? ?? MATLAB(R)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

?? ???? ?? ?????? ?? ?????? ?? ????? ??????? ?? ?????? ??? ??????
``matlab`` ??? ?? ???????? ?? ?????????????? ??? ????????.

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   <div class="navfooter">

--------------

+------------------------------------+----------------------------+-----------------------------------------+
| `????? <linuxemu-maple.html>`__?   | `???? <linuxemu.html>`__   | ?\ `??????? <linuxemu-oracle.html>`__   |
+------------------------------------+----------------------------+-----------------------------------------+
| 11.4. ????????????? ?? MapleTM?    | `???? <index.html>`__      | ?11.6. ??????????? ??? Oracle(R)        |
+------------------------------------+----------------------------+-----------------------------------------+

.. raw:: html

   </div>

???? ?? ???????, ??? ???? ???????, ?????? ?? ?????? ???
ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/

| ??? ????????? ??????? ?? ?? FreeBSD, ???????? ???
  `?????????? <http://www.FreeBSD.org/docs.html>`__ ???? ??
  ?????????????? ?? ??? <questions@FreeBSD.org\ >.
|  ??? ????????? ??????? ?? ???? ??? ??????????, ??????? e-mail ????
  <doc@FreeBSD.org\ >.
