==================
28.7. SMTP ?? UUCP
==================

.. raw:: html

   <div class="navheader">

28.7. SMTP ?? UUCP
`????? <mail-advanced.html>`__?
???????? 28. ??????????? ???????????
?\ `??????? <outgoing-only.html>`__

--------------

.. raw:: html

   </div>

.. raw:: html

   <div class="sect1">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

28.7. SMTP ?? UUCP
------------------

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

? ????????????? ??????? ??? sendmail ??? ??????? ?? ?? FreeBSD,
??????????? ??? ????????? ?????????? ??? ????? ????????? ????????????
??? Internet. ?? ??????????? ??? ????? ????????? ? ????????? email ????
UUCP, ?? ?????? ?? ?????????????? ??????????? ?????? ????????? ??? ??
sendmail.

? ??????????? ??????? ??? ??????? ``/etc/mail/sendmail.cf`` ?????? ???
??????????? ??????. ? ?????? 8 ??? sendmail ??????? ?????? ?????????
???? ??? ??????????????
`m4(1) <http://www.FreeBSD.org/cgi/man.cgi?query=m4&sektion=1>`__, ????
?? ????????? ???????? ?? ??? ??????? ??????? ?????????. ???????? ??
?????? ?? ?????? ????????
???\ `m4(1) <http://www.FreeBSD.org/cgi/man.cgi?query=m4&sektion=1>`__
???? ???????? ``/usr/share/sendmail/cf``. ???????? ?? ``README`` ????
???????? ``cf`` ??? ??? ?????? ???????? ???? ????????? ???
`m4(1) <http://www.FreeBSD.org/cgi/man.cgi?query=m4&sektion=1>`__.

? ????????? ?????? ??? ??? ???????? mail ???? ??? UUCP, ????? ?? ???
????? ??? ??????????? ``mailertable``. ????????? ?? ???? ??? ????? ???
???? ????????? ??? ?????? ?? ?????????????? ?? sendmail ??? ?? ?????
????????? ??????? ?? ??? ???????????.

?? ?????? ?????? ?? ????????????? ?? ?????? ``.mc``. ?? ?????? ??????
???????????? ???? ???????? ``/usr/share/sendmail/cf/cf``. ???????????
??? ????? ???????? ?? ?????? ??? ``foo.mc``, ?? ???? ??? ?????????? ??
?????? ??? ?? ?? ??????????? ?? ??? ?????? ?????? ``sendmail.cf`` ?????:

.. code:: screen

    # cd /etc/mail
    # make foo.cf
    # cp foo.cf /etc/mail/sendmail.cf

??? ?????? ?????? ``.mc`` ?? ??????? ???? ?? ????????:

.. code:: programlisting

    VERSIONID(`Your version number') OSTYPE(bsd4.4)

    FEATURE(accept_unresolvable_domains)
    FEATURE(nocanonify)
    FEATURE(mailertable, `hash -o /etc/mail/mailertable')

    define(`UUCP_RELAY', your.uucp.relay)
    define(`UUCP_MAX_SIZE', 200000)
    define(`confDONT_PROBE_INTERFACES')

    MAILER(local)
    MAILER(smtp)
    MAILER(uucp)

    Cw    your.alias.host.name
    Cw    youruucpnodename.UUCP

?? ??????? ??? ????????? ??? ???????????
``accept_unresolvable_domains``, ``nocanonify``, and
``confDONT_PROBE_INTERFACES`` ?? ?????????? ?? ????? ??? DNS ???? ???
???????? ??? mail. ? ?????? ``UUCP_RELAY`` ?????????? ??? ??? ??????????
????????? ???? ??? UUCP. ????? ??????????? ???? ??? ????? ???????????
??? Internet ??? ?? ?????? ?? ????????? ??????????? ?????-?????? .UUCP.
?? ??? ?????? ????? ?? ?????? ???? ??? ??????????? (relay) ??? mail ???
??????? ? ISP ???.

??????? ????? ?? ????????, ?? ??????????? ??? ??????
``/etc/mail/mailertable``. ?? ????? ???? ??? ??????? ?? ??? ??? ?????
??? ??????????????? ??? ??? ??? ?? mail, ?? ???????? ?????? ?????
???????:

.. code:: programlisting

    #
    # makemap hash /etc/mail/mailertable.db < /etc/mail/mailertable
    .                             uucp-dom:your.uucp.relay

??? ??? ????????? ?????????? ?? ??????? ?? ?? ????????:

.. code:: programlisting

    #
    # makemap hash /etc/mail/mailertable.db < /etc/mail/mailertable
    #
    horus.interface-business.de   uucp-dom:horus
    .interface-business.de        uucp-dom:if-bus
    interface-business.de         uucp-dom:if-bus
    .heep.sax.de                  smtp8:%1
    horus.UUCP                    uucp-dom:horus
    if-bus.UUCP                   uucp-dom:if-bus
    .                             uucp-dom:

?? ????? ?????? ??????? ??????????? ??????? ???????????, ???? ?? mail
??? ??????????? ?? ?????? ????? ??? ?? ?????? ?? ??????? ????
????????????? ????????, ???? ???????? ?? ?????? ????????? UUCP
??????????? ?? ????????????? ?? ???????? ?????????. ? ??????? ??????
?????????? ?? mail ???? ??? ?????? ????? Ethernet, ???? ????? ?????? ?
???????? ???? SMTP. ?????, ?? ?????????? UUCP ??????????? ?? ?????
?????-?????? UUCP ???? ?? ??????????? ?? ???????
``uucp-neighbor       !recipient`` ?? ?????????? ???? ???????????????
???????. ? ????????? ?????? ????? ????? ??? ???????? ??????, ? ?????
????????? ?? ????????? ????, ?? ???????? UUCP ?? ??? ????????? UUCP ?
?????? ??????? ?? ?????? ???? mail ???? ??? ???????? ?????. ??? ??
??????? ??????????? ??? ?????????? ???? ?? ``uucp-dom:`` ?? ?????? ??
????? ??????? UUCP ????????, ???? ???????? ?? ?????????? ???????????????
?? ``uuname``.

??? ????????????? ??? ???? ?? ?????? ?????? ?? ?????????? ?? ??? ????
????????? DBM ???? ??????????????. ???????? ?? ?????? ?? ?????? ???????
??? ?????????? ??? ?? ?????????? ???? ?? ?????? ???? ???? ??? ???????
``mailertable``. ?????? ??????? ?? ????????? ???? ??? ?????? ???? ????
??? ???????? ?? ?????? ``mailertable``.

??? ????????? ????????: ?? ??? ????? ??????? ??? ?? ?? ?? ????????????
?????? ???????????? ??????????? mail, ????????? ??? ??????? ``-bt`` ???
sendmail. ???? ???????? ?? sendmail ?? *????????? ??????? ???????????*.
?????? ``3,0``, ????????????? ??? ?? ????????? ??? ?????? ?? ????????
??? ??????????? mail. ? ????????? ?????? ?? ??? ??? ??? ?????????
??????????? mail ??? ???????????????, ?? ????????? ?????????? ?? ???
????? ???????, ????? ??? ??? (??????? ????????????) ?????????. ????????
?? ?????? ??? ???? ??? ?????????, ??????????????? **Ctrl**+**D**.

.. code:: screen

    % sendmail -bt
    ADDRESS TEST MODE (ruleset 3 NOT automatically invoked)
    Enter <ruleset> <address>
    > 3,0 foo@example.com
    canonify           input: foo @ example . com
    ...
    parse            returns: $# uucp-dom $@ your.uucp.relay $: foo < @ example . com . >
    > ^D

.. raw:: html

   </div>

.. raw:: html

   <div class="navfooter">

--------------

+-----------------------------------+-------------------------+------------------------------------------------+
| `????? <mail-advanced.html>`__?   | `???? <mail.html>`__    | ?\ `??????? <outgoing-only.html>`__            |
+-----------------------------------+-------------------------+------------------------------------------------+
| 28.6. ??????????? ???????         | `???? <index.html>`__   | ?28.8. ??????? ??????????? ???? ??? ????????   |
+-----------------------------------+-------------------------+------------------------------------------------+

.. raw:: html

   </div>

???? ?? ???????, ??? ???? ???????, ?????? ?? ?????? ???
ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/

| ??? ????????? ??????? ?? ?? FreeBSD, ???????? ???
  `?????????? <http://www.FreeBSD.org/docs.html>`__ ???? ??
  ?????????????? ?? ??? <questions@FreeBSD.org\ >.
|  ??? ????????? ??????? ?? ???? ??? ??????????, ??????? e-mail ????
  <doc@FreeBSD.org\ >.
