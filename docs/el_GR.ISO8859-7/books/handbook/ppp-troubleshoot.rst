===============================================
27.4. ???????????? ??????????? ?? ????????? PPP
===============================================

.. raw:: html

   <div class="navheader">

27.4. ???????????? ??????????? ?? ????????? PPP
`????? <ppp.html>`__?
???????? 27. PPP ??? SLIP
?\ `??????? <pppoe.html>`__

--------------

.. raw:: html

   </div>

.. raw:: html

   <div class="sect1">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

27.4. ???????????? ??????????? ?? ????????? PPP
-----------------------------------------------

.. raw:: html

   </div>

.. raw:: html

   <div>

?????????? ??? Tom Rhodes.

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   <div class="warning" xmlns="">

?????????????:
~~~~~~~~~~~~~~

??? ?? FreeBSD?8.0 ??? ????, ?? ????????? ????????
`sio(4) <http://www.FreeBSD.org/cgi/man.cgi?query=sio&sektion=4>`__
??????????????? ??? ??
`uart(4) <http://www.FreeBSD.org/cgi/man.cgi?query=uart&sektion=4>`__.
?? ??????? ???????? ??? ????????? ????? ????? ??????? ??? ``/dev/cuadN``
?? ``/dev/cuauN`` ??? ??? ``/dev/ttydN`` ?? ``/dev/ttyuN``. ?? ???????
??? FreeBSD?7.X ?? ?????? ?? ???????????? ??? ???????? ??????? ???????
?? ????? ??? ???????.

.. raw:: html

   </div>

? ??????? ???? ???????? ?????? ??? ?? ?????????? ??? ?????? ??
????????????? ???? ??????? ????? ??? PPP ???? ???????? modem. ???
??????????, ?? ?????? ?? ?????? ?? ???????? ?? ???????? ??????? ??? ??
????????? ?? ??????? ?? ????? ???????. ??????? ISP ?????? ??? ????????
``ssword``, ??? ????? ?????? ??? ``password``. ?? ??? ????? ?????? ?????
?? script ??? ?? ``ppp``, ? ???????? ??????? ?? ????????. ? ???
???????????? ?????? ?? ?????????????? ??? ??????? ``ppp``, ????? ??
?????????? ???????????. ?? ??????????? ??? ???????????? ????????, ?? ???
????????? ???? ???? ???? ??? ??????????? ???????????? ??? ????????.

.. raw:: html

   <div class="sect2">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

27.4.1. ??????? ?? ?????? ????????
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

?? ?????????????? ????????????? ??????, ??????????? ??? ????? ?????????
??? ???????? ?????? ??? ?????? ????????? ??? ?????? ???:

.. code:: programlisting

    device   uart

?? ?????????????? ??? ?????? ``GENERIC``, ??? ?????????? ?? ??????
?????? ??????, ????? ? ??????? ``uart`` ?????????????? ??? ?? ?????.
????? ??????? ?? ???????? ??? ``dmesg`` ??? ??? ??????? modem,
??????????????? ??? ???????? ??????:

.. code:: screen

    # dmesg | grep uart

?? ?????? ?? ????? ?????? ????? ??????? ?? ??? ???????? ``uart``.
????????? ??? ??? ????? COM ??? ????????????. ?? ?? modem ??? ??????????
?? ???????????? ???????? ????, ?? ?????? ?? ?? ????? ?? ?????????? ??
``uart1``, ? ``COM2``. ?? ????????? ????, ??? ?????????? ??
??????????????????? ??? ?????? ???. ?? ? ???????? ???? ??? ???????????
??? modem ??? ????? ? ``uart1`` ? ``COM2`` ??? DOS, ? ?????????? ???????
modem ?? ????? ? ``/dev/cuau1``.

.. raw:: html

   </div>

.. raw:: html

   <div class="sect2">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

27.4.2. ??????????? ???????
~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

? ??????????? ??????? ??? Internet ?? ????? ??? ``ppp``, ????? ????
???????? ??? ??????? ?????? ?? ?????????? ????? ?????????? ????????, ?
????? ?? ?????? ??????????? ??????? ?? ?? ??? ? ISP ??? ?????????????
??? ????????? ??????? ``ppp``. ?? ??????????? ??? ???????? PPP ??? ???
?????? ???????. ????????? ??? ?? ??? ??? ?? ????????????, ??
?????????????? ?? *example* ?? ?? ????? ??? ?????????? ??? ??????? ??
PPP. ???????? ?? ?????????? ?? ``ppp``, ????????? ????? ``ppp``:

.. code:: screen

    # ppp

?????? ???? ????????? ?? ``ppp``.

.. code:: screen

    ppp ON example> set device /dev/cuau1

??????? ?? ??????? modem. ??? ?????????? ???, ????? ? ``cuau1``.

.. code:: screen

    ppp ON example> set speed 115200

??????? ??? ???????? ????????, ?? ???? ??? ????????? ??????????????
115,200 kbps.

.. code:: screen

    ppp ON example> enable dns

???? ??? ``ppp`` ?? ???????? ??? resolver ??? ??????????? ??? ??????????
??????? ??? ?? ?????????? ???????? ??? ``/etc/resolv.conf``. ?? ??
``ppp`` ??? ?????? ?? ????????? ?? ????? ??? ??????????, ???????? ?? ??
??????????? ?? ??????????? ????? ????????.

.. code:: screen

    ppp ON example> term

????????? ?? ????????? ?terminal? ???? ?? ???????? ?? ????????? ?? modem
???????????.

.. code:: programlisting

    deflink: Entering terminal mode on /dev/cuau1
    type '~h' for help

.. code:: screen

    at
    OK
    atdt123456789

?????????????? ?? ``at`` ??? ?? ??????????????? ?? modem, ??? ??????
?????????????? ?? ``atdt`` ??? ??? ?????? ??? ISP ??? ?? ??????????? ??
?????????? ??? ??????.

.. code:: screen

    CONNECT

??? ?????? ??????????? ??? ????????. ?? ?????? ?????????? ???????? ??
????? ??? ??????????? ?? ?? ????? ???, ??? ????? ?? ?????? ??? ?????? ??
????????????? ?? ?? ??????????.

.. code:: screen

    ISP Login:myusername

? ???????? ???? ????? ??? ?? ??????? ?? ????? ??????. ?????????????? ??
????? ?????? ??? ??? ???? ????? ??? ??? ISP ???.

.. code:: screen

    ISP Pass:mypassword

? ???????? ???? ????? ??? ??? ?????? ?????????. ????????? ?? ??? ??????
??? ??? ???? ????? ??? ??? ISP ???. ? ??????? ????? ??? ?? ??????????
???? ????? ???, ???? ??????? ????????? ??? ?? ??? ?????? ??? ???? ???
??????? ???? ???????? ??????? ??? FreeBSD ?????????? ???.

.. code:: screen

    Shell or PPP:ppp

??????? ?? ??? ISP ???, ?????? ?? ??? ????? ??? ??????? ??? ????????
????????. ???? ???????? ????????? ??? ?????? ?? ?????????? ??
??????????? ?????? ??????? (shell) ??? ???????? ??? ???????, ? ??
??????? ?? ??????????? ?? ``ppp``. ??? ?????????? ??? ????????? ??
???????????????? ``ppp`` ????? ??????? ?? ?????????? ??? Internet.

.. code:: screen

    Ppp ON example>

??????????? ??? ??? ?????????? ?? ????? ``p`` ????? ????????. ????
??????? ??? ?????? ???????? ???????? ?? ??? ISP.

.. code:: screen

    PPp ON example>

?????? ???????????? ?? ???????? ??? ??? ISP ???, ??? ??????????? ?? ???
???????? ????????? IP.

.. code:: screen

    PPP ON example>

???? ????? ?????????? ????????? IP, ??? ?????? ??????????? ?? ??????? ??
????????.

.. code:: screen

    PPP ON example>add default HISADDR

??? ??????????? ??? ????????????? ???????? (default route). ?? ???? ????
????? ?????????? ???? ?????????? ?? ??????????????? ?? ??? ??? ?????,
????? ?? ???????? ?????? ? ???? ??????? ??? ?????? ????? ?? ???
?????????? ??? ??? ???? ????? ??? ???????. ?? ?? ???????? ????????
?????? ???????? ??? ???????????? ?????????, ???????? ?? ?????? ???
?????????? ``!`` ??????? ??? ?? ``add``. ???????????, ???????? ?? ??????
???? ?? ??????? ???? ???????????? ?? ???????, ??? ?? ????? ????????
?????????????? ??? ???? ?????????.

?? ??? ????? ????, ?? ?????? ???? ?? ????? ?????? ??????? ?? ??
Internet, ??? ????? ???????? ?? ???????????? ??? ??????????
??????????????? ?? ????????? ???????? **CTRL**+**z**. ?? ???????????? ??
``PPP`` ?? ??????? ???? ``ppp``, ? ??????? ???? ????????. ?? ??? ?????
???? ???????? ?? ?????????????? ??? ????????? ??? ??????? ???. ??
???????? P ???????? ??? ??????? ??????? ?? ??? ISP ??? ?? ????? p
???????? ??? ??? ?????? ???? ? ??????? ???? ?????. ?? ``ppp`` ???? ????
????? ??? ??? ???????????.

.. raw:: html

   <div class="sect3">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

27.4.2.1. ???????????? ???????????
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

?? ????? ????????? ?????? ??? ??? ???????? ?? ???????? ?? ??????????????
?? ???????, ??????????????? ??? ?????? ???? ???? ?????? (CTS/RTS)
??????????????? ??? ??????? ``set ctsrts off``. ?? ???????? ?????????
??????? ?? ????? ?????????? ?? ?????? ??????????? ?????????? ??
?????????? PPP, ???? ?? PPP ????????? ?? ??????????? ???? ????????? ??
?????? ???????? ??? ??????? ???. ???? ????????? ????, ??????? ?????????
??? ?????? ???? CTS (Clear To Send) ?? ????? ??? ??????? ????. ?? ??????
??????????????? ???? ??? ???????, ?? ?????? ?????? ?? ???????????????
??? ??? ??????? ``set accmap`` ? ????? ??????????? ?????????? ??? ??
?????????? ?? ????? ??? ????????? ??? ?? ???????? ?????????????
?????????? ??? ?? ??? ???? ???? ????, ??????? ???? ??? XON/XOFF. ?????
?? ?????? manual ???
`ppp(8) <http://www.FreeBSD.org/cgi/man.cgi?query=ppp&sektion=8>`__ ???
???????????? ??????????? ??????? ?? ???? ??? ??????? ??? ??? ???????? ??
??? ???????????????.

?? ????????? ??? ?????????? modem, ???? ????????? ?? ??????????????? ???
??????? ``set parity even``. ? ????????????? ??????? ????? ?? ???
??????? ???????? (parity none), ???? ?? ????? modems (??? ?? ????????
ISP) ??????????????? ??? ?????? ????? (? ????? ??? ???????? ??????
?????? ?????? ??? ?????????? ?????????). ???? ??????????? ???? ???
???????, ?? ? ISP ??? ????? ? Compuserve.

?? PPP ???? ?? ??? ????????? ???? ????????? ???????, ?? ????? ?????
??????? ?????? ???????????????, ????? ? ISP ????????? ??? ?? ???? ???
????? ?? ????????? ?? ??????????????. ??? ?????? ????, ? ????? ???
??????? ``~p`` ?? ??????????? ?? ppp ?? ??????? ?? ??????? ???
??????????? ??????? ?? ?? ???????.

?? ??? ?????? ???? ???????? ???????, ?? ?????????? ????? ?? ?????? ??
??????????????? ??????????? PAP ? CHAP ???? ??? ??? ????? UNIX(R)
??????????? ??? ??????????? ??? ???????? ??????????. ??? ??
??????????????? PAP ? CHAP ????? ????????? ??? ???????? ???????? ????
???????? PPP ???? ???????? ?? ????????? ??????????:

.. code:: screen

    ppp ON example> set authname myusername

?? ?????? ?? ??????????????? ?? *``myusername``* ?? ?? ????? ?????? ???
??? ???? ????? ??? ??? ISP ???.

.. code:: screen

    ppp ON example> set authkey mypassword

?? ?????? ?? ??????????????? ?? *``mypassword``* ?? ??? ?????? ??????
??? ??? ???? ????? ??? ??? ISP ???.

?? ????????? ????????, ???? ??? ???????? ?? ???????? ?? ??????????????
?? ????? ?????????, ??????????? ?? ??????????????? ??? ??????
`ping(8) <http://www.FreeBSD.org/cgi/man.cgi?query=ping&sektion=8>`__ ??
??? ????????? IP ??? ?? ????? ?? ?? ?????? ????????. ?? ??????? ???????
??????? 100%, ?? ??? ?????? ????? ??? ??? ????? ????????? ??????
????????????? ????????. ??????? ???? ??? ????? ???????? ??? ???????
``add default HISADDR`` ???? ?? ???????? ??? ????????. ?? ???????? ??
?????????????? ?? ??? ????????????? ????????? IP, ?? ?????????? ?????
??? ??? ????? ????? ?? ????????? ??????? ?????????? ???????? ??? ??????
``/etc/resolv.conf``. ?? ?????? ???? ?? ?????? ?? ??????? ?? ??
????????:

.. code:: programlisting

    domain example.com
    nameserver x.x.x.x
    nameserver y.y.y.y

???? ?? *``x.x.x.x``* ??? *``y.y.y.y``* ?? ?????? ?? ??????????????? ??
??? ??????????? IP ??? ??????????? DNS ??? ISP ???. ??????????? ??
??????????? ????? ?? ??? ????? ????? ???? ??? ??????? ??? ???? ????????.
?? ???, ?? ????????? ?? ??? ?????? ?????? ?? ??? ?????????? ???? ISP
???.

???????? ?????? ?? ?????????????? ??? ????????? ????????? ??? ??? PPP
??????? ???, ???? ???
`syslog(3) <http://www.FreeBSD.org/cgi/man.cgi?query=syslog&sektion=3>`__.
????? ?????????:

.. code:: programlisting

    !ppp
    *.*     /var/log/ppp.log

??? ``/etc/syslog.conf``. ??? ???????????? ?????, ???? ? ??????????
??????? ???.

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   <div class="navfooter">

--------------

+--------------------------------------------+--------------------------------+----------------------------------------------------+
| `????? <ppp.html>`__?                      | `???? <ppp-and-slip.html>`__   | ?\ `??????? <pppoe.html>`__                        |
+--------------------------------------------+--------------------------------+----------------------------------------------------+
| 27.3. ??????????????? ?? PPP ??? ???????   | `???? <index.html>`__          | ?27.5. ??????????????? PPP ???? Ethernet (PPPoE)   |
+--------------------------------------------+--------------------------------+----------------------------------------------------+

.. raw:: html

   </div>

???? ?? ???????, ??? ???? ???????, ?????? ?? ?????? ???
ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/

| ??? ????????? ??????? ?? ?? FreeBSD, ???????? ???
  `?????????? <http://www.FreeBSD.org/docs.html>`__ ???? ??
  ?????????????? ?? ??? <questions@FreeBSD.org\ >.
|  ??? ????????? ??????? ?? ???? ??? ??????????, ??????? e-mail ????
  <doc@FreeBSD.org\ >.
