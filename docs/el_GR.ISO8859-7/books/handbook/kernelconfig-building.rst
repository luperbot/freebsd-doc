=====================================================
9.5. ?????????? ??? ??????????? ?????????????? ??????
=====================================================

.. raw:: html

   <div class="navheader">

9.5. ?????????? ??? ??????????? ?????????????? ??????
`????? <kernelconfig-modules.html>`__?
???????? 9. ??????????? ??? ?????? ??? FreeBSD
?\ `??????? <kernelconfig-config.html>`__

--------------

.. raw:: html

   </div>

.. raw:: html

   <div class="sect1">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

9.5. ?????????? ??? ??????????? ?????????????? ??????
-----------------------------------------------------

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   <div class="note" xmlns="">

????????:
~~~~~~~~~

?????????? ?? ????? ???????????? ??? ??? ?????? ?????? ??? FreeBSD ???
?? ?????????????? ??? ??????.

.. raw:: html

   </div>

??????, ?? ??????? ??? ??????? ?????????? ??? ????????? ???? ?????
??????? ? ???????????? ??? ??????. ???? ?? ????????? ??? ?? ??????????
?????????? ???? ??? ??? ???????? ``/usr/src/sys`` ? ?????? ????? ??????
??????????? ???? ??? ????????? ``/sys``. ??????? ??? ???? ???????
???????????? ? ?????? ?????????????? ??????????? ??????? ??? ??????,
???? ?? ????? ?????????? ??? ?? ????? ??? ????? ?? ``arch/conf``, ????
?? ?????????????? ??? ????????? ??? ??? ????????????? ?????? ???, ??? ?
``compile``, ??? ????? ? ????? ???????? ???? ????? ?? ????? ?
???????????? ???. ? *``arch``* ?????????????? ??? ??? ?? ``i386``,
``amd64``, ``ia64``, ``powerpc``, ``sparc64``, ? ``pc98`` (????
???????????? ????? PC, ???????????? ???? ???????). ????????? ?????????
???? ???? ???????????? ???????? ???? ??????????????, ?????????? ???? ??
??? ????????????? ????. ?? ???????? ??? ??????, ????? ?????????? ??? ???
????????????? ??? ????? ?? ???? ????????? ???? ?? ???????? ??
?????????????? ?? FreeBSD. ??????????? ?? ?????? ???????? ??? ????? ???
?????????, ???? ???? ?????????????? ???????, ??????? ??????? ??? ???????
????????? ??? ???? ??? ????????.

??? ???????????? ????? ??? ????????? ?????????? ??? ?????????????? ???
????????????? i386. ?? ?????????????? ??????????? ?????????????, ??
????????? ?? ???????? ?? ??????? ??? ????????? ??? ????????? ???? ??
??????????? ?? ????.

.. raw:: html

   <div class="note" xmlns="">

????????:
~~~~~~~~~

?? ??? ??????? ? ????????? ``/usr/src/`` ??? ??????? ??? (? ?? ?????
??????), ???? ??? ????? ???????????? ??? ?????? ??????. ? ???????????
?????? ??? ?? ????????????? ??? ????? ?????? ??????, ????? ?? ???? ???
`csup(1) <http://www.FreeBSD.org/cgi/man.cgi?query=csup&sektion=1>`__
???? ???????????? ??? `??????24.6, ??????????????? ??? ?????? ???
??????? <synching.html>`__. ?? ?????? ?????? ?? ????????????? ???
????????? ????? ???? ??? ???????? ``/usr/src/sys/``:

.. code:: screen

    # ln -s /usr/src/sys /sys

.. raw:: html

   </div>

??????, ????????????? ???? ???????? ``arch/conf`` ??? ?????????? ??
?????? ????????? ``GENERIC`` ??? ????? ?? ????? ?????? ?? ?????? ??? ???
??? ??????. ??? ??????????:

.. code:: screen

    # cd /usr/src/sys/i386/conf
    # cp GENERIC MYKERNEL

???? ????????, ?? ????? ???? ???????? ??' ????????? ?? ???????? ????????
??? ?? ????? ????? ?????????? FreeBSD ?? ??????????? ?????, ????? ????
???? ?? ??? ?????? ?? ????? ??? ???????????. ??? ?? ?????????? ???, ??
?? ?????????? ``MYKERNEL``.

.. raw:: html

   <div class="tip" xmlns="">

????????:
~~~~~~~~~

??? ????? ?????? ???? ???? ?? ???????????? ?? ?????? ????????? ???
????????? ???? ???????? ``/usr/src``. ?? ?????????????? ??????????, ????
?????? ???? ???????? ?? ?????????? ????? ??? ???????? ``/usr/src`` ???
?? ?????????? ??? ??? ????. ??????? ???? ???????????? ???? ??? ???? ??
????????????????? ??? ????? ?????? ????????? ?? ?????? ????????? ???
?????? ???. ??????, ??? ????????????? ????????? ?? ?????? ``GENERIC``,
????? ?????? ?? ??????? ??? ?? ?????? ??? ??????? ???? ??? ??
`?????????? ??? ?????? ??? ?????? <updating-upgrading.html>`__.

???? ?? ????? ?? ???????????? ?? ?????? ????????? ?? ???? ???????? ???
?? ????????????? ??? ????????? ????? ???? ?? ??????, ???? ????????
``i386``.

??? ??????????:

.. code:: screen

    # cd /usr/src/sys/i386/conf
    # mkdir /root/kernels
    # cp GENERIC /root/kernels/MYKERNEL
    # ln -s /root/kernels/MYKERNEL

.. raw:: html

   </div>

????, ???????????? ?? ?????? ``MYKERNEL`` ?? ??? ??????????? ????????
??? ?????????. ?? ???????? ????? ????, ??????? ? ????? ??????????
???????????? ???????? ?? ????? ?? vi, ? ?????? ????? ?????? ??????????
??? ?? ??? ?????????? ???, ???? ?????????? ?????? ???? ??? ??????
??????? ???? `???????????? <bibliography.html>`__. ??????, ?? FreeBSD
???????? ?????? ??? ?????????? ??????????? ????????, ??? ee ? ??????
????? ? ????????? ??????? ?? ????? ????????. ??????? ???? ??????? ??
?????? ???? ???? ??? ??????? ????????? ???? ?? ??????????? ??? ???????
??? ????? ????? ??? ?? ?????? ?? ??????????? ??? ?? ``GENERIC``.

?? ????? ???????????? ?????? ??? SunOSTM ? ?? ?????? ???? ???????????
??????? ????? BSD, ?? ?????????? ????? ????? ??? ??????? ?? ??? ?????
??????. ??? ??? ????, ?? ??????? ??? ?????? ???? ???????????, ???? ??
DOS ?? ?????? ????????? ``GENERIC`` ???? ?? ??? ????? ??????? ????
?????????, ??? ?? ???? ???? ??????????? ???? ??? ?????????? ???
?????????? ??? ???????? `?????? ????????? <kernelconfig-config.html>`__.

.. raw:: html

   <div class="note" xmlns="">

????????:
~~~~~~~~~

?? `???????????? ??? ?????? ?????? <updating-upgrading.html>`__ ?? ???
?????????? ??????? ??? FreeBSD project, ?? ????????? ?? ??????
``/usr/src/UPDATING`` ???? ??????????? ?? ??????????? ???? ???????????.
?? ?????? ???? ?????????? ?????? ????????? ?????????? ? ???????? ???
??????????? ????????? ??????? ??? ????? ??? ?????????? ?????? ??????. ??
?????? ``/usr/src/UPDATING`` ????????? ????? ?? ??? ?????? ??? ???????
?????? ??? FreeBSD ??? ?????, ??? ????? ??? ???? ?? ???? ??? ???????????
?? ????? ?? ??? ????????? ??? ????? ??????.

.. raw:: html

   </div>

?? ?????? ???? ?? ?????????????? ??? ?????? ?????? ??? ??????.

.. raw:: html

   <div class="procedure">

.. raw:: html

   <div class="procedure-title">

???????????9.1.????????????? ??? ??????

.. raw:: html

   </div>

.. raw:: html

   <div class="note" xmlns="">

????????:
~~~~~~~~~

?????????? ?? ????? ???????????? ??? ??? ?????? ?????? ??? FreeBSD ???
?? ?????????????? ??? ??????.

.. raw:: html

   </div>

#. ????????????? ???? ???????? ``/usr/src``:

   .. code:: screen

       # cd /usr/src

#. ????????????? ??? ??????:

   .. code:: screen

       # make buildkernel KERNCONF=MYKERNEL

#. ???????????? ?? ??? ??????:

   .. code:: screen

       # make installkernel KERNCONF=MYKERNEL

.. raw:: html

   </div>

.. raw:: html

   <div class="tip" xmlns="">

????????:
~~~~~~~~~

??? ??????????, ???? ???????????? ??? ????????????? ??????,
?????????????? ?????? ??? *???* ?? modules (?????????) ??????. ?? ??????
?? ?????? ??? ??????? ???????? ??? ?????? ? ?? ????????????? ????
???????????? modules, ?? ?????? ?? ????????????? ?? ??????
``/etc/make.conf`` ???? ?????????? ?? ?????????? ??? ??????:

.. code:: programlisting

    MODULES_OVERRIDE = linux acpi sound/sound sound/driver/ds1 ntfs

??? ????????? ???? ?????? ??? ????? ??? modules ??? ?????? ??
?????????????, ???? ?? ????????????? ???.

.. code:: programlisting

    WITHOUT_MODULES = linux acpi sound ntfs

??? ????????? ???? ?????? ??? ????? ??????? (top level) modules ???
?????? ?? ??????????? ???? ?? ?????????? ???????????. ??? ?????
?????????? ??? ???? ????? ???????? ??? ?????????? ??????????? ??????,
????? ?? ?????? manual ???
`make.conf(5) <http://www.FreeBSD.org/cgi/man.cgi?query=make.conf&sektion=5>`__.

.. raw:: html

   </div>

? ???? ??????? ?? ?????????? ???? ???????? ``/boot/kernel`` ?? ?? ?????
``/boot/kernel/kernel`` ??? ? ?????? ??????? ?? ??????????? ???
``/boot/kernel.old/kernel``. ?????????? ???? ?? ??????? ??? ???
????????????? ??? ?? ??????????????? ?? ??? ??????. ?? ???? ???? ??????,
???????? ??????? ??????????? ??? `????????????
??????????? <kernelconfig-trouble.html>`__ ??? ???? ??? ?????? ????????,
??? ????? ????? ??? ?????????. ??????????? ??? ????????? ?? ????? ???
?????? ??? ?? ??????????? ?? ??????? ??? ?? ????????? ??? ? ???? ???????
`??? ??????? <kernelconfig-trouble.html#kernelconfig-noboot>`__.

.. raw:: html

   <div class="note" xmlns="">

????????:
~~~~~~~~~

???? ?????? ??? ??????????? ?? ?? ?????????? ?????????, ???? ?
`loader(8) <http://www.FreeBSD.org/cgi/man.cgi?query=loader&sektion=8>`__
??? ?? ????????? ???, ?????????? ???? ???????? ``/boot``. ?????????????
modules ? modules ?????? ????????????? ??????? ?? ???????????? ????
???????? ``/boot/kernel``, ?? ??? ?? ??????? ?? ?????? ?? ????????? ???
????? ????????? ?? modules ?? ????? ?? ??????????? ?? ??? ??????.
Modules ?? ????? ??? ???????????? ??? ???????? ?? ??? ???????? ??????,
??????? ?? ??????????? ???????? ? ????????? ?????????? ??? ??????????
???.

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   <div class="navfooter">

--------------

+--------------------------------------------------------------------+--------------------------------+---------------------------------------------+
| `????? <kernelconfig-modules.html>`__?                             | `???? <kernelconfig.html>`__   | ?\ `??????? <kernelconfig-config.html>`__   |
+--------------------------------------------------------------------+--------------------------------+---------------------------------------------+
| 9.4. ??????????? ????????, ???????????? ??? ????????? (modules)?   | `???? <index.html>`__          | ?9.6. ?? ?????? ?????????                   |
+--------------------------------------------------------------------+--------------------------------+---------------------------------------------+

.. raw:: html

   </div>

???? ?? ???????, ??? ???? ???????, ?????? ?? ?????? ???
ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/

| ??? ????????? ??????? ?? ?? FreeBSD, ???????? ???
  `?????????? <http://www.FreeBSD.org/docs.html>`__ ???? ??
  ?????????????? ?? ??? <questions@FreeBSD.org\ >.
|  ??? ????????? ??????? ?? ???? ??? ??????????, ??????? e-mail ????
  <doc@FreeBSD.org\ >.
