<?xml version="1.0" encoding="iso-8859-7" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-7" /><title>12.5. Eκκινώντας Υπηρεσίες</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Εγχειρίδιο του FreeBSD" /><link rel="up" href="config-tuning.html" title="Κεφάλαιο 12. Ρύθμιση και Βελτιστοποίηση" /><link rel="prev" href="configtuning-appconfig.html" title="12.4. Ρύθμιση Εφαρμογών" /><link rel="next" href="configtuning-cron.html" title="12.6. Ρυθμίζοντας Το Πρόγραμμα cron" /><link rel="copyright" href="legalnotice.html" title="Νομική Σημείωση" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">12.5. Eκκινώντας Υπηρεσίες</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="configtuning-appconfig.html">Προηγ</a> </td><th width="60%" align="center">Κεφάλαιο 12. Ρύθμιση και Βελτιστοποίηση</th><td width="20%" align="right"> <a accesskey="n" href="configtuning-cron.html">Επόμενο</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="configtuning-starting-services"></a>12.5. Eκκινώντας Υπηρεσίες</h2></div><div><span class="authorgroup">Contributed by <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Tom</span> <span class="surname">Rhodes</span></span>. </span></div></div></div><a id="idp85484496" class="indexterm"></a><p>Πολλοί χρήστες επιλέγουν να εγκαταστήσουν λογισμικό απο τρίτους
      κατασκευαστές στο FreeBSD απο την συλλογή των Ports.  Σε πολλές απο αυτές
      τις περιπτώσεις μπορεί να είναι απαραίτητο να ρυθμίσουν το λογισμικό με
      τέτοιο τρόπο ώστε να μπορεί να επιτραπεί η εκκίνηση του κατα την
      εκκίνηση του συστήματος.  Υπηρεσίες, όπως
      το <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/mail/postfix/pkg-descr">mail/postfix</a> ή
      το <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/www/apache13/pkg-descr">www/apache13</a> είναι μόνο δύο απο
      τα πολλά πακέτα λογισμικού που μπορεί να χρειάζονται να εκκινηθούν κατά
      την εκκίνηση του συστήματος.  Το μέρος αυτό θα εξηγήσει τις διαθέσιμες
      διαδικασίες για την εκκίνηση λογισμικού προερχόμενο απο τρίτους
      κατασκευαστές.</p><p>Στο FreeBSD, οι περισσότερες περιεχόμενες υπηρεσίες, όπως το
      <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=cron&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">cron</span>(8)</span></a>, είναι εκκινήσιμες μέσα από τα σενάρια εκκίνησης του
      συστήματος.  Τα σενάρια αυτά μπορεί να διαφέρουν ανάλογα το FreeBSD ή την
      έκδοση του κατασκευαστή; ωστόσο, η πιο σημαντική πτυχή που πρέπει να
      εξεταστεί είναι ότι οι ρυθμίσεις εκκίνησης τους μπορούν να χειριστούν
      μέσα απο ένα απλό σενάριο εκκίνησης.</p><p>Πριν την έλευση του <code class="filename">rc.d</code>, οι εφαρμογές
      μπορούσαν να τοποθετήσουν ένα απλό σενάριο εκκίνησης μέσα στον
      κατάλογο <code class="filename">/usr/local/etc/rc.d</code> ο
      οποίος μπορούσε να διαβαστεί απο τα σενάρια εκκίνησης του συστήματος.
      Αυτά τα σενάρια μπορούσαν να εκτελεστούν κατα τα μετέπειτα στάδια
      εκκίνησης του συστήματος.</p><p>Ενώ πολλοί ιδιώτες ξόδευαν χρόνο προσπαθώντας να συνχωνεύσουν το
      παλιό στυλ ρυθμίσεων με το νέο στυλ, παραμένει γεγονός ότι μερικά
      προγράμματα ακόμα απαιτούν ένα σενάριο να τοποθετηθεί μέσα στον
      προαναφερθέντα κατάλογο.  Οι λεπτές διαφορές ανάμεσα στα σενάρια
      εξαρτώνται από το αν ή όχι ο <code class="filename">rc.d</code> χρησιμοποιείτε.
      Προγενέστερα του FreeBSD 5.1 το παλιό στυλ ρυθμίσεων χρησιμοποιούνταν
      και σχεδόν σε όλες τις περιπτώσεις ένα νέου στυλ σενάριο θα είναι
      συμβατό.</p><p>Ενώ κάθε σενάριο πρέπει να τηρεί ορισμένες ελάχιστες απαιτήσεις, τις
      περισσότερες φορές αυτές οι απαιτήσεις είναι ανεξάρτητες της έκδοσης του FreeBSD.
      Κάθε σενάριο πρέπει να έχει μια <code class="filename">.sh</code>
      επέκταση προσαρτημένη στο τέλος του και κάθε σενάριο πρέπει να είναι
      εκτελέσιμο απο το σύστημα.  Το δεύτερο μπορεί να επιτευχθεί χρησιμοποιώντας
      την <code class="command">chmod</code> εντολή και ρυθμίζοντας την άδεια
      <code class="literal">755</code>.  Εκεί πρέπει να υπάρχει, τουλάχιστον,
      μια επιλογή <code class="literal">start</code> και μία επιλογή
      <code class="literal">stop</code> για την εφαρμογή.</p><p>Το πιο απλό σενάριο εκκίνησης πιθανότατα να
      μοιάζει με το παρακάτω:</p><pre class="programlisting">#!/bin/sh
echo -n ' utility'

case "$1" in
start)
        /usr/local/bin/utility
        ;;
stop)
        kill -9 `cat /var/run/utility.pid`
        ;;
*)
        echo "Usage: `basename $0` {start|stop}" &gt;&amp;2
        exit 64
        ;;
esac

exit 0</pre><p>Το σενάριο αυτό παρέχει μια <code class="literal">stop</code> και μια
      <code class="literal">start</code> επιλογή για
      την εφαρμογή όπου στο παράδειγμα εδώ αναφέρεται σαν
      <code class="literal">utility</code>.</p><p>Μπορεί να εκκινηθεί χειρωνακτικά κάνοντας:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>/usr/local/etc/rc.d/utility.sh start</code></strong></pre><p>Παρόλο που δεν απαιτούν όλες οι εφαρμογές να προστεθεί μία εγγραφή στο
      <code class="filename">rc.conf</code>, σχεδόν καθημερινά και ένα νέο port θα
      τροποποιήτε για να δέχεται αυτή την ρύθμιση.  Ελέγξετε την τελική έξοδο
      της εγκατάστασης για περισσότερες πληροφορίες πάνω στην συγκεκριμένη
      εφαρμογή.  Μερικές εφαρμογές απο τρίτους κατασκευαστές παρέχουν σενάρια
      εκκίνησης τα οποία επιτρέπουν στην εφαρμογή να χρησιμοποιηθεί με
      το <code class="filename">rc.d</code>, παρόλα αυτα, αυτό θα συζητηθεί στο επόμενο
      μέρος.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp85500496"></a>12.5.1. Εκτεταμένη Ρύθμιση Εφαρμογών</h3></div></div></div><p>Πλέον το FreeBSD περιέχει το <code class="filename">rc.d</code>, η ρύθμιση της
	εκκίνησης των εφαρμογών έχει γίνει ευκολότερη, και πιο πλούσια σε
	χαρακτηρικά.  Χρησιμοποιώντας λέξεις κλειδία μέσα στον
	κατάλογο <a class="link" href="configtuning-rcd.html" title="12.7. Χρησιμοποιώντας Το Σύστημα rc Στο FreeBSD">rc.d</a>, οι εφαρμογές
	μπορούν πλέον να εκκινούν έπειτα απο συγκεκριμένες υπηρεσίες για
	παράδειγμα την <acronym class="acronym">DNS</acronym>, μπορεί να επιτραπεί η εισαγωγή
	επιπλέον παραμέτρων μέσα απο το <code class="filename">rc.conf</code> στην θέση
	των ήδη υπάρχoντον παραμέτρων απο τα σενάρια εκκινήσης, κτλπ.  Ένα
	βασικό σενάριο μπορεί να μοιάζει με το ακόλουθο:</p><pre class="programlisting">#!/bin/sh
#
# PROVIDE: utility
# REQUIRE: DAEMON
# KEYWORD: shutdown

. /etc/rc.subr

name=utility
rcvar=utility_enable

command="/usr/local/sbin/utility"

load_rc_config $name

#
# DO NOT CHANGE THESE DEFAULT VALUES HERE
# SET THEM IN THE /etc/rc.conf FILE
#
utility_enable=${utility_enable-"NO"}
pidfile=${utility_pidfile-"/var/run/utility.pid"}

run_rc_command "$1"</pre><p>Το σενάριο αυτό θα εξασφαλίσει ότι το
	πρόγραμμα <span class="application">utility</span> θα εκκινηθεί μετά απο
	την <code class="literal">daemon</code> υπηρεσία.  Θα εξασφαλίσει επιπλέον έναν
	τρόπο για την ρύθμιση και τον εντοπισμό του <acronym class="acronym">PID</acronym>, ή
	του αρχείου του <acronym class="acronym">ID</acronym> της διεργασίας.</p><p>Η εφαρμογή μπορεί πλέον να έχει την παρακάτω γραμμή τοποθετημένη
	στο <code class="filename">/etc/rc.conf</code>:</p><pre class="programlisting">utility_enable="YES"</pre><p>Ο νέος αυτός τρόπος επιτρέπει επιπλέον τον ευκολότερο χειρισμό των
	παραμέτρων της γραμμής εντολών, σε συνδυασμό με τις προυπάρχουσες
	λειτουργίες παρεχόμενες απο το <code class="filename">/etc/rc.subr</code>, τη
	συμβατότητα με το βοηθητικό πρόγραμμα <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=rcorder&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">rcorder</span>(8)</span></a> και επιπλέον την
	ευκολότερη ρύθμιση μέσω του <code class="filename">rc.conf</code>
	αρχείου.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp85578448"></a>12.5.2. Χρησιμοποιώντας Υπηρεσίες Για Την Εκκίνηση Υπηρεσιών</h3></div></div></div><p>Άλλες υπηρεσίες, όπως ο δαίμονας του
	εξυπηρετή <acronym class="acronym">POP</acronym>3, <acronym class="acronym">IMAP</acronym>,
	κτλπ. μπορούν να εκκινηθούν χρησιμοποιώντας το <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=inetd&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">inetd</span>(8)</span></a>.  Αυτό
	απαιτεί την εγκατάσταση του βοηθητικού προγράμματος υπηρεσιών απο την
	Ports συλλογή και μια γραμμή ρυθμίσεων προσαρτημένη στο
	αρχείο <code class="filename">/etc/inetd.conf</code>, ή αποχαρακτηρίζοντας μια
	απο τις ήδη υπάρχουσες γραμμές ρυθμίσεων.  Δουλεύοντας με
	το <span class="application">inetd</span> και τις ρυθμίσεις του περιγράφεται
	αναλυτικά στο μέρος <a class="link" href="network-inetd.html" title="29.2. The inetd «Super-Server»">inetd</a>.</p><p>Σε πολλές περιπτώσεις, είναι εύλογο να χρησιμοποιείτε ο δαίμονας
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=cron&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">cron</span>(8)</span></a> για την εκκίνηση των υπηρεσιών του συστήματος.  Η
	προσέγγιση αυτή έχει έναν αριθμό πλεονεκτημάτων γιατί
	το <code class="command">cron</code> τρέχει τις διεργασίες σαν ιδιοκτήτης
	του <code class="filename">crontab</code> αρχείου.  Αυτό επιτρέπει στους
	κανονικούς χρήστες να εκκινούν και να διαχειρίζονται μερικές
	εφαρμογές.</p><p>Το βοηθητικό πρόγραμμα <code class="command">cron</code> παρέχει ένα
	μοναδικό χαρακτηριστικό, το <code class="literal">@reboot</code>, το οποίο
	μπορεί να χρησιμοποιηθεί στην θέση του χρονικού ορισμού.  Αυτό θα
	κάνει την εργασία να τρέξει όταν το <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=cron&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">cron</span>(8)</span></a> εκκινηθεί, συνήθως
	κατά την εκκίνηση του συστήματος.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="configtuning-appconfig.html">Προηγ</a> </td><td width="20%" align="center"><a accesskey="u" href="config-tuning.html">Πάνω</a></td><td width="40%" align="right"> <a accesskey="n" href="configtuning-cron.html">Επόμενο</a></td></tr><tr><td width="40%" align="left" valign="top">12.4. Ρύθμιση Εφαρμογών </td><td width="20%" align="center"><a accesskey="h" href="index.html">Αρχή</a></td><td width="40%" align="right" valign="top"> 12.6. Ρυθμίζοντας Το Πρόγραμμα <code class="command">cron</code></td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Αυτό το κείμενο, και άλλα κείμενα, μπορεί να βρεθεί στο
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Για ερωτήσεις σχετικά με το FreeBSD, διαβάστε την
    <a href="http://www.FreeBSD.org/docs.html">τεκμηρίωση</a> πριν να επικοινωνήσετε με την
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Για ερωτήσεις σχετικά με αυτή την τεκμηρίωση, στείλτε e-mail στην
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>