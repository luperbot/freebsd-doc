==========================
28.3. ??????? ??? sendmail
==========================

.. raw:: html

   <div class="navheader">

28.3. ??????? ??? sendmail
`????? <mail-using.html>`__?
???????? 28. ??????????? ???????????
?\ `??????? <mail-changingmta.html>`__

--------------

.. raw:: html

   </div>

.. raw:: html

   <div class="sect1">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

28.3. ??????? ??? sendmail
--------------------------

.. raw:: html

   </div>

.. raw:: html

   <div>

?????????? ??? Christopher Shumway.

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

??
`sendmail(8) <http://www.FreeBSD.org/cgi/man.cgi?query=sendmail&sektion=8>`__
????? ? ?????????????? ???????????? ????????? ???????????? (Mail
Transfer Agent, MTA) ??? FreeBSD. ??????? ??? ????? ?? ??????? ?? email
??? ???? ????????????? Email ?????? (Mail User Agents, MUA) ??? ?? ??
????????? ??? ????????? mailer ??? ???????? ??? ?????? ????????? ???. ??
sendmail ?????? ?????? ?? ?????? ????????? ??????? ??? ?? ????????? ??
mail ?? ??????? ??????? ? ??? ?? ?????? ???? ?????????.

?? sendmail ???????????? ?? ???????? ?????? ?????????:

.. raw:: html

   <div class="informaltable">

+----------------------------------+-------------------------------------------------------------------+
| ????? ???????                    | ??????????                                                        |
+==================================+===================================================================+
| ``/etc/mail/access``             | ? ???? ????????? ????????? ??? sendmail.                          |
+----------------------------------+-------------------------------------------------------------------+
| ``/etc/mail/aliases``            | ????????? (aliases) ??? ??? ??????? (Mailboxes)                   |
+----------------------------------+-------------------------------------------------------------------+
| ``/etc/mail/local-host-names``   | ????? ??? ??????????? ??? ???? ??????? ?? sendmail ??????? mail   |
+----------------------------------+-------------------------------------------------------------------+
| ``/etc/mail/mailer.conf``        | ????????? ??? ???????????? mailer                                 |
+----------------------------------+-------------------------------------------------------------------+
| ``/etc/mail/mailertable``        | ??????? ?????????? ??? mailer                                     |
+----------------------------------+-------------------------------------------------------------------+
| ``/etc/mail/sendmail.cf``        | ?? ???????? ?????? ????????? ??? sendmail                         |
+----------------------------------+-------------------------------------------------------------------+
| ``/etc/mail/virtusertable``      | ??????? ????????? ??????? ??? ???????? (domains)                  |
+----------------------------------+-------------------------------------------------------------------+

.. raw:: html

   </div>

.. raw:: html

   <div class="sect2">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

28.3.1. ``/etc/mail/access``
~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

? ???? ????????? ????????? ????????? ????? ??????????? ? ??????????? IP
????? ???????? ???? ?????? ??????????? mail ??? ?? ?????? ????????
?????. ? ?????????? ???? ?????????? ?????? ?? ???? ??? ???????? ``OK``,
``REJECT``, ``RELAY`` ? ???? ?? ??????????? ??? ?????? ??? ???????
??????????? ????? ??? sendmail ?? ?????? ???????????? ??????. ??
??????????? ??? ????? ????????????? ?? ??? ??????? ``OK``, ? ????? ?????
??? ? ?????????????, ??????????? ?? ???????? email ?? ???? ???
??????????, ?????? ? ??????? ?????????? ??? ????????? ????? ?? ??????
????????. ?? ??????????? ??? ????? ????????????? ?? ??? ???????
``REJECT`` ????????????? ??? ??????????? ??????????? ???? ?? ????? ??
???????? mail. ?? ??????????? ??? ????? ????????????? ?? ??? ???????
``RELAY``, ????? ?? ?????????? ?? ???????? mail ???? ???????????
?????????? ???? ??? ????????????? ???????????.

.. raw:: html

   <div class="example">

.. raw:: html

   <div class="example-title">

?????????? 28.1. ??????? ??? ????? ????????? ????????? ??? sendmail

.. raw:: html

   </div>

.. raw:: html

   <div class="example-contents">

.. code:: programlisting

    cyberspammer.com                550 We do not accept mail from spammers
    FREE.STEALTH.MAILER@            550 We do not accept mail from spammers
    another.source.of.spam          REJECT
    okay.cyberspammer.com           OK
    128.32                          RELAY

.. raw:: html

   </div>

.. raw:: html

   </div>

?? ???? ?? ?????????? ?????? ????? ????????????. ?? ??????????? ???
????????? ???? ???????? ?????? ??? ??????, ???????????? ??? ?? ????????
??? ???????? ??? ????? ??????. ?? ????? ??? ????????????, ???????????
??? ?????? ????????? ??? ??????? ??????????? ????? ??? sendmail. ??
?????? ??????????? ???? ????????????? ??????????, ???? ?? mail ???
?????????? ?????? ?? ?????? ??? ??? ?????????? ??? ????????? ??????? ???
??????. ? ??????? ?????????? ?????????? ??? ???????? mail ??? ???
???????????? ?????????? ??? Internet, ??? ``another.source.of.spam``. ?
??????? ?????????? ????? ?????? ??? ????????? mail ??? ??? ??????????
``okay.cyberspammer.com``, ?? ????? ??? ?????? ??????????????
??????????? ?? ????? ?? ?? ?????? ``cyberspammer.com`` ??? ??????
????????. ??????? ??? ?????????? ??????? ?? ?????????? ????????, ?????
????????????? ?? ????? ?? ??? ??????????. ? ????????? ??????????
????????? ??? ??????????? (relaying) ???????????? ???????????? ???
??????????? ?? ??????????? IP ??? ???????? ?? ``128.32``. ?? ???????????
?????, ??????? ?? ???????? mail ???? ??? ????????????? ???????????, ??
????? ?? ???????????? ?? ?????? ???????????? ????????????.

?? ????????? ????????? ????? ??? ???????, ?? ?????? ?? ?????????? ???
?????? ``make`` ???? ???????? ``/etc/mail/`` ??? ?? ?????????? ?? ????
?????????.

.. raw:: html

   </div>

.. raw:: html

   <div class="sect2">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

28.3.2. ``/etc/mail/aliases``
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

? ???? ????????? ??? ?????????? (aliases), ???????? ??? ????? ???
????????? ??????? ???????????? ??? ????????????? ?? ?????? ???????,
?????? ? ??? ???? ?????????. ?????? ???????????? ?????? ???
``/etc/mail/aliases`` ????????? ????????:

.. raw:: html

   <div class="example">

.. raw:: html

   <div class="example-title">

?????????? 28.2. ????????? Mail

.. raw:: html

   </div>

.. raw:: html

   <div class="example-contents">

.. code:: programlisting

    root: localuser
    ftp-bugs: joe,eric,paul
    bit.bucket:  /dev/null
    procmail: "|/usr/local/bin/procmail"

.. raw:: html

   </div>

.. raw:: html

   </div>

? ????? ??? ??????? ????? ????. ?? ????? ??? ??????? ????????? ????
???????? ?????? ??? ???-???? ???????, ??? ???????????? ???? ?????????
??? ????????? ??? ????? ??????. ?? ????? ??????????, ?????? ??? ? ??????
??? ?????? ``root`` ?? ????? ???? ?????????????? ? ?????? ``localuser``.
??? ??? ?????? ????, ??????? ???? ????????? ??? ???? ????????? ???
??????????. ?? ??? ?????? ???? ????? ??? ?? ?????????, ?? ?????? ??
????????? ???? ?????? ?????? ``localuser``. ?? ??????? ??????????
??????? ??? ????? ????????????. ?? ???????? ??? ???????????? ??? ??????
``ftp-bugs``, ????????????? ?? ????? ??????? ???????, ??? ``joe``,
``eric`` ??? ``paul``. ????????? ??? ????? ??????? ?? ?????????? ???
????????????? ?????? ??????????????? ?? ????? ``<user@example.com>``. ??
??????? ??????????, ??????? ??? ?????? ?? ????? ??????? ??? mail ?? ???
??????, ??? ???????????? ????????? ?? ``/dev/null``. ?? ?????????
??????????, ??????? ??? ??????? ? ???????? mail ???? ??? ?????????. ???
?????????? ????, ?? ?????? ???????? ???? ???????????? ?????? (standard
input) ??? ???????????? ``/usr/local/bin/procmail`` ??????????????? ???
UNIX(R) pipe.

???? ???? ??? ??????? ????????? ????? ??? ???????, ?? ?????? ??
????????? ??? ?????? ``make`` ???? ???????? ``/etc/mail/``, ???? ??
?????????? ? ???? ?????????.

.. raw:: html

   </div>

.. raw:: html

   <div class="sect2">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

28.3.3. ``/etc/mail/local-host-names``
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

????????? ??? ??? ????? ??? ??????? ???????????, ??? ????? ??
`sendmail(8) <http://www.FreeBSD.org/cgi/man.cgi?query=sendmail&sektion=8>`__
?? ??????? ?? ??????? ??? ?? ?????? ????????. ??????????? ?? ????? ??
??????? ??? ??????????? ? ??? ?????? ??? ???? ??????? ?????? ?? sendmail
?? ???????? mail. ??? ??????????, ?? ? ????????????? ???????????? mail
????????? ?? ???????? mail ??? ??? ????? ``example.com`` ??? ??? ???
?????????? ``mail.example.com``, ?? ?????? ``local-host-names`` ??
??????? ?? ?? ????????:

.. code:: programlisting

    example.com
    mail.example.com

???? ???? ??? ???????????? ???? ?? ??????, ?? ?????? ?? ???????
???????????? ???
`sendmail(8) <http://www.FreeBSD.org/cgi/man.cgi?query=sendmail&sektion=8>`__
??? ?? ???????? ??? ???????.

.. raw:: html

   </div>

.. raw:: html

   <div class="sect2">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

28.3.4. ``/etc/mail/sendmail.cf``
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

?? ``sendmail.cf`` ????? ?? ???????? ?????? ????????? ??? sendmail. ??
?????? ???? ???????? ?? ???????? ??????????? ??? sendmail, ???
???????????? ?????? ????? ??? ??????????? ??????????? ??? ??? ????????
????????? ????????? ???? ??????????????? ???????????? mail. ????? ??
?????? ???? ???????? ???? ???????????? ?????????, ????? ?????? ?? ?????
?????? ????????? ??? ?? ???????????? ??? ????? ??? ??? ?? ????? ?????
??? ????????. ???????, ???? ?? ?????? ?????? ?????????? ?? ???????? ??
???????? ???????????? mail.

?? ?????? ?????? ????????? ??? sendmail ?????? ?? ???????? ?? ?? ???????
???????????? ?????
`m4(1) <http://www.FreeBSD.org/cgi/man.cgi?query=m4&sektion=1>`__ ???
?????????? ?? ??????????? ??? ?? ?????????????? ??? sendmail. ???
???????????? ???????????, ??????????? ???????? ??
``/usr/src/contrib/sendmail/cf/README``.

??? ?? ???????? ?? ??????? ??? ?????? ?? ???? ?? ??????, ?? ?????? ??
?????????????? ?? sendmail.

.. raw:: html

   </div>

.. raw:: html

   <div class="sect2">

.. raw:: html

   <div class="titlepage" xmlns="">

.. raw:: html

   <div>

.. raw:: html

   <div>

28.3.5. ``/etc/mail/virtusertable``
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

?? ?????? ``virtusertable`` ??????????? ??????????? mail ?????????
?????? ?? ??????????? ??????? ????????????. ?? ??????? ????? ?????? ??
????? ???????, ??????????????, ????????? ??? ????? ??????? ???
``/etc/mail/aliases``, ? ??????.

.. raw:: html

   <div class="example">

.. raw:: html

   <div class="example-title">

?????????? 28.3. ?????????? ????????????? Mail ????????? ?????

.. raw:: html

   </div>

.. raw:: html

   <div class="example-contents">

.. code:: programlisting

    root@example.com                root
    postmaster@example.com          postmaster@noc.example.net
    @example.com                    joe

.. raw:: html

   </div>

.. raw:: html

   </div>

??? ???????? ??????????, ?????? ??? ???????????? ??? ??? ?????
``example.com``. ? ??????????? ????? ??? ??????? ??????? ??? ???? ????
?? ????, ??? ????????? ???? ?????? ??? ?????? ???????? ??? ?????????. ?
????? ?????? ??? ?????????????, ??????????? ?? ``<root@example.com>``
???? ?????? ?????? ``root``. ? ??????? ?????????? ??????????? ??
``<postmaster@example.com>`` ??? ?????? ``postmaster`` ???? ??????????
``noc.example.net``. ?????, ?? ??? ?????? ????? ???????????? ??? ???
????? ``example.com``, ?? ?????????? ? ????????? ????????????, ? ?????
????????? ?? ??????????? mail ??????? ???? ??? ????? ``example.com``.
???? ????????? ????, ?? ?????? ?? ????????? ???? ?????? ?????? ``joe``.

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   <div class="navfooter">

--------------

+-----------------------------------------------------+-------------------------+------------------------------------------------------------------+
| `????? <mail-using.html>`__?                        | `???? <mail.html>`__    | ?\ `??????? <mail-changingmta.html>`__                           |
+-----------------------------------------------------+-------------------------+------------------------------------------------------------------+
| 28.2. ??????????????? ?? ??????????? ????????????   | `???? <index.html>`__   | ?28.4. ?????????? ??? ??????????? ????????? ???????????? (MTA)   |
+-----------------------------------------------------+-------------------------+------------------------------------------------------------------+

.. raw:: html

   </div>

???? ?? ???????, ??? ???? ???????, ?????? ?? ?????? ???
ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/

| ??? ????????? ??????? ?? ?? FreeBSD, ???????? ???
  `?????????? <http://www.FreeBSD.org/docs.html>`__ ???? ??
  ?????????????? ?? ??? <questions@FreeBSD.org\ >.
|  ??? ????????? ??????? ?? ???? ??? ??????????, ??????? e-mail ????
  <doc@FreeBSD.org\ >.
