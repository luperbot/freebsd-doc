<?xml version="1.0" encoding="iso-8859-7" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-7" /><title>28.7. SMTP με UUCP</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Εγχειρίδιο του FreeBSD" /><link rel="up" href="mail.html" title="Κεφάλαιο 28. Ηλεκτρονικό Ταχυδρομείο" /><link rel="prev" href="mail-advanced.html" title="28.6. Προχωρημένα Θέματα" /><link rel="next" href="outgoing-only.html" title="28.8. Ρύθμιση Εξυπηρετητή Μόνο για Αποστολή" /><link rel="copyright" href="legalnotice.html" title="Νομική Σημείωση" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">28.7. SMTP με UUCP</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="mail-advanced.html">Προηγ</a> </td><th width="60%" align="center">Κεφάλαιο 28. Ηλεκτρονικό Ταχυδρομείο</th><td width="20%" align="right"> <a accesskey="n" href="outgoing-only.html">Επόμενο</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="SMTP-UUCP"></a>28.7. SMTP με UUCP</h2></div></div></div><p>Η προεπιλεγμένη ρύθμιση του <span class="application">sendmail</span>
      που έρχεται με το FreeBSD, προορίζεται για δικτυακές τοποθεσίες που είναι
      απευθείας συνδεδεμένες στο Internet.  Σε περιπτώσεις που είναι
      επιθυμητή η ανταλλαγή email μέσω UUCP, θα πρέπει να χρησιμοποιηθεί
      διαφορετικό αρχείο ρυθμίσεων για το
      <span class="application">sendmail</span>.</p><p>Η χειροκίνητη ρύθμιση του αρχείου
      <code class="filename">/etc/mail/sendmail.cf</code> ανήκει στα προχωρημένα
      θέματα.  Η έκδοση 8 του <span class="application">sendmail</span> παράγει
      αρχεία ρυθμίσεων μέσω του προεπεξεργαστή <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=m4&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">m4</span>(1)</span></a>, όπου οι ρυθμίσεις
      γίνονται σε ένα ανώτερο επίπεδο αφαίρεσης.  Μπορείτε να βρείτε τα
      αρχεία ρύθμισης του<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=m4&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">m4</span>(1)</span></a> στον κατάλογο
      <code class="filename">/usr/share/sendmail/cf</code>.  Διαβάστε το
      <code class="filename">README</code> στον κατάλογο <code class="filename">cf</code>
      για μια βασική εισαγωγή στις ρυθμίσεις του <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=m4&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">m4</span>(1)</span></a>.</p><p>Ο καλύτερος τρόπος για την παράδοση mail μέσω του UUCP, είναι με
      την χρήση της δυνατότητας <code class="literal">mailertable</code>.  Παράγεται με
      αυτό τον τρόπο μια βάση δεδομένων που μπορεί να χρησιμοποιήσει το
      <span class="application">sendmail</span> για να πάρει αποφάσεις σχετικά
      με την δρομολόγηση.</p><p>Θα πρέπει αρχικά να δημιουργήσετε το αρχείο
      <code class="filename">.mc</code>.  Θα βρείτε μερικά παραδείγματα στον κατάλογο
      <code class="filename">/usr/share/sendmail/cf/cf</code>.
      Υποθέτοντας ότι έχετε ονομάσει το αρχείο σας
      <code class="filename">foo.mc</code>, το μόνο που χρειάζεται να κάνετε για να
      το μετατρέψετε σε ένα έγκυρο αρχείο <code class="filename">sendmail.cf</code>
      είναι:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cd /etc/mail</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>make foo.cf</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>cp foo.cf /etc/mail/sendmail.cf</code></strong></pre><p>Ένα τυπικό αρχείο <code class="filename">.mc</code> θα δείχνει όπως το
      παρακάτω:</p><pre class="programlisting">VERSIONID(`<em class="replaceable"><code>Your version number</code></em>') OSTYPE(bsd4.4)

FEATURE(accept_unresolvable_domains)
FEATURE(nocanonify)
FEATURE(mailertable, `hash -o /etc/mail/mailertable')

define(`UUCP_RELAY', <em class="replaceable"><code>your.uucp.relay</code></em>)
define(`UUCP_MAX_SIZE', 200000)
define(`confDONT_PROBE_INTERFACES')

MAILER(local)
MAILER(smtp)
MAILER(uucp)

Cw    <em class="replaceable"><code>your.alias.host.name</code></em>
Cw    <em class="replaceable"><code>youruucpnodename.UUCP</code></em></pre><p>Οι γραμμές που περιέχουν τις δυνατότητες
      <code class="literal">accept_unresolvable_domains</code>,
      <code class="literal">nocanonify</code>, and
      <code class="literal">confDONT_PROBE_INTERFACES</code> θα αποτρέψουν τη χρήση
      του DNS κατά την παράδοση του mail.  Η οδηγία
      <code class="literal">UUCP_RELAY</code> απαιτείται για την υποστήριξη παράδοσης
      μέσω του UUCP.  Απλώς τοποθετήστε εκεί ένα όνομα μηχανήματος στο
      Internet που να μπορεί να χειριστεί διευθύνσεις ψευδο-τομέων .UUCP.
      Το πιο πιθανό είναι να βάλετε εκεί τον αναμεταδότη (relay) για mail
      που παρέχει ο ISP σας.</p><p>Έχοντας κάνει το παραπάνω, θα χρειαστείτε ένα αρχείο
      <code class="filename">/etc/mail/mailertable</code>.  Αν έχετε μόνο μια σύνδεση
      με τον έξω κόσμο που χρησιμοποιείται για όλα σας τα mail, το παρακάτω
      αρχείο είναι επαρκές:</p><pre class="programlisting">#
# makemap hash /etc/mail/mailertable.db &lt; /etc/mail/mailertable
.                             uucp-dom:<em class="replaceable"><code>your.uucp.relay</code></em></pre><p>Ένα πιο πολύπλοκο παράδειγμα θα μοιάζει με το παρακάτω:</p><pre class="programlisting">#
# makemap hash /etc/mail/mailertable.db &lt; /etc/mail/mailertable
#
horus.interface-business.de   uucp-dom:horus
.interface-business.de        uucp-dom:if-bus
interface-business.de         uucp-dom:if-bus
.heep.sax.de                  smtp8:%1
horus.UUCP                    uucp-dom:horus
if-bus.UUCP                   uucp-dom:if-bus
.                             uucp-dom:</pre><p>Οι τρεις πρώτες γραμμές χειρίζονται ειδικές περιπτώσεις, όπου το
      mail που απευθύνεται σε κάποιο τομέα δεν θα πρέπει να σταλθεί στην
      προεπιλεγμένη διαδρομή, αλλά αντίθετα σε κάποιο γειτονικό UUCP
      προκειμένου να <span class="quote">«<span class="quote">συντομευθεί</span>»</span> το μονοπάτι παράδοσης.
      Η επόμενη γραμμή χειρίζεται το mail προς τον τοπικό τομέα Ethernet,
      όπου είναι δυνατή η παράδοση μέσω SMTP.  Τέλος, οι γειτονικοί UUCP
      αναφέρονται με γραφή ψευδο-τομέων UUCP ώστε να επιτρέπεται σε κάποιον
      <code class="literal">uucp-neighbor
      !recipient</code>
      να παρακάμψει τους προεπιλεγμένους κανόνες.  Η τελευταία γραμμή είναι
      πάντα μια μοναδική τελεία, η οποία ταιριάζει με οτιδήποτε άλλο, με
      παράδοση UUCP σε ένα γειτονικό UUCP ο οποίος ενεργεί ως γενική πύλη
      mail προς τον υπόλοιπο κόσμο.  Όλα τα ονόματα υπολογιστών που
      βρίσκονται μετά το <code class="literal">uucp-dom:</code> θα πρέπει να είναι
      έγκυροι UUCP γείτονες, όπως μπορείτε να βεβαιώσετε χρησιμοποιώντας
      το <code class="literal">uuname</code>.</p><p>Σας υπενθυμίζουμε ότι αυτό το αρχείο πρέπει να μετατραπεί σε μια
      βάση δεδομένων DBM πριν χρησιμοποιηθεί.  Μπορείτε να βάλετε τη γραμμή
      εντολών που απαιτείται για να επιτευχθεί αυτό ως σχόλιο στην αρχή
      του αρχείου <code class="filename">mailertable</code>.  Πρέπει πάντοτε να
      εκτελείτε αυτή την εντολή κάθε φορά που αλλάζετε το αρχείο
      <code class="filename">mailertable</code>.</p><p>Μια τελευταία υπόδειξη: αν δεν είστε βέβαιοι για το αν θα
      λειτουργήσει κάποια συγκεκριμένη δρομολόγηση mail, θυμηθείτε την επιλογή
      <code class="option">-bt</code> του <span class="application">sendmail</span>.  Αυτή
      ξεκινάει το <span class="application">sendmail</span> σε
      <span class="emphasis"><em>κατάσταση δοκιμής διευθύνσεων</em></span>.  Γράψτε
      <code class="literal">3,0</code>, ακολουθούμενο από τη διεύθυνση που θέλετε να
      ελέγξετε για δρομολόγηση mail.  Η τελευταία γραμμή θα σας πει τον
      εσωτερικό αντιπρόσωπο mail που χρησιμοποιήθηκε, τη διεύθυνση προορισμού
      με την οποία κλήθηκε, καθώς και την (πιθανώς μεταφρασμένη) διεύθυνση.
      Μπορείτε να βγείτε από αυτή την κατάσταση, πληκτρολογώντας
      <span class="keycap"><strong>Ctrl</strong></span>+<span class="keycap"><strong>D</strong></span>.</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>sendmail -bt</code></strong>
ADDRESS TEST MODE (ruleset 3 NOT automatically invoked)
Enter &lt;ruleset&gt; &lt;address&gt;
<code class="prompt">&gt;</code> <strong class="userinput"><code>3,0 foo@example.com</code></strong>
canonify           input: foo @ example . com
...
parse            returns: $# uucp-dom $@ <em class="replaceable"><code>your.uucp.relay</code></em> $: foo &lt; @ example . com . &gt;
<code class="prompt">&gt;</code> <strong class="userinput"><code>^D</code></strong></pre></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="mail-advanced.html">Προηγ</a> </td><td width="20%" align="center"><a accesskey="u" href="mail.html">Πάνω</a></td><td width="40%" align="right"> <a accesskey="n" href="outgoing-only.html">Επόμενο</a></td></tr><tr><td width="40%" align="left" valign="top">28.6. Προχωρημένα Θέματα </td><td width="20%" align="center"><a accesskey="h" href="index.html">Αρχή</a></td><td width="40%" align="right" valign="top"> 28.8. Ρύθμιση Εξυπηρετητή Μόνο για Αποστολή</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Αυτό το κείμενο, και άλλα κείμενα, μπορεί να βρεθεί στο
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Για ερωτήσεις σχετικά με το FreeBSD, διαβάστε την
    <a href="http://www.FreeBSD.org/docs.html">τεκμηρίωση</a> πριν να επικοινωνήσετε με την
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Για ερωτήσεις σχετικά με αυτή την τεκμηρίωση, στείλτε e-mail στην
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>