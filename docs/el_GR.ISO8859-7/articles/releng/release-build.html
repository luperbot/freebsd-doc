<?xml version="1.0" encoding="iso-8859-7" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-7" /><title>3. Μεταγλώττιση της Έκδοσης</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Η Οργάνωση των Εκδόσεων του FreeBSD" /><link rel="up" href="index.html" title="Η Οργάνωση των Εκδόσεων του FreeBSD" /><link rel="prev" href="release-proc.html" title="2. Η Διαδικασία Δημιουργίας μιας Έκδοσης" /><link rel="next" href="distribution.html" title="4. Διανομή των Εκδόσεων" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">3. Μεταγλώττιση της Έκδοσης</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="release-proc.html">Προηγ</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="distribution.html">Επόμενο</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="release-build"></a>3. Μεταγλώττιση της Έκδοσης</h2></div></div></div><p>Οι <span class="quote">«<span class="quote">εκδόσεις</span>»</span> του FreeBSD μπορούν να μεταγλωττιστούν από
    οποιονδήποτε έχει ένα σχετικά γρήγορο μηχάνημα και πρόσβαση στο repository
    του πηγαίου κώδικα.  (Όλοι έχουν αυτή τη δυνατότητα, αφού παρέχουμε
    πρόσβαση  μέσω ανώνυμου CVS!  Δείτε το Εγχειρίδιο του FreeBSD για
    περισσότερες λεπτομέρειες.)  Η μόνη ειδική απαίτηση είναι να υπάρχει
    υποστήριξη στον πυρήνα σας για την συσκευή <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=vn&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">vn</span>(4)</span></a>.  (Στο -CURRENT,
    αυτή η συσκευή έχει αντικατασταθεί από την νέα συσκευή δίσκου βασισμένου
    σε μνήμη <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=md&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">md</span>(4)</span></a>.)  Αν η συσκευή δεν είναι ενσωματωμένη στον πυρήνα
    σας, τότε ο κατάλληλος οδηγός θα φορτωθεί αυτόματα όταν εκτελεστεί η
    εντολή <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=vnconfig&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">vnconfig</span>(8)</span></a> κατά τη διάρκεια της φάσης ετοιμασίας του μέσου
    εκκίνησης.  Όλα τα εργαλεία που χρειάζονται για να μεταγλωττίσετε μια
    έκδοση είναι διαθέσιμα σε μορφή πηγαίου κώδικα στον κατάλογο
    <code class="filename">src/release</code>.  Αυτά τα εργαλεία έχουν ως σκοπό να
    παρέχουν ότι χρειάζεται για να χτίζονται οι εκδόσεις του FreeBSD με ένα
    συνεπή και συγκεκριμένο τρόπο.  Μια πλήρης έκδοση μπορεί να μεταγλωττιστεί
    χρησιμοποιώντας αυτά τα εργαλεία με μια και μόνο εντολή,
    συμπεριλαμβανομένης και της δημιουργίας ενός <acronym class="acronym">ISO</acronym>
    αρχείου κατάλληλο για να καεί σε CDROM, οι δισκέττες εκκίνησης, καθώς και
    ο κατάλληλος εγκατάστασης μέσω FTP.  Αυτή η εντολή είναι φυσική η
    <code class="command">make release</code>.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp72267216"></a>3.1. Η εντολή <code class="command">make release</code></h3></div></div></div><p>Για να μεταγλωττίσετε επιτυχώς μια έκδοση, πρέπει πρώτα να υπάρχουν
      τα κατάλληλα αρχεία μέσα στον κατάλογο <code class="filename">/usr/obj</code>.
      Μπορείτε να τα δημιουργήσετε είτε με την εντολή <code class="command">make
      world</code> ή απλά <code class="command">make buildworld</code>.  Για να
      πετύχει επίσης η μεταγλώττιση της έκδοσης πρέπει να δώσετε τις
      κατάλληλες τιμές και σε κάποιες μεταβλητές:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="varname">CHROOTDIR</code> - Ο κατάλογος που θα χρησιμοποιηθεί
	  σαν περιβάλλον chroot για όλη την μεταγλώττιση της έκδοσης.</p></li><li class="listitem"><p><code class="varname">BUILDNAME</code> - Το όνομα της έκδοσης που θα
	  μεταγλωττίσετε.</p></li><li class="listitem"><p><code class="varname">CVSROOT</code> - Ο κατάλογος στον οποίο βρίσκεται το
	  CVS repository.</p></li><li class="listitem"><p><code class="varname">RELEASETAG</code> - Η ετικέτα CVS που αντιστοιχεί
	  στην έκδοση την οποία θέλετε να μεταγλωττίσετε.</p></li></ul></div><p>Αν δεν έχετε ήδη πρόσβαση σε κάποιο τοπικό CVS repository με τον
      κώδικα του FreeBSD, μπορείτε πάντα να φτιάξετε το δικό σας τοπικό CVS
      mirror με το <a class="link" href="http://www.FreeBSD.org/doc/en_US.ISO8859-1/books/handbook/synching.html#CVSUP" target="_top">CVSup</a>.
      Υπάρχει ένα supfile, στο αρχείο
      <code class="filename">/usr/share/examples/cvsup/cvs-supfile</code>,
      το οποίο μπορείτε να χρησιμοποιήσετε για να αντιγράψετε το CVS
      repository του FreeBSD στο δικό σας τοπικό mirrror.</p><p>Αν παραλείψετε την ετικέτα <code class="varname">RELEASETAG</code>, τότε θα
      μεταγλωττιστεί μια πλήρης έκδοση από την κορυφή του
      <code class="literal">HEAD</code> (δηλ. του -CURRENT) κορμού.  Οι εκδόσεις που
      φτιάχνονται από αυτόν τον κορμό, συνήθως αναφέρονται σαν <span class="quote">«<span class="quote">-CURRENT
      snapshots</span>»</span>.</p><p>Υπάρχουν και πολλές άλλες μεταβλητές που μπορούν να χρησιμοποιηθούν
      για να παραμετροποιήσετε την έκδοσή σας.  Οι πιο πολλές από αυτές τις
      μεταβλητές περιγράφονται στην κορυφή του αρχείου
      <code class="filename">src/release/Makefile</code>.  Η ακριβής εντολή που
      χρησιμοποιήθηκε για να φτιαχτεί η επίσημη έκδοση 4.7 του FreeBSD
      (x86 πλατφόρμα) ήταν:</p><pre class="screen"><code class="command">make release CHROOTDIR=/local3/release \
       BUILDNAME=4.7-RELEASE \
       CVSROOT=/host/cvs/usr/home/ncvs \
       RELEASETAG=RELENG_4_7_0_RELEASE</code></pre><p>Το <code class="filename">Makefile</code> που χρησιμοποιείται για να
      μεταγλωττίζονται οι εκδόσεις μπορεί να χωριστεί σε αρκετά ξεχωριστά
      μεταξύ τους βήματα.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Δημιουργία ενός καθαρού περιβάλλοντος σε μια ξεχωριστή ιεραρχία
	  καταλόγων με την εντολή <span class="quote">«<span class="quote"><code class="command">make
	  installworld</code></span>»</span>.</p></li><li class="listitem"><p>Εξαγωγή από το CVS μιας καινούριας έκδοσης του πηγαίου κώδικα
	  του συστήματος, της τεκμηρίωσης και των ports μέσα στην ιεραρχία
	  καταλόγων μεταγλώττισης της έκδοσης.</p></li><li class="listitem"><p>Ρυθμίσεις των αρχείων στον κατάλογο <code class="filename">/etc</code>
	  και <code class="filename">/dev</code> μέσα στο περιβάλλον chroot.</p></li><li class="listitem"><p>Εκτέλεση της εντολής <code class="command">chroot</code> μέσα στην
	  ιεραρχία καταλόγων που ετοιμάστηκε, για να μην μπορεί το εξωτερικό
	  περιβάλλον να επηρεάσει τη μεταγλώττιση της έκδοσης.</p></li><li class="listitem"><p>Εκτέλεση της εντολής <code class="command">make world</code> μέσα στο
	  περιβάλλον chroot.</p></li><li class="listitem"><p>Μεταγλώττιση των εκτελέσιμων που είναι σχετικά με το σύστημα
	  Kerberos.</p></li><li class="listitem"><p>Μεταγλώττιση του πυρήνα <code class="filename">GENERIC</code>.</p></li><li class="listitem"><p>Δημιουργία ενός τελικού καταλόγου στον οποίο θα μεταγλωττιστούν
	  και θα αποθηκευθούν οι εκτελέσιμες μορφές των τελικών
	  πακέτων.</p></li><li class="listitem"><p>Μεταγλώττιση και εγκατάσταση των εργαλείων που χρειάζονται για
	  την προετοιμασία της έκδοσης και τη μετατροπή της τεκμηρίωσης από
	  τον πηγαίο κώδικα (SGML) σε html και αρχεία κειμένου που θα
	  συνοδεύουν την έκδοση.</p></li><li class="listitem"><p>Μετατροπή και εγκατάσταση της τεκμηρίωσης (εγχειρίδια χρήστη,
	  εισαγωγικά κείμενα, σημειώσεις έκδοσης, λίστες συμβατότηταςς υλικού,
	  κλπ.)</p></li><li class="listitem"><p>Μεταγλώττιση των <span class="quote">«<span class="quote">συμπιεσμένων</span>»</span> (crunched)
	  εκτελέσιμων που θα χρησιμοποιηθούν στις δισκέττες
	  εγκατάστασης.</p></li><li class="listitem"><p>Δημιουργία των πακέτων της εγκατάστασης και των πακέτων πηγαίου
	  κώδικα.</p></li><li class="listitem"><p>Δημιουργία των μέσων εκκίνησης και της δισκέττας
	  <span class="quote">«<span class="quote">fixit</span>»</span>.</p></li><li class="listitem"><p>Δημιουργία της ιεραρχίας καταλόγων για την εγκατάσταση μέσω
	  FTP.</p></li><li class="listitem"><p><span class="emphasis"><em>(προαιρετικά)</em></span> Δημιουργία των ISO αρχείων
	  για μέσα CDROM/DVD media.</p></li></ul></div><p>Για περισσότερες πληροφορίες σχετικά με την διαδικασία δημιουργίας
      μιας έκδοσης, δείτε την σελίδα τεκμηρίωσης <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=release&amp;sektion=7"><span class="citerefentry"><span class="refentrytitle">release</span>(7)</span></a>.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp72360656"></a>3.2. Μεταγλώττιση των <span class="application">XFree86</span></h3></div></div></div><p>Το γραφικό περιβάλλον <span class="application">XFree86</span> είναι ένα σημαντικό κομμάτι κάθε
      έκδοσης για πολλούς χρήστες που θέλουν το FreeBSD για σταθμούς εργασίας.
      Πριν την έκδοση 4.6-RELEASE του FreeBSD, οι επίσημες εκδόσεις του
      FreeBSD χρησιμοποιούσαν την έκδοση 3.<em class="replaceable"><code>X</code></em> των
      <span class="application">XFree86</span>.
      Ο πιο εύκολος τρόπος να μεταγλωττίσετε αυτές τις εκδόσεις είναι να
      χρησιμοποιήσετε το πρόγραμμα
      <code class="filename">src/release/scripts/X11/build_x.sh</code>.
      Αυτό το πρόγραμμα απαιτεί να είναι ήδη στημένα στο σύστημά σας τόσο το
      περιβάλλον XFree86 όσο και η γλώσσα Tcl/Tk.  Μετά την μεταγλώττιση των
      κατάλληλων X servers, το πρόγραμμα θα πακετάρει όλα τα αρχεία σε
      συλλογές αρχείων που περιμένει να βρει το <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sysinstall&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sysinstall</span>(8)</span></a> μέσα στον
      κατάλογο <code class="filename">XF86336</code> στο μέσο εγκατάστασης.</p><p>Ξεκινώντας με την έκδοση 4.6-RELEASE του FreeBSD, το
      <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sysinstall&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sysinstall</span>(8)</span></a> εγκαθιστά την έκδοση 4.<em class="replaceable"><code>X</code></em>
      των XFree86, σαν κανονικά πακέτα.  Αυτά μπορεί να είναι είτε τα πακέτα
      που δημιούργησε το cluster των ports ή οποιαδήποτε άλλα πακέτα που έχουν
      δημιουργηθεί από ένα ports tree με την κατάλληλη ετικέτα.</p><div xmlns="" class="note"><h3 class="admontitle">Σημείωση: </h3><p xmlns="http://www.w3.org/1999/xhtml">Είναι πολύ σημαντικό να αφαιρέσετε από το αρχείο
      <code class="filename">/etc/make.conf</code> οποιεσδήποτε τοπικές ρυθμίσεις έχετε
      κάνει.  Για παράδειγμα, δεν είναι καλή ιδέα να διανέμετε εκτελέσιμα που
      έχουν μεταγλωττιστεί σε κάποιο συγκεκριμένο σύστημα με ορισμένη την τιμή
      της μεταβλητής <code class="varname">CPUTYPE</code> για βελτιστοποίηση των
      εκτελέσιμων για κάποιο συγκεκριμένο επεξεργαστή.</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp72384976"></a>3.3. Προγράμματα Τρίτων (<span class="quote">«<span class="quote">ports</span>»</span>)</h3></div></div></div><p>Η <a class="link" href="http://www.FreeBSD.org/ports" target="_top">Συλλογή των Ports του
      FreeBSD</a> είναι μια συλλογή με περισσότερα από 24,000
      προγράμματα από τρίτους, που είναι διαθέσιμα για FreeBSD.  Οι Ομάδα Διαχείρισης των Ports <code class="email">&lt;<a xmlns="" class="email" href="mailto:portmgr@FreeBSD.org">portmgr@FreeBSD.org</a>&gt;</code>
      είναι υπεύθυνοι για την συντήρηση ενός δέντρου από πηγαίο κώδικα για τα
      ports, που μπορεί να χρησιμοποιηθεί για να δημιουργηθούν τα πακέτα με τα
      προγράμματα που συνοδεύουν τις επίσημες εκδόσεις του FreeBSD.</p><p>Η διαδικασία συντήρησης της συλλογής των ports είναι κάτι που δεν
      μπορούμε να καλύψουμε εδώ.  Ένα ξεχωριστό άρθρο, με τίτλο <a class="link" href="../releng-packages/article.html" target="_top">Η Οργάνωση Έκδοσης των Πακέτων Λογισμικού από Τρίτους</a>,
      καλύπτει αυτό το θέμα.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp72392784"></a>3.4. Αρχεία ISO της Έκδοσης</h3></div></div></div><p>Ξεκινώντας με την έκδοση 4.4 του FreeBSD, η Ομάδα Ανάπτυξης του
      FreeBSD αποφάσισε να διανέμει και τα τέσσερα ISO αρχεία που πρώτα
      πουλούσαν οι εταιρείες <span class="emphasis"><em>BSDi/Wind River Systems/FreeBSD
      Mall</em></span> στις <span class="quote">«<span class="quote">επίσημες</span>»</span> διανομές CDROM που έκαναν.
      Κάθε ένα από τα τέσσερα ISO αρχεία πρέπει να περιέχει ένα αρχείο
      <code class="filename">README.TXT</code> που περιγράφει τα περιεχόμενα του
      δίσκου, κι ένα αρχείο <code class="filename">CDROM.INF</code> που περιέχει
      μετα-πληροφορίες για να μπορεί το πρόγραμμα <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sysinstall&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sysinstall</span>(8)</span></a> να
      ελέγξει και να χρησιμοποιήσει αυτό το δίσκο, καθώς κι ένα αρχείο
      <code class="filename">filename.txt</code> που παρέχει μια λίστα αρχείων του
      CDROM.  Αυτή η λίστα μπορεί να δημιουργηθεί πολύ απλά, ως εξής:</p><pre class="screen">/stage/cdrom<code class="prompt">#</code> <strong class="userinput"><code>find . -type f | sed -e 's/^\.\///' | sort &gt; filename.txt</code></strong></pre><p>Οι συγκεκριμένες απαιτήσεις για κάθε ένα από αυτά τα CD
      περιγράφονται παρακάτω:</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp72405328"></a>3.4.1. Δίσκος 1</h4></div></div></div><p>Ο πρώτος δίσκος είναι σχεδόν αποκλειστικά αποτέλεσμα της εντολής
	<code class="command">make release</code>.  Οι μόνες αλλαγές που πρέπει να
	γίνουν στον κατάλογο <code class="filename">disc1</code> είναι η προσθήκη του
	κατάλογου <code class="filename">tools</code>, των <span class="application">XFree86</span>, και όσο το δυνατόν
	περισσότερων πακέτων μπορούν να χωρέσουν στο δίσκο.  Ο κατάλογος
	<code class="filename">tools</code> περιέχει εργαλεία που επιτρέπουν σε χρήστες
	άλλων λειτουργικών συστημάτων να φτιάξουν τις δισκέττες εκκίνησης.
	Αυτός ο πρώτος δίσκος πρέπει να φτιάχνεται bootable έτσι ώστε να
	μπορούν οι χρήστες των μοντέρνων υπολογιστών να αποφεύγουν το στάδιο
	δημιουργίας των δισκεττών εκκίνησης.</p><p>Αν μια διαφορετική έκδοση των XFree86 θα διανέμεται με την έκδοση
	αυτή, πρέπει να ενημερωθεί το πρόγραμμα <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sysinstall&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sysinstall</span>(8)</span></a> για την νέα
	θέση και οι οδηγίες εγκατάστασης.  Ο σχετικός κώδικας υπάρχει στον
	κατάλογο <code class="filename">src/release/sysinstall</code> στον -STABLE
	κορμό ή στον κατάλογο <code class="filename">src/usr.sbin/sysinstall</code>
	στον -CURRENT κορμό.  Συγκεκριμένα, τα αρχεία
	<code class="filename">dist.c</code>, <code class="filename">menus.c</code>, και
	<code class="filename">config.c</code> θα χρειαστεί να ενημερωθούν.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp72428880"></a>3.4.2. Δίσκος 2</h4></div></div></div><p>Ο δεύτερος δίσκος είναι επίσης αποτέλεσμα της εντολής
      <code class="command">make release</code> κατά ένα μεγάλο μέρος.  Αυτός ο δίσκος
      περιέχει ένα <span class="quote">«<span class="quote">live filesystem</span>»</span> που μπορεί να χρησιμοποιηθεί
      από το <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sysinstall&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sysinstall</span>(8)</span></a> για να εξεταστούν προβλήματα σε μια
      εγκατάσταση του FreeBSD.  Κι αυτός ο δίσκος πρέπει να είναι bootable.
      Θα πρέπει επίσης να περιέχει ένα συμπιεσμένο αντίγραφο του CVS
      repository στον κατάλογο <code class="filename">CVSROOT</code> και δείγματα από
      εμπορικά προγράμματα στον κατάλογο <code class="filename">commerce</code>.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp72437584"></a>3.4.3. Δίσκοι 3 και 4</h4></div></div></div><p>Οι υπόλοιποι δυο δίσκοι περιέχουν επιπρόσθετα πακέτα λογισμικού
	για το FreeBSD.  Τα πακέτα θα πρέπει να είναι ομαδοποιημένα, έτσι ώστε
	κάθε πακέτο να είναι στον ίδιο δίσκο με όλα τα πακέτα από τα οποία
	εξαρτάται για να εγκατασταθεί και να τρέξει.  Περισσότερες πληροφορίες
	για την δημιουργία αυτών των δίσκων αναφέρονται στο άρθρο
	<a class="link" href="../releng-packages/article.html" target="_top">Η Οργάνωση Έκδοσης των Πακέτων Λογισμικού από Τρίτους</a>.</p></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="release-proc.html">Προηγ</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="distribution.html">Επόμενο</a></td></tr><tr><td width="40%" align="left" valign="top">2. Η Διαδικασία Δημιουργίας μιας Έκδοσης </td><td width="20%" align="center"><a accesskey="h" href="index.html">Αρχή</a></td><td width="40%" align="right" valign="top"> 4. Διανομή των Εκδόσεων</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Αυτό το κείμενο, και άλλα κείμενα, μπορεί να βρεθεί στο
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Για ερωτήσεις σχετικά με το FreeBSD, διαβάστε την
    <a href="http://www.FreeBSD.org/docs.html">τεκμηρίωση</a> πριν να επικοινωνήσετε με την
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Για ερωτήσεις σχετικά με αυτή την τεκμηρίωση, στείλτε e-mail στην
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>