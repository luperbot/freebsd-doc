<?xml version="1.0" encoding="iso-8859-7" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-7" /><title>5. Αντιμετώπιση Προβλημάτων</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Υλοποίηση του UFS Journaling σε ένα Desktop Υπολογιστή" /><link rel="up" href="index.html" title="Υλοποίηση του UFS Journaling σε ένα Desktop Υπολογιστή" /><link rel="prev" href="configure-journal.html" title="4. Ρύθμιση του Journaling" /><link rel="next" href="further-reading.html" title="6. Επιπλέον Πληροφορίες" /><link rel="copyright" href="trademarks.html" title="Νομική Σημείωση" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">5. Αντιμετώπιση Προβλημάτων</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="configure-journal.html">Προηγ</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="further-reading.html">Επόμενο</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="troubleshooting-gjournal"></a>5. Αντιμετώπιση Προβλημάτων</h2></div></div></div><p>Το ακόλουθο τμήμα καλύπτει συχνές ερωτήσεις σχετικά με προβλήματα
      που μπορείτε να συναντήσετε στην υλοποίηση του jounaling.</p><div class="qandaset"><a id="idp72268752"></a><dl><dt>5.1. <a href="troubleshooting-gjournal.html#idp72269648">Κατά τη διάρκεια έντονης χρήσης του δίσκου, το σύστημα μου
	    σταματάει με kernel panic.  Υπάρχει περίπτωση αυτό να σχετίζεται
	    με το journaling;</a></dt><dt>5.2. <a href="troubleshooting-gjournal.html#idp72275536">Έκανα κάποιο λάθος στις ρυθμίσεις, και δεν μπορώ πλέον να
	    ξεκινήσω κανονικά το σύστημα μου.  Υπάρχει τρόπος να το
	    διορθώσω;</a></dt><dt>5.3. <a href="troubleshooting-gjournal.html#idp72304336">Μπορώ να καταργήσω το journaling και να επιστρέψω στο
	    κανονικό σύστημα αρχείων με τα Soft Updates;</a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%" /><col /></colgroup><tbody><tr class="question"><td align="left" valign="top"><a id="idp72269648"></a><a id="kernel-panic"></a><p><strong>5.1.</strong></p></td><td align="left" valign="top"><p>Κατά τη διάρκεια έντονης χρήσης του δίσκου, το σύστημα μου
	    σταματάει με kernel panic.  Υπάρχει περίπτωση αυτό να σχετίζεται
	    με το journaling;</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Είναι πιθανό το ημερολόγιο να γεμίζει πριν προλάβουν τα
	    προηγούμενα δεδομένα του να μεταφερθούν στο σύστημα αρχείων.  Θα
	    πρέπει να θυμάστε ότι το μέγεθος του ημερολογίου δεν εξαρτάται
	    από το μέγεθος του παροχέα δεδομένων, αλλά από το φόρτο εργασίας
	    του.  Αν η δραστηριότητα του δίσκου σας είναι υψηλή, θα
	    χρειαστείτε μεγαλύτερο μέγεθος για την κατάτμηση του
	    ημερολογίου.  Δείτε τη σχετική σημείωση στην ενότητα <a class="link" href="understanding-journaling.html" title="2. Κατανόηση του Journaling στο FreeBSD">Κατανόηση του Journaling</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp72275536"></a><a id="unable-boot"></a><p><strong>5.2.</strong></p></td><td align="left" valign="top"><p>Έκανα κάποιο λάθος στις ρυθμίσεις, και δεν μπορώ πλέον να
	    ξεκινήσω κανονικά το σύστημα μου.  Υπάρχει τρόπος να το
	    διορθώσω;</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Πιθανόν ξεχάσατε να προσθέσετε (ή έχετε κάνει λάθος) την
	    καταχώρηση στο <code class="filename">/boot/loader.conf</code>, ή ίσως
	    υπάρχει λάθος στο αρχείο <code class="filename">/etc/fstab</code>.  Τα
	    λάθη αυτά συνήθως διορθώνονται εύκολα.
	    Πιέστε <span class="keycap"><strong>Enter</strong></span> για να ξεκινήσετε το προεπιλεγμένο
	    κέλυφος λειτουργίας ενός χρήστη.  Μετά εντοπίστε την πηγή του
	    προβλήματος:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cat /boot/loader.conf</code></strong></pre><p>Αν λείπει ή υπάρχει λάθος στην καταχώρηση
	    <code class="literal">geom_journal_load</code>, οι αντίστοιχες συσκευές
	    δεν δημιουργούνται καν.  Μπορείτε να φορτώσετε το άρθρωμα
	    χειροκίνητα, να προσαρτήσετε όλες τις κατατμήσεις, και να
	    συνεχίσετε με την κανονική εκκίνηση:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>gjournal load</code></strong>

GEOM_JOURNAL: Journal 2948326772: ad0s1g contains journal.
GEOM_JOURNAL: Journal 3193218002: ad0s1h contains journal.
GEOM_JOURNAL: Journal 3193218002: ad0s1d contains data.
GEOM_JOURNAL: Journal ad0s1d clean.
GEOM_JOURNAL: Journal 2948326772: ad0s1f contains data.
GEOM_JOURNAL: Journal ad0s1f clean.

<code class="prompt">#</code> <strong class="userinput"><code>mount -a</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>exit</code></strong>
<span class="emphasis"><em>(η εκκίνηση συνεχίζεται)</em></span></pre><p>Αν ωστόσο η καταχώρηση αυτή είναι σωστή, ρίξτε μια ματιά
	    στο αρχείο <code class="filename">/etc/fstab</code>.  Το πιο πιθανό είναι
	    να βρείτε ότι κάποια καταχώρηση λείπει, ή είναι λάθος.
	    Στην περίπτωση αυτή, προσαρτήστε χειροκίνητα όλες τις κατατμήσεις
	    και συνεχίστε την εκκίνηση κανονικά.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp72304336"></a><a id="remove-journaling"></a><p><strong>5.3.</strong></p></td><td align="left" valign="top"><p>Μπορώ να καταργήσω το journaling και να επιστρέψω στο
	    κανονικό σύστημα αρχείων με τα Soft Updates;</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Βέβαια.  Χρησιμοποιήστε την ακόλουθη διαδικασία η οποία
	    αναιρεί τις αλλαγές.  Μπορείτε έπειτα να χρησιμοποιήσετε τις
	    κατατμήσεις των ημερολογίων για άλλο σκοπό, εφόσον το
	    επιθυμείτε.</p><p>Εισέλθετε ως <code class="systemitem">root</code> και μεταβείτε σε
	    κατάσταση ενός χρήστη:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>shutdown now</code></strong></pre><p>Αποπροσαρτήστε τις κατατμήσεις που χρησιμοποιούν
	    journaling:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>umount /usr /var</code></strong></pre><p>Συγχρονίστε τα ημερολόγια:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>gjournal sync</code></strong></pre><p>Σταματήστε τους παροχείς ημερολογίου:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>gjournal stop ad0s1d.journal</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>gjournal stop ad0s1f.journal</code></strong></pre><p>Διαγράψτε τα metadata του journaling από όλες τις συσκευές
	    που χρησιμοποιήσατε:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>gjournal clear ad0s1d</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>gjournal clear ad0s1f</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>gjournal clear ad0s1g</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>gjournal clear ad0s1h</code></strong></pre><p>Αναιρέστε την επιλογή του journaling, και θέστε ξανά την
	    επιλογή για Soft Updates:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>tunefs -J disable -n enable ad0s1d</code></strong>

tunefs: gjournal cleared
tunefs: soft updates set

<code class="prompt">#</code> <strong class="userinput"><code>tunefs-J disable -n enable ad0s1f</code></strong>

tunefs: gjournal cleared
tunefs: soft updates set</pre><p>Προσαρτήστε χειροκίνητα τις κανονικές κατατμήσεις:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mount -o rw /dev/ad0s1d  /var</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>mount -o rw /dev/ad0s1f  /usr</code></strong></pre><p>Επεξεργαστείτε το <code class="filename">/etc/fstab</code> και
	    επαναφέρατε τις προηγούμενες ρυθμίσεις:</p><pre class="programlisting">/dev/ad0s1f     /usr            ufs     rw      2       2
/dev/ad0s1d     /var            ufs     rw      2       2</pre><p>Τέλος, επεξεργαστείτε το αρχείο
	    <code class="filename">/boot/loader.conf</code>, αφαιρέστε την καταχώρηση
	    που φορτώνει το άρθρωμα <code class="literal">geom_journal</code> και
	    επανεκκινήστε το σύστημα σας.</p></td></tr></tbody></table></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="configure-journal.html">Προηγ</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="further-reading.html">Επόμενο</a></td></tr><tr><td width="40%" align="left" valign="top">4. Ρύθμιση του Journaling </td><td width="20%" align="center"><a accesskey="h" href="index.html">Αρχή</a></td><td width="40%" align="right" valign="top"> 6. Επιπλέον Πληροφορίες</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Αυτό το κείμενο, και άλλα κείμενα, μπορεί να βρεθεί στο
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Για ερωτήσεις σχετικά με το FreeBSD, διαβάστε την
    <a href="http://www.FreeBSD.org/docs.html">τεκμηρίωση</a> πριν να επικοινωνήσετε με την
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Για ερωτήσεις σχετικά με αυτή την τεκμηρίωση, στείλτε e-mail στην
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>