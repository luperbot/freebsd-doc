<?xml version="1.0" encoding="iso-8859-7" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-7" /><title>24.8. Διαγραφή Παρωχημένων Αρχείων, Καταλόγων και Βιβλιοθηκών</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Εγχειρίδιο του FreeBSD" /><link rel="up" href="updating-upgrading.html" title="Κεφάλαιο 24. Ενημέρωση και Αναβάθμιση του FreeBSD" /><link rel="prev" href="makeworld.html" title="24.7. Μεταγλωττίζοντας το Βασικό Σύστημα («world»)" /><link rel="next" href="small-lan.html" title="24.9. Διαδικασία για Πολλαπλά Μηχανήματα" /><link rel="copyright" href="legalnotice.html" title="Νομική Σημείωση" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">24.8. Διαγραφή Παρωχημένων Αρχείων, Καταλόγων και Βιβλιοθηκών</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="makeworld.html">Προηγ</a> </td><th width="60%" align="center">Κεφάλαιο 24. Ενημέρωση και Αναβάθμιση του FreeBSD</th><td width="20%" align="right"> <a accesskey="n" href="small-lan.html">Επόμενο</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="make-delete-old"></a>24.8. Διαγραφή Παρωχημένων Αρχείων, Καταλόγων και Βιβλιοθηκών</h2></div><div><span class="authorgroup">Βασισμένο σε σημειώσεις που παρείχε ο <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Anton</span> <span class="surname">Shterenlikht</span></span>. </span></div></div></div><a id="idp93963216" class="indexterm"></a><p>Κατά την συνεχή ανάπτυξη του FreeBSD είναι φυσιολογικό κάποια αρχεία
      κατά καιρούς να χαρακτηρίζονται ως παρωχημένα.  Αυτό μπορεί να συμβεί
      αν οι λειτουργίες που παρείχαν υλοποιούνται πλέον διαφορετικά, αν ο
      ο αριθμός έκδοσης της βιβλιοθήκης έχει αλλάξει ή ακόμα και αν έχει
      διαγραφεί οριστικά από το σύστημα.  Στα αρχεία αυτά περιλαμβάνονται
      επίσης βιβλιοθήκες κατάλογοι που πρέπει να διαγραφούν όταν γίνεται
      αναβάθμιση του συστήματος.  Το όφελος για το χρήστη είναι ότι το
      σύστημα του δεν γεμίζει από παλιά αρχεία τα οποία καταλαμβάνουν
      άχρηστο χώρο στο μέσο αποθήκευσης και στο backup.  Επιπρόσθετα, αν
      κάποια παλιά βιβλιοθήκη είχε προβλήματα σταθερότητας ή ασφάλειας
      θα πρέπει να την αναβαθμίσετε για να κρατήσετε το σύστημα σας
      σταθτερό και ασφαλές.  Τα αρχεία, οι κατάλογοι και οι βιβλιοθήκες που
      θεωρούνται παρωχημένες φαίνονται στο
      <code class="filename">/usr/src/ObsoleteFiles.inc</code>.  Οι παρακάτω οδηγίες
      θα σας βοηθήσουν να διαγράψετε αυτά τα αρχεία κατά τη διαδικασία
      αναβάθμισης του συστήματος.</p><p>Υποθέτουμε ότι χρησιμοποιείτε τα βήματα που περιγράφονται στο
      <a class="xref" href="makeworld.html#canonical-build" title="24.7.1. Ο Κανονικός Τρόπος να Ενημερώσετε το Σύστημα σας">Τμήμα 24.7.1, «Ο Κανονικός Τρόπος να Ενημερώσετε το Σύστημα σας»</a>.  Μετά την επιτυχή εκτέλση της εντολής
      <code class="command">make installworld</code> και του
      <code class="command">mergemaster</code> που ακολουθεί, θα πρέπει να ελέγξετε για
      παρωχημένα αρχεία και βιβλιοθήκες όπως φαίνεται παρακάτω:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cd /usr/src</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>make check-old</code></strong></pre><p>Αν βρεθούν παρωχημένα αρχεία, μπορείτε να τα διαγράψετε με τις
      παρακάτω εντολές:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>make delete-old</code></strong></pre><div xmlns="" class="tip"><h3 class="admontitle">Υπόδειξη: </h3><p xmlns="http://www.w3.org/1999/xhtml">Δείτε το <code class="filename">/usr/src/Makefile</code> για περισσότερες
	ενδιαφέρουσες επιλογές της <code class="command">make</code>.</p></div><p>Για κάθε αρχείο που θα διαγραφεί, θα σας ζητηθεί να επιβεβαιώσετε
      την ενέργεια.  Μπορείτε να παραλείψετε την ερώτηση και να αφήσετε το
      σύστημα να διαγράψει αυτά τα αρχεία αυτόματα χρησιμοποιώντας την
      μεταβλητή του make <code class="varname">BATCH_DELETE_OLD_FILES</code> με τον
      τρόπο που φαίνεται παρακάτω:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>make -DBATCH_DELETE_OLD_FILES delete-old</code></strong></pre><div xmlns="" class="warning"><h3 class="admontitle">Προειδοποίηση: </h3><p xmlns="http://www.w3.org/1999/xhtml">Η διαγραφή παρωχημένων αρχείων, θα προκαλέσει δυσλειτουργία των
	εφαρμογών που εξακολουθούν να βασίζονται σε αυτά.  Αυτό συμβαίνει
	ιδιαίτερα σε παλιές βιβλιοθήκες.  Στις περισσότερες περιπτώσεις, θα
	πρέπει να επαναμεταγλωττίσετε τα προγράμματα, ports ή βιβλιοθήκες που
	χρησιμοποιούσαν την παλιά βιβλιοθήκη πριν εκτελέσετε την εντολή
	<code class="command">make delete-old-libs</code>.</p></div><p>Μπορείτε να βρείτε προγράμματα που ελέγχουν τις εξαρτήσεις των
      κοινόχρηστων βιβλιοθηκών στη Συλλογή των Ports, στο <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/sysutils/libchk/pkg-descr">sysutils/libchk</a> ή <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/sysuilts/bsdadminscripts/pkg-descr">sysuilts/bsdadminscripts</a>.</p><p>Οι παρωχημένες κοινόχρηστες βιβλιοθήκες μπορούν να δημιουργήσουν
      προβλήματα λόγω συγκρούσεων με νεώτερες εκδόσεις.  Σε αυτές τις
      περιπτώσεις, θα δείτει μηνύματα όπως τα παρακάτω:</p><pre class="screen">/usr/bin/ld: warning libz.so.4, needed by /usr/local/lib/libtiff.so, may conflict with libz.so.5
/usr/bin/ld: warning: librpcsvc.so.4, needed by /usr/local/lib/libXext.so may conflict with librpcsvc.so.5</pre><p>Για να επιλύσετε τέτοιου είδους προβλήματα, βρείτε ποιο port
      εγκατέστησε την βιβλιοθήκη:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>pkg_info -W /usr/local/lib/libtiff.so</code></strong>
/usr/local/lib/libtiff.so was installed by package tiff-3.9.4
<code class="prompt">#</code> <strong class="userinput"><code>pkg_info -W /usr/local/lib/libXext.so</code></strong>
/usr/local/lib/libXext.so was installed by package libXext-1.1.1,1</pre><p>Έπειτα, απεγκαταστήστε, επαναμεταγλωττίστε και επανεγκατασήστε το
      port.  Για να αυτοματοποιήσετε αυτή τη διαδικασία μπορείτε να
      χρησιμοποιήσετε τα βοηθητικά προγράμματα <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/ports-mgmt/portmaster/pkg-descr">ports-mgmt/portmaster</a> και <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/ports-mgmt/portupgrade/pkg-descr">ports-mgmt/portupgrade</a>.  Αφού βεβαιωθείτε
      ότι οι παλιές βιβλιοθήκες δεν χρησιμοποιούνται πλέον από κανένα
      πρόγραμμα, μπορείτε να τις διαγράψετε με την παρακάτω εντολή:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>make delete-old-libs</code></strong></pre></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="makeworld.html">Προηγ</a> </td><td width="20%" align="center"><a accesskey="u" href="updating-upgrading.html">Πάνω</a></td><td width="40%" align="right"> <a accesskey="n" href="small-lan.html">Επόμενο</a></td></tr><tr><td width="40%" align="left" valign="top">24.7. Μεταγλωττίζοντας το Βασικό Σύστημα (<span class="quote">«<span class="quote">world</span>»</span>) </td><td width="20%" align="center"><a accesskey="h" href="index.html">Αρχή</a></td><td width="40%" align="right" valign="top"> 24.9. Διαδικασία για Πολλαπλά Μηχανήματα</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Αυτό το κείμενο, και άλλα κείμενα, μπορεί να βρεθεί στο
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Για ερωτήσεις σχετικά με το FreeBSD, διαβάστε την
    <a href="http://www.FreeBSD.org/docs.html">τεκμηρίωση</a> πριν να επικοινωνήσετε με την
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Για ερωτήσεις σχετικά με αυτή την τεκμηρίωση, στείλτε e-mail στην
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>