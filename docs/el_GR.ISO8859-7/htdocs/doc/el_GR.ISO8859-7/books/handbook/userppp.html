<?xml version="1.0" encoding="iso-8859-7" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-7" /><title>27.2. Χρησιμοποιώντας το PPP Χρήστη</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Εγχειρίδιο του FreeBSD" /><link rel="up" href="ppp-and-slip.html" title="Κεφάλαιο 27. PPP και SLIP" /><link rel="prev" href="ppp-and-slip.html" title="Κεφάλαιο 27. PPP και SLIP" /><link rel="next" href="ppp.html" title="27.3. Χρησιμοποιώντας το PPP του Πυρήνα" /><link rel="copyright" href="legalnotice.html" title="Νομική Σημείωση" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">27.2. Χρησιμοποιώντας το PPP Χρήστη</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ppp-and-slip.html">Προηγ</a> </td><th width="60%" align="center">Κεφάλαιο 27. PPP και SLIP</th><td width="20%" align="right"> <a accesskey="n" href="ppp.html">Επόμενο</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="userppp"></a>27.2. Χρησιμοποιώντας το PPP Χρήστη</h2></div><div><span class="authorgroup">Ενημερώθηκε και βελτιώθηκε από τον <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Tom</span> <span class="surname">Rhodes</span></span>. </span></div><div><span class="authorgroup">Αρχική συνεισφορά του <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Brian</span> <span class="surname">Somers</span></span>. </span></div><div><span class="authorgroup">Με τη βοήθεια των <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Nik</span> <span class="surname">Clayton</span></span>, <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Dirk</span> <span class="surname">Fr"omberg</span></span> και <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Peter</span> <span class="surname">Childs</span></span>. </span></div></div></div><div xmlns="" class="warning"><h3 class="admontitle">Προειδοποίηση: </h3><p xmlns="http://www.w3.org/1999/xhtml">Από το FreeBSD 8.0 και μετά, τα ονόματα συσκευών για τις
	σειριακές θύρες μετονομάστηκαν από
	<code class="filename">/dev/cuadN</code> σε
	<code class="filename">/dev/cuauN</code> και από
	<code class="filename">/dev/ttydN</code> σε
	<code class="filename">/dev/ttyuN</code>.
	Οι χρήστες του FreeBSD 7.X θα χρειαστεί να προσαρμόσουν τις
	παρακάτω οδηγίες σύμφωνα με αυτές τις αλλαγές.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp95449808"></a>27.2.1. PPP Χρήστη</h3></div></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp95450448"></a>27.2.1.1. Προϋποθέσεις</h4></div></div></div><p>Το κείμενο αυτό προϋποθέτει ότι έχετε τα παρακάτω:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Λογαριασμό σε κάποιο Παροχέα Υπηρεσιών Internet (ISP)<a id="ppp-isp" class="indexterm"></a> στον
	      οποίο συνδέεστε χρησιμοποιώντας PPP<a id="ppp-ppp2" class="indexterm"></a>.</p></li><li class="listitem"><p>Ένα modem ή άλλη συσκευή συνδεμένη στο σύστημα σας,
	      και ρυθμισμένη σωστά ώστε να σας επιτρέπει να συνδεθείτε στον
	      ISP σας.</p></li><li class="listitem"><p>Τους αριθμούς κλήσης για τον ISP σας.</p></li><li class="listitem"><p>Το όνομα χρήστη (login)<a id="ppp-login" class="indexterm"></a> και τον κωδικό σας (password)<a id="ppp-password" class="indexterm"></a>.
	      Είτε κανονικό όνομα και κωδικό (τύπου <span class="trademark">UNIX</span>(R))<a id="ppp-unix" class="indexterm"></a> ή ένα ζεύγος
	      ονόματος / κωδικού τύπου PAP<a id="ppp-pap" class="indexterm"></a> ή CHAP<a id="ppp-chap" class="indexterm"></a>.</p></li><li class="listitem"><p>Τις IP διευθύνσεις ενός ή περισσότερων διακομιστών
	      ονομάτων (DNS)<a id="ppp-nameserver" class="indexterm"></a>.  Φυσιολογικά, ο ISP σας θα σας δώσει δύο
	      τέτοιες διευθύνσεις.  Αν δεν έχετε τουλάχιστον μία, μπορείτε
	      να ενεργοποιήσετε την εντολή <code class="command">enable dns</code> στο
	      <code class="filename">ppp.conf</code> και το
	      <span class="application">ppp</span> θα ρυθμίσει τους διακομιστές
	      ονομάτων για σας.  Το χαρακτηριστικό αυτό εξαρτάται από την
	      υποστήριξη της διαπραγμάτευσης DNS από τον ISP σας.</p></li></ul></div><p>Ο ISP σας ενδεχομένως να σας δώσει και τις παρακάτω πληροφορίες,
	  αλλά δεν είναι εντελώς απαραίτητες:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Τη διεύθυνση IP για την πύλη (gateway) του ISP σας.
	      Η πύλη είναι το μηχάνημα μέσω του οποίου συνδέεστε, και θα
	      αποτελέσει την <span class="emphasis"><em>προεπιλεγμένη διαδρομή</em></span>
	      (default route) για το μηχάνημα σας.  Αν δεν έχετε αυτή την
	      πληροφορία, θα χρησιμοποιηθεί μια εικονική, και όταν συνδεθείτε
	      θα λάβετε την κανονική διεύθυνση από τον διακομιστή PPP του
	      ISP σας.</p><p>Αυτή η διεύθυνση IP αναφέρεται ως
	      <code class="literal">HISADDR</code> από το
	      <span class="application">ppp</span>.</p></li><li class="listitem"><p>Τη μάσκα δικτύου (netmask) που πρέπει να χρησιμοποιήσετε.
	      Αν ο ISP σας δε σας την παρέχει, μπορείτε με ασφάλεια να
	      χρησιμοποιήσετε την τιμή <code class="systemitem">255.255.255.255</code>.</p></li><li class="listitem"><p>Αν ο ISP σας παρέχει στατική διεύθυνση και όνομα υπολογιστή
	      (hostname) μπορείτε να χρησιμοποιήσετε αυτά.  Διαφορετικά,
	      θα αφήσουμε τον απομακρυσμένο υπολογιστή να δώσει όποια
	      διεύθυνση IP θεωρεί κατάλληλη<a id="ppp-static-ip" class="indexterm"></a>.</p></li></ul></div><p>Αν σας λείπουν κάποιες από τις απαιτούμενες πληροφορίες,
	  επικοινωνήστε με τον ISP σας.</p><div xmlns="" class="note"><h3 class="admontitle">Σημείωση: </h3><p xmlns="http://www.w3.org/1999/xhtml">Σε ολόκληρη την παρούσα ενότητα, πολλά από τα παραδείγματα
	    που δείχνουν τα περιεχόμενα των αρχείων ρυθμίσεων, είναι
	    αριθμημένα ανά γραμμή.  Οι αριθμοί αυτοί εξυπηρετούν στην
	    παρουσίαση και τη συζήτηση του κάθε παραδείγματος, και δεν
	    πρέπει να γραφούν μέσα στο πραγματικό αρχείο.  Είναι επίσης
	    σημαντικό να τηρείτε η σωστή στοίχιση σε κάθε αρχείο, με τη
	    χρήση στηλοθετών (tabs) και κενών διαστημάτων.</p></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp95486288"></a>27.2.1.2. Αυτόματη Ρύθμιση <span class="application">PPP</span></h4></div></div></div><a id="idp95487184" class="indexterm"></a><p>Τόσο το <code class="command">ppp</code> όσο και το
	  <code class="command">pppd</code> (η υλοποίηση του PPP σε επίπεδο πυρήνα,
	  μόνο στο FreeBSD 7.X)
	  χρησιμοποιούν τα αρχεία ρυθμίσεων στον κατάλογο
	  <code class="filename">/etc/ppp</code>.  Μπορείτε να
	  βρείτε παραδείγματα για το ppp χρήστη στον κατάλογο <code class="filename">/usr/share/examples/ppp/</code>.</p><p>H ρύθμιση του <code class="command">ppp</code> απαιτεί την τροποποίηση
	  ενός αριθμού από αρχεία, ανάλογα με τις απαιτήσεις σας.  Το τι θα
	  βάλετε σε αυτά, εξαρτάται σε ένα ποσοστό από το αν ο ISP σας
	  αποδίδει στατικές διευθύνσεις IP (δηλ. σας παρέχει μια διεύθυνση
	  IP η οποία δεν αλλάζει) ή δυναμικές (δηλ. η IP διεύθυνση σας
	  αλλάζει κάθε φορά που συνδέεστε στον ISP σας).</p><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="userppp-staticIP"></a>27.2.1.2.1. PPP και Στατικές Διευθύνσεις IP</h5></div></div></div><a id="idp95491920" class="indexterm"></a><p>Θα χρειαστεί να τροποποιήσετε το αρχείο ρυθμίσεων
	    <code class="filename">/etc/ppp/ppp.conf</code>.  Θα πρέπει να μοιάζει με
	    αυτό που φαίνεται παρακάτω:</p><div xmlns="" class="note"><h3 class="admontitle">Σημείωση: </h3><p xmlns="http://www.w3.org/1999/xhtml">Οι γραμμές που τελειώνουν με <code class="literal">:</code> ξεκινούν
	      στην πρώτη στήλη (αρχή της γραμμής) - όλες οι άλλες
	      γραμμές θα πρέπει να στοιχισθούν με τον τρόπο που φαίνεται, με
	      τη χρήση κενών ή στηλοθετών.</p></div><pre class="programlisting">1     default:
2       set log Phase Chat LCP IPCP CCP tun command
3       ident user-ppp VERSION (built COMPILATIONDATE)
4       set device /dev/cuau0
5       set speed 115200
6       set dial "ABORT BUSY ABORT NO\\sCARRIER TIMEOUT 5 \
7                 \"\" AT OK-AT-OK ATE1Q0 OK \\dATDT\\T TIMEOUT 40 CONNECT"
8       set timeout 180
9       enable dns
10
11    provider:
12      set phone "(123) 456 7890"
13      set authname foo
14      set authkey bar
15      set login "TIMEOUT 10 \"\" \"\" gin:--gin: \\U word: \\P col: ppp"
16      set timeout 300
17      set ifaddr <em class="replaceable"><code>x.x.x.x</code></em> <em class="replaceable"><code>y.y.y.y</code></em> 255.255.255.255 0.0.0.0
18      add default HISADDR</pre><div class="variablelist"><dl class="variablelist"><dt><span class="term">Γραμμή 1:</span></dt><dd><p>Αναγνωρίζει την προεπιλεγμένη καταχώριση.  Οι εντολές
		  σε αυτή την καταχώριση εκτελούνται αυτόματα, όταν εκτελείται
		  το ppp.</p></dd><dt><span class="term">Γραμμή 2:</span></dt><dd><p>Ενεργοποιεί την καταγραφή (logging) των παραμέτρων.
		  Όταν οι ρυθμίσεις που έχουν γίνει λειτουργούν ικανοποιητικά,
		  η γραμμή αυτή θα πρέπει να μικρύνει στην παρακάτω:</p><pre class="programlisting">set log phase tun</pre><p>για να αποφευχθούν μεγάλα μεγέθη στα αρχεία
		  καταγραφής.</p></dd><dt><span class="term">Γραμμή 3:</span></dt><dd><p>Λέει στο PPP πως να αναφέρει πληροφορίες για τον εαυτό
		  του στην άλλη μεριά της σύνδεσης.  Η διαδικασία αυτή γίνεται
		  αν το PPP έχει πρόβλημα στην διαπραγμάτευση και ολοκλήρωση
		  της σύνδεσης, παρέχοντας με αυτό τον τρόπο πληροφορίες στον
		  απομακρυσμένο διαχειριστή.  Οι πληροφορίες αυτές μπορεί να
		  είναι χρήσιμες στην επίλυση του προβλήματος.</p></dd><dt><span class="term">Γραμμή 4:</span></dt><dd><p>Αναγνωρίζει τη συσκευή στην οποία είναι συνδεμένο το
		  modem.  Η συσκευή <code class="filename">COM1</code> είναι η
		  <code class="filename">/dev/cuau0</code>
		  και η <code class="filename">COM2</code> είναι η
		  <code class="filename">/dev/cuau1</code>.</p></dd><dt><span class="term">Γραμμή 5:</span></dt><dd><p>Καθορίζει την ταχύτητα με την οποία επιθυμείτε να
		  συνδεθείτε.  Αν δεν λειτουργεί η τιμή 115200 (η οποία πρέπει
		  να λειτουργεί με κάθε σχετικά σύγχρονο modem), δοκιμάστε
		  με 38400.</p></dd><dt><span class="term">Γραμμές 6 &amp; 7:</span></dt><dd><p>Το αλφαριθμητικό που θα χρησιμοποιηθεί για την κλήση.
		  Το PPP<a id="idp95548752" class="indexterm"></a> χρήστη χρησιμοποιεί σύνταξη expect-send παρόμοια με
		  αυτή που χρησιμοποιεί το πρόγραμμα <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chat&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">chat</span>(8)</span></a>.  Δείτε τη
		  σελίδα manual για πληροφορίες σχετικά με τις δυνατότητες
		  αυτής της γλώσσας.</p><p>Σημειώστε ότι αυτή η εντολή συνεχίζει στην επόμενη
		  γραμμή για λόγους αναγνωσιμότητας.  Αυτό μπορεί να γίνει σε
		  κάθε εντολή του <code class="filename">ppp.conf</code>, εφόσον το
		  <code class="literal">\</code> είναι ο τελευταίος χαρακτήρας της
		  γραμμής.</p></dd><dt><span class="term">Γραμμή 8:</span></dt><dd><p>Καθορίζει το χρόνο τερματισμού λόγω αδράνειας της
		  σύνδεσης.  Τα 180 δευτερόλεπτα είναι η προεπιλεγμένη τιμή,
		  έτσι η γραμμή αυτή είναι εδώ καθαρά διακοσμητική.</p></dd><dt><span class="term">Γραμμή 9:</span></dt><dd><p>Λέει στο PPP να ρωτήσει την άλλη πλευρά για να
		  επιβεβαιώσει τις τοπικές ρυθμίσεις του resolver.  Αν
		  εκτελείτε τοπικό διακομιστή ονομάτων (DNS), θα πρέπει να
		  μετατρέψετε αυτή τη γραμμή σε σχόλιο ή να την
		  αφαιρέσετε.</p></dd><dt><span class="term">Γραμμή 10:</span></dt><dd><p>Κενή γραμμή ώστε η ανάγνωση του αρχείου να είναι πιο
		  εύκολη.  Οι κενές γραμμές αγνοούνται από το PPP.</p></dd><dt><span class="term">Γραμμή 11:</span></dt><dd><p>Αναγνωρίζει την καταχώριση ενός παροχέα με το όνομα
		  <span class="quote">«<span class="quote">provider</span>»</span>.  Μπορείτε εδώ να χρησιμοποιήσετε
		  το όνομα του <acronym class="acronym">ISP</acronym> σας, ώστε αργότερα
		  να ξεκινάτε τη σύνδεση σας με την επιλογή
		  <code class="option">load <em class="replaceable"><code>ISP</code></em></code>.</p></dd><dt><span class="term">Γραμμή 12:</span></dt><dd><p>Θέτει τον αριθμό κλήσης για αυτό τον παροχέα.  Μπορείτε
		  να καθορίσετε πολλαπλούς αριθμούς κλήσης χρησιμοποιώντας
		  άνω-κάτω τελεία (<code class="literal">:</code>) ή τον χαρακτήρα
		  (<code class="literal">|</code>) ως διαχωριστικό.  Η διαφορά μεταξύ
		  των δύο διαχωριστικών περιγράφεται στο <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a>.
		  Περιληπτικά, αν θέλετε να δοκιμάζονται κυκλικά όλοι οι
		  αριθμοί, χρησιμοποιήστε την άνω-κάτω τελεία.  Αν θέλετε να
		  γίνεται πάντοτε απόπειρα κλήσης του πρώτου αριθμού και οι
		  υπόλοιποι να δοκιμάζονται μόνο αν ο πρώτος αποτύχει,
		  χρησιμοποιήστε το χαρακτήρα παροχέτευσης.  Να γράφετε
		  πάντοτε όλο το σύνολο των τηλεφωνικών αριθμών με τον τρόπο
		  που φαίνεται.</p><p>Αν ο αριθμός τηλεφώνου περιέχει κενά, θα πρέπει να τον
		  περικλείσετε σε εισαγωγικά (<code class="literal">"</code>).
		  Η παράλειψη τους, αν και είναι απλό σφάλμα, μπορεί να
		  προκαλέσει προβλήματα που δεν μπορούν να εντοπιστούν
		  εύκολα.</p></dd><dt><span class="term">Γραμμές 13 &amp; 14:</span></dt><dd><p>Αναγνωρίζει το όνομα χρήστη και τον κωδικό του.  Όταν
		  συνδέεστε χρησιμοποιώντας προτροπή τύπου <span class="trademark">UNIX</span>(R), οι τιμές
		  αυτές αναφέρονται από την εντολή
		  <code class="command">set login</code> χρησιμοποιώντας τις μεταβλητές
		  \U και \P.  Όταν συνδέεστε με χρήση PAP ή CHAP, οι τιμές
		  αυτές χρησιμοποιούνται την ώρα της πιστοποίησης
		  ταυτότητας του χρήστη.</p></dd><dt><span class="term">Γραμμή 15:</span></dt><dd><p>Αν χρησιμοποιείτε PPP ή CHAP, δεν θα υπάρχει στο σημείο
		  αυτό προτροπή εισόδου (login), και θα πρέπει να μετατρέψετε
		  τη γραμμή αυτή σε σχόλιο ή να την αφαιρέσετε.  Δείτε την
		  <a class="link" href="userppp.html#userppp-PAPnCHAP" title="27.2.1.2.12. Πιστοποίηση PAP και CHAP">Πιστοποίηση PAP
		  και CHAP</a><a id="idp95567952" class="indexterm"></a> για περισσότερες λεπτομέρειες.</p><p>Το αλφαριθμητικό εισόδου χρησιμοποιεί σύνταξη παρόμοια
		  με το <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chat&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">chat</span>(8)</span></a>, όπως συμβαίνει και με το αλφαριθμητικό
		  κλήσης.  Στο παράδειγμα μας, το αλφαριθμητικό
		  χρησιμοποιείται για μια υπηρεσία στην οποία η συνεδρία
		  εισόδου μοιάζει με την παρακάτω:</p><pre class="screen">J. Random Provider
login: <em class="replaceable"><code>foo</code></em>
password: <em class="replaceable"><code>bar</code></em>
protocol: ppp</pre><p>Θα χρειαστεί να αλλάξετε αυτό το script ανάλογα με τις
		  ανάγκες σας.  Όταν γράφετε αυτό το script την πρώτη φορά,
		  βεβαιωθείτε ότι έχετε ενεργοποιήσει το αρχείο καταγραφής
		  για το <span class="quote">«<span class="quote">chat</span>»</span> ώστε να μπορείτε να προσδιορίσετε
		  αν η διαδικασία αναγνώρισης προχωράει σωστά.</p></dd><dt><span class="term">Γραμμή 16:</span></dt><dd><p>Θέτει το χρόνο<a id="idp95577552" class="indexterm"></a> αδράνειας (σε δευτερόλεπτα) για τη
		  σύνδεση.  Εδώ, η σύνδεση θα κλείσει αυτόματα αν δεν υπάρχει
		  κίνηση για 300 δευτερόλεπτα.  Αν δεν θέλετε να γίνεται
		  ποτέ τερματισμός της σύνδεσης λόγω αδράνειας, θέστε αυτή τη
		  τιμή σε μηδέν, ή χρησιμοποιήστε την επιλογή
		  <code class="option">-ddial</code> στη γραμμή εντολής.</p></dd><dt><span class="term">Γραμμή 17:</span></dt><dd><p>Θέτει τη διεύθυνση της διεπαφής.  Το αλφαριθμητικό
		  <em class="replaceable"><code>x.x.x.x</code></em> θα πρέπει να
		  αντικατασταθεί με τη διεύθυνση IP που σας έχει αποδοθεί από
		  τον παροχέα σας.  Το αλφαριθμητικό
		  <em class="replaceable"><code>y.y.y.y</code></em> θα πρέπει να
		  αντικατασταθεί με την διεύθυνση IP που έχει καθορίσει ο
		  ISP σας ως πύλη (gateway, το μηχάνημα στο οποίο συνδέεστε).
		  Αν ο ISP<a id="idp95580752" class="indexterm"></a> σας δεν σας έχει δώσει διεύθυνση πύλης,
		  χρησιμοποιήστε την <code class="systemitem">10.0.0.2/0</code>.  Αν πρέπει να
		  χρησιμοποιήσετε μια IP διεύθυνση που έχετε
		  <span class="quote">«<span class="quote">μαντέψει</span>»</span>, βεβαιωθείτε ότι έχετε δημιουργήσει
		  μια καταχώριση στο <code class="filename">/etc/ppp/ppp.linkup</code>
		  σύμφωνα με τις οδηγίες για το <a class="link" href="userppp.html#userppp-dynamicIP" title="27.2.1.2.2. PPP και Δυναμικές Διευθύνσεις IP">PPP και Δυναμικές IP
		    Διευθύνσεις</a>.  Αν παραλείψετε αυτή τη γραμμή, το
		  <code class="command">ppp</code> δεν θα μπορεί να εκτελεστεί σε
		  κατάσταση <code class="option">-auto</code>.</p></dd><dt><span class="term">Γραμμή 18:</span></dt><dd><p>Προσθέστε μια προεπιλεγμένη διαδρομή (default route)
		  προς το μηχάνημα πύλης (gateway) του ISP σας.  Η ειδική λέξη
		  <code class="literal">HISADDR</code> αντικαθίσταται με την διεύθυνση
		  πύλης που καθορίζεται στη γραμμή 17.  Είναι σημαντικό η
		  γραμμή αυτή να εμφανίζεται μετά την γραμμή 17, διαφορετικά
		  το <code class="literal">HISADDR</code> δεν θα έχει ακόμα λάβει αρχική
		  τιμή.</p><p>Αν δεν επιθυμείτε να εκτελέσετε το ppp σε κατάσταση
		  <code class="option">-auto</code>, θα πρέπει να μετακινήσετε αυτή τη
		  γραμμή στο αρχείο <code class="filename">ppp.linkup</code>.</p></dd></dl></div><p>Δεν είναι απαραίτητο να προσθέσετε καταχώριση στο αρχείο
	    <code class="filename">ppp.linkup</code> όταν έχετε στατική διεύθυνση IP
	    και εκτελείτε το ppp σε κατάσταση <code class="option">-auto</code>.  Στην
	    περίπτωση αυτή, οι καταχωρίσεις σας στον πίνακα δρομολόγησης είναι
	    σωστές πριν καν συνδεθείτε.  Ίσως ωστόσο να θέλετε να
	    δημιουργήσετε μια καταχώριση για να εκτελέσετε κάποια προγράμματα
	    μετά την αποκατάσταση της σύνδεσης.  Θα το εξηγήσουμε αυτό
	    αργότερα σε ένα παράδειγμα με το sendmail.</p><p>Μπορείτε να βρείτε παραδείγματα αρχείων ρυθμίσεων στον
	    κατάλογο <code class="filename">usr/share/examples/ppp/</code>.</p></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="userppp-dynamicIP"></a>27.2.1.2.2. PPP και Δυναμικές Διευθύνσεις IP</h5></div></div></div><a id="idp95591120" class="indexterm"></a><a id="idp95592272" class="indexterm"></a><p>Αν ο παροχέας σας δεν δίνει στατικές διευθύνσεις, το
	    <code class="command">ppp</code> μπορεί να ρυθμιστεί να διαπραγματεύεται
	    την τοπική και την απομακρυσμένη διεύθυνση.  Αυτό γίνεται
	    <span class="quote">«<span class="quote">μαντεύοντας</span>»</span> μια διεύθυνση IP, και επιτρέποντας στο
	    <code class="command">ppp</code> να την θέσει έπειτα σωστά, χρησιμοποιώντας
	    το πρωτόκολλο IPCP (IP Configuration Protocol) μετά τη σύνδεση.
	    Το αρχείο ρυθμίσεων <code class="filename">ppp.conf</code> είναι το ίδιο
	    όπως και στο
	    <a class="link" href="userppp.html#userppp-staticIP" title="27.2.1.2.1. PPP και Στατικές Διευθύνσεις IP">PPP και Στατικές Διευθύνσεις
	    IP</a>, με την παρακάτω μόνο αλλαγή:</p><pre class="programlisting">17      set ifaddr 10.0.0.1/0 10.0.0.2/0 255.255.255.255 0.0.0.0</pre><p>Όπως και προηγουμένως, δεν πρέπει να περιλάβετε τον αριθμό
	    γραμμής.  Απαιτείται εσοχή ενός τουλάχιστον κενού
	    διαστήματος.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Γραμμή 17:</span></dt><dd><p>Ο αριθμός μετά το χαρακτήρα <code class="literal">/</code>
		  είναι το πλήθος των bits της διεύθυνσης για το οποίο θα
		  επιμείνει το ppp.  Ίσως θέλετε να χρησιμοποιήσετε αριθμούς
		  IP πιο κατάλληλους για την περίσταση, αλλά το παράδειγμα
		  που δίνουμε παραπάνω θα λειτουργήσει πάντα.</p><p>Το τελευταίο όρισμα (το <code class="literal">0.0.0.0</code>) λέει
		  στο PPP να αρχίσει τις διαπραγματεύσεις με την διεύθυνση
		  <code class="systemitem">0.0.0.0</code> αντί για την <code class="systemitem">10.0.0.1</code>.  Αυτό είναι απαραίτητο σε
		  ορισμένους ISP.  Μη χρησιμοποιήσετε το
		  <code class="literal">0.0.0.0</code> ως πρώτο όρισμα στην
		  <code class="command">set ifaddr</code>, καθώς θα εμποδίσει την PPP
		  να ρυθμίσει την αρχική διαδρομή στην κατάσταση
		  <code class="option">-auto</code> .</p></dd></dl></div><p>Αν δεν χρησιμοποιείτε την επιλογή <code class="option">-auto</code>,
	    θα χρειαστεί να δημιουργήσετε μια καταχώριση στο αρχείο
	    <code class="filename">/etc/ppp/ppp.linkup</code>.
	    Το αρχείο <code class="filename">ppp.linkup</code> χρησιμοποιείται μετά
	    την αποκατάσταση της σύνδεσης.  Στο σημείο αυτό, το
	    <code class="command">ppp</code> θα έχει ήδη αποδώσει διεύθυνση στην
	    διεπαφή και θα είναι πλέον δυνατόν να προσθέσετε τις καταχωρίσεις
	    στον πίνακα δρομολόγησης:</p><pre class="programlisting">1     provider:
2      add default HISADDR</pre><div class="variablelist"><dl class="variablelist"><dt><span class="term">Γραμμή 1:</span></dt><dd><p>Με την αποκατάσταση της σύνδεσης, το
		  <code class="command">ppp</code> θα ψάξει για μια καταχώριση στο
		  <code class="filename">ppp.linkup</code> σύμφωνα με τους παρακάτω
		  κανόνες: Αρχικά θα προσπαθήσει να ταιριάξει την πρώτη
		  ετικέτα που έχει χρησιμοποιηθεί στο αρχείο
		  <code class="filename">ppp.conf</code>.  Αν αυτό αποτύχει, θα ψάξει
		  για μια καταχώριση για την διεύθυνση IP της πύλης.
		  Η καταχώριση αυτή είναι μια ετικέτα μορφής IP διεύθυνσης,
		  με τέσσερις οκτάδες.  Αν δεν έχει ακόμα βρεθεί η σωστή
		  καταχώριση, θα γίνει ανίχνευση για την καταχώριση
		  <code class="literal">MYADDR</code>.</p></dd><dt><span class="term">Γραμμή 2:</span></dt><dd><p>Η γραμμή αυτή λέει στο <code class="command">ppp</code> να
		  προσθέσει μια προεπιλεγμένη διαδρομή η οποία να δείχνει στο
		  <code class="literal">HISADDR</code>.  Το <code class="literal">HISADDR</code>
		  θα αντικατασταθεί με τη διεύθυνση IP της πύλης όπως
		  αυτή αποδόθηκε μέσω του πρωτοκόλλου IPCP.</p></dd></dl></div><p>Δείτε την καταχώριση <code class="literal">pmdemand</code> στα αρχεία
	    <code class="filename">/usr/share/examples/ppp/ppp.conf.sample</code>
	    και
	    <code class="filename">/usr/share/examples/ppp/ppp.linkup.sample</code>
	    για ένα πιο λεπτομερές παράδειγμα.</p></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp95624656"></a>27.2.1.2.3. Λήψη Εισερχόμενων Κλήσεων</h5></div></div></div><a id="idp95625296" class="indexterm"></a><p>Όταν ρυθμίζετε το <span class="application">ppp</span> να λαμβάνει
	    εισερχόμενες κλήσεις σε ένα μηχάνημα που συνδέεται σε ένα τοπικό
	    δίκτυο (LAN), θα πρέπει να αποφασίσετε αν θέλετε να προωθούνται
	    πακέτα προς αυτό.  Αν ναι, θα πρέπει να αποδώσετε στο μηχάνημα
	    μια διεύθυνση IP η οποία να ανήκει στο ίδιο υποδίκτυο με το LAN,
	    και να χρησιμοποιήσετε την εντολή <code class="command">enable proxy</code>
	    στο αρχείο <code class="filename">/etc/ppp/ppp.conf</code>.  Θα πρέπει
	    επίσης να επιβεβαιώσετε ότι το αρχείο
	    <code class="filename">/etc/rc.conf</code> περιέχει τα παρακάτω:</p><pre class="programlisting">gateway_enable="YES"</pre></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp95628880"></a>27.2.1.2.4. Ποιο getty;</h5></div></div></div><p>Η ενότητα <a class="link" href="dialup.html" title="26.4. Υπηρεσία Εισόδου μέσω Επιλογικής Σύνδεσης (dial-in)">Υπηρεσία Εισόδου μέσω
	    Επιλογικής Σύνδεσης (dial in)</a> παρέχει μια καλή περιγραφή
	    σχετικά με την ενεργοποίηση υπηρεσιών επιλογικών κλήσεων
	    χρησιμοποιώντας την <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=getty&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">getty</span>(8)</span></a>.</p><p>Μια εναλλακτική στην <code class="command">getty</code> είναι η <a class="link" href="http://mgetty.greenie.net/" target="_top">mgetty</a> (από το πακέτο
	    <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/comms/mgetty+sendfax/pkg-descr">comms/mgetty+sendfax</a>),
	    μια πιο έξυπνη έκδοση της <code class="command">getty</code>, η οποία έχει
	    σχεδιαστεί για να λαμβάνει υπόψιν τις επιλογικές γραμμές.</p><p>Τα πλεονεκτήματα της <code class="command">mgetty</code> είναι ότι
	    <span class="emphasis"><em>επικοινωνεί</em></span> ενεργά με τα modem, το οποίο
	    σημαίνει ότι αν η θύρα είναι απενεργοποιημένη στο
	    <code class="filename">/etc/ttys</code>, το modem σας δεν θα απαντήσει
	    στην κλήση.</p><p>Μεταγενέστερες εκδόσεις της <code class="command">mgetty</code>
	    (από την 0.99beta και μετά) υποστηρίζουν επίσης αυτόματη
	    ανίχνευση PPP streams, επιτρέποντας στους πελάτες σας πρόσβαση
	    στον εξυπηρετητή χωρίς χρήση scripts.</p><p>Διαβάστε την ενότητα <a class="link" href="userppp.html#userppp-mgetty" title="27.2.1.2.10. mgetty και AutoPPP">Mgetty
	    και AutoPPP</a> για περισσότερες πληροφορίες σχετικά με την
	    <code class="command">mgetty</code>.</p></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp95637072"></a>27.2.1.2.5. Άδειες για το <span class="application">PPP</span></h5></div></div></div><p>Φυσιολογικά, η εκτέλεση της εντολής <code class="command">ppp</code>
	    πρέπει να γίνεται ως χρήστης <code class="systemitem">root</code>.  Αν
	    ωστόσο θέλετε να επιτρέψετε την εκτέλεση του
	    <code class="command">ppp</code> σε κατάσταση εξυπηρετητή ως κανονικός
	    χρήστης (με τον τρόπο που περιγράφεται παρακάτω) θα πρέπει να
	    δώσετε σε αυτό το χρήστη τα κατάλληλα δικαιώματα για να
	    εκτελεί το <code class="command">ppp</code>, προσθέτοντας τον στην ομάδα
	    <code class="systemitem">network</code> στο αρχείο
	    <code class="filename">/etc/group</code>.</p><p>Θα πρέπει επίσης να τους δώσετε πρόσβαση σε ένα ή
	    περισσότερα τμήματα του αρχείου ρυθμίσεων, χρησιμοποιώντας την
	    εντολή <code class="command">allow</code>:</p><pre class="programlisting">allow users fred mary</pre><p>Αν χρησιμοποιήσετε την επιλογή αυτή στο τμήμα
	    <code class="literal">default</code>, θα δώσετε σε αυτούς τους χρήστες
	    πρόσβαση σε όλες τις ρυθμίσεις.</p></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp95643344"></a>27.2.1.2.6. Κελύφη PPP για Χρήστες με Δυναμικά IP</h5></div></div></div><a id="idp95643984" class="indexterm"></a><p>Δημιουργήστε ένα αρχείο με το όνομα
	    <code class="filename">/etc/ppp/ppp-shell</code> το οποίο να περιέχει τα
	    παρακάτω:</p><pre class="programlisting">#!/bin/sh
IDENT=`echo $0 | sed -e 's/^.*-\(.*\)$/\1/'`
CALLEDAS="$IDENT"
TTY=`tty`

if [ x$IDENT = xdialup ]; then
        IDENT=`basename $TTY`
fi

echo "PPP for $CALLEDAS on $TTY"
echo "Starting PPP for $IDENT"

exec /usr/sbin/ppp -direct $IDENT</pre><p>Το script αυτό θα πρέπει να γίνει εκτελέσιμο.  Δημιουργήστε
	    τώρα ένα συμβολικό δεσμό που να ονομάζεται
	    <code class="filename">ppp-dialup</code> χρησιμοποιώντας τις παρακάτω
	    εντολές:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ln -s ppp-shell /etc/ppp/ppp-dialup</code></strong></pre><p>Θα πρέπει να χρησιμοποιήσετε αυτό το script ως το
	    <span class="emphasis"><em>κέλυφος</em></span> για όλους τους dialup χρήστες.
	    Εδώ φαίνεται ένα παράδειγμα του <code class="filename">/etc/passwd</code>
	    για ένα χρήστη dialup με όνομα
	    <code class="systemitem">pchilds</code> (θυμηθείτε ότι δεν πρέπει να
	    τροποποιείτε άμεσα το αρχείο των κωδικών, αλλά μέσω της εντολής
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=vipw&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">vipw</span>(8)</span></a>).</p><pre class="programlisting">pchilds:*:1011:300:Peter Childs PPP:/home/ppp:/etc/ppp/ppp-dialup</pre><p>Δημιουργήστε ένα κατάλογο <code class="filename">/home/ppp</code> προσβάσιμο για ανάγνωση
	    από όλους, ο οποίος θα περιέχει τα παρακάτω κενά αρχεία:</p><pre class="screen">-r--r--r--   1 root     wheel           0 May 27 02:23 .hushlogin
-r--r--r--   1 root     wheel           0 May 27 02:22 .rhosts</pre><p>τα οποία εμποδίζουν την εμφάνιση του μηνύματος από το αρχείο
	    <code class="filename">/etc/motd</code>.</p></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp95673296"></a>27.2.1.2.7. Κελύφη PPP για Χρήστες με Στατικό IP</h5></div></div></div><a id="idp95673936" class="indexterm"></a><p>Δημιουργήστε το αρχείο <code class="filename">ppp-shell</code>
	    όπως φαίνεται παραπάνω, και για κάθε λογαριασμό με στατικό
	    IP, δημιουργήστε ένα συμβολικό δεσμό προς το
	    <code class="filename">ppp-shell</code>.</p><p>Για παράδειγμα, αν έχετε τρεις πελάτες dialup, τους
	    <code class="systemitem">fred</code>, <code class="systemitem">sam</code>, και
	    <code class="systemitem">mary</code>, στους οποίους εκτελείτε δρομολόγηση
	    /24 CIDR, θα πρέπει να γράψετε τα παρακάτω:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ln -s /etc/ppp/ppp-shell /etc/ppp/ppp-fred</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>ln -s /etc/ppp/ppp-shell /etc/ppp/ppp-sam</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>ln -s /etc/ppp/ppp-shell /etc/ppp/ppp-mary</code></strong></pre><p>Για κάθε λογαριασμό χρήστη dialup, θα πρέπει να ρυθμιστεί
	    το κέλυφος στο συμβολικό δεσμό που δημιουργήθηκε παραπάνω (για
	    παράδειγμα ο συμβολικός δεσμός για το κέλυφος του χρήστη
	    <code class="systemitem">mary</code> θα πρέπει να είναι ο
	    <code class="filename">/etc/ppp/ppp-mary</code>).</p></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp95685840"></a>27.2.1.2.8. Ρύθμιση του <code class="filename">ppp.conf</code> για Χρήστες με
	    Δυναμικό IP</h5></div></div></div><p>Το αρχείο <code class="filename">/etc/ppp/ppp.conf</code> θα πρέπει να
	    περιέχει κάτι αντίστοιχο με το παρακάτω:</p><pre class="programlisting">default:
  set debug phase lcp chat
  set timeout 0

ttyu0:
  set ifaddr 203.14.100.1 203.14.100.20 255.255.255.255
  enable proxy

ttyu1:
  set ifaddr 203.14.100.1 203.14.100.21 255.255.255.255
  enable proxy</pre><div xmlns="" class="note"><h3 class="admontitle">Σημείωση: </h3><p xmlns="http://www.w3.org/1999/xhtml">Η στοίχιση είναι σημαντική.</p></div><p>Για κάθε συνεδρία, φορτώνεται η ενότητα
	    <code class="literal">default:</code>.  Για κάθε γραμμή dialup που
	    ενεργοποιείται στο <code class="filename">/etc/ttys</code>, θα πρέπει να
	    δημιουργήσετε μια καταχώριση όμοια με αυτή που φαίνεται παραπάνω
	    για το <code class="literal">ttyu0:</code>.  Κάθε γραμμή θα πρέπει να
	    παίρνει μια μοναδική διεύθυνση IP από το απόθεμα των IP
	    διευθύνσεων που προορίζονται για τους δυναμικούς χρήστες.</p></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp95690576"></a>27.2.1.2.9. Ρύθμιση του <code class="filename">ppp.conf</code> για Χρήστες με
	    Στατικό IP</h5></div></div></div><p>Εκτός από τα περιεχόμενα του υποδείγματος
	    <code class="filename">/usr/share/examples/ppp/ppp.conf</code> θα πρέπει
	    να προσθέσετε μια ενότητα για καθένα από τους χρήστες dialup
	    στους οποίους έχει αποδοθεί στατικό IP.  Θα συνεχίσουμε με το
	    παράδειγμα μας με τους χρήστες
	    <code class="systemitem">fred</code>, <code class="systemitem">sam</code>, και
	    <code class="systemitem">mary</code>.</p><pre class="programlisting">fred:
  set ifaddr 203.14.100.1 203.14.101.1 255.255.255.255

sam:
  set ifaddr 203.14.100.1 203.14.102.1 255.255.255.255

mary:
  set ifaddr 203.14.100.1 203.14.103.1 255.255.255.255</pre><p>Το αρχείο <code class="filename">/etc/ppp/ppp.linkup</code>
	    θα πρέπει επίσης να περιέχει πληροφορίες δρομολόγησης για κάθε
	    χρήστη με στατικό IP (αν απαιτείται).  Η παρακάτω γραμμή θα
	    προσθέσει μια διαδρομή προς τη διεύθυνση δικτύου
	    <code class="systemitem">203.14.101.0/24</code>
	    μέσω της σύνδεσης ppp του πελάτη.</p><pre class="programlisting">fred:
  add 203.14.101.0 netmask 255.255.255.0 HISADDR

sam:
  add 203.14.102.0 netmask 255.255.255.0 HISADDR

mary:
  add 203.14.103.0 netmask 255.255.255.0 HISADDR</pre></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="userppp-mgetty"></a>27.2.1.2.10. <code class="command">mgetty</code> και AutoPPP</h5></div></div></div><a id="idp95697360" class="indexterm"></a><a id="idp95698256" class="indexterm"></a><a id="idp95699024" class="indexterm"></a><p>Το port
	    <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/comms/mgetty+sendfax/pkg-descr">comms/mgetty+sendfax</a>, έρχεται
	    με προεπιλεγμένη την επιλογή <code class="literal">AUTO_PPP</code>,
	    επιτρέποντας έτσι στην <code class="command">mgetty</code> να ανιχνεύει την
	    φάση LCP των συνδέσεων PPP και να εκτελεί αυτόματα ένα κέλυφος
	    ppp.  Ωστόσο, καθώς με αυτό τον τρόπο δεν ενεργοποιείται η
	    προεπιλεγμένη ακολουθία ονόματος χρήστη και κωδικού, είναι
	    απαραίτητο να γίνει πιστοποίηση των χρηστών με τη χρήση PAP ή
	    CHAP.</p><p>Η ενότητα αυτή προϋποθέτει ότι ο χρήστης έχει ρυθμίσει,
	    μεταγλωττίσει και εγκαταστήσει με επιτυχία το port <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/comms/mgetty+sendfax/pkg-descr">comms/mgetty+sendfax</a> στο σύστημα
	    του.</p><p>Βεβαιωθείτε ότι το αρχείο σας
	    <code class="filename">/usr/local/etc/mgetty+sendfax/login.config</code>
	    περιέχει τα παρακάτω:</p><pre class="programlisting">/AutoPPP/ -     -		      /etc/ppp/ppp-pap-dialup</pre><p>Αυτό θα πει στην <code class="command">mgetty</code> να εκτελέσει το
	    script <code class="filename">ppp-pap-dialup</code> για τις PPP συνδέσεις
	    που ανιχνεύθηκαν.</p><p>Δημιουργήστε ένα αρχείο με το όνομα
	    <code class="filename">/etc/ppp/ppp-pap-dialup</code> το οποίο θα περιέχει
	    τα ακόλουθα (το αρχείο θα πρέπει να είναι εκτελέσιμο):</p><pre class="programlisting">#!/bin/sh
exec /usr/sbin/ppp -direct pap$IDENT</pre><p>Για κάθε γραμμή dialup που είναι ενεργοποιημένη στο
	    <code class="filename">/etc/ttys</code>, δημιουργήστε μια αντίστοιχη
	    καταχώριση στο αρχείο <code class="filename">/etc/ppp/ppp.conf</code>.
	    Η καταχώριση αυτή μπορεί να συνυπάρχει χωρίς πρόβλημα με αυτές
	    που ορίσαμε παραπάνω.</p><pre class="programlisting">pap:
  enable pap
  set ifaddr 203.14.100.1 203.14.100.20-203.14.100.40
  enable proxy</pre><p>Κάθε χρήστης που εισέρχεται με αυτό τον τρόπο, θα πρέπει να
	    διαθέτει όνομα χρήστη/κωδικό στο αρχείο
	    <code class="filename">/etc/ppp/ppp.secret</code>.  Εναλλακτικά, μπορείτε
	    να προσθέσετε την παρακάτω επιλογή ώστε να γίνεται πιστοποίηση
	    των χρηστών μέσω PAP με βάση τα στοιχεία του αρχείου
	    <code class="filename">/etc/passwd</code>.</p><pre class="programlisting">enable passwdauth</pre><p>Αν θέλετε να αποδώσετε στατικό IP σε κάποιους χρήστες,
	    μπορείτε να καθορίσετε την διεύθυνση ως τρίτο όρισμα στο αρχείο
	    <code class="filename">/etc/ppp/ppp.secret</code>.  Για παραδείγματα,
	    δείτε το αρχείο
	    <code class="filename">/usr/share/examples/ppp/ppp.secret.sample</code>.</p></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp95714128"></a>27.2.1.2.11. Επεκτάσεις MS</h5></div></div></div><a id="idp95714768" class="indexterm"></a><a id="idp95715536" class="indexterm"></a><a id="idp95732816" class="indexterm"></a><p>Είναι δυνατόν να ρυθμίσετε το PPP ώστε να παρέχει
	    διευθύνσεις DNS και NetBIOS κατά απαίτηση.</p><p>Για να ενεργοποιήσετε αυτές τις επεκτάσεις με την έκδοση
	    1.x του PPP, θα πρέπει να προσθέσετε τις παρακάτω γραμμές στο
	    σχετικό τμήμα του <code class="filename">/etc/ppp/ppp.conf</code>.</p><pre class="programlisting">enable msext
set ns 203.14.100.1 203.14.100.2
set nbns 203.14.100.5</pre><p>Για το PPP από την έκδοση 2 και πάνω:</p><pre class="programlisting">accept dns
set dns 203.14.100.1 203.14.100.2
set nbns 203.14.100.5</pre><p>Το παραπάνω θα ενημερώσει τους πελάτες για τον κύριο και
	    δευτερεύοντα εξυπηρετητή DNS, και για τον εξυπηρετητή ονομάτων
	    NetBIOS.</p><p>Από την έκδοση 2 και πάνω, αν παραλειφθεί η γραμμή
	    <code class="literal">set dns</code>, το PPP θα χρησιμοποιήσει τις γραμμές
	    που θα βρει στο <code class="filename">/etc/resolv.conf</code>.</p></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="userppp-PAPnCHAP"></a>27.2.1.2.12. Πιστοποίηση PAP και CHAP</h5></div></div></div><a id="idp95738704" class="indexterm"></a><a id="idp95739216" class="indexterm"></a><p>Κάποιοι ISP ρυθμίζουν τα συστήματα τους με τέτοιο τρόπο, ώστε
	    το κομμάτι της σύνδεσης που ασχολείται με την πιστοποίηση του
	    χρήστη να γίνεται μέσω των μηχανισμών PAP ή CHAP.  Αν συμβαίνει
	    αυτό στη δική σας περίπτωση, ο ISP σας δεν θα σας στείλει προτροπή
	    login όταν συνδεθείτε, αλλά θα αρχίσει απευθείας τη μετάδοση
	    PPP.</p><p>Το PAP είναι λιγότερο ασφαλές από το CHAP, αλλά η ασφάλεια
	    εδώ δεν είναι τόσο σπουδαίο θέμα, καθώς οι κωδικοί (αν και
	    στέλνονται ως κανονικό κείμενο) μεταδίδονται μόνο μέσω σειριακής
	    γραμμής.  Έτσι δεν υπάρχει πραγματική δυνατότητα των crackers
	    να <span class="quote">«<span class="quote">κρυφακούσουν</span>»</span>.</p><p>Χρησιμοποιώντας ως αναφορά τις ενότητες <a class="link" href="userppp.html#userppp-staticIP" title="27.2.1.2.1. PPP και Στατικές Διευθύνσεις IP">PPP και Στατικές Διευθύνσεις
	      IP</a> ή <a class="link" href="userppp.html#userppp-dynamicIP" title="27.2.1.2.2. PPP και Δυναμικές Διευθύνσεις IP">PPP και Δυναμικές
	    Διευθύνσεις IP</a>, θα πρέπει να γίνουν οι παρακάτω
	    αλλαγές:</p><pre class="programlisting">13      set authname <em class="replaceable"><code>MyUserName</code></em>
14      set authkey <em class="replaceable"><code>MyPassword</code></em>
15      set login</pre><div class="variablelist"><dl class="variablelist"><dt><span class="term">Γραμμή 13:</span></dt><dd><p>Η γραμμή αυτή καθορίζει το όνομα χρήστη για τα PAP/CHAP.
		  Θα χρειαστεί να εισάγετε την σωστή τιμή για το
		  <em class="replaceable"><code>MyUserName</code></em>.</p></dd><dt><span class="term">Γραμμή 14:</span></dt><dd><p>Η γραμμή αυτή καθορίζει τον κωδικό για τα PAP/CHAP.  Θα
		  χρειαστεί να εισάγετε την σωστή τιμή για το
		  <em class="replaceable"><code>MyPassword</code></em><a id="idp95747408" class="indexterm"></a>.  Ίσως θέλετε να
		  προσθέσετε μια ακόμα γραμμή, όπως την παρακάτω:</p><pre class="programlisting">16      accept PAP</pre><p>ή</p><pre class="programlisting">16      accept CHAP</pre><p>για να είναι φανερή η πρόθεση σας, ωστόσο τόσο το PAP
		  όσο και το CHAP γίνονται δεκτά από προεπιλογή.</p></dd><dt><span class="term">Γραμμή 15:</span></dt><dd><p>Ο ISP σας δεν θα απαιτεί φυσιολογικά να εισέλθετε στον
		  εξυπηρετητή αν χρησιμοποιείτε PAP ή CHAP.  Για το λόγο αυτό,
		  θα πρέπει να απενεργοποιήσετε το αλφαριθμητικό
		  <span class="quote">«<span class="quote">set login</span>»</span>.</p></dd></dl></div></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp95760336"></a>27.2.1.2.13. Αλλάζοντας Άμεσα τις Ρυθμίσεις του
	    <code class="command">ppp</code></h5></div></div></div><p>Είναι δυνατόν να επικοινωνήσετε με το πρόγραμμα
	    <code class="command">ppp</code> καθώς εκτελείται στον παρασκήνιο, αλλά
	    μόνο αν έχετε ρυθμίσει μια κατάλληλη διαγνωστική θύρα για αυτό
	    το σκοπό.  Για να το κάνετε αυτό, προσθέστε την παρακάτω γραμμή
	    στις ρυθμίσεις σας:</p><pre class="programlisting">set server /var/run/ppp-tun<em class="replaceable"><code>%d</code></em> DiagnosticPassword 0177</pre><p>Αυτό οδηγεί το PPP να <span class="quote">«<span class="quote">ακούει</span>»</span> στο καθορισμένο
	    <span class="trademark">UNIX</span>(R) socket του τομέα, και να ρωτάει τους πελάτες για τον
	    κωδικό που έχει καθοριστεί πριν επιτρέψει την πρόσβαση.  Το
	    <code class="literal">%d</code> στο όνομα, αντικαθίσταται με τον αριθμό της
	    συσκευής <code class="filename">tun</code> που χρησιμοποιείται.</p><p>Από τη στιγμή που ρυθμιστεί το socket, το πρόγραμμα
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pppctl&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">pppctl</span>(8)</span></a> μπορεί να χρησιμοποιηθεί σε scripts με τα οποία
	    επιθυμείτε να διαχειριστείτε το πρόγραμμα <code class="command">ppp</code>
	    το οποίο εκτελείται ήδη.</p></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="userppp-nat"></a>27.2.1.3. Χρησιμοποιώντας τη Δυνατότητα Μετάφρασης Διευθύνσεων (NAT) του
	  PPP</h4></div></div></div><p>Το PPP<a id="idp95792464" class="indexterm"></a> έχει την ικανότητα να χρησιμοποιήσει δικό του εσωτερικό
	  NAT, χωρίς να απαιτούνται οι ικανότητες ανακατεύθυνσης του πυρήνα.
	  Μπορείτε να ενεργοποιήσετε αυτή τη λειτουργία με την ακόλουθη
	  γραμμή στο <code class="filename">/etc/ppp/ppp.conf</code>:</p><pre class="programlisting">nat enable yes</pre><p>Εναλλακτικά, το NAT του PPP μπορεί να ενεργοποιηθεί με την
	  επιλογή <code class="literal">-nat</code> στην γραμμή εντολών.  Μπορείτε ακόμα
	  να βάλετε την επιλογή <code class="literal">ppp_nat</code> στο αρχείο
	  <code class="filename">/etc/rc.conf</code>.  Η επιλογή αυτή είναι
	  ενεργοποιημένη από προεπιλογή.</p><p>Αν χρησιμοποιήσετε αυτό το χαρακτηριστικό, μάλλον θα βρείτε
	  χρήσιμες και τις παρακάτω επιλογές για το
	  <code class="filename">/etc/ppp/ppp.conf</code>, με τις οποίες ενεργοποιείται
	  η προώθηση εισερχόμενων συνδέσεων:</p><pre class="programlisting">nat port tcp 10.0.0.2:ftp ftp
nat port tcp 10.0.0.2:http http</pre><p>ή αν δεν εμπιστεύεστε καθόλου το εξωτερικό δίκτυο:</p><pre class="programlisting">nat deny_incoming yes</pre></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="userppp-final"></a>27.2.1.4. Τελικές Ρυθμίσεις Συστήματος</h4></div></div></div><a id="idp95798736" class="indexterm"></a><p>Έχετε πλέον ρυθμίσει το <code class="command">ppp</code>, αλλά υπάρχουν
	  μερικά ακόμα πράγματα που πρέπει να κάνετε πριν να είναι έτοιμο για
	  λειτουργία.  Όλα περιλαμβάνουν την επεξεργασία του αρχείου
	  <code class="filename">/etc/rc.conf</code>.</p><p>Ξεκινώντας από την αρχή του αρχείου αυτού, βεβαιωθείτε ότι είναι
	  ορισμένη η γραμμή <code class="literal">hostname=</code>, π.χ.:</p><pre class="programlisting">hostname="foo.example.com"</pre><p>Αν ο ISP σας παρέχει στατική IP διεύθυνση και όνομα, είναι
	  μάλλον καλύτερο να χρησιμοποιήσετε αυτό το όνομα ως όνομα για το
	  μηχάνημα σας.</p><p>Ψάξτε για τη μεταβλητή <code class="literal">network_interfaces</code>.
	  Αν θέλετε να ρυθμίσετε το σύστημα σας να καλεί τον ISP σας κατά
	  απαίτηση, βεβαιωθείτε ότι υπάρχει στη λίστα η συσκευή
	  <code class="filename">tun0</code>, διαφορετικά αφαιρέστε την.</p><pre class="programlisting">network_interfaces="lo0 tun0"
ifconfig_tun0=</pre><div xmlns="" class="note"><h3 class="admontitle">Σημείωση: </h3><p xmlns="http://www.w3.org/1999/xhtml">Η μεταβλητή <code class="literal">ifconfig_tun0</code> θα πρέπει να
	    είναι άδεια, και θα πρέπει να δημιουργηθεί ένα αρχείο με όνομα
	    <code class="filename">/etc/start_if.tun0</code>.  Το αρχείο αυτό θα πρέπει
	    να περιέχει την παρακάτω γραμμή:</p><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting">ppp -auto mysystem</pre><p xmlns="http://www.w3.org/1999/xhtml">Το script αυτό εκτελείται κατά τη διάρκεια ρύθμισης του
	    δικτύου, ξεκινώντας έτσι το δαίμονα ppp σε κατάσταση αυτόματης
	    λειτουργίας.  Αν διαθέτετε κάποιο τοπικό δίκτυο (LAN) για το
	    οποίο το μηχάνημα αυτό έχει το ρόλο της πύλης, ίσως να θέλετε
	    επίσης να χρησιμοποιήσετε την επιλογή <code class="option">-alias</code>.
	    Δείτε τη σελίδα manual για περισσότερες λεπτομέρειες.</p></div><p>Βεβαιωθείτε ότι η μεταβλητή για το πρόγραμμα router έχει τεθεί
	  στο <code class="literal">NO</code> μέσω της επόμενης γραμμής στο
	  <code class="filename">/etc/rc.conf</code>:</p><pre class="programlisting">router_enable="NO"</pre><a id="idp95812688" class="indexterm"></a><p>Είναι σημαντικό να μην ξεκινήσει ο δαίμονας
	  <code class="command">routed</code>, ο οποίος συνήθως διαγράφει τις
	  προεπιλεγμένες τιμές του πίνακα δρομολόγησης που δημιουργούνται από
	  το <code class="command">ppp</code>.</p><p>Είναι μάλλον καλή ιδέα να εξασφαλίσετε ότι η γραμμή
	  <code class="literal">sendmail_flags</code> δεν περιλαμβάνει την επιλογή
	  <code class="option">-q</code>, διαφορετικά το <code class="command">sendmail</code> θα
	  προσπαθεί κάθε τόσο να κάνει αναζήτηση του δικτύου, με πιθανό
	  αποτέλεσμα το μηχάνημα σας να εκτελεί τηλεφωνική σύνδεση
	  (dial out).  Μπορείτε να δοκιμάσετε:</p><pre class="programlisting">sendmail_flags="-bd"</pre><a id="idp95816784" class="indexterm"></a><p>Το μειονέκτημα του παραπάνω, είναι ότι πρέπει να εξαναγκάσετε το
	  <code class="command">sendmail</code> να επανεξετάσει την ουρά των μηνυμάτων,
	  κάθε φορά που αποκαθίσταται η σύνδεση ppp, γράφοντας:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>/usr/sbin/sendmail -q</code></strong></pre><p>Ίσως θέλετε να χρησιμοποιήσετε την εντολή
	  <code class="command">!bg</code> στο <code class="filename">ppp.linkup</code> για να
	  γίνεται το παραπάνω αυτόματα:</p><pre class="programlisting">1     provider:
2       delete ALL
3       add 0 0 HISADDR
4       !bg sendmail -bd -q30m</pre><a id="idp95825232" class="indexterm"></a><p>Αν αυτό δεν σας αρέσει, είναι δυνατόν να ρυθμίσετε ένα
	  <span class="quote">«<span class="quote">dfilter</span>»</span> το οποίο να αποκόπτει την κίνηση SMTP.
	  Δείτε τα υποδείγματα για περισσότερες λεπτομέρειες.</p><p>Το μόνο που μένει είναι να επανεκκινήσετε το μηχάνημα.  Μετά
	  την επανεκκίνηση, μπορείτε είτε να γράψετε:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ppp</code></strong></pre><p>και έπειτα <code class="command">dial provider</code> για να ξεκινήσετε
	  τη συνεδρία PPP, ή αν θέλετε το <code class="command">ppp</code> να
	  αποκαθιστά τις συνεδρίες αυτόματα κάθε φορά που υπάρχει κίνηση
	  προς το εξωτερικό δίκτυο (και δεν έχετε δημιουργήσει το script
	  <code class="filename">start_if.tun0</code>) μπορείτε να γράψετε:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ppp -auto provider</code></strong></pre></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp95830736"></a>27.2.1.5. Περίληψη</h4></div></div></div><p>Για να ανακεφαλαιώσουμε, τα παρακάτω βήματα είναι απαραίτητα
	  όταν εγκαθιστάτε το ppp για πρώτη φορά:</p><p>Από τη μεριά του μηχανήματος-πελάτη:</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Βεβαιωθείτε ότι περιλαμβάνεται στον πυρήνα σας η συσκευή
	      <code class="filename">tun</code>.</p></li><li class="step"><p>Βεβαιωθείτε ότι υπάρχει το αρχείο της συσκευής
	      <code class="filename">tunN</code>
	      στον κατάλογο <code class="filename">/dev</code>.</p></li><li class="step"><p>Δημιουργήστε μια καταχώριση στο αρχείο
	      <code class="filename">/etc/ppp/ppp.conf</code>.  Το παράδειγμα για το
	      <code class="filename">pmdemand</code> θα πρέπει να είναι επαρκές για
	      τους περισσότερους ISPs.</p></li><li class="step"><p>Αν έχετε δυναμική διεύθυνση IP, δημιουργήστε μια καταχώριση
	      στο <code class="filename">/etc/ppp/ppp.linkup</code>.</p></li><li class="step"><p>Ενημερώστε το αρχείο
	      <code class="filename">/etc/rc.conf</code>.</p></li><li class="step"><p>Δημιουργήστε το script <code class="filename">start_if.tun0</code> αν
	      χρειάζεστε κλήση κατά απαίτηση.</p></li></ol></div><p>Από τη μεριά του εξυπηρετητή:</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Βεβαιωθείτε ότι περιλαμβάνεται στον πυρήνα σας η συσκευή
	      <code class="filename">tun</code>.</p></li><li class="step"><p>Βεβαιωθείτε ότι υπάρχει το αρχείο της συσκευής
	      <code class="filename">tunN</code>
	      στον κατάλογο <code class="filename">/dev</code>.</p></li><li class="step"><p>Δημιουργήστε μια καταχώριση στο
	      <code class="filename">/etc/passwd</code> (χρησιμοποιώντας το πρόγραμμα
	      <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=vipw&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">vipw</span>(8)</span></a>).</p></li><li class="step"><p>Δημιουργήστε ένα αρχείο profile στον προσωπικό κατάλογο του
	      χρήστη, το οποίο να εκτελεί την εντολή
	      <code class="command">ppp -direct direct-server</code> ή κάποια
	      αντίστοιχη.</p></li><li class="step"><p>Δημιουργήστε μια καταχώριση στο
	      <code class="filename">/etc/ppp/ppp.conf</code>.  Το παράδειγμα για το
	      <code class="filename">direct-server</code> θα πρέπει να είναι
	      επαρκές.</p></li><li class="step"><p>Δημιουργήστε μια καταχώριση στο
	      <code class="filename">/etc/ppp/ppp.linkup</code>.</p></li><li class="step"><p>Ενημερώστε το αρχείο
	      <code class="filename">/etc/rc.conf</code>.</p></li></ol></div></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ppp-and-slip.html">Προηγ</a> </td><td width="20%" align="center"><a accesskey="u" href="ppp-and-slip.html">Πάνω</a></td><td width="40%" align="right"> <a accesskey="n" href="ppp.html">Επόμενο</a></td></tr><tr><td width="40%" align="left" valign="top">Κεφάλαιο 27. PPP και SLIP </td><td width="20%" align="center"><a accesskey="h" href="index.html">Αρχή</a></td><td width="40%" align="right" valign="top"> 27.3. Χρησιμοποιώντας το PPP του Πυρήνα</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Αυτό το κείμενο, και άλλα κείμενα, μπορεί να βρεθεί στο
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Για ερωτήσεις σχετικά με το FreeBSD, διαβάστε την
    <a href="http://www.FreeBSD.org/docs.html">τεκμηρίωση</a> πριν να επικοινωνήσετε με την
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Για ερωτήσεις σχετικά με αυτή την τεκμηρίωση, στείλτε e-mail στην
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>