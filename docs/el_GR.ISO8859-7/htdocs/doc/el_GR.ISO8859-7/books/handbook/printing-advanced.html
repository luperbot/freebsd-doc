<?xml version="1.0" encoding="iso-8859-7" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-7" /><title>10.4. Ρυθμίσεις Εκτυπωτών για Προχωρημένους</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Εγχειρίδιο του FreeBSD" /><link rel="up" href="printing.html" title="Κεφάλαιο 10. Εκτυπώσεις" /><link rel="prev" href="printing-intro-setup.html" title="10.3. Βασική Εγκατάσταση" /><link rel="next" href="printing-using.html" title="10.5. Χρήση Εκτυπωτών" /><link rel="copyright" href="legalnotice.html" title="Νομική Σημείωση" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">10.4. Ρυθμίσεις Εκτυπωτών για Προχωρημένους</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="printing-intro-setup.html">Προηγ</a> </td><th width="60%" align="center">Κεφάλαιο 10. Εκτυπώσεις</th><td width="20%" align="right"> <a accesskey="n" href="printing-using.html">Επόμενο</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="printing-advanced"></a>10.4. Ρυθμίσεις Εκτυπωτών για Προχωρημένους</h2></div></div></div><div xmlns="" class="warning"><h3 class="admontitle">Προειδοποίηση: </h3><p xmlns="http://www.w3.org/1999/xhtml">Από το FreeBSD 8.0 και μετά, τα αρχεία συσκευών για τις
	σειριακές θύρες μετονομάστηκαν από
	<code class="filename">/dev/ttydN</code> σε
	<code class="filename">/dev/ttyuN</code>.
	Οι χρήστες του FreeBSD 7.X θα πρέπει να προσαρμόσουν την
	τεκμηρίωση που ακολουθεί με βάση αυτές τις αλλαγές.</p></div><p>Αυτή η ενότητα περιγράφει φίλτρα για την εκτύπωση ειδικής μορφής
      αρχείων, σελίδων κεφαλίδας, για εκτυπώσεις μέσω δικτύου, καθώς και για
      τον έλεγχο πρόσβασης και την καταμέτρηση χρήσης των εκτυπωτών.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="printing-advanced-filter-intro"></a>10.4.1. Φίλτρα</h3></div></div></div><a id="idp83557584" class="indexterm"></a><p>Αν και το <span class="application">LPD</span> μπορεί να χειριστεί
	πρωτόκολλα δικτύων, λίστες αναμονής, έλεγχο πρόσβασης, και άλλες
	παραμέτρους των εκτυπώσεων, το κύριο μέρος της
	<span class="emphasis"><em>πραγματικής</em></span> εργασίας γίνεται με τα
	<span class="emphasis"><em>φίλτρα</em></span>.  Τα φίλτρα είναι προγράμματα που
	επικοινωνούν με τον εκτυπωτή και χειρίζονται τις εξαρτήσεις της
	συσκευής και άλλες ειδικές απαιτήσεις της.  Στην απλή εγκατάσταση
	εκτυπωτή, εγκαταστήσαμε ένα φίλτρο απλού κειμένου ιδιαίτερα
	απλής μορφής, που θα πρέπει να δουλεύει με τους περισσότερους
	εκτυπωτές (ενότητα <a class="link" href="printing-intro-setup.html#printing-textfilter" title="10.3.1.5.6. Εγκατάσταση Φίλτρου Κειμένου">Εγκατάσταση Φίλτρου Κειμένου</a>).</p><p>Ωστόσο, για να μπορέσετε να εκμεταλλευτείτε τις δυνατότητες
	μετατροπών μορφής, ελέγχου πρόσβασης και καταμέτρησης, και τυχόν
	ειδικές δυνατότητες του εκτυπωτή σας, θα πρέπει να καταλάβετε πως
	δουλεύουν τα φίλτρα.  Σε τελική ανάλυση, θα είναι ευθύνη των φίλτρων
	να χειρίζονται όλες αυτές τις παραμέτρους.  Τα κακά νέα είναι πως τις
	περισσότερες φορές θα πρέπει να παρέχετε
	<span class="emphasis"><em>εσείς οι ίδιοι </em></span> τα φίλτρα σας.  Τα καλά νέα είναι
	πως γενικώς υπάρχουν αρκετά διαθέσιμα, και αν δεν υπάρχουν, είναι
	σχετικά εύκολο να τα γράψετε.</p><p>Επίσης, το FreeBSD διατίθεται με ένα φίλτρο, το
	<code class="filename">/usr/libexec/lpr/lpf</code>, που δουλεύει με πολλούς
	εκτυπωτές που μπορούν να εκτυπώσουν απλό κείμενο.  (Χειρίζεται
	backspacing και tabs στο αρχείο, και κάνει καταμέτρηση, αλλά
	τίποτα περισσότερο.) Υπάρχουν, επίσης, διάφορα άλλα φίλτρα και
	συστατικά τους στην Συλλογή των Ports του FreeBSD.</p><p>Σε αυτή την ενότητα θα βρείτε: :</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Η ενότητα <a class="link" href="printing-advanced.html#printing-advanced-filters" title="10.4.1.1. Πως Δουλεύουν τα Φίλτρα">Πως
	    δουλεύουν τα Φίλτρα</a>, προσπαθεί να δώσει μια γενική άποψη
	    για τις αρμοδιότητες των φίλτρων στις διεργασίες εκτύπωσης.  Θα
	    πρέπει να διαβάσετε αυτή την ενότητα για να μπορείτε να καταλάβετε
	    τι <span class="quote">«<span class="quote">πραγματικά</span>»</span> συμβαίνει όταν το
	    <span class="application">LPD</span> χρησιμοποιεί φίλτρα.  Αυτές οι
	    γνώσεις θα σας βοηθήσουν να προλαμβάνετε και να αποσφαλματώνετε
	    προβλήματα που μπορούν να συμβούν καθώς εγκαθιστάτε όλο και
	    περισσότερα φίλτρα σε κάθε εκτυπωτή σας.</p></li><li class="listitem"><p>Το <span class="application">LPD</span> αναμένει πως κάθε
	    εκτυπωτής είναι ικανός, από προεπιλογή, να εκτυπώσει απλό
	    κείμενο.  Αυτό όμως είναι πρόβλημα για εκτυπωτές <span class="trademark">PostScript</span>(R)
	    (ή άλλους που βασίζονται σε γλώσσες προγραμματισμού) οι οποίοι
	    δεν μπορούν να εκτυπώσουν άμεσα απλό κείμενο.  Η ενότητα <a class="link" href="printing-advanced.html#printing-advanced-if-conversion" title="10.4.1.2. Συμβατότητα Εργασιών Απλού Κειμένου σε Εκτυπωτές PostScript(R)">Συμβατότητα Εργασιών
	      Απλού Κειμένου σε εκτυπωτές <span class="trademark">PostScript</span>(R)</a> σας εξηγεί τι θα
	    πρέπει να κάνετε για να ξεπεράσετε αυτό το πρόβλημα.  Θα πρέπει
	    να διαβάσετε αυτή την ενότητα αν έχετε εκτυπωτή
	    <span class="trademark">PostScript</span>(R).</p></li><li class="listitem"><p>Το <span class="trademark">PostScript</span>(R) είναι δημοφιλής μορφή εξόδου για πολλά
	    προγράμματα.  Μερικοί άνθρωποι προτιμούν και να γράφουν κατευθείαν
	    σε κώδικα <span class="trademark">PostScript</span>(R).  Δυστυχώς, οι εκτυπωτές <span class="trademark">PostScript</span>(R)
	    έχουν μεγάλο κόστος.  Η ενότητα <a class="link" href="printing-advanced.html#printing-advanced-ps" title="10.4.1.3. Προσομοίωση PostScript(R) για Εκτυπωτές που δεν το Υποστηρίζουν">Προσομοίωση <span class="trademark">PostScript</span>(R) για
	      εκτυπωτές που δεν το υποστηρίζουν</a> εξηγεί λεπτομερώς πως
	    να μετατρέψετε ένα φίλτρο κειμένου για εκτυπωτές ώστε να λαμβάνει
	    και να τυπώνει δεδομένα <span class="trademark">PostScript</span>(R) σε εκτυπωτές που
	    <span class="emphasis"><em>δεν είναι <span class="trademark">PostScript</span>(R)</em></span>.  Θα πρέπει να
	    διαβάσετε αυτήν την ενότητα αν είστε κάτοχος εκτυπωτή που δεν
	    υποστηρίζει <span class="trademark">PostScript</span>(R).</p></li><li class="listitem"><p>Η ενότητα <a class="link" href="printing-advanced.html#printing-advanced-convfilters" title="10.4.1.4. Φίλτρα Μετατροπής">Φίλτρα Μετατροπής</a>
	    περιγράφει μια αυτοματοποιημένη διαδικασία για την μετατροπή
	    αρχείων ειδικής μορφής, όπως δεδομένα γραφικών ή στοιχειοθεσίας,
	    σε μια μορφή κατανοητή από τον εκτυπωτή σας.  Μετά την ανάγνωση
	    αυτής της ενότητας, θα πρέπει να είστε σε θέση να ρυθμίσετε τους
	    εκτυπωτές σας με τέτοιο τρόπο ώστε πληκτρολογώντας
	    <code class="command">lpr -t</code> οι χρήστες σας να
	    μπορούν να εκτυπώσουν δεδομένα troff, ή με
	    <code class="command">lpr -d</code> δεδομένα <span class="application">TeX</span>
	    DVI, ή με <code class="command">lpr -v</code> να
	    εκτυπώνουν εικόνες δεδομένων ράστερ, και ούτω καθεξής.  Σας
	    συμβουλεύουμε να διαβάσετε αυτή την ενότητα.</p></li><li class="listitem"><p>Η ενότητα <a class="link" href="printing-advanced.html#printing-advanced-of" title="10.4.1.5. Φίλτρα Εξόδου">Φίλτρα
	    Εξόδου</a> περιγράφει ένα χαρακτηριστικό του
	    <span class="application">LPD</span> που δεν χρησιμοποιείται συχνά: τα
	    φίλτρα εξόδου.  Μπορείτε να προσπεράσετε αυτή την ενότητα, εκτός
	    αν τυπώνετε σελίδες κεφαλίδας (δείτε τις <a class="link" href="printing-advanced.html#printing-advanced-header-pages" title="10.4.2. Σελίδες Κεφαλίδας">Σελίδες Κεφαλίδας</a>).</p></li><li class="listitem"><p>Η ενότητα <a class="link" href="printing-advanced.html#printing-advanced-lpf" title="10.4.1.6. lpf: ένα Φίλτρο Κειμένου">lpf: ένα
	    Φίλτρο Κειμένου</a> περιγράφει το <code class="command">lpf</code>, ένα
	    πραγματικά πλήρες, αν και απλό, φίλτρο κειμένου για εκτυπωτές
	    γραμμής (και εκτυπωτές laser που μπορούν να λειτουργήσουν και ως
	    εκτυπωτές γραμμής) που περιέχεται στο FreeBSD.  Αν χρειάζεστε ένα
	    γρήγορο τρόπο για να κάνετε την καταμέτρηση σελίδων να δουλεύει
	    σε απλό κείμενο, ή αν έχετε κάποιον εκτυπωτή που βγάζει καπνούς
	    όταν βλέπει χαρακτήρες backspace, θα πρέπει οπωσδήποτε να
	    εξετάσετε την περίπτωση του <code class="command">lpf</code>.</p></li></ul></div><div xmlns="" class="note"><h3 class="admontitle">Σημείωση: </h3><p xmlns="http://www.w3.org/1999/xhtml">Μπορείτε να βρείτε αντίγραφο των διάφορων scripts που
	  αναφέρονται παρακάτω, στον κατάλογο <code class="filename">/usr/share/examples/printing</code>.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="printing-advanced-filters"></a>10.4.1.1. Πως Δουλεύουν τα Φίλτρα</h4></div></div></div><p>Όπως αναφέραμε προηγουμένως, φίλτρο είναι ένα εκτελέσιμο
	  πρόγραμμα που ενεργοποιείται από το <span class="application">LPD</span>
	  για να χειρίζεται το τμήμα της επικοινωνίας με τον εκτυπωτή που
	  εξαρτάται από τον τύπο της ίδιας της συσκευής.</p><p>Όταν το <span class="application">LPD</span> θέλει να εκτυπώσει ένα
	  αρχείο μιας εργασίας, ξεκινά το πρόγραμμα του φίλτρου.  Θέτει ως
	  standard input του φίλτρου το αρχείο που πρέπει να εκτυπωθεί, ως
	  standard output τον ίδιο τον εκτυπωτή και ως standard error το
	  αρχείο αναφοράς σφαλμάτων (αναφέρεται στην ικανότητα
	  <code class="literal">lf</code> του <code class="filename">/etc/printcap</code>, ή από
	  προεπιλογή το <code class="filename">/dev/console</code>).</p><a id="idp83601872" class="indexterm"></a><p>Το φίλτρο που θα ξεκινήσει το <span class="application">LPD</span>
	  καθώς και οι παράμετροι του φίλτρου, εξαρτώνται από το τι έχετε
	  δηλώσει στο αρχείο <code class="filename">/etc/printcap</code> και από το τι
	  παραμέτρους έχει καθορίσει ο ίδιος ο χρήστης για την εργασία με
	  την γραμμή εντολής <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lpr&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lpr</span>(1)</span></a>.  Για παράδειγμα, αν ο χρήστης
	  πληκτρολογήσει <code class="command">lpr -t</code>, το
	  <span class="application">LPD</span> θα ξεκινήσει το φίλτρο troff, που
	  υποδηλώνεται με την ικανότητα <code class="literal">tf</code> για τον
	  εκτυπωτή προορισμού.  Αν ο χρήστης επιθυμεί να εκτυπώσει απλό
	  κείμενο, θα ξεκινήσει το φίλτρο <code class="literal">if</code>
	  (αυτό πράγματι ισχύει τις περισσότερες φορές: δείτε τα <a class="link" href="printing-advanced.html#printing-advanced-of" title="10.4.1.5. Φίλτρα Εξόδου">Φίλτρα Εξόδου</a> για
	  λεπτομέρειες).</p><p>Υπάρχουν τρεις τύποι φίλτρων που μπορείτε να προσδιορίσετε στο
	  <code class="filename">/etc/printcap</code>:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Το <span class="emphasis"><em>φίλτρο κειμένου</em></span>, επονομαζόμενο και
	      ως <span class="emphasis"><em>φίλτρο εισόδου</em></span> στην τεκμηρίωση του
	      <span class="application">LPD</span>, χειρίζεται εκτυπώσεις κανονικού
	      κειμένου.  Θεωρήστε το ως το προεπιλεγμένο φίλτρο.  Το
	      <span class="application">LPD</span> αναμένει πως όλοι οι εκτυπωτές,
	      από προεπιλογή, είναι σε θέση να εκτυπώσουν απλό κείμενο, και
	      είναι δουλειά του φίλτρου κειμένου να βεβαιωθεί ότι τα
	      backspaces, τα tabs, και όλοι οι άλλοι ειδικοί χαρακτήρες
	      δεν πρόκειται να προβληματίσουν τον εκτυπωτή.  Εάν βρίσκεστε σε
	      ένα περιβάλλον όπου θα πρέπει να καταμετρήσετε την χρήση των
	      εκτυπωτών, το φίλτρο κειμένου θα πρέπει επίσης να καταμετρήσει
	      τις εκτυπωμένες σελίδες, συνήθως μετρώντας τον αριθμό των
	      εκτυπωμένων γραμμών και συγκρίνοντας τον με τον αριθμό των
	      γραμμών που υποστηρίζει ο εκτυπωτής ανά σελίδα.  Το φίλτρο
	      κειμένου ξεκινά με την ακόλουθη λίστα παραμέτρων:
	      </p><div class="cmdsynopsis"><p><code class="command">filter-name</code> [-c]  -w<em class="replaceable"><code>width</code></em>   -l<em class="replaceable"><code>length</code></em>   -i<em class="replaceable"><code>indent</code></em>   -n <em class="replaceable"><code>login</code></em>   -h <em class="replaceable"><code>host</code></em>   <em class="replaceable"><code>acct-file</code></em> </p></div><p>

	      όπου

	      </p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-c</code></span></dt><dd><p>εμφανίζεται αν η εργασία έχει αποσταλεί με
		      <code class="command">lpr -l</code></p></dd><dt><span class="term"><em class="replaceable"><code>width</code></em></span></dt><dd><p>είναι η τιμή από την ικανότητα <code class="literal">pw</code>
		      (πλάτος σελίδας - page width) όπως προσδιορίζεται στο
		      <code class="filename">/etc/printcap</code>, με προεπιλεγμένη
		      τιμή το 132</p></dd><dt><span class="term"><em class="replaceable"><code>length</code></em></span></dt><dd><p>είναι η τιμή από την ικανότητα <code class="literal">pl</code>
		      (μήκος σελίδας - page length), με προεπιλεγμένη τιμή
		      το 66</p></dd><dt><span class="term"><em class="replaceable"><code>indent</code></em></span></dt><dd><p>είναι το μέγεθος της εσοχής (indentation) από το
		      <code class="command">lpr -i</code>, με
		      προεπιλεγμένη τιμή 0</p></dd><dt><span class="term"><em class="replaceable"><code>login</code></em></span></dt><dd><p>είναι το καταγεγραμμένο όνομα χρήστη που εκτυπώνει
		      το αρχείο</p></dd><dt><span class="term"><em class="replaceable"><code>host</code></em></span></dt><dd><p>είναι το όνομα του υπολογιστή από τον οποίο
		      στάλθηκε η εργασία</p></dd><dt><span class="term"><em class="replaceable"><code>acct-file</code></em></span></dt><dd><p>είναι το όνομα του αρχείου καταμέτρησης από την
		      ικανότητα <code class="literal">af</code>.</p></dd></dl></div><p>
	    </p></li><li class="listitem"><p>Ένα <span class="emphasis"><em>φίλτρο μετατροπής</em></span><a id="idp83640016" class="indexterm"></a> μετατρέπει ένα
	      αρχείο ειδικής μορφής σε ένα τύπο αρχείου κατάλληλο για εκτύπωση
	      από τον συγκεκριμένο εκτυπωτή.  Για παράδειγμα, τα δεδομένα
	      στοιχειοθεσίας ditroff δεν μπορούν να εκτυπωθούν κατευθείαν,
	      αλλά μπορείτε να εγκαταστήσετε ένα φίλτρο μετατροπής αρχείων
	      ditroff, ώστε να μετατρέψετε τα δεδομένα ditroff σε μια
	      μορφή που ο εκτυπωτής να μπορεί να αφομοιώσει και να τυπώσει.
	      Θα μάθετε περισσότερα στην ενότητα <a class="link" href="printing-advanced.html#printing-advanced-convfilters" title="10.4.1.4. Φίλτρα Μετατροπής">Φϊλτρα Μετατροπής</a>.
	      Τα φίλτρα μετατροπής επίσης χρειάζονται για να κάνετε
	      αρίθμηση/καταμέτρηση, αν χρειάζεστε καταμέτρηση των εκτυπώσεων
	      σας.  Τα φίλτρα μετατροπής ξεκινούν με τις ακόλουθες
	      παραμέτρους:

	      </p><div class="cmdsynopsis"><p><code class="command">filter-name</code>  -x<em class="replaceable"><code>pixel-width</code></em>   -y<em class="replaceable"><code>pixel-height</code></em>   -n <em class="replaceable"><code>login</code></em>   -h <em class="replaceable"><code>host</code></em>   <em class="replaceable"><code>acct-file</code></em> </p></div><p>

	      όπου <em class="replaceable"><code>pixel-width</code></em> είναι η τιμή από την
	      ικανότητα px (προεπιλεγμένη τιμή 0) και
	      <em class="replaceable"><code>pixel-height</code></em> είναι η τιμή από την
	      ικανότητα py (προεπιλεγμένη τιμή 0).</p></li><li class="listitem"><p>Το <span class="emphasis"><em>φίλτρο εξόδου</em></span> χρησιμοποιείται μόνον
	      αν δεν υπάρχει φίλτρο κειμένου, ή αν είναι ενεργοποιημένες οι
	      σελίδες κεφαλίδας.  Διαβάστε τη σχετική ενότητα <a class="link" href="printing-advanced.html#printing-advanced-of" title="10.4.1.5. Φίλτρα Εξόδου">Φίλτρα Εξόδου</a>, αν και
	      από την εμπειρία μας μπορούμε να σας πούμε ότι χρησιμοποιούνται
	      σπάνια.  Υπάρχουν μόνο δύο παράμετροι για τα φίλτρα εξόδου:

	      </p><div class="cmdsynopsis"><p><code class="command">filter-name</code>  -w<em class="replaceable"><code>width</code></em>   -l<em class="replaceable"><code>length</code></em> </p></div><p>

	      οι οποίες είναι πανομοιότυπες με τις παραμέτρους
	      <code class="option">-w</code> και <code class="option">-l</code> των φίλτρων
	      κειμένου.</p></li></ul></div><p>Τα φίλτρα θα πρέπει επίσης να <span class="emphasis"><em>τερματίζουν</em></span>
	  με κάποια από τις ακόλουθες καταστάσεις εξόδου:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">exit 0</span></dt><dd><p>Αν το φίλτρο τύπωσε επιτυχώς το αρχείο.</p></dd><dt><span class="term">exit 1</span></dt><dd><p>Αν το φίλτρο απέτυχε να τυπώσει το αρχείο, αλλά θέλει το
		<span class="application">LPD</span> να προσπαθήσει να εκτυπώσει
		το αρχείο ξανά.  Το <span class="application">LPD</span> θα
		ξεκινήσει ξανά το φίλτρο αν γίνει έξοδος με αυτή την
		κατάσταση.</p></dd><dt><span class="term">exit 2</span></dt><dd><p>Αν το φίλτρο απέτυχε να εκτυπώσει το αρχείο και δεν θέλει
		το <span class="application">LPD</span> να προσπαθήσει ξανά.  Το
		<span class="application">LPD</span> θα απορρίψει το αρχείο.</p></dd></dl></div><p>Το φίλτρο κειμένου που έρχεται με την κανονική έκδοση του
	  FreeBSD, <code class="filename">/usr/libexec/lpr/lpf</code>, εκμεταλλεύεται τις
	  παραμέτρους πλάτους και μήκους σελίδας για να προσδιορίσει πότε να
	  αποστείλει το form feed και πως να κάνει καταμέτρηση.  Χρησιμοποιεί
	  τις παραμέτρους για login, host, και αρχείου καταμέτρησης για να
	  δημιουργήσει τις σχετικές εγγραφές καταμέτρησης.</p><p>Αν είστε στη διαδικασία επιλογής φίλτρων, ελέγξτε αν είναι
	  συμβατά με το <span class="application">LPD</span>.  Αν είναι συμβατά,
	  τότε πρέπει να υποστηρίζουν την λίστα παραμέτρων που περιγράψαμε
	  προηγουμένως.  Αν σχεδιάζετε να γράψατε τα δικά σας φίλτρα γενικής
	  χρήσης, τότε πρέπει να τα κάνετε να υποστηρίζουν την ίδια λίστα
	  παραμέτρων και κωδικών εξόδου.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="printing-advanced-if-conversion"></a>10.4.1.2. Συμβατότητα Εργασιών Απλού Κειμένου σε Εκτυπωτές
	  <span class="trademark">PostScript</span>(R)</h4></div></div></div><a id="idp83699280" class="indexterm"></a><p>Αν είστε ο μοναδικός χρήστης του Η/Υ σας και του εκτυπωτή
	  <span class="trademark">PostScript</span>(R) (ή άλλης γλώσσας εκτυπωτών), και είστε σίγουροι πως δεν
	  πρόκειται να στείλετε ποτέ εκτυπώσεις απλού κειμένου στον εκτυπωτή
	  σας και πως δεν θα χρησιμοποιήσετε τις υπηρεσίες των διαφόρων
	  προγραμμάτων σας που θα θελήσουν να στείλουν απλό κείμενο στον
	  εκτυπωτή σας, τότε δεν χρειάζεται να ασχοληθείτε καθόλου με αυτή την
	  ενότητα.</p><p>Αλλά, αν επιθυμείτε να στείλετε τόσο εργασίες <span class="trademark">PostScript</span>(R) όσο
	  και απλού κειμένου στον εκτυπωτή σας, τότε σας προτρέπουμε να
	  προσθέσετε κάποιες ρυθμίσεις στην εγκατάσταση σας.  Για να γίνει
	  αυτό, θα πρέπει το φίλτρο κειμένου να ανιχνεύει αν η τρέχουσα
	  εργασία είναι απλό κείμενο ή <span class="trademark">PostScript</span>(R).  Όλες οι εργασίες
	  <span class="trademark">PostScript</span>(R) πρέπει να ξεκινούν με <code class="literal">%!</code>
	  (αν ο εκτυπωτής σας χρησιμοποιεί άλλη γλώσσα, συμβουλευθείτε
	  την τεκμηρίωση του).  Αν είναι αυτοί οι πρώτοι δύο χαρακτήρες, τότε
	  έχουμε <span class="trademark">PostScript</span>(R), και η υπόλοιπη εργασία μπορεί να σταλεί
	  απευθείας στον εκτυπωτή.  Αν δεν είναι αυτοί οι πρώτοι δύο
	  χαρακτήρες, τότε το φίλτρο θα μετατρέψει το κείμενο σε <span class="trademark">PostScript</span>(R)
	  και θα τυπώσει το αποτέλεσμα.</p><p>Πως γίνεται αυτό;</p><a id="idp83704528" class="indexterm"></a><p>Αν είστε κάτοχος σειριακού εκτυπωτή, ένας καλός τρόπος για
	  να γίνει αυτό εφικτό είναι να εγκαταστήσετε το
	  <code class="command">lprps</code>.  Το <code class="command">lprps</code> είναι ένα
	  φίλτρο εκτύπωσης <span class="trademark">PostScript</span>(R) που επικοινωνεί αμφίδρομα με τον
	  εκτυπωτή.  Ενημερώνει το αρχείο κατάστασης του εκτυπωτή με
	  αναλυτικές πληροφορίες, ώστε οι χρήστες και οι διαχειριστές να
	  μπορούν να δουν επακριβώς ποια είναι η κατάσταση του εκτυπωτή
	  (όπως <span class="errorname">χαμηλή στάθμη toner</span> ή
	  <span class="errorname">πρόβλημα χαρτιού</span>).  Ακόμη πιο σημαντικό
	  είναι πως περιέχει το πρόγραμμα <code class="command">psif</code> που
	  ανιχνεύει αν η εισερχόμενη εργασία είναι απλού κειμένου και καλεί το
	  <code class="command">textps</code> (ένα άλλο πρόγραμμα που περιέχεται στο
	  <code class="command">lprps</code>) να το μετατρέψει σε <span class="trademark">PostScript</span>(R).  Τέλος
	  χρησιμοποιείται το <code class="command">lprps</code> για να αποστείλει την
	  εργασία στον εκτυπωτή.</p><p>Το <code class="command">lprps</code> είναι μέρος της Συλλογής των Ports
	  του FreeBSD (δείτε <a class="link" href="ports.html" title="Κεφάλαιο 5. Εγκατάσταση Εφαρμογών: Πακέτα και Ports">Η Συλλογή των Ports</a>).
	  Φυσικά, μπορείτε να το κατεβάσετε, να το μεταγλωττίσετε και να το
	  εγκαταστήσετε μόνοι σας.  Μετά την εγκατάσταση του
	  <code class="command">lprps</code>, απλά προσδιορίστε τη διαδρομή προς το
	  πρόγραμμα <code class="command">psif</code> που είναι μέρος του
	  <code class="command">lprps</code>.  Αν εγκαταστήσατε το
	  <code class="command">lprps</code> από την Συλλογή των Ports, τότε για τον
	  σειριακό σας εκτυπωτή <span class="trademark">PostScript</span>(R) χρησιμοποιήστε την ακόλουθη
	  καταχώριση στο αρχείο <code class="filename">/etc/printcap</code>:</p><pre class="programlisting">:if=<code class="filename">/usr/local/libexec/psif</code>:</pre><p>Θα πρέπει επίσης να καθορίσετε την ικανότητα
	  <code class="literal">rw</code> η οποία ορίζει ότι το
	  <span class="application">LPD</span> θα χειρίζεται τον εκτυπωτή σε
	  κατάσταση ανάγνωσης και εγγραφής.</p><p>Αν έχετε παράλληλο εκτυπωτή <span class="trademark">PostScript</span>(R) (και για το λόγο αυτό
	  δεν μπορείτε να χρησιμοποιήσετε αμφίδρομη επικοινωνία με τον
	  εκτυπωτή, όπως απαιτείται από το <code class="command">lprps</code>), μπορείτε
	  να χρησιμοποιήσετε το ακόλουθο shell script ως φίλτρο
	  κειμένου:</p><pre class="programlisting">#!/bin/sh
#
#  psif - Print PostScript or plain text on a PostScript printer
#  Script version; NOT the version that comes with lprps
#  Installed in /usr/local/libexec/psif
#

IFS="" read -r first_line
first_two_chars=`expr "$first_line" : '\(..\)'`

if [ "$first_two_chars" = "%!" ]; then
    #
    #  PostScript job, print it.
    #
    echo "$first_line" &amp;&amp; cat &amp;&amp; printf "\004" &amp;&amp; exit 0
    exit 2
else
    #
    #  Plain text, convert it, then print it.
    #
    ( echo "$first_line"; cat ) | /usr/local/bin/textps &amp;&amp; printf "\004" &amp;&amp; exit 0
    exit 2
fi</pre><p>Στο παραπάνω script, το <code class="command">textps</code> είναι ένα
	  πρόγραμμα που εγκαταστήσαμε ξεχωριστά για να μετατρέπουμε απλό
	  κείμενο σε <span class="trademark">PostScript</span>(R).  Μπορείτε να χρησιμοποιείτε οποιοδήποτε
	  πρόγραμμα μετατροπής από κείμενο- σε-<span class="trademark">PostScript</span>(R).  Η Συλλογή των
	  Ports (δείτε <a class="link" href="ports.html" title="Κεφάλαιο 5. Εγκατάσταση Εφαρμογών: Πακέτα και Ports">Η Συλλογή των Ports</a>)
	  περιέχει επίσης ένα πλήρες πρόγραμμα μετατροπής
	  από κείμενο σε <span class="trademark">PostScript</span>(R), το <code class="literal">a2ps</code> που ίσως
	  επιθυμείτε να διερευνήσετε.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="printing-advanced-ps"></a>10.4.1.3. Προσομοίωση <span class="trademark">PostScript</span>(R) για Εκτυπωτές που δεν το
	  Υποστηρίζουν</h4></div></div></div><a id="idp83726416" class="indexterm"></a><a id="idp83764560" class="indexterm"></a><p>Το <span class="trademark">PostScript</span>(R) είναι το <span class="emphasis"><em>de facto</em></span> πρότυπο
	  για στοιχειοθεσία και εκτύπωση υψηλής ποιότητας.  Ωστόσο, το
	  <span class="trademark">PostScript</span>(R) είναι κάπως <span class="emphasis"><em>δαπανηρό</em></span> πρότυπο.
	  Ευτυχώς, η Aladdin Enterprises παρέχει ένα παρεμφερές ελεύθερο
	  <span class="trademark">PostScript</span>(R) που ονομάζεται <span class="application">Ghostscript</span>
	  και δουλεύει άψογα στο FreeBSD.  Το Ghostscript διαβάζει τα περισσότερα
	  αρχεία <span class="trademark">PostScript</span>(R) και μπορεί να αποδώσει τις σελίδες τους σε
	  μεγάλη γκάμα συσκευών, συμπεριλαμβάνοντας πολλούς τύπους εκτυπωτών
	  που δεν υποστηρίζουν <span class="trademark">PostScript</span>(R).  Εγκαθιστώντας το
	  <span class="application">Ghostscript</span> και χρησιμοποιώντας ένα
	  ειδικό φίλτρο κειμένου για τον εκτυπωτή σας, μπορείτε να κάνετε τον
	  κοινό εκτυπωτή σας να λειτουργεί σαν ένας πραγματικός εκτυπωτής
	  <span class="trademark">PostScript</span>(R).</p><p>Το <span class="application">Ghostscript</span> βρίσκεται στην
	  Συλλογή των Ports του FreeBSD, και μάλιστα σε πολλές εκδόσεις.  Η πιο
	  διαδεδομένη είναι το <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/print/ghostscript-gpl/pkg-descr">print/ghostscript-gpl</a>.</p><p>Για να κάνετε προσομοίωση <span class="trademark">PostScript</span>(R), πρέπει το φίλτρο
	  κειμένου να ανιχνεύσει αν εκτυπώνετε αρχείο <span class="trademark">PostScript</span>(R).  Εάν όχι,
	  τότε το φίλτρο θα περάσει το αρχείο κατευθείαν στον εκτυπωτή.
	  Διαφορετικά, θα χρησιμοποιήσει το
	  <span class="application">Ghostscript</span> για να μετατρέψει
	  αρχικά το αρχείο σε ένα τύπο που θα καταλαβαίνει ο εκτυπωτής.</p><p>Ιδού ένα παράδειγμα: το ακόλουθο script είναι ένα φίλτρο
	  κειμένου για εκτυπωτές Hewlett Packard DeskJet 500.  Για άλλους
	  εκτυπωτές, αντικαταστήστε το όρισμα <code class="option">-sDEVICE</code> στην
	  εντολή <code class="command">gs</code>
	  (<span class="application">Ghostscript</span>).  (Πληκτρολογήστε
	  <code class="command">gs -h</code> για να δείτε την λίστα
	  συσκευών που υποστηρίζει η τρέχουσα εγκατάσταση του
	  <span class="application">Ghostscript.</span>)</p><pre class="programlisting">#!/bin/sh
#
#  ifhp - Print Ghostscript-simulated PostScript on a DeskJet 500
#  Installed in /usr/local/libexec/ifhp

#
#  Treat LF as CR+LF (to avoid the "staircase effect" on HP/PCL
#  printers):
#
printf "\033&amp;k2G" || exit 2

#
#  Read first two characters of the file
#
IFS="" read -r first_line
first_two_chars=`expr "$first_line" : '\(..\)'`

if [ "$first_two_chars" = "%!" ]; then
    #
    #  It is PostScript; use Ghostscript to scan-convert and print it.
    #
    /usr/local/bin/gs -dSAFER -dNOPAUSE -q -sDEVICE=djet500 \
      -sOutputFile=- - &amp;&amp; exit 0
else
    #
    #  Plain text or HP/PCL, so just print it directly; print a form feed
    #  at the end to eject the last page.
    #
    echo "$first_line" &amp;&amp; cat &amp;&amp; printf "\033&amp;l0H" &amp;&amp;
exit 0
fi

exit 2</pre><p>Τέλος, χρειάζεται να ενημερώσετε το
	  <span class="application">LPD</span> για το φίλτρο με την ικανότητα
	  <code class="literal">if</code>:</p><pre class="programlisting">:if=<code class="filename">/usr/local/libexec/ifhp</code>:</pre><p>Αυτό είναι όλο.  Μπορείτε να πληκτρολογήσετε
	  <code class="command">lpr plain.text</code> και
	  <code class="command">lpr whatever.ps</code> και τα δύο θα εκτυπωθούν επιτυχώς.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="printing-advanced-convfilters"></a>10.4.1.4. Φίλτρα Μετατροπής</h4></div></div></div><p>Το επόμενο βήμα μετά την ολοκλήρωση της απλής εγκατάστασης που
	  περιγράψαμε στις <a class="link" href="printing-intro-setup.html#printing-simple" title="10.3.1. Βασικές Ρυθμίσεις Εκτυπωτών">Βασικές Ρυθμίσεις
	  Εκτυπωτών</a>, είναι συνήθως η εγκατάσταση φίλτρων μετατροπής
	  για τους τύπους αρχείων που προτιμάτε (εκτός από απλό κείμενο
	  ASCII).</p><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp83789264"></a>10.4.1.4.1. Γιατί να εγκαταστήσετε Φίλτρα Μετατροπής;</h5></div></div></div><a id="idp83789904" class="indexterm"></a><p>Τα φίλτρα μετατροπής κάνουν την εκτύπωση διαφόρων τύπων
	    αρχείων εύκολη υπόθεση.  Για παράδειγμα, ας υποθέσουμε ότι έχουμε
	    να κάνουμε αρκετή εργασία με το σύστημα στοιχειοθεσίας <span class="application">TeX</span>, και
	    ότι έχουμε εκτυπωτή <span class="trademark">PostScript</span>(R).  Κάθε φορά που δημιουργούμε ένα
	    αρχείο DVI με το <span class="application">TeX</span>, δεν μπορούμε να εκτυπώσουμε κατευθείαν έως
	    ότου να μετατρέψουμε το αρχείο DVI σε <span class="trademark">PostScript</span>(R).  Η ακολουθία
	    εντολών που πρέπει να ακολουθήσουμε είναι:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>dvips seaweed-analysis.dvi</code></strong>
<code class="prompt">%</code> <strong class="userinput"><code>lpr seaweed-analysis.ps</code></strong></pre><p>Με την χρήση ενός φίλτρου μετατροπής για αρχεία DVI, μπορούμε
	    να αποφύγουμε την μετατροπή που πρέπει να κάνουμε κάθε φορά
	    χειροκίνητα, καλώντας το <span class="application">LPD</span> να κάνει
	    τη δουλειά για μας.  Τώρα, κάθε φορά που έχουμε ένα αρχείο DVI,
	    για να το τυπώσουμε χρειάζεται μόνο ένα βήμα:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>lpr -d seaweed-analysis.dvi</code></strong></pre><p>Έχουμε αναθέσει στο <span class="application">LPD</span> να κάνει τη
	    μετατροπή του αρχείου DVI προσθέτοντας του την επιλογή
	    <code class="option">-d</code>.  Η ενότητα <a class="link" href="printing-using.html#printing-lpr-options-format" title="10.5.4.1. Επιλογές Μορφοποίησης και Μετατροπής">Επιλογές Μορφοποίησης και
	      Μετατροπής</a> περιέχει τους πίνακες επιλογής
	    μετατροπών.</p><p>Για κάθε επιλογή μετατροπής που θέλετε να υποστηρίζετε από
	    ένα εκτυπωτή, πρέπει να εγκαταστήσετε ένα
	    <span class="emphasis"><em>φίλτρο μετατροπής</em></span> και να ορίσετε την
	    διαδρομή του στο αρχείο <code class="filename">/etc/printcap</code>.  Ένα
	    φίλτρο μετατροπής είναι σαν το φίλτρο κειμένου στην απλή
	    εγκατάσταση εκτυπωτή (δείτε την ενότητα <a class="link" href="printing-intro-setup.html#printing-textfilter" title="10.3.1.5.6. Εγκατάσταση Φίλτρου Κειμένου">Εγκατάσταση Φίλτρου
	      Κειμένου</a>) με μόνη διαφορά πως αντί το φίλτρο να
	    εκτυπώνει απλό κείμενο, μετατρέπει το αρχείο σε μια διαφορετική
	    μορφή ώστε να είναι κατανοητό από τον εκτυπωτή.</p></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp83800272"></a>10.4.1.4.2. Ποιο Φίλτρο Μετατροπής θα Πρέπει να Εγκαταστήσω;</h5></div></div></div><p>Θα πρέπει να εγκαθιστάτε τα φίλτρα μετατροπής που νομίζετε
	    πως θα χρησιμοποιήσετε.  Αν εκτυπώνετε αρκετά δεδομένα DVI, τότε
	    είναι λογικό να συμπεριλάβετε ένα φίλτρο μετατροπής DVI.  Αν
	    εκτυπώνετε συχνά δεδομένα troff, θα θέλετε να εγκαταστήσετε ένα
	    φίλτρο troff.</p><p>Ο ακόλουθος πίνακας συνοψίζει τα φίλτρα με τα οποία
	    συνεργάζεται το <span class="application">LPD</span>, τις καταχωρίσεις
	    της αντίστοιχης ικανότητας στο αρχείο
	    <code class="filename">/etc/printcap</code>, και πως να τις καλέσετε μέσω
	    της εντολής <code class="command">lpr</code>:</p><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /><col /></colgroup><thead><tr><th>Τύπος αρχείου</th><th>Ικανότητα <code class="filename">/etc/printcap</code></th><th>Παράμετρος εντολής <code class="command">lpr</code></th></tr></thead><tbody><tr><td>cifplot</td><td><code class="literal">cf</code></td><td><code class="option">-c</code></td></tr><tr><td>DVI</td><td><code class="literal">df</code></td><td><code class="option">-d</code></td></tr><tr><td>plot</td><td><code class="literal">gf</code></td><td><code class="option">-g</code></td></tr><tr><td>ditroff</td><td><code class="literal">nf</code></td><td><code class="option">-n</code></td></tr><tr><td>FORTRAN text</td><td><code class="literal">rf</code></td><td><code class="option">-f</code></td></tr><tr><td>troff</td><td><code class="literal">tf</code></td><td><code class="option">-f</code></td></tr><tr><td>raster</td><td><code class="literal">vf</code></td><td><code class="option">-v</code></td></tr><tr><td>plain text</td><td><code class="literal">if</code></td><td>none, <code class="option">-p</code>, or
		    <code class="option">-l</code></td></tr></tbody></table></div><p>Στο παράδειγμα μας, αν χρησιμοποιήσουμε
	    <code class="command">lpr -d</code> σημαίνει ότι ο
	    εκτυπωτής χρειάζεται την ικανότητα <code class="literal">df</code> στην
	    καταχώριση του στο <code class="filename">/etc/printcap</code>.</p><a id="idp83835856" class="indexterm"></a><p>Αν και κάποιοι μπορεί να ισχυριστούν το αντίθετο, μερικοί
	    τύποι αρχείων όπως είναι τα κείμενα και γραφικά FORTRAN είναι
	    ξεπερασμένα.  Μπορείτε να δώσετε νέα πνοή σε αρχεία αυτού του
	    τύπου (ή και οποιασδήποτε άλλης μορφής εξόδου), εγκαθιστώντας
	    προσαρμοσμένα φίλτρα.  Για παράδειγμα, ας υποθέσουμε ότι θα θέλατε
	    να εκτυπώσετε κατευθείαν αρχεία Printerleaf (αρχεία προερχόμενα
	    από το πρόγραμμα επιτραπέζιας τυπογραφίας Interleaf), αλλά δεν
	    θα εκτυπώσετε ποτέ διαγράμματα (plots).  Θα μπορούσατε να
	    εγκαταστήσετε ένα φίλτρο μετατροπής αρχείων Printerleaf υπό την
	    ικανότητα <code class="literal">gf</code> και να εκπαιδεύσετε τους χρήστες
	    σας ότι η εντολή <code class="command">lpr -g</code>
	    σημαίνει <span class="quote">«<span class="quote">τύπωσε αρχεία Printerleaf.</span>»</span></p></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp83837904"></a>10.4.1.4.3. Εγκατάσταση Φίλτρων Μετατροπών</h5></div></div></div><p>Από τη στιγμή που τα φίλτρα μετατροπής είναι προγράμματα που
	    δεν ανήκουν στο βασικό σύστημα εγκατάστασης του FreeBSD, είναι πιο
	    σωστό να εγκατασταθούν στον κατάλογο
	    <code class="filename">/usr/local</code>.  Ένας συνήθης
	    προορισμός των προγραμμάτων αυτών είναι ο κατάλογος
	    <code class="filename">/usr/local/libexec</code>, μια
	    που πρόκειται για εξειδικευμένα προγράμματα που εκτελούνται μόνο
	    από το <span class="application">LPD</span>.  Οι απλοί χρήστες δεν θα
	    χρειαστεί ποτέ να τα εκτελέσουν.</p><p>Για να ενεργοποιήσετε ένα φίλτρο μετατροπής, προσδιορίστε τη
	    διαδρομή του στο αρχείο <code class="filename">/etc/printcap</code>,
	    αλλάζοντας την κατάλληλη ικανότητα στον εκτυπωτή που επιθυμείτε
	    να το χρησιμοποιήσετε.</p><p>Στο παράδειγμα μας, θα προσθέσουμε το φίλτρο μετατροπής DVI
	    στην καταχώριση μας για τον εκτυπωτή με το όνομα
	    <code class="literal">bamboo</code>.  Ακολουθεί, λοιπόν, το παράδειγμα
	    για το αρχείο <code class="filename">/etc/printcap</code>, με την νέα
	    ικανότητα <code class="literal">df</code> για τον εκτυπωτή
	    <code class="literal">bamboo</code>:</p><pre class="programlisting">#
#  /etc/printcap for host rose - added df filter for bamboo
#
rattan|line|diablo|lp|Diablo 630 Line Printer:\
        :sh:sd=<code class="filename">/var/spool/lpd/rattan</code>:\
        :lp=<code class="filename">/dev/lpt0</code>:\
        :if=<code class="filename">/usr/local/libexec/if-simple</code>:

bamboo|ps|PS|S|panasonic|Panasonic KX-P4455 PostScript v51.4:\
        :sh:sd=<code class="filename">/var/spool/lpd/bamboo</code>:\
        :lp=<code class="filename">/dev/ttyu5</code>:ms#-parenb cs8 clocal crtscts:rw:\
        :if=<code class="filename">/usr/local/libexec/psif</code>:\
        :df=<code class="filename">/usr/local/libexec/psdf</code>:</pre><p>Το φίλτρο DVI είναι ένα shell script που ονομάζεται
	    <code class="filename">/usr/local/libexec/psdf</code>, το οποίο και
	    παραθέτουμε παρακάτω:</p><pre class="programlisting">#!/bin/sh
#
#  psdf - DVI to PostScript printer filter
#  Installed in /usr/local/libexec/psdf
#
# Invoked by lpd when user runs lpr -d
#
exec /usr/local/bin/dvips -f | /usr/local/libexec/lprps "$@"</pre><p>Αυτό το script τρέχει το <code class="command">dvips</code> σε κατάσταση
	    φίλτρου (με την παράμετρο <code class="option">-f</code>) στην standard
	    input, από όπου και λαμβάνει την εργασία προς εκτύπωση.  Αυτό
	    ξεκινά το φίλτρο εκτύπωσης <span class="trademark">PostScript</span>(R) <code class="command">lprps</code>
	    (δείτε την ενότητα <a class="link" href="printing-advanced.html#printing-advanced-if-conversion" title="10.4.1.2. Συμβατότητα Εργασιών Απλού Κειμένου σε Εκτυπωτές PostScript(R)">Συμβατότητα Εργασιών
	      Απλού Κειμένου σε εκτυπωτές <span class="trademark">PostScript</span>(R)</a>) δίνοντας του
	    και τις παραμέτρους που πέρασε το <span class="application">LPD</span>
	    στο παραπάνω script.  Το <code class="command">lprps</code> θα
	    χρησιμοποιήσει αυτές τις παραμέτρους για την καταμέτρηση των
	    εκτυπωμένων σελίδων.</p></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp83855312"></a>10.4.1.4.4. Ακόμα μερικά Παραδείγματα Φίλτρων Μετατροπής</h5></div></div></div><p>Από τη στιγμή που δεν υπάρχει αυτοματοποιημένη μέθοδος για την
	    εγκατάσταση των φίλτρων μετατροπής, ας μας επιτραπεί να παρέχουμε
	    μερικά ακόμη παραδείγματα.  Μπορείτε να τα χρησιμοποιήσετε σαν
	    οδηγό για την δημιουργία των δικών σας φίλτρων.  Αν νομίζετε πως
	    είναι κατάλληλα για την περίπτωση σας μπορείτε να τα
	    χρησιμοποιήσετε και κατευθείαν.</p><p>Αυτό το παράδειγμα script είναι ένα φίλτρο μετατροπής ράστερ
	    (αρχείου GIF για την ακρίβεια) για έναν εκτυπωτή Hewlett Packard
	    LaserJet III-Si:</p><pre class="programlisting">#!/bin/sh
#
#  hpvf - Convert GIF files into HP/PCL, then print
#  Installed in /usr/local/libexec/hpvf

PATH=/usr/X11R6/bin:$PATH; export PATH
giftopnm | ppmtopgm | pgmtopbm | pbmtolj -resolution 300 \
    &amp;&amp; exit 0 \
    || exit 2</pre><p>Δουλεύει ως εξής: μετατρέπει το αρχείο GIF σε ένα γενικό
	    φορητό τύπο anymap, εν συνεχεία το μετατρέπει σε ένα φορητό τύπο
	    graymap, έπειτα σε ένα φορητό τύπο bitmap, και τέλος το
	    μετατρέπει σε δεδομένα συμβατά με PCL για τον LaserJet.</p><p>Εδώ είναι το αρχείο <code class="filename">/etc/printcap</code> με μια
	    καταχώριση για έναν εκτυπωτή που χρησιμοποιεί το παραπάνω
	    φίλτρο:</p><pre class="programlisting">#
#  /etc/printcap for host orchid
#
teak|hp|laserjet|Hewlett Packard LaserJet 3Si:\
        :lp=<code class="filename">/dev/lpt0</code>:sh:sd=<code class="filename">/var/spool/lpd/teak</code>:mx#0:\
        :if=<code class="filename">/usr/local/libexec/hpif</code>:\
        :vf=<code class="filename">/usr/local/libexec/hpvf</code>:</pre><p>Το ακόλουθο script είναι ένα φίλτρο μετατροπής δεδομένων troff
	    από το σύστημα στοιχειοθεσίας groff για τον εκτυπωτή <span class="trademark">PostScript</span>(R)
	    με όνομα <code class="literal">bamboo</code>:</p><pre class="programlisting">#!/bin/sh
#
#  pstf - Convert groff's troff data into PS, then print.
#  Installed in /usr/local/libexec/pstf
#
exec grops | /usr/local/libexec/lprps "$@"</pre><p>Το παραπάνω script χρησιμοποιεί πάλι το
	    <code class="command">lprps</code> για να χειριστεί την επικοινωνία με τον
	    εκτυπωτή.  Αν ο εκτυπωτής ήταν σε παράλληλη πόρτα τότε θα είχαμε,
	    αντιθέτως, χρησιμοποιήσει το ακόλουθο script:</p><pre class="programlisting">#!/bin/sh
#
#  pstf - Convert groff's troff data into PS, then print.
#  Installed in /usr/local/libexec/pstf
#
exec grops</pre><p>Εδώ είναι η καταχώριση που χρειάζεται να προσθέσουμε στο
	    <code class="filename">/etc/printcap</code> για να ενεργοποιήσουμε το
	    φίλτρο:</p><pre class="programlisting">:tf=<code class="filename">/usr/local/libexec/pstf</code>:</pre><p>Εδώ είναι ένα παράδειγμα που μας επιτρέπει να εκτυπώσουμε
	    παλαιό κώδικα της FORTRAN.  Είναι ένα φίλτρο κειμένου για FORTRAN
	    για οποιονδήποτε εκτυπωτή μπορεί να εκτυπώσει κατευθείαν απλό
	    κείμενο.  Θα το εγκαταστήσουμε για έναν εκτυπωτή που ονομάζεται
	    <code class="literal">teak</code>:</p><pre class="programlisting">#!/bin/sh
#
# hprf - FORTRAN text filter for LaserJet 3si:
# Installed in /usr/local/libexec/hprf
#

printf "\033&amp;k2G" &amp;&amp; fpr &amp;&amp; printf "\033&amp;l0H" &amp;&amp;
 exit 0
exit 2</pre><p>Και θα προσθέσουμε αυτή τη γραμμή στο
	    <code class="filename">/etc/printcap</code> για να ενεργοποιήσουμε το
	    φίλτρο για τον εκτυπωτή <code class="literal">teak</code>:</p><pre class="programlisting">:rf=<code class="filename">/usr/local/libexec/hprf</code>:</pre><p>Και ένα τελευταίο κάπως περίπλοκο παράδειγμα: Θα
	    προσθέσουμε ένα φίλτρο DVI στον εκτυπωτή LaserJet
	    <code class="literal">teak</code> που αναφέραμε προηγούμενα.  Καταρχήν το
	    εύκολο μέρος: αναβαθμίζουμε το <code class="filename">/etc/printcap</code>
	    με την τοποθεσία όπου βρίσκεται το φίλτρο DVI:</p><pre class="programlisting">:df=<code class="filename">/usr/local/libexec/hpdf</code>:</pre><p>Τώρα, το δύσκολο μέρος: η κατασκευή του φίλτρου.  Θα
	    χρειαστούμε ένα πρόγραμμα μετατροπής από DVI-σε-LaserJet/PCL.
	    Στην Συλλογή των Ports του FreeBSD (δείτε <a class="link" href="ports.html" title="Κεφάλαιο 5. Εγκατάσταση Εφαρμογών: Πακέτα και Ports">Συλλογή των Ports</a>) υπάρχει ένα τέτοιο
	    πρόγραμμα: Το όνομα του πακέτου είναι <code class="command">dvi2xx</code>.
	    Η εγκατάσταση του πακέτου, μας παρέχει ακριβώς το πρόγραμμα
	    που χρειαζόμαστε, το <code class="command">dvilj2p</code>, το οποίο
	    μετατρέπει τον κώδικα DVI σε κώδικα συμβατό με LaserJet IIp,
	    LaserJet III, και LaserJet 2000.</p><p>Το <code class="command">dvilj2p</code> κάνει το φίλτρο
	    <code class="command">hpdf</code> αρκετά περίπλοκο από τη στιγμή που το
	    <code class="command">dvilj2p</code> δε μπορεί να διαβάσει από το standard
	    input.  Χρειάζεται να δουλέψει με κάποιο όνομα αρχείου.  Ακόμη
	    χειρότερα, το όνομα του αρχείου πρέπει να τελειώνει σε
	    <code class="filename">.dvi</code> κι επομένως η χρήση του
	    <code class="filename">/dev/fd/0</code> ως standard
	    input είναι προβληματική.  Θα μπορούσαμε να αντιμετωπίσουμε το
	    πρόβλημα δημιουργώντας (συμβολικούς) δεσμούς με κάποιο προσωρινό
	    όνομα αρχείου (που να τελειώνει σε <code class="filename">.dvi</code>)
	    για το <code class="filename">/dev/fd/0</code>, και με
	    αυτό τον τρόπο να εξαναγκάσουμε το <code class="command">dvilj2p</code> να
	    διαβάζει από το standard input.</p><p>Ακόμη ένα πρόβλημα που προκύπτει είναι το γεγονός πως δεν
	    μπορούμε να χρησιμοποιήσουμε το
	    <code class="filename">/tmp</code> για τον
	    προσωρινό δεσμό.  Οι συμβολικοί δεσμοί ανήκουν στον χρήστη και
	    στην ομάδα <code class="systemitem">bin</code>, ενώ το φίλτρο τρέχει σαν
	    χρήστης <code class="systemitem">daemon</code>.  Επίσης στον κατάλογο
	    <code class="filename">/tmp</code> είναι ενεργό το
	    sticky bit.  Το φίλτρο μπορεί να δημιουργήσει το δεσμό, αλλά δεν
	    θα είναι ικανό να τον εξαλείψει και να τον αφαιρέσει από τη
	    στιγμή που αυτός θα ανήκει σε διαφορετικό χρήστη.</p><p>Αντίθετα, το φίλτρο θα φτιάξει το συμβολικό link στον τρέχοντα
	    κατάλογο, που είναι ο κατάλογος παροχέτευσης (spooling) (και που
	    προσδιορίζεται από την ικανότητα <code class="literal">sd</code> στο
	    <code class="filename">/etc/printcap</code>).  Αυτό είναι το τέλειο μέρος
	    για να δουλεύουν τα φίλτρα, ειδικά λόγω του ότι (μερικές φορές)
	    υπάρχει περισσότερες ελεύθερος χώρος στο δίσκο στον κατάλογο
	    παροχέτευσης (spool) από ότι στο
	    <code class="filename">/tmp</code>.</p><p>Και τελικά, ιδού το φίλτρο:</p><pre class="programlisting">#!/bin/sh
#
#  hpdf - Print DVI data on HP/PCL printer
#  Installed in /usr/local/libexec/hpdf

PATH=/usr/local/bin:$PATH; export PATH

#
#  Define a function to clean up our temporary files.  These exist
#  in the current directory, which will be the spooling directory
#  for the printer.
#
cleanup() {
   rm -f hpdf$$.dvi
}

#
#  Define a function to handle fatal errors: print the given message
#  and exit 2.  Exiting with 2 tells LPD to do not try to reprint the
#  job.
#
fatal() {
    echo "$@" 1&gt;&amp;2
    cleanup
    exit 2
}

#
#  If user removes the job, LPD will send SIGINT, so trap SIGINT
#  (and a few other signals) to clean up after ourselves.
#
trap cleanup 1 2 15

#
#  Make sure we are not colliding with any existing files.
#
cleanup

#
#  Link the DVI input file to standard input (the file to print).
#
ln -s /dev/fd/0 hpdf$$.dvi || fatal "Cannot symlink /dev/fd/0"

#
#  Make LF = CR+LF
#
printf "\033&amp;k2G" || fatal "Cannot initialize printer"

#
#  Convert and print.  Return value from dvilj2p does not seem to be
#  reliable, so we ignore it.
#
dvilj2p -M1 -q -e- dfhp$$.dvi

#
#  Clean up and exit
#
cleanup
exit 0</pre></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="printing-advanced-autoconv"></a>10.4.1.4.5. Αυτοματοποιημένες Μετατροπές: Μία Εναλλακτική στα Φίλτρα
	    Μετατροπής</h5></div></div></div><p>Όλα τα φίλτρα μετατροπής μπορεί να πληρούν το περιβάλλον
	    εκτυπώσεων σας, αλλά υποχρεώνουν τον χρήστη να προσδιορίζει
	    (στην γραμμή εντολών του <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lpr&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lpr</span>(1)</span></a>) ποιό από αυτά θα
	    χρησιμοποιηθεί.  Αν οι χρήστες σας δεν είναι ιδιαίτερα
	    εξοικειωμένοι με τους Η/Υ, το να πρέπει να αναφέρουν κάθε φορά
	    ένα φίλτρο πιθανώς να είναι ενοχλητικό.  Είναι ακόμα χειρότερο
	    ωστόσο να γίνει λανθασμένη επιλογή φίλτρου, το οποίο θα
	    εκτελεστεί σε ακατάλληλο για αυτό τύπο αρχείου, και θα προκαλέσει
	    την σπατάλη εκατοντάδων σελίδων χαρτιού.</p><p>Αντί να εγκαταστήσετε οποιοδήποτε φίλτρο μετατροπής, μπορεί να
	    θέλετε να δοκιμάσετε να έχετε ένα φίλτρο κειμένου (αφού είναι
	    το προεπιλεγμένο φίλτρο) που να ανιχνεύει τον τύπο του αρχείου
	    που έχει ζητηθεί να εκτυπωθεί και να εκτελεί αυτόματα το
	    κατάλληλο φίλτρο μετατροπής.  Εργαλεία σαν το
	    <code class="command">file</code> μπορούν να σας βοηθήσουν.  Μπορεί να
	    είναι δύσκολο να προσδιοριστούν οι διαφορές μεταξύ
	    <span class="emphasis"><em>κάποιων</em></span> τύπων αρχείων-αλλά, φυσικά,
	    μπορείτε πάντα να παρέχετε φίλτρα μετατροπής ειδικά για αυτές τις
	    περιπτώσεις.</p><a id="idp83899216" class="indexterm"></a><a id="idp83899728" class="indexterm"></a><p>Η Συλλογή των Ports του FreeBSD έχει ένα φίλτρο κειμένου που
	    εκτελεί αυτόματες μετατροπές και ονομάζεται
	    <code class="command">apsfilter</code>.  Μπορεί να ανιχνεύει απλό κείμενο,
	    <span class="trademark">PostScript</span>(R), DVI και σχεδόν οποιοδήποτε τύπο αρχείου, να εκτελεί
	    την κατάλληλη μετατροπή, και να εκτυπώνει.</p></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="printing-advanced-of"></a>10.4.1.5. Φίλτρα Εξόδου</h4></div></div></div><p>Το σύστημα παροχέτευσης <span class="application">LPD</span>
	  υποστηρίζει έναν ακόμη τύπο φίλτρου που ίσως να μην έχετε
	  εξερευνήσει ακόμα: το φίλτρο εξόδου.  Το φίλτρο εξόδου προορίζεται
	  μόνο για εκτύπωση απλού κειμένου, όπως το φίλτρο κειμένου, αλλά με
	  πολλές απλοποιήσεις.  Εάν χρησιμοποιείτε φίλτρο εξόδου αλλά όχι
	  φίλτρο κειμένου, τότε:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Το <span class="application">LPD</span> ξεκινά ένα φίλτρο εξόδου
	      μόνο μια φορά για όλη την εργασία, αντί ένα χωριστό για κάθε
	      αρχείο της εργασίας.</p></li><li class="listitem"><p>Το <span class="application">LPD</span> δεν φροντίζει να
	      αναγνωρίσει την αρχή ή το τέλος των αρχείων μέσα στην ίδια την
	      εργασία όταν χρησιμοποιείται το φίλτρο εξόδου.</p></li><li class="listitem"><p>Το <span class="application">LPD</span> δεν περνάει στο φίλτρο τα
	      δεδομένα εισόδου του χρήστη ή το όνομα του μηχανήματος, επομένως
	      δεν προορίζεται για καταμέτρηση εκτυπωμένων σελίδων.  Το φίλτρο
	      εξόδου δέχεται μόνος τις παραμέτρους:</p><div class="cmdsynopsis"><p><code class="command">filter-name</code>  -w<em class="replaceable"><code>width</code></em>   -l<em class="replaceable"><code>length</code></em> </p></div><p>Όπου το <em class="replaceable"><code>width</code></em> είναι από την
	      ικανότητα <code class="literal">pw</code> και το
	      <em class="replaceable"><code>length</code></em> είναι από την ικανότητα
	      <code class="literal">pl</code> για τον συγκεκριμένο εκτυπωτή.</p></li></ul></div><p>Μην παρασύρεστε από την απλότητα του φίλτρου εξόδου.  Αν
	  επιθυμείτε κάθε αρχείο μιας εργασίας να ξεκινά σε μια νέα σελίδα,
	  το φίλτρο εξόδου <span class="emphasis"><em>δεν κάνει για σας</em></span>.
	  Χρησιμοποιήστε ένα φίλτρο κειμένου (γνωστό και ως φίλτρο εισόδου).
	  Δείτε την ενότητα <a class="link" href="printing-intro-setup.html#printing-textfilter" title="10.3.1.5.6. Εγκατάσταση Φίλτρου Κειμένου">Εγκατάσταση
	  Φίλτρου Κειμένου</a>.  Επιπλέον, ένα φίλτρο εξόδου είναι στην
	  πραγματικότητα <span class="emphasis"><em>πιο περίπλοκο</em></span> αφού πρέπει να
	  εξετάζει την ροή των byte που αποστέλλεται προς αυτό για ειδικούς
	  χαρακτήρες flag και πρέπει να στέλνει σήματα στον εαυτό
	  του για λογαριασμό του <span class="application">LPD</span>.</p><p>Ωστόσο, ένα φίλτρο εξόδου είναι <span class="emphasis"><em>αναγκαίο</em></span>
	  αν θέλετε σελίδες κεφαλίδας και χρειάζεται να στέλνετε ακολουθίες
	  διαφυγής ή άλλες ακολουθίες αρχικοποίησης προκειμένου να τις
	  εκτυπώσετε.  (Αλλά είναι επίσης <span class="emphasis"><em>μάταιο</em></span> αν
	  θέλετε να χρεώνετε σελίδες κεφαλίδας στον λογαριασμό του αντίστοιχου
	  χρήστη, από τη στιγμή που το <span class="application">LPD</span> δεν
	  στέλνει καμιά πληροφορία για τον χρήστη ή τον υπολογιστή στο φίλτρο
	  εξόδου.)</p><p>Το <span class="application">LPD</span> επιτρέπει την συνύπαρξη
	  ενός φίλτρου εξόδου και άλλων φίλτρων (κειμένου ή διαφορετικού
	  τύπου) στον ίδιο εκτυπωτή.  Σε αυτές τις περιπτώσεις, το
	  <span class="application">LPD</span> θα ξεκινά το φίλτρο εξόδου μόνο για
	  την εκτύπωση της σελίδας κεφαλίδας (δείτε την ενότητα <a class="link" href="printing-advanced.html#printing-advanced-header-pages" title="10.4.2. Σελίδες Κεφαλίδας">Σελίδες
	    Κεφαλίδας</a>).  Το <span class="application">LPD</span> θα αναμένει
	  το φίλτρο εξόδου να <span class="emphasis"><em>σταματήσει από μόνο του</em></span>
	  όταν του στείλει δύο bytes: ένα ASCII 031 ακολουθούμενο από ένα
	  ASCII 001.  Όταν ένα φίλτρο εξόδου βλέπει αυτά τα δύο bytes (031,
	  001), θα πρέπει να σταματά στέλνοντας σήμα
	  <code class="literal">SIGSTOP</code> στον εαυτό του.  Όταν το
	  <span class="application">LPD</span> ολοκληρώσει την εκτέλεση και των
	  υπολοίπων φίλτρων, θα επανεκκινήσει το φίλτρο εξόδου στέλνοντας
	  του το σήμα <code class="literal">SIGCONT</code>.</p><p>Αν υπάρχει φίλτρο εξόδου, αλλά <span class="emphasis"><em>δεν υπάρχει</em></span>
	  φίλτρο κειμένου και το <span class="application">LPD</span> δουλεύει σε
	  εργασία απλού κειμένου, το <span class="application">LPD</span>
	  χρησιμοποιεί το φίλτρο εξόδου για την εκτέλεση της εργασίας.  Όπως
	  αναφέραμε και παραπάνω, το φίλτρο εξόδου θα εκτυπώσει κάθε αρχείο
	  εργασίας στη σειρά, δίχως δυνατότητα παρεμβολής κενής σελίδας ή
	  άλλων ρυθμίσεων στην τροφοδοσία χαρτιού, και πιθανώς αυτό να
	  <span class="emphasis"><em>μην</em></span> είναι επιθυμητό.  Σχεδόν σε όλες τις
	  περιπτώσεις, θα χρειαστείτε ένα φίλτρο κειμένου.</p><p>Το πρόγραμμα <code class="command">lpf</code>, που αναφέραμε νωρίτερα σαν
	  φίλτρο κειμένου, μπορεί να τρέξει και σαν φίλτρο εξόδου.  Αν
	  χρειάζεστε ένα γρήγορο φίλτρο εξόδου αλλά δεν θέλετε να γράψετε τον
	  κώδικα ανίχνευσης των byte και τον κώδικα αποστολής σημάτων,
	  δοκιμάστε το <code class="command">lpf</code>.  Μπορείτε επίσης να
	  χρησιμοποιήσετε το <code class="command">lpf</code> μέσα από ένα shell script
	  το οποίο θα χειρίζεται τους κωδικούς αρχικοποίησης που ίσως να
	  χρειάζεται ο εκτυπωτής.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="printing-advanced-lpf"></a>10.4.1.6. <code class="command">lpf</code>: ένα Φίλτρο Κειμένου</h4></div></div></div><p>Το πρόγραμμα <code class="filename">/usr/libexec/lpr/lpf</code> που
	  παρέχεται με τη διανομή εκτελέσιμων του FreeBSD είναι ένα φίλτρο
	  κειμένου (φίλτρο εισόδου) που μπορεί να παραγραφοποιεί την έξοδο
	  (εργασίες που έχουν σταλεί με
	  <code class="command">lpr -i</code>), να
	  επιτρέπει την διέλευση literal χαρακτήρων (εργασίες που έχουν
	  σταλεί με <code class="command">lpr -l</code>), να ρυθμίζει
	  την θέση εκτύπωσης με τη χρήση χαρακτήρων backspace και tab στην
	  εργασία, και να κάνει καταμέτρηση των εκτυπωμένων σελίδων.  Επίσης
	  μπορεί να ενεργεί και σαν φίλτρο εξόδου.</p><p>Το <code class="command">lpf</code> είναι κατάλληλο για διάφορα
	  περιβάλλοντα εκτύπωσης.  Αν και δεν έχει δυνατότητα αποστολής
	  ακολουθιών αρχικοποίησης στον εκτυπωτή, είναι εύκολο να γράψετε
	  ένα shell script για να κάνετε την απαραίτητη αρχικοποίηση και
	  να εκτελέσετε έπειτα το <code class="command">lpf</code>.</p><a id="idp83931728" class="indexterm"></a><a id="idp83932240" class="indexterm"></a><p>Για να κάνει σωστά καταμέτρηση σελίδων, το
	  <code class="command">lpf</code> χρειάζεται κατάλληλες τιμές για τις
	  ικανότητες <code class="literal">pw</code> και <code class="literal">pl</code> στο
	  αρχείο <code class="filename">/etc/printcap</code>.  Χρησιμοποιεί αυτές τις
	  τιμές για να προσδιορίσει πόσο κείμενο μπορεί να χωρέσει σε μία
	  σελίδα και από πόσες σελίδες αποτελείται η εργασία του χρήστη.  Για
	  περισσότερες πληροφορίες σχετικά με την καταμέτρηση σελίδων,
	  συμβουλευτείτε την <a class="link" href="printing-advanced.html#printing-advanced-acct" title="10.4.5. Καταμέτρηση Χρήσης Εκτυπωτών">Καταμέτρηση Χρήσης Εκτυπωτών</a>.</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="printing-advanced-header-pages"></a>10.4.2. Σελίδες Κεφαλίδας</h3></div></div></div><p>Αν έχετε <span class="emphasis"><em>αρκετούς</em></span> χρήστες, και όλοι τους
	χρησιμοποιούν διάφορους εκτυπωτές, τότε πιθανώς να θεωρείτε τις
	<span class="emphasis"><em>σελίδες κεφαλίδας</em></span> ως αναγκαίο κακό.</p><a id="idp83938000" class="indexterm"></a><a id="idp83939152" class="indexterm"></a><p>Οι σελίδες κεφαλίδας, γνωστές επίσης και ως
	<span class="emphasis"><em>banner</em></span> ή <span class="emphasis"><em>σελίδες burst</em></span>
	αναγνωρίζουν σε ποιον ανήκουν οι εργασίες μετά την εκτύπωση τους.
	Συνήθως τυπώνονται με μεγάλα, έντονα γράμματα, και ίσως με
	διακοσμητικά περιγράμματα, ώστε σε μια στοίβα εκτυπώσεων να
	ξεχωρίζουν από τα πραγματικά έγγραφα εργασιών των χρηστών.
	Επιτρέπουν έτσι στους χρήστες να βρίσκουν γρήγορα τις εργασίες τους.
	Το προφανές μειονέκτημα σε μια σελίδα κεφαλίδας είναι πως πρόκειται
	να εκτυπωθεί μια ακόμα σελίδα για κάθε μία εργασία.  Η εφήμερη
	χρησιμότητα τους διαρκεί λίγα λεπτά, και ο προορισμός τους είναι ο
	κάδος αχρήστων/ανακύκλωσης.  (Παρατηρήστε πως οι σελίδες κεφαλίδας
	είναι ανά εργασία, και όχι ανά αρχείο σε μια εργασία, επομένως το
	αχρηστευμένο χαρτί ίσως να μην είναι τόσο πολύ).</p><p>Το σύστημα <span class="application">LPD</span> μπορεί να παρέχει
	αυτόματα σελίδες κεφαλίδας για τις εκτυπώσεις σας,
	<span class="emphasis"><em>αν</em></span> ο εκτυπωτής σας μπορεί να εκτυπώσει άμεσα
	απλό κείμενο.  Αν έχετε εκτυπωτή <span class="trademark">PostScript</span>(R), θα χρειαστείτε ένα
	εξωτερικό πρόγραμμα για να δημιουργήσετε την σελίδα κεφαλίδας.  Δείτε
	το <a class="link" href="printing-advanced.html#printing-advanced-header-pages-ps" title="10.4.2.4. Σελίδες Κεφαλίδας σε Εκτυπωτές PostScript(R)">Σελίδες
	Κεφαλίδας σε Εκτυπωτές <span class="trademark">PostScript</span>(R)</a>.</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="printing-advanced-header-pages-enabling"></a>10.4.2.1. Ενεργοποίηση Σελίδων Κεφαλίδας</h4></div></div></div><p>Στην ενότητα <a class="link" href="printing-intro-setup.html#printing-simple" title="10.3.1. Βασικές Ρυθμίσεις Εκτυπωτών">Βασικές Ρυθμίσεις
	  Εκτυπωτών</a>, απενεργοποιήσαμε τις σελίδες κεφαλίδας
	  με την καταχώριση <code class="literal">sh</code> (σημαίνει <span class="quote">«<span class="quote">suppress
	  header</span>»</span>) στο αρχείο <code class="filename">/etc/printcap</code>.
	  Για να ενεργοποιήσετε τις σελίδες κεφαλίδας για κάποιον εκτυπωτή,
	  απλά αφαιρέστε την ικανότητα <code class="literal">sh</code>.</p><p>Ακούγεται εύκολο, δεν νομίζετε;</p><p>Έτσι είναι.  <span class="emphasis"><em>Ίσως</em></span> χρειαστεί να παρέχετε ένα
	  φίλτρο εξόδου για να στείλετε εντολές αρχικοποίησης στον εκτυπωτή.
	  Εδώ είναι ένα παράδειγμα φίλτρου εξόδου για εκτυπωτές συμβατούς με
	  τον τύπο PCL της Hewlett Packard:</p><pre class="programlisting">#!/bin/sh
#
#  hpof - Output filter for Hewlett Packard PCL-compatible printers
#  Installed in /usr/local/libexec/hpof

printf "\033&amp;k2G" || exit 2
exec /usr/libexec/lpr/lpf</pre><p>Προσδιορίστε την διαδρομή προς το φίλτρο εξόδου στην ικανότητα
	  <code class="literal">of</code>.  Δείτε την ενότητα <a class="link" href="printing-advanced.html#printing-advanced-of" title="10.4.1.5. Φίλτρα Εξόδου">Φίλτρα Εξόδου</a> για
	  περισσότερες πληροφορίες.</p><p>Εδώ είναι ένα παράδειγμα αρχείου
	  <code class="filename">/etc/printcap</code> για τον εκτυπωτή
	  <code class="literal">teak</code> από το προηγούμενο παράδειγμα.
	  Ενεργοποιήσαμε τις σελίδες κεφαλίδας και προσθέσαμε το παραπάνω
	  φίλτρο εξόδου:</p><pre class="programlisting">#
#  /etc/printcap for host orchid
#
teak|hp|laserjet|Hewlett Packard LaserJet 3Si:\
        :lp=<code class="filename">/dev/lpt0</code>:sd=<code class="filename">/var/spool/lpd/teak</code>:mx#0:\
        :if=<code class="filename">/usr/local/libexec/hpif</code>:\
        :vf=<code class="filename">/usr/local/libexec/hpvf</code>:\
        :of=<code class="filename">/usr/local/libexec/hpof</code>:</pre><p>Τώρα, όταν οι χρήστες εκτυπώνουν εργασίες στον
	  <code class="literal">teak</code>, θα παίρνουν και μία σελίδα κεφαλίδας ανά
	  εργασία.  Αν οι χρήστες θέλουν να ξοδεύουν χρόνο ψάχνοντας για
	  τις εκτυπώσεις τους, μπορούν να παρεμποδίσουν τις σελίδες κεφαλίδας
	  αποστέλλοντας τις εργασίες τους με
	  <code class="command">lpr -h</code>.  Δείτε την ενότητα
	  <a class="link" href="printing-using.html#printing-lpr-options-misc" title="10.5.4.3. Επιλογές Σελίδων Κεφαλίδας">Επιλογές Σελίδων
	  Κεφαλίδας</a> για περισσότερες επιλογές του <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lpr&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lpr</span>(1)</span></a>.</p><div xmlns="" class="note"><h3 class="admontitle">Σημείωση: </h3><p xmlns="http://www.w3.org/1999/xhtml">Το <span class="application">LPD</span> στέλνει το χαρακτήρα
	    αλλαγής σελίδας (form feed) αμέσως μετά τη σελίδα κεφαλίδας.  Αν
	    ο εκτυπωτής σας χρησιμοποιεί διαφορετικό χαρακτήρα ή ακολουθία
	    χαρακτήρων για την αλλαγή σελίδας, προσδιορίστε τα με την
	    ικανότητα <code class="literal">ff</code> στο αρχείο
	    <code class="filename">/etc/printcap</code>.</p></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="printing-advanced-header-pages-controlling"></a>10.4.2.2. Έλεγχος Σελίδων Κεφαλίδας </h4></div></div></div><p>Μετά την ενεργοποίηση των σελίδων κεφαλίδας, το
	  <span class="application">LPD</span> θα παράγει μία <span class="emphasis"><em>επιμήκη
	  κεφαλίδα</em></span>, μία ολόκληρη σελίδα με μεγάλα γράμματα που
	  προσδιορίζει τον χρήστη, τον υπολογιστή (host), και την εργασία.
	  Εδώ είναι ένα παράδειγμα (η <code class="systemitem">kelly</code> εκτύπωσε την
	  εργασία με όνομα <span class="quote">«<span class="quote">outline</span>»</span> από τον υπολογιστή
	  <code class="systemitem">rose</code>):</p><pre class="screen">      k                   ll       ll
      k                    l        l
      k                    l        l
      k   k     eeee       l        l     y    y
      k  k     e    e      l        l     y    y
      k k      eeeeee      l        l     y    y
      kk k     e           l        l     y    y
      k   k    e    e      l        l     y   yy
      k    k    eeee      lll      lll     yyy y
                                               y
                                          y    y
                                           yyyy


                                   ll
                          t         l        i
                          t         l
       oooo    u    u   ttttt       l       ii     n nnn     eeee
      o    o   u    u     t         l        i     nn   n   e    e
      o    o   u    u     t         l        i     n    n   eeeeee
      o    o   u    u     t         l        i     n    n   e
      o    o   u   uu     t  t      l        i     n    n   e    e
       oooo     uuu u      tt      lll      iii    n    n    eeee









      r rrr     oooo     ssss     eeee
      rr   r   o    o   s    s   e    e
      r        o    o    ss      eeeeee
      r        o    o      ss    e
      r        o    o   s    s   e    e
      r         oooo     ssss     eeee







                                              Job:  outline
                                              Date: Sun Sep 17 11:04:58 1995</pre><p>Το <span class="application">LPD</span> προσθέτει μια εντολή αλλαγής
	  σελίδας (form feed) μετά από αυτό το κείμενο έτσι ώστε η
	  εργασία να ξεκινήσει σε νέα σελίδα (εκτός αν έχετε προσδιορίσει την
	  ικανότητα <code class="literal">sf</code> (suppress form feeds) για τον
	  εκτυπωτή στο αρχείο <code class="filename">/etc/printcap</code>).</p><p>Αν προτιμάτε, το <span class="application">LPD</span> μπορεί να
	  φτιάξει μια <span class="emphasis"><em>μικρότερου μήκους κεφαλίδα</em></span>.
	  Προσδιορίστε <code class="literal">sb</code> (short banner) στο αρχείο
	  <code class="filename">/etc/printcap</code>.  Η σελίδα κεφαλίδας θα μοιάζει
	  σαν αυτή:</p><pre class="screen">rose:kelly  Job: outline  Date: Sun Sep 17 11:07:51 1995</pre><p>Το <span class="application">LPD</span> τυπώνει (από προεπιλογή)
	  πρώτα την σελίδα κεφαλίδας, και μετά την εργασία.  Για να
	  αντιστρέψετε την σειρά, χρησιμοποιήστε την ικανότητα
	  <code class="literal">hl</code> (header last) στο αρχείο
	  <code class="filename">/etc/printcap</code>.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="printing-advanced-header-pages-accounting"></a>10.4.2.3. Καταμέτρηση με Σελίδες Κεφαλίδας</h4></div></div></div><p>Η χρήση των προεγκατεστημένων σελίδων κεφαλίδας του
	  <span class="application">LPD</span> ουσιαστικά υποχρεώνουν την τήρηση
	  του παρακάτω κανόνα όταν κάνουμε καταμέτρηση χρήσης του εκτυπωτή:
	  Οι σελίδες κεφαλίδας πρέπει να διατίθενται <span class="emphasis"><em>ελεύθερα (δίχως
	  χρέωση)</em></span>.</p><p>Γιατί;</p><p>Διότι το φίλτρο εξόδου είναι το μοναδικό εξωτερικό πρόγραμμα
	  που έχει τον έλεγχο στην εκτύπωση της κεφαλίδας και θα μπορούσε να
	  κάνει καταμέτρηση, αλλά ωστόσο δεν παρέχει καμία πληροφορία για
	  <span class="emphasis"><em>τον χρήστη ή τον υπολογιστή</em></span> ή κάποιο άλλο
	  αρχείο καταμέτρησης, επομένως δεν γνωρίζει σε ποιόν να αποδώσει
	  την χρήση του εκτυπωτή.  Δεν αρκεί απλά να <span class="quote">«<span class="quote">προσθέσετε μία
	  ακόμη σελίδα στην καταμέτρηση</span>»</span> τροποποιώντας το φίλτρο
	  κειμένου ή οποιοδήποτε άλλο φίλτρο μετατροπής (το οποίο διαθέτει τις
	  πληροφορίες χρήστη και υπολογιστή), από τη στιγμή που οι χρήστες
	  έχουν την δυνατότητα να παρεμποδίσουν τις σελίδες κεφαλίδας με
	  <code class="command">lpr -h</code>.  Θα μπορούσαν πάλι να
	  χρεωθούν για σελίδες κεφαλίδας που δεν εκτύπωσαν.  Βασικά, η
	  <code class="command">lpr -h</code> θα είναι η προτιμώμενη
	  επιλογή σε ένα περιβάλλον που οι χρήστες έχουν οικολογική
	  συνείδηση, αλλά δεν μπορείτε πραγματικά να παροτρύνετε οποιονδήποτε
	  να τη χρησιμοποιήσει.</p><p><span class="emphasis"><em>Δεν είναι αρκετό</em></span> απλά κάθε φίλτρο σας να
	  δημιουργεί τη δικιά του σελίδα κεφαλίδας (έτσι ώστε να μπορεί να
	  χρεώνει με αυτό τον τρόπο).  Αν οι χρήστες επιθυμούν την επιλογή
	  παρεμπόδισης των σελίδων κεφαλίδας με
	  <code class="command">lpr -h</code>, θα συνεχίσουν να τις
	  παραλαμβάνουν - και να χρεώνονται για αυτές - αφού το
	  <span class="application">LPD</span> δεν έχει δυνατότητα να
	  περάσει σε οποιοδήποτε φίλτρο την επιλογή
	  <code class="option">-h</code>.</p><p>Επομένως, ποιες επιλογές έχετε;</p><p>Μπορείτε:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Να αποδεχθείτε την υπόδειξη του
	      <span class="application">LPD</span> και να παρέχετε τις σελίδες
	      κεφαλίδας ελεύθερα.</p></li><li class="listitem"><p>Να εγκαταστήσετε εναλλακτικές λύσεις αντί του
	      <span class="application">LPD</span>, όπως το
	      <span class="application">LPRng</span>.  Η ενότητα <a class="link" href="printing-lpd-alternatives.html" title="10.6. Εναλλακτικές Λύσεις για τον Στάνταρ Spooler">Εναλλακτικές Λύσεις για
		τον Στάνταρ Spooler</a> δίνει περισσότερες πληροφορίες
	      για άλλες εφαρμογές παροχέτευσης που μπορείτε να
	      χρησιμοποιήσετε αντί για το
	      <span class="application">LPD</span>.</p></li><li class="listitem"><p>Να γράψετε ένα <span class="emphasis"><em>έξυπνο</em></span> φίλτρο εξόδου.
	      Υπό κανονικές συνθήκες, ένα "φίλτρο εξόδου" δεν κάνει τίποτε
	      παραπάνω από την αρχικοποίηση ενός εκτυπωτή ή μερικές απλές
	      μετατροπές χαρακτήρων.  Είναι κατάλληλο για σελίδες κεφαλίδας
	      και για εργασίες απλού κειμένου (όταν δεν υπάρχει φίλτρο
	      (εισόδου) κειμένου).  Αλλά αν υπάρχει φίλτρο κειμένου για
	      εργασίες απλού κειμένου, τότε το
	      <span class="application">LPD</span> θα ενεργοποιεί το φίλτρο εξόδου
	      μόνο για τις σελίδες κεφαλίδας.  Και το φίλτρο εξόδου μπορεί να
	      αναλύει το κείμενο της σελίδας κεφαλίδας που δημιουργεί το
	      <span class="application">LPD</span> για να προσδιορίζει τον χρήστη
	      και τον υπολογιστή, ώστε να χρεώνει τις σελίδες κεφαλίδας.
	      Το μόνο επιπλέον πρόβλημα με αυτή τη μέθοδο είναι πως το φίλτρο
	      εξόδου εξακολουθεί να μη γνωρίζει ποιό αρχείο καταμέτρησης να
	      χρησιμοποιήσει (δεν του έχει δοθεί το όνομα του αρχείου από την
	      ικανότητα <code class="literal">af</code>), αλλά αν το όνομα του αρχείου
	      σας είναι γνωστό, μπορείτε να το ενσωματώσετε απευθείας στον
	      κώδικα του φίλτρου εξόδου.  Για να διευκολύνετε την διαδικασία
	      ανάλυσης, χρησιμοποιήστε την ικανότητα <code class="literal">sh</code>
	      (short header) στο <code class="filename">/etc/printcap</code>.  Ίσως
	      πάλι όλα αυτά να είναι υπερβολικά κοπιαστικά, ενώ είναι σίγουρο
	      πως οι χρήστες θα εκτιμήσουν τον γενναιόδωρο διαχειριστή
	      συστήματος που επιτρέπει ελεύθερα τις σελίδες κεφαλίδας.</p></li></ul></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="printing-advanced-header-pages-ps"></a>10.4.2.4. Σελίδες Κεφαλίδας σε Εκτυπωτές <span class="trademark">PostScript</span>(R)</h4></div></div></div><p>Όπως περιγράψαμε παραπάνω, το <span class="application">LPD</span>
	  μπορεί να δημιουργήσει μία σελίδα κεφαλίδας απλού κειμένου,
	  κατάλληλη για πολλούς εκτυπωτές.  Οι εκτυπωτές <span class="trademark">PostScript</span>(R),
	  φυσικά, δεν μπορούν να τυπώσουν κατευθείαν απλό κείμενο, επομένως
	  αυτή η δυνατότητα του <span class="application">LPD</span> για τις
	  σελίδες κεφαλίδας είναι άχρηστη σε αυτή την περίπτωση.</p><p>Ένας προφανής τρόπος να παρέχονται σελίδες κεφαλίδας είναι να
	  δημιουργούνται από κάθε φίλτρο μετατροπής και το φίλτρο κειμένου.
	  Τα φίλτρα θα πρέπει να δέχονται ως παραμέτρους το όνομα του χρήστη
	  και του υπολογιστή ώστε να δημιουργούν την κατάλληλη σελίδα
	  κεφαλίδας.  Το μειονέκτημα αυτής της μεθόδου είναι πως οι
	  χρήστες θα εκτυπώνουν πάντα σελίδα κεφαλίδας, ακόμη κι αν
	  αποστέλλουν την εργασία τους με
	  <code class="command">lpr -h</code>.</p><p>Επιτρέψτε μας να εξερευνήσουμε αυτή τη μέθοδο.  Το ακόλουθο
	  script δέχεται τρεις παραμέτρους (το όνομα χρήστη - login name, το
	  όνομα του υπολογιστή - host name, και το όνομα εργασίας) και
	  δημιουργεί μία απλή σελίδα κεφαλίδας <span class="trademark">PostScript</span>(R):</p><pre class="programlisting">#!/bin/sh
#
#  make-ps-header - make a PostScript header page on stdout
#  Installed in /usr/local/libexec/make-ps-header
#

#
#  These are PostScript units (72 to the inch).  Modify for A4 or
#  whatever size paper you are using:
#
page_width=612
page_height=792
border=72

#
#  Check arguments
#
if [ $# -ne 3 ]; then
    echo "Usage: `basename $0` &lt;user&gt; &lt;host&gt; &lt;job&gt;" 1&gt;&amp;2
    exit 1
fi

#
#  Save these, mostly for readability in the PostScript, below.
#
user=$1
host=$2
job=$3
date=`date`

#
#  Send the PostScript code to stdout.
#
exec cat &lt;&lt;EOF
%!PS

%
%  Make sure we do not interfere with user's job that will follow
%
save

%
%  Make a thick, unpleasant border around the edge of the paper.
%
$border $border moveto
$page_width $border 2 mul sub 0 rlineto
0 $page_height $border 2 mul sub rlineto
currentscreen 3 -1 roll pop 100 3 1 roll setscreen
$border 2 mul $page_width sub 0 rlineto closepath
0.8 setgray 10 setlinewidth stroke 0 setgray

%
%  Display user's login name, nice and large and prominent
%
/Helvetica-Bold findfont 64 scalefont setfont
$page_width ($user) stringwidth pop sub 2 div $page_height 200 sub moveto
($user) show

%
%  Now show the boring particulars
%
/Helvetica findfont 14 scalefont setfont
/y 200 def
[ (Job:) (Host:) (Date:) ] {
200 y moveto show /y y 18 sub def }
forall

/Helvetica-Bold findfont 14 scalefont setfont
/y 200 def
[ ($job) ($host) ($date) ] {
        270 y moveto show /y y 18 sub def
} forall

%
% That is it
%
restore
showpage
EOF</pre><p>Τώρα, καθένα από τα φίλτρα μετατροπής και το φίλτρο κειμένου
	  μπορούν να καλέσουν το script, πρώτα για να δημιουργήσουν τη σελίδα
	  κεφαλίδας, και έπειτα για να εκτυπώσουν την εργασία του χρήστη.
	  Ακολουθεί το φίλτρο μετατροπής DVI που δείξαμε νωρίτερα, ειδικά
	  διαμορφωμένο για να φτιάξουμε μια σελίδα κεφαλίδας:</p><pre class="programlisting">#!/bin/sh
#
#  psdf - DVI to PostScript printer filter
#  Installed in /usr/local/libexec/psdf
#
#  Invoked by lpd when user runs lpr -d
#

orig_args="$@"

fail() {
    echo "$@" 1&gt;&amp;2
    exit 2
}

while getopts "x:y:n:h:" option; do
    case $option in
        x|y)  ;; # Ignore
        n)    login=$OPTARG ;;
        h)    host=$OPTARG ;;
        *)    echo "LPD started `basename $0` wrong." 1&gt;&amp;2
              exit 2
              ;;
    esac
done

[ "$login" ] || fail "No login name"
[ "$host" ] || fail "No host name"

( /usr/local/libexec/make-ps-header $login $host "DVI File"
  /usr/local/bin/dvips -f ) | eval /usr/local/libexec/lprps $orig_args</pre><p>Παρατηρήστε πως το φίλτρο πρέπει να αναλύσει την λίστα
	  παραμέτρων για να προσδιορίσει το όνομα χρήστη και υπολογιστή.  Η
	  μέθοδος ανάλυσης είναι παρόμοια και για τα υπόλοιπα φίλτρα
	  μετατροπής.  Το φίλτρο κειμένου παίρνει ένα ελαφρώς διαφορετικό
	  σετ παραμέτρων, (δείτε την ενότητα <a class="link" href="printing-advanced.html#printing-advanced-filters" title="10.4.1.1. Πως Δουλεύουν τα Φίλτρα">Πως δουλεύουν τα
	    Φίλτρα</a>).</p><p>Όπως αναφέραμε προηγούμενα, ο παραπάνω σχεδιασμός, αν και
	  πραγματικά απλός, απενεργοποιεί την επιλογή
	  <span class="quote">«<span class="quote">παρεμπόδισης σελίδων κεφαλίδας</span>»</span> (την επιλογή
	  <code class="option">-h</code>) του <code class="command">lpr</code>.  Αν οι χρήστες
	  επιθυμούν να σώσουν ένα δέντρο (ή λίγα χρήματα, αν χρεώνετε τις
	  σελίδες κεφαλίδας), δεν θα υπάρχει τρόπος για να γίνει αυτό, από
	  τη στιγμή που κάθε εκτύπωση μέσω των φίλτρων θα συνοδεύεται και από
	  μια σελίδα κεφαλίδας για κάθε εργασία.</p><p>Για να επιτρέψετε στους χρήστες να απενεργοποιούν τις σελίδες
	  κεφαλίδας ανά εργασία, θα πρέπει να χρησιμοποιήσετε το τέχνασμα
	  που παρουσιάσαμε στην ενότητα <a class="link" href="printing-advanced.html#printing-advanced-header-pages-accounting" title="10.4.2.3. Καταμέτρηση με Σελίδες Κεφαλίδας">Καταμέτρηση με
	    Σελίδες Κεφαλίδας</a>: δηλαδή να γράψετε ένα φίλτρο εξόδου που
	  να αναλύει την σελίδα κεφαλίδας που δημιουργείται από το
	  <span class="application">LPD</span> και να κατασκευάζει μια
	  <span class="trademark">PostScript</span>(R) έκδοση.  Αν ο χρήστης στείλει μια εργασία με
	  <code class="command">lpr -h</code>, τότε ούτε το
	  <span class="application">LPD</span>, ούτε το φίλτρο εξόδου θα φτιάξουν
	  σελίδα κεφαλίδας.  Σε όλες τις άλλες περιπτώσεις, το φίλτρο εξόδου
	  θα διαβάζει το κείμενο από το <span class="application">LPD</span> και θα
	  στέλνει τον κατάλληλο κώδικα <span class="trademark">PostScript</span>(R) στον εκτυπωτή ώστε να
	  εκτυπώνεται η σελίδα κεφαλίδας.</p><p>Αν έχετε εκτυπωτή <span class="trademark">PostScript</span>(R) με σειριακή σύνδεση, μπορείτε να
	  κάνετε χρήση της <code class="command">lprps</code>, η οποία συνοδεύεται από
	  ένα φίλτρο εξόδου, το <code class="command">psof</code>, το οποία κάνει τα
	  παραπάνω.  Σημειώστε πως το <code class="command">psof</code> δεν χρεώνει για
	  τις σελίδες κεφαλίδας.</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="printing-advanced-network-printers"></a>10.4.3. Εκτυπώσεις μέσω Δικτύου</h3></div></div></div><a id="idp84020944" class="indexterm"></a><a id="idp84030416" class="indexterm"></a><p>Το FreeBSD υποστηρίζει τις εκτυπώσεις μέσω δικτύου: μπορεί να στείλει
	εργασίες σε απομακρυσμένους εκτυπωτές.  Η έννοια της δικτυακής
	εκτύπωσης αναφέρεται γενικά σε δύο διαφορετικά πράγματα:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Πρόσβαση σε εκτυπωτή συνδεδεμένο σε απομακρυσμένο υπολογιστή
	    (host).  Εγκαθιστάτε έναν εκτυπωτή με συμβατική σειριακή ή
	    παράλληλη σύνδεση σε ένα υπολογιστή.  Έπειτα, ρυθμίζετε το
	    <span class="application">LPD</span> για να ενεργοποιηθεί η πρόσβαση
	    στον εκτυπωτή από άλλους υπολογιστές του δικτύου.  Η ενότητα
	    <a class="link" href="printing-advanced.html#printing-advanced-network-rm" title="10.4.3.1. Εκτυπωτές Εγκατεστημένοι σε Απομακρυσμένους Υπολογιστές">Εκτυπωτές
	    Εγκατεστημένοι σε Απομακρυσμένους Υπολογιστές</a> εξηγεί τις
	    απαραίτητες ενέργειες.</p></li><li class="listitem"><p>Πρόσβαση σε εκτυπωτή συνδεδεμένο κατευθείαν στο δίκτυο.
	    Εκτός (ή αντί) της συμβατικής σειριακής ή παράλληλης θύρας, ο
	    εκτυπωτής πρέπει να έχει επιπρόσθετα μια δικτυακή διασύνδεση.
	    Ένας τέτοιος εκτυπωτής δουλεύει ως εξής:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>Μπορεί να καταλαβαίνει το πρωτόκολλο
		<span class="application">LPD</span> και να δημιουργεί ουρά
		αναμονής για τις εργασίες που προέρχονται από απομακρυσμένους
		υπολογιστές.  Σε αυτή την περίπτωση, ενεργεί σαν ένας
		κανονικός υπολογιστής που εκτελεί το
		<span class="application">LPD</span>.  Ακολουθήστε την ίδια
		διαδικασία με την ενότητα <a class="link" href="printing-advanced.html#printing-advanced-network-rm" title="10.4.3.1. Εκτυπωτές Εγκατεστημένοι σε Απομακρυσμένους Υπολογιστές">Εκτυπωτές
		  Εγκατεστημένοι σε Απομακρυσμένους Υπολογιστές</a> για να
		εγκαταστήσετε αυτόν τον εκτυπωτή.</p></li><li class="listitem"><p>Μπορεί να υποστηρίζει σύνδεση δικτυακής ροής δεδομένων
		(data stream).  Σε αυτή την περίπτωση, <span class="quote">«<span class="quote">συνδέετε</span>»</span>
		τον εκτυπωτή σε έναν υπολογιστή συνδεδεμένο στο δίκτυο, ο
		οποίος θα είναι υπεύθυνος για την παροχέτευση των εργασιών
		και την αποστολή τους στον εκτυπωτή.  Η ενότητα <a class="link" href="printing-advanced.html#printing-advanced-network-net-if" title="10.4.3.2. Εκτυπωτές με Συνδέσεις Δικτύου">Εκτυπωτές Με
		  Συνδέσεις Δικτύου</a> δίνει μερικές συμβουλές για την
		εγκατάσταση εκτυπωτών αυτού του τύπου.</p></li></ul></div></li></ul></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="printing-advanced-network-rm"></a>10.4.3.1. Εκτυπωτές Εγκατεστημένοι σε Απομακρυσμένους Υπολογιστές</h4></div></div></div><p>Το σύστημα παροχέτευσης <span class="application">LPD</span> έχει
	  ενσωματωμένη υποστήριξη για την αποστολή εργασιών σε άλλους
	  υπολογιστές που εκτελούν το <span class="application">LPD</span> (ή που
	  είναι συμβατοί με το <span class="application">LPD</span>).  Αυτό το
	  χαρακτηριστικό σας επιτρέπει να εγκαταστήσετε έναν εκτυπωτή σε ένα
	  υπολογιστή και να έχετε πρόσβαση σε αυτόν από άλλους.  Επίσης
	  δουλεύει και με εκτυπωτές που έχουν δικτυακές διασυνδέσεις που
	  καταλαβαίνουν το πρωτόκολλο <span class="application">LPD</span>.</p><p>Για να ενεργοποιήσετε αυτόν τον τύπο απομακρυσμένης εκτύπωσης,
	  εγκαταστήστε πρώτα έναν εκτυπωτή σε ένα υπολογιστή, τον
	  <span class="emphasis"><em>υπολογιστή εκτύπωσης (printer host)</em></span>,
	  χρησιμοποιώντας την απλή εγκατάσταση εκτυπωτή που περιγράφεται στην
	  ενότητα <a class="link" href="printing-intro-setup.html#printing-simple" title="10.3.1. Βασικές Ρυθμίσεις Εκτυπωτών">Βασικές Ρυθμίσεις Εκτυπωτών</a>.
	  Κάντε όσες προχωρημένες ρυθμίσεις χρειάζεστε όπως αναφέρεται στις
	  <a class="link" href="printing-advanced.html" title="10.4. Ρυθμίσεις Εκτυπωτών για Προχωρημένους">Ρυθμίσεις Εκτυπωτών για
	  Προχωρημένους</a>.  Ελέγξτε τον εκτυπωτή και δείτε αν δουλεύει
	  με τα χαρακτηριστικά του <span class="application">LPD</span> που έχετε
	  ενεργοποιήσει.  Επίσης βεβαιωθείτε πως ο
	  <span class="emphasis"><em>τοπικός υπολογιστής (local host)</em></span> είναι
	  εξουσιοδοτημένος να χρησιμοποιεί τις υπηρεσίες του
	  <span class="application">LPD</span> στον
	  <span class="emphasis"><em>απομακρυσμένο υπολογιστή (remote host)</em></span>
	  (δείτε <a class="link" href="printing-advanced.html#printing-advanced-restricting-remote" title="10.4.4.4. Περιορισμός Εργασιών από Απομακρυσμένους Υπολογιστές">Παρεμπόδιση
	    Εργασιών από Απομακρυσμένους Υπολογιστές</a>).</p><a id="idp84048976" class="indexterm"></a><a id="idp84050128" class="indexterm"></a><p>Εάν χρησιμοποιείτε εκτυπωτή με δικτυακή διασύνδεση που είναι
	  συμβατός με το <span class="application">LPD</span>, τότε ο
	  <span class="emphasis"><em>ο υπολογιστής εκτύπωσης (printer host)</em></span> είναι ο
	  εν λόγω εκτυπωτής, και το <span class="emphasis"><em>όνομα του εκτυπωτή</em></span>
	  είναι το όνομα που έχετε ορίσει για τον εκτυπωτή.  Δείτε την
	  τεκμηρίωση που συνοδεύει τον εκτυπωτή σας και/ή την κάρτα δικτύου
	  του.</p><div xmlns="" class="tip"><h3 class="admontitle">Υπόδειξη: </h3><p xmlns="http://www.w3.org/1999/xhtml">Αν χρησιμοποιείτε Hewlett Packard Laserjet με όνομα εκτυπωτή
	    <code class="literal">text</code> θα γίνονται αυτόματα οι μετατροπές από
	    LF σε CRLF, επομένως δεν χρειάζεται να τρέξετε το script
	    <code class="filename">hpif</code>.</p></div><p>Επομένως, στους υπόλοιπους υπολογιστές όπου επιθυμείτε να έχετε
	  πρόσβαση στον εκτυπωτή, απλά κάντε μια καταχώριση στο αρχείο
	  <code class="filename">/etc/printcap</code> με τα ακόλουθα στοιχεία:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Ονομάστε την καταχώριση όπως επιθυμείτε: Για δική σας
	      ευκολία πιθανώς να θέλετε να χρησιμοποιήσετε το ίδιο όνομα και
	      τα ίδια παρωνύμια με αυτά του υπολογιστή εκτύπωσης.</p></li><li class="listitem"><p>Αφήστε την ικανότητα <code class="literal">lp</code> κενή, για την
	      ακρίβεια (<code class="literal">:lp=:</code>).</p></li><li class="listitem"><p>Δημιουργήστε ένα κατάλογο spooling και προσδιορίστε την
	      τοποθεσία του με την ικανότητα <code class="literal">sd</code>.  Το
	      <span class="application">LPD</span> θα αποθηκεύει εδώ τις εργασίες
	      πριν την αποστολή τους στον υπολογιστή εκτύπωσης.</p></li><li class="listitem"><p>Τοποθετήστε το όνομα του υπολογιστή εκτύπωσης στην ικανότητα
	      <code class="literal">rm</code>.</p></li><li class="listitem"><p>Τοποθετήστε το όνομα του εκτυπωτή στην ικανότητα
	      <code class="literal">rp</code>, στον
	      <span class="emphasis"><em>υπολογιστή εκτύπωσης</em></span>.</p></li></ol></div><p>Αυτό είναι όλο.  Δεν χρειάζεται να δημιουργήσετε λίστα φίλτρων
	  μετατροπής, διαστάσεις σελίδας, ή οτιδήποτε άλλο στο
	  αρχείο<code class="filename">/etc/printcap</code>.</p><p>Εδώ είναι ένα παράδειγμα.  Ο υπολογιστής <code class="systemitem">rose</code>
	  έχει δύο εκτυπωτές, τον <code class="literal">bamboo</code> και τον
	  <code class="literal">rattan</code>.  Θέλουμε να ενεργοποιήσουμε τις
	  εκτυπώσεις σε αυτούς τους εκτυπωτές για τους χρήστες του
	  απομακρυσμένου υπολογιστή <code class="systemitem">orchid</code>.  Εδώ είναι το
	  αρχείο <code class="filename">/etc/printcap</code> του υπολογιστή
	  <code class="systemitem">orchid</code> (δείτε πιο πίσω στην ενότητα <a class="link" href="printing-advanced.html#printing-advanced-header-pages-enabling" title="10.4.2.1. Ενεργοποίηση Σελίδων Κεφαλίδας">Ενεργοποίηση
	    Σελίδων Κεφαλίδας</a>).  Ήδη έχει μια καταχώριση για τον
	  εκτυπωτή <code class="literal">teak</code>.  Εδώ προσθέσαμε τις απαραίτητες
	  καταχωρίσεις για τους δύο εκτυπωτές του υπολογιστή
	  <code class="systemitem">rose</code>:</p><pre class="programlisting">#
#  /etc/printcap for host orchid - added (remote) printers on rose
#

#
#  teak is local; it is connected directly to orchid:
#
teak|hp|laserjet|Hewlett Packard LaserJet 3Si:\
        :lp=<code class="filename">/dev/lpt0</code>:sd=<code class="filename">/var/spool/lpd/teak</code>:mx#0:\
        :if=<code class="filename">/usr/local/libexec/ifhp</code>:\
        :vf=<code class="filename">/usr/local/libexec/vfhp</code>:\
        :of=<code class="filename">/usr/local/libexec/ofhp</code>:

#
#  rattan is connected to rose; send jobs for rattan to rose:
#
rattan|line|diablo|lp|Diablo 630 Line Printer:\
        :lp=:rm=rose:rp=rattan:sd=<code class="filename">/var/spool/lpd/rattan</code>:

#
#  bamboo is connected to rose as well:
#
bamboo|ps|PS|S|panasonic|Panasonic KX-P4455 PostScript v51.4:\
        :lp=:rm=rose:rp=bamboo:sd=<code class="filename">/var/spool/lpd/bamboo</code>:</pre><p>Το μόνο που απομένει είναι να δημιουργήσουμε τους καταλόγους
	  spooling στον κόμβο <code class="systemitem">orchid</code>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mkdir -p /var/spool/lpd/rattan /var/spool/lpd/bamboo</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>chmod 770 /var/spool/lpd/rattan /var/spool/lpd/bamboo</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>chown daemon:daemon /var/spool/lpd/rattan /var/spool/lpd/bamboo</code></strong></pre><p>Τώρα, οι χρήστες του <code class="systemitem">orchid</code> μπορούν να
	  εκτυπώνουν στον <code class="literal">rattan</code> και στον
	  <code class="literal">bamboo</code>.  Αν, για παράδειγμα, ένας χρήστης του
	  <code class="systemitem">orchid</code> πληκτρολογήσει:

	  </p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>lpr -P bamboo -d sushi-review.dvi</code></strong></pre><p>

	  το σύστημα <span class="application">LPD</span> στον
	  <code class="systemitem">orchid</code> θα αντιγράψει την εργασία στον κατάλογο
	  spooling
	  <code class="filename">/var/spool/lpd/bamboo</code> και θα
	  σημειώσει πως πρόκειται για εργασία DVI.  Μόλις ο υπολογιστής
	  <code class="systemitem">rose</code> έχει διαθέσιμο χώρο στον κατάλογο spooling του
	  <code class="literal">bamboo</code>, τα δύο <span class="application">LPDs</span>
	  θα μεταφέρουν το αρχείο στον <code class="systemitem">rose</code>.  Το αρχείο θα
	  μπει σε ουρά αναμονής στον υπολογιστή <code class="systemitem">rose</code> έως
	  ότου εκτυπωθεί.  Θα μετατραπεί από DVI σε <span class="trademark">PostScript</span>(R) (αφού ο
	  <code class="literal">bamboo</code> είναι εκτυπωτής <span class="trademark">PostScript</span>(R)) στον
	  υπολογιστή <code class="systemitem">rose</code>.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="printing-advanced-network-net-if"></a>10.4.3.2. Εκτυπωτές με Συνδέσεις Δικτύου</h4></div></div></div><p>Συχνά, όταν αγοράζετε κάρτα δικτύου για εκτυπωτή, έχετε τη
	  δυνατότητα επιλογής δύο εκδόσεων: η μία είναι προσομοίωση του
	  spooler (η πιο ακριβή έκδοση) ενώ η άλλη απλά σας επιτρέπει να
	  στέλνετε δεδομένα μέσω αυτής σαν να χρησιμοποιούσατε μια σειριακή
	  ή παράλληλη θύρα (η φτηνή έκδοση).  Αυτή η ενότητα περιγράφει πως να
	  χρησιμοποιείτε την φτηνή έκδοση.  Για την πιο ακριβή έκδοση μπορείτε
	  να βρείτε περισσότερες πληροφορίες στην προηγούμενη ενότητα <a class="link" href="printing-advanced.html#printing-advanced-network-rm" title="10.4.3.1. Εκτυπωτές Εγκατεστημένοι σε Απομακρυσμένους Υπολογιστές">Εκτυπωτές Εγκατεστημένοι
	    σε Απομακρυσμένους Υπολογιστές</a>.</p><p>Η μορφή του αρχείου <code class="filename">/etc/printcap</code> σας
	  επιτρέπει να ορίσετε τη διασύνδεση - σειριακή ή παράλληλη - που θα
	  χρησιμοποιήσετε, και (αν χρησιμοποιείτε σειριακή διασύνδεση) τον
	  ρυθμό baud, πιθανούς ελέγχους ροής, καθυστερήσεις για tabs,
	  μετατροπές για χαρακτήρες νέας γραμμής, και άλλα.  Αλλά δεν υπάρχει
	  τρόπος να ορίσετε μια σύνδεση σε εκτυπωτή που ακούει σε θύρα TCP/IP
	  ή άλλο τύπο δικτύου.</p><p>Για να στείλετε δεδομένα σε ένα δικτυακό εκτυπωτή, χρειάζεται
	  να αναπτύξετε προγράμματα επικοινωνίας που να καλούνται από φίλτρα
	  κειμένου και φίλτρα μετατροπής.  Εδώ έχουμε ένα τέτοιο παράδειγμα:
	  το script <code class="command">netprint</code> παίρνει όλα τα δεδομένα από
	  το standard input και τα στέλνει σε έναν εκτυπωτή συνδεδεμένο στο
	  δίκτυο.  Ορίζουμε στο <code class="command">netprint</code> το όνομα
	  του εκτυπωτή ως πρώτη παράμετρο, και τον αριθμό θύρας στην οποία
	  συνδέεται ως δεύτερη.  Σημειώστε πως αυτός ο τρόπος υποστηρίζει
	  μόνο επικοινωνία μιας κατεύθυνσης (από το FreeBSD στον εκτυπωτή).
	  Πολλοί δικτυακοί εκτυπωτές υποστηρίζουν αμφίδρομη επικοινωνία, και
	  είναι πολύ πιθανό να επιθυμείτε να εκμεταλλευτείτε τα προτερήματα
	  τους (για να ελέγχετε την κατάσταση του εκτυπωτή, για καταμέτρηση
	  εκτυπώσεων, κλπ.).</p><pre class="programlisting">#!/usr/bin/perl
#
#  netprint - Text filter for printer attached to network
#  Installed in /usr/local/libexec/netprint
#
$#ARGV eq 1 || die "Usage: $0 &lt;printer-hostname&gt; &lt;port-number&gt;";

$printer_host = $ARGV[0];
$printer_port = $ARGV[1];

require 'sys/socket.ph';

($ignore, $ignore, $protocol) = getprotobyname('tcp');
($ignore, $ignore, $ignore, $ignore, $address)
    = gethostbyname($printer_host);

$sockaddr = pack('S n a4 x8', &amp;AF_INET, $printer_port, $address);

socket(PRINTER, &amp;PF_INET, &amp;SOCK_STREAM, $protocol)
    || die "Can't create TCP/IP stream socket: $!";
connect(PRINTER, $sockaddr) || die "Can't contact $printer_host: $!";
while (&lt;STDIN&gt;) { print PRINTER; }
exit 0;</pre><p>Μπορείτε να χρησιμοποιήσετε αυτό το script σε διάφορα φίλτρα.
	  Ας υποθέσουμε πως έχουμε έναν εκτυπωτή γραμμής Diablo 750-N
	  συνδεδεμένο στο δίκτυο.  Ο εκτυπωτής δέχεται δεδομένα προς εκτύπωση
	  στην θύρα 5100.  Το όνομα του εκτυπωτή στο δίκτυο είναι
	  <code class="systemitem">scrivener</code>.  Εδώ είναι το φίλτρο κειμένου για τον
	  εκτυπωτή:</p><pre class="programlisting">#!/bin/sh
#
#  diablo-if-net - Text filter for Diablo printer `scrivener' listening
#  on port 5100.   Installed in /usr/local/libexec/diablo-if-net
#
exec /usr/libexec/lpr/lpf "$@" | /usr/local/libexec/netprint scrivener 5100</pre></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="printing-advanced-restricting"></a>10.4.4. Έλεγχος Πρόσβασης και Περιορισμοί στη Χρήση των Εκτυπωτών</h3></div></div></div><a id="idp84099536" class="indexterm"></a><p>Αυτή η ενότητα δίνει πληροφορίες για τον έλεγχο πρόσβασης και τον
	περιορισμό χρήσης των εκτυπωτών.  Το σύστημα
	<span class="application">LPD</span> σας επιτρέπει να ελέγχετε ποιός μπορεί
	να έχει πρόσβαση σε κάθε εκτυπωτή, τόσο τοπικά όσο και απομακρυσμένα,
	και επίσης αν μπορούν οι χρήστες να εκτυπώνουν πολλαπλά αντίγραφα,
	πόσο μεγάλες μπορούν να είναι οι εργασίες τους, και πόσο μεγάλες
	μπορούν να γίνουν οι ουρές αναμονής (print queues).</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="printing-advanced-restricting-copies"></a>10.4.4.1. Περιορισμός Εκτύπωσης Πολλαπλών Αντιγράφων</h4></div></div></div><p>Το σύστημα <span class="application">LPD</span> διευκολύνει τους
	  χρήστες να εκτυπώσουν πολλαπλά αντίγραφα ενός αρχείου.  Οι χρήστες
	  μπορούν να εκτυπώνουν εργασίες με
	  <code class="command">lpr -#5</code> (για
	  παράδειγμα) και να παίρνουν πέντε αντίγραφα κάθε αρχείου της
	  εργασίας εκτύπωσης.  Το αν αυτό είναι καλό, εξαρτάται από
	  εσάς.</p><p>Αν πιστεύετε πως τα πολλαπλά αντίγραφα δημιουργούν άσκοπη
	  καταπόνηση των εκτυπωτών σας, μπορείτε να απενεργοποιήσετε
	  την επιλογή <code class="option">-#</code> στο <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lpr&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lpr</span>(1)</span></a> προσθέτοντας την
	  ικανότητα <code class="literal">sc</code> στο αρχείο
	  <code class="filename">/etc/printcap</code>.  Όταν οι χρήστες αποστέλλουν
	  εργασίες με την επιλογή <code class="option">-#</code>, θα βλέπουν:</p><pre class="screen">lpr: multiple copies are not allowed</pre><p>Σημειώστε πως αν έχετε ρυθμίσει πρόσβαση σε έναν εκτυπωτή
	  απομακρυσμένα (δείτε την ενότητα <a class="link" href="printing-advanced.html#printing-advanced-network-rm" title="10.4.3.1. Εκτυπωτές Εγκατεστημένοι σε Απομακρυσμένους Υπολογιστές">Εκτυπωτές Εγκατεστημένοι σε
	    Απομακρυσμένους Υπολογιστές</a>), θα χρειαστεί να προσθέσετε
	  την ικανότητα <code class="literal">sc</code> σε όλα τα απομακρυσμένα αρχεία
	  <code class="filename">/etc/printcap</code>, διαφορετικά οι χρήστες θα
	  έχουν ακόμη την δυνατότητα να αποστέλλουν εργασίες πολλαπλών
	  αντιγράφων χρησιμοποιώντας διαφορετικό κόμβο.</p><p>Εδώ είναι ένα παράδειγμα.  Αυτό είναι το αρχείο
	  <code class="filename">/etc/printcap</code> για τον κόμβο
	  <code class="systemitem">rose</code>.  Ο εκτυπωτής <code class="literal">rattan</code>
	  είναι δυνατό μηχάνημα και επιτρέπει την εκτύπωση πολλαπλών
	  αντιγράφων, αλλά ο εκτυπωτής laser <code class="literal">bamboo</code> είναι
	  πιο ευαίσθητο, επομένως θα απενεργοποιήσουμε τη δυνατότητα
	  πολλαπλών αντιγράφων προσθέτοντας την ικανότητα
	  <code class="literal">sc</code>:</p><pre class="programlisting">#
#  /etc/printcap for host rose - restrict multiple copies on bamboo
#
rattan|line|diablo|lp|Diablo 630 Line Printer:\
        :sh:sd=<code class="filename">/var/spool/lpd/rattan</code>:\
        :lp=<code class="filename">/dev/lpt0</code>:\
        :if=<code class="filename">/usr/local/libexec/if-simple</code>:

bamboo|ps|PS|S|panasonic|Panasonic KX-P4455 PostScript v51.4:\
        :sh:sd=<code class="filename">/var/spool/lpd/bamboo</code>:sc:\
        :lp=<code class="filename">/dev/ttyu5</code>:ms#-parenb cs8 clocal crtscts:rw:\
        :if=<code class="filename">/usr/local/libexec/psif</code>:\
        :df=<code class="filename">/usr/local/libexec/psdf</code>:</pre><p>Τώρα, θα χρειαστεί να προσθέσουμε επίσης την ικανότητα
	  <code class="literal">sc</code> στο αρχείο <code class="filename">/etc/printcap</code>
	  του κόμβου <code class="systemitem">orchid</code> (και ενώ βρισκόμαστε σε αυτό,
	  επιτρέψτε μας να απενεργοποιήσουμε τα πολλαπλά αντίγραφα για τον
	  εκτυπωτή <code class="literal">teak</code>):</p><pre class="programlisting">#
#  /etc/printcap for host orchid - no multiple copies for local
#  printer teak or remote printer bamboo
teak|hp|laserjet|Hewlett Packard LaserJet 3Si:\
        :lp=<code class="filename">/dev/lpt0</code>:sd=<code class="filename">/var/spool/lpd/teak</code>:mx#0:sc:\
        :if=<code class="filename">/usr/local/libexec/ifhp</code>:\
        :vf=<code class="filename">/usr/local/libexec/vfhp</code>:\
        :of=<code class="filename">/usr/local/libexec/ofhp</code>:

rattan|line|diablo|lp|Diablo 630 Line Printer:\
        :lp=:rm=rose:rp=rattan:sd=<code class="filename">/var/spool/lpd/rattan</code>:

bamboo|ps|PS|S|panasonic|Panasonic KX-P4455 PostScript v51.4:\
        :lp=:rm=rose:rp=bamboo:sd=<code class="filename">/var/spool/lpd/bamboo</code>:sc:</pre><p>Χρησιμοποιώντας την ικανότητα <code class="literal">sc</code>,
	  προλαμβάνουμε την χρήση των εντολών
	  <code class="command">lpr -#</code>,
	  αλλά δεν έχουμε ακόμη την δυνατότητα να παρεμποδίσουμε τους χρήστες
	  να τρέξουν την εντολή <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lpr&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lpr</span>(1)</span></a> πολλές φορές, ή να αποστείλουν
	  το ίδιο αρχείο πολλές φορές σε μία μοναδική εργασία, όπως
	  εδώ:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>lpr forsale.sign forsale.sign forsale.sign forsale.sign forsale.sign</code></strong></pre><p>Υπάρχουν πολλοί τρόποι πρόληψης αυτών των ενεργειών
	  (συμπεριλαμβάνοντας και την περίπτωση να το αγνοήσετε) που είστε
	  ελεύθεροι να εξερευνήσετε.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="printing-advanced-restricting-access"></a>10.4.4.2. Περιορίζοντας την Πρόσβαση σε Εκτυπωτές</h4></div></div></div><p>Μπορείτε να ελέγχετε ποιός μπορεί να εκτυπώνει σε ποιόν
	  εκτυπωτή χρησιμοποιώντας τους μηχανισμούς ομάδων (groups) του <span class="trademark">UNIX</span>(R)
	  και την ικανότητα <code class="literal">rg</code> στο
	  <code class="filename">/etc/printcap</code>.  Απλά τοποθετήστε τους χρήστες
	  που θέλετε να έχουν πρόσβαση σε κάποιον εκτυπωτή σε μια
	  συγκεκριμένη ομάδα (χρηστών), και δηλώστε αυτή την ομάδα στην
	  ικανότητα <code class="literal">rg</code>.</p><p>Όλοι οι χρήστες που δεν ανήκουν στην ομάδα (συμπεριλαμβανομένου
	  και του <code class="systemitem">root</code>) θα δέχονται το ακόλουθο μήνυμα:
	  <span class="errorname">lpr: Not a member of the restricted group</span>
	  όταν προσπαθούν να εκτυπώσουν στον ελεγχόμενο εκτυπωτή.</p><p>Όπως και με την ικανότητα <code class="literal">sc</code>
	  (περιορισμού πολλαπλών αντιγράφων), θα χρειαστεί να προσδιορίσετε
	  την <code class="literal">rg</code> στους απομακρυσμένους κόμβους που θα
	  έχουν πρόσβαση στους εκτυπωτές σας, αν νομίζετε πως αυτό είναι
	  σωστό (δείτε την ενότητα <a class="link" href="printing-advanced.html#printing-advanced-network-rm" title="10.4.3.1. Εκτυπωτές Εγκατεστημένοι σε Απομακρυσμένους Υπολογιστές">Εκτυπωτές Εγκατεστημένοι
	    σε Απομακρυσμένους Υπολογιστές</a>).</p><p>Για παράδειγμα, θα αφήσουμε για όλους ελεύθερη την πρόσβαση
	  στον εκτυπωτή <code class="literal">rattan</code>, αλλά μόνο οι χρήστες της
	  ομάδας <code class="literal">artists</code> θα μπορούν να χρησιμοποιήσουν τον
	  <code class="literal">bamboo</code>.  Εδώ είναι το γνωστό μας
	  <code class="filename">/etc/printcap</code> για τον κόμβο
	  <code class="systemitem">rose</code>:</p><pre class="programlisting">#
#  /etc/printcap for host rose - restricted group for bamboo
#
rattan|line|diablo|lp|Diablo 630 Line Printer:\
        :sh:sd=<code class="filename">/var/spool/lpd/rattan</code>:\
        :lp=<code class="filename">/dev/lpt0</code>:\
        :if=<code class="filename">/usr/local/libexec/if-simple</code>:

bamboo|ps|PS|S|panasonic|Panasonic KX-P4455 PostScript v51.4:\
        :sh:sd=<code class="filename">/var/spool/lpd/bamboo</code>:sc:rg=artists:\
        :lp=<code class="filename">/dev/ttyu5</code>:ms#-parenb cs8 clocal crtscts:rw:\
        :if=<code class="filename">/usr/local/libexec/psif</code>:\
        :df=<code class="filename">/usr/local/libexec/psdf</code>:</pre><p>Επιτρέψτε μας να μην αλλάξουμε το αρχείο
	  <code class="filename">/etc/printcap</code> από το άλλο παράδειγμα
	  (για τον υπολογιστή <code class="systemitem">orchid</code>).  Φυσικά, οποιοσδήποτε
	  χρήστης του <code class="systemitem">orchid</code> μπορεί να εκτυπώσει στον
	  <code class="literal">bamboo</code>.  Ίσως όμως να επιτρέπουμε μόνον σε
	  συγκεκριμένους χρήστες την πρόσβαση στον υπολογιστή
	  <code class="systemitem">orchid</code>, και θέλουμε αυτοί οι χρήστες να έχουν
	  πρόσβαση στον εκτυπωτή.  Ή ίσως πάλι, και όχι.</p><div xmlns="" class="note"><h3 class="admontitle">Σημείωση: </h3><p xmlns="http://www.w3.org/1999/xhtml">Επιτρέπεται μόνο μια περιορισμένη ομάδα ανά εκτυπωτή.</p></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="printing-advanced-restricting-sizes"></a>10.4.4.3. Έλεγχος Μεγέθους των Απεσταλμένων Εργασιών</h4></div></div></div><a id="idp84158416" class="indexterm"></a><p>Αν πολλοί χρήστες έχουν πρόσβαση στους εκτυπωτές σας, πιθανώς
	  να χρειάζεται να θέσετε ένα ανώτατο όριο στο επιτρεπόμενο μέγεθος
	  αρχείων που μπορούν να αποστείλουν οι χρήστες για εκτύπωση.  Ακόμα
	  και αν υπάρχει αρκετός χώρος στο σύστημα αρχείων που φιλοξενεί τους
	  καταλόγους spool, θα πρέπει ωστόσο να βεβαιωθείτε ότι επαρκεί για
	  τις εργασίες όλων των χρηστών.</p><a id="idp84159312" class="indexterm"></a><p>Το <span class="application">LPD</span> σας επιτρέπει να
	  οριοθετήσετε το μέγιστο αριθμό bytes που περιέχει μια εργασία, με
	  την ικανότητα <code class="literal">mx</code>.  Η μονάδα μέτρησης είναι σε
	  <code class="literal">BUFSIZ</code> blocks, τα οποία είναι 1024 bytes.  Αν
	  θέσετε μηδέν σε αυτή την ικανότητα, δεν θα υπάρχουν όρια στο
	  μέγεθος των αρχείων.  Ωστόσο, αν δεν έχει οριστεί η ικανότητα
	  <code class="literal">mx</code>, τότε θα χρησιμοποιείται η προεπιλεγμένη τιμή
	  των 1000 blocks.</p><div xmlns="" class="note"><h3 class="admontitle">Σημείωση: </h3><p xmlns="http://www.w3.org/1999/xhtml">Το όριο εφαρμόζεται στα <span class="emphasis"><em>αρχεία</em></span> μιας
	    εργασίας, και <span class="emphasis"><em>όχι</em></span> στο συνολικό μέγεθος της
	    εργασίας.</p></div><p>Το <span class="application">LPD</span> δεν θα απορρίψει ένα αρχείο
	  που ξεπερνά το όριο μεγέθους που έχετε θέσει.  Αντιθέτως, θα το
	  τοποθετήσει στην ουρά αναμονής με μέγεθος ίσο με το μέγιστο
	  επιτρεπτό, το οποίο και θα εκτυπώσει τελικά.  Το υπόλοιπο αρχείο
	  απορρίπτεται.  Αν αυτός είναι σωστός ή λανθασμένος τρόπος
	  αντιμετώπισης για την υπέρβαση του ορίου, είναι θέμα προς
	  συζήτηση.</p><p>Ας οριοθετήσουμε στο παράδειγμα μας τους εκτυπωτές
	  <code class="literal">rattan</code> και <code class="literal">bamboo</code>.  Επειδή
	  τα αρχεία <span class="trademark">PostScript</span>(R) των <code class="systemitem">artists</code> τείνουν
	  προς μεγάλα μεγέθη, θα θέσουμε ένα όριο πέντε megabytes.  Δεν θα
	  θέσουμε όρια για τον εκτυπωτή γραμμής απλού κειμένου:</p><pre class="programlisting">#
#  /etc/printcap for host rose
#

#
#  No limit on job size:
#
rattan|line|diablo|lp|Diablo 630 Line Printer:\
        :sh:mx#0:sd=<code class="filename">/var/spool/lpd/rattan</code>:\
        :lp=<code class="filename">/dev/lpt0</code>:\
        :if=<code class="filename">/usr/local/libexec/if-simple</code>:

#
#  Limit of five megabytes:
#
bamboo|ps|PS|S|panasonic|Panasonic KX-P4455 PostScript v51.4:\
        :sh:sd=<code class="filename">/var/spool/lpd/bamboo</code>:sc:rg=artists:mx#5000:\
        :lp=<code class="filename">/dev/ttyu5</code>:ms#-parenb cs8 clocal crtscts:rw:\
        :if=<code class="filename">/usr/local/libexec/psif</code>:\
        :df=<code class="filename">/usr/local/libexec/psdf</code>:</pre><p>Και πάλι, τα όρια εφαρμόζονται μόνο για τους τοπικούς χρήστες.
	  Αν έχετε ενεργοποιήσει απομακρυσμένη πρόσβαση για τους εκτυπωτές
	  σας, τα όρια αυτά δεν ισχύουν για τους απομακρυσμένους χρήστες.  Θα
	  χρειαστεί να προσδιορίσετε με την ικανότητα <code class="literal">mx</code>
	  και τα απομακρυσμένα αρχεία <code class="filename">/etc/printcap</code>.
	  Δείτε την ενότητα <a class="link" href="printing-advanced.html#printing-advanced-network-rm" title="10.4.3.1. Εκτυπωτές Εγκατεστημένοι σε Απομακρυσμένους Υπολογιστές">Εκτυπωτές Εγκατεστημένοι σε
	    Απομακρυσμένους Υπολογιστές</a> για περισσότερες πληροφορίες
	  σχετικά με τις εκτυπώσεις από απομακρυσμένους υπολογιστές.</p><p>Υπάρχει και άλλος εξειδικευμένος τρόπος περιορισμού του μεγέθους
	  εργασιών για απομακρυσμένους εκτυπωτές.  Δείτε την ενότητα <a class="link" href="printing-advanced.html#printing-advanced-restricting-remote" title="10.4.4.4. Περιορισμός Εργασιών από Απομακρυσμένους Υπολογιστές">Περιορισμός
	    Εργασιών από Απομακρυσμένους Υπολογιστές</a>.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="printing-advanced-restricting-remote"></a>10.4.4.4. Περιορισμός Εργασιών από Απομακρυσμένους Υπολογιστές</h4></div></div></div><p>Το σύστημα παροχέτευσης <span class="application">LPD</span> παρέχει
	  διάφορους τρόπους περιορισμού των εργασιών από απομακρυσμένους
	  υπολογιστές:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Παρεμπόδιση υπολογιστών</span></dt><dd><p>Μπορείτε να ελέγχετε από ποιους απομακρυσμένους
		υπολογιστές θα δέχεται αιτήσεις εκτύπωσης το τοπικό
		<span class="application">LPD</span>, χρησιμοποιώντας τα αρχεία
		<code class="filename">/etc/hosts.equiv</code> και
		<code class="filename">/etc/hosts.lpd</code>.  Το
		<span class="application">LPD</span> ελέγχει να δει αν η εισερχόμενη
		αίτηση προέρχεται από έναν υπολογιστή που αναφέρεται σε κάποιο
		από τα δύο αρχεία.  Αν όχι, το <span class="application">LPD</span>
		απορρίπτει την αίτηση.</p><p>Η μορφή αυτών των αρχείων είναι απλή: ένα όνομα υπολογιστή
		ανά γραμμή.  Παρατηρήστε πως το αρχείο
		<code class="filename">/etc/hosts.equiv</code> χρησιμοποιείται και από
		το πρωτόκολλο <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ruserok&amp;sektion=3"><span class="citerefentry"><span class="refentrytitle">ruserok</span>(3)</span></a>, και επηρεάζει προγράμματα όπως
		το <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=rsh&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">rsh</span>(1)</span></a> και το <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=rcp&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">rcp</span>(1)</span></a>, επομένως να είστε
		προσεκτικοί.</p><p>Για παράδειγμα, εδώ είναι το αρχείο
		<code class="filename">/etc/hosts.lpd</code> στον υπολογιστή
		<code class="systemitem">rose</code>:</p><pre class="programlisting">orchid
violet
madrigal.fishbaum.de</pre><p>Αυτό σημαίνει πως ο <code class="systemitem">rose</code> δέχεται
		αιτήσεις από τους υπολογιστές <code class="systemitem">orchid</code>,
		<code class="systemitem">violet</code>, και
		<code class="systemitem">madrigal.fishbaum.de</code>.  Αν
		κάποιος άλλος υπολογιστής προσπαθήσει να αποκτήσει πρόσβαση
		στο <span class="application">LPD</span> του <code class="systemitem">rose</code>,
		η εργασία θα απορριφθεί.</p></dd><dt><span class="term">Περιορισμοί στο Μέγεθος</span></dt><dd><p>Μπορείτε να ελέγχετε πόσος ελεύθερος χώρος πρέπει να
		απομένει στο σύστημα αρχείων όπου βρίσκεται ο κατάλογος
		spool.  Δημιουργήστε ένα αρχείο με όνομα
		<code class="filename">minfree</code> στον κατάλογο spool για τον
		τοπικό εκτυπωτή.  Εισάγετε σε αυτό το αρχείο έναν αριθμό που
		αντιπροσωπεύει πόσα blocks δίσκου (512 bytes) ελεύθερου χώρου
		πρέπει να υπάρχουν για να είναι δεκτή μια απομακρυσμένη
		εργασία.</p><p>Αυτό σας επιτρέπει να είστε βέβαιοι πως οι απομακρυσμένοι
		χρήστες δεν θα γεμίσουν το σύστημα αρχείων σας.  Μπορείτε
		επίσης να το χρησιμοποιήσετε για να δώσετε μερική
		προτεραιότητα στους τοπικούς χρήστες: οι τοπικοί χρήστες θα
		μπορούν να στέλνουν εργασίες στην ουρά αναμονής ακόμη και
		όταν ο ελεύθερος χώρος του δίσκου έχει πέσει κάτω από τον
		αριθμό που αναφέρεται στο αρχείο
		<code class="filename">minfree</code>.</p><p>Για παράδειγμα, ας προσθέσουμε ένα αρχείο
		<code class="filename">minfree</code> για τον εκτυπωτή
		<code class="literal">bamboo</code>.  Εξετάζουμε το
		<code class="filename">/etc/printcap</code> για να βρούμε τον κατάλογο
		spool για αυτόν τον εκτυπωτή.  Εδώ είναι η καταχώριση για τον
		<code class="literal">bamboo</code>:</p><pre class="programlisting">bamboo|ps|PS|S|panasonic|Panasonic KX-P4455 PostScript v51.4:\
        :sh:sd=<code class="filename">/var/spool/lpd/bamboo</code>:sc:rg=artists:mx#5000:\
        :lp=<code class="filename">/dev/ttyu5</code>:ms#-parenb cs8 clocal crtscts:rw:mx#5000:\
        :if=<code class="filename">/usr/local/libexec/psif</code>:\
        :df=<code class="filename">/usr/local/libexec/psdf</code>:</pre><p>Ο κατάλογος spool καθορίζεται στην ικανότητα
		<code class="literal">sd</code>.  Θα θέσουμε τρία megabytes (ισοδυναμεί
		με 6144 disk blocks) ως το μέγεθος του ελεύθερου χώρου που
		πρέπει να υπάρχει στο σύστημα αρχείων, ώστε το
		<span class="application">LPD</span> να δέχεται απομακρυσμένες
		εργασίες:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>echo 6144 &gt; /var/spool/lpd/bamboo/minfree</code></strong></pre></dd><dt><span class="term">Περιορισμοί χρηστών</span></dt><dd><p>Μπορείτε να ελέγχετε ποιός απομακρυσμένος χρήστης μπορεί
		να εκτυπώνει στους τοπικούς εκτυπωτές ορίζοντας την ικανότητα
		<code class="literal">rs</code> στο <code class="filename">/etc/printcap</code>.
		Όταν εμφανίζεται η <code class="literal">rs</code> σε μια καταχώριση
		κάποιου τοπικά συνδεδεμένου εκτυπωτή, το
		<span class="application">LPD</span> θα δεχθεί εργασίες από
		απομακρυσμένους υπολογιστές <span class="emphasis"><em>αν</em></span> ο χρήστης
		που αποστέλλει την εργασία έχει λογαριασμό στον τοπικό
		υπολογιστή και με το ίδιο όνομα χρήστη.  Διαφορετικά, το
		<span class="application">LPD</span> θα απορρίψει την
		εργασία.</p><p>Αυτή η ικανότητα είναι ιδιαίτερα χρήσιμη σε περιβάλλοντα
		όπου υπάρχουν (για παράδειγμα) διαφορετικά επιχειρησιακά
		τμήματα που μοιράζονται το δίκτυο, και κάποιοι χρήστες
		πρέπει να υπερβαίνουν τα σύνορα του τμήματος.  Δημιουργώντας
		λογαριασμούς στα συστήματα σας, θα μπορούν να χρησιμοποιούν
		τους εκτυπωτές σας από το δικό τους τμήμα της επιχείρησης.
		Αν επιθυμείτε να τους επιτρέπετε να χρησιμοποιούν
		<span class="emphasis"><em>μόνο</em></span> τους εκτυπωτές και όχι τα
		μηχανήματα σας, τότε μπορείτε να δημιουργήσετε
		λογαριασμούς <span class="quote">«<span class="quote">token</span>»</span>, δίχως προσωπικούς
		καταλόγους και με κέλυφος που δεν μπορεί να χρησιμοποιηθεί,
		όπως το <code class="filename">/usr/bin/false</code>.</p></dd></dl></div></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="printing-advanced-acct"></a>10.4.5. Καταμέτρηση Χρήσης Εκτυπωτών</h3></div></div></div><a id="idp84226000" class="indexterm"></a><p>Αποφασίσατε ότι χρειάζεται να χρεώνετε για τις εκτυπώσεις σας.
	Και γιατί όχι; Το χαρτί και το μελάνι κοστίζουν χρήματα.  Και
	επιπλέον υπάρχει κόστος συντήρησης - οι εκτυπωτές αποτελούνται
	από κινητά μέρη και έχουν την τάση να χαλάνε.  Έχετε εξετάσει τους
	εκτυπωτές σας, τον τρόπο που χρησιμοποιούνται, και το κόστος
	συντήρησης και έχετε υπολογίσει μια χρέωση ανά σελίδα (ή ανά μέτρο,
	ανά πόδι, ή άλλη μονάδα μέτρησης).  Το θέμα είναι τώρα πως μπορείτε
	πραγματικά να ξεκινήσετε να καταμετράτε τις εκτυπώσεις σας.</p><p>Τα άσχημα νέα είναι πως το σύστημα παροχέτευσης του
	<span class="application">LPD</span> δεν παρέχει πολύ βοήθεια σε αυτόν τον
	τομέα.  Η καταμέτρηση εξαρτάται σε μεγάλο βαθμό από τον τύπο του
	εκτυπωτή που χρησιμοποιείτε, τους τύπους αρχείων που εκτυπώνετε, και
	τις <span class="emphasis"><em>δικές σας</em></span> απαιτήσεις για την χρέωση των
	εκτυπώσεων.</p><p>Για την καταμέτρηση, θα πρέπει να μετατρέψετε το φίλτρο κειμένου
	(για τη χρέωση εργασιών απλού κειμένου) του εκτυπωτή και τα φίλτρα
	μετατροπής (για τη χρέωση όλων των άλλων τύπων αρχείων) ώστε να
	μετρούν σελίδες ή να ζητούν να μάθουν από τον εκτυπωτή τον αριθμό των
	εκτυπωμένων σελίδων.  Δεν θα σας βοηθήσει ιδιαίτερα η χρήση φίλτρου
	εξόδου, από τη στιγμή που δεν μπορεί να κάνει καταμέτρηση.  Δείτε την
	ενότητα <a class="link" href="printing-advanced.html#printing-advanced-filter-intro" title="10.4.1. Φίλτρα">Φίλτρα</a>.</p><p>Γενικά, υπάρχουν δύο τρόποι για να κάνετε καταμέτρηση:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Η <span class="emphasis"><em>Περιοδική καταμέτρηση</em></span> είναι ο πιο
	    συνηθισμένος τρόπος, πιθανώς γιατί είναι ο ευκολότερος.  Κάθε φορά
	    που κάποιος εκτυπώνει μια εργασία, το φίλτρο δημιουργεί ένα
	    αρχείο καταγραφής όπου αναφέρει τον χρήστη, τον υπολογιστή, και
	    τον αριθμό των σελίδων.  Κάθε μήνα, εξάμηνο, χρόνο, ή άλλη χρονική
	    περίοδο της αρεσκείας σας, συλλέγετε τα αρχεία καταγραφής για τους
	    διάφορους εκτυπωτές, λογαριάζετε τις σελίδες που αναλογούν στους
	    χρήστες, και χρεώνετε αναλόγως.  Έπειτα σβήνετε τα στοιχεία από τα
	    αρχεία καταγραφής, ξεκινώντας από καθαρή κατάσταση για την επόμενη
	    περίοδο.</p></li><li class="listitem"><p>Η <span class="emphasis"><em>Καταμέτρηση κατά τη χρήση</em></span> είναι
	    λιγότερο γνωστή, ίσως επειδή είναι πιο δύσκολος τρόπος.  Σε αυτή
	    τη μέθοδο τα φίλτρα χρεώνουν τους χρήστες για τις εκτυπώσεις τους
	    αμέσως μόλις αυτές πραγματοποιηθούν.  Όπως και με την καταγραφή
	    χρήσης δίσκου (disk quotas), η καταμέτρηση είναι άμεση.  Μπορείτε
	    να προλαμβάνετε την χρήση εκτυπωτών από χρήστες που έχουν χτυπήσει
	    κόκκινο, και μπορείτε να παρέχετε στους χρήστες ένα τρόπο για να
	    ελέγχουν και να ρυθμίζουν τον <span class="quote">«<span class="quote">όγκο εκτυπώσεων (print
	    quotas).</span>»</span> Αλλά αυτή η μέθοδος προϋποθέτει λίγο κώδικα
	    βάσεων δεδομένων για την καταγραφή χρηστών και των εν λόγω
	    μεγεθών.</p></li></ul></div><p>Το σύστημα παροχέτευσης <span class="application">LPD</span>
	υποστηρίζει εύκολα και τις δύο μεθόδους: από τη στιγμή που πρέπει
	εσείς να παρέχετε τα φίλτρα (τις περισσότερες φορές), θα πρέπει
	επίσης να παρέχετε και τον κώδικα καταμέτρησης.  Αλλά υπάρχει και ένα
	καλό σε αυτή την υπόθεση: έχετε απεριόριστη ευελιξία στις μεθόδους
	καταμέτρησης.  Για παράδειγμα, μπορείτε να επιλέξετε περιοδική ή κατά
	τη χρήση καταμέτρηση.  Μπορείτε να επιλέξετε τις πληροφορίες που θα
	καταγράφονται: ονόματα χρηστών, ονόματα υπολογιστών, τύπους εργασιών,
	τυπωμένες σελίδες, τετραγωνικά μέτρα χαρτιού που χρησιμοποιήθηκε,
	πόσος χρόνος χρειάστηκε για να γίνει η εκτύπωση, και πολλά ακόμα.  Και
	όλα αυτά γίνονται μετατρέποντας τα φίλτρα για να αποθηκεύουν αυτές τις
	πληροφορίες.</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp84246224"></a>10.4.5.1. Γρήγορη και Πρόχειρη Καταμέτρηση Εκτυπώσεων</h4></div></div></div><p>Το FreeBSD διατίθεται με δύο προγράμματα που μπορούν να παρέχουν
	  άμεσα απλή περιοδική καταμέτρηση.  Είναι το φίλτρο κειμένου
	  <code class="command">lpf</code>, που περιγράφεται στην ενότητα <a class="link" href="printing-advanced.html#printing-advanced-lpf" title="10.4.1.6. lpf: ένα Φίλτρο Κειμένου">lpf: ένα Φίλτρο Κειμένου</a>,
	  και το <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pac&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">pac</span>(8)</span></a>, ένα πρόγραμμα που συλλέγει και αθροίζει
	  καταχωρίσεις από αρχεία καταμετρήσεων.</p><p>Όπως αναφέραμε στην ενότητα των φίλτρων (<a class="link" href="printing-advanced.html#printing-advanced-filters" title="10.4.1.1. Πως Δουλεύουν τα Φίλτρα">Φίλτρα</a>), το
	  <span class="application">LPD</span> ξεκινά τα φίλτρα κειμένου και
	  μετατροπής περνώντας στην γραμμή εντολών του φίλτρου και το όνομα
	  του αρχείου καταγραφής.  Τα φίλτρα μπορούν να χρησιμοποιήσουν αυτή
	  την παράμετρο για να ξέρουν που να γράφουν τις καταχωρίσεις
	  καταμέτρησης.  Το όνομα του αρχείου καταμέτρησης φαίνεται στην
	  ικανότητα <code class="literal">af</code> στο
	  <code class="filename">/etc/printcap</code>, και αν δεν ορίζεται η πλήρης
	  διαδρομή του, χρησιμοποιείται η σχετική διαδρομή ως προς τον
	  κατάλογο spool.</p><p>Το <span class="application">LPD</span> ξεκινά το
	  <code class="command">lpf</code> με παραμέτρους πλάτους και μήκους σελίδας
	  (από τις ικανότητες <code class="literal">pw</code> και
	  <code class="literal">pl</code>).  Το <code class="command">lpf</code> χρησιμοποιεί
	  αυτές τις παραμέτρους για να προσδιορίσει την ποσότητα χαρτιού που
	  χρησιμοποιήθηκε.  Μετά την αποστολή του αρχείου στον εκτυπωτή,
	  γράφει μια καταχώριση καταμέτρησης στο αρχείο καταγραφής.  Οι
	  καταχωρίσεις μοιάζουν με τις παρακάτω:</p><pre class="programlisting">2.00 rose:andy
3.00 rose:kelly
3.00 orchid:mary
5.00 orchid:mary
2.00 orchid:zhang</pre><p>Θα πρέπει να χρησιμοποιείτε ξεχωριστό αρχείο καταγραφής για
	  κάθε εκτυπωτή, αφού το <code class="command">lpf</code> δεν έχει ενσωματωμένη
	  δυνατότητα κλειδώματος αρχείου (file locking), και δύο
	  <code class="command">lpf</code> μπορούν να καταστρέψουν το ένα την
	  καταχώριση του άλλου αν πρόκειται να γράψουν ταυτόχρονα στο ίδιο
	  αρχείο.  Ένας εύκολος τρόπος για να βεβαιώσετε την μοναδικότητα
	  αρχείου καταγραφής ανά εκτυπωτή είναι να χρησιμοποιήσετε την
	  ικανότητα <code class="literal">af=acct</code> στο
	  <code class="filename">/etc/printcap</code>.  Έτσι, κάθε αρχείο καταγραφής
	  θα βρίσκεται στον κατάλογο spool του αντίστοιχου εκτυπωτή, σε ένα
	  αρχείο με όνομα <code class="filename">acct</code>.</p><p>Όταν είστε έτοιμοι να χρεώσετε τους χρήστες για τις εκτυπώσεις,
	  εκτελέστε το πρόγραμμα <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pac&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">pac</span>(8)</span></a>.  Απλά μεταβείτε στον κατάλογο
	  spool για τον εκτυπωτή που κάνετε καταμέτρηση και πληκτρολογήστε
	  <code class="literal">pac</code>.  Θα εμφανιστεί ένας απολογισμός με χρεώσεις
	  σε δολάρια, όπως βλέπετε στη συνέχεια:</p><pre class="screen">  Login               pages/feet   runs    price
orchid:kelly                5.00    1   $  0.10
orchid:mary                31.00    3   $  0.62
orchid:zhang                9.00    1   $  0.18
rose:andy                   2.00    1   $  0.04
rose:kelly                177.00  104   $  3.54
rose:mary                  87.00   32   $  1.74
rose:root                  26.00   12   $  0.52

total                     337.00  154   $  6.74</pre><p>Παρακάτω είναι οι παράμετροι που δέχεται το <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pac&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">pac</span>(8)</span></a>:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-P<em class="replaceable"><code>printer</code></em></code></span></dt><dd><p>Για ποιό <em class="replaceable"><code>printer</code></em> να
		κάνει απολογισμό.  Αυτή η επιλογή δουλεύει μόνο αν υπάρχει η
		πλήρης διαδρομή στην ικανότητα <code class="literal">af</code> στο
		<code class="filename">/etc/printcap</code>.</p></dd><dt><span class="term"><code class="option">-c</code></span></dt><dd><p>Ταξινομεί το αποτέλεσμα ανά κόστος αντί της αλφαβητικής
		ταξινόμησης των χρηστών.</p></dd><dt><span class="term"><code class="option">-m</code></span></dt><dd><p>Αγνοεί το όνομα του υπολογιστή στα αρχεία καταγραφής.  Με
		αυτή την επιλογή, ο χρήστης <code class="systemitem">smith</code> στον
		υπολογιστή <code class="systemitem">alpha</code> είναι ο ίδιος χρήστης με τον
		<code class="systemitem">smith</code> στον υπολογιστή
		<code class="systemitem">gamma</code>.  Χωρίς την επιλογή αυτή, είναι
		διαφορετικοί χρήστες.</p></dd><dt><span class="term"><code class="option">-p<em class="replaceable"><code>price</code></em></code></span></dt><dd><p>Υπολογίζει τις χρεώσεις με
		<em class="replaceable"><code>price</code></em> (τιμή) σε δολάρια ανά σελίδα
		ή ανά πόδι αντί για την τιμή από την ικανότητα
		<code class="literal">pc</code> στο <code class="filename">/etc/printcap</code>,
		ή αλλιώς δύο σεντς (από προεπιλογή).  Μπορείτε να ορίσετε
		ως <em class="replaceable"><code>price</code></em> μια τιμή με δεκαδικά
		ψηφία (floating point).</p></dd><dt><span class="term"><code class="option">-r</code></span></dt><dd><p>Αντιστρέφει την σειρά ταξινόμησης.</p></dd><dt><span class="term"><code class="option">-s</code></span></dt><dd><p>Δημιουργεί ένα αρχείο απολογισμού των καταμετρήσεων και
		καθαρίζει τα περιεχόμενα των αρχείων καταγραφής.</p></dd><dt><span class="term"><em class="replaceable"><code>name</code></em>
	      <em class="replaceable"><code>...</code></em></span></dt><dd><p>Τυπώνει πληροφορίες αναφοράς μόνο για τα συγκεκριμένα
		<em class="replaceable"><code>name</code></em> (ονόματα) χρηστών.</p></dd></dl></div><p>Στον προεπιλεγμένο απολογισμό που παράγει το <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pac&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">pac</span>(8)</span></a>,
	  βλέπετε των αριθμό των τυπωμένων σελίδων ανά χρήστη από τους
	  διάφορους υπολογιστές.  Αν, στο χώρο σας, ο υπολογιστής δεν έχει
	  σημασία (γιατί οι χρήστες μπορούν να χρησιμοποιήσουν οποιονδήποτε
	  θέλουν), εκτελέστε την εντολή
	  <code class="command">pac -m</code>, για να
	  δημιουργήσετε τον ακόλουθο απολογισμό:</p><pre class="screen">  Login               pages/feet   runs    price
andy                        2.00    1   $  0.04
kelly                     182.00  105   $  3.64
mary                      118.00   35   $  2.36
root                       26.00   12   $  0.52
zhang                       9.00    1   $  0.18

total                     337.00  154   $  6.74</pre><p>Για τον ορισμό ποσοστού χρέωσης σε δολάρια, το <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pac&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">pac</span>(8)</span></a>
	  χρησιμοποιεί την ικανότητα <code class="literal">pc</code> στο αρχείο
	  <code class="filename">/etc/printcap</code> (προεπιλεγμένη τιμή 200, ή 2
	  σεντς ανά σελίδα).  Προσδιορίστε σε αυτήν την ικανότητα, σε
	  εκατοστά του σεντ, την τιμή ανά σελίδα ή ανά πόδι που θέλετε να
	  χρεώνετε για τις εκτυπώσεις.  Μπορείτε να προσπεράσετε αυτή την
	  τιμή όταν τρέχετε το <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pac&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">pac</span>(8)</span></a> με την επιλογή
	  <code class="option">-p</code>.  H μονάδα μέτρησης για την επιλογή
	  <code class="option">-p</code> είναι σε δολάρια, όχι σε εκατοστά του σεντ.
	  Για παράδειγμα,

	  </p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>pac -p1.50</code></strong></pre><p>

	  ορίζει κόστος κάθε σελίδας ένα δολάριο και πενήντα σεντς.
	  Μπορείτε πραγματικά να έχετε πολλά έσοδα χρησιμοποιώντας αυτές τις
	  χρεώσεις.</p><p>Τέλος, εκτελώντας <code class="command">pac -s</code> θα
	  αποθηκεύσετε τις πληροφορίες του απολογισμού σε ένα αρχείο
	  καταγραφής απολογισμού, που θα έχει το ίδιο όνομα με το αρχείο
	  καταγραφής του εκτυπωτή, αλλά με κατάληξη <code class="literal">_sum</code>.
	  Έπειτα καθαρίζεται το αρχείο καταγραφής.  Όταν εκτελέσετε πάλι το
	  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pac&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">pac</span>(8)</span></a>, θα ξαναδιαβάσει το αρχείο απολογισμού, για να πάρει τα
	  αρχικά σύνολα, και θα προσθέσει τις πληροφορίες από το κανονικό
	  αρχείο καταγραφής.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp84330960"></a>10.4.5.2. Πως Μπορείτε να Μετρήσετε τις Τυπωμένες Σελίδες;</h4></div></div></div><p>Για να μετρήσετε τις τυπωμένες σελίδες με έστω στοιχειώδη
	  λεπτομέρεια, θα πρέπει να προσδιορίσετε πόσο χαρτί χρειάζεται μια
	  εργασία.  Αυτό είναι το ουσιαστικότερο πρόβλημα στην καταμέτρηση
	  εκτυπώσεων.</p><p>Για εργασίες απλού κειμένου, το πρόβλημα δεν είναι δύσκολο να
	  λυθεί: Μετράτε πόσες γραμμές υπάρχουν σε μια εργασία και τις
	  συγκρίνετε με πόσες γραμμές μπορεί να τυπώσει ο εκτυπωτής σας σε
	  μια σελίδα.  Μην ξεχάσετε να συμπεριλάβετε τα backspaces που
	  προκαλούν υπερτύπωση, ή επιμήκης λογικές γραμμές που αναδιπλώνονται
	  σε περισσότερες από μία φυσικές γραμμές.</p><p>Το φίλτρο κειμένου <code class="command">lpf</code> (που παρουσιάσαμε στο
	  <a class="link" href="printing-advanced.html#printing-advanced-lpf" title="10.4.1.6. lpf: ένα Φίλτρο Κειμένου">lpf: ένα Φίλτρο
	  Κειμένου</a>) λαμβάνει υπόψιν του αυτά τα στοιχεία όταν κάνει
	  καταμέτρηση.  Αν γράφετε κάποιο φίλτρο κειμένου που χρειάζεται να
	  κάνει καταμέτρηση, ίσως να θέλετε να ελέγξετε τον πηγαίο κώδικα
	  του <code class="command">lpf</code>.</p><p>Πως χειρίζεστε όμως τους υπόλοιπους τύπους αρχείων;</p><p>Για τις μετατροπές από DVI-σε-LaserJet ή από
	  DVI-σε-<span class="trademark">PostScript</span>(R), μπορείτε να κάνετε το φίλτρο σας να αναλύει
	  την έξοδο του <code class="command">dvilj</code> ή του
	  <code class="command">dvips</code> και να ελέγχει πόσες σελίδες
	  δημιουργήθηκαν από τη μετατροπή.  Ίσως μπορέσετε να κάνετε κάτι
	  παρόμοιο και με διαφορετικούς τύπους αρχείων και προγράμματα
	  μετατροπής</p><p>Ωστόσο, όλες αυτές οι μέθοδοι έχουν το μειονέκτημα πως ο
	  εκτυπωτής πιθανώς στην πραγματικότητα να μην εκτυπώσει όλες τις
	  σελίδες.  Για παράδειγμα, θα μπορούσε να μπλοκαριστεί το χαρτί, ή να
	  τελειώσει το τόνερ, ή ακόμη να συμβεί και έκρηξη -ενώ ο
	  χρήστης θα συνεχίσει να χρεώνεται.</p><p>Τι θα μπορούσατε να κάνετε;</p><p>Υπάρχει μόνο ένας <span class="emphasis"><em>σίγουρος</em></span> τρόπος για να
	  κάνετε καταμέτρηση <span class="emphasis"><em>ακριβείας</em></span>.  Να πάρετε έναν
	  εκτυπωτή που να μπορεί να σας πει πόσο χαρτί χρησιμοποιεί, και να
	  τον συνδέσετε μέσω σειριακής θύρας ή μέσω δικτύου.  Σχεδόν
	  όλοι οι εκτυπωτές <span class="trademark">PostScript</span>(R) υποστηρίζουν αυτή την δυνατότητα.  Θα
	  βρείτε και άλλους τύπους και κατασκευαστές που κάνουν επίσης το ίδιο
	  (για παράδειγμα, οι laser εκτυπωτές δικτύου της Imagen).
	  Μετατρέψτε τα φίλτρα για αυτούς τους εκτυπωτές ώστε να καταγράφουν
	  τις τυπωμένες σελίδες μετά την ολοκλήρωση της εκάστοτε εργασίας
	  εκτύπωσης, και ρυθμίστε τους να κρατούν αρχεία καταγραφής με
	  <span class="emphasis"><em>μόνο</em></span> αυτή την πληροφορία.  Δεν χρειάζεται
	  καταμέτρηση γραμμών ούτε αναφορά σφαλμάτων.</p><p>Φυσικά, πάντα έχετε τη δυνατότητα να φανείτε γενναιόδωρος και να
	  παρέχετε τις εκτυπώσεις σας δωρεάν.</p></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="printing-intro-setup.html">Προηγ</a> </td><td width="20%" align="center"><a accesskey="u" href="printing.html">Πάνω</a></td><td width="40%" align="right"> <a accesskey="n" href="printing-using.html">Επόμενο</a></td></tr><tr><td width="40%" align="left" valign="top">10.3. Βασική Εγκατάσταση </td><td width="20%" align="center"><a accesskey="h" href="index.html">Αρχή</a></td><td width="40%" align="right" valign="top"> 10.5. Χρήση Εκτυπωτών</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Αυτό το κείμενο, και άλλα κείμενα, μπορεί να βρεθεί στο
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Για ερωτήσεις σχετικά με το FreeBSD, διαβάστε την
    <a href="http://www.FreeBSD.org/docs.html">τεκμηρίωση</a> πριν να επικοινωνήσετε με την
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Για ερωτήσεις σχετικά με αυτή την τεκμηρίωση, στείλτε e-mail στην
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>