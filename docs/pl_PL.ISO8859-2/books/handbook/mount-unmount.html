<?xml version="1.0" encoding="iso-8859-2" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-2" /><title>3.6. Montowanie i odmontowywanie systemów plików</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Podrêcznik FreeBSD" /><link rel="up" href="basics.html" title="Rozdzia³ 3. Podstawy Uniksa" /><link rel="prev" href="disk-organization.html" title="3.5. Organizacja dysku" /><link rel="next" href="basics-processes.html" title="3.7. Procesy" /><link rel="copyright" href="legalnotice.html" title="Informacja Prawna" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">3.6. Montowanie i odmontowywanie systemów plików</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="disk-organization.html">Poprzedni</a> </td><th width="60%" align="center">Rozdzia³ 3. Podstawy Uniksa</th><td width="20%" align="right"> <a accesskey="n" href="basics-processes.html">Nastêpny</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="mount-unmount"></a>3.6. Montowanie i odmontowywanie systemów plików</h2></div></div></div><p>System plików mo¿na sobie wyobraziæ jako drzewo, którego
      korzeniem jest <code class="filename">/</code>. <code class="filename">/dev</code>,
      <code class="filename">/usr</code> i inne podkatalogi katalogu g³ównego
      s± ga³êziami, z których mog± wyrastaæ kolejne ga³êzie, na
      przyk³ad <code class="filename">/usr/local</code>, itd.</p><a id="idp78021840" class="indexterm"></a><p>Jest kilka powodów, dla których warto jest trzymaæ niektóre
      katalogi w oddzielnych systemach plików. W katalogu
      <code class="filename">/var</code> znajduj± siê podkatalogi
      <code class="filename">log/</code> i <code class="filename">spool/</code> oraz rozmaite
      pliki tymczasowe, z tego powodu mo¿e siê on zape³niæ. Zape³nienie
      g³ównego systemu plików jest raczej niepo¿±dane, wiêc czêsto zaleca
      siê oddzielenie <code class="filename">/var</code> od <code class="filename">/</code>.</p><p>Czêsto niektóre katalogi umieszczane s± na odrêbnych systemach
      plików ze wzglêdu na to, ¿e znajduj± siê na osobnych dyskach fizycznych
      lub dyskach wirtualnych, jak na przyk³ad pliki udostêpniane poprzez
      <a class="link" href="network-nfs.html" title="25.3. Network File System (NFS)">Network File System</a>
      lub napêdy CDROM.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="disks-fstab"></a>3.6.1. Plik <code class="filename">fstab</code></h3></div></div></div><a id="idp78026576" class="indexterm"></a><p>Systemy plików wymienione w pliku <code class="filename">/etc/fstab</code>
        s± automatycznie montowane podczas <a class="link" href="boot.html" title="Rozdzia³ 12. The FreeBSD Booting Process">³adowania
          systemu</a> (prócz oznaczonych opcj± <code class="option">noauto</code>).</p><p>Wpisy w pliku <code class="filename">/etc/fstab</code> s± nastêpuj±cej postaci:</p><pre class="programlisting"><em class="replaceable"><code>urz±dzenie</code></em>       <em class="replaceable"><code>/punkt-montowania</code></em> <em class="replaceable"><code>typ</code></em>     <em class="replaceable"><code>opcje</code></em>      <em class="replaceable"><code>archiwizacja</code></em>     <em class="replaceable"><code>nr-przebiegu</code></em></pre><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">urz±dzenie</code></span></dt><dd><p>Nazwa pliku urz±dzenia (istniej±cego), zgodnie z opisem w
	      <a class="xref" href="disks-naming.html" title="17.2. Device Names">Sekcja 17.2, "Device Names"</a>.</p></dd><dt><span class="term"><code class="literal">punkt-montowania</code></span></dt><dd><p>Katalog (istniej±cy), w którym system
              plików ma byæ zamontowany.</p></dd><dt><span class="term"><code class="literal">typ</code></span></dt><dd><p>Typ systemu plików przekazywany poleceniu
		<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mount&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mount</span>(8)</span></a>. We FreeBSD domy¶lnie jest to
	      <code class="literal">ufs</code>.</p></dd><dt><span class="term"><code class="literal">opcje</code></span></dt><dd><p>Pierwsz± opcj± jest <code class="option">rw</code>, je¶li
              w systemie plików ma byæ mo¿liwy odczyt i zapis, albo
              <code class="option">ro</code>, je¿eli dozwolony ma byæ tylko odczyt.
              W nastêpnej kolejno¶ci podawane s± inne opcje. Czêsto stosowana
              jest opcja <code class="option">noauto</code>, która zapobiega automatycznemu
              montowaniu systemu plików podczas uruchamiania systemu.
              Pozosta³e opcje opisane s± w dokumentacji systemowej <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mount&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mount</span>(8)</span></a>.</p></dd><dt><span class="term"><code class="literal">archiwizacja</code></span></dt><dd><p>Na podstawie tej informacji program <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dump&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">dump</span>(8)</span></a>
              stwierdza, które systemy plików maj± byæ archiwizowane. Je¶li pole
              to zostanie pominiête, domy¶lnie przyjmowana jest warto¶æ zero.</p></dd><dt><span class="term"><code class="literal">nr-przebiegu</code></span></dt><dd><p>Na podstawie tego pola wyznaczana jest kolejno¶æ, w jakiej
             systemy plików poddawane s± sprawdzaniu. Systemy plików, które
             nie maj± byæ sprawdzane, powinny mieæ <code class="literal">nr-przebiegu</code>
             ustawiony na zero. G³ówny system plików (powinien byæ sprawdzony
             jako pierwszy) powinien mieæ <code class="literal">nr-przebiegu</code> o warto¶ci
             jeden, a inne systemy plików powinny mieæ wpisan± warto¶æ wiêksz± od
             jednego. Je¶li dwa lub wiêcej systemów plików bêdzie mia³o taki sam
             <code class="literal">nr-przebiegu</code>, wówczas <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=fsck&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">fsck</span>(8)</span></a>, o ile bêdzie
             to mo¿liwe, podejmie próbê równoleg³ego sprawdzenia tych systemów
             plików.</p></dd></dl></div><p>Wiêcej informacji o formacie pliku <code class="filename">/etc/fstab</code>
        oraz definiowanych w nim opcji dostêpnych w podrêczniku systemowym <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=fstab&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">fstab</span>(5)</span></a></p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="disks-mount"></a>3.6.2. Polecenie <code class="command">mount</code></h3></div></div></div><a id="idp78059728" class="indexterm"></a><p>Polecenie <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mount&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mount</span>(8)</span></a> jest g³ównym poleceniem u¿ywanym
        do montowania systemów plików.</p><p>W najprostszej postaci, u¿ywa siê go nastêpuj±co:</p><div class="informalexample"><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mount urz±dzenie punkt-montowania</code></strong></pre></div><p>Polecenie to ma mnóstwo opcji wymienionych w dokumentacji
        systemowej <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mount&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mount</span>(8)</span></a>. Do najczê¶ciej stosowanych nale¿±:</p><div class="variablelist"><div class="variablelist-title">Opcje montowania</div><dl class="variablelist"><dt><span class="term"><code class="option">-a</code></span></dt><dd><p>Montowanie wszystkich systemów plików
              wymienionych w <code class="filename">/etc/fstab</code>.
              Nie s± montowane systemy plików z opcj± <span class="quote">"<span class="quote">noauto</span>"</span>
              oraz wykluczone przez opcjê <code class="option">-t</code>,
              jak równie¿ systemy plików ju¿ zamontowane.</p></dd><dt><span class="term"><code class="option">-d</code></span></dt><dd><p>Wykonanie wszystkiego, oprócz faktycznego wywo³ania
              funkcji systemowej montowania. W po³±czeniu z opcj±
              <code class="option">-v</code> mo¿na w ten sposób sprawdziæ, co
              tak naprawdê <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mount&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mount</span>(8)</span></a> stara siê zrobiæ.</p></dd><dt><span class="term"><code class="option">-f</code></span></dt><dd><p>Wymuszenie montowania nieuporz±dkowanego systemu
              plików (niebezpieczne), lub wymuszenie odebrania prawa
              do zapisu przy zmianie trybu montowania systemu plików
              z trybu <span class="quote">"<span class="quote">odczyt i zapis</span>"</span> na
              <span class="quote">"<span class="quote">tylko do odczytu</span>"</span>.</p></dd><dt><span class="term"><code class="option">-r</code></span></dt><dd><p>Montowanie systemu plików w trybie tylko do odczytu.
              Taki sam efekt ma zastosowanie opcji  <code class="option">-o</code>
              z argumentem <code class="option">ro</code> (b±d¼ <code class="option">rdonly</code>
              w wersjach FreeBSD wcze¶niejszych ni¿ 5.2).</p></dd><dt><span class="term"><code class="option">-t</code>
	    <em class="replaceable"><code>typ</code></em></span></dt><dd><p>Montowanie systemu plików o okre¶lonym typie.
              Przy zastosowaniu opcji <code class="option">-a</code> montowane
              s± tylko systemy plików podanego typu.</p><p>Domy¶lnym typem systemu plików jest <span class="quote">"<span class="quote">ufs</span>"</span>.</p></dd><dt><span class="term"><code class="option">-u</code></span></dt><dd><p>Uaktualnienie opcji montowania systemu plików.</p></dd><dt><span class="term"><code class="option">-v</code></span></dt><dd><p>Pokazywanie dodatkowych komunikatów.</p></dd><dt><span class="term"><code class="option">-w</code></span></dt><dd><p>Montowanie w trybie odczytu i zapisu.</p></dd></dl></div><p>Opcji <code class="option">-o</code> towarzyszy lista oddzielonych
        przecinkami parametrów, oto niektóre z nich:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">nodev</span></dt><dd><p>Ignorowanie obecnych w systemie plików urz±dzeñ
              specjalnych. Przydatna opcja, je¶li chodzi
              o bezpieczeñstwo.</p></dd><dt><span class="term">noexec</span></dt><dd><p>Wy³±czenie uruchamiania programów wykonywalnych
              na systemie plików. Równie¿ s³u¿y bezpieczeñstwu.</p></dd><dt><span class="term">nosuid</span></dt><dd><p>Ignorowanie bitów setuid i setgid w systemie
              plików. Kolejna opcja s³u¿±ca bezpieczeñstwu.</p></dd></dl></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="disks-umount"></a>3.6.3. Polecenie <code class="command">umount</code> Command</h3></div></div></div><a id="idp78096720" class="indexterm"></a><p>Poleceniu <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=umount&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">umount</span>(8)</span></a> nale¿y podaæ jako parametr
        punkt montowania, nazwê urz±dzenia b±d¼ opcjê <code class="option">-a</code> lub
	<code class="option">-A</code>.</p><p>Ka¿dej z form wywo³ania polecenia mo¿na podaæ opcjê
        <code class="option">-f</code>, która nakazuje dokonaæ bezwarunkowego
        odmontowania, oraz opcjê <code class="option">-v</code>, powoduj±c±
        wypisywanie dodatkowych komunikatów. Nale¿y mieæ na uwadze,
        ¿e raczej nie zaleca siê korzystania z <code class="option">-f</code>.
        Bezwarunkowe odmontowywanie systemu plików mo¿e doprowadziæ
        do awarii systemu lub uszkodzenia danych znajduj±cych siê
        w danym systemie plików.</p><p>Opcje <code class="option">-a</code> oraz <code class="option">-A</code> s³u¿±
        do odmontowania wszystkich zamontowanych systemów plików,
        lub systemów plików wybranych typów, okre¶lonych w opcji
        <code class="option">-t</code>. Opcja <code class="option">-A</code> nie dokonuje
        próby odmontowania g³ównego systemu plików.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="disk-organization.html">Poprzedni</a> </td><td width="20%" align="center"><a accesskey="u" href="basics.html">Pocz±tek rozdzia³u</a></td><td width="40%" align="right"> <a accesskey="n" href="basics-processes.html">Nastêpny</a></td></tr><tr><td width="40%" align="left" valign="top">3.5. Organizacja dysku </td><td width="20%" align="center"><a accesskey="h" href="index.html">Spis tre¶ci</a></td><td width="40%" align="right" valign="top"> 3.7. Procesy</td></tr></table></div><p xmlns="" align="center"><small>All FreeBSD documents are available for download
    at <a href="http://ftp.FreeBSD.org/pub/FreeBSD/doc/">http://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="" align="center"><small>Questions that are not answered by the
    <a href="http://www.FreeBSD.org/docs.html">documentation</a> may be
    sent to &lt;<a href="mailto:freebsd-questions@FreeBSD.org">freebsd-questions@FreeBSD.org</a>&gt;.<br />
    Send questions about this document to &lt;<a href="mailto:freebsd-doc@FreeBSD.org">freebsd-doc@FreeBSD.org</a>&gt;.</small></p></body></html>