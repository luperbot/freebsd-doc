<?xml version="1.0" encoding="iso-8859-2" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-2" /><title>3.9. Pow³oki</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Podrêcznik FreeBSD" /><link rel="up" href="basics.html" title="Rozdzia³ 3. Podstawy Uniksa" /><link rel="prev" href="basics-daemons.html" title="3.8. Demony, sygna³y i unicestwianie procesów" /><link rel="next" href="editors.html" title="3.10. Edytory tekstu" /><link rel="copyright" href="legalnotice.html" title="Informacja Prawna" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">3.9. Pow³oki</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="basics-daemons.html">Poprzedni</a> </td><th width="60%" align="center">Rozdzia³ 3. Podstawy Uniksa</th><td width="20%" align="right"> <a accesskey="n" href="editors.html">Nastêpny</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="shells"></a>3.9. Pow³oki</h2></div></div></div><a id="idp78169424" class="indexterm"></a><a id="idp78169936" class="indexterm"></a><p>W codziennej pracy z FreeBSD bardzo czêsto wykorzystywany jest
      interfejs linii poleceñ, zwany pow³ok± (ang. shell). Podstawowym
      zadaniem pow³oki jest przyjmowanie poleceñ i wykonywanie ich.
      Wiele pow³ok wyposa¿onych jest tak¿e w dodatkowe funkcje u³atwiaj±ce
      pracê, np. usprawnienia zarz±dzania plikami, dopasowywanie nazw plików,
      u³atwienia korzystania z linii poleceñ, makropolecenia i zmienne ¶rodowiskowe.
      We FreeBSD dostêpnych jest kilka pow³ok, np. Bourne Shell <code class="command">sh</code>
      i ulepszony C-shell <code class="command">tcsh</code>. Wiele innych pow³ok, jak choæby
      <code class="command">zsh</code> czy <code class="command">bash</code>, mo¿na znale¼æ w kolekcji
      portów FreeBSD.</p><p>Której z pow³ok najlepiej jest u¿ywaæ? To w³a¶ciwie kwestia gustu.
      Dla programistów C najwygodniejsze mog± byæ pow³oki o sk³adni wzorowanej
      na jêzyku C, np. <code class="command">tcsh</code>. U¿ytkownikom Linuksa i tym,
      dla których interfejs linii poleceñ systemów 8unix; jest nowo¶ci±, mo¿na
      poleciæ <code class="command">bash</code>. Do wyboru jest wiele pow³ok, ka¿da z nich
      ma pewne charakterystyczne tylko dla niej w³a¶ciwo¶ci, które niekoniecznie
      bêd± dzia³aæ w ka¿dych warunkach.</p><p>Czêsto spotykanym udogodnieniem pow³oki jest uzupe³nianie nazw plików.
      Po wpisaniu kilku pierwszych liter polecenia lub nazwy pliku pow³oka potrafi
      zwykle uzupe³niæ dalszy ci±g polecenia lub nazwy, dzieje siê to po wci¶niêciu
      klawisza <span class="keycap"><strong>Tab</strong></span>. Przyjmijmy przyk³adowo, ¿e istniej± dwa pliki
      o nazwach <code class="filename">foobar</code> i <code class="filename">foo.bar</code>.
      Chcemy usun±æ plik <code class="filename">foo.bar</code>. Mo¿emy wiêc wydaæ polecenie:
      <code class="command">rm fo[Tab].[Tab]</code>.</p><p>Pow³oka wy¶wietli: <code class="command">rm foo[BIIP].bar</code>.</p><p>Napis [BIIP] oznacza sygna³ d¼wiêkowy, bêd±cy informacj± od pow³oki,
      ¿e uzupe³nienie nazwy pliku nie by³o mo¿liwe, poniewa¿ mo¿na dopasowaæ
      wiêcej ni¿ jedn± nazwê. Zarówno <code class="filename">foobar</code> jak i
      <code class="filename">foo.bar</code>zaczynaj± siê od <code class="literal">fo</code>.
      Pow³oka mog³a jednak¿e uzupe³niæ pocz±tek, czyli <code class="literal">foo</code>.
      Teraz mo¿na wpisaæ kropkê <code class="literal">.</code> i ponownie wcisn±æ
      <span class="keycap"><strong>Tab</strong></span>, tym razem pow³oka uzupe³ni nazwê do koñca.</p><a id="idp78179536" class="indexterm"></a><p>Inn± cech± pow³oki s± zmienne ¶rodowiskowe. Przechowywane s± one
      w przestrzeni ¶rodowiska pow³oki w postaci par <span class="quote">"<span class="quote">nazwa =
        warto¶æ</span>"</span>. Przestrzeñ ¶rodowiska jest widoczna dla ka¿dego
      programu uruchamianego przez pow³okê, dlatego te¿ przechowuje siê tam
      wiele parametrów konfiguracyjnych dla programów. Oto najczê¶ciej
      spotykane zmienne ¶rodowiskowe wraz z krótkim opisem:</p><a id="idp78180816" class="indexterm"></a><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Zmienna</th><th>Opis</th></tr></thead><tbody><tr><td><code class="envar">USER</code></td><td>Nazwa aktualnie zalogowanego u¿ytkownika.</td></tr><tr><td><code class="envar">PATH</code></td><td>Lista katalogów zawieraj±cych pliki wykonywalne
              oddzielona przecinkami.</td></tr><tr><td><code class="envar">DISPLAY</code></td><td>Nazwa ekranu X11, je¶li takowy jest dostêpny.</td></tr><tr><td><code class="envar">SHELL</code></td><td>Wykorzystywana pow³oka.</td></tr><tr><td><code class="envar">TERM</code></td><td>Nazwa terminala u¿ytkownika, wykorzystywana do
              okre¶lenia w³a¶ciwo¶ci terminala.</td></tr><tr><td><code class="envar">TERMCAP</code></td><td>Zapis z bazy termcap zawieraj±cy sekwencje kodów
              odpowiadaj±cych ró¿nym funkcjom terminala.</td></tr><tr><td><code class="envar">OSTYPE</code></td><td>Typ systemu operacyjnego, np. FreeBSD.</td></tr><tr><td><code class="envar">MACHTYPE</code></td><td>Architektura sprzêtowa, na jakiej dzia³a system.</td></tr><tr><td><code class="envar">EDITOR</code></td><td>Preferowany przez u¿ytkownika edytor tekstu.</td></tr><tr><td><code class="envar">PAGER</code></td><td>Preferowany przez u¿ytkownika program wy¶wietlaj±cy
              pliki tekstowe.</td></tr><tr><td><code class="envar">MANPATH</code></td><td>Lista katalogów zawieraj±cych dokumentacjê systemow±
              oddzielona przecinkami.</td></tr></tbody></table></div><a id="idp78206928" class="indexterm"></a><p>Sposób odczytywania i ustawiania zmiennych ¶rodowiskowych
      zale¿y od rodzaju u¿ywanej pow³oki. Na przyk³ad w pow³okach
      wzorowanych na C, jak <code class="command">tcsh</code> i <code class="command">csh</code>,
      do ustawiania i przegl±dania zmiennych ¶rodowiskowych s³u¿y polecenie
      <code class="command">setenv</code>, natomiast w pow³okach Bourne'a, czyli
      <code class="command">sh</code> i <code class="command">bash</code>, do tych celów
      wykorzystywane jest polecenie <code class="command">export</code>. Przyk³adowo,
      aby zmieniæ zmienn± ¶rodowiskow± <code class="envar">EDITOR</code> na
      <code class="filename">/usr/local/bin/emacs</code> w pow³oce <code class="command">csh</code>
      lub <code class="command">tcsh</code>, nale¿y wydaæ polecenie:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>setenv EDITOR /usr/local/bin/emacs</code></strong></pre><p>A w pow³okach Bourne'a:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>export EDITOR="/usr/local/bin/emacs"</code></strong></pre><p>W wiêkszo¶ci pow³ok mo¿na wy¶wietliæ warto¶æ zmiennej
      ¶rodowiskowej przez poprzedzenie jej nazwy znakiem <code class="literal">$</code>.
      Dla przyk³adu, polecenie <code class="command">echo $TERM</code> poka¿e warto¶æ
      zmiennej <code class="envar">$TERM</code>, poniewa¿ pow³oka zastêpuje wyra¿enie
      <code class="envar">$TERM</code> warto¶ci± zmiennej i przekazuje j± do
      <code class="command">echo</code>.</p><p>Wiele znaków, zwanych meta-znakami, traktowanych jest przez
      pow³oki w specjalny sposób. Najczê¶ciej wykorzystywanym jest
      <code class="literal">*</code>, oznaczaj±cy dowolny ci±g znaków w nazwie pliku,
      umo¿liwiaj±cy wykonywanie operacji na wielu plikach. Przyk³adowo,
      wywo³anie <code class="command">echo *</code> jest prawie identyczne z wywo³aniem
      <code class="command">ls</code>, poniewa¿ pow³oka przekazuje do <code class="command">echo</code>
      nazwy wszystkich plików pasuj±cych <code class="literal">*</code>.</p><p>Je¶li potrzeba, by pow³oka nie interpretowa³a znaku jako znak
      specjalny, nale¿y go poprzedziæ znakiem uko¶nika (<code class="literal">\</code>).
      Wywo³anie <code class="command">echo $TERM</code> powoduje wypisanie ustawionego
      typu terminala, podczas gdy efektem polecenia <code class="command">echo \$TERM</code>
      jest po prostu napis <code class="envar">$TERM</code>.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="changing-shells"></a>3.9.1. Zmiana pow³oki</h3></div></div></div><p>Naj³atwiej jest zmieniæ pow³okê przy u¿yciu polecenia <code class="command">chsh</code>.
        Wywo³anie tego polecenia uruchomi edytor wskazany przez zmienn±
        <code class="envar">EDITOR</code>, lub edytor <code class="command">vi</code>, je¶li nie jest ona
        zdefiniowana. Nastêpnie nale¿y zmieniæ nazwê pow³oki w wierszu
        <span class="quote">"<span class="quote">Shell:</span>"</span>.</p><p>Mo¿na te¿ skorzystaæ z <code class="command">chsh</code> z opcj± <code class="option">-s</code>,
        która automatycznie zmieni pow³okê, bez uruchamiania edytora. Poni¿ej
        przedstawiono wywo³anie zmieniaj±ce pow³okê na <code class="command">bash</code>:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>chsh -s /usr/local/bin/bash</code></strong></pre><div xmlns="" class="note"><h3 class="admontitle">Uwaga: </h3><p xmlns="http://www.w3.org/1999/xhtml">Wybrana pow³oka <span class="emphasis"><em>musi</em></span> byæ wymieniona w pliku
          <code class="filename">/etc/shells</code>. Je¶li pow³okê zainstalowano z
          <a class="link" href="ports.html" title="Rozdzia³ 4. Instalacja programów: pakiety i porty">kolekcji portów</a> powinna zostaæ dopisana
          automatycznie. Je¶li natomiast przeprowadzono rêczn± instalacjê
          pow³oki, trzeba to zrobiæ samemu.</p><p xmlns="http://www.w3.org/1999/xhtml">Dla przyk³adu, je¶li pow³oka <code class="command">bash</code> zosta³a zainstalowana
        i umieszczona w <code class="filename">/usr/local/bin</code>, trzeba bêdzie wydaæ
        polecenie:</p><pre xmlns="http://www.w3.org/1999/xhtml" class="screen"><code class="prompt">#</code> <strong class="userinput"><code>echo "/usr/local/bin/bash" &gt;&gt; /etc/shells</code></strong></pre><p xmlns="http://www.w3.org/1999/xhtml">Oraz uruchomiæ <code class="command">chsh</code>.</p></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="basics-daemons.html">Poprzedni</a> </td><td width="20%" align="center"><a accesskey="u" href="basics.html">Pocz±tek rozdzia³u</a></td><td width="40%" align="right"> <a accesskey="n" href="editors.html">Nastêpny</a></td></tr><tr><td width="40%" align="left" valign="top">3.8. Demony, sygna³y i unicestwianie procesów </td><td width="20%" align="center"><a accesskey="h" href="index.html">Spis tre¶ci</a></td><td width="40%" align="right" valign="top"> 3.10. Edytory tekstu</td></tr></table></div><p xmlns="" align="center"><small>All FreeBSD documents are available for download
    at <a href="http://ftp.FreeBSD.org/pub/FreeBSD/doc/">http://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="" align="center"><small>Questions that are not answered by the
    <a href="http://www.FreeBSD.org/docs.html">documentation</a> may be
    sent to &lt;<a href="mailto:freebsd-questions@FreeBSD.org">freebsd-questions@FreeBSD.org</a>&gt;.<br />
    Send questions about this document to &lt;<a href="mailto:freebsd-doc@FreeBSD.org">freebsd-doc@FreeBSD.org</a>&gt;.</small></p></body></html>