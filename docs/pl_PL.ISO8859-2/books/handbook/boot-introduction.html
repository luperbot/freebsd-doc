<?xml version="1.0" encoding="iso-8859-2" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-2" /><title>12.2. The Booting Problem</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Podrêcznik FreeBSD" /><link rel="up" href="boot.html" title="Rozdzia³ 12. The FreeBSD Booting Process" /><link rel="prev" href="boot.html" title="Rozdzia³ 12. The FreeBSD Booting Process" /><link rel="next" href="boot-blocks.html" title="12.3. The Boot Manager and Boot Stages" /><link rel="copyright" href="legalnotice.html" title="Informacja Prawna" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">12.2. The Booting Problem</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="boot.html">Poprzedni</a> </td><th width="60%" align="center">Rozdzia³ 12. The FreeBSD Booting Process</th><td width="20%" align="right"> <a accesskey="n" href="boot-blocks.html">Nastêpny</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="boot-introduction"></a>12.2. The Booting Problem</h2></div></div></div><p>Turning on a computer and starting the operating system poses an
      interesting dilemma.  By definition, the computer does not know how to
      do anything until the operating system is started.  This includes
      running programs from the disk.  So if the computer can not run a
      program from the disk without the operating system, and the operating
      system programs are on the disk, how is the operating system
      started?</p><p>This problem parallels one in the book <em class="citetitle">The Adventures of
      Baron Munchausen</em>.  A character had fallen part way down a
      manhole, and pulled himself out by grabbing his bootstraps, and
      lifting.  In the early days of computing the term
      <em class="firstterm">bootstrap</em> was applied to the mechanism used to
      load the operating system, which has become shortened to
      <span class="quote">"<span class="quote">booting</span>"</span>.</p><a id="idp85044048" class="indexterm"></a><a id="idp85044560" class="indexterm"></a><p>On x86 hardware the Basic Input/Output System (BIOS) is responsible
      for loading the operating system.  To do this, the BIOS looks on the
      hard disk for the Master Boot Record (MBR), which must be located on a
      specific place on the disk.  The BIOS has enough knowledge to load and
      run the MBR, and assumes that the MBR can then carry out the rest of the
      tasks involved in loading the operating system,
      possibly with the help of the BIOS.</p><a id="idp85045840" class="indexterm"></a><a id="idp85046352" class="indexterm"></a><a id="idp85046864" class="indexterm"></a><p>The code within the MBR is usually referred to as a <span class="emphasis"><em>boot
      manager</em></span>, especially when it interacts with the user.  In this case
      the boot manager usually has more code in the first
      <span class="emphasis"><em>track</em></span> of the disk or within some OS's file system.  (A
      boot manager is sometimes also called a <span class="emphasis"><em>boot loader</em></span>,
      but FreeBSD uses that term for a later stage of booting.) Popular boot
      managers include <span class="application">boot0</span> (a.k.a. <span class="application">Boot
      Easy</span>, the standard FreeBSD boot manager),
      <span class="application">Grub</span>, <span class="application">GAG</span>, and
      <span class="application">LILO</span>.
      (Only <span class="application">boot0</span> fits within the MBR.)</p><p>If you have only one operating system installed on your disks then
      a standard PC MBR will suffice.  This MBR searches for the first bootable
      (a.k.a. active) slice on the disk, and then runs the code on that slice to
      load the remainder of the operating system.  The MBR installed by
      <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=fdisk&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">fdisk</span>(8)</span></a>, by default, is such an MBR.  It is based on
      <code class="filename">/boot/mbr</code>.</p><p>If you have installed multiple operating systems on your disks then
      you can install a different boot manager, one that can display a list of
      different operating systems, and allows you to choose the one to boot
      from.  Two of these are discussed in the next subsection.</p><p>The remainder of the FreeBSD bootstrap system is divided into three
      stages.  The first stage is run by the MBR, which knows just enough to
      get the computer into a specific state and run the second stage.  The
      second stage can do a little bit more, before running the third stage.
      The third stage finishes the task of loading the operating system.  The
      work is split into these three stages because the PC standards put
      limits on the size of the programs that can be run at stages one and
      two.  Chaining the tasks together allows FreeBSD to provide a more
      flexible loader.</p><a id="idp85053648" class="indexterm"></a><a id="idp85058384" class="indexterm"></a><p>The kernel is then started and it begins to probe for devices
      and initialize them for use.  Once the kernel boot
      process is finished, the kernel passes control to the user process
      <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=init&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">init</span>(8)</span></a>, which then makes sure the disks are in a usable state.
      <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=init&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">init</span>(8)</span></a> then starts the user-level resource configuration which
      mounts file systems, sets up network cards to communicate on the
      network, and generally starts all the processes that usually
      are run on a FreeBSD system at startup.</p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="boot.html">Poprzedni</a> </td><td width="20%" align="center"><a accesskey="u" href="boot.html">Pocz±tek rozdzia³u</a></td><td width="40%" align="right"> <a accesskey="n" href="boot-blocks.html">Nastêpny</a></td></tr><tr><td width="40%" align="left" valign="top">Rozdzia³ 12. The FreeBSD Booting Process </td><td width="20%" align="center"><a accesskey="h" href="index.html">Spis tre¶ci</a></td><td width="40%" align="right" valign="top"> 12.3. The Boot Manager and Boot Stages</td></tr></table></div><p xmlns="" align="center"><small>All FreeBSD documents are available for download
    at <a href="http://ftp.FreeBSD.org/pub/FreeBSD/doc/">http://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="" align="center"><small>Questions that are not answered by the
    <a href="http://www.FreeBSD.org/docs.html">documentation</a> may be
    sent to &lt;<a href="mailto:freebsd-questions@FreeBSD.org">freebsd-questions@FreeBSD.org</a>&gt;.<br />
    Send questions about this document to &lt;<a href="mailto:freebsd-doc@FreeBSD.org">freebsd-doc@FreeBSD.org</a>&gt;.</small></p></body></html>