<?xml version="1.0" encoding="iso-8859-2" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-2" /><title>3.7. Procesy</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Podrêcznik FreeBSD" /><link rel="up" href="basics.html" title="Rozdzia³ 3. Podstawy Uniksa" /><link rel="prev" href="mount-unmount.html" title="3.6. Montowanie i odmontowywanie systemów plików" /><link rel="next" href="basics-daemons.html" title="3.8. Demony, sygna³y i unicestwianie procesów" /><link rel="copyright" href="legalnotice.html" title="Informacja Prawna" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">3.7. Procesy</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="mount-unmount.html">Poprzedni</a> </td><th width="60%" align="center">Rozdzia³ 3. Podstawy Uniksa</th><td width="20%" align="right"> <a accesskey="n" href="basics-daemons.html">Nastêpny</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="basics-processes"></a>3.7. Procesy</h2></div></div></div><p>FreeBSD jest wielozadaniowym systemem operacyjnym. Oznacza
      to, ¿e korzystaj±c z systemu mamy wra¿enie, ¿e wiele programów
      dzia³a jednocze¶nie. Dzia³aj±cy w danej chwili program nazywany
      jest <em class="firstterm">procesem</em>. Po wydaniu dowolnego
      polecenia uruchamiany jest przynajmniej jeden proces. S± równie¿
      procesy systemowe, które dzia³aj± nieprzerwanie, zapewniaj±c
      prawid³owe funkcjonowanie systemu.</p><p>Ka¿demu procesowi przypisany jest jednoznaczny numer zwany
      <em class="firstterm">identyfikatorem procesu</em>, lub po prostu
      <em class="firstterm">PID</em>. Podobnie jak plik, równie¿ ka¿dy
      proces ma swojego w³a¶ciciela i grupê. Na podstawie informacji
      o w³a¶cicielu i grupie system operacyjny przydziela procesowi
      prawa do otwierania plików i urz±dzeñ, przy zastosowaniu opisanych
      wcze¶niej praw dostêpu. Wiêkszo¶æ procesów ma swój proces macierzysty;
      jest to proces, który uruchomi³ dany proces. Przyk³adowo, kiedy wydajemy
      polecenia w pow³oce, to zarówno pow³oka jest procesem, jak i ka¿de
      z wykonanych poleceñ. Procesem macierzystym ka¿dego uruchomionego
      w ten sposób procesu bêdzie pow³oka. Wyj±tkiem jest specjalny proces
      zwany <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=init&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">init</span>(8)</span></a>. <code class="command">init</code> jest pierwszym procesem,
      wiêc jego PID jest zawsze równy 1. Proces <code class="command">init</code>
      uruchamiany jest przez j±dro systemu podczas ³adowania FreeBSD.</p><p>S± dwa bardzo przydatne polecenia, które pozwalaj± zobaczyæ,
      jakie procesy s± uruchomione: <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ps&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ps</span>(1)</span></a> i <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=top&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">top</span>(1)</span></a>. Polecenie
      <code class="command">ps</code> pokazuje statyczn± listê dzia³aj±cych w danej
      chwili procesów, uwzglêdniaj±c informacje takie jak PID-y procesów,
      zu¿ywan± pamiêæ, wydane do uruchomienia procesów polecenia, itd.
      Polecenie <code class="command">top</code> wy¶wietla listê uruchomionych
      procesów, która jest co kilka sekund uaktualniana, dziêki czemu mo¿emy
      na bie¿±co ¶ledziæ, czym zajmuje siê komputer.</p><p>Domy¶lnie <code class="command">ps</code> pokazuje tylko dzia³aj±ce procesy
      nale¿±ce do u¿ytkownika wydaj±cego polecenie. Na przyk³ad:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>ps</code></strong>
  PID  TT  STAT      TIME COMMAND
  298  p0  Ss     0:01.10 tcsh
 7078  p0  S      2:40.88 xemacs mdoc.xsl (xemacs-21.1.14)
37393  p0  I      0:03.11 xemacs freebsd.dsl (xemacs-21.1.14)
48630  p0  S      2:50.89 /usr/local/lib/netscape-linux/navigator-linux-4.77.bi
48730  p0  IW     0:00.00 (dns helper) (navigator-linux-)
72210  p0  R+     0:00.00 ps
  390  p1  Is     0:01.14 tcsh
 7059  p2  Is+    1:36.18 /usr/local/bin/mutt -y
 6688  p3  IWs    0:00.00 tcsh
10735  p4  IWs    0:00.00 tcsh
20256  p5  IWs    0:00.00 tcsh
  262  v0  IWs    0:00.00 -tcsh (tcsh)
  270  v0  IW+    0:00.00 /bin/sh /usr/X11R6/bin/startx -- -bpp 16
  280  v0  IW+    0:00.00 xinit /home/nik/.xinitrc -- -bpp 16
  284  v0  IW     0:00.00 /bin/sh /home/nik/.xinitrc
  285  v0  S      0:38.45 /usr/X11R6/bin/sawfish</pre><p>Jak widzimy, <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ps&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ps</span>(1)</span></a> wy¶wietla informacje w kilku kolumnach.
      W kolumnie <code class="literal">PID</code> pokazywany jest omówiony wcze¶niej
      identyfikator procesu. PID-y s± przydzielane po kolei od 1 do 99999
      i znów od pocz±tku, gdy siê skoñcz±. Kolumna <code class="literal">TT</code>
      pokazuje terminal, na którym dzia³a program - na razie nie bêdziemy
      siê tym zajmowaæ. W kolumnie <code class="literal">STAT</code> przedstawiony jest
      stan procesu, jego tak¿e na razie nie bêdziemy omawiaæ. <code class="literal">TIME</code>
      pokazuje czas wykorzystywania procesora przez dany proces, niekoniecznie
      odpowiada on czasowi, jaki up³yn±³ od uruchomienia programu, poniewa¿ wiele
      programów przez d³ugi czas oczekuje na jakie¶ zdarzenie, a dopiero potem
      wykorzystuje procesor. Ostatnia kolumna, <code class="literal">COMMAND</code>, pokazuje
      polecenie, którym uruchomiony zosta³ program.</p><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ps&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ps</span>(1)</span></a> ma wiele rozmaitych opcji, które maj± wp³yw na wy¶wietlane
      informacje. Jedn± z najbardziej przydatnych kombinacji opcji jest
      <code class="literal">auxww</code>. Opcja a pokazuje informacje o wszystkich
      dzia³aj±cych procesach, równie¿ nie nale¿±cych do nas. <code class="option">u</code>
      pokazuje nazwê u¿ytkownika, do którego nale¿y proces, jak równie¿ wykorzystanie pamiêci.
      <code class="option">x</code> pokazuje informacje o procesach - demonach.
      Opcja <code class="option">ww</code> nakazuje, by polecenie <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ps&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ps</span>(1)</span></a> wy¶wietla³o
      pe³n± liniê polecenia, nie obcinaj±c jej, by zmie¶ci³a siê na ekranie.</p><p>Informacje pokazywane przez <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=top&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">top</span>(1)</span></a> wygl±daj± podobnie. Oto przyk³ad:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>top</code></strong>
last pid: 72257;  load averages:  0.13,  0.09,  0.03    up 0+13:38:33  22:39:10
47 processes:  1 running, 46 sleeping
CPU states: 12.6% user,  0.0% nice,  7.8% system,  0.0% interrupt, 79.7% idle
Mem: 36M Active, 5256K Inact, 13M Wired, 6312K Cache, 15M Buf, 408K Free
Swap: 256M Total, 38M Used, 217M Free, 15% Inuse

  PID USERNAME PRI NICE  SIZE    RES STATE    TIME   WCPU    CPU COMMAND
72257 nik       28   0  1960K  1044K RUN      0:00 14.86%  1.42% top
 7078 nik        2   0 15280K 10960K select   2:54  0.88%  0.88% xemacs-21.1.14
  281 nik        2   0 18636K  7112K select   5:36  0.73%  0.73% XF86_SVGA
  296 nik        2   0  3240K  1644K select   0:12  0.05%  0.05% xterm
48630 nik        2   0 29816K  9148K select   3:18  0.00%  0.00% navigator-linu
  175 root       2   0   924K   252K select   1:41  0.00%  0.00% syslogd
 7059 nik        2   0  7260K  4644K poll     1:38  0.00%  0.00% mutt
...</pre><p>Informacje podzielone s± na dwie czê¶ci. Nag³ówek (pierwsze piêæ
      wierszy) zawiera PID ostatnio uruchomionego procesu, ¶rednie obci±¿enie
      systemu (miara zapracowania systemu), czas dzia³ania systemu (od ostatniego
      uruchomienia) oraz aktualny czas. Inne liczby w nag³ówku informuj± o liczbie
      dzia³aj±cych procesów (w przyk³adzie 47), jak du¿o pamiêci i przestrzeni
      wymiany jest zajête, oraz ile czasu system przebywa w ró¿nych stanach
      procesora.</p><p>Pod nag³ówkiem w kilku kolumnach pokazane s± informacje zbli¿one
      do przedstawianych przez <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ps&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ps</span>(1)</span></a>. Podobnie mo¿na tu znale¼æ PID
      procesu, nazwê u¿ytkownika, czas zajmowania procesora, oraz polecenie,
      którym uruchomiono proces. <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=top&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">top</span>(1)</span></a> pokazuje domy¶lnie tak¿e rozmiar
      pamiêci zajmowanej przez proces. Ta ostatnia informacja podzielona jest
      na dwie kolumny; jedna odpowiada ca³kowitemu rozmiarowi, druga rozmiarowi
      rezydentnemu. Ca³kowity rozmiar oznacza, ile pamiêci by³o potrzebne programowi,
      z kolei rozmiar rezydentny informuje, ile pamiêci wykorzystuje program w danej
      chwili. W przyk³adzie widaæ, ¿e <span class="application"><span class="trademark">Netscape</span>(R)</span>
      potrzebowa³ prawie 30 MB pamiêci RAM, jednak obecnie wykorzystuje tylko
      9 MB.</p><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=top&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">top</span>(1)</span></a> automatycznie aktualizuje wy¶wietlane informacje co dwie
      sekundy; mo¿na to zmieniæ opcj± <code class="option">s</code>.</p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="mount-unmount.html">Poprzedni</a> </td><td width="20%" align="center"><a accesskey="u" href="basics.html">Pocz±tek rozdzia³u</a></td><td width="40%" align="right"> <a accesskey="n" href="basics-daemons.html">Nastêpny</a></td></tr><tr><td width="40%" align="left" valign="top">3.6. Montowanie i odmontowywanie systemów plików </td><td width="20%" align="center"><a accesskey="h" href="index.html">Spis tre¶ci</a></td><td width="40%" align="right" valign="top"> 3.8. Demony, sygna³y i unicestwianie procesów</td></tr></table></div><p xmlns="" align="center"><small>All FreeBSD documents are available for download
    at <a href="http://ftp.FreeBSD.org/pub/FreeBSD/doc/">http://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="" align="center"><small>Questions that are not answered by the
    <a href="http://www.FreeBSD.org/docs.html">documentation</a> may be
    sent to &lt;<a href="mailto:freebsd-questions@FreeBSD.org">freebsd-questions@FreeBSD.org</a>&gt;.<br />
    Send questions about this document to &lt;<a href="mailto:freebsd-doc@FreeBSD.org">freebsd-doc@FreeBSD.org</a>&gt;.</small></p></body></html>