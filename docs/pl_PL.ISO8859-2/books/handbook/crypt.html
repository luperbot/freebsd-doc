<?xml version="1.0" encoding="iso-8859-2" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-2" /><title>14.4. DES, MD5, and Crypt</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Podrêcznik FreeBSD" /><link rel="up" href="security.html" title="Rozdzia³ 14. Security" /><link rel="prev" href="securing-freebsd.html" title="14.3. Securing FreeBSD" /><link rel="next" href="one-time-passwords.html" title="14.5. One-time Passwords" /><link rel="copyright" href="legalnotice.html" title="Informacja Prawna" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">14.4. DES, MD5, and Crypt</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="securing-freebsd.html">Poprzedni</a> </td><th width="60%" align="center">Rozdzia³ 14. Security</th><td width="20%" align="right"> <a accesskey="n" href="one-time-passwords.html">Nastêpny</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="crypt"></a>14.4. DES, MD5, and Crypt</h2></div><div><span class="authorgroup">Parts rewritten and updated by <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Bill</span> <span class="surname">Swingle</span></span>. </span></div></div></div><a id="idp85985104" class="indexterm"></a><a id="idp85986256" class="indexterm"></a><a id="idp85986768" class="indexterm"></a><a id="idp85987280" class="indexterm"></a><p>Every user on a <span class="trademark">UNIX</span>(R) system has a password associated with
      their account.  It seems obvious that these passwords need to be
      known only to the user and the actual operating system.  In
      order to keep these passwords secret, they are encrypted with
      what is known as a <span class="quote">"<span class="quote">one-way hash</span>"</span>, that is, they can
      only be easily encrypted but not decrypted.  In other words, what
      we told you a moment ago was obvious is not even true:  the
      operating system itself does not <span class="emphasis"><em>really</em></span> know
      the password.  It only knows the <span class="emphasis"><em>encrypted</em></span>
      form of the password.  The only way to get the
      <span class="quote">"<span class="quote">plain-text</span>"</span> password is by a brute force search of the
      space of possible passwords.</p><p>Unfortunately the only secure way to encrypt passwords when
      <span class="trademark">UNIX</span>(R) came into being was based on DES, the Data Encryption
      Standard.  This was not such a problem for users resident in
      the US, but since the source code for DES could not be exported
      outside the US, FreeBSD had to find a way to both comply with
      US law and retain compatibility with all the other <span class="trademark">UNIX</span>(R)
      variants that still used DES.</p><p>The solution was to divide up the encryption libraries
      so that US users could install the DES libraries and use
      DES but international users still had an encryption method
      that could be exported abroad.  This is how FreeBSD came to
      use MD5 as its default encryption method.  MD5 is believed to
      be more secure than DES, so installing DES is offered primarily
      for compatibility reasons.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp85996240"></a>14.4.1. Recognizing Your Crypt Mechanism</h3></div></div></div><p>Currently the library supports DES, MD5 and Blowfish hash
	functions.  By default FreeBSD uses MD5 to encrypt
	passwords.</p><p>It is pretty easy to identify which encryption method
	FreeBSD is set up to use.  Examining the encrypted passwords in
	the <code class="filename">/etc/master.passwd</code> file is one way.
	Passwords encrypted with the MD5 hash are longer than those
	encrypted with the DES hash and also begin with the characters
	<code class="literal">$1$</code>.  Passwords starting with
	<code class="literal">$2a$</code> are encrypted with the
	Blowfish hash function.  DES password strings do not
	have any particular identifying characteristics, but they are
	shorter than MD5 passwords, and are coded in a 64-character
	alphabet which does not include the <code class="literal">$</code>
	character, so a relatively short string which does not begin with
	a dollar sign is very likely a DES password.</p><p>The password format used for new passwords is controlled
	by the <code class="literal">passwd_format</code> login capability in
	<code class="filename">/etc/login.conf</code>, which takes values of
	<code class="literal">des</code>, <code class="literal">md5</code> or
	<code class="literal">blf</code>.  See the <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=login.conf&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">login.conf</span>(5)</span></a> manual page
	for more information about login capabilities.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="securing-freebsd.html">Poprzedni</a> </td><td width="20%" align="center"><a accesskey="u" href="security.html">Pocz±tek rozdzia³u</a></td><td width="40%" align="right"> <a accesskey="n" href="one-time-passwords.html">Nastêpny</a></td></tr><tr><td width="40%" align="left" valign="top">14.3. Securing FreeBSD </td><td width="20%" align="center"><a accesskey="h" href="index.html">Spis tre¶ci</a></td><td width="40%" align="right" valign="top"> 14.5. One-time Passwords</td></tr></table></div><p xmlns="" align="center"><small>All FreeBSD documents are available for download
    at <a href="http://ftp.FreeBSD.org/pub/FreeBSD/doc/">http://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="" align="center"><small>Questions that are not answered by the
    <a href="http://www.FreeBSD.org/docs.html">documentation</a> may be
    sent to &lt;<a href="mailto:freebsd-questions@FreeBSD.org">freebsd-questions@FreeBSD.org</a>&gt;.<br />
    Send questions about this document to &lt;<a href="mailto:freebsd-doc@FreeBSD.org">freebsd-doc@FreeBSD.org</a>&gt;.</small></p></body></html>