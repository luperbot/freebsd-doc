<?xml version="1.0" encoding="euc-jp"?>
<!--
     The FreeBSD Documentation Project
     The FreeBSD Japanese Documentation Project

     Original revision: r20962
     $FreeBSD$
-->
<book xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" xml:lang="ja">
  <info><title xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD port 作成者のためのハンドブック</title>
    

    <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
      <author xmlns:xlink="http://www.w3.org/1999/xlink"><orgname xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD ドキュメンテーションプロジェクト</orgname></author>
    </authorgroup>

    <pubdate xmlns:xlink="http://www.w3.org/1999/xlink">2000 年 4 月</pubdate>

    <copyright xmlns:xlink="http://www.w3.org/1999/xlink">
      <year xmlns:xlink="http://www.w3.org/1999/xlink">2000</year>
      <year xmlns:xlink="http://www.w3.org/1999/xlink">2001</year>
      <year xmlns:xlink="http://www.w3.org/1999/xlink">2002</year>
      <year xmlns:xlink="http://www.w3.org/1999/xlink">2003</year>
      <year xmlns:xlink="http://www.w3.org/1999/xlink">2004</year>
      <holder xmlns:xlink="http://www.w3.org/1999/xlink" role="mailto:doc@FreeBSD.org">The FreeBSD Documentation
	Project</holder>
    </copyright>

    <abstract xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">このハンドブックは FreeBSD の port 作成者 (porter) 向けに、
	具体的な port の作成方法や注意点などをまとめたものです。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">日本語版の作成は FreeBSD 日本語ドキュメンテーション
	プロジェクト (FreeBSD doc-jp) が行なっています。
	日本語訳および、日本語版のみに関することは FreeBSD 日本語ドキュメンテーションプロジェクト <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">doc-jp@jp.FreeBSD.org</email> に
	おいて日本語で議論されています。
      </para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">文書の日本語訳に関するお問い合わせや、
	文書の原文に関する問い合わせをしたいが英語が得意でないという方は、
	FreeBSD 日本語ドキュメンテーションプロジェクト <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">doc-jp@jp.FreeBSD.org</email> まで日本語でコメントをお寄せください。</para>
    </abstract>

    
<legalnotice xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="trademarks" role="trademarks">
  <title xmlns:xlink="http://www.w3.org/1999/xlink">Legal Notice</title>

  <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD is a registered trademark of The FreeBSD Foundation.</para>

  <para xmlns:xlink="http://www.w3.org/1999/xlink">UNIX is a registered trademark of The Open Group in the US and
    other countries.</para>

  <para xmlns:xlink="http://www.w3.org/1999/xlink">Sun, Sun Microsystems, SunOS, Solaris,
    Java, JDK, and OpenJDK are trademarks
    or registered trademarks of Sun Microsystems, Inc. in the United
    States and other countries.</para>

<!-- Product Trademarks -->

  <para xmlns:xlink="http://www.w3.org/1999/xlink">Apple and QuickTime are trademarks of Apple Computer, Inc.,
    registered in the U.S. and other countries.</para>

  <para xmlns:xlink="http://www.w3.org/1999/xlink">Macromedia and Flash are trademarks or registered
    trademarks of Macromedia, Inc. in the United States and/or other
    countries.</para>

  <para xmlns:xlink="http://www.w3.org/1999/xlink">Microsoft, Windows, and Windows Media are either registered
    trademarks or trademarks of Microsoft Corporation in the United
    States and/or other countries.</para>

  <para xmlns:xlink="http://www.w3.org/1999/xlink">PartitionMagic is a registered trademark of PowerQuest
    Corporation in the United States and/or other countries.</para>

  <para xmlns:xlink="http://www.w3.org/1999/xlink">Many of the designations used by manufacturers and sellers to
    distinguish their products are claimed as trademarks.  Where those
    designations appear in this book, and the FreeBSD Project was
    aware of the trademark claim, the designations have been followed
    by the ™ symbol.</para>
</legalnotice>


    
<legalnotice xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="legalnotice">
  <title xmlns:xlink="http://www.w3.org/1999/xlink">Copyright</title>

  <para xmlns:xlink="http://www.w3.org/1999/xlink">Redistribution and use in source (XML DocBook) and 'compiled'
    forms (XML, HTML, PDF, PostScript, RTF and so forth) with or without
    modification, are permitted provided that the following conditions are
    met:</para>

  <orderedlist xmlns:xlink="http://www.w3.org/1999/xlink">
    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">Redistributions of source code (XML DocBook) must retain the
        above copyright notice, this list of conditions and the following
        disclaimer as the first lines of this file unmodified.</para>
    </listitem>

    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">Redistributions in compiled form (transformed to other DTDs,
        converted to PDF, PostScript, RTF and other formats) must
        reproduce the above copyright notice, this list of conditions and
        the following disclaimer in the documentation and/or other
        materials provided with the distribution.</para>
    </listitem>
  </orderedlist>

  <important xmlns:xlink="http://www.w3.org/1999/xlink">
    <para xmlns:xlink="http://www.w3.org/1999/xlink">THIS DOCUMENTATION IS PROVIDED BY THE FREEBSD DOCUMENTATION
      PROJECT "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING,
      BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND
      FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL
      THE FREEBSD DOCUMENTATION PROJECT BE LIABLE FOR ANY DIRECT, INDIRECT,
      INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
      BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS
      OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
      ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR
      TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE
      USE OF THIS DOCUMENTATION, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH
      DAMAGE.</para>
  </important>
</legalnotice>


    <releaseinfo xmlns:xlink="http://www.w3.org/1999/xlink">$FreeBSD$</releaseinfo>
  </info>

  <chapter xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="why-port">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">はじめに</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD Ports Collection は、ほとんどの人が FreeBSD
      でアプリケーション ("ports") をインストールする手段です。
      FreeBSD に関する他のすべてと同じく、
      これも基本的にボランティア活動によるものです。
      この文書を読む際には必ずこのことを念頭においてください。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD では、誰もが新たな port を提出したり、
      メンテナンスされていない既存の port をメンテナンスできます。
      そのためには特にソースコードを管理する (commit) 権限は必要ありません。</para>

  </chapter>

  <chapter xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="own-port">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">自分で port を作成するには</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">自分で port を作ることや、既存の port の
      更新作業に興味があるのですか。それはすばらしい!</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">ここでは FreeBSD 用の port を作る際の
      ガイドラインをいくつか示します。
      既存の port を更新したいと考えている場合であっても、
      まずこの章を読んでから、次に
      <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="port-upgrading"/> を読むようにしてください。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">この文書では充分に詳細がわからない場合には、
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/ports/Mk/bsd.port.mk</filename> を参照してください。
      このファイルは、port の Makefile が例外なくインクルードしているものです。
      これには細かくコメントが書かれていますので、Makefile を読むのに
      あまり慣れていない人でも、たくさんの情報を得ることができるでしょう。
      それでも解決できないような質問は、<link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-ports">FreeBSD ports メーリングリスト</link> にポストしてみるのも
      良いでしょう。</para>

    <note xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">この文書では、上書き可能な
	変数 (<varname xmlns:xlink="http://www.w3.org/1999/xlink"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">VAR</replaceable></varname>) のうち
	一部のものについてだけ述べています。
	(すべてでは無いかもしれませんが、) ほとんどの変数は
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.mk</filename> の先頭部分に記述されています。
	それ以外のものも記述すべきかもしれません。
	なお、このファイルは非標準のタブ設定を使用しています。
	<application xmlns:xlink="http://www.w3.org/1999/xlink">Emacs</application> や <application xmlns:xlink="http://www.w3.org/1999/xlink">Vim</application> は、
	この設定をファイルの読み込み時に認識するはずです。
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">vi</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> と <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ex</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> では、
	一旦ファイルを読み込んでから <command xmlns:xlink="http://www.w3.org/1999/xlink">:set tabstop=4</command> と
	タイプすることで、正しい値に設定することができます。</para>
    </note>
  </chapter>

  <chapter xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="quick-porting">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">3 分間 porting</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">このセクションでは、簡単な port の作り方について説明します。
      多くの場合、これだけでは不十分なので、
      この文書の続きを読まなければならないでしょう。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">まず、元の tar ファイルを
      <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTDIR</varname> に置きます。この変数の
      デフォルト値は <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/ports/distfiles</filename> です。</para>

    <note xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">以下の例では、そのソフトウェアが
	そのままコンパイル可能なものと仮定しています。
	つまり、FreeBSD マシンで動かすために、
	変更がまったく必要ないという意味です。
	もし何か変更が必要な場合には、次のセクションも
	参照する必要があるでしょう。</para>
    </note>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-makefile">
      <title xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> の作成</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">最小限の <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> は
	次のようなものになります。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink"># New ports collection makefile for:   oneko
# Date created:     5 December 1994
# Whom:             asami
#
# $FreeBSD$
#

PORTNAME=       oneko
PORTVERSION=    1.1b
CATEGORIES=     games
MASTER_SITES=   ftp://ftp.cs.columbia.edu/archives/X11R5/contrib/

MAINTAINER=     asami@FreeBSD.org
COMMENT=        A cat chasing a mouse all over the screen

MAN1=           oneko.1
MANCOMPRESSED=  yes
USE_IMAKE=      yes

.include &lt;bsd.port.mk&gt;</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">おわかりでしょうか。<literal xmlns:xlink="http://www.w3.org/1999/xlink">$FreeBSD$</literal> を
	含む行の内容については、気にする必要はありません。
	この行は、このファイルが FreeBSD の ports ツリーに
	取り込まれる際に、CVS によって自動的に書き込まれます。
	もっと詳しい例が見たい場合には、
	<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="porting-samplem">Makefile のサンプル</link>の
	セクションをご覧ください。</para>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-desc">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">package 記述ファイルの作成</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">package にするしないに関わらず、どのような port でも
	2 つの記述ファイルが必要です。それは
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-descr</filename> と
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename> です。ファイル名が
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-</filename> で始まっていることで
	他のファイルと区別できるようになっています。</para>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-descr</filename></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">このファイルには、その port についての少し長い説明を書きます。
	  その port が何をするのかについての、
	  数段落程度の簡潔な解説があれば充分です。</para>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">これはマニュアルでもなければ、使用方法やコンパイル方法に
	    ついての細かい説明書でも<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">ありません</emphasis>。
	    <emphasis xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">README</filename> ファイルや
	    マニュアルを引用するつもりなら注意が必要です</emphasis>。
	    これらは多くの場合、その port の簡潔な説明になっていなかったり、
	    扱いにくい形式になっていたりします。
	    (マニュアルの場合、行を揃えるために空白が調整されていたりします。)
	    このソフトウェアに公式のウェブサイトがあるのなら、
	    ここに書いてください。その際自動化ツールが正しく動作するように、
	    ウェブサイトのうちの<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">一つ</emphasis>には、
	    先頭に <literal xmlns:xlink="http://www.w3.org/1999/xlink">WWW:</literal> をつけておいてください。</para>
	</note>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">このファイルの最後に、あなたの名前を書くことが推奨されています。
	  たとえば、こんな具合です。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">This is a port of oneko, in which a cat chases a poor mouse all over
the screen.
 :
(うんぬん。)

WWW: http://www.oneko.org/

- Satoshi
asami@cs.berkeley.edu</programlisting>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">このファイルには、その port によってインストールされる
	  すべてのファイルを列挙します。
	  このファイルは package を作る際のリストとして使われるため、
	  <quote xmlns:xlink="http://www.w3.org/1999/xlink">パッキングリスト (packing list)</quote> とも呼ばれます。
	  ここに書くパス名は、インストール時のプレフィックス
	  (通常 <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local</filename> または
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/X11R6</filename>) からの相対パスです。
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">MAN<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">n</replaceable></varname> 変数を
	  使用している場合 (使用することが推奨されています)、このリストに
	  マニュアルは入れないようにしてください。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">簡単な例を載せておきましょう。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">bin/oneko
lib/X11/app-defaults/Oneko
lib/X11/oneko/cat1.xpm
lib/X11/oneko/cat2.xpm
lib/X11/oneko/mouse.xpm
@dirrm lib/X11/oneko</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">パッキングリストの詳細については、
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pkg_create</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> のマニュアルを参照してください。</para>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">このリストには、すべてのファイルを列挙しなければ
	    なりませんが、ディレクトリそのものは列挙する必要がありません。
	    また、この port がインストール時に独自のディレクトリを
	    作成する場合には、この port が削除されるときに
	    そのディレクトリも削除されるよう、<literal xmlns:xlink="http://www.w3.org/1999/xlink">@dirrm</literal> の行を
	    追加しておくのを忘れないでください。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">このファイルでは、すべてのファイル名を
	    アルファベット順にソートしておくことを推奨します。
	    そうすることで、port を更新する際の
	    変更点の確認が楽になります。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">パッキングリストを手作業で作成するのは、
	    時にとても退屈な作業になります。
	    その port が非常に多数のファイルをインストールするとしたら、
	    <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="porting-autoplist"> パッキングリストの
	    自動生成</link>を行なえば、時間の節約になるかもしれません。</para>
	</note>
      </sect2>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-checksum">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">チェックサムファイルの作成</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">make makesum</command> と入力するだけで、
	(訳注: <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.mk</filename> に書かれている)
	port 生成ルールに従い、
	自動的に <filename xmlns:xlink="http://www.w3.org/1999/xlink">distinfo</filename> ファイルが生成されます。</para>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-testing">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">port のテスト</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">package 化も含め、その port が思った通りに
	動くことを確認してください。
	確認の必要な重要ポイントは以下の通りです。</para>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">その port がインストールしないものが
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename> に含まれていないこと。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">その port がインストールする、すべてのものが
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename> に含まれていること。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><buildtarget>reinstall</buildtarget>
	    ターゲットを使うことで、その port が
	    何度でもインストール可能なこと。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">その port が deintall される際には
	    <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="porting-cleaning">後片付け</link>をすること。</para>
	</listitem>
      </itemizedlist>

      <procedure xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">推奨されるテストの手順</title>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">make install</command></para>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">make package</command></para>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">make deinstall</command></para>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">pkg_add package 名
	    </command></para>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">make deinstall</command></para>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">make reinstall</command></para>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">make package</command></para>
	</step>
      </procedure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><buildtarget>package</buildtarget> および
	<buildtarget>deinstall</buildtarget> の段階で、
	どんな警告 (warning) も出力されないことを確認してください。
	ステップ 3 の後、(訳注: その port が作成した) すべての新しい
	ディレクトリが正しく消去されていることを確認してください。
	また、ステップ 4 の後にそのソフトウェアを使用してみて、
	package からインストールされた場合にも正しく動作することを
	確認してください。</para>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-portlint">
      <title xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">portlint</command> によるチェック</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">portlint</command> を使い、その port が FreeBSD の
	ガイドラインに沿っているかどうかを確認してください。
	<command xmlns:xlink="http://www.w3.org/1999/xlink">portlint</command> プログラムは ports collection に
	含まれています。
	特に、<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="porting-samplem">Makefile</link> が
	正しい形式になっているか、
	<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="porting-pkgname">package</link> の
	名前が正しいかどうかをチェックするのに良いでしょう。</para>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-submitting">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">port の提出</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">まず、<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="porting-dads"> やって良いこと悪いこと</link>の
	セクションを読んでください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">さて、満足のいく port が完成したら、残るは
	それを FreeBSD のメインの ports ツリーに置いて、
	他の人にも使ってもらうだけです。
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">work</filename> ディレクトリや
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">pkgname.tgz</filename> といった package は
	必要ありませんから、まずこれらを消去してください。
	あとは <command xmlns:xlink="http://www.w3.org/1999/xlink">shar `find port_dir`</command> の出力を
	バグレポートに入れ、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">send-pr</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> プログラムを使用して
	送ってください (<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">send-pr</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> についての詳細は<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="../../articles/contributing/contrib-how.html#CONTRIB-GENERAL">
	バグ報告と一般的な論評</link>を参照してください)。
	もし、圧縮していない状態で 20KB 以上あるような port であれば、
	それを ひとつの tar ファイルにまとめて圧縮し、
	バグレポートに入れる前に <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">uuencode</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> を使用してください
	(20KB 以下のものを tar ファイルにして送っても良いのですが、
	あまり歓迎されません)。
	バクレポートの category は必ず <literal xmlns:xlink="http://www.w3.org/1999/xlink">ports</literal>,
	class は <literal xmlns:xlink="http://www.w3.org/1999/xlink">change-request</literal> としてください
	(レポートを <literal xmlns:xlink="http://www.w3.org/1999/xlink">confidential</literal> (機密) 指定には
	しないでください!)。
	また、port 化したプログラムの短い説明文を
	バグレポートの <quote xmlns:xlink="http://www.w3.org/1999/xlink">Description</quote> フィールドに追加して、
	<quote xmlns:xlink="http://www.w3.org/1999/xlink">Fix</quote> フィールドには shar したファイル、
	もしくは uuencode した
	tar ファイルを追加するようにしてください。</para>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">障害報告の概要 (synopsis) 欄がよく書けていると、
	  わたしたちが作業しやすくなります。
	  新しい port を提出するなら
	  <quote xmlns:xlink="http://www.w3.org/1999/xlink">New port: &lt;カテゴリ&gt;/&lt;port 名&gt;
	  &lt;短い port の概要&gt;</quote>、
	  port の更新なら、
	  <quote xmlns:xlink="http://www.w3.org/1999/xlink">Update port: &lt;カテゴリ&gt;/&lt;port 名&gt;
	  &lt;短い更新の概要&gt;</quote>
	  のような形が歓迎されます。
	  この考え方に沿っていれば、
	  誰かがあなたの障害報告を時間をおかずに見てくれる可能性が高くなります。</para>
      </note>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">もう一度、<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">オリジナルのソースファイルや
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">work</filename> ディレクトリ、
	<command xmlns:xlink="http://www.w3.org/1999/xlink">make package</command> で作成した package が
	含まれていないこと</emphasis>を確認してください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">port を提出したら、辛抱強くお待ちください。時には、ある
	port が FreeBSD に取り込まれるまで、数日しかかかりそうもないの
	に、数ヶ月かかることもあります。<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.FreeBSD.org/cgi/query-pr-summary.cgi?category=ports">
	FreeBSD へのコミット待ちの ports</link> の一覧が見られます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">わたしたちがひとたびその port をチェックしたら、必要なら
	あなたに確認して、それをツリーへ置きます。
	あなたの名前は<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="../../articles/contributors/contrib-additional.html">その他の
	  FreeBSD への貢献者</link>の一覧やその他のファイルにも載るでしょう。
	う〜ん、素晴らしい。<!-- smiley -->:-)</para>
      <!-- kuriyama - should use link tag? -->
    </sect1>
  </chapter>

  <chapter xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="slow">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">本格的な port</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">残念ながら移植がそう簡単ではなく、それを動かすために
      多少の変更が必要になる場合もあるでしょう。
      このセクションでは、模範的な ports の作法に従い、
      どのように変更を行なって動くようにするのかを
      順を追って説明します。</para>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="slow-work">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">port 構築の詳細</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">まず、あなたが port のディレクトリで
	<command xmlns:xlink="http://www.w3.org/1999/xlink">make</command> と
	入力してから起こる一連の出来事について、
	順を追って説明します。
	ここを読むときには、別のウィンドウに
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.mk</filename> を表示しておくと
	理解の助けになるかもしれません。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">しかし、<filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.mk</filename> が何をしているのか
	完全に理解できなくても 心配する必要はありません。
	それほど多くの人が理解している というわけでは ありませんから…。
	<!-- smiley --><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">f(^_^;)</emphasis></para>

      <procedure xmlns:xlink="http://www.w3.org/1999/xlink">
	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">まず、<buildtarget>fetch</buildtarget> という
	    ターゲットが実行されます。
	    この <buildtarget>fetch</buildtarget> ターゲットは、
	    配布ファイルがローカルの <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTDIR</varname> に
	    存在することを保証する役目を持っています。
	    もし必要なファイルが <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTDIR</varname> に
	    存在しなければ、<buildtarget>fetch</buildtarget> ターゲットは
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> で指定された
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES</varname> 中の URL や、
	    FreeBSD のメイン FTP サイト <uri xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp.FreeBSD.org/pub/FreeBSD/ports/distfiles/">ftp://ftp.FreeBSD.org/pub/FreeBSD/ports/distfiles/</uri>
	    (ここにはバックアップとして、われわれ ports 管理者が確認した
	    配布ファイルを置いてあります) を探しにいきます。
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">make</command> を実行するマシンがインターネットに
	    接続されていて、目的のファイルを <varname xmlns:xlink="http://www.w3.org/1999/xlink">FETCH</varname> で
	    取ってこれた場合には、それを <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTDIR</varname> に
	    保存します。</para>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">次に <buildtarget>extract</buildtarget> ターゲットが実行されます。
	    このターゲットは <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTDIR</varname> から
	    配布ファイル (普通は gzip された tar ファイル) を読み込み、
	    その内容を作業ディレクトリ <varname xmlns:xlink="http://www.w3.org/1999/xlink">WRKDIR</varname>
	    (デフォルトでは <filename xmlns:xlink="http://www.w3.org/1999/xlink">work</filename>) に展開します。</para>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">次に <buildtarget>patch</buildtarget> ターゲットが実行されます。
	    まず、<varname xmlns:xlink="http://www.w3.org/1999/xlink">PATCHFILES</varname> にパッチファイルが
	    指定されていれば、そのパッチを適用します。

	    次に、<varname xmlns:xlink="http://www.w3.org/1999/xlink">PATCHDIR</varname> ディレクトリ
	    (デフォルトでは <filename xmlns:xlink="http://www.w3.org/1999/xlink">files</filename> サブディレクトリ) に
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">patch-*</filename> という
	    名前のパッチファイルが存在すれば、
	    これらをアルファベット順に適用します。</para>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">次に <buildtarget>configure</buildtarget> ターゲットが
	    実行されます。
	    これには、いろいろな場合があります。</para>

	  <orderedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">scripts/configure</filename> が
		存在する場合には、そのスクリプトが実行されます。</para>
	    </listitem>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">HAS_CONFIGURE</varname> または
		<varname xmlns:xlink="http://www.w3.org/1999/xlink">GNU_CONFIGURE</varname> がセットされていれば、
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">WRKSRC/configure</filename> が
		実行されます。</para>
	    </listitem>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_IMAKE</varname> がセットされていれば、
		<varname xmlns:xlink="http://www.w3.org/1999/xlink">XMKMF</varname>
		(デフォルトでは <command xmlns:xlink="http://www.w3.org/1999/xlink">xmkmf -a</command>) が
		実行されます。</para>
	    </listitem>
	  </orderedlist>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">最後に <buildtarget>build</buildtarget> ターゲットが実行されます。
	    これは作業ディレクトリ (<varname xmlns:xlink="http://www.w3.org/1999/xlink">WRKSRC</varname>) に降りていき、
	    ビルド (コンパイル) を実行するのが役目です。
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_GMAKE</varname> がセットされていれば
	    GNU <command xmlns:xlink="http://www.w3.org/1999/xlink">make</command> が使用され、
	    セットされていなければ FreeBSD の <command xmlns:xlink="http://www.w3.org/1999/xlink">make</command> が
	    使用されます。</para>
	</step>
      </procedure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">上記はデフォルトの動作です。これに加えて
	<buildtarget>pre-<replaceable xmlns:xlink="http://www.w3.org/1999/xlink"> 何とか</replaceable></buildtarget>や
	<buildtarget>post-<replaceable xmlns:xlink="http://www.w3.org/1999/xlink"> 何とか</replaceable></buildtarget>という
	ターゲットを定義したり、そのような名前のスクリプトを
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">scripts</filename> サブディレクトリに置くことも可能で、
	それぞれデフォルトの動作の前や後に実行されます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">たとえば、<buildtarget>post-extract</buildtarget> ターゲットが
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> に定義されていて、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">scripts</filename> サブディレクトリに
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">pre-build</filename> というファイルが置かれている場合、
	<buildtarget>post-extract</buildtarget> ターゲットは
	通常の展開動作の後に呼び出され、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">pre-build</filename> スクリプトは
	デフォルトのコンパイル動作の前に実行されます。
	実行する動作が簡単であれば、スクリプトよりも
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> のターゲットを使用することが
	推奨されています。
	なぜなら、その port では どのような非標準の動作が必要とされるのか、
	一箇所にまとめて書いてあった方が他の人に理解しやすいからです。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">デフォルトの動作は <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.mk</filename> の
	<buildtarget>do-<replaceable xmlns:xlink="http://www.w3.org/1999/xlink"> 何とか</replaceable></buildtarget>という
	ターゲットで実行されます。
	たとえば port を展開するコマンドは
	<buildtarget>do-extract</buildtarget> ターゲットに書かれています。
	もしデフォルトのターゲットに不満があれば、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> 中で
	<buildtarget>do-<replaceable xmlns:xlink="http://www.w3.org/1999/xlink"> 何とか</replaceable></buildtarget>という
	ターゲットを再定義することにより、
	好きなように変更することができます。</para>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><quote xmlns:xlink="http://www.w3.org/1999/xlink">メイン</quote>のターゲット
	  (たとえば <buildtarget>extract</buildtarget>,
	  <buildtarget>configure</buildtarget>、その他) は、
	  すべての前段階が実行されていることを確認してから、
	  実際のターゲットやスクリプトを呼び出す以外のことは
	  行ないませんし、これらが変更されることも想定されていません。
	  もし展開の方法を変更したいときには
	  <buildtarget>do-extract</buildtarget> の変更によって実現し、
	  <buildtarget>extract</buildtarget>
	  の動作は絶対に変更しないでください。</para>
      </note>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">これで、ユーザが <command xmlns:xlink="http://www.w3.org/1999/xlink">make</command> と
	入力したときに何が起こるのかが理解できたと思います。
	では、完璧な port を作成するための推奨手順を
	順に見ていきましょう。</para>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="slow-sources">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">オリジナルのソースの入手</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">(通常の場合、) 圧縮された tar ファイルの形
	(<filename xmlns:xlink="http://www.w3.org/1999/xlink">foo.tar.gz</filename> あるいは
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">foo.tar.Z</filename>) で
	オリジナルのソースを入手して、
	それを <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTDIR</varname> にコピーします。
	できる限り、<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">主流の</emphasis>ソースを
	使用するようにしてください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">もとの tar ファイルがどこにあるかを示すために、変数
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES</varname> を設定する必要があります。
	主なサイトのほとんどについては省略形が
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.sites.mk</filename> で定義されています。
	これらのサイト (と付随する定義)
	を、ソースコード内で同じ情報が繰り返されるのを避けるために、
	可能な限り使うようにしてください。
	これらのサイトは時とともに変わってゆきますので、そうしないと、
	関係者一同にとってメンテナンスの悪夢になってしまいます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ネットワークへの接続の良好な FTP/HTTP サイトを
	見つけることができなかったり、頭にくるような非標準的な形式しか
	置いていないサイトしか見つけられないときには、
	自分の管理下にあり信頼できる FTP サーバや HTTP サーバ
	(たとえば、あなた自身のホームページ) に置くこともできます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">そのような便利かつ信頼のおける置き場所が見つからない場合、
	我々が <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">ftp.FreeBSD.org</systemitem> に
	<quote xmlns:xlink="http://www.w3.org/1999/xlink">置き場所</quote>を提供することもできますが、
	これはなるべく避けたい解決法です。
	配布ファイルは、誰かの <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">freefall</systemitem> アカウントの
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">~/public_distfiles/</filename> に置かれることでしょう。
	その port をコミットする人に、置いてもらえるように頼んでください。
	その人は配布ファイルを置いて、<varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES</varname> を
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_LOCAL</varname> にセットし、
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_SUBDIR</varname> には
	自分の <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">freefall</systemitem> ユーザ名を
	入れておいてくれるでしょう。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">その port の配布ファイルが、
	作者によるバージョン更新のようなことがなく変更されるなら、
	その配布ファイルを
	あなたのホームページに置いて、<varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES</varname> の
	最初に指定することも考えてみてください。できれば、その port
	の作者にそういうことをしないようにお願いしてみてください。
	そのためには、何かしらのソースコード管理を行うと役に立つでしょう。
	あなたが独自のバージョンを置けば、ユーザが
	<errorname xmlns:xlink="http://www.w3.org/1999/xlink">checksum mismatch</errorname>
	エラーに悩まされることもなくなりますし、FreeBSD の FTP サイトの
	保守担当者の負担も減らすこともできます。
	また、その port にマスターサイトが一つしか存在しない場合には、
	あなたのサイトにバックアップを置き、
	それを <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES</varname> の 2 番目に
	指定すると良いでしょう。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">その port がインターネット上で入手できる追加パッチを
	必要とするのなら、それも取ってきて
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTDIR</varname> に置いてください。
	それらがメインのソースの tar ファイルとは別のサイトに
	あったとしても、心配する必要はありません。
	そのような状況にも ちゃんと対応できるようになっています
	(後述の <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="porting-patchfiles">PATCHFILES の記述</link>を
	ご覧ください)。</para>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="slow-modifying">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">port の修正</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">作業用のディレクトリに tar ファイルを展開し、
	最新バージョンの FreeBSD 上で正しくコンパイルするために必要な、
	あらゆる変更を行ないます。
	この処理は最終的に自動化するわけですから、
	何を行なったかを<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">注意深く記録しておきましょう</emphasis>。
	この port が完成した暁には、ファイルの削除、追加、
	修正を含むすべての処理が自動化されたスクリプトや
	パッチファイルで行なえるようになっていなければなりません。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">その port のコンパイルやインストールのために必要な手作業が
	あまりに多いようならば、Larry Wall の芸術的な
	<application xmlns:xlink="http://www.w3.org/1999/xlink">Configure</application> スクリプトを
	参考にしたほうが良いかもしれません。
	新しい ports collection は、エンドユーザにとって個々の port が
	可能な限り<quote xmlns:xlink="http://www.w3.org/1999/xlink">プラグ &amp; プレイ</quote>かつ
	最小のディスク消費で make できることを目指しています。</para>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">明示的に記述されている場合を除き、あなたが作成して
	  FreeBSD の ports collection に寄付したパッチファイル、
	  スクリプトおよびその他のファイルは、標準的な BSD の
	  著作権条件によりカバーされているものと見なされます。</para>
      </note>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="slow-patch">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">パッチの適用</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">port の準備段階で追加されたり変更されたりしたファイルは、
	再帰的 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">diff</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> により後で <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">patch</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>
	に与えられる形にすることができます。
	パッチは適当にまとめて
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">patch-*</filename>
	という名前のファイルに入れてください。
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">*</filename>
	はパッチが適用される順番を示します ― これらは
	<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">アルファベット順</emphasis>、
	つまり <literal xmlns:xlink="http://www.w3.org/1999/xlink">aa</literal> が最初、
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">ab</literal> が その次といった順番で処理されます。
	お望みなら、<filename xmlns:xlink="http://www.w3.org/1999/xlink">patch-Imakefile</filename> とか
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">patch-src-config.h</filename> のように、
	パッチ対象のファイルのパス名を示す名前を使うこともできます。
	これらのファイルは <varname xmlns:xlink="http://www.w3.org/1999/xlink">PATCHDIR</varname> に置いてください。
	そうすれば自動的に適用されるようになっています。
	すべてのパッチは <varname xmlns:xlink="http://www.w3.org/1999/xlink">WRKSRC</varname>
	からの相対パスにするべきです (通常、<varname xmlns:xlink="http://www.w3.org/1999/xlink">WRKSRC</varname>
	は port の tar ファイルが展開されるディレクトリで、
	make が実行されるところと同じです)。
	修正やアップグレードを容易にするため、
	複数のパッチで同じファイルを修正するのは避けてください
	(たとえば、<filename xmlns:xlink="http://www.w3.org/1999/xlink">patch-aa</filename> と
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">patch-ab</filename> が共に
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">WRKSRC/foobar.c</filename>
	を修正するなど)。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">RCS
	にとって特別な意味を持つ文字列をパッチ内に入れないようにしてください。
	ファイルを私たちのソースツリーに入れる時、
	これらの文字列は CVS によって書き換えられてしまい、
	後でまたパッチを使おうとした時にうまくいかないことがあります。
	RCS 文字列はドル記号 (<literal xmlns:xlink="http://www.w3.org/1999/xlink">$</literal>)
	で囲まれており、
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">$FreeBSD</literal> や
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">$RCS</literal>
	などで始まります。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">diff</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> の再帰 (<option xmlns:xlink="http://www.w3.org/1999/xlink">-r</option>)
	フラグを使って再帰的なパッチを作るのは大変結構なのですが、
	でき上がったパッチは必ず目でチェックして余計なゴミが入っていないことを確認してください。
	よくあるのはバックアップファイル同士の変更点、あるいは
	<command xmlns:xlink="http://www.w3.org/1999/xlink">Imake</command> や
	GNU <command xmlns:xlink="http://www.w3.org/1999/xlink">configure</command>
	を使うソフトウェアの
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>
	の変更点が入っている場合などです。
	また <filename xmlns:xlink="http://www.w3.org/1999/xlink">configure.in</filename> を編集して
	<command xmlns:xlink="http://www.w3.org/1999/xlink">autoconf</command> を使って
	<command xmlns:xlink="http://www.w3.org/1999/xlink">configure</command> を作り直すときには、
	<command xmlns:xlink="http://www.w3.org/1999/xlink">configure</command> の diff は含めずに
	(それらは良く数千行におよぶことがあります)、
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">USE_AUTOCONF=yes</literal> を定義して
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">configure.in</filename> の
	diff をとってください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ファイルをまるごと消す場合には、
	パッチを使わずに
	<buildtarget>post-extract</buildtarget>
	ターゲットで消す方が簡単です。
	できあがった差分に満足したら、
	それらをソースのファイルごとに別々のパッチファイルに分割してください。</para>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="slow-configure">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">コンフィグレーション</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">カスタマイズのために追加したいコマンドがあれば、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">configure</filename> という名前のスクリプトに入れて
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">scripts</filename> サブディレクトリに置いてください。
	上で述べたように、<filename xmlns:xlink="http://www.w3.org/1999/xlink">pre-configure</filename>
	あるいは <filename xmlns:xlink="http://www.w3.org/1999/xlink">post-configure</filename> という
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> ターゲットや、
	スクリプトで処理することもできます。</para>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="slow-user-input">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ユーザからの入力の扱い</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">もし、その port がビルド、コンフィグレーション、または
	インストールの際にユーザからの入力を必要とするならば、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> 中で
 	<varname xmlns:xlink="http://www.w3.org/1999/xlink">IS_INTERACTIVE</varname> を設定しなければなりません。
	これにより、ユーザが環境変数 <envar xmlns:xlink="http://www.w3.org/1999/xlink">BATCH</envar> を
	セットしている場合には、この port の処理がスキップされるので
	<quote xmlns:xlink="http://www.w3.org/1999/xlink">夜間の無人ビルド</quote> が実行可能になります。
	(逆に環境変数 <envar xmlns:xlink="http://www.w3.org/1999/xlink">INTERACTIVE</envar> がセットされていると、
	ユーザからの入力を必要とする port <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">だけ</emphasis>が
 	コンパイルされます)。
 	これは、連続して ports をビルドするマシン群で、
 	無駄になる時間を大きく減らします。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">もし、適切なデフォルト設定が存在するのであれば、
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">PACKAGE_BUILDING</varname> 変数をチェックして、
	それが設定されている場合には
	ユーザ入力のスクリプトを起動しないようにしてください。
	こうすることによって、我々 ports 管理者が
	CDROM や FTP に 置く package を作成することができます。
      </para>
    </sect1>
  </chapter>

  <chapter xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="makefile">
    <title xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> の作成</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> の作成は非常に単純です。
      繰り返しますが、始めるまえに既存の例を見ておくことを推奨します。
      また、このハンドブックには <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="porting-samplem">Makefile のサンプル</link>があります。
      それを見て、Makefile 内の変数の順番や
      空行を入れるところなどの参考にしてください。
      そうすると他の人々にも読みやすいものとなります。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">では、<filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> を設計するときに
      問題となるところを順に追って見てみましょう。</para>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="makefile-source">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">オリジナルのソース</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ソースは <filename xmlns:xlink="http://www.w3.org/1999/xlink">foozolix-1.2.tar.gz</filename> といった名前の
	標準的な gzip された tar ファイルの形式で
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTDIR</varname> に置かれていますか?
	そうなっていれば、次のステップに進めます。
	異なっている場合には、変数 <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTNAME</varname>,
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">EXTRACT_CMD</varname>,
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">EXTRACT_BEFORE_ARGS</varname>,
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">EXTRACT_AFTER_ARGS</varname>,
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">EXTRACT_SUFX</varname>,
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES</varname> のうち
	いくつかを書き換える必要があります。
	どれだけ変更しないといけないかは、その port の配布ファイルが
	どの程度標準からかけはなれているかによります
	(最もよくあるのは gzip ではなく普通の compress コマンドで
	tar ファイルが圧縮されている場合で、そのときは
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">EXTRACT_SUFX=.tar.Z</literal> とするだけです)。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">最悪の場合には、自分で
	<buildtarget>do-extract</buildtarget> ターゲットを作成して、
	デフォルトを上書きすることもできます。
	しかし、そこまでする必要があることはめったにないでしょう。</para>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="makefile-naming">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">名前の付け方</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Port の <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> のはじめの部分で port
      に名前をつけ、バージョン番号を記述し、適切なカテゴリに載せます。</para>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTNAME</varname> および
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTVERSION</varname></title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTNAME</varname> には
	port の名前の基幹部分を入れ、
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTVERSION</varname>
	には port のバージョン番号を入れます。</para>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTREVISION</varname> および
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTEPOCH</varname></title>

	<sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTREVISION</varname></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTREVISION</varname> 変数は単調増加する値です。
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTVERSION</varname> が増加した時 (つまり、
	  新しいオフィシャルベンダーリリースが行なわれた時) には
	  いつでも 0 にリセットされます。
	  また、その値が 0 でない場合には package 名に追加されます。
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTREVISION</varname> の変更は、(例えば
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pkg_version</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> 等の) 自動化ツールが、
	  新たな package が入手できることを示すのに使われます。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">その port から作られる package の内容や構造に
	  大きな影響を与える変更を行なった時には、
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTREVISION</varname> を増やしてください。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTREVISION</varname>
	  を上げる必要がある変更の例:</para>

	<itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">セキュリティ上の脆弱性やバグを修正するため、または
	      その port に新しい機能を追加するためのパッチの追加。</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">package のコンパイル時オプションの有効化や
	      無効化のための port の <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>
	      の変更。</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">パッキングリストの変更や、package のインストール時の
	      挙動の変更 (たとえば、ssh のホストキーのような package の
	      初期データを生成するスクリプトの変更など)。</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">その port が依存する共有ライブラリのバージョンを
	      上げる場合 (新しいバージョンの共有ライブラリが
	      インストールされた後に、そのライブラリに依存していた
	      古い package をインストールを試みる場合、
	      その package は新しい libfoo.(x+1) ではなく
	      古い libfoo.x を探そうとするため、インストールに失敗します。
	      (訳注: そのため、PORTREVISION を上げた package を
	      作成する必要があるわけです))。</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">ひそかに port 配布ファイルの変更が行なわれ、
	      その機能に大きな変化があった場合。
	      つまり、<filename xmlns:xlink="http://www.w3.org/1999/xlink">distinfo</filename> の修正を
	      必要とするような配布ファイルの変更が行なわれ、
	      新旧のバージョンの <command xmlns:xlink="http://www.w3.org/1999/xlink">diff -ru</command> を取ると
	      些細とは言えない変更が認められるにもかかわらず、
	      オリジナルのバージョン番号が変更されていないことから
	      <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTVERSION</varname> の変更は難しい場合。</para>
	  </listitem>
	</itemizedlist>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">PORTREVISION を上げる必要の無い変更の例:</para>

	<itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">生成される package に機能の変化が起らないような
	      port スケルトンのスタイル変更。</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">生成される package に影響しないような
	      <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES</varname> その他の
	      port に対する機能変更。</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">誤植の修正などの些細な変更で、その package のユーザが
	      アップグレードを必要とするほどには重要でないパッチ。</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">以前にはコンパイルが通らなかった package を
	      ビルド可能にするための修正 (その port が以前にビルド可能だった
	      プラットフォームにおいて、その変更により何らかの機能的な
	      違いが発生しない場合に限ります)。
	      <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTREVISION</varname> は package
	      の内容を反映したものなので、その package
	      が以前にビルド可能でなかったのなら、変更を示すために、
	      <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTREVISION</varname> を
	      増やす必要はありません。</para>
	  </listitem>
	</itemizedlist>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">経験的な判断方法としては、ある port にコミットされた変更が
	  (それが強化や修正によるものであれ、新しい package による
	  実質的な効能であれ)、アップデートすることにより、
	  誰もが利益を受けるような何かかどうか、また定期的に ports
	  ツリーを更新している人に更新を強制するということに値するか自問してみることです。
	  もし答がイエスであれば、
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTREVISION</varname> を上げるべきでしょう。</para>
	</sect3>

	<sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTEPOCH</varname></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">ソフトウェアのベンダや FreeBSD の port 作成者は、
	  以前のものよりも小さい数字のバージョン番号をつけたソフトウェアをリリースするといった、
	  何か馬鹿げたことをすることが時々あります。
	  例をあげると、ある port が foo-20000801 から foo-1.0
	  になるといった具合です
	  (数字として見ると 20000801 は 1 よりも大きいため、
	  間違って前者の方が新しいバージョンとして扱われてしまいます)。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">このような場合には <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTEPOCH</varname>
	  バージョンを増やしてください。
	  上のセクション 0 で説明したように、
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTEPOCH</varname> がゼロでない場合には、
	  それがパッケージ名の後ろにつけられます。絶対に
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTEPOCH</varname>
	  を減らしたり、ゼロにリセットしてはいけません。
	  さもないと、以前に作成された package との比較に失敗する
	  (つまり、その package が古くなっていることがわからない) ためです:
	  新しいバージョン番号 (上の例では<literal xmlns:xlink="http://www.w3.org/1999/xlink">1.0,1</literal>) は
	  依然として前のバージョン番号 (20000801) よりも
	  数字としては小さいのですが、自動化ツールが
	  サフィックス <literal xmlns:xlink="http://www.w3.org/1999/xlink">,1</literal> を特別扱いすることで、
	  以前の package には明示されていないサフィックス
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">,0</literal> よりも新しいことがわかります。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">誤って <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTEPOCH</varname>
	  を削除したりリセットしたりすると、終わりのない悲劇に見舞われます。
	  上記の議論を理解できないなら、
	  わかるまで議論をたどるかメーリングリストで質問してください。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">大多数の ports では、<varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTEPOCH</varname> が
	  必要になることは まず無いものと考えられています。
	  また、注意深く <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTVERSION</varname> を使用することで、
	  そのソフトウェアの将来のリリースがバージョン構造を変更する必要が出てきた場合にも、
	  多くの場合前もって対応しておくことができるでしょう。
	  しかし、<quote xmlns:xlink="http://www.w3.org/1999/xlink">スナップショット</quote>リリースのように、
	  オフィシャルなバージョン番号を持たないベンダーリリースが行なわれた時には、
	  FreeBSD 版の port 作者によるケアが必要になります。
	  そういったリリースに対し、
	  リリース日付を使ったラベルを付けたいという誘惑にかられることがあるでしょうが、
	  そうすると新しい<quote xmlns:xlink="http://www.w3.org/1999/xlink">オフィシャル</quote>リリースが行なわれた時に、
	  上の例で示したような問題が起きることでしょう。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">例えば、あるソフトウェアのスナップショットリリースが
	  20000917 に行なわれ、以前のバージョン番号が 1.2 だったとすると、
	  そのスナップショットの <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTVERSION</varname> には
	  20000917 ではなく 1.2.20000917 か何か、そのような番号を
	  指定するのが良いでしょう。
	  そうしておけば、例えばバージョン番号 1.3 として後続のリリースが
	  行なわれた場合にも、大小関係が崩されずにすむわけです。</para>
	</sect3>

	<sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTREVISION</varname> と
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTEPOCH</varname> の使い方の例</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">gtkmumble</literal> の port,
	  バージョン <literal xmlns:xlink="http://www.w3.org/1999/xlink">0.10</literal> が
	  ports collection にコミットされます。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">PORTNAME=       gtkmumble
PORTVERSION=    0.10</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGNAME</varname> は
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">gtkmumble-0.10</literal> になります。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">ローカルな FreeBSD パッチを必要とする
	  セキュリティホールが発見されました。
	  それに合わせて <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTREVISION</varname> を増やします。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">PORTNAME=       gtkmumble
PORTVERSION=    0.10
PORTREVISION=   1</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGNAME</varname> は
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">gtkmumble-0.10_1</literal> になります。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">ベンダから <literal xmlns:xlink="http://www.w3.org/1999/xlink">0.2</literal> という番号が振られた
	  新バージョンがリリースされます (これにより、
	  作者は <literal xmlns:xlink="http://www.w3.org/1999/xlink">0.10</literal> という番号を
	  <quote xmlns:xlink="http://www.w3.org/1999/xlink">0.9 の次という意味ではなく</quote>、
	  実際には <literal xmlns:xlink="http://www.w3.org/1999/xlink">0.1.0</literal> のつもりで
	  使用していたことがわかります - あらら、今さら遅すぎる)。
	  新しいマイナーバージョン <literal xmlns:xlink="http://www.w3.org/1999/xlink">2</literal>
	  は数字として以前のバージョン番号
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">10</literal> より小さいので、
	  強制的に新しい package <quote xmlns:xlink="http://www.w3.org/1999/xlink">の方が新しい</quote>と認識させるため
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTEPOCH</varname> を増やす必要があります。
	  これは新しいベンダーリリースなので、
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTREVISION</varname> は 0 にリセット
	  (または <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> から削除) されます。</para>

	 <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">PORTNAME=       gtkmumble
PORTVERSION=    0.2
PORTEPOCH=      1</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGNAME</varname> は
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">gtkmumble-0.2,1</literal> になります。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">次のリリースは 0.3 です。
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTEPOCH</varname> は減少することが無いため、
	  今度のバージョン変数は次のようになります:</para>

	 <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">PORTNAME=       gtkmumble
PORTVERSION=    0.3
PORTEPOCH=      1</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGNAME</varname> は
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">gtkmumble-0.3,1</literal> になります。</para>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">もし、このアップグレードによって
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTEPOCH</varname> が <literal xmlns:xlink="http://www.w3.org/1999/xlink">0</literal> に
	    リセットされたとすると、<literal xmlns:xlink="http://www.w3.org/1999/xlink">3</literal> は数字として
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">10</literal> よりも小さいため、
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">gtkmumble-0.10_1</literal>
	    の package をインストールした誰かは
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">gtkmumble-0.3</literal> の package
	    の方が新しいことに気がつかないことになるでしょう。
	    これが、そもそも <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTEPOCH</varname>
	    が導入された肝心な理由です。</para>
	</note>
	</sect3>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGNAMEPREFIX</varname> および
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGNAMESUFFIX</varname></title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">二つのオプション変数 <varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGNAMEPREFIX</varname> と
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGNAMESUFFIX</varname> は、
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTNAME</varname> および
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTVERSION</varname> と結合され、
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGNAME</varname> を
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">${PKGNAMEPREFIX}${PORTNAME}${PKGNAMESUFFIX}-${PORTVERSION}</literal>
	として定義します。
	この時、<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="porting-pkgname">適切な package 名を選ぶための
	ガイドライン</link>に沿っているかどうかを確認してください。
	特に、<varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTVERSION</varname> 中に
	ハイフン (<literal xmlns:xlink="http://www.w3.org/1999/xlink">-</literal>)
	を使用することは<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">禁止</emphasis>されています。
	また、package 名に
	<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">language-</replaceable> もしくは
	<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">-compiled.specifics</replaceable> 部分が
	含まれる場合、それぞれ <varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGNAMEPREFIX</varname> と
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGNAMESUFFIX</varname> を使用してください。
	これらを <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTNAME</varname> の一部としてはいけません。</para>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-pkgname">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">package 名についての規則</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">package の名前は以下のルールにしたがってつけてください。
	  これは package のディレクトリを見やすくするためで、
	  既に何千ものパッケージがありますし、
	  目を痛めてしまうようだとユーザはそっぽを向くでしょう。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">package の名前は以下のようにしてください。
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">言語-名前-オプションバージョン.番号</filename></para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">package 名は
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">${PKGNAMEPREFIX}${PORTNAME}${PKGNAMESUFFIX}-${PORTVERSION}</literal>
	  というように定義されています。
	  変数がこの書式と適合していることを確認してください。</para>

	<orderedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD
	      はユーザの慣れ親しんだ言語のサポートに力を入れています。
	      特定の言語のための port の package 名には
	      <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">言語-</replaceable> に ISO-639
	      で定義されている言語名の略称を入れてください。
	      たとえば日本語なら <literal xmlns:xlink="http://www.w3.org/1999/xlink">ja</literal>、
	      ロシア語なら <literal xmlns:xlink="http://www.w3.org/1999/xlink">ru</literal>、
	      ベトナム語なら <literal xmlns:xlink="http://www.w3.org/1999/xlink">vi</literal>、
	      中国語なら <literal xmlns:xlink="http://www.w3.org/1999/xlink">zh</literal>、
	      韓国語ならば <literal xmlns:xlink="http://www.w3.org/1999/xlink">ko</literal>、
	      ドイツ語なら <literal xmlns:xlink="http://www.w3.org/1999/xlink">de</literal>
	      といった具合です。</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">port がある言語地域に特化したものである場合には、
	      さらに二文字の国名コードを付加してください。
	      たとえば合衆国英語圏は <literal xmlns:xlink="http://www.w3.org/1999/xlink">en_US</literal> となり、
	      スイスのフランス語圏は <literal xmlns:xlink="http://www.w3.org/1999/xlink">fr_CH</literal> となります。</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">言語-</replaceable> 部分は、
	      <varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGNAMEPREFIX</varname> 変数に
	      定義されなければなりません。</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">名前</filename>の部分の最初の文字は
	      小文字でなければなりません。
	      (名前の残りの部分は大文字を含んでいても構わないため、
	      大文字を含んだソフトウェア名を変換する際の規則は、
	      あなた自身の裁量に任されています。)

	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">perl 5</literal> のモジュールでは先頭に
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">p5-</literal> を付け、
	      二重コロン (<literal xmlns:xlink="http://www.w3.org/1999/xlink">::</literal>)
	      のセパレータをハイフン
	      (<literal xmlns:xlink="http://www.w3.org/1999/xlink">-</literal>)
	      に置きかえる習慣になっています。
	      たとえば
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">Data::Dumper</literal> は
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">p5-Data-Dumper</literal> になります。
	      また、そのソフトウェアの名前として通常使われるものに番号、
	      ハイフン、あるいは下線が入っている場合には、
	      それらを使うことも構いません
	      (<literal xmlns:xlink="http://www.w3.org/1999/xlink">kinput2</literal>など)。</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">コンパイル時に環境変数や
	      <command xmlns:xlink="http://www.w3.org/1999/xlink">make</command> の引数などで<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="porting-masterdir">ハードコードされたデフォルト</link>を変えてコンパイルできる場合、
	      <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">-compiled.specifics</replaceable>
	      にそのコンパイル時のデフォルトを入れてください
	      (ハイフンはあってもなくてもかまいません)。
	      用紙のサイズ、あるいはフォントの解像度などがこれにあたります。</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">-compiled.specifics</replaceable> 部分は、
	      <varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGNAMESUFFIX</varname> 変数に定義されなければなりません。</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">バージョン番号は数字とアルファベットからなり、
	      ピリオド (.) で区切ります。
	      アルファベットは二文字以上続けてはいけません。
	      唯一の例外は<quote xmlns:xlink="http://www.w3.org/1999/xlink">パッチレベル</quote>を意味する文字列
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">pl</literal> で、
	      それ以外にバージョン番号がまったくついていない場合にのみ使うことができます。
	      もしソフトウェアのバージョンに
	      <quote xmlns:xlink="http://www.w3.org/1999/xlink">alpha</quote>, <quote xmlns:xlink="http://www.w3.org/1999/xlink">beta</quote>, <quote xmlns:xlink="http://www.w3.org/1999/xlink">rc</quote>
	      や <quote xmlns:xlink="http://www.w3.org/1999/xlink">pre</quote> といった文字列が含まれるなら、
	      ピリオドの後に最初の一文字をとってください。
	      これらの後に、さらにバージョン文字列が続く場合には、
	      一文字のアルファベットの後にピリオドをつけずに番号を続けます。</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">この考え方は、
	      バージョン文字列を見て簡単に ports を並べられるようにするためのものです。
	      特に、バージョン番号の各部分が必ずピリオドで区切られていること、
	      また日付の部分がバージョン文字列の一部となっている場合には

	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">yyyy.mm.dd</literal>

	      という書式を使っていることを確認してください。

	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">dd.mm.yyyy</literal>

	      や、2000 年問題に対応していない

	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">yy.mm.dd</literal>

	      という書式を使ってはいけません。</para>
	  </listitem>
	</orderedlist>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">では、<varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTNAME</varname>を正しい
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGNAME</varname>
	  に直す例を見てみましょう:</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">以下は、ソフトウェアの作者が決めた名前から
	  適切な package 名に変換する方法を示した (実際の) 例です。</para>

	<informaltable xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="6">
	    <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">配布名</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGNAMEPREFIX</varname></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTNAME</varname></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGNAMESUFFIX</varname></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTVERSION</varname></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">理由</entry>
	      </row>
	    </thead>

	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">mule-2.2.2</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">(空)</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">mule</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">(空)</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">2.2.2</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">変更の必要はありません</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">XFree86-3.3.6</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">(空)</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">XFree86</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">(空)</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">3.3.6</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">変更の必要はありません</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">EmiClock-1.0.2</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">(空)</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">emiclock</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">(空)</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">1.0.2</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">プログラム一つだけの時は小文字のみ</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">rdist-1.3alpha</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">(空)</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">rdist</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">(空)</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">1.3.a</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">alpha</literal> のような文字列は使えない</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">es-0.9-beta1</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">(空)</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">es</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">(空)</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">0.9.b1</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">alpha</literal> のような文字列は使えない</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">mailman-2.0rc3</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">(空)</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">mailman</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">(空)</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">2.0.r3</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">rc</literal> のような文字列は使えない</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">v3.3beta021.src</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">(空)</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">tiff</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">(空)</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">3.3</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">なんなんでしょう ;)</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">tvtwm</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">(空)</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">tvtwm</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">(空)</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">pl11</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">バージョン番号は必ず必要</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">piewm</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">(空)</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">piewm</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">(空)</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">1.0</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">同上</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">xvgr-2.10pl1</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">(空)</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">xvgr</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">(空)</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">2.10.1</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">pl</literal> が使えるのは、
		  他にメジャー/マイナーバージョン番号がない場合のみ</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">gawk-2.15.6</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">ja-</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">gawk</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">(空)</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">2.15.6</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">日本語バージョン</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">psutils-1.13</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">(空)</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">psutils</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">-letter</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">1.13</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">コンパイル時に用紙のサイズを指定</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">pkfonts</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">(空)</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">pkfonts</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">300</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">1.0</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">300dpiフォント用の package</entry>
	      </row>
	    </tbody>
	  </tgroup>
	</informaltable>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">オリジナルのソースにまったくバージョン情報が見当たらず、
	  また原作者が新しいバージョンをリリースする可能性が低いときには、
	  バージョン番号として
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">1.0</literal> を使えばいいでしょう
	  (上記の <literal xmlns:xlink="http://www.w3.org/1999/xlink">piewm</literal> の例がこれにあたります)。
	  そうでない場合には原作者に聞くか、日付
	  (<literal xmlns:xlink="http://www.w3.org/1999/xlink">yyyy.mm.dd</literal>)
	  を使うなどしてください。</para>
      </sect2>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="makefile-categories">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">カテゴリ分類</title>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">CATEGORIES</varname></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">パッケージが作成されると
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/ports/packages/All</filename> に置かれ、一つ以上の
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/ports/packages</filename>
	  のサブディレクトリからリンクが張られます。
	  これらのサブディレクトリの名称は、<varname xmlns:xlink="http://www.w3.org/1999/xlink">CATEGORIES</varname>
	  変数で指定されます。これは、ユーザが FTP サイトや CDROM
	  のパッケージの山から探し出すのを容易にするためのものです。
	  既存の<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="porting-categories">カテゴリ</link>を参照して、
	  あなたの port にふさわしいものを選んでください。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">また、このリストは、その port が
	  ports ツリーのどこにインポートされるかも決定します。
	  ここに複数のカテゴリを指定すると、port
	  のファイルは最初のカテゴリ名のサブディレクトリに置かれることになります。
	  適切なカテゴリの選択方法については<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="porting-categories">カテゴリ</link>節をご覧ください。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">あなたが作成した port
	  が、本当に既存のどのカテゴリにも当てはまらない場合には、
	  新たにカテゴリ名を作成することもできます。
	  その場合、新しいカテゴリを提案するメールを <link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-ports">FreeBSD ports メーリングリスト</link>
	  宛に送ってください。
	  しかし、一般的にはあなたが提案したカテゴリにあてはまる ports
	  が一握りではすまない場合でなければ、
	  あなたの提案は却下されるでしょう。</para>

	<note xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">時々、カテゴリを 2 階層構造や、
	  何か他のキーワードを利用した構造に再構成することを提案する人がいます。
	  今日まで、その提案はどれも実現しませんでした。
	  なぜなら、その構成を実現することは簡単なのですが、既存の Ports
	  Collection 全体を構成しなおしたものに合わせて改修する労力は、
	  控え目にいっても気が遠くなるものだからです。
	  こういうアイディアを送る前に、
	  それらの提案の歴史をメーリングリストのアーカイブで調べてください。
	  さらに、動作するプロトタイプを示せと言われるのに対する準備をしておきましょう。</para></note>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-categories">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">現在のカテゴリのリスト</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">ここに現在の port のカテゴリの一覧を示します。
	  アスタリスク(<literal xmlns:xlink="http://www.w3.org/1999/xlink">*</literal>)
	  が付いているものは仮想 (<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">virtual</emphasis>)
	  カテゴリです ―
	  これらには対応するサブディレクトリが
	<!-- kuriyama - don't use " - - " as literal -->
	  port ツリーにはありません。
	  これらは第 2 の補助的なカテゴリとして、
	  検索目的にしか使われません。</para>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">仮想カテゴリでないものは、
	  そのサブディレクトリ内の
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg/COMMENT</filename>
	  に一行の記述があります
	  (例: <filename xmlns:xlink="http://www.w3.org/1999/xlink">archivers/pkg/COMMENT</filename>)。</para>
	</note>

	<informaltable xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="3">
	    <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">カテゴリ</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">説明</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Notes</entry>
	      </row>
	    </thead>

	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">accessibility</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">障害を持ったユーザの役に立つ ports</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">afterstep*</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.afterstep.org">AfterStep</link>
		  ウィンドウマネージャをサポートする ports</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">arabic</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">アラビア語サポート</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">archivers</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">アーカイブ用ツール</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">astro</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">天文学関連の ports</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">audio</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">サウンドをサポートする ports</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">benchmarks</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">ベンチマークユーティリティ</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">biology</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">生物学関連のソフトウェア</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">cad</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">CAD ツール</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">chinese</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">中国語サポート</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">comms</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">通信ソフトウェア</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">ほとんどはシリアルポート用のソフトウェア</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">converters</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">文字コード変換</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">databases</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">データベース</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">deskutils</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">コンピュータが発明される以前に机上で使われていた道具</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">(訳注: いわゆるデスクトップユーティリティのこと)</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">devel</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">開発ユーティリティ</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">単にライブラリだからというだけで、
		  どうしてもここに置かなければならない理由があるのでない限り、
		  ライブラリをここに含めないでください。</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">dns</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">DNS 関連ソフトウェア</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">editors</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">一般的なエディタ</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">特殊なエディタはそれぞれふさわしいセクションに入れます
		  (たとえば数式エディタは
		  <filename xmlns:xlink="http://www.w3.org/1999/xlink">math</filename> です)。</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">elisp</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Emacs-lisp の ports</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">emulators</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">他のオペレーティングシステム用のエミュレータ</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">端末エミュレータはここに<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">含まれません</emphasis>
		  ― X ベースのものは <filename xmlns:xlink="http://www.w3.org/1999/xlink">x11</filename> に、
		  テキストベースのものは機能によって
		  <filename xmlns:xlink="http://www.w3.org/1999/xlink">comms</filename> か
		  <filename xmlns:xlink="http://www.w3.org/1999/xlink">misc</filename> に分類されます。</entry>
	      </row>

 	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">finance</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">金融や財務会計関連のアプリケーション。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">french</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">フランス語サポート</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">ftp</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">FTP クライアントとサーバユーティリティ</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">port が FTP と HTTP の両方に対応していれば、
		  <filename xmlns:xlink="http://www.w3.org/1999/xlink">ftp</filename> に入れ、第 2 カテゴリを
		  <filename xmlns:xlink="http://www.w3.org/1999/xlink">www</filename> とします。</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">games</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">ゲーム</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">german</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">ドイツ語サポート</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">gnome*</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.gnome.org">GNOME</link>
		  プロジェクトの ports</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">graphics</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">グラフィックユーティリティ</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">haskell*</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Haskell 言語関連のソフトウェア。</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
              </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">hebrew</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">ヘブライ語サポート</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
                <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">hungarian</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">ハンガリー語サポート</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">ipv6*</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">IPv6 関連のソフトウェア</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">irc</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">インターネットリレーチャット (IRC)
		  用ユーティリティ</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">japanese</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">日本語サポート</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">java</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Java 言語関連のソフトウェア</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">kde*</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.kde.org">K Desktop
		  Environment (kde)</link> プロジェクトの
		  ports</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">korean</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">韓国語サポート</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">lang</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">プログラミング言語</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">linux*</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Linux アプリケーションとサポートユーティリティ</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">lisp*</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Lisp 言語関連のソフトウェア</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">mail</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">メールソフトウェア</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">math</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">数値計算ソフトウェアやその他の数学ソフトウェア</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">mbone</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">MBone アプリケーション</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">misc</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">種々のユーティリティ</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">基本的に他のカテゴリに属さないものです。
		  これは他の仮想でないカテゴリを伴わない、唯一のカテゴリです。
		  <literal xmlns:xlink="http://www.w3.org/1999/xlink">misc</literal> と他のカテゴリが
		  <varname xmlns:xlink="http://www.w3.org/1999/xlink">CATEGORIES</varname> 行に書かれている場合、
		  <literal xmlns:xlink="http://www.w3.org/1999/xlink">misc</literal>
		  を削除して他のサブディレクトリにおいて良いという意味になります。
		  このカテゴリに置かれた ports は見落とされやすいので、
		  可能な限り <literal xmlns:xlink="http://www.w3.org/1999/xlink">misc</literal>
		  よりふさわしいカテゴリを探してください。</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">multimedia</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">マルチメディアソフトウェア</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">net</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">種々のネットワークソフトウェア</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">net-mgmt</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">ネットワーク管理ソフトウェア</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">news</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">USENET ニュースソフトウェア</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">offix*</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://leb.net/OffiX/">OffiX</link>
		  suite の ports</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">palm</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.palm.com/">Palm™</link>
		  シリーズをサポートするソフトウェア</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">parallel*</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">並列計算を行うアプリケーション</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">pear*</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">Pear PHP フレームワーク関連の ports</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">perl5*</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">実行に <application xmlns:xlink="http://www.w3.org/1999/xlink">Perl</application>
		  バージョン 5 を必要とする ports</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">picobsd</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://people.FreeBSD.org/~picobsd/">PicoBSD</link>
		  をサポートするための ports</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">plan9*</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.cs.bell-labs.com/plan9dist/">Plan9</link>
		  に由来するさまざまなソフトウェア</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">polish</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">ポーランド語サポート</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">portuguese</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">ポルトガル語サポート</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">print</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">印刷ソフトウェア</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">DTP 用ツール (プレビューアなど)
		  もここに分類されます。</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">python*</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.python.org/">Python</link>
		  言語関連のソフトウェア</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">ruby*</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.ruby-lang.org/">Ruby</link>
		  言語関連のソフトウェア</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">russian</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">ロシア語サポート</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">science</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">astro</filename> や
		  <filename xmlns:xlink="http://www.w3.org/1999/xlink">biology</filename>,
		  <filename xmlns:xlink="http://www.w3.org/1999/xlink">math</filename> 等、
		  他のカテゴリにはあてはまらない科学関連の ports</entry>
 		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">security</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">セキュリティ関連のユーティリティ</entry>
 		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">shells</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">コマンドラインシェル</entry>
 		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">sysutils</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">システムユーティリティ</entry>
 		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">tcl76*</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">実行に Tcl バージョン 7.6 を必要とする ports</entry>
 		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">tcl80*</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">実行に Tcl バージョン 8.0 を必要とする ports</entry>
 		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">tcl81*</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">実行に Tcl バージョン 8.1 を必要とする ports</entry>
 		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">tcl82*</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">実行に Tcl バージョン 8.2 を必要とする ports</entry>
 		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">tcl83*</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">実行に Tcl バージョン 8.3 を必要とする ports</entry>
 		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">textproc</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">テキスト処理ユーティリティ</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">DTP ツールはここではなく、<filename xmlns:xlink="http://www.w3.org/1999/xlink">print</filename>
		  に分類されます。</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">tk42*</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">実行に Tk バージョン 4.2 を必要とする ports</entry>
 		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">tk80*</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">実行に Tk バージョン 8.0 を必要とする ports</entry>
 		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">tk81*</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">実行に Tk バージョン 8.1 を必要とする ports</entry>
 		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">tk82*</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">実行に Tk バージョン 8.2 を必要とする ports</entry>
 		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">tk83*</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">実行に Tk バージョン 8.3 を必要とする ports</entry>
 		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">tkstep80*</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">実行に TkSTEP バージョン 8.0 を必要とする ports</entry>
 		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">ukrainian</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">ウクライナ語サポート</entry>
 		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">vietnamese</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">ベトナム語サポート</entry>
 		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">windowmaker*</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">WindowMaker ウィンドウマネージャをサポートする ports</entry>
 		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">www</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">World Wide Web 関連のソフトウェア</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">HTML 言語サポートもここに分類されます。</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">x11</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">X ウィンドウシステムとその関連ソフトウェア</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">このカテゴリは、
		  直接ウィンドウシステムをサポートするソフトウェアのみを対象とするものです。
		  通常の X アプリケーションをここに分類しないでください。
		  ほとんどは他の <filename xmlns:xlink="http://www.w3.org/1999/xlink">x11-*</filename> カテゴリ
		  (下記参照) に分類されるべきです。
		  あなたの port が X アプリケーションで、
		  <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_XLIB</varname> を定義し
		  (<varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_IMAKE</varname>
		  を定義すると自動的に定義されます)、
		  適切なカテゴリに分類してください。</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">x11-clocks</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">X11 用時計</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">x11-fm</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">X11 用ファイルマネージャ</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">x11-fonts</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">X11 フォントとフォントユーティリティ</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">x11-servers</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">X11 サーバ</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">x11-toolkits</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">X11 ツールキット</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">x11-wm</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">X11 ウィンドウマネージャ</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">zope*</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.zope.org/">Zope</link>
		  サポート</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
	      </row>
	    </tbody>
	  </tgroup>
	</informaltable>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">適切なカテゴリの選択</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">多くのカテゴリに重なるので、
	  どれを<quote xmlns:xlink="http://www.w3.org/1999/xlink">第一</quote>カテゴリにするかを決めなければならないことがたびたびあるでしょう。
	  これをうまく決めるルールがいくつかあります。
	  以下はその優先順のリストで、優先度の高いものから低いものの順に書いてあります。</para>

	<itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">言語特有のカテゴリがまず最初です。
	      たとえば日本語の
	      X11 のフォントをインストールする port の場合、
	      <varname xmlns:xlink="http://www.w3.org/1999/xlink">CATEGORIES</varname> 行は
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">japanese x11-fonts</filename>
	      となるでしょう。</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">より特徴的なカテゴリが、
	      一般的なカテゴリより優先されます。
	      たとえば、HTML エディタの場合は <filename xmlns:xlink="http://www.w3.org/1999/xlink">www editors</filename> となります。
	      これを逆順にはしないでください。
	      また、
	      port が <filename xmlns:xlink="http://www.w3.org/1999/xlink">irc</filename>,
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">mail</filename>,
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">mbone</filename>,
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">news</filename>,
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">security</filename>,
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">www</filename>
	      のいずれかに属する場合には <filename xmlns:xlink="http://www.w3.org/1999/xlink">net</filename>
	      は暗黙のうちに含まれますので、入れるべきではありません。</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">x11</filename>
	      を第二カテゴリにするのは第一カテゴリが自然言語の場合のみにしてください。
	      特に X のアプリケーションには
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">x11</filename> を指定しないでください。</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Emacs</application> のモードは、
	      そのモードで対応しているアプリケーションと同じ
	      ports カテゴリに置くようにして、
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">editors</filename> には置かないでください。
	      例えば、あるプログラミング言語のソースファイルを編集するための
	      <application xmlns:xlink="http://www.w3.org/1999/xlink">Emacs</application> モードは、
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">lang</filename> に置くべきです。</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">もし、あなたの port が他のどのカテゴリにも属しない場合には
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">misc</filename> にしてください。</para>
	  </listitem>
	</itemizedlist>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">もし、あなたがカテゴリについて自信が持てない場合には、
	  そのことを <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">send-pr</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> する時に書き加えてください。
	  そうすればインポートする前にそれについて議論できます
	  (もしあなたがコミッターであれば、
	  そのことを <link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-ports">FreeBSD ports メーリングリスト</link> に送って先に議論するようにしてください。
	  新しい port が間違ったカテゴリに import されて、
	  すぐ移動されることがあまりに多いのです。そうなると、
	  ソースリポジトリのマスターが不要で好ましくない膨れ方をしてしまいます。</para>
      </sect2>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="makefile-distfiles">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">配布ファイル</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> の第二の部分では、
	その port をビルドするためにダウンロードしなければならないファイルと、
	それをどこからダウンロードできるか説明しています。</para>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTNAME</varname></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTNAME</varname>
	  は製作者が決めたソフトウェアの名前です。
	  デフォルトでは <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTNAME</varname> は
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">${PORTNAME}-${PORTVERSION}</literal> になりますので、
	  必要にな場合だけ書き換えるようにしてください。
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTNAME</varname> は二つの場所でしか使われません。
	  一つ目は配布ファイルリスト (<varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES</varname>) のデフォルト
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">${DISTNAME}</varname><varname xmlns:xlink="http://www.w3.org/1999/xlink">${EXTRACT_SUFX}</varname>
	  で、二つ目は配布ファイルが展開されるサブディレクトリ
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">WRKSRC</varname> のデフォルト
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">work/${DISTNAME}</filename>
	  です。</para>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGNAMEPREFIX</varname> や
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGNAMESUFFIX</varname> は
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTNAME</varname> に影響を与えません。
	    また、元のソースアーカイブが
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">${PORTNAME}-${PORTVERSION}${EXTRACT_SUFX}</varname> という
	    名前ではないのに、<varname xmlns:xlink="http://www.w3.org/1999/xlink">WRKSRC</varname> を
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">work/${PORTNAME}-${PORTVERSION}</filename>
	    と設定しているなら、おそらく <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTNAME</varname>
	    はそのままにしておく必要があることに注意してください ―
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTNAME</varname> と <varname xmlns:xlink="http://www.w3.org/1999/xlink">WRKSRC</varname>
	    の両方を (そして おそらく <varname xmlns:xlink="http://www.w3.org/1999/xlink">EXTRACT_SUFX</varname> も)
	    セットするよりは、<varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES</varname>
	    を定義する方が楽でしょう。</para>
	</note>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES</varname></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">元になる配布ファイルを指し示す、FTP/HTTP の URL のファイル名を除いた部分を
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES</varname> に設定します。
	  最後にスラッシュ (<filename xmlns:xlink="http://www.w3.org/1999/xlink">/</filename>)
	  をつけることをお忘れなく!</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">このシステム上に配布ファイルが見つからなかった場合、
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">make</command> マクロは <varname xmlns:xlink="http://www.w3.org/1999/xlink">FETCH</varname>
	  を使ってこの変数に指定されたサイトから配布ファイルを取得しようとします。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">このリストには、
	  できれば異なる大陸に存在する複数のサイトを入れておくことが推奨されています。
	  これにより、広域ネットワークのトラブルに対する耐性を高めることができます。
	  さらに私たちは、自動的に最も近いマスタサイトを判断して、
	  そこから取ってくるメカニズムの導入を計画しています。
	  複数のサイトがあれば、この取組を大きく助けることになります。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">元になる tar ファイルが X-contrib や GNU, Perl CPAN
	  等の有名なアーカイブサイトに置かれている場合には、
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">*</replaceable></varname>
	  を使ってこれらのサイトを簡潔に
	  (例えば <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_XCONTRIB</varname> とか、
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_PERL_CPAN</varname> のように) 指定することができます。
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES</varname> を これらの変数の一つにセットし、
	  サイト内でのパスを <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_SUBDIR</varname>
	  に指定するだけです。
	  以下に例を示します。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES=         ${MASTER_SITE_XCONTRIB}
MASTER_SITE_SUBDIR=   applications</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">これらの変数は <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/ports/Mk/bsd.sites.mk</filename>
	  で定義されています。
	  いつでも新しい項目が追加されて行きますので、
	  port を提出する前に このファイルの最新版を
	  チェックするように心掛けてください。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">ユーザは <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/make.conf</filename> 中で
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_*</varname> 変数を上書きすることもできます。
	  そうすることで、これらの有名なアーカイブそのものではなく、
	  好みのミラーサイトを使用することができます。</para>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">EXTRACT_SUFX</varname></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">配布ファイルが 1 つで、
	  圧縮方式を示すのに普通と異なる接尾辞を使っていたら、
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">EXTRACT_SUFX</varname> を設定してください。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">例えば、配布ファイルがより一般的な
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">foo.tar.gz</filename> ではなく、
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">foo.tgz</filename> となっていたら、
	  次のように書きます。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">DISTNAME=      foo
EXTRACT_SUFX=  .tgz</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_BZIP2</varname> と <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_ZIP</varname>
	  変数を設定すると、<varname xmlns:xlink="http://www.w3.org/1999/xlink">EXTRACT_SUFX</varname>
	  は必要に応じて自動的に <literal xmlns:xlink="http://www.w3.org/1999/xlink">.bz2</literal>
	  または <literal xmlns:xlink="http://www.w3.org/1999/xlink">.zip</literal> に設定されます。
	  どちらも設定されていなければ、<varname xmlns:xlink="http://www.w3.org/1999/xlink">EXTRACT_SUFX</varname>
	  は <literal xmlns:xlink="http://www.w3.org/1999/xlink">.tar.gz</literal> に設定されます。</para>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">EXTRACT_SUFX</varname> と
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES</varname>
	    を両方設定する必要はありません。</para>
	</note>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES</varname></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">時々、ダウンロードするファイルの名称が port
	  の名称とまったく似ていないことがあります。たとえば、
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">source.tar.gz</filename>
	  などと名づけられていることもあるでしょう。
	  ほかに、ソースコードがいくつかのアーカイブに分かれていて、
	  そのすべてをダウンロードしなければならないならないこともあります。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">この場合、<varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES</varname>
	  に、ダウンロードしなければならないファイルすべてのリストを、
	  スペースで区切って設定してください。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES=     source1.tar.gz source2.tar.gz</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">明示的に設定されていない場合、
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES</varname> は
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">${DISTNAME}${EXTRACT_SUFX}</literal>
	  に設定されます。</para>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">EXTRACT_ONLY</varname></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES</varname> の一部だけを展開すべき
	  (例えば、一方がソースコードで、もう一方は圧縮されていない文書という)
	  場合、展開しなければならないファイル名を
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">EXTRACT_ONLY</varname> に設定してください。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES=     source.tar.gz manual.html
EXTRACT_ONLY=  source.tar.gz</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">どの</emphasis> <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES</varname>
	  も展開すべきでは<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">ない</emphasis>なら、
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">EXTRACT_ONLY</varname>
	  に空文字列を設定してください。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">EXTRACT_ONLY=</programlisting>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-patchfiles">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PATCHFILES</varname></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">その port が配布ファイルの他に FTP や HTTP
	  で手に入る追加パッチを必要とする場合には、
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PATCHFILES</varname> にはそのパッチのファイル名を、
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PATCH_SITES</varname>
	  にはそのファイルが置かれているディレクトリの URL
	  をセットしてください。(書き方は
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES</varname> と同じです。)</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">そのパッチに記録されているファイル名に余計なパス名がついていて、
	  ソースツリーのトップディレクトリ
	  (つまり <varname xmlns:xlink="http://www.w3.org/1999/xlink">WKRSRC</varname>)
	  からの相対パスになっていない場合には、
	  それに応じた <varname xmlns:xlink="http://www.w3.org/1999/xlink">PATCH_DIST_STRIP</varname> を指定してください。
	  たとえば、パッチ内のすべてのファイル名の先頭に、余計な
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">foozolix-1.0/</literal> がついている場合には、
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">PATCH_DIST_STRIP=-p1</literal>
	  としてください。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">これらのパッチは圧縮されていても大丈夫です。
	  ファイル名が <filename xmlns:xlink="http://www.w3.org/1999/xlink">.gz</filename> や <filename xmlns:xlink="http://www.w3.org/1999/xlink">.Z</filename>
	  で終わる場合には、自動的に展開されるようになっています。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">もしパッチが、ドキュメント等その他のファイルと一緒に
	  gzip された tar ファイルで配布されている場合には、単に
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PATCHFILES</varname> を使うだけではうまくいきません。
	  このような場合には、このパッチの tar ファイルの名前と場所を
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES</varname> と
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES</varname> に追加しておきます。
	  それから、<varname xmlns:xlink="http://www.w3.org/1999/xlink">EXTRA_PATCHES</varname>
	  変数にそれらのパッチを指定すれば、
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.mk</filename> が
	  自動的にパッチを適用してくれます。
	  特に注意が必要なのは、パッチファイルを
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PATCHDIR</varname>
	  ディレクトリにコピー<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">してはならない</emphasis>ことです
	  ― (訳注: port が CD-ROM 上に置かれている等の場合には、)
	  そのディレクトリには書き込みができないかもしれません。</para>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">それが普通の gzip か compress された tar ファイルであれば、
	    通常のソースファイルと一緒にパッチ適用時までに展開されていますので、
	    明示的に展開する必要はありません。
	    もしパッチを <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES</varname>
	    に追加した場合には、パッチを含むファイルが展開される際に、
	    そのディレクトリにある何かを上書きしないように注意してください。
	    さらに、コピーされたパッチファイルを削除するコマンドを
	    <buildtarget>pre-clean</buildtarget>
	    ターゲットに追加することを忘れないでください。</para>
	</note>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-master-sites-n">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">異なるサイトやサブディレクトリからの複数の配布ファイルまたはパッチ
	  (<literal xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES:n</literal>)</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">(これはいささか<quote xmlns:xlink="http://www.w3.org/1999/xlink">高度な話題</quote>です。
	  この文書を初めて読む人は、
	  最初はこの節を飛ばしてもよいでしょう)。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">この節は <literal xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES:n</literal> や
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES_NN</literal>
	  と呼ばれる取得方法について説明しています。
	  ここでは、この方式を <literal xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES:n</literal>
	  と呼びます。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">まず、背景を少し説明しておきましょう。OpenBSD
	  には、<varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES</varname> と
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PATCHFILES</varname>
	  変数の両方に素敵な機能があります。ファイル、パッチの両方とも、
	  後ろに <literal xmlns:xlink="http://www.w3.org/1999/xlink">:n</literal> (<literal xmlns:xlink="http://www.w3.org/1999/xlink">n</literal>
	  は <literal xmlns:xlink="http://www.w3.org/1999/xlink">[0-9]</literal> のどれかになります)
	  をつけてグループを指示できます。たとえば、</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES=      alpha:0 beta:1</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">OpenBSD では、配布ファイル <filename xmlns:xlink="http://www.w3.org/1999/xlink">alpha</filename>
	  は、通常の <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES</varname> ではなく
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES0</varname> に、
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">beta</filename> は <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES1</varname>
	  に結び付けられます。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">これは、正しいダウンロードサイトを際限なく探す羽目になるのを減らせる、
	  興味深い機能です。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES</varname> にファイルが
	  2 つ指定され、<varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES</varname> が
	  20 サイトあって、サイトはものすごく遅く、
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">beta</filename> は <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES</varname>
	  中のすべてのサイトに置かれていますが、
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">alpha</filename> は
	  20 番目のサイトにしかないという場合を考えてください。
	  メンテナがあらかじめそのことを知っていたら、
	  すべてのサイトを確認するのは無駄だと思いませんか?
	  楽しい週末のはじまりというわけにはゆきませんね。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">イメージできたら、今度は <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES</varname>
	  や <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES</varname>
	  がもっと沢山あるのを想像してください。
	  <quote xmlns:xlink="http://www.w3.org/1999/xlink">distfiles 調査マイスタ</quote>は、
	  ネットワーク負荷が緩和されることを喜ぶに違いありません。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">次節からは、FreeBSD におけるこのアイディアの実装について説明します。
	  OpenBSD の考え方を多少改良しています。</para>

	<sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">簡単な説明</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">この節では、複数の配布ファイルやパッチを、
	    異なるサイトやサブディレクトリから細かく分けて取得する簡単な設定を示します。
	    ここでは、単純化した <literal xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES:n</literal>
	    の使い方を説明します。ほとんどの場面ではこれで十分です。
	    さらに詳しいことを知りたければ、次の節をお読みください。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">アプリケーションによっては、
	    いくつもの異なるサイトからダウンロードする複数の配布ファイルからなっているものがあります。
	    たとえば、<application xmlns:xlink="http://www.w3.org/1999/xlink">Ghostscript</application>
	    は、中核部のプログラムと、
	    ユーザのプリンタに応じて使い分けられる多数のドライバファイルからなっています。
	    このドライバファイルの一部は中核部と共に配布されますが、
	    多くはさまざまなサイトからダウンロードしなければなりません。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">これに対応するため、<varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES</varname>
	    の各項目の後ろには、コロンと<quote xmlns:xlink="http://www.w3.org/1999/xlink">タグ名</quote>
	    をつけられるようになっています。<varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES</varname>
	    に設定されているそれぞれのサイトの末尾にも、コロンと、
	    そのサイトからダウンロードすべきファイルを示すためのタグを加えます。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">たとえば、ソースコードが
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">source1.tar.gz</filename> と
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">source2.tar.gz</filename> の
	    2 つに分けられていて、
	    2 つの別のサイトからダウンロードしなければならないアプリケーションを考えてみましょう。
	    その port の <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>
	    には、<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="ports-master-sites-n-example-simple-use-one-file-per-site"/>
	    のような行があるとします。</para>

	  <example xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ports-master-sites-n-example-simple-use-one-file-per-site">
	    <title xmlns:xlink="http://www.w3.org/1999/xlink">各サイトに 1 つファイルがある場合の、簡単な
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES:n</literal> の使用法</title>

	    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES=   ftp://ftp.example1.com/:source1 \
                ftp://ftp.example2.com/:source2
DISTFILES=      source1.tar.gz:source1 \
                source2.tar.gz:source2</programlisting>
	  </example>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">複数の配布ファイルに同じタグがついていてもかまいません。
	  先ほどの例に続いて、3 番目の配布ファイル
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">source3.tar.gz</filename> があって、
	  <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">ftp.example2.com</systemitem> からダウンロードすべきだとしましょう。
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> は <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="ports-master-sites-n-example-simple-use-more-than-one-file-per-site"/>
	    のようになります。</para>

	  <example xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ports-master-sites-n-example-simple-use-more-than-one-file-per-site">
	    <title xmlns:xlink="http://www.w3.org/1999/xlink">各サイトに 1 つ以上ファイルがある場合の、簡単な
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES:n</literal> の使用法</title>

	    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES=   ftp://ftp.example1.com/:source1 \
                ftp://ftp.example2.com/:source2
DISTFILES=      source1.tar.gz:source1 \
                source2.tar.gz:source2 \
                source3.tar.gz:source2</programlisting>
	  </example>
	</sect3>

	<sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">詳しい説明</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">分かりました。
	    前節の例ではあなたの要求を満足できなかったわけですね。
	    この節では、ファイルの取得を細かく制御する仕組み
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES:n</literal>
	    がどう働くかと、これを利用するために
	    ports をどう変更すればよいかを詳しく説明します。</para>

	  <orderedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">要素の末尾に
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">:n</literal>
		をつけることができます。
		ここで、<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">n</replaceable> は
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">[^:,]+</literal>
		つまり、概念上はいかなる文字と数字からなる文字列でもよいのですが、
		われわれとしては、当面は
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">[a-zA-Z_][0-9a-zA-Z_]+</literal>
		に制限します。</para>

	      <para xmlns:xlink="http://www.w3.org/1999/xlink">さらに、文字列のマッチは大文字と小文字を区別します。
		つまり、<literal xmlns:xlink="http://www.w3.org/1999/xlink">n</literal> と <literal xmlns:xlink="http://www.w3.org/1999/xlink">N</literal>
		は別の文字として扱われます。</para>

	      <para xmlns:xlink="http://www.w3.org/1999/xlink">しかし、
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">default</literal>, <literal xmlns:xlink="http://www.w3.org/1999/xlink">all</literal>,
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">ALL</literal>
		は特別な意味を与えられているので、
		末尾に付加するのには使えません
		(これは、<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="porting-master-sites-n-what-changes-in-port-targets"/>
		項で内部的に利用されています)。
		さらに、<literal xmlns:xlink="http://www.w3.org/1999/xlink">DEFAULT</literal>
		は特別な意味を持つ単語です
		(<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="porting-master-sites-n-DEFAULT-group"/>
		の項を確認してください)。</para>
	    </listitem>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">:n</literal> がついた要素は、グループ
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">n</literal> に属し、
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">:m</literal> がついた要素は、グループ
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">m</literal>
		に属するということになります。</para>
	    </listitem>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-master-sites-n-DEFAULT-group">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">接尾辞がついていない要素はグループに属しません。
		これは、特別なグループ <literal xmlns:xlink="http://www.w3.org/1999/xlink">DEFAULT</literal>
		に属しているとして扱われます。
		要素の後ろに <literal xmlns:xlink="http://www.w3.org/1999/xlink">DEFAULT</literal>
		をつけるのは、その要素を <literal xmlns:xlink="http://www.w3.org/1999/xlink">DEFAULT</literal>
		とそれ以外のグループに同時に割り当てたいのでなければ、
		冗長に過ぎません
		(<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="porting-master-sites-n-comma-operator"/>
		の項を確認してください)。</para>

	      <para xmlns:xlink="http://www.w3.org/1999/xlink">次の例はどちらも同じ意味ですが、
		最初の方が好ましいです。</para>

	      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES=   alpha

MASTER_SITES=   alpha:DEFAULT</programlisting>
	    </listitem>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">グループは相互排他ではありません。
		ひとつの要素が同時に複数のグループに属することができ、
		ひとつのグループには複数の要素が属することも、
		何も割り当てないこともできます。
		同じグループで何回も指定された要素は、
		単に複数回指定された要素ということになります。</para>
	    </listitem>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-master-sites-n-comma-operator">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">ある要素を同時にいくつものグループに所属させたい時は、
		カンマ演算子 (<literal xmlns:xlink="http://www.w3.org/1999/xlink">,</literal>) が使えます。</para>

	      <para xmlns:xlink="http://www.w3.org/1999/xlink">その都度別の接尾辞をつけて繰り返すかわりに、
		一度だけ接尾辞を指定して複数のグループを指定できます。
		たとえば、<literal xmlns:xlink="http://www.w3.org/1999/xlink">:m,n,o</literal>
		と書くと、その要素はグループ <literal xmlns:xlink="http://www.w3.org/1999/xlink">m</literal>,
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">n</literal> および <literal xmlns:xlink="http://www.w3.org/1999/xlink">o</literal>
		に属することを示します。</para>

	      <para xmlns:xlink="http://www.w3.org/1999/xlink">以下の例はすべて同等ですが、
		最後の形式がもっともよいでしょう。</para>

	      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES=   alpha alpha:SOME_SITE

MASTER_SITES=   alpha:DEFAULT alpha:SOME_SITE

MASTER_SITES=   alpha:SOME_SITE,DEFAULT

MASTER_SITES=   alpha:DEFAULT,SOME_SITE</programlisting>
	    </listitem>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">任意のグループ内のサイトは、
		<varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SORT_AWK</varname>
		によって整列されます。
		<varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES</varname> と
		<varname xmlns:xlink="http://www.w3.org/1999/xlink">PATCH_SITES</varname>
		内のすべてのグループについても同様に整列されます。</para>
	    </listitem>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-master-sites-n-group-semantics">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">グループの概念は、変数
		<varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES</varname>,
		<varname xmlns:xlink="http://www.w3.org/1999/xlink">PATCH_SITES</varname>,
		<varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_SUBDIR</varname>,
		<varname xmlns:xlink="http://www.w3.org/1999/xlink">PATCH_SITE_SUBDIR</varname>,
		<varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES</varname> および
		<varname xmlns:xlink="http://www.w3.org/1999/xlink">PATCHFILES</varname>
		においても、下記の文法に従って使えます。</para>

	      <orderedlist xmlns:xlink="http://www.w3.org/1999/xlink">
		<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		  <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES</varname>,
		    <varname xmlns:xlink="http://www.w3.org/1999/xlink">PATCH_SITES</varname>,
		    <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_SUBDIR</varname> および
		    <varname xmlns:xlink="http://www.w3.org/1999/xlink">PATCH_SITE_SUBDIR</varname>
		    のすべての要素はスラッシュ <literal xmlns:xlink="http://www.w3.org/1999/xlink">/</literal>
		    記号で終端されていなければなりません。
		    ある要素がどれかのグループに属しているなら、
		    グループの接尾辞
		    <literal xmlns:xlink="http://www.w3.org/1999/xlink">:n</literal>
		    は、終端記号 <literal xmlns:xlink="http://www.w3.org/1999/xlink">/</literal>
		    のすぐ後にこなければなりません。
		    <literal xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES:n</literal>
		    の仕組みでは、終端記号
		    <literal xmlns:xlink="http://www.w3.org/1999/xlink">/</literal> があることで、
		    <literal xmlns:xlink="http://www.w3.org/1999/xlink">:n</literal> が要素の有効な一部である場合と、
		    <literal xmlns:xlink="http://www.w3.org/1999/xlink">:n</literal> がグループ <literal xmlns:xlink="http://www.w3.org/1999/xlink">n</literal>
		    を示す場合の混同を避けることができます。
		    以前は、
		    <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_SUBDIR</varname> と
		    <varname xmlns:xlink="http://www.w3.org/1999/xlink">PATCH_SITE_SUBDIR</varname>
		    要素のいずれにおいても終端記号 <literal xmlns:xlink="http://www.w3.org/1999/xlink">/</literal>
		    は不要だったので、互換性を保つために、
		    接尾辞の直前の文字が <literal xmlns:xlink="http://www.w3.org/1999/xlink">/</literal>
		    でなければ、
		    要素の接尾辞が <literal xmlns:xlink="http://www.w3.org/1999/xlink">:n</literal> であっても、
		    グループの接尾語ではなく、
		    要素の有効な一部分として扱われます。
		    <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="ports-master-sites-n-example-detailed-use-master-site-subdir"/>
		    と <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="ports-master-sites-n-example-detailed-use-complete-example-master-sites"/>
		    の両方をご覧ください。</para>

		  <example xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ports-master-sites-n-example-detailed-use-master-site-subdir">
		    <title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_SUBDIR</varname> における
		      <literal xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES:n</literal> の詳細な使用法</title>

		    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_SUBDIR=     old:n new/:NEW</programlisting>

		    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
		      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			<para xmlns:xlink="http://www.w3.org/1999/xlink">グループ <literal xmlns:xlink="http://www.w3.org/1999/xlink">DEFAULT</literal>
			  に属するディレクトリ -&gt; old:n</para>
		      </listitem>

		      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			<para xmlns:xlink="http://www.w3.org/1999/xlink">グループ <literal xmlns:xlink="http://www.w3.org/1999/xlink">NEW</literal>
			  に属するディレクトリ -&gt; new</para>
		      </listitem>
		    </itemizedlist>
		  </example>

		  <example xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ports-master-sites-n-example-detailed-use-complete-example-master-sites">
		      <title xmlns:xlink="http://www.w3.org/1999/xlink">カンマ演算子、複数のファイル、複数のサイト、
			複数のサブディレクトリと合わせた
			<literal xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES:n</literal>
			の詳細な使用法</title>

		    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES=   http://site1/%SUBDIR%/ http://site2/:DEFAULT \
                http://site3/:group3 http://site4/:group4 \
                http://site5/:group5 http://site6/:group6 \
                http://site7/:DEFAULT,group6 \
                http://site8/%SUBDIR%/:group6,group7 \
                http://site9/:group8
DISTFILES=      file1 file2:DEFAULT file3:group3 \
                file4:group4,group5,group6 file5:grouping \
                file6:group7
MASTER_SITE_SUBDIR=     directory-trial:1 directory-n/:groupn \
                        directory-one/:group6,DEFAULT \
                        directory</programlisting>

		    <para xmlns:xlink="http://www.w3.org/1999/xlink">上の例は、次のような細かく分けた取得を実現します。
		      サイトは、利用される順番で挙げられています。</para>

		    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
		      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">file1</filename>
			  は次のサイトから取得されます。</para>

			<itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_OVERRIDE</varname></para>
			  </listitem>

			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink">http://site1/directory/</para>
			  </listitem>

			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink">http://site1/directory-one/</para>
			  </listitem>

			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink">http://site1/directory-trial:1/</para>
			  </listitem>

			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink">http://site2/</para>
			  </listitem>

			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink">http://site7/</para>
			  </listitem>

			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_BACKUP</varname></para>
			  </listitem>
			</itemizedlist>
		      </listitem>

		      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">file2</filename>
			  は、<filename xmlns:xlink="http://www.w3.org/1999/xlink">file1</filename>
			  と同じグループに属しているので、
			  まったく同じように取得されます。</para>

			<itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_OVERRIDE</varname></para>
			  </listitem>

			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink">http://site1/directory/</para>
			  </listitem>

			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink">http://site1/directory-one/</para>
			  </listitem>

			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink">http://site1/directory-trial:1/</para>
			  </listitem>

			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink">http://site2/</para>
			  </listitem>

			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink">http://site7/</para>
			  </listitem>

			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_BACKUP</varname></para>
			  </listitem>
			</itemizedlist>
		      </listitem>

		      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">file3</filename>
			  は次のサイトから取得されます。</para>

			<itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_OVERRIDE</varname></para>
			  </listitem>

			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink">http://site3/</para>
			  </listitem>

			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_BACKUP</varname></para>
			  </listitem>
			</itemizedlist>
		      </listitem>

		      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">file4</filename>
			  は次のサイトから取得されます。</para>

			<itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_OVERRIDE</varname></para>
			  </listitem>

			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink">http://site4/</para>
			  </listitem>

			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink">http://site5/</para>
			  </listitem>

			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink">http://site6/</para>
			  </listitem>

			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink">http://site7/</para>
			  </listitem>

			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink">http://site8/directory-one/</para>
			  </listitem>

			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_BACKUP</varname></para>
			  </listitem>
			</itemizedlist>
		      </listitem>

		      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">file5</filename>
			  は次のサイトから取得されます。</para>

			<itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_OVERRIDE</varname></para>
			  </listitem>

			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_BACKUP</varname></para>
			  </listitem>
			</itemizedlist>
		      </listitem>

		      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">file6</filename>
			  は次のサイトから取得されます。</para>

			<itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_OVERRIDE</varname></para>
			  </listitem>

			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink">http://site8/directory-one/</para>
			  </listitem>

			  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
			    <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_BACKUP</varname></para>
			  </listitem>
			</itemizedlist>
		      </listitem>
		    </itemizedlist>
		  </example>
		</listitem>
	      </orderedlist>
	    </listitem>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_SOURCEFORGE</varname>
		のように、<filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.sites.mk</filename>
		で定義される特別な変数をグループに割り当てるにはどうすればよいですか?</para>

	      <para xmlns:xlink="http://www.w3.org/1999/xlink"><xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="ports-master-sites-n-example-detailed-use-master-site-sourceforge"/>
		をご覧ください。</para>

	      <example xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ports-master-sites-n-example-detailed-use-master-site-sourceforge">
		<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_SOURCEFORGE</varname>
		  と合わせた <literal xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES:n</literal>
		  の詳しい使用法</title>

		<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES=   http://site1/ ${MASTER_SITE_SOURCEFORGE:S/$/:sourceforge,TEST/}
DISTFILES=      something.tar.gz:sourceforge</programlisting>
	      </example>

	      <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">something.tar.gz</filename>
		は、<varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_SOURCEFORGE</varname>
		に含まれるあらゆるサイトから取得されます。</para>
	    </listitem>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">これを <varname xmlns:xlink="http://www.w3.org/1999/xlink">PATCH*</varname>
		変数と組み合わせて使うにはどうすればよいでしょうか?</para>

	      <para xmlns:xlink="http://www.w3.org/1999/xlink">すべての例で <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER*</varname>
		変数を使っていますが、<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="ports-master-sites-n-example-detailed-use-patch-sites"/>
		にあるように、<varname xmlns:xlink="http://www.w3.org/1999/xlink">PATCH*</varname>
		変数に対してもまったく同じように働きます。</para>

	      <example xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ports-master-sites-n-example-detailed-use-patch-sites">
		<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PATCH_SITES</varname> と合わせた
		  <literal xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES:n</literal> の簡単な使用法</title>

		<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">PATCH_SITES=    http://site1/ http://site2/:test
PATCHFILES=     patch1:test</programlisting>
	      </example>
	    </listitem>
	  </orderedlist>
	</sect3>

	<sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">ports
	    について何が変更され、何が変わらないのでしょうか?</title>

	  <orderedlist xmlns:xlink="http://www.w3.org/1999/xlink" numeration="lowerroman">
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">現在のすべての ports はそのまま変わりません。
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES:n</literal>
		機能のコードは、<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="porting-master-sites-n-group-semantics"/>
		で述べた文法に従う
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">:n</literal>
		のような形式が後ろについた要素がある場合だけ動作します。</para>
	    </listitem>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-master-sites-n-what-changes-in-port-targets">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">port を make する際のターゲットにも変更はありません。
		<buildtarget>checksum</buildtarget>,
		<buildtarget>makesum</buildtarget>,
		<buildtarget>patch</buildtarget>,
		<buildtarget>configure</buildtarget>,
		<buildtarget>build</buildtarget> 等です。
		もちろん、<buildtarget>do-fetch</buildtarget>,
		<buildtarget>fetch-list</buildtarget>,
		<buildtarget>master-sites</buildtarget> それから
		<buildtarget>patch-sites</buildtarget>
		は例外です。</para>

	      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
		<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		  <para xmlns:xlink="http://www.w3.org/1999/xlink"><buildtarget>do-fetch</buildtarget>
		    は、新しくグループ分けの接尾辞のついた
		    <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES</varname> と
		    <varname xmlns:xlink="http://www.w3.org/1999/xlink">PATCHFILES</varname>
		    を設定します。それぞれが、対応する
		    <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES</varname> と
		    <varname xmlns:xlink="http://www.w3.org/1999/xlink">PATCH_SITES</varname>
		    を利用し、さらに対応する
		    <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_SUBDIR</varname> と
		    <varname xmlns:xlink="http://www.w3.org/1999/xlink">PATCH_SITE_SUBDIR</varname>
		    を利用します。<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="ports-master-sites-n-example-detailed-use-complete-example-master-sites"/>
		    をご覧ください。</para>
		</listitem>

		<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		  <para xmlns:xlink="http://www.w3.org/1999/xlink"><buildtarget>fetch-list</buildtarget>
		    は、<buildtarget>do-fetch</buildtarget>
		    と同じようにグループを利用するということを除いて、以前の
		    <buildtarget>fetch-list</buildtarget>
		    のように動作します。</para>
		</listitem>

		<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		  <para xmlns:xlink="http://www.w3.org/1999/xlink"><buildtarget>master-sites</buildtarget> および
		    <buildtarget>patch-sites</buildtarget> は、
		    (古いバージョンと互換性がなくなり)
		    <literal xmlns:xlink="http://www.w3.org/1999/xlink">DEFAULT</literal>
		    グループの要素を返すだけになっています。
		    実際は、それぞれ
		    <buildtarget>master-sites-default</buildtarget> および
		    <buildtarget>patch-sites-default</buildtarget>
		    というターゲットを実行します。</para>

		  <para xmlns:xlink="http://www.w3.org/1999/xlink">さらに、
		    <buildtarget>MASTER_SITES</buildtarget> や
		    <buildtarget>PATCH_SITES</buildtarget>
		    を直接確認するよりも、
		    <buildtarget>master-sites-all</buildtarget> または
		    <buildtarget>patch-sites-all</buildtarget>
		    のどちらかのターゲットを使う方がよいです。
		    また、将来のバージョンでも直接確認ができるかどうかは保証されていません。
		    これら新規 port ターゲットについては、<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="porting-master-sites-n-new-port-targets-master-sites-all"/>
		    の項をご確認ください。</para>
		</listitem>

	      </itemizedlist>
	    </listitem>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">新規の port ターゲット</para>

	      <orderedlist xmlns:xlink="http://www.w3.org/1999/xlink">
		<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		  <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES</varname> および
		    <varname xmlns:xlink="http://www.w3.org/1999/xlink">PATCH_SITES</varname>
		    のそれぞれについて、
		    グループ <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">n</replaceable> の要素を表示する
		    <buildtarget>master-sites-<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">n</replaceable></buildtarget>
		    および
		    <buildtarget>patch-sites-<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">n</replaceable></buildtarget>
		    ターゲットがあります。たとえば、
		    <buildtarget>master-sites-DEFAULT</buildtarget> および
		    <buildtarget>patch-sites-DEFAULT</buildtarget>
		    のいずれも <literal xmlns:xlink="http://www.w3.org/1999/xlink">DEFAULT</literal>
		    グループの要素を返し、
		    <buildtarget>master-sites-test</buildtarget> および
		    <buildtarget>patch-sites-test</buildtarget>
		    は <literal xmlns:xlink="http://www.w3.org/1999/xlink">test</literal>
		    グループの要素を返します。</para>
		</listitem>

		<listitem xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-master-sites-n-new-port-targets-master-sites-all">
		  <para xmlns:xlink="http://www.w3.org/1999/xlink">以前の
		    <buildtarget>master-sites</buildtarget> および
		    <buildtarget>patch-sites</buildtarget>
		    が行っていた作業を行う
		    <buildtarget>master-sites-all</buildtarget> および
		    <buildtarget>patch-sites-all</buildtarget>
		    という新たなターゲットがあります。
		    これらのターゲットは、
		    すべてのグループの要素をすべてが同じグループに属しているかのように返します。
		    ただし、
		    <buildtarget>master-sites-all</buildtarget> および
		    <buildtarget>patch-sites-all</buildtarget>
		    のそれぞれについて、
		    <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES</varname> や
		    <varname xmlns:xlink="http://www.w3.org/1999/xlink">PATCHFILES</varname>
		    で定義されているグループと同じ数だけ
		    <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_BACKUP</varname> と
		    <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITE_OVERRIDE</varname>
		    を表示します。</para>
		</listitem>
	      </orderedlist>
	    </listitem>
	  </orderedlist>
	</sect3>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">DIST_SUBDIR</varname></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/ports/distfiles</filename>
	  ディレクトリ内をあまり散らかさないようにしてください。
	  たくさんのファイルを取ってくる port
	  や、他の port と名前の衝突が起きる恐れのあるファイル
	  (<filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> など)
	  がある場合には、
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">DIST_SUBDIR</varname> に port の名前
	  (<literal xmlns:xlink="http://www.w3.org/1999/xlink">${PORTNAME}</literal> か
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">${PKGNAMEPREFIX}${PORTNAME}</literal>
	  を使うといいでしょう)
	  を入れてください。すると <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTDIR</varname>
	  がデフォルトの
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/ports/distfiles</filename> から
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/ports/distfiles/DIST_SUBDIR</filename>
	  に変更され、
	  取ってきたファイルはすべてそのサブディレクトリの中に置かれるようになります。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">また、
	  ファイルを取ってくるときにバックアップサイトとして使われる
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">ftp.FreeBSD.org</filename>
	  のディレクトリ名にもこの変数の値が使われます
	  (<varname xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</varname> の中で
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTDIR</varname> を明示的に指定した場合、
	  ローカルのファイルを置くところは変わりますが、
	  このサイトのディレクトリ名は変わりません。
	  必ず <varname xmlns:xlink="http://www.w3.org/1999/xlink">DIST_SUBDIR</varname>
	  を使うようにしてください)。</para>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">この変数は <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>
	    中で明示的に指定された
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES</varname>
	    には影響しません。</para>
	</note>
      </sect2>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="makefile-maintainer">
      <title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">MAINTAINER</varname></title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">あなたのメールアドレスをここに入れてください。
	お願いします。
	<!-- smiley --><emphasis xmlns:xlink="http://www.w3.org/1999/xlink" remap="tt">:-)</emphasis></para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">MAINTAINER</varname>
	の値は、コメント部のない単一のアドレスしか受け付けられません。
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">user@hostname.domain</literal>
	という形式を利用してください。この項目には、
	あなたの本名などの説明用のテキストは一切いれないでください。
	(そうしても、ただ <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.mk</filename>
	が混乱するだけです)。そういう情報は
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-descr</filename> に書いてください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">保守担当者 (maintainer) の責任に関する詳細説明は、
	<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="../developers-handbook/policies.html#POLICIES-MAINTAINER">
	Makefile 中の MAINTAINER</link> の
	セクションを参照してください。</para>
 
      <para xmlns:xlink="http://www.w3.org/1999/xlink">Port のメンテナがユーザからの更新要求に
	(主な公休日を除いて) 2 週間返答しなかったら、
	保守担当者の持ち時間が切れたとみなして、
	保守担当者の明示的な了承なしに更新して構いません。
	保守担当者が 3 ヶ月以内に返答しない場合は、
	その保守担当者は無断で不在にしているとみなして、
	問題となっている port の保守担当者を入れ替えても構いません。
	例外となるは、ports 管理チーム <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">portmgr@FreeBSD.org</email> または セキュリティオフィサチーム <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">security-officer@FreeBSD.org</email>
	が保守しているものです。このグループが保守している port
	に対しては許可を得ずにコミットしてはいけません。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ports 管理チーム <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">portmgr@FreeBSD.org</email> は、何か理由があれば、
	誰かを保守担当から外したり、別の方を担当者にする権利を持ちます。
	セキュリティオフィサチーム <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">security-officer@FreeBSD.org</email> は、セキュリティ上の理由で、
	保守担当者の権限を剥奪したり担当者を変更する権利を持ちます。</para>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="makefile-comment">
      <title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">COMMENT</varname></title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">その port の 1 行の説明です。
	コメントにはパッケージ名 (やソフトウェアのバージョン)
	を<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">入れないでください</emphasis>。
	コメントは大文字で始め、最後にピリオドは付けないでください。
	たとえば、こんな具合です。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">COMMENT=       A cat chasing a mouse all over the screen</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> 中で、
	COMMENT 変数は MAINTAINER 変数の直後においてください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">COMMENT 行は、port
	の 1 行の要約としてユーザに示されるので、
	70 文字未満に抑えるようにしてください。</para>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="makefile-depend">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">依存関係</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">多くの port は他の port に依存しています。
	必要なものすべてがユーザのマシン上に存在することを
	保証するために使用可能な、7 つの変数が用意されています。
	よくあるケースのためにあらかじめ設定された依存変数に加え、
	いくつかの依存関係の制御のための変数があります。</para>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">LIB_DEPENDS</varname></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">その port が必要とする共有ライブラリを、この変数で指定します。
	  (訳注: libc 等、標準のライブラリは指定する必要がありません。)
	  これは <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">lib</replaceable>:<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">dir</replaceable><optional xmlns:xlink="http://www.w3.org/1999/xlink">:target</optional> という
	  組のリストです。
	  <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">lib</replaceable> が共有ライブラリの名前、
	  <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">dir</replaceable> が
	  そのライブラリが見つからない場合に
	  インストールされる port のディレクトリ、
	  <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">target</replaceable>が
	  そのディレクトリで呼ばれるターゲットです。
	  たとえば、

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">LIB_DEPENDS= jpeg.9:${PORTSDIR}/graphics/jpeg:install</programlisting>

	  と指定されていた場合、まずメジャーバージョンが 9 の jpeg
	  共有ライブラリがインストールされているかどうかを確認します。
	  インストールされていない場合には、ports ツリーの
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">graphics/jpeg</filename> サブディレクトリに移動し、
	  <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">target</replaceable>
	  のコンパイルとインストールを行ないます。
	  <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">target</replaceable> の部分は、
	  それが <varname xmlns:xlink="http://www.w3.org/1999/xlink">DEPENDS_TARGET</varname>
	  (デフォルトでは <literal xmlns:xlink="http://www.w3.org/1999/xlink">install</literal>) と
	  等しいときには省略することができます。</para>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">先頭の <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">lib</replaceable> の部分は
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">ldconfig -r | grep -wF</command> への引数になります。
	    この変数には正規表現を入れないようにしてください。
	  </para>
	</note>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">
	  この依存関係のチェックは、
	  <buildtarget>extract</buildtarget> ターゲットと
	  <buildtarget>install</buildtarget> ターゲットの中で、2 回行なわれます。
	  (訳注: これは、その port
	   をビルドするマシンとインストールされるマシンが違う場合、
	   どちらのマシンでもそのライブラリが利用できることを確認するためです)。
	  同様に、依存するライブラリの名前は package 中にも書き込まれていて、
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pkg_add</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>
	  実行時にそのライブラリがユーザのシステムに存在していなければ、
	  自動的にインストールされます。</para>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">RUN_DEPENDS</varname></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">この port の実行時に必要となるプログラム、
	  またはファイルがあるときにはこの変数で指定します。これは
	  <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">path</replaceable>:<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">dir</replaceable><optional xmlns:xlink="http://www.w3.org/1999/xlink">:target</optional>
	  という組のリストです。
	  <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">path</replaceable> がファイルまたはプログラムの名前、
	  <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">dir</replaceable>
	  が それが見つからない場合にインストールされる port のディレクトリ、
	  <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">target</replaceable>
	  が そのディレクトリで呼ばれるターゲットです。
	  <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">path</replaceable> の最初の文字がスラッシュ
	  (<literal xmlns:xlink="http://www.w3.org/1999/xlink">/</literal>) の場合にはファイルかディレクトリとみなし、
	  存在するかどうか
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">test -e</command> を使ってチェックします。
	  そうでない場合には実行可能ファイルであると考えて、
	  そのプログラムがユーザのサーチパス上にあるかどうか
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">which -s</command> を使って確認します。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">たとえば Makefile に以下のように書いてあるとします。</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">RUN_DEPENDS=   ${LOCALBASE}/etc/innd:${PORTSDIR}/news/inn \
                wish8.0:${PORTSDIR}/x11-toolkits/tk80</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">まず、<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/etc/innd</filename>
	  というファイルかディレクトリが存在するか確認します。
	  存在しない場合には、ports ツリーの
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">news/inn</filename> というサブディレクトリで
	  ビルドとインストールを行ないます。
	  さらに、<command xmlns:xlink="http://www.w3.org/1999/xlink">wish8.0</command>
	  というプログラムがユーザのサーチパス中にあるかどうか探します。
	  ない場合には同じく ports ツリーの
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">x11-toolkits/tk80</filename>
	  というサブディレクトリでコンパイルとインストールを行ないます。</para>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">この例で、<command xmlns:xlink="http://www.w3.org/1999/xlink">innd</command> は実際にはプログラムです。
	    このように、プログラムであっても一般ユーザのサーチパスに
	    含まれているとは考えにくいところに置かれているものの場合には、
	    絶対パスで指定してください。</para>
	</note>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">この依存関係は <buildtarget>install</buildtarget>
	  ターゲット中でチェックされます。
	  また、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pkg_add</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> によるインストールの際に、その package
	  が依存するものがユーザのシステムに存在しない場合には自動的に追加インストールできるように、
	  依存するものの名前も package 中に記録されます。
	  <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">target</replaceable> の部分が
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">DEPENDS_TARGET</varname> と同じ場合には、
	  <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">target</replaceable> の部分を省略することができます。
	</para>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">BUILD_DEPENDS</varname></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">この port のビルド時に必要となるプログラム、
	  またはファイルがあるときにはこの変数で指定します。
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">RUN_DEPENDS</varname> と同様に、これは
	  <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">path</replaceable>:<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">dir</replaceable><optional xmlns:xlink="http://www.w3.org/1999/xlink">:target</optional>
	  という組のリストです。たとえば、

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">BUILD_DEPENDS=unzip:${PORTSDIR}/archivers/unzip</programlisting>

	  と指定されていた場合、まず <command xmlns:xlink="http://www.w3.org/1999/xlink">unzip</command>
	  という名前のプログラムがインストールされているかどうかを確認します。
	  インストールされていない場合には ports ツリーの
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">archivers/unzip</filename> サブディレクトリに移動し、
	  ビルドとインストールを行ないます。</para>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">ここで言う<quote xmlns:xlink="http://www.w3.org/1999/xlink">ビルド</quote>とは、
	    ファイルの展開からコンパイルまでのすべての処理を意味します。
	    この依存関係は、<buildtarget>extract</buildtarget>
	    ターゲットの中でチェックされます。
	    <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">target</replaceable> の部分は、
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">DEPENDS_TARGET</varname>
	    と同じ場合には省略することができます。</para>
	</note>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">FETCH_DEPENDS</varname></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">この port を取ってくるのに必要となるプログラム、
	  またはファイルがあるときにはこの変数で指定します。
	  上の二つと同様に、これは
	  <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">path</replaceable>:<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">dir</replaceable><optional xmlns:xlink="http://www.w3.org/1999/xlink">:target</optional>
	  という組のリストです。たとえば、

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">FETCH_DEPENDS=ncftp2:${PORTSDIR}/net/ncftp2</programlisting>

	  と指定されていれば、<command xmlns:xlink="http://www.w3.org/1999/xlink">ncftp2</command>
	  という名前のプログラムを探します。
	  見つからない場合には、ports ツリーの
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">net/ncftp2</filename>
	  サブディレクトリでビルドとインストールを行ないます。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">この依存関係は <buildtarget>fetch</buildtarget>
	  ターゲット中でチェックされます。
	  <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">target</replaceable> の部分は、
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">DEPENDS_TARGET</varname>
	  と同じ場合には省略することができます。</para>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">EXTRACT_DEPENDS</varname></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">この変数には、この port
	  の展開に必要な実行ファイルや、他のファイルを指定します。
	  前の変数と同じく、これは
	  <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">path</replaceable>:<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">dir</replaceable><optional xmlns:xlink="http://www.w3.org/1999/xlink">:target</optional>
	  のタプルの一覧です。たとえば、<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">EXTRACT_DEPENDS=
	    unzip:${PORTSDIR}/archivers/unzip</programlisting>
	  は、<command xmlns:xlink="http://www.w3.org/1999/xlink">unzip</command>
	  という実行形式のファイルがあるかどうか確認し、
	  見つからなければ、ports ツリーの
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">archivers/unzip</filename>
	  サブディレクトリに降りてビルドおよびインストールを行います。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">依存関係は <buildtarget>extract</buildtarget>
	  ターゲットにおいて確認されます。
	  <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">target</replaceable> 部分が
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">DEPENDS_TARGET</varname>
	  と同じなら、省いて構いません。</para>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">この変数は、展開が働いておらず
	    (デフォルトでは <command xmlns:xlink="http://www.w3.org/1999/xlink">gzip</command> を仮定しています)、
	    <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="use-vars"/> で説明されている
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_ZIP</varname> や <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_BZIP2</varname>
	    を使っても動かない場合にだけ使ってください。</para>
	</note>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PATCH_DEPENDS</varname></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">この変数は、この port
	  がパッチを当てる際に必要とする実行ファイルや他のファイルを指定します。
	  前の変数と同じく、これは
	  <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">path</replaceable>:<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">dir</replaceable><optional xmlns:xlink="http://www.w3.org/1999/xlink">:target</optional>
	  のタプルの一覧です。たとえば、<programlisting xmlns:xlink="http://www.w3.org/1999/xlink"> PATCH_DEPENDS=
	    ${NONEXISTENT}:${PORTSDIR}/java/jfc:extract
	    </programlisting> は、ports ツリーの
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">java/jfc</filename> サブディレクトリに移動して、
	  ビルドおよびインストールを行います。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">依存関係は、<buildtarget>patch</buildtarget>
	  ターゲットにおいて確認されます。<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">target</replaceable>
	  部分が <varname xmlns:xlink="http://www.w3.org/1999/xlink">DEPENDS_TARGET</varname>
	  と同じなら省略して構いません。</para>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">DEPENDS</varname></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">上記のいずれにもあてはまらないような依存関係がある場合、
	  または他の port がインストールされているだけではなく
	  ソースが展開されている必要がある場合には、この変数を使います。
	  これは上記の四つと違い、特に<quote xmlns:xlink="http://www.w3.org/1999/xlink">確認</quote>するものが
	  ありませんので、
	  <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">dir</replaceable><optional xmlns:xlink="http://www.w3.org/1999/xlink">:target</optional>
	  という形式のリストになります。
	  <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">target</replaceable> の部分は
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">DEPENDS_TARGET</varname>
	  と同じ場合には省略することができます。</para>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="use-vars">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">*</replaceable></varname></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">多くの ports に共通の依存関係をカプセル化するために、
	  いくつもの変数が存在しています。</para>

	<table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">*</replaceable></varname>
	    変数</title>

	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	    <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">変数</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">意味</entry>
	      </row>
	    </thead>

	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_BZIP2</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">その port の tarball は <command xmlns:xlink="http://www.w3.org/1999/xlink">bzip2</command>
		  で圧縮されています。</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_ZIP</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">その port の tarball は <command xmlns:xlink="http://www.w3.org/1999/xlink">zip</command>
		  で圧縮されています。</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_GMAKE</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">その port をビルドするのに <command xmlns:xlink="http://www.w3.org/1999/xlink">gmake</command>
		  が必要です。</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_PERL5</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">その port をビルドしてインストールするのに
		  <literal xmlns:xlink="http://www.w3.org/1999/xlink">perl 5</literal> が必要です。
		  <literal xmlns:xlink="http://www.w3.org/1999/xlink">perl</literal>
		  に関連して設定可能な他の変数については
		  <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="using-perl"/> をご覧ください。</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_X_PREFIX</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">その port は <varname xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX</varname> ではなく
		  <varname xmlns:xlink="http://www.w3.org/1999/xlink">X11BASE</varname> にインストールされます。
		  X11 に関連して設定可能な他の変数については、
		  <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="using-x11"/> をご覧ください。</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_AUTOMAKE</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">その port のビルドに GNU <command xmlns:xlink="http://www.w3.org/1999/xlink">automake</command>
		  が使われます。<command xmlns:xlink="http://www.w3.org/1999/xlink">automake</command>
		  に関わる他に設定可能な変数については、
		  <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="using-automake"/> をご覧ください。</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_AUTOCONF</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">その port のビルドに GNU <command xmlns:xlink="http://www.w3.org/1999/xlink">autoconf</command>
		  が使われます。<command xmlns:xlink="http://www.w3.org/1999/xlink">autoconf</command>
		  に関わる他に設定可能な変数については、
		  <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="using-automake"/> をご覧ください。</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_LIBTOOL</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">その port のビルドに GNU <command xmlns:xlink="http://www.w3.org/1999/xlink">libtool</command>
		  が使われます。<command xmlns:xlink="http://www.w3.org/1999/xlink">libtool</command>
		  に関わる他に設定可能な変数については、
		  <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="using-automake"/> をご覧ください。</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">GMAKE</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">gmake</command> が
		  <envar xmlns:xlink="http://www.w3.org/1999/xlink">PATH</envar> に入っていない場合のフルパス</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_BISON</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">その port のビルドに <command xmlns:xlink="http://www.w3.org/1999/xlink">bison</command>
		  が使われます。</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_SDL</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">その port のビルドや実行に
		  <literal xmlns:xlink="http://www.w3.org/1999/xlink">SDL</literal> が使われます。
		  <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_SDL</varname> の使い方について、詳しくは
		  <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="using-sdl"/> をご覧ください。</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">NO_INSTALL_MANPAGES</varname></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><buildtarget>install.man</buildtarget>
		  ターゲットを使いません。</entry>
	      </row>
	    </tbody>
	  </tgroup>
	</table>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">その ports が X Window System を必要とするのであれば、
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">USE_XLIB=yes</literal> を定義してください
	  (これは <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_IMAKE</varname>
	  が定義されていれば自動的に定義されます)。
	  BSD <command xmlns:xlink="http://www.w3.org/1999/xlink">make</command> ではなく
	  GNU <command xmlns:xlink="http://www.w3.org/1999/xlink">make</command> を必要とする場合には
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">USE_GMAKE=yes</literal> を、
	  GNU autoconf を実行する必要がある場合には
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">USE_AUTOCONF=yes</literal> を、
	  最新の qt toolkit を使用する場合には
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">USE_QT=yes</literal> を、
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">perl</literal> 言語のバージョン 5 を必要とする場合には
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">USE_PERL5=yes</literal> を定義してください
	  (特に最後のものは重要です。
	  FreeBSD のバージョンにより、基本システムに
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">perl5</literal>
	  が含まれていたり、いなかったりします)。</para>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">依存関係に関する注意</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">上で述べたように、依存する ports
	  が必要になったときに呼ばれるデフォルトのターゲットは
	  <buildtarget>DEPENDS_TARGET</buildtarget>
	  で、そのデフォルトは <literal xmlns:xlink="http://www.w3.org/1999/xlink">install</literal> です。
	  これはユーザが使用する変数であり、
	  port の <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> で定義するものではありません。
	  もし、その port が特別な方法で依存関係を扱う必要がある場合には、
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">DEPENDS_TARGET</varname> を再定義するのではなく
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">*_DEPENDS</varname> 変数の
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">:target</literal> 部分を使用してください。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">make clean</command> と入力したときには、
	  その port が依存する port も自動的に clean されます。
	  そうならないようにしたい場合には、
	  環境変数 <varname xmlns:xlink="http://www.w3.org/1999/xlink">NOCLEANDEPENDS</varname>
	  を設定してください。KDE, GNOME や Mozilla
	  のように、再ビルドするのに時間がかかる port
	  に依存している場合は特に望ましいかもしれません。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">無条件に他の port に依存させるには、
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">BUILD_DEPENDS</varname> や
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">RUN_DEPENDS</varname> の最初のフィールドに
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">${NONEXISTENT}</varname> という変数を指定してください。
	  これは、他の port のソースが必要なときのみ使用してください。
	  ターゲットも指定することで、
	  コンパイルの時間を節約できる場合もあります。
	  たとえば

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">BUILD_DEPENDS=   ${NONEXISTENT}:${PORTSDIR}/graphics/jpeg:extract</programlisting>

	  とすると、常に <literal xmlns:xlink="http://www.w3.org/1999/xlink">jpeg</literal> port
	  のディレクトリに行ってソースの展開を行ないます。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">あなたがやりたいことが他の方法ではできない場合以外には
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">DEPENDS</varname> を使わないでください。
	  これは常に他の port の作成を行ない (さらにデフォルトでは
	  インストールも行ない)、package まで作成します。
	  この動作が本当に所望のものでしたら、
	  それを <literal xmlns:xlink="http://www.w3.org/1999/xlink">BUILD_DEPENDS</literal> と
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">RUN_DEPENDS</literal> に書くべきでしょう
	  ― 少なくとも意図を明確にすることができます。</para>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">オプション選択可能な依存ライブラリ</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">巨大なアプリケーションの中には、
	複数のコンフィギュレーションでビルドすることができるものがあります。
	つまり、いくつもの外部ライブラリやアプリケーションの中の、
	あるものが利用可能な場合に、
	それを拡張機能として使用するように設定することができるということです。
	それらのライブラリやアプリケーションを、
	必ずしも すべてのユーザが必要としているわけではありませんので、ports
	システムではどのコンフィギュレーションがビルドされるべきかを
	port 作者が決めるために使えるフックを用意しています。
	これらを適切にサポートすることにより、ユーザをハッピーにしたり、
	port 1 つ分のコストで 2 つまたはそれ以上の
	port を提供するのと同様の効率化を行なうことが可能です。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">これらのフックのうちで最も簡単に使えるものは
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">WITHOUT_X11</varname> でしょう。
	その port が X Window System のサポートありと、
	サポートなしの設定でビルドできるのであれば、
	通常は X Window System サポートありでビルドするべきでしょう。
	ビルド時に <varname xmlns:xlink="http://www.w3.org/1999/xlink">WITHOUT_X11</varname> が定義されていれば、
	その時は X Window System サポートなしのバージョンが
	ビルドされるべきです。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">GNOME 環境の様々なパーツも、そのようなノブ (フック)
	を持っていますが、それらは幾分使いにくいものです。
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> 中で その目的に使用される変数は
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">WANT_*</varname> と <varname xmlns:xlink="http://www.w3.org/1999/xlink">HAVE_*</varname> になります。
	そのアプリケーションが、
	以下に示されている依存ライブラリの一つについて、
	サポートあり、なしの両方でビルドできる場合、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> には <varname xmlns:xlink="http://www.w3.org/1999/xlink">WANT_PKG</varname>
	をセットする必要があります。
	そして、ビルド時に <varname xmlns:xlink="http://www.w3.org/1999/xlink">HAVE_PKG</varname> が定義されていれば
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">PKG</varname> を使うバージョンがビルドされることになります。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">現在、このような形でサポートされている
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">WANT_*</varname> 変数は、
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">WANT_GLIB</varname>, <varname xmlns:xlink="http://www.w3.org/1999/xlink">WANT_GTK</varname>,
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">WANT_ESOUND</varname>, <varname xmlns:xlink="http://www.w3.org/1999/xlink">WANT_IMLIB</varname>,
	そして <varname xmlns:xlink="http://www.w3.org/1999/xlink">WANT_GNOME</varname> です。</para>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">致命的な依存の循環</title>

	<important xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Ports ツリーに循環する依存性を持ち込まないでください!</para>
	</important>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Ports の構築技術は循環依存性を許容していません。
	  循環依存させてしまうと、たちまちどこかの誰かがインストールしている
	  FreeBSD を駄目にしてしまい、その数はまたたく間に増えて行きます。
	  この問題は見付けるのが非常に難しいです。
	  問題がありそうな場合は、その変更を行う前に
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/ports; make index</command>
	  を実行するようにしてください。
	  この処理は古いマシンではかなり遅いかもしれませんが、
	  (あなたも含めて)
	  多くの人がその処理を行って嘆くことにならずに済ませられるでしょう。</para>
      </sect2>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="makefile-wrkdir">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">作業ディレクトリの指定</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">それぞれの port は作業ディレクトリに展開されるので、
	作業ディレクトリは書き込み可能でなければなりません。
	Ports システムは、デフォルトでは
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES</varname> が
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">${DISTNAME}</literal>
	というディレクトリに展開されると想定します。
	つまり、次のように設定していたら、</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">PORTNAME=      foo
PORTVERSION=   1.0</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">その port の配布ファイルの内容は、最上位のディレクトリが
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">foo-1.0</filename> で、
	残りのファイルはそのディレクトリの下に置かれているということです。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">そうでない場合に上書きできる変数がたくさんあります。</para>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">WRKSRC</varname></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">この変数は、
	  アプリケーションの配布ファイルが展開された時に作成されるディレクトリの名称を示します。
	  前の例で、(<filename xmlns:xlink="http://www.w3.org/1999/xlink">foo-1.0</filename> ではなく)
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">foo</filename> というディレクトリに展開されるなら、</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">WRKSRC=      ${WRKDIR}/foo</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">または、</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">WRKSRC=      ${WRKDIR}/${PORTNAME}</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">と書いてください。</para>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">NO_WRKSUBDIR</varname></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">その port がサブディレクトリに展開しないのであれば、
	  それを示すために <varname xmlns:xlink="http://www.w3.org/1999/xlink">NO_WRKSUBDIR</varname>
	  を設定してください。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">NO_WRKSUBDIR= yes</programlisting>
      </sect2>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="conflicts">
      <title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">CONFLICTS</varname></title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">あなたが作成している package が他の packageと
	(ファイルの衝突や実行時の非互換性により)
	共存できないのであれば、<varname xmlns:xlink="http://www.w3.org/1999/xlink">CONFLICTS</varname>
	変数にその package の名称を挙げてください。
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">*</literal> や <literal xmlns:xlink="http://www.w3.org/1999/xlink">?</literal>
	のようなシェルの補完が利用できます。package 名は
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/db/pkg</filename>
	にあるのと同じ形式で並べてください。</para>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="makefile-build">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ビルドのメカニズム</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">そのソフトウェアがビルドの際に GNU <command xmlns:xlink="http://www.w3.org/1999/xlink">make</command>
	を使う場合には、<literal xmlns:xlink="http://www.w3.org/1999/xlink">USE_GMAKE=yes</literal> をセットしてください。
	<command xmlns:xlink="http://www.w3.org/1999/xlink">configure</command> を使う場合には、
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">HAS_CONFIGURE=yes</literal> をセットしてください。
	GNU <command xmlns:xlink="http://www.w3.org/1999/xlink">configure</command> を使う場合には、
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">GNU_CONFIGURE=yes</literal> をセットしてください (これにより
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">HAS_CONFIGURE</literal> もセットされます)。
	<command xmlns:xlink="http://www.w3.org/1999/xlink">configure</command> に追加の引数を渡したい場合には、
	追加部分を <varname xmlns:xlink="http://www.w3.org/1999/xlink">CONFIGURE_ARGS</varname> に指定してください。
	(デフォルトの引数リストは、GNU <command xmlns:xlink="http://www.w3.org/1999/xlink">configure</command> では
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">--prefix=${PREFIX}</literal> に、
	GNU でない <command xmlns:xlink="http://www.w3.org/1999/xlink">configure</command> では空リストになります。)
	GNU <command xmlns:xlink="http://www.w3.org/1999/xlink">autoconf</command> を使う場合には、
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">USE_AUTOCONF=yes</literal> をセットしてください。
	これにより <varname xmlns:xlink="http://www.w3.org/1999/xlink">GNU_CONFIGURE</varname> もセットされ、
	<command xmlns:xlink="http://www.w3.org/1999/xlink">configure</command> を実行する前に
	<command xmlns:xlink="http://www.w3.org/1999/xlink">autoconf</command> が実行されます。</para>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">もしそのパッケージが GNU <command xmlns:xlink="http://www.w3.org/1999/xlink">configure</command>
	  を使っていて、作成された実行形式のファイルが
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">i386-portbld-freebsd4.7-</filename><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">appname</replaceable>
	  のような<quote xmlns:xlink="http://www.w3.org/1999/xlink">奇妙な</quote>名称だった場合は、さらに
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">CONFIGURE_TARGET</varname>
	  を上書きして、新しいバージョンの <command xmlns:xlink="http://www.w3.org/1999/xlink">autoconf</command>
	  で生成されたスクリプトが要求する方法でターゲットを指定する必要があります。
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> の
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">GNU_CONFIGURE=yes</literal>
	  行のすぐ後に次の行を追加してください。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">CONFIGURE_TARGET=--build=${MACHINE_ARCH}-portbld-freebsd${OSREL}</literal>
	</para>
      </note>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">そのソフトウェアが X Window System のアプリケーションなどで、
	<command xmlns:xlink="http://www.w3.org/1999/xlink">imake</command> を使って <filename xmlns:xlink="http://www.w3.org/1999/xlink">Imakefile</filename> から
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> を作成する場合には、
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">USE_IMAKE=yes</literal> を指定してください。
	そうするとコンフィグレーションステージで自動的に
	<command xmlns:xlink="http://www.w3.org/1999/xlink">xmkmf -a</command> が実行されます。
	もし <option xmlns:xlink="http://www.w3.org/1999/xlink">-a</option> フラグが問題を引き起こすなら、
	さらに <literal xmlns:xlink="http://www.w3.org/1999/xlink">XMKMF=xmkmf</literal> をセットしてください。
	もし、その port が <command xmlns:xlink="http://www.w3.org/1999/xlink">imake</command> を使用するけれども
	<buildtarget>install.man</buildtarget> ターゲットを持たない場合には、
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">NO_INSTALL_MANPAGES=yes</literal> をセットしてください。
	ついでに、そのソフトウェアの作者を探し出して八つ裂きにするといいでしょう。
	<!-- smiley --><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">(-_-#)</emphasis></para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">そのソフトウェアの元々の <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> が
	<buildtarget>all</buildtarget>
	以外のものをメインのターゲットとしている場合には、それを
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">ALL_TARGET</varname> に指定してください。
	<buildtarget>install</buildtarget> と
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">INSTALL_TARGET</varname> も同様です。</para>
    </sect1>
  </chapter>

  <chapter xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="special">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">特別な配慮</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">port を作成する場合、
      考慮しなくてはいけないことが他にもいくつかあります。
      このセクションでは、それらのうちでも特によくあることについて説明します。</para>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-shlibs">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">共有ライブラリ</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">その port が共有ライブラリのインストールを行なう場合、
	make 変数 <varname xmlns:xlink="http://www.w3.org/1999/xlink">INSTALLS_SHLIB</varname> を定義してください。
	これにより、<filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.mk</filename> が
	<buildtarget>post-install</buildtarget>
	ターゲットの実行時に新しいライブラリがインストールされたディレクトリ
	(通常は	<filename xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX/lib</filename>) に
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">${LDCONFIG} -m</literal> を実行し、
	共有ライブラリキャッシュへの登録が行なわれるようになります。
	また、この変数が定義されている場合、共有ライブラリを
	インストールしたユーザが それをすぐに使い始められるように、
	また、削除の際には そのライブラリが まだ存在していると
	システムに誤認されないように、
	適切な <literal xmlns:xlink="http://www.w3.org/1999/xlink">@exec /sbin/ldconfig -m</literal> と
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">@unexec /sbin/ldconfig -R</literal> のペアが
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename> ファイルに
	指定されているように扱われます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">必要であれば、
	共有ライブラリがインストールされるディレクトリのリストを格納する
	make 変数 <varname xmlns:xlink="http://www.w3.org/1999/xlink">LDCONFIG_DIRS</varname> を定義することにより、
	新しいライブラリがインストールされるデフォルトの位置を上書きすることも可能です。
	例えば、その port が共有ライブラリを
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX/lib/foo</filename> と
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX/lib/bar</filename> に
	インストールする場合、<filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>
	で以下の記述を使用することができます:</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">INSTALLS_SHLIB= yes
LDCONFIG_DIRS=  %%PREFIX%%/lib/foo %%PREFIX%%/lib/bar</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename> の他の部分と同様に、
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">LDCONFIG_DIRS</varname> の内容も <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">sed</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>
	による処理が行なわれるため、ここでも <varname xmlns:xlink="http://www.w3.org/1999/xlink">PLIST_SUB</varname>
	に指定した置換が行なわれることに注意してください。
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX</varname> には <literal xmlns:xlink="http://www.w3.org/1999/xlink">%%PREFIX%%</literal> を、
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">LOCALBASE</varname> には <literal xmlns:xlink="http://www.w3.org/1999/xlink">%%LOCALBASE%%</literal>,
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">X11BASE</varname> には <literal xmlns:xlink="http://www.w3.org/1999/xlink">%%X11BASE%%</literal>
	を使用することを推奨します。</para>

    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-restrictions">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">配布制限がある ports</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ライセンスにはさまざまなものがあり、なかには、
	アプリケーションをパッケージ化するやり方、営利目的で販売できるか、
	といったことに制限をかけているものがあります。</para>

      <important xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">port 作成者として、あなたには、使用許諾条件をよく読み、
	  FTP/HTTP または CD-ROM
	  で再配布してはいけないソースコードやコンパイルされたバイナリを配布してしまい、
	  その責任が FreeBSD プロジェクトにかかってくることのないよう注意する義務があります。
	  疑わしい場合には <link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-ports">FreeBSD ports メーリングリスト</link> で聞いてみてください。</para>
      </important>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">そのような場合、次の節で説明されている変数が設定できます。</para>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">RESTRICTED</varname>
	  は、それだけを設定すれば済むように、暗黙のうちに
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">NO_CDROM</varname> と <varname xmlns:xlink="http://www.w3.org/1999/xlink">NO_PACKAGE</varname>
	  を設定します。それに対して、
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">NO_PACKAGE</varname> と <varname xmlns:xlink="http://www.w3.org/1999/xlink">NO_CDROM</varname>
	  は独立で、同時に設定可能です。</para>
      </note>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">NO_PACKAGE</varname></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">この変数が設定されていたら、
	  このアプリケーションのバイナリパッケージを作成してはいけないということです。
	  ただし、この port の <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES</varname>
	  は自由に配布できます。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">また、<varname xmlns:xlink="http://www.w3.org/1999/xlink">NO_PACKAGE</varname>
	  は、バイナリパッケージが汎用的ではなく、
	  いつもアプリケーションをソースコードからコンパイルすべき場合にも利用すべきです。
	  たとえば、アプリケーションにサイト特有の設定情報がコンパイル時にハードコードされるような場合には、
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">NO_PACKAGE</varname> を設定してください。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">NO_PACKAGE</varname> には、
	  パッケージを作成すべきではない理由を述べた文字列を設定すべきです。</para>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">NO_CDROM</varname></title>

 	<para xmlns:xlink="http://www.w3.org/1999/xlink">この変数は、バイナリパッケージの作成は許可されていますが、
	  その package や port の <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES</varname>
	  を販売用の CD-ROM (や DVD-ROM)
	  に載せるのは許されていないことを表します。なんにせよ、
	  バイナリパッケージと port の <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES</varname>
	  は、FTP/HTTP で入手できます。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">NO_CDROM</varname> には、その port が何故 CD-ROM
	  で再配布できないか説明する文字列を設定するべきです。
	  これはたとえば、その port のライセンスが<quote xmlns:xlink="http://www.w3.org/1999/xlink">非商用</quote>
	  利用に限っている場合に使うべきです。</para>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">RESTRICTED</varname></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">アプリケーションのライセンスが、FTP/HTTP
	  で、そのアプリケーションの <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES</varname>
	  をミラーすることや、
	  バイナリパッケージを配布することを禁じていたら、
	  この変数を設定してください。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">RESTRICTED</varname> には、その port
	  が何故再配布できないか説明する文字列を設定するべきです。
	  典型的な場合としては、その port
	  がプロプライエタリなソフトウェアを含んでいて、
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTFILES</varname>
	  を、おそらくソフトウェアに関する登録を行ったり、
	  <acronym xmlns:xlink="http://www.w3.org/1999/xlink">EULA</acronym> を承諾した後で、
	  手動でダウンロードしなければならないことを表します。</para>
      </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">RESTRICTED_FILES</varname></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">RESTRICTED</varname> や <varname xmlns:xlink="http://www.w3.org/1999/xlink">NO_CDROM</varname>
	  が設定されている時は、この変数はデフォルトで
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">${DISTFILES} ${PATCHFILES}</literal>
	  になります。それ以外は空です。
	  一部の配布ファイルだけに制限がかかっていたら、
	  この変数にそのファイルのリストを設定してください。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">port committer は、設定した配布ファイル毎に
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/ports/LEGAL</filename>
	  に制限の内容を説明する項目を追加すべきことに注意してください。</para>
      </sect2>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="using-perl">
      <title xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">perl</literal> の利用</title>

      <table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">perl</literal> を使用する ports 用の変数</title>

	<tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	  <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">変数</entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">意味</entry>
	    </row>
	  </thead>

	  <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_PERL5</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">その port のビルドと実行に <literal xmlns:xlink="http://www.w3.org/1999/xlink">perl 5</literal>
		を使用することを示します。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_PERL5_BUILD</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">その port をビルドするのに <literal xmlns:xlink="http://www.w3.org/1999/xlink">perl 5</literal>
		を使用することを示します。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_PERL5_RUN</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">その port を実行するのに <literal xmlns:xlink="http://www.w3.org/1999/xlink">perl 5</literal>
		を使用することを示します。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PERL</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">システムまたは port からインストールされた
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">perl 5</literal>
		の完全なパスからバージョン番号を省いたもの。
		スクリプトの
		<quote xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">#!</literal></quote>
		行を置き換える必要があれば使ってください。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
 	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PERL_CONFIGURE</varname></entry>
 
 	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Perl の MakeMaker
 		を使ってコンフィグレーションを行います。暗黙のうちに
 		<varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_PERL5</varname> を設定します。</entry>
	    </row>
 	  </tbody>
 	</tgroup>

 	<tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
 	  <thead xmlns:xlink="http://www.w3.org/1999/xlink">
 	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
 	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">読み取り専用変数</entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">意味</entry>
 	    </row>
 	  </thead>
 
 	  <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PERL_VERSION</varname></entry>

 	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">インストールされている <literal xmlns:xlink="http://www.w3.org/1999/xlink">perl</literal>
 		の完全なバージョン
		(たとえば <literal xmlns:xlink="http://www.w3.org/1999/xlink">5.00503</literal>)。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PERL_VER</varname></entry>

 	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">インストールされている <literal xmlns:xlink="http://www.w3.org/1999/xlink">perl</literal>
 		のバージョンの短縮形
		(たとえば <literal xmlns:xlink="http://www.w3.org/1999/xlink">5.005</literal>)。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PERL_LEVEL</varname></entry>

 	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">インストールされている <literal xmlns:xlink="http://www.w3.org/1999/xlink">perl</literal> の
 		<literal xmlns:xlink="http://www.w3.org/1999/xlink">MNNNPP</literal> 形式の整数で表されるバージョン
		(たとえば <literal xmlns:xlink="http://www.w3.org/1999/xlink">500503</literal>)。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PERL_ARCH</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">perl</literal>
		がアーキテクチャ依存のライブラリをインストールする場所。
		デフォルトは <literal xmlns:xlink="http://www.w3.org/1999/xlink">${ARCH}-freebsd</literal>。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PERL_PORT</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">インストールされている <literal xmlns:xlink="http://www.w3.org/1999/xlink">perl</literal>
		の port の名称 (例えば <literal xmlns:xlink="http://www.w3.org/1999/xlink">perl5</literal>)。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">SITE_PERL</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">サイト独自の <literal xmlns:xlink="http://www.w3.org/1999/xlink">perl</literal>
		パッケージの入るディレクトリ名。
		この値は PLIST_SUB に追加されます。</entry>
	    </row>
	  </tbody>
	</tgroup>
      </table>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="using-x11">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">X11 の利用</title>

      <table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">X を利用する ports 用の変数</title>

	<tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	  <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_X_PREFIX</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">その port は <varname xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX</varname> ではなく
		<varname xmlns:xlink="http://www.w3.org/1999/xlink">X11BASE</varname> にインストールされます。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_XLIB</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">その port は X ライブラリを使用します。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_MOTIF</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">その port は Motif ツールキットを使用します。
		<varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_XPM</varname> が自動的に設定されます。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_IMAKE</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">その port は <command xmlns:xlink="http://www.w3.org/1999/xlink">imake</command>
		を使用します。<varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_X_PREFIX</varname>
		が自動的に設定されます。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">XMKMF</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">xmkmf</command> が <envar xmlns:xlink="http://www.w3.org/1999/xlink">PATH</envar>
		にない場合にパスを設定してください。
		デフォルトは <literal xmlns:xlink="http://www.w3.org/1999/xlink">xmkmf -a</literal> になります。</entry>
	    </row>
	  </tbody>
	</tgroup>
      </table>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="using-automake">
      <title xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">automake</command>, <command xmlns:xlink="http://www.w3.org/1999/xlink">autoconf</command>
	および <command xmlns:xlink="http://www.w3.org/1999/xlink">libtool</command> の利用</title>

      <table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">automake, autoconf または libtool
	  を使用する ports 用の変数</title>

	<tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	  <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">変数</entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">意味</entry>
	    </row>
	  </thead>

	  <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_AUTOMAKE</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">その port は <command xmlns:xlink="http://www.w3.org/1999/xlink">automake</command> を使用します。
		<varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_AUTOCONF</varname> と
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">USE_AUTOMAKE_VER?=14</literal>
		が自動的に設定されます。</entry>
	      </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">AUTOMAKE</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">automake</command> が <envar xmlns:xlink="http://www.w3.org/1999/xlink">PATH</envar>
		に含まれない場合のフルパス。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_AUTOMAKE_VER</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">その port は <command xmlns:xlink="http://www.w3.org/1999/xlink">automake</command>
		を使用します。この変数の有効な値は
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">14</literal> と <literal xmlns:xlink="http://www.w3.org/1999/xlink">15</literal>
		で、<varname xmlns:xlink="http://www.w3.org/1999/xlink">AUTOMAKE_DIR</varname> および
		<varname xmlns:xlink="http://www.w3.org/1999/xlink">ACLOCAL_DIR</varname>
		変数が適切な値に設定されます。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">AUTOMAKE_ARGS</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_AUTOMAKE_VER</varname>
		が設定されていた場合に <varname xmlns:xlink="http://www.w3.org/1999/xlink">AUTOMAKE</varname>
		に渡す 1 つまたはそれ以上のコマンドライン引数</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">AUTOMAKE_ENV</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">AUTOMAKE</varname>
		を実行する前に設定する 1 つまたはそれ以上の環境変数 (とその値)</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">ACLOCAL</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">GNU <command xmlns:xlink="http://www.w3.org/1999/xlink">aclocal</command> が <envar xmlns:xlink="http://www.w3.org/1999/xlink">PATH</envar>
		にない場合にパスを設定してください。デフォルトは
		<varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_AUTOMAKE_VER</varname>
		変数に応じて設定されます。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">ACLOCAL_DIR</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">GNU <command xmlns:xlink="http://www.w3.org/1999/xlink">aclocal</command>
		の共有ディレクトリのパスを設定してください。
		デフォルトは <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_AUTOMAKE_VER</varname>
		変数に応じて設定されます。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">AUTOMAKE_DIR</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">GNU <command xmlns:xlink="http://www.w3.org/1999/xlink">automake</command>
		の共有ディレクトリのパスを設定してください。
		デフォルトは <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_AUTOMAKE_VER</varname>
		変数に応じて設定されます。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_AUTOCONF_VER</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">その port が <command xmlns:xlink="http://www.w3.org/1999/xlink">autoconf</command>
		を使用することを指定します。デフォルト値は 213 です。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_AUTOCONF</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">その port が <command xmlns:xlink="http://www.w3.org/1999/xlink">autoconf</command>
		を使用することを指定します。<literal xmlns:xlink="http://www.w3.org/1999/xlink">GNU_CONFIGURE</literal>
		および <literal xmlns:xlink="http://www.w3.org/1999/xlink">USE_AUTOCONF_VER?=213</literal>
		を自動的に設定します。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">AUTOCONF</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">GNU <command xmlns:xlink="http://www.w3.org/1999/xlink">autoconf</command> が <envar xmlns:xlink="http://www.w3.org/1999/xlink">PATH</envar>
		にない場合にパスを設定してください。デフォルトは
		<varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_AUTOCONF_VER</varname>
		変数の値に応じて設定されます。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">AUTOCONF_ARGS</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">autoconf</command>
		に渡すコマンドライン引数</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">AUTOCONF_ENV</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">この変数で指定された
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">変数=値</literal>
		の組を <command xmlns:xlink="http://www.w3.org/1999/xlink">autoconf</command>
		を実行する前に環境変数として設定してください。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">AUTOHEADER</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">GNU <command xmlns:xlink="http://www.w3.org/1999/xlink">autoheader</command> が <envar xmlns:xlink="http://www.w3.org/1999/xlink">PATH</envar>
		にない場合にパスを設定してください。デフォルトは
		<varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_AUTOCONF_VER</varname>
		の値に応じて設定されます。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">AUTORECONF</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">GNU <command xmlns:xlink="http://www.w3.org/1999/xlink">autoreconf</command> が <envar xmlns:xlink="http://www.w3.org/1999/xlink">PATH</envar>
		にない場合にパスを設定してください。デフォルトは
		<varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_AUTOCONF_VER</varname>
		に応じて設定されます。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">AUTOSCAN</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">GNU <command xmlns:xlink="http://www.w3.org/1999/xlink">autoscan</command> が <envar xmlns:xlink="http://www.w3.org/1999/xlink">PATH</envar>
		にない場合にパスを設定してください。デフォルトは
		<varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_AUTOCONF_VER</varname>
		に応じて設定されます。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">AUTOIFNAMES</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">GNU <command xmlns:xlink="http://www.w3.org/1999/xlink">autoifnames</command> が <envar xmlns:xlink="http://www.w3.org/1999/xlink">PATH</envar>
		にない場合にパスを設定してください。デフォルトは
		<varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_AUTOCONF_VER</varname>
		に応じて設定されます。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_LIBTOOL</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">その port は <command xmlns:xlink="http://www.w3.org/1999/xlink">libtool</command>
		を使用します。<varname xmlns:xlink="http://www.w3.org/1999/xlink">GNU_CONFIGURE</varname>
		を自動的に設定します。</entry>
	      </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">LIBTOOL</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">libtool</command> が <envar xmlns:xlink="http://www.w3.org/1999/xlink">PATH</envar>
		にない場合にパスを設定してください。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">LIBTOOLFILES</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">libtool</command> 用のパッチファイル。
		デフォルトは <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_AUTOCONF</varname>
		が設定されていれば <literal xmlns:xlink="http://www.w3.org/1999/xlink">aclocal.m4</literal>、
		それ以外は <literal xmlns:xlink="http://www.w3.org/1999/xlink">configure</literal> です。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">LIBTOOLFLAGS</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">ltconfig</command> に追加で渡すフラグ。
		デフォルトは <literal xmlns:xlink="http://www.w3.org/1999/xlink">--disable-ltlibs</literal>。</entry>
	    </row>
	  </tbody>
	</tgroup>
      </table>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="using-gnome">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">GNOME の利用</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD/GNOME プロジェクトは、ある特定の port
	が使っている GNOME コンポーネントを特定するために
	独自の変数群を使っています。
	FreeBSD/GNOME プロジェクトのページに
	<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.FreeBSD.org/gnome/docs/porting.html">その変数のわかりやすい一覧</link>
	があります。</para>

    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="using-kde">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">KDE の利用</title>

      <table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">KDE を利用する ports 用の変数</title>

	<tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	  <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_QT_VER</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">その port は Qt ツールキットを使用します。
		設定できる値は、
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">1</literal>, <literal xmlns:xlink="http://www.w3.org/1999/xlink">2</literal> および
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">3</literal> で、それぞれ使用する Qt
		のメジャーバージョンを示します。
		これは、<varname xmlns:xlink="http://www.w3.org/1999/xlink">MOC</varname> と <varname xmlns:xlink="http://www.w3.org/1999/xlink">QTCPPFLAGS</varname>
		をデフォルトの適切な値に設定します。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_KDELIBS_VER</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">その port は KDE ライブラリを使用します。
		設定できる値は、
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">1</literal>, <literal xmlns:xlink="http://www.w3.org/1999/xlink">2</literal> および
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">3</literal> で、それぞれ使用する KDE
		のメジャーバージョンを示します。
		暗黙で <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_QT_VER</varname>
		に適切なバージョンを設定します。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_KDEBASE_VER</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">その port は KDE base を使用します。
		設定できる値は、
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">1</literal>, <literal xmlns:xlink="http://www.w3.org/1999/xlink">2</literal> および
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">3</literal> で、それぞれ使用する KDE
		のメジャーバージョンを示します。
		暗黙で <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_KDELIBS_VER</varname>
		に適切なバージョンを設定します。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">MOC</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">moc</command> へのパスを設定してください。
		デフォルトでは、<varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_QT_VER</varname>
		の値に応じて設定されます。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">QTCPPFLAGS</varname></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Qt のコードを処理する際の <varname xmlns:xlink="http://www.w3.org/1999/xlink">CPPFLAGS</varname>
		を設定してください。デフォルトでは
		<varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_QT_VER</varname> の値に応じて設定されます。</entry>
	    </row>
	  </tbody>
	</tgroup>
      </table>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="using-bison">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Bison の利用</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">この節はまだ書かれていません。</para>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="using-java">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Java の利用</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">あなたが作成している port の構築、実行、
	または配布ファイルの展開に Java™ 開発キット (JDK)
	が必要なら、<varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_JAVA</varname>
	を定義してください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Ports Collection には、さまざまなベンダの JDK
	のいろいろなバージョンがあります。
	あなたが作成している port
	がその中のいずれかのバージョンを使わなければならないなら、
	どれを使うか指定できます。最新のバージョンは、
	<package xmlns:xlink="http://www.w3.org/1999/xlink">java/jdk14</package> です。</para>

      <table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Java を利用する ports で定義すべき変数</title>

	<tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	  <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">変数</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">意味</entry>
	    </row>
	  </thead>
	  <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_JAVA</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">この後の変数を有効にするには、
		この変数を定義しなければなりません。</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">JAVA_VERSION</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">スペースで区切られた、適合する Java
		のバージョン一覧。<literal xmlns:xlink="http://www.w3.org/1999/xlink">"+"</literal>
		を使ってバージョンの範囲を指定することもできます
		(使える値は、
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">1.1[+] 1.2[+] 1.3[+] 1.4[+]</literal>)
		です)。</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">JAVA_OS</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">スペースで区切られた、その port に適合する JDK
		port の OS 一覧。(使える値は、
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">native linux</literal>) です。</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">JAVA_VENDOR</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">スペースで区切られた、その port に適合する JDK
		port のベンダの一覧。(使える値は、
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">freebsd bsdjava sun ibm blackdown</literal>)
		です。</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">JAVA_BUILD</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">この変数が設定されていると、選択した JDK を、その
		port の構築依存性に追加します。</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">JAVA_RUN</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">この変数が設定されていると、選択した JDK を、その
		port の実行依存性に追加します。</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">JAVA_EXTRACT</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">この変数が設定されていると、選択した JDK を、その
		port の展開依存性に追加します。</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_JIKES</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">その port の構築に <command xmlns:xlink="http://www.w3.org/1999/xlink">jikes</command>
		バイトコードコンパイラを使うべきかどうかを示します。
		この変数に何の値も設定されていない時は、port は
		<command xmlns:xlink="http://www.w3.org/1999/xlink">jikes</command> が使えたら構築に利用します。
		<command xmlns:xlink="http://www.w3.org/1999/xlink">jikes</command> の利用を明示的に禁止したり、
		強制したりすることも可能です (<literal xmlns:xlink="http://www.w3.org/1999/xlink">'no'</literal>
		か <literal xmlns:xlink="http://www.w3.org/1999/xlink">'yes'</literal> を設定してください)。
		後者の場合は、<package xmlns:xlink="http://www.w3.org/1999/xlink">devel/jikes</package>
		が port の構築依存性に追加されます。</entry>
	    </row>
	  </tbody>
	</tgroup>
      </table>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">以下は、<varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_JAVA</varname>
	を設定した port で行われる設定の一覧です。</para>

      <table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Java を利用する ports で設定される変数</title>

	<tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	  <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">変数</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">値</entry>
	    </row>
	  </thead>
	  <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">JAVA_PORT</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">JDK port の名称 (例:
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">'java/jdk14'</literal>)。</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">JAVA_PORT_VERSION</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">JDK の完全なバージョン (例:
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">'1.4.2'</literal>)。最初の数字
		2 つだけしか必要でなければ、
		<varname xmlns:xlink="http://www.w3.org/1999/xlink">${JAVA_PORT_VERSION:C/^([0-9])\.([0-9])(.*)$/\1.\2/}</varname>
		を使ってください。</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">JAVA_PORT_OS</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">JDK port が利用する OS (例:
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">'linux'</literal>)。</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">JAVA_PORT_VENDOR</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">JDK port のベンダ (例:
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">'sun'</literal>)。</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">JAVA_PORT_OS_DESCRIPTION</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">JDK port が利用する OS の説明 (例:
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">'Linux'</literal>)。</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">JAVA_PORT_VENDOR_DESCRIPTION</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">JDK port のベンダの説明 (例:
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">'FreeBSD Foundation'</literal>)。</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">JAVA_HOME</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">JDK がインストールされているディレクトリのパス
		(例: <filename xmlns:xlink="http://www.w3.org/1999/xlink">'/usr/local/jdk1.3.1'</filename>)。</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">JAVAC</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">使用する Java コンパイラのパス (例:
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">'/usr/local/jdk1.1.8/bin/javac'</filename>
		または
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">'/usr/local/bin/jikes'</filename>)。</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">JAR</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">使用する <command xmlns:xlink="http://www.w3.org/1999/xlink">jar</command> ツールのパス (例:
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">'/usr/local/jdk1.2.2/bin/jar'</filename>
		または
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">'/usr/local/bin/fastjar'</filename>)。</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">APPLETVIEWER</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">appletviewer</command>
		ユーティリティへのパス (例:
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">'/usr/local/linux-jdk1.2.2/bin/appletviewer'</filename>)。</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">JAVA</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">java</command> 実行ファイルへのパス。
		Java プログラムの実行にはこれを使ってください (例:
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">'/usr/local/jdk1.3.1/bin/java'</filename>)。</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">JAVADOC</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">javadoc</command>
		ユーティリティプログラムへのパス。</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">JAVAH</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">javah</command>
		プログラムへのパス。</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">JAVAP</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">javap</command>
		プログラムへのパス。</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">JAVA_KEYTOOL</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">keytool</command>
		ユーティリティプログラムへのパス。
		この変数は、JDK が Java 1.2
		以上の場合のみ利用可能です。</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">JAVA_N2A</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">native2ascii</command>
		ツールへのパス。</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">JAVA_POLICYTOOL</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">policytool</command>
		プログラムへのパス。この変数は、JDK が Java 1.2
		以上の場合のみ利用可能です。</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">JAVA_SERIALVER</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">serialver</command>
		ユーティリティプログラムへのパス。</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">RMIC</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">RMI スタブ/スケルトンジェネレータ
		<command xmlns:xlink="http://www.w3.org/1999/xlink">rmic</command> へのパス。</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">RMIREGISTRY</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">RMI レジストリプログラム
		<command xmlns:xlink="http://www.w3.org/1999/xlink">rmiregistry</command> へのパス。</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">RMID</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">RMI デーモンプログラム <command xmlns:xlink="http://www.w3.org/1999/xlink">rmid</command>
		へのパス。この変数は、JDK が Java 1.2
		以上の場合のみ利用可能です。</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">JAVA_CLASSES</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">JDK クラスファイルが入っているアーカイブへのパス。
		JDK 1.2 以降では、これは
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">${JAVA_HOME}/jre/lib/rt.jar</filename> です。
		それより前の JDK は、
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">${JAVA_HOME}/lib/classes.zip</filename>
		を使います。</entry>
	    </row>
	  </tbody>
	</tgroup>
      </table>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Port のデバッグ情報を得るのに、
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">java-debug</literal> make ターゲットが使えます。
	これは、前述の変数の多くについて値を表示します。</para>

    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="using-python">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Python の利用</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">この節はまだ書かれていません。</para>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="using-emacs">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Emacs の利用</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">この節はまだ書かれていません。</para>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="using-ruby">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Ruby の利用</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">この節はまだ書かれていません。</para>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="using-sdl">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">SDL の利用</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_SDL</varname> 変数は、
	<package xmlns:xlink="http://www.w3.org/1999/xlink">devel/sdl12</package> や
	<package xmlns:xlink="http://www.w3.org/1999/xlink">x11-toolkits/sdl_gui</package>
	など、SDL ベースの ports
	への依存を自動設定するのに使われます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">今のところ、次の SDL ライブラリが認識されます。</para>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">sdl: <package xmlns:xlink="http://www.w3.org/1999/xlink">devel/sdl12</package></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">gfx: <package xmlns:xlink="http://www.w3.org/1999/xlink">graphics/sdl_gfx</package></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">gui: <package xmlns:xlink="http://www.w3.org/1999/xlink">x11-toolkits/sdl_gui</package></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">image: <package xmlns:xlink="http://www.w3.org/1999/xlink">graphics/sdl_image</package></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">ldbad: <package xmlns:xlink="http://www.w3.org/1999/xlink">devel/sdl_ldbad</package></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">mixer: <package xmlns:xlink="http://www.w3.org/1999/xlink">audio/sdl_mixer</package></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">mm: <package xmlns:xlink="http://www.w3.org/1999/xlink">devel/sdlmm</package></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">net: <package xmlns:xlink="http://www.w3.org/1999/xlink">net/sdl_net</package></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">sound: <package xmlns:xlink="http://www.w3.org/1999/xlink">audio/sdl_sound</package></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">ttf: <package xmlns:xlink="http://www.w3.org/1999/xlink">graphics/sdl_ttf</package></para>
	</listitem>
      </itemizedlist>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">したがって、ある port が
	<package xmlns:xlink="http://www.w3.org/1999/xlink">net/sdl_net</package> と
	<package xmlns:xlink="http://www.w3.org/1999/xlink">audio/sdl_mixer</package>
	に依存していたら、構文は次のようになります。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">USE_SDL=	  net mixer</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><package xmlns:xlink="http://www.w3.org/1999/xlink">net/sdl_net</package> と
	<package xmlns:xlink="http://www.w3.org/1999/xlink">audio/sdl_mixer</package>
	が必要とする <package xmlns:xlink="http://www.w3.org/1999/xlink">devel/sdl12</package>
	の依存も自動的に追加されます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_SDL</varname>
	を使うと、以下のことが自動的に行われます。</para>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">BUILD_DEPENDS</varname> に
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">sdl11-config</application>
	    への依存を追加します。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">CONFIGURE_ENV</varname> に
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">SDL_CONFIG</varname> 変数を追加します。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">LIB_DEPENDS</varname>
	    に選択したライブラリへの依存を追加します。</para>
	</listitem>
      </itemizedlist>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">SDL ライブラリが利用できるかどうか調べるためには、
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">WANT_SDL</varname> 変数を使ってください。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">WANT_SDL=yes

.include &lt;bsd.port.pre.mk&gt;

.if ${HAVE_SDL:Mmixer}!=""
USE_SDL+=   mixer
.endif

.include &lt;bsd.port.post.mk&gt;</programlisting>

    </sect1>
  </chapter>

<!--

    <chapter>
      <title>ELF 対応</title>

      <para>FreeBSD は 3.0-RELEASE で ELF に移行しましたので、
	共有ライブラリを作成するたくさんの port を
	ELF 対応にする必要があります。
	3.0 システムは ELF としても a.out としても動作しますし、
	わたしたちは非公式ではありますが、
	できるだけ長い間 2.2
	システムのサポートをしたいと思っていますので状況は複雑です。
	以下は a.out のみに対応している port
	をどのように a.out と ELF 両方に対応させるかのガイドラインです。</para>

      <para>このリストの一部は移行時にしかあてはまらないものもありますが、
	古い port をアップグレードしたい場合に参考になるようにしばらくのあいだは残しておきます。</para>

      <sect1>
	<title>a.out ライブラリの退避</title>

	<para>すべての a.out ライブラリは
	  <filename>/usr/local/lib</filename> から
	  <filename>aout</filename> サブディレクトリに移動しなくはなりません
	  (もし移動しないと、ELF ports
	  がそれらをあっさり上書きしてしまいます)。
	  3.0-CURRENT の <filename>src/Makefile</filename> にある
	  <maketarget>move-aout-libs</maketarget> ターゲット
	  (<maketarget>aout-to-elf</maketarget> から呼ばれます)
	  がその移動をしてくれます。
	  a.out ライブラリを移動するだけなので、
	  ELF と a.out の両方のライブラリが標準的なディレクトリにあるシステムでは、
	  このターゲットを実行しても安全です。</para>
      </sect1>

      <sect1>
	<title>フォーマット</title>

	<para>ports ツリーは、そのマシンの (訳注: オブジェクト) フォーマットで
	  package を作成します。
	  つまり、2.2 のマシンでは a.out で作成され、
	  3.0 のマシンでは <command>`objformat`</command> の結果によって
	  a.out か ELF で作成されるということです。
	  また、いったん a.out ライブラリをサブディレクトリに移動すると
	  a.out ライブラリの作成はサポート外となります。
	  (つまり、自分が何をやっているのかを理解していれば、移動後にも
	  うまく作成できる可能性もあるけれど、自力でやらなければならない
	  ということです。)</para>

	<note>
	  <para>もし port が a.out でしか動作しないのなら、
	    <makevar>BROKEN_ELF</makevar>
	    に原因を説明する文字列を設定してください。
	    この変数が設定された port は、ELF
	    システム上でのビルドの際スキップされます。</para>
	</note>
      </sect1>

      <sect1>
	<title>PORTOBJFORMAT</title>

	<para><filename>bsd.port.mk</filename> において
	  <makevar>PORTOBJFORMAT</makevar> は
	  <literal>aout</literal> か
	  <literal>elf</literal> に設定され、環境変数
	  <envar>CONFIGURE_ENV</envar>,
	  <envar>SCRIPTS_ENV</envar>,
	  <envar>MAKE_ENV</envar> の中で export されます
	  (2.2-STABLE
	  では常に <literal>aout</literal> になります)。
	  また、
	  <literal>PORTOBJFORMAT=${PORTOBJFORMAT}</literal> として
	  <maketarget>PLIST_SUB</maketarget> に渡されます
	  (以下にある
	  <literal>ldconfig</literal>
	  に関するコメントを参照してください)。</para>

	<para>この変数は、以下のようにして
	  <filename>bsd.port.mk</filename> 中で設定されます。</para>

	<programlisting>PORTOBJFORMAT!= test -x /usr/bin/objformat &amp;&amp; /usr/bin/objformat || echo aout</programlisting>

	<para>この変数を使って、port の make
	  の過程で何をすべきかを決定すべきですが、
	  もし port の <filename>configure</filename> スクリプトが元々
	  ELF システムを自動的に検出するのであれば、
	  <makevar>PORTOBJFORMAT</makevar>
	  を参照する必要はありません。</para>
      </sect1>

      <sect1>
	<title>共有ライブラリの作成</title>

	<para>以下は、a.out と ELF
	  での共有ライブラリの扱いの違いです。</para>

	<itemizedlist>
	  <listitem>
	    <para>共有ライブラリのバージョン</para>

	    <para>ELF の共有ライブラリは
	      <filename>libfoo.so.<replaceable>M</replaceable></filename>
	      という名前になっていなければなりません。
	      ここで <replaceable>M</replaceable>
	      は単一のバージョン番号を表します。
	      一方 a.out のライブラリは
	      <filename>libfoo.so.<replaceable>M</replaceable>.<replaceable>N</replaceable></filename>
	      という名前で、
	      <replaceable>M</replaceable> はメジャーバージョン番号、
	      <replaceable>N</replaceable>
	      はマイナーバージョン番号になっている必要があります。
	      これらを混同しないでください。
	      <filename>libfoo.so.<replaceable>N</replaceable>.<replaceable>M</replaceable></filename>
	      という名の ELF 共有ライブラリや
	      <filename>libfoo.so.<replaceable>N</replaceable></filename>
	      という名の a.out 共有ライブラリ
	      (あるいはシンボリックリンク)
	      は<emphasis>絶対にインストールしないでください</emphasis>。</para>
	  </listitem>

	  <listitem>
	    <para>リンカコマンドライン</para>

	    <para>直接 <command>ld</command> を使用せずに
	      <command>cc -shared</command> を使用してください。
	      たった一つの違いは、ELF には、
	      <option>-Wl,-<replaceable>soname,libfoo.so.M</replaceable></option>
	      コマンドラインにを加える必要があることです。</para>
	    < ! - - kuriyama - strange Japanese representation - - >
	  </listitem>
	</itemizedlist>

	<para>ELF のリンカを満足させるためには、
	  <filename>libfoo.so</filename> から
	  <filename>libfoo.so.<replaceable>N</replaceable></filename>
	  へのシンボリックリンクを作る必要があります。
	  これは <filename>pkg-plist</filename> にも加えなくてはいけませんし、
	  a.out の場合でも害にはならないので
	  (一部の port
	  ではダイナミックリンクローディングのために必要でもあります)、
	  <makevar>PORTOBJFORMAT</makevar>
	  の設定を気にせずに、ただ単純にリンクを作成してください。</para>
      </sect1>

      <sect1>
	<title><makevar>LIB_DEPENDS</makevar></title>

	<para>すべての port の <filename>Makefile</filename> を編集して
	  <makevar>LIB_DEPENDS</makevar>
	  からマイナー番号を除去する必要があり、
	  正規表現のサポートも除去する必要があります
	  (たとえば、
	  <literal>foo\\.1\\.\\(33|40\\)</literal> から
	  <literal>foo.2</literal>).
	  マッチングは <command>grep -wF</command>
	  を使って行なわれます。</para>
      </sect1>

      <sect1>
	<title><filename>pkg-plist</filename></title>

	<para><filename>pkg-plist</filename> は
	  a.out のマイナー番号が 0 であれば短い
	  (ELFの) 共有ライブラリの名前を含み、
	  そうでなければ長い (a.out の) 名前を含んでいる必要があります。
	  <makevar>PORTOBJFORMAT</makevar> が
	  <literal>aout</literal> であれば、
	  <filename>bsd.port.mk</filename> は自動的に
	  <literal>.0</literal> を短い共有ライブラリの名前の行に付け加え、
	  <makevar>PORTOBJFORMAT</makevar> が <literal>elf</literal>
	  であれば、
	  マイナー番号を長い共有ライブラリの名前から削除します。</para>

	<para>ELF システムで二つのバージョン番号を持つ共有ライブラリをインストールしたり、
	  a.out システムで一つのバージョン番号しか持たない共有ライブラリをインストールするのが避けられない場合
	  (たとえば他のオペレーティングシステム用の互換ライブラリをインストールする port など)、
	  <makevar>NO_FILTER_SHLIBS</makevar>
	  変数を定義すれば前のセクションで説明されている
	  <filename>pkg-plist</filename>
	  編集の機能が停止されます。</para>
      </sect1>

      <sect1>
	<title><literal>ldconfig</literal></title>

	< ! - - kuriyama - Eng. why literal? - - >
	  <para><filename>Makefile</filename> 中の
	    <literal>ldconfig</literal>
	    の行は以下のようになります。</para>

	  <programlisting>${SETENV} OBJFORMAT=${PORTOBJFORMAT} ${LDCONFIG} -m ....</programlisting>

	  <para>また <filename>pkg-plist</filename> 中では、</para>

	  <programlisting>@exec /usr/bin/env OBJFORMAT=%%PORTOBJFORMAT%% /sbin/ldconfig -m ...
@unexec /usr/bin/env OBJFORMAT=%%PORTOBJFORMAT%% /sbin/ldconfig -R</programlisting>

	  <para>となります。これは、
	    システムのデフォルトフォーマットではなく package のフォーマットに応じて、
	    正しい
	    <command>ldconfig</command>
	    が呼ばれることを保証するためのものです。</para>
      </sect1>
    </chapter>

-->

  <chapter xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-masterdir">
    <title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTERDIR</varname></title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">その port の変数 (たとえば解像度とか紙のサイズなど) を
      変えたりした、少しだけ違うバージョンを作成する必要があるときには、
      ユーザが分りやすいように package ごとに別々のサブディレクトリを作成し、
      できるだけ port 間でファイルを共有するようにしてください。
      ほとんどの場合、うまく変数を使えば、一つを除くすべてのディレクトリには
      とても短い <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> を置くだけで済みます。
      その短い <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> では、
      <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTERDIR</varname> を使って、
      残りのファイルがあるディレクトリを指定できます。
      また、<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="porting-pkgname"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGNAMESUFFIX</varname></link> の
      一部に変数に使って、package が別々の名前を持つようにしてください。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">具体的な例を示すのが一番わかりやすいでしょう。
      これは <filename xmlns:xlink="http://www.w3.org/1999/xlink">japanese/xdvi300/Makefile</filename> の一部です。</para>

    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">PORTNAME=       xdvi
PORTVERSION=    17
PKGNAMEPREFIX=  ja-
PKGNAMESUFFIX=  ${RESOLUTION}
 :
# default
RESOLUTION?=   300
.if ${RESOLUTION} != 118 &amp;&amp; ${RESOLUTION} != 240 &amp;&amp; \
       ${RESOLUTION} != 300 &amp;&amp; ${RESOLUTION} != 400
       @${ECHO} "Error: invalid value for RESOLUTION: \"${RESOLUTION}\""
       @${ECHO} "Possible values are: 118, 240, 300 (default) and 400."
       @${FALSE}
.endif</programlisting>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><package xmlns:xlink="http://www.w3.org/1999/xlink">japanese/xdvi300</package> には
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> の他に通常のパッチや、
      package ファイル等が置かれています。
      このディレクトリで <command xmlns:xlink="http://www.w3.org/1999/xlink">make</command> を実行すると、
      デフォルトの解像度 (300) を使って、
      普通に port のビルドを行ないます。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">他の解像度に関していうと、
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">xdvi118/Makefile</filename> に
      必要なのは<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">これだけ</emphasis>です:</para>

    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">RESOLUTION=     118
MASTERDIR=      ${.CURDIR}/../xdvi300

.include "${MASTERDIR}/Makefile"</programlisting>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">(<filename xmlns:xlink="http://www.w3.org/1999/xlink">xdvi240/Makefile</filename> や
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">xdvi400/Makefile</filename> も同様のものになります)。
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.mk</filename> は、
      <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTERDIR</varname> の定義から
      <varname xmlns:xlink="http://www.w3.org/1999/xlink">FILESDIR</varname> や <varname xmlns:xlink="http://www.w3.org/1999/xlink">SCRIPTDIR</varname> 等の
      通常のサブディレクトリが <filename xmlns:xlink="http://www.w3.org/1999/xlink">xdvi300</filename>
      以下に存在することを理解します。
      <literal xmlns:xlink="http://www.w3.org/1999/xlink">RESOLUTION=118</literal> の行が、
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">xdvi300/Makefile</filename> の
      <literal xmlns:xlink="http://www.w3.org/1999/xlink">RESOLUTION=300</literal> の行を上書きし、
      port は解像度を 118 として作成されます。</para>
  </chapter>

  <chapter xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="shared">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">共有ライブラリのバージョン</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">まず<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="../developers-handbook/policies-shlib.html">
      共有ライブラリのバージョンについての指針</link>を読んで、
      一般的に共有ライブラリのバージョンをどうすれば良いかを理解してください。
      ソフトウェアの作者は自分がしていることを理解していると、
      盲目的に信じていてはいけません。多くの場合は理解していないのです。
      細部にわたって注意深く考慮することは大変重要です。なぜなら我々は、
      互換性がないかもしれない大量のソフトウェアを共存させようとする特殊な状況にあるからです。
      むかし、不注意な port
      の導入が共有ライブラリに関する重大な問題を引き起してしまったことがあります
      (なぜ <filename xmlns:xlink="http://www.w3.org/1999/xlink">jpeg-6b</filename> の共有ライブラリのバージョン番号が
      9 なのか、今まで不思議に思ったことはありませんか?)。
      もし疑問があれば、<link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-ports">FreeBSD ports メーリングリスト</link> にメールを送ってください。
      ほとんどの時間は正しい共有ライブラリのバージョンを決めることと、
      それを実現するためのパッチを作成することに終始します。</para>

<!--

    <para>しかしながら、
      同じソフトウェアの違ったバージョンのソフトウェアが既にツリーにある場合には、
      状況は非常に複雑です。< ! - - kuriyama - strange translation? - - >
      つまり FreeBSD ではユーザがリンカにどのバージョンの共有ライブラリを使用するかを指定できないからです
      (リンカは常にもっとも高いバージョンを選びます)。
      これは、もし <filename>libfoo.so.3.2</filename> と
      <filename>libfoo.so.4.0</filename>
      がシステムに存在するときに、リンカに特別なアプリケーションだけ
      <filename>libfoo.so.3.2</filename>
      をリンクするよう指示する方法がないことを意味します。
      これはコンパイル時のリンクという意味では完全に見劣りします。
      この場合の唯一の解決方法は、
      共有ファイルの名前の<emphasis>ベース</emphasis>部分を変えることです。
      たとえば
      <filename>libfoo.so.4.0</filename> を
      <filename>libfoo4.so.1.0</filename> へ変えることによって、
      バージョン 3.2 とバージョン 4.0 共に他の
      port からリンクされることができるようになります。</para>

-->
  </chapter>

  <chapter xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-manpages">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">マニュアルページ</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">MAN[1-9LN]</varname> 変数に指定したマニュアルは
      自動的に <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename> に追加されます
      (つまり、マニュアルを <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename>
      に加えては<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">いけません</emphasis>― <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="porting-plist">pkg-plist の生成</link>を参照してください)。
      また、<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/make.conf</filename> 中の
      <varname xmlns:xlink="http://www.w3.org/1999/xlink">NOMANCOMPRESS</varname> の設定に従って、インストール時に
      マニュアルを自動的に圧縮したり復元したりします。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">その port が、シンボリックリンクやハードリンクを用いて、
      複数のファイル名を持つマニュアルをインストールする場合には、
      それらを識別するために <varname xmlns:xlink="http://www.w3.org/1999/xlink">MLINKS</varname>
      変数を使用しなければなりません。
      port によってインストールされたリンクは、
      意図したファイルをきちんと指しているかどうか確認するため、
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.mk</filename> によって削除されたり、
      再作成されたりします。
      MLINKS に指定されたマニュアルも、
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename> に含めてはいけません。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">マニュアルをインストール時に圧縮するかどうかを指定するには、
      <varname xmlns:xlink="http://www.w3.org/1999/xlink">MANCOMPRESSED</varname> 変数を使用します。
      この変数は <literal xmlns:xlink="http://www.w3.org/1999/xlink">yes</literal>, <literal xmlns:xlink="http://www.w3.org/1999/xlink">no</literal>
      そして <literal xmlns:xlink="http://www.w3.org/1999/xlink">maybe</literal> の三つの値をとることができます、
      <literal xmlns:xlink="http://www.w3.org/1999/xlink">yes</literal>
      はマニュアルが既に圧縮されてインストールされていること、
      <literal xmlns:xlink="http://www.w3.org/1999/xlink">no</literal> は圧縮されていないこと、
      <literal xmlns:xlink="http://www.w3.org/1999/xlink">maybe</literal> は既にそのソフトウェアが
      <varname xmlns:xlink="http://www.w3.org/1999/xlink">NOMANCOMPRESS</varname> の値に従っていて、
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.mk</filename>
      は特別なにもする必要がないことを意味します。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_IMAKE</varname> がセットされていて、
      <varname xmlns:xlink="http://www.w3.org/1999/xlink">NO_INSTALL_MANPAGES</varname> がセットされていなければ、
      <varname xmlns:xlink="http://www.w3.org/1999/xlink">MANCOMPRESSED</varname> は自動的に <literal xmlns:xlink="http://www.w3.org/1999/xlink">yes</literal>
      に設定されます。それ以外の場合には、<varname xmlns:xlink="http://www.w3.org/1999/xlink">MANCOMPRESSED</varname>
      は <literal xmlns:xlink="http://www.w3.org/1999/xlink">no</literal> に設定されます。
      その port にとって、デフォルトの設定が適切でない場合以外には、
      明示的に設定する必要はありません。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX</varname>
      以外のディレクトリの下にマニュアルを置くような port
      では、そのディレクトリを <varname xmlns:xlink="http://www.w3.org/1999/xlink">MANPREFIX</varname>
      で指定することができます。
      さらに、いくつかの <literal xmlns:xlink="http://www.w3.org/1999/xlink">perl</literal> モジュールの ports のように、
      特定のセクションのマニュアルだけを非標準の場所にインストールする場合、
      個々のマニュアルのパスを
      <varname xmlns:xlink="http://www.w3.org/1999/xlink">MAN<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">sect</replaceable>PREFIX</varname>
      (ここで <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">sect</replaceable> は <literal xmlns:xlink="http://www.w3.org/1999/xlink">1-9</literal>,
      <literal xmlns:xlink="http://www.w3.org/1999/xlink">L</literal>, または <literal xmlns:xlink="http://www.w3.org/1999/xlink">N</literal> のいずれか)
      により指定することができます。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">マニュアルが言語特有のサブディレクトリに置かれる場合には、
      その言語名を <varname xmlns:xlink="http://www.w3.org/1999/xlink">MANLANG</varname> に設定してください。
      この変数のデフォルト値は <literal xmlns:xlink="http://www.w3.org/1999/xlink">""</literal>
      になっています (つまり、英語のみ)。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">これは、全部をまとめた例です。</para>

    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">MAN1=           foo.1
MAN3=           bar.3
MAN4=           baz.4
MLINKS=         foo.1 alt-name.8
MANLANG=        "" ja
MAN3PREFIX=     ${PREFIX}/share/foobar
MANCOMPRESSED=  yes</programlisting>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">これは、この port により以下の
      6 個のファイルがインストールされることを表しています。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">${PREFIX}/man/man1/foo.1.gz
${PREFIX}/man/ja/man1/foo.1.gz
${PREFIX}/share/foobar/man/man3/bar.3.gz
${PREFIX}/share/foobar/man/ja/man3/bar.3.gz
${PREFIX}/man/man4/baz.4.gz
${PREFIX}/man/ja/man4/baz.4.gz</programlisting>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">さらに
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">${PREFIX}/man/man8/alt-name.8.gz</filename>
      がこの port によってインストールされるかどうかわかりませんが、
      それとは無関係に foo(1) と alt-name(8)
      のマニュアルページを指すシンボリックリンクが作成されます。</para>
  </chapter>

  <chapter xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-motif">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">Motif を必要とする port</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">コンパイルに Motif ライブラリを必要とするアプリケーションがいくつかあります
      (Motif 自体は有料のものがいくつかの会社から手に入りますし、
      <package xmlns:xlink="http://www.w3.org/1999/xlink">x11-toolkits/lesstif</package>
      には多くのアプリケーションを動作させることが可能な無料の互換ライブラリもあります)。
      Motif は広く使われているツールキットですし、
      有料のもののライセンスでもライブラリを静的にリンクした実行形式の再配布が認められている場合が多いので、
      Motif を必要とするソフトウェアを簡単に
      (port からコンパイルする人々のために) 動的にでも、
      (package を配布する人々のために) 静的にでもリンクできるような仕組みが用意されています。</para>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="motif-use">
      <title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_MOTIF</varname></title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Motif が無いとコンパイルできない port
	の <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> では、この変数を指定してください。
	これにより、Motif を持っていない人がこの
	port をコンパイルしようとするのを未然に防ぎます。</para>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="motif-lib">
      <title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">MOTIFLIB</varname></title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">この変数は <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.mk</filename> によって適当な
	Motif ライブラリの指定に置き換えられます。Port のソースの
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> や <filename xmlns:xlink="http://www.w3.org/1999/xlink">Imakefile</filename>
	で Motif ライブラリを参照しているところを、
	この変数を参照するようにパッチを適用してください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">代表的な例としては以下の二つがあげられます:</para>

      <orderedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Makefile か Imakefile の中で Motif ライブラリが
	    <option xmlns:xlink="http://www.w3.org/1999/xlink">-lXm</option> として使われている場合には、
	    かわりに
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">MOTIFLIB</varname>
	    と書いてください。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Imakefile の中で <literal xmlns:xlink="http://www.w3.org/1999/xlink">XmClientLibs</literal>
	    が使われている場合には、それを
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">${MOTIFLIB} ${XTOOLLIB} ${XLIB}</literal>
	    と書きかえてください。</para>
	</listitem>
      </orderedlist>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">なお <varname xmlns:xlink="http://www.w3.org/1999/xlink">MOTIFLIB</varname> は通常、
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">-L/usr/X11R6/lib   -lXm</literal> か
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">/usr/X11R6/lib/libXm.a</literal>
	に置き換えられます。
	したがって前に <option xmlns:xlink="http://www.w3.org/1999/xlink">-L</option> や
	<option xmlns:xlink="http://www.w3.org/1999/xlink">-l</option> をつける必要はありません。</para>
    </sect1>
  </chapter>

  <chapter xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="x11-fonts">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">X11 のフォント</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">もし、あなたの port が X Window System
      のフォントをインストールするのであれば、
      それらを
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">X11BASE/lib/X11/fonts/local</filename>
      に置くようにしてください。このディレクトリは
      <application xmlns:xlink="http://www.w3.org/1999/xlink">XFree86 3.3.3</application> で新設されたものです。
      このディレクトリが存在しなければ作成して、ユーザに
      <application xmlns:xlink="http://www.w3.org/1999/xlink">XFree86</application> を
      3.3.3 かそれより新しいものに更新するか、
      少なくともこのディレクトリを <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/XF86Config</filename>
      のフォントパスに加えるように促すメッセージを出力するようにしてください。
    </para>
  </chapter>

  <chapter xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-info">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">Info ファイル</title>

     <para xmlns:xlink="http://www.w3.org/1999/xlink">あなたが作成している package で GNU info
       ファイルをインストールする必要があれば、それを
       <varname xmlns:xlink="http://www.w3.org/1999/xlink">INFO</varname> 変数に (後ろの <literal xmlns:xlink="http://www.w3.org/1999/xlink">.info</literal>
       なしで) 書いてください。package 登録の前に一時的に生成された
       <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename> に、
       適切なインストールおよびアンインストールコードが自動的に追加されます。</para>
  </chapter>

  <chapter xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="pkg-files">
    <title xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-*</filename> ファイル</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-*</filename> ファイルには、
      まだ取り上げていない何かと重宝なトリックがいくつかあります。</para>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-message">
      <title xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-message</filename></title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">もしインストールする人にメッセージを表示する必要がある場合には、
	そのメッセージを
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-message</filename> に置くことができます。
	この機能は <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pkg_add</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>
	の後の追加のインストール手続きを表示するときなどに重宝します。</para>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-message</filename> ファイルは
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename> に加える必要はありません。
	  また、もしユーザが package ではなく
	  port を使用している場合には自動的には表示されませんので、
	  明示的に <buildtarget>post-install</buildtarget>
	  で表示するようにするべきでしょう。</para>
      </note>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="pkg-install">
      <title xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-install</filename></title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">バイナリパッケージが <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pkg_add</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>
	でインストールされるときに実行する必要のあるコマンドがあれば、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-install</filename>
	スクリプトを使って実行することができます。
	このスクリプトは自動的に package に加えられ、
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pkg_add</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> によって 2 回実行されます。
	1 回目は
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">${SH} pkg-install ${PKGNAME} PRE-INSTALL</literal>
	として、2 回目には
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">${SH} pkg-install ${PKGNAME} POST-INSTALL</literal>
	として実行されます。
	どちらのモードで実行されているかは
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">$2</literal> を調べることによってわかります。
	環境変数 <envar xmlns:xlink="http://www.w3.org/1999/xlink">PKG_PREFIX</envar> には
	package がインストールされるディレクトリが設定されます。
	詳細は <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pkg_add</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> を見てください。</para>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">
	  port を <command xmlns:xlink="http://www.w3.org/1999/xlink">make install</command>
	  でインストールするときにはこのスクリプトは自動的に実行されません。
	  もし実行される必要があるならば port の Makefile
	  から明示的に呼ぶ必要があります。
	</para>
      </note>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="pkg-deinstall">
      <title xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-deinstall</filename></title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">このスクリプトは package が削除される際に実行されます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">このスクリプトは、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pkg_delete</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> から
	2 回実行されます。1 回目は
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">${SH} pkg-install ${PKGNAME} DEINSTALL</literal>
	と、2 回目は
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">${SH} pkg-install ${PKGNAME} POST-DEINSTALL</literal>
	という形で実行されます。 </para>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="pkg-req">
      <title xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-req</filename></title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">(訳注: 実行されるマシンの状態に応じて) その port
	をインストールするべきか、そうでないかを判断する必要があるときには、
	<quote xmlns:xlink="http://www.w3.org/1999/xlink">要件 (requirements)</quote> スクリプト
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-req</filename> を作ることができます。
	インストールや削除を実行すべきかどうか判断するために、
	このスクリプトがインストールや削除を実行する際に自動的に実行されます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">このスクリプトはインストール時には <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pkg_add</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> により
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">pkg-req ${PKGNAME} INSTALL</literal> として実行され、
	削除時には <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pkg_delete</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> により
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">pkg-req ${PKGNAME} DEINSTALL</literal> として
	実行されます。</para>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-plist">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">make の変数にあわせた
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename> の変更</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">いくつかの port、特に <literal xmlns:xlink="http://www.w3.org/1999/xlink">p5-</literal> ports
	などは、configure のオプション
	(あるいは、<literal xmlns:xlink="http://www.w3.org/1999/xlink">p5-</literal>
	の場合は <literal xmlns:xlink="http://www.w3.org/1999/xlink">perl</literal> のバージョン) によって
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename> を変える必要があります。
	これを容易に実現するために
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename> 中の
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">%%OSREL%%</literal>,
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">%%PERL_VER%%</literal>,
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">%%PERL_VERSION%%</literal>
	は適切に置き換えられるようになっています。
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">%%OSREL%%</literal>
	の値はオペレーティングシステムの数字で表されたリビジョンです
	(たとえば <literal xmlns:xlink="http://www.w3.org/1999/xlink">4.9</literal>)。
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">%%PERL_VERSION%%</literal> は <command xmlns:xlink="http://www.w3.org/1999/xlink">perl</command>
	のバージョン番号全体
	(たとえば <literal xmlns:xlink="http://www.w3.org/1999/xlink">5.00502</literal>)
	で、<literal xmlns:xlink="http://www.w3.org/1999/xlink">%%PERL_VER%%</literal> は <command xmlns:xlink="http://www.w3.org/1999/xlink">perl</command>
	のバージョン番号からパッチレベルを引いたものです
	(たとえば <literal xmlns:xlink="http://www.w3.org/1999/xlink">5.005</literal>)。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">他の置き換えが必要であれば、<varname xmlns:xlink="http://www.w3.org/1999/xlink">PLIST_SUB</varname>
	変数に
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">VAR=VALUE</literal>
	という形式のペアのリストを設定することによって、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename> 中の
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">%%VAR%%</literal> は
	<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">VALUE</replaceable> に置き換えられます。
	たとえばバージョンに固有のたくさんのファイルをインストールする場合には、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> に</para>
      <!-- kuriyama - Eng ver has unneeded quote above -->

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">OCTAVE_VERSION= 2.0.13
PLIST_SUB=      OCTAVE_VERSION=${OCTAVE_VERSION}</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">と書いて、<filename xmlns:xlink="http://www.w3.org/1999/xlink">PLIST</filename>
	中のバージョン番号が表われるすべてのところに、
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">%%OCTAVE_VERSION%%</literal> と書きます。
	このようにしておけば、port をアップグレードするときに、
	何十行 (時として、何百行) も
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename>
	を書き替えないですみます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">この書き換えは
	(<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="porting-manpages">マニュアル</link>の追加も)
	<buildtarget>pre-install</buildtarget> と
	<buildtarget>do-install</buildtarget> ターゲットの間に
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</varname> を読み
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">TMPPLIST</varname>
	(デフォルトは
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">WRKDIR/.PLIST.mktmp</filename>)
	に書き込むことによって行なわれます。
	もし、あなたの port が
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">PLIST</varname> を実行時に生成するのであれば、
	<buildtarget>pre-install</buildtarget>
	の間かその前に行なうようにしてください。
	また、書きかえられたあとのファイルを編集する必要がある場合には、
	<buildtarget>post-install</buildtarget>
	で <varname xmlns:xlink="http://www.w3.org/1999/xlink">TMPPLIST</varname> を書きかえてください。</para>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="pkg-names">
      <title xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-pkgfiles"><filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-*</filename>
	ファイルの名前変更</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-*</filename>
	ファイルの名前はすべて変数を使用して定義されていますので、
	必要であれば
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> 中で変更可能です。
	いくつかの ports で一つの
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-*</filename>
	ファイルを共有する場合や、
	上記のファイルに書き込みをしなければならないときなど特に便利です
	(<filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-*</filename>
	サブディレクトリに直接書き込むのが良くない理由については
	<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="porting-wrkdir"><varname xmlns:xlink="http://www.w3.org/1999/xlink">WRKDIR</varname>
	以外への書きこみ</link> を参照してください)。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">以下に変数名と そのデフォルト値のリストを示します。
	(<varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGDIR</varname> のデフォルト値は
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">${MASTERDIR}</varname> になっています。)</para>

      <informaltable xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	<tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	  <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">変数名</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">デフォルト値</entry>
	    </row>
	  </thead>

	  <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">DESCR</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">${PKGDIR}/pkg-descr</literal></entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PLIST</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">${PKGDIR}/pkg-plist</literal></entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGINSTALL</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">${PKGDIR}/pkg-install</literal></entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGDEINSTALL</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">${PKGDIR}/pkg-deinstall</literal></entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGREQ</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">${PKGDIR}/pkg-req</literal></entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGMESSAGE</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">${PKGDIR}/pkg-message</literal></entry>
	    </row>
	  </tbody>
	</tgroup>
      </informaltable>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PKG_ARGS</varname>
	を上書きせずにこれらの変数を変更するようにしてください。
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">PKG_ARGS</varname>
	を変更すると、これらのファイルは port から正しく
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/db/pkg</filename>
	にインストールされなくなります。</para>
    </sect1>
  </chapter>

  <chapter xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="testing">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">port のテスト</title>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="testing-portlint">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">portlint</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">送付や commit をする前に
	<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="porting-portlint"><command xmlns:xlink="http://www.w3.org/1999/xlink">portlint</command></link>
	を使ってチェックしましょう。</para>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-prefix">
      <title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX</varname></title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">なるべく port は <varname xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX</varname>
	に対する相対パスにインストールすることができるように心がけてください
	(この変数の値は
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_X_PREFIX</varname> か
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_IMAKE</varname> が指定してある時には
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">X11BASE</varname>
	(デフォルトは <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/X11R6</filename>)、
	そうでない場合には<varname xmlns:xlink="http://www.w3.org/1999/xlink">LOCALBASE</varname>
	(デフォルトは <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local</filename>)
	にセットされます)。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">サイトによってフリーソフトウェアがインストールされる場所が違いますので、
	ソース内で
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local</filename> や
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/X11R6</filename>
	を明示的に書かないようにしてください。
	X のプログラムで
	<command xmlns:xlink="http://www.w3.org/1999/xlink">imake</command> を使うものについては、
	<!-- kuriyama - imake is command -->
	これは問題にはなりません。
 	それ以外の場合には port の <filename xmlns:xlink="http://www.w3.org/1999/xlink">scripts/Makefile</filename> で
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local</filename>
	(imake を使わない X のプログラムは <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/X11R6</filename>)
	と書いてあるところを、
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">${PREFIX}</varname> に書き換えてください。
	この値は port のコンパイルおよび、
	インストールの全段階において、自動的に下位のプロセスに渡されます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">そのアプリケーションが <varname xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX</varname> を
	使用しないで、何かを直接 <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local</filename> に
	インストールしないことを確認してください。
	以下のようにすると、簡単なテストを行なうことができます:</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make clean; make package PREFIX=/var/tmp/port-name</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">この時、もし <varname xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX</varname> の外に
	何かがインストールされていた場合、package 生成プロセスは
	ファイルが見つからないと文句を言うはずです。</para>

      <!-- XXX This paragraph is confusing and poorly indented. -->
      <para xmlns:xlink="http://www.w3.org/1999/xlink">ただし、これは そのソフトウェアが内部で決め打ちの参照を
	していないかどうか だとか、他の port によってインストールされる
	ファイルを参照する際に <varname xmlns:xlink="http://www.w3.org/1999/xlink">LOCALBASE</varname> を
	正しく使用しているかどうかをテストしているわけではありません。
	その port を他の場所にインストールした状態で、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/tmp/port-name</filename> に
	対するインストールを試みることにより、
	そのテストをすることができるでしょう。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_X_PREFIX</varname> は本当に必要な時 (つまり
	X のライブラリをリンクしたり、<varname xmlns:xlink="http://www.w3.org/1999/xlink">X11BASE</varname> 以下にある
	ファイルを参照したりする必要がある時) 以外には
	設定しないでください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">変数 <varname xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX</varname> の値は
	port の Makefile やユーザの環境で変更することもできます。
	しかし、個々の port が Makefile
	でこの変数の値を明示的に設定することはなるべくしないでください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">また、他の port によりインストールされるプログラムや
	ファイルを指定する場合には、直接的なパス名を使用するのではなく
	上で述べた変数を使用してください。
	たとえば <command xmlns:xlink="http://www.w3.org/1999/xlink">less</command> のフルパスを
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">PAGER</literal> というマクロに入れたい場合は、
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">-DPAGER=\"/usr/local/bin/less\"</literal>
	というフラグをコンパイラに渡すかわりに
	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">-DPAGER=\"${PREFIX}/bin/less\"</programlisting>
	(X Window System を使う port の場合には
	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">-DPAGER=\"${LOCALBASE}/bin/less\"</programlisting>)
	を渡してください。
	こうしておけば、システム管理者が <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local</filename> を
	まるごと どこか他の場所に移していたとしても、その port が
	そのまま使える可能性が高くなります。</para>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="testing-freshports">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">FreshPorts 正当性テスト</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><uri xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.FreshPorts.org/">http://www.FreshPorts.org/</uri>
	には、FreeBSD ports へ commit されたものについて、
	自動的に正当性テストを行う仕組みがあります。
	このサービスに登録すると、あなたが commit したものについて、
	正当性テストでエラーが起きると連絡が行きます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">このサービスを利用したい場合、必要なのは FreshPorts
	のアカウントだけです。登録したメールアドレスが
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">@FreeBSD.org</literal>	のものであれば、
	ウェブページの右側にサービスを選択するリンクがあるはずです。
	FreshPorts にアカウントを持っていても
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">@FreeBSD.org</literal>
	のメールアドレスを利用していない場合、メールアドレスを
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">@FreeBSD.org</literal> に変え、登録したあとで、
	メールアドレスをまた変更してください。</para>
    </sect1>
  </chapter>

  <chapter xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="port-upgrading">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">アップグレード</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">port のバージョンが原作者からのものに比べて古いことに気がついたら、
      まずはあなたの持っている port が私たちの最新のもの
      (最新の port は FreeBSD FTP ミラーサイトの <filename xmlns:xlink="http://www.w3.org/1999/xlink">ports/ports-current</filename>
      というディレクトリにあります)
      であることを確認してください。
      また、Ports Collection 全体を最新の状態に保つために
      <application xmlns:xlink="http://www.w3.org/1999/xlink">CVSup</application> を利用することもできます。
      詳しくは
      <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="../handbook/synching.html#CVSUP-CONFIG">FreeBSD
	ハンドブック</link>をご覧ください。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">次に port の
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> に
      <varname xmlns:xlink="http://www.w3.org/1999/xlink">MAINTAINER</varname> (保守担当者)
      のアドレスが書いてある場合には、その人にメールを出してみましょう。
      保守担当者の人がすでにアップグレードの準備をしているかも知れませんし、
      (新しいバージョンの安定度に問題があるなど)
      あえてアップグレードをしない理由があるのかも知れません。
      その人たちと作業を重複させたくはないでしょう。
      なお、保守されていない ports は、保守担当者が
      <literal xmlns:xlink="http://www.w3.org/1999/xlink">ports@FreeBSD.org</literal>
      になっています。その場合は、
      そのアドレスにメールを送っても役に立たないでしょう。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">保守担当者にアップグレードをしてくれと頼まれた場合、
      あるいは、保守担当者が <literal xmlns:xlink="http://www.w3.org/1999/xlink">ports@FreeBSD.org</literal>
      の場合は、あなたがアップグレードをしてくださると助かります。
      その場合にはアップグレードを作成した後、
      変更前と変更後のディレクトリの再帰的 <command xmlns:xlink="http://www.w3.org/1999/xlink">diff</command>
      の出力結果を保存してください
      (たとえば変更前のディレクトリが
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">superedit.bak</filename>
      という名前でとってあり、変更後のものが
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">superedit</filename>
      に入っているなら、
      <command xmlns:xlink="http://www.w3.org/1999/xlink">diff -ruN superedit.bak superedit</command>
      の結果を保存してください)。
      unified または context diff のどちらでも構いませんが
      port のコミッターは一般に unified diff の方を好むようです。
      <literal xmlns:xlink="http://www.w3.org/1999/xlink">-N</literal> オプションの使い方を覚えておいてください。
      これは、新たにファイルが追加されたり、
      古いファイルが削除された場合を diff
      が正しく扱えるようにする方法です。わたしたちに差分を送る前に、
      すべての変更が正しくなされているか出力結果を確認してください。</para>
  
    <para xmlns:xlink="http://www.w3.org/1999/xlink">差分を送る一番良い方法は <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">send-pr</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>
      (カテゴリは <literal xmlns:xlink="http://www.w3.org/1999/xlink">ports</literal>)
      に diff の出力結果を添えて、わたしたちに送ってもらうのが一番良いです。
      commit する際に CVS に明確に記述しなければならないので、
      あなたがその port のメンテナになるなら、概要 (synopsis) 行の先頭に
      <literal xmlns:xlink="http://www.w3.org/1999/xlink">[maintainer update]</literal>
      と記入し、PR の <quote xmlns:xlink="http://www.w3.org/1999/xlink">Class</quote> を
      <literal xmlns:xlink="http://www.w3.org/1999/xlink">maintainer-update</literal> にしてください。
      付け加えたり削除したりしたファイルがあればそれについて書いておいてください。
      もし diff の大きさが 20 KB 程度を超えるようであれば、
      圧縮したものを uuencode してください。
      そうでなければそのまま PR に入れるだけで構いません。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">最後に、役に立つ障害報告の書き方について詳しいことは、
	障害報告についての記事の
	<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="../../articles/problem-reports/pr-writing.html">
	障害報告の書き方</link>の節を読んでください。</para>

      <important xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">更新の動機が、セキュリティ上の問題や、
	  現在 commit されている port に重大な欠陥である場合は、
	  ports 管理チーム <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">portmgr@FreeBSD.org</email> に連絡して、あなたの port
	  のパッケージをただちに作りなおして再配布するように要求してください。
	  そうしないと、無防備な <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pkg_add</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>
	  のユーザたちが、何週間にもわたって <command xmlns:xlink="http://www.w3.org/1999/xlink">pkg_add -r</command>
	  で古いバージョンをインストールし続けてしまいます。</para>
      </important>

    <note xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">繰り返しになりますが、既存の ports の変更を送るときには
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">shar</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> ではなく <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">diff</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> を使用してください!</para>
    </note>
  </chapter>

  <chapter xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-dads">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">やっていいことといけないこと</title>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="dads-intro">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">はじめに</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">このセクションではソフトウェアを port する上で、
      良くある落し穴などについて説明します。
      このリストを使ってあなた自身が作成した port のチェックはもとより、
      さらに<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.FreeBSD.org/cgi/query-pr-summary.cgi?query">障害報告データベース</link>
      にある他の人が提出した port のチェックもできます。
      PR データベースにある、
      他の人が作成した port のチェックもできます。
      あなたがチェックした port についてのコメントを<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="../../articles/contributing/contrib-how.html#CONTRIB-GENERAL">
      バグ報告と一般的な論評</link>にしたがって送ってください。
      PR データベースにある port をチェックすることは、
      わたしたちがそれらを commit するのを早めるとともに、
      何をしているかをあなたが理解していることも証明します。</para>
    <!-- 2000/07/16:hrs strange translation -->
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="dads-strip">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">バイナリの strip</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">バイナリは特に必要がなければ、手動で strip しないでください。
	すべてのバイナリは strip すべきですが、
	<buildtarget>INSTALL_PROGRAM</buildtarget>
	マクロがバイナリのインストールと strip を同時に行います
	(次節をご覧ください)。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ファイルを strip する必要はあるものの
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">INSTALL_PROGRAM</varname> マクロを使いたくない場合は、
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">${STRIP_CMD}</varname> でプログラムを strip できます。
	これは、多くの場合 <literal xmlns:xlink="http://www.w3.org/1999/xlink">post-install</literal>
	ターゲット内で行われます。たとえば</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">post-install:
	${STRIP_CMD} ${PREFIX}/bin/xdl</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">インストールされた実行形式がすでに strip
	されているかどうかは <command xmlns:xlink="http://www.w3.org/1999/xlink">file</command>
	コマンドで確認できます。
	<quote xmlns:xlink="http://www.w3.org/1999/xlink">not stripped</quote>
	と表示されなければ strip されていることを示しています。
	さらに、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">strip</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> はすでに strip されたプログラムは
	strip せず、問題なく終了します。</para>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="dads-install">
      <title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">INSTALL_*</varname> マクロ</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">あなた自身の <buildtarget>*-install</buildtarget>
	ターゲットでファイルの正しいモードとオーナを保証するために、
	必ず
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.mk</filename>
	で提供されているマクロを使用してください。</para>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">${INSTALL_PROGRAM}</varname>
	    は実行可能なバイナリをインストール
	    (し、その過程で strip 処理)するコマンドです。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">${INSTALL_SCRIPT}</varname>
	    は実行可能なスクリプトをインストールするコマンドです。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">${INSTALL_DATA}</varname>
	    は共有可能なデータをインストールするコマンドです。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">${INSTALL_MAN}</varname>
	    はマニュアルとその他の文書をインストールするコマンドです
	    (圧縮はしません)。</para>
	</listitem>
      </itemizedlist>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">これらは基本的に <command xmlns:xlink="http://www.w3.org/1999/xlink">install</command>
	コマンドに適切なフラグを与えたものです。
	それらは distfile の <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>
	で、頭に <quote xmlns:xlink="http://www.w3.org/1999/xlink">BSD_</quote> が付けられた
	(つまり BSD_INSTALL_PROGRM というような)
	形で使うことができます。
	どのようにこれらを使用するかは以下の例を見てください。
      </para>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-wrkdir">
      <title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">WRKDIR</varname></title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">WRKDIR</varname>
	の外に存在するファイルには何も書き込んではいけません。
	port のビルド中に書き込み可能なことが保証されているのは
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">WRKDIR</varname> の中だけです
	(書き込み不可のツリー上での port ビルドの例については、
	<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="../handbook/ports-using.html#PORTS-CD">CDROM からの
	ports のインストール</link> を参照のこと)。
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-*</filename>
	ファイルを変更する必要があるときには、
	ファイルを上書きするのではなく
	<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="porting-pkgfiles">変数の再定義</link>により
	行なうようにしてください。</para>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-wrkdirprefix">
      <title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">WRKDIRPREFIX</varname></title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">WRKDIRPREFIX</varname>
	を尊重していることを確認してください。特に、別の port の
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">WRKDIR</varname> を参照しているときには気を付けてください。
	正しい場所は、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">WRKDIRPREFIXPORTSDIR/subdir/name/work</filename>
	です。
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">PORTSDIR/subdir/name/work</filename>
	や
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">.CURDIR/../../subdir/name/work</filename>
	ではありません。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">また、
	自分で <varname xmlns:xlink="http://www.w3.org/1999/xlink">WRKDIR</varname> 定義するときには先頭に
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">${WRKDIRPREFIX}${.CURDIR}</literal>
	が付いていることを確認してください。</para>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-versions">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">OS の種類やバージョンの識別</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">どのバージョンの Unix で動かすかによって、
	変更や条件つきコンパイルが必要なコードに出くわすこともあるでしょう。
	そのような変更を行なう場合には、
	古い FreeBSD システムへのバックポートや、
	CSRG の 4.4BSD, BSD/386, 386BSD, NetBSD, OpenBSD 等、
	他の BSD システムへの移植が可能なように、
	できるだけ汎用的な変更を行なうことを心がけてください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">4.3BSD/Reno (1990) と、それより新しいバージョンの
	BSD コードを区別するには、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">&lt;sys/param.h&gt;</filename> で定義されている
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">BSD</literal> マクロを利用するのがよいでしょう。
	このファイルがすでにインクルードされていれば良いのですが、
	そうでない場合には、その <filename xmlns:xlink="http://www.w3.org/1999/xlink">.c</filename> ファイルの
	適当な場所に以下のコードを追加してください。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">#if (defined(__unix__) || defined(unix)) &amp;&amp; !defined(USG)
#include &lt;sys/param.h&gt;
#endif</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">これらの二つのシンボルが定義されているシステムには必ず
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">sys/param.h</filename> があるはずです。
	もしそうでないシステムを発見したら、
	<link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-ports">FreeBSD ports メーリングリスト</link> までメールを送ってわたしたちに伝えてください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">あるいは、GNU Autoconf のスタイルを使用することもできます。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">#ifdef HAVE_SYS_PARAM_H
#include &lt;sys/param.h&gt;
#endif</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">この方法を使用するときには、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> 中の
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">CFLAGS</varname>に
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">-DHAVE_SYS_PARAM_H</literal>
	を加えることを忘れないようにしてください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">いったん <filename xmlns:xlink="http://www.w3.org/1999/xlink">sys/param.h</filename>
	がインクルードされると、</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">#if (defined(BSD) &amp;&amp; (BSD &gt;= 199103))</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">このようにしてそのコードが 4.3 Net2 コードベース、
	またはそれより新しいもの
	(例: FreeBSD 1.x, 4.3/Reno, NetBSD 0.9, 386BSD, BSD/386 1.1 とそれ以前)
	の上でコンパイルされているかを検出できます。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">#if (defined(BSD) &amp;&amp; (BSD &gt;= 199306))</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">これは、4.4コードベース、またはそれより新しいもの
	(例: FreeBSD 2.x, 4.4, NetBSD 1.0, BSD/386 2.0 とそれ以後)
	の上でコンパイルされているかどうかを検出するために使用します。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">4.4BSD-Lite2 コードベースでは
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">BSD</literal> マクロの値は
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">199506</literal> になっています。
	これは参考程度の意味合いしかありません。
	4.4-Lite ベースの FreeBSD と 4.4-Lite2
	での変更がマージされたバージョンとを区別するのに使用するべきものではありません。
	この目的のためにはかわりに
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">__FreeBSD__</literal>
	マクロを使用してください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">以下は控え目に使ってください。</para>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">__FreeBSD__</literal>
	    はFreeBSDのすべての版で定義されています。
	    変更が FreeBSD だけに適用されるとき以外は使用しないでください。
	    port でよくある
	    <function xmlns:xlink="http://www.w3.org/1999/xlink">strerror()</function> ではなく
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">sys_errlist[]</literal> を使うなどは
	    FreeBSDでの変更ではなく BSD の流儀です。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 2.xでは <literal xmlns:xlink="http://www.w3.org/1999/xlink">__FreeBSD__</literal> が
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">2</literal> と定義されています。
	    それ以前の版では <literal xmlns:xlink="http://www.w3.org/1999/xlink">1</literal> になっています。
	    その後の版でもメジャー番号に合うように上げています。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">もし FreeBSD 1.x システムと FreeBSD 2.x
	    以降のシステムを区別する必要があれば、
	    上で述べた <literal xmlns:xlink="http://www.w3.org/1999/xlink">BSD</literal>
	    マクロを使用するのが大抵の場合において正しい答です。
	    もし FreeBSD 特有の変更であれば
	    (<command xmlns:xlink="http://www.w3.org/1999/xlink">ld</command> を使うときの共有ライブラリ用のオプションなど)、
	    <!-- kuriyama - strange translation -->
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">__FreeBSD__</literal>を使い
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">#if __FreeBSD__ &gt; 1</literal>
	    のようにFreeBSD 2.x および、
	    それ以降のシステムを検出するのはかまいません。
	    もし 2.0-RELEASE 以降の FreeBSD システムを細かく検出したければ、
	    以下を使用することができます。</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">#if __FreeBSD__ &gt;= 2
#include &lt;osreldate.h&gt;
#    if __FreeBSD_version &gt;= 199504
         /* 2.0.5+ release specific code here */
#    endif
#endif</programlisting>
	</listitem>
      </itemizedlist>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">これまで、何百もの port が作られてきましたが、
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">__FreeBSD__</literal>
	が正しく使われたのは一つか二つの場合だけでしょう。
	以前の port が間違ってふさわしくない場所で
	そのマクロを使っているからといって、
	それをまねする理由はありません。</para>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="freebsd-versions">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">__FreeBSD_version の値</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">以下は、<filename xmlns:xlink="http://www.w3.org/1999/xlink">sys/param.h</filename>
	で定義されている <literal xmlns:xlink="http://www.w3.org/1999/xlink">__FreeBSD_version</literal>
	の便利な一覧です。</para>

      <table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">__FreeBSD_version values</title>
	<tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	  <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Release</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">__FreeBSD_version</literal></entry>
	    </row>
	  </thead>

	  <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">2.0-RELEASE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">119411</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">2.1-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">199501, 199503</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">2.0.5-RELEASE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">199504</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">2.1 以前の 2.2-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">199508</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">2.1.0-RELEASE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">199511</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">2.1.5 以前の 2.2-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">199512</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">2.1.5-RELEASE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">199607</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">2.1.6 以前の 2.2-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">199608</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">2.1.6-RELEASE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">199612</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">2.1.7-RELEASE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">199612</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">2.2-RELEASE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">220000</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">2.2.1-RELEASE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">220000 (変更なし)</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">2.2.1-RELEASE 以降の 2.2-STABLE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">220000 (変更なし)</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">texinfo-3.9 以降の 2.2-STABLE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">221001</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">top 導入以降の 2.2-STABLE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">221002</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">2.2.2-RELEASE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">222000</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">2.2.2-RELEASE 以降の 2.2-STABLE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">222001</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">2.2.5-RELEASE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">225000</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">2.2.5-RELEASE 以降の 2.2-STABLE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">225001</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">ldconfig -R マージ以降の 2.2-STABLE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">225002</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">2.2.6-RELEASE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">226000</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">2.2.7-RELEASE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">227000</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">2.2.7-RELEASE 以降の 2.2-STABLE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">227001</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">semctl</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">2</manvolnum></citerefentry> 変更以降の 2.2-STABLE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">227002</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">2.2.8-RELEASE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">228000</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">2.2.8-RELEASE 以降の 2.2-STABLE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">228001</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">mount</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">2</manvolnum></citerefentry> 変更以前の 3.0-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">300000</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">mount</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">2</manvolnum></citerefentry> 変更以降の 3.0-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">300001</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">semctl</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">2</manvolnum></citerefentry> 変更以降の 3.0-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">300002</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">ioctl 引数変更以降の 3.0-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">300003</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">ELF 化以降の 3.0-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">300004</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">3.0-RELEASE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">300005</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">3.0-RELEASE 以降の 3.0-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">300006</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">3/4 の分岐以降の 3.0-STABLE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">300007</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">3.1-RELEASE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">310000</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">3.1-RELEASE 以降の 3.1-STABLE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">310001</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">C++ コンストラクタ/デストラクタ順序変更の後の
		3.1-STABLE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">310002</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">3.2-RELEASE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">320000</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">3.2-STABLE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">320001</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">バイナリ互換性のない IPFW とソケットの変更後の
		3.2-STABLE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">320002</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">3.3-RELEASE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">330000</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">3.3-STABLE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">330001</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">libc に <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">mkstemp</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">3</manvolnum></citerefentry> が追加された後の 3.3-STABLE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">330002</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">3.4-RELEASE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">340000</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">3.4-STABLE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">340001</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">3.5-RELEASE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">350000</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">3.5-STABLE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">350001</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">3.4 が分岐した後の 4.0-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">400000</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">dynamic linker の変更後の 4.0-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">400001</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">C++ コンストラクタ/デストラクタ順序変更の後の
		4.0-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">400002</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">dladdr</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">3</manvolnum></citerefentry> 機能追加後の 4.0-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">400003</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">__deregister_frame_info dynamic linker のバグ修正、
		EGCS 1.1.2 導入後の 4.0-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">400004</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">suser</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">9</manvolnum></citerefentry> の API 変更、newbus 化
		以降の 4.0-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">400005</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">cdevsw 登録方法の変更後の 4.0-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">400006</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">ソケットレベルの証明書 (credential) のために
		so_cred が追加された後の 4.0-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">400007</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">libc_r への poll syscall ラッパー追加後の
		4.0-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">400008</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">kernel の <literal xmlns:xlink="http://www.w3.org/1999/xlink">dev_t</literal> 型から
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">struct spacinfo</literal> ポインタへの
		変更後の 4.0-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">400009</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">jail</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">2</manvolnum></citerefentry> のセキュリティホール
		修正後の 4.0-CURRENT </entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">400010</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">sigset_t</literal> の
		データ型変更後の 4.0-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">400011</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">システムコンパイラを gcc 2.95.2 にアップグレードした
		後の 4.0-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">400012</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">動的組み込み可能な Linux モードの ioctl ハンドラが
		追加された後の 4.0-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">400013</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">OpenSSL 導入後の 4.0-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">400014</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">GCC 2.95.2 の C++ ABI 変更で、
		デフォルトを -fvtable-thunks から -fno-vtable-thunks に
		変更した後の 4.0-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">400015</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">OpenSSH 導入後の 4.0-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">400016</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.0-RELEASE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">400017</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.0-RELEASE 以降の 4.0-STABLE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">400018</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">チェックサム計算タイミングの変更後の 4.0-STABLE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">400019</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">libxpg4 が libc にマージされた後の
		4.0-STABLE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">400020</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Binutils を 2.10.0 にアップグレードし、
		ELF バイナリのマーク付け (branding) 方法を変更し、
		tcsh をベースシステムに導入した後の
		4.0-STABLE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">400021</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.1-RELEASE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">410000</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.1-RELEASE 以降の 4.1-STABLE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">410001</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">setproctitle</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">3</manvolnum></citerefentry> が libutil から libc に
		移動した後の 4.1-STABLE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">410002</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.1.1-RELEASE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">411000</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.1.1-RELEASE 以降の 4.1.1-STABLE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">411001</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.2-RELEASE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">420000</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">libgcc.a と libgcc_r.a の結合および、関連する
		GCC linkage 変更が行なわれた後の 4.2-STABLE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">420001</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.3-RELEASE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">430000</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">wint_t 導入後の 4.3-STABLE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">430001</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">PCI パワーステート API マージ後の 4.3-STABLE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">430002</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.4-RELEASE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">440000</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">d_thread_t 導入後の 4.4-STABLE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">440001</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">マウント構造変更 (ファイルシステム kld に影響あり)
		後の 4.4-STABLE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">440002</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">smbfs のユーザランド部が取り込まれた後の
		4.4-STABLE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">440003</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.5-RELEASE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">450000</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">usb の構成要素の名称が変更された後の 4.5-STABLE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">450001</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">rc.conf</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry> の
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">sendmail_enable</literal> 変数が
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">NONE</literal> という値をとれるようになった後の
		4.5-STABLE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">450004</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">package 作成のデフォルトを XFree86 4
		に移行した後の 4.5-STABLE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">450005</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">accept filter が修正され、
		簡単なサービス妨害攻撃には影響を受けなくなった後の
		4.5-STABLE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">450006</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.6-RELEASE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">460000</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">sendfile</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">2</manvolnum></citerefentry>
		をドキュメントに適合するよう修正して、
		送信されたいかなるヘッダも、
		ファイルから送信されたデータの総量に合計しないようにした
		4.6-STABLE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">460001</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.6.2-RELEASE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">460002</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.6-STABLE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">460100</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">`sed -i' を MFC した後の 4.6-STABLE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">460101</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">多くの新たな pkg_install の機能を HEAD から MFC
		した後の 4.6-STABLE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">460102</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.7-RELEASE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">470000</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.7-STABLE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">470100</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">__sF の代わりに __std{in,out,err}p 参照生成を開始。
		これは、std{in,out,err} をコンパイル時の定数から、
		ランタイムに変更します。</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">470101</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">m_aux mbuf を m_tag で置き換える mbuf
		の変更を MFC した後の 4.7-STABLE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">470102</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">OpenSSL 0.9.7 導入後の 4.7-STABLE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">470103</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.8-RELEASE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">480000</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.8-STABLE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">480100</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">realpath</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">3</manvolnum></citerefentry> がスレッドセーフになった後の
		4.8-STABLE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">480101</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.8-STABLE における twe の 3ware API の変更</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">480102</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.9-RELEASE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">490000</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.9-STABLE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">490100</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">構造体 kinfo_eproc に e_sid が追加された後の
		4.9-STABLE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">490101</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">rtld に libmap 機能を MFC した後の
		4.9-STABLE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">490102</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.10-RELEASE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">491000</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.0-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">500000</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">ELF ヘッダフィールドの追加と ELF バイナリのマーク付け
		(branding) 方法の変更後の 5.0-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">500001</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">kld メタデータ変更後の 5.0-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">500002</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">buf/bio 変更後の 5.0-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">500003</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">binutils アップグレード後の 5.0-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">500004</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">libxpg4 コードの libc へのマージと、
		TASKQ インターフェイスの導入後の 5.0-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">500005</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">AGP インターフェイス追加後の 5.0-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">500006</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Perl を 5.6.0 にアップグレードした後の
		5.0-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">500007</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">KAME コードを 2000/07 版のソースに更新した後の
		5.0-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">500008</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">ether_ifattach() および
		ether_ifdetach() 変更後の 5.0-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">500009</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">mtree のデフォルトをオリジナルの変種に戻し、
		シンボリックリンクをたどる -L オプションを追加した後の
		5.0-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">500010</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">kqueue API 変更後の 5.0-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">500011</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">setproctitle</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">3</manvolnum></citerefentry> が libutil から libc
		へ移動した後の 5.0-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">500012</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">最初の SMPng がコミットされた後の
		5.0-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">500013</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">&lt;sys/select.h&gt; が &lt;sys/selinfo.h&gt; に
		移動した後の 5.0-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">500014</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">libgcc.a と libgcc_r.a の結合および関連する
		GCC linkage 変更が行なわれた後の 5.0-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">500015</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">libc と libc_r の混合リンクを許し、
		-pthread オプションを deprecate する
		変更後の 5.0-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">500016</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">mountd 等が使用する kernel-exported API の
		安定化のため、ucred 構造体から xucred 構造体へ
		移行した後の 5.0-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">500017</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">CPU 依存の最適化を制御するための make 変数
		CPUTYPE が追加された後の 5.0-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">500018</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">&lt;machine/ioctl_fd.h&gt; が
		&lt;sys/fdcio.h&gt; に移動した後の 5.0-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">500019</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">ロケール名変更の後の 5.0-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">500020</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Bzip2 導入後の 5.0-CURRENT。
		また、S/Key が削除されていることも示す。</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">500021</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">SSE サポート後の 5.0-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">500022</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">KSE マイルストーン 2 以降の 5.0-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">500023</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">d_thread_t 導入、および UUCP を ports
		に移動した後の 5.0-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">500024</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">64 ビットプラットホーム上のデスクリプタおよび
		cred 受け渡し ABI 変更後の 5.0-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">500025</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">package 作成のデフォルトを XFree86 4
		に移行し、libc に新たに strnstr() 関数を追加した後の
		5.0-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">500026</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">libc に新たに strcasestr() 関数を追加した後の
		5.0-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">500027</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">smbfs のユーザランド部が取り込まれた後の
		5.0-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">500028</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">C99 の新しい特定サイズの整数型追加後の
		5.0-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">500028 (変更なし)</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">sendfile</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">2</manvolnum></citerefentry> の戻り値が変更された後の
		5.0-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">500029</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">ファイルフラグにふさわしいサイズの
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">fflags_t</literal> が導入された後の
		5.0-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">500030</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">usb の構成要素の名称が変更された後の 5.0-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">500031</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Perl 5.6.1 導入後の 5.0-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">500032</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">rc.conf</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry> の
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">sendmail_enable</literal> 変数が
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">NONE</literal> という値をとれるようになった後の
		5.0-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">500033</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">mtx_init() に 3 番目の引数が加わった後の
		5.0-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">500034</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">GCC 3.1 が取り込まれた 5.0-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">500035</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">/usr/src に Perl がなくなった 5.0-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">500036</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">dlfunc</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">3</manvolnum></citerefentry> 追加後の 5.0-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">500037</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">構造体 sockbuf
		のメンバの型が一部変更され、順序が変更された後の
		5.0-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">500038</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">ヘッダで _BSD_FOO_T_ の使用をやめ、
		_FOO_T_DECLARED を使うようになった後の 5.0-CURRENT。
		また、この変数は <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">bzip2</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>
		パッケージに対応したことが確実な目安としても使えます。</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">500039</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">ディスクラベルの内部構造の依存性を除く名目で行われた、
		ディスク関連の機能へのさまざまな変更を加えた後の
		5.0-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">500040</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">libc に <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">getopt_long</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">3</manvolnum></citerefentry> を加えた後の
		5.0-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">500041</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Binutils 2.13 にアップグレードした後の
		5.0-CURRENT。このアップグレードには、新たな FreeBSD
		の emulation, vec および出力形式が含まれている。
	      </entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">500042</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">libc に pthread_XXX への弱いスタブを追加し、
		libXThrStub.so が obsolete になった後の 5.0-CURRENT。
		5.0-RELEASE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">500043</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">RELENG_5_0 が分岐した後の 5.0-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">500100</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">&lt;sys/dkstat.h&gt; は空なので include
		すべきではない</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">500101</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">d_mmap_t インターフェイス変更後の
		5.0-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">500102</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">taskqueue_swi が Giant ロック無しで実行され、
		Giant ロックされて実行される taskqueue_swi_giant
		が追加された後の 5.0-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">500103</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">cdevsw_add() と cdevsw_remove()
		はもう存在しません。
		MAJOR_AUTO 割り当て機能が登場しました</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">500104</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">cdevsw の新たな初期化方法が導入された後の
		5.0-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">500105</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">devstat_add_entry() が devstat_new_entry()
		に置き換えられました</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">500106</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Devstat のインターフェイス変更。
		sys/sys/param.h 1.149 を参照のこと</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">500107</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">トークンリングインターフェイスの変更</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">500108</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">vm_paddr_t の追加</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">500109</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">realpath</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">3</manvolnum></citerefentry> がスレッドセーフになった後の
		5.0-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">500110</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">usbhid</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">3</manvolnum></citerefentry> が NetBSD と同期した後の
		5.0-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">500111</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">新たな NSS 実装と
		POSIX.1 準拠の getpw*_r, getgr*_r
		関数が導入後の 5.0-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">500112</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">古い rc システムを削除した後の 5.0-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">500113</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.1-RELEASE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">501000</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">RELENG_5_1 が分岐した後の 5.1-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">501100</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">sigtimedwait(2) と sigwaitinfo(2)
		の動作を修正した後の 5.1-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">501101</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">bus_dma_tag_create</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">9</manvolnum></citerefentry> に
		lockfunc と lockfuncarg フィールドを追加した後の
		5.1-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">501102</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">GCC 3.3.1-pre 20030711 snapshot
		導入後の 5.1-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">501103</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.1-CURRENT における twe の 3ware API の変更</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">501104</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">/bin と /sbin がダイナミックリンクされ、
		ライブラリを /lib に移動した 5.1-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">501105</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Coda 6.x のカーネルサポートを追加した後の
		5.1-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">501106</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">16550 UART 定数を
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">&lt;dev/sio/sioreg.h&gt;</filename> から
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">&lt;dev/ic/ns16550.h&gt;</filename>
		に移動した後の 5.1-CURRENT。
		また、rtld が 無条件で libmap 機能をサポートした時点。</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">501107</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">PFIL_HOOKS API を更新した後の 5.1-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">501108</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">kiconv(3) を追加した後の 5.1-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">501109</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">cdevsw の open および close
		のデフォルトの操作を変更した後の 5.1-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">501110</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">cdevsw のレイアウトを変更した後の 5.1-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">501111</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">kobj の多重継承を追加した後の 5.1-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">501112</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">構造体 ifnet の if_xname が変更された後の
		5.1-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">501113</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">/bin と /sbin をダイナミックリンクに変更した後の
		5.1-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">501114</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.2-RELEASE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">502000</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">5.2.1-RELEASE</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">502010</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">RELENG_5_2 が分岐した後の 5.2-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">502100</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">__cxa_atexit/__cxa_finalize 関数が libc
		に追加された後の 5.2-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">502101</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">デフォルトの pthread ライブラリを
		libc_r から libpthread に変更した後の
		5.2-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">502102</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">デバイスドライバ API の大規模パッチをあてた後の
		5.2-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">502103</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">getopt_long_only() が追加された後の
		5.2-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">502104</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">C に対して NULL が ((void *)0)
		になり、warning をより多く出すようになった
		5.2-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">502105</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">pf がビルドおよびインストールされるようになった後の
		5.2-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">502106</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">sparc64 で time_t を 64 ビットの値に変更した後の
		5.2-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">502107</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">一部のヘッダで Intel C/C++ に対応し、
		execve(2) をより厳密に POSIX に適合させた後の
		5.2-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">502108</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">bus_alloc_resource_any API 導入後の
		5.2-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">502109</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">UTF-8 ロケール追加後の 5.2-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">502110</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">getvfsent(3) API を削除した後の 5.2-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">502111</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">make に .warning 命令を追加した後の
		5.2-CURRENT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">502112</entry>
	    </row>
	  </tbody>
	</tgroup>
      </table>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">(2.2-STABLE は 2.2.5-RELESE 以後、
	  <quote xmlns:xlink="http://www.w3.org/1999/xlink">2.2.5-STABLE</quote> と呼ばれることがあります。)
	  見てのとおりこれは年・月というフォーマットになっていましたが、
	  バージョン 2.2 からより直接的にメジャー/マイナー番号を使うように変更になりました。
	  並行していくつかのブランチ (枝分かれしたバージョン)
	  を開発する場合には、
	  リリースされた日付でそれらのリリースを分類することが不可能だからです
	  (あなたが今 port
	  を作成するときに、古い -CURRENT 達について心配する必要はありません。
	  これは参考のために挙げられているに過ぎないからです)。</para>
      </note>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="dads-after-port-mk">
      <title xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.mk</filename> の後に書くこと</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">.include &lt;bsd.port.mk&gt;</literal>
	の行の後には何も書かないようにしてください。
	大抵の場合は
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> の中程のどこかで
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.pre.mk</filename> をインクルードして、
	最後に <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.pre.mk</filename>
	をインクルードすることによって避けることができます。</para>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.pre.mk</filename>/<filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.post.mk</filename>
	  のペアか <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.mk</filename>
	  だけのどちらかだけをインクルードし、二つを混ぜないでください。</para>
      </note>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">前者はいくつかの変数の定義だけをして
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>
	でのテストに使用し、後者は残りを定義します。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">以下は <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.pre.mk</filename>
	で定義される重要な変数です
	(これは、すべてではありません。
	完全なリストは <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.mk</filename> を参照してください)。
      </para>

      <informaltable xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	<tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	  <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">変数名</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">解説</entry>
	    </row>
	  </thead>

	  <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">ARCH</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">uname -m</command>
		で返されるアーキテクチャ。(例、<literal xmlns:xlink="http://www.w3.org/1999/xlink">i386</literal>)。
	      </entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">OPSYS</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">uname -s</command>
		で返されるオペレーティングシステム
		(例、<literal xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD</literal>)。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">OSREL</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">オペレーティングシステムのリリースバージョン
		(例、<literal xmlns:xlink="http://www.w3.org/1999/xlink">2.1.5</literal>,
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">2.2.7</literal>)。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">OSVERSION</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">数字形式のオペレーティングシステムのバージョン、
		上記の <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="freebsd-versions"><literal xmlns:xlink="http://www.w3.org/1999/xlink">__FreeBSD_version</literal></link>
		と同じです。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTOBJFORMAT</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">システムのオブジェクトフォーマット
		(<literal xmlns:xlink="http://www.w3.org/1999/xlink">elf</literal> あるいは <literal xmlns:xlink="http://www.w3.org/1999/xlink">aout</literal>
		ただし、<quote xmlns:xlink="http://www.w3.org/1999/xlink">最近の</quote> FreeBSD
		のバージョンでは <literal xmlns:xlink="http://www.w3.org/1999/xlink">aout</literal>
		は廃止予定になっています)。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">LOCALBASE</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><quote xmlns:xlink="http://www.w3.org/1999/xlink">local</quote> ツリーのベース。
		(例、<literal xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/</literal>)。
	      </entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">X11BASE</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><quote xmlns:xlink="http://www.w3.org/1999/xlink">X11</quote> ツリーのベース。
		(例、<literal xmlns:xlink="http://www.w3.org/1999/xlink">/usr/X11R6/</literal>)。
	      </entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX</varname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">ports のインストール先
		(<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="porting-prefix">
		  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX</varname>について</link>を参照)。
	      </entry>
	    </row>
	  </tbody>
	</tgroup>
      </informaltable>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_IMAKE</varname>,
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">USE_X_PREFIX</varname> あるいは
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTERDIR</varname>
	  などの変数を定義する必要がある場合には、
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.pre.mk</filename>
	  をインクルード前に定義してください。
	  他のものは <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.pre.mk</filename>
	  の前でも後でもかまいません。</para>
      </note>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">以下は <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.pre.mk</filename>
	の後に書けるものの例です。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink"># no need to compile lang/perl5 if perl5 is already in system
.if ${OSVERSION} &gt; 300003
BROKEN= perl is in system
.endif

# only one shlib version number for ELF
.if ${PORTOBJFORMAT} == "elf"
TCL_LIB_FILE=  ${TCL_LIB}.${SHLIB_MAJOR}
.else
TCL_LIB_FILE=  ${TCL_LIB}.${SHLIB_MAJOR}.${SHLIB_MINOR}
.endif

# software already makes link for ELF, but not for a.out
post-install:
.if ${PORTOBJFORMAT} == "aout"
       ${LN} -sf liblinpack.so.1.0 ${PREFIX}/lib/liblinpack.so
.endif</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">BROKEN=</literal> と
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">TCL_LIB_FILE=</literal>
	の後にスペースではなくタブを使うことを覚えていましたか?
	<!-- smiley -->:-)</para>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="dads-documentation">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">付加的な文書のインストール</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">普通のマニュアルや info
	ファイルの他にユーザにとって有用だと思えるような文書がある場合には、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink"> PREFIX/share/doc</filename>
	の下にインストールしてください。
	これは前記と同様 <buildtarget>post-install</buildtarget>
	ターゲットの中から行なうと良いでしょう。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">まず、あなたの port のために新しいディレクトリを作ります。
	どの port の文書か簡単にわかるような名前にする必要がありますので、
	普通は <varname xmlns:xlink="http://www.w3.org/1999/xlink">PORTNAME</varname> を使うと良いでしょう。
	もちろん、ユーザが異なるバージョンのものを同時に使うことが予想される
	port の場合には
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">PKGNAME</varname> をそのまま使っても構いません。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ユーザが <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/make.conf</filename>
	でこの部分を禁止するために
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">NOPORTDOCS</varname>
	という変数をセットしている場合には、
	これらの文書がインストールされないようにしてください。
	こんな具合です。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">post-install:
.if !defined(NOPORTDOCS)
        ${MKDIR} ${DOCSDIR}
        ${INSTALL_MAN} ${WRKSRC}/docs/xvdocs.ps ${DOCSDIR}
.endif</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">ここでは、変数をいくつかと、それを
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>
	  で利用した時にどう展開されるかを説明します。</para>

	<itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">${DATADIR}</literal> は
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">${PREFIX}/share/${PORTNAME}</filename>
	      に展開されます。</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">${DOCSDIR}</literal> は
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">${PREFIX}/share/doc/${PORTNAME}</filename>
	      に展開されます。</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">${EXAMPLESDIR}</literal> は
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">${PREFIX}/share/examples/${PORTNAME}</filename>
	      に展開されます。</para>
	  </listitem>
	</itemizedlist>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">文書ファイルおよびディレクトリはすべて
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename> の中に
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">%%PORTDOCS%%</literal> を頭につけて書く必要があります。
	  たとえば、次のようにしてください。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">%%PORTDOCS%%%%DOCSDIR%%/AUTHORS
%%PORTDOCS%%%%DOCSDIR%%/CONTACT
%%PORTDOCS%%@dirrm %%DOCSDIR%%</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">インストール時に <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-message</filename>
	ファイルを利用してメッセージを表示することができます。詳細は
	<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="porting-message">pkg-message を使う</link>
	のセクションを参照してください。</para>

      <!-- kuriyama - note below is not exist in Jap ver, but Eng ver has it. why? -->
      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-message</filename>
	  ファイルを <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename>
	  に加える必要はありません。</para>
      </note>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="dads-subdirs">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ディレクトリ構成</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">インストール時には <varname xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX</varname>
	の正しいサブディレクトリにファイルを置くように心がけてください。
	ソフトウェアによっては新しいディレクトリを一つ作って、
	ファイルを全部それに入れてしまうものがありますが、
	それは良くありません。
	また、バイナリ、ヘッダファイルとマニュアル以外のすべてを
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">lib</filename> というディレクトリに入れてしまう
	port もありますが、これも
	BSD 的なファイルシステム構成とはうまく合いません。
	これは以下のように分散すべきです。
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">etc</filename>
	にセットアップ/コンフィグレーションファイル、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">libexec</filename> に内部で使用されるプログラム
	(コマンドラインから呼ばれることのないコマンド)、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">sbin</filename> に管理者用のコマンド、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">info</filename> に GNU Info 用の文書、
	そして <filename xmlns:xlink="http://www.w3.org/1999/xlink">share</filename>
	にアーキテクチャに依存しないファイルが入ります。
	詳細については <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">hier</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">7</manvolnum></citerefentry> を参照してください。
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr</filename> の構成方針はほとんどそのまま
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local</filename> にもあてはまります。
	USENET <quote xmlns:xlink="http://www.w3.org/1999/xlink">ニュース</quote>を扱う ports は例外です。
	これらはファイルのインストール先として
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX/news</filename>
	を使用します。</para>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-cleaning">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">空のディレクトリの削除</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ports は削除の際に、
	自分自身を消去したあとに
	(ディレクトリの)
	削除をするようにしてください。
	これは大抵の場合 <literal xmlns:xlink="http://www.w3.org/1999/xlink">@dirrm</literal> の行を
	ports が作成するすべてのディレクトリについて加えることによって実現できます。
	親ディレクトリは子ディレクトリを先に消さないと消せないことに注意してください。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink"> :
lib/X11/oneko/pixmaps/cat.xpm
lib/X11/oneko/sounds/cat.au
 :
@dirrm lib/X11/oneko/pixmaps
@dirrm lib/X11/oneko/sounds
@dirrm lib/X11/oneko</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">といった感じです。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">しかし時として、
	他の port とディレクトリを共有しているために
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">@dirrm</literal> がエラーを返すことがあります。
	<command xmlns:xlink="http://www.w3.org/1999/xlink">rmdir</command> を
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">@unexec</literal>
	から呼びだすことによって、
	警告(warning)なしで空のディレクトリのみを削除することができます。
      </para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">@unexec rmdir %D/share/doc/gimp 2&gt;/dev/null || true</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">これを使えば、たとえ他の
	port がファイルをインストールしていて
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX/share/doc/gimp</filename>
	が空でない場合でもエラーメッセージは表示されませんし、
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pkg_delete</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>
	が異常終了することもありません。</para>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="dads-uid">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">UID</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">あなたの port が、
	インストールされるシステム上に特定のユーザを必要とする場合は
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-install</filename> スクリプトから
	<command xmlns:xlink="http://www.w3.org/1999/xlink">pw</command>
	コマンドを実行して自動的にそのユーザを追加するようにしてください。
	<package xmlns:xlink="http://www.w3.org/1999/xlink">net/cvsup-mirror</package>
	の port が参考になるでしょう。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">あなたの port がバイナリの
	package としてインストールされる場合とコンパイルされる場合の両方で、
	同じユーザー/グループ ID を使わなければならないのなら、50 から
	999 の間で空いている UID を選んで登録してください。
	<package xmlns:xlink="http://www.w3.org/1999/xlink">japanese/Wnn6</package> の port
	が参考になるでしょう。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">既にシステムや他の port で利用されている
 	UID を使わないように十分注意してください。</para>
 
       <para xmlns:xlink="http://www.w3.org/1999/xlink">現在の 50 から 999 までの間の UID は以下のとおりです。</para>

      <!-- Please keep this list sorted by uid -->
      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">bind:*:53:53:Bind Sandbox:/:/sbin/nologin
majordom:*:54:54:Majordomo Pseudo User:/usr/local/majordomo:/nonexistent
cyrus:*:60:60:the cyrus mail server:/nonexistent:/nonexistent
gnats:*:61:1:GNATS database owner:/usr/local/share/gnats/gnats-db:/bin/sh
proxy:*:62:62:Packet Filter pseudo-user:/nonexistent:/nonexistent
uucp:*:66:66:UUCP pseudo-user:/var/spool/uucppublic:/usr/libexec/uucp/uucico
xten:*:67:67:X-10 daemon:/usr/local/xten:/nonexistent
pop:*:68:6:Post Office Owner (popper):/nonexistent:/sbin/nologin
wnn:*:69:7:Wnn:/nonexistent:/nonexistent
pgsql:*:70:70:PostgreSQL pseudo-user:/usr/local/pgsql:/bin/sh
oracle:*:71:71::0:0:Oracle:/usr/local/oracle7:/sbin/nologin
ircd:*:72:72:IRC daemon:/nonexistent:/nonexistent
ircservices:*:73:73:IRC services:/nonexistent:/nonexistent
ifmail:*:75:66:Ifmail user:/nonexistent:/nonexistent
www:*:80:80:World Wide Web Owner:/nonexistent:/sbin/nologin
alias:*:81:81:QMail user:/var/qmail/alias:/nonexistent
qmaild:*:82:81:QMail user:/var/qmail:/nonexistent
qmaill:*:83:81:QMail user:/var/qmail:/nonexistent
qmailp:*:84:81:QMail user:/var/qmail:/nonexistent
qmailq:*:85:82:QMail user:/var/qmail:/nonexistent
qmailr:*:86:82:QMail user:/var/qmail:/nonexistent
qmails:*:87:82:QMail user:/var/qmail:/nonexistent
mysql:*:88:88:MySQL Daemon:/var/db/mysql:/sbin/nologin
vpopmail:*:89:89:VPop Mail User:/usr/local/vpopmail:/nonexistent
firebird:*:90:90:Firebird Database Administrator:/usr/local/firebird:/bin/sh
mailman:*:91:91:Mailman User:/usr/local/mailman:/sbin/nologin
gdm:*:92:92:GDM Sandbox:/:/sbin/nologin
jabber:*:93:93:Jabber Daemon:/nonexistent:/nonexistent
p4admin:*:94:94:Perforce admin:/usr/local/perforce:/sbin/nologin
interch:*:95:95:Interchange user:/usr/local/interchange:/sbin/nologin
squeuer:*:96:96:SQueuer Owner:/nonexistent:/bin/sh
mud:*:97:97:MUD Owner:/usr/local/share/dgd:/bin/sh
msql:*:98:98:mSQL-2 pseudo-user:/var/db/msqldb:/bin/sh
rscsi:*:99:99:Remote SCSI:/usr/local/rscsi:/usr/local/sbin/rscsi
squid:*:100:100:squid caching-proxy pseudo user:/usr/local/squid:/sbin/nologin
quagga:*:101:101:Quagga route daemon pseudo user:/usr/local/etc/quagga:/sbin/nologin
ganglia:*:102:102:Ganglia User:/nonexistent:/sbin/nologin
sgeadmin:*:103:103:Sun Grid Engine Admin:/nonexistent:/sbin/nologin
slimserv:*:104:104:Slim Devices SlimServer pseudo-user:/nonexistent:/sbin/nologin
fido:*:111:111:Fido System:/usr/local/fido:/bin/sh
postfix:*:125:125:Postfix Mail System:/var/spool/postfix:/sbin/nologin
rbldns:*:153:153:rbldnsd pseudo-user:/nonexistent:/sbin/nologin
sfs:*:171:171:Self-Certifying File System:/nonexistent:/sbin/nologin
agk:*:172:172:AquaGateKeeper:/nonexistent:/nonexistent
ldap:*:389:389:OpenLDAP Server:/nonexistent:/sbin/nologin
drweb:*:426:426:Dr.Web Mail Scanner:/nonexistent:/sbin/nologin
qtss:*:554:554:Darwin Streaming Server:/nonexistent:/sbin/nologin
ircdru:*:555:555:Russian hybrid IRC server:/nonexistent:/bin/sh
bacula:*:910:910:Bacula Daemon:/var/db/bacula:/sbin/nologin</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">以下は、現在予約されている GID の一覧です。</para>

	<!-- Please keep this list sorted by uid -->
	<!-- XXX incomplete! -->
	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">bind:*:53:
cyrus:*:60:
proxy:*:62:
authpf:*:63:
uucp:*:66:
dialer:*:68:
network:*:69:
pgsql:*:70:
www:*:80:
qnofiles:*:81:
qmail:*:82:
mailman:*:91:
postfix:*:125:
maildrop:*:126:
rbldns:*:153:
qtss:*:554:
ircdru:*:555:</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">このリストを最新の状態に保つためにも、
	この範囲の UID や GID を予約するような port を作ったり、
	既存の port にそのような改変を行なってわたしたちに送るときには
	UID の予約に関する注意書きをつけてください。</para>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="dads-rational">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">合理的な port</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>
	は単純かつ適切であるべきです。もし、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> を数行短かくできたり、
	もっと読みやすくできるのであればそうしてください。
	たとえば、
	シェルの <literal xmlns:xlink="http://www.w3.org/1999/xlink">if</literal> 構文を使うかわりに
	make の <literal xmlns:xlink="http://www.w3.org/1999/xlink">.if</literal> 構文を使う、
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">EXTRACT*</varname> の再定義で代用できるのであれば
	<buildtarget>do-extract</buildtarget> を再定義しない、
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">CONFIGURE_ARGS += --prefix=${PREFIX}</literal>
	とするかわりに
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">GNU_CONFIGURE</varname> とする、などです。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">何かをするのに自分で新しくコードをたくさん書かなければならなくなった場合は、
	戻って <filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.mk</filename>
	であなたがやろうとしていることが既に実装されていないか見直してください。
	読むのは大変ですが、難しく見える問題で
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.mk</filename>
	が簡単な解決法を提供しているものが数多くあります。</para>
    </sect1>

      <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="dads-cc">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">CC</varname> および <varname xmlns:xlink="http://www.w3.org/1999/xlink">CXX</varname>
	  の尊重</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Port は <varname xmlns:xlink="http://www.w3.org/1999/xlink">CC</varname> および <varname xmlns:xlink="http://www.w3.org/1999/xlink">CXX</varname>
	  変数を尊重すべきです。ここで言いたいのは、port
	  は、既存の値を上書きしてこれらの変数をまるごと設定しなおすべきではなく、
	  その代わり必要な値を既存の値に追加してゆくべきだということです。
	  そうすれば、すべての ports
	  に影響するビルドオプションをグローバルに設定できます。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Port がこれらの変数を尊重しない場合は、
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>
	  に <literal xmlns:xlink="http://www.w3.org/1999/xlink">NO_PACKAGE=ignores either cc or cxx</literal>
	  を追加してください。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">CC</varname> と <varname xmlns:xlink="http://www.w3.org/1999/xlink">CXX</varname>
	  変数を尊重している <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>
	  の例を次に示します。<varname xmlns:xlink="http://www.w3.org/1999/xlink">?=</varname> に注意してください。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">CC ?= gcc</programlisting>
	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">CXX ?= g++</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">こちらは、<varname xmlns:xlink="http://www.w3.org/1999/xlink">CC</varname> 変数も <varname xmlns:xlink="http://www.w3.org/1999/xlink">CXX</varname>
	  変数も尊重していない例です。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">CC = gcc</programlisting>
	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">CXX = g++</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD システム上では、<varname xmlns:xlink="http://www.w3.org/1999/xlink">CC</varname> および
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">CFLAGS</varname>
	  変数は、どちらも <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/make.conf</filename>
	  で定義できます。最初の例では、システム全体の定義を保存している
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/make.conf</filename>
	  で値がすでに設定されてない場合に限って、値を設定します。
	  2 番目の例では、すでに設定されていた内容を上書きしてしまいます。</para>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="dads-cflags">
      <title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">CFLAGS</varname> の尊重</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">CFLAGS</varname> 変数は尊重すべきです。
	ここでいいたいのは、port は、
	既存の値を上書きしてこの変数をまるごと設定しなおすべきではなく、
	その代わり必要な値を既存の値に追加してゆくべきだということです。
	そうすれば、すべてての ports
	に影響するビルドオプションをグローバルに設定できます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">port がこれを尊重しない場合は、
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">NO_PACKAGE=ignores cflags</literal> を
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> に加えてください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">CFLAGS</varname> 変数をきちんと考慮した
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> の例を以下に示します。
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">+=</varname> の部分に注目してください。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">CFLAGS += -Wall -Werror</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">次は <varname xmlns:xlink="http://www.w3.org/1999/xlink">CFLAGS</varname>
	変数を考慮しない <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> の例です。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">CFLAGS = -Wall -Werror</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">CFLAGS</varname> 変数は、FreeBSD システムの
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/make.conf</filename> で定義されています。
	最初の例では既存の定義を保存しつつ <varname xmlns:xlink="http://www.w3.org/1999/xlink">CFLAGS</varname>
	変数にオプションフラグを追加しているのに対し、
	二番目の例では既存の定義をすべて無効にしてしまっています。</para>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="dads-config">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">コンフィグレーション (設定) ファイル</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">もしあなたの port が設定ファイルを
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX/etc</filename>
	に置く必要がある場合には、それを単純にインストールしたり、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename>
	に加えては<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">いけません</emphasis>。
	こうしてしまうと <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pkg_delete</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>
	によってユーザが苦労して作ったファイルが消えてしまったり、
	新しくインストールする時に上書きされてしまったりします。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">かわりに見本となるファイルをサフィックス
	(<filename xmlns:xlink="http://www.w3.org/1999/xlink">filename.sample</filename>
	が良いでしょう)
	を付けてインストールして<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="porting-message">メッセージ</link>を表示し、
	ソフトウェアを動かす前にユーザがそのファイルをコピーして編集をしなければならないことを知らせましょう。
      </para>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="dads-freedback">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">フィードバック</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">port を作るためにソフトウェアに変更を加えたら、
	なるべく原作者にその旨を伝えてパッチ等を送ってください。
	これらが次のリリースに取り入れられればアップグレードが楽になります。</para>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="dads-readme">
      <title xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">README.html</filename></title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">README.html</filename>
	というファイルを含めてはいけません。
	このファイルは、cvs コレクションの一部ではなく、
	<command xmlns:xlink="http://www.w3.org/1999/xlink">make readme</command>
	コマンドで生成されるファイルです。</para>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="dads-broken">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Port に <varname xmlns:xlink="http://www.w3.org/1999/xlink">BROKEN</varname>, <varname xmlns:xlink="http://www.w3.org/1999/xlink">FORBIDDEN</varname>
	などの印をつける</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ある port にセキュリティ脆弱性があることが判明したり、
	根本的に壊れてしまい修正に何時間もの注意深い作業が必要になったり、
	基本的には廃れてしまったものの、
	何らかの理由で ports ツリーには残される
	(もちろんあとで修正しますよね?)
	という日が来るのは避けられません。
	ある port が壊れていることを示すために、port の
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> では 3 つの
	<command xmlns:xlink="http://www.w3.org/1999/xlink">make</command> 変数が使えます。以下の
	<command xmlns:xlink="http://www.w3.org/1999/xlink">make</command> 変数の値は、
	その port が壊れている理由を説明するためにユーザに示されます。
	それぞれの make 変数は、ユーザと <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>
	を処理する自動化システムに対して根本的に異なる意味を伝えますので、
	正しい <command xmlns:xlink="http://www.w3.org/1999/xlink">make</command> 変数をお使いください。</para>

	<itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">BROKEN</varname>
	      は、動作しないためインストールすべきでない port
	      用のものです。これは、ユーザがその port
	      をインストールしないようにしますが、
	      <varname xmlns:xlink="http://www.w3.org/1999/xlink">BROKEN</varname> とされた port
	      は <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://bento.FreeBSD.org/">Bento
	      クラスタ</link>で引き続きビルドされます。
	      ユーザには port をインストールしてほしくないけれども
	      Bento ではビルドしてほしい場合は、port
	      を <varname xmlns:xlink="http://www.w3.org/1999/xlink">BROKEN</varname> にしてください。</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">FORBIDDEN</varname>
	      は、セキュリティ脆弱性があったり、その port
	      をインストールすると
	      FreeBSD システムの安全性に重大な懸念を生じる
	      (たとえば、セキュアでないという評判があるプログラムや、
	      容易に悪用できるサービスを提供するプログラムなど)
	      port 用のものです。
	      あるソフトウェアの一部に脆弱性があることが判明し、
	      修正がリリースされていない場合は
	      <varname xmlns:xlink="http://www.w3.org/1999/xlink">FORBIDDEN</varname> にすべきです。
	      理想的には、セキュリティ脆弱性が発見された時は、
	      脆弱性を抱えた FreeBSD ホストの数を減らすために、
	      ただちに ports を更新すべきです
	      (我々は、セキュアであるという評判を得たいのです)。
	      しかし、脆弱性が公表されてから、
	      脆弱性を抱えたソフトウェアの新しい版がリリースされるまでに無視できない時間があくことがままあります。
	      セキュリティ以外の理由で port を
	      <varname xmlns:xlink="http://www.w3.org/1999/xlink">FORBIDDEN</varname> にしないでください。</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">IGNORE</varname>
	      は、どんな理由であれビルドすべきではない port 用です。
	      ユーザも <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://bento.FreeBSD.org/">Bento
	      クラスタ</link> も、どんな状況であれ
	      <varname xmlns:xlink="http://www.w3.org/1999/xlink">IGNORE</varname> とされた port はビルドしません。
	      嘘だと思うなら、port のビルドを妨げるのに
	      <varname xmlns:xlink="http://www.w3.org/1999/xlink">IGNORE</varname> を使ってみてください。</para>
	  </listitem>

	</itemizedlist>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">この変数を使うのは、port
	  が更新できない場合の最後の手段にしてください。
	  ずっと壊れたままの port は、ports
	  ツリーから完全に削除すべきです。</para>
      </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="dads-workarounds">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">必要な回避策</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">古いバージョンの FreeBSD
	のソフトウェアにあるバグを回避する必要があることがあります。</para>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">make</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> は、少なくとも 4.8 と 5.0
	    を含むいくつかのバージョンで、<varname xmlns:xlink="http://www.w3.org/1999/xlink">OSVERSION</varname>
	    に基づく比較に関してバグがあります。
	    これは、<command xmlns:xlink="http://www.w3.org/1999/xlink">make describe</command>
	    の最中にエラーを起こすことになりやすく
	    (したがって <command xmlns:xlink="http://www.w3.org/1999/xlink">make index</command> 全体も失敗することに)
	    なります。回避策は、条件比較を括弧にいれることで、たとえば
	    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">if ( ${OSVERSION} &gt; 500023 )</programlisting>
	    となります。4.9 と 5.2 で port のインストールテストを行っても、
	    この問題は<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">見つかりません</emphasis>。</para>
	</listitem>
      </itemizedlist>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="dads-misc">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">その他諸々</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ファイル <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-descr</filename> と
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename>
	はそれぞれ二重にチェックしてください。
	再検討してもっと良い記述があればそれに置きかえてください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">GNU General Public License
	(GNU一般公有使用許諾)
	のコピーは
	(すでにあるので)
	コピーしないでください。
	お願いします。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">法律に関することには十分注意をはらってください。
	わたしたちに法律に反するような形でソフトウェアの配布をさせないでください!</para>
    </sect1>

    <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="dads-stuck">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">困ったら…</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">わたしたちに質問を送る前に、
	既存の port の例と
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">bsd.port.mk</filename> をちゃんと読んでください!
	<!-- smiley --><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">;)</emphasis></para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">それでもわからないことがあったら一人で悩まないでどんどん質問してください!
	<!-- smiley --><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">:-)</emphasis></para>
    </sect1>
  </chapter>

  <chapter xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-samplem">
    <title xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> のサンプル</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">これは port の
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> を作る際のお手本です。
      かぎかっこ ([]) 内のコメントは忘れずに取ってください。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">変数の順番、段落の間の空行など、
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>
      を作るときはなるべくこの形式に従ってください。
      この形式は重要な情報が簡単に見つけられるように設計されています。
      <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="porting-portlint">portlint</link> を使って
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> をチェックすることが推奨されています。</para>

    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">[ヘッダ ... どのような port の Makefile かすぐにわかるようになっています]
# New ports collection makefile for:    xdvi
["version required" 行は、PORTVERSION 変数では port のバージョンを
十分に表現できない場合にのみ必要です。]
# Date created: 26 May 1995
[このソフトウェアを最初に FreeBSD に port した人の名前、つまり、
 この Makefile の最初の版を書いた人です。この port をアップグレー
 ドするとき、この行も変えないでください。]
# Whom:         Satoshi Asami &lt;asami@FreeBSD.org&gt;
#
# $FreeBSD$
[ ^^^^^^^^^ この部分は、CVS ツリーに入れる時に自動的に RCS の ID 文字列に
 置き換えられます。]
#

[port 自体、およびオリジナルのソースを取ってくるところを記述する部分。
 最初は必ず PORTNAME と PORTVERSION, そして必要なら PKGNAME,
 CATEGORIES, 続いて MASTER_SITES が置かれ、さらに MASTER_SITE_SUBDIR が
 置かれることもあります。必要なら PKGNAMEPREFIX と PKGNAMESUFFIX が
 それに続き、そして DISTNAME, EXTRACT_SUFX, DISTFILES が、
 また、その後に必要に応じて EXTRACT_ONLY が置かれます。]
PORTNAME=       xdvi
PORTVERSION=    18.2
CATEGORIES=     print
[MASTER_SITE_* マクロを使用しない場合は、
最後のスラッシュを忘れないように ("/")!]
MASTER_SITES= ${MASTER_SITE_XCONTRIB}
MASTER_SITE_SUBDIR= applications
DISTNAME=       xdvi-pl18
[ソースファイルが標準の ".tar.gz" 形式でない時にこれを使いましょう]
EXTRACT_SUFX=   .tar.Z

[配布パッチセクション -- ない場合もあります]
PATCH_SITES=    ftp://ftp.sra.co.jp/pub/X11/japanese/
PATCHFILES=     xdvi-18.patch1.gz xdvi-18.patch2.gz

[保守責任者 -- これは *必ず* 必要です。担当者 (あなた) 自身、あるいは
 担当者に素早く連絡をとれる人のアドレスを書いてください。どうしてもこ
 こに自分のアドレスを書くのがいやな人は "ports@FreeBSD.org" と書いて
 もいいです]
MAINTAINER=     asami@FreeBSD.org
COMMENT=       A DVI Previewer for the X Window System

[依存するport -- ない場合もあります]
RUN_DEPENDS=    gs:${PORTSDIR}/print/ghostscript
LIB_DEPENDS=    Xpm.5:${PORTSDIR}/graphics/xpm

[ここには標準の bsd.port.mk の変数で、上のどれにもあてはまらないものを
 書きます]
[コンフィグレーション、コンパイル、インストールなどの時に質問をする
 なら…]
IS_INTERACTIVE=yes
[${DISTNAME} 以外のディレクトリにソースが展開されるなら…]
WRKSRC= ${WRKDIR}/xdvi-new
[配布されているパッチが ${WRKSRC} に対する相対パスで作られてい
 い場合にこの変数の指定が必要かも…]
PATCH_DIST_STRIP=       -p1
[GNU autoconf によって生成された "configure" スクリプトを走らせたいなら…]
GNU_CONFIGURE=  yes
[/usr/bin/makeでなく、GNU make を使わないといけないなら…]
USE_GMAKE=      yes
[これが X のアプリケーションで、"xmkmf -a" を走らせたいなら…]
USE_IMAKE=      yes
[などなど]

[下の方のルールで使う非標準の変数]
MY_FAVORITE_RESPONSE=   "yeah, right"

[そして、特別なターゲット、使用順に]
pre-fetch:
        i go fetch something, yeah

post-patch:
        i need to do something after patch, great

pre-install:
        and then some more stuff before installing, wow

[最後には必ず]
.include &lt;bsd.port.mk&gt;</programlisting>
  </chapter>

  <chapter xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="porting-autoplist">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">パッキングリストの自動生成</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">まず、あなたの port に
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename>
      がないことを除けば完成していることを確認してください。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">次に、あなたの port
      をインストールする一時ディレクトリを作成して、
      依存するものをすべてインストールしてください。
      <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">port-type</replaceable> は
      X アプリケーションではない port については <literal xmlns:xlink="http://www.w3.org/1999/xlink">local</literal>、
      XFree86 4 またはそれより前の XFree86
      のディレクトリ階層にインストールする ports については、それぞれ
      <literal xmlns:xlink="http://www.w3.org/1999/xlink">x11-4</literal> または <literal xmlns:xlink="http://www.w3.org/1999/xlink">x11</literal>
      にすべきです。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mkdir /var/tmp/port-name</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mtree -U -f /etc/mtree/BSD.port-type.dist -d -e -p /var/tmp/port-name</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make depends PREFIX=/var/tmp/port-name</userinput></screen>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">このディレクトリ構造を新しいファイルに保存してください。</para>

    <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">(cd /var/tmp/port-name &amp;&amp; find -d * -type d) | sort &gt; OLD-DIRS</userinput></screen>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">空の <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename>
      ファイルを作成してください。</para>

    <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">touch pkg-plist</userinput></screen>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">もしあなたの port が <varname xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX</varname> にちゃんと従うなら、
      ここで port をインストールしてパッキングリストを作ることができます。</para>

    <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make install PREFIX=/var/tmp</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">(cd /var/tmp/port-name &amp;&amp; find -d * \! -type d) | sort &gt; pkg-plist</userinput></screen>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">新しく生成されたディレクトリはすべてパッキングリストに追加する必要があります。</para>

    <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">(cd /var/tmp/port-name &amp;&amp; find -d * -type d) | sort | comm -13 OLD-DIRS - | sort -r | sed -e 's#^#@dirrm #' &gt;&gt; pkg-plist</userinput></screen>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">最後にパッキングリストを手で整える必要があります;
      <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">すべて</emphasis>が自動化されているわけではありません。
      マニュアルはパッキングリストに記述するのではなく、
      port の <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> 中の
      <varname xmlns:xlink="http://www.w3.org/1999/xlink">MAN<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">n</replaceable></varname> に
      記述しなければなりません。
      ユーザ設定ファイルは削除するか
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">filename.sample</filename>
      としてインストールされなければなりません。
      また <filename xmlns:xlink="http://www.w3.org/1999/xlink">info/dir</filename>
      ファイルはリストに含めず、
      <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="porting-info">info ファイル</link>に記述されているように、
      適切な <filename xmlns:xlink="http://www.w3.org/1999/xlink">install-info</filename> 行に追加しなければなりません。
      port によってインストールされるライブラリは、
      <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="porting-shlibs">共有ライブラリ</link>
      のセクションで示したように記載されるべきです。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">または、<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/ports/Tools/scripts/</filename>
      にある <command xmlns:xlink="http://www.w3.org/1999/xlink">plist</command>
      スクリプトを使ってパッキングリストを自動的に生成してください。</para>
  </chapter>

  <chapter xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="changes">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">この文書と ports システムの変更</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">もしあなたが、たくさんの ports の保守をしているのであれば、
      <link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-ports">FreeBSD ports メーリングリスト</link> の内容を読むことを考えてください。
      ports のしくみについての重要な変更点はここに アナウンスされます。
      最新の変更点については、いつでも、
      <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.FreeBSD.org/cgi/cvsweb.cgi/ports/Mk/bsd.port.mk">bsd.port.mk
      の CVS ログ</link>で詳細な情報を得ることができます。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">port メンテナを補助するほかのリソースとして、
      <literal xmlns:xlink="http://www.w3.org/1999/xlink">bento クラスタ</literal>に置かれている
      <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://bento.FreeBSD.org/">
      パッケージビルド記録とエラー</link>一覧、また <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://people.FreeBSD.org/~fenner/portsurvey/">FreeBSD
      Ports distfiles 調査</link>があります。</para>
  </chapter>
</book>
