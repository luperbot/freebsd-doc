<?xml version="1.0" encoding="euc-jp" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=euc-jp" /><title>第5章 ユーザアプリケーション</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD 2.X、3.X、4.X についての FAQ (よくある質問とその答え)" /><link rel="up" href="index.html" title="FreeBSD 2.X、3.X、4.X についての FAQ (よくある質問とその答え)" /><link rel="prev" href="commercial.html" title="第4章 商用アプリケーション" /><link rel="next" href="kernelconfig.html" title="第6章 カーネルコンフィグレーション" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">第5章 ユーザアプリケーション</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="commercial.html">戻る</a>〓</td><th width="60%" align="center">〓</th><td width="20%" align="right">〓<a accesskey="n" href="kernelconfig.html">次へ</a></td></tr></table><hr /></div><div class="chapter"><div xmlns="" class="titlepage"><div><div><h1 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="applications"></a>第5章 ユーザアプリケーション</h1></div></div></div><p>
      <span class="emphasis"><em>訳:
        山下 淳 <code class="email">&lt;<a xmlns="" class="email" href="mailto:junkun@esys.tsukuba.ac.jp">junkun@esys.tsukuba.ac.jp</a>&gt;</code>、
        広瀬 昌一 <code class="email">&lt;<a xmlns="" class="email" href="mailto:shou@kt.rim.or.jp">shou@kt.rim.or.jp</a>&gt;</code>、
        1997 年 11 月 8 日</em></span>
    </p><div class="qandaset"><a id="idp80823760"></a><dl><dt>5.1. <a href="applications.html#idp80824016">そういうユーザアプリケーションはどこにあるの?</a></dt><dt>5.2. <a href="applications.html#idp80844496">なぜ /bin/sh はこんなに低機能なのですか?
            どうして bash や他のシェルを採用しないのでしょう?</a></dt><dt>5.3. <a href="applications.html#idp80856144">libc.so.3.0 はどこにありますか?</a></dt><dt>5.4. <a href="applications.html#idp80858192">Error: can't find libc.so.4.0
            というメッセージが表示されるのですが。</a></dt><dt>5.5. <a href="applications.html#idp80872912">386/486SX のマシンで ghostscript を動かすとエラーがでます。</a></dt><dt>5.6. <a href="applications.html#idp80876496">SCO/iBCS2 のアプリケーションを実行すると、
            socksys で落ちてしまいます。
            (FreeBSD 3.0 とそれ以前のみ)</a></dt><dt>5.7. <a href="applications.html#idp80888144">INN (インターネットニュース) の設定方法は?</a></dt><dt>5.8. <a href="applications.html#idp80890832">どのバージョンの Microsoft FrontPage を手に入れる必要がありますか?</a></dt><dt>5.9. <a href="applications.html#idp80893008">FreeBSD は Java をサポートしていますか?</a></dt><dt>5.10. <a href="applications.html#idp80896080">3.x-STABLE を載せているマシンで port
            がコンパイルできないことがあります。それはどうしてですか?
          </a></dt><dt>5.11. <a href="applications.html#idp80899408">ld.so はどこにありますか?</a></dt><dt>5.12. <a href="applications.html#idp80907984">ソースコードを更新しました。さて、インストール済みの
             ports を更新するにはどうすればよいでしょうか?</a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%" /><col /></colgroup><tbody><tr class="question"><td align="left" valign="top"><a id="idp80824016"></a><a id="user-apps"></a><p><strong>5.1.</strong></p></td><td align="left" valign="top"><p>そういうユーザアプリケーションはどこにあるの?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>FreeBSDに移植されたソフトウェアパッケージについては、
            <a class="link" href="http://www.FreeBSD.org/ports/" target="_top">FreeBSD Ports Collection
              のページ</a>をご覧ください。
            このリストには現在 3400 を越える項目があり、
            しかも毎日更新されています。このページをこまめに訪れるか、
            <code class="literal">freebsd-announce</code><a class="link" href="preface.html#mailing" title="11.">
              メーリングリスト</a>を購読すると、
            新しく入った ports を定期的にチェックすることができます。
          </p><p>
            大部分の ports は 2.2 と 3.x および 4.x ブランチで利用できるはずです。
            多くは 2.1.x 系のシステムでも同様に動作するでしょう。
            FreeBSD のリリースが出る度に、そのリリースの時点での ports ツリーの
            スナップショットが撮られ、<code class="filename">ports/</code> ディレクトリに
            納められることになっています。
          </p><p>
            また、<span class="quote">「<span class="quote">package</span>」</span>
            という考えも採用されています。これは基本的には
            gzip で圧縮されたバイナリディストリビューションに、
            インストール時に環境に合わせた作業が必要になった場合、
            行う機能を多少付け加えたものです。
            package を使えば、どのようなファイルが配布物として含まれているか、
            と言った細かい事柄にいちいち煩わされることなく、
            簡単にインストールやアンインストールを繰り返すことができます。
          </p><p>
            インストールしたい package があるなら、
            <code class="filename">/stand/sysinstall</code>の、
            「インストール後の FreeBSD の設定を行う」の下にある
            package のインストールメニューを使うか、
            package のファイル名を指定して
            <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pkg_add&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">pkg_add</span>(1)</span></a> を使用してください。
            package のファイル名には、
            通常末尾に <code class="filename">.tgz</code> がついています。
            CDROM をご使用の方は、CD の
            <code class="filename">packages/All</code>
            ディレクトリからそれらのファイルを利用することができます。
            また、以下の場所から、
            FreeBSD の各種バージョンにあわせた package をダウンロードする
            こともできます。
          </p><div class="variablelist"><dl class="variablelist"><dt><span class="term">2.2.8-RELEASE/2.2.8-STABLE 用</span></dt><dd><p><a class="link" href="ftp://ftp.FreeBSD.org/pub/FreeBSD/ports/i386/packages-2.2.8/" target="_top">ftp://ftp.FreeBSD.org/pub/FreeBSD/ports/i386/packages-2.2.8/</a></p></dd><dt><span class="term">3.X-RELEASE/3.X-STABLE 用</span></dt><dd><p><a class="link" href="ftp://ftp.FreeBSD.org/pub/FreeBSD/ports/i386/packages-3-stable/" target="_top">ftp://ftp.FreeBSD.org/pub/FreeBSD/ports/i386/packages-3-stable/</a></p></dd><dt><span class="term"> 4.X-RELEASE/4-STABLE 用</span></dt><dd><p><a class="link" href="ftp://ftp.FreeBSD.org/pub/FreeBSD/ports/i386/packages-4-stable/" target="_top">ftp://ftp.FreeBSD.org/pub/FreeBSD/ports/i386/packages-4-stable/</a></p></dd><dt><span class="term">5.X-CURRENT 用</span></dt><dd><p><a class="link" href="ftp://ftp.FreeBSD.org/pub/FreeBSD/ports/i386/packages-5-current/" target="_top">ftp://ftp.FreeBSD.org/pub/FreeBSD/ports/i386/packages-5-current</a></p></dd></dl></div><p>お近くのミラーサイトもご利用ください。</p><p>
            新しい ports が続々と追加されている状態なので、すべての ports に
            対応する package が存在するわけではないことを覚えておいてください。
            定期的に <a class="link" href="ftp://ftp.FreeBSD.org/pub/FreeBSD/" target="_top">ftp.FreeBSD.org</a>
            マスターサイトを訪れて、どのような
            package が利用できるのかチェックするのも良いでしょう。
          </p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp80844496"></a><a id="minimal-sh"></a><p><strong>5.2.</strong></p></td><td align="left" valign="top"><p>なぜ <code class="command">/bin/sh</code> はこんなに低機能なのですか?
            どうして <code class="command">bash</code> や他のシェルを採用しないのでしょう?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>それは、POSIX がそのようなシェルがあることを規定しているからです。</p><p>
            もっと込み入った回答:
            多くのユーザは、多くのシステムで同じように動作できるシェルスクリプトを書く必要があります。
            これが、POSIX でシェルやユーティリティコマンドが細く規定されている理由です。
            ほとんどすべてのスクリプトは Bourne shell で書かれているのですが、
            それは、数多くの重要なプログラミングインタフェイス (<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=make&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">make</span>(1)</span></a>、
            <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=system&amp;sektion=3"><span class="citerefentry"><span class="refentrytitle">system</span>(3)</span></a>、<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=popen&amp;sektion=3"><span class="citerefentry"><span class="refentrytitle">popen</span>(3)</span></a>、や Perl や Tcl 等の類似の
            高水準スクリプト言語) が、コマンドの解釈に Bourne shell を使うからです。
            このように Bourne shell が極めて頻繁にかつ広範囲で使われているため、
            素早く起動できて確実に動作し、メモリを少ししか消費しないということが
            重要になります。</p><p>
            既存の実装は、
            私たちに可能な限りこれらの多くの要求を同時に満足することができる最良のものです。
            <code class="command">/bin/sh</code> を小さいままに保つため、
            私たちは他のシェルが持つ様々な便利な機能を提供していません。
            Ports コレクションが bash や scsh、tcsh、zsh などの
            多機能なシェルを含んでいるからです (これらのシェルすべての
            メモリ使用状況は、<code class="command">ps -u</code> の <span class="quote">「<span class="quote">VSZ</span>」</span> や
            <span class="quote">「<span class="quote">RSS</span>」</span> の行で、あなた自身が確認することができます)。</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp80856144"></a><a id="missing-libcso30"></a><p><strong>5.3.</strong></p></td><td align="left" valign="top"><p>libc.so.3.0 はどこにありますか?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
            FreeBSD 2.1.x のシステムで 2.2 以降用の
            package を動かそうとしていますね?
            前のセクションを読んで、システムに合った正しい
            port/package を入手してください。
          </p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp80858192"></a><a id="missing-libcso40"></a><p><strong>5.4.</strong></p></td><td align="left" valign="top"><p><code class="literal">Error: can't find libc.so.4.0</code>
            というメッセージが表示されるのですが。</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>何かの手違いで、4.X と 5.X のシステム用 package をダウンロードし、
            FreeBSD 2.X、もしくは 3.X のシステムにインストールしてしまったのでしょう。
            対応する正しいバージョンの package をダウンロードしてください。
          </p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp80872912"></a><a id="emul"></a><p><strong>5.5.</strong></p></td><td align="left" valign="top"><p>386/486SX のマシンで ghostscript を動かすとエラーがでます。</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
            あなたのマシンには数値演算プロセッサが搭載されていませんね?
            カーネルにコプロセッサの代わりとなる数値演算エミュレータを追加する必要があります。
            以下のオプションをカーネルのコンフィグレーションファイルに追加して、
            カーネルを再構築してください。
          </p><pre class="programlisting">options GPL_MATH_EMULATE</pre><div xmlns="" class="note"><h3 class="admontitle">注記: </h3><p xmlns="http://www.w3.org/1999/xhtml">このオプションを追加する場合、
                <code class="literal">MATH_EMULATE</code>
                の行を削除してください。
              </p></div></td></tr><tr class="question"><td align="left" valign="top"><a id="idp80876496"></a><a id="sco-socksys"></a><p><strong>5.6.</strong></p></td><td align="left" valign="top"><p>SCO/iBCS2 のアプリケーションを実行すると、
            <code class="literal">socksys</code> で落ちてしまいます。
            (FreeBSD 3.0 とそれ以前のみ)</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
            まず最初に
            <code class="filename">/etc/sysconfig</code> (または
            <code class="filename">/etc/rc.conf</code>, <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=rc.conf&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">rc.conf</span>(5)</span></a> 参照)
            の最後のセクションを編集し、
            以下の変数を <code class="literal">YES</code> に直します。
          </p><pre class="programlisting"># Set to YES if you want ibcs2 (SCO) emulation loaded at startup
ibcs2=NO</pre><p>
            これでシステムの起動時に
            ibcs2
            カーネルモジュールが読み込まるようになります。
          </p><p>
            次に /compat/ibcs2/dev/
            を以下のように編集します。
          </p><pre class="screen">lrwxr-xr-x  1 root  wheel         9 Oct 15 22:20 X0R@ -&gt; /dev/null
lrwxr-xr-x  1 root  wheel         7 Oct 15 22:20 nfsd@ -&gt; socksys
-rw-rw-r--  1 root  wheel         0 Oct 28 12:02 null
lrwxr-xr-x  1 root  wheel         9 Oct 15 22:20 socksys@ -&gt; /dev/null
crw-rw-rw-  1 root  wheel   41,   1 Oct 15 22:14 spx</pre><p>
            open や close の処理は、
            socksys から
            <code class="filename">/dev/null</code> (<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=null&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">null</span>(4)</span></a> 参照)
            へシンボリックリンクを張ることで代用します。
            残りの処理は、-CURRENT に入っているコードが担当しています。
            これは以前のものより ずっとスッキリした方法です。
          </p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp80888144"></a><a id="configure-inn"></a><p><strong>5.7.</strong></p></td><td align="left" valign="top"><p>INN (インターネットニュース) の設定方法は?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>inn の package や port をインストールしたあとに
            <a class="link" href="http://www.cis.ohio-state.edu/~barr/INN.html" target="_top">Dave Barr's
              INN Page</a> を見てみましょう。初心者向けの INN FAQ があります。
          </p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp80890832"></a><a id="ms-frontpage"></a><p><strong>5.8.</strong></p></td><td align="left" valign="top"><p>どのバージョンの Microsoft FrontPage を手に入れる必要がありますか?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
            ルーク、ports を使うのだ!
            パッチ処理済みの Apache が ports ツリーから入手できます。
          </p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp80893008"></a><a id="java"></a><p><strong>5.9.</strong></p></td><td align="left" valign="top"><p>FreeBSD は Java をサポートしていますか?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>はい。
            <a class="link" href="http://www.FreeBSD.org/java/" target="_top">http://www.FreeBSD.org/java/</a>
            をご覧ください。
            <a class="link" href="../java/" target="_top">日本語訳</a>
            もあります。
          </p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp80896080"></a><a id="ports-3x"></a><p><strong>5.10.</strong></p></td><td align="left" valign="top"><p>3.x-STABLE を載せているマシンで port
            がコンパイルできないことがあります。それはどうしてですか?
          </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
            もし、その時点の -CURRENT か -STABLE
            に比べてずっと古いバージョンの FreeBSD を利用しているなら、
            <a class="link" href="http://www.FreeBSD.org/ports/" target="_top">http://www.FreeBSD.org/ports/</a>
            にある ports アップグレードキットが必要です。
            最新の FreeBSD を利用しているのに発生する場合はおそらく、
            -CURRENT では正常なのに -STABLE ではうまく動かなくなるような変更がその
            port に対して行なわれ、受理されてしまっているのでしょう。
            ports コレクションは -CURRENT と -STABLE、
            両方のブランチで動かなければならないものですので、
            もしそれを発見したら <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=send-pr&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">send-pr</span>(1)</span></a>
            コマンドを使ってバグレポートの提出をお願いします。
          </p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp80899408"></a><a id="find-ldso"></a><p><strong>5.11.</strong></p></td><td align="left" valign="top"><p>ld.so はどこにありますか?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>3.1-R 以降などの Elf 化されたマシンで Netscape Navigator などの
            aout 形式のアプリケーションを動かすときには、
            <code class="filename">/usr/libexec/ld.so</code> と
            aout ライブラリのファイルが必要です。
            それらは配布物の <code class="literal">compat22</code> に納められています。
            <code class="filename">/stand/sysinstall</code> や
            <code class="filename">compat22</code> サブディレクトリ内の
            <code class="filename">install.sh</code> を使って
            <code class="literal">compat22</code>
            をインストールしてください。
            合わせて 3.1-R と 3.2-R の ERRATA もお読みください。
          </p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp80907984"></a><a id="ports-update"></a><p><strong>5.12.</strong></p></td><td align="left" valign="top"><p>ソースコードを更新しました。さて、インストール済みの
             ports を更新するにはどうすればよいでしょうか?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>残念ながら、インストール済みの ports を更新する簡単な
            方法はありません。<code class="command">pkg_version</code> コマンドを
            用いて ports ツリー中の新しいバージョンに更新する
            スクリプトを次のように生成することができます。</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>pkg_version -c &gt; /tmp/myscript</code></strong></pre><p>出力されたスクリプトを使う前に、手で
            編集<span class="emphasis"><em>しなければなりません</em></span>。現在のバージョンの
            <code class="command">pkg_version</code> では、スクリプトの先頭に
            <code class="command">exit</code> を挿入して強制しています。</p><p>スクリプトの出力には、更新された packages に依存する
            packages が記載されているので、保存しておきましょう。これらも
            やはり更新する必要があるかもしれません。通常、更新が
            必要となるのは、共有ライブラリのバージョンが変化し、
            そのライブラリを利用している ports が新しいライブラリを用いるために
            再構築する必要がある場合です。</p><p>システムが常時稼動しているならば、
            <code class="filename">/etc/periodic.conf</code> に
            <code class="literal">weekly_status_pkg_enable="YES"</code> を
            設定して、<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=periodic&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">periodic</span>(8)</span></a> システムによって毎週更新が必要な ports
            の一覧を生成できます。</p></td></tr></tbody></table></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="commercial.html">戻る</a>〓</td><td width="20%" align="center">〓</td><td width="40%" align="right">〓<a accesskey="n" href="kernelconfig.html">次へ</a></td></tr><tr><td width="40%" align="left" valign="top">第4章 商用アプリケーション〓</td><td width="20%" align="center"><a accesskey="h" href="index.html">ホーム</a></td><td width="40%" align="right" valign="top">〓第6章 カーネルコンフィグレーション</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>本文書、および他の文書は
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>
    からダウンロードできます。</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>FreeBSD に関する質問がある場合には、
    <a href="http://www.FreeBSD.org/ja/docs.html">ドキュメント</a> を読んだ上で
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt; まで (英語で) 連絡してください。<br></br>
    本文書に関する質問については、
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt; まで電子メールを (英語で) 送ってください。</small></p></body></html>