<?xml version="1.0" encoding="euc-jp" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=euc-jp" /><title>4.2. 仮想コンソールと端末</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD ハンドブック" /><link rel="up" href="basics.html" title="第4章 UNIX の基礎知識" /><link rel="prev" href="basics.html" title="第4章 UNIX の基礎知識" /><link rel="next" href="permissions.html" title="4.3. 許可属性" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">4.2. 仮想コンソールと端末</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="basics.html">戻る</a>〓</td><th width="60%" align="center">第4章 UNIX の基礎知識</th><td width="20%" align="right">〓<a accesskey="n" href="permissions.html">次へ</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="consoles"></a>4.2. 仮想コンソールと端末</h2></div></div></div><a id="idp82297680" class="indexterm"></a><a id="idp82298192" class="indexterm"></a><p>FreeBSD は様々な使い方ができます。その中の一つが、
      テキスト端末でコマンドを入力することです。この方法で FreeBSD を使えば、
      <span class="trademark">UNIX</span>® オペレーティングシステムの能力と柔軟性を手にすることができます。
      この節では、<span class="quote">「<span class="quote">コンソール</span>」</span> と
      <span class="quote">「<span class="quote">端末</span>」</span> はどのようなもので、FreeBSD でどう使うかを
      説明します。</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="consoles-intro"></a>4.2.1. コンソール</h3></div></div></div><a id="idp82301136" class="indexterm"></a><p>起動時に自動的にグラフィカルな環境が起動するように FreeBSD
	を設定していなければ、システムが起動してスタートアップ
	スクリプトが実行されると、すぐにログインプロンプトが出てくるでしょう。
	次のようものが表示されるはずです。</p><pre class="screen">Additional ABI support:.
Local package initialization:.
Additional TCP options:.

Fri Sep 20 13:01:06 EEST 2002

FreeBSD/i386 (pc3.example.org) (ttyv0)

login:</pre><p>あなたのシステムではメッセージが多少異なるかもしれませんが、
	似たようなものが見られるはずです。
	最後の 2 行が、今関心を向けているものです。
	最後から 2 行目は、以下のようになっています。</p><pre class="programlisting">FreeBSD/i386 (pc3.example.org) (ttyv0)</pre><p>この行には、
	起動したばかりのシステムについていくばくかの情報があります。
	あなたは、x86 アーキテクチャ上の Intel または
	その互換プロセッサ上で動作している <span class="quote">「<span class="quote">FreeBSD</span>」</span> の
	コンソールを目にしているのです<a href="#ftn.idp82308048" class="footnote" id="idp82308048"><sup class="footnote">[1]</sup></a>。このマシンの名称 (どの <span class="trademark">UNIX</span>® 機にも名前がついて
	  います) は <code class="systemitem">pc3.example.org</code> で、
	  あなたはそのシステムコンソール、<code class="filename">ttyv0</code>
	  端末に向かっています。</p><p>最後の行は、常に以下のものになります。</p><pre class="programlisting">login:</pre><p>ここは、FreeBSD にログインするために <span class="quote">「<span class="quote">ユーザ名</span>」</span>
	を入力するところです。次の節でどうするか説明します。</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="consoles-login"></a>4.2.2. FreeBSD にログインする</h3></div></div></div><p>FreeBSD は、マルチユーザ、マルチプロセスなシステムです。
	これは、1 台のマシンで何人もの人が交互に多くのプログラムを
	動かせるシステムに与えられる正式な説明です。</p><p>あらゆるマルチユーザシステムには、ある <span class="quote">「<span class="quote">ユーザ</span>」</span>
	を他のユーザと区別する何がしかの手段が必要です。
	FreeBSD (とすべての <span class="trademark">UNIX</span>® like なオペレーティングシステム) では、
	すべてのユーザに対してプログラムの実行を可能にするのに、システムに
	<span class="quote">「<span class="quote">ログイン</span>」</span> することを義務付けてこれを実現しています。
	どのユーザにも、一意な名前 (<span class="quote">「<span class="quote">ユーザ名</span>」</span>)
	と個人的な秘密の鍵 (<span class="quote">「<span class="quote">パスワード</span>」</span>) があります。
	FreeBSD はユーザにプログラムの実行を許可する前に、
	この 2 つの入力を要求します。</p><a id="idp82320848" class="indexterm"></a><p>FreeBSD が起動してスタートアップスクリプトを実行し終わった
	直後に<a href="#ftn.idp82321616" class="footnote" id="idp82321616"><sup class="footnote">[2]</sup></a>、プロンプトを表示して有効なユーザ名の入力を促します。</p><pre class="screen">login:</pre><p>この例では <code class="systemitem">john</code> というユーザ名を使う
	ことにしましょう。このプロンプトに対して
	<code class="literal">john</code> と入力して、<span class="keycap"><strong>Enter</strong></span> を
	押してください。そうすると、
	次のような<span class="quote">「<span class="quote">パスワード</span>」</span>の入力を要求するプロンプトが
	表示されます。</p><pre class="screen">login: <strong class="userinput"><code>john</code></strong>
Password:</pre><p>それでは <code class="systemitem">john</code> のパスワードを入力して
	<span class="keycap"><strong>Enter</strong></span> を押してください。パスワードは
	<span class="emphasis"><em>表示されません</em></span>。これについては、当面は
	気にする必要はありません。セキュリティのためといえば十分でしょう。</p><p>パスワードを正確に入力したら、FreeBSD にログインして
	利用可能なすべてのコマンドを試せるようになっているはずです。</p><p><acronym class="acronym">MOTD</acronym>、もしくはコマンドプロンプト
	(<code class="literal">#</code>, <code class="literal">$</code>
	または <code class="literal">%</code>)
	に表示されるメッセージを読むようにしましょう。
        これは FreeBSD へのログインに成功したときに表示されます。</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="consoles-virtual"></a>4.2.3. 多数のコンソール</h3></div></div></div><p>一つのコンソールで <span class="trademark">UNIX</span>® コマンドを動かすのは結構なことですが、
	FreeBSD は多くのプログラムを一度に動かせます。
	コマンドを入力できるコンソールが一つというのは、
	FreeBSD のようにいくつものプログラムを同時に動かせる
	オペレーティングシステムの場合は少しもったいないことです。
	ここで、<span class="quote">「<span class="quote">仮想コンソール</span>」</span> が非常に役に立ちます。</p><p>FreeBSD は、異なる仮想コンソールを複数
	表示するように設定できます。キーボード上である組合せのキーを押せば、
	その中の一つから他の仮想コンソールのどれかに切り替えられます。
	それぞれのコンソールは、個別の出力チャンネルを持っており、
	また FreeBSD はある仮想コンソールから次に切り替えるのに応じて、
	キーボード入力とモニター出力を適切につなぎ直します。</p><p>FreeBSD は、コンソールを切り替えるために、
	特別なキーの組合せを予約しています<a href="#ftn.idp82336592" class="footnote" id="idp82336592"><sup class="footnote">[3]</sup></a>。FreeBSD では
	<span class="keycap"><strong>Alt</strong></span>+<span class="keycap"><strong>F1</strong></span>,
	<span class="keycap"><strong>Alt</strong></span>+<span class="keycap"><strong>F2</strong></span> から
	<span class="keycap"><strong>Alt</strong></span>+<span class="keycap"><strong>F8</strong></span> までを、
	別の仮想コンソールに切り替えるのに使えます。</p><p>あるコンソールから他に切り替えるのに応じて、FreeBSD は画面
	への出力を保存して戻します。結果として、FreeBSD で動かすコマン
	ドを入力するのに使える複数の画面とキーボードを
	<span class="quote">「<span class="quote">仮想的に</span>」</span> 実現できるのです。
	ある仮想コンソールで実行したプログラムは、
	そのコンソールが見えなくなっている時も実行を停止しません。
	別の仮想コンソールに切り替えても動き続けます。</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="consoles-ttys"></a>4.2.4. <code class="filename">/etc/ttys</code> ファイル</h3></div></div></div><p>初期設定では、FreeBSD は 8 つの仮想コンソールを立ち上げます。
	この設定はもともと埋め込まれているわけではなく、
	インストールしたものが、もっと多いまたは少ない数の仮想コンソールで
	起動するように、容易にカスタマイズできます。仮想コンソールの数と
	設定は <code class="filename">/etc/ttys</code> ファイルに書かれています。</p><p>FreeBSD の仮想コンソールを設定するには
	<code class="filename">/etc/ttys</code> ファイルを利用します。
	このファイルのコメントアウトされていない (<code class="literal">#</code>
	文字で始まっていない) 行は、一つの端末または仮想コンソールの
	設定があります。FreeBSD の初期設定では、
	仮想コンソールを 9 つ設定し、そのうち 8 つを有効にしています。
	<code class="literal">ttyv</code> で始まる行がそれです。</p><pre class="programlisting"># name  getty                           type    status          comments
#
ttyv0   "/usr/libexec/getty Pc"         cons25  on  secure
# Virtual terminals
ttyv1   "/usr/libexec/getty Pc"         cons25  on  secure
ttyv2   "/usr/libexec/getty Pc"         cons25  on  secure
ttyv3   "/usr/libexec/getty Pc"         cons25  on  secure
ttyv4   "/usr/libexec/getty Pc"         cons25  on  secure
ttyv5   "/usr/libexec/getty Pc"         cons25  on  secure
ttyv6   "/usr/libexec/getty Pc"         cons25  on  secure
ttyv7   "/usr/libexec/getty Pc"         cons25  on  secure
ttyv8   "/usr/X11R6/bin/xdm -nodaemon"  xterm   off secure</pre><p>このファイルのそれぞれのカラムと仮想コンソールに設定可能な
	全オプションの詳しい説明は、<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ttys&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">ttys</span>(5)</span></a> のマニュアルを
	参照してください。</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="consoles-singleuser"></a>4.2.5. シングルユーザモードのコンソール</h3></div></div></div><p><span class="quote">「<span class="quote">シングルユーザモード</span>」</span> とは何かという詳しい説明は、
	<a class="xref" href="boot-init.html#boot-singleuser" title="13.6.2. シングルユーザモード">「シングルユーザモード」</a> にあります。FreeBSD を
	シングルユーザモードで動かしている場合は一つしかコンソールが
	ないということは注意しておくに値するでしょう。仮想コンソールは
	利用できません。シングルユーザモードのコンソールの設定は、同じく
	<code class="filename">/etc/ttys</code> ファイルにあります。
	<code class="literal">console</code> で始まる行を探してください。</p><pre class="programlisting"># name  getty                           type    status          comments
#
# If console is marked "insecure", then init will ask for the root password
# when going to single-user mode.
console none                            unknown off secure</pre><div xmlns="" class="note"><h3 class="admontitle">注記: </h3><p xmlns="http://www.w3.org/1999/xhtml"><code class="literal">console</code> 行の上のコメントが示すように、
	  この行を編集して <code class="literal">secure</code> を
	  <code class="literal">insecure</code> に変更できます。そうすると、
	  FreeBSD がシングルユーザモードで起動した場合にも
	  <code class="systemitem">root</code> のパスワードを要求します。</p><p xmlns="http://www.w3.org/1999/xhtml"><span class="emphasis"><em>これを <code class="literal">insecure</code> に
	  変更する場合は十分注意してください。</em></span>
	  <code class="systemitem">root</code> のパスワードを忘れてしまったら、
	  シングルユーザモードで起動するのは少しややこしくなります。
	  できることはできますが、FreeBSD の起動の過程とそれに関わる
	  プログラムにあまり親しんでいない人には少し難しいかも知れません。</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="consoles-vidcontrol"></a>4.2.6. コンソールのビデオモードの変更</h3></div></div></div><p>FreeBSD のデフォルトのビデオモードは 1024x768 や 1280x1024 など、
	グラフィックカードとディスプレイが対応しているサイズに調整されます。
	別のビデオモードを使うには、以下の 2
	つのオプションを有効にしてカーネルを再コンパイルする必要があります。</p><pre class="programlisting">options VESA
options SC_PIXEL_MODE</pre><p>1 度このオプションを有効にしてカーネルを再コンパイルしたら、
	あなたのハードウェアがどのビデオモードに対応しているか、
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=vidcontrol&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">vidcontrol</span>(1)</span></a> を用いて知ることができます。
	以下を実行すると、どのビデオモードに対応しているかを知ることができます。</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>vidcontrol -i mode</code></strong></pre><p>このコマンドの出力結果があなたのハードウェアが対応しているビデオモードです。
	その後 <code class="systemitem">root</code>
	ユーザで <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=vidcontrol&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">vidcontrol</span>(1)</span></a> を実行することで、
        新しくどのビデオモードを使うかを選択できます。</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>vidcontrol MODE_279</code></strong></pre><p>このビデオモードで良いと思ったら、起動時に自動的に設定されるように
        <code class="filename">/etc/rc.conf</code> ファイルに以下のように設定してください。</p><pre class="programlisting">allscreens_flags="MODE_279"</pre></div><div class="footnotes"><br /><hr class="footnote-hr" /><div id="ftn.idp82308048" class="footnote"><p><a href="#idp82308048" class="para"><sup class="para">[1] </sup></a><code class="literal">i386</code> が意味しているのはそういうことです。
	    FreeBSD を Intel の 386 CPU 上で動かしていなくても、
	    ここは <code class="literal">i386</code> になります。
	    ここで表示されるのはプロセッサの種類ではなく、プロセッサの
	    <span class="quote">「<span class="quote">アーキテクチャ</span>」</span>です。</p></div><div id="ftn.idp82321616" class="footnote"><p><a href="#idp82321616" class="para"><sup class="para">[2] </sup></a>スタートアップスクリプトは、
	    起動時に FreeBSD が自動的に実行するプログラムです。
	    主な機能は、全プログラムが動作するように設定を行なうことと、
	    バックグラウンドで動作するように設定した
	    有用なサービスを開始することです。</p></div><div id="ftn.idp82336592" class="footnote"><p><a href="#idp82336592" class="para"><sup class="para">[3] </sup></a>FreeBSD のコンソールとキーボードドライバの詳細全体に
	    ついて、それなりに技術的かつ正確な説明は <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=syscons&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">syscons</span>(4)</span></a>,
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=atkbd&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">atkbd</span>(4)</span></a>, <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=vidcontrol&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">vidcontrol</span>(1)</span></a> および
	    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=kbdcontrol&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">kbdcontrol</span>(1)</span></a> のマニュアルにあります。
	    ここではその詳細には立ち入りませんが、
	    興味をもった方は、いつでもマニュアルを参照して、
	    動作に関する詳細な説明を読むことができます。</p></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="basics.html">戻る</a>〓</td><td width="20%" align="center"><a accesskey="u" href="basics.html">上に戻る</a></td><td width="40%" align="right">〓<a accesskey="n" href="permissions.html">次へ</a></td></tr><tr><td width="40%" align="left" valign="top">第4章 UNIX の基礎知識〓</td><td width="20%" align="center"><a accesskey="h" href="index.html">ホーム</a></td><td width="40%" align="right" valign="top">〓4.3. 許可属性</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>本文書、および他の文書は
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>
    からダウンロードできます。</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>FreeBSD に関する質問がある場合には、
    <a href="http://www.FreeBSD.org/ja/docs.html">ドキュメント</a> を読んだ上で
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt; まで (英語で) 連絡してください。<br></br>
    本文書に関する質問については、
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt; まで電子メールを (英語で) 送ってください。</small></p></body></html>