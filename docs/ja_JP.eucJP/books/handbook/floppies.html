<?xml version="1.0" encoding="euc-jp" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=euc-jp" /><title>16.6. フロッピーディスクの作成と使用</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD ハンドブック" /><link rel="up" href="disks.html" title="第16章 ストレージ" /><link rel="prev" href="creating-cds.html" title="16.5. 光メディア (CD &amp; DVD) の作成と使用" /><link rel="next" href="backups-tapebackups.html" title="16.7. データテープの作成と使用" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">16.6. フロッピーディスクの作成と使用</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="creating-cds.html">戻る</a>〓</td><th width="60%" align="center">第16章 ストレージ</th><td width="20%" align="right">〓<a accesskey="n" href="backups-tapebackups.html">次へ</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="floppies"></a>16.6. フロッピーディスクの作成と使用</h2></div><div><span class="authorgroup">原作: <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="surname">Merino</span> <span class="firstname">Julio</span> [FAMILY Given]</span>. </span></div><div><span class="authorgroup">改訂: <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="surname">Karlsson</span> <span class="firstname">Martin</span> [FAMILY Given]</span>. </span></div></div></div><p>フロッピーディスクにデータを格納することはしばしば役にたちます。
      たとえば、ある人が他のリムーバブル記録メディアを何も持っていないときや、
      小さなデータを他のコンピュータに移動させる必要があるときです。</p><p>この節では、FreeBSD におけるフロッピーディスクの使用方法を説明します。
      主に 3.5 インチの DOS フロッピーのフォーマットと操作方法を扱いますが、
      他のフロッピーディスクの形式についても概念は似ています。</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp91290960"></a>16.6.1. フロッピーのフォーマット</h3></div></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp91291600"></a>16.6.1.1. デバイス</h4></div></div></div><p>他のデバイスと同様に、フロッピーディスクは
	  <code class="filename">/dev</code> にあるエントリを通じてアクセスされます。4.X
	  およびそれ以前のリリースにおいて raw
	  フロッピーディスクにアクセスするには
	  <code class="filename">/dev/fdN</code>
	  または <code class="filename">/dev/fdNX</code>
	  を使用します。<em class="replaceable"><code>N</code></em> はドライブ番号を表し、
	  大抵は 0 です。<em class="replaceable"><code>X</code></em> は文字を表します。</p><p>5.0 およびそれ以降のリリースでは、単に
	  <code class="filename">/dev/fdN</code> を使用します。</p><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp91295568"></a>16.6.1.1.1. 4.X およびそれ以前のリリースでのディスクサイズ</h5></div></div></div><p><code class="filename">/dev/fdN.size</code> というデバイスもあります。
	    <em class="replaceable"><code>size</code></em>
	    はフロッピーディスクのサイズをキロバイトで示したものです。
	    これらのエントリは低レベルフォーマットの際に、
	    ディスクサイズを決定するのに使用されます。
	    1440kB は以下の例で使用されるサイズです。</p><p>時々 <code class="filename">/dev</code> 下のエントリは (再)
	    作成されなければなりません。次のコマンドでこれを行います。</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cd /dev &amp;&amp; ./MAKEDEV "fd*"</code></strong></pre></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp91299152"></a>16.6.1.1.2. 5.X およびそれ以降のリリースでのディスクサイズ</h5></div></div></div><p>FreeBSD 5.0 では <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=devfs&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">devfs</span>(5)</span></a> が
	    <code class="filename">/dev</code> 内のエントリを自動的に管理するので、
	    <code class="command">MAKEDEV</code>を使用する必要はありません。</p><p>所望のディスクサイズは <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=fdformat&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">fdformat</span>(1)</span></a> に <code class="option">-f</code>
	    フラグを通して渡されます。対応しているサイズは <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=fdcontrol&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">fdcontrol</span>(8)</span></a>
	    のマニュアルページに掲載されていますが、最良に動作するのは
	    1440kB だと助言しておきます。</p></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp91304656"></a>16.6.1.2. フォーマット</h4></div></div></div><p>フロッピーディスクは、
	  使用前に低レベルフォーマットをする必要があります。
	  通常、ベンダは低レベルフォーマット済みのディスクを出荷していますが、
	  フォーマットはメディアの品質を確認するよい方法です。
	  より大きな (または小さな) ディスクサイズにすることも可能ですが、
	  ほとんどのフロッピーディスクのサイズは 1440kB で動作するように設計されています。</p><p>フロッピーディスクを低レベルフォーマットするには
	  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=fdformat&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">fdformat</span>(1)</span></a> を使用する必要があります。
	  このユーティリティは引数としてデバイス名を指定します。</p><p>ディスクが良好かあるいは不良であるかを決定するのに役立つので、
	  エラーメッセージをすべてメモに取っておいてください。</p><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp91307216"></a>16.6.1.2.1. 4.X 以前のリリースでのフォーマット</h5></div></div></div><p><code class="filename">/dev/fdN.size</code> デバイスを使ってフロッピーをフォーマットします。
	    新しい 3.5 インチフロッピーディスクをドライブに挿入し、
	    以下のコマンドを実行してください。</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>/usr/sbin/fdformat /dev/fd0.1440</code></strong></pre></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp91309520"></a>16.6.1.2.2. 5.0 以降のリリースでのフォーマット</h5></div></div></div><p><code class="filename">/dev/fdN</code>
	    デバイスを使用してフロッピーをフォーマットします。
	    新しい 3.5 インチフロッピーディスクをドライブに挿入し、
	    以下のコマンドを実行してください。</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>/usr/sbin/fdformat -f 1440 /dev/fd0</code></strong></pre></div></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp91312080"></a>16.6.2. ディスクラベル</h3></div></div></div><p>ディスクを低レベルフォーマットしたら、
	次にディスクラベルを作成する必要があります。
	ディスクラベルは後で破棄されますが、
	システムがディスクのサイズとジオメトリを決定するのに必要になります。</p><p>新しいディスクラベルはディスク全体を引き継ぎ、
	フロッピーのジオメトリに関する適切な情報のすべてが含まれます。
	ディスクラベルに対するジオメトリの値は
	<code class="filename">/etc/disktab</code> に掲載されています。</p><p>次のように <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=disklabel&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">disklabel</span>(8)</span></a> を実行できます。</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>/sbin/disklabel -B -r -w /dev/fd0 fd1440</code></strong></pre><div xmlns="" class="note"><h3 class="admontitle">注記: </h3><p xmlns="http://www.w3.org/1999/xhtml">FreeBSD 5.1-RELEASE から、従来の <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=disklabel&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">disklabel</span>(8)</span></a>
	  プログラムは <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=bsdlabel&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">bsdlabel</span>(8)</span></a>
	  ユーティリティに置き換えられました。<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=bsdlabel&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">bsdlabel</span>(8)</span></a> では、
	  使用されていないオプションおよびパラメタの数多くが削除されました。
	  たとえば <code class="option">-r</code> オプションは <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=bsdlabel&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">bsdlabel</span>(8)</span></a>
	  では取り除かれました。詳細については <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=bsdlabel&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">bsdlabel</span>(8)</span></a>
	  マニュアルページを参照してください。</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp91329616"></a>16.6.3. ファイルシステム</h3></div></div></div><p>これでフロッピーを高レベルフォーマットする準備ができました。これは
	FreeBSD がディスクを読み書きする新しいファイルシステムを作成します。
	新しいファイルシステムを作成するとディスクラベルは破棄されます。
	したがって、ディスクを再フォーマットするときには、
	ディスクラベルを再作成しなくてはなりません。</p><p>フロッピーのファイルシステムには UFS または FAT を使用できます。
	フロッピーに対しては FAT が一般的によりよい選択です。</p><p>フロッピー上に新しいファイルシステムを作成するには次のようにします。</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>/sbin/newfs_msdos /dev/fd0</code></strong></pre><p>これでディスクが使用できるようになりました。</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp91332816"></a>16.6.4. フロッピーの使用</h3></div></div></div><p>フロッピーを使用するために、<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mount_msdos&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mount_msdos</span>(8)</span></a>
	(4.X 以前のリリース) または <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mount_msdosfs&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mount_msdosfs</span>(8)</span></a>
	(5.0 以後のリリース) を用いてマウントします。
	Ports Collection から
	<a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/emulators/mtools/pkg-descr">emulators/mtools</a>
	を使用することもできます。</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="creating-cds.html">戻る</a>〓</td><td width="20%" align="center"><a accesskey="u" href="disks.html">上に戻る</a></td><td width="40%" align="right">〓<a accesskey="n" href="backups-tapebackups.html">次へ</a></td></tr><tr><td width="40%" align="left" valign="top">16.5. 光メディア (CD &amp; DVD) の作成と使用〓</td><td width="20%" align="center"><a accesskey="h" href="index.html">ホーム</a></td><td width="40%" align="right" valign="top">〓16.7. データテープの作成と使用</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>本文書、および他の文書は
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>
    からダウンロードできます。</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>FreeBSD に関する質問がある場合には、
    <a href="http://www.FreeBSD.org/ja/docs.html">ドキュメント</a> を読んだ上で
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt; まで (英語で) 連絡してください。<br></br>
    本文書に関する質問については、
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt; まで電子メールを (英語で) 送ってください。</small></p></body></html>